<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèáüèΩ üë©üèª‚Äçüåæ üíØ D√©velopper un hexapode √† partir de z√©ro (partie 3) - cin√©matique üêü ü§æ üë©üèª‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! Le d√©veloppement de l'hexapode avance et enfin la partie math√©matique de base a √©t√© test√©e et pr√™te pour la documentation. Pour que le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©velopper un hexapode √† partir de z√©ro (partie 3) - cin√©matique</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436748/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ft/93/m5/ft93m5szh_bfaxkmnxialxpkoiu.png"></div><br>  Bonjour √† tous!  Le d√©veloppement de l'hexapode avance et enfin la partie math√©matique de base a √©t√© test√©e et pr√™te pour la documentation.  Pour que le projet survive jusqu'au bout et ne ramasse pas de poussi√®re sur l'√©tag√®re, vous devez voir ses changements positifs, m√™me s'ils sont insignifiants.  Dans cet article, je vais parler d'un algorithme pour r√©soudre le probl√®me de la cin√©matique inverse et le d√©montrer en action.  J'esp√®re que ce sera int√©ressant. <br><br>  <b>Stades de d√©veloppement:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1 - Conception</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2 - Assemblage</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Partie 3 - Cin√©matique</b></a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 4 - Trajectoires et s√©quences math√©matiques</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 5 - √âlectronique</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 6 - transition vers l'impression 3D</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 7 - Nouveaux logements, logiciels d'application et protocoles de communication</a> <br><a name="habracut"></a><br><h2>  Syst√®mes de coordonn√©es </h2><br>  Pour commencer, il est n√©cessaire de d√©terminer les syst√®mes de coordonn√©es du robot - il y en a jusqu'√† trois: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ep/kk/om/epkkomc-ghrprmw3z1bjpclmh1a.png"></div><br>  En fait, ils ne sont pas diff√©rents les uns des autres, mais sont situ√©s √† diff√©rents endroits du bo√Ætier et peuvent √™tre tourn√©s les uns par rapport aux autres selon un certain angle.  Vu de dessus, l'emplacement des axes sera le suivant (le param√®tre coxa_zero_rotate sera d√©crit un peu plus loin): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sb/12/jw/sb12jwy030ga17pcg3ojmmgd72i.png"></div><br>  Comme vous l'avez probablement d√©j√† remarqu√©, les syst√®mes de coordonn√©es sur les c√¥t√©s gauche et droit sont situ√©s sym√©triquement par rapport au centre du corps.  Il me semblait que ce serait plus facile. <br><br>  Les coordonn√©es de chaque point sont d√©finies par rapport au membre auquel ce point est destin√©.  Cette approche vous permet de d√©placer sans douleur le membre n'importe o√π sans interf√©rer avec la configuration. <br><br>  Et donc ils sont situ√©s par rapport au membre: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ns/go/_j/nsgo_jsxf44m21vb7zzsu23vwqc.png"></div><br>  Les coordonn√©es du point cible sont relatives au MAIN COORDINATE SYSTEM.  Au d√©part, je voulais d√©finir les coordonn√©es par rapport au centre du bo√Ætier, mais cela s'est av√©r√© peu pratique et a n√©cessit√© le stockage d'un certain nombre de param√®tres suppl√©mentaires. <br><br>  Ci-apr√®s, la notation X *, X **, etc.  sera remplac√© par X ‚Ä≤, X ‚Ä≤ ‚Ä≤. <br><br><h2>  R√©solution du probl√®me de cin√©matique inverse </h2><br>  Commen√ßons par le moment le plus difficile et le plus int√©ressant pour moi - la cin√©matique.  J'ai invent√© l'algorithme moi-m√™me, jetant parfois un coup d'≈ìil aux propri√©t√©s d'un triangle et aux fonctions trigonom√©triques.  Avec la m√©canique, c'est difficile pour moi, et avec la trigonom√©trie c'est encore pire, donc peut-√™tre quelque part je ne pourrais pas tenir compte de quelque chose, mais cet algorithme fonctionne (vid√©o √† la fin). <br><br><h3>  1. √ânonc√© du probl√®me </h3><br>  Supposons que nous ayons besoin du membre avant droit pour atteindre le point A avec les coordonn√©es (150; -20; 100).  On sait √©galement que le membre est tourn√© de 45 degr√©s par rapport au corps (param√®tre coxa_zero_rotate): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rx/np/x7/rxnpx7to91tpdvzoltoy7doxess.png"></div><br>  Le membre lui-m√™me a les param√®tres suivants: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/4w/ky/zr4wkywizwhqwemrdst1yndvyug.png"></div><br>  Je pense que vous n'avez pas besoin de d√©crire ce que signifient ces param√®tres, les noms parlent d'eux-m√™mes.  Vous pouvez seulement ajouter que tous ces param√®tres sont d√©termin√©s par la configuration du bo√Ætier, sont permanents et stock√©s dans la m√©moire FLASH avec la possibilit√© d'√©diter de l'ext√©rieur (pour plus de flexibilit√©). <br><br><div class="spoiler">  <b class="spoiler_title">Voil√† pourquoi vous en avez besoin</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/xv/gq/lg/xvgqlgpgv0rtosh2gujqn6kflsy.png"><br>  La photo montre diff√©rentes variations de la coque et l'emplacement des jambes de l'hexapode.  Maintenant, il correspond √† la configuration ARACNID.  Supposons qu'il m'est venu √† l'esprit de changer le cas en REPTILES, et pour cela, il sera assez simple de changer les valeurs des param√®tres sans mesure dans le programme lui-m√™me, m√™me les points cibles n'auront pas √† √™tre modifi√©s (√† moins bien s√ªr de l'approcher correctement). <br></div></div><br>  Tous les param√®tres ci-dessus sont suffisants pour r√©soudre le probl√®me. <br><br><h2>  2. La solution au probl√®me </h2><br>  <b>2.1 Trouver l'angle de rotation de COXA</b> <br><br>  Cette √©tape est la plus simple.  Vous devez d'abord recalculer les coordonn√©es du point A par rapport au LIMB COORDINATE SYSTEM.  De toute √©vidence, vous devez faire pivoter l'angle coxa_zero_rotate, vous pouvez le faire en utilisant les formules suivantes: <br><p><math> </math> $$ afficher $$ x ‚Ä≤ = x ‚ãÖ cos (Œ±) + z ‚ãÖ sin (Œ±) = 150 ‚ãÖ cos (45) + 100 ‚ãÖ sin (45) = 176,78 $$ afficher $$ </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-45"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">y</span><span class="MJXp-mrow" id="MJXp-Span-47"><span class="MJXp-mo" id="MJXp-Span-48" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-49" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">y</span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-53">20</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.288ex" height="2.419ex" viewBox="0 -780.1 5721.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="497" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="1053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-79" x="2110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="2885" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2212" x="3941" y="0"></use><g transform="translate(4720,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-30" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> y ‚Ä≤ = y = -20 </script></p><br><p><math> </math> $$ afficher $$ z ‚Ä≤ = -x ‚ãÖ sin (Œ±) + z ‚ãÖ cos (Œ±) = -150 ‚ãÖ sin (45) + 100 ‚ãÖ cos (45) = -35,36 $$ afficher $$ </p><br>  Ainsi, nous avons obtenu les coordonn√©es du point cible A (176,78; -20; -35,36) par rapport au LIMB COORDINATE SYSTEM. <br><br>  Vous pouvez maintenant trouver l'angle COXA en utilisant la fonction atan2: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">X</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">A</span><span class="MJXp-mo" id="MJXp-Span-106" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">n</span><span class="MJXp-mn" id="MJXp-Span-111">2</span><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">z</span><span class="MJXp-mrow" id="MJXp-Span-114"><span class="MJXp-mo" id="MJXp-Span-115" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-116" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">x</span><span class="MJXp-mrow" id="MJXp-Span-118"><span class="MJXp-mo" id="MJXp-Span-119" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-120" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-121" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">n</span><span class="MJXp-mn" id="MJXp-Span-126">2</span><span class="MJXp-mo" id="MJXp-Span-127" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-128" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-129">35</span><span class="MJXp-mo" id="MJXp-Span-130" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-131">36</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-133">176</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-135">78</span><span class="MJXp-mo" id="MJXp-Span-136" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-137" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-138" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-139">11</span><span class="MJXp-mo" id="MJXp-Span-140" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-141">30</span><span class="MJXp-mrow" id="MJXp-Span-142"><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0em; margin-right: 0em;">¬∞</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="60.661ex" height="2.66ex" viewBox="0 -832 26118 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-4F" x="760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-58" x="1524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-41" x="2376" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="3404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-61" x="4461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-74" x="4990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-61" x="5352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-6E" x="5881" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-32" x="6482" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-28" x="6982" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-7A" x="7372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="7840" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2C" x="8119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-78" x="8564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="9136" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-29" x="9415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="10082" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-61" x="11138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-74" x="11668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-61" x="12029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-6E" x="12559" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-32" x="13159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-28" x="13660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2212" x="14049" y="0"></use><g transform="translate(14828,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2C" x="15829" y="0"></use><g transform="translate(16274,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-36" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2C" x="17275" y="0"></use><g transform="translate(17720,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-36" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2C" x="19222" y="0"></use><g transform="translate(19667,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-38" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-29" x="20668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="21335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2212" x="22391" y="0"></use><g transform="translate(23170,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-31" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2C" x="24171" y="0"></use><g transform="translate(24616,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-30" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-B0" x="25617" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> COXA = atan2 (z ‚Ä≤, x ‚Ä≤) = atan2 (-35,36, 176,78) = -11,30 ¬∞ </script></p><br>  Et donc, nous avons obtenu l'angle selon lequel vous devez faire tourner le servo COXA de sorte que le point A soit dans le plan X'Y '.  Voyons maintenant nos calculs dans KOMPAS 3D: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uz/u0/l1/uzu0l1hk8pu5d06mstriyvqcll4.png"></div><br>  D'accord. <br><br>  <b>2.2 Trouver l'angle de rotation de FEMUR et TIBIA</b> <br>  Pour trouver ces angles, il faut aller dans le plan X'Y '.  Pour aller dans l'avion, vous devez faire pivoter le point de l'angle COXA, que nous avons d√©j√† calcul√© plus t√¥t. <br><p><math> </math> $$ afficher $$ x ‚Ä≤ = x ‚Ä≤ ‚ãÖ cos (Œ±) + y ‚Ä≤ ‚ãÖ sin (Œ±) = 176,78 ‚ãÖ cos (-11) + -20 ‚ãÖ sin (-11) = 180,28 $$ afficher $$ </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-195"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">y</span><span class="MJXp-mrow" id="MJXp-Span-197"><span class="MJXp-mo" id="MJXp-Span-198" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-199" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">y</span><span class="MJXp-mo" id="MJXp-Span-201" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-202" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-203">20</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.288ex" height="2.419ex" viewBox="0 -780.1 5721.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="497" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="1053" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-79" x="2110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="2885" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2212" x="3941" y="0"></use><g transform="translate(4720,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-30" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> y ‚Ä≤ = y = -20 </script></p><br>  La coordonn√©e <i>y '</i> ne change pas, car nous tournons le long de l'axe Y'. <br><br>  Ensuite, vous devez supprimer la longueur COXA du calcul, c'est-√†-dire  on passe au plan X''Y '', pour cela on effectue un d√©calage de la coordonn√©e <i>x 'du</i> point de la longueur COXA: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-204"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">x</span><span class="MJXp-mrow" id="MJXp-Span-206"><span class="MJXp-mo" id="MJXp-Span-207" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mrow" id="MJXp-Span-208"><span class="MJXp-mo" id="MJXp-Span-209" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-210" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">x</span><span class="MJXp-mrow" id="MJXp-Span-212"><span class="MJXp-mo" id="MJXp-Span-213" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-214" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">h</span><span class="MJXp-mo" id="MJXp-Span-225" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-226">180</span><span class="MJXp-mo" id="MJXp-Span-227" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-228">28</span><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-230">40</span><span class="MJXp-mo" id="MJXp-Span-231" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-232">140</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-234">28</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.643ex" height="2.419ex" viewBox="0 -780.1 20512.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="851" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-78" x="2463" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="3036" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2212" x="3536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-63" x="4537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-6F" x="4971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-78" x="5456" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-61" x="6029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-4C" x="6558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-65" x="7240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-6E" x="7706" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-67" x="8307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-74" x="8787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-68" x="9149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="10003" y="0"></use><g transform="translate(11059,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-38" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-30" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2C" x="12561" y="0"></use><g transform="translate(13006,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-38" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2212" x="14229" y="0"></use><g transform="translate(15230,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-30" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="16508" y="0"></use><g transform="translate(17565,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-34" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-30" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-2C" x="19066" y="0"></use><g transform="translate(19511,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-38" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> x ‚Ä≤ ‚Ä≤ = x ‚Ä≤ - coxaLength = 180,28 - 40 = 140,28 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-235"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">y</span><span class="MJXp-mrow" id="MJXp-Span-237"><span class="MJXp-mo" id="MJXp-Span-238" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mrow" id="MJXp-Span-239"><span class="MJXp-mo" id="MJXp-Span-240" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-241" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">y</span><span class="MJXp-mrow" id="MJXp-Span-243"><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0em; margin-right: 0.167em;">‚Ä≤</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.482ex" height="2.419ex" viewBox="0 -780.1 3221.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex; margin-right: -0.132ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="497" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="776" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMAIN-3D" x="1332" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJMATHI-79" x="2388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/436748/&amp;usg=ALkJrhgElBb6rswZV3F3aiNrEebic_lopg#MJSSI-27" x="2886" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> y ‚Ä≤ ‚Ä≤ = y ‚Ä≤ </script></p><br>  Apr√®s toutes ces manipulations, la solution du probl√®me se r√©sume √† trouver les angles <i>a</i> et <i>b du</i> triangle: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mu/jf/gz/mujfgzm73qouo2q9vnjgn2qgeei.png"></div><br>  Avant de trouver les angles, vous devez trouver le troisi√®me c√¥t√© C de ce triangle.  Cette distance n'est rien d'autre que la longueur du vecteur et est calcul√©e par la formule: <br><p><math> </math> $$ afficher $$ C = \ sqrt {x ‚Ä≤ ‚Ä≤ ^ 2 + y ‚Ä≤ ‚Ä≤ ^ 2} = \ sqrt {140,28 ^ 2 + (-20) ^ 2} = 141,70 $$ afficher $$ </p><br>  Vous devez maintenant v√©rifier si le membre peut atteindre ce point.  Si C est sup√©rieur √† la somme des longueurs de FEMUR et TIBIA, alors le point n'est pas accessible.  Dans notre cas, 141,70 &lt;141 + 85 - le point est accessible. <br><br>  Maintenant, nous connaissons tous les c√¥t√©s du triangle et nous pouvons trouver les angles <i>a</i> et <i>b dont</i> nous avons besoin en utilisant le th√©or√®me du cosinus: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-278"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">a</span><span class="MJXp-mo" id="MJXp-Span-280" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">s</span><span class="MJXp-mo" id="MJXp-Span-285" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-286"><span class="MJXp-msubsup" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288" style="margin-right: 0.05em;">A</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-289" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-291"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-293" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-294" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-295"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296" style="margin-right: 0.05em;">B</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-297" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-298">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">r</span><span class="MJXp-mn" id="MJXp-Span-303">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">C</span></span><span class="MJXp-mo" id="MJXp-Span-306" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-307" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-308">72</span><span class="MJXp-mo" id="MJXp-Span-309" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-310">05</span><span class="MJXp-mrow" id="MJXp-Span-311"><span class="MJXp-mo" id="MJXp-Span-312" style="margin-left: 0em; margin-right: 0em;">¬∞</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> a = acos ({A ^ 2 + C ^ 2 - B ^ 2 \ over 2AC}) = 72,05 ¬∞ </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">b</span><span class="MJXp-mo" id="MJXp-Span-315" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">s</span><span class="MJXp-mo" id="MJXp-Span-320" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-321"><span class="MJXp-msubsup" id="MJXp-Span-322"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323" style="margin-right: 0.05em;">B</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-324" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-325" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-326"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327" style="margin-right: 0.05em;">A</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-328" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-329" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-330"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331" style="margin-right: 0.05em;">C</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-332" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-333">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">r</span><span class="MJXp-mn" id="MJXp-Span-337">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">A</span></span><span class="MJXp-mo" id="MJXp-Span-340" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-341" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-342">72</span><span class="MJXp-mo" id="MJXp-Span-343" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-344">95</span><span class="MJXp-mrow" id="MJXp-Span-345"><span class="MJXp-mo" id="MJXp-Span-346" style="margin-left: 0em; margin-right: 0em;">¬∞</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> b = acos ({B ^ 2 + A ^ 2 - C ^ 2 \ sur 2BA}) = 72,95 ¬∞ </script></p><br>  Les angles obtenus ne sont pas applicables pour les alimenter aux servos, car cela ne prend pas en compte la position initiale et l'angle d'inclinaison de la droite C vers l'axe X. Si nous connaissons les angles initiaux FEMUR et TIBIA (135 ¬∞ et 45 ¬∞), alors l'angle d'inclinaison C vers l'axe X n'est pas connu.  Vous pouvez le trouver en utilisant la fonction atan2 (y ‚Ä≤ ‚Ä≤, x ‚Ä≤ ‚Ä≤): <br><p><math> </math> $$ affichage $$ œÜ = atan2 (y ‚Ä≤ ‚Ä≤, x ‚Ä≤ ‚Ä≤) = atan2 (-20, 140,28) = -8,11 ¬∞ $$ affichage $$ </p><br>  Enfin, vous pouvez calculer l'angle de rotation des servos FEMUR et TIBIA: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-386"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">R</span><span class="MJXp-mo" id="MJXp-Span-392" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">Z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">e</span><span class="MJXp-mo" id="MJXp-Span-408" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">a</span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mrow" id="MJXp-Span-411"><span class="MJXp-mo" id="MJXp-Span-412" style="margin-left: 0em; margin-right: 0em;">œÜ</span></span><span class="MJXp-mo" id="MJXp-Span-413" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-414">135</span><span class="MJXp-mo" id="MJXp-Span-415" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-416">72.05</span><span class="MJXp-mo" id="MJXp-Span-417" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-418">8.11</span><span class="MJXp-mo" id="MJXp-Span-419" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-420">71.06</span><span class="MJXp-mrow" id="MJXp-Span-421"><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0em; margin-right: 0em;">¬∞</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> FEMUR = femurZeroRotate - a - œÜ = 135 - 72.05 + 8.11 = 71.06 ¬∞ </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-423"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">E</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">R</span><span class="MJXp-mo" id="MJXp-Span-429" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">b</span><span class="MJXp-mo" id="MJXp-Span-431" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">Z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">R</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">e</span><span class="MJXp-mo" id="MJXp-Span-447" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-448">45</span><span class="MJXp-mo" id="MJXp-Span-449" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-450">72</span><span class="MJXp-mo" id="MJXp-Span-451" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-452">95</span><span class="MJXp-mo" id="MJXp-Span-453" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-454">27</span><span class="MJXp-mo" id="MJXp-Span-455" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-456">95</span><span class="MJXp-mrow" id="MJXp-Span-457"><span class="MJXp-mo" id="MJXp-Span-458" style="margin-left: 0em; margin-right: 0em;">¬∞</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> FEMUR = b - tibiaZeroRotate = 45 - 72,95 = 27,95 ¬∞ </script></p><br><br>  V√©rifions nos calculs: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y0/9g/pd/y09gpdnkxfecblnzpf2ssfmxti8.png"></div><br>  Cela semble √™tre la v√©rit√©. <br><br><h2>  R√©sum√© </h2><br>  Les angles calcul√©s COXA, FEMUR et TIBIA conviennent pour alimenter leurs servos.  Vous remarquerez peut-√™tre que l'angle COXA est n√©gatif et, par cons√©quent, la question se pose: ¬´Comment faire tourner le variateur de -11,3 degr√©s?¬ª.  L'astuce est que j'utilise la position neutre du servo COXA comme un z√©ro logique, cela permet au variateur de faire pivoter les angles positifs et n√©gatifs.  C'est bien s√ªr √©vident, mais je pense qu'il ne serait pas d√©plac√© de le mentionner.  J'en parlerai plus en d√©tail dans les articles suivants lorsque je parlerai de la mise en ≈ìuvre de tout ce qui pr√©c√®de. <br><br><h2>  Code source </h2><br><div class="spoiler">  <b class="spoiler_title">Assez de mots, laissez-moi voir le code</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RAD_TO_DEG(rad) ((rad) * 180.0 / M_PI) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DEG_TO_RAD(deg) ((deg) * M_PI / 180.0) typedef enum { LINK_COXA, LINK_FEMUR, LINK_TIBIA } link_id_t; typedef struct { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// Current link state float angle; // Link configuration uint32_t length; int32_t zero_rotate; int32_t min_angle; int32_t max_angle; } link_info_t; typedef struct { point_3d_t position; path_3d_t movement_path; link_info_t links[3]; } limb_info_t; // *************************************************************************** /// @brief Calculate angles /// @param info: limb info @ref limb_info_t /// @return true - calculation success, false - no // *************************************************************************** static bool kinematic_calculate_angles(limb_info_t* info) { int32_t coxa_zero_rotate_deg = info-&gt;links[LINK_COXA].zero_rotate; int32_t femur_zero_rotate_deg = info-&gt;links[LINK_FEMUR].zero_rotate; int32_t tibia_zero_rotate_deg = info-&gt;links[LINK_TIBIA].zero_rotate; uint32_t coxa_length = info-&gt;links[LINK_COXA].length; uint32_t femur_length = info-&gt;links[LINK_FEMUR].length; uint32_t tibia_length = info-&gt;links[LINK_TIBIA].length; float x = info-&gt;position.x; float y = info-&gt;position.y; float z = info-&gt;position.z; // Move to (X*, Y*, Z*) coordinate system - rotate float coxa_zero_rotate_rad = DEG_TO_RAD(coxa_zero_rotate_deg); float x1 = x * cos(coxa_zero_rotate_rad) + z * sin(coxa_zero_rotate_rad); float y1 = y; float z1 = -x * sin(coxa_zero_rotate_rad) + z * cos(coxa_zero_rotate_rad); // // Calculate COXA angle // float coxa_angle_rad = atan2(z1, x1); info-&gt;links[LINK_COXA].angle = RAD_TO_DEG(coxa_angle_rad); // // Prepare for calculation FEMUR and TIBIA angles // // Move to (X*, Y*) coordinate system (rotate on axis Y) x1 = x1 * cos(coxa_angle_rad) + z1 * sin(coxa_angle_rad); // Move to (X**, Y**) coordinate system (remove coxa from calculations) x1 = x1 - coxa_length; // Calculate angle between axis X and destination point float fi = atan2(y1, x1); // Calculate distance to destination point float d = sqrt(x1 * x1 + y1 * y1); if (d &gt; femur_length + tibia_length) { return false; // Point not attainable } // // Calculate triangle angles // float a = tibia_length; float b = femur_length; float c = d; float alpha = acos( (b * b + c * c - a * a) / (2 * b * c) ); float gamma = acos( (a * a + b * b - c * c) / (2 * a * b) ); // // Calculate FEMUR and TIBIA angle // info-&gt;links[LINK_FEMUR].angle = femur_zero_rotate_deg - RAD_TO_DEG(alpha) - RAD_TO_DEG(fi); info-&gt;links[LINK_TIBIA].angle = RAD_TO_DEG(gamma) - tibia_zero_rotate_deg; // // Check angles // if (info-&gt;links[LINK_COXA].angle &lt; info-&gt;links[LINK_COXA].min_angle || info-&gt;links[LINK_COXA].angle &gt; info-&gt;links[LINK_COXA].max_angle) { return false; } if (info-&gt;links[LINK_FEMUR].angle &lt; info-&gt;links[LINK_FEMUR].min_angle || info-&gt;links[LINK_FEMUR].angle &gt; info-&gt;links[LINK_FEMUR].max_angle) { return false; } if (info-&gt;links[LINK_TIBIA].angle &lt; info-&gt;links[LINK_TIBIA].min_angle || info-&gt;links[LINK_TIBIA].angle &gt; info-&gt;links[LINK_TIBIA].max_angle) { return false; } return true; }</span></span></span></span></code> </pre> <br></div></div><br><h2>  Algorithme en action </h2><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LzmEDeKPMTA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Puis, par hasard, une s√©quence est apparue qui rappelait quelque peu une danse <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/jmxpjjCkGQE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  PS </h2><br>  Je serais heureux si quelqu'un pouvait simplifier cet algorithme.  Je l'ai fait pour que je puisse le comprendre apr√®s, disons, une demi-ann√©e. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436748/">https://habr.com/ru/post/fr436748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436720/index.html">Il y a une opinion: IPv6 a √©chou√© - qui le pense et pourquoi</a></li>
<li><a href="../fr436722/index.html">Syst√®me expert m√©dical de diagnostic sur Prolog</a></li>
<li><a href="../fr436742/index.html">Android Robotics jusqu'en 2019: la vraie histoire; en 5 parties; partie 1</a></li>
<li><a href="../fr436744/index.html">Lancez votre d√©tecteur de r√©seau neuronal sur le Raspberry Pi √† l'aide du Neural Compute Stick et d'OpenVINO</a></li>
<li><a href="../fr436746/index.html">Comment d√©grader les performances en les am√©liorant</a></li>
<li><a href="../fr436750/index.html">Analyse des tendances de YouTube russe pour 2018</a></li>
<li><a href="../fr436752/index.html">Le g√¢teau est un mensonge</a></li>
<li><a href="../fr436754/index.html">Q2VKPT: Quake II enti√®rement r√©√©crit avec un √©clairage r√©aliste</a></li>
<li><a href="../fr436756/index.html">L'isomorphisme se pr√©cipite √† la rescousse</a></li>
<li><a href="../fr436762/index.html">Couchbase sur Telecom</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>