<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóûÔ∏è üèôÔ∏è üë©üèø‚Äçüöí Cinem√°tica de un robot Delta ‚úäüèº üèîÔ∏è ‚òÅÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En 2009, me entusiasm√≥ construir mi propio robot industrial que pudiera hacer algo √∫til (es decir, clasificar piezas peque√±as en una cinta transportad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cinem√°tica de un robot Delta</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390281/"><div style="text-align:center;"><img src="https://habrastorage.org/files/b6f/388/964/b6f388964d764fa784f32e8ed708214b.jpg" alt="Robot Delta"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2009, me entusiasm√≥ construir mi propio robot industrial que pudiera hacer algo √∫til (es decir, clasificar piezas peque√±as en una cinta transportadora). Debo decir de inmediato que constru√≠ un robot (puede ver el resultado en la foto del t√≠tulo), y al mismo tiempo, como subproducto, escrib√≠ un breve art√≠culo sobre la cinem√°tica de los robots delta en el foro TrossenRobotics, un vendedor estadounidense de kits de piezas de robots. Acaban de celebrar un concurso para autores en ese momento. Por supuesto, no gan√© la competencia, pero el art√≠culo en ingl√©s permaneci√≥. Varias veces intent√© traducirlo a mi idioma nativo, pero logr√© completar lo que comenc√© solo ahora.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si desea construir su modelo de un robot delta, o simplemente descubrir c√≥mo puede derivar f√≥rmulas cinem√°ticas para este tipo de robot (sin ir m√°s all√° del plan de estudios de la escuela en √°lgebra y geometr√≠a), bienvenido a cat. </font><font style="vertical-align: inherit;">Para aquellos a quienes no les gusta la teor√≠a, al final del art√≠culo hay ejemplos de c√≥digo prefabricado en C.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© es un robot delta?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El </font><font style="vertical-align: inherit;">cient√≠fico suizo Raymond Clavel invent√≥ el </font><font style="vertical-align: inherit;">robot delta ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) a principios de la d√©cada de 1980, la siguiente es una ilustraci√≥n de la patente original US4976582 para "Un dispositivo para mover y colocar un elemento en el espacio":</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/b72/cb6/82b/b72cb682b61447b09755720fcfc15d0f.gif" alt="Delta Robot Design"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El robot consta de dos plataformas: una base superior fija (1) y una peque√±a plataforma m√≥vil (8) conectada por tres palancas. Cada palanca consta de dos partes: el hombro superior (4) est√° r√≠gidamente conectado al motor (3) ubicado en la base superior, y el inferior es un paralelogramo (5), en cuyas esquinas se denomina juntas universales (6, 7) ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) que permiten que los √°ngulos cambien. Cada paralelogramo est√° conectado a la parte superior del brazo por una bisagra (16) de modo que su lado superior siempre permanece perpendicular a su brazo y paralelo al plano de la base superior. Gracias a esto, la plataforma m√≥vil del robot unida a los lados inferiores de los paralelogramos tambi√©n ser√° siempre paralela a la base superior. Podemos controlar la posici√≥n de la plataforma cambiando el √°ngulo de rotaci√≥n de las palancas superiores con respecto a la base del robot utilizando motores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el centro de la plataforma inferior (8), la llamada </font><font style="vertical-align: inherit;">el cuerpo de trabajo (en ingl√©s se usa el t√©rmino efector final) del robot (9). </font><font style="vertical-align: inherit;">Esto puede ser un manipulador, un dispositivo de agarre o, por ejemplo, una extrusora en el caso de una impresora 3D. </font><font style="vertical-align: inherit;">Adem√°s, se puede usar otro motor (11), que proporciona rotaci√≥n del cuerpo de trabajo a trav√©s de la varilla (14). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La principal ventaja de los robots delta es la velocidad: los motores pesados ‚Äã‚Äãse colocan sobre una base fija, solo se mueven las palancas y la plataforma inferior, que intentan hacer con materiales compuestos ligeros, lo que reduce su inercia. </font><font style="vertical-align: inherit;">Aqu√≠, por ejemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un art√≠culo sobre Geektimes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con un par de videos muy efectivos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Declaraci√≥n de tarea</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para construir su propio robot delta, debe aprender a resolver dos problemas. En la primera situaci√≥n, sabemos la posici√≥n en la que queremos mover el brazo del robot de nuestro robot (por ejemplo, queremos tomar una cookie que est√° en el transportador en un punto con coordenadas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(x, y, z)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para hacer esto, necesitamos determinar los √°ngulos en los que deben girar los motores conectados con las palancas del robot para colocarlo en la posici√≥n correcta para el agarre. El procedimiento para determinar estos √°ngulos se llama problema cinem√°tico inverso (en algunas fuentes en ruso se usa la palabra "inverso").</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la segunda situaci√≥n, sabemos los √°ngulos en los que se activan los motores de control del robot (si usamos servomotores, podemos encontrar f√°cilmente las esquinas leyendo las lecturas de los sensores de √°ngulo), y queremos encontrar la posici√≥n de la plataforma del robot en el espacio (por ejemplo, para ajustar su posici√≥n) . Esta es una tarea cinem√°tica directa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Formalizamos ambas tareas. Tanto la base fija del robot como su plataforma m√≥vil se pueden representar como tri√°ngulos equil√°teros: en el siguiente diagrama, est√°n pintados en verde y rosa, respectivamente. Los √°ngulos de rotaci√≥n de los brazos del robot con relaci√≥n al plano base (tambi√©n son los √°ngulos de rotaci√≥n de los motores) se designan como </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y las coordenadas del punto son </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ubicado en el centro de la plataforma m√≥vil y en el que el brazo del robot de nuestro robot se fijar√° en la vida real </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , z </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/e00/74e/7b8/e0074e7b8e4a4c36936b8fb850f2dda9.gif" alt="Circuito robot Delta"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resulta que debemos proponer dos funciones:</font></font><br>
<br>
<ul>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inversa</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , z </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ‚Üí (—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , —≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , —≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para resolver el problema cinem√°tico inverso y</font></font></li>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adelante</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , —≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , —≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ‚Üí (x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , z </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para resolver el problema cinem√°tico directo.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cinem√°tica inversa</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Establezcamos algunos par√°metros clave que est√°n determinados por las dimensiones geom√©tricas de nuestro robot:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/e4b/f11/8d9/e4bf118d95974194bc1dc52b003e53fb.gif" alt="Designaciones de dimensiones para Delta Robot"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Denotar superior lado de la base longitud </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , el lado inferior de la plataforma </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , superior palanca de la longitud del brazo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y la longitud del brazo inferior (el lado largo del paralelogramo) </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para los c√°lculos, elegimos un sistema de coordenadas con un punto de referencia que coincida con el centro geom√©trico del tri√°ngulo superior. El eje </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se dirigir√° hacia arriba, por lo que la coordenada z de la plataforma m√≥vil siempre ser√° negativa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El dise√±o del robot implica que la palanca </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ver la figura a continuaci√≥n) solo puede girar en el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YZ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mientras describe un c√≠rculo de radio </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> centrado en un punto</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (en este lugar est√° conectado al motor). A diferencia de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , los nodos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilizan juntas universales, gracias a las cuales el hombro </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede girar libremente en relaci√≥n con </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , describiendo una esfera de radio </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> centrada en el punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/fa9/503/af9/fa9503af9d264b8880cbf2d16ef32a8c.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La intersecci√≥n de esta esfera y el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YZ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un c√≠rculo centrado en el punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 de</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> radio </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , donde el punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se encuentra como la proyecci√≥n del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YZ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Entonces el punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estar√° en la intersecci√≥n de dos c√≠rculos con centros en los puntos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y podemos determinar los radios de estos c√≠rculos. Hay una ligera sutileza: los c√≠rculos se cruzan en dos puntos, pero solo nos interesa uno de ellos, con un valor menor de la coordenada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque queremos que los brazos del robot sobresalgan siempre "codos". </font><font style="vertical-align: inherit;">Habiendo as√≠ determinado las coordenadas del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , podemos encontrar f√°cilmente el √°ngulo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nos interesa </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para facilitar la percepci√≥n, a continuaci√≥n se muestra la proyecci√≥n de nuestra imagen tridimensional en el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YZ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/592/d2f/4c3/592d2f4c32164c06861b1d7ee582dc0a.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plataforma inferior es un tri√°ngulo equil√°tero, cuyo centro es el punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , z </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Distancia media</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/E_0E_1%3D%7Be%5Cover2%7D%5Ctan(30%5Eo)%3D%7Be%5Cover2%5Csqrt3%7D%2C" alt="E_0E_1 = {e \ over2} \ tan (30 ^ o) = {e \ over2 \ sqrt3},"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
que nos da las siguientes coordenadas del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y su proyecci√≥n </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YZ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/E_1(x_0%2C%20y_0-%7Be%5Cover2%5Csqrt3%7D%2C%20z_0)%20%5CRightarrow%20E'_1(0%2C%20y_0-%7Be%5Cover2%5Csqrt3%7D%2C%20z_0)" alt="E_1(x_0, y_0-{e\over2\sqrt3}, z_0) \Rightarrow E'_1(0, y_0-{e\over2\sqrt3}, z_0)"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La distancia </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , entonces, de acuerdo con el teorema de Pit√°goras,</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/E'_1J_1%3D%5Csqrt%7BE_1J_1%5E2-E_1E'_1%5E2%7D%3D%5Csqrt%7Br_e%5E2-x_0%5E2%7D" alt="E'_1J_1=\sqrt{E_1J_1^2-E_1E'_1^2}=\sqrt{r_e^2-x_0^2}"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como la plataforma superior tambi√©n es un tri√°ngulo equil√°tero, las coordenadas del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser√°n</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/F_1(0%2C%20%7B-f%5Cover%7B2%5Csqrt3%7D%7D%2C%200)" alt="F_1(0, {-f\over{2\sqrt3}}, 0)"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para encontrar las coordenadas del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que es la intersecci√≥n de dos c√≠rculos, es necesario resolver el sistema de ecuaciones:</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/%5Cbegin%7Bequation*%7D%0A%20%5Cbegin%7Bcases%7D%0A%20%20%20(y_%7BJ_1%7D-y_%7BF_1%7D)%5E2%2B(z_%7BJ_1%7D-z_%7BF_1%7D)%5E2%20%3D%20r_f%5E2%0A%20%20%20%5C%5C%0A%20%20%20(y_%7BJ_1%7D-y_%7BE'_1%7D)%5E2%2B(z_%7BJ_1%7D-z_%7BE'_1%7D)%5E2%20%3D%20r_e%5E2-x_0%0A%20%5Cend%7Bcases%7D%0A%5Cend%7Bequation*%7D" alt="\begin{equation*}
 \begin{cases}
   (y_{J_1}-y_{F_1})^2+(z_{J_1}-z_{F_1})^2 = r_f^2
   \\
   (y_{J_1}-y_{E'_1})^2+(z_{J_1}-z_{E'_1})^2 = r_e^2-x_0
 \end{cases}
\end{equation*}"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conocemos las coordenadas de los centros de los c√≠rculos, si los sustituimos, obtenemos la siguiente expresi√≥n:</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/%5Cbegin%7Bequation*%7D%0A%20%5Cbegin%7Bcases%7D%0A%20%20%20(y_%7BJ_1%7D%2B%7Bf%5Cover%7B2%5Csqrt3%7D%7D)%5E2%2Bz_%7BJ_1%7D%5E2%20%3D%20r_f%5E2%0A%20%20%20%5C%5C%0A%20%20%20(y_%7BJ_1%7D-y_0%2B%7Be%5Cover%7B2%5Csqrt3%7D%7D)%5E2%2B(z_%7BJ_1%7D-z_0)%5E2%20%3D%20r_e%5E2-x_0%0A%20%5Cend%7Bcases%7D%0A%5Cend%7Bequation*%7D" alt="\begin{equation*}
 \begin{cases}
   (y_{J_1}+{f\over{2\sqrt3}})^2+z_{J_1}^2 = r_f^2
   \\
   (y_{J_1}-y_0+{e\over{2\sqrt3}})^2+(z_{J_1}-z_0)^2 = r_e^2-x_0
 \end{cases}
\end{equation*}"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si abrimos los corchetes y restamos una ecuaci√≥n de la otra, podemos expresar linealmente la coordenada z del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 en</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t√©rminos de la coordenada y, despu√©s de lo cual, sustituy√©ndola en la segunda ecuaci√≥n, obtenemos la ecuaci√≥n cuadr√°tica habitual para y, de la cual dos soluciones elegimos la m√°s peque√±a (m√°s sobre esto hablamos arriba). Y as√≠ obteniendo las coordenadas del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , encontramos el √°ngulo</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/%5Ctheta_1%3D%5Carctan%5Cleft(%7Bz_%7BJ_1%7D%5Cover%7By_%7BF_1%7D-y_%7BJ_1%7D%7D%7D%5Cright)" alt="\theta_1=\arctan\left({z_{J_1}\over{y_{F_1}-y_{J_1}}}\right)"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las expresiones resultaron ser bastante simples debido a la elecci√≥n exitosa del sistema de coordenadas: el brazo de palanca </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> siempre se mueve en el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YZ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , por lo que simplemente podemos ignorar la coordenada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para preservar esta ventaja al encontrar los dos √°ngulos restantes </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , utilizamos la simetr√≠a de la construcci√≥n del robot delta. Primero, gire nuestro sistema de coordenadas 120 ¬∞ en sentido antihorario en el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XY</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alrededor del eje </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/59f/a19/9e2/59fa199e239d486b93f3d498a8904671.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenemos un nuevo sistema de coordenadas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X'Y'Z '</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y en este nuevo sistema podemos usar nuestras f√≥rmulas listas para encontrar el √°ngulo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La √∫nica sutileza es que primero debemos recalcular las coordenadas del punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el nuevo marco de referencia. </font><font style="vertical-align: inherit;">Esto se hace f√°cilmente usando la f√≥rmula bien conocida (transformaciones cuando el sistema gira alrededor del origen), que se muestra en la figura anterior. </font><font style="vertical-align: inherit;">Para encontrar el √°ngulo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambi√©n ser√° necesario rotar el marco de referencia original, pero ahora en sentido horario. </font><font style="vertical-align: inherit;">Esta t√©cnica se implementa muy convenientemente en forma de programa: es suficiente escribir una funci√≥n para calcular el √°ngulo —≤ en el plano YZ, y luego llamarlo tres veces para cada uno de los √°ngulos y sistemas de referencia.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cinem√°tica directa</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intentemos resolver el problema inverso: ahora conocemos los √°ngulos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">—≤ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y queremos encontrar las coordenadas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , z </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) del</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ubicado en el centro de la plataforma m√≥vil de nuestro robot. Conociendo los √°ngulos, podemos encontrar f√°cilmente las coordenadas de los puntos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ver la figura a continuaci√≥n). Palancas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede girar libremente alrededor de los puntos</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3,</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> respectivamente, formando en el espacio tres esferas con radios</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> r </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/57e/ea1/6f4/57eea16f4181468b8adf04f0ea3e1277.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilizamos una t√©cnica complicada: desplazamos los centros de cada una de estas esferas desde los puntos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el plano </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XY</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la direcci√≥n del eje </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , utilizando los vectores de desplazamiento </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0,</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> respectivamente (en la figura se muestra como flechas rojas). Despu√©s de esta transformaci√≥n, resulta que las tres esferas se cruzan en el punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , como se muestra en la siguiente figura:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/47d/e9e/e86/47de9ee86d9048bca16a468c0fe68c53.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resulta que para determinar las coordenadas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , z </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) del</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0,</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> debemos encontrar el punto de intersecci√≥n de tres esferas, los radios y coordenadas de los centros que conocemos. </font><font style="vertical-align: inherit;">En otras palabras, necesitamos resolver un sistema de tres ecuaciones que describan esferas tridimensionales:</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/(x-x_i)%5E2%20%2B%20(y-y_i)%5E2%20%2B%20(z-z_i)%5E2%20%3D%20r_e%5E2%2C" alt="(x-x_i)^2 + (y-y_i)^2 + (z-z_i)^2 = r_e^2,"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
donde </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(x </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , z </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> son las coordenadas de los centros de las esferas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se pueden encontrar de la siguiente manera:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/8be/585/4df/8be5854df0c842a1948eed57775015b8.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n, para acortar la notaci√≥n, usar√© la </font><font style="vertical-align: inherit;">notaci√≥n </font><em><font style="vertical-align: inherit;">(x </font></em><em><sub><font style="vertical-align: inherit;">1</font></sub></em><em><font style="vertical-align: inherit;"> , y </font></em><em><sub><font style="vertical-align: inherit;">1</font></sub></em><em><font style="vertical-align: inherit;"> , z </font></em><em><sub><font style="vertical-align: inherit;">1</font></sub></em><em><font style="vertical-align: inherit;"> )</font></em><font style="vertical-align: inherit;"> , </font><em><font style="vertical-align: inherit;">(x </font></em><em><sub><font style="vertical-align: inherit;">2</font></sub></em><em><font style="vertical-align: inherit;"> , y </font></em><em><sub><font style="vertical-align: inherit;">2</font></sub></em><em><font style="vertical-align: inherit;"> , z </font></em><em><sub><font style="vertical-align: inherit;">2</font></sub></em><em><font style="vertical-align: inherit;"> )</font></em><font style="vertical-align: inherit;"> y </font><em><font style="vertical-align: inherit;">(x </font></em><em><sub><font style="vertical-align: inherit;">3</font></sub></em><em><font style="vertical-align: inherit;"> , y</font></em><font style="vertical-align: inherit;"> como las coordenadas de los puntos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></sub></em><font style="vertical-align: inherit;"><em><sub><font style="vertical-align: inherit;">3</font></sub></em><em><font style="vertical-align: inherit;"> , z </font></em><em><sub><font style="vertical-align: inherit;">3</font></sub></em><em><font style="vertical-align: inherit;"> ),</font></em><font style="vertical-align: inherit;"> respectivamente. </font><font style="vertical-align: inherit;">Tambi√©n quiero se√±alar que </font><em><font style="vertical-align: inherit;">x </font></em><em><sub><font style="vertical-align: inherit;">1</font></sub></em><em><font style="vertical-align: inherit;"> = 0</font></em><font style="vertical-align: inherit;"> (ya que el punto </font><em><font style="vertical-align: inherit;">J ' </font></em><em><sub><font style="vertical-align: inherit;">1</font></sub></em><font style="vertical-align: inherit;"> est√° en el plano </font><em><font style="vertical-align: inherit;">YZ</font></em><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Obtenemos el siguiente sistema de ecuaciones:</font></font><em><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/%5Cbegin%7Bequation*%7D%0A%20%5Cbegin%7Bcases%7D%0A%20%20%20x%5E2%2B(y-y_1)%5E2%2B(z-z_1)%5E2%20%3D%20r_e%5E2%0A%20%20%20%5C%5C%0A%20%20%20(x-x_2)%5E2%2B(y-y_2)%5E2%2B(z-z_2)%5E2%20%3D%20r_e%5E2%0A%20%20%20%5C%5C%0A%20%20%20(x-x_3)%5E2%2B(y-y_3)%5E2%2B(z-z_3)%5E2%20%3D%20r_e%5E2%0A%20%5Cend%7Bcases%7D%0A%5Cend%7Bequation*%7D%0A%5CRightarrow%0A%5Cbegin%7Bequation*%7D%0A%20%5Cbegin%7Bcases%7D%0A%20%20%20x%5E2%2By%5E2%2Bz%5E2-2y_1y-2z_1z%3Dr_e%5E2-y_1%5E2-z_1%5E2%0A%20%20%20%5C%5C%0A%20%20%20x%5E2%2By%5E2%2Bz%5E2-2x_2x-2y_2y-2z_2z%3Dr_e%5E2-x_2%5E2-y_2%5E2-z_2%5E2%0A%20%20%20%5C%5C%0A%20%20%20x%5E2%2By%5E2%2Bz%5E2-2x_3x-2y_3y-2z_3z%3Dr_e%5E2-x_3%5E2-y_3%5E2-z_3%5E2%0A%20%5Cend%7Bcases%7D%0A%5Cend%7Bequation*%7D" alt="\begin{equation*}
 \begin{cases}
   x^2+(y-y_1)^2+(z-z_1)^2 = r_e^2
   \\
   (x-x_2)^2+(y-y_2)^2+(z-z_2)^2 = r_e^2
   \\
   (x-x_3)^2+(y-y_3)^2+(z-z_3)^2 = r_e^2
 \end{cases}
\end{equation*}
\Rightarrow
\begin{equation*}
 \begin{cases}
   x^2+y^2+z^2-2y_1y-2z_1z=r_e^2-y_1^2-z_1^2
   \\
   x^2+y^2+z^2-2x_2x-2y_2y-2z_2z=r_e^2-x_2^2-y_2^2-z_2^2
   \\
   x^2+y^2+z^2-2x_3x-2y_3y-2z_3z=r_e^2-x_3^2-y_3^2-z_3^2
 \end{cases}
\end{equation*}"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introducimos la notaci√≥n</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/w_i%3Dx_i%5E2%2By_i%5E2%2Bz_i%5E2" alt="w_i=x_i^2+y_i^2+z_i^2"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y, restando el segundo y el tercero de la ecuaci√≥n superior, as√≠ como el tercero de la segunda, obtenemos:</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/%5Cbegin%7Bequation*%7D%0A%20%5Cbegin%7Bcases%7D%0A%20%20%20x_2x%2B(y_1-y_2)y%2B(z_1-z_2)z%3D(w_1-w_2)%2F2%0A%20%20%20%5C%5C%0A%20%20%20x_3x%2B(y_1-y_3)y%2B(z_1-z_3)z%3D(w_1-w_3)%2F2%0A%20%20%20%5C%5C%0A%20%20%20(x_2-x_3)x%2B(y_2-y_3)y%2B(z_2-z_3)z%3D(w_2-w_3)%2F2%0A%20%5Cend%7Bcases%7D%0A%5Cend%7Bequation*%7D" alt="\begin{equation*}
 \begin{cases}
   x_2x+(y_1-y_2)y+(z_1-z_2)z=(w_1-w_2)/2
   \\
   x_3x+(y_1-y_3)y+(z_1-z_3)z=(w_1-w_3)/2
   \\
   (x_2-x_3)x+(y_2-y_3)y+(z_2-z_3)z=(w_2-w_3)/2
 \end{cases}
\end{equation*}"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Restando el segundo de la primera ecuaci√≥n (reduciendo as√≠ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) y el tercero del segundo (reduciendo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), podemos expresar </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y en</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t√©rminos de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/x%3Da_1z%2Bb_1%5Cqquad%20y%3Da_2z%2Bb_2" alt="x=a_1z+b_1\qquad y=a_2z+b_2"></div><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/a_1%3D%7B1%5Cover%7Bd%7D%7D%5Cleft%5B(z_2-z_1)(y_3-y_1)-(z_3-z_1)(y_2-y_1)%5Cright%5D%20%5Cqquad%20a_2%3D-%7B1%5Cover%7Bd%7D%7D%5Cleft%5B(z_2-z_1)x_3-(z_3-z_1)x_2%5Cright%5D" alt="a_1={1\over{d}}\left[(z_2-z_1)(y_3-y_1)-(z_3-z_1)(y_2-y_1)\right] \qquad a_2=-{1\over{d}}\left[(z_2-z_1)x_3-(z_3-z_1)x_2\right]"></div><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/b_1%3D-%7B1%5Cover%7B2d%7D%7D%5Cleft%5B(w_2-w_1)(y_3-y_1)-(w_3-w_1)(y_2-y_1)%5Cright%5D%20%5Cqquad%20b_2%3D%7B1%5Cover%7B2d%7D%7D%5Cleft%5B(w_2-w_1)x_3-(w_3-w_1)x_2%5Cright%5D" alt="b_1 = - {1 \ over {2d}} \ left [(w_2-w_1) (y_3-y_1) - (w_3-w_1) (y_2-y_1) \ right] \ qquad b_2 = {1 \ over {2d}} \ left [(w_2-w_1) x_3- (w_3-w_1) x_2 \ right]"></div><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/d%3D(y_2-y_1)x_3-(y_3-y_1)x_2" alt="d = (y_2-y_1) x_3- (y_3-y_1) x_2"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora, sustituyendo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , expresado a trav√©s de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , en la ecuaci√≥n para el primer c√≠rculo (centrado en el punto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), obtenemos:</font></font><br>
<br>
<div style="text-align:center;"><img src="http://tex.s2cms.ru/svg/(a_1%5E2%2Ba_2%5E2%2B1)z%5E2%2B2(a_1%2Ba_2(b_2-y_1)-z_1)z%2B(b_1%5E2%2B(b_2-y_1)%5E2%2Bz_1%5E2-r_e%5E2)%3D0" alt="(a_1 ^ 2 + a_2 ^ 2 + 1) z ^ 2 + 2 (a_1 + a_2 (b_2-y_1) -z_1) z + (b_1 ^ 2 + (b_2-y_1) ^ 2 + z_1 ^ 2-r_e ^ 2) = 0"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Queda por resolver esta ecuaci√≥n cuadr√°tica (de la manera est√°ndar, a trav√©s del discriminante) para encontrar </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (¬°recordamos que debemos elegir la m√°s peque√±a de las dos </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !), Y a trav√©s de ella </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplos de c√≥digo fuente</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los siguientes son ejemplos de funciones para el c√°lculo de la cinem√°tica del robot delta en C. Los nombres de las variables corresponden a los utilizados en el art√≠culo, los √°ngulos </font></font><code>theta1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>theta2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>theta3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se especifican en grados.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  </span></span>
<span class="hljs-comment"><span class="hljs-comment">// ( .  )</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> e = <span class="hljs-number"><span class="hljs-number">115.0</span></span>;     <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> f = <span class="hljs-number"><span class="hljs-number">457.3</span></span>;     <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> re = <span class="hljs-number"><span class="hljs-number">232.0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> rf = <span class="hljs-number"><span class="hljs-number">112.0</span></span>;<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">//  </span></span>
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sqrt3 = <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(<span class="hljs-number"><span class="hljs-number">3.0</span></span>);
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> pi = <span class="hljs-number"><span class="hljs-number">3.141592653</span></span>;    <span class="hljs-comment"><span class="hljs-comment">// PI</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sin120 = sqrt3/<span class="hljs-number"><span class="hljs-number">2.0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> cos120 = <span class="hljs-number"><span class="hljs-number">-0.5</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tan60 = sqrt3;
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sin30 = <span class="hljs-number"><span class="hljs-number">0.5</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tan30 = <span class="hljs-number"><span class="hljs-number">1</span></span>/sqrt3;<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">//  : (theta1, theta2, theta3) -&gt; (x0, y0, z0)</span></span>
<span class="hljs-comment"><span class="hljs-comment">//  : 0=OK, -1= </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delta_calcForward</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> theta1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> theta2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> theta3, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;x0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;y0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;z0)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> t = (f-e)*tan30/<span class="hljs-number"><span class="hljs-number">2</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dtr = pi/(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)<span class="hljs-number"><span class="hljs-number">180.0</span></span>;<font></font>
<font></font>
    theta1 *= dtr;<font></font>
    theta2 *= dtr;<font></font>
    theta3 *= dtr;<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y1 = -(t + rf*<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(theta1));
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> z1 = -rf*<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(theta1);<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y2 = (t + rf*<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(theta2))*sin30;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x2 = y2*tan60;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> z2 = -rf*<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(theta2);<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y3 = (t + rf*<span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(theta3))*sin30;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x3 = -y3*tan60;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> z3 = -rf*<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(theta3);<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dnm = (y2-y1)*x3-(y3-y1)*x2;<font></font>
<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w1 = y1*y1 + z1*z1;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w2 = x2*x2 + y2*y2 + z2*z2;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> w3 = x3*x3 + y3*y3 + z3*z3;<font></font>
<font></font>
    <span class="hljs-comment"><span class="hljs-comment">// x = (a1*z + b1)/dnm</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a1 = (z2-z1)*(y3-y1)-(z3-z1)*(y2-y1);
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> b1 = -((w2-w1)*(y3-y1)-(w3-w1)*(y2-y1))/<span class="hljs-number"><span class="hljs-number">2.0</span></span>;<font></font>
<font></font>
    <span class="hljs-comment"><span class="hljs-comment">// y = (a2*z + b2)/dnm;</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a2 = -(z2-z1)*x3+(z3-z1)*x2;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> b2 = ((w2-w1)*x3 - (w3-w1)*x2)/<span class="hljs-number"><span class="hljs-number">2.0</span></span>;<font></font>
<font></font>
    <span class="hljs-comment"><span class="hljs-comment">// a*z^2 + b*z + c = 0</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a = a1*a1 + a2*a2 + dnm*dnm;
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> b = <span class="hljs-number"><span class="hljs-number">2</span></span>*(a1*b1 + a2*(b2-y1*dnm) - z1*dnm*dnm);
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> c = (b2-y1*dnm)*(b2-y1*dnm) + b1*b1 + dnm*dnm*(z1*z1 - re*re);<font></font>
<font></font>
    <span class="hljs-comment"><span class="hljs-comment">// </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> d = b*b - (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)<span class="hljs-number"><span class="hljs-number">4.0</span></span>*a*c;
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (d &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  </span></span><font></font>
<font></font>
    z0 = -(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)<span class="hljs-number"><span class="hljs-number">0.5</span></span>*(b+<span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(d))/a;<font></font>
    x0 = (a1*z0 + b1)/dnm;<font></font>
    y0 = (a2*z0 + b2)/dnm;<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">//  </span></span>
<span class="hljs-comment"><span class="hljs-comment">//  ,   theta1 (  YZ)</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delta_calcAngleYZ</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;theta)</span></span></span><span class="hljs-function"> </span></span>{
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y1 = <span class="hljs-number"><span class="hljs-number">-0.5</span></span> * <span class="hljs-number"><span class="hljs-number">0.57735</span></span> * f; <span class="hljs-comment"><span class="hljs-comment">// f/2 * tg 30</span></span>
    y0 -= <span class="hljs-number"><span class="hljs-number">0.5</span></span> * <span class="hljs-number"><span class="hljs-number">0.57735</span></span> * e;       <span class="hljs-comment"><span class="hljs-comment">//    </span></span>
    <span class="hljs-comment"><span class="hljs-comment">// z = a + b*y</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> a = (x0*x0 + y0*y0 + z0*z0 +rf*rf - re*re - y1*y1)/(<span class="hljs-number"><span class="hljs-number">2</span></span>*z0);
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> b = (y1-y0)/z0;
    <span class="hljs-comment"><span class="hljs-comment">// </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> d = -(a+b*y1)*(a+b*y1)+rf*(b*b*rf+rf);
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (d &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> yj = (y1 - a*b - <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(d))/(b*b + <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> zj = a + b*yj;<font></font>
    theta = <span class="hljs-number"><span class="hljs-number">180.0</span></span>*<span class="hljs-built_in"><span class="hljs-built_in">atan</span></span>(-zj/(y1 - yj))/pi + ((yj&gt;y1)?<span class="hljs-number"><span class="hljs-number">180.0</span></span>:<span class="hljs-number"><span class="hljs-number">0.0</span></span>);
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment">//  : (x0, y0, z0) -&gt; (theta1, theta2, theta3)</span></span>
<span class="hljs-comment"><span class="hljs-comment">//  : 0=OK, -1= </span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delta_calcInverse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z0, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;theta1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;theta2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;theta3)</span></span></span><span class="hljs-function"> </span></span>{<font></font>
    theta1 = theta2 = theta3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> status = delta_calcAngleYZ(x0, y0, z0, theta1);
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (status == <span class="hljs-number"><span class="hljs-number">0</span></span>) status = delta_calcAngleYZ(x0*cos120 + y0*sin120, y0*cos120-x0*sin120, z0, theta2);  <span class="hljs-comment"><span class="hljs-comment">// rotate coords to +120 deg</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (status == <span class="hljs-number"><span class="hljs-number">0</span></span>) status = delta_calcAngleYZ(x0*cos120 - y0*sin120, y0*cos120+x0*sin120, z0, theta3);  <span class="hljs-comment"><span class="hljs-comment">// rotate coords to -120 deg</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> status;<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Literatura usada</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tom√© todas las ideas clave sobre la cinem√°tica del robot delta del trabajo del profesor. </font><font style="vertical-align: inherit;">Paul Zsombor-Murray " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis cinem√°tico geom√©trico descriptivo del robot" Delta "de Clavel"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Honestamente admito que mi entrenamiento matem√°tico no fue suficiente para entenderlo hasta el final, as√≠ que tuve que deducir mucho.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias a todos los que leyeron este art√≠culo hasta el final. </font><font style="vertical-align: inherit;">Espero que para alguien sea √∫til e inspirador para crear sus propias versiones del robot delta.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es390281/">https://habr.com/ru/post/es390281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de486158/index.html">Visualisierung der neuronalen maschinellen √úbersetzung (seq2seq-Modelle mit Aufmerksamkeitsmechanismus)</a></li>
<li><a href="../de486164/index.html">Coronavirus 2019-nCoV. FAQ zu Atemschutz und Desinfektion</a></li>
<li><a href="../de486174/index.html">Ich habe keinen Umsatz</a></li>
<li><a href="../es390273/index.html">Una mirada a Marte desde Mars Express</a></li>
<li><a href="../es390277/index.html">¬øPuede la inteligencia artificial convertirse en presidente de los Estados Unidos?</a></li>
<li><a href="../es390283/index.html">Port√°til Dell Latitude 14 Rugged Extreme: un tipo muy fuerte</a></li>
<li><a href="../es390289/index.html">WLToys Q242G Video Survey - FPV Microcopter</a></li>
<li><a href="../es390291/index.html">Cohete espacial Hogwarts</a></li>
<li><a href="../es390293/index.html">Los cient√≠ficos han resuelto el misterio principal de la estructura del hormig√≥n.</a></li>
<li><a href="../es390295/index.html">¬øPor qu√© las grandes corporaciones ahorran billones de d√≥lares?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>