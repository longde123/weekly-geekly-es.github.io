<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦” ğŸ›¶ ğŸ£ Menggunakan Fastify dan Preact ke Prototipe Aplikasi Web dengan Cepat ğŸ‘ŠğŸ½ ğŸ•ºğŸ¿ ğŸŒ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penulis materi, terjemahan yang kami terbitkan hari ini, ingin berbagi cerita tentang teknologi apa yang ia gunakan untuk dengan cepat mengembangkan p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menggunakan Fastify dan Preact ke Prototipe Aplikasi Web dengan Cepat</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/442652/">  Penulis materi, terjemahan yang kami terbitkan hari ini, ingin berbagi cerita tentang teknologi apa yang ia gunakan untuk dengan cepat mengembangkan prototipe aplikasi web.  Teknologi ini termasuk perpustakaan Fastify dan Preact.  Dia juga menggunakan perpustakaan htm.  Ini terintegrasi dengan mudah dengan Preact dan digunakan untuk menggambarkan elemen DOM menggunakan konstruksi intuitif yang mengingatkan pada JSX.  Namun, untuk bekerja dengannya, Anda tidak perlu transpiler seperti Babel.  Setelah mendemonstrasikan alat pengembangan prototipe dan metode bekerja dengannya, penulis materi akan menunjukkan cara mengemas aplikasi tersebut ke dalam wadah Docker.  Ini membuatnya mudah untuk menunjukkan aplikasi kepada semua orang yang tertarik. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/iq/mq/4a/iqmq4a-j0p_qnlayhqdbmbb2au4.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Mulai</font> </h2><br>  Saya mulai menggunakan seperangkat teknologi tersebut beberapa minggu yang lalu ketika saya perlu membuat aplikasi web prototipe yang sangat sederhana yang dirancang untuk memeriksa, bersama dengan kolega, beberapa asumsi. <br><br>  Eksperimen saya sangat sukses.  Saya dapat membuat prototipe dengan sangat cepat, rekan-rekan saya dapat dengan mudah bereksperimen dengannya, mereka dapat dengan cepat mengekspresikan kesan mereka tentang itu.  Pada saat yang sama, mereka dapat menguji proyek bahkan jika Node.js dan NPM tidak diinstal pada komputer mereka. <br><br>  Semua ini membawa saya pada ide bahwa saya harus menulis materi tentang pendekatan saya terhadap pembuatan prototipe aplikasi web secara cepat.  Ada kemungkinan bahwa pendekatan ini akan bermanfaat bagi orang lain.  Bagi mereka yang sudah terbiasa dengan Fastify dan Preact, saya akan segera menguraikan hal yang paling penting, yang akan memungkinkan mereka untuk segera menerapkan ide-ide saya ke dalam praktik. <br><br><h2>  <font color="#3AC1EF">Ide utama</font> </h2><br>  Jika Anda sudah terbiasa dengan Fastify dan Preact dan ingin belajar tentang bagaimana mengatur pengembangan proyek berdasarkan teknologi ini, maka Anda benar-benar beberapa langkah dari apa yang Anda inginkan.  Yaitu, kita berbicara tentang perintah berikut: <br><br><pre><code class="plaintext hljs">git clone https://github.com/lmammino/fastify-preact-htm-boilerplate.git my-new-project cd my-new-project rm -rf .git npm install</code> </pre> <br>  Tentu saja, Anda dapat mengubah nama proyek, proyek <code>my-new-project</code> , menjadi nama proyek Anda. <br><br>  Setelah menginstal semua yang Anda butuhkan, Anda dapat mulai mengerjakan proyek.  Yaitu, kita berbicara tentang hal berikut: <br><br><ul><li>  Folder <code>src/ui</code> berisi file-file bagian klien dari aplikasi (di sini Preact dan htm digunakan). </li><li>  Folder <code>src/server</code> berisi file yang terkait dengan sisi server aplikasi (Fastify digunakan di sini). </li></ul><br>  Dengan mengedit file yang sesuai, Anda dapat menjalankan proyek: <br><br><pre> <code class="plaintext hljs">npm start</code> </pre> <br>  Setelah itu, Anda dapat mengujinya dengan masuk ke <code>localhost:3000</code> address di browser. <br><br>  Dan satu hal lagi.  Jika Anda menyukai perkembangan saya, saya akan sangat berterima kasih atas bintang di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> . <br><br>  Sekarang mari kita lihat teknologi yang digunakan di sini dan fitur-fitur yang bekerja dengannya. <br><br><h2>  <font color="#3AC1EF">Fastify</font> </h2><br>  Fastify adalah kerangka kerja web yang cepat dan ekonomis untuk Node.js.  Proyek ini awalnya dibuat oleh dua programmer.  Sekarang tim dari mereka yang mengerjakannya memiliki 10 orang, lebih dari 130 orang membantu dalam pengembangan proyek, ia mengumpulkan hampir 10.000 bintang di GitHub. <br><br>  Fastify dipengaruhi oleh kerangka kerja Node.js seperti Express dan Hapi, yang telah ada selama beberapa waktu.  Awalnya ditujukan untuk produktivitas, pada kenyamanan programmer dan memperluas kemampuannya dengan bantuan plugin.  Omong-omong, ini adalah salah satu fitur favorit saya dari Fastify. <br><br>  Jika Anda tidak terbiasa dengan kerangka kerja Fastify atau ingin mengetahuinya lebih baik, saya dapat merekomendasikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> resminya. <br><br>  Perlu dicatat bahwa saya terkait dengan Fastify.  Saya adalah anggota tim pengembangan utama dan saya terutama terlibat dalam mendukung lokasi proyek dan mengerjakan dokumentasinya. <br><br><h2>  <font color="#3AC1EF">Preact</font> </h2><br>  Preact adalah pustaka untuk mengembangkan antarmuka pengguna untuk proyek web, yang dibuat oleh satu orang sebagai pengganti yang ringkas dan cepat untuk React.  Proyek ini ternyata cukup sukses, sekarang seluruh tim pengembang terlibat di dalamnya, di GitHub ia mencetak lebih dari 20.000 bintang. <br><br>  Salah satu alasan saya menyukai Preact adalah bahwa perpustakaan ini memiliki lapisan yang dapat diperluas untuk menggambarkan komponen visual aplikasi.  Dalam keadaan normal, perpustakaan ini dapat digunakan menggunakan JSX dalam kombinasi dengan Babel untuk menerjemahkan kode, tetapi jika Anda tidak ingin menginstal Babel dan mengkonfigurasi proses pembuatan aplikasi, Anda dapat menggunakan Preact, misalnya, bersama-sama dengan perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">htm</a> , yang menggunakan templat literal dan tidak memerlukan transpilasi saat meluncurkan proyek yang digunakan dalam peramban modern. <br><br>  Pada artikel ini kita akan menggunakan perpustakaan htm dan akan segera mempertimbangkan beberapa contoh. <br><br><h2>  <font color="#3AC1EF">Tinjauan Proyek</font> </h2><br>  Di sini kita melihat seluruh proses pembuatan proyek.  Tujuan kami adalah mengembangkan aplikasi web sederhana yang menampilkan informasi tentang waktu di server pada saat peluncurannya.  Di sini, untuk memperjelas apa yang akan kita perjuangkan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d8/9fe/c12/4d89fec1291d3ab9b66f7673af992d06.png"></div><br>  <i><font color="#999999">Aplikasi di browser</font></i> <br><br>  Ini adalah Aplikasi Halaman Tunggal (SPA), di mana Preact dan htm digunakan untuk membentuk bagian kliennya, dan Fastify digunakan untuk membuat API yang dirancang untuk menerima waktu server. <br><br>  Pembaca yang penuh perhatian mungkin memperhatikan bahwa halaman yang ditunjukkan pada gambar sebelumnya memiliki ikon favicon yang cantik.  Benar, dia sangat kecil di sana, jadi saya akan memfasilitasi tugas untuk mereka yang, dengan mata putus asa, mencoba untuk melihat.  Ini versi yang diperbesar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aaa/3a8/c3b/aaa3a8c3b25bba5f361af23d9af0f22b.jpg"></div><br>  <i><font color="#999999">Favicon</font></i> <br><br><h2>  <font color="#3AC1EF">Menyiapkan sisi server aplikasi</font> </h2><br>  Mari kita mulai dengan membuat folder baru: <br><br><pre> <code class="plaintext hljs">mkdir server-time cd server-time</code> </pre> <br>  Sekarang inisialisasi proyek NPM dan instal Fastify: <br><br><pre> <code class="plaintext hljs">npm init -y npm i --save fastify@next fastify-static@next fastify-cli</code> </pre> <br>  Harap dicatat bahwa saya menggunakan konstruk <code>@next</code> ketika menjelaskan beberapa <code>@next</code> dependensi.  Hal ini dilakukan untuk memastikan bahwa proyek tersebut menggunakan perpustakaan Fastify 2, yang saat ini dalam status kandidat rilis, tetapi akan segera menjadi versi stabil utama. <br><br>  Harap dicatat bahwa Anda juga dapat membuat proyek baru berdasarkan Fastify menggunakan <code>fastify-cli</code> baris perintah <code>fastify-cli</code> : <br><br><pre> <code class="plaintext hljs">npx fastify-cli generate server-time</code> </pre> <br>  Pada saat penulisan materi ini, tim ini membuat proyek yang dirancang untuk menggunakan Fastify 1.x, tetapi segera, setelah rilis Fastify 2, alat ini akan diperbarui. <br><br>  Mari kita menganalisis paket yang diinstal: <br><br><ul><li>  <code>fastify</code> adalah komponen inti dari framework. </li><li>  <code>fastify-static</code> adalah plugin tambahan yang memungkinkan Anda melayani file statis dengan mudah dengan server Fastify. </li><li>  <code>fastify-cli</code> adalah alat baris perintah yang memungkinkan Anda membuat proyek berdasarkan Fastify. </li></ul><br>  Saat ini, kami siap membuat API berdasarkan Fastify.  Jadi mari kita letakkan kode server di file <code>src/server/server.js</code> : <br><br><pre> <code class="plaintext hljs">const path = require('path') module.exports = async function(fastify, opts) { //      `src/ui` fastify.register(require('fastify-static'), {   root: path.join(__dirname, '..', 'ui'), }) //     API fastify.get('/api/time', async (request, reply) =&gt; {   return { time: new Date().toISOString() } }) }</code> </pre> <br>  Saya percaya bahwa kode di atas menjelaskan dengan baik, tetapi ada beberapa detail menarik yang layak untuk dibicarakan.  Ini akan sangat berguna bagi mereka yang tidak memiliki pengalaman dengan Fastify. <br><br>  Hal pertama yang dapat Anda perhatikan dalam kode ini adalah bahwa kata kunci <code>async</code> digunakan di sini.  Fastify mendukung pengembangan gaya async / await dan pendekatan panggilan balik yang lebih tradisional.  Apa yang sebenarnya harus dipilih tergantung pada preferensi pengembang tertentu. <br><br>  Detail menarik lainnya adalah kita mendefinisikan server di sini sebagai modul yang diekspor.  Modul ini (ini disebut "plug-in" dalam jargon Fastify) adalah fungsi yang mengambil instance Fastify ( <code>fastify</code> ) dan seperangkat opsi ( <code>opts</code> ) sebagai argumen.  Di dalam deklarasi modul, kita dapat menggunakan instance <code>fastify</code> untuk mendaftarkan plugin.  Inilah yang terjadi dengan plugin <code>fastify-static</code> .  Kami juga dapat menggambarkan titik akhir HTTP menggunakan metode khusus seperti <code>fastify.get</code> dan <code>fastify.post</code> . <br><br>  Pendekatan modular yang digunakan di sini, meskipun terlihat agak tidak biasa, memiliki kelebihan.  Untuk memulainya, perlu dicatat bahwa ini memungkinkan Anda untuk menggabungkan beberapa server.  Bayangkan Anda telah membuat server yang dirancang untuk melayani blog, dan yang lainnya untuk forum.  Mereka dapat dengan mudah diintegrasikan ke dalam aplikasi yang sudah ada dengan melampirkannya ke jalur seperti <code>/blog</code> dan <code>/forum</code> . <br><br>  Selain itu, pendekatan ini memungkinkan Anda untuk mengabstraksi aplikasi dan sub-aplikasi dari binding server (misalnya, socket binding), meneruskan solusi untuk tugas ini baik ke aplikasi root atau <code>fastify-cli</code> . <br><br>  Mulai server menggunakan <code>fastify</code> baris perintah <code>fastify</code> : <br><br><pre> <code class="plaintext hljs">node_modules/.bin/fastify start --log-level info src/server/server.js</code> </pre> <br>  Untuk menyederhanakan hidup kita, kita dapat menambahkan perintah ini ke bagian <code>scripts</code> dari file <code>package.json</code> kita: <br><br><pre> <code class="plaintext hljs">{ "scripts": {   "start": "fastify start --log-level info src/server/server.js" } }</code> </pre> <br>  Sebelum benar-benar memulai server, kita perlu memastikan bahwa ada folder di mana sumber daya statis akan ditemukan.  Jika tidak, <code>fastify-static</code> akan <code>fastify-static</code> kesalahan.  Buat folder ini: <br><br><pre> <code class="plaintext hljs">mkdir src/ui</code> </pre> <br>  Sekarang kita dapat memulai aplikasi dengan perintah <code>npm start</code> dan menavigasi menggunakan browser ke <code>localhost:3000/api/time</code> . <br><br>  Jika semuanya berfungsi dengan benar, di browser Anda dapat melihat sesuatu seperti berikut: <br><br><pre> <code class="plaintext hljs">{ "time": "2019-02-17T19:32:03.354Z" }</code> </pre> <br>  Pada titik ini, Anda dapat menghargai fitur lain dari Fastify.  Itu terletak pada kenyataan bahwa serialisasi JSON, dalam hal rute tertentu mengembalikan objek, diterapkan secara otomatis. <br><br>  Sekarang pekerjaan di server API selesai.  Mari kita memiliki frontend. <br><br><h2>  <font color="#3AC1EF">Pengaturan frontend</font> </h2><br>  Semua kode proyek kami yang terkait dengan frontend akan berlokasi di folder <code>src/ui</code> .  Ini akan terdiri dari 5 file: <br><br><ul><li>  <code>app.js</code> - Kode aplikasi preact. </li><li>  <code>bootstrap.min.css</code> - kode CSS untuk menata aplikasi (diambil langsung dari kerangka Bootstrap). </li><li>  <code>favicon.ico</code> - file favicon.  Jika Anda mengembangkan aplikasi serius, Anda tidak dapat melakukannya tanpa file favicon yang baik. </li><li>  <code>index.html</code> adalah file HTML utama aplikasi satu halaman kami. </li><li>  <code>preacthtm.js</code> - kode perpustakaan Preact dan htm. </li></ul><br>  Pertama, letakkan file di folder, yang merupakan gaya, perpustakaan, dan ikon favicon: <br><br><pre> <code class="plaintext hljs">curl "https://unpkg.com/htm@2.0.0/preact/standalone.js" &gt; src/ui/preacthtm.js curl "https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" &gt; src/ui/bootstrap.min.css curl "https://github.com/lmammino/fastify-preact-htm-boilerplate/blob/master/src/ui/favicon.ico?raw=true" &gt; src/ui/favicon.ico</code> </pre> <br>  Sekarang buat file <code>src/ui/index.html</code> : <br><br><pre> <code class="plaintext hljs">&lt;!DOCTYPE html&gt; &lt;html lang="en"&gt; &lt;head&gt;   &lt;meta charset="utf-8" /&gt;   &lt;meta     name="viewport"     content="width=device-width, initial-scale=1, shrink-to-fit=no"   /&gt;   &lt;!-- Bootstrap CSS --&gt;   &lt;link rel="stylesheet" href="/bootstrap.min.css" /&gt;   &lt;title&gt;My awesome server time&lt;/title&gt; &lt;/head&gt; &lt;body&gt;   &lt;div id="app"&gt;&lt;/div&gt;   &lt;!-- JavaScript --&gt;   &lt;script src="/preacthtm.js"&gt;&lt;/script&gt;   &lt;script src="/app.js"&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre> <br>  Kami memiliki halaman HTML yang sangat biasa di mana kami memuat semua sumber daya (CSS dan JS) dan membuat elemen <code>&lt;div&gt;</code> kosong dengan <code>app</code> pengenal, di mana kami akan menampilkan aplikasi kami selama pelaksanaan proyek. <br><br>  Sekarang lihat kode aplikasi, yang seharusnya ada di file <code>src/ui/app.js</code> : <br><br><pre> <code class="plaintext hljs">/*  htmPreact */ const { html, Component, render } = htmPreact class App extends Component { componentDidMount() {   this.setState({ loading: true, time: null })   fetch('/api/time')     .then(response =&gt; response.json())     .then(data =&gt; this.setState({ loading: false, time: data.time })) } render(props, state) {   return html`     &lt;div class="container mt-5"&gt;       &lt;div class="row justify-content-center"&gt;         &lt;div class="col"&gt;           &lt;h1&gt;Hello from your new App&lt;/h1&gt;           &lt;div&gt;             ${state.loading &amp;&amp;               html`                 &lt;p&gt;Loading time from server...&lt;/p&gt;               `} ${state.time &amp;&amp;               html`                 &lt;p&gt;Time from server: &lt;i&gt;&lt;font color="#999999"&gt;${state.time}&lt;/font&gt;&lt;/i&gt; &lt;/p&gt;               `}           &lt;/div&gt;           &lt;hr /&gt;           &lt;div&gt;             Have fun changing the code from this boilerplate:             &lt;ul&gt;               &lt;li&gt;UI code available at &lt;code&gt;/src/ui&lt;/code&gt;&lt;/li&gt;               &lt;li&gt;Server-side code available at &lt;code&gt;/src/server&lt;/code&gt;&lt;/li&gt;             &lt;/ul&gt;           &lt;/div&gt;         &lt;/div&gt;       &lt;/div&gt;     &lt;/div&gt;   ` } } render( html`   &lt;${App} /&gt; `, document.getElementById('app') )</code> </pre> <br>  Hanya ada satu komponen stateful dalam aplikasi ini yang disebut <code>App</code> .  Keadaan komponen ini mencakup 2 variabel: <br><br><ul><li>  <code>loading</code> adalah variabel logis yang digunakan untuk menunjukkan apakah permintaan ke API server sedang dilakukan pada titik waktu tertentu untuk mendapatkan informasi tentang waktu server. </li><li>  <code>time</code> - string yang berisi informasi waktu terbaru yang diterima dari server. </li></ul><br>  Jika Anda terbiasa dengan Bereaksi, maka Anda dapat dengan mudah memahami kode di atas. <br>  Menggunakan Preact dan htm, kita dapat membuat komponen dengan mendeklarasikan kelas yang memperluas kelas <code>Component</code> bawaan. <br><br>  Di kelas ini, kita bisa menggambarkan perilaku komponen menggunakan metode siklus hidup seperti <code>componentDidMount()</code> , dan juga menggunakan metode yang berperilaku seperti metode <code>render()</code> dari React. <br><br>  Dalam kasus kami, segera setelah komponen dilampirkan ke halaman (metode <code>componentDidMount()</code> ), kami menetapkan properti <code>loading</code> status dan menjalankan permintaan API menggunakan <code>fetch</code> . <br>  Setelah permintaan selesai, kami menetapkan nilai properti status <code>time</code> dan mengatur ulang properti <code>loading</code> ke <code>false</code> . <br><br>  Metode <code>render()</code> dipanggil secara otomatis setiap kali status komponen berubah atau ketika properti baru diteruskan ke sana.  Dalam metode ini, kami menggambarkan komponen DOM menggunakan htm. <br><br>  Pustaka htm memungkinkan Anda untuk menggambarkan node DOM menggunakan literal templat yang ditandai dengan tag- <code>html</code> .  Dalam literal templat kami, ekspresi dinamis mungkin ada, seperti yang kami gunakan untuk memeriksa status dan memutuskan apa yang akan ditampilkan jika aplikasi memuat data dari server, dan jika data sudah dimuat. <br><br>  Perlu juga dicatat bahwa kita perlu membuat instance aplikasi dan menampilkannya pada halaman HTML.  Ini dilakukan dengan menggunakan fungsi <code>render()</code> dari objek global <code>htmPreact</code> . <br><br>  Sekarang pekerjaan pada aplikasi front-end selesai.  Anda dapat me-restart server, pergi ke <code>localhost:3000</code> dan bereksperimen dengan apa yang baru saja kita buat.  Misalnya, Anda dapat mengembangkan sendiri berdasarkan aplikasi ini.  Dan ketika apa yang Anda buat tampaknya cukup menarik untuk ditunjukkan kepada orang lain, mungkin akan berguna bagi Anda untuk mengemas aplikasi Anda dalam wadah Docker. <br><br><h2>  <font color="#3AC1EF">Aplikasi kontainerisasi</font> </h2><br>  Saya percaya bahwa cara terbaik untuk menunjukkan proyek kecil baru Anda kepada orang lain adalah dengan menggunakan kemampuan Docker untuk tujuan ini. <br><br>  Berkat Docker, siapa pun yang mencoba menjalankan aplikasi Anda di rumah akan dibebaskan dari memikirkan apakah ia memiliki versi Node.js dan NPM yang sesuai, ia tidak perlu mengunduh kode sumber aplikasi untuk mengurusnya dengan memasukkan urutan perintah yang benar. , instal dependensinya dan mulai server. <br><br>  Untuk mengemas aplikasi ke dalam wadah Docker, kita perlu membuat <code>Dockerfile</code> sangat sederhana di folder root dari proyek kami: <br><br><pre> <code class="plaintext hljs">FROM node:11-alpine WORKDIR /app COPY . /app RUN npm install --production EXPOSE 3000 CMD ["npm", "start"]</code> </pre> <br>  Di sini kami menjelaskan tindakan berikut: <br><br><ul><li>  Gambar ini dibuat berdasarkan gambar Node.js 11, dibangun berdasarkan Alpine Linux. </li><li>  Semuanya dari folder saat ini disalin ke folder <code>/app</code> wadah. </li><li>  Setelah itu, kami menjalankan perintah <code>npm install</code> untuk mengunduh dan menginstal dependensi.  Menggunakan flag <code>--production</code> mengarah pada fakta bahwa hanya dependensi yang diperlukan untuk penyebaran proyek dalam produksi yang akan diinstal.  Ini mempercepat pembuatan gambar jika proyek menggunakan banyak dependensi pengembangan. </li><li>  Kami menunjukkan bahwa wadah harus memiliki pori terbuka 3000, di mana, secara default, server akan berfungsi. </li><li>  Pada akhirnya, kami menggambarkan sebuah perintah, <code>npm start</code> , yang akan dieksekusi ketika wadah mulai.  Dia meluncurkan aplikasi. </li></ul><br>  Untuk mengumpulkan gambar untuk wadah, jalankan perintah berikut: <br><br><pre> <code class="plaintext hljs">docker build -t server-time .</code> </pre> <br>  Setelah beberapa detik, gambar akan siap dan Anda dapat memulai wadah: <br><br><pre> <code class="plaintext hljs">docker run -it -p 3000:3000 server-time</code> </pre> <br>  <code>-p</code> memungkinkan Anda untuk mengkonfigurasi koneksi antara port kontainer 3000 dan port lokal 3000. Ini akan memungkinkan Anda untuk mengakses aplikasi kemas di <code>localhost:3000</code> . <br>  Sekarang Anda siap untuk membagikan aplikasi Anda dengan orang lain.  Untuk menjalankannya di lingkungan Docker, itu sudah cukup, asalkan Docker diinstal pada komputer, untuk menjalankan dua perintah di atas dalam foldernya. <br><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Pada artikel ini, kami berbicara tentang cara membuat lingkungan untuk pengembangan cepat aplikasi web menggunakan Fastify dan Preact.  Selain itu, kami berbicara tentang cara berbagi aplikasi dengan orang lain menggunakan Docker. <br><br>  Seperti disebutkan di atas, alat yang diusulkan dirancang untuk pembuatan prototipe cepat, jadi sekarang Anda mungkin bertanya-tanya apa yang hilang di sini untuk mengembangkan aplikasi nyata.  Kemungkinan besar, ketika Anda berbicara tentang "aplikasi nyata", maksud Anda adalah fitur berikut: <br><br><ul><li>  Kompilasi sumber daya dari bagian ujung depan aplikasi: pembuatan file yang dioptimalkan (bundel), mungkin menggunakan Webpack, Babel, atau alat lainnya. </li><li>  Routing di front-end aplikasi. </li><li>  Render server </li><li>  Sarana penyimpanan data permanen. </li></ul><br>  Semua kemungkinan untuk mengembangkan aplikasi nyata ini belum ditambahkan ke set teknologi yang dibahas di sini, jadi saya masih menganggapnya sebagai alat untuk mengembangkan prototipe.  Saya yakin bahwa jika Anda menyukai apa yang Anda lihat, dan Anda menganggap semua ini sebagai dasar untuk aplikasi masa depan yang memecahkan masalah nyata, Anda dapat dengan mudah menemukan apa yang Anda butuhkan dan membuat aplikasi yang siap untuk Fastify dan Preact. rilis produksi. <br><br>  <b>Pembaca yang budiman!</b>  Bagaimana Anda membuat prototipe aplikasi web? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id442652/">https://habr.com/ru/post/id442652/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id442642/index.html">Apa yang harus dibaca di bulan Maret: 22 buku baru untuk pemasar, manajer, pengembang, dan desainer</a></li>
<li><a href="../id442644/index.html">Sebagian besar keterampilan non-pemrograman meningkatkan nilai pengembang</a></li>
<li><a href="../id442646/index.html">Kubernetes Networks: Ingress</a></li>
<li><a href="../id442648/index.html">Go mekanisme alokasi</a></li>
<li><a href="../id442650/index.html">Analisis dan optimalisasi aplikasi Bereaksi</a></li>
<li><a href="../id442654/index.html">Beralih ke Next.js dan mempercepat pemuatan beranda manifold.co 7,5 kali</a></li>
<li><a href="../id442658/index.html">8 trik untuk bekerja dengan CSS: paralaks, sticky footer dan lainnya</a></li>
<li><a href="../id442660/index.html">Matematika Merekonsiliasi Newton dengan Dunia Kuantum</a></li>
<li><a href="../id442662/index.html">Cara menonton SDDL dan tidak mematahkan mata Anda pada titik koma</a></li>
<li><a href="../id442664/index.html">QIWI Kitchen 6 Februari - bagaimana + presentasi pembicara</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>