<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฝ โญ๏ธ ๐ ุนูุฏูุง ูุชู ุชุณููู ุงูุจุฑูุฏ: ููุงูุญุฉ ููุฏุงู ุฅุนูุงูุงุช ุงูุฏูุน ูู ูุธุงู ุงูุชุดุบูู iOS ๐ ๐ ๐ค</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุฌุงูุจ ุงููุณุชุฎุฏู ุ ูุนุฏ ุนููู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุชุทุจูููุง ุจุณูุทูุง. ูุถุญู ูุทูุฑู Yandex.Mail ุฃู ููุงู ุซูุงุซ ุดุงุดุงุช ููุท ูู ุงูุชุทุจูู: ูุงุฆูุฉ ูู ุงูุฑุณุงุฆู ุ ุงุฑุณุงู ุฎุทุงุจ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุนูุฏูุง ูุชู ุชุณููู ุงูุจุฑูุฏ: ููุงูุญุฉ ููุฏุงู ุฅุนูุงูุงุช ุงูุฏูุน ูู ูุธุงู ุงูุชุดุบูู iOS</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/462507/" style=";text-align:right;direction:rtl">  ูู ุฌุงูุจ ุงููุณุชุฎุฏู ุ ูุนุฏ ุนููู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุชุทุจูููุง ุจุณูุทูุง.  ูุถุญู ูุทูุฑู Yandex.Mail ุฃู ููุงู ุซูุงุซ ุดุงุดุงุช ููุท ูู ุงูุชุทุจูู: ูุงุฆูุฉ ูู ุงูุฑุณุงุฆู ุ  ุงุฑุณุงู ุฎุทุงุจ  ุนู ุงูุดุงุดุฉ. <br><br>  ูููู ุงููุซูุฑ ูู ุงูุฃุดูุงุก ุงููุซูุฑุฉ ููุงูุชูุงู ุชุญุฏุซ ุชุญุช ุงูุบุทุงุก.  ูุซู ุงูุนุฏูุฏ ูู ุชุทุจููุงุช ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ ุ ูุณุชุฎุฏู Mail ุฅุนูุงูุงุช ุงูุฏูุน ููุชูุงุนู ูุน ุงููุณุชุฎุฏููู.  ูุซู ุงูุนุฏูุฏ ูู ุชุทุจููุงุช iOS ุ ูููุฏ Mail ุจุนุถ ุงูุฅุดุนุงุฑุงุช ูุธุฑูุง ูุทุจูุนุฉ ุฎุฏูุฉ ุฅุนูุงู Apple Push. <br><br>  <strong>ุณูุซุจุช Asya Sviridenko</strong> ุ ุฑุฆูุณ ูุฌููุนุฉ Yandex.Mail iOS ุ ุฃูู ุญุชู ูุน ูุฌูุฏ ูููุฏ ุนูู ุงููุธุงู ุ ูู ุงููููู ูุงูุถุฑูุฑู ุงูุชุนุงูู ูุน ููุฏุงู ุฅุดุนุงุฑุงุช ุงูุฏูุน ุฅุฐุง ูุงูุช ุถุฑูุฑูุฉ ูุชุทุจููู.  ููุทุจู ูุฐุง ุนูู Mail ุ ูุฃู ุฅุนูุงูุงุช ุงูุฏูุน ุงูุฎุงุตุฉ ุจุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ูู ูุง ูููู ุงููุณุชุฎุฏู ุจุชุซุจูุช ุงูุชุทุจูู ูู ุฃุฌูู.  ุฅุฐุง ูู ููู ุชุณููู ุฅุดุนุงุฑุงุช ุงูุฏูุน ุฃูุฑูุง ุจุงูุบ ุงูุฃูููุฉ ุจุงููุณุจุฉ ููุชุทุจูู ุงูุฎุงุต ุจู ุ ููุง ูุฒุงู ูู ุงููุซูุฑ ููุงูุชูุงู ูุนุฑูุฉ ุฃู ุงูุฏุฑุงุฌุงุช ุงูุชู ุชุฑุงููุช ุนูู Yandex.Mail ุงููุญููู. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SVCMbPIuy8w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  ูุชุนูู ุงูุฃูุฑ ุจุงูุฅุดุนุงุฑ ุนู ุจุนุฏ ุ ุฃู ุงูุฅุดุนุงุฑุงุช ุงูุชู ุชุฃุชู ูู ุงูุฎุงุฏู ูู ุฎูุงู APNs (ุฎุฏูุฉ ุฅุนูุงู Apple Push).  ูู ูุชุทุฑู ุฅูู ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉ ููุชุญุฏุซ ุนู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููู ุชุจุฏู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุชุนุงูู ูุน ุฅุดุนุงุฑุงุช ุงูุฏูุน.  ููุฑ ูู ูุฎุทุท ุชุณููู ุฅุดุนุงุฑ ุงูุฏูุน ูุฃูู ูููู ุฃู ุชุญุฏุซ ุฎุณุงุฆุฑ ูู ูุฐุง ุงููุฎุทุท. </li><li style=";text-align:right;direction:rtl">  ููู ูุฑุฑุช ุงูุชุนุงูู ูุน ุงูุฎุณุงุฆุฑ ูู Yandex.Mail - ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฅุดุนุงุฑุงุช. </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุชุณุฌูู ุงูุฏุฎูู ููุง ุงูุตุนูุจุงุช ุงูุฃุฎุฑู ุงูุชู ูููู ููุงุฌูุชูุง. </li></ul><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ูุง ูุฏููุง ูุญูุซ ูุฎุณุฑ </h2><br>  ุงูุขู ุชุนุฏ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุชุนุงูู ูุน ุฅุดุนุงุฑุงุช ุงูุฏูุน ุฃูุฑูุง ููููุง ุจุฏุฑุฌุฉ ูุงููุฉ ุชุชูุญ ูู ุงูููุงู ุจุงูุนุฏูุฏ ูู ุงูุฃุดูุงุก ุงููุซูุฑุฉ ููุงูุชูุงู.  ูููู ูุฐุง ูู ููู ุงูุญุงู ุฏุงุฆูุง. <br><br><img src="https://habrastorage.org/webt/p6/ln/n1/p6lnn1nbbopnz4xr9k2xiuf1dre.jpeg"><br><br>  ูู ุงูุณุงุจู ุ ูุงูุช ุฅุดุนุงุฑุงุช ุงูุฏูุน ุชุดุจู ูุฐุง ุชูุงููุง - ููุฏ ูุงูุช ููุญุฉ ูุนูููุงุช ุฒุฑูุงุก ูุคุณูุฉ ุธูุฑุช ุนูู ุงูุดุงุดุฉ ุ ูุญุธุฑุช ุงูุนูู ูุน ุงูุชุทุจูู ุงูุญุงูู ุ ููู ุชุณูุญ ุจุฃู ุดูุก ุ ุซู ุงุฎุชูุช ุฅูู ุงูุฃุจุฏ ุ ููู ูุนุฏ ููุงู ุชุฐููุฑ ุจุฐูู. <br><br>  ููุฏ ูุฑ ุงูููุช ุงููุงูู ููุฐ ุฐูู ุงูุญูู. <br><br><img src="https://habrastorage.org/webt/nq/kr/9j/nqkr9jbh2v4nwacrbhksoa1tpy0.jpeg"><br><br>  ุจุงููุณุจุฉ ููุง ุ ููุทูุฑูู ุ <strong>ุจุฏุฃ ูู ุดูุก ูู ูุธุงู ุงูุชุดุบูู iOS 3</strong> ุนูุฏูุง ุฃุตุจุญุช ุฅุนูุงูุงุช ุงูุฏูุน ูุชุงุญุฉ ูููุชุจุงุช ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ. <br><br>  <strong>ุธูุฑ ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช ูู ูุธุงู ุงูุชุดุบูู iOS 5</strong> ุ ูุชูููุช ุฅุดุนุงุฑุงุช ุงูุฏูุน ุนู ุงูุฐูุงุจ ุฅูู ุฃู ููุงู ุ ูุงูุขู ุชุธู ูู ูุฑูุฒ ุงูุฅุดุนุงุฑุงุช ุ ุญูุซ ูููู ุนุฑุถูุง ูุฑุฉ ุฃุฎุฑู. <br><br>  <strong>IOS 6 ูุฏู ูุง ุชุฒุนุฌ</strong> .  ูุฏู ุงููุณุชุฎุฏู ุงููุฑุตุฉ ูุชุนููู ุงููุชุฑุฉ ุงูุฒูููุฉ ุงูุชู ูุง ูุฑูุฏ ุฎูุงููุง ุชููู ุงูุฅุนูุงูุงุช. <br><br>  ุชุชุนูู ูุฐู ุงูุชุบููุฑุงุช ุฃุณุงุณูุง ุจููููุฉ ุนูู ุงููุณุชุฎุฏู ูุน ุฅุดุนุงุฑุงุช ุงูุฏูุน ุ ูููู ูููู ุฃู ูุฌุนู ุญูุงุชู ุฃูุซุฑ ุฑุงุญุฉ ุ ูููุณ ููู ูููู ูููุทูุฑูู ุงูุชุฃุซูุฑ ุนูู ุงูุฅุดุนุงุฑุงุช. <br><br>  ุจุงููุณุจุฉ ูููุทูุฑูู ุ ูุงู <strong>iOS 8</strong> ุญุฏุซูุง ููููุง <strong>ูุธููุฑ Notification Action</strong> ุ ูุงูุฐู ุณูุญ ุจุชูููุฐ ุฅุฌุฑุงุกุงุช ุฎุงุตุฉ ุจุชุทุจูู ูุนูู ุนู ุทุฑูู ุฅุนูุงูุงุช ุงูุฏูุน. <br><br>  <strong>ููุฏู IOS 10 ุงูุชุฏุงุฏ ุฎุฏูุฉ ุงูุฅุนูุงู ูุชูุฏูุฏ ูุญุชูู ุงูุฅุนูุงู</strong> .  ุงูุฃูู ูุชูุญ ูู ุชุนุฏูู ุฅุดุนุงุฑ ุงูุฏูุน ูุจู ุฃู ูุชู ุนุฑุถู ุนูู ุงููุณุชุฎุฏู.  ูุงูุซุงูู ูู ุฅุธูุงุฑ ุจุนุถ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุนู ุทุฑูู ุฅุนูุงู ุงูุฏูุน ูู ุฅุนูุงู ุงูุฏูุน ุ ูุงูุฐู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุนุฑุถ ูุนูููุงุช ุฃูุซุฑ ุชูุตููุงู.  ูู ูุธุงู ุงูุชุดุบูู iOS 10 ุ ูุงูุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุฐู ุบูุฑ ูุงุจูุฉ ููููุฑ - ููููู ูุดุงูุฏุชูุง ุ ููุง ููููู ููุณูุง. <br><br>  <strong>ูุฏู IOS 11 ุฅุนุฏุงุฏุงุช ุฎุตูุตูุฉ ุงูุฅุฎุทุงุฑ</strong> .  ุงูุขู ูููู ูููุณุชุฎุฏู ุงูุงูุชูุงู ุฅูู ุงูุฅุนุฏุงุฏุงุช ูุงูุฅุดุงุฑุฉ ุฅูู ูุง ุฅุฐุง ูุงู ูุฑูุฏ ุนุฑุถ ูุญุชููุงุช ุงูุฅุนูุงูุงุช ุงููุงุฑุฏุฉ.  ูุฐู ุฎุทูุฉ ูุจูุฑุฉ ูุญู ุงูุฃูู.  ุงุณุชุบุฑู ุงูุฃูุฑ 8 ุฅุตุฏุงุฑุงุช ููุท ูู ูุธุงู ุงูุชุดุบูู iOS ูููู ุฃู ุงููุณุชุฎุฏููู ูุง ูุฑูุฏูู ุฃู ุชุธูุฑ ุงููุนูููุงุช ุงูุดุฎุตูุฉ ุจุดูู ููุงุฌุฆ ุนูู ุฌูุงุฒ iPhone ุงูููุฌูุฏ ุนูู ุงูุทุงููุฉ. <br><br>  <strong>ูู ูุธุงู ุงูุชุดุบูู iOS 12 ุ ุฃุตุจุญ ูู ุงููููู ุชุฌููุน ุฅุดุนุงุฑุงุช ุงูุฏูุน</strong> ุจูุงุณุทุฉ ูุนุฑู ูุคุดุฑ ุงูุชุฑุงุจุท ุ ูุฃุตุจุญุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุชู ุชููููุงูุง ูู ูุธุงู ุงูุชุดุบูู iOS 10 ูุน ุงูุชุฏุงุฏ ูุญุชูู ุงูุฅุดุนุงุฑ ูุงุจูุฉ ููููุฑ.  ููููู ุงูุขู ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ูุงูุชุญูู ุจุงูุฅููุงุกุงุช ููุงู - ูู ุฐูู ูุณุงุนุฏ ุงููุณุชุฎุฏู ุนูู ุงูุชูุงุนู ูุน ูุงุฌูุฉ ุงููุณุชุฎุฏู. <br><br><h2 style=";text-align:right;direction:rtl">  ุฏูุน ุงูุฅุฎุทุงุฑุงุช ุงูููู </h2><br>  ููุง ุชุฑูู ุ ูุทุนุช ุฅุดุนุงุฑุงุช ุงูุฏูุน ุดูุทูุง ุทููููุง ุ ูุงูููู ููููู ุจูุณุงุนุฏุชูู ูุนู ุงููุซูุฑ ูู ุงูุฃุดูุงุก. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฑุณุงุฆู ุงููุตูุฉ ูุงูุชุนุฑูุจ </h3><br>  ููุง ูุงู ูู ูุจู ุ ูููููุง ุฅุฑุณุงู ุฑุณุงุฆู ูุตูุฉ ูู ุฅุดุนุงุฑ ุฏูุน ุ ููู ุงูุขู ููููู ุชุญุฏูุฏ ููุงุชูุญ ุงูุชุนุฑูุจ. <br><br><pre style=";text-align:right;direction:rtl"><code class="swift hljs"><span class="hljs-string"><span class="hljs-string">"aps"</span></span> : { <span class="hljs-string"><span class="hljs-string">"alert"</span></span> : { <span class="hljs-string"><span class="hljs-string">"title"</span></span> : <span class="hljs-string"><span class="hljs-string">"New Mail"</span></span>, <span class="hljs-string"><span class="hljs-string">"subtitle-loc-key"</span></span> : <span class="hljs-string"><span class="hljs-string">"alert_subtitle_localization_key"</span></span>, <span class="hljs-string"><span class="hljs-string">"loc-key"</span></span> : <span class="hljs-string"><span class="hljs-string">"alert_body_localization_key"</span></span>, } }</code> </pre> <br>  ุฅุฐุง ููุช ุจุชุญุฏูุฏ <code>subtitle-loc-key</code> ู <code>loc-key</code> ูู ุฅุดุนุงุฑ ุงูุญูููุฉ ุงููุงูุนุฉ ุ ูุนูุฏูุง ูุตู ุฅุดุนุงุฑ ุงูุฏูุน ุฅูู ุงูุฌูุงุฒ ุ ุณูุชู ุงูุนุซูุฑ ุนูู ุงูููู ุงููุงุฒูุฉ ูู ููู Localizable.string ููุชุทุจูู ูุณูุธูุฑ ุงููุณุชุฎุฏู ุฑุณุงูุฉ ูุชุฑุฌูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูุจูู ุตูุชู ูุญุฑุฌ </h3><br>  ููุง ูุงู ูู ูุจู ุ ููููู ุฅุถุงูุฉ ุฃุตูุงุช ูุฅุนูุงูุงุช ุงูุญูููุฉ ุงููุงูุนุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-string"><span class="hljs-string">"aps"</span></span> : { <span class="hljs-string"><span class="hljs-string">"sound"</span></span> : { <span class="hljs-string"><span class="hljs-string">"critical"</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"bingbong.aiff"</span></span>, <span class="hljs-string"><span class="hljs-string">"volume"</span></span> : <span class="hljs-number"><span class="hljs-number">1.0</span></span>, } }</code> </pre> <br>  IOS 12 ูุฏูู ุชูุจูู ุญุฑุฌ.  ูุฐู ูู ุงูุฃุตูุงุช ุงูุชู ุณูุชู ุชุดุบูููุง ุญุชู ูู ูุงู ุงููุณุชุฎุฏู ูู ูุถุน ุนุฏู ุงูุฅุฒุนุงุฌ. <br><br>  ุนุงุฏุฉู ุ ูุง ูุญุชุงุฌ ุงููุณุชุฎุฏู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูู ุชุทุจูู ุงุดุชุฑุงู ูุฌูุฉ ูู ุงูููู ููุฅุจูุงุบ ุนู ุฅุตุฏุงุฑ ุฑูู ุฌุฏูุฏ.  ูุฐูู ุ ุชููู Apple ุจุชูููุฏ ุงูุชุทุจููุงุช ุงูุชู ูููููุง ุงุณุชุฎุฏุงู ุงูุชูุจูู ุงูุญุฑุฌ.  ุฅุฐุง ูุงู ุชุทุจููู ูุนูู ูุน ุงูุตุญุฉ ุฃู ุงูุณูุงูุฉ ุฃู ููุช ุชุนุชูุฏ ุฃู ุงูุชูุจูู ุงูุญุฑุฌ ูู ุดูุก ูููู ุฃู ูุณุงุนุฏ ุงููุณุชุฎุฏููู ุญููุง ุนูู ุงูุชูุงุนู ูุน ุงูุชุทุจูู ุงูุฎุงุต ุจู ุ ูุงูุชุจ ุฅูู Apple.  ุฑุจูุง ุณูุณูุญ ูู ุจุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฅุฎุทุงุฑุงุช ุงูุตุงูุชุฉ </h3><br>  ุงููุณุชุฎุฏู ูุง ูุฑู ุงูุฅุฎุทุงุฑุงุช ุงูุตุงูุชุฉ.  ูุฃุชูู ูุจุงุดุฑุฉ ุฅูู ุงูุชุทุจูู ุ ููุณุชููุธูู ููุณูุญูู ูู ุจุชูููุฐ ุจุนุถ ุงูุฅุฌุฑุงุกุงุช ูุชุญุฏูุซ ุงูุชุทุจูู: ุฅุฑุณุงู ุทูุจ ุฅูู ุงูุฎุงุฏู ุ ูุทูุจ ุงูุจูุงูุงุช ูู ุงูุฎูููุฉ ุ ูุชุญุฏูุซ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุญูุซ ูุฑู ุงููุณุชุฎุฏู ุนูุฏูุง ูุฏุฎู ุงูุชุทุจูู ุ ูุฑู ุงูุจูุงูุงุช ุงููุญุฏุซุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-string"><span class="hljs-string">"aps"</span></span> : { <span class="hljs-string"><span class="hljs-string">"content-available"</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">//   alert, sound  badge   payload }</span></span></code> </pre> <br>  ููู ูุตุจุญ ุฅุดุนุงุฑ ุงูุฏูุน ุตุงูุชูุง ุ ูุฌุจ ุฃู ุชุญุฏุฏ ูู ุงูุญูููุฉ ุงููุงูุนุฉ: <code>"content-available" : 1</code> .  ููุง ุชุญุฏุฏ ููุงุชูุญ ุงูุชูุจูู ูุงูุตูุช ูุงูุดุงุฑุงุช ูู ุงูุญูููุฉ - ููู ุบูุฑ ูุฌุฏูุฉ ุชูุงููุง ูุฅุดุนุงุฑุงุช ุงูุฏูุน ุงูุชู ูู ุชุธูุฑ ูููุณุชุฎุฏู. <br><br><h3 style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ุงูุฅุฎุทุงุฑ </h3><br>  ูุชุฌููุน ุงูุฑุณุงุฆู ุ ูุฌุจ ุนููู ุชุญุฏูุฏ "ูุนุฑู ุงูููุถูุน" ูู ุงูุญูููุฉ ุงููุงูุนุฉ.  ูููู ุฃู ูุญุชูู ุนูู ุนุฏุฉ ููู ุฏุงุฎู ููุณ ุงูุชุทุจูู ุ ุฅุฐุง ููุช ุชุฑูุฏ ุงูุชุฌููุน ุจุทุฑู ูุฎุชููุฉ: ุญุณุจ ุงูุญุณุงุจุงุช ุ ุจูุงุณุทุฉ ุงููุณุชูููู ุ ุญุณุจ ุงูููุถูุน. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-string"><span class="hljs-string">"aps"</span></span> : { <span class="hljs-string"><span class="hljs-string">"thread-id"</span></span> : <span class="hljs-string"><span class="hljs-string">"any_thread_identifier"</span></span> }</code> </pre> <br>  ูุฐุง ุฃูุฑ ูุฑูุญ ููุบุงูุฉ ุ ูุฃู ุฅุดุนุงุฑุงุช ุงูุฏูุน ุงูุขู ูุง ุชุดุบู ูู ุงููุณุงุญุฉ ุนูู ุงูุดุงุดุฉ ุงูููููุฉ ุ ูููู ูุชู ุชุฌููุนูุง ูุนูุง.  ุฅุฐุง ูู ุชูู ุชุณุชุฎุฏู ูุฐู ุงููุธููุฉ ุจุงููุนู ุ ููุฏ ุญุงู ุงูููุช ููุจุฏุก. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงูุฅุดุนุงุฑ ูุจู ุฅุธูุงุฑู </h3><br>  ูููู ุชุบููุฑ ุฅุนูุงูุงุช ุงูุฏูุน ูุจู ุนุฑุถูุง.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ "ููุญู ูุญุชูู ุงูุฅุนูุงู" ุฅูู ุงูุชุทุจูู ูุชุฌุงูุฒ ุทุฑููุฉ <code>didReceive</code> .  ูู ูุฐู ุงูุทุฑููุฉ ุ ููููู ุงูุญุตูู ุนูู ูุญุชูู ุงูุฅุดุนุงุฑ ูุชุนุฏููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-string"><span class="hljs-string">"aps"</span></span> : { <span class="hljs-string"><span class="hljs-string">"mutable-content"</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">didReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> request: UNNotificationRequest, withContentHandler contentHandler: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(UNNotificationContent)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mutableContent = request.content.mutableCopy() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>? <span class="hljs-type"><span class="hljs-type">UNMutableNotificationContent</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { contentHandler(request.content); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } mutableContent.subtitle = <span class="hljs-string"><span class="hljs-string">"Got it!"</span></span> contentHandler(mutableContent) }</code> </pre> <br>  ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฅุฑุณุงู ุฑุงุจุท ุฅูู ูุญุชูู ุงููุณุงุฆุท ูู ุงูุฅุดุนุงุฑ ุ ูุชูุฒูู ุงููุญุชูู ูู ููุญู ุ ูุฅุฑูุงู ุงูุชูุฒูู ุงูุฐู ุชู ุชูุฒููู ุจุงูุฅุดุนุงุฑ.  ุจุนุฏ ุฐูู ุ ุงุณุชููู ุงูููุงููุฉ ูุน ุณูุงู ุฌุฏูุฏ ุ ูุฃุธูุฑ ูููุณุชุฎุฏู ุฅุดุนุงุฑ ุฏูุน ููุชุฏ.  ููููู ุชุบููุฑ ุงูุนููุงู ูุงูุนููุงู ุงููุฑุนู ููุง ุฅูู ุฐูู. <br><br>  ููุงู ุญุงูุฉ ุฃุฎุฑู ูุซูุฑุฉ ููุงูุชูุงู ููู ุฃูู ููููู ุฅุฑุณุงู ุฅุดุนุงุฑ ุฏูุน ูุน ุณูุงู ูุดูุฑ ุ ุฅุฐุง ููุช ุชุฑูุฏ ุญูุงูุฉ ุงูุจูุงูุงุช ุจุดูู ุฅุถุงูู ุ ููู ุชุทูุน ุนูููุง Apple.  ูู ุงูุชุฏุงุฏ ูุญุชูู ุงูุฅุดุนุงุฑุงุช ุ ููููู ูู ุชุดููุฑูุง ูุฅุธูุงุฑ ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุชู ุชู ูู ุชุดููุฑูุง ุจุงููุนู. <br><br><h3 style=";text-align:right;direction:rtl">  ูุญุชูู ุงูุฅุฎุทุงุฑ ุงููุฎูู </h3><br>  ูู ูุธุงู iOS 11 ุ ุฃุตุจุญ ูู ุงููููู ุฅุฎูุงุก ูุญุชููุงุช ุฅุดุนุงุฑุงุช ุงูุฏูุน ุ ููุญู ุ ููุทูุฑูู ุ ูุง ูููููุง ุงูุชุฃุซูุฑ ูู ูุฐุง ุจุฃู ุดูู ูู ุงูุฃุดูุงู.  ุฅุฐุง ุญุฏุฏ ุงููุณุชุฎุฏู "ุฅุฎูุงุก ูุญุชูู ุงูุฅุดุนุงุฑ" ุ ูุณูุชู ุฅุฎูุงุคู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู.  ูู ูุง ูููููุง ูุนูู ูู ูู ุฎูุงู UNNotificationCategory ูุชุญุฏูุฏ ุนูุตุฑ ูุงุฆุจ ุณูุชู ุนุฑุถู ุจุฏูุงู ูู ุงููุญุชูู (ุงูุชุฑุงุถููุง ุ ูุฐุง ุฅุฎุทุงุฑ) ุ ููุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ุณูุชู ุนุฑุถ ุงูุนููุงู ุฃู ุงูุนููุงู ุงููุฑุนู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> commentCategory = <span class="hljs-type"><span class="hljs-type">UNNotificationCategory</span></span>(identifier: <span class="hljs-string"><span class="hljs-string">"comment-category"</span></span>, actions: [], intentIdentifiers: [], hiddenPreviewsBodyPlaceholder: <span class="hljs-type"><span class="hljs-type">NSString</span></span>.localizedUserNotificationString(forKey:<span class="hljs-string"><span class="hljs-string">"COMMENT_KEY"</span></span>,arguments: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), options: [.hiddenPreviewsShowTitle])</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุฎุทูุงุช ุงูุฅุฎุทุงุฑ ุฏูู ุชุดุบูู ุงูุชุทุจูู </h3><br>  ูู ุฃุฌู ุชูููุฐ ุฅุฌุฑุงุกุงุช ุฅุนูุงู ุงูุฏูุน ุฏูู ุชุดุบูู ุงูุชุทุจูู ููุณู ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุฆุฉ ูุฅุถุงูุฉ ุฅุฌุฑุงุก ุฅูููุง.  ูุชู ุชูุฑูุฑ ูุนุฑู ุงููุฆุฉ ุฅูู ุญูู ุงููุฆุฉ ูู ุฅุนูุงู ุงูุญูููุฉ ุงููุงูุนุฉ.  ููููู ุชูุตูู ุฅุฌุฑุงุกุงุช ูุฎุชููุฉ ุจุฃููุงุน ูุฎุชููุฉ ูู ุงูุฅุดุนุงุฑุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-string"><span class="hljs-string">"aps"</span></span> : { <span class="hljs-string"><span class="hljs-string">"category"</span></span> : <span class="hljs-string"><span class="hljs-string">"message"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> action = <span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>(identifier:<span class="hljs-string"><span class="hljs-string">"reply"</span></span>, title:<span class="hljs-string"><span class="hljs-string">"Reply"</span></span>, options:[]) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> category = <span class="hljs-type"><span class="hljs-type">UNNotificationCategory</span></span>(identifier: <span class="hljs-string"><span class="hljs-string">"message"</span></span>, actions: [action], minimalActions: [action], intentIdentifiers: [], options: []) <span class="hljs-type"><span class="hljs-type">UNUserNotificationCenter</span></span>.current().setNotificationCategories([category])</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงูุฅุฎุทุงุฑุงุช ุงูุบููุฉ </h3><br>  ูู ูุฐุง ุงูููุญู ุ ููููู ูุนุงูุฌุฉ ุงูุฅุฌุฑุงุกุงุช ุงูุฅุถุงููุฉ ุงูุชู ุฃุถูุชูุง ุฅูู ุฅุดุนุงุฑ ุงูุฏูุน ูุนุฑุถ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุฎุตุตุฉ. <br><br>  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ "ููุญู ูุญุชูู ุงูุฅุนูุงู" ุฅูู ุงูุชุทุจูู ุ ูุชุญุฏูุฏ ูุฆุฉ ููู ูุฑุซ ูู UNNotificationContentExtension ุ ุซู ุงูุนูู ูุนู ููุง ูู ุงูุญุงู ูุน UIViewController ุงูุนุงุฏูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotificationViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UNNotificationContentExtension</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@IBOutlet</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> userLabel: <span class="hljs-type"><span class="hljs-type">UILabel?</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">didReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> notification: UNNotification)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> content = notification.request.content <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.title = content.title <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> userInfo = content.userInfo <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.userLabel?.text = userInfo[<span class="hljs-string"><span class="hljs-string">"video-user"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>? <span class="hljs-type"><span class="hljs-type">String</span></span> } }</code> </pre> <br>  ุฅุฐุง ููุช ุชููู ุจูุนุงูุฌุฉ ุฅุฌุฑุงุกุงุช ูุฎุตุตุฉ ุ ููู ุงูููู ุฃู ุชุชุฐูุฑ ุฃู ูุฐู ุงูุฅุฌุฑุงุกุงุช ุชุณุชุญู ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุชู ุชุนุฑุถูุง ูููุณุชุฎุฏู.  ูุง ุญุงุฌุฉ ููุญุงููุฉ ุชูููุฐ ููุทู ุงูุนูู ูู ูุฐุง ุงูููุญู.  ุฅุฑุณุงู ุทูุจ ุฅูู ุงูุฎุงุฏู ุนู ุทุฑูู ุงูุนูู ูุน ุฅุดุนุงุฑ ุงูุฏูุน ูู ุงูุชุทุจูู ุงูุฑุฆูุณู ุ ูููุณ ููุง.  ูุฐุง ุงูููุงู ูู ููุงุฌูุฉ ุงููุณุชุฎุฏู ููุท. <br><br><h2 style=";text-align:right;direction:rtl">  ูุธุงู ุชุณููู ุงูุฅุดุนุงุฑุงุช ุจุงูุฏูุน </h2><br>  ุชุนุฑู ุนูู ููุฏุงุฑ ูุง ููููู ูุนูู ุจุงุณุชุฎุฏุงู ุฅุดุนุงุฑุงุช ุงูุฏูุน ูู iOS.  ูู ุงูุฅุตุฏุงุฑ ุฅูู ุงูุฅุตุฏุงุฑ ุ ูุฏููุง ุงููุฒูุฏ ูุงููุฒูุฏ ูู ุงููุธุงุฆู ุงูุฌุฏูุฏุฉ ุ ููู ูุธุงู ุชุณููู ุฅุนูุงู ุงูุฏูุน ุงูุขู ูู ููุณู ุชูุงููุง ููุง ูุงู ูู ูุธุงู iOS 3. <br><br><img src="https://habrastorage.org/webt/gt/pb/dd/gtpbdd_4eu403euuueyxscvk8bw.jpeg"><br><br>  ูุฏ ูุนุชูุฏ ุงููุฑุก ุฃู ูุฎุทุท ุชุณููู ุฅุดุนุงุฑ ุงูุฏูุน ูุงู ุฌูุฏูุง ูู ุงูุจุฏุงูุฉ ุ ูููู ููุณ ูุฐูู. <br><br>  ููุงู ุซูุงุซ ููุงุท ุฑุฆูุณูุฉ ูู ูุธุงู ุชุณููู ุฅุดุนุงุฑ ุงูุฏูุน: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุฒูุฏ ุงูุฐู ููุดุฆ ุฅุนูุงูุงุช ุงูุฏูุน ุงูุญูููุฉ ุงููุงูุนุฉ. </li><li style=";text-align:right;direction:rtl">  APNs - ุฎุฏูุฉ Apple Push Notification Service ุ ุงูุชู ุชูุฏู ุฅุดุนุงุฑูุง ุ </li><li style=";text-align:right;direction:rtl">  ุฌูุงุฒ iOS ูุชุทุจููู. </li></ul><br>  ุณูู ุฃุชุฎุทู ุงูุฌุฒุก ุงูุฎุงุต ุจููููุฉ ุงูุชุณุฌูู ูุงุณุชูุงู ุงูุฑูุฒ ุงููููุฒ ูููุงู ุฅุฑุณุงูู.  ูููุชุฑุถ ุฃู ูุฏููุง ูู ูุฐุง.  ูุงุฐุง ูุญุฏุซ ุจุนุฏ ุฐููุ <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุงููุฒูุฏ ุจุชูููุฏ ุญูููุฉ ูุฅุฑุณุงููุง ุฅูู APNs. </li><li style=";text-align:right;direction:rtl">  APNs ุชุฑุณููุง ุฅูู ุงูุฌูุงุฒ. </li><li style=";text-align:right;direction:rtl">  ูุฑู ุงููุณุชุฎุฏู ุฑุณุงูุฉ ุฏูุน ุนูู ุฌูุงุฒู. </li></ul><br>  ูุณุชุฎุฏู ุงูุจุฑูุฏ ูุงูุนุฏูุฏ ูู ุงูุชุทุจููุงุช ุงูุฃุฎุฑู ูุธุงู ุชุณููู ุฅุนูุงู ุงูุฏูุน ุงููุชูุฏูุฉ.  ุชุชู ุฅุถุงูุฉ ููุญู ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช ุ ูุงูุฐู ูุณุชูุจู ุฅุดุนุงุฑุงุช ุงูุฏูุน <code>"mutable-content" : 1</code> .  ูููุณู ุงููููุฑ ุฅูู ุฎุงุฏู ูุชุนุงูู ูุน ููุทู ุงููุงุฌูุฉ ุงูุฎูููุฉ ููุชุทุจูู ุ ูุงููุฒูุฏ ููุณู ุ ุงูุฐู ูููุฏ ุญูููุฉ ููุชุนุงูู ูุน ุงูุงุดุชุฑุงูุงุช. <br><br>  ูู Yandex ุ ูุทูู ุนูู ุงููููุฑ ุงูุฐู ูุดูู ุงูุญูููุฉ ุงููุงูุนุฉ XIVA.  XIVA ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุงุดุชุฑุงู.  ูุณุชุฎุฏู ุงูุจุฑูุฏ XIVA ููุนูู ูุน ุฅุดุนุงุฑุงุช ุงูุฏูุน ูููุชุจุฉ ุชุงุจุนุฉ ูุฌูุฉ ุฎุงุฑุฌูุฉ. <br><br>  ูู Mail ุ ูุชู ุชูุธูู ุงูุนูู ุจุงุณุชุฎุฏุงู ุงูุงุดุชุฑุงูุงุช ุจุดูู ุชุงูู ุชูุงููุง.  ูุญู ูุง ูููุน ููุท ุนูู ุทูุจ ุงูุฅุฎุทุงุฑุงุช ุ ูุฏููุง ุญุณุงุจ ูุชุนุฏุฏ.  ูููููุง ุชุณุฌูู ุญุณุงุจุงุช ูุฎุชููุฉ ุ ุฃู ุถูู ุญุณุงุจ ูุงุญุฏ ุ ุงุฎุชูุงุฑ ุงููุฌูุฏุงุช ุงูุชู ูุฑูุฏ ุงููุณุชุฎุฏู ุชููู ุงูุฅุฎุทุงุฑุงุช ูุชูู ุงูุชู ูุง ูุฑูุฏูุง.  XIVA ูุชุนุงูู ูุน ูู ูุฐุง.  ุชุนูู ุจุนุถ ุฎุฏูุงุช Yandex ุงูุฃุฎุฑู ุฃูุถูุง ูู ุฎูุงู XIVA: ูุชู ุชุฎุฒูู ุฌููุน ุงููุนูููุงุช ุญูู ุงูุชุทุจููุงุช ูุงูุฅุดุนุงุฑุงุช ูุงูุงุดุชุฑุงูุงุช ูุงูุฑููุฒ ูู XIVA. <br><br><h3 style=";text-align:right;direction:rtl">  ุฃูู ุงูุฎุณุงุฆุฑุ </h3><br>  ููุงู ุฃุฑุจุนุฉ ุฃุณูู ูู ูุธุงู ุชุณููู ุฅุนูุงู ุงูุฏูุน ุ ูููู ุฃู ุชุญุฏุซ ุงูุฎุณุงุฆุฑ ูู ุซูุงุซุฉ ูู ูุฐู ุงูุชุญููุงุช. <br><br>  <strong>ุจูู ุงูุฎุงุฏู ู XIVA ุ</strong> ูุฏ ุชุญุฏุซ ุฎุณุงุฆุฑ ูู ุงูุญุงูุฉ ุงูุชุงููุฉ.  ุชููู ุงููุณุชุฎุฏู ุฎุทุงุจูุง ุ ููุนุฑู ุงูุฎุงุฏู ุนูู ุ ููููู ุจุฅูุดุงุก ุฅุดุนุงุฑ ูุฅุฑุณุงูู ุฅูู XIVA.  ููู ูุฏ ูููุฏ XIVA ูุฐู ุงููุนูููุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ุงุฎุชุงุฑ ูุณุชุฎุฏู ูู ุงูุชุทุจูู "ุงุดุชุฑุงู" ูู ูุฌูุฏ ูุนูู ุฃุซูุงุก ุนุฏู ุงูุงุชุตุงู.  ุซู ูู ุชุชููู XIVA ูุนูููุงุช ุญูู ุงูุงุดุชุฑุงู ูู ุงููุฌูุฏ ุ ูุนูุฏ ูุตูู ุงูุญูููุฉ ุงูุตุงููุฉ ุ ุณุชููู ุจุญุฐููุง ุจุจุณุงุทุฉ ููู ูุฑู ุงููุณุชุฎุฏู ุงูุฅุดุนุงุฑ. <br><br>  <strong>ุจูู XIVA ู APNs</strong> ุ ูุฏ ูุญุฏุซ ููุฏุงู ุงูุดุจูุฉ.  ุจุงููุงุฏ ูุณุชุทูุน ุงูุชุฃุซูุฑ ุนูู ุงูุดุจูุฉ ุ ูุฐูู ูู ูุชูุงูู ูุฐู ุงูููุทุฉ. <br><br>  <strong>ุจูู APNs ู Extension ุ ุฃู APNS ู iOS</strong> ุฅุฐุง ููุช ูุง ุชุณุชุฎุฏู Extension.  ูุฐุง ูู ุฃูุซุฑ ุฃููุงุน ุงูุฎุณุงุฑุฉ ุดููุนูุง.  ุชุญุฏุซ ูุฐู ุงูุฎุณุงุฆุฑ ูุฃู APNs ูุง ุชุฎุฒู ุฃูุซุฑ ูู ุฏูุนุฉ ูุงุญุฏุฉ ููู ุชุทุจูู ุนูู ุงูุฌูุงุฒ.  ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ุบูุฑ ูุชุตู ุจุงูุฅูุชุฑูุช ุ ูุฅูู ูุชููู ุงูุนุฏูุฏ ูู ุงูุฅุฎุทุงุฑุงุช ุ ูุนูุฏูุง ูุชุตู ุจุงูุฅูุชุฑูุช ุ ูุณูู ูุฑู ุงูุฑุณุงูุฉ ุงูุฃุฎูุฑุฉ ููุท. <br><br>  ูุฐู ูู ููุณ ุงูุฎุณุงุฆุฑ ุงูุชู ูุง ุชุณูุญ ููุง ุจุถูุงู ุงูุชุณููู ูุงูุงุนุชูุงุฏ ุนูู ุฅุดุนุงุฑุงุช ุงูุฏูุน.  ุฃุจู ููุชุจ ุจูุถูุญ ุฃู ุงูุชุณููู ุบูุฑ ูุถููู. <br><br>  <strong>ุจูู ุชุทุจูู Extension ู iOS ุ</strong> <strong><em>ูุง</em></strong> <strong>ูููู</strong> <strong><em>ุญุฏูุซ</em></strong> <strong>ุฎุณุงุฆุฑ</strong> <strong>ุ ูุชุถูู Apple ุฐูู.</strong>  ุฅุฐุง ููุช ุชุณุชุฎุฏู ุงูุงูุชุฏุงุฏ ูุชุฌุงูุฒุช didReceiveContent ูุน ุทุฑููุฉ ุงูุฅููุงู ุ ุญุชู ุฅุฐุง ูู ุชุชุตู ุจูุฐุง ุงูุฅููุงู ุ ูุณูุธูุฑ ุงูุฅุฎุทุงุฑ ุนูู ุฃู ุญุงู.  ูุฐุง ูู ุงูููู ุฃู ูุชุฐูุฑ.  ูุง ูุฌูุฒ ูู ุงูุงุชุตุงู ุจู ุฃู ููุณ ูุฏูู ููุช ููุงุชุตุงู ุจู ุ ูููู ุจุนุฏ ุฐูู ุณูุชู ุนุฑุถ ุงูุฅุดุนุงุฑ ุฏูู ุฃู ุชุบููุฑุงุช ุ ูู ุงููููุฐุฌ ุงูุฐู ูุฃุชู ุจู ูู APNs. <br><br>  ุณููุธุฑ ูู ููููุฉ ุชุนุงูููุง ูุน ุงูุฎุณุงุฆุฑ ุจูู APNs ู Extension.  ูููู ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฒูุงุฏุฉ ุฅููุงููุฉ ุชุณููู ุฅุดุนุงุฑ ุงูุฏูุน ุ ููู ุจุฅููุงุก ูุธุฑุฉ ุนูู ุงููุฎุทุท ุจุงููุงูู.  ุชุญูู ููุง ุฅุฐุง ูุงูุช ููุงู ุฃูุฉ ุฎุณุงุฆุฑ ุนูู ุฌุงูุจ ุงูุฎุฏูุฉ ุ ููุง ุฅุฐุง ูุงู ูุฒูุฏ ุงูุฎุฏูุฉ ูุชูุงุนู ุจุดูู ุทุจูุนู ูุน APNs ููุง ุฅูู ุฐูู.  ุชุญูู ูู ุงูุณูุณูุฉ ุจุฃููููุง ูููุงุณูุง ุ ุซู ุงุณุชุฎูุต ุงููุชุงุฆุฌ ุงูุชู ุชุญุฏุซ ูููุง ูุนุธู ุงูุฎุณุงุฆุฑ ูุฃู ุฌุฒุก ูู ูุฐู ุงูุฏุงุฆุฑุฉ ูุฌุจ ุชุนุฏููู. <br><br><h2 style=";text-align:right;direction:rtl">  ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฅุดุนุงุฑุงุช </h2><br>  ุทุฑููุชูุง ููุชุนุงูู ูุน ุงูุฎุณุงุฆุฑ ูู ุญุฒูุฉ APNs ู Extension ุฃุทูููุง ุนูููุง ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฅุดุนุงุฑุงุช. <br><br>  ุฅุฐุง ููุช ุจุถุบุท ุงููุตุฉ ุจุฃููููุง ุนูู ุนุจุงุฑุฉ ูุงุญุฏุฉ ุ ูุณุชููู: <br><blockquote style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงุชุชู ุฅุดุนุงุฑ ุงูุฏูุน ุ ููููู ุทูุจ ุฐูู ูุฑุฉ ุฃุฎุฑู. </blockquote><br><img src="https://habrastorage.org/webt/mi/dl/c8/midlc81bedgy18xv4gzgmkyb7zo.jpeg"><br><br>  ูู ูุธุงู ุชุณููู ุงูุฅุดุนุงุฑุงุช ูุฏููุง ุ ูููู ุฌููุน ุงููุดุงุฑููู ุฃููุณูู: XIVA ู APNs ู Extension.  ูุฎุทุท ูุจุณุท ูุนูู ูุซู ูุฐุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู XIVA ุจุชุฑููู ุฅุดุนุงุฑุงุช ุงูุฏูุน ุงูุชู ูุนุชุฒู ุฅุฑุณุงููุง ุฅูู APNs ุ ูุนูุฏูุง ููุท ูุฑุณู ุงููุนูููุงุช. </li><li style=";text-align:right;direction:rtl">  ุชุชููู ุงูุฅุถุงูุฉ ุฑูู ุฅุดุนุงุฑ ุงูุฏูุน 1 ุ ูุจุนุฏ ูุฑูุฑ ุจุนุถ ุงูููุช ุ ุงูุฑูู 3. ููู ุชุชููู ุฃู ุจุนุถ ุงูุจูุงูุงุช ููููุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฑุณู ุฅูู XIVA ุทูุจูุง ูุน ุขุฎุฑ ููุถุน ุชู ุงุณุชูุงูู ุ ูุฑููุง ููุทูุจ ุฅุฑุณุงู ุงูุจูุงูุงุช ุงูููููุฏุฉ ูุฑุฉ ุฃุฎุฑู. </li><li style=";text-align:right;direction:rtl">  ุชููู XIVA ุจุฅุนุงุฏุฉ ุฅุฑุณุงู ุฅุดุนุงุฑ ุงูุฏูุน ูุฃูู ูุฎุฒู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุญูููุฉ ููุงุนุฏุฉ ุจูุงูุงุช ุงูุงุดุชุฑุงู.  ูุชู ุชุฎุฒูู ุฌููุน ุงูุงุดุชุฑุงูุงุช ูุจุนุถ ุงูููุช ููููู ุฅุนุงุฏุฉ ุทูุจูุง. </li><li style=";text-align:right;direction:rtl">  ูุนูุฏ ุงูุทูุจ ุ ูุชููู ุฅุดุนุงุฑูุง ุจุงูุฏูุน ุ ููุฏููุง ุนูู ุงูุนููู ุฌููุน ุงูุฑุณุงุฆู ุงูุชู ูุงู ูุฌุจ ุนูู ุงูุนููู ุงุณุชูุงููุง. </li></ul><br>  ุงููุดููุฉ ุงูุฃููู ุงููุชููุนุฉ ูู ุงูุฅุฎุทุงุฑุงุช ุงูููุฑุฑุฉ.  ุนูุฏูุง ูุนูุฏ ุทูุจ ุฑุณุงูุฉ ูู XIVA ุ ูุง ูุนุฑู ูุง ูู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ููุฅุฑุณุงู ุ ูุฃููุง ูุชูุงุตู ูุนูุง ููุณ ุจุดูู ูุจุงุดุฑ ุ ูููู ูู ุฎูุงู APNs.  ุงูุชุฑุถ ุฃููุง ุฑุฃููุง ุฃู ุจุนุถ ุงูุฅุนูุงูุงุช ููููุฏุฉ ุ ูุฃุฑุณููุง ุทูุจูุง ุฅูู XIVA.  ุฃุฑุณูุช XIVA ุนุจุฑ APNs ุงูุญูููุฉ ูุน ุฅุฎุทุงุฑ ูู ูุฑุฏ ุนูููุง.  ูููู ูุจู ุชููููุงูุง ุ ุชููููุง ุญูููุฉ ุฃุฎุฑู ูุฃูุถูุง ุจุชูุฑูุฑุฉ.  ุทูุจูุง ูุฑุฉ ุฃุฎุฑู - ุฃุฑุณูุช XIVA ูุฑุฉ ุฃุฎุฑู. <br><br>  ุจุญูุซ ูุง ูุชู ุชูุฑุงุฑ ุงูุฅุฎุทุงุฑุงุช ุ ูุณุชุฎุฏู <strong>apns-ุทู-id</strong> .  ูุชูุญ ูุฐุง ุงูุฅุนุฏุงุฏ ูุฌุงูุจ iOS ุงูููุงุฑ ุฅุดุนุงุฑุงุช ุงูุฏูุน ุจููุณ ุงููุนุฑู.  ุฅุฐุง ูุตูุช ุงูุนุฏูุฏ ูู ุฅุดุนุงุฑุงุช ุงูุฏูุน ุงูุชู ุชุญูู ููุณ ูุนุฑู apns -apse-id ุฅูู ุงูุฌูุงุฒ ุ ูุณูุคุฏู ุฐูู ุฅูู ุงูููุงุฑ ูุธุงู iOS ูุณูุดุงูุฏ ุงููุณุชุฎุฏู ุฅุดุนุงุฑูุง ูุงุญุฏูุง ููุท. <br><br><h3 style=";text-align:right;direction:rtl">  XIVA </h3><br>  ุณูู ุฃุฎุจุฑู ููู ูุนูู ูู ุดูุก ุนูู XIVA ุ ูุฃูู ูู ุงูุบุฑูุจ ุฏุงุฆููุง ูุง ูุญุฏุซ ูู ุงููุงุฌูุฉ ุงูุฎูููุฉ. <br><br>  ูุงูุช XIVA ููุฌูุฏุฉ ูุจู ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฅุดุนุงุฑุงุช ููุงูุช ูุงุนุฏุฉ ุจูุงูุงุช ุงุดุชุฑุงู.  ูู ุงูููู ุฃู ูุชู ุชุฎุฒูู ูู ุดูุก ูู ูุจู ุงููุณุชุฎุฏููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุงู ุงูููุชุงุญ <code>&lt;service, user&gt;</code> . </li><li style=";text-align:right;direction:rtl">  ุชู ุชุฎุฒูู ุงูุญูููุฉ ุงูุตุงููุฉ ููููุฉ (ุจูุงูุงุช ุญูู ุงูุญุฑูู ูู ุญุงูุฉ ุงูุจุฑูุฏ). </li></ul><br>  ุฃุฎุฐุช XIVA ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฃุฑุณูุช ุฅูู APNs ุฃู ุฎุฏูุฉ ุฃุฎุฑู ุ ูุฃูู ูุง ูุนูู ููุท ูุน iOS.  ูุฑุฑูุง ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงููุง. <br><br>  ููุฏ ุฌุฆูุง ุฅูู ูุฑูู ุงูุชุทููุฑ XIVA ูุทูุจูุง ุญููุง ูุงุฆูุฉ ุงูุชุธุงุฑ ุฅุดุนุงุฑ ุงูุฏูุน.  ูู ุญูุซ ุงููุจุฏุฃ ุ ูุงู ูุฏู XIVA ุจุงููุนู ูู ุดูุก ูู ุฃุฌู ูุฐุง: ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ TTL ููุญูููุงุช ุ ุฃู ูุง ูุชู ุญุฐููุง ุนูู ุงูููุฑ ุ ููููู ุฅุนุงุฏุฉ ุชูุฌูููุง.  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูุงู ููููุฏูุง ูู ุฃูู ูุงู ูู ุงููููู ุชููุฆุฉ ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฅุดุนุงุฑุงุช ุจุงูุฏูุน ูุฌุฒุก ูู ุชุทุจูู XIVA ุงูุญุงูู - ุฅูู ุชุฑููู ูู ุทุฑู ุฅูู ุทุฑู. <br><br>  ุจุงููุณุจุฉ ููุชุฑููู ุงูุชูุฑูุฑู ุ ูุฌุจ ุชุฑููู ุฅุนูุงูุงุช ุงูุฏูุน ุญุณุจ ุงูุฌูุงุฒ ูุงุณู ุงูุชุทุจูู.  ุฃู ุฃู ุงูุชุฑููู ูู ุทุฑู ุฅูู ุทุฑู ูุทููุจ ูุฌูุงุฒ ูุนูู ููุชุทุจูู ูุนูู ูู ุฃุฌู ุงูุงุนุชูุงุฏ ุนููู ูู ุฌุงูุจ ุงูุนููู.  ููุฏ ูููุง ุจุฐูู ุนูู ุงููุญู ุงูุชุงูู: ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช XIVA ุ ููููุง ุจุฏุฃูุง ูู ูุชุงุจุฉ ุญูููุงุชูุง ุจุงุณุชุฎุฏุงู ููุชุงุญ ูุฎุชูู.  ุชุนูู apns_queue ุงูุขู ูุฎุฏูุฉ ุ ูุซู user <code>device_id + app_name</code> - ููุณ ุงูุจูุงูุงุช ุงูุชู ุชุญุชุงุฌ ุฅูู ุชุฑููู ุนูู ุงูุนููู ุ ุฃู <code>key: &lt;apns_queue, device_id + app_name&gt;</code> . <br><br>  ุงูุขู ุชุฃุฎุฐ XIVA ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ ูุชุถุนูุง ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุฅุฑุณุงููุง.  ูู ูุฐู ุงููุฑุญูุฉ ุ ุชุชููู ุงูุญูููุงุช ุงูุตุงููุฉ ุชุฑููููุง ุฌุฏูุฏูุง ุ ูุฃููู ุงูุขู ูู ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูููู ุจุงุณุชุฎุฏุงู ููุชุงุญ ูุฎุชูู.  ุจุงููุนู ูู ููุงู ุ ุชุฃุฎุฐ XIVA ุจูุง ูุชุฑุณููุง ุนุจุฑ APNs.  ูู ุงููุฌููุน ุ ูุชููู ุงูุนููู ุชุฑููู ุงูุญูููุฉ ุงููุงุฒูุฉ. <br><br>  ูุณุชุฎุฏู ุงูุนููู ููุญู ุฎุฏูุฉ ุงูุฅุนูุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">didReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> request: UNNotificationRequest, withContentHandler contentHandler: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(UNNotificationContent)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// . . . }</span></span></code> </pre> <br>  ูุนูุฏ ุชุนุฑูู ุทุฑููุฉ <code>didReceive</code> ููุฑู ูุง ุฌุงุก ูู ุงูุฎุงุฏู.  ูุถูู <code>"mutable-content" : 1</code> ุฅูู ุฌููุน ุฅุดุนุงุฑุงุช ุงูุฏูุน ุจุญูุซ ุชูุน ูู ููุญู ุ ูุฃูู ูุง ูููููุง ูุฑุงุนุงุฉ ุฐูู ูู ุงูุญุณุงุจุงุช. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ููุฌุฏ ูู ุงูููุฏ ุงูููุฌูุฏ ุฏุงุฎู ุงูุทุฑููุฉ ุงุฎุชุจุงุฑุงุช ูุณุชูุฑุฉ: ูุง ุฅุฐุง ูุงูุช ุงูุญูููุฉ ุงููุงูุนุฉ ุถุฑูุฑูุฉ ุ ุฃู ูุง.  ุฅุฐุง ูู ูุชู ุชุญููููุง ุ ููุฐู ุงูุฑุณุงูุฉ ููุณุช ูู XIVA.  ุฅุฐุง ูู ุชูู ุงูุฑุณุงูุฉ ูู XIVA ุ ููู ูุชููู ูู ุงูุงุณุชูุฑุงุฑ ูู ุงูุนูู ูุนูุง ูุจูู ุจุณุงุทุฉ ููุชูู ูู ุฎูุงู ุงูุฅุฎุทุงุฑ ุงููุงุฑุฏ ูู APNs ุ ูุง ูููุฐ ุฃู ุญุณุงุจุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> payload = <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>? <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.payloadParser.parsePayload(from: request.content.userInfo) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  ,     xiva contentHandler(request.content); return }</span></span></code> </pre> <br>  ูููู ุจุชุณุฌูู ุงูุฏุฎูู ุ ุชุญูู ููุง ุฅุฐุง ูุงู ุงูุฌูุงุฒ ูุฏ ุชุบูุฑ ุ ูุธุฑูุง ูุฃููุง ูุนุฑู ุฃูู ูู ุงููููู ูู ูุธุงู iOS.  ุจุตุฑุงุญุฉ ุ ูู ููุงุฌู ุฃู ุชุบููุฑ ูู deviceId ุ ูููู ููุท ูู ุญุงูุฉ ููุงููุง ุจูุนุงูุฌุชู ุ ูุฃูู ุฅุฐุง ุชุบูุฑ ุ ููู ูุชููู ูู ุงููุซูู ุจุงูุฃุฑูุงู ูู XIVA. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.logger.logNotificationReceived(with: payload) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> lastPositionDeviceId != deviceId { <span class="hljs-comment"><span class="hljs-comment">// deviceId ,    lastNotificationPosition = nil lastPositionDeviceId = deviceId }</span></span></code> </pre> <br>  ุนูุงูุฉ ุนูู ุฐูู ุ ููุธุฑ ูููุง ุฅุฐุง ูุงู ุจุฅููุงููุง ุชููู ุจูุงูุงุช XIVA ูู ูุฐู ุงูุญูููุฉ ุ ุณูุงุก ูุงูุช ุฃู ูู ุชูู.  ุฅุฐุง ูู ููู ูุฐูู ุ ูุงุชุตู ุจุงููุญุชูู ูุฑุฉ ุฃุฎุฑู <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> xivaInfo = payload.xivaInfo <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { contentHandler(request.content); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> }</code> </pre> <br>  ุฅุฐุง ูุงูุช ููุงู ุจูุงูุงุช ุ ุชุญูู ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ุงูุฌูุงุฒ ูุฏ ุชููู ุงูุจูุงูุงุช ุฃู ูุง.  ูุฑุณู XIVA ุชุฌุฒุฆุฉ ุงูุฌูุงุฒ ุฅูู ุงูุญูููุฉ ุ ุฅุฐุง ุชู ุงูุชุญูู ููู ููุทุงุจูุชู ุ ูุณูุณุชูุฑ ุ ูุง ุ ูุญู ูุณูู contentHandler. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> isHashCompatible(deviceId: deviceId, deviceIdHash: xivaInfo.deviceIdHash) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">// payload device_id   device_id  contentHandler(request.content); return }</span></span></code> </pre> <br>  ุงููุชูุฉ ุงูุชุงููุฉ ูู ูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ููุงู ููุถุน ูุญููุธ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ููู ูุฏููุง ุขุฎุฑ ููุถุน ุชู ุญูุธู ุ ูุฅููุง ุฅูุง ูู ูุชูู ุงูุฅุฎุทุงุฑุงุช ุจุนุฏ ููู ูุฏุฎู ุงูุฅุถุงูุฉ ุ ุฃู ูุณุจุจ ูุง.  ุซู ูุง ููุฌุฏ ุดูุก ูุฌุจ ุฏูุนู ููุนุซูุฑ ุนูู ุงููุฑู ุงูููููุฏุฉ ุ ููุฏุนู ูุฑุฉ ุฃุฎุฑู ุฅูู ุงูุงูุชูุงุก. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ููุงู ุ ูุงููุถู ูุฏูุง. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> lastPos = lastNotificationPosition <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">//      lastNotificationPosition = xivaInfo.notificationPosition contentHandler(request.content); return }</span></span></code> </pre> <br>  ูุญู ูุญุณุจ ุนุฏุฏ ุงูุฅุฎุทุงุฑุงุช ุงููุงุฆุชุฉ.  ุฅุฐุง ูุงู ููุฏุงู ุงูุตูุฑ ุนูู ูุง ูุฑุงู ุ ููู ููุชูุฏ ุฃู ุดูุก. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> missedMessages = xivaInfo.notificationPosition - lastPos - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> missedMessages &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   pushโ     contentHandler(request.content); return }</span></span></code> </pre> <br>  ุฎูุงู ุฐูู ุ ูุฅููุง ูุฃุฎุฐ ูู XIVA ุจูุงูุงุช ุงููููุน - ูู ููุณ ุงูุชุฑููู ุงููุณุชูุฑ.  ุนูุงูุฉ ุนูู ุฐูู ุ ููุธุฑ ุฅูู ูุง ุฅุฐุง ูุงูุช ูููุฉ ุงููุงุฆุชุฉ ูุง ุชุชุฌุงูุฒ ูููุฉ ูุนููุฉ ูุญุฏุฏุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">lastNotificationPosition = xivaInfo.notificationPosition <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> missedMessages &lt;= repeatMaxCount <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">//    ,   contentHandler(buildNewNotification()); return }</span></span></code> </pre> <br>  ููุงุฐุง ูุฐุง ูุทููุจุ  ูููุชุฑุถ ุฃู ุงููุณุชุฎุฏู ูุงู ุบูุฑ ูุชุตู ุจุงูุฅูุชุฑูุช ููุชุฑุฉ ุทูููุฉ ุ ูุฎูุงู ูุฐุง ุงูููุช ุชู ุชุฌููุน ูุงุฆุฉ ุฑุณุงูุฉ.  ุณูุทูุจ ุงููุงุฆุฉ ูุงููุฉ (ุงูุฃูุฑ ุณูู ุจุงููุณุจุฉ ููุง) ุ ูุณูู ุชุฑุณู XIVA ุงููุงุฆุฉ ุจุงููุงูู ุ ูุณูุชููู ุงููุณุชุฎุฏู ุฌููุน ุงูุฅุดุนุงุฑุงุช.  ุญุชู ูู ูููุง ุจุชุฌููุนูุง ุจูุงุณุทุฉ ูุนุฑู ูุคุดุฑ ุงูุชุฑุงุจุท (ููููุง ุจุชุฌููุนูุง) ุ ููุน ุฐูู ุ ูููู ุฅุฎุทุงุฑ ุ ุณูุชู ุงุณุชุฏุนุงุก ูุฐุง ุงูุงูุชุฏุงุฏ ุ ูุณุชูุฑ ูู ุงูุงุฎุชุจุงุฑุงุช.  ูุจุฏู ูู ุบูุฑ ุงููุญุชูู ุฃู ูุญุชุงุฌ ุงููุณุชุฎุฏู ุฅูู ุฌููุน ุงูุฅุดุนุงุฑุงุช ุงููุงุฆุฉ.  ูุฐูู ุ ูููู ุจุฅูุดุงุก ุฅุดุนุงุฑ ููุชุจ ููู ุฃู ูุฏูู 100 ุฑุณุงูุฉ ูู ูุฑุฏ ุนูููุง ุ ุงูุชูู ุฅูู ุงูุชุทุจูู ูุงุจุญุซ.  ููุนุฑุถ ูููุณุชุฎุฏู ูุฐู ุงูุฑุณุงูุฉ ุจุงูุถุจุท ุ ูุฃูู ูููููุง ุงุณุชุจุฏุงู ุฅุดุนุงุฑุงุช ุงูุฏูุน. <br><br>  ุนูุฏูุง ุชูุชูู ุฌููุน ุงูุดููุงุช ุ ูุฑุณู ุทูุจูุง ุฅูู XIVA: ุขุฎุฑ ููุถุน ุฌุงุก ุฅูููุง ุ ูุนุฏุฏ ุงูุฑุณุงุฆู ุงููุงุฆุชุฉ.  ูุงูุธุฑ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ุฑุฏ XIVA ุจูุฌุงุญ: "ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ุณุฃุฑุณู ุงูุจูุงูุงุช" ุ ูุนุฑุถ ุนูู ุงููุณุชุฎุฏู ุงูุฅุฎุทุงุฑ ุงูุญุงูู ูููุชุธุฑ ุญุชู ูุฑุณู XIVA ูู ุดูุก ุขุฎุฑ ูุณูุดุงูุฏ ุงููุณุชุฎุฏู ุฌููุน ุงูุฑุณุงุฆู ุงูุชู ุชู ุชูููุชูุง. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ุฃุฌุงุจ XIVA ุจุฎุทุฃ ูุง ุ ูุฅููุง ูุนุฑุถ ูููุณุชุฎุฏู ุฅุดุนุงุฑูุง ูุฎุตุตูุง ุจุฃูู ููุฏ ุงูุฑุณุงุฆู ุงูุชู ูููู ุนุฑุถูุง ูู ุงูุชุทุจูู. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.requestMissedNotifications(lastPosition: xivaInfo.notificationPosition, gap: missedMessages) { result <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result.onValue { <span class="hljs-number"><span class="hljs-number">_</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.logger.logNotificationProcessed(with: .success) contentHandler(request.content) }.onError { error <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.logger.logNotificationProcessed(with: .failure(error)) contentHandler(buildNewNotification()) } }</code> </pre> <br>  ูุจุงูุชุงูู ุ ูุฅู ุงูุชุทุจูู ุนูู ุงูุนููู ูุนูุฏ ุฅูู ุนุฏุฏ ูุจูุฑ ูู ุงููุญูุตุงุช ุงูุชู ูููููุง ูู ุฎูุงููุง ูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ูููููุง ุงูุนูู ูุน ุงูุจูุงูุงุช ุงููุณุชููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุทุน ุงูุฃุดุฌุงุฑ ูุงูุตุนูุจุงุช ุงูุฃุฎุฑู </h2><br>  ููุง ุชุนูู ุ ููุชุฃูุฏ ูู ุฃู ุงูููุฌ ูุนูู ุจุดูู ุฌูุฏ ุ ุชุญุชุงุฌ ุฅูู ุชุณุฌูู ุงูุฏุฎูู.  ุจุฏุฃูุง ูู ุฌูุน ุฅุญุตุงุฆูุงุช ุญูู ุทุฑููุฉ ุฌุฏูุฏุฉ ูุชูุฏูู ุงูุฅุฎุทุงุฑุงุช ูููุงุฑูุฉ ููููุฉ ุชุบูุฑ ุงููุงุจููุฉ ููุชุณููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุญุฏูุฏ ุฏูุน ุงูุชูุฏูุฏ </h3><br>  ุฃูู ุดูุก ูุงุฌููุงู ูู ูููุฏ ุชูุฏูุฏ ุงูุถุบุท. <br><br>  <strong>ูุง ูุณูู ุฏุงุฆูุง</strong> .  ุฅุฐุง ููุช ุจุฅููุงู ุชุดุบูู ุงูุฅุดุนุงุฑ ุงูุฐู ูุชู ุฑุณูู ูู ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู (ุชุธู ุงููุฏุฑุฉ ุนูู ุชููู ุฅุดุนุงุฑ ููุฏ ุงูุชุดุบูู ุ ูููู ูุชู ุฅููุงู ุชุดุบูู ูู ุงูุชุฌุณูุฏุงุช ุงูููููุฉ) ุ ููู ูุชู ุงุณุชุฏุนุงุก ุงูุงูุชุฏุงุฏ - ููู ูุชู ุงุณุชุฏุนุงุก ูู ุงูููุทู ุงูุฐู ูุญุชูู ุนูู ุนูููุงุช ุฅุนุงุฏุฉ ุญุณุงุจ ุ ูุงูุฃูู ูู ุฐูู ุฃู ุงูุชุณุฌูู.  ูู ูุชููู ูู ูุนุฑูุฉ ูุง ูู ุฃูู ุจุงููุณุจุฉ ููุง - ูุง ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุฏ ุชููู ุฅุดุนุงุฑูุง ุฃู ูุง. <br><br>  <strong>ุฏูุน ุชูุฏูุฏ ูุฏูู ูููุฉ ุฒูููุฉ</strong> .  ุชุดูุฑ ูุซุงุฆู Apple ุฅูู ุฃูู ูู ุบุถูู 30 ุซุงููุฉ ุชูุฑูุจูุง ุ ููุฒูู ุฅููุงู ุงูุงุชุตุงู ุจุฅุดุนุงุฑ ูุนุฏู ุ ูุฅูุง ูุณูุชู ุนุฑุถ ุงูุฅุดุนุงุฑ ุงูุฃููู. <br><br>  ูุฃุชุณุงุกู ููู ุงูุชุดููุง ุฐูู.  ูููุง ุจุชุทุจูู ููุฒุฉ ุฃุทูููุง ุนูููุง ุฅุดุนุงุฑุงุช ุงูุฏูุน "ุงูุฌูููุฉ" ุ ูุนูุงุตุฑ ุงููุณุงุฆุท ุงููุฑููุฉ ุจุงูุฅุดุนุงุฑุงุช ุ ูุชุบููุฑ ุงูุนููุงู ุ ูุงูุนููุงู ุงููุฑุนู.  ุฃุซูุงุก ุงูุงุฎุชุจุงุฑ ุ ุงุชุถุญ ุฃู ุจุนุถ ุฅุดุนุงุฑุงุช ุงูุฏูุน ุฃุตุจุญุช ุฌูููุฉ ุ ูู ุญูู ุจูู ุงูุจุงูู ูุซู ุงูุจุท ุงููุจูุญ. <br><br>  ุจุฏุฃูุง ููุธุฑ ุฅูู ุงููุฑู ุจูู ุฅุนูุงูุงุช ุงูุฏูุน ูุฐู ููุฌุฏูุง ุฃูู ูุง ููุฌุฏ ูุฑู ุ ููุท ุจุงููุณุจุฉ ูุจุนุถ ุชูููุง ูู ุงุณุชุฏุนุงุก ุงูููุงููุฉ ุ ูููู ุจุงููุณุจุฉ ููุขุฎุฑูู ูู ููู ููุงู. ,   , push-     ,     APNs. <br><br> <strong>  โ  </strong> . Apple ,  ,   push-extension, ,        ,     .   ,    12 . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Apple Developer Forum</a>   ,   ,        .     ,     โ 10 . <br><br>     ,   .      AppMetrica.   , AppMetrica     ,   Extension   .      ,  -   . <br><br>     :    Extension   . <br><br><h3 style=";text-align:right;direction:rtl">   </h3><br>    push-extension    UserDefaults. ,    ,     AppMetrica. <br><br>     .      .   ,          ,      .          ,          .         ,   XIVA (  ),  ,   . <br><br>  ,  Notification Extension   iOS 10  ,       Extension,       ,     . <br><br> <strong> </strong> <strong>AppMetrica</strong> :      , push-extension      .  AppMetrica   push-,   ,             .   ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AppMetrica Push SDK</a> . <br><br> ,   .    โ   ,   .   ,   . <br><br><img src="https://habrastorage.org/webt/tg/k_/nk/tgk_nkvmus8kud-brgg6v9jvmhm.jpeg"><br><br>   โ   ,      ,     . <br><br>  ,     push-,   ,        โ   . <br><br>  ,  ,     .      , โฆ <br><br><h2 style=";text-align:right;direction:rtl">  </h2><br>   :  , ,  .   ,  ?   -  ,     push-?  ,        ?    user experience   ? <br><br><blockquote style=";text-align:right;direction:rtl">       ,       2โ3โ20  ? <br></blockquote><br> , ,  ,  ,  ,   ,  ,  .           ,      push-. ,     . <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h2><br> <strong>Push-  iOS   .</strong>             ,    .. ,    . <br><br> <strong> push-  ( ) .</strong>       .  XIVA. ,     ,     . ,  ,      . ! <br><br> <strong>   push-extension.</strong>     ,    . ,   . <br><br> <strong>,     .</strong> ,     , ,    ,    -  . ,   push-           . , ,      ,      App Store,     ,   ! <br><br><blockquote style=";text-align:right;direction:rtl">   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AppsConf</a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> ,     21  22      ,        ..        50 ,     .  1   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   </a>      ,       โ . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar462507/">https://habr.com/ru/post/ar462507/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar462493/index.html">Multimodel DBMS - ุฃุณุงุณ ูุธู ุงููุนูููุงุช ุงูุญุฏูุซุฉุ</a></li>
<li><a href="../ar462495/index.html">ุงูุฃุญุฏุงุซ ุงูุฑูููุฉ ูู ููุณูู ูู 05 ุฅูู 11 ุฃุบุณุทุณ</a></li>
<li><a href="../ar462501/index.html">ููุงุฐุง ุฃุญุชุงุฌ ุฅูู ุงููุฑุฌุน ุงููุตุฏู ุงูุฎุงุต ุจู</a></li>
<li><a href="../ar462503/index.html">ูุง ูู "ุงูุฅุดุงุฑุงุช ุงูุฐูุจูุฉ" ูููุฑุงูุจุฉ ู SRE ูุ</a></li>
<li><a href="../ar462505/index.html">ูุง ุชุฎุฏุนูู ูุน ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ุงูุฎุงุตุฉ ุจู</a></li>
<li><a href="../ar462509/index.html">Product Fest - ูุคุชูุฑ ุฅุฏุงุฑุฉ ููุชุฌุงุช ุชูููููุฌูุง ุงููุนูููุงุช ุงูุฐู ุชุฑูุฏ ุงูุฐูุงุจ ุฅููู</a></li>
<li><a href="../ar462511/index.html">ุฌูุฌู ุงููุนุจ ุงูููุฑู. ุฅุนุงุฏุฉ ุจูุน ูุฏู ุงูุญูุงุฉ</a></li>
<li><a href="../ar462513/index.html">ุงูููู: ุงูุฅุนุฏุงุฏ ูุงูุงุฎุชูุงุฑ ูุชุทููุฑ ุงูุฃุฑุงุถู</a></li>
<li><a href="../ar462515/index.html">ุงูุฃุฎุทุงุก ุนูุฏ ุงูุนูู ูุน ููุญุฉ ููุงุชูุญ ุงููุธุงู</a></li>
<li><a href="../ar462519/index.html">ูุชุงุจ "Microservices. ุฃููุงุท ุงูุชุทููุฑ ูุฅุนุงุฏุฉ ุงูุจูุงุก ยป</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>