<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöæ üë∏üèª ‚ÑπÔ∏è Luxon: una nueva biblioteca para trabajar con fechas del equipo de Moment.js ü§∞üèæ üë£ üë¶üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Parecer√≠a, ¬øpor qu√© necesitamos otra biblioteca para trabajar con fechas y horas cuando hay una biblioteca Moment bien conocida? Lo m√°s interesante es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Luxon: una nueva biblioteca para trabajar con fechas del equipo de Moment.js</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433850/"><img src="https://habrastorage.org/webt/j1/wb/tr/j1wbtroijv6w7pxb5j1ku-pgdso.jpeg"><br><br>  Parecer√≠a, ¬øpor qu√© necesitamos otra biblioteca para trabajar con fechas y horas cuando hay una biblioteca Moment bien conocida?  Lo m√°s interesante es que la alternativa fue propuesta por el equipo de Moment. <br><a name="habracut"></a><br>  La biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Luxon</a> se declara como una herramienta poderosa, moderna y conveniente para trabajar con fechas y horas en JavaScript.  La biblioteca fue creada por Isaac Cambron, miembro del equipo de desarrollo de Moment desde 2013. <br><br>  El autor ten√≠a muchas ideas para desarrollar Moment, que no pudo hacer en el marco del c√≥digo existente.  Estos son los puntos principales que quer√≠a implementar: <br><br><ul><li>  pruebe algunas ideas sobre c√≥mo hacer que la API sea m√°s l√≥gica (pero estas ideas no eran compatibles con el enfoque adoptado por Moment), </li><li>  implemente el trabajo "listo para usar" con zonas horarias sin extensiones adicionales, </li><li>  repensar completamente el trabajo con internacionalizaci√≥n, teniendo en cuenta el advenimiento de la API Intl, </li><li>  cambiar a un conjunto moderno de herramientas y enfoques en la formaci√≥n de c√≥digo JS. </li></ul><br>  Por lo tanto, decidi√≥ escribir todo desde cero, lo que tom√≥ alrededor de dos a√±os. <br>  El resultado es una especie de versi√≥n modernizada de Moment. <br>  La versi√≥n resultante parec√≠a interesante para todo el equipo de desarrollo de Moment, por lo que se decidi√≥ promover la nueva biblioteca bajo los auspicios del equipo. <br><br><h2>  Principios de Luxon </h2><br><ol><li>  Cadenas de llamadas como en Momento. </li><li>  Todos los tipos son inmutables. </li><li>  API m√°s clara y obvia: para diferentes objetos: diferentes m√©todos con par√°metros claramente definidos. </li><li>  API Intl para la internacionalizaci√≥n (retroceder a la versi√≥n en ingl√©s si el navegador no es compatible con la API Intl). </li><li>  API internacional para trabajar con zonas horarias. </li><li>  Soporte m√°s completo para calcular la duraci√≥n. </li><li>  Soporte de intervalo nativo. </li><li>  Documentaci√≥n de c√≥digo en l√≠nea. </li></ol><br>  <b>Estos principios han llevado a las siguientes mejoras:</b> <br><br><ul><li>  El c√≥digo de Luxon es mucho m√°s f√°cil de entender y depurar. </li><li>  El uso de las capacidades integradas del navegador para la internacionalizaci√≥n mejora el comportamiento de la biblioteca y, nuevamente, facilita la depuraci√≥n. </li><li>  El soporte de zona horaria se implementa mejor que en cualquier otra biblioteca JS. </li><li>  Luxon proporciona una herramienta simple y muy poderosa para trabajar con duraci√≥n. </li><li>  La biblioteca tiene buena documentaci√≥n. </li></ul><br>  <b>Pero Luxon tiene sus inconvenientes:</b> <br><br><ul><li>  El √©nfasis en el uso de las capacidades integradas del navegador genera dificultades para admitir navegadores m√°s antiguos. </li><li>  Algunas funciones de internacionalizaci√≥n que a√∫n no son compatibles con los navegadores tampoco se implementan en la biblioteca (es de esperar que este soporte aparezca en los navegadores). </li><li>  La implementaci√≥n de la API Intl en diferentes navegadores puede variar, respectivamente, el comportamiento de Luxon tambi√©n variar√°. </li></ul><br><h2>  Instalaci√≥n </h2><br>  Luxon proporciona m√≥dulos para todas las plataformas JavaScript modernas. <br><br>  La documentaci√≥n tiene una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">lista</a> completa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de navegadores compatibles</a> con restricciones de aplicaci√≥n.  Para los navegadores que no tienen o tienen soporte internacional limitado, se recomienda utilizar un archivo polifiliar (en particular, esto se aplica a IE 10 u 11). <br><br>  Cuando trabaje con Node.js (6+), si necesita trabajar con configuraciones regionales, deber√° instalar adicionalmente el paquete <i>full-icu</i> y establecer la variable de entorno para permitir el uso de este paquete. <br><br>  El m√©todo de instalaci√≥n est√°ndar de npm: <br>  <b>npm install --save luxon</b> <br><br>  Luxon tiene soporte para TypeScript y Flow, tambi√©n hay un m√≥dulo en formato ES6. <br><br><h2>  Revisi√≥n r√°pida </h2><br>  La biblioteca Luxon consta de cinco clases principales: <br><br>  <i>DateTime</i> : fecha y hora con zona horaria y configuraciones de visualizaci√≥n, as√≠ como m√©todos relacionados. <br>  <i>Duraci√≥n</i> : un per√≠odo de tiempo (duraci√≥n), por ejemplo, "2 meses" o "1 d√≠a, 3 horas". <br>  <i>Informaci√≥n</i> : m√©todos est√°ticos para obtener datos generales sobre hora y fecha. <br>  <i>Intervalo</i> : intervalo de tiempo y m√©todos para trabajar con √©l. <br>  <i>Las configuraciones</i> son m√©todos est√°ticos que definen el comportamiento general de Luxon. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {DateTime, Duration, Info, Interval, Settings} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'luxon'</span></span>;</code> </pre> <br><h3>  Tu primera fecha y hora </h3><br>  La clase m√°s importante en Luxon es DateTime.  DateTime representa fecha + hora junto con la zona horaria y la configuraci√≥n regional.  As√≠ es como puede configurar el 15 de mayo de 2017 a las 08:30 en la zona horaria local: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dt = DateTime.local(<span class="hljs-number"><span class="hljs-number">2017</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>);</code> </pre> <br>  Aqu√≠ est√° la llamada para determinar la hora actual: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> now = DateTime.local();</code> </pre> <br><h3>  Crear desde objeto </h3><br><pre> <code class="javascript hljs">DateTime.fromObject({ <span class="hljs-attr"><span class="hljs-attr">month</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-attr"><span class="hljs-attr">day</span></span>: <span class="hljs-number"><span class="hljs-number">22</span></span>, <span class="hljs-attr"><span class="hljs-attr">hour</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-attr"><span class="hljs-attr">minutes</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-attr"><span class="hljs-attr">zone</span></span>: <span class="hljs-string"><span class="hljs-string">'Europe/Kaliningrad'</span></span> }); <span class="hljs-comment"><span class="hljs-comment">//=&gt; 2018-12-22T12:20:00.000+02:00</span></span></code> </pre> <br><h3>  Crear desde una cadena en formato ISO 8601 </h3><br><pre> <code class="javascript hljs">DateTime.fromISO(<span class="hljs-string"><span class="hljs-string">"2017-05-15"</span></span>); <span class="hljs-comment"><span class="hljs-comment">//=&gt; May 15, 2017 at 0:00 DateTime.fromISO("2017-05-15T08:30:00"); //=&gt; May 15, 2017 at 8:30</span></span></code> </pre> <br>  Al convertir a una cadena, Luxon tambi√©n devuelve una cadena en formato ISO 8601: <br><br><pre> <code class="javascript hljs">DateTime.local().toString(); <span class="hljs-comment"><span class="hljs-comment">//=&gt; "2018-12-18T20:58:29.995+03:00"</span></span></code> </pre> <br><h3>  Obtenci√≥n de componentes individuales: </h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dt = DateTime.local(); dt.year; <span class="hljs-comment"><span class="hljs-comment">//=&gt; 2018 dt.month; //=&gt; 12 dt.day; //=&gt; 18 dt.second; //=&gt; 27 dt.weekday; //=&gt; 2 dt.zoneName; //=&gt; "Europe/Moscow" dt.offset; //=&gt; 180 dt.daysInMonth; //=&gt; 31</span></span></code> </pre> <br><h3>  Salida formateada </h3><br>  Luxon tiene muchos m√©todos para convertir DateTime en una cadena, dos de ellos son los m√°s importantes paraLocaleString y toISO, el primero se convierte a un formato teniendo en cuenta la laca del navegador y el segundo prepara el texto para el procesamiento program√°tico (por ejemplo, para transferir a un servidor): <br><br><pre> <code class="javascript hljs">dt.toLocaleString(); <span class="hljs-comment"><span class="hljs-comment">//=&gt; "18.12.2018" dt.toLocaleString(DateTime.DATETIME_MED); //=&gt; "18 . 2018 ., 21:46" dt.toISO(); //=&gt; "2018-12-18T21:46:55.013+03:00"</span></span></code> </pre> <br>  Luxon tiene dos docenas de "ajustes preestablecidos" listos para la salida formateada (como DATETIME_MED y TIME_WITH_LONG_OFFSET). <br><br>  Tambi√©n puede crear su propia opci√≥n de formato basada en tokens: <br><br><pre> <code class="javascript hljs">dt.setLocale(<span class="hljs-string"><span class="hljs-string">'ru'</span></span>).toFormat(<span class="hljs-string"><span class="hljs-string">'d MMMM tt - ZZZZZ'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//=&gt; "18  21:46:55 - ,  "</span></span></code> </pre><br><h3>  Conversiones de fecha y hora </h3><br>  Nota importante: los objetos Luxon son inmutables, es decir  cualquier m√©todo de modificaci√≥n que se les aplique devolver√° la copia modificada sin cambiar el objeto original.  Por lo tanto, todos los t√©rminos en este art√≠culo (como en la documentaci√≥n de Luxon) como "cambiar", "instalar", "redefinir" deben entenderse como "crear una nueva instancia con otras propiedades". <br><br><h3>  Transformaciones matematicas </h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dt = DateTime.local(<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>); <span class="hljs-comment"><span class="hljs-comment">//=&gt; "18.12.2018, 20:30" dt.plus({hours: 3, minutes: 2}); //=&gt; "18.12.2018, 23:32" dt.minus({days: 7}); //=&gt; "11.12.2018, 20:30" dt.startOf('day'); //=&gt; "18.12.2018, 0:00" dt.endOf('hour'); //=&gt; "18.12.2018, 20:00"</span></span></code> </pre> <br><h3>  Anulaci√≥n de par√°metros individuales </h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dt = DateTime.local(); dt.set({<span class="hljs-attr"><span class="hljs-attr">hour</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>}).hour <span class="hljs-comment"><span class="hljs-comment">//=&gt; 3</span></span></code> </pre><br><h3>  Conversiones Intl </h3><br>  Luxon admite varias transformaciones Intl diferentes, una de las m√°s importantes es el formateo para diferentes configuraciones regionales: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dt = DateTime.local(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> f = {<span class="hljs-attr"><span class="hljs-attr">month</span></span>: <span class="hljs-string"><span class="hljs-string">'long'</span></span>, <span class="hljs-attr"><span class="hljs-attr">day</span></span>: <span class="hljs-string"><span class="hljs-string">'numeric'</span></span>}; dt.setLocale(<span class="hljs-string"><span class="hljs-string">'fr'</span></span>).toLocaleString(f); <span class="hljs-comment"><span class="hljs-comment">//=&gt; "18 d√©cembre" dt.setLocale('en-GB').toLocaleString(f); //=&gt; "18 December" dt.setLocale('en-US').toLocaleString(f); //=&gt; "December 18"</span></span></code> </pre> <br>  La clase Info puede devolver listas de meses y d√≠as de la semana en una localidad determinada: <br><br><pre> <code class="javascript hljs">Info.months(<span class="hljs-string"><span class="hljs-string">'long'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">locale</span></span>: <span class="hljs-string"><span class="hljs-string">'it'</span></span>}); <span class="hljs-comment"><span class="hljs-comment">//=&gt; ["gennaio", "febbraio", "marzo", ...] Info.weekdays ('short', {locale: 'de'}); //=&gt; ["Mo", "Di", "Mi", ...]</span></span></code> </pre> <br><h3>  Zonas horarias </h3><br>  Luxon admite zonas horarias.  Si crea un DateTime sin especificar expl√≠citamente una zona horaria, la zona local se seleccionar√° de manera predeterminada.  Si cambia la zona para un DateTime existente, la hora y la fecha se volver√°n a calcular teniendo en cuenta la diferencia entre las zonas horarias. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dt = DateTime.local(<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">00</span></span>); <span class="hljs-comment"><span class="hljs-comment">//=&gt; 2018-12-18T20:00:00.000+03:00 dt.zone.name; //=&gt; "Europe/Moscow" dt.setZone('Asia/Vladivostok'); //=&gt; 2018-12-19T03:00:00.000+10:00</span></span></code> </pre> <br>  Luxon tambi√©n admite trabajar con fecha y hora en formato UTC: <br><br><pre> <code class="javascript hljs">DateTime.utc(<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>); <span class="hljs-comment"><span class="hljs-comment">//=&gt; 2018-05-15T00:00:00.000Z DateTime.utc(); //=&gt; 2018-12-18T17:58:29.995Z DateTime.local().toUTC(); //=&gt; 2018-12-18T17:58:29.995Z DateTime.utc().toLocal(); //=&gt; 2018-12-18T20:58:29.995+03:00</span></span></code> </pre><br><h3>  Duraci√≥n </h3><br>  La clase Duraci√≥n proporciona la capacidad de trabajar con una duraci√≥n de, por ejemplo, "2 horas y 7 minutos".  Puede crear una duraci√≥n como esta: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dur = Duration.fromObject({<span class="hljs-attr"><span class="hljs-attr">hours</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">minutes</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>});</code> </pre> <br>  Las duraciones se pueden sumar y restar.  La duraci√≥n puede tener un valor negativo. <br><br><pre> <code class="javascript hljs">dur.minus(dur).minus(dur); <span class="hljs-comment"><span class="hljs-comment">//=&gt; {hours: -2, minutes: -7}</span></span></code> </pre> <br>  Del mismo modo, la duraci√≥n se puede agregar o restar de DateTime. <br><br><pre> <code class="javascript hljs">DateTime.local().plus(dur);</code> </pre> <br>  La duraci√≥n tiene captadores (similar a los captadores DateTime): <br><br><pre> <code class="javascript hljs">dur.hours; <span class="hljs-comment"><span class="hljs-comment">//=&gt; 2 dur.minutes; //=&gt; 7 dur.seconds; //=&gt; 0 dur.zone; //=&gt; undefined</span></span></code> </pre><br>  La duraci√≥n tambi√©n tiene otros m√©todos √∫tiles: <br><br><pre> <code class="javascript hljs">dur.as(<span class="hljs-string"><span class="hljs-string">'seconds'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//=&gt; 7620 dur.toObject(); //=&gt; { hours: 2, minutes: 7 } dur.toISO(); //=&gt; 'PT2H7M'</span></span></code> </pre><br><h3>  Intervalos </h3><br>  Los intervalos se definen como el per√≠odo entre dos puntos de tiempo; la clase Intervalo se utiliza para trabajar con ellos.  El tiempo de inicio se incluye en el intervalo, pero el tiempo de finalizaci√≥n no: en consecuencia, el comienzo al convertir a una cadena se marca con un corchete y el final con un corchete. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> today = DateTime.local(<span class="hljs-number"><span class="hljs-number">2018</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> later = DateTime.local(<span class="hljs-number"><span class="hljs-number">2020</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> interval = Interval.fromDateTimes(today, later); interval.toString(); <span class="hljs-comment"><span class="hljs-comment">//=&gt; "[2018-12-18T00:00:00.000+03:00 ‚Äì 2020-10-12T00:00:00.000+03:00)" interval.toISO(); //=&gt; "2018-12-18T00:00:00.000+03:00/2020-10-12T00:00:00.000+03:00" interval.length(); //=&gt; 57369600000 interval.length('years', true); //=&gt; 1.8169398907103824 interval.contains(DateTime.local(2019)); //=&gt; true</span></span></code> </pre> <br>  Los intervalos se pueden comparar entre s√≠ y combinarse entre s√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nextYear = Interval.after(DateTime.local(), {<span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>}); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prevYear = Interval.before(DateTime.local(), {<span class="hljs-attr"><span class="hljs-attr">year</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>}); prevYear.overlaps(nextYear); <span class="hljs-comment"><span class="hljs-comment">//false prevYear.abutsStart(nextYear); //true nextYear.union(prevYear).length('years'); //=&gt; 2</span></span></code> </pre><br><h2>  Luxon y Momento </h2><br>  La biblioteca de Luxon "vive" en el proyecto "Momento", pero no es un reemplazo completo de la biblioteca Momento.  Luxon no proporciona la funcionalidad completa de Moment, por ejemplo, el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">formato de fecha relativa se</a> implement√≥ recientemente en el navegador Chrome versi√≥n 71, a√∫n no funciona en otros navegadores y el soporte para este a√∫n no se implement√≥ en Luxon (aunque se espera).  Pero incluso si los navegadores admiten la funcionalidad requerida, debe comprender que solo estar√° disponible en estos nuevos entornos.  En los navegadores m√°s antiguos, Luxon funcionar√° con problemas, mientras que Moment funciona en cualquier momento y en cualquier lugar. <br><br>  Adem√°s, la API de Luxon ha sido completamente redise√±ada y es completamente diferente de la API de Moment. <br><br>  Tenga en cuenta las principales diferencias entre Moment y Luxon. <br><br><h3>  Inmunidad </h3><br>  Los objetos de Luxon son inmutables, pero Moment no. <br>  En el siguiente ejemplo, m1 y m2 son el mismo objeto modificado por el m√©todo add. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> m1 = moment(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> m2 = m1.add(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'hours'</span></span>); m1 === m2; <span class="hljs-comment"><span class="hljs-comment">//=&gt; true</span></span></code> </pre><br>  En el caso de Luxon, el m√©todo plus devuelve un nuevo objeto d2 sin cambiar el d1 original. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> d1 = DateTime.local(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> d2 = d1.plus({ <span class="hljs-attr"><span class="hljs-attr">hours</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> }); d1 === d2; <span class="hljs-comment"><span class="hljs-comment">//=&gt; false d1.valueOf() === d2.valueOf(); //=&gt; false</span></span></code> </pre><br>  Por esta raz√≥n, Luxon no requiere constructores de copias especiales o m√©todos de clonaci√≥n que Moment use para obtener copias sin cambiar el valor original. <br><br><h3>  Diferencias funcionales clave </h3><br><ol><li>  La cuenta regresiva de meses en Luxon comienza desde 1, y no desde cero, como en Momento (y de forma nativa en el objeto Date js). </li><li>  La localizaci√≥n y las zonas horarias se implementan utilizando la API Intl nativa (o pol√≠filos), y no est√°n integradas en la biblioteca. </li><li>  Luxon tiene tipos incorporados Duraci√≥n e Intervalo. </li><li>  Luxon a√∫n no admite el formato de fecha relativa. </li><li>  Luxon tampoco tiene un m√©todo humanizado para representar la duraci√≥n en un estilo "humanizado" (por ejemplo, "unos segundos"). </li></ol><br><h3>  Diferencias de estilo API </h3><br><ul><li>  En los m√©todos de la API de Luxon, los par√°metros opcionales generalmente se ubican en √∫ltimo lugar. </li><li>  Luxon tiene muchos m√©todos separados para crear objetos (por ejemplo, desde ISO), a diferencia de Moment, que tiene una funci√≥n para esto, y el tipo de objeto se establece mediante par√°metros. </li><li>  Luxon tiene analizadores muy estrictos, mientras que Moment tiene otros m√°s liberales, es decir.  Si el formato de la cadena de entrada es diferente del est√°ndar, Luxon inmediatamente dar√° un error, y Moment intentar√° corregir algunos errores en el formato. </li><li>  Luxon usa getters (dt.year, dt.isValid) para obtener el valor de los campos internos, y no m√©todos como Moment (m.year (), m.isValid ()). </li><li>  Luxon permite que un m√©todo establezca inmediatamente todos los par√°metros necesarios dt.set ({a√±o: 2016, mes: 4}), en Momento se configuran solo uno a la vez: una cadena de llamadas m.year (2016) .month (4). </li><li>  La duraci√≥n en Luxon es una clase separada de duraci√≥n de nivel superior. </li></ul><br>  De lo contrario, Luxon tom√≥ prestadas muchas ideas de Moment, la documentaci√≥n incluso contiene tablas de equivalencia de los m√©todos Moment y Luxon. <br><br><h3>  Tama√±os de archivo de biblioteca </h3><br>  <i>Luxon (v. 1.8.2)</i> <br>  luxon.min.js - 61 KB <br><br>  <i>Momento (v. 2.23.0)</i> <br>  moment.min.js - 51 KB <br>  moment.min.js + locale / ru.js - 59 KB <br>  moment-with-locales.min.js - 323 KB <br><br>  Como puede ver, sin configuraciones regionales Moment, el tama√±o es 10 KB m√°s peque√±o que Luxon, pero con la adici√≥n de varias configuraciones regionales, el tama√±o se vuelve aproximadamente igual. <br><br>  Si se requiere soporte inmediato para todas las configuraciones regionales, entonces Luxon obtiene una ganancia significativa. <br><br><h3>  Resumen </h3><br>  La biblioteca est√° completamente lista para su uso y el autor promete su apoyo.  La biblioteca ya tiene m√°s de 7k estrellas en el github y su popularidad solo est√° creciendo.  No solo el propio autor realiza los commits en su c√≥digo, sino al menos 6 desarrolladores m√°s. <br><br>  Asumir√© que la biblioteca Luxon es una respuesta a la aparici√≥n del soporte de API Intl en los navegadores.  Los desarrolladores de Moment entienden que trabajar con fechas en la web puede cambiar significativamente y est√°n tratando de prepararse para estos cambios.  Pero no pueden predecir con precisi√≥n el desarrollo de la web, y con √©l el nuevo proyecto (que ellos mismos llaman el proyecto Moment labs).  ¬øSe trasladar√°n las ideas de Luxon a Moment 3?  ¬øLa mayor√≠a de los usuarios ir√°n de Moment a Luxon en alg√∫n momento?  ¬øTal vez Luxon pasar√° a llamarse Momento?  Los propios desarrolladores admiten que ahora no pueden responder estas preguntas. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es433850/">https://habr.com/ru/post/es433850/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es433838/index.html">Carta p√∫blica de biohacker de Joshua Zayner</a></li>
<li><a href="../es433842/index.html">[Viernes] Graffiti ASCII en monitores retro y otras superficies</a></li>
<li><a href="../es433844/index.html">Acerca de los tres componentes necesarios para que TI funcione con √©xito</a></li>
<li><a href="../es433846/index.html">Energ√≠a nuclear antes del advenimiento de las centrales nucleares</a></li>
<li><a href="../es433848/index.html">Patente de Apple para veh√≠culos el√©ctricos.</a></li>
<li><a href="../es433852/index.html">La historia de un experimento con Cython y el vector C ++</a></li>
<li><a href="../es433854/index.html">Autos voladores, robots m√©dicos y blockchain: lo que sucedi√≥ en 2018</a></li>
<li><a href="../es433856/index.html">¬øY qui√©n est√° en tu pandilla?</a></li>
<li><a href="../es433858/index.html">Los mejores documentos de JPoint 2018: Java / JVM y su rendimiento, Kotlin, Spring, Docker</a></li>
<li><a href="../es433860/index.html">Cuidar al usuario, o c√≥mo proteger a los clientes de errores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>