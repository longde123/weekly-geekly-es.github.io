<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЬНЁЯП╗ ЁЯСитАНЁЯСзтАНЁЯСз ЁЯШ╣ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рдПрд╕рдПрд╕рдбреА рдкрд╣рдирдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ ЁЯдн ЁЯМЪ тЫИя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдПрдХ рд╕рд╛рд▓ рдкрд╣рд▓реЗ, рд╣рдордиреЗ рдЕрдкрдиреЗ рдПрдЬреЗрдВрдЯ рдХреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрдорд╛рд░реНрдЯ рдбрд┐рд╕реНрдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рд╕реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдЬреЛрдбрд╝рд╛ред рдЙрд╕ рд╕рдордп, рд╣рдордиреЗ рдЙрдиреНрд╣реЗрдВ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдирд╣реАрдВ рдЬреЛрдбрд╝рд╛ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рдПрд╕рдПрд╕рдбреА рдкрд╣рдирдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okmeter/blog/420937/"><img width="400" align="left" src="https://habrastorage.org/webt/om/2t/zs/om2tzsodob2fsf8r0qrsifs2_da.png"><br><p>  рдПрдХ рд╕рд╛рд▓ рдкрд╣рд▓реЗ, рд╣рдордиреЗ рдЕрдкрдиреЗ рдПрдЬреЗрдВрдЯ рдХреЛ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрдорд╛рд░реНрдЯ рдбрд┐рд╕реНрдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рд╕реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдЬреЛрдбрд╝рд╛ред  рдЙрд╕ рд╕рдордп, рд╣рдордиреЗ рдЙрдиреНрд╣реЗрдВ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдирд╣реАрдВ рдЬреЛрдбрд╝рд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рджрд┐рдЦрд╛рдпрд╛ред  рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕реНрдорд╛рд░реНрдЯрдХреНрдЯреЗрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ рд▓реЗрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдо рдХреЛрдб рд╕реЗ рд╕реАрдзреЗ ioctl рдЦреАрдВрдЪрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реНрдорд╛рд░реНрдЯрдореЛрдирдЯреВрд▓ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдмрд┐рдирд╛ рдпрд╣ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛рдо рдХрд░реЗред <br>  рдПрдЬреЗрдВрдЯ рд╕рднреА рдЙрдкрд▓рдмреНрдз рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдирд╣реАрдВ рд╣рдЯрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рд╣рдорд╛рд░реА рд░рд╛рдп рдореЗрдВ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдФрд░ рдХрдо рд╕реЗ рдХрдо рд╡рд┐рдХреНрд░реЗрддрд╛-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡рд╛рд▓реЗ (рдЕрдиреНрдпрдерд╛, рдЖрдкрдХреЛ рд╕реНрдорд╛рд░реНрдЯрдореЛрдиреЛрд▓рд╕ рдХреЗ рд╕рдорд╛рди рдбрд┐рд╕реНрдХ рдЖрдзрд╛рд░ рдмрдирд╛рдП рд░рдЦрдирд╛ рд╣реЛрдЧрд╛)ред <br>  рдЕрдм, рд╣рд╛рде рдЕрдВрддрддрдГ рдЗрд╕ рдмрд╛рдд рдХреА рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдБрдЪ рдЧрдП рд╣реИрдВ рдХрд┐ рд╣рдордиреЗ рд╡рд╣рд╛рдБ рдХреНрдпрд╛ рдлрд┐рд▓реНрдорд╛рдпрд╛ рд╣реИред  рдФрд░ рдпрд╣ рд╡рд┐рд╢реЗрд╖рддрд╛ "рдореАрдбрд┐рдпрд╛ рд╡рд┐рдпрд░рдЖрдЙрдЯ рд╕рдВрдХреЗрддрдХ" рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рд╢реЗрд╖ рдПрд╕рдПрд╕рдбреА рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╕рдВрд╕рд╛рдзрди рдХрд╛ рдкреНрд░рддрд┐рд╢рдд рджрд░реНрд╢рд╛рддрд╛ рд╣реИред  рдХрдЯреМрддреА рдХреЗ рддрд╣рдд рдЪрд┐рддреНрд░реЛрдВ рдореЗрдВ рдХреБрдЫ рдХрд╣рд╛рдирд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд┐ рдХреИрд╕реЗ рдпрд╣ рд╕рдВрд╕рд╛рдзрди рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬреАрд╡рди рдореЗрдВ рд╕рд░реНрд╡рд░ рдкрд░ рдЦрд░реНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><a name="habracut"></a><br><h2 id="suschestvuyut-li-ubitye-ssd">  рдХреНрдпрд╛ рдХреЛрдИ рдорд╛рд░реЗ рдЧрдП рдПрд╕рдПрд╕рдбреА рд╣реИрдВ? </h2><br><p>  рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдкреБрд░рд╛рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдирдП, рдЕрдзрд┐рдХ рдЙрддреНрдкрд╛рджрдХ ssds рдЕрдзрд┐рдХ рдмрд╛рд░ рдЬрд╛рд░реА рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдЬреЛ рдорд╛рд░реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдмрдВрдзрди рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдкрд╣рд▓реА рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╕рдВрд╕рд╛рдзрди рдбрд┐рд╕реНрдХ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдорд╛рд░реЗ рдЧрдП рдХреЛ рджреЗрдЦрдирд╛ рджрд┐рд▓рдЪрд╕реНрдк рдерд╛ред  рд╕рднреА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рд╕рднреА ssd рдХреЗ рд▓рд┐рдП рдиреНрдпреВрдирддрдо рдореВрд▓реНрдп 1% рд╣реИред </p><br><p>  рд╣рдордиреЗ рддреБрд░рдВрдд рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рд▓рд┐рдЦрд╛, рдпрд╣ рд╣реЗрдЯрдирд░ рдореЗрдВ рдПрдХ рдбреЗрдбрд┐рдХ рдирд┐рдХрд▓рд╛ред  рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рд╕рдорд░реНрдерди рддреБрд░рдВрдд ssd рдХреА рдЬрдЧрд╣: </p><br><p><img src="https://habrastorage.org/webt/zd/ff/cf/zdffcfwxk-byiavhepxbi2wahh8.png"><br></p><br><p>  рдпрд╣ рджреЗрдЦрдирд╛ рдмрд╣реБрдд рджрд┐рд▓рдЪрд╕реНрдк рд╣реЛрдЧрд╛ рдХрд┐ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рд╕реНрдерд┐рддрд┐ рдХреИрд╕реА рджрд┐рдЦрддреА рд╣реИ рдЬрдм ssd рдПрдХ рд░рд┐рдХреЙрд░реНрдб рд╕рд░реНрд╡рд┐рд╕рд┐рдВрдЧ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИ (рд╣рдо рдЕрдм рдЗрд╕ рддрд░рд╣ рдХреЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдирдмреВрдЭрдХрд░ рдирдХрд▓реА sdd рдХрд╛ рдЕрд╡рд╕рд░ рддрд▓рд╛рд╢ рд░рд╣реЗ рд╣реИрдВ :) </p><br><h2 id="kak-bystro-ubivayutsya-ssd">  рдПрд╕рдПрд╕рдбреА рдХрд┐рддрдиреА рддреЗрдЬреА рд╕реЗ рдорд╛рд░реЗ рдЬрд╛рддреЗ рд╣реИрдВ? </h2><br><p>  рдЪреВрдВрдХрд┐ рд╣рдордиреЗ рдПрдХ рд╕рд╛рд▓ рдкрд╣рд▓реЗ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдЗрдХрдЯреНрдард╛ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рдерд╛, рдФрд░ рд╣рдо рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдирд╣реАрдВ рд╣рдЯрд╛ рд░рд╣реЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╕рдордп рдкрд░ рдЗрд╕ рдореАрдЯреНрд░рд┐рдХ рдХреЛ рджреЗрдЦрдирд╛ рд╕рдВрднрд╡ рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдЙрдЪреНрдЪрддрдо рдкреНрд░рд╡рд╛рд╣ рджрд░ рд╡рд╛рд▓рд╛ рд╕рд░реНрд╡рд░ рдХреЗрд╡рд▓ 2 рдорд╣реАрдиреЗ рдкрд╣рд▓реЗ рдУрдХреЗрдореАрдЯрд░ рд╕реЗ рдЬреБрдбрд╝рд╛ рдерд╛ред </p><br><p><img src="https://habrastorage.org/webt/iy/n7/c9/iyn7c9otfrjy58f_jmwqkyz3ife.png"><br></p><br><p> рдЗрд╕ рдЧреНрд░рд╛рдлрд╝ рдореЗрдВ, рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдХреИрд╕реЗ 2 рдорд╣реАрдиреЗ рдореЗрдВ рдЙрдиреНрд╣реЛрдВрдиреЗ 8% рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рд╕рдВрд╕рд╛рдзрди рдХреЛ рдЬрд▓рд╛ рджрд┐рдпрд╛ред  рдпрд╣реА рд╣реИ, рдПрдХ рд╣реА рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде, рдпреЗ ssd 100 / (8/2) = 25 рдорд╣реАрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрдЧрд╛ред  рдореБрдЭреЗ рдмрд╣реБрдд рдХрдо рдпрд╛ рдХреБрдЫ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╡рд╣рд╛рдБ рдХрд┐рд╕ рддрд░рд╣ рдХрд╛ рднрд╛рд░ рд╣реИ? </p><br><img src="https://habrastorage.org/webt/b2/hn/6x/b2hn6xjbklijgcoqzpysn4vel54.png"><br><p><br>  рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдХреЗрд╡рд▓ ceph рдбрд┐рд╕реНрдХ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ ceph рдХреЗрд╡рд▓ рдПрдХ рдкрд░рдд рд╣реИред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, ceph рдХреНрд▓рд╛рдЗрдВрдЯ рдХрдИ рдиреЛрдбреНрд╕ рдкрд░ kubernetes рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рднрдВрдбрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ k8s рдХреЗ рдЕрдВрджрд░ рдХреНрдпрд╛ рд╕рдмрд╕реЗ рдбрд┐рд╕реНрдХ рд▓рд┐рдЦрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/gm/9e/n9/gm9en9hd8i7avo7th8_xvfnulte.png"><br></p><br><p>  рдкреВрд░реНрдг рдорд╛рди рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╕реЗ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕реАрдлрд╝рдПрдЪ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ рдФрд░ рдбреЗрдЯрд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреЗ рдХрд╛рд░рдг рд░реЗрдбрд┐рд╕ рд╕реЗ рд░рд┐рдХреЙрд░реНрдб рдмрдврд╝ рд░рд╣рд╛ рд╣реИред  рд▓реЗрдХрд┐рди рд▓реЛрдб рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЖрдкрдХреЛ рдЖрддреНрдорд╡рд┐рд╢реНрд╡рд╛рд╕ рд╕реЗ рдпрд╣ рдХрд╣рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдХрд┐ рд░рд┐рдХреЙрд░реНрдб рдмрд┐рд▓реНрдХреБрд▓ рд░реЗрдбрд┐рд╕ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИред  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдореВрд▓реА рдкрд░ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/rn/5b/ie/rn5bieuh9ac3lb2kdizdwhu7wdi.png"><br></p><br><p>  рдпрд╣рд╛рдВ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдФрд╕рддрди рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 100 рд╕реЗ рдХрдо рдЕрдиреБрд░реЛрдз рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЬреЛ рдбреЗрдЯрд╛ рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рд░реЗрдбрд┐рд╕ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбрд┐рд╕реНрдХ рдкрд░ рдбреЗрдЯрд╛ рд▓рд┐рдЦрдиреЗ рдХреЗ 2 рддрд░реАрдХреЗ рд╣реИрдВ</a> : </p><br><ul><li>  <strong>RDB</strong> - рдбрд┐рд╕реНрдХ рдкрд░ рдкреВрд░реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдЖрд╡рдзрд┐рдХ рд╕реНрдиреИрдкрд╢реЙрдЯ, рдЬрдм рд░реЗрдбрд┐рд╕ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЕрдВрддрд┐рдо рдбрдВрдк рдХреЛ рдореЗрдореЛрд░реА рдореЗрдВ рдкрдврд╝рддреЗ рд╣реИрдВ, рдФрд░ рд╣рдо рдбрдВрдк рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рдЦреЛ рджреЗрддреЗ рд╣реИрдВ </li><li>  <strong>AOF</strong> - рд╣рдо рд╕рднреА рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдПрдХ рд▓реЙрдЧ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рд╢реБрд░реБрдЖрдд рдореЗрдВ рд░реЗрдбрд┐рд╕ рдЗрд╕ рд▓реЙрдЧ рдХреЛ рдЦреЛ рджреЗрддрд╛ рд╣реИ рдФрд░ рд╕рднреА рдбреЗрдЯрд╛ рдореЗрдореЛрд░реА рдореЗрдВ рдкреНрд░рдХрдЯ рд╣реЛрддрд╛ рд╣реИ, рд╣рдо рдХреЗрд╡рд▓ рдЗрд╕ рд▓реЙрдЧ рдХреЗ fsync рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рдЦреЛ рджреЗрддреЗ рд╣реИрдВ </li></ul><br>  рдЬреИрд╕рд╛ рдХрд┐ рд╕рднреА рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдЕрдиреБрдорд╛рди рд╣реИ, RDB рдХрд╛ рдЙрдкрдпреЛрдЧ 1 рдорд┐рдирдЯ рдХреА рдбрдВрдк рдЖрд╡реГрддреНрддрд┐ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><p><img src="https://habrastorage.org/webt/fq/ug/hi/fqughixpkwphosqk5xdzmrmcjqo.png"><br></p><br><h2 id="ssd--raid">  SSD + RAID </h2><br><p>  рд╣рдорд╛рд░реА рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдПрд╕рдПрд╕рдбреА рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдХреЗ рддреАрди рдореБрдЦреНрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИрдВ: </p><br><ul><li>  рд╕рд░реНрд╡рд░ рдореЗрдВ 2 SSD рдЫрд╛рдкреЗ -1 рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдФрд░ рд╕рдм рдХреБрдЫ рд╡рд╣рд╛рдБ рд░рд╣рддрд╛ рд╣реИ </li><li>  рд╕рд░реНрд╡рд░ рдореЗрдВ ssd рд╕реЗ HDD + raid-10 рд╣реИ, рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдХреНрд▓рд╛рд╕рд┐рдХ RDBMSs (рд╕рд┐рд╕реНрдЯрдо, рд╡рд╛рд▓ рдФрд░ HDD рдкрд░ рдбреЗрдЯрд╛ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рдФрд░ рдПрд╕рдПрд╕рдбреА рдкрд░ рдкрдврд╝рдиреЗ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╕рдмрд╕реЗ рдбреЗрдЯрд╛) рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рд╕рд░реНрд╡рд░ рдореЗрдВ рдПрдХ рдлреНрд░реА-рд╕реНрдЯреИрдВрдбрд┐рдВрдЧ SSD (JBOD) рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдЖрдорддреМрд░ рдкрд░ nosql рдкреНрд░рдХрд╛рд░ рдХреЗ рдХреИрд╕реЗрдВрдбреНрд░рд╛ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li></ul><br><p>  рдЕрдЧрд░ ssd рдХреЛ raid-1 рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рджреЛрдиреЛрдВ рдбрд┐рд╕реНрдХ рдкрд░ рдЬрд╛рддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкрд╣рдирдиреЗ рдкрд░ рд╕рдорд╛рди рдЧрддрд┐ рд╣реЛрддреА рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/u-/s9/ce/u-s9cebna9pesosskabhwzwzgwo.png"><br></p><br><p>  рд▓реЗрдХрд┐рди рд╕рд░реНрд╡рд░ рдиреЗ рдореЗрд░реА рдЖрдВрдЦ рдХреЛ рдкрдХрдбрд╝ рд▓рд┐рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рдЪрд┐рддреНрд░ рдЕрд▓рдЧ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/mk/xn/g_/mkxng_b0bng33epewwav3ue7hew.png"><br></p><br><p>  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдХреЗрд╡рд▓ mdraid рд╡рд┐рднрд╛рдЬрди рдорд╛рдЙрдВрдЯ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ (рд╕рднреА рдЫрд╛рдкреЗ -1 рд╕рд░рдгрд┐рдпрд╛рдБ): </p><br><img src="https://habrastorage.org/webt/pg/9g/gy/pg9ggyky_kdfdo6jefefzpje1ew.png"><br><p>  рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдпрд╣ рднреА рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ рдХрд┐ / dev / sda рдкрд░ рдЕрдзрд┐рдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/1m/2z/jp/1m2zjpefjue-rsneaasygdblkee.png"><br></p><br><p>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ / dev / sda рдкрд░ рд╡рд┐рднрд╛рдЬрди рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрд╡реИрдк рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рд╕рд░реНрд╡рд░ рдкрд░ i / o рд╕реНрд╡реИрдк рдХрд╛рдлреА рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/pc/-b/kv/pc-bkvbw5tat57qw9frcvgxyfbq.png"><br></p><br><h2 id="iznos-ssd-i-postgresql">  SSD рдФрд░ PostgreSQL рдХрд╛ рдореВрд▓реНрдпрд╣реНрд░рд╛рд╕ </h2><br><p>  рджрд░рдЕрд╕рд▓, рдореИрдВ Postgres рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рд▓реЗрдЦрди рднрд╛рд░ рдкрд░ ssd рдкрд╣рдирдиреЗ рдХреА рджрд░ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рд╡реЗ рд▓реЛрдб рдХрд┐рдП рдЧрдП ssd рдбреЗрдЯрд╛рдмреЗрд╕ рдкрд░ рдмрд╣реБрдд рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдПрдЪрдбреАрдбреА рдореЗрдВ рдЬрд╛рддреА рд╣реИред  рдПрдХ рдЙрдкрдпреБрдХреНрдд рдорд╛рдорд▓реЗ рдХреА рдЦреЛрдЬ рдХрд░рддреЗ рд╣реБрдП, рдореИрдВ рдПрдХ рдмрд╣реБрдд рд╣реА рд░реЛрдЪрдХ рд╕рд░реНрд╡рд░ рдкрд░ рдЖрдпрд╛: </p><br><p><img src="https://habrastorage.org/webt/pt/ga/qs/ptgaqs7cvz99zi16nt6jktvg8qw.png"><br></p><br><p>  3 рдорд╣реАрдиреЗ рдХреЗ рд▓рд┐рдП рдЫрд╛рдкреЗ -1 рдореЗрдВ рджреЛ ssd рдХрд╛ рдкрд╣рдирдирд╛ 4% рдерд╛, рд▓реЗрдХрд┐рди рд╡рд╛рд▓ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреА рдЧрддрд┐ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдпрд╣ рдкреЛрд╕реНрдЯрдЧреНрд░рд╛рд╕ 100 Kb / s рд╕реЗ рдХрдо рд▓рд┐рдЦрддрд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/lb/sj/zh/lbsjzhzao54qovnsgan0zqif508.png"><br></p><br><p>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдЬ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╕реЗ рдбрд┐рд╕реНрдХ рдореЗрдВ рд▓реЗрдЦрди рдХреА рдПрдХ рдирд┐рд░рдВрддрд░ рдзрд╛рд░рд╛ рдмрдирддреА рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/o0/dy/tr/o0dytrgxlb3fq3fhyg-k013nuvw.png"><br></p><br><p>  рдЪреВрдВрдХрд┐ рдирд┐рджрд╛рди рдХреЗ рд╕рд╛рде postgresql рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИ, рд╣рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрдиреБрд░реЛрдз рддрдХ, рдкрддрд╛ рдХрд░реЗрдВ рдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рдореЗрдВ рдХреНрдпрд╛ рддрдп рдХрд░рдирд╛ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/ok/dl/3k/okdl3khufsihxat-l--6mp7wijy.png"><br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдпрд╣рд╛рдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕реЗрд▓реЗрдХреНрдЯ рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдПрдХ рд╕рдореВрд╣ рдмрдирд╛рддрд╛ рд╣реИред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, SELECT рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдЯреНрд╕ рдореЗрдВ, рдХрднреА-рдХрднреА рд╡реЗ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдЕрд╕реНрдерд╛рдпреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдПрдХ рд░рд┐рдХреЙрд░реНрдб рдмрдирд╛рддреЗ рд╣реИрдВ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХреА рд╣реИред</a> </p><br><h2 id="itogo">  рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░ </h2><br><ul><li>  Redis + RDB рджреНрд╡рд╛рд░рд╛ рдбрд┐рд╕реНрдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрдиреЗ рдХреА рдорд╛рддреНрд░рд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рдВрд╢реЛрдзрдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдЖрдХрд╛рд░ рдкрд░ + рдбрдВрдк рдЕрдВрддрд░рд╛рд▓ (рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рдЙрди рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░реЛрдВ рдореЗрдВ рд▓реЗрдЦрди рдкреНрд░рд╡рд░реНрдзрди рдХрд╛ рдЙрдЪреНрдЪрддрдо рд╕реНрддрд░ рд╣реИ рдЬреЛ рдореБрдЭреЗ рдкрддрд╛ рд╣реИ) </li><li>  Ssd рдкрд░ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╕реНрд╡реИрдк рдЦрд░рд╛рдм рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдЖрдкрдХреЛ sdd рдкрд╣рдирдиреЗ рдХреЗ рд▓рд┐рдП рдШрд┐рд╕рдиреЗ (рдЫрд╛рдкреЗ -1 рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ рдХреЗ рд▓рд┐рдП) рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдПрдХ рд╡рд┐рдХрд▓реНрдк рд╣реЛ рд╕рдХрддрд╛ рд╣реИ :) </li><li>  рд╡рд╛рд▓ рдФрд░ рдбреЗрдЯрд╛рдлрд╛рдЗрд▓реНрд╕ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдбреЗрдЯрд╛рдмреЗрд╕ рдЕрднреА рднреА рдбрд┐рд╕реНрдХ рдкрд░ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рд▓рд┐рдЦ тАЛтАЛрд╕рдХрддреЗ рд╣реИрдВред </li></ul><br><p>  <em>рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">okmeter.io рдореЗрдВ</a> рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рд╕рдорд╕реНрдпрд╛ рдХреЗ рдХрд╛рд░рдг рдХреА рддрд╣ рддрдХ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрдВрдЬреАрдирд┐рдпрд░ рдХреЛ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреА рд╕рднреА рдкрд░рддреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред</em>  <em>рд╣рдо рдорджрдж рдХрд░рдиреЗ рдХреА рдкреВрд░реА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ :)</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi420937/">https://habr.com/ru/post/hi420937/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi420923/index.html">рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдбреЗрд╡рд▓рдкрд░ рдореЗрдЯрд╛ рдХреМрд╢рд▓</a></li>
<li><a href="../hi420927/index.html">"рдЕрд▓реАрдмрд╛рдмрд╛ рдХреНрд▓рд╛рдЙрдб рдкрд░ рд░рдмрд░ рд╣реЛрд╕реНрдЯ рдЦреЛрдЬ": рдЕрд▓реАрдмрд╛рдмрд╛ рдХреНрд▓рд╛рдЙрдб рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдореЗрдВ рдПрд▓реАрд╕реНрдЯреЗрдХрд░реНрдЪ рдХреА рдореЗрдЬрдмрд╛рдиреА рдХрд░реЗрдВ</a></li>
<li><a href="../hi420929/index.html">рднрд╛рдЧреЛ, рдЯреЗрд╕реНрдЯ, рднрд╛рдЧреЛред рдореЛрдмрд╛рдЗрд▓ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдореАрдЯрдЕрдк рдХреА рдмрд╛рдд рд╣реЛ рд░рд╣реА рд╣реИ</a></li>
<li><a href="../hi420931/index.html">рдкрд░рдорд╛рдгреБ рдКрд░реНрдЬрд╛ рд╕рдВрдпрдВрддреНрд░реЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../hi420935/index.html">рдЖрдк рд╕рднреА рдХреЛ Flexbox рдореЗрдВ рд╕рдВрд░реЗрдЦрдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рд┐рдП</a></li>
<li><a href="../hi420939/index.html">рдХрд░рд┐рдпрд░ рдЧреНрд░реЛрде рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдХрд╣рд╛рдиреА рдпрд╛ рдореИрдВ рдЦреБрдж рдХреЛ рдПрдХ рдЕрдЪреНрдЫрд╛ рдореИрдиреЗрдЬрд░ рдХреНрдпреЛрдВ рдорд╛рдирддрд╛ рд╣реВрдВ</a></li>
<li><a href="../hi420941/index.html">рдмреНрд▓реЙрдХрдЪреЗрди рдкреА 2 рдкреА рд╡рд┐рд╡рд╛рдж</a></li>
<li><a href="../hi420943/index.html">рдХреГрддреНрд░рд┐рдо рдмреБрджреНрдзрд┐рдорддреНрддрд╛ рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ</a></li>
<li><a href="../hi420945/index.html">рдирд╛рд╕рд╛ рдХреЗ рдУрдкрди рдПрдЯреАрд╡реА рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд╕рд╛рде рдирдИ рджреБрдирд┐рдпрд╛ рдХреА рдЦреЛрдЬ</a></li>
<li><a href="../hi420947/index.html">рд▓рд╣рд░реЛрдВ, рджрд┐рд▓рдЪрд╕реНрдк рд▓реЛрдЧреЛрдВ рдФрд░ рдкреНрд░реЗрд░рдгреЛрдВ рдХреЗ рд╕рд╡рд╛рд▓ рдкрд░</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>