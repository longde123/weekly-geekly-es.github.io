<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â–«ï¸ ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ ğŸ›©ï¸ Model pengembangan menggunakan CPU berbasis Stack sebagai contoh âï¸ ğŸ‘¨ ğŸ›</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pernahkah Anda memiliki pertanyaan "bagaimana cara kerja prosesor?". Ya, ya, persis yang ada di PC / laptop / smartphone Anda. Pada artikel ini saya i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Model pengembangan menggunakan CPU berbasis Stack sebagai contoh</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430450/"><p>  Pernahkah Anda memiliki pertanyaan "bagaimana cara kerja prosesor?".  Ya, ya, persis yang ada di PC / laptop / smartphone Anda.  Pada artikel ini saya ingin memberikan contoh prosesor yang diciptakan sendiri dengan desain di Verilog.  Verilog tidak persis seperti bahasa pemrograman.  Ini adalah Bahasa Deskripsi Perangkat Keras.  Kode tertulis tidak dieksekusi oleh apa pun (kecuali jika Anda menjalankannya dalam simulator, tentu saja), tetapi berubah menjadi desain sirkuit fisik, atau dalam bentuk yang dirasakan oleh FPGA (Field Programmable Gate Array). </p><a name="habracut"></a><br><p>  <strong>Penafian: artikel ini adalah hasil dari pengerjaan proyek di universitas, sehingga waktu untuk pekerjaan terbatas dan banyak bagian dari proyek masih hanya pada tahap awal pengembangan.</strong> </p><br><p>  <strong>Harap dicatat bahwa prosesor yang dibuat dalam artikel ini memiliki sedikit kesamaan dengan prosesor modern yang tersebar luas, tetapi saya mencoba untuk mencapai tujuan yang sedikit berbeda dengan pembuatannya.</strong> </p><br><p>  Untuk benar-benar memahami proses pemrograman, Anda perlu membayangkan bagaimana masing-masing alat yang digunakan bekerja: kompiler / juru bahasa, mesin virtual, jika ada, kode perantara, dan, tentu saja, prosesor itu sendiri.  Sangat sering orang yang mempelajari pemrograman berada pada tahap pertama untuk waktu yang lama - mereka hanya memikirkan bagaimana bahasa dan kompilernya bekerja.  Hal ini sering menyebabkan kesalahan yang solusinya tidak diketahui oleh programmer pemula, karena ia tidak tahu dari mana akar masalah ini berasal.  Saya sendiri melihat beberapa contoh langsung di mana situasinya seperti dalam uraian di atas, jadi saya memutuskan untuk mencoba memperbaiki situasi ini dan membuat serangkaian hal yang akan membantu pemula untuk memahami semua tahapan. </p><br><p>  Kit ini terdiri dari: </p><br><ul><li>  Bahasa yang sebenarnya diciptakan </li><li>  Sorot plugin untuk Kode VS </li><li>  Kompilator untuk itu </li><li>  Set instruksi </li><li>  Prosesor sederhana yang mampu mengeksekusi set instruksi ini (ditulis dalam Verilog) </li></ul><br><p>  Saya mengingatkan Anda sekali lagi bahwa artikel ini TIDAK MENJELASKAN APA SAJA YANG SAMA DENGAN PROSESOR NYATA MODERN, artikel ini menjelaskan model yang mudah dipahami tanpa merinci. </p><br><p>  Hal-hal yang Anda perlukan jika Anda ingin melakukannya sendiri: </p><br><p>  Untuk menjalankan simulasi CPU, Anda memerlukan ModelSim, yang dapat Anda unduh dari situs web Intel. </p><br><p>  Untuk menjalankan kompiler OurLang, Anda memerlukan versi Java&gt; = 8. </p><br><p>  Tautan ke proyek: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/IamMaxim/OurCPU</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/IamMaxim/OurLang</a> </p><br><p>  Ekstensi: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/IamMaxim/ourlang-vscode</a> </p><br><p>  Untuk membangun bagian Verilog, saya biasanya menggunakan skrip bash: </p><br><pre><code class="plaintext hljs">#/bin/bash vlib work vlog *.v vsim -c testbench_1 -do "run; exit"</code> </pre> <br><p>  Tapi ini bisa diulangi melalui GUI. </p><br><p>  Lebih mudah menggunakan Intellij IDEA untuk bekerja dengan kompiler.  Hal utama adalah untuk melacak modul mana yang Anda butuhkan dalam dependensi.  Saya tidak memposting .jar siap pakai untuk membuka akses, karena saya berharap pembaca membaca kode sumber dari kompiler. </p><br><p>  Modul yang diluncurkan adalah Compiler dan Interpreter.  Semuanya jelas dengan kompiler, Interpreter hanyalah simulator OurCPU di Jawa, tetapi kami tidak akan mempertimbangkannya dalam artikel ini. </p><br><h3 id="instruction-set">  Set instruksi </h3><br><p>  Saya pikir lebih baik memulai dengan Instruction Set. </p><br><p>  Ada beberapa arsitektur kumpulan instruksi: </p><br><ul><li>  Stack-based adalah apa yang dijelaskan dalam artikel.  Fitur khusus adalah bahwa semua operan didorong ke stack dan muncul dari stack, yang segera mengecualikan kemungkinan eksekusi paralel, tetapi itu adalah salah satu pendekatan paling sederhana untuk bekerja dengan data. </li><li>  Berbasis akumulator - intinya adalah bahwa hanya ada satu register yang menyimpan nilai yang dimodifikasi oleh instruksi. </li><li>  Berbasis register adalah apa yang digunakan dalam prosesor modern karena memungkinkan Anda untuk mencapai kinerja maksimum melalui penggunaan berbagai optimasi, termasuk paralelisasi eksekusi, pipelining, dll. </li></ul><br><p>  <a href="">Set instruksi prosesor kami berisi 30 instruksi</a> </p><br><p>  Selanjutnya, saya mengusulkan untuk melihat implementasi prosesor: </p><br><p>  Kode terdiri dari beberapa modul: </p><br><ul><li>  CPU </li><li>  RAM </li><li>  Modul untuk setiap instruksi </li></ul><br><p>  RAM adalah modul yang berisi langsung memori itu sendiri, serta cara untuk mengakses data di dalamnya. </p><br><p>  CPU - modul yang secara langsung mengontrol kemajuan program: membaca instruksi, mentransfer kontrol ke instruksi yang diinginkan, menyimpan register yang diperlukan (pointer ke instruksi saat ini, dll.). </p><br><p>  Hampir semua instruksi hanya bekerja dengan stack, jadi ikuti saja.  Beberapa (mis. Putw, putb, jmp, dan jif) memiliki argumen tambahan dalam instruksi itu sendiri.  Mereka harus melewati seluruh instruksi sehingga mereka dapat membaca data yang diperlukan. </p><br><p>  Berikut adalah gambaran umum tentang cara kerja prosesor: </p><br><p><img src="https://habrastorage.org/webt/le/eq/-9/leeq-9mhht6o2lderrpxylbaldm.png"></p><br><p>  Prinsip umum desain perangkat di tingkat instruksi </p><br><p>  Saya pikir sudah waktunya untuk berkenalan dengan perangkat langsung dari program itu sendiri.  Seperti yang dapat Anda lihat dari diagram di atas, setelah setiap instruksi, alamat berpindah ke yang berikutnya.  Ini memberikan kursus linier ke program.  Ketika menjadi perlu untuk mematahkan linearitas ini (kondisi, loop, dll.), Instruksi cabang digunakan (dalam set instruksi kami ini adalah jmp dan jif). </p><br><p>  Saat memanggil fungsi, kita perlu menyimpan keadaan saat ini dari semuanya, dan untuk ini ada catatan aktivasi - catatan yang menyimpan informasi ini.  Mereka tidak terikat dengan prosesor atau instruksi dengan cara apa pun, itu hanya sebuah konsep yang digunakan kompiler ketika membuat kode.  Catatan aktivasi di OurLang memiliki struktur berikut: </p><br><p><img src="https://habrastorage.org/webt/8d/1v/do/8d1vdowiro_cx_7piaxjns-aqni.png"></p><br><p>  Seperti dapat dilihat dari diagram ini, variabel lokal juga disimpan dalam catatan aktivasi, yang memungkinkan Anda untuk menghitung alamat variabel dalam memori pada waktu kompilasi, bukan pada waktu berjalan, dan dengan demikian mempercepat eksekusi program. </p><br><p>  Untuk panggilan fungsi, set instruksi kami menyediakan metode untuk bekerja dengan dua register yang terdapat dalam modul CPU (penunjuk operasi dan penunjuk alamat aktivasi) - putopa / popopa, putara / popara. </p><br><h3 id="kompilyator">  Kompiler </h3><br><p>  Sekarang mari kita lihat bagian yang paling dekat dengan programmer akhir - kompiler.  Secara umum, kompiler sebagai program terdiri dari 3 bagian: </p><br><ul><li>  Lexer </li><li>  Parser </li><li>  Kompiler </li></ul><br><p>  Lexer bertanggung jawab untuk menerjemahkan kode sumber program ke dalam unit leksikal yang dimengerti oleh parser. </p><br><p>  Parser membangun pohon sintaksis abstrak dari unit leksikal ini. </p><br><p>  Compiler melewati pohon ini dan menghasilkan beberapa jenis kode yang terdiri dari instruksi tingkat rendah.  Ini bisa berupa bytecode atau kode biner yang siap dieksekusi oleh prosesor. </p><br><p>  Dalam kompiler OurLang, bagian-bagian ini diwakili masing-masing oleh kelas </p><br><ul><li>  Lexer.java </li><li>  Parser.java </li><li>  Compiler.java </li></ul><br><h3 id="yazyk">  Bahasa </h3><br><p>  OurLang sedang dalam masa pertumbuhan, yaitu berfungsi, tetapi sejauh ini tidak ada banyak hal di dalamnya dan bahkan bagian inti dari bahasa belum selesai.  Tetapi untuk memahami esensi dari kompiler, keadaan saat ini sudah cukup. </p><br><p>  Sebagai contoh program untuk memahami sintaksis, fragmen kode ini diusulkan (juga digunakan untuk menguji fungsionalitas): </p><br><pre> <code class="plaintext hljs">// single-line comments /* * Multi-line comments */ function print(int arg) { instr(putara, 0); instr(putw, 4); instr(add, 0); instr(lw, 0); instr(printword, 0); } function func1(int arg1, int arg2): int { print(arg1); print(arg2); if (arg1 == 0) { return arg2; } else { return func1(arg1 - 1, arg2); }; } function main() { var i: int; i = func1(1, 10); if (i == 0) { i = 1; } else { i = 2; }; print(i); }</code> </pre> <br><p>  Saya tidak akan fokus pada bahasa, saya akan meninggalkannya untuk studi Anda.  Melalui kode kompiler, tentu saja;). </p><br><p>  Ketika menulisnya, saya mencoba membuat kode yang menjelaskan sendiri tanpa komentar, jadi tidak ada masalah dalam memahami kode kompiler. </p><br><p>  Yah, tentu saja, hal yang paling menarik adalah menulis kode, dan kemudian perhatikan bagaimana hasilnya.  Untungnya, kompiler OurLang menghasilkan kode seperti perakitan dengan komentar, <br>  yang membantu untuk tidak bingung tentang apa yang terjadi di dalam. </p><br><p>  Saya juga merekomendasikan menginstal ekstensi untuk Visual Studio Code, ini akan memudahkan pekerjaan dengan bahasa. </p><br><p>  Selamat mencoba proyek ini! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id430450/">https://habr.com/ru/post/id430450/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id430434/index.html">Meluncurkan penampil gambar dari Windows XP pada Windows modern</a></li>
<li><a href="../id430436/index.html">Menuju QUIC: Yang Mendasari HTTP / 3</a></li>
<li><a href="../id430438/index.html">Bayangan realistis untuk roguelike</a></li>
<li><a href="../id430446/index.html">Sekali lagi tentang pro "perbudakan seluler"</a></li>
<li><a href="../id430448/index.html">Apa yang memberi pembelajaran mesin ritel: contoh proyek</a></li>
<li><a href="../id430452/index.html">Api, air, dan semprotan halus. Bagaimana warga dan pengunjung Lakhta Centre akan terlindungi dari api</a></li>
<li><a href="../id430454/index.html">Saya dikelilingi oleh orang-orang idiot atau bagaimana cara bekerja dalam tim</a></li>
<li><a href="../id430456/index.html">Buku Manajemen Proyek Legal oleh PMI</a></li>
<li><a href="../id430458/index.html">Multilayer Graphene Superconductor: Investigasi Zona Datar</a></li>
<li><a href="../id430460/index.html">Trojan Penguin: Membuat virus untuk Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>