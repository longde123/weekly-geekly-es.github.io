<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê¨ ‚ùÑÔ∏è üàÅ Wie ich eine Desktop-Anwendung auf Flutter gemacht habe (+ Bonus) üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø üñêüèª üöÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="K√ºrzlich wurde ich auf die Nachricht aufmerksam, dass die n√§chste Version von Flutter (1.9) ver√∂ffentlicht wurde , die verschiedene Extras verspricht,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie ich eine Desktop-Anwendung auf Flutter gemacht habe (+ Bonus)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470251/"> K√ºrzlich wurde ich auf die Nachricht aufmerksam, dass die n√§chste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Version von Flutter (1.9) ver√∂ffentlicht wurde</a> , die verschiedene Extras verspricht, einschlie√ülich der fr√ºhzeitigen Unterst√ºtzung von Webanwendungen. <br><br>  Bei der Arbeit entwickle ich mobile Anwendungen auf React Native, aber ich sehe Flutter neugierig an.  F√ºr diejenigen, die sich nicht auskennen: Auf Flutter k√∂nnen Sie jetzt Anwendungen f√ºr Android und iOS erstellen, die Unterst√ºtzung f√ºr Webanwendungen wird f√ºr die Ver√∂ffentlichung vorbereitet, und es gibt auch Pl√§ne, Desktop zu unterst√ºtzen. <br><br>  Dies ist "ein Ring, um alle zu regieren". <br><br>  Nachdem ich mir ein paar Tage √ºberlegt hatte, welche Art von Anwendung Sie versuchen k√∂nnen, entschied ich mich, eine Aufgabe mit einem Sternchen zu w√§hlen - was brauchen wir f√ºr diese abgenutzten Tracks?  Schwinge auf dem Desktop und √ºberwinde heldenhaft Schwierigkeiten!  Mit Blick auf die Zukunft werde ich sagen, dass fast keine Schwierigkeiten aufgetreten sind. <br><br>  Under the Cut - eine Geschichte dar√ºber, wie ich die √ºblichen Aufgaben des React Native-Programmierers mit Flutter-Werkzeugen gel√∂st habe, sowie den allgemeinen Eindruck der Technologie. <br><br><img src="https://habrastorage.org/webt/hx/cx/hs/hxcxhsjx7ycplrsm2nhgrq0k8xu.png"><br><a name="habracut"></a><br>  Als ich dar√ºber nachdachte, welche Funktionen von Flutter ich ‚Äûber√ºhren‚Äú m√∂chte, entschied ich, dass in meiner Anwendung Folgendes sein sollte: <br><br><ul><li>  Anforderungen an die Remote-API; </li><li>  √úberg√§nge zwischen Bildschirmen; </li><li>  √úbergangsanimationen </li><li>  Staatsmanager - Redux oder √§hnliches. </li></ul><br>  Ich wei√ü nicht, wie man ein Backend erstellt, daher habe ich mich f√ºr eine offene API eines Drittanbieters entschieden.  Aus diesem Grund habe ich mich f√ºr diese Ressource entschieden - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CBR-Kurse in XML und JSON, API</a> .  Nun, hier habe ich mich endlich f√ºr die Funktionalit√§t der Anwendung entschieden: Es gibt zwei Bildschirme, auf dem Hauptbildschirm gibt es eine Liste der W√§hrungen zum CBR-Kurs. Wenn Sie auf ein Listenelement klicken, wird ein Bildschirm mit detaillierten Informationen ge√∂ffnet. <br><br><h4>  Vorbereitung </h4><br>  Da der Befehl <code>flutter create</code> noch nicht wei√ü, wie ein Projekt f√ºr Windows / Linux erstellt wird (derzeit wird nur Mac unterst√ºtzt, verwenden Sie dazu das Flag <code>--macos</code> ), m√ºssen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Repository verwenden, in dem es ein vorbereitetes Beispiel gibt.  Wir klonen das Repository, nehmen den <code>example</code> von dort, benennen ihn bei Bedarf um und arbeiten weiter daran. <br><br>  Da sich die Unterst√ºtzung f√ºr Desktop-Plattformen noch in der Entwicklung befindet, m√ºssen Sie noch eine Reihe von Manipulationen durchf√ºhren.  F√ºhren Sie im Terminal Folgendes aus, um auf die in der Entwicklung befindlichen Funktionen zuzugreifen: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade</code> </pre> <br>  Au√üerdem m√ºssen Sie Flutter mitteilen, dass es Ihre Plattform verwenden kann: <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-linux-desktop</code> </pre> <br>  oder <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-macos-desktop</code> </pre> <br>  oder <br><br><pre> <code class="bash hljs">flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-windows-desktop</code> </pre> <br>  Wenn alles gut gegangen ist, sollten Sie durch Ausf√ºhren des Befehls <code>flutter doctor</code> eine √§hnliche Ausgabe sehen: <br><br><img src="https://habrastorage.org/webt/g0/up/m0/g0upm0iqiijcj7yrwkrm6h-lwvy.png"><br><br>  Die Landschaft ist also fertig, das Publikum in der Halle - wir k√∂nnen beginnen. <br><br><h4>  Layout </h4><br>  Das erste, was nach React Native auff√§llt, ist das Fehlen einer speziellen Auszeichnungssprache a la JSX.  Flutter zwingt Sie, sowohl Markup- als auch Gesch√§ftslogik in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dart</a> zu schreiben.  Das ist zun√§chst √§rgerlich: Der Look hat nichts zu verstehen, der Code wirkt umst√§ndlich und selbst diese Klammern befinden sich am Ende der Komponente! <br><br>  Zum Beispiel: <br><br><img src="https://habrastorage.org/webt/ar/qm/iu/arqmiuoau_llzvwuutjszehkbbw.png"><br><br>  Und das ist nicht die Grenze!  Es lohnt sich, einen an der falschen Stelle zu entfernen, und Ihnen ist ein angenehmer (kein) Zeitvertreib garantiert. <br><br>  Aufgrund der Besonderheiten der Styling-Komponenten in Flutter nimmt bei gro√üen Komponenten der Einzug vom linken Rand des Editors recht schnell zu und damit die Anzahl der zu schlie√üenden Klammern. <br><br>  Diese Funktion besteht darin, dass in Flutter-Stilen dieselben Komponenten verwendet werden (genauer gesagt Widgets). <br><br>  Wenn ich in React Native drei Schaltfl√§chen in einer Reihe in der <code>View</code> so <code>flexDirection: 'row'</code> , dass sie den Containerbereich gleichm√§√üig verteilen, reicht es aus, <code>flexDirection: 'row'</code> f√ºr die <code>View</code> in Stilen anzugeben und <code>flex: 1</code> f√ºr die Schaltfl√§chen in den Stilen hinzuzuf√ºgen, dann hat Flutter eine separate Komponente <code>Row</code> zum Anordnen von Elementen in einer Zeile und eine separate Zeile zum "Erweitern" eines Elements √ºber den gesamten verf√ºgbaren Platz: <code>Expanded</code> . <br><br>  Infolgedessen anstelle von <br><br><pre> <code class="javascript hljs">&lt;View style={{<span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>:<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-attr"><span class="hljs-attr">flexDirection</span></span>: <span class="hljs-string"><span class="hljs-string">'row'</span></span>}}&gt; &lt;Button title='A' style={{flex:1}}&gt; &lt;Button title='B' style={{flex:1}}&gt; &lt;Button title='C' style={{flex:1}}&gt; &lt;/View&gt;</code> </pre><br>  wir m√ºssen so schreiben: <br><br><pre> <code class="java hljs">Container( height: <span class="hljs-number"><span class="hljs-number">100</span></span>, width: <span class="hljs-number"><span class="hljs-number">300</span></span>, child: Row( children: &lt;Widget&gt;[ Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'A'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'B'</span></span>), ), ), Expanded( child: RaisedButton( onPressed: () {}, child: Text(<span class="hljs-string"><span class="hljs-string">'C'</span></span>), ), ), ], ), )</code> </pre> <br>  Ausf√ºhrlicher, nicht wahr? <br><br>  Oder Sie m√∂chten diesem Container beispielsweise einen Rahmen mit abgerundeten Kanten hinzuf√ºgen.  In React Native f√ºgen wir einfach folgende Stile hinzu: <br><br><pre> <code class="javascript hljs">borderRadius: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderWidth</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">borderColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#ccc'</span></span></code> </pre> <br>  In Flutter m√ºssen wir den Containerargumenten so etwas hinzuf√ºgen: <br><br><pre> <code class="java hljs">decoration: BoxDecoration( borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number"><span class="hljs-number">5</span></span>)), border: Border.all(width: <span class="hljs-number"><span class="hljs-number">1</span></span>, color: Color(<span class="hljs-number"><span class="hljs-number">0xffcccccc</span></span>)) ),</code> </pre> <br>  Im Allgemeinen verwandelte sich mein Markup zun√§chst in riesige Codebl√§tter, in denen sich der Teufel das Bein brechen w√ºrde.  Allerdings ist nicht alles so schlecht. <br><br>  Erstens m√ºssen gro√üe Komponenten nat√ºrlich zerlegt werden - in separaten Widgets oder zumindest in den Methoden Ihrer Widget-Klasse. <br><br>  Zweitens hilft das Flutter-Plugin in VS Code sehr - im obigen Bild sind Kommentare zu den Klammern vom Plugin selbst signiert (und sie k√∂nnen nicht gel√∂scht werden), was hilft, nicht in Klammern verwirrt zu werden.  Plus Tools zur automatischen Formatierung - Nach einer halben Stunde m√ºssen Sie regelm√§√üig <code>Ctrl+Shift+I</code> dr√ºcken, um den Code zu formatieren. <br><br>  Au√üerdem wurde die Syntax der Dart-Sprache in der zweiten Ausgabe viel angenehmer, so dass ich sie am Ende des Tages bereits gerne benutzte.  Ungew√∂hnlich?  Ja  Aber nicht unangenehm. <br><br><h4>  API-Anfragen </h4><br>  In React Native verwenden wir normalerweise die <code>fetch</code> , die <code>Promise</code> uns zur√ºckgibt, um Daten von einer API <code>fetch</code> . <br><br>  Bei Flutter ist die Situation √§hnlich.  Nachdem ich mir die Beispiele in der Dokumentation angesehen hatte, f√ºgte ich das http-Paket zu <code>pubspec.yaml</code> (ein Analogon von <code>package.json</code> aus der JS-Welt) und schrieb so etwas: <br><br><pre> <code class="java hljs">Future&lt;http.Response&gt; getAnything() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> http.get(URL); }</code> </pre> <br>  Das <code>Future</code> Objekt hat eine sehr √§hnliche Bedeutung wie Promise, daher ist hier alles ziemlich transparent.  Nun, zum Serialisieren / Deserialisieren von JSON-Objekten k√∂nnen Sie das Konzept von Modellklassen mit speziellen Methoden von <code>fromJSON</code> / <code>toJSON</code> .  Weitere Informationen hierzu finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . <br><br><h4>  √úbergang zwischen Bildschirmen </h4><br>  Trotz der Tatsache, dass ich eine Desktop-Anwendung erstellt habe, gibt es aus Sicht von Flutter keinen Unterschied, auf welcher Plattform sie sich dreht.  Nun, das hei√üt, in meinem Fall ist das im Allgemeinen so - ich wei√ü es nicht.  Tats√§chlich ist das Systemfenster, in dem die Flatteranwendung gestartet wird, der gleiche Bildschirm eines Smartphones. <br><br>  Der √úbergang zwischen Bildschirmen ist recht trivial: Wir erstellen eine Bildschirm-Widget-Klasse und verwenden dann die Standard- <code>Navigator</code> Klasse. <br><br>  Im einfachsten Fall k√∂nnte es ungef√§hr so ‚Äã‚Äãaussehen: <br><br><pre> <code class="java hljs">RaisedButton( child: Text(<span class="hljs-string"><span class="hljs-string">'Go to Detail'</span></span>), onPressed: () { Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(MaterialPageRoute(builder: (context) =&gt; DetailScreen())); }, )</code> </pre> <br>  Wenn Ihre Anwendung √ºber mehrere Bildschirme verf√ºgt, ist es sinnvoller, zuerst ein <code>pushNamed</code> zu erstellen und dann die <code>pushNamed</code> Methode zu verwenden.  Ein kleines Beispiel aus der Dokumentation: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavigationApp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatelessWidget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// This widget is the root of your application. @override Widget build(BuildContext context) { return MaterialApp( ... routes: &lt;String, WidgetBuilder&gt;{ '/a': (BuildContext context) =&gt; usualNavscreen(), '/b': (BuildContext context) =&gt; drawerNavscreen(), } ... ); } } // AnyWidget ... onPressed: () { Navigator.of(context).pushNamed('/a'); }, ...</span></span></code> </pre><br>  Dar√ºber hinaus k√∂nnen Sie eine spezielle Animation f√ºr den Wechsel zwischen Bildschirmen vorbereiten und Folgendes schreiben: <br><br><pre> <code class="java hljs">Navigator.of(context).push&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt;(ScaleRoute(page: DetailScreen()));</code> </pre> <br>  Hier ist <code>ScaleRoute</code> eine spezielle Klasse zum Erstellen von √úbergangsanimationen.  Gute Beispiele f√ºr solche Animationen finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h4>  Staatsmanagement </h4><br>  Es kommt vor, dass wir von jedem Teil unserer Anwendung aus auf einige Daten zugreifen m√ºssen.  In React Native wird <code>redux</code> h√§ufig (wenn nicht am h√§ufigsten) f√ºr diese Zwecke verwendet. <br><br>  F√ºr Flutter gibt es ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository</a> , das Beispiele f√ºr die Verwendung verschiedener Anwendungsarchitekturen zeigt - es gibt Redux, MVC und MVU und sogar solche, von denen ich vorher noch nichts geh√∂rt habe. <br><br>  Nachdem ich in diesen Beispielen ein wenig gest√∂bert hatte, beschloss ich, bei <code>Provider</code> anzuhalten. <br><br>  Im Allgemeinen ist die Idee recht einfach: Wir erstellen eine spezielle Klasse, <code>ChangeNotifier</code> Klasse <code>ChangeNotifier</code> , in der wir unsere Daten speichern, sie mit den Methoden dieser Klasse aktualisieren und bei Bedarf von dort abrufen.  Weitere Informationen finden Sie in der Paketdokumentation. <br><br>  <code>pubspec.yaml</code> Sie dazu das <code>provider</code> Paket zu <code>pubspec.yaml</code> und bereiten Sie die Provider-Klasse vor.  In meinem Fall sieht es so aus: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:flutter/material.dart'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'package:rates_app/models/rate.dart'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RateProvider</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChangeNotifier</span></span></span><span class="hljs-class"> </span></span>{ Rate currentrate; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCurrentRate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Rate rate)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentrate = rate; notifyListeners(); } }</code> </pre> <br>  Hier ist <code>Rate</code> meine W√§hrungsmodellklasse (mit <code>currentrate</code> , <code>code</code> , <code>value</code> usw.), <code>currentrate</code> ist das Feld, in dem die ausgew√§hlte W√§hrung gespeichert wird, und <code>setCurrentRate</code> ist die Methode, mit der der <code>currentrate</code> Wert <code>currentrate</code> . <br><br>  Um unseren Provider an die Anwendung anzuh√§ngen, √§ndern wir den Anwendungsklassencode: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@override</span></span> <span class="hljs-function"><span class="hljs-function">Widget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BuildContext context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ChangeNotifierProvider( builder: (context) =&gt; RateProvider(), <span class="hljs-comment"><span class="hljs-comment">//   child: MaterialApp( ... ), home: HomeScreen(), ), ); }</span></span></code> </pre> <br>  Das war's, wenn wir die ausgew√§hlte W√§hrung speichern wollen, dann schreiben wir so etwas: <br><br><pre> <code class="java hljs">Provider.of&lt;RateProvider&gt;(context).setCurrentRate(rate);</code> </pre> <br>  Und wenn wir den gespeicherten Wert erhalten m√∂chten, dann ist dies: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rate = Provider.of&lt;RateProvider&gt;(context).currentrate;</code> </pre> <br>  Alles ist ziemlich transparent und keine Boilerplate (im Gegensatz zu Redux).  Nat√ºrlich wird f√ºr komplexere Anwendungen vielleicht alles nicht so reibungslos verlaufen, aber f√ºr diejenigen wie mein Beispiel reine Weine. <br><br><h4>  Anwendung erstellen </h4><br>  Theoretisch wird der Befehl <code>flutter build &lt;platform&gt;</code> verwendet, um die Anwendung zu erstellen.  In der Praxis erhielt ich beim <code>flutter build linux</code> Befehls <code>flutter build linux</code> die folgende Meldung: <br><br><img src="https://habrastorage.org/webt/cy/ai/px/cyaipxfgk9xrmgncqc9mylbz6j0.png"><br><br>  "Es hat nicht wehgetan", dachte ich, ich war entsetzt √ºber das Gewicht des <code>build</code> Ordners - 287,5 MB - und wegen der Einfachheit meiner Seele habe ich diesen Ordner f√ºr immer gel√∂scht.  Wie sich herausstellte - vergebens. <br><br>  Nach dem L√∂schen des <code>build</code> Verzeichnisses wurde das Projekt nicht mehr gestartet.  Ich konnte es nicht wiederherstellen, also habe ich es aus dem urspr√ºnglichen Beispiel kopiert.  Es hat nicht geholfen - der Sammler schwor auf die fehlenden Dateien. <br><br>  Nach einigen Recherchen stellte sich heraus, dass sich in diesem Ordner eine Datei <code>snapshot_blob.bin.d</code> , die anscheinend Pfade zu allen im Projekt verwendeten Dateien enth√§lt.  Ich habe die fehlenden Pfade hinzugef√ºgt und es hat funktioniert. <br><br>  Daher wei√ü Flutter derzeit nicht, wie Release-Builds f√ºr den Desktop vorbereitet werden sollen.  Jedenfalls f√ºr Linux. <br><br>  Wenn Sie Ihre Augen vor diesem Minus schlie√üen, hat sich die Anwendung im Allgemeinen so entwickelt, wie ich es wollte und wie sie aussieht <br><br><div class="spoiler">  <b class="spoiler_title">so</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/79/e6/zz/79e6zzdw9kggfwkiyelfsmrokt0.gif"><br></div></div><br><h4>  Bonus </h4><br>  Wir gehen zum versprochenen Bonus √ºber. <br><br>  Schon beim Schreiben der Anwendung wollte ich pr√ºfen, wie schwierig es sein w√ºrde, sie auf andere Plattformen zu portieren.  Beginnen wir mit dem Handy. <br><br>  Sicher gibt es einen weniger barbarischen Weg, aber ich entschied, dass der k√ºrzeste Weg direkt ist.  Aus diesem <code>pubspec.yaml</code> ich einfach ein neues Flutter-Projekt erstellt, die Datei <code>pubspec.yaml</code> , die <code>assets</code> , <code>fonts</code> und <code>lib</code> Verzeichnisse √ºbertragen und die Zeile zu <code>AndroidManifest.xml</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  Die Anwendung begann mit einem halben Tritt und ich bekam dies <br><br><div class="spoiler">  <b class="spoiler_title">Bild</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/3m/8p/r4/3m8pr4rwdjllpixpsjdla574kl8.jpeg"><br></div></div><br>  Zuerst musste ich am Web basteln.  Ich wusste nicht, wie man ein Webprojekt erstellt, deshalb habe ich die Anweisungen aus dem Internet verwendet, die aus irgendeinem Grund nicht funktionierten.  Ich wollte schon spucken, bin aber auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Handbuch gesto√üen. <br><br>  Infolgedessen stellte sich heraus, dass alles so einfach wie m√∂glich war - es musste lediglich die Unterst√ºtzung f√ºr Webanwendungen einbezogen werden.  Dr√ºcken Sie aus dem Handbuch: <br><br><pre> <code class="bash hljs">flutter channel master flutter upgrade flutter config --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-web <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> &lt;into project directory&gt; flutter create . flutter run -d chrome</code> </pre> <br>  Dann habe ich die notwendigen Dateien auf die gleiche barbarische Weise in dieses Projekt √ºbertragen und solche erhalten <br><br><div class="spoiler">  <b class="spoiler_title">Ergebnis</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ac/nt/gw/acntgwqqzvghgus9ll6thtbanbe.png"><br></div></div><br><h4>  Allgemeine Eindr√ºcke </h4><br>  Anfangs war die Arbeit mit Flutter ungew√∂hnlich, ich habe st√§ndig versucht, die √ºblichen Ans√§tze von React Native zu verwenden, und dies st√∂rte.  Auch eine gewisse Redundanz des Dartcodes war etwas √§rgerlich. <br><br>  Nachdem ich meine Hand (und Zapfen) ein wenig bekommen hatte, begann ich die Vorteile von Flutter gegen√ºber React Native zu erkennen.  Ich werde einige auflisten. <br><br>  <b>Sprache</b> .  Dart ist eine v√∂llig verst√§ndliche und nette Sprache mit starker statischer Typisierung.  Nach JavaScript war es wie ein Hauch frischer Luft.  Ich hatte keine Angst mehr, dass mein Code zur Laufzeit kaputt gehen k√∂nnte, und es war ein angenehmes Gef√ºhl.  Jemand mag sagen, dass es Flow und TypeScript gibt, aber das ist es nicht - in unseren Projekten haben wir beide verwendet, und irgendwo ist immer etwas anderes kaputt gegangen.  Wenn ich in React Native schreibe, kann ich nicht anders, als das Gef√ºhl zu haben, dass sich mein Code auf Streichholzst√ºtzen befindet, die jederzeit kaputt gehen k√∂nnen.  Bei Flutter habe ich dieses Gef√ºhl vergessen, und wenn der Preis Code-Redundanz ist, bin ich bereit, ihn zu bezahlen. <br><br>  <b>Plattform</b> .  In React Native verwenden Sie native Komponenten. Dies ist im Allgemeinen gut.  Aus diesem Grund m√ºssen Sie manchmal plattformspezifischen Code schreiben und plattformspezifische Fehler abfangen.  Es kann unglaublich anstrengend sein.  Mit Flutter k√∂nnen Sie diese Probleme wie einen Albtraum vergessen (obwohl es bei gro√üen Anwendungen m√∂glicherweise nicht so reibungslos l√§uft). <br><br>  <b>Die Umwelt</b> .  Mit der Umgebung in React Native ist alles traurig.  Die vscode-Plugins fallen st√§ndig ab, der Debugger kann 16 Gig Operative und 70 Gig Swap verschlingen, das System (aus pers√∂nlicher Erfahrung) fest aufh√§ngen und das h√§ufigste Fehlerkorrektur-Szenario: "Entfernen Sie node_modules, installieren Sie Pakete erneut und versuchen Sie mehrmals, neu zu starten."  Das hilft normalerweise, aber bljad!  Nicht so sollte es sein, nicht so. <br><br>  Dar√ºber hinaus m√ºssen Sie AndroidStudio und Xcode regelm√§√üig ausf√ºhren, da einige nur auf diese Weise erstellt werden (fairerweise wurde dies mit der Ver√∂ffentlichung von RN 0.60 besser). <br><br>  Vor diesem Hintergrund sieht das offizielle Flutter-Plugin f√ºr vscode sehr gut aus.  Hinweise zum Code erm√∂glichen es Ihnen, sich mit der Plattform vertraut zu machen, ohne die Dokumentation zu lesen. Die automatische Formatierung l√∂st das Problem mit dem Codierungsstil, dem normalen Debugger usw. <br>  Im Allgemeinen sieht es nach einem ausgereifteren Werkzeug aus. <br><br>  <b>Plattform√ºbergreifend</b> .  React Native bekennt sich zum Prinzip ‚ÄûEinmal lernen, √ºberall schreiben‚Äú - sobald Sie gelernt haben, k√∂nnen Sie f√ºr verschiedene Plattformen schreiben.  Richtig, unter jeder Plattform treten spezifische Probleme auf.  Aber vielleicht ist dies nur eine Folge der Unreife von React Native - im Moment ist die neueste stabile Version 0.61.  M√∂glicherweise werden mit der Ver√∂ffentlichung von Version 1.0 die meisten dieser Probleme behoben. <br><br>  Der Flutter-Ansatz ist eher wie einmal schreiben, √ºberall kompilieren.  Und selbst wenn der Desktop momentan nicht produktionsbereit ist, ist das Web auch in Alpha, aber alles geht dahin.  Die M√∂glichkeit, eine einzige Codebasis f√ºr alle Plattformen zu haben, ist ein starkes Argument. <br><br>  Nat√ºrlich ist Flutter auch nicht ohne M√§ngel, aber ein wenig Erfahrung in der Verwendung erlaubt es mir nicht, sie zu identifizieren.  Wenn Sie also eine objektivere Bewertung w√ºnschen, k√∂nnen Sie den Neuheitseffekt ignorieren. <br><br>  Im Allgemeinen sollte beachtet werden, dass Flutter √ºberwiegend positive Gef√ºhle hinterlassen hat, obwohl er Raum zum Wachsen hat.  Und beim n√§chsten Projekt w√§re ich eher bereit, damit zu beginnen, und nicht mit React Native. <br><br>  Der Quellcode f√ºr das Projekt ist auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> zu finden. <br><br>  PS Ich nutze diese Gelegenheit, um allen Beteiligten am vergangenen Lehrertag zu gratulieren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470251/">https://habr.com/ru/post/de470251/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470235/index.html">Interview mit Dmitry Simonov, dem Sch√∂pfer des CTORECORDS-Kanals: ‚ÄûDie Hauptqualit√§t von techdir ist die Gewohnheit zu gewinnen.‚Äú</a></li>
<li><a href="../de470237/index.html">Wochenendliteratur: Einfaches Lesen f√ºr Technikfreaks</a></li>
<li><a href="../de470239/index.html">Unentwickeltes ERP in der Produktion: auf der Intensivstation oder in einer Leichenhalle?</a></li>
<li><a href="../de470241/index.html">Startup-Geschichte: Wie man Schritt f√ºr Schritt eine Idee entwickelt, in einen nicht existierenden Markt eintritt und internationale Expansion erreicht</a></li>
<li><a href="../de470247/index.html">RESHI.RU - ein Roboter l√∂st und erkl√§rt Schultextprobleme in der Mathematik</a></li>
<li><a href="../de470255/index.html">Optimierung des Anleihenportfolios mit ALGLIB</a></li>
<li><a href="../de470257/index.html">Umh√ºllen Sie ImmutableList in Java</a></li>
<li><a href="../de470259/index.html">Aimybox bei der Suche: Das Framework zum Erstellen von Sprachassistenten ben√∂tigt einen iOS-Assistenten</a></li>
<li><a href="../de470265/index.html">C ++ Abk√ºrzung Spickzettel und mehr. Teil 1: C ++</a></li>
<li><a href="../de470269/index.html">ReactOS 0.4.12: Âçé‰∏∫ Ôºå ‰Ω† ËÆ§‰∏∫ ËÆ§‰∏∫ ÊÄé‰πà Ê†∑Ôºü</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>