<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèº üëÖ üë©üèº‚Äçüéì Errores comunes al escribir pruebas unitarias. Conferencia de Yandex üë®üèø‚Äçüöí üàÅ üòï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Si domina una peque√±a lista de errores t√≠picos que ocurren al escribir pruebas unitarias, incluso puede amar escribirlos. Hoy, el jefe del grupo de de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Errores comunes al escribir pruebas unitarias. Conferencia de Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/436850/">  Si domina una peque√±a lista de errores t√≠picos que ocurren al escribir pruebas unitarias, incluso puede amar escribirlos.  Hoy, el jefe del grupo de desarrollo Yandex.Browser para Android Konstantin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">kzaikin</a> Zaikin compartir√° su experiencia con los lectores de Habr. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ZyGZjpxF9Fo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Tengo un informe pr√°ctico.  Espero que los beneficie a todos ustedes: aquellos que ya est√°n escribiendo pruebas unitarias, y aquellos que solo est√°n pensando en escribir, y aquellos que lo est√°n intentando y que no han tenido √©xito. <a name="habracut"></a><br><br>  Tenemos un proyecto bastante grande.  Uno de los mayores proyectos m√≥viles en Rusia.  Tenemos mucho c√≥digo, muchas pruebas.  Las pruebas se persiguen en cada solicitud de grupo, no caen al mismo tiempo. <br><br>  ¬øQui√©n sabe qu√© cobertura de prueba tiene en el proyecto?  Cero, est√° bien.  ¬øQui√©n tiene pruebas unitarias en el proyecto?  ¬øY qui√©n cree que no se necesitan pruebas unitarias?  No veo nada malo en eso, hay personas que est√°n sinceramente convencidas de esto, y mi historia deber√≠a ayudarles a convencerse de esto. <br><br>  Afortunadamente, miles de pruebas ecol√≥gicas: no vinimos de inmediato.  No hay bala de plata, y la idea principal de mi informe en la pantalla: <br><br><img src="https://habrastorage.org/webt/w1/0y/wm/w10ywme1xumvi5asap7gp0a5iee.jpeg"><br><br>  El dicho chino est√° escrito en jerogl√≠ficos que dice que un viaje de aproximadamente mil comienza con un paso.  Parece que hay un an√°logo de este dicho. <br><br>  Hace mucho tiempo, tomamos la decisi√≥n de que necesitamos mejorar nuestro producto, nuestro c√≥digo, y estamos avanzando hacia este prop√≥sito.  En este camino nos encontramos con muchos golpes, un rastrillo submarino, y reunimos junto con esto algunas creencias. <br><br><img src="https://habrastorage.org/webt/ks/9z/5w/ks9z5wmzmkghfc-vireaf5rdvvg.jpeg"><br><br>  ¬øPor qu√© necesitamos pruebas? <br><br>  Para que las caracter√≠sticas antiguas no caigan cuando presentamos otras nuevas.  Tener una insignia en GitHub.  Para refactorizar las caracter√≠sticas existentes, un pensamiento profundo, debe revelarse a aquellos que no escriben pruebas.  Para que las funciones existentes no caigan durante la refactorizaci√≥n, nos protegeremos con pruebas.  Para que el jefe env√≠e una solicitud de grupo, s√≠. <br><br>  Mi opini√≥n, por favor no la asocie con la opini√≥n de mi equipo, de que las pruebas nos ayudan.  Le permiten ejecutar su c√≥digo sin ponerlo en producci√≥n, sin instalarlo en dispositivos, lo inicia y lo ejecuta muy r√°pidamente.  Puede huir de todos los casos de esquina que no obtiene en la vida en el dispositivo y en la producci√≥n, y su probador no los encontrar√°.  Pero usted, como desarrollador, los inventar√°, verificar√° y corregir√° errores en una etapa temprana. <br><br>  Muy importante: las pruebas indican c√≥mo, seg√∫n el desarrollador, el c√≥digo deber√≠a funcionar y qu√©, seg√∫n el desarrollador, deber√≠an hacer sus m√©todos.  Estos no son comentarios que se alejan y despu√©s de un tiempo los √∫tiles se vuelven da√±inos.  Sucede que en los comentarios se escribe una cosa, y en el c√≥digo es completamente diferente.  Las pruebas unitarias en este sentido no pueden mentir.  Si la prueba es verde, documenta lo que est√° sucediendo all√≠.  La prueba fall√≥: usted viol√≥ la intenci√≥n principal del desarrollador. <br><br>  Cometer contratos.  Estos no son contratos firmados y sellados, sino contratos de software para el comportamiento de clase.  Si refactoriza, en este caso los contratos ser√°n violados y las pruebas caer√°n si los rompe.  Si se guardan los contratos, las pruebas permanecer√°n verdes, tendr√° m√°s confianza en que su refactorizaci√≥n es correcta. <br><br><img src="https://habrastorage.org/webt/pr/z0/fc/prz0fclospeod5fnxeum2bi19gw.jpeg"><br><br>  Esta es la idea general de todo mi informe.  Puedes mostrar la primera l√≠nea y salir. <br><br>  Mucha gente piensa que el c√≥digo de prueba es regular, no es para producci√≥n, por lo que puede escribirlo de manera regular.  Estoy totalmente en desacuerdo con esto y creo que las pruebas deben abordarse en primer lugar de manera responsable, as√≠ como el c√≥digo de producci√≥n.  Si los aborda de la misma manera, las pruebas lo beneficiar√°n.  De lo contrario, ser√° una mancha. <br><br>  M√°s espec√≠ficamente, las dos l√≠neas a continuaci√≥n se refieren a cualquier c√≥digo, al parecer. <br><br>  BESO: mantenlo simple, est√∫pido.  No hay necesidad de complicarse.  Las pruebas deben ser simples.  Y el c√≥digo de producci√≥n debe ser simple, pero las pruebas son especialmente.  Si tiene ex√°menes que son f√°ciles de leer, entonces estos ser√°n ex√°menes que probablemente est√©n bien escritos, est√©n bien expresados ‚Äã‚Äãy sean f√°ciles de evaluar.  Incluso durante la solicitud de grupo, una persona que mira sus nuevas pruebas comprender√° lo que quer√≠a decir.  Y si algo se rompe, puede comprender f√°cilmente lo que sucedi√≥. <br><br>  SECO - no te repitas.  En las pruebas, el desarrollador a menudo se inclina a usar la t√©cnica prohibida que nadie parece usar en la producci√≥n: copiar y pegar.  En la producci√≥n de un desarrollador que copiar√° y pegar√° activamente, simplemente no lo entender√°n.  En las pruebas, esta es una pr√°ctica normal, desafortunadamente.  No es necesario hacer esto, porque - la primera l√≠nea.  Si escribe las pruebas honestamente, como un c√≥digo realmente bueno, las pruebas le ser√°n √∫tiles. <br><br>  Mientras est√°bamos desarrollando nuestros cientos de miles de l√≠neas de c√≥digo, escribiendo miles de pruebas, recolectando rastrillos, hab√≠a acumulado comentarios t√≠picos sobre las pruebas.  Soy bastante vago, y cuando fui a las solicitudes del grupo y observ√© los mismos errores, basado en el principio DRY, decid√≠ anotar estos problemas t√≠picos, y lo hice primero en el Wiki interno y luego publiqu√© olores de pruebas pr√°cticas en GitHub que puedes seguir cuando escribes pruebas. <br><br><img src="https://habrastorage.org/webt/oj/k1/u2/ojk1u2fjmy269sioq4vin6yylua.jpeg"><br><br>  Voy a enumerar por puntos.  Incremente un contador en su mente si recuerda ese olor a prueba.  Si cuentas hasta cinco, puedes levantar la mano y gritar "¬°Bingo!"  Y al final, me pregunto qui√©n cont√≥ cu√°nto.  Mi contador ser√° igual al n√∫mero de puntos, los recog√≠ todos yo mismo. <br><br><img src="https://habrastorage.org/webt/nm/pw/8n/nmpw8nk89hl6gmggyims0llmn28.jpeg"><br><h5>  <sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enlace GitHub</a></sub></sup> </h5><br>  Lo m√°s dif√≠cil en la programaci√≥n que sabes.  Y en las pruebas esto es realmente importante.  Si no nombra bien la prueba, lo m√°s probable es que no pueda formular lo que verifica la prueba. <br><br>  Los humanos son criaturas bastante simples, son f√°cilmente atrapados en los nombres.  Por lo tanto, le pido que llame a las pruebas bien.  Formule una prueba para verificar y seguir reglas simples. <br><br><h4>  no_action_or_assertion </h4><br>  Si el nombre de la prueba no contiene una descripci√≥n de lo que verifica la prueba, por ejemplo, si tiene la clase Controller y escribe la prueba testController, ¬øqu√© verifica?  ¬øQu√© debe hacer esta prueba?  Lo m√°s probable, ya sea nada o demasiadas cosas para verificar.  Ni uno ni el otro nos conviene.  Por lo tanto, en nombre de la prueba, debe escribir lo que verificamos. <br><br><h4>  nombre_largo </h4><br>  No puedes ir al otro extremo.  El nombre de la prueba debe ser lo suficientemente corto como para que una persona pueda analizarlo f√°cilmente.  En este sentido, Kotlin es excelente porque le permite escribir nombres de prueba entre comillas con espacios en ingl√©s normal.  Son m√°s f√°ciles de leer.  Pero a√∫n as√≠, los nombres largos son olor. <br><br>  Si el nombre de su prueba es demasiado largo, lo m√°s probable es que ponga demasiados m√©todos de prueba en una clase de prueba, y necesita aclarar lo que est√° verificando.  En este caso, debe dividir su clase de prueba en varias.  No hay que tener miedo de esto.  Tendr√° un nombre de clase de prueba que verifica el nombre de su c√≥digo de producci√≥n, y habr√° nombres cortos de prueba. <br><br><h4>  prefijo_antiguo </h4><br>  Esto es atavismo.  Anteriormente, en Java, todos probaban con JUnit, donde hasta la cuarta versi√≥n hab√≠a un acuerdo de que los m√©todos de prueba deber√≠an comenzar con la palabra prueba.  Sucedi√≥ que todos todav√≠a lo llaman as√≠.  Pero hay un problema, en ingl√©s la palabra test es el verbo "check".  Las personas quedan atrapadas f√°cilmente en esta trampa y ya no escriben ning√∫n otro verbo.  Escribe testController.  Es f√°cil comprobarlo usted mismo: si no escribi√≥ un verbo sobre lo que debe hacer su clase de prueba, lo m√°s probable es que no haya verificado algo, no lo ha escrito lo suficientemente bien.  Por lo tanto, siempre le pido que elimine la palabra prueba de los nombres de los m√©todos de prueba. <br><br>  Les digo cosas muy simples, pero curiosamente, ayudan.  Si las pruebas se llaman bien, lo m√°s probable es que debajo del cap√≥ se vean bien.  Es muy simple <br><br><img src="https://habrastorage.org/webt/1e/_h/b3/1e_hb3te9onmzprsqcvilm2i_cc.jpeg"><br><br>  De hecho, le√≠ los ID de olores de prueba como en GitHub.  El enlace est√° debajo, puedes caminar y usar. <br><br><h4>  multiple_asserts </h4><br>  En el m√©todo de prueba hay muchas afirmaciones.  ¬øEntonces tal vez o no?  Tal vez  ¬øEs bueno o malo?  Creo que esto es muy malo.  Si escribi√≥ varias afirmaciones en un m√©todo de prueba, entonces verifica varias declaraciones.  Si prueba su prueba y cae la primera afirmaci√≥n, ¬øllegar√° la prueba a la segunda afirmaci√≥n?  No alcanzar√°.  Usted ya despu√©s de la ca√≠da de su ensamblaje en alg√∫n lugar del CI obtiene que la prueba cay√≥, vaya a arreglar algo, ll√©nelo nuevamente, caer√° en la siguiente afirmaci√≥n.  Muy bien podr√≠a ser. <br><br>  En este caso, ser√≠a mucho m√°s genial si dividiera este m√©todo de prueba en varios, y todos los m√©todos con varias afirmaciones cayeran al mismo tiempo, porque se lanzar√≠an independientemente uno del otro. <br><br>  Algunas afirmaciones m√°s pueden enmascarar las diferentes acciones que se realizan con la clase de prueba.  Recomiendo escribir una prueba, una afirmaci√≥n.  Al mismo tiempo, las afirmaciones pueden ser bastante complejas.  Mi colega, en el primer informe, demostr√≥ una pieza de c√≥digo en la que utiliz√≥ la excelente afirmaci√≥n de que la construcci√≥n y la coincidencia.  Realmente me encantan los enfrentamientos en JUnit, as√≠ que puedes usar eso tambi√©n.  Para el lector de prueba, resulta ser solo una breve declaraci√≥n.  GitHub tiene ejemplos de todos estos olores y c√≥mo solucionarlos.  Hay un ejemplo de c√≥digo incorrecto y alg√∫n c√≥digo bueno.  Todo esto se realiza en forma de un proyecto que puede descargar, abrir, compilar y ejecutar todas las pruebas. <br><br><h4>  many_tests_in_one </h4><br>  El siguiente olor est√° estrechamente relacionado con el anterior.  Haces algo con el sistema: haces una afirmaci√≥n.  Hacer otra cosa con el sistema, algunas operaciones largas, hacer una afirmaci√≥n, hacer otra cosa.  De hecho, simplemente vio varios m√©todos, y obtiene m√©todos de prueba s√≥lidos y buenos. <br><br><h4>  repeating_setup </h4><br>  Esto se refiere a la verbosidad.  Si tiene una clase de prueba, y cada m√©todo de prueba ejecuta los mismos m√©todos al principio. <br><br>  Una clase de prueba en la que se ejecutan los mismos m√©todos al principio.  Esto parece un poco, pero en todos los m√©todos de prueba esta basura est√° presente.  Y si es com√∫n a todos los m√©todos de prueba, entonces, ¬øpor qu√© no arrastrarlo al constructor o al bloque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Before</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Before</a> Each block en JUnit 5. Si hace esto, la legibilidad de cada m√©todo mejorar√° y adem√°s se librar√° de DRY sin.  Tales pruebas son m√°s f√°ciles de mantener y m√°s f√°ciles de leer. <br><br><img src="https://habrastorage.org/webt/jz/e6/pt/jze6ptgcma9s-f62hobgcoj5jbu.jpeg"><br><br>  La fiabilidad de las pruebas es muy importante.  Hay signos por los cuales se puede determinar que la prueba llorar√°, ser√° verde o roja.  Cuando el desarrollador lo escribe, est√° seguro de que es verde y, por alguna raz√≥n, las pruebas se vuelven verdes o rojas, lo que nos da dolor e incertidumbre en general de que las pruebas son √∫tiles.  No estamos seguros de las pruebas, lo que significa que no estamos seguros de que sean √∫tiles. <br><br><h4>  al azar </h4><br>  Yo mismo escrib√≠ una vez pruebas que ten√≠an Math.random () dentro, hice n√∫meros aleatorios, hice algo con ellos.  No hay necesidad de hacer esto.  Esperamos que el sistema de prueba ingrese al sistema de prueba en la misma configuraci√≥n, y la salida del mismo tambi√©n debe ser la misma.  Por lo tanto, en pruebas unitarias, por ejemplo, nunca necesita realizar ninguna operaci√≥n con la red.  Debido a que el servidor puede no responder, puede haber diferentes tiempos, algo m√°s. <br><br>  Si necesita una prueba que funcione con la red, haga un proxy, local, cualquier cosa, pero en ning√∫n caso vaya a una red real.  Este es el mismo azar.  Y, por supuesto, no puede usar datos aleatorios.  Si tiene que hacer algo, haga algunos ejemplos con condiciones l√≠mite, con malas condiciones, pero deben estar codificadas. <br><br><h4>  caminar_sue√±o </h4><br>  Un problema cl√°sico que enfrentan los desarrolladores cuando intentan probar alg√∫n tipo de c√≥digo asincr√≥nico.  Es que hice algo en la prueba, y luego tengo que esperar hasta que se complete.  C√≥mo hacer?  Thread.sleep (), por supuesto. <br><br>  Hay un problema  Cuando desarroll√≥ su prueba, por ejemplo, lo hizo en alguna de su m√°quina de escribir, funciona a cierta velocidad.  Ejecutas las pruebas en otra m√°quina.  ¬øY qu√© suceder√° si su sistema no logra funcionar durante el tiempo Thread.sleep ()?  La prueba se pone roja.  Esto es inesperado  Por lo tanto, la recomendaci√≥n aqu√≠ es, si est√° realizando operaciones asincr√≥nicas, no las pruebe en absoluto.  Casi cualquier operaci√≥n asincr√≥nica se puede implementar para que tenga alg√∫n tipo de mecanismo condicional que proporcione una operaci√≥n asincr√≥nica y un bloque de c√≥digo ejecutado sincr√≥nicamente.  Por ejemplo, AsyncTask tiene un bloque de c√≥digo ejecutado sincr√≥nicamente.  Puede probarlo sincr√≥nicamente f√°cilmente, sin asincronismo.  No hay necesidad de probar AsyncTask en s√≠, es una clase de marco, ¬øpor qu√© probarlo?  Ponlo entre corchetes y tu vida ser√° m√°s f√°cil. <br><br>  Thread.sleep () es mucho dolor.  Adem√°s del hecho de que empeora la confiabilidad de las pruebas, ya que les permite llorar debido a diferentes tiempos en los dispositivos, tambi√©n ralentiza la ejecuci√≥n de sus pruebas.  ¬øA qui√©n le gustar√≠a que sus pruebas unitarias, que deber√≠an ejecutarse en milisegundos, se ejecuten durante cinco segundos, porque configur√© el modo de suspensi√≥n? <br><br><h4>  modificar_global </h4><br>  Es t√≠pico que hayamos cambiado alguna variable est√°tica global al comienzo de la prueba para verificar que nuestro sistema funciona correctamente, pero no regres√≥ al final.  Luego tenemos una situaci√≥n interesante: en la m√°quina, el desarrollador ejecut√≥ las pruebas en una secuencia, primero verific√≥ la variable global con el valor predeterminado, luego la cambi√≥ en otra prueba y luego hizo otra cosa.  Ambas pruebas son verdes.  Y en CI, sucedi√≥ que las pruebas comenzaron en el orden inverso.  Y una o ambas pruebas ser√°n rojas, aunque todas fueron verdes. <br><br>  Necesitas limpiar despu√©s de ti mismo.  Scout gobierna en este sentido: cambi√≥ la variable global - regrese al estado original.  Mejor a√∫n, aseg√∫rese de que no se usen estados globales.  Pero este es un pensamiento m√°s profundo.  Se trata del hecho de que las pruebas a veces resaltan defectos en la arquitectura.  Si tenemos que cambiar los estados globales y devolverlos a su estado original para escribir pruebas, ¬ønos est√° yendo bien en nuestra arquitectura?  ¬øRealmente necesitamos variables globales, por ejemplo?  Como regla general, puede prescindir de ellos inyectando algunas clases de contextos o algo as√≠, para que pueda reinicializarlos, inyectarlos y reinicializarlos en la prueba cada vez. <br><br><h4>  @VisibleForTesting </h4><br>  Prueba de olor para avanzado.  La necesidad de usar tal cosa no surge el primer d√≠a, como regla.  Ya probaste algo y luego necesitabas traducir la clase a un estado espec√≠fico.  Y te haces una puerta trasera.  Tienes una clase de producci√≥n, y haces un m√©todo espec√≠fico que nunca se llamar√° en producci√≥n, y a trav√©s de √©l inyectas algo en la clase o cambias su estado.  Por lo tanto, maliciosamente rompiendo la encapsulaci√≥n.  En producci√≥n, su clase funciona de alguna manera, pero en las pruebas, de hecho, es una clase diferente, se comunica con ella a trav√©s de otras entradas y salidas.  Y aqu√≠ puede obtener una situaci√≥n en la que cambia la producci√≥n, pero las pruebas no lo notan.  Las pruebas contin√∫an pasando por la puerta trasera y no notaron que, por ejemplo, las excepciones comenzaron a dispararse en el constructor, ya que pasan por otro constructor. <br><br>  En general, debe probar sus clases a trav√©s de las mismas entradas y salidas que en la producci√≥n.  No debe haber acceso a ning√∫n m√©todo solo para pruebas. <br><br><img src="https://habrastorage.org/webt/dy/sf/s0/dysfs0rl9n6ftff4nt3ftwpy988.jpeg"><br><br>  ¬øCu√°ntas de nuestras 15 mil pruebas se realizan?  Aproximadamente 20 minutos, en cada solicitud de grupo, en Team City, los desarrolladores se ven obligados a esperar.  Solo porque 15 mil son muchas pruebas.  Y en esta secci√≥n, he compilado olores que ralentizan las pruebas.  Aunque thread_sleep ya estaba all√≠. <br><br><h4>  prueba_android_necesaria </h4><br>  Android tiene pruebas de instrumentaci√≥n, son hermosas, se ejecutan en un dispositivo o emulador.  Esto elevar√° su proyecto por completo, de verdad, pero son muy lentos.  Y para ellos necesitas incluso levantar un emulador completo.  Incluso si imagina que tiene un emulador elevado en CI, solo coincide que tiene uno, entonces ejecutar la prueba en el emulador tomar√° mucho m√°s tiempo que en la m√°quina host, por ejemplo, usando Robolectric.  Aunque hay otros m√©todos.  Este es un marco de trabajo que le permite trabajar con clases desde el marco de Android en la m√°quina host, en Java puro.  Lo usamos bastante activamente.  Anteriormente, Google era algo genial al respecto, pero ahora los propios googlers hablan de ello en varios informes, se recomienda su uso. <br><br><h4>  innecesario_roboel√©ctrico </h4><br>  El marco de Android de Robolectric est√° emulado.  No est√° completo all√≠, aunque la implementaci√≥n cuanto m√°s lejos, m√°s completa.  Es casi un Android real, solo se ejecuta en su computadora de escritorio, computadora port√°til o CI.  Pero tampoco necesita ser usado en todas partes.  Robolectric no es gratis.  Si tiene una prueba que transfiri√≥ heroicamente de instrumentaci√≥n de Android a Robolectric, deber√≠a pensar: ¬øtal vez ir m√°s all√°, deshacerse de Robolectric, convertirlo en la prueba JUnit m√°s simple?  Las pruebas de Robolectric tardan en inicializarse, intentar cargar recursos, inicializar su actividad, aplicaci√≥n y todo lo dem√°s.  Toma algo de tiempo  Esto no es un segundo, son milisegundos, a veces decenas y cientos.  Pero cuando hay muchas pruebas, incluso eso importa. <br><br>  Existen t√©cnicas que eliminan Robolectric.  Puede aislar su c√≥digo a trav√©s de interfaces envolviendo toda la parte de la plataforma con interfaces.  Entonces solo habr√° una prueba de host JUnit.  JUnit en la m√°quina host es muy r√°pido, hay una cantidad m√≠nima de sobrecarga, tales pruebas se pueden ejecutar en miles y decenas de miles, se ejecutar√°n un minuto, unos minutos.  Desafortunadamente, nuestras pruebas tardan mucho tiempo en completarse porque tenemos muchas pruebas de instrumentaci√≥n de Android, porque tenemos una parte nativa en el navegador y nos vemos obligados a ejecutarlas en un emulador o dispositivo real.  ¬øPor qu√© tanto tiempo? <br><br>  No te aburrir√© m√°s.  ¬øCu√°ntos olores tienes?  Hasta ahora, siete como m√°ximo.  Suscr√≠bete al <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">canal</a> , pon las estrellas. <br><br><img src="https://habrastorage.org/webt/ph/cs/52/phcs52po2jsf1lbjumu1um2e3ha.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436850/">https://habr.com/ru/post/es436850/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436838/index.html">Comprender las redes neuronales convolucionales a trav√©s de visualizaciones en PyTorch</a></li>
<li><a href="../es436840/index.html">El camino del brillo a la neurociencia: un podcast tem√°tico sobre carreras en medios y marketing de contenidos</a></li>
<li><a href="../es436842/index.html">Soluci√≥n Veeam para respaldo y recuperaci√≥n de m√°quinas virtuales en la plataforma Nutanix AHV. Parte 2</a></li>
<li><a href="../es436846/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 348 (14-20 de enero de 2019)</a></li>
<li><a href="../es436848/index.html">NSA anuncia lanzamiento de herramienta interna para ingenier√≠a inversa</a></li>
<li><a href="../es436852/index.html">Disminuir la velocidad para impulsar el desarrollo</a></li>
<li><a href="../es436854/index.html">Rust 1.32 Lanzamiento</a></li>
<li><a href="../es436856/index.html">Plan de desarrollo de TI seg√∫n el Ministerio de Comunicaciones: soberan√≠a digital, blockchain en vivienda y servicios comunales, software para "realidad cambiada"</a></li>
<li><a href="../es436858/index.html">Esperanto, Elven y Klingon</a></li>
<li><a href="../es436860/index.html">Dell y Alienware en CES 2019: una gu√≠a de todas las principales innovaciones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>