<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö´Ô∏è ü§±üèº üì§ Padr√µes de Design de Banco de Dados üï∫üèæ üö∂üèø ü§õüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Indo de um projeto para outro, infelizmente, somos confrontados com a falta de padr√µes uniformes para o design de banco de dados, apesar do SQL existi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Padr√µes de Design de Banco de Dados</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/484188/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/pa/zj/ej/pazjejv8zvpor7tzaggxr54csd4.jpeg"></div><br>  Indo de um projeto para outro, infelizmente, somos confrontados com a falta de padr√µes uniformes para o design de banco de dados, apesar do SQL existir h√° v√°rias d√©cadas.  Suspeito que o motivo seja em parte porque a maioria dos desenvolvedores n√£o entende a arquitetura do banco de dados.  Ao longo dos anos de meu trabalho na contrata√ß√£o de desenvolvedores, s√≥ conheci v√°rias vezes aqueles que podiam normalizar corretamente o banco de dados.  Honestamente, isso pode ser uma tarefa dif√≠cil, mas muitos dos desenvolvedores que entrevistei, mesmo fluentes em SQL, n√£o tinham habilidades de design de banco de dados. <br><br>  Este artigo n√£o √© sobre normaliza√ß√£o de banco de dados.  Se voc√™ quiser aprender isso, <a href="https://youtu.be/y1tcbhWLiUM">aqui</a> eu contei brevemente o b√°sico. <br><br>  Se voc√™ possui um banco de dados em funcionamento, precisa responder √† pergunta: ‚Äúquais padr√µes podem ser aplicados para facilitar o <i>uso</i> desse banco <i>de</i> dados?‚Äù.  Se esses padr√µes forem amplamente utilizados, ser√° f√°cil usar o banco de dados, porque voc√™ n√£o precisar√° estudar e lembrar de novos conjuntos de padr√µes sempre que come√ßar a trabalhar com um novo banco de dados. <br><a name="habracut"></a><br><h1>  Nomea√ß√£o ou sublinhado do CamelCase? </h1><br>  Eu sempre encontro bancos de dados nos quais as tabelas s√£o nomeadas no estilo <code>CustomerOrders</code> ou <code>customer_orders</code> .  Qual √© o melhor para usar?  Talvez voc√™ queira aplicar um padr√£o j√° estabelecido, mas se estiver criando um novo banco de dados, recomendo usar sublinhados para aumentar a acessibilidade.  A frase "abaixo do valor" tem um significado diferente em compara√ß√£o com "subestimar", mas com um sublinhado, o primeiro sempre ser√° <code>under_value</code> e o segundo ser√° <code>undervalue</code> .  E ao usar o CamelCase, obtemos <code>Undervalue</code> e <code>UnderValue</code> , que s√£o id√™nticos em termos de SQL que n√£o <code>UnderValue</code> mai√∫sculas de min√∫sculas.  Al√©m disso, se voc√™ tiver problemas de vis√£o e estiver constantemente experimentando fones de ouvido e pinos para enfatizar as palavras, √© <i>muito</i> mais f√°cil ler o sublinhado. <br><br>  Finalmente, √© dif√≠cil ler o CamelCase para aqueles para quem o ingl√™s n√£o √© nativo. <br>  Para resumir, esta n√£o √© uma recomenda√ß√£o estrita, mas uma prefer√™ncia pessoal. <br><br><h1>  Plural ou singular em nomes de tabelas? </h1><br>  Os especialistas em teoria de banco de dados v√™m discutindo h√° muito tempo se as tabelas devem ser singulares (cliente) ou plurais (clientes).  Deixe-me cortar esse n√≥ g√≥rdio sem aprofundar a teoria, simplesmente com a ajuda do pragmatismo: nomes de tabelas plurais t√™m menos probabilidade de entrar em conflito com palavras-chave reservadas. <br><br>  Voc√™ tem usu√°rios - <code>users</code> ?  SQL tem a palavra-chave do <code>user</code> .  Voc√™ precisa de uma tabela de restri√ß√µes?  <code>constraint</code> √© uma palavra reservada.  A palavra <code>audit</code> <br>  reservado, mas voc√™ precisa de uma tabela de <code>audit</code> ?  Basta usar a forma <i>plural</i> de substantivos e, em seguida, a maioria das palavras reservadas n√£o o incomodar√° no SQL.  At√© o PostgreSQL, que possui um excelente analisador de SQL, trope√ßou na tabela de <code>user</code> . <br><br>  Basta usar o plural, e a probabilidade de conflito ser√° muito menor. <br><br><h1>  N√£o nomeie a coluna com o ID como "id" </h1><br>  Eu mesmo pequei ao longo dos anos.  Certa vez, trabalhei com um cliente em Paris e o DBA reclamou de mim quando dei √† coluna <code>id</code> o nome <code>id</code> .  Eu pensei que ele era apenas um pedante.  De fato, o nome da coluna <code>customers.id</code> √© √∫nico e <code>customers.customer_id</code> √© uma repeti√ß√£o de informa√ß√µes. <br><br>  E depois tive que depurar isso: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> thread.* <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> email <span class="hljs-keyword"><span class="hljs-keyword">thread</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> email selected <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> selected.id = thread.id <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> <span class="hljs-built_in"><span class="hljs-built_in">character</span></span> recipient <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> recipient.id = thread.recipient_id <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> station_area sa <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> sa.id = recipient.id <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> station st <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> st.id = sa.id <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> star origin <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> origin.id = thread.id <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> star destination <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> destination.id = st.id <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> route <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> ( route.from_id = origin.id <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> route.to_id = destination.id ) <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> selected.id = ? <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> ( thread.sender_id = ? <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> ( thread.recipient_id = ? <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> ( origin.id = destination.id <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> ( route.distance <span class="hljs-keyword"><span class="hljs-keyword">IS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">now</span></span>() &gt;= thread.datesent + ( route.distance * <span class="hljs-built_in"><span class="hljs-built_in">interval</span></span> <span class="hljs-string"><span class="hljs-string">'30 seconds'</span></span> ) )))) <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> datesent <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span>, thread.parent_id <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span></code> </pre> <br>  Percebeu o problema?  Se o SQL usasse nomes de IDs completos, como <code>email_id</code> , <code>star_id</code> ou <code>station_id</code> , os erros surgiriam imediatamente <i>quando eu escrevesse esse c√≥digo</i> , e n√£o mais tarde, quando tentasse entender o que havia feito de errado. <br><br>  Fa√ßa um favor a si mesmo e use os nomes completos para o ID.  Mais tarde obrigado. <br><br><h1>  Nomes de colunas </h1><br>  D√™ √†s colunas os nomes descritivos poss√≠veis.  Digamos que a coluna de <code>temperature</code> n√£o tenha nada a ver com isso: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">'too cold'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> areas <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> temperature &lt; <span class="hljs-number"><span class="hljs-number">32</span></span>;</code> </pre> <br>  Eu moro na Fran√ßa, e para n√≥s uma temperatura de 32 graus ser√° "muito fria".  Portanto, √© melhor nomear a coluna <code>fahrenheit</code> . <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, <span class="hljs-string"><span class="hljs-string">'too cold'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> areas <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> fahrenheit &lt; <span class="hljs-number"><span class="hljs-number">32</span></span>;</code> </pre> <br>  Agora tudo est√° completamente claro. <br><br>  Se voc√™ tiver restri√ß√µes de chave estrangeira, atribua o mesmo nome √†s colunas nos dois lados da restri√ß√£o sempre que poss√≠vel.  Aqui est√° um SQL razo√°vel e perfeitamente pensado: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> some_table s <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> some_other_table o <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> o.owner = s.person_id;</code> </pre> <br>  Este c√≥digo est√° realmente certo.  Mas quando voc√™ olha para a defini√ß√£o da tabela, ver√° que <code>some_other_table.owner</code> possui uma restri√ß√£o de chave estrangeira com <code>companies.company_id</code> .  Ent√£o, basicamente, esse SQL est√° errado.  Era necess√°rio usar nomes id√™nticos: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> some_table s <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> some_other_table o <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> o.company_id = s.person_id;</code> </pre> <br>  Agora, fica claro imediatamente que temos um erro, basta verificar uma linha de c√≥digo e n√£o consultar a defini√ß√£o da tabela. <br><br>  No entanto, quero observar que isso nem sempre pode ser feito.  Se voc√™ tiver uma tabela com um armaz√©m de origem e um destino, poder√° comparar o <code>source_id</code> com o <code>destination_id</code> com o <code>warehouse_id</code> .  Nesse caso, √© melhor fornecer os nomes <code>source_warehouse_id</code> e <code>destination_warehouse_id</code> . <br><br>  Observe tamb√©m que no exemplo acima, o <code>owner</code> descrever√° a finalidade melhor que <code>company_id</code> .  Se isso lhe parecer confuso, voc√™ poder√° nomear a coluna <code>owning_company_id</code> .  Em seguida, o nome informar√° o objetivo da coluna. <br><br><h1>  Evitar valores nulos </h1><br>  Esse conselho √© conhecido por muitos desenvolvedores de banco de dados experientes, mas, infelizmente, eles n√£o falam sobre isso com frequ√™ncia: por uma boa raz√£o, n√£o permita valores NULL no banco de dados. <br>  Este √© um t√≥pico importante, mas bastante complicado.  Primeiro, discutimos a teoria, depois seu efeito na arquitetura do banco de dados e, em conclus√£o, analisaremos um exemplo pr√°tico de problemas graves causados ‚Äã‚Äãpela presen√ßa de valores NULL. <br><br><h2>  Tipos de bancos de dados </h2><br>  O banco de dados pode conter dados de diferentes <i>tipos</i> : INTEGER, JSON, DATETIME, etc. O tipo est√° associado √† coluna e qualquer valor adicionado a ela deve corresponder a esse tipo. <br><br>  Mas o que √© um tipo?  Este √© um nome, um conjunto de valores v√°lidos e um conjunto de opera√ß√µes v√°lidas.  Eles nos ajudam a evitar comportamentos indesejados.  Por exemplo, o que acontece em Java se voc√™ tentar comparar uma sequ√™ncia e um n√∫mero? <br><br><pre> <code class="sql hljs">CustomerAccount.java:5: error: bad operand types for binary operator '&gt;' if ( current &gt; threshold ) { ^ first type: String second type: int</code> </pre> <br>  Mesmo se voc√™ n√£o perceber que <code>current &gt; threshold</code> compara tipos incompar√°veis, o compilador capturar√° isso para voc√™. <br><br>  Ironicamente, os bancos de dados que armazenam seus dados - e s√£o sua √∫ltima linha de defesa contra a corrup√ß√£o de dados - funcionam muito bem com tipos!  Apenas nojento.  Por exemplo, se sua tabela de <code>customers</code> tiver uma chave substituta, voc√™ poder√° fazer o seguinte: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, birthdate <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> customers <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> customer_id &gt; weight;</code> </pre> <br>  Obviamente, isso n√£o faz sentido e, na realidade, voc√™ receber√° um erro de compila√ß√£o.  Muitas linguagens de programa√ß√£o facilitam a captura de erros desse tipo, mas com bancos de dados, o oposto √© verdadeiro. <br><br>  Essa √© uma situa√ß√£o normal no mundo dos bancos de dados, provavelmente porque o <a href="https://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt">primeiro padr√£o SQL foi lan√ßado em 1992</a> .  Os computadores estavam lentos naqueles anos e tudo o que complicou a implementa√ß√£o sem d√∫vida diminuiu a velocidade dos bancos de dados. <br><br>  E ent√£o valores NULL aparecem em cena.  O padr√£o SQL os implementou corretamente em apenas um local, nos <code>IS NOT NULL</code> <code>IS NULL</code> e <code>IS NOT NULL</code> .  Como o valor NULL √© desconhecido por defini√ß√£o, voc√™ n√£o pode ter operadores projetados para ele.  E ent√£o existem <code>IS NULL</code> e <code>IS NOT NULL</code> vez de <code>= NULL</code> e <code>!= NULL</code> .  E qualquer compara√ß√£o de valores NULL leva ao aparecimento de um novo valor NULL. <br><br>  Se isso lhe parecer estranho, ser√° muito mais f√°cil se voc√™ escrever "desconhecido" em vez de NULL: <br><br><blockquote>  Comparar valores desconhecidos <s>NULL</s> resulta em valores desconhecidos <s>NULL</s> . </blockquote><br>  Sim, agora eu vejo! <br><br><h2>  O que significa um valor nulo? </h2><br>  Armado com as migalhas da teoria, consideramos suas conseq√º√™ncias pr√°ticas. <br><br>  Voc√™ precisa pagar um b√¥nus de US $ 500 a todos os funcion√°rios cujo sal√°rio no ano for superior a US $ 50 mil. Voc√™ escreve este c√≥digo: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> employee_number, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> employees <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> salary &gt; <span class="hljs-number"><span class="hljs-number">50000</span></span>;</code> </pre> <br>  E voc√™ acabou de ser demitido, porque seu chefe ganhou mais de US $ 50 mil, mas o sal√°rio dele n√£o est√° no banco de dados (na coluna Sal√°rio dos <code>employees.salary</code> √© NULL) e o operador de compara√ß√£o n√£o pode comparar NULL com 50.000. <br><br>  Por que existe NULL nesta coluna?  Talvez o sal√°rio seja confidencial.  Talvez a informa√ß√£o ainda n√£o tenha chegado.  Talvez este seja um consultor e n√£o seja pago.  Talvez ele tenha um sal√°rio por hora, n√£o um sal√°rio.  H√° <i>muitas</i> raz√µes pelas quais os dados podem estar ausentes. <br><br>  A presen√ßa ou aus√™ncia de informa√ß√µes na coluna sugere que depende de <i>outra</i> coisa, e n√£o da desnormaliza√ß√£o da chave prim√°ria e do banco de dados.  Portanto, colunas nas quais pode haver valores NULL s√£o boas candidatas para a cria√ß√£o de novas tabelas.  Nesse caso, voc√™ pode ter tabelas <code></code> , <code></code> <code>_</code> , <code>__</code> , etc. Voc√™ ainda √© demitido por combinar sal√°rios cegamente e seu chefe n√£o ter um.  Mas ent√£o sua base come√ßa a fornecer informa√ß√µes suficientes para sugerir que o problema √© mais do que uma quest√£o salarial. <br><br>  E sim, foi um exemplo est√∫pido, mas foi a gota d'√°gua. <br><br><h2>  Valores NULL levam a situa√ß√µes logicamente imposs√≠veis </h2><br>  Pode parecer que sou pedante em rela√ß√£o a valores NULL.  No entanto, vejamos outro exemplo que est√° muito mais pr√≥ximo da realidade. <br><br>  Alguns anos atr√°s, trabalhei em Londres para um registrador de dom√≠nio e tentei entender por que uma consulta SQL de 80 linhas retorna dados incorretos.  Nessa situa√ß√£o, as informa√ß√µes definitivamente deveriam ter sido retornadas, mas isso n√£o aconteceu.  Tenho vergonha de admitir, mas levei um dia para entender que o motivo era uma combina√ß√£o de condi√ß√µes: <br><br><ul><li>  Eu usei OUTER JOIN. <br></li><li>  Eles poderiam facilmente gerar valores NULL. <br></li><li>  Valores NULL podem fazer com que o SQL d√™ uma resposta incorreta. <br></li></ul><br>  Muitos desenvolvedores n√£o conhecem o √∫ltimo aspecto, ent√£o vamos ver um exemplo do livro <a href="https://www.amazon.com/Database-Depth-Relational-Theory-Practitioners/dp/0596100124/">Database In Depth</a> .  Um diagrama simples de duas tabelas: <br><br> <code>suppliers</code> <br> <div class="scrollable-table"><table><tbody><tr><td>  supplier_id <br></td><td>  cidade <br></td></tr><tr><td>  s1 <br></td><td>  Londres <br></td></tr></tbody></table></div><br> <code>parts</code> <br> <br><div class="scrollable-table"><table><tbody><tr><td>  part_id <br></td><td>  cidade <br></td></tr><tr><td>  p1 <br></td><td>  Nulo <br></td></tr></tbody></table></div><br>  √â dif√≠cil encontrar um exemplo mais simples. <br><br>  Este c√≥digo retorna <code>p1</code> . <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> part_id <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> parts;</code> </pre> <br>  O que esse c√≥digo far√°? <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> part_id <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> parts <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> city = city;</code> </pre> <br>  Ele n√£o retornar√° nada, porque voc√™ n√£o pode comparar um valor NULL, mesmo com outro NULL ou o mesmo NULL.  Parece estranho porque a cidade em cada linha deve ser a mesma, mesmo que n√£o a conhe√ßamos, certo?  Ent√£o, o que retornar√° o seguinte c√≥digo?  Tente entender isso antes de ler mais. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> s.supplier_id, p.part_id <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> suppliers s, parts p <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> p.city &lt;&gt; s.city <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> p.city &lt;&gt; <span class="hljs-string"><span class="hljs-string">'Paris'</span></span>;</code> </pre> <br>  N√£o recebemos uma string em resposta, porque n√£o podemos comparar a cidade <code>NULL</code> ( <code>p.city</code> ) e, portanto, nenhuma das ramifica√ß√µes da <code>WHERE</code> levar√° a <code>true</code> . <br><br>  No entanto, sabemos que a cidade desconhecida √© Paris ou n√£o Paris.  Se for Paris, a primeira condi√ß√£o ser√° verdadeira ( <code>&lt;&gt; 'London'</code> ).  Se n√£o for Paris, a segunda condi√ß√£o ser√° verdadeira ( <code>&lt;&gt; 'Paris'</code> ).  Portanto, a <code>WHERE</code> deve ser <code>true</code> , mas n√£o √© e, como resultado, o SQL gera um resultado logicamente imposs√≠vel. <br><br>  Foi um bug que encontrei em Londres.  Toda vez que voc√™ escreve SQL que pode gerar ou conter valores NULL, corre o risco de obter um resultado falso.  Isso acontece com pouca frequ√™ncia, mas √© muito dif√≠cil de identificar. <br><br><h1>  Sum√°rio </h1><br><ul><li>  Use <code>__</code> vez de <code>CamelCase</code> . <br></li><li>  Os nomes das tabelas devem estar no plural. <br></li><li>  D√™ nomes estendidos para campos com identificadores ( <code>item_id</code> vez de <code>id</code> ). <br></li><li>  Evite nomes de coluna amb√≠guos. <br></li><li>  Se poss√≠vel, nomeie as colunas com chaves estrangeiras da mesma maneira que as colunas √†s quais elas se referem. <br></li><li>  Sempre que poss√≠vel, adicione NOT NULL a todas as defini√ß√µes de coluna. <br></li><li>  Sempre que poss√≠vel, evite escrever SQL que possa gerar valores NULL. <br></li></ul><br>  Embora n√£o seja perfeito, este guia de design de banco de dados facilitar√° sua vida. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt484188/">https://habr.com/ru/post/pt484188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt484176/index.html">Implementando o modelo de status no Unity</a></li>
<li><a href="../pt484178/index.html">Switch Ethernet inteligente para o planeta Terra</a></li>
<li><a href="../pt484180/index.html">PBX virtual Rostelecom: o que e como pode ser feito atrav√©s da API</a></li>
<li><a href="../pt484182/index.html">Xenobots: nanorob√¥s vivos de c√©lulas de sapo</a></li>
<li><a href="../pt484186/index.html">LDAP - "autentica√ß√£o" √© um antipadr√£o</a></li>
<li><a href="../pt484192/index.html">F√°cil e f√°cil de implantar aplicativos no cartucho Tarantool (parte 2)</a></li>
<li><a href="../pt484194/index.html">Kubernetes traduzido em crian√ßas</a></li>
<li><a href="../pt484196/index.html">Gravando som JS de um microfone ou coment√°rios de voz</a></li>
<li><a href="../pt484198/index.html">Verso da moeda: quem ganhou e perdeu com o crescimento das a√ß√µes da Tesla</a></li>
<li><a href="../pt484200/index.html">Como definir metas para alcan√ß√°-las</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>