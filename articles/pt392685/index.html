<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé¶ üéüÔ∏è üéÄ HMI FLProg + Nextion. Li√ß√£o 2 üñäÔ∏è üßó üñïüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na √∫ltima li√ß√£o, falei sobre o painel IHM do Nextion e sobre a cria√ß√£o de projetos para este painel no Editor do Nextion. 
 Neste tutorial, mostrarei ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>HMI FLProg + Nextion. Li√ß√£o 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flprog/blog/392685/"><img src="https://habrastorage.org/files/bc9/53d/46e/bc953d46e4cd4e498fb9cf600c520628.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na √∫ltima </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li√ß√£o,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> falei sobre o painel IHM do Nextion e sobre a cria√ß√£o de projetos para este painel no Editor do Nextion. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste tutorial, mostrarei como controlar esse painel usando o programa FLProg de uma placa Arduino. Por exemplo, vamos coletar a esta√ß√£o meteorol√≥gica mais simples, que ler√° os dados do sensor de temperatura e umidade DHT-22 e os exibir√° no painel. Um gr√°fico das altera√ß√µes nesses par√¢metros tamb√©m ser√° desenhado. O brilho da luz de fundo da tela do painel ser√° alterado usando um resistor vari√°vel.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Layout da bancada de teste. </font></font><br>
<img src="https://habrastorage.org/files/a5e/133/8e6/a5e1338e6b844737929e9c8338799b1a.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, voc√™ precisa fazer o upload do projeto no painel (o arquivo do projeto no archive √© um link para o qual, no final do artigo, √© Lesson2.hmi). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este projeto consiste em tr√™s telas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira tela √© usada para exibir a temperatura (√≠ndice da p√°gina ‚Äúp√°gina 0‚Äù - 0). </font></font><br>
<br>
<img src="https://habrastorage.org/files/51a/8d5/166/51a8d51662a0457bb8feef7f75b90fe8.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â composto pelos seguintes elementos: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 - Foto com a imagem de um term√¥metro de √°lcool. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 - O elemento "Barra de progresso". </font><font style="vertical-align: inherit;">Com sua ajuda, o term√¥metro √© simulado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configura√ß√µes do item.</font></font><br>
<img src="https://habrastorage.org/files/d62/840/183/d628401837df42d4936c5cde893db727.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu recomendo os elementos com os quais se planeja tornar global sempre via UART (o atributo "vccope" √© "global") e, consequentemente, atribua nomes exclusivos a eles (o atributo "objname") durante todo o projeto. </font><font style="vertical-align: inherit;">Isso acelera o trabalho do controlador Arduino e reduz o c√≥digo para ele. </font><font style="vertical-align: inherit;">Eu vou explicar o porqu√™.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Ao tentar escrever o atributo de um elemento local, voc√™ deve primeiro solicitar a p√°gina atual do painel (essa √© uma solicita√ß√£o separada que leva pelo menos 20 ms.). Se a p√°gina for a qual o elemento pertence, o valor ser√° enviado ao painel; caso contr√°rio, o valor destinado ao envio ser√° gravado na vari√°vel (para a qual √© necess√°rio o mesmo espa√ßo de mem√≥ria). Ao ir para uma p√°gina com um elemento, voc√™ deve atualizar imediatamente seus atributos com os valores reais mais recentes, pois ao renderizar uma p√°gina, as vari√°veis ‚Äã‚Äãlocais s√£o inicializadas com os valores especificados ao criar o projeto. E se houver muitos elementos gerenciados a partir do controlador na p√°gina, ao mudar para ele, esse controlador ficar√° ocupado por um longo tempo atualizando todos os elementos.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para um elemento global, tudo √© muito mais simples. Voc√™ pode registrar valores de atributo a qualquer momento e os √∫ltimos valores s√£o usados ‚Äã‚Äãao renderizar a p√°gina. Isso significa que n√£o h√° necessidade de solicitar um n√∫mero de p√°gina antes do envio e n√£o √© necess√°rio alterar para armazenar o valor. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas √© claro que tudo depende do projeto. Se o projeto para o painel for muito grande e n√£o houver espa√ßo suficiente para elementos globais, voc√™ poder√°, por assim dizer, obter mem√≥ria do controlador e torn√°-los locais. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Caixa de texto para exibi√ß√£o da temperatura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par√¢metros do item.</font></font><br>
<img src="https://habrastorage.org/files/cfd/187/0d7/cfd1870d71124593987228a0307da159.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A imagem recortada √© selecionada como plano de fundo (atributo "sta" valor "recortar imagem"). E, como a imagem usada para cortar, o mesmo √© usado para o fundo de toda a p√°gina (o atributo "picc" √© o √≠ndice da imagem da biblioteca de imagens). Gra√ßas a isso, o tex √© obtido com um fundo transparente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como j√° escrevi na √∫ltima li√ß√£o, o painel n√£o sabe trabalhar com n√∫meros fracion√°rios e negativos, e para a temperatura √© poss√≠vel. Portanto, para exibir o valor da temperatura, √© usado um campo de texto no qual a linha final ser√° enviada imediatamente do controlador. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. A imagem cortada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par√¢metros do item.</font></font><br>
<img src="https://habrastorage.org/files/ea4/a41/f72/ea4a41f728334074af577ae6e24b542e.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com a ajuda deste elemento, o sol ser√° exibido quando a temperatura exceder um limite predeterminado. Na verdade, era poss√≠vel usar uma imagem comum e alterar sua visibilidade, mas desde o exemplo do treinamento, decidi usar esse elemento em particular. Eu mesmo h√° muito tempo entendo a ideologia desse elemento, tentarei mostrar como ele funciona. Por seu trabalho, eu fiz duas fotos, uma com o sol e a outra sem o sol. </font></font><br>
<br>
<img src="https://habrastorage.org/files/f87/e4e/c19/f87e4ec1967b47aa864eead49b59753c.jpg"><br>
<br>
<img src="https://habrastorage.org/files/0b1/73e/481/0b173e48127b45308e9ad2f7fd4824c1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O elemento exibe a parte da imagem anexada a ele (o atributo "picc" √© o √≠ndice da imagem na biblioteca de imagens). O canto superior esquerdo desta se√ß√£o est√° nas coordenadas de inser√ß√£o do elemento (atributos "x" e "y") e possui a largura e a altura do elemento (atributos "w" e "h"). Durante a opera√ß√£o do programa do controlador, se necess√°rio, a liga√ß√£o do elemento √† imagem ser√° alterada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Bot√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par√¢metros do item. </font></font><br>
<img src="https://habrastorage.org/files/2ce/705/e9f/2ce705e9f8324254ab334194ddc50494.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando voc√™ clica no bot√£o, ele vai para a pr√≥xima p√°gina. Eu usei uma imagem como pano de fundo para o bot√£o. Usei a mesma imagem para ambos os estados (os atributos "pic" e "pic2" s√£o os √≠ndices das imagens na biblioteca de imagens), pois o estado pressionado nunca ser√° vis√≠vel. Quando voc√™ clica no bot√£o, ele passa imediatamente para a pr√≥xima p√°gina. Como n√£o mudaremos nada nesse bot√£o, deixei local e o nome padr√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≥digo no evento "Touch Press Event". </font></font><br>
<img src="https://habrastorage.org/files/faa/af7/58f/faaaf758f0904d42a9be6c6d136ad937.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A segunda tela √© usada para exibir a umidade (√≠ndice da p√°gina ‚Äúp√°gina1‚Äù - 1). </font></font><br>
<img src="https://habrastorage.org/files/ed6/bbf/177/ed6bbf177e5947fc82ad7b43a9741608.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o fundo da p√°gina, usei uma imagem com uma imagem preparada da escala higrom√©trica. </font></font><br>
<img src="https://habrastorage.org/files/269/9a6/d9f/2699a6d9f389422fb2f0af36e973e5a6.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere os elementos inclu√≠dos na p√°gina.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. O elemento "Gaude", que simula a opera√ß√£o de um higr√¥metro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par√¢metros do item. </font></font><br>
<img src="https://habrastorage.org/files/6af/d6f/04f/6afd6f04facc4486a4083d067329c42a.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o controlaremos a partir do controlador, ele ser√° global. A imagem recortada (o atributo ‚Äústa‚Äù) √© selecionada como plano de fundo e a imagem de fundo da p√°gina (atributo ‚Äúpicc‚Äù) √© selecionada como plano de fundo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Campo num√©rico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par√¢metros do item.</font></font><br>
<img src="https://habrastorage.org/files/f63/5a4/14b/f635a414b58445bfbc8fd7b255213de4.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O valor da umidade ser√° exibido neste campo. Como o painel n√£o suporta trabalhar com n√∫meros fracion√°rios, exibiremos o valor da umidade sem uma parte fracion√°ria. A imagem recortada √© selecionada como plano de fundo (atributo "sta" valor "recortar imagem"). E, como a imagem usada para cortar, o mesmo √© usado para o fundo de toda a p√°gina (o atributo "picc" √© o √≠ndice da imagem da biblioteca de imagens). Por uma quest√£o de beleza da exibi√ß√£o, defino o alinhamento √† direita (valor do atributo ‚Äúxcen‚Äù - 2) e, ao lado, coloquei um campo de texto (3) com o valor ‚Äú%‚Äù. As configura√ß√µes de plano de fundo s√£o semelhantes √†s configura√ß√µes do campo num√©rico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Op√ß√µes de campo de texto (3).</font></font><br>
<img src="https://habrastorage.org/files/455/92f/41c/45592f41c420485da8de8dc7c957cc6d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 e 5. Bot√µes p√°gina anterior e p√°gina seguinte. Quando voc√™ pressiona o bot√£o 4, vai para a primeira p√°gina e, quando clica no bot√£o 5, para a pr√≥xima. As configura√ß√µes de exibi√ß√£o dos bot√µes s√£o semelhantes √†s da primeira p√°gina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configura√ß√µes do bot√£o 4 (‚ÄúP√°gina anterior‚Äù) </font></font><br>
<img src="https://habrastorage.org/files/9aa/c4a/e21/9aac4ae214d544329e354376813deea8.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≥digo no ‚ÄúEvento Touch Press‚Äù para o bot√£o 4 (‚ÄúP√°gina anterior‚Äù). </font></font><br>
<img src="https://habrastorage.org/files/47b/c90/474/47bc90474d804fdebb0d6d84d583e44c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configura√ß√µes do bot√£o 5 (‚ÄúPr√≥xima p√°gina‚Äù) </font></font><br>
<img src="https://habrastorage.org/files/3ab/533/192/3ab53319296f410eb2510ce6d19cca9f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≥digo no ‚ÄúTouch Press Event‚Äù para o bot√£o 5 (‚ÄúPr√≥xima p√°gina‚Äù). </font></font><br>
<img src="https://habrastorage.org/files/f28/c9f/6eb/f28c9f6eb6c948c4abac1e7dfaa26d55.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terceira p√°gina - Gr√°fico das mudan√ßas de temperatura e umidade (√≠ndice ‚Äúp√°gina2‚Äù - 2). </font></font><br>
<img src="https://habrastorage.org/files/8f6/935/13c/8f693513cbff49729a01de0d653be2ac.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta p√°gina, ser√° exibido um gr√°fico das mudan√ßas de temperatura e umidade. Considere os elementos inclu√≠dos na p√°gina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. O elemento Waveform. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par√¢metros do item.</font></font><br>
 <img src="https://habrastorage.org/files/8a7/d70/190/8a7d701909554de280fb18a6ad3dac74.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na √∫ltima li√ß√£o, eu j√° escrevi que esse elemento n√£o pode (espero at√© agora) se tornar global, ou seja, o valor do atributo pode ser alternado, mas isso n√£o levar√° a nada. Ent√£o eu deixei local (quem sabe, mas de repente ele ainda come a mem√≥ria de vari√°veis ‚Äã‚Äãglobais). Haver√° dois canais de exibi√ß√£o neste elemento (valor do atributo "ch" - 2). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 e 3 s√£o simplesmente campos de texto mostrando o eixo dos gr√°ficos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 - Bot√£o de volta. √â semelhante ao mesmo bot√£o na tela anterior, com exce√ß√£o do c√≥digo no manipulador de eventos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo em "Touch Press Event" para o bot√£o 4 ("Previous Page"). </font></font><br>
<img src="https://habrastorage.org/files/8a0/131/0af/8a01310af0a2436a833fc80678dacc86.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s descobrimos o painel, agora vamos cuidar do controlador. N√£o vou dizer como abrir o programa FLProg, criar um projeto e desenhar um diagrama. Tudo isso eu contei nas li√ß√µes anteriores (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li√ß√£o 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li√ß√£o 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e, al√©m disso, muitas informa√ß√µes sobre isso est√£o no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centro de treinamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no site do projeto. Portanto, mostrarei imediatamente as placas de circuito prontas e direi o que est√° acontecendo nelas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Placa 1. Lendo dados do sensor. </font></font><br>
<img src="https://habrastorage.org/files/412/3f7/d8c/4123f7d8c185462a91572fe4eac9ed65.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obter valores de temperatura e umidade com o sensor DHT-22, √© usado o bloco B1 - ‚ÄúDHT11, DHT21, DHT22‚Äù (biblioteca de elementos, pasta ‚ÄúSensores‚Äù). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bloqueie as configura√ß√µes (chamadas clicando duas vezes nele). </font></font><br>
<img src="https://habrastorage.org/files/893/112/b34/893112b34144450ba7269246e60d1539.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas configura√ß√µes, o pino √© atribu√≠do ao qual a sa√≠da "Dados" do sensor est√° conectada, o tipo de sensor e a presen√ßa de sa√≠das de temperatura e umidade. O modo de polling do sensor tamb√©m est√° selecionado. Eu configurei o polling do sensor uma vez a cada 5 segundos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como os controladores Arduino n√£o funcionam muito bem com n√∫meros de ponto flutuante e o trabalho com eles consome muita mem√≥ria, traduzo imediatamente todos os valores para o formato Inteiro. Para fazer isso, use os blocos B3 e B4 - ‚ÄúConverter flutuador em n√∫mero inteiro‚Äù (biblioteca de elementos, pasta ‚ÄúConvers√£o de tipo‚Äù), que cortam a parte fracion√°ria do n√∫mero. Para n√£o perder d√©cimos de grau, o valor da temperatura obtido pelo sensor √© primeiro multiplicado por 10 usando o bloco B2 - ‚ÄúMUL (*)‚Äù (biblioteca de elementos, pasta ‚ÄúMatem√°tica‚Äù). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, os valores obtidos no formato Inteiro s√£o inseridos nas vari√°veis ‚Äã‚Äãcorrespondentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Placa 2. Exibe o valor da temperatura no painel. </font></font><br>
<img src="https://habrastorage.org/files/7e1/90e/f48/7e190ef4861a40c5a413dba3a51da73c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste projeto, eu uso conex√µes nomeadas. Voc√™ pode aprender mais sobre eles na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li√ß√£o correspondente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para limitar a carga no controlador, faz sentido enviar dados para o painel somente quando os dados forem alterados. Portanto, primeiro determinamos que os dados foram alterados. Para fazer isso, use o bloco B5 - ‚ÄúDetector de mudan√ßa de n√∫mero‚Äù (biblioteca de elementos, pasta - ‚ÄúBlocos de base‚Äù). Esta unidade controla o n√∫mero "Valor" em sua entrada e, quando alterada, gera um pulso de sa√≠da de um ciclo de execu√ß√£o do programa na sa√≠da.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, preparamos uma string para enviar para o campo de texto do painel. Primeiro, divida o valor da temperatura, multiplicado por 10, por uma constante do tipo Float com um valor de 10. Assim, obtemos o valor da temperatura com uma parte fracion√°ria. Fazemos isso usando o bloco B6 - ‚ÄúDIV (/)‚Äù (biblioteca de elementos, pasta ‚ÄúMatem√°tica‚Äù). Em seguida, transformamos o valor obtido no formato Float em uma string usando o bloco B7 - "Convers√£o de strings" (biblioteca de elementos, pasta "Convers√£o de tipos"). Em seguida, conectamos a string resultante √† constante "C" usando o bloco B8 - "Adi√ß√£o de linhas" (biblioteca de elementos, pasta "Linhas"). A linha resultante √© alimentada na entrada da unidade para gravar o valor do atributo no painel Nextion HMI B9 - "Set Parameter" (biblioteca de elementos -&gt; pasta "Nextion HMI Panel" -&gt; pasta "Elements").</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este bloco grava o valor no atributo especificado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parametriza√ß√£o do bloco. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao clicar duas vezes no bloco, a janela do editor de blocos √© aberta. </font></font><br>
<img src="https://habrastorage.org/files/407/27c/f8f/40727cf8fc6041d0b924bc1e8a477506.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se ainda n√£o foram criados pain√©is no projeto, √© necess√°rio criar um painel. Se o painel necess√°rio j√° tiver sido criado, ele poder√° ser selecionado na lista suspensa pressionando o bot√£o 3. O painel selecionado pode ser alterado usando o bot√£o "Alterar painel" (2). Para criar um painel, clique no bot√£o "Adicionar painel" (1). A janela de cria√ß√£o do painel ser√° aberta.</font></font><br>
 <img src="https://habrastorage.org/files/33d/d39/66a/33dd3966adf54f5eb40fd434ddb47b57.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta caixa de di√°logo, selecione a porta para conectar o painel (em nossa li√ß√£o - SoftwareSerial). Se voc√™ selecionar SoftwareSerial, tamb√©m dever√° selecionar os pinos atribu√≠dos como sinais RX e TX da porta UART (no nosso caso, 2 e 3). Tamb√©m √© necess√°rio atribuir um nome de painel. Deve ser √∫nico. V√°rios pain√©is podem ser conectados em um projeto, desde que haja portas UART livres suficientes. O nome de cada painel deve ser exclusivo dentro do projeto. Na mesma caixa de di√°logo, voc√™ pode adicionar as p√°ginas inclu√≠das no painel. O que vamos fazer? Clique no bot√£o Adicionar p√°gina. A janela de cria√ß√£o da p√°gina √© aberta. </font></font><br>
<img src="https://habrastorage.org/files/03a/d53/e93/03ad53e9357a4d42abd31278f31638f3.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta janela, precisamos inserir o nome da p√°gina e seu ID. Essas informa√ß√µes podem ser aprendidas com o projeto no Editor Nextin.</font></font><br>
<img src="https://habrastorage.org/files/37e/383/96c/37e38396c61941dfa070ad2a2ee09b3d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por padr√£o, a p√°gina inicial (aberta quando o controlador √© inicializado) ser√° uma p√°gina com um ID 0, mas voc√™ pode marcar a caixa "P√°gina inicial" nas propriedades de qualquer p√°gina e ela se tornar√° a p√°gina inicial. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta janela, voc√™ pode adicionar os elementos de interesse que est√£o nesta p√°gina. Clique no bot√£o "Adicionar item". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A janela de cria√ß√£o do item √© aberta. </font></font><br>
 <img src="https://habrastorage.org/files/709/fa3/de8/709fa3de890a431896b1acd94ccd7505.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui, precisamos selecionar o tipo e o tipo do elemento, inserir seu nome, √≠ndice e, se o elemento for global, defina a caixa de sele√ß√£o correspondente. Todos esses dados podem ser vistos no projeto no Editor Nextin. </font></font><br>
<img src="https://habrastorage.org/files/ab3/446/4d3/ab34464d3b60440598a33ef3d1598e95.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s preencher todos os dados, clique em "Concluir" e, na janela de cria√ß√£o da p√°gina, da mesma maneira, adicione todos os elementos de interesse para n√≥s nesta p√°gina.</font></font><br>
<img src="https://habrastorage.org/files/b07/eb5/5e5/b07eb55e5086468d96f5d34dd9d14e08.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de criar todos os elementos da p√°gina, tamb√©m clicamos no bot√£o "Concluir" na janela de cria√ß√£o da p√°gina e na janela para criar um painel usando o mesmo cen√°rio, crie o restante da p√°gina. </font></font><br>
<img src="https://habrastorage.org/files/579/d73/89f/579d7389fea742f187d8e0beb5871c46.PNG"><br>
<br>
<img src="https://habrastorage.org/files/a28/63a/382/a2863a382b834a05bdde879252dc4ca5.PNG"><br>
<br>
<img src="https://habrastorage.org/files/0f9/3bb/87d/0f93bb87d247496a9cdd0dfe4fbde198.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminamos de criar o painel com o familiar bot√£o "Concluir". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No editor de blocos, selecione a p√°gina ‚Äúpage0‚Äù elemento ‚ÄúText‚Äù com o nome ‚Äútnt‚Äù e seu atributo ‚ÄúText (txt)‚Äù. Como o valor, selecione a entrada. </font></font><br>
<img src="https://habrastorage.org/files/e67/ebb/b3f/e67ebbb3f29140d6bc64d9c22e01ca06.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O bloco est√° configurado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consideramos o esquema ainda mais.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empiricamente, foi definitivamente determinado que um valor de -40 graus de um term√¥metro desenhado corresponde a um valor de 10 no elemento "Barra de progresso" localizado nele, e um valor de 50 graus a um term√¥metro corresponde a um valor de progresso de 91 bar. De acordo com isso, escalamos o valor com a vari√°vel ‚ÄúTemperature x10‚Äù usando o bloco B10 - ‚ÄúScale‚Äù (Biblioteca de elementos, pasta ‚ÄúScaling‚Äù) sem esquecer que temos o valor da temperatura multiplicado por 10. Par√¢metros desse bloco. </font></font><br>
<img src="https://habrastorage.org/files/f34/da0/7d6/f34da07d6dbd4b86bb64fa09825b98eb.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O valor da temperatura escalonada √© enviado ao painel usando o bloco B11 - ‚ÄúSet Parameter‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúElements‚Äù). Configura√ß√µes para este bloco.</font></font><br>
<img src="https://habrastorage.org/files/3a9/2b8/c78/3a92b8c7875248fa92c7b6003a54b727.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pr√≥ximo bloco B12 - "Comparador" (biblioteca de elementos, pasta "Compara√ß√£o") determina se a temperatura atual excede o ponto de ajuste pelo valor padr√£o da vari√°vel "Ponto de ajuste - Quente". √â 290 (n√£o esque√ßa que em todos os lugares temos temperaturas multiplicadas por 10). </font></font><br>
<img src="https://habrastorage.org/files/846/5fb/fb5/8465fbfb547f4767b9658c0dbd36d2c5.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O bloco B12 est√° configurado para emitir uma unidade l√≥gica em sua sa√≠da quando o valor na entrada "I1" excede o valor na entrada "I2".</font></font><br>
<img src="https://habrastorage.org/files/96d/b71/2b8/96db712b8a014b168bc53f884bc13e79.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os blocos B13, B14 e B15 formam circuitos de detec√ß√£o de altera√ß√£o de sinal discretos. Os blocos B13 e B14 - Rtrig (biblioteca de elementos, pasta "Triggers"), quando uma borda principal de um sinal discreto aparecer, emitem um pulso de sa√≠da com a dura√ß√£o de 1 ciclo do programa. O bloco B14, devido √† invers√£o em sua entrada, detecta a borda de fuga do sinal "Excedendo o limiar". O bloco B15 ‚ÄìOR (biblioteca de elementos, pasta ‚ÄúElementos B√°sicos‚Äù), se houver uma unidade l√≥gica em qualquer uma das entradas, gera uma unidade l√≥gica para sua sa√≠da. Assim, um sinal √© formado "Enviando dados quando o limite √© excedido". Na borda principal deste sinal, um comando √© enviado para alterar a cor da fonte do campo de texto que exibe a temperatura atual. O envio ocorre usando o bloco B17 - ‚ÄúDefinir Par√¢metro‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt;Pasta de elementos). Configura√ß√µes para este bloco.</font></font><br>
 <img src="https://habrastorage.org/files/e0d/208/dc4/e0d208dc4a564cc68e9f9e1a80082aac.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O valor transmitido no comando √© selecionado usando o bloco B16 - ‚ÄúSwitch‚Äù (biblioteca de elementos, pasta ‚ÄúSwitch‚Äù). Este bloco com um n√≠vel l√≥gico baixo em sua entrada transfere o valor da entrada "0" para a sa√≠da e, com um valor alto, da entrada "1". Os valores de cores fornecidos para as entradas do comutador s√£o definidos usando os blocos B44 e B45 - ‚ÄúColor constant Hight Color‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúColor‚Äù). A cor √© selecionada no editor de blocos (clique duas vezes no bloco). </font></font><br>
<img src="https://habrastorage.org/files/bf8/d24/84d/bf8d2484dc4f472392677f90ac26800e.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para selecionar uma cor, clique no bot√£o "Alterar". O seletor de cores √© aberto. </font></font><br>
<img src="https://habrastorage.org/files/2e0/a51/d97/2e0a51d971e14ee49de5e234260af69f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nele, definindo o valor dos componentes R (vermelho), G (verde) e B (azul), a cor necess√°ria √© selecionada.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, na extremidade superior do sinal "Enviando dados quando o limite √© excedido", um comando √© enviado para alterar a liga√ß√£o da imagem cortada. Isso acontece usando o bloco B19 - "Set Parameter" (biblioteca de elementos -&gt; pasta "Nextion HMI Panel" -&gt; pasta "Elements"). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configura√ß√µes para este bloco. </font></font><br>
<img src="https://habrastorage.org/files/a59/bf3/7dc/a59bf37dc12a4ed6ba1fe4f570a9faee.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O √≠ndice da imagem √© selecionado usando o bloco B18 - ‚ÄúSwitch‚Äù (biblioteca de elementos, pasta ‚ÄúSwitch‚Äù). Seu trabalho foi descrito acima. O valor do √≠ndice da imagem necess√°ria pode ser visualizado no projeto do Nextion Editor na biblioteca de imagens. </font></font><br>
 <img src="https://habrastorage.org/files/bfc/de6/bc4/bfcde6bc4c7e4ab082a979100ddf58a1.PNG"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com a transfer√™ncia dos dados de temperatura conclu√≠da. Vamos para a umidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quadro 3. Conclus√£o da umidade.</font></font><br>
<img src="https://habrastorage.org/files/eb4/67f/082/eb467f082a8f4398a662f21047e09c1c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como no caso da temperatura, primeiro criamos o sinal "Enviando dados quando a umidade muda". Fazemos isso usando o bloco B20 - ‚ÄúDetector de mudan√ßa de n√∫mero‚Äù (biblioteca de elementos, pasta - ‚ÄúBlocos de base‚Äù). A opera√ß√£o desta unidade foi descrita anteriormente. Este sinal envia o valor para um campo num√©rico que exibe umidade. Isso √© feito usando o bloco B21 - ‚ÄúSet Parameter‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúElements‚Äù). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configura√ß√µes para este bloco.</font></font><br>
<img src="https://habrastorage.org/files/c42/a1b/8f7/c42a1b8f777542b1a10b7098cbdd7e73.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empiricamente, foi definitivamente determinado que, para o valor de umidade de 0% da escala de higr√¥metro desenhada no design do painel, o elemento "Gayge" que desenha a seta √© 314 e para a umidade de 100% √© 226. Ao mesmo tempo, a seta ultrapassa o valor 0. Quando convertida em valores lineares, obtemos cont√≠nua varia de -46 (0%) a 226 (100%). De acordo com esses dados, configuramos o bloco B22 - ‚ÄúEscala‚Äù. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par√¢metros de bloco.</font></font><br>
<img src="https://habrastorage.org/files/8aa/d85/f2e/8aad85f2e0d342c89a69458e74823adc.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como os valores do elemento "Gauge" n√£o podem ser negativos, para calcular o √¢ngulo da seta nesses valores, no caso de um valor negativo, √© adicionado o valor 360. Fazemos isso usando o bloco B23- "SUMM (+)" (biblioteca de elementos, Pasta Matem√°tica). Determinamos que o n√∫mero √© menor que 0 usando o bloco B26 - ‚ÄúComparador‚Äù (biblioteca de elementos, pasta ‚ÄúCompara√ß√£o‚Äù). Sua sa√≠da controla o interruptor B24 - ‚ÄúSwitch‚Äù (biblioteca de elementos, pasta ‚ÄúSwitch‚Äù) e o valor selecionado √© enviado ao painel usando o bloco B25 - ‚ÄúSet Parameter‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúElements‚Äù ) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configura√ß√µes para este bloco. </font></font><br>
 <img src="https://habrastorage.org/files/15f/dbd/3a1/15fdbd3a186f4978957f758c740f3627.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pr√≥ximo quadro exibe um gr√°fico das mudan√ßas de temperatura e umidade.</font></font><br>
<img src="https://habrastorage.org/files/efa/d2d/2e0/efad2d2e02ee4662ba6bd880649dcfa5.PNG"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como escrevi no in√≠cio da li√ß√£o, o elemento Waveform n√£o sabe como ser um elemento global e √© redesenhado toda vez que voc√™ abre a p√°gina em que est√° localizado. Temos que contornar essa limita√ß√£o. Primeiro, determine o n√∫mero da p√°gina atualmente carregada no painel. Para fazer isso, use o bloco B27 - ‚ÄúObter ID da p√°gina atual‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúPage‚Äù). Nas configura√ß√µes deste bloco, voc√™ s√≥ precisa selecionar o painel que acessaremos com esta solicita√ß√£o. </font></font><br>
 <img src="https://habrastorage.org/files/67a/2f6/a50/67a2f6a500384229b7dcdcf15bb0692f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O n√∫mero da p√°gina obtido deste bloco √© comparado com o √≠ndice da p√°gina que precisamos (2) usando o bloco B28 - ‚ÄúComparador‚Äù (biblioteca de elementos, pasta ‚ÄúCompara√ß√£o‚Äù). Se a p√°gina desejada estiver aberta, a unidade l√≥gica ser√° gravada na vari√°vel ‚ÄúAbrir p√°gina do gr√°fico‚Äù; caso contr√°rio, ser√° um zero l√≥gico.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilizando o bloco B29 - "Gerador" (biblioteca de elementos, pasta "Temporizadores"), um sinal √© gerado para registrar o pr√≥ximo ponto no gr√°fico. Este bloco gera pulsos com uma determinada dura√ß√£o e pausa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bloquear configura√ß√µes. </font></font><br>
<img src="https://habrastorage.org/files/635/c54/7fb/635c547fb9e349bfab2ce151d1d3e5d4.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O tipo de gerador selecionado √© "Multivibrador sim√©trico", o que significa que a dura√ß√£o do pulso √© igual √† dura√ß√£o da pausa. Ao definir a dura√ß√£o do pulso para 5 segundos, respectivamente, a pausa ser√° igual a 5 segundos. A borda principal do pulso ocorrer√° a cada 10 segundos. Essa frente √© destacada pelo bloco B30 - ‚ÄúRtrig‚Äù (biblioteca de elementos, pasta ‚ÄúTriggers‚Äù) e √© gravada na vari√°vel ‚ÄúCommand to record the next point‚Äù.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na extremidade superior do sinal "Abrir p√°gina de gr√°fico", que ser√° selecionado usando o bloco B31 - "Rtrig" (biblioteca de elementos, pasta "Triggers"), o sinal "Enviar hist√≥rico do gr√°fico" ser√° gerado. Por esse sinal, o conte√∫do das matrizes ser√° enviado para o painel no gr√°fico, no qual os valores dos pontos que exibem o gr√°fico de altera√ß√µes s√£o armazenados. Para temperatura, isso ser√° feito usando o bloco B32 - ‚ÄúEnviando a matriz para o gr√°fico‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúGraph‚Äù). O bloco √© configurado usando o editor de blocos. </font></font><br>
<img src="https://habrastorage.org/files/5fb/d05/cef/5fbd05cefd09456e8070511636f2b086.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, voc√™ precisa criar uma matriz na qual o hist√≥rico do gr√°fico de temperatura ser√° armazenado. Para fazer isso, clique no bot√£o "Criar". A janela de cria√ß√£o da matriz √© aberta.</font></font><br>
<img src="https://habrastorage.org/files/142/b76/73a/142b7673a7164af3a3e2b31dca1ba43d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse oceano, voc√™ deve digitar o nome da matriz, digite (use Byte, pois o elemento Waveform ocupa um valor m√°ximo de 255). O tamanho √© igual √† largura do gr√°fico (330). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s a cria√ß√£o, selecione o painel, p√°gina, elemento e canal no qual o gr√°fico ser√° desenhado. </font></font><br>
<img src="https://habrastorage.org/files/f71/978/2ad/f719782ade3c46b390a3a7dbf3a033fe.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da mesma forma, configuramos o bloco para enviar uma matriz com dados de umidade para o painel B33 - ‚ÄúEnviando a matriz para o gr√°fico‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúGraph‚Äù). Em suas configura√ß√µes, criamos outra matriz para armazenar esses dados.</font></font><br>
<img src="https://habrastorage.org/files/e36/840/309/e368403092b34f3eb0db58524c9a49a9.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ precisa preparar os dados para o gr√°fico de temperatura. Este gr√°fico ter√° uma linha ao longo de seu eixo, a uma altura de 160 pontos da parte inferior do gr√°fico. Para tornar as mudan√ßas de temperatura mais vis√≠veis, dividimos o valor da vari√°vel ‚ÄúTemperature x10‚Äù por 5 (ou seja, como se multiplica o valor real da temperatura por 2) usando o bloco B35 e adicionamos o deslocamento usando o bloco B36. O resultado ser√° inserido na vari√°vel "Temperatura com uma mudan√ßa para o gr√°fico". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando o bloco B37 - "Pilha" (biblioteca de elementos, pasta "matrizes"), o pulso da vari√°vel "Comando para gravar o pr√≥ximo ponto" √© gravado na matriz pela temperatura com uma mudan√ßa para o gr√°fico usando o princ√≠pio da pilha (o primeiro elemento da matriz √© exclu√≠do, o restante √© deslocado por um e o √∫ltimo valor √© escrito). O bloco √© parametrizado usando o editor de blocos.</font></font><br>
<img src="https://habrastorage.org/files/668/d4d/876/668d4d8760444b6f830442c18c41df5f.PNG"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No editor, selecione a matriz desejada clicando no bot√£o "Selecionar". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da mesma forma, configuramos o bloco B34 - "Stack" (biblioteca de elementos, pasta "matrizes") para gravar valores de umidade na matriz, selecionando na matriz correspondente.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Se a p√°gina do gr√°fico estiver aberta, a transfer√™ncia de matrizes para o gr√°fico ser√° conclu√≠da e o comando para registrar o pr√≥ximo ponto ser√° recebido. Em seguida, os valores dos novos pontos ser√£o enviados para os gr√°ficos correspondentes. Isso √© necess√°rio para que os gr√°ficos continuem sendo constru√≠dos enquanto a p√°gina estiver sendo exibida. O cumprimento dessas condi√ß√µes √© monitorado usando o bloco B38 - ‚ÄúAND‚Äù (biblioteca de elementos, pasta ‚ÄúElementos b√°sicos‚Äù). Este bloco emite uma unidade em sua sa√≠da se houver uma unidade l√≥gica em todas as suas entradas. O pr√≥ximo valor de temperatura com uma mudan√ßa √© enviado ao gr√°fico usando o bloco B40 - ‚ÄúAdicionar um ponto ao gr√°fico‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúGraph‚Äù). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bloquear configura√ß√µes.</font></font><br>
<img src="https://habrastorage.org/files/826/975/791/826975791bc84fa0b74b983e80e9801f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O bloco para enviar o pr√≥ximo valor de umidade para o gr√°fico B39 tamb√©m √© configurado - ‚ÄúAdicionar um ponto ao gr√°fico‚Äù (biblioteca de elementos -&gt; pasta ‚ÄúNextion HMI Panel‚Äù -&gt; pasta ‚ÄúChart‚Äù). </font></font><br>
 <img src="https://habrastorage.org/files/394/a98/598/394a985989944970ab877690a57a0469.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalizado com a conclus√£o do cronograma. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Placa 5. Ajuste o brilho da luz de fundo. </font></font><br>
<img src="https://habrastorage.org/files/071/b32/d28/071b32d284934fdcaa7b74ed5d114a0b.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O valor da luz de fundo definida usando um resistor vari√°vel √© lido usando o bloco de entrada anal√≥gica "Brightness". Como o valor do brilho da luz de fundo do painel est√° definido no intervalo de 0 a 100, escalamos o valor de leitura do intervalo de 0 a 1023 ao intervalo de 0 a 100 usando o bloco B41 - "Escala". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bloquear configura√ß√µes. </font></font><br>
<img src="https://habrastorage.org/files/594/bc6/fe5/594bc6fe5a9e4c109b944e61b5ff923d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, determinamos o fato de uma altera√ß√£o nesse valor usando o bloco B42 - ‚ÄúDetector para alterar o n√∫mero‚Äù. Este bloco possui algumas configura√ß√µes fora do padr√£o.</font></font><br>
<img src="https://habrastorage.org/files/e6b/efc/d38/e6befcd383c94eb598388f9dea69eded.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para n√£o alterar o brilho de cada movimento do resistor vari√°vel, a banda morta √© configurada na unidade com um valor de 5. Ou seja, a unidade funcionar√° quando o valor de entrada for alterado em mais de 5 em qualquer dire√ß√£o. </font><font style="vertical-align: inherit;">Quando a unidade √© acionada, um comando ser√° enviado ao painel para definir um novo brilho da luz de fundo usando o bloco B43 - "Definir n√≠vel de luz de fundo" (biblioteca de elementos -&gt; pasta "Nextion HMI Panel" -&gt; pasta "System"). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configura√ß√µes de bloco O </font></font><br>
<img src="https://habrastorage.org/files/3f4/586/d48/3f4586d4862841daa811972fd96a2811.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
trabalho no programa para o controlador est√° conclu√≠do.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para aqueles que est√£o interessados ‚Äã‚Äãno c√≥digo para o skoller de esbo√ßo resultante.</font></font></b><div class="spoiler_text"><pre><code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SoftwareSerial.h&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"DHT.h"</span></span></span></span>
DHT _dht1(<span class="hljs-number"><span class="hljs-number">4</span></span>, DHT22);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-function">SoftwareSerial </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Serial100</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;<font></font>
<font></font>
byte _FLPArray142003126[<span class="hljs-number"><span class="hljs-number">330</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> };<font></font>
byte _FLPArray239384258[<span class="hljs-number"><span class="hljs-number">330</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> };
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
byte _nextionSaveDataVAL_P0_E2;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _nextionSaveDataPCO_P0_E3;<font></font>
String _nextionSaveDataTXT_P0_E3;<font></font>
byte _nextionSaveDataPICC_P0_E4;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _nextionSaveDataVAL_P1_E2;
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _nextionSaveDataVAL_P1_E4;<font></font>
String _nextionCommandTempString;<font></font>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionLissenStruct</span></span></span><span class="hljs-class"> {</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> code;<font></font>
  String result;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> number;<font></font>
};<font></font>
_nextionLissenStruct _nextionTempLissen;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionGetPageIdTempVar = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> NextionPanel_47525121_PageIdOut = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _hasNumberChangeInTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv1;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv2;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv3 = <span class="hljs-number"><span class="hljs-number">290</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gtv4 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gtv5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv6;
<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _dht1Tti = <span class="hljs-number"><span class="hljs-number">0U</span></span>L;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _dht1t = <span class="hljs-number"><span class="hljs-number">0.00</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _dht1h = <span class="hljs-number"><span class="hljs-number">0.00</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber1_OLV;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt2I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _swi1;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
byte _swi2;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber2_OLV;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _swi3;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt3I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gen1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gen1O = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _gen1P = <span class="hljs-number"><span class="hljs-number">0U</span></span>L;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt5I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SFLPAS1;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SFLPAS2;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber3_OLV;
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{<font></font>
  Serial100.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>);<font></font>
  _dht1.begin();<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">"page 0"</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{ nextionGetPageIdTempVar = nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! (nextionGetPageIdTempVar &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) ) {<font></font>
    NextionPanel_47525121_PageIdOut = nextionGetPageIdTempVar;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_isTimer(_dht1Tti, <span class="hljs-number"><span class="hljs-number">5000</span></span>)) {<font></font>
    _dht1Tti = millis();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tempDht4;<font></font>
    tempDht4 = _dht1.readTemperature();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(isnan(tempDht4))) {<font></font>
      _dht1t = tempDht4;<font></font>
    }<font></font>
    tempDht4 = _dht1.readHumidity();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(isnan(tempDht4))) {<font></font>
      _dht1h = tempDht4;<font></font>
    }<font></font>
  }<font></font>
<font></font>
<font></font>
<font></font>
  _gtv1 = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>((_dht1t) * (<span class="hljs-number"><span class="hljs-number">10</span></span>)));<font></font>
  _gtv2 = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(_dht1h));
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3)) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt1I) {<font></font>
      _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt1 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt1I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3))<font></font>
  {<font></font>
    _swi1 = <span class="hljs-number"><span class="hljs-number">63488</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi1 = <span class="hljs-number"><span class="hljs-number">2016</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!((_gtv1) &gt; (_gtv3))) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt2I) {<font></font>
      _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt2 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt2I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt2I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3))<font></font>
  {<font></font>
    _swi2 = <span class="hljs-number"><span class="hljs-number">2</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {<font></font>
    _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = _gtv1;<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_hasNumberChangeInTemp != _changeNumber1_OLV) {<font></font>
      _changeNumber1_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr1_oldState ) {<font></font>
      _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataTXT_P0_E3 =  ((( _floatToStringWitRaz((_gtv1) / (<span class="hljs-number"><span class="hljs-number">10.00</span></span>), <span class="hljs-number"><span class="hljs-number">1</span></span>))) + (String(<span class="hljs-string"><span class="hljs-string">" C"</span></span>))) ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr1_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tnt.txt=\""</span></span>) + _nextionSaveDataTXT_P0_E3 + String(<span class="hljs-string"><span class="hljs-string">"\""</span></span>);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr2_oldState ) {<font></font>
      _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P0_E2 =  (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv1), (<span class="hljs-number"><span class="hljs-number">-400</span></span>), (<span class="hljs-number"><span class="hljs-number">500</span></span>), (<span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-number"><span class="hljs-number">91</span></span>))) ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr2_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tpb.val="</span></span>) + String(_nextionSaveDataVAL_P0_E2);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_trgrt1) || (_trgrt2) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr3_oldState ) {<font></font>
      _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataPCO_P0_E3 =  _swi1 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr3_isNU) {<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tnt.pco="</span></span>) + String(_nextionSaveDataPCO_P0_E3);<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionCommandTempString = <span class="hljs-string"><span class="hljs-string">"ref tnt"</span></span>;<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_trgrt1) || (_trgrt2) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr4_oldState ) {<font></font>
      _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataPICC_P0_E4 =  _swi2 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr4_isNU) {<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tci.picc="</span></span>) + String(_nextionSaveDataPICC_P0_E4);<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionCommandTempString = <span class="hljs-string"><span class="hljs-string">"ref tci"</span></span>;<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)))) &lt; (<span class="hljs-number"><span class="hljs-number">0</span></span>))<font></font>
  {<font></font>
    _swi3 = ((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)))) + (<span class="hljs-number"><span class="hljs-number">360</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi3 = (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)));<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {<font></font>
    _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = _gtv2;<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_hasNumberChangeInTemp != _changeNumber2_OLV) {<font></font>
      _changeNumber2_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr5_oldState ) {<font></font>
      _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P1_E4 =  _gtv2 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr5_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page1.humN.val="</span></span>) + String(_nextionSaveDataVAL_P1_E4);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr6_oldState ) {<font></font>
      _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P1_E2 =  _swi3 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr6_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page1.humG.val="</span></span>) + String(_nextionSaveDataVAL_P1_E2);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _gen1I) {<font></font>
      _gen1I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _gen1O = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _gen1P = millis();<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _gen1I = <span class="hljs-number"><span class="hljs-number">0</span></span> ;<font></font>
    _gen1O = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gen1I) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( _isTimer ( _gen1P , <span class="hljs-number"><span class="hljs-number">5000</span></span> )) {<font></font>
      _gen1P = millis();<font></font>
      _gen1O = ! _gen1O;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gen1O) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt5I) {<font></font>
      _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt5 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt5I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt5I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv4) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3I) {<font></font>
      _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt3 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt3I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt3I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  _gtv4 = (NextionPanel_47525121_PageIdOut) == (<span class="hljs-number"><span class="hljs-number">2</span></span>);<font></font>
  _gtv5 = _trgrt5;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionAddPointToWave1_OldState) {<font></font>
      _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionSATWTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;  nextionSATWTemp &lt; <span class="hljs-number"><span class="hljs-number">330</span></span>;  nextionSATWTemp ++) {<font></font>
          _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,1,"</span></span>) + String (_FLPArray142003126[nextionSATWTemp]);<font></font>
          nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
        } delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionAddPointToWave2_OldState) {<font></font>
      _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionSATWTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;  nextionSATWTemp &lt; <span class="hljs-number"><span class="hljs-number">330</span></span>;  nextionSATWTemp ++) {<font></font>
          _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,0,"</span></span>) + String (_FLPArray239384258[nextionSATWTemp]);<font></font>
          nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
        } delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv5) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_SFLPAS1) {<font></font>
      _SFLPAS1 =  <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (_SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>; _SUETFLPATemp &lt; <span class="hljs-number"><span class="hljs-number">329</span></span>; _SUETFLPATemp = _SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span> ) {<font></font>
        _FLPArray239384258[_SUETFLPATemp ] = _FLPArray239384258[_SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span>];<font></font>
      }  _FLPArray239384258[<span class="hljs-number"><span class="hljs-number">329</span></span>] = _gtv2;<font></font>
    }<font></font>
  }  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _SFLPAS1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  _gtv6 = ((_gtv1) / (<span class="hljs-number"><span class="hljs-number">5</span></span>)) + (<span class="hljs-number"><span class="hljs-number">160</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv5) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_SFLPAS2) {<font></font>
      _SFLPAS2 =  <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (_SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>; _SUETFLPATemp &lt; <span class="hljs-number"><span class="hljs-number">329</span></span>; _SUETFLPATemp = _SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span> ) {<font></font>
        _FLPArray142003126[_SUETFLPATemp ] = _FLPArray142003126[_SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span>];<font></font>
      }  _FLPArray142003126[<span class="hljs-number"><span class="hljs-number">329</span></span>] = _gtv6;<font></font>
    }<font></font>
  }  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _SFLPAS2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_gtv5) &amp;&amp; (!(_trgrt3)) &amp;&amp; (_gtv4) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionSendArraytToWave1_OldState) {<font></font>
      _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {<font></font>
        _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,0,"</span></span>) + String (_gtv2);<font></font>
        nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>); delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_gtv5) &amp;&amp; (!(_trgrt3)) &amp;&amp; (_gtv4) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionSendArraytToWave2_OldState) {<font></font>
      _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {<font></font>
        _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,1,"</span></span>) + String (_gtv6);<font></font>
        nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>); delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber3_Out) {<font></font>
    _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(( (analogRead (<span class="hljs-number"><span class="hljs-number">0</span></span>))), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">1023</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>)));
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((_hasNumberChangeInTemp &gt; _changeNumber3_OLV) &amp;&amp; ((_hasNumberChangeInTemp - _changeNumber3_OLV ) &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>)) || ((_hasNumberChangeInTemp &lt; _changeNumber3_OLV) &amp;&amp; ((_changeNumber3_OLV - _hasNumberChangeInTemp ) &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ))<font></font>
    {<font></font>
      _changeNumber3_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber3_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(_nextionSetLighting1_OldStae)) {<font></font>
      _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"dim="</span></span>) + String((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(( (analogRead (<span class="hljs-number"><span class="hljs-number">0</span></span>))), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">1023</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>))));<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
<font></font>
<font></font>
<font></font>
}<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _isTimer(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> startTime, <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> period )<font></font>
{<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> currentTime;<font></font>
  currentTime = millis();<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentTime &gt;= startTime) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (currentTime &gt;= (startTime + period));<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (currentTime &gt;= (<span class="hljs-number"><span class="hljs-number">4294967295</span></span> - startTime + period));<font></font>
  }<font></font>
}<font></font>
String  _floatToStringWitRaz(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> value, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> raz)<font></font>
{<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tv;
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ti = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(value);<font></font>
  String ts = String(ti);<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (raz == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts;<font></font>
  }<font></font>
  ts += <span class="hljs-string"><span class="hljs-string">"."</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tf = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(value - ti);
  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= raz; i++ )<font></font>
  {<font></font>
    tv = tf * <span class="hljs-number"><span class="hljs-number">10</span></span>;<font></font>
    ti = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(tv);<font></font>
    ts += String(ti);<font></font>
    tf = (tv - ti);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts;<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionSendCommand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* cmd, byte port )</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial100.available()) {<font></font>
    Serial100.read();<font></font>
  }<font></font>
  Serial100.print(cmd);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-function">boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionAck</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( byte port )</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> bytes[<span class="hljs-number"><span class="hljs-number">4</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>};<font></font>
  Serial100.setTimeout(<span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(bytes) != Serial100.readBytes((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *)bytes, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(bytes))) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((bytes[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>) &amp;&amp; (bytes[<span class="hljs-number"><span class="hljs-number">2</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>) &amp;&amp; (bytes[<span class="hljs-number"><span class="hljs-number">3</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>)) {
    <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (bytes[<span class="hljs-number"><span class="hljs-number">0</span></span>]) {
      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0x00</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0x01</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionLissenStruct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionListen</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">byte</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class"> )
{</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _bite;
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _end = <span class="hljs-number"><span class="hljs-number">0xff</span></span>;<font></font>
  String cmd;<font></font>
  _nextionLissenStruct temp;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> countEnd = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">10</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial100.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Serial100.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {<font></font>
      _bite = Serial100.read();<font></font>
      cmd += _bite;<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_bite == _end) {<font></font>
        countEnd++;<font></font>
      }<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (countEnd == <span class="hljs-number"><span class="hljs-number">3</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
  temp.result = <span class="hljs-string"><span class="hljs-string">""</span></span>;<font></font>
  temp.code = <span class="hljs-string"><span class="hljs-string">'z'</span></span>;<font></font>
  temp.number = <span class="hljs-number"><span class="hljs-number">0</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (cmd[<span class="hljs-number"><span class="hljs-number">0</span></span>]) {
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'e'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'e'</span></span>;<font></font>
      countEnd = <span class="hljs-number"><span class="hljs-number">0</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; cmd.length(); i++) {
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cmd[i] == _end) {<font></font>
          countEnd++;<font></font>
        }<font></font>
        temp.result += String(cmd[i], HEX);<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (countEnd == <span class="hljs-number"><span class="hljs-number">3</span></span>) {
          <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;<font></font>
        }<font></font>
        temp.result += <span class="hljs-string"><span class="hljs-string">" "</span></span>;<font></font>
      }<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'f'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'f'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">1</span></span>], DEC);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'g'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'g'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">5</span></span>], DEC);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'h'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'h'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">5</span></span>], DEC);<font></font>
      temp.result = <span class="hljs-string"><span class="hljs-string">"68 "</span></span> + temp.result;
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'p'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'p'</span></span>;<font></font>
      temp.result = cmd.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>, cmd.length() - <span class="hljs-number"><span class="hljs-number">3</span></span>);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'q'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'q'</span></span>;<font></font>
      temp.number = (cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">24</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">3</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">1</span></span>]);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionAskPageNamper</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(byte port)</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result;<font></font>
  _nextionLissenStruct temp;<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">"sendme"</span></span>, port);<font></font>
  temp = nextionListen(port);<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((temp.code == <span class="hljs-string"><span class="hljs-string">'f'</span></span>) &amp;&amp; (temp.result != <span class="hljs-string"><span class="hljs-string">""</span></span>)) {<font></font>
    result = temp.result.toInt();<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    result = <span class="hljs-number"><span class="hljs-number">-1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result;<font></font>
}<font></font>
</code></pre></div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um pequeno v√≠deo com uma demonstra√ß√£o.</font></font><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.youtube.com/embed/06SEOUOKbzs%3Ffeature%3Doembed&amp;usg=ALkJrhjsvimA73Fzawzrdk6udyRzh16ALQ" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquive com o projeto para o painel e o projeto para o controlador. </font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na pr√≥xima li√ß√£o, aprenderemos como controlar o controlador Arduino a partir do painel.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt392685/">https://habr.com/ru/post/pt392685/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt392673/index.html">Construtor de impressoras SUNHOKEY 3D durante a opera√ß√£o (parte dois)</a></li>
<li><a href="../pt392675/index.html">Uma garrafa de √°gua condensada do ar estar√° √† venda em breve</a></li>
<li><a href="../pt392677/index.html">O monitor dobr√°vel de 24 "permite reproduzir o conte√∫do de nossos smartphones sempre que necess√°rio</a></li>
<li><a href="../pt392679/index.html">Vida, Intelig√™ncia, Mente, Mente</a></li>
<li><a href="../pt392683/index.html">Carrapato ataque</a></li>
<li><a href="../pt392687/index.html">Levantei-me da garagem</a></li>
<li><a href="../pt392691/index.html">Microssat√©lites para grandes espa√ßos</a></li>
<li><a href="../pt392693/index.html">Nova patente da Apple: MacBook sem teclado mec√¢nico</a></li>
<li><a href="../pt392695/index.html">E novamente sobre fotografar a lua com meios improvisados</a></li>
<li><a href="../pt392697/index.html">Estudante de gradua√ß√£o de Astrakhan desenvolveu um produto biol√≥gico para proteger as culturas de doen√ßas f√∫ngicas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>