<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì£ üïï üëÇüèΩ Temps de premier octet: qu'est-ce que c'est et pourquoi est-il important üêµ üëáüèæ üè•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Maintenant, je travaille sur un projet pour un client. Il s'agit d'un site de commerce √©lectronique, donc je suis tr√®s int√©ress√© par certains aspects ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Temps de premier octet: qu'est-ce que c'est et pourquoi est-il important</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/470868/">  Maintenant, je travaille sur un projet pour un client.  Il s'agit d'un site de commerce √©lectronique, donc je suis tr√®s int√©ress√© par certains aspects des performances.  Pour commencer, ce sont divers indicateurs qui caract√©risent le temps de chargement d'un site.  Ensuite - c'est l'heure de d√©but du rendu de la page, ce qui est important pour les visiteurs qui, apr√®s √™tre entr√©s sur le site, veulent voir son contenu le plus rapidement possible (naturellement, tous les visiteurs du site entrent dans cette cat√©gorie).  Parmi les indicateurs de performance qui m‚Äôint√©ressent, il y a ceux qui refl√®tent les sp√©cificit√©s des activit√©s de mon client.  Par exemple: "√Ä quelle vitesse l'image principale du produit se charge-t-elle?"  Une analyse de tous ces indicateurs peut fournir des informations pr√©cieuses sur l'√©tat du projet. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/tq/4b/8i/tq4b8ifmpqelzhiw5uzboghocp8.jpeg"></a> <br><br>  Cependant, il existe un indicateur qui, comme il semble, les d√©veloppeurs frontaux n'accordent souvent pas assez d'attention.  Il est temps de passer au premier octet (Time to First Byte, TTFB).  Vous pouvez comprendre cela, vous pouvez et au moins partiellement pardonner aux d√©veloppeurs cette attitude envers TTFB, surtout compte tenu du fait qu'ils voient cet indicateur comme quelque chose qui ne d√©pend que du backend des projets.  Mais si nous essayons d'exprimer litt√©ralement bri√®vement le probl√®me concernant cet indicateur, nous pouvons dire ce qui suit: "Bien qu'une bonne valeur TTFB ne signifie pas n√©cessairement que le site Web le d√©montrant peut √™tre consid√©r√© comme rapide, un mauvais indicateur TTFB indique presque certainement des probl√®mes avec les performances du projet." <br><a name="habracut"></a><br>  M√™me si nous prenons en compte le fait que le d√©veloppeur front-end peut √™tre dans une position dans laquelle il n'est pas en mesure d'influencer ind√©pendamment le backend et le TTFB, il est important de prendre en compte le fait que des valeurs TTFB √©lev√©es peuvent affecter de mani√®re significative les performances du site.  En cons√©quence, les efforts d'un d√©veloppeur front-end cherchant √† acc√©l√©rer la vitesse du site Web ressembleront √† un jeu de rattrapage.  Cela s'applique, par exemple, √† l'optimisation d'image, √† la minimisation du volume de mat√©riaux qui composent les sections les plus importantes du projet et au t√©l√©chargement asynchrone des polices Web.  Cela ne veut pas dire que, sachant cela, vous pouvez abandonner et abandonner les optimisations frontales.  Mais si le TTFB est trop √©lev√©, toutes ces optimisations rappellent d'essayer de r√©soudre un probl√®me dans des conditions o√π il a d√©j√† fait du mal et quand il est trop tard pour r√©soudre ce probl√®me.  En fait, c'est pourquoi il est tr√®s important pour ceux qui d√©veloppent le front-end de suivre de pr√®s l'indicateur TTFB, et il est tr√®s important, lorsque ses valeurs sont trop √©lev√©es, de prendre des mesures pour l'am√©liorer. <br><br><h2>  <font color="#3AC1EF">Qu'est-ce que le TTFB?</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/620/d0b/fe1/620d0bfe1034ff0d0c565f459ad2aa79.png"></div><br>  <i><font color="#999999">TTFB ne semble pas tr√®s informatif ( <a href="">image en taille r√©elle</a> )</font></i> <br><br>  TTFB est un indicateur qui semble, pour le dire l√©g√®rement, opaque.  Il est tellement influenc√© par lui que j'ai le sentiment que nous sommes tout le temps en train de brosser son analyse s√©rieuse.  Beaucoup pensent que le TTFB n'est que le temps qu'il faut au serveur pour pr√©parer une r√©ponse, mais ce n'est, en fait, qu'une petite partie de ce qui affecte le TTFB. <br><br>  La premi√®re chose sur laquelle j'aimerais attirer votre attention, c'est qu'en apprenant ce que les gens sont g√©n√©ralement tr√®s surpris.  Nous parlons du fait que TTFB inclut le temps que la demande du client passe sur le r√©seau vers le serveur, et le temps qu'il prend le chemin de r√©ponse du serveur au client.  C'est ce que l'on appelle le ¬´temps aller-retour¬ª (Round Trip Time, RTT).  TTFB n'est pas seulement un certain temps pass√© par le serveur √† pr√©parer une r√©ponse.  C'est aussi le temps consacr√© √† la mani√®re dont les donn√©es vont de client en serveur et de serveur en client (ces donn√©es contiennent bien entendu le ¬´premier octet¬ª qui nous int√©resse). <br><br>  Maintenant, arm√© de ces connaissances, nous pouvons facilement comprendre la raison pour laquelle lors de la visualisation de sites √† partir d'appareils mobiles, l'indicateur TTFB est souvent simplement ind√©cent.  Il est fort possible que plus t√¥t dans de telles situations, vous ayez pos√© la question suivante: ¬´Je suis s√ªr que le serveur ne sait pas que je consulte le site √† partir d'un mobile.  Comment alors augmente-t-il le TTFB?  La raison en est que, en r√®gle g√©n√©rale, les connexions de r√©seau mobile sont des connexions √† latence √©lev√©e.  Si l'indicateur RTT, qui refl√®te le temps n√©cessaire pour que les donn√©es passent du t√©l√©phone au serveur et vice-versa, est, par exemple, de 250 ms, le TTFB augmentera de la valeur correspondante. <br><br>  Si je souhaite que les lecteurs de ce document n'en retirent qu'une seule id√©e majeure, je formulerais cette id√©e comme suit: ¬´Les retards du r√©seau affectent le TTFB¬ª. <br><br>  Qu'est-ce qui affecte le TTFB?  En fait - beaucoup de tout.  Voici une liste loin d'√™tre compl√®te de ce qui contribue √† la formation de cet indicateur.  Les √©l√©ments de cette liste sont dans un ordre al√©atoire. <br><br><ul><li>  <b>Retards du r√©seau.</b>  Comme d√©j√† mentionn√©, TTFB inclut le temps n√©cessaire pour envoyer une demande au serveur et renvoyer une r√©ponse du serveur.  Prenons, par exemple, le temps requis pour une session d'√©change de donn√©es entre un appareil situ√© √† Londres et un serveur situ√© √† New York.  Id√©alement, lorsque vous utilisez une connexion √† fibre optique, c'est 28 ms.  Mais cela est bas√© sur de nombreuses hypoth√®ses tr√®s optimistes.  En r√©alit√©, vous devriez vous attendre √† quelque chose comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">75 ms</a> .  C'est pourquoi il est si important d'utiliser CDN.  Aujourd'hui encore, √† l'√®re d'Internet, la proximit√© g√©ographique d'une certaine entreprise et de ses clients est un atout. </li><li>  <b>Acheminement</b>  Si vous utilisez CDN (et il devrait en √™tre ainsi!), Alors la demande de votre client, par exemple, de Leeds, peut √™tre redirig√©e vers le centre de donn√©es MAN uniquement afin qu'en cons√©quence, il s'av√®re que la ressource dont le client a besoin ne se trouve pas dans le cache <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PoP</a> correspondant .  Ensuite, la demande sera redirig√©e vers le vrai serveur avec vos documents afin de transmettre n√©anmoins au client ce dont il a besoin.  Si ce serveur est situ√©, par exemple, en Virginie, tout ce qui pr√©c√®de entra√Ænera une augmentation s√©rieuse du TTFB sans raison apparente. </li><li>  <b>Travaillez avec des fichiers.</b>  M√™me si le serveur lit simplement les donn√©es statiques de son syst√®me de fichiers, telles que des images ou des fichiers de style, cette op√©ration prend un certain temps.  Cette fois fait √©galement partie du TTFB. </li><li>  <b>Priorisation</b>  Le protocole HTTP / 2 dispose de m√©canismes pour hi√©rarchiser le traitement des demandes.  En cons√©quence, il peut s'av√©rer que les demandes de faible priorit√© peuvent √™tre retard√©es sur le serveur, laissant la place √† des demandes de haute priorit√©.  M√™me si vous ne tenez pas compte des m√©canismes de priorisation HTTP / 2 et supposez que tout fonctionne correctement, ces retards attendus peuvent contribuer au TTFB. </li><li>  <b>Ex√©cution d'applications.</b>  En fait, cela est assez √©vident, mais je voudrais noter que le temps requis pour ex√©cuter les applications serveur affecte s√©rieusement TTFB. </li><li>  <b>Requ√™tes de base de donn√©es.</b>  Si vous devez demander quelque chose √† la base de donn√©es pour former la page, le temps pour terminer une telle op√©ration sera √©galement inclus dans TTFB. </li><li>  <b>Appels API</b>  Si des donn√©es de certaines API (internes ou externes) sont n√©cessaires pour pr√©parer la page, les appels √† ces API affecteront TTFB. </li><li>  <b>Rendu du serveur</b>  Il est bien √©vident que le rendu c√¥t√© serveur prend du temps, ce temps est facile √† √©valuer, mais cela n'annule pas la contribution de cette op√©ration au TTFB. </li><li>  <b>H√©bergement pas cher.</b>  Si vous utilisez un h√©bergement bon march√©, en essayant d'√©conomiser autant que possible et en sacrifiant les performances, cela signifie g√©n√©ralement qu'un certain nombre d'autres projets utilisent le serveur sur lequel se trouve votre projet.  Peut-√™tre un montant consid√©rable.  Par cons√©quent, une personne qui utilise un h√©bergement bon march√© peut s'attendre √† une baisse des performances du serveur, ce qui peut affecter la capacit√© du projet √† traiter les demandes.  En fait, nous parlons du fait que la puissance du mat√©riel serveur n'est pas suffisante pour satisfaire les besoins de l'application. </li><li>  <b>Attaques DDoS, charge √©lev√©e sur le projet.</b>  Nous continuons ici le sujet discut√© dans le paragraphe pr√©c√©dent de cette liste.  √Ä savoir, si la charge sur le serveur augmente et que le projet ne pr√©voit pas une mise √† l'√©chelle flexible des capacit√©s du serveur, cela conduit au fait que l'√©quipement commence √† fonctionner √† la limite.  Et, par cons√©quent, les performances des applications diminuent. </li><li>  <b>WAF, √©quilibreurs de charge.</b>  Les services, tels que le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WAF</a> ou les √©quilibreurs de charge situ√©s devant l'application serveur, augmentent le TTFB. </li><li>  <b>Certaines fonctionnalit√©s de CDN.</b>  L'utilisation de CDN est un facteur qui a certainement un effet b√©n√©fique sur le TTFB, mais certaines fonctionnalit√©s des CDN peuvent aggraver la situation.  Par exemple, il s'agit du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pliage de demande</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ESI</a> , etc. </li><li>  <b>Retards au ¬´dernier kilom√®tre¬ª.</b>  Lorsque nous parlons d'un ordinateur londonien qui acc√®de √† un serveur situ√© √† New York, nous simplifions g√©n√©ralement la situation, la r√©duisant presque au fait que l'ordinateur et le serveur sont connect√©s directement l'un √† l'autre.  Mais en r√©alit√©, tout est beaucoup plus compliqu√©.  Le signal entre l'ordinateur et le serveur passe par de nombreux interm√©diaires.  Notre routeur l'envoie au fournisseur;  √† partir d'un r√©seau sans fil, il p√©n√®tre dans un c√¢ble pos√© au fond de l'oc√©an ... <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les retards sur le "dernier kilom√®tre"</a> incluent toutes les difficult√©s qui entravent le transfert de donn√©es entre les terminaux. </li></ul><br>  Un TTFB de 0 ms est un r√™ve de pipe.  Par cons√©quent, il est important de noter qu'il n'y a rien dans la liste qui affecte toujours n√©gativement le TTFB ou aggrave toujours cet indicateur.  Cette liste est mieux comprise comme une description de la structure TTFB d'un projet.  Mon objectif n'est pas de critiquer certaines technologies, mais de montrer comment certaines technologies peuvent influencer le TTFB.  Et, pour √™tre honn√™te, √©tant donn√© combien de choses se produisent avant que le client ne re√ßoive le premier octet de la r√©ponse du serveur, il est d√©j√† surprenant que les sites se chargent g√©n√©ralement. <br><br><h2>  <font color="#3AC1EF">D√©couvrir le myst√®re avec TTFB</font> </h2><br>  Maintenant, esp√©rons-le, TTFB ne semble plus aussi myst√©rieux.  Et si vous passez un peu de temps sur l'impl√©mentation de l'API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Server Timing</a> , vous pouvez commencer √† mesurer les indicateurs de temps de serveur difficiles et √† les envoyer aux syst√®mes clients.  Cela permettra aux d√©veloppeurs Web de d√©tecter et d'√©liminer les goulots d'√©tranglement potentiels qui √©taient auparavant cach√©s √† leurs yeux. <br><br>  L'API de synchronisation de serveur permet aux d√©veloppeurs d'√©tendre les r√©ponses aux requ√™tes avec l'en <code>Server-Timing</code> t√™te HTTP de <code>Server-Timing</code> facultatif.  Il contient des informations temporelles mesur√©es par l'application elle-m√™me. <br><br>  C'est ce m√©canisme que nous avons utilis√© l'ann√©e derni√®re lorsque nous travaillions sur le BBC iPlayer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/573/4b1/63e/5734b163e8c49e7bd6729537f37a2866.png"></div><br>  <i><font color="#999999">Un nouvel en-t√™te de synchronisation du serveur peut √™tre ajout√© √† n'importe quelle r√©ponse ( <a href="">image en taille r√©elle</a></font></i> ) <br><br>  Notez que la synchronisation du serveur met √©galement l'accent sur le syst√®me.  Au cours de son travail, vous devez mesurer les indicateurs pertinents et remplir l'en <code>Server-Timing</code> t√™te <code>Server-Timing</code> .  Le navigateur permet uniquement au d√©veloppeur frontal de visualiser ces donn√©es √† l'aide des outils appropri√©s. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/503/a38/b0c/503a38b0cb82096726135107e593fb25.png"></div><br>  <i><font color="#999999">Maintenant, directement dans le navigateur, vous pouvez voir la structure TTFB ( <a href="">image en taille r√©elle</a> )</font></i> <br><br>  Si vous souhaitez impl√©menter l'API Server Timing, jetez un ≈ìil √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce mat√©riel</a> . <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Il est tr√®s important que les d√©veloppeurs Web comprennent dans quelle mesure le TTFB affecte ce qu'ils appellent les ¬´performances du site¬ª.  Le temps du premier octet est une certaine fronti√®re, apr√®s le franchissement, dont on peut parler d'optimisation de site Web.  Plus cet indicateur est bas, mieux c'est. <br><br>  <b>Chers lecteurs!</b>  Optimisez-vous vos projets web avec TTFB? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/it/t5/3p/itt53pns2iucwylb3bwn1fmmtnu.png"></a> </div><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470868/">https://habr.com/ru/post/fr470868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470844/index.html">Le nouveau projet des fr√®res Durov: Telegram Open Network</a></li>
<li><a href="../fr470852/index.html">Traitement de 40 To de code √† partir de 10 millions de projets sur un serveur d√©di√© avec Go pour 100 $</a></li>
<li><a href="../fr470856/index.html">Telegram GRAM Wallet: conditions d'utilisation</a></li>
<li><a href="../fr470858/index.html">Antiquit√©s: r√©f√©rence du 386e processeur et des ann√©es 90 fringantes</a></li>
<li><a href="../fr470864/index.html">√Ä propos des plaisirs de passer au panneau et pas seulement</a></li>
<li><a href="../fr470870/index.html">Pr√©chargement des polices</a></li>
<li><a href="../fr470872/index.html">Mesures de performances pour la recherche d'applications Web incroyablement rapides</a></li>
<li><a href="../fr470874/index.html">Optimiser le chargement de JavaScript sur Wikipedia</a></li>
<li><a href="../fr470876/index.html">Cr√©ez des constructions de syntaxe JavaScript personnalis√©es √† l'aide de Babel. Partie 1</a></li>
<li><a href="../fr470878/index.html">Cr√©ez des constructions de syntaxe JavaScript personnalis√©es √† l'aide de Babel. 2e partie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>