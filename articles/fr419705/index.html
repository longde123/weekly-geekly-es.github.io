<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüíº üó°Ô∏è üïü Nous voulons remplacer devops par un script (en fait pas): d√©veloppeurs, vous avez besoin de votre avis üìª üè† üí∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous r√©alisons un projet cloud pour le d√©veloppement - une plate-forme qui peut simplifier la vie des d√©veloppeurs, d√©veloppeurs, testeurs, chefs d'√©q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous voulons remplacer devops par un script (en fait pas): d√©veloppeurs, vous avez besoin de votre avis</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/technoserv/blog/419705/"><img src="https://habrastorage.org/webt/gi/em/mu/giemmugoeg7lvmqu-jz1bhfrqae.png"><br>  Nous r√©alisons un projet cloud pour le d√©veloppement - une plate-forme qui peut simplifier la vie des d√©veloppeurs, d√©veloppeurs, testeurs, chefs d'√©quipe et autres sp√©cialistes impliqu√©s dans le processus de d√©veloppement autant que possible.  Ce produit n'est pas pour l'instant et pas pour demain, et le besoin est en train de se former. <br><br>  L'id√©e principale est que vous pouvez d√©ployer le pipeline avec des outils pr√©configur√©s, mais en m√™me temps avec la possibilit√© de faire un certain nombre de param√®tres, tout ce que vous avez √† faire est de d√©ployer le code. <br><a name="habracut"></a><br>  D'o√π vient une telle perversion?  Nous constatons une tendance claire selon laquelle la vitesse de d√©ploiement de nouveaux projets affecte d√©sormais le march√©.  Le commerce d√©pend de la rapidit√© avec laquelle les versions sont livr√©es.  De la rapidit√© avec laquelle les bugs seront corrig√©s, de la rapidit√© avec laquelle de nouvelles niches seront engag√©es.  D√©but 2018, la soci√©t√© mondiale ¬´451 Research¬ª a men√© une enqu√™te sur les technologies qui seront prioritaires pour le d√©veloppement.  Le top dix comprend les technologies de cr√©ation et de gestion de conteneurs, ainsi que l'architecture des applications sans serveur et les microservices, d√©passant m√™me un sujet aussi hype que la blockchain. <br><br>  Et maintenant, nous avons quelques questions pour vous. <br><br>  Graphique de l'enqu√™te: <br><img src="https://habrastorage.org/webt/vc/fp/o2/vcfpo2b3wjmuaw96somymbtz68u.jpeg"><br><br><h3>  Est-ce n√©cessaire? </h3><br>  L'utilisation de conteneurs dans le d√©veloppement d'un nouveau produit a ses avantages et ses inconv√©nients.  L'utilisation ou non de cette technologie doit √™tre d√©cid√©e en fonction des t√¢ches d√©finies.  Pour certaines t√¢ches, l'utilisation de conteneurs ne peut pas √™tre supprim√©e et pour certains, elle est simplement superflue.  Par exemple, pour les sites √† faible trafic, une architecture simple de deux serveurs suffira amplement.  Mais si une croissance significative du d√©veloppement est pr√©vue, ainsi qu'une √©norme augmentation du nombre de visiteurs dans un court laps de temps, alors dans ce cas, il convient de consid√©rer l'infrastructure utilisant des conteneurs. <br><br>  L'utilisation de conteneurs pr√©sente plusieurs avantages: <br><br><ul><li>  Chaque application s'ex√©cute de mani√®re isol√©e dans son propre conteneur, ce qui minimise les probl√®mes li√©s √† la configuration. </li><li>  La s√©curit√© des applications est √©galement obtenue en isolant chaque conteneur. </li><li>  √âtant donn√© que les conteneurs utilisent le noyau du syst√®me d'exploitation, le syst√®me d'exploitation invit√© n'est d√©sormais plus n√©cessaire, ce qui permet de lib√©rer une grande quantit√© de ressources. </li><li>  De plus, en raison de l'utilisation du noyau du syst√®me d'exploitation et du fait que vous n'avez pas besoin de compter sur l'hyperviseur, les conteneurs n√©cessitent beaucoup moins de ressources que les autres piles. </li><li>  Encore une fois, du fait que les conteneurs ne n√©cessitent pas de syst√®me d'exploitation invit√©, ils sont faciles √† migrer d'un serveur √† un autre. </li><li>  Du fait que chaque application s'ex√©cute dans un conteneur isol√©, il est facile de transf√©rer de la machine locale vers le cloud; </li><li>  Il est tr√®s ¬´bon march√©¬ª de d√©marrer et d'arr√™ter le conteneur en raison de l'utilisation du noyau du syst√®me d'exploitation. </li></ul><br>  En relation avec tout ce qui pr√©c√®de, nous pensons que la technologie de conteneurisation est actuellement la pile la plus rapide, la plus √©conome en ressources et la plus s√©curis√©e.  En raison des avantages des conteneurs, vous pouvez avoir le m√™me environnement √† la fois sur la machine locale et en production, ce qui facilite le processus d'int√©gration continue et de livraison continue. <br><br>  Les avantages des conteneurs sont si convaincants qu'ils seront certainement utilis√©s longtemps. <br><br><h3>  Qu'est-ce que le cloud a √† voir avec le d√©veloppement? </h3><br>  Dans le monde id√©al du d√©veloppeur, tout code de validation devrait √™tre d√©ploy√© en production en un seul clic, comme par magie. <br><br>  Nous l'avons fait de cette fa√ßon: il y a un Gitlabchik avec des t√¢ches et une source.  Lorsque vous devez collecter quelque chose - GitLab Runner.  Nous travaillons sur Git Flow, toutes les fonctionnalit√©s sur des branches distinctes.  Lorsqu'une branche entre dans le r√©f√©rentiel, les tests sur ce code sont lanc√©s dans GitLab.  Si les tests r√©ussissent, le d√©veloppeur de ce fil peut faire une demande de fusion, en fait une demande de r√©vision de code.  Apr√®s l'examen, la branche est accept√©e, fusionn√©e dans la branche dev, les tests la repassent.  Lors du d√©ploiement, GitLab Runner collecte le conteneur Docker et le transf√®re vers le serveur de transfert, o√π il peut √™tre cliqu√© et r√©joui.  Et voici le premier gag - nous examinons le code avec nos mains pour v√©rifier la conformit√© avec le fonctionnel et c'est la premi√®re chose que nous corrigeons.  Apr√®s cela, nous injectons le code dans la branche de publication.  Et pour elle, nous d√©ployons une version pr√©productive distincte de notre solution, que nos clients commerciaux regardent.  Une fois que la version est pr√©install√©e sur la pr√©-prod, nous la roulons en production et elle roule jusqu'aux n≈ìuds du produit.  Il existe des notes de version et des rapports de bogues g√©n√©r√©s automatiquement.  La vitesse d'assemblage √©tait de plus de 30 minutes, elle est maintenant d'un ordre de grandeur en moins.  Nous avons s√©lectionn√© un ensemble d'outils pour nous-m√™mes et r√©fl√©chissons maintenant √† la fa√ßon de cr√©er le m√™me SaaS pr√™t √† l'emploi. <br><br>  Pour nous, le processus de sortie typique pour la sortie est le suivant: <br><br><ol><li>  Fixer des objectifs pour l'impl√©mentation de nouvelles fonctionnalit√©s </li><li>  Localisation de code </li><li>  Apporter des modifications en fonction des t√¢ches.  √âcriture de tests automatis√©s avant la construction. </li><li>  V√©rification du code, manuel et auto-test </li><li>  Fusion de code dans une branche de d√©veloppement </li><li>  Cr√©er une branche de d√©veloppement </li><li>  D√©ployer l'infrastructure de test </li><li>  D√©ployer la version sur l'infrastructure de test </li><li>  Ex√©cution de tests, fonctionnels, int√©gration, etc. </li><li>  En cas de bugs, terminez-les imm√©diatement dans la branche dev </li><li>  Migration d'une branche de d√©veloppement vers une branche principale </li></ol><br>  Voici un sch√©ma avec les d√©tails de notre processus: <br><br><img src="https://habrastorage.org/webt/il/8m/nb/il8mnboobrdruvd3op3rfqva904.png"><br><img src="https://habrastorage.org/webt/jk/ww/8z/jkww8zqlbjgrulv6pcjnm9rcdmq.png"><br><br>  En fait, la premi√®re question - s'il vous pla√Æt dites-nous o√π vous ratissez quel type de r√¢teau √©tait et comment universel ou non ce r√©gime est.  Si vous utilisez un flux de travail tr√®s diff√©rent de celui-ci, ajoutez quelques mots, pourquoi donc, s'il vous pla√Æt. <br><br><h3>  Quel type de produit pr√©voyons-nous? </h3><br>  Nous avons d√©cid√© de ne pas copier Amazon √† cet √©gard, mais de mener notre d√©veloppement en tenant compte des sp√©cificit√©s du march√©.  Faites imm√©diatement une r√©serve que tous les calculs sont notre opinion subjective bas√©e sur notre analyse.  Nous sommes ouverts √† un dialogue constructif et sommes pr√™ts √† changer la feuille de route du produit. <br><br>  Lors de l'analyse du pipeline existant d'Amazon, nous sommes arriv√©s √† la conclusion qu'il poss√©dait d'√©normes capacit√©s, mais l'accent √©tait mis sur de tr√®s grandes √©quipes d'entreprise.  Il nous a sembl√© que pour d√©ployer un microservice dans Docker, il √©tait excessivement long, plus que si, par exemple, il √©tait d√©ploy√© dans Kubernetes, car  il y a un endroit pour configurer les configurations internes, d√©finir les accords internes, etc.  et tout cela doit √™tre compris depuis longtemps. <br><br>  D'autre part, il y a, par exemple, Heroku, o√π vous pouvez d√©ployer en un clic.  Mais en raison du fait que les projets, en r√®gle g√©n√©rale, sont assez ramifi√©s, avec des microservices tiers, √† un moment donn√©, il devient n√©cessaire de d√©ployer des images de docker personnalis√©es avec des services DBaaS et tout cela ne rentre pas dans Herocku car c'est soit cher soit inconfortable. <br><br>  Nous voulons trouver une autre option.  Le juste milieu.  Selon le type de projet et les t√¢ches, vous fournir un ensemble d'outils d√©j√† pr√©configur√©s qui sont d√©j√† int√©gr√©s dans un seul pipeline, tout en laissant √† la fois la possibilit√© d'un changement profond des param√®tres et la possibilit√© de remplacer les outils eux-m√™mes. <br><br><h3>  Alors qu'est-ce que ce sera? </h3><br>  √âcosyst√®me, qui comprend un portail et un ensemble d'outils et de services pour minimiser l'interaction des d√©veloppeurs avec le niveau de l'infrastructure.  Vous d√©finissez des param√®tres environnementaux qui ne sont pas li√©s √† l'environnement physique: <br><br><ul><li>  Environnement de d√©veloppement (syst√®me de gestion de la configuration, syst√®me de d√©finition des t√¢ches, r√©f√©rentiel de stockage du code et des artefacts, traqueur de t√¢ches) </li><li>  CI - Int√©gration continue (assemblage, infrastructure et orchestration) </li><li>  QA - Assurance qualit√© (tests, surveillance et journalisation) </li><li>  Staging - Environnement d'int√©gration / Boucle de pr√©-publication </li><li>  Production - Circuit productif </li></ul><br>  En choisissant des outils, nous nous sommes concentr√©s sur les meilleures pratiques du march√©. <br><br><img src="https://habrastorage.org/webt/5z/dv/rb/5zdvrb-feq3s-uhkg177nr5vu_4.png"><br><br>  Nous allons construire l'infrastructure avec Stage et Prod √† l'aide de Docker et Kubernetes avec √©poussetage des fonctionnalit√©s parall√®les. <br><br>  Cela se fera de mani√®re it√©rative - √† la premi√®re √©tape, un service est pr√©vu qui vous permettra de prendre le fichier Docker du projet, puis de collecter le conteneur requis et de le disposer dans Kubernetes. <br><br>  Nous pr√©voyons √©galement d'accorder une attention particuli√®re au service de suivi du processus de d√©veloppement et de livraison continue.  Qu'entendons-nous par ce service?  C'est l'occasion de cr√©er un mod√®le de KPI hi√©rarchique avec des indicateurs tels que le% de couverture par les tests unitaires, le temps moyen pour √©liminer un incident ou un d√©faut, le temps moyen entre la validation et la livraison, etc. <br><br>  La collecte des donn√©es sources de diff√©rents syst√®mes - tests des syst√®mes de gestion, gestion des t√¢ches, composants CI / CD, outils de surveillance infra, etc. <br><br>  Et le plus important est de montrer sous une forme ad√©quate disponible pour une analyse rapide - des tableaux de bord avec possibilit√© de drilldown, une analyse comparative des indicateurs. <br><br><h3>  Que voulons-nous faire </h3><br>  En fait, j'aimerais vraiment avoir de vos nouvelles √† propos de tout cela et de nos plans pour les √©tapes.  Maintenant, ils sont: <br><br><ul><li>  Infrastructure et orchestration - Docker et Kubernetes </li><li>  D√©finition des t√¢ches, stockage du code et des artefacts, traqueur de t√¢ches - Gitlab, Redmine, S3 </li><li>  Production et d√©veloppement - Chef / Ansible </li><li>  Assemblage - Jenkins </li><li>  Test - S√©l√©nium, LoadRunner </li><li>  Surveillance et journalisation - Prometheus &amp; ELK </li><li>  Soit dit en passant, comment voyez-vous si au sein de la plate-forme il y aura un choix - si vous vouliez, choisissez Jenkins, ne vouliez pas - GitLab Runner? </li><li>  Ou peu importe ce qu'il y a √† l'int√©rieur, l'essentiel est que tout soit correctement construit, test√© et d√©ploy√©? </li></ul><br><h3>  Comment peut-on aider? </h3><br>  Le produit sera d√©velopp√© pour les d√©veloppeurs nationaux.  Si vous nous dites maintenant comment proc√©der, il est probable qu'il sera inclus dans la version. <br><br>  <b>Veuillez me dire quelles piles vous utilisez actuellement.</b>  Vous pouvez - dans les commentaires ou par email √† team@ts-cloud.ru. <br>  UPD: pour plus de commodit√©, nous avons fait un court questionnaire sous forme Google - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  De plus, nous vous tiendrons au courant du d√©veloppement - et √† un moment donn√©, nous donnerons aux participants assistants un acc√®s √† la version b√™ta (en fait, un acc√®s gratuit √† de bonnes ressources informatiques du cloud en √©change de commentaires). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419705/">https://habr.com/ru/post/fr419705/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419695/index.html">Que faire juste apr√®s un voyage √† une conf√©rence d'affaires? Conseils de ISPsystem bizdedev</a></li>
<li><a href="../fr419697/index.html">Stade de t√©l√©communications "Yekaterinburg Arena": 20 kilom√®tres de c√¢ble √©pais</a></li>
<li><a href="../fr419699/index.html">Historique des tests du projet K: Kotlin & Spek</a></li>
<li><a href="../fr419701/index.html">Pourquoi, en pr√©sence d'alimentation √©lectrique, ai-je besoin d'une bonne vieille chaudi√®re √† charbon dans la voiture</a></li>
<li><a href="../fr419703/index.html">Enregistrement des dispositifs m√©dicaux: combien de souris souffriront dans le processus</a></li>
<li><a href="../fr419707/index.html">Gamification des applications - 5 choses √† retenir</a></li>
<li><a href="../fr419711/index.html">La premi√®re IT Bike Quest √† Saint-P√©tersbourg. Comment c'√©tait</a></li>
<li><a href="../fr419713/index.html">Conf√©rence de conception Mail.Ru + Meetup Dribbble 2018</a></li>
<li><a href="../fr419715/index.html">Vous ne savez pas comment travailler avec les transactions</a></li>
<li><a href="../fr419717/index.html">Conception d'une architecture d'application embarqu√©e</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>