<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí™üèæ ‚ùî üôÉ Bekerja dengan format konfigurasi 1C: Enterprise üë©üèº‚Äçüåæ üëèüèæ ü§¶üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya memutuskan untuk menerbitkan kode sumber C # untuk bekerja dengan 1C: format konfigurasi Enterprise. 


 https://github.com/elisy/MdInternals 


...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bekerja dengan format konfigurasi 1C: Enterprise</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434974/"><p>  Saya memutuskan untuk menerbitkan kode sumber C # untuk bekerja dengan 1C: format konfigurasi Enterprise. </p><br><p>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/elisy/MdInternals</a></b> </p><br><p>  MdInternals memahami format cf, cfu, epf, erf, membongkar isinya ke dalam file teks dan Xml yang dapat dibaca manusia, dan mengunduhnya kembali.  Memungkinkan Anda mengakses file internal dan properti objek secara terprogram. </p><br><p>  Proyek ini terdiri dari bagian-bagian: <br><br></p><ul><li>  MdInternals secara terprogram mengakses objek dan properti konfigurasi </li><li>  CfProject bertanggung jawab atas serialisasi dan deserialisasi objek MdInternals </li><li>  MdInternals.Cil mendekompilasi bytecode (OpCode) 1C </li><li>  MdInternals.Serialisasi bekerja dengan format semi-JSON internal 1C dari bentuk "{19 {" ", 2}}" </li></ul><br><br><a name="habracut"></a><br><h2>  Bongkar cf, cfu, epf, erf file ke disk </h2><br><pre><code class="plaintext hljs">var cf = new CfPackage(); // var cf = new EpfPackage(); // var cf = new ErfPackage(); // var cf = new CfuPackage(); cf.Open(@"D:\config.cf"); var project = new CfProject(); project.Save(epf, @"D:\Config\Xml\Config.cfproj", ProjectType.Xml);</code> </pre> <br><p>  File yang dikenali ditulis ke pohon direktori berdasarkan jenis objek.  Tidak dikenal ditempatkan di direktori yang belum terselesaikan: </p><br><img src="http://www.richmedia.us/image.axd?picture=2019%2f1%2fimage2.png"><br><br><p>  File yang dikenal diunggah dalam format XML.  Format XML memungkinkan Anda untuk mengontrol integritas logis file dan memproses file dengan program pihak ketiga.  Properti yang dikenal dipindahkan ke bagian yang sesuai (atribut atau tag) dari struktur XML: </p><br><br><img src="http://www.richmedia.us/image.axd?picture=2019%2f1%2fimage3.png"><br><br><h2>  Membaca dari tabel MSSQL </h2><br><pre> <code class="plaintext hljs">var image = ImageReader.ReadImageFromConfig(@"data source=192.168.1.2\SQL2005;user=login;pwd=password;database=Database1C");</code> </pre> <br><br><h2>  Mengakses File Internal </h2><br><pre> <code class="plaintext hljs">var mp = new EpfPackage(); mp.Open(file); var root = mp.MetadataObjects.Where(m =&gt; m.ImageRow.FileName == "root").FirstOrDefault(); var rp = new RootPointer(root.ImageRow); var part = mp.MetadataObjects.Where(m =&gt; m.ImageRow.FileName == rp.MetadataPackageFileName.ToString()).FirstOrDefault();</code> </pre><br><h2>  Membuat file dari format xml yang diunduh </h2><br><pre> <code class="plaintext hljs">var project = new CfProject(); var mp = project.Load(@"D:\Config\Xml\Config.cfproj"); mp.Save(@"D:\config.cf");</code> </pre><br><h2>  Deskripsi Format CF </h2><br><p>  File cf terdiri dari header gambar (ImageHeader) dan halaman yang mengikutinya (ImagePage1-ImagePageN).  Header gambar terdiri dari 4 byte tanda tangan, yang sama dengan 0xFF 0xFF 0xFF 0x7F, 4 byte ukuran halaman dan 8 byte dicadangkan.  Setelah header file adalah halaman data dalam urutan.  Setiap halaman sebelumnya terhubung ke halaman berikutnya. </p><br><br><img src="http://www.richmedia.us/image.axd?picture=2019%2f1%2fimage4.png"><br><br><p>  Setiap halaman (ImagePage) terdiri dari judul halaman (ImagePageHeader), sekelompok pointer ke ImageRowPointers, dan area ImageRows. </p><br><br><img src="http://www.richmedia.us/image.axd?picture=2019%2f1%2fimage1.png"><br><br><p>  Header halaman ImagePageHeader berisi: dicadangkan 2 byte 0x0D 0x0A, 27 byte informasi tekstual dan 2 byte dicadangkan 0x0D 0x0A.  Informasi teks berisi 3 angka heksadesimal: ukuran data total semua halaman (Ukuran Penuh), ukuran halaman saat ini (Ukuran Halaman) dan alamat halaman berikutnya dalam file (NextPageAddress).  FullSize diatur hanya untuk halaman pertama dari rantai halaman.  Untuk halaman rantai yang tersisa, nilai ini adalah 0. Untuk halaman terakhir rantai, NextPageAddress diatur ke 0xFF 0xFF 0xFF 0xFF 0x7F. </p><br><p>  Blok penunjuk ImageRowPointers adalah ukuran yang ditentukan dalam nilai PageSize dari halaman.  Setiap pointer terdiri dari 4 byte alamat header HeaderAddress dan 4 byte alamat tubuh BodyAddress.  Di akhir setiap pointer adalah tanda tangan 0xFF 0xFF 0xFF 0x7F.  Alamat menunjukkan lokasi dalam halaman saat ini di area ImageRows. </p><br><p>  Header ImageRowHeader dimulai dengan blok header halaman ImagePageHeader, yang melaporkan berapa banyak byte yang dialokasikan untuk header.  Berikutnya adalah 20 byte yang dipesan, string UTF-16 data identifier (Id) dan 4 byte yang dipesan. </p><br><p>  Tubuh ImageRowBody dimulai dengan blok header halaman ImagePageHeader, yang melaporkan berapa byte yang dialokasikan untuk badan data.  Jika badan data dimulai pada 0xEF 0xBB 0xBF (tanda tangan UTF8), maka tubuh berisi string UTF-8.  Jika tidak, badan data berisi data yang dikemas.  Jika data yang dibuka paket dimulai pada 0xFF 0xFF 0xFF 0x7F, maka isinya adalah urutan objek, dan mereka ditulis dalam format CF.  Kalau tidak, konten adalah string serialisasi. </p><br><br><h2>  Apa yang tidak diimplementasikan </h2><br><ul><li>  Utilitas hanya mengenali objek konfigurasi tingkat 1, menempatkannya di subdirektori.  Tidak mengenali sisanya: formulir, tata letak, menempatkan di direktori yang belum terselesaikan </li><li>  Objek komposit dengan img ekstensi tidak dibongkar di direktori Unresolved </li><li>  MdInternals mengenali sejumlah properti objek yang terbatas </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id434974/">https://habr.com/ru/post/id434974/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../In144568/index.html">‡§°‡•á‡§ü‡§æ ‡§µ‡•á‡§Ø‡§∞‡§π‡§æ‡§â‡§∏ ‡§Æ‡•á‡§ü‡•ç‡§∞‡§ø‡§ï‡•ç‡§∏</a></li>
<li><a href="../In144569/index.html">‡§°‡•ç‡§∞‡•à‡§ó‡§® ‡§∏‡•ç‡§™‡•á‡§∏‡§è‡§ï‡•ç‡§∏ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§Ü‡§à‡§è‡§∏‡§è‡§∏ ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ó‡§Ø‡§æ</a></li>
<li><a href="../In144571/index.html">‡§è‡§ï ‡§â‡§§‡•ç‡§§‡§≤ ‡§¨‡§π‡•Å‡§≠‡•Å‡§ú ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§ï‡§æ ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø‡§ï‡§∞‡§£</a></li>
<li><a href="../id434964/index.html">Cukup paranoia atau mengapa Anda tidak bersinar 100 poin dalam Kecepatan Halaman</a></li>
<li><a href="../id434966/index.html">Bahasa Pemrograman Mash Baru</a></li>
<li><a href="../id434968/index.html">Sesuatu tentang namespace</a></li>
<li><a href="../id434970/index.html">Tentang bisnis TI dan banyak lagi</a></li>
<li><a href="../id434972/index.html">Cara menulis unit test jika Anda tidak menyukainya sama sekali</a></li>
<li><a href="../id434976/index.html">Fablab ITMO University: DIY-rekan kerja untuk orang-orang kreatif - tunjukkan apa yang ada di dalamnya</a></li>
<li><a href="../id434978/index.html">Memperkenalkan HealthKit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>