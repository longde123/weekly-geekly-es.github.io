<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚂 👇🏾 👩🏽‍🎓 Refactor parallel zur Entwicklung: unsere Erfahrung und zwei Checklisten 🥠 🚣🏽 🎎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Refactoring ist für viele Teams ein Schmerz. Denn wenn Sie Refactoring durchführen, entwickeln Sie das Hauptprodukt nicht, und wenn Sie es nicht tun, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Refactor parallel zur Entwicklung: unsere Erfahrung und zwei Checklisten</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/468579/"><img src="https://habrastorage.org/webt/3n/8w/10/3n8w10cwh92hq1p82rishnhmqbm.jpeg"><br><br>  Refactoring ist für viele Teams ein Schmerz.  Denn wenn Sie Refactoring durchführen, entwickeln Sie das Hauptprodukt nicht, und wenn Sie es nicht tun, wächst die technische Verschuldung des Projekts.  Irgendwann kommen die Teams zu dem Gedanken: „Lassen Sie uns zwischen Refactoring und Entwicklung unterscheiden und beispielsweise 20% unserer Arbeitsstunden zuweisen, und den Rest der Zeit werden wir uns weiter mit der Entwicklung befassen!“  Diese Idee ist nicht schlecht, das einzige ist, dass Sie pro 100 Entwicklungsstunden niemals 20 reine Stunden Refactoring erhalten.  Denn „Entwicklung“ funktioniert nicht nur mit Code. <br><br>  Wenn es sich um reife Teams handelt und nicht um Miniteams, die für 3-5 Personen zu einem wesentlichen Punkt komprimiert wurden, umfasst „Entwicklung“ neben dem Schreiben von Code eine ganze Reihe verschiedener Teamaktivitäten.  In der „Entwicklung“ können Sie Besprechungen aufschreiben, die von vielen so ungeliebt sind, mit Dokumentation arbeiten, Berichte in Task-Managern verwalten usw.  All dies verschlingt etwa 30% unserer für die Entwicklung bereitgestellten Uhren.  Und irgendwie stellt sich unbemerkt heraus, dass anstelle des Bildes „80 Stunden Code, 20 Stunden Refactoring“ direkt für das Refactoring selbst eine unansehnliche Zahl von ~ 13 Stunden angezeigt wird, da alles andere von anderen Aktivitäten absorbiert wurde. <br><br>  Im Folgenden erfahren Sie, wie Sie Entwicklung mit Refactoring kombinieren, damit die technische Verschuldung des Projekts nicht wie ein Schneeball wächst, sondern auch über die korrekte Verteilung von Zeit und Priorisierung sprechen. <br><a name="habracut"></a><br>  Warum verursacht Refactoring so viele Probleme?  Erstens aufgrund der Tatsache, dass Teams ihre eigenen Ressourcen nicht angemessen bewerten und diesen Prozess mit der Entwicklung kombinieren können.  Es scheint den Menschen, dass wenn ihr Arbeitstag 8 Stunden pro Tag beträgt (40 pro Woche), alle 40 Stunden angeblich mit der Entwicklung beschäftigt sind.  Es ist nicht so. <br>  Der gesamte Entwicklungsprozess kann in zwei Teile unterteilt werden: Dies sind Nebenaktivitäten und alles, was in direktem Zusammenhang mit dem Code steht. <br><br><img src="https://habrastorage.org/webt/ld/gs/xg/ldgsxgaz7voxqu4db83ernju2ba.png"><br>  <i>So sieht die Zeitverteilung eines unserer Entwicklungsteams aus.</i> <br><br>  Der Leser hat möglicherweise eine vernünftige Frage: "Wie haben Sie dieses Diagramm erstellt?"  und jetzt werden wir versuchen, eine Antwort zu geben.  Die Daten wurden nicht von der Obergrenze übernommen, sondern basieren auf unseren internen Statistiken.  Unsere Entwickler verfolgen ihre Aktivitäten in Jira.  Jedes dieser persönlichen Arbeitsprotokolle besteht aus vier Abschnitten: Codeüberprüfung, technische Diskussionen, spezifische Tickets und „alles andere“.  Dank dieser relativ einfachen und transparenten Klassifizierung haben wir eine Analyse erstellt, wie viel Zeit wir in den einzelnen Teams für die einzelnen Aspekte der Entwicklung aufwenden.  Wenn ein Drittel der gesamten Arbeitszeit auf Besprechungen, Stand-Ups und Überprüfungen entfällt, liegt alles im normalen Bereich.  Wenn mehr als 33% für diese Aktivitäten ausgegeben werden, hat das Team Probleme und muss angegangen werden. <br><br>  Es scheint, dass es keinen Haken gibt und alles logisch ist, aber wie passen wir Refactoring in diese Geschichte?  Einen "Monat des Refactorings" deklarieren und bei der Entwicklung punkten?  Jedes kommerzielle Produkt hat jedoch einen eigenen Zeitplan, aus dem es äußerst unerwünscht ist, herauszukommen.  Refactoring ist immer noch wie ein Sumpf: Wenn Sie damit angefangen haben, dann ist es schwer aufzuhören, Sie sind von diesem Grund angezogen.  Refactoring verlagert den Fokus der Aufmerksamkeit des Teams auf sich selbst und wir bekommen eine ungeheure Tendenz, die Ordnung im bereits geschriebenen Code wiederherzustellen, anstatt das Projekt in eine bessere Zukunft zu verschieben.  Wie verteilt man die Zeit? <br><br>  Die folgende Folie gibt einige Antworten: <br><br><img src="https://habrastorage.org/webt/bj/uu/q3/bjuuq39xcz86gro9tuqeii7uonu.png"><br>  <i>Führen Sie Zeitprotokolle, es ist äußerst nützlich</i> <br><br>  Besprechungen und Überprüfungen bleiben unberührt, da wir der Ansicht sind, dass diese Aktivitäten so weit wie möglich optimiert und auf ein angemessenes Minimum beschränkt werden (diejenigen, die in Teams gearbeitet haben, in denen Besprechungen und Codeüberprüfungen 70% der Zeit in Anspruch nahmen, werden unsere Worte bestätigen).  Wir nehmen uns also die Zeit, um den Code und die Fehlerbehebungen aus der Entwicklung zu überarbeiten.  Und hier wenden wir wieder den Ansatz „ein und zwei Drittel“ an und teilen die von uns erhaltenen Arbeitsstunden in „Refactoring“ und „Bugs“ auf, wobei diese Konzepte klar voneinander getrennt werden.  Ein solches Modell ist realisierbar und ermöglicht es Ihnen, die Zeit zu finden, um die Ordnung im Projekt wiederherzustellen, zumindest ohne die technische Verschuldung zu erhöhen.  Wenn wir zu viele Entwicklungsstunden abbeißen, wird das Projekt zum Stillstand kommen. <br><br><h2>  Wir gehen den Refactoring-Prozess korrekt an </h2><br>  Angenommen, Sie entscheiden sich für eine Umgestaltung, anstatt ein Projekt von Grund auf neu zu schreiben.  Aber hier kann man sich nicht den ersten schnappen und wie in der Armee umgestalten, "von hier bis zum Mittagessen".  Da unsere Ressourcen begrenzt sind und unser Ziel darin besteht, das Wachstum der technischen Verschuldung zu stoppen (und im Idealfall eine Verringerung ihrer Größe zu erreichen), müssen wir diese Aufgabe vernünftig angehen. <br><br>  Die beste Lösung scheint es dem Teamleiter oder einem anderen Entwicklungsmanager zu ermöglichen, den Arbeitsumfang zu bestimmen, Aufgaben zuzuweisen und mit dem Refactoring fortzufahren.  Diese Option weist jedoch einen schwerwiegenden Fehler auf.  Timlid ist der Dirigent unseres Teams, aber die Probleme lokaler Musiker sind für den Dirigenten nicht immer offensichtlich.  Wenn Sie ein Anhänger einer starren Vertikalen und ein Modell sind, in dem eine Person entscheidet, wie das Refactoring stattfinden soll, dann sitzen Sie freiwillig im brennenden KAMAZ, das mit gebrochenen Bremsen vom Berg in den Abgrund stürzt. <br><br>  Unsere Erfahrung zeigt, dass eine robuste Version der Entwicklung von Ereignissen eine kollektive Definition verschiedener Refactoring-Richtungen ist, dh Entwickler sollten an der Erstellung einer Liste zukünftiger Arbeiten teilnehmen.  Nur der unmittelbare Verfasser des Codes kann ehrlich zugeben, ob dieser Abschnitt angemessen geschlossen wurde oder aus Zeitgründen verschiedene Krücken aufgeschichtet wurden.  Darüber hinaus sind es die Entwickler, die auf dem neuesten Stand der Technik sind und vernünftig beurteilen können, welche Elemente eines Projekts überarbeitet werden müssen und welche nicht berührt werden sollten. <br><br>  Wir haben uns diesen Ansatz ausgedacht: Jeder Entwickler erinnert sich an die dünnen Stellen im Projekt und schreibt eine Karte darüber, was getan werden muss, um es besser zu machen.  Auf diesen Karten werden dann Aufgaben festgelegt.  Es stimmt, es gibt eine Nuance: Nachdem die allererste Karte im „Do Well“ -Stil ohne Kontext empfangen wurde, haben wir begonnen, diesen Kontext in komprimierter Form zu fordern. <br><br><img src="https://habrastorage.org/webt/my/ji/-m/myji-mbkgzjvru6r4styhn5zxsy.jpeg"><br>  <i>Die gleichen Karten</i> <br><br>  Das Definieren einer Aufgabe reicht jedoch nicht aus, um mit der Implementierung zu beginnen.  Daher sollte für jede dieser Karten eine Checkliste erstellt werden, die eine Reihe einfacher Fragen wie „Müssen wir etwas parallel tun?“ Beantwortet.  oder "Gibt es Faktoren, die uns daran hindern, diese Aufgabe zu erfüllen?"  Nach dem Ausfüllen einer solchen Checkliste erhält der Entwickler eine spezifische Liste aller möglichen Probleme und Blocker, die in der Vorbereitungsphase gelöst werden müssen. <br><br>  Ein weiterer obligatorischer Schritt besteht darin, festzustellen, wer sich in welchen Bereichen des Projekts befindet und wer es am besten weiß.  Dies optimiert den Refactoring-Prozess und bietet Teammitgliedern Aufgaben in den Bereichen, in denen sie sich am besten beweisen können.  Zwar waren wir eines Tages mit einer Situation konfrontiert, in der anderthalb Menschen normalerweise einen Aspekt des Projekts verstanden, aber selbst dieses Problem kann gelöst werden.  Um das Informationsvakuum zu beseitigen, sollten Entwickler, die immer noch in dem Bereich „stöbern“, in dem der Rest des Teams vorbeikommt, ihr Wissen teilen.  Dies kann eine Dokumentation sein, eine Art Mini-Präsentation, sogar ein Video mit Erläuterungen zum Code.  Es ist wichtig, Informationen an Kollegen weiterzugeben und sicherzustellen, dass möglichst wenige dunkle Flecken vorhanden sind. <br><br>  Und schließlich muss das Team die Frage "Wie hoch ist unsere technische Verschuldung?" Klar beantworten.  Noten wie „C-Note“, „akzeptabel“, „fünf von zehn“, „du kannst leben“ funktionieren nicht mehr.  Zuvor beantworteten wir eine ähnliche Frage von der Tankstelle für eines der Projekte mit „fünf von zehn“, und als wir die Größe der technischen Schulden in Zahlen umwandelten, erhielten wir 650 Stunden.  Es war unangenehm.  Nur eine klare Antwort auf diese Frage hilft, den Umfang der anstehenden Arbeiten sinnvoll einzuschätzen.  Dies ist auch deshalb wichtig, weil die „endlosen“ Aufgaben die Motivation der Teammitglieder zerstören und das Geschäft verärgern: Sowohl Entwickler als auch Management sollten einen konkreten Endpunkt sehen, den das Team anstreben wird. <br><br><h2>  Priorisierung </h2><br>  Nachdem wir die Front der Arbeit definiert haben, müssen wir Refactoring mit Entwicklung kombinieren.  Natürlich können wir das Feature-Sägen in verschiedenen Teilen des Projekts nicht beenden oder diesem Ereignis eine besondere Zeit zuweisen. <br><br>  Hier beginnt der schwierigste Teil.  Das Entwicklungsteam sollte vernünftigerweise bestimmen, in welchen Momenten die Entwicklung wichtiger ist und in welchen Umgestaltungen wichtig ist, insbesondere wenn an dieser Stelle im Code eine Funktion gesägt wird.  Vielleicht wird die Weiterentwicklung nach dem Refactoring einfacher, und in einigen Fällen können wir unser Feature beenden und erst dann den Refactor durchführen.  Wir kommunizieren mit dem Produkt, diskutieren die Entscheidung und vereinbaren die Bestellung.  Zum Beispiel: „Lassen Sie uns zuerst umgestalten - nicht nur, weil wir Lust dazu haben, sondern weil die Gesamtlaufzeit am Ende kürzer sein wird.“ <br><br>  Das Wichtigste ist, nicht zu vergessen, dass unser Ziel darin besteht, ein Produkt zu entwickeln und nicht den perfekten Code zu schreiben, um den perfekten Code oder die vollständige Beseitigung technischer Schulden zu erreichen.  Die Entwicklung sollte in dieser Hinsicht völlig angemessen sein: Wenn das Refactoring gerade unsere Geschäftsentwicklungsaufgabe beeinträchtigt, schreiben wir einen neuen Code fertig und korrigieren erst dann den alten.  Wenn die Umstände besagen, dass es für das Projekt rentabler ist, diesen Abschnitt umzugestalten (egal wie ungeheuerlich die Vorderseite der Arbeit aussieht), da weitere Arbeiten einfacher und unterhaltsamer sein werden, müssen wir umgestalten. <br><br>  Dieser Ansatz passt äußerst schlecht in das vertikale Managementmodell, und manchmal treten Situationen auf, in denen Sie Ihre Entscheidungen vor dem Kunden verteidigen müssen.  Sonst aber nichts. <br><br><h2>  Was bekommen wir als Ergebnis </h2><br>  Mit dem beschriebenen Ansatz integrieren wir Refactoring-Prozesse organisch in die aktuelle Entwicklung, reduzieren die Größe (oder stoppen das Wachstum) der technischen Schulden und dies alles ohne größere Verluste. <br><br>  Ja, um das Refactoring zu vereinfachen, müssen Sie die Zeit für die Entwicklung neuer Funktionen verkürzen, was die Zeit verlängert. Die Auswahl ist jedoch gering: Sie können entweder parallel zur Entwicklung refactorisieren oder früher oder später auf einen solchen Haufen von Krücken, Problemen und Fehlern stoßen, dass es einfacher ist, das Projekt von Grund auf neu zu schreiben.  Wenn Sie also die Arbeit Ihres Teams schätzen, sollten Sie immer noch über Refactoring nachdenken, anstatt es in Zukunft neu zu schreiben. <br><br>  <b>Nützliche Materialien:</b> <br><br>  1. Alexey Kataevs Bericht über das Refactoring: weitere praktische Beispiele sowie eine erstaunliche Geschichte von Manager Gleb, der noch kein Refactoring durchführen wollte ... <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-yRyaN3XhMA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unsere Vorschriften zur Erörterung von Aufgaben</a> <br><br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unsere Überprüfung des Checklistencodes</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468579/">https://habr.com/ru/post/de468579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468561/index.html">Sicherheitswoche 39: Sicherheit und alltägliche Fehler</a></li>
<li><a href="../de468563/index.html">Watchmen Watch: Der aktuelle Stand der Weltraum-Tracking-Einrichtungen</a></li>
<li><a href="../de468565/index.html">Selbstgemachter Geigerzähler auf ESP8266 mit Touchscreen</a></li>
<li><a href="../de468573/index.html">postgres_exporter und Überwachung von PostgreSQL-Instanzen mit mehreren Datenbanken</a></li>
<li><a href="../de468577/index.html">Patch'ti - zählt nicht: die Geschichte des Patch-Managements in Gesichtern und Farben</a></li>
<li><a href="../de468581/index.html">Teilen, fischen, schnell und vollständig</a></li>
<li><a href="../de468583/index.html">Beispiele für Spiele aus den Befehlen „Come to Rescue“ (Analyse eines Dutzend Vorfälle mit Beispielen)</a></li>
<li><a href="../de468589/index.html">So organisieren Sie die Arbeit an einer Bibliothek allgemeiner Komponenten</a></li>
<li><a href="../de468595/index.html">Wie wir Wi-Fi auf Huawei aufgebaut haben</a></li>
<li><a href="../de468597/index.html">Saturns Sechseck oder wie man zu Hause das Experiment von Wissenschaftlern der Universität Oxford reproduziert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>