<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👩🏽 👩🏽‍🤝‍👨🏿 👨‍👦‍👦 ¿Hay números aleatorios en CSS? 🌖 😴 👒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CSS le permite crear diseños de página dinámicos e interfaces de proyectos web. Pero CSS es un lenguaje estático. Después de establecer un cierto valo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¿Hay números aleatorios en CSS?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/474310/">  CSS le permite crear diseños de página dinámicos e interfaces de proyectos web.  Pero CSS es un lenguaje estático.  Después de establecer un cierto valor, no se puede cambiar.  La idea de cambiar aleatoriamente ciertos valores no se considera aquí. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/bx/8h/6w/bx8h6wkkobmx4xvldcp_o8oxivw.png"></a> <br><br>  La generación de números aleatorios es un territorio de JavaScript en el que CSS no ingresa.  Pero, ¿y si esto no es del todo cierto?  De hecho, si tiene en cuenta las acciones realizadas por el usuario, esto agregará un poco de aleatoriedad al CSS.  El autor del material, cuya traducción publicamos hoy, ofrece discutir esto. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Aleatorización externa de CSS</font> </h2><br>  Puede usar variables CSS para implementar algo como "aleatorización dinámica" en CSS.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aquí hay</a> algunas cosas buenas al respecto.  Sin embargo, tales soluciones al problema no son CSS puro.  Aquí debe recurrir a las funciones de JavaScript para escribir nuevos valores aleatorios en las variables CSS. <br><br>  Puede usar preprocesadores como Sass o Less para generar valores aleatorios.  Pero después de compilar y exportar el código CSS, estos valores son fijos y se pierde el elemento aleatorio.  En un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tuit</a> sobre este tema, este enfoque para establecer valores CSS se compara con una elección aleatoria del nombre del héroe de la novela, que, una vez escrito en papel, no cambia. <br><br><h2>  <font color="#3AC1EF">¿Por qué estoy interesado en usar valores aleatorios en CSS?</font> </h2><br>  Una vez desarrollé aplicaciones simples basadas únicamente en CSS.  Este es un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cuestionario</a> , un juego de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Simon</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">trucos de cartas</a> .  Pero quería hacer algo más complicado.  No abordo aquí las preguntas sobre la corrección de este enfoque, las preguntas sobre la utilidad o la aplicabilidad práctica de proyectos basados ​​únicamente en CSS. <br><br>  Basado en la premisa de que algunos juegos de mesa pueden representarse como Máquinas de Estado Finito (FSM), podemos concluir que dichos juegos pueden implementarse usando solo HTML y CSS.  Armado con esta idea, comencé a desarrollar el juego " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Serpientes y escaleras</a> ".  Este es un juego simple.  Su objetivo es lanzar un dado y llegar desde el punto de partida del campo de juego hasta el final, evitando serpientes e intentando usar las escaleras. <br><br>  Me pareció que este proyecto podría hacerse en HTML y CSS.  Sin embargo, no tomé en cuenta algo.  Se trata de dados. <br><br>  El lanzamiento de los dados (así como el lanzamiento de la moneda) son universalmente reconocidos como "generadores" de valores aleatorios.  Cada vez, arrojando un hueso o una moneda, obtenemos algo que antes desconocíamos. <br><br>
<h2>  <font color="#3AC1EF">Dados tirar imitación</font> </h2><br>  Iba a superponer capas con etiquetas y usar animación CSS para "desplazarlas", cambiando la capa superior.  Se parecía a la que se muestra a continuación. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/50d/3ab/41c/50d3ab41c7b4e106d9c76c774a2943f7.gif"></div><br>  <i><font color="#999999">Simule animaciones de capa en un navegador</font></i> <br><br>  El código que implementa dicho sistema para obtener valores aleatorios no es particularmente complicado.  Incluye una descripción de la animación usando varios retrasos.  Aquí está el código: <br><br><pre><code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/*    z-index —     . */</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">keyframes</span></span> changeOrder {   <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>; }   <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; } } <span class="hljs-comment"><span class="hljs-comment">/*         . */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span> {   <span class="hljs-attribute"><span class="hljs-attribute">animation</span></span>: changeOrder <span class="hljs-number"><span class="hljs-number">3s</span></span> infinite linear;   <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#ddd</span></span>;   <span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>: pointer;   <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: block;   <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">1rem</span></span>;   <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">1rem</span></span>;   <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute;   <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">1rem</span></span>;   <span class="hljs-attribute"><span class="hljs-attribute">user-select</span></span>: none; }     <span class="hljs-comment"><span class="hljs-comment">/*      ,        */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-of-type(1)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation-delay</span></span>: -<span class="hljs-number"><span class="hljs-number">0.0s</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-of-type(2)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation-delay</span></span>: -<span class="hljs-number"><span class="hljs-number">0.5s</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-of-type(3)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation-delay</span></span>: -<span class="hljs-number"><span class="hljs-number">1.0s</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-of-type(4)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation-delay</span></span>: -<span class="hljs-number"><span class="hljs-number">1.5s</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-of-type(5)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation-delay</span></span>: -<span class="hljs-number"><span class="hljs-number">2.0s</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-of-type(6)</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">animation-delay</span></span>: -<span class="hljs-number"><span class="hljs-number">2.5s</span></span>; }</code> </pre> <br>  Tenga en cuenta que la animación se ralentizó para que sea más fácil interactuar con los elementos correspondientes (pero resultó ser lo suficientemente rápido como para causar un problema, que se discutirá a continuación).  Aquí la naturaleza pseudoaleatoria del mecanismo presentado es claramente visible. <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aquí hay un</a> proyecto en CodePen que le permite explorar este enfoque <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a8c/7f3/a10/a8c7f3a10f3354ab7c1d0013793ee52a.png"><br>  <i><font color="#999999">Dados tirar imitación</font></i> <br><br>  En realidad, aquí me encontré con un problema.  Mi programa arrojó valores aleatorios, pero a veces, incluso cuando hice clic en un botón que simulaba un lanzamiento de hueso, el sistema no devolvió nada. <br><br>  Traté de aumentar el tiempo de animación, lo cual, me pareció, mejoró ligeramente la situación, pero el sistema aún se comportó incorrectamente. <br><br>  Fue entonces cuando hice lo que hacen todos los programadores, ante un problema que no pueden resolver con un motor de búsqueda.  Hice una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pregunta</a> sobre StackOverflow. <br><br>  Para mi felicidad, me explicaron todo y me sugirieron una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">solución al</a> problema. <br><br>  Una descripción simplificada de mi problema se puede representar de la siguiente manera: "El navegador activa el evento de <code>click</code> de un elemento solo cuando el elemento que está activo en el momento en que ocurre el evento de <code>mousedown</code> permanece activo cuando ocurre el evento de <code>mouseup</code> ". <br><br>  Dado que los elementos se reemplazan constantemente entre sí, el elemento superior en el que se produce el evento de <code>mousedown</code> cuando se presiona el botón del mouse no siempre es el mismo elemento en el que, cuando se <code>mouseup</code> el botón <code>mouseup</code> se produce el evento de <code>mouseup</code> .  Para que el botón sea presionado y liberado en el momento en que el mismo elemento está en la parte superior de la pila, el clic debe realizarse lo suficientemente rápido (para que el elemento no tenga tiempo de abandonar la parte superior de la pila), o más bien lentamente (para que el elemento existe la posibilidad de volver a la cima, haciendo un círculo completo).  Es por eso que un aumento en el tiempo de animaciones permitió enmascarar el problema. <br><br>  La solución fue utilizar el valor <code>static</code> para la propiedad de <code>position</code> del elemento activo, que lo eliminó de la pila de elementos.  Además, un pseudo-elemento, como <code>::before</code> o <code>::after</code> , al que se le asignó un valor de <code>z-index</code> muy grande, tomó su lugar.  Con este enfoque, el elemento activo siempre estaría en la parte superior de la pila al soltar el botón del mouse. <br><br><pre> <code class="css hljs"><span class="hljs-comment"><span class="hljs-comment">/*           */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:active</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">margin-left</span></span>: <span class="hljs-number"><span class="hljs-number">200%</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: static; } <span class="hljs-comment"><span class="hljs-comment">/* -         z-index */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">label</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:active</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::before</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute;  <span class="hljs-attribute"><span class="hljs-attribute">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">right</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">z-index</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>; }</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aquí hay un</a> proyecto que implementa esta solución y utiliza una animación más rápida. <br><br>  Después de hacer este cambio en el proyecto, solo tuve que agregar mis logros al juego.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Eso es</a> lo que tengo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b2a/b74/ff5/b2ab74ff563e39ec4092b41fd9d2ba70.png"></div><br>  <i><font color="#999999">Juego terminado</font></i> <br><br><h2>  <font color="#3AC1EF">Desventajas del método.</font> </h2><br>  El método aleatorio descrito aquí tiene inconvenientes obvios: <br><br><ul><li>  Para su trabajo requiere la participación del usuario.  La persona debe hacer clic en la etiqueta para iniciar el proceso de "generar un valor aleatorio". </li><li>  No escala bien.  Este método es muy adecuado para trabajar con pequeños conjuntos de valores, pero si necesita obtener un valor aleatorio de un rango amplio, es muy inconveniente usarlo. </li><li>  Su aplicación permite obtener valores no aleatorios, sino pseudoaleatorios.  El punto es que la computadora puede averiguar fácilmente qué valor "aleatorio" se emitirá en algún momento. </li></ul><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  El método presentado aquí, a pesar de las limitaciones descritas anteriormente, se basa en CSS puro.  Para usarlo, no se necesitan preprocesadores ni algunos mecanismos auxiliares externos.  Y para el usuario, su uso parece que el programa produce números completamente aleatorios. <br><br>  Y, por cierto, este método no solo es adecuado para generar números aleatorios.  Te permite aleatorizar cualquier cosa.  Por ejemplo, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> proyecto, se basa en la elección "aleatoria" que hace la computadora en el juego "Piedra, tijeras, papel". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b1/2bc/160/3b12bc160144c35253ae96bd75c704e7.png"><br>  <i><font color="#999999">El juego "Piedra, tijeras, papel" en CSS puro</font></i> <br><br>  <b>Estimados lectores!</b>  ¿Planea utilizar las ideas destacadas en este material en sus proyectos? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/-o/2e/tu/-o2etuqogwhmdnmysb9_vivc9v4.png"></a> </div><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/474310/">https://habr.com/ru/post/474310/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../474298/index.html">Implementación de una puerta de enlace P2P Operaciones de transferencia de tarjeta a tarjeta</a></li>
<li><a href="../474300/index.html">Respaldo confiable, seguro y versátil para U2F</a></li>
<li><a href="../474302/index.html">Cómo escribir un script de prueba de usabilidad de aplicación efectiva</a></li>
<li><a href="../474306/index.html">Haga que los estilos de apuntar, enfocar y estado activo sean diferentes.</a></li>
<li><a href="../474308/index.html">Tipos de API HTTP escritas en Python: experiencia de Instagram</a></li>
<li><a href="../474312/index.html">Instalación de la GUI en Windows Server Core</a></li>
<li><a href="../474316/index.html">Coche eléctrico hecho en casa, parte 1. Cómo comenzó todo y cómo obtuve 1,000,000 de visitas en youtube</a></li>
<li><a href="../474318/index.html">¿Qué es una mesa de mesa virtual?</a></li>
<li><a href="../474320/index.html">DDD Crisis comunitaria</a></li>
<li><a href="../474322/index.html">ScalaConf 2019 - John Preacher, Holy Grail y Professor Haskell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>