<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👏🏼 👨🏼 🕺🏼 Gestion des gestes: bord à bord. Partie 1 👩🏼‍🔧 💍 👋🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous. Surtout pour les étudiants d'un cours avancé de développement Android, ils ont préparé la traduction d'un article intéressant. 



 Il...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gestion des gestes: bord à bord. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/479948/">  <i>Bonjour à tous.</i>  <i>Surtout pour les étudiants d'un <a href="https://otus.pw/nFh0/">cours avancé de développement Android, ils ont</a> préparé la traduction d'un article intéressant.</i> <br><br><img src="https://habrastorage.org/webt/6u/0m/hr/6u0mhrlxtht0cmvwastqgm4uzo0.png"><br><hr><br>  Il s'agit du premier article de leur série Gesture Management.  Vous trouverez d'autres articles <a href="https://medium.com/androiddevelopers/gesture-navigation-handling-visual-overlaps-4aed565c134c">ici</a> . <br><br>  Android Q a ajouté un nouveau mode de navigation pour le système, permettant à l'utilisateur de revenir à l'écran précédent, d'accéder à l'écran principal et de lancer l'assistant à l'aide de gestes. <br><br><img src="https://habrastorage.org/webt/j_/qb/0i/j_qb0illtic47y4wir_fhns1-q0.gif"><br>  <i>Démonstration de nouveaux gestes dans Android Q</i> <br><br>  Avec la transition vers un modèle de système de contrôle gestuel, les applications ont gagné plus d'espace sur l'écran.  Cela a permis aux applications de fournir une expérience utilisateur plus immersive. <br><br>  Sur la plupart des appareils, les utilisateurs peuvent choisir le mode de navigation à leur goût.  Le mode de navigation à trois boutons existant (composé des boutons retour, accueil, recents) demeure néanmoins.  Cette mesure est nécessaire pour tous les appareils de la version Q et supérieure. <a name="habracut"></a><br><br>  Vous pouvez en savoir plus sur les recherches et les solutions incluses dans le concept de contrôle gestuel dans cet <a href="https://android-developers.googleblog.com/2019/08/gesture-navigation-backstory.html%3Fsource%3Dpost_page-----812f62e4e83e----------------------">article</a> des chefs de produit de l'interface utilisateur du système Android. <br><br>  Cet article est le premier d'une petite série qui se concentre sur la façon dont les développeurs peuvent fournir un contrôle gestuel dans leurs applications.  Dans la série, nous couvrirons les sujets suivants: <br><br><ol><li>  Bord à bord: autorisez votre application à remplir tout l'écran. </li><li>  Traitement des superpositions visuelles de l'interface utilisateur du système. </li><li>  La gestion des gestes d'application est en conflit avec les gestes du système. </li><li>  Scénarios courants et moyens de les prendre en charge. </li></ol><br>  Commençons par la façon dont les applications peuvent varier d'un bord à l'autre de l'écran. <br><br><img src="https://habrastorage.org/webt/y5/yi/1w/y5yi1wllhbfnwf_x2qj5h581geu.gif"><br><br><h3>  Bord à bord </h3><br>  J'utilise le terme bord à bord pour décrire les applications dont la fenêtre peut être étendue en plein écran pour obtenir un effet plus excitant.  Par défaut, les applications sont situées sous la barre d'état (barre d'état) et au-dessus de la barre de navigation (barre de navigation) (ensemble, elles sont appelées barres système). <br><br>  D'un bord à l'autre, les applications vont au-delà des panneaux système.  Cela gardera le contenu de votre application à l'honneur pour créer une bonne expérience utilisateur. <br><br>  En pratique, cela signifie que le créateur de l'application doit se souvenir de deux choses: <br><br><h4>  Utilisation de la zone de barre de navigation </h4><br>  La première et la plus importante considération pour prendre en charge le contrôle gestuel est la gestion de l'emplacement derrière la barre de navigation.  Comme la barre de navigation a diminué en taille et en pertinence, il est fortement recommandé de placer des applications derrière la barre de navigation lorsque vous travaillez avec Android Q + pour créer une UX plus convaincante et moderne. <br><br>  Lorsqu'il est lancé sur des appareils avec Android Pie et inférieurs, l'emplacement derrière la barre de navigation est considéré comme facultatif, et il appartient au créateur de l'application de décider si cela a du sens.  Cependant, presque toutes les API nécessaires sont rétrocompatibles jusqu'à l'API 21 (ou AndroidX gérera les différences par lui-même), de sorte que la quantité de travail supplémentaire requise pour prendre en charge les appareils avant la version Q est minime.  Les utilisateurs d'appareils jusqu'à la génération Q peuvent également profiter d'une expérience immersive.  Seule la minimisation du travail et des tests nécessaires est considérée comme facultative. <br><br><h4>  Utilisation de la zone de la barre d'état </h4><br>  Deuxièmement, vous faites attention à la partie supérieure de l'écran - la barre d'état.  Il est désormais judicieux d'utiliser des zones de la barre d'état si votre contenu ou votre mise en page en a besoin.  Qu'entendons-nous par là?  Un exemple de mise en page pouvant prendre la barre d'état est une image grand écran.  Pour les développeurs, cela signifie utiliser quelque chose comme <i>AppBarLayout</i> , qui est situé et fixé en haut de l'écran. <br><br><img src="https://habrastorage.org/webt/g3/fh/nr/g3fhnr33g0cz8zahfxyazy0irac.png"><br>  <i>Exemple d'application avec une image plein écran sur la barre d'état</i> <br><br>  D'un autre côté, si l'interface utilisateur se compose d'une liste d'éléments avec une position fixe de la barre d'outils en haut, il peut être inutile d'utiliser la zone de la barre d'état.  Les mêmes règles s'appliquent à la barre de navigation: il n'est pas nécessaire de les utiliser sur des appareils antérieurs à Android Q. <br><br><h3>  Implémentation </h3><br>  La mise en œuvre de l'utilisation de zones bord à bord comporte trois étapes clés. <br><br><ol><li>  Demande d'affichage en plein écran </li></ol><br>  La première étape consiste à indiquer au système que notre application doit être placée au-dessus des panneaux du système (le long de l'axe Y).  L'API que nous utilisons pour cela est <a href="https://developer.android.com/reference/android/view/View.html">setSystemUiVisibility ()</a> sur une vue avec plusieurs drapeaux.  Les drapeaux qui nous intéressent ressemblent à ceci: <br><br><pre><code class="kotlin hljs">view.systemUiVisibility = <span class="hljs-comment"><span class="hljs-comment">// Tells the system that the window wishes the content to // be laid out at the most extreme scenario. See the docs for // more information on the specifics View.SYSTEM_UI_FLAG_LAYOUT_STABLE or // Tells the system that the window wishes the content to // be laid out as if the navigation bar was hidden View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</span></span></code> </pre> <br>  Après cela, nos <code>view</code> seront situées en mode plein écran sur la barre de navigation. <br><br><img src="https://habrastorage.org/webt/1n/aw/pg/1nawpg_oot1660ielawyaut5tew.png"><br>  <i>Maintenant, notre application sera située en mode plein écran sur la barre de navigation</i> <br><br><ol><li>  <b>Modifier les couleurs du panneau système</b> </li></ol><br>  Puisque notre application est maintenant en mode plein écran, nous devons changer les couleurs du panneau système afin que nous puissions voir le contenu qui se trouve derrière. <br><br>  <b>Android Q</b> <br><br>  Lors du lancement sur Android Q, notre seule tâche est de rendre le panneau système transparent. <br><br><pre> <code class="kotlin hljs">&lt;!-- values-v29/themes.xml --&gt; &lt;style name=<span class="hljs-string"><span class="hljs-string">"Theme.MyApp"</span></span>&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:navigationBarColor"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">@android</span></span>:color/transparent &lt;/item&gt; &lt;!-- Optional, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> drawing behind the status bar too --&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:statusBarColor"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">@android</span></span>:color/transparent &lt;/item&gt; &lt;/style&gt;</code> </pre> <br>  Dans Android Q, le système est désormais responsable du traitement de toute la protection visuelle du contenu du panneau système (heure, icônes, traitement par glisser-déposer, etc.) dans tous les modes de navigation.  Cela signifie que nous n'avons plus besoin d'y penser.  En pratique, cela signifie que le système fera l'une des deux choses suivantes: <br><br>  <b>Adaptation dynamique des couleurs</b> <br><br>  Le contenu du panneau système change de couleur en fonction du contenu situé derrière lui.  Ainsi, si le panneau est au-dessus d'une sorte de contenu clair, sa couleur deviendra sombre.  Inversement, la couleur devient claire si le contenu est sombre.  C'est ce que nous appelons l'adaptation dynamique des couleurs. <br><br><img src="https://habrastorage.org/webt/du/im/5b/duim5bisdugdipbqh_vemeph2jc.gif"><br>  <i>Adaptation dynamique des couleurs dans Android Q</i> <br><br>  <b>Maille translucide</b> <br><br>  Alternativement, le système peut utiliser une grille translucide (canevas) derrière les panneaux du système.  Veuillez noter que cela ne fonctionne que si vous avez déclaré <code>targetSdkVersion 29</code> dans votre application.  Si votre application cible le SDK 28 ou inférieur, la grille ne s'affichera pas automatiquement et il vous restera une barre de navigation transparente. <br><br><img src="https://habrastorage.org/webt/mr/kb/gd/mrkbgdr-mbninc17xy8ou_4jx5k.png"><br>  <i>Grille fournie par le système en mode contrôle sur Android Q</i> <br><br>  Ces deux actions sont effectuées afin que l'utilisateur puisse toujours voir le contenu du panneau système.  L'option choisie par le système dépend de plusieurs facteurs.  La grille sera utilisée si: <br><br><ul><li>  Un des modes de bouton est activé (bouton 2 ou 3); </li><li>  En mode de contrôle gestuel, le fabricant lui-même a décidé de désactiver l'adaptation dynamique des couleurs.  Une raison possible peut être le manque de performances de l'appareil pour le traitement de l'adaptation des couleurs. </li></ul><br><img src="https://habrastorage.org/webt/tx/lb/ii/txlbiimkiqpmuhtnx2htaxaef1w.png"><br>  <i>Un exemple d'utilisation d'un écran avec le contrôle gestuel</i> <br><br>  Dans tous les autres cas, une adaptation dynamique des couleurs sera utilisée.  Les raisons énumérées ne sont pertinentes qu'à ce moment, à l'avenir, tout peut changer. <br><br>  <b>Désactivation de la protection du panneau système dans Q</b> <br><br>  Si vous ne souhaitez pas que le système protège automatiquement le contenu, vous pouvez désactiver cette option en définissant <code>android:enforceNavigationBarContrast</code> et / ou <code>android:enforceStatusBarContrast</code> sur <code>false</code> . <br><br>  <b>Android Pie et ci-dessous</b> <br><br>  Si vous décidez de passer au concept «bord à bord» et sur les appareils jusqu'à la version Q, vous devez définir les couleurs translucides du panneau système pour utiliser la protection du contenu.  Un maillage noir avec 70% d'opacité sera une bonne étape pour créer un thème avec des panneaux système sombres. <br><br><pre> <code class="kotlin hljs">&lt;!-- values/themes.xml --&gt; &lt;style name=<span class="hljs-string"><span class="hljs-string">"Theme.MyApp"</span></span>&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:navigationBarColor"</span></span>&gt; #B3FFFFFF &lt;/item&gt; &lt;/style&gt; &lt;!-- values-night/themes.xml --&gt; &lt;style name=<span class="hljs-string"><span class="hljs-string">"Theme.MyApp"</span></span>&gt; &lt;item name=<span class="hljs-string"><span class="hljs-string">"android:navigationBarColor"</span></span>&gt; #B3000000 &lt;/item&gt; &lt;/style&gt;</code> </pre> <br>  Vous devrez peut-être ajuster la transparence des panneaux supérieur et inférieur, selon le contenu qui se trouve derrière eux.  Pour les thèmes clairs, vous pouvez définir une couleur translucide claire (par exemple, # B3FFFFFF). <br><br><img src="https://habrastorage.org/webt/xf/2c/7z/xf2c7zi2los9ob8phhsgnjxegbi.png"><br>  <i>Un exemple montrant les deux grilles dans des thèmes sombres et clairs</i> <i><br></i> <br><ol><li>  <b>Conflits visuels</b> </li></ol><br>  Après avoir terminé ces étapes, vous avez peut-être remarqué que certaines de vos vues se trouvent désormais derrière les panneaux système.  Notre troisième et dernière étape est le traitement de toute superposition visuelle, dont nous discuterons dans les articles suivants. <br><br>  <i>C’est tout.</i>  <i><b>Nous invitons tous les lecteurs à un <a href="https://otus.pw/nFh0/">webinaire pratique sur les tests d'interface utilisateur Android</a> .</b></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479948/">https://habr.com/ru/post/fr479948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479930/index.html">RPA Tests de vitesse du robot logiciel</a></li>
<li><a href="../fr479932/index.html">Comment réellement améliorer vos compétences en programmation</a></li>
<li><a href="../fr479938/index.html">Google Stadia - une plateforme de jeu basée sur le cloud avec une étrange stratégie de monétisation</a></li>
<li><a href="../fr479940/index.html">Comment passer au développement d'une autre profession et grandir rapidement dans un nouvel endroit</a></li>
<li><a href="../fr479942/index.html">[Mis à jour à 10:52, 14/12/19] Une recherche a été effectuée au bureau de Nginx. Kopeiko: «Nginx a été développé par Sysoev indépendamment»</a></li>
<li><a href="../fr479950/index.html">L'histoire des processeurs vidéo, partie 4: l'avènement du GPU à usage général</a></li>
<li><a href="../fr479952/index.html">À l'intérieur de shawarma: microservices, systèmes distribués et Kafka. Partage de documents de Backend United # 5</a></li>
<li><a href="../fr479954/index.html">Tutoriel d'administration de Spring Boot</a></li>
<li><a href="../fr479958/index.html">Vulnérabilités du micrologiciel et du processeur</a></li>
<li><a href="../fr479960/index.html">Le modèle de l'efficacité de la publicité médiatique pour les boutiques en ligne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>