<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游닟 游뉧릞 游깴 Arquitectura de la interfaz de usuario web: un pasado de madera, un presente extra침o y un futuro brillante 游 游뗿游 游꿢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La comunidad moderna de desarrolladores est치 ahora m치s que nunca sujeta a la moda y las tendencias, y esto es especialmente cierto para el mundo del d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitectura de la interfaz de usuario web: un pasado de madera, un presente extra침o y un futuro brillante</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456794/"><img src="https://habrastorage.org/webt/g1/rr/97/g1rr97vliagp-2dndxhmubahvrg.png" alt="imagen"><br><br>  La comunidad moderna de desarrolladores est치 ahora m치s que nunca sujeta a la moda y las tendencias, y esto es especialmente cierto para el mundo del desarrollo front-end.  Nuestros marcos y nuevas pr치cticas son el valor principal, y la mayor칤a de los CV, vacantes y programas de conferencias consisten en enumerarlos.  Y aunque el desarrollo de ideas y herramientas no es negativo en s칤 mismo, sino que debido al deseo constante de los desarrolladores de seguir tendencias evasivas, comenzamos a olvidar la importancia del conocimiento te칩rico general sobre la arquitectura de aplicaciones. <br><br>  La prevalencia del valor de ajuste sobre el conocimiento de la teor칤a y las mejores pr치cticas ha llevado al hecho de que la mayor칤a de los proyectos nuevos de hoy en d칤a tienen un nivel extremadamente bajo de mantenimiento, creando as칤 inconvenientes significativos para los desarrolladores (la alta complejidad constante de estudiar y modificar el c칩digo) y para los clientes (tasas bajas y alto costo de desarrollo). <br><br>  Para influir al menos de alguna manera en la situaci칩n actual, hoy me gustar칤a contarles sobre qu칠 es una buena arquitectura, c칩mo es aplicable a las interfaces web y, lo m치s importante, c칩mo evoluciona con el tiempo. <br><br>  <i><b>NB</b> : Como ejemplos en el art칤culo, solo se usar치n los marcos con los que el autor trat칩 directamente, y se prestar치 una atenci칩n significativa a React y Redux aqu칤.</i>  <i>Pero, a pesar de esto, muchas de las ideas y principios descritos aqu칤 son de naturaleza general y pueden proyectarse con m치s o menos 칠xito en otras tecnolog칤as de desarrollo de interfaces.</i> <br><br><a name="habracut"></a><h2>  Arquitectura para tontos </h2><br>  Para comenzar, tratemos con el t칠rmino en s칤.  En palabras simples, la arquitectura de cualquier sistema es la definici칩n de sus componentes y el esquema de interacci칩n entre ellos.  Este es un tipo de base conceptual sobre la cual se implementar치 m치s adelante la implementaci칩n. <br><br>  La tarea de la arquitectura es satisfacer los requisitos externos para el sistema dise침ado.  Estos requisitos var칤an de un proyecto a otro y pueden ser bastante espec칤ficos, pero en el caso general son para facilitar los procesos de modificaci칩n y expansi칩n de las soluciones desarrolladas. <br><br>  En cuanto a la calidad de la arquitectura, generalmente se expresa en las siguientes propiedades: <br><br>  - <b>Acompa침amiento</b> : la predisposici칩n ya mencionada del sistema para estudiar y modificar (la dificultad de detectar y corregir errores, ampliar la funcionalidad, adaptar la soluci칩n a otro entorno o condiciones) <br>  - <b>Reemplazabilidad</b> : la capacidad de cambiar la implementaci칩n de cualquier elemento del sistema sin afectar a otros elementos <br>  - <b>Testabilidad</b> : la capacidad de verificar el correcto funcionamiento del elemento (la capacidad de controlar el elemento y observar su estado) <br>  - <b>Portabilidad</b> : la capacidad de reutilizar un elemento en otros sistemas <br>  - <b>Usabilidad</b> : el grado general de conveniencia del sistema cuando es operado por el usuario final <br><br>  Tambi칠n se menciona por separado uno de los principios clave de la construcci칩n de una arquitectura de calidad: el principio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">separaci칩n de preocupaciones</a> .  Consiste en el hecho de que cualquier elemento del sistema debe ser responsable exclusivamente de una sola tarea (aplicada, por cierto, al c칩digo de la aplicaci칩n: ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">principio de responsabilidad 칰nica</a> ). <br><br>  Ahora que tenemos una idea del concepto de arquitectura, veamos qu칠 patrones de dise침o arquitect칩nico nos pueden ofrecer en el contexto de las interfaces. <br><br><h2>  Las tres palabras mas importantes </h2><br>  Uno de los patrones m치s famosos de desarrollo de interfaz es MVC (Model-View-Controller), cuyo concepto clave es dividir la l칩gica de la interfaz en tres partes separadas: <br><br>  1. <b>Modelo</b> : es responsable de recibir, almacenar y procesar datos <br>  2. <b>Vista</b> : responsable de la visualizaci칩n de datos <br>  3. <b>Controlador</b> : controla el modelo y la vista <br><br>  Este patr칩n tambi칠n incluye una descripci칩n de la interacci칩n entre ellos, pero aqu칤 esta informaci칩n se omitir치 debido al hecho de que despu칠s de alg칰n tiempo al p칰blico en general se le present칩 una modificaci칩n mejorada de este patr칩n llamado MVP (Model-View-Presenter), que es este esquema original interacci칩n muy simplificada: <br><br><img src="https://habrastorage.org/webt/sv/j_/r2/svj_r22lb39syciykkximzlk-vy.png" alt="imagen"><br><br>  Como estamos hablando espec칤ficamente de interfaces web, utilizamos otro elemento bastante importante que generalmente acompa침a a la implementaci칩n de estos patrones: un enrutador.  Su tarea es leer la URL y llamar a los presentadores asociados con ella. <br><br>  El esquema anterior funciona de la siguiente manera: <br><br>  1. El enrutador lee la URL y llama al presentador asociado <br>  2-5.  El presentador recurre al modelo y obtiene los datos necesarios de 칠l. <br>  6. El presentador transfiere datos del Modelo a la Vista, lo que implementa su visualizaci칩n. <br>  7. Durante la interacci칩n del usuario con la interfaz, View notifica al presentador sobre esto, lo que nos devuelve al segundo punto <br><br>  Como ha demostrado la pr치ctica, MVC y MVP no son una arquitectura ideal y universal, pero a칰n hacen una cosa muy importante: indican tres 치reas clave de responsabilidad, sin las cuales no se puede implementar ninguna interfaz de una forma u otra. <br><br>  <i>NB: En general, los conceptos de Controlador y Presentador significan lo mismo, y la diferencia en su nombre es necesaria solo para diferenciar los patrones mencionados, que solo difieren en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">implementaci칩n de las comunicaciones</a> .</i> <br><br><h2>  MVC y representaci칩n del servidor </h2><br>  A pesar de que MVC es un patr칩n para implementar un cliente, tambi칠n encuentra su aplicaci칩n en el servidor.  Adem치s, es en el contexto del servidor que es m치s f치cil demostrar los principios de su funcionamiento. <br><br>  En los casos en que se trata de sitios de informaci칩n cl치sicos, donde la tarea del servidor web es generar p치ginas HTML para el usuario, MVC tambi칠n nos permite organizar una arquitectura de aplicaci칩n bastante concisa: <br><br>  - El enrutador lee los datos de la solicitud HTTP recibida <i>(GET / user-profile / 1)</i> y llama al controlador asociado <i>(UsersController.getProfilePage (1))</i> <br>  - El controlador llama al Modelo para obtener la informaci칩n necesaria de la base de datos <i>(UsersModel.get (1))</i> <br>  - El controlador pasa los datos recibidos a View <i>(View.render ('users / profile', user))</i> y recibe el marcado HTML de 칠l, que lo devuelve al cliente <br><br>  En este caso, View generalmente se implementa de la siguiente manera: <br><br><img src="https://habrastorage.org/webt/1j/q6/_f/1jq6_frux0usp6akgw91lj3bq5o.png" alt="imagen"><br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> templates = { <span class="hljs-string"><span class="hljs-string">'users/profile'</span></span>: <span class="hljs-string"><span class="hljs-string">` &lt;div class="user-profile"&gt; &lt;h2&gt;{{ name}}&lt;/h2&gt; &lt;p&gt;E-mail: {{ email }}&lt;/p&gt; &lt;p&gt; Projects: {{#each projects}} &lt;a href="/projects/{{id}}"&gt;{{name}}&lt;/a&gt; {{/each}} &lt;/p&gt; &lt;a href=/user-profile/1/edit&gt;Edit&lt;/a&gt; &lt;/div&gt; `</span></span> }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class"> </span></span>{ render(templateName, data) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> htmlMarkup = TemplateEngine.render(templates[templateName], data); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> htmlMarkup; } }</code> </pre> <br>  <i>NB: el c칩digo anterior se ha simplificado intencionalmente para usarlo como ejemplo.</i>  <i>En proyectos reales, las plantillas se exportan a archivos separados y pasan por la etapa de compilaci칩n antes de su uso (ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Handlebars.compile ()</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">_.template ()</a> ).</i> <br><br>  Aqu칤 se utilizan los llamados motores de plantillas, que nos proporcionan herramientas para una descripci칩n conveniente de las plantillas de texto y mecanismos para sustituir datos reales en ellos. <br><br>  Tal enfoque para la implementaci칩n de View no solo demuestra una separaci칩n ideal de responsabilidades, sino que tambi칠n proporciona un alto grado de comprobabilidad: para verificar la exactitud de la pantalla, es suficiente para nosotros comparar la l칤nea de referencia con la l칤nea que obtuvimos del motor de plantillas. <br><br>  Por lo tanto, al usar MVC, obtenemos una arquitectura casi perfecta, donde cada uno de sus elementos tiene un prop칩sito muy espec칤fico, conectividad m칤nima y tambi칠n tiene un alto nivel de capacidad de prueba y portabilidad. <br><br>  En cuanto al enfoque con la generaci칩n de marcado HTML utilizando herramientas de servidor, debido a la baja UX, este enfoque gradualmente comenz칩 a ser reemplazado por SPA. <br><br><h2>  Backbone y MVP </h2><br>  Uno de los primeros marcos para llevar completamente la l칩gica de visualizaci칩n al cliente fue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Backbone.js</a> .  La implementaci칩n de Router, Presenter y Model en ella es bastante est치ndar, pero la nueva implementaci칩n de View merece nuestra atenci칩n: <br><br><img src="https://habrastorage.org/webt/e6/iv/ye/e6ivye6jq6mo0gq_r1re8fua5uq.png" alt="imagen"><br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> UserProfile = Backbone.View.extend({ <span class="hljs-attr"><span class="hljs-attr">tagName</span></span>: <span class="hljs-string"><span class="hljs-string">'div'</span></span>, <span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">'user-profile'</span></span>, <span class="hljs-attr"><span class="hljs-attr">events</span></span>: { <span class="hljs-string"><span class="hljs-string">'click .button.edit'</span></span>: <span class="hljs-string"><span class="hljs-string">'openEditDialog'</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">openEditDialog</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }, initialize: function() { this.listenTo(this.model, 'change', this.render); }, template: _.template(` &lt;h2&gt;&lt;%= name %&gt;&lt;/h2&gt; &lt;p&gt;E-mail: &lt;%= email %&gt;&lt;/p&gt; &lt;p&gt; Projects: &lt;% _.each(projects, project =&gt; { %&gt; &lt;a href="/projects/&lt;%= project.id %&gt;"&gt;&lt;%= project.name %&gt;&lt;/a&gt; &lt;% }) %&gt; &lt;/p&gt; &lt;button class="edit"&gt;Edit&lt;/button&gt; `), render: function() { this.$el.html(this.template(this.model.attributes)); } });</span></span></code> </pre><br>  Obviamente, la implementaci칩n del mapeo se ha vuelto mucho m치s complicada: se ha agregado a la estandarizaci칩n elemental escuchar los eventos del modelo y el DOM, as칤 como la l칩gica de su procesamiento.  Adem치s, para mostrar los cambios en la interfaz, es altamente deseable no volver a renderizar completamente la Vista, sino hacer un trabajo m치s fino con elementos DOM espec칤ficos (generalmente usando jQuery), lo que requiere escribir mucho c칩digo adicional. <br><br>  Debido a la complicaci칩n general de la implementaci칩n de View, sus pruebas se volvieron m치s complicadas, ya que ahora estamos trabajando directamente con el 치rbol DOM, para las pruebas necesitamos usar herramientas adicionales que proporcionen o emulen el entorno del navegador. <br><br>  Y los problemas con la nueva implementaci칩n de View no terminaron all칤: <br><br>  Adem치s de lo anterior, es bastante dif칤cil de usar anidado en la Vista de cada uno.  Con el tiempo, este problema se resolvi칩 con la ayuda de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Regions</a> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Marionette.js</a> , pero antes de eso, los desarrolladores tuvieron que inventar sus propios trucos para resolver este problema bastante simple y que a menudo surge. <br><br>  Y el 칰ltimo.  Las interfaces dise침adas de esta manera estaban predispuestas a datos no sincronizados, ya que todos los modelos exist칤an aislados a nivel de diferentes presentadores, luego, al cambiar los datos en una parte de la interfaz, generalmente no se actualizaban en otra. <br><br>  Pero, a pesar de estos problemas, este enfoque fue m치s que viable, y el desarrollo mencionado anteriormente de Backbone en forma de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Marionette</a> todav칤a se puede aplicar con 칠xito para el desarrollo de SPA. <br><br><h2>  Reaccionar y vac칤o </h2><br>  Es dif칤cil de creer, pero en el momento de su lanzamiento inicial, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">React.js</a> caus칩 mucho escepticismo entre la comunidad de desarrolladores.  Este escepticismo fue tan grande que durante mucho tiempo se public칩 el siguiente texto en el sitio web oficial: <br><br><blockquote>  Dale cinco minutos <br>  Reaccionar desaf칤a mucha sabidur칤a convencional, y a primera vista algunas de las ideas pueden parecer locas. </blockquote><br>  Y esto a pesar del hecho de que, a diferencia de la mayor칤a de sus competidores y predecesores, React no era un marco completo y era solo una peque침a biblioteca para facilitar la visualizaci칩n de datos en el DOM: <br><br><blockquote>  React es una biblioteca de JavaScript para crear interfaces de usuario de Facebook e Instagram.  Muchas personas optan por pensar en React como la V en MVC. <br></blockquote><br>  El concepto principal que nos ofrece React es el concepto de un componente, que, de hecho, nos proporciona una nueva forma de implementar View: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ handleEdit() { <span class="hljs-comment"><span class="hljs-comment">// .. } render() { const { name, email, projects } = this.props; return ( &lt;div className="user-profile"&gt; &lt;h2&gt;{name}&lt;/h2&gt; &lt;p&gt;E-mail: {email}&lt;/p&gt; &lt;p&gt; Projects: { projects.map(project =&gt; &lt;a href="/projects/{project.id}"&gt;{project.name}&lt;/a&gt;) } &lt;/p&gt; &lt;button onClick={this.handleEdit}&gt;Edit&lt;/button&gt; &lt;/div&gt; ); } }</span></span></code> </pre> <br>  Reaccionar fue incre칤blemente agradable de usar.  Entre sus ventajas innegables se encontraban hasta el d칤a de hoy: <br><br>  1) <b>Declaraci칩n y reactividad</b> .  Ya no es necesario actualizar manualmente el DOM al cambiar los datos mostrados. <br><br>  2) <b>La composici칩n de los componentes</b> .  Construir y explorar el 치rbol de Vista se ha convertido en una acci칩n completamente elemental. <br><br>  Pero, desafortunadamente, React tiene varios problemas.  Uno de los m치s importantes es el hecho de que React no es un marco completo y, por lo tanto, no nos ofrece ning칰n tipo de arquitectura de aplicaci칩n o herramientas completas para su implementaci칩n. <br><br>  쯇or qu칠 esto est치 escrito en defectos?  S칤, porque ahora React es la soluci칩n m치s popular para desarrollar aplicaciones web ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">prueba</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">otra prueba</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">y otra prueba</a> ), es un punto de entrada para los nuevos desarrolladores front-end, pero al mismo tiempo no ofrece ni promueve arquitectura, ni enfoques y mejores pr치cticas para construir aplicaciones completas.  Adem치s, inventa y promueve sus propios enfoques personalizados como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HOC</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Hooks</a> , que no se usan fuera del ecosistema React.  Como resultado, cada aplicaci칩n React resuelve problemas t칤picos a su manera, y generalmente no lo hace de la manera m치s correcta. <br><br>  Este problema se puede demostrar con la ayuda de uno de los errores m치s comunes de los desarrolladores de React, que consiste en el abuso de componentes: <br><br><blockquote>  Si la 칰nica herramienta que tienes es un martillo, todo comienza a parecerse a un clavo. </blockquote><br>  Con su ayuda, los desarrolladores resuelven una gama completamente impensable de tareas que van mucho m치s all치 del alcance de la visualizaci칩n de datos.  En realidad, con la ayuda de componentes, implementan absolutamente todo, desde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">consultas de medios</a> desde CSS hasta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enrutamiento</a> . <br><br><h2>  Reaccionar y Redux </h2><br>  La restauraci칩n del orden en la estructura de las aplicaciones React se vio facilitada en gran medida por la aparici칩n y popularizaci칩n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Redux</a> .  Si React es una vista de MVP, entonces Redux nos ofreci칩 una variaci칩n bastante conveniente de Model. <br><br>  La idea principal de Redux es la transferencia de datos y la l칩gica de trabajar con ellos en un 칰nico almac칠n de datos centralizado: el denominado Almac칠n.  Este enfoque resuelve completamente el problema de la duplicaci칩n y desincronizaci칩n de datos, del que hablamos un poco antes, y tambi칠n ofrece muchas otras comodidades, que, entre otras cosas, incluyen la facilidad de estudiar el estado actual de los datos en la aplicaci칩n. <br><br>  Otra caracter칤stica igualmente importante es la forma de comunicaci칩n entre la Tienda y otras partes de la aplicaci칩n.  En lugar de acceder directamente a la Tienda o sus datos, se nos ofrece usar las llamadas Acciones (objetos simples que describen el evento o comando), que proporcionan un nivel d칠bil de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">acoplamiento flojo</a> entre la Tienda y la fuente del evento, lo que aumenta significativamente el grado de mantenimiento del proyecto.  Por lo tanto, Redux no solo obliga a los desarrolladores a utilizar enfoques arquitect칩nicos m치s correctos, sino que tambi칠n le permite aprovechar las diversas ventajas del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">abastecimiento</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">eventos</a> : ahora en el proceso de depuraci칩n podemos ver f치cilmente el historial de acciones en la aplicaci칩n, su impacto en los datos y, si es necesario, toda esta informaci칩n puede exportarse , que tambi칠n es extremadamente 칰til al analizar errores de producci칩n. <br><br>  El esquema general de la aplicaci칩n que usa React / Redux se puede representar de la siguiente manera: <br><br><img src="https://habrastorage.org/webt/rw/x6/8f/rwx68f3sxe_rrnh609ul6rmgrsw.png" alt="imagen"><br><br>  Los componentes de reacci칩n siguen siendo responsables de mostrar los datos.  Idealmente, estos componentes deben ser limpios y funcionales, pero si es necesario, pueden tener un estado local y una l칩gica asociada (por ejemplo, para implementar la ocultaci칩n / visualizaci칩n de un elemento espec칤fico o el preprocesamiento b치sico de una acci칩n del usuario). <br><br>  Cuando un usuario realiza una acci칩n en la interfaz, el componente simplemente llama a la funci칩n de controlador correspondiente, que recibe del exterior junto con los datos para su visualizaci칩n. <br><br>  Los llamados componentes de contenedor act칰an como presentadores para nosotros: son los que ejercen el control sobre los componentes de la pantalla y su interacci칩n con los datos.  Se crean utilizando la funci칩n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">conexi칩n</a> , que ampl칤a la funcionalidad del componente que se le pasa, agregando una suscripci칩n para cambiar los datos en la Tienda y permiti칠ndonos determinar qu칠 manejadores de datos y eventos se le deben pasar. <br><br>  Y si todo est치 claro con los datos aqu칤 (simplemente asignamos datos del almacenamiento a los "accesorios" esperados), entonces me gustar칤a detenerme en los controladores de eventos con m치s detalle: no solo env칤an Acciones a la Tienda, sino que tambi칠n pueden contener l칩gica adicional para procesar el evento. por ejemplo, incluir ramificaci칩n, realizar redireccionamientos autom치ticos y realizar cualquier otro trabajo espec칤fico para el presentador. <br><br>  Otro punto importante con respecto a los componentes del contenedor: debido al hecho de que se crean a trav칠s del HOC, los desarrolladores a menudo describen componentes de visualizaci칩n y componentes del contenedor dentro de un solo m칩dulo y exportan solo el contenedor.  Este no es el enfoque correcto, ya que para la posibilidad de probar y reutilizar el componente de visualizaci칩n, debe estar completamente separado del contenedor y preferiblemente extra칤do en un archivo separado. <br><br>  Bueno, lo 칰ltimo que a칰n no hemos considerado es la Tienda.  Nos sirve como una implementaci칩n bastante espec칤fica del Modelo y consta de varios componentes: Estado (un objeto que contiene todos nuestros datos), Middleware (un conjunto de funciones que preprocesan todas las Acciones recibidas), Reductor (una funci칩n que modifica los datos en Estado) y algunos o un controlador de efectos secundarios responsable de ejecutar operaciones asincr칩nicas (acceder a sistemas externos, etc.). <br><br>  El problema m치s com칰n aqu칤 es la forma de nuestro Estado.  Formalmente, Redux no nos impone ninguna restricci칩n y no da recomendaciones sobre cu치l deber칤a ser este objeto.  Los desarrolladores pueden almacenar absolutamente cualquier informaci칩n en 칠l (incluido el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estado de los formularios</a> y la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">informaci칩n del enrutador</a> ), estos datos pueden ser de cualquier tipo (no est치 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">prohibido</a> almacenar incluso funciones e instancias de objetos) y tener cualquier nivel de anidamiento.  De hecho, esto nuevamente lleva al hecho de que de un proyecto a otro obtenemos un enfoque completamente diferente al uso de State, lo que una vez m치s causa cierto desconcierto. <br><br>  Para empezar, aceptamos que no tenemos que mantener absolutamente todos los datos de la aplicaci칩n en el estado; esto se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">indica</a> claramente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en la documentaci칩n</a> .  Aunque almacenar parte de los datos dentro del estado de los componentes crea ciertos inconvenientes al navegar por el historial de acciones durante el proceso de depuraci칩n (el estado interno de los componentes siempre permanece sin cambios), la transferencia de estos datos al Estado crea a칰n m치s dificultades: esto aumenta significativamente su tama침o y requiere la creaci칩n de a칰n m치s Acciones y reductores. <br><br>  En cuanto al almacenamiento de cualquier otro dato local en estado, generalmente tratamos con alguna configuraci칩n de interfaz general, que es un conjunto de pares clave-valor.  En este caso, podemos hacerlo f치cilmente con un objeto simple y un reductor para 칠l. <br><br>  Y si estamos hablando de almacenar datos de fuentes externas, en funci칩n del hecho de que en el desarrollo de interfaces en la gran mayor칤a de los casos estamos tratando con CRUD cl치sico, entonces para almacenar datos del servidor tiene sentido tratar State como un RDBMS: las claves son el nombre recursos, y detr치s de ellos hay matrices almacenadas de objetos cargados ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sin anidamiento</a> ) e informaci칩n opcional para ellos (por ejemplo, el n칰mero total de registros en el servidor para crear paginaci칩n).  La forma general de estos datos debe ser lo m치s uniforme posible; esto nos permitir치 simplificar la creaci칩n de reductores para cada tipo de recurso: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getModelReducer = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">modelName</span></span></span><span class="hljs-function"> =&gt;</span></span> (models = [], action) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isModelAction = modelActionTypes.includes(action.type); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isModelAction &amp;&amp; action.modelName === modelName) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'ADD_MODELS'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> collection.add(action.models, models); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'CHANGE_MODEL'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> collection.change(action.model, models); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'REMOVE_MODEL'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> collection.remove(action.model, models); <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'RESET_STATE'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> models; };</code> </pre> <br>  Bueno, otro punto que me gustar칤a discutir en el contexto del uso de Redux es la implementaci칩n de efectos secundarios. <br><br>  En primer lugar, olv칤date por completo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Redux Thunk</a> : la transformaci칩n de las acciones propuestas por 칠l en funciones con efectos secundarios, aunque es una soluci칩n funcional, pero combina los conceptos b치sicos de nuestra arquitectura y reduce sus ventajas a nada.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Redux Saga</a> nos ofrece un enfoque mucho m치s correcto para implementar efectos secundarios, aunque hay algunas preguntas con respecto a su implementaci칩n t칠cnica. <br><br>  A continuaci칩n, intente unificar lo m치s posible sus efectos secundarios que acceden al servidor.  Al igual que la forma de estado y los reductores, casi siempre podemos implementar la l칩gica de crear solicitudes al servidor utilizando un 칰nico controlador.  Por ejemplo, en el caso de la API RESTful, esto se puede lograr escuchando acciones generalizadas como: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'CREATE_MODEL'</span></span>, <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: { <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'reviews'</span></span>, <span class="hljs-attr"><span class="hljs-attr">attributes</span></span>: { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'...'</span></span>, <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">'...'</span></span> } } }</code> </pre><br>  ... y creando las mismas solicitudes HTTP generalizadas en ellos: <br><br><pre> <code class="plaintext hljs">POST /api/reviews { title: '...', text: '...' }</code> </pre> <br>  Siguiendo conscientemente todos los consejos anteriores, puede obtener, si no una arquitectura ideal, al menos cerca de ella. <br><br><h2>  Futuro brillante </h2><br>  El desarrollo moderno de las interfaces web realmente ha dado un importante paso adelante, y ahora estamos viviendo en un momento en que una parte importante de los principales problemas ya se han resuelto de una forma u otra.  Pero esto no significa en absoluto que en el futuro no habr치 nuevas revoluciones. <br><br>  Si intenta mirar hacia el futuro, lo m치s probable es que veamos lo siguiente: <br><br>  <b>1. Enfoque de componentes sin JSX</b> <br><br>  El concepto de componentes ha demostrado ser extremadamente exitoso y, muy probablemente, veremos su popularizaci칩n a칰n mayor.  Pero JSX en s칤 puede y debe morir.  S칤, es realmente bastante conveniente de usar, pero, sin embargo, no es un est치ndar generalmente aceptado ni un c칩digo JS v치lido.  Las bibliotecas para implementar interfaces, sin importar cu치n buenas sean, no deber칤an inventar nuevos est치ndares, que luego deben implementarse una y otra vez en cada posible kit de herramientas de desarrollo. <br><br>  <b>2. Contenedores estatales sin Redux</b> <br><br>  El uso de un almac칠n de datos centralizado, propuesto por Redux, tambi칠n fue una soluci칩n extremadamente exitosa, y en el futuro deber칤a convertirse en una especie de est치ndar en el desarrollo de interfaces, pero su arquitectura interna y su implementaci칩n pueden sufrir ciertos cambios y simplificaciones. <br><br>  <b>3. Mejora de la intercambiabilidad de la biblioteca.</b> <br><br>  Creo que con el tiempo, la comunidad de desarrolladores front-end se dar치 cuenta de los beneficios de maximizar la intercambiabilidad de la biblioteca y dejar치 de encerrarse en sus peque침os ecosistemas.  Todos los componentes de las aplicaciones (enrutadores, contenedores de estado, etc.) deben ser extremadamente universales y su reemplazo no debe requerir una refactorizaci칩n masiva o una reescritura de la aplicaci칩n desde cero. <br><br><h2>  쯇or qu칠 todo esto? </h2><br>  Si tratamos de generalizar la informaci칩n presentada anteriormente y reducirla a una forma m치s simple y corta, obtenemos algunos puntos bastante generales: <br><br>  - Para el desarrollo exitoso de aplicaciones, el conocimiento del lenguaje y el marco no es suficiente, se debe prestar atenci칩n a las cosas te칩ricas generales: arquitectura de aplicaciones, mejores pr치cticas y patrones de dise침o. <br><br>  "La 칰nica constante es el cambio".  Los enfoques de labranza y desarrollo continuar치n cambiando, por lo que los proyectos grandes y de larga duraci칩n deben prestar la debida atenci칩n a la arquitectura; sin ella, la introducci칩n de nuevas herramientas y pr치cticas ser치 extremadamente dif칤cil. <br><br>  Y eso es probablemente todo para m칤.  Muchas gracias a todos los que encontraron la fuerza para leer el art칤culo hasta el final.  Si tiene alguna pregunta o comentario, lo invito a comentar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456794/">https://habr.com/ru/post/456794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456774/index.html">Lo que extra침o en Java despu칠s de trabajar con Kotlin / Scala</a></li>
<li><a href="../456780/index.html">9 maneras de impulsar la eficiencia del desarrollador de aplicaciones m칩viles</a></li>
<li><a href="../456782/index.html">Dise침o orientado a modelos: c칩mo no repetir Chernobyl</a></li>
<li><a href="../456790/index.html">Resumen de noticias de PostgreSQL. Edici칩n n. 16</a></li>
<li><a href="../456792/index.html">Implemente Kubernetes Cluster en OpenStack con Kubespray</a></li>
<li><a href="../456796/index.html">Svalbard - nuevo nombre para el proyecto Have I Been Pwned antes de la venta</a></li>
<li><a href="../456798/index.html">Tutoriales de SDL 2: Lecci칩n 5 - Texturas</a></li>
<li><a href="../456804/index.html">Siga el dinero: c칩mo el grupo RTM comenz칩 a ocultar las direcciones de los servidores C&C en una billetera criptogr치fica</a></li>
<li><a href="../456806/index.html">Un bot de todas las preocupaciones</a></li>
<li><a href="../456808/index.html">C칩mo mejorar el rendimiento de las aplicaciones web front-end: cinco consejos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>