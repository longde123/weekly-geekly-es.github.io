<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∫üèª üõÑ üò° Vida antes do tempo de execu√ß√£o. Relat√≥rio Yandex üê™ üßóüèø üîé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em um projeto grande, a tarefa de identificar altera√ß√µes para o usu√°rio final por diferen√ßas no c√≥digo de front-end do aplicativo pode surgir. O desen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vida antes do tempo de execu√ß√£o. Relat√≥rio Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/454470/">  Em um projeto grande, a tarefa de identificar altera√ß√µes para o usu√°rio final por diferen√ßas no c√≥digo de front-end do aplicativo pode surgir.  O desenvolvedor do Yandex.Market Nikita Sidorov @nickshevr contou como resolvemos esse problema usando a biblioteca Diffector, sobre como criar e analisar o gr√°fico do m√≥dulo nos aplicativos Node.js. e sobre como encontrar defeitos no c√≥digo antes de ser lan√ßado. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/qw/uu/uy/qwuuuy_de8impvpifwc9qdflrka.jpeg"></a> <br><br>  - Hoje vou tentar ser o mais sincero poss√≠vel com voc√™. <a name="habracut"></a>  Trabalho no Yandex.Market h√° pouco mais de um ano e meio.  Estou fazendo a mesma quantidade de web e comecei a perceber mudan√ßas em mim mesmo, voc√™ tamb√©m pode not√°-las.  Meu comprimento m√©dio do cabelo aumentou e a barba come√ßou a aparecer.  Hoje, olhei para os meus colegas: no Sergei Berezhnoy <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">veged</a> , no Vova Grinenko <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">tadatuta</a> , e percebi - esse √© um bom crit√©rio para o que quase amadureci como desenvolvedor de front-end de verdade. <br><br>  E, chegando a esse juramento, decidi conversar com voc√™ sobre a vida, sobre a qual todos n√≥s participamos.  Principalmente sobre a vida antes do tempo de execu√ß√£o.  Agora vou explicar sobre o que tudo isso ser√°. <br><br><img src="https://habrastorage.org/webt/cy/-_/bm/cy-_bmshiyn9hj20-9dbgekd7fo.jpeg"><br><br>  E a vida?  Sobre a vida do c√≥digo, √© claro.  C√≥digo √© o que fazemos.  Deixe-me lembr√°-lo, eu decidi ser sincero com voc√™ aqui, ent√£o o primeiro slide foi o mais simples poss√≠vel.  Peguei a verdade, a primeira etapa - a ado√ß√£o, veja voc√™, ningu√©m discutir√° com esse axioma. <br><br><img src="https://habrastorage.org/webt/p5/si/5n/p5si5n0oneks__xee8nrdwtfbt8.jpeg"><br><br>  E ent√£o eu percebi que teria que modific√°-lo, mas para que ficasse claro.  Que seja algum tipo de aceita√ß√£o de requisitos.  Qualquer c√≥digo come√ßa com o fato de voc√™ examinar a tarefa e tentar aceitar os requisitos que o definem. <br><br><img src="https://habrastorage.org/webt/kv/g0/qx/kvg0qxlxoatcyd7mtxhhcbhvsqa.jpeg"><br><br>  Depois disso, √© claro, come√ßamos a fase de escrita - escrevemos nosso c√≥digo.  Em seguida, cobrimos com testes, verificamos sua efic√°cia.  Depois disso, j√° verificamos se nosso aplicativo funciona com nosso c√≥digo como um todo.  Depois disso, entregamos ao testador - deixe-o verificar.  O que voc√™ acha depois disso?  Lembro-lhe, a vida antes da execu√ß√£o.  Voc√™ acha que o tempo de execu√ß√£o segue isso?  De fato, acontece assim.  E isso n√£o √© um erro na apresenta√ß√£o.  Muitas vezes, em qualquer fase das verifica√ß√µes - e pode haver muito mais do que eu indiquei -, voc√™ pode ter alguma chamada para escrever novamente.  Concordo, isso pode ser um grande problema.  Isso pode atrasar a entrega de alguns recursos da produ√ß√£o e, em princ√≠pio, atras√°-lo como desenvolvedor, porque o ticket ficar√° com voc√™.  E aqui tudo passa, passa.  Existem mais algumas vezes M para N verifica√ß√µes e somente ent√£o o c√≥digo chega ao usu√°rio no navegador.  Mas esse √© o nosso objetivo.  Nosso objetivo √© escrever um c√≥digo que realmente esteja dispon√≠vel para o usu√°rio e que realmente funcione em seu benef√≠cio. <br><br>  Hoje vamos falar sobre a primeira parte.  Sobre o que acontece antes, mas n√£o realmente sobre os testes. <br><br><img src="https://habrastorage.org/webt/cd/lo/of/cdlooffg2v4i0j6gmel3c16g0r8.jpeg"><br><br>  A prop√≥sito, parece algo assim.  Tomei a nossa vez no rastreador, coletei o meu, contei a mediana.  Acontece que meus ingressos est√£o muito menos em desenvolvimento do que em cheques.  E como voc√™ sabe, quanto mais tempo o teste for, maior a chance de aparecer goto no in√≠cio ou goto no final - e eu n√£o quero. <br><br>  E tamb√©m, se voc√™ prestar aten√ß√£o, h√° duas palavras no slide aqui - desenvolvimento (√© isso que n√≥s, desenvolvedores estamos fazendo) e verifica√ß√£o (√© isso que estamos fazendo, mas tamb√©m testadores).  Portanto, o problema √© relevante, de fato, para os testadores. <br><br><img src="https://habrastorage.org/webt/fm/sc/qc/fmscqcprnl87tudqe7yqg1p9nky.jpeg"><br><br>  O objetivo √© bastante prosaico.  Em geral, gosto de dizer que a vida precisa ser simplificada: j√° trabalhamos muito com voc√™.  O objetivo se parece com isso, mas voc√™ deve admitir que √© bastante ef√™mero; portanto, vamos destacar alguns crit√©rios b√°sicos dos quais o objetivo pode depender. <br><br>  Obviamente, quanto menos c√≥digo, mais f√°cil √© para n√≥s.  Quanto mais r√°pido tivermos as verifica√ß√µes de IC, mais cedo perceberemos se estamos certos ou n√£o.  Ou seja, localmente, geralmente pode come√ßar para sempre.  Velocidade de verifica√ß√£o - isso se aplica diretamente ao testador.  Se o nosso aplicativo for grande e precisar ser verificado na √≠ntegra, √© uma quantidade enorme de tempo.  A velocidade de libera√ß√£o depende de tudo isso.  Incluir √© imposs√≠vel liberar at√© que passemos em todas as verifica√ß√µes e at√© que entendamos que o c√≥digo √© exatamente o que queremos. <br><br>  Para resolver alguns dos problemas de que estamos falando, vamos analisar o gr√°fico de depend√™ncia dos m√≥dulos em nossa linguagem de programa√ß√£o.  E, na verdade, vamos descrev√™-lo. <br><br><img src="https://habrastorage.org/webt/cm/ry/c-/cmryc-ofgxh240_-rjepob2g3ui.jpeg"><br><br>  O gr√°fico √© orientado: possui arestas com dire√ß√µes.  Nos n√≥s do gr√°fico, teremos apenas os m√≥dulos da linguagem sobre a qual estamos falando.  Costelas s√£o um tipo espec√≠fico de v√≠nculo.  Existem v√°rios tipos de comunica√ß√£o. <br><br><img src="https://habrastorage.org/webt/7h/2a/ob/7h2aobcl3tntwcoton3qr5qmaoo.jpeg"><br><br>  Vejamos um exemplo comum.  H√° o arquivo A. Aqui, algo do arquivo B √© importado para ele, e esse √© um relacionamento entre n√≥s. <br><br><img src="https://habrastorage.org/webt/mn/xn/vb/mnxnvbajewbedo_drzafbppqnda.jpeg"><br><br>  O mesmo acontecer√° se voc√™ substituir a importa√ß√£o por exigir.  De fato, nem tudo √© t√£o simples aqui. <br><br><img src="https://habrastorage.org/webt/fl/1x/ub/fl1xub0n5kpjz6nh3ais7trybk4.jpeg"><br><br>  Eu sugiro, j√° que estamos falando sobre o tipo de depend√™ncia, considere pelo menos dois tipos - para acelerar seu pipeline, para acelerar o percurso do gr√°fico.  √â necess√°rio observar n√£o apenas o m√≥dulo dependente, mas tamb√©m o m√≥dulo dependente.  Proponho chamar o m√≥dulo A - o pai, B - o filho, e aconselho que voc√™ mantenha os links sempre como uma lista dupla.  Isso simplificar√° sua vida, informo com anteced√™ncia. <br><br>  Depois de descrevermos o gr√°fico de alguma forma, vamos concordar em como o construiremos. <br><br><img src="https://habrastorage.org/webt/oi/ir/lf/oiirlfsr0tciu_thxadfismnutm.jpeg"><br><br>  Existem duas maneiras.  Sua ferramenta favorita em sua linguagem de programa√ß√£o favorita usando o mesmo AST (√°rvores de sintaxe abstrata) ou regulares.  Qual √© o lucro aqui?  O fato de que aqui voc√™ n√£o est√° vinculado a ningu√©m, mas ao mesmo tempo precisa implementar tudo sozinho.  Voc√™ ter√° que descrever todos os tipos de conex√µes de todas as coisas e tecnologias que voc√™ usa, seja um coletor CSS separado, algo assim.  Mas voc√™ tem total liberdade de v√¥o, por assim dizer. <br><br>  Al√©m disso, a segunda op√ß√£o, tamb√©m estarei promovendo um pouco, esta √© uma op√ß√£o apenas para a maioria das pessoas que j√° possui um sistema de compila√ß√£o configurado.  O fato √© que o sistema de montagem coleta um gr√°fico dependendo do design, por padr√£o. <br><br><img src="https://habrastorage.org/webt/xc/gk/wk/xcgkwkeunrz5vi_eri49mqub7c0.jpeg"><br><br>  Vejamos um dos sistemas de montagem mais populares do Yandex, este √© o webpack.  Aqui dei um exemplo de como voc√™ pode coletar todo o resultado do webpack em um arquivo separado, que pode ser alimentado ao nosso ou a algum outro analisador.  Ele o coleta com a ajuda da AST, a biblioteca de bolotas √© usada.  Voc√™ pode ter notado quando algo caiu.  Eu notei. <br><br>  E quais s√£o as vantagens.  O fato √© que, quando voc√™ descreveu seu sistema de compila√ß√£o, voc√™ absolutamente pediu honestamente a entrada.  Esses s√£o os arquivos dos quais suas depend√™ncias s√£o desenroladas, os pontos de desvio iniciais.  Isso √© bom, porque voc√™ n√£o precisa grav√°-los novamente.  Al√©m disso, webpack e babel, e tudo isso, e bolota, inclusive, ainda n√£o √© sua manuten√ß√£o.  E, portanto, todos os tipos de novos recursos da linguagem, todos os tipos de bugs e tudo mais s√£o corrigidos mais rapidamente do que se voc√™ fizesse isso, principalmente se voc√™ n√£o tiver uma equipe muito grande.  Sim, mesmo que seja grande, n√£o √© t√£o grande quanto o c√≥digo aberto. <br><br>  Na verdade, isso √© um mais e um menos.  √â como se uma aresta dupla (espada de dois gumes) fosse obtida.  O fato √© que este gr√°fico √© constru√≠do durante a montagem.  √â bom, ou seja, podemos montar o projeto e reutilizar imediatamente o resultado da montagem.  Mas e se n√£o queremos montar um projeto, mas apenas queremos obter esse gr√°fico? <br><br>  E um sinal menos importante, de fato.  Se voc√™ tiver alguma coisa personalizada conectada, falaremos muito mais tarde sobre conex√µes, ent√£o o sistema de compila√ß√£o n√£o permitir√° que voc√™ fa√ßa isso.  Ou voc√™ precisar√° integrar isso, como o plug-in do seu webpack. <br><br><img src="https://habrastorage.org/webt/x0/c4/ye/x0c4yefpe8-w1hgcfeit-n50v8g.jpeg"><br><br>  Considere um exemplo espec√≠fico.  Eu executei um comando na minha proje√ß√£o, onde existem apenas tr√™s arquivos, e obtive essa sa√≠da.  E isso s√≥ mostro uma chave, chamada m√≥dulos.  Estamos apenas conversando com voc√™ sobre o gr√°fico de depend√™ncia dos m√≥dulos; portanto, analisamos os m√≥dulos, tudo √© l√≥gico. <br><br><img src="https://habrastorage.org/webt/d_/ky/58/d_ky58s8cbrozt6bzoohxfzvzea.jpeg"><br><br>  Muita informa√ß√£o, mas n√£o precisamos de tudo.  Deixe alguns pontos e vamos conversar sobre eles.  Suponha que consideremos o primeiro m√≥dulo.  Ele tem um nome, h√° raz√µes.  Os motivos s√£o apenas a conex√£o, de fato, com os m√≥dulos ‚Äúdependentes‚Äù, acontece quem importa esse m√≥dulo para si.  Estes s√£o os dados b√°sicos para construir um gr√°fico sobre ele. <br><br><img src="https://habrastorage.org/webt/ld/of/e3/ldofe3q3cyna7bav1ltegf1zwyw.jpeg"><br><br>  Al√©m disso, preste aten√ß√£o √†s exporta√ß√µes usadas e √†s exporta√ß√µes fornecidas.  Falaremos sobre eles um pouco mais tarde.  Mas estas tamb√©m s√£o coisas muito importantes. <br><br><img src="https://habrastorage.org/webt/ld/of/e3/ldofe3q3cyna7bav1ltegf1zwyw.jpeg"><br><br><img src="https://habrastorage.org/webt/me/db/80/medb80ytkohl1ee0ryh-zaoubak.jpeg"><br><br>  E se voc√™ descrever sua decis√£o, precisar√° falar sobre os tipos de conex√µes que acontecem entre os m√≥dulos.  Ou seja, temos, √© claro, nosso sistema de m√≥dulos dentro de nossa linguagem: seja cjs-modules ou esm-modules.  Al√©m disso, voc√™ deve concordar que podemos ter uma conex√£o entre arquivos no sistema de arquivos no n√≠vel do pr√≥prio sistema de arquivos.  Estes s√£o alguns tipos de estruturas: algum tipo de estrutura, dependendo de como os pais s√£o. <br><br><img src="https://habrastorage.org/webt/9k/cz/hv/9kczhv-gdxjdxwomdj7czjeuqxk.jpeg"><br><br>  E um exemplo t√£o banal - se voc√™ escreveu o lado do servidor do Node, com bastante frequ√™ncia voc√™ poderia ver um pacote npm t√£o popular como o Config.  Permite definir de forma bastante conveniente suas configura√ß√µes. <br><br><img src="https://habrastorage.org/webt/4d/94/oz/4d94ozf6xvfugnjkxvnsuylgnq4.jpeg"><br><br>  Para us√°-lo, √© necess√°rio obter a pasta de configura√ß√£o, onde voc√™ tem NODE_PATH, e especificar v√°rios arquivos JavaScript - apenas para apresentar a configura√ß√£o para diferentes ambientes.  Como exemplo, eu criei um pai, especifiquei padr√£o, desenvolvimento e produ√ß√£o. <br><br><img src="https://habrastorage.org/webt/mk/b8/ms/mkb8mse2x2bim9kv6ps4dwdkmg0.jpeg"><br><br>  E, de fato, toda a configura√ß√£o funciona assim.  Ou seja, quando voc√™ escreve require ('config'), ele apenas l√™ o m√≥dulo dentro de si e pega o nome do m√≥dulo na vari√°vel de ambiente.  Como voc√™ entende, n√£o ficou claro l√° que esses arquivos s√£o de alguma forma usados, porque n√£o h√° importa√ß√£o / exig√™ncia direta, o webpack nem o reconheceria. <br><br><img src="https://habrastorage.org/webt/bk/pr/wv/bkprwvhuxqslrha7tz5x7nddawo.jpeg"><br><h5>  <sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Link do slide</a></sub></sup> </h5><br>  Hoje tamb√©m falamos sobre inje√ß√£o de depend√™ncia.  Eu n√£o era algo inspirado, mas como suporte, olhei para uma das bibliotecas aqui.  √â chamado de JS de invers√£o.  Como voc√™ pode ver, ele fornece uma sintaxe bastante personalizada: lazyInject, nameProvider, e aqui est√°.  E, voc√™ deve admitir, n√£o est√° claro que tipo de provedor √©, que tipo de m√≥dulo ele realmente injeta aqui.  E precisamos disso, e temos que entender.  Ou seja, novamente, o sistema de compila√ß√£o n√£o ser√° resolvido e teremos que fazer isso sozinhos. <br><br>  Suponha que construamos um gr√°fico e sugiro que voc√™ o armazene em algum lugar.  O que nos permitir√° fazer isso?  Isso nos permitir√° fazer algum tipo de an√°lise heur√≠stica, jogar um pouco de Data Science e faz√™-lo, concentrando-se em um intervalo de tempo. <br><br><img src="https://habrastorage.org/webt/gx/uv/t1/gxuvt1vsmjz1rkihuwoc_t93nua.jpeg"><br><br>  Qual √© a ideia?  Aqui, de fato, est√£o diretamente nossos dados.  Recentemente, implementamos nosso sistema de design no Yandex.Market e, em particular, implementamos uma biblioteca de componentes como parte desse sistema de design.  E aqui voc√™ pode ver: consideramos o n√∫mero de importa√ß√µes, o componente de rea√ß√£o da nossa biblioteca, o componente comum.  E voc√™ pode distribuir em diret√≥rios.  Nesse caso, temos um reposit√≥rio n√£o mono e, portanto, temos platform.desktop, platform.touch e src. <br><br>  O que podemos pensar quando vemos esses n√∫meros?  Podemos supor que o comando touch n√£o parece aumentar o uso de componentes comuns.  Isso significa que os componentes s√£o ruins para dispositivos m√≥veis - mal fabricados ou o comando touch √© pregui√ßoso.  Mas isso √© realmente verdade? <br><br><img src="https://habrastorage.org/webt/u9/k_/gf/u9k_gfggsknyqnwdnmustdmsy1g.jpeg"><br><br>  Se olharmos em um per√≠odo mais longo, em um per√≠odo mais longo de tempo, isso nos permitir√° fazer apenas o armazenamento de gr√°ficos ap√≥s cada vers√£o, ent√£o entenderemos que, de fato, est√° tudo bem para o toque, o indicador est√° crescendo nele.  Para o src, √© ainda melhor, para o desktop, acontece que n√£o. <br><br><img src="https://habrastorage.org/webt/o4/k-/ro/o4k-ronqjbk7g6w_p3mmph2uywe.jpeg"><br><br>  Ainda havia uma pergunta da plat√©ia sobre como explicar a import√¢ncia para os gerentes.  Aqui est√° o n√∫mero total de importa√ß√µes de bibliotecas, tamb√©m por tempo.  Quais gerentes n√£o gostam de gr√°ficos?  Voc√™ pode criar um cronograma e ver que o uso da biblioteca est√° aumentando, o que significa que isso √© pelo menos uma coisa √∫til. <br><br>  Uma das minhas partes favoritas.  Vou abordar isso brevemente.  Esta √© uma busca por defeitos no gr√°fico.  Hoje eu queria falar com voc√™ sobre dois tipos de defeitos: essa √© uma depend√™ncia c√≠clica de m√≥dulos e algum m√≥dulo n√£o utilizado, ou seja, um problema de elimina√ß√£o de c√≥digo morto. <br><br><img src="https://habrastorage.org/webt/pv/zz/kc/pvzzkcqb1xx6dk5ko7slsrz2iia.jpeg"><br><br>  Vamos come√ßar com depend√™ncia circular. <br><br><img src="https://habrastorage.org/webt/2g/nx/u3/2gnxu3ruhrjtdjhhwfmeomypv-e.jpeg"><br><br>  Tudo parece ser bastante simples aqui.  Voc√™ j√° tem um gr√°fico direcionado, basta encontrar um loop l√°.  Vou explicar por que estou falando sobre isso.  O fato √© que antes de escrever, basicamente, o lado do servidor no Node.js, e n√£o usamos, em princ√≠pio, nenhum webpack / babel, nada.  Ou seja, eles lan√ßaram como est√£o.  E havia exigir.  Quem se lembra de como a importa√ß√£o difere da exig√™ncia?  Tudo est√° correto.  Se voc√™ escreveu mal o c√≥digo, mas eu realmente escrevi, voc√™ pode descobrir em seu servidor que seu m√≥dulo est√° em algum tipo de depend√™ncia c√≠clica somente quando alguma solicita√ß√£o vem dos usu√°rios ou algum outro evento funcionar√°.  Esse √© um problema bastante global.  At√© o tempo de execu√ß√£o n√£o entender.  Ou seja, a importa√ß√£o √© muito melhor, n√£o haver√° esse problema. <br><br><img src="https://habrastorage.org/webt/ss/ly/az/sslyazi877vucvcpjj21kth7vle.jpeg"><br><br>  Depois, pegue o algoritmo que desejar.  Aqui eu peguei um algoritmo bastante simples.  Precisamos encontrar um v√©rtice que tenha apenas um tipo de aresta - de entrada ou de sa√≠da.  Se existe esse v√©rtice, n√≥s o exclu√≠mos, removemos as arestas e, de fato, continuamos esse processo, encontraremos e provaremos que havia um ciclo de cinco ciclos neste gr√°fico. <br><br>  Concorde, se voc√™ analisou por c√≥digo, ou seja, ainda √© poss√≠vel encontrar um ciclo de dois ou tr√™s comprimentos, mas √© mais imposs√≠vel, e em nosso projeto havia realmente um ciclo de sete, mas n√£o em produ√ß√£o. <br><br><img src="https://habrastorage.org/webt/yj/cz/kb/yjczkbpye4suwsuhgvmw-ku1azu.jpeg"><br><br>  Sobre m√≥dulos n√£o utilizados.  H√° tamb√©m um algoritmo bastante trivial.  Precisamos destacar os componentes conectados em nosso gr√°fico e apenas olhar, encontrar esses componentes, que n√£o incluem nenhum dos n√≥s de entrada.  Nesse caso, esse √© o componente da conex√£o, ambos os v√©rtices, ao que parece, os dois n√≥s.  Ent√£o chamado entry.js.  Na verdade, n√£o importa como √© chamado, √© isso que voc√™ descreveu na configura√ß√£o da montagem de entrada. <br><br><img src="https://habrastorage.org/webt/u3/g9/yo/u3g9yo0xtwjegnyxpe-gb1xpk_0.jpeg"><br><br>  Mas h√° outra abordagem.  Se voc√™ n√£o coletou o gr√°fico e apenas possui um sistema de compila√ß√£o, como √© a maneira mais barata de fazer isso?  Vamos apenas marcar todos os arquivos que entraram na montagem durante a montagem.  Etiquete-os e crie muitos.  Depois disso, devemos obter muitos de todos os arquivos que voc√™ possui no projeto e simplesmente subtra√≠-los.  Essa √© uma opera√ß√£o muito simples. <br><br><img src="https://habrastorage.org/webt/e2/yc/zn/e2yczn1scag0kmnvd97aqvdg_hc.jpeg"><br><br>  E agora n√£o estou dizendo apenas algo te√≥rico, fui inspirado, vim para o meu projeto e fiz isso.  E aten√ß√£o!  Eu nem apaguei node_modules.  Eu deixei isso como um ponto de crescimento para a pr√≥xima revis√£o.  E, em resumo, fiquei t√£o inspirada por mim mesma que decidi de alguma forma fazer esse slide, reorganiz√°-lo.  Deixe assim, porque √© muito legal! <br><br>  Bons n√∫meros, voc√™ pode imaginar como tudo ficou bem?  E ent√£o fui levado a uma estepe que me senti como um designer e pensei que essa √© uma conquista que gostaria de acrescentar ao quadro.  E, como voc√™ sabe, levantei-me, olhei e percebi que provavelmente n√£o era designer, mas, de fato, desenvolvedor web.  Mas eu n√£o sou bobo.  Peguei esse quadro, adicionado ao meu site para amuletos de SEO. <br><br><img src="https://habrastorage.org/webt/ji/14/nq/ji14nqwj-qsydqvw-ennrzkonqi.jpeg"><br><br>  Voc√™ pode usar, at√© o link √©.  E para que voc√™ n√£o pense que estou enganando voc√™ - hoje somos francos -, olhei realmente para os coment√°rios.  Eu acho que voc√™ pode acreditar neles. <br><br><img src="https://habrastorage.org/webt/j0/0j/9v/j00j9vldpwzp39028m0uojaoxia.jpeg"><br><br>  Bem, para ser sincero, parecia algo assim.  Eu vi uma nova hipo-biblioteca thanos-js, peguei, criei uma solicita√ß√£o de pool.  Em segredo, tenho direitos de administrador em nosso reposit√≥rio.  E eu peguei e confundi o mestre.  Como voc√™ gosta disso?  Bem, voc√™ e eu somos francos e, de fato, tudo se parecia com isso.  Se algu√©m n√£o souber, thanos-js √© uma biblioteca que simplesmente remove 50% do seu c√≥digo aleatoriamente. <br><br><img src="https://habrastorage.org/webt/nt/0g/q1/nt0gq16vrnioiabs2sgcyj51qve.jpeg"><br><br>  Na verdade, usei a biblioteca l√° de qualquer maneira, mas a biblioteca √© chamada de maneira diferente.  Isso √© chamado de desvio e agora falaremos sobre isso com voc√™.  E aqui eu gostaria de observar que a solicita√ß√£o de pool √© bastante significativa, menos 44 mil linhas de c√≥digo, e voc√™ pode imaginar - passou no teste pela primeira vez.  Ou seja, o que estou falando pode realmente funcionar. <br><br><img src="https://habrastorage.org/webt/ue/2i/5w/ue2i5wil5tev67r5vcrzbjsyzmq.jpeg"><br><br>  Diffector  De fato, ele est√° envolvido n√£o apenas na tarefa de remover m√≥dulos n√£o utilizados, procurando defeitos no gr√°fico, mas tamb√©m em uma tarefa mais importante.  O que eu declarei inicialmente era ajudar o desenvolvedor e o testador, agora vamos falar sobre isso.  E funciona mais ou menos assim. <br><br>  N√≥s obtemos uma lista de arquivos modificados usando o sistema de controle de vers√£o.  N√≥s j√° constru√≠mos um gr√°fico - o difetor o constr√≥i.  E para cada arquivo modificado, procuramos o caminho para a entrada e marcamos a entrada modificada.  E a entrada corresponder√° √†s p√°ginas do aplicativo que o usu√°rio ver√°.  Mas isso √© bastante l√≥gico. <br><br>  E o que isso nos d√°?  Para teste - sabemos quais p√°ginas do aplicativo foram alteradas.  Podemos dizer ao testador que somente eles valem a pena testar.  Tamb√©m podemos dizer ao nosso ci-job, que executa testes autom√°ticos, que apenas essas p√°ginas valem a pena ser testadas.  E para os desenvolvedores, tudo √© muito mais simples, porque agora os testadores n√£o escrevem para voc√™ e n√£o perguntam: "Por que voc√™ precisa testar?" <br><br><img src="https://habrastorage.org/webt/wb/jr/se/wbjrsedhjgtn7xkmh7xzxurf5z4.jpeg"><br><br>  Vejamos um exemplo de como o difetor funciona.  Aqui temos um determinado diret√≥rio, pages.desktop / *.  Apenas cont√©m uma lista das pr√≥prias p√°ginas.  E as p√°ginas tamb√©m s√£o descritas por v√°rios arquivos.  O controlador √© o lado do servidor da p√°gina.  Vista √© algum tipo de parte de rea√ß√£o.  E deps, isso √© de outro sistema de compila√ß√£o.  N√£o temos apenas o webpack, mas tamb√©m o ENB. <br><br><img src="https://habrastorage.org/webt/iq/dv/qo/iqdvqoq5yf4xpfpfqnl9ozxmwws.jpeg"><br><br>  E fiz algumas altera√ß√µes no projeto, em um arquivo vazio, cuja estrutura voc√™ viu.  √â isso que o diferencial me d√°.  Eu apenas comecei, o diffector √© um aplicativo de linha de comando.  Eu o iniciei, ele me disse que alterei uma p√°gina, chamada BindBonusPage. <br><br><img src="https://habrastorage.org/webt/vy/na/y3/vynay3b95xwzhuuawbjwz7jpbfm.jpeg"><br><br>  Tamb√©m posso execut√°-lo no modo detalhado, ver um relat√≥rio mais detalhado e realmente ver que, pelo menos, funciona em um caso t√£o simples.  Como vemos, em nossa BindBonusPage, o arquivo de √≠ndice e o controlador foram alterados. <br><br>  Mas vamos ver o que acontece se mudarmos outra coisa. <br><br><img src="https://habrastorage.org/webt/dd/rh/tl/ddrhtl_drtw2aqq5rt36r4ncqiu.jpeg"><br><br>  Eu mudei outra coisa.  E o diferencial me disse que mudei nove p√°ginas.  E isso n√£o me deixa mais feliz, como se ele realmente n√£o me ajudasse. <br><br><img src="https://habrastorage.org/webt/ew/qh/ce/ewqhceogxq9z42d5zxl4yvfcyvy.jpeg"><br><br>  Vamos ver porque?  Agora, mostra os motivos pelos quais esta p√°gina foi considerada modificada.    ,     .  -    uikit. <br><br><img src="https://habrastorage.org/webt/li/wd/ws/liwdwsd_ujkbc-abp18vcmceaim.jpeg"><br><br>    diff.        .  ,    diffector  .          ,    - ,       . <br><br><img src="https://habrastorage.org/webt/zj/kf/uy/zjkfuy1ybdcht1hbuxktaznup2g.jpeg"><br><br>  , , .     ,   ,           entry, , ,       test-scope,     .     . <br><br> . ,    , ,  ,    . <br><br><img src="https://habrastorage.org/webt/pb/ep/ks/pbepksc2lwyezimbbytd6ngbujs.jpeg"><br><br>        .    - ,   .   ‚Äî i18n,    ,    .  , ,  ,         .   ,    ,   - . <br><br>      ?           ,     , , , ,     . <br><br><img src="https://habrastorage.org/webt/zg/07/au/zg07aumxne59rvavifrhtxyi0p8.jpeg"><br><br>   - .     ,      B  ,  ,   -2    .       .        ,  esm. <br><br><img src="https://habrastorage.org/webt/4o/io/d0/4oiod0-nkygafo_zp6ztfh2txju.jpeg"><br><br>      . <br><br><img src="https://habrastorage.org/webt/th/ic/zz/thiczzasr1ggt87bgqy_ddhxlym.jpeg"><br><br>    . <br><br><img src="https://habrastorage.org/webt/vp/sh/4o/vpsh4ozm_pfjbgakddnvri-bzey.jpeg"><br><br> ,     value,          .       ,     ,     .        ,        . <br><br> ,       AST,  ,         250  ,   ,     . ,   ,     -  ,     ,     . <br><br><img src="https://habrastorage.org/webt/yg/og/9p/ygog9p0lhvoiffbm6ilak-b7db8.jpeg"><br><br>  ,     - GlobalContext  - ,   .    ,     modify,    , ?   ,  -   GlobalContext.    .       . ,    side effects. ,  ,   webpack,   ,    .  ,      webpack sideEffects: true,       .     . <br><br><img src="https://habrastorage.org/webt/ov/wn/ph/ovwnphvbkewixae0ypihcambj1k.jpeg"><br><br>    ,   - -       . ,   .      diffector,        . ,   ,      .       ‚Äî ,      .   ,   . <br><br>   ,     ,   diff, expand, log,   ,     ,      ,   . <br><br><img src="https://habrastorage.org/webt/tr/3s/qa/tr3sqaezwkxap8pdbrjuh-jjewe.jpeg"><br><br>  , .        D,  diff.      ,   , ,   .    ,   ,     .          ,   ,    .        . <br><br> ,   ,     .          .    . ,  ‚Äî   ,    .      .    .        ,     , , ,   ,      .      .       ,         . <br><br>    ‚Äî     diffector ?    ,     ,   ,    . <br><br><img src="https://habrastorage.org/webt/pq/rf/lf/pqrflfrep6fp0ffzhsntxw_lbm0.jpeg"><br><br>     - ,    ,     . <br><br><img src="https://habrastorage.org/webt/1k/qs/u4/1kqsu4cuurzk-8ib7n4sus4b8-g.jpeg"><br><br>       , ,      entry.        entry.     diffector. <br><br><img src="https://habrastorage.org/webt/3a/t4/gi/3at4giub3oqpahtey5yznumq1xy.jpeg"><br><br>     .    -.      ,    . <br><br><img src="https://habrastorage.org/webt/rt/s1/nc/rts1ncwpwfo2gchhdglbx5ogevs.jpeg"><br><br>  ,   entry     -,   . <br><br><img src="https://habrastorage.org/webt/cz/6i/lr/cz6ilrthse-hs0awccmuxizen0g.jpeg"><br><br>    .   diffector.      .  ,    ,  -    ,       -.   ,  .   : ,  BindBonusPage,    -,     .    .   , , -  .   . <br><br><img src="https://habrastorage.org/webt/ev/wx/va/evwxvahpj0honucu2yysxvtow6s.jpeg"><br><br><img src="https://habrastorage.org/webt/c5/9j/o6/c59jo6uyprhncjcrlnwevxrx4eu.jpeg"><br><br>    ‚Äî    CI.      .    :   ,   ,          . <br><br><img src="https://habrastorage.org/webt/7r/14/j9/7r14j90rvxqce-tuqobcjwrdewc.jpeg"><br><br>  ,    . 43  ‚Äî   testing,     ,     . <br><br><img src="https://habrastorage.org/webt/bz/-w/9r/bz-w9rnatawaxbqdjdlqws7ppki.jpeg"><br><br>    .  , ,      . <br><br><img src="https://habrastorage.org/webt/fq/jw/gl/fqjwglsxt9v3qdpby861svprpve.jpeg"><br><br>    ,          .   :       ,      ,      .  ,     ,      ,     ,         ,   .    ,    ,     - . <br><br><img src="https://habrastorage.org/webt/pk/oy/pg/pkoypg3-8saqxh-endw9soc-t-o.jpeg"><br><br> . , ,      ,      .      - ,        -   ,   , ,   .         . <br><br>  ,       ,   ,      output   .    ,     .    ‚Äî .   ‚Äî      .  Obrigada </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454470/">https://habr.com/ru/post/pt454470/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454456/index.html">Treinamento Cisco 200-125 CCNA v3.0. Dia 7. FAQ</a></li>
<li><a href="../pt454458/index.html">Teste metam√≥rfico: por que quase ningu√©m sabe sobre essa t√©cnica promissora</a></li>
<li><a href="../pt454460/index.html">O resumo de materiais interessantes para o desenvolvedor m√≥vel 300 (27 de maio a 2 de junho)</a></li>
<li><a href="../pt454462/index.html">Fotograma sem papel fotogr√°fico</a></li>
<li><a href="../pt454464/index.html">Desenvolvimento de testes visuais baseados em Gemini e Storybook</a></li>
<li><a href="../pt454472/index.html">O que voc√™ precisa saber sobre o mais recente patch de roteador da Cisco</a></li>
<li><a href="../pt454474/index.html">Eventos digitais em Moscou, de 3 a 9 de junho</a></li>
<li><a href="../pt454476/index.html">Pr√°ticas recomendadas Node.js - Dicas da estrutura do projeto</a></li>
<li><a href="../pt454478/index.html">Extens√£o das Ferramentas de Borda da IoT do Azure (Visualiza√ß√£o) anunciada</a></li>
<li><a href="../pt454482/index.html">Uma li√ß√£o amarga na ind√∫stria de IA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>