<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☠️ 🤖 ☝️ Web asketis: prototipe pasar loak saat bepergian dan js 👨🏼‍🏭 🥞 🍇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya, saya ingin membagikan hasil pemikiran saya tentang apa itu aplikasi web modern. Sebagai contoh, pertimbangkan merancang papan buletin u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Web asketis: prototipe pasar loak saat bepergian dan js</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435908/"><p> <a href=""><img src="https://habrastorage.org/webt/jl/lq/qo/jllqqo3xn1mthylxxodb2-digfw.png" alt="tangkapan layar"></a> </p><br><p>  Halo semuanya, saya ingin membagikan hasil pemikiran saya tentang apa itu aplikasi web modern.  Sebagai contoh, pertimbangkan merancang papan buletin untuk komik.  Dalam arti tertentu, produk yang dipermasalahkan ini dirancang untuk pemirsa Geeks dan simpatisan, yang memungkinkan Anda untuk menunjukkan kebebasan dalam antarmuka.  Dalam komponen teknis, sebaliknya, perhatian terhadap detail diperlukan. </p><br><p>  Sebenarnya, saya tidak mengerti apa pun di komik, tapi saya suka pasar loak, terutama dalam format forum, yang populer di nol.  Oleh karena itu, asumsi (mungkin salah), yang darinya kesimpulan berikut mengalir, hanya satu - jenis interaksi utama dengan aplikasi yang dilihat, pengumuman posting sekunder dan diskusi. </p><br><p> Tujuan kami adalah membuat aplikasi sederhana, tanpa <del>  pengetahuan teknis </del>  peluit tambahan, bagaimanapun, konsisten dengan kenyataan modern.  Persyaratan utama yang ingin saya capai adalah: </p><a name="habracut"></a><br><ol><li><p>  Sisi server: </p><br><p>  a) Melakukan fungsi menyimpan, memvalidasi, mengirim data pengguna ke klien <br>  b) Operasi di atas menghabiskan sejumlah sumber daya yang dapat diterima (waktu, termasuk) <br>  c) Aplikasi dan data dilindungi dari vektor serangan populer <br>  d) Ini memiliki API sederhana untuk klien pihak ketiga dan interaksi interserver <br>  e) Cross-platform, penyebaran sederhana </p><br></li><li><p>  Sisi klien: </p><br><p>  a) Menyediakan fungsionalitas yang diperlukan untuk membuat dan menggunakan konten <br>  b) Antarmuka nyaman untuk penggunaan reguler, jalur minimum untuk tindakan apa pun, jumlah maksimum data per layar <br>  c) Keluar dari komunikasi dengan server, semua fungsi yang tersedia dalam situasi ini tersedia <br>  d) Antarmuka menampilkan versi negara saat ini dan konten, tanpa me-reboot dan menunggu <br>  d) Memulai ulang aplikasi tidak mempengaruhi kondisinya <br>  f) Jika memungkinkan, gunakan kembali elemen DOM dan kode JS <br>  g) Kami tidak akan menggunakan pustaka dan kerangka kerja pihak ketiga saat runtime <br>  h) Tata letak adalah semantik untuk aksesibilitas, pengurai, dll. <br>  i) Navigasi konten utama dapat diakses menggunakan URL dan keyboard </p><br></li></ol><br><p>  Menurut pendapat saya, persyaratan logis, dan sebagian besar aplikasi modern pada tingkat tertentu memenuhi persyaratan ini.  Mari kita lihat apa yang terjadi dengan kami (tautan ke sumber dan demo di akhir posting). </p><br><div class="spoiler">  <b class="spoiler_title">Peringatan:</b> <div class="spoiler_text"><ul><li>  Saya ingin meminta maaf kepada penulis gambar yang tidak dikenal yang digunakan dalam demo tanpa izin, serta Gösse G., Prozorovskaya B. D. dan penerbit "Library of Florence Pavlenkov" karena menggunakan kutipan dari karya "Siddhartha". </li><li>  Penulis bukan programmer sejati, saya tidak merekomendasikan menggunakan kode atau teknik yang digunakan dalam proyek ini jika Anda tidak tahu apa yang Anda lakukan. </li><li>  Saya minta maaf atas gaya kode ini, bisa saja ditulis lebih mudah dibaca dan jelas, tetapi ini tidak menyenangkan.  Proyek untuk jiwa dan teman, seperti yang mereka katakan. </li><li>  Saya juga meminta maaf untuk tingkat melek huruf, terutama dalam teks bahasa Inggris.  Tahun Berbicara Dari May Hart. </li><li>  Kinerja prototipe yang disajikan diuji dalam [kromium 70;  linux x86_64;  1366x768], saya akan sangat berterima kasih kepada pengguna platform dan perangkat lain untuk pesan kesalahan. </li><li>  Ini adalah prototipe dan topik yang diusulkan untuk diskusi - pendekatan dan prinsip, saya meminta agar semua kritik terhadap implementasi dan sisi estetika disertai dengan argumen. </li></ul></div></div><br><h2 id="server">  Server </h2><br><p>  Bahasa untuk server adalah golang.  Bahasa yang sederhana dan cepat dengan perpustakaan standar yang sangat baik dan dokumentasi ... sedikit mengganggu.  Pilihan awal jatuh pada elixir / erlang, tetapi karena saya sudah tahu go (relatif), diputuskan untuk tidak memperumitnya (dan paket yang diperlukan hanya untuk pergi). </p><br><p>  Penggunaan kerangka kerja web di komunitas-go tidak dianjurkan (layak, layak untuk diakui), kami memilih kompromi dan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mikroframework labstack / echo</a> , sehingga mengurangi jumlah rutinitas dan, menurut saya, tidak kehilangan banyak dalam kinerja. </p><br><p>  Kami menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tidwall / buntdb</a> sebagai databasenya.  Pertama, solusi built-in lebih nyaman dan mengurangi biaya overhead, dan kedua, in-memory + key / value - <del>  modis, bergaya </del>  Cepat dan tidak perlu cache.  Kami menyimpan dan memberikan data dalam JSON, hanya memvalidasi ketika berubah. </p><br><p>  Pada i3 generasi kedua, pencatat internal menunjukkan waktu eksekusi untuk berbagai permintaan mulai 0,5 hingga 10 ms.  Menjalankan wrk pada mesin yang sama juga menunjukkan hasil yang cukup untuk tujuan kita: </p><br><pre><code class="plaintext hljs">➜ comico git:(master) wrk -t2 -c500 -d60s http://localhost:9001/pub/mtimes Running 1m test @ http://localhost:9001/pub/mtimes 2 threads and 500 connections Thread Stats Avg Stdev Max +/- Stdev Latency 20.74ms 16.68ms 236.16ms 72.69% Req/Sec 13.19k 627.43 15.62k 73.58% 1575522 requests in 1.00m, 449.26MB read Requests/sec: 26231.85 Transfer/sec: 7.48MB</code> </pre> <br><pre> <code class="plaintext hljs">➜ comico git:(master) wrk -t2 -c500 -d60s http://localhost:9001/pub/goods Running 1m test @ http://localhost:9001/pub/goods 2 threads and 500 connections Thread Stats Avg Stdev Max +/- Stdev Latency 61.79ms 65.96ms 643.73ms 86.48% Req/Sec 5.26k 705.24 7.88k 70.31% 628215 requests in 1.00m, 8.44GB read Requests/sec: 10454.44 Transfer/sec: 143.89MB</code> </pre> <br><h3 id="struktura-proekta">  Struktur proyek </h3><br><p>  Paket <u>comico / model</u> dibagi menjadi tiga file: <br>  model.go - berisi deskripsi tipe data dan fungsi umum: pembuatan / pemutakhiran (buntdb tidak membedakan antara operasi ini dan kami memeriksa keberadaan catatan secara manual), validasi, penghapusan, pengambilan satu catatan, dan pengambilan daftar; <br>  rules.go - berisi aturan validasi untuk tipe dan fungsi logging tertentu; <br>  files.go - bekerja dengan gambar. <br>  Tipe Mtimes menyimpan data pada perubahan terakhir dari tipe yang tersisa dalam database, sehingga memberi tahu klien data mana yang telah berubah. </p><br><p>  Paket <u>comico / bd</u> berisi fungsi umum untuk berinteraksi dengan database: membuat, menghapus, memilih, dll. Buntdb menyimpan semua perubahan pada file (dalam kasus kami, satu detik), dalam format teks, yang nyaman dalam beberapa situasi.  File db tidak diedit, perubahan dalam hal keberhasilan transaksi ditambahkan ke akhir.  Semua upaya saya untuk melanggar integritas data tidak berhasil, dalam kasus terburuk, perubahan pada detik terakhir hilang. <br>  Dalam implementasi kami, setiap jenis sesuai dengan database terpisah dalam file terpisah (kecuali untuk log yang disimpan secara eksklusif dalam memori dan diatur ulang ke nol setelah reboot).  Hal ini sebagian besar disebabkan oleh kemudahan cadangan dan administrasi, nilai tambah kecil - transaksi terbuka untuk mengedit blok akses ke hanya satu jenis data. <br>  Paket ini dapat dengan mudah diganti dengan yang serupa menggunakan database lain, SQL, misalnya.  Untuk melakukan ini, cukup mengimplementasikan fungsi-fungsi berikut: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Exist</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Insert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key, val </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">error</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadAll</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, pattern </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(str </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, err error)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadOne</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(str </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, err error)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Renew</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(db </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">, key </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err error, newId </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span></code> </pre> <br><p>  Paket <u>comico / cnst</u> berisi beberapa konstanta yang diperlukan di semua paket (tipe data, tipe tindakan, tipe pengguna).  Selain itu, paket ini berisi semua pesan yang dapat dibaca oleh manusia yang dengannya server kami akan menanggapi dunia luar. </p><br><p>  Paket <u>comico / server</u> berisi informasi perutean.  Juga, hanya beberapa baris (terima kasih kepada pengembang Echo), otorisasi menggunakan JWT, CORS, header CSP, logger, distribusi statis, gzip, sertifikat otomatis ACME, dll. Dikonfigurasi. </p><br><h3 id="tochki-vhoda-api">  Titik Masuk API </h3><br><table><thead><tr><th>  URL </th><th>  Data </th><th>  Deskripsi </th></tr></thead><tbody><tr><td>  dapatkan / pub / (barang | posting | pengguna | cmnts | file) </td><td>  - </td><td>  Mendapatkan berbagai pengumuman, posting, pengguna, komentar, file yang relevan </td></tr><tr><td>  dapatkan / pub / mtimes </td><td>  - </td><td>  Mendapatkan waktu perubahan terakhir untuk setiap tipe data </td></tr><tr><td>  pos / pub / login </td><td>  {id *: login, pass *: password} </td><td>  Mengembalikan token JWT dan durasinya </td></tr><tr><td>  post / pub / pass </td><td>  {id *, pass *} </td><td>  Membuat pengguna baru jika datanya benar </td></tr><tr><td>  menempatkan / api / pass </td><td>  {id *, pass *} </td><td>  Pembaruan kata sandi </td></tr><tr><td>  posting | put / api / barang </td><td>  {id *, auth *, judul *, ketik *, harga *, teks *, gambar: [], Tabel: {key: value}} </td><td>  Buat / perbarui iklan </td></tr><tr><td>  posting | put / api / posting </td><td>  {id *, auth *, judul *, ketik *, teks *} </td><td>  Buat / perbarui posting forum </td></tr><tr><td>  posting | put / api / pengguna </td><td>  {id *, judul, jenis, status, juru tulis: [], abaikan: [], Tabel: {key: value}} </td><td>  Buat / Perbarui Pengguna </td></tr><tr><td>  post / api / cmnts </td><td>  {id *, auth *, pemilik *, ketik *, untuk, teks *} </td><td>  Pembuatan komentar </td></tr><tr><td>  delete / api / (barang | posting | pengguna | cmnts) / [id] </td><td>  - </td><td>  Menghapus entri dengan id </td></tr><tr><td>  dapatkan / api / aktivitas </td><td>  - </td><td>  Memperbarui waktu baca terakhir dari komentar yang masuk untuk pengguna saat ini </td></tr><tr><td>  get / api / (berlangganan | abaikan) / [tag] </td><td>  - </td><td>  Menambah atau menghapus tag (jika ada) kepada pengguna dalam daftar langganan / abaikan </td></tr><tr><td>  pos / api / unggah / (barang | pengguna) </td><td>  multipart (nama, file) </td><td>  Mengunggah iklan foto / avatar pengguna </td></tr></tbody></table><br><p>  * - bidang yang wajib diisi <br>  api - memerlukan otorisasi, pub - no </p><br><p>  Dengan permintaan dapatkan yang tidak cocok dengan di atas, server mencari file di direktori untuk statis (misalnya, / img / * - images, /index.html - klien). <br>  Titik api mana pun akan mengembalikan kode respons 200 jika berhasil, 400 atau 404 untuk kesalahan, dan pesan singkat jika perlu. <br>  Hak aksesnya sederhana: membuat entri tersedia untuk pengguna yang berwenang, mengedit penulis dan moderator, admin dapat mengedit dan menunjuk moderator. <br>  API dilengkapi dengan anti-perusak paling sederhana: tindakan dicatat bersama dengan id pengguna dan IP, dan, dalam kasus akses yang sering, kesalahan dikembalikan meminta Anda untuk menunggu sedikit (berguna terhadap tebakan kata sandi). </p><br><h2 id="klient">  Pelanggan </h2><br><p>  Saya suka konsep web'a reaktif, saya pikir sebagian besar situs / aplikasi modern harus dilakukan dalam kerangka konsep ini, atau sepenuhnya statis.  Di sisi lain, situs sederhana dengan megabita kode JS tidak bisa tidak tertekan.  Menurut pendapat saya, masalah ini (dan tidak hanya) dapat diselesaikan oleh Svelte.  Kerangka kerja ini (atau lebih tepatnya bahasa untuk membangun antarmuka reaktif) tidak kalah dengan Vue dalam fungsionalitas yang diperlukan, tetapi memiliki keunggulan yang tidak dapat disangkal - komponen dikompilasi ke dalam vanilla JS, yang mengurangi ukuran bundel dan beban pada mesin virtual (bundle.min.js.gz pasar loak kami sederhana, menurut standar saat ini, 24KB).  Detailnya dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> resmi. </p><br><p>  Kami memilih pasar loak SvelteJS untuk sisi klien dari pasar loak, kami berharap yang terbaik untuk Rich Harris dan pengembangan lebih lanjut dari proyek ini! </p><br><p>  PS Saya tidak ingin menyinggung siapa pun.  Saya yakin bahwa setiap spesialis dan setiap proyek memiliki alat sendiri. </p><br><h3 id="klient--dannye">  Pelanggan / Data </h3><br><h4 id="url">  URL </h4><br><p>  Kami gunakan untuk navigasi.  Kami tidak akan mensimulasikan dokumen multi-halaman, melainkan, kami menggunakan halaman hash dengan parameter kueri.  Untuk transisi, Anda dapat menggunakan &lt;a&gt; yang biasa tanpa js. </p><br><p>  Bagian terkait dengan tipe data: <u>/ # barang</u> , <u>/ # posting</u> , <u>/ # pengguna</u> . <br>  Parameter <em>:?</em> <u>Id =</u> <em>record_id</em> <u>,? Halaman =</u> <em>page_number</em> <u>,? Cari =</u> <em>search_query</em> . </p><br><p>  Beberapa contoh: </p><br><ul><li>  <u>/ # posts? id = 1542309643 &amp; halaman = 999 &amp; search = {auth: anon}</u> - <em>posting</em> bagian, id posting - <em>1542309643</em> , halaman komentar - <em>999</em> , permintaan pencarian - <em>{auth: anon}</em> </li><li>  <u>/ # barang? halaman = 2 &amp; pencarian = siddhartha</u> - <em>barang</em> bagian, halaman bagian - <em>2</em> , permintaan pencarian - <em>siddhartha</em> </li><li>  <u>/ # goods? search = wer {key: value} t</u> - section <em>goods</em> , permintaan pencarian - terdiri dari pencarian substring <em>wert</em> di header atau teks iklan dan nilai substring di properti <em>kunci</em> dari bagian tabular bagian dari iklan </li><li>  <u>/ # goods? search = {model: 100, display: 256}</u> - Saya pikir semuanya jelas di sini dengan analogi </li></ul><br><p>  Fungsi parsing dan pembuatan URL dalam implementasi kami terlihat seperti ini: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'hashchange'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hash = location.hash.slice(<span class="hljs-number"><span class="hljs-number">1</span></span>).split(<span class="hljs-string"><span class="hljs-string">'?'</span></span>), result = {} <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!hash[<span class="hljs-number"><span class="hljs-number">1</span></span>]) hash[<span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> { str = str.split(<span class="hljs-string"><span class="hljs-string">'='</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!str[<span class="hljs-number"><span class="hljs-number">0</span></span>] &amp;&amp; !!str[<span class="hljs-number"><span class="hljs-number">1</span></span>]) result[<span class="hljs-built_in"><span class="hljs-built_in">decodeURI</span></span>(str[<span class="hljs-number"><span class="hljs-number">0</span></span>]).toLowerCase()] = <span class="hljs-built_in"><span class="hljs-built_in">decodeURI</span></span>(str[<span class="hljs-number"><span class="hljs-number">1</span></span>]).toLowerCase() }) result.type = hash[<span class="hljs-number"><span class="hljs-number">0</span></span>] || <span class="hljs-string"><span class="hljs-string">'goods'</span></span> store.set({ <span class="hljs-attr"><span class="hljs-attr">hash</span></span>: result }) }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">goto</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ type, id, page, search }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { hash } = store.get(), args = <span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>], query = [] <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-string"><span class="hljs-string">'id'</span></span>, <span class="hljs-string"><span class="hljs-string">'page'</span></span>, <span class="hljs-string"><span class="hljs-string">'search'</span></span>).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = args[key] !== <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> ? args[key] : hash[key] || <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value !== <span class="hljs-literal"><span class="hljs-literal">null</span></span>) query.push(key + <span class="hljs-string"><span class="hljs-string">'='</span></span> + value) }) location.hash = (type || hash.type || <span class="hljs-string"><span class="hljs-string">'goods'</span></span>) + (!!query.length ? <span class="hljs-string"><span class="hljs-string">'?'</span></span> + query.join(<span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>) : <span class="hljs-string"><span class="hljs-string">''</span></span>) }</code> </pre> <br><h4 id="api">  API </h4><br><p>  Untuk bertukar data dengan server, kami akan menggunakan fetch api.  Untuk mengunduh catatan yang diperbarui pada interval pendek, kami membuat permintaan ke <em>/ pub / mtimes</em> , jika waktu perubahan terakhir untuk jenis apa pun berbeda dari yang lokal, kami memuat daftar jenis ini.  Ya, itu mungkin untuk menerapkan pemberitahuan pembaruan melalui SSE atau WebSockets dan pemuatan tambahan, tetapi dalam hal ini kita dapat melakukannya tanpa itu.  Apa yang kami dapatkan: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GET</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(location.origin + <span class="hljs-string"><span class="hljs-string">'/pub/'</span></span> + type) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">ok</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> })) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (type === <span class="hljs-string"><span class="hljs-string">'mtimes'</span></span>) store.set({ <span class="hljs-attr"><span class="hljs-attr">online</span></span>: response.ok }) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response.ok ? <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> response.json() : [] } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type, mtimes, updates = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> local = store.get()._mtimes, net = mtimes || <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GET(<span class="hljs-string"><span class="hljs-string">'mtimes'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!net[type] || local[type] === net[type]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = updates[<span class="hljs-string"><span class="hljs-string">'_'</span></span> + type] = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GET(type) local[type] = net[type]; updates._mtimes = local <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!value &amp;&amp; !!value.sort) store.set(updates) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkUpdates</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> checkUpdates(), <span class="hljs-number"><span class="hljs-number">30000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mtimes = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> store.GET(<span class="hljs-string"><span class="hljs-string">'mtimes'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>(<span class="hljs-string"><span class="hljs-string">'users'</span></span>, <span class="hljs-string"><span class="hljs-string">'goods'</span></span>, <span class="hljs-string"><span class="hljs-string">'posts'</span></span>, <span class="hljs-string"><span class="hljs-string">'cmnts'</span></span>, <span class="hljs-string"><span class="hljs-string">'files'</span></span>) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function"> =&gt;</span></span> checkUpdate(type, mtimes)) }</code> </pre> <br><p>  Untuk pemfilteran dan pagination, kami menggunakan properti Svelte yang dihitung, berdasarkan data navigasi.  Arah nilai yang dihitung adalah: <strong>item</strong> (array catatan yang berasal dari server) =&gt; <strong>ignoredItems</strong> (catatan yang difilter berdasarkan daftar abaikan pengguna saat ini) =&gt; <strong>scribedItems</strong> (memfilter catatan menurut daftar langganan, jika diaktifkan) =&gt; <strong>curItem</strong> dan <strong>curItem</strong> (menghitung catatan saat ini tergantung pada bagian) =&gt; <strong>filteredItems</strong> (memfilter catatan tergantung pada permintaan pencarian, jika hanya ada satu catatan - memfilter komentar di atasnya) =&gt; <strong>maxPage</strong> (menghitung jumlah halaman berdasarkan 12 catatan / komentar per halaman) =&gt; <strong>pagedItem</strong> (mengembalikan array terakhir dengan  posting / komentar berdasarkan nomor halaman saat ini). </p><br><p>  Komentar dan gambar ( <strong>komentar</strong> dan <strong>_ gambar</strong> ) dihitung secara terpisah, dikelompokkan berdasarkan jenis dan catatan pemilik. </p><br><p>  Perhitungan terjadi secara otomatis dan hanya ketika data terkait berubah, data antara terus-menerus ada di memori.  Dalam hal ini, kami membuat kesimpulan yang tidak menyenangkan - untuk sejumlah besar informasi dan / atau pemutakhirannya yang sering, sejumlah besar sumber daya dapat dihabiskan. </p><br><h4 id="cache">  Cache </h4><br><p>  Menurut keputusan untuk membuat aplikasi offline, kami menerapkan penyimpanan catatan dan beberapa aspek keadaan di localStorage, file gambar di CacheStorage.  Bekerja dengan localStorage sangat sederhana, kami setuju bahwa properti dengan awalan "_" secara otomatis disimpan dan dipulihkan saat reboot ketika diubah.  Maka solusi kami mungkin terlihat seperti ini: </p><br><pre> <code class="javascript hljs">store.on(<span class="hljs-string"><span class="hljs-string">'state'</span></span>, ({ changed, current }) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(changed).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prop</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!prop.indexOf(<span class="hljs-string"><span class="hljs-string">'_'</span></span>)) localStorage.setItem(prop, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(current[prop])) }) }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadState</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state = {}</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; localStorage.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prop = localStorage.key(i) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(localStorage.getItem(prop) || <span class="hljs-string"><span class="hljs-string">'null'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!value &amp;&amp; !prop.indexOf(<span class="hljs-string"><span class="hljs-string">'_'</span></span>)) state[prop] = value } store.set(state) }</code> </pre> <br><p>  File sedikit lebih rumit.  Pertama-tama, kita akan menggunakan daftar semua file yang relevan (dengan waktu pembuatan) yang berasal dari server.  Saat memperbarui daftar ini, kami membandingkannya dengan nilai-nilai lama, meletakkan file-file baru di CacheStorage, menghapus yang sudah usang dari sana: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cacheImages</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">newFiles</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oldFiles = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(localStorage.getItem(<span class="hljs-string"><span class="hljs-string">'_files'</span></span>) || <span class="hljs-string"><span class="hljs-string">'[]'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cache = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> caches.open(<span class="hljs-string"><span class="hljs-string">'comico'</span></span>) oldFiles.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">file</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!~newFiles.indexOf(file)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [ id, type ] = file.split(<span class="hljs-string"><span class="hljs-string">':'</span></span>) cache.delete(<span class="hljs-string"><span class="hljs-string">`/img/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${type}</span></span></span><span class="hljs-string">_</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${id}</span></span></span><span class="hljs-string">_sm.jpg`</span></span>) }}) newFiles.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">file</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!~oldFiles.indexOf(file)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [ id, type ] = file.split(<span class="hljs-string"><span class="hljs-string">':'</span></span>), src = <span class="hljs-string"><span class="hljs-string">`/img/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${type}</span></span></span><span class="hljs-string">_</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${id}</span></span></span><span class="hljs-string">_sm.jpg`</span></span> cache.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Request(src, { <span class="hljs-attr"><span class="hljs-attr">cache</span></span>: <span class="hljs-string"><span class="hljs-string">'no-cache'</span></span> })) }}) }</code> </pre> <br><p>  Kemudian, Anda perlu mendefinisikan kembali perilaku pengambilan sehingga file tersebut diambil dari CacheStorage tanpa terhubung ke server.  Untuk melakukan ini, Anda harus menggunakan ServiceWorker.  Pada saat yang sama, kami akan mengonfigurasi file lain untuk di-cache untuk operasi di luar server: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CACHE = <span class="hljs-string"><span class="hljs-string">'comico'</span></span>, FILES = [ <span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-string"><span class="hljs-string">'/bundle.css'</span></span>, <span class="hljs-string"><span class="hljs-string">'/bundle.js'</span></span> ] self.addEventListener(<span class="hljs-string"><span class="hljs-string">'install'</span></span>, (e) =&gt; { e.waitUntil(caches.open(CACHE).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">cache</span></span></span><span class="hljs-function"> =&gt;</span></span> cache.addAll(FILES)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> self.skipWaiting())) }) self.addEventListener(<span class="hljs-string"><span class="hljs-string">'fetch'</span></span>, (e) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> r = e.request <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r.method !== <span class="hljs-string"><span class="hljs-string">'GET'</span></span> || !!~r.url.indexOf(<span class="hljs-string"><span class="hljs-string">'/pub/'</span></span>) || !!~r.url.indexOf(<span class="hljs-string"><span class="hljs-string">'/api/'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!~r.url.lastIndexOf(<span class="hljs-string"><span class="hljs-string">'_sm.jpg'</span></span>) &amp;&amp; e.request.cache !== <span class="hljs-string"><span class="hljs-string">'no-cache'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> e.respondWith(fromCache(r)) e.respondWith(toCache(r)) }) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromCache</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> caches.open(CACHE)).match(request) || <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Response(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, { <span class="hljs-attr"><span class="hljs-attr">status</span></span>: <span class="hljs-number"><span class="hljs-number">404</span></span> }) } <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toCache</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> fetch(request).catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> fromCache(request)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!response &amp;&amp; response.ok) (<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> caches.open(CACHE)).put(request, response.clone()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response }</code> </pre> <br><p>  Ini terlihat agak canggung, tetapi menjalankan fungsinya. </p><br><h3 id="klient--interfeys">  Klien / Antarmuka </h3><br><p>  Struktur komponen: <br>  index.html |  main.js <br>  == <u>header.html</u> - berisi logo, bilah status, menu utama, menu navigasi lebih rendah, formulir <u>pengiriman</u> komentar <br>  == <u>sid.html</u> - adalah wadah untuk semua komponen modal <br>  ==== <u>goodForm.html</u> - formulir untuk menambahkan dan mengedit iklan <br>  ==== <u>userForm.html</u> - edit formulir dari pengguna saat ini <br>  ====== <u>tableForm.html</u> - sebuah fragmen formulir untuk memasukkan data tabular <br>  ==== <u>postForm.html</u> - formulir untuk posting forum <br>  ==== <u>login.html</u> - form login / registrasi <br>  ==== <u>activity.html</u> - menampilkan komentar yang ditujukan kepada pengguna saat ini <br>  ==== <u>goodImage.html</u> - lihat iklan foto utama dan tambahan <br>  == <u>main.html</u> - wadah untuk konten utama <br>  ==== <u>goods.html</u> - daftar atau kartu pengumuman tunggal <br>  ==== <u>users.html</u> - sama untuk pengguna <br>  ==== <u>posts.html</u> - Saya pikir sudah jelas <br>  ==== <u>cmnts.html</u> - daftar komentar pada <u>posting</u> saat ini <br>  ====== <u>cmntsPager.html</u> - pagination untuk komentar </p><br><ul><li>  Di setiap komponen, kami mencoba meminimalkan jumlah tag html. </li><li>  Kami menggunakan kelas hanya sebagai indikator negara. </li><li>  Kami mengambil fungsi yang mirip dengan toko (properti toko langsing dan metode dapat digunakan langsung dari komponen dengan menambahkan awalan '$' ke mereka). </li><li>  Sebagian besar fungsi mengharapkan acara pengguna atau perubahan properti tertentu, memanipulasi data keadaan, menyimpan hasil pekerjaan mereka kembali ke keadaan dan mengakhiri.  Dengan demikian, koherensi kecil dan ekstensibilitas kode tercapai. </li><li>  Untuk kecepatan transisi dan peristiwa UI lainnya, kami memisahkan, sejauh mungkin, manipulasi dengan data yang terjadi di latar belakang dan tindakan yang terkait dengan antarmuka, yang pada gilirannya menggunakan hasil perhitungan saat ini, membangun kembali jika perlu, sisanya akan dilakukan oleh kerangka kerja. </li><li>  Data formulir yang akan diisi disimpan di Penyimpanan lokal untuk setiap input untuk mencegah kehilangan mereka. </li><li>  Di semua komponen, kami menggunakan mode abadi di mana properti-objek dianggap berubah hanya ketika tautan baru diterima, terlepas dari perubahan di bidang, sehingga mempercepat aplikasi kami sedikit, meskipun karena peningkatan kecil dalam jumlah kode. </li></ul><br><h3 id="klient--upravlenie">  Pelanggan / Manajemen </h3><br><p>  Untuk mengontrol menggunakan keyboard, kami menggunakan kombinasi berikut: <br>  <strong>Alt + s</strong> / <strong>Alt + a</strong> - mengalihkan halaman catatan ke depan / ke belakang, karena satu catatan mengalihkan halaman komentar. <br>  <strong>Alt + w</strong> / <strong>Alt + q</strong> - pindah ke rekaman berikutnya / sebelumnya (jika ada), bekerja dalam mode daftar, rekaman tunggal dan tampilan gambar <br>  <strong>Alt + x</strong> / <strong>Alt + z</strong> - menggulir halaman ke bawah / atas.  Pada tampilan gambar, alihkan gambar maju / mundur <br>  <strong>Escape</strong> - menutup jendela modal, jika terbuka, kembali ke daftar, jika satu entri terbuka, membatalkan permintaan pencarian dalam mode daftar <br>  <strong>Alt + c</strong> - berfokus pada bidang pencarian atau komentar, tergantung pada mode saat ini <br>  <strong>Alt + v</strong> - aktifkan / nonaktifkan mode tampilan foto untuk satu iklan <br>  <strong>Alt + r</strong> - membuka / menutup daftar komentar yang masuk untuk pengguna yang diotorisasi <br>  <strong>Alt + t</strong> - Mengalihkan tema terang / gelap <br>  <strong>Alt + g</strong> - Daftar Iklan <br>  <strong>Alt + u</strong> - Pengguna <br>  <strong>Alt + p</strong> - forum <br>  Saya tahu bahwa di banyak browser kombinasi ini digunakan oleh browser itu sendiri, tetapi untuk chrome saya, saya tidak dapat menemukan sesuatu yang lebih nyaman.  Saya akan senang dengan saran Anda. </p><br><p>  Selain papan ketik, tentu saja Anda dapat menggunakan konsol peramban.  Misalnya, <em>store.goBack ()</em> , <em>store.nextPage ()</em> , <em>store.prevPage ()</em> , <em>store.nextItem ()</em> , <em>store.prevItem ()</em> , <em>store.search (stringValue)</em> , <em>store.checkUpdate ('goods' || ' users '||' posts '||' files '||' cmnts ')</em> - melakukan apa yang tersirat namanya;  <em>store.get (). komentar</em> dan <em>store.get () ._ gambar</em> - mengembalikan file dan komentar yang dikelompokkan;  <em>store.get (). ignoredItems</em> dan <em>store.get (). scribedItems</em> adalah daftar catatan yang Anda abaikan dan lacak.  Daftar lengkap semua data antara dan perhitungan tersedia dari <em>store.get ()</em> .  Saya tidak berpikir bahwa ada orang yang membutuhkan ini dengan serius, tetapi, misalnya, memfilter catatan oleh pengguna dan menghapus bagi saya cukup nyaman dari konsol. </p><br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>  Di sinilah Anda dapat mengakhiri perkenalan Anda dengan proyek, Anda dapat menemukan rincian lebih lanjut dalam kode sumber.  Akibatnya, kami mendapat aplikasi yang cukup cepat dan ringkas, di sebagian besar validator, keamanan, kecepatan, ketersediaan, dll. Checker, itu menunjukkan hasil yang baik tanpa optimasi yang ditargetkan. <br>  Saya ingin tahu pendapat masyarakat bagaimana membenarkan pendekatan untuk mengatur aplikasi yang digunakan dalam prototipe, apa jebakannya, apa yang akan Anda implementasikan dengan cara yang secara fundamental berbeda? <br>  Kode sumber, contoh instruksi instalasi dan demo di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> (tolong <del>  merusak </del>  untuk menguji dalam kerangka KUHP). </p><br><p>  Catatan tambahan.  Kesimpulan sedikit pedagang.  Katakan padaku, dengan level seperti itu, apakah benar-benar mungkin untuk memulai pemrograman demi uang?  Jika tidak, apa yang harus dicari pertama-tama, jika demikian, beri tahu saya di mana mereka mencari pekerjaan yang menarik pada tumpukan yang sama sekarang.  Terima kasih </p><br><p>  Catatan tambahan.  Sedikit lagi tentang uang dan pekerjaan.  Bagaimana Anda menyukai ide ini: misalkan seseorang siap untuk mengerjakan proyek yang menarik baginya untuk gaji apa pun, namun, data tentang tugas dan pembayaran mereka akan tersedia untuk umum (ketersediaan dan kode untuk menilai kualitas kinerja yang diinginkan), jika pembayaran secara signifikan di bawah pasar, pesaing dari pemberi kerja dapat menawarkan banyak uang untuk melakukan tugas mereka, jika lebih tinggi - banyak pemain akan dapat menawarkan layanan mereka dengan harga lebih rendah.  Akankah skema seperti itu dalam beberapa situasi lebih optimal dan seimbang menyeimbangkan pasar (TI)? </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id435908/">https://habr.com/ru/post/id435908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id435898/index.html">Apa yang harus dipikirkan pada wawancara NALSD</a></li>
<li><a href="../id435900/index.html">Enkapsulasi itu</a></li>
<li><a href="../id435902/index.html">Anda tidak bisa hanya mengambil dan menulis PILIH jika vendor tidak mengizinkannya ... tetapi kami akan menulis</a></li>
<li><a href="../id435904/index.html">AI menerjemahkan aktivitas otak ke dalam ucapan</a></li>
<li><a href="../id435906/index.html">Penyimpanan Cluster Pacemaker + DRBD (Dual primer) + ctdb</a></li>
<li><a href="../id435910/index.html">Mengapa BSD kalah dalam pertempuran dengan GNU / Linux?</a></li>
<li><a href="../id435912/index.html">Masalah utama pengembangan antarmuka modern</a></li>
<li><a href="../id435914/index.html">Pengemasan Aplikasi Inti ASP.NET Menggunakan Docker</a></li>
<li><a href="../id435916/index.html">Meretas VK, otentikasi dua faktor tidak akan menyimpan</a></li>
<li><a href="../id435920/index.html">Buku Masakan Pengembang: Resep DDD (Bagian 4, Struktur)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>