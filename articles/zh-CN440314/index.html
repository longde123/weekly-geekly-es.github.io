<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤲🏾 👓 ⚽️ JDK 12发行候选：Shenandoah，G1，JMH，Arm64。 Swing中的错误会反击 😺 🕙 👩🏿‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="自JEP 3：JDK Release Process发布以来，已经过去了240天，并且生产新版本的地狱机器也不想停止。 因此， 下一个候选版本的时间到了。 在此期间，所有网桥都被烧毁，优先级为P2-P5的错误已经毫无意义，并且对发布之前的日期进行了编号。 



 虫子 


 并非所有优先级为P1...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JDK 12发行候选：Shenandoah，G1，JMH，Arm64。 Swing中的错误会反击</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/440314/"><p> 自<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JEP 3：JDK Release Process</a>发布以来，已经过去了240天，并且生产新版本的地狱机器也不想停止。 因此， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">下一个候选版本</a>的时间到了。 在此期间，所有网桥都被烧毁，优先级为P2-P5的错误已经毫无意义，并且对发布之前的日期进行了编号。 </p><br><p><img src="https://habrastorage.org/webt/rm/ls/lc/rmlslczx_0wk26jxxrrs85wt380.png"></p><a name="habracut"></a><br><h1 id="bagi"> 虫子 </h1><br><p> 并非所有优先级为P1的错误都已关闭。 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在bugtracker中</a>查看问题的完整列表。 在这里，最奇怪的事情在等待着我们：使用GTKLookAndFeel时，它们都严格地指代Swing。 </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JSlider显示问题与GTKLookAndFeel的滑块有关</a> ； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JScrollBar的GTKLookAndFeel显示问题</a> ； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JProgressBar显示与GTKLookAndFeel有关的问题</a> ； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JOptionPane的GTKLookAndFeel显示问题</a> ； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GTMLookAndFeel的JTextPane显示问题</a> 。 </li></ul><br><p> 头脑里已经说过：“但是这些在Swing中的家伙怎么了？” 这次他们不“怪”。 如果没有人知道，Gtk是一个免费的工具包，用于开发图形界面，尤其是在X11和Wayland的GNU / Linux操作系统上。 </p><br><p> 从Gtk 3.20开始，他们使用多种样式和小部件的方式已经<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">改变</a> 。 现在使用元素名称代替样式类和类型名称。  Gtk 3.20于2016 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">年3月21日发布</a> ，它是一个非常<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">大规模的</a>版本-默认为28933 commits和Wayland。 总的来说，整个Gnome看起来有些不同。 </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c84/80a/af1/c8480aaf1fd309a44e9290faa2c3b58d.png"></p><br><p> 难怪Swing可能会忘记某些东西而不进行测试。 一部分错误已被优先级转移到P2并转移到JDK13。例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这个有关</a> MacOS上Motif的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">错误（实际上</a>是这样）已不再是一个相关的图形环境： </p><br><p><img src="https://habrastorage.org/webt/dt/a5/0p/dta50prbuqzx19le5beowsqkuy0.png"></p><br><p> 如果有人真的还在Habré上使用Motif和AWT，那将很有趣。 我希望第十二个JDK不会因此而被取消，否则它将成为Java在其所有新发行历史中最史诗般的文件。 </p><br><h1 id="fichi"> 特色功能 </h1><br><p> 此列表中的JEP不会按重要性列出，而仅按序列号列出。 这样一来，您就不会突然认为Shenanda和JMH因为个人的同情而起身。 </p><br><p>  <strong>189： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">雪兰多亚：低暂停时间的垃圾收集器（实验性）</a></strong> </p><br><p> 如果那是一年前发生的，那将是一件好事，而申南达也加入了LTS。 好的，等等-谢谢。  Shenandoah是一个低坑收集器，由于多线程疏散阶段而达到了低坑收集。 此外，停顿不取决于臀部的大小，因此您可以安全地在产品上转动TB级的堆。 </p><br><p>  <strong>230：微<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">基准套件</a></strong> </p><br><p>基于JMH的测试套件已添加到JDK，JMH本身也已添加。 躺在<code>jdk/jdk/test/micro/org/openjdk/bench</code> 。  JMH是一个框架，用于创建，组装，运行和分析Java和其他JVM语言的微基准，由<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">您自己（由谁知道）</a>编写。  JMH现在已成为微基准的事实上的标准，并且这种JEP的出现是时间问题。 </p><br><p>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">325：开关表达式（预览）</a></strong> </p><br><p> 而不是一千个描述： </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numLetters = <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (day) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MONDAY, FRIDAY, SUNDAY -&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TUESDAY -&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> THURSDAY, SATURDAY -&gt; <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> WEDNESDAY -&gt; <span class="hljs-number"><span class="hljs-number">9</span></span>; };</code> </pre> <br><p>  <strong>334： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JVM常量API</a></strong> </p><br><p> 目的是提供一组类型，用于对运行时和classfile中的类，方法和其他实体的描述进行形式化建模，并将它们拖到主要类（如<code>String</code>或<code>Class</code> 。 它们位于<code>java.lang.invoke.constant</code>程序包中，不需要这样做，但是您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处查看</a>补丁。 </p><br><p>  <strong>340： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一个AArch64端口，而不是两个</a></strong> </p><br><p> 旧的arm64端口被冷落了，但是人们正在积极地使用32位ARM和aarch64。 感谢RedHat和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">BellSoft</a>提供了这些端口（顺便说一下，BellSoft办事处位于圣彼得堡，毗邻前Oracle办事处）。 通过JDK 12的发布，我们将尝试从公司代表那里获得更详细的评论。 </p><br><p>  <strong>341： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">默认CDS存档</a></strong> </p><br><p> 作为一项功能，CDS长期以来可供我们使用，但尚不清楚为什么每次编写<code>-Xshare:dump</code>自己，即使在创建JDK发行版时此命令的默认结果还是可以预知的。 这种烦人的疏忽将在JDK 12中修复，CDS存档将由发行版的创建者生成，甚至对于夜间构建（前提是它们是64位的并且是本机生成的，也不用于交叉编译）。 </p><br><p>  <strong>344： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">G1可终止的混合集合</a></strong> </p><br><p>  G1垃圾收集器的内部机制需要此功能，因此它通常更适合暂停持续时间的要求。 碰巧的是，您可以确定G1一遍又一遍地错误地评估装配的复杂性，尤其是对于旧区域。 在这一点上，您可能会感到害怕，并逐步开始逐步收集，并且在每一步之后都可以中断装配。 有人认为这将使它更好地适合预期的组装时间。 </p><br><p>  <strong>346： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">立即从G1返回未使用的承诺内存</a></strong> </p><br><p> 现在，G1使用完整的GC或并行组装将提交的内存提供给操作系统。 他和另一位G1都尽力避免这种情况，对此他表示感谢。 但这也意味着内存被吞噬，就好像内存本身没有被占用一样，并且可以强制G1仅以某种外部方式将其擦除。 对于所有在服务器上没有TB的RAM的码头工人和其他赶时髦的人来说，这尤其令人难过。 相反，建议采用与OpenJ9的Shenanda或GenCon已经知道如何识别堆的利用率不足并因此减少其使用量相同的方式进行操作。 在Tomcat上进行的一些测试中，这使内存消耗减少了近一半。 </p><br><h1 id="chto-dalshe"> 接下来是什么 </h1><br><p> 这是自上而下的审查，我们将尝试以单独的文章（即JEP的翻译，带有基准的截屏视频等）的形式对更接近发行版的功能进行详细分析。 现在，我们必须等待计划于3月19日发布的版本。 </p><br><blockquote> 分钟的广告。 很快，在4月5日至6日，将举行JPoint会议，该会议将聚集大量对JDK和各种新功能了解很多的人。 例如，肯定会有来自Azul的Simon Ritter的演讲，主题为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“ JDK 12：粗心大意的陷阱”</a> 。 最适合讨论最新版本的地方！ 您可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">官方网站</a>上了解有关JPoint的更多信息。 </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN440314/">https://habr.com/ru/post/zh-CN440314/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN440304/index.html">来自x86系统中的外部设备的中断。 第3部分。使用coreboot示例在芯片组中配置中断路由</a></li>
<li><a href="../zh-CN440306/index.html">高负载系统中的数据库扩展</a></li>
<li><a href="../zh-CN440308/index.html">分而治之，或慢慢写-快速阅读</a></li>
<li><a href="../zh-CN440310/index.html">如何教机器理解发票并从中提取数据</a></li>
<li><a href="../zh-CN440312/index.html">Hackquest2018。结果与写作。 第4-7天</a></li>
<li><a href="../zh-CN440316/index.html">三角形中点的均匀分布</a></li>
<li><a href="../zh-CN440318/index.html">GDPR：如何处理您的员工，自由职业者和欧洲交易对手员工的个人数据</a></li>
<li><a href="../zh-CN440320/index.html">当我们在DMRSE Yandex计数器中计时时</a></li>
<li><a href="../zh-CN440322/index.html">为什么HDD出现故障的可能性降低</a></li>
<li><a href="../zh-CN440324/index.html">Linux Foundation的新基础-将开发边缘计算</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>