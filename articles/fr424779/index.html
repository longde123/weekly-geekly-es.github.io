<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèæ ü•ä üíΩ SPA multi-page en Python üë∏üèº ‚õπüèª üï°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le pont entre Python et React 

 Un hibou est un nano-cadre qui peut √™tre int√©gr√© √† d'autres cadres. 
 Image de sova.online, sur laquelle 3 serveurs h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SPA multi-page en Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424779/">  <b>Le pont entre Python et React</b> <br><br>  Un hibou est un nano-cadre qui peut √™tre int√©gr√© √† d'autres cadres. <br>  Image de sova.online, sur laquelle 3 serveurs http fonctionnent: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://sova.online/</a> - juste Falcon <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://sova.online:8000/</a> - juste Django <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://sova.online:8001/</a> - juste Python (login: 1, mot de passe: 1) <br>  Il existe des codes source et des instructions d'installation.  Il n'y a pas de publicit√© l√†-bas. <br><br><img src="https://habrastorage.org/webt/gx/yn/h9/gxynh9nwwhuq9ik8ius_k7lvjgo.jpeg"><br><a name="habracut"></a><br>  L'id√©e de cr√©er des sites en Python avec un rendu sur React n'est pas nouvelle.  Il y a un merveilleux framework <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://plot.ly/products/dash/</a> , pourquoi faire autre chose? <br>  Expliquez: Owl n'est pas con√ßu pour le d√©veloppement de sites Web.  Il s'agit d'un outil pour remplacer les clients lourds par des applications ex√©cut√©es via le navigateur (applications de bureau). <br><br>  - Qu'est-ce qu'un client Web? <br>  - Non.  Ce n'est pas un client Web.  Ceci est une application de navigateur. <br>  "Je ne comprends pas." <br>  - Malheureusement, de nombreux d√©veloppeurs ne comprennent pas. <br><br>  En tant que g√©n√©ral, j'ai travaill√© activement avec plusieurs applications Internet. <br><br>  <b>Client en ligne de la banque Ugra (la banque est ferm√©e).</b> <br>  C'√©tait une bonne application, mais c'√©tait une applet Java, c'est-√†-dire  client lourd lanc√© depuis le navigateur.  Et la banque d'Ugra, et les applets dans le pass√©. <br><br>  <b>Client en ligne de la banque VTB-24 (la banque est ferm√©e).</b> <br>  Je suis un humaniste, mais apr√®s avoir travaill√© avec ce miracle, des pens√©es cruelles ont commenc√© √† appara√Ætre telles que: "Forcer le d√©veloppeur √† y enregistrer 1000 ch√®ques de paie". <br>  De plus, en tant que client web, il est beau.  L'animation s'ouvre sur un t√©l√©phone portable.  Ouah!  Cool! <br>  J'ai demand√© √† un ami comptable: comment travaillez-vous avec lui? <br>  Elle dit: super!  Je charge les donn√©es en 1s, en 1s je travaille, je t√©l√©charge les r√©sultats. <br><br>  <b>Client en ligne Sberbank</b> <br>  Client satisfaisant, vous pouvez travailler.  Quand on m'a demand√© de le noter, je lui ai donn√© 3 points sur 5 et je lui ai donn√© une liste de commentaires.  C'est avec mes 10 paiements par mois.  Ceux qui font 100 factures par jour sont susceptibles de t√©l√©charger des informations. <br><br>  Remplir un paiement. <br><img src="https://habrastorage.org/webt/kx/0a/h2/kx0ah27hdkvgc6ob0-16ifdx5oq.jpeg"><br>  La zone verte, qui occupe 20% de l'√©cran, est le menu.  Il n'interf√®re pas seulement (position: fixe), il dit que le d√©veloppeur n'est pas un professionnel.  Si j'ai commenc√© √† cr√©er un paiement, l'√©cran devrait l'√™tre.  3 boutons: "Cr√©er", "Enregistrer comme mod√®le", "Annuler".  Ces boutons sont (pour une raison ci-dessous).  Ce n'est pas un SPA de plusieurs pages: si vous cliquez sur l'√©l√©ment de menu, les donn√©es du formulaire seront perdues. <br>  Celui qui l'a fait ne comprendra m√™me pas ce qu'est la frappe: ¬´Normalement, tout le monde le fait, une telle biblioth√®que, les gens travaillent ...¬ª.  Et il a raison.  Vous devez demander au gestionnaire de projet, et pour le gestionnaire, l'essentiel est les bases de donn√©es et les couches dans le mod√®le conceptuel.  Et les formulaires - nous embaucherons des gar√ßons, ils dessineront.  Et ils sont probablement fiers de ce hack. <br><br>  <b>Salles de march√© (5 pi√®ces, 44 lois f√©d√©rales)</b> <br>  Ce sont vraiment des applications (pas des clients Web).  Mais je n'aime pas les contr√¥leurs de terrain. <br>  Exemples: <br><img src="https://habrastorage.org/webt/ap/wl/in/apwlinkughplv39l_m4qsopioza.jpeg"><br><br>  Il est √©trangement align√©, la largeur du champ est clairement insuffisante, il n'y a pas d'auto-hauteur dans le champ de saisie. <br><br>  Un autre exemple.  Il n'y a pas de mod√®le jj.mm.aaaa dans le champ ¬´Date de publication¬ª, le calendrier est en erreur, l'ic√¥ne du calendrier fait peur: <br><img src="https://habrastorage.org/webt/zl/lk/6z/zllk6zxsfvaoxyq9qk7p9unosjw.jpeg"><br><br>  Liste sur rts-tender: il y a l'entr√©e actuelle surlign√©e en couleur, les fl√®ches peuvent se d√©placer dans la liste, mais il n'y a pas de d√©filement automatique (vous pouvez fuir la bordure de l'√©cran), ni Enter ni la barre d'espace n'ouvrent le lien, l'onglet n'est pas attach√© √† l'enregistrement en cours.  Bien que vous ne puissiez ouvrir le lien qu'avec la souris, j'√©value le contr√¥le avec un signe plus.  Une telle fonctionnalit√© (m√©moriser et mettre en √©vidence le document actuel) ne me suffit pas dans mail.ru <br><br>  Cela ressemble √† de petites choses.  Mais l'application professionnelle diff√®re du semi-professionnel dans les d√©tails.  L'utilisateur final ne se soucie pas de la base de donn√©es dont vous disposez et du nombre de couches dans le mod√®le conceptuel.  Il fonctionne avec des formes d'√©cran et a 3 exigences: fonctionnel, pratique, rapide. <br>  Malheureusement, le choix du syst√®me est d√©termin√© par des informaticiens et des patrons qui eux-m√™mes n'ont pas travaill√© avec le syst√®me et ne fonctionneront pas.  Ils appr√©cieront la vitesse, ils appr√©cieront la fonctionnalit√© telle qu‚Äôils la comprennent, et ils ne se soucient pas de la commodit√©, surtout, d‚Äô√™tre beaux. <br>  Pavel Valeryevich Durov n'a invent√© ni un r√©seau social ni un messager.  Il a fait ce dont les utilisateurs avaient besoin, commod√©ment et magnifiquement.  Et les gens ont appr√©ci√© cela, y compris financi√®rement. <br><br>  Owl est un outil pour construire une interface professionnelle. <br>  Qu'est-ce que cela signifie, par exemple, EDMS. <br><br>  Il y a un EDMS, il a 3 groupes d'utilisateurs: <br>  Sup√©rieurs <br>  Sp√©cialistes en pr√©paration de documents <br>  Commis de bureau. <br><br>  Patrons, ils sont comme des enfants.  Ils doivent √™tre simples et beaux.  Id√©alement 1 bouton et 1 champ.  Et pour en montrer un peu plus.  Un client Web et, bien s√ªr, un client mobile pour se montrer. <br><br>  Sp√©cialistes.  Client Web, cross social network / mailer.  N'oubliez pas qu'il existe de nombreux sp√©cialistes et qu'ils doivent √™tre form√©s.  Plus l'environnement leur sera familier, mieux ce sera.  Le client mobile sera √©galement utile si le service de s√©curit√© le permet. <br><br>  Commis de bureau.  C'est l√† que le hibou est utile.  Les commis de bureau sont un groupe d'utilisateurs formant le syst√®me.  Tout le monde peut tomber malade / partir en vacances / cesser de l'utiliser - l'EDMS fonctionnera.  Si l'inscription s'arr√™te, tout ira bien. <br>  Le travail de bureau est un convoyeur, et ici tout est important, toute petite chose: polices, demi-teintes, remplissage automatique, v√©rification des valeurs, facilit√© de saisie, etc. <br>  EDS "Case".  Les bureaux des interpr√®tes se font sur le client web, le bureau est un gros client.  Tout va bien, mais cela fonctionnera jusqu'√† ce que le gouvernement interdise Windows aux agences gouvernementales.  J'adore Win 7, mais si j'√©tais le dirigeant, le march√© informatique √©tait revigor√© avec de nouvelles commandes et MS restait en m√©moire.  Soit dit en passant, le 6 d√©cembre, Anton Siluanov a sign√© une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">directive</a> sur la transition vers les logiciels nationaux. <br><br>  <b>Sova.online</b> <br><br>  Comment un hibou ouvre un formulaire. <br>  Sans multi-page. <br>  L'√©l√©ment central de la Chouette est le composant Document.  En appuyant sur ctrl-U sur la page de d√©marrage, vous verrez tout ce dont vous avez besoin pour cr√©er un objet de la classe Document: <br>  - champs de donn√©es de la base de donn√©es; <br>  - l'url du formulaire √† afficher; <br>  - dbAlias, unid - pour travailler avec la base de donn√©es; <br>  - autre chose l√†-bas. <br><br>  Dans une certaine mesure, Document est un analogue de la forme Redux. <br>  Le formulaire est charg√© en tant que cha√Æne JSON, puis l'ancien dictionnaire devient un objet ayant un style, className et un tableau (liste) d'√©l√©ments.  Le tableau sera ins√©r√© dans l'√©l√©ment avec id = root sous la forme <pre><code class="plaintext hljs">&lt;div style className&gt;‚Ä¶‚Ä¶&lt;/div&gt;</code> </pre> <br>  Les √©l√©ments de tableau sont des objets qui d√©crivent des balises. <pre> <code class="plaintext hljs">&lt;div&gt;, &lt;a&gt;, &lt;img&gt;, &lt;button&gt;</code> </pre>  ou un tableau ou des composants. <br>  La fonction de boxe est responsable de l'analyse du tableau.  Si un √©l√©ment contenant un tableau est rencontr√©, il s'appellera r√©cursivement. <br>  Le nombril de la terre est bien s√ªr un div. <br>  Dans le cas le plus simple, il s'agit d'une ligne: dict (div = 'Hello', className = 'h2') <br>  Mais il peut y avoir un tableau (tableau de tableaux): <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">style</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(**par)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-string"><span class="hljs-string">'style'</span></span>: {**par}} dict( <span class="hljs-comment"><span class="hljs-comment">#     sova.online style(position='relative'), readOnly = 1, div = [ dict( style(width=1000, margin='auto', paddingTop=20), div=[ { 'div': subFormTop.panel() }, { 'div': [subFormLeft.panel(), subFormRight.panel()], 'className': 'row' }, # { 'div': [subFormDown.panel()] }, ]), ] )</span></span></code> </pre> <br><br>  Il y a 3 panneaux (chacun dans un fichier s√©par√©: subFormTop.py, etc.). <br>  subFormTop.panel () renvoie un tableau pour construire le panneau sup√©rieur. <br>  subFormLeft.panel () et subFormRight.panel () sont combin√©s en une cha√Æne ('className': 'row') et d√©crivent les panneaux gauche et droit. <br>  subFormDown.panel () est mis en commentaire (inutile). <br><br>  Cela peut sembler compliqu√©.  Mais c'est Python: tout peut √™tre simplifi√©. <br>  Un exemple de formulaire de la revue ¬´Reports¬ª.  La fonction labField (label, DB_field_name) renvoie un tableau de deux dictionnaires (ligne de table): le premier dictionnaire est {'div': label}, le second {'field': [DB_field_name, 'tx']}. <br><pre> <code class="python hljs">div = [ docTitle(<span class="hljs-string"><span class="hljs-string">''</span></span>), dict ( wl=<span class="hljs-string"><span class="hljs-string">'40mm'</span></span>, className=<span class="hljs-string"><span class="hljs-string">'cellbg-green'</span></span>, div=_table( labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'nodafd'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'_STARTINGTIME'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'_ENDTIME'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'CREATOR'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'REPORTCAT'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'REPORTNAME'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'REPORTTITLE'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'dt1'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'dt2'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">'  2'</span></span>, <span class="hljs-string"><span class="hljs-string">'dt3'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">'  2'</span></span>, <span class="hljs-string"><span class="hljs-string">'dt4'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'LBYEARS'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'GRGROUP'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'QUERYMAIN'</span></span>), labField(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'NOTES'</span></span>), )), sent(), ]</code> </pre><br><br><img src="https://habrastorage.org/webt/7u/ah/tw/7uahtweb5axodfbphubw5v3-okw.jpeg"><br><br>  Exemples de sova / api / forms / home / top.py (√† partir de sova.online): <br><br>  dictionnaire python <br>  {'a': 'React v16', 'href': 'https://reactjs.org'} <br>  G√©n√®re un composant React clair <br><pre> <code class="plaintext hljs">&lt;a href={'https://reactjs.org'}&gt;React v16&lt;/a&gt;</code> </pre> <br><br>  Img est plus intelligent que la norme - dans les accessoires, vous pouvez sp√©cifier href et target: <br><br>  Python: <br>  dict (img = 'image? react.ico', style = {'width': 16}, href = 'https: //reactjs.org') <br><br>  Un fragment d'un analyseur qui convertit un tableau d'objets en composants (boxing.js): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( td.img ) { <span class="hljs-comment"><span class="hljs-comment">// td ‚Äì    let img = &lt;img src={td.img} _/&gt;; return td.href ? &lt;a href={td.href} key={i} target={td.target}&gt;{img}&lt;/a&gt; : img; }</span></span></code> </pre><br><br>  Tapez dans le moteur de recherche "r√©agir biblioth√®que de composants".  Le r√©sultat est pr√©visible - beaucoup.  Mais toute cette abondance concerne les sites Web, pas les applications: <br>  Smart-textarea est peut-√™tre le seul contr√¥le qui me convenait. <br>  React-select - simplifi√© et refait la liste d√©roulante <br>  S√©lecteur de donn√©es / calendrier - n'a rien trouv√© de convenable.  Il a √©crit le sien, en prenant comme exemple le G.Chrome int√©gr√©. <br>  Upload / Download - rien de convenable, a √©crit le mien. <br><br>  √Ä mon humble avis: les sites Web ont un triste avenir.  La grande majorit√© des utilisateurs dans un proche avenir cessera d'utiliser des navigateurs (ou d√©j√† arr√™t√©).  Le t√©l√©phone grandira avec la tablette et 1 tableau de bord de 10 applications r√©pondra pleinement aux besoins. <br>  J'ai d√©j√† rencontr√© deux fois des programmeurs qui ne savent pas √©crire correctement une adresse e-mail.  Pourquoi devraient-ils se souvenir de ce qu'ils n'utilisent pas?  Le monde change. <br><br>  Dans Owl, les contr√¥leurs ne sont pas parfaits, mais ils ont √©t√© con√ßus pour l'op√©rateur, pas pour l'internaute. <br>  A titre d'exemple, le formulaire ¬´Transfer Mark¬ª.  Une forme assez universelle, utilis√©e lorsqu'il y a un boss.  Les champs qui contr√¥lent le masquage sont entour√©s de rouge dans la capture d'√©cran.  Les r√©solutions suppl√©mentaires s'ouvrent automatiquement au fur et √† mesure qu'elles sont remplies, si dans le dispositif il y a plusieurs instructions √† diff√©rents groupes d'artistes avec des termes diff√©rents.  Deux mandats par groupe: 1er mandat au 1er interpr√®te, 2e mandat aux co-ex√©cuteurs. <br><img src="https://habrastorage.org/webt/yg/2q/f4/yg2qf4g9p3umqggkpduhnv4rgis.jpeg"><br><br>  Vous pouvez toucher le formulaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ICI</a> <br><br>  Un contr√¥leur est un composant React associ√© √† un champ de base de donn√©es. <br>  Une description d√©taill√©e des contr√¥leurs avec la possibilit√© de v√©rifier leur fonctionnement est sur Sova.online. <br>  Faites attention aux types rtf et json.  Rtf est affich√© sous forme de texte, mais s'il y a une construction {_ {object} _} dans le texte, Owl ex√©cutera json.parse pour cette construction et ajoutera le r√©sultat au formulaire.  Un champ de type json doit stocker une description du tableau des √©l√©ments de balisage: [{ele1}, {ele2}, ...].  json.parse est ex√©cut√© avant le rendu. <br>  Les champs avec ces types vous permettent de stocker le balisage dans la base de donn√©es ou dans des fichiers.  Utile pour cr√©er des rapports et r√©diger de la documentation. <br><br>  La liste des contr√¥leurs pour tous les types de champs (controllers.js): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controller = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prop</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (prop.type) { <span class="hljs-comment"><span class="hljs-comment">//  case 'chb': return &lt;Checkbox {...prop}/&gt;; case 'lbse': // listbox single enable (    ) case 'lbme': // listbox multivalue enable // lbse/lbme -     ,   case 'tx': return &lt;Text {...prop}/&gt;; // smart-textarea case 'lbsd': // listbox single disables (    ) case 'lbmd': return &lt;ListBox {...prop}/&gt;; case 'dt': return (prop.readOnly ? &lt;Text {...prop} xValue={Util.dtRus(prop.xValue)} /&gt; : &lt;Datepicker {...prop}/&gt;); case 'fd': return &lt;ForDisplayOnly {...prop}/&gt;; case 'table': case 'gr': return &lt;Table {...prop}/&gt;; case 'rtf': return &lt;RTF {...prop}/&gt;; case 'json': return &lt;JsonArea {...prop}/&gt;; case 'list': return &lt;List {...prop}/&gt;; case 'view': return &lt;View {...prop}/&gt;; default: console.warn('  ', prop.xName, prop.type); return &lt;Text {...prop}/&gt;; }; };</span></span></code> </pre><br><br>  Une application n√©cessite un m√©canisme de manipulation des contr√¥leurs. <br>  Dans un hibou, tous les contr√¥leurs de documents sont stock√©s dans une variable de document <br>  this.register <br>  Je n'ai pas os√© utiliser les r√©f√©rences √† cause des rumeurs selon lesquelles la r√©daction allait l'annuler. <br>  Le contr√¥leur peut avoir les interfaces suivantes: <br>  getValue (param) <br>  setValue (valeur, param) <br>  setFocus () <br>  changeDropList () <br><br>  Afin d'acc√©der au champ souhait√©, il existe des m√©thodes documentaires <br>  getField (fieldName, param) <br>  setField (fieldName, value, param) <br>  changeDropList (fieldName, param) <br>  setFocus (fieldName) <br>  Pour les champs de type FileShow, il existe une m√©thode fileShow ['FILES1 _']. HasAtt (), o√π FILES1_ est le nom de la zone de fichier.  Renvoie vrai s'il y a des pi√®ces jointes.  Dans la marque de transfert de ces zones 2. <br><br>  Les contr√¥leurs peuvent g√©n√©rer un √©v√©nement de recalcul.  Si un gestionnaire est enregistr√© pour ce champ, il s'ex√©cutera.  Les gestionnaires sont situ√©s dans des fichiers js chargeables. <br>  Un exemple et une description quelque peu simplifi√©e: <br>  Il existe un formulaire ¬´Transfer Mark¬ª (o.py).  Il contient le fichier o.js charg√© <br>  Dans o.js, les gestionnaires sont enregistr√©s <br><pre> <code class="javascript hljs">recalc: { <span class="hljs-attr"><span class="hljs-attr">PROJECTO</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">doc</span></span></span><span class="hljs-function"> =&gt;</span></span> doc.forceUpdate(), <span class="hljs-attr"><span class="hljs-attr">WHOPRJ2</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">doc</span></span></span><span class="hljs-function"> =&gt;</span></span> doc.forceUpdate(), <span class="hljs-attr"><span class="hljs-attr">WHOPRJ3</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">doc</span></span></span><span class="hljs-function"> =&gt;</span></span> doc.forceUpdate(), ‚Ä¶   }</code> </pre> <br>  , et des conditions de masquage sont √©galement sp√©cifi√©es (project, op, prj1, prj2 ... prj5 est la propri√©t√© "name" dans la description des divs): <br><pre> <code class="javascript hljs">hide: { <span class="hljs-attr"><span class="hljs-attr">project</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">doc</span></span></span><span class="hljs-function"> =&gt;</span></span> !doc.getField(<span class="hljs-string"><span class="hljs-string">'projectO'</span></span>), <span class="hljs-comment"><span class="hljs-comment">// ,   PROJECTO  op: doc =&gt; doc.getField('projectO'), // ,   PROJECTO   prj1: doc =&gt; !doc.getField('projectO'), prj2: doc =&gt; !doc.getField('projectO'), prj3: doc =&gt; !doc.getField('projectO') || (!doc.getField('whoPrj2') &amp;&amp; !doc.getField('whoPrj3')), prj4: doc =&gt; !doc.getField('projectO') || (!doc.getField('whoPrj3') &amp;&amp; !doc.getField('whoPrj4')), prj5: doc =&gt; !doc.getField('projectO') || (!doc.getField('whoPrj4') &amp;&amp; !doc.getField('whoPrj5')), },</span></span></code> </pre> <br><br>  Comment √ßa marche: le champ PROJECTO est une case √† cocher, lorsque la valeur est modifi√©e, le contr√¥leur g√©n√®re un √©v√©nement recalc, le document appelle le gestionnaire recalc.PROJECTO (this). <br>  Le gestionnaire appelle simplement forceUpdate () pour redessiner le document. <br>  Lors du redessin, il est v√©rifi√© si le composant dans les accessoires a un nom, s'il existe une fonction de masquage [props.name] pour ce nom et s'il renvoie true. <br>  prj3: doc =&gt;! doc.getField ('projectO') ||  (! doc.getField ('whoPrj2') &amp;&amp;! doc.getField ('whoPrj3')) <br>  Masquez la troisi√®me r√©solution (zone avec props.name === 'prj3') si la case √† cocher 'projectO' est d√©sactiv√©e ou si les ex√©cuteurs ne sont pas entr√©s dans les champs de r√©solution 2 et 3 (les champs 'whoPrj2' et 'whoPrj3' sont vides). <br>  Le nom de champ lors de l'appel de fonctions est insensible √† la casse. <br>  WHOPRJ2 est une zone de liste d√©roulante; lorsque vous s√©lectionnez une valeur, le contr√¥leur g√©n√®re √©galement un √©v√©nement de recalcul, ce qui entra√Æne √©galement un redessin.  En choisissant un artiste dans la deuxi√®me r√©solution, vous ouvrirez ainsi la troisi√®me. <br><br>  Dans les fichiers js charg√©s, vous pouvez: <br>  - g√©rer la dissimulation; <br>  - g√©rer uniquement la lecture; <br>  - r√©pondre aux changements de terrain; <br>  - ex√©cuter des commandes de bouton; <br>  - faire la validation des champs et des formulaires avant l'enregistrement; <br><br>  T√©l√©chargez le fichier pour le formulaire 'fo': <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.sovaActions = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.sovaActions || {}; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.sovaActions.fo = { <span class="hljs-comment"><span class="hljs-comment">// fo ‚Äì      recalc: { //           PROJECTO: doc =&gt; doc.forceUpdate(), }, hide: { //   ,  true project: doc =&gt; !doc.getField('projectO'), }, readOnly: { //     ,  true who: doc =&gt; doc.getField('SENTFROMDB'), }, validate: { //         who: doc =&gt; doc.getField('who') ? '' : '   " "', form: doc =&gt; new Promise( (yes, no) =&gt; { let disableAutoOrder = false; for (let i = 1; i &lt;= 5; i++) { let val = doc.getField('RESPRJ' + i); disableAutoOrder |= /  /.test(val); } disableAutoOrder &amp;&amp; doc.setField('AUTOORDER', ''); yes(); }), }, cmd: { //    logoff: doc =&gt; { window.location.href = '/logoff' }, }, }</span></span></code> </pre> <br><br>  Validation des champs - une fonction qui renvoie vide si tout va bien, ou un message sur ce qui ne va pas.  Un hibou mettra l'accent sur un champ invalide. <br>  Validation du formulaire - Promesse.  Dans l'exemple, il n'y a pas de v√©rification (oui est toujours appel√©), juste quelque chose est fait avant l'envoi au serveur. <br>  Dans la validation sous forme de redux se fait par trow - une sorte de sauvage. <br><br>  <i>Pour ceux qui ne connaissent pas les promesses, un exemple des plus simples:</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> confirmDlg = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">msg</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ok, cancel</span></span></span><span class="hljs-function">) =&gt;</span></span> confirm(msg) ? ok(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) : cancel(<span class="hljs-string"><span class="hljs-string">'  cancel'</span></span>)); confirmDlg(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) .then( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(s)) .catch( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(s));</code> </pre> <br><br>  La classe Document poss√®de plusieurs commandes pr√©d√©finies qui peuvent √™tre utilis√©es dans les boutons: <br><br>  modifier: passer en mode d'√©dition de formulaire <br>  enregistrer: enregistrer le formulaire <br>  fermer: fermer le formulaire <br>  saveClose: enregistrez et fermez le formulaire <br><br>  prn: imprimer un formulaire avec le choix d'un mod√®le pour l'impression <br>  docOpen: ouvrir un document <br>  dbOpen: ouvrir le journal <br>  xopen: ouvrir l'url <br>  newDoc: cr√©er un nouveau document avec le formulaire souhait√© <br><br>  Dans Redux-form api est plus riche, dans Owl seulement ce qui est n√©cessaire <br><br>  <b>Multi-page.</b> <br><br>  La classe Document cr√©e un objet (formulaire) qui est incorpor√© dans un √©l√©ment. <pre> <code class="plaintext hljs">&lt;div id="root"&gt;&lt;/div&gt;</code> </pre>  . <br>  Nous l'appellerons le ¬´document racine¬ª.  Si vous ajoutez un √©l√©ment au document racine <br>  &lt;div style = {{position: 'absolute', zIndex: 999}} /&gt;, vous pouvez √©galement y ins√©rer un autre objet Document. <br>  Que faire avec les gestionnaires de commandes chargeables?  C'est simple: chaque formulaire a son propre gestionnaire (ses propres js), et le document racine doit charger ceux qui peuvent √™tre requis. <br>  Exemple pour la page de d√©marrage sova.online (home.py) <br>  Le formulaire home.py, afin de d√©montrer la nature de plusieurs pages, ouvre des documents avec les formulaires ¬´rkckg¬ª, ¬´outlet¬ª, ¬´outlet.gru¬ª, ¬´o¬ª. <br>  Pour que tous les formulaires fonctionnent correctement, vous devez enregistrer des scripts pour ces formulaires dans home.py: <br><pre> <code class="python hljs">javaScriptUrl = [<span class="hljs-string"><span class="hljs-string">'jsv?api/forms/rkckg/rkckg.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'jsv?api/forms/outlet_gru/outlet_gru.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'jsv?api/forms/outlet/outlet.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'jsv?api/forms/o/o.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'jsv?api/forms/home/home.js'</span></span>]</code> </pre> <br><br>  √âtant donn√© que lors de l'appel d'une fonction du gestionnaire, le premier param√®tre transmet le lien vers le document, les actions seront effectu√©es avec le document souhait√©. <br><br>  OOP et pas de miracles. <br><br>  R√©agir - pas R√©agir <br>  J'ai d√©j√† d√©crit le formulaire de rapport.  Il s'ouvre √† partir du gestionnaire de rapports (fl√®che "R√©agir") et d√©crit les param√®tres de collecte du rapport. <br><img src="https://habrastorage.org/webt/rp/tb/vj/rptbvjkspfqes5nxti7wfmitbtu.jpeg"><br>  Les rapports eux-m√™mes (fl√®che ¬´pas r√©agir¬ª) sont stock√©s dans des documents subordonn√©s avec le formulaire ¬´rapporter¬ª sous forme de pi√®ces jointes html.  Nous √©tions engag√©s dans l'√©laboration de rapports lorsque React n'√©tait pas l√†, le formulaire ¬´rapport¬ª s'est av√©r√© simple (20 lignes de html et 15 lignes de just-js), pourquoi changer ce qui fonctionne depuis 8 ans. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ouvrez le Gestionnaire de rapports.</a> <br><br>  Le formulaire de rapport se compose de 4 boutons et d'un iframe.  Le hibou avant d'ouvrir le document remplace src = "" par la ligne url pour t√©l√©charger la pi√®ce jointe html dans l'iframe, le navigateur fait le reste. <br>  Les boutons EXCEL / WORD sont similaires: ins√©rez les boutons d'URL pour le t√©l√©chargement avec le nom de fichier ¬´report.html.xls¬ª ou ¬´report.html.doc¬ª et le type MIME correspondant au bon endroit.  Le reste est fait par Excel / Word (¬´ces animaux intelligents comprennent parfaitement tout ce qu'ils attendent d'eux¬ª). <br>  Depuis do_get.py: <br><br><pre> <code class="python hljs">downloadUrl = <span class="hljs-string"><span class="hljs-string">'/download/'</span></span> + fn + <span class="hljs-string"><span class="hljs-string">'?'</span></span> + <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>.join([d.db.alias, d.unid, idbl, fsName, fzip, ctype, flen]) excel = <span class="hljs-string"><span class="hljs-string">'/download/%s.xls?%s'</span></span> % (fn, <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>.join([d.db.alias, d.unid, idbl, fsName, fzip, <span class="hljs-string"><span class="hljs-string">'application/x-excel'</span></span>, flen])) word = <span class="hljs-string"><span class="hljs-string">'/download/%s.doc?%s'</span></span> % (fn, <span class="hljs-string"><span class="hljs-string">'&amp;'</span></span>.join([d.db.alias, d.unid, idbl, fsName, fzip, <span class="hljs-string"><span class="hljs-string">'application/msword'</span></span>, flen])) html = html.replace(<span class="hljs-string"><span class="hljs-string">'src=""'</span></span>, <span class="hljs-string"><span class="hljs-string">'src="%s"'</span></span> % downloadUrl).replace(<span class="hljs-string"><span class="hljs-string">'openExcel'</span></span>, excel).replace(<span class="hljs-string"><span class="hljs-string">'openWord'</span></span>, word)</code> </pre> <br><br>  Lors de l'ouverture html dans Excel / Word, il existe des diff√©rences avec le navigateur, mais elles sont petites.  Et l'article ne parle pas de √ßa. <br><br>  <b>Faites une forme √† partir de z√©ro.</b> <br><br>  Donn√©es sources: <br>  Il y a 3 fonctions <br>  def snd (* msg, cat = 'snd'): <br>  def err (* msg, cat = 'all'): <br>  def dbg (* msg, cat = 'snd'): <br>  , qui sont plus ou moins uniform√©ment r√©partis dans le code et √©crivent des messages d'erreur et autres conneries dans le fichier journal. <br>  Le format du message est transmis √† la journalisation, sous la forme: <br>  '% (asctime) s% (levelname) s [% (name) s]% (message) s' <br>  Le fichier est rempli de messages <br>  ... <br>  09/02/2018 17:50:07 DEBUG [http-server] addr ('127.0.0.1', 49964), "GET / arm HTTP / 1.1" 200 - <br>  09/02/2018 17:54:07 INFO [Espace libre] Les pi√®ces jointes sont enregistr√©es dans ". \ DB \ files" Free 68557 Mb <br>  09/02/2018 17:58:07 ERREUR [do_get.py] getScript: [Errno 2] Aucun fichier ou r√©pertoire de ce type: 'sova / api / forms / o / oo.js' <br>  ... <br>  Date-heure, puis niveau, puis entre crochets une cat√©gorie √† l'int√©rieur du niveau, puis un message. <br><br>  D√©fi: <br>  Cr√©ez une page pour afficher le fichier journal.  Quel type <br><img src="https://habrastorage.org/webt/du/6e/ni/du6enivag9amyf4ss1lucuf1tm8.jpeg"><br><br>  Nous appellerons le formulaire ¬´lm¬ª, il sera form√© par la fonction page dans le module api / forms / lm.py <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">page</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dbAlias, mode, userName, multiPage)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dict( style(background=<span class="hljs-string"><span class="hljs-string">'url(/image?bg51.jpg)'</span></span>, backgroundSize=<span class="hljs-string"><span class="hljs-string">'100% 100%'</span></span>), div=[ dict( style(width=<span class="hljs-string"><span class="hljs-string">'200px'</span></span>, float=<span class="hljs-string"><span class="hljs-string">'left'</span></span>, background=<span class="hljs-string"><span class="hljs-string">'rgba(210,218,203, 0.5)'</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'0 5px'</span></span>), div=[ _field(<span class="hljs-string"><span class="hljs-string">'type'</span></span>, <span class="hljs-string"><span class="hljs-string">'list'</span></span>, [<span class="hljs-string"><span class="hljs-string">' |all'</span></span>, <span class="hljs-string"><span class="hljs-string">'|err'</span></span>, <span class="hljs-string"><span class="hljs-string">'|info'</span></span>, <span class="hljs-string"><span class="hljs-string">'|debug'</span></span>], saveAlias=<span class="hljs-number"><span class="hljs-number">1</span></span>, **style(margin=<span class="hljs-string"><span class="hljs-string">'10px auto'</span></span>, width=<span class="hljs-number"><span class="hljs-number">170</span></span>, height=<span class="hljs-number"><span class="hljs-number">110</span></span>) ), _field(<span class="hljs-string"><span class="hljs-string">'cat'</span></span>, <span class="hljs-string"><span class="hljs-string">'list'</span></span>, <span class="hljs-string"><span class="hljs-string">'TYPE_ALIAS|||api.get?loadDropList&amp;logger|keys_{FIELD}'</span></span>, listItemClassName=<span class="hljs-string"><span class="hljs-string">'repName'</span></span>, listItemSelClassName=<span class="hljs-string"><span class="hljs-string">'repNameSel'</span></span>, **style(height=<span class="hljs-string"><span class="hljs-string">'calc(100vh - 133px)'</span></span>, overflow=<span class="hljs-string"><span class="hljs-string">'auto'</span></span>) ) ], ), _field(<span class="hljs-string"><span class="hljs-string">'msg'</span></span>, <span class="hljs-string"><span class="hljs-string">'fd'</span></span>, br=<span class="hljs-number"><span class="hljs-number">1</span></span>, **style(overflow=<span class="hljs-string"><span class="hljs-string">'auto'</span></span>, height=<span class="hljs-string"><span class="hljs-string">'100vh'</span></span>, font=<span class="hljs-string"><span class="hljs-string">'bold 12px Courier'</span></span>, background=<span class="hljs-string"><span class="hljs-string">'rgba(255,255,255, 0.8)'</span></span>) ), ] )</code> </pre> <br><br>  Sur le c√¥t√© gauche, il y a 2 champs, tous deux avec le type de liste: type et cat (type et cat√©gorie de message). <br>  √Ä droite, un champ msg de type fd (forDisplayOnly). <br>  Les types de messages sont √©crits dans la description du champ (['All log | all', 'Errors | err', ...), <br>  les cat√©gories sont extraites par xhr du dictionnaire global avec un appel d'url d√©licat: <br>  api.get? loadDropList &amp; logger | keys_err renverra au format json un tableau (liste) de cat√©gories du dictionnaire global.  Quelque chose comme bien ('logger', 'keys_err'). <br>  Les messages sont g√©n√©r√©s lorsqu'un document est ouvert par la fonction queryOpen dans lm.py <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">queryOpen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(d, mode, ground)</span></span></span><span class="hljs-function">:</span></span> logParser() ls = well(<span class="hljs-string"><span class="hljs-string">'logger_all'</span></span>, <span class="hljs-string"><span class="hljs-string">'AL L'</span></span>) s = <span class="hljs-string"><span class="hljs-string">'\n'</span></span>.join(reversed(ls)) d.msg = s d.type_alias = <span class="hljs-string"><span class="hljs-string">'all'</span></span></code> </pre> <br>  logParser lit et analyse le fichier journal.  Il d√©compose les r√©sultats en plusieurs tableaux et les enregistre dans le dictionnaire global.  Rien d'int√©ressant: 2 simples re et boucle d'it√©rateur. <br>  Fonctions pour travailler avec le dictionnaire global: <br>  toWell (o, key1, [key2]) - enregistrez l'objet ¬´o¬ª dans le dictionnaire global <br>  bien (key1, [key2]) - prendre un objet du dictionnaire global par cl√© (par deux cl√©s). <br>  C'est suffisant pour le premier dessin.  Afin de pouvoir afficher des messages du type et de la cat√©gorie d√©sir√©s, il est n√©cessaire de faire des js chargeables. <br>  Dans lm.py, ajoutez la ligne <br>  javaScriptUrl = 'jsv? api / forms / lm / lm.js' <br>  et cr√©ez lm.js: <br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.sovaActions = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.sovaActions || {}; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.sovaActions.lm = { <span class="hljs-comment"><span class="hljs-comment">//   "lm" init: doc =&gt; doc.changeDropList('CAT'), recalc: { TYPE: (doc, label, alias) =&gt; { doc.changeDropList('CAT'); getLogData(doc, alias + '|AL L'); }, CAT: (doc, label) =&gt; getLogData(doc, doc.getField('type_alias') + '|' + label), }, }; // *** *** *** let getLogData = (doc, keys) =&gt; { fetch('api.get?getLogData&amp;' + keys, {method: 'get', credentials: 'include'}) .then( response =&gt; response.text() ) .then( txt =&gt; doc.setField('msg', txt) ) .catch( err =&gt; doc.setField('msg', err.message) ); };</span></span></code> </pre> <br><br>  getLogData extrait les messages du serveur du type et de la cat√©gorie souhait√©s: <br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLogData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(par, un)</span></span></span><span class="hljs-function">:</span></span> lg, _, cat = par.partition(<span class="hljs-string"><span class="hljs-string">'|'</span></span>) msg = well(<span class="hljs-string"><span class="hljs-string">'logger_'</span></span> + lg, cat) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-string"><span class="hljs-string">'text/html; charset=UTF-8'</span></span>, <span class="hljs-string"><span class="hljs-string">'\n'</span></span>.join(reversed(msg))</code> </pre><br><br>  Vous pouvez profiter du formulaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ICI</a> . <br>  Initialement, la journalisation a √©t√© effectu√©e sur la base du module de journalisation standard <br>  en utilisant logging.FileHandler, .addHandler et autres getLogger et setFormatter. <br>  Comment enseigner.  Mais en m√™me temps, c'√©tait buggy.  Vous pouvez lancer des pierres, mais lorsque j'ai lanc√© la journalisation et que je viens de commencer √† √©crire dans un fichier, le code est devenu plus court, plus compr√©hensible et les probl√®mes ont disparu. <br><br>  Inclus est un serveur wsgi multi-thread auto-√©crit avec autorisation Digest.  Ce n'est pas pour les sites.  Pourquoi avait-il besoin de lui? <br>  Le client a 40 jur.  personnes, dans la plupart des cas, 1-2-3 personnes travaillent avec le syst√®me.  Le stockage de donn√©es sur Internet est interdit.  Tous gagnent 7. N√©cessite une facilit√© d'installation et de configuration. <br>  Solution: en utilisant cx-Freeze et Inno Setup, nous r√©alisons le programme d'installation, l'ex√©cutons sur l'ordinateur du plus responsable et obtenons un serveur mini-http pour le r√©seau local, en commen√ßant comme un service Windows.  Rien de plus.  Vous ne pouvez pas utiliser le wsgiref.simple_server ou wsgi_Werkzeug int√©gr√© en Python, car  ils sont monothread: alors qu'une demande √©choue, d'autres attendent. <br>  Il est peu probable que je surprenne quelqu'un en signalant que le Django WSGIServer / 0.2 CPython / 3.5.3 int√©gr√© est plusieurs fois plus rapide que le Python auto-√©crit.  Cela n'a pas d'importance - les formulaires et les r√©pertoires sont mis en cache sur le client, seules les donn√©es de la base de donn√©es sont transmises tr√®s rapidement sur le r√©seau local. <br>  Il y a une autre raison: l'application de bureau a acc√®s aux ressources informatiques (signature num√©rique, fichiers, scanner ...).  Afin d'obtenir le m√™me acc√®s depuis le navigateur, vous devez soit √©crire un plug-in, soit raccrocher un petit serveur http dans les services, qui peut renifler depuis le serveur principal et effectuer les actions n√©cessaires sur la zone locale. <br><br>  Le hibou n'utilise pas les outils de framework pour travailler avec la base de donn√©es.  Dans le r√©pertoire dbToolkit, quelque chose de similaire √† la structure de MongoDB (ou Lotus Notes) dans SQLite3: <br>  Classe de livre - db (dans la terminologie MongoDB et Lotus Notes) <br>  Class DocumentCollection - une collection de documents du livre <br>  La classe Document est un document (un objet contenant un nombre quelconque de champs). <br><br>  <b>Installation:</b> <br>  T√©l√©chargez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">owl.zip</a> depuis sova.online <br><br>  L'archive contient le r√©pertoire owl, √† partir duquel vous pouvez ex√©cuter le hibou √† partir de django, falcon ou sans frameworks. <br><br>  T√©l√©chargez, d√©compressez. <br>  Installer Python3 (3.5+) <br><br>  1. hibou - sans cadres.  Attention!  Identifiant: 1, Mot de passe: 1 <br><br>  Linux: <br>  cd ./owl <br>  python3 wsgi_sova.py <br><br>  ou dans une fen√™tre s√©par√©e <br>  √©cran -Udm python3 wsgi_server.py <br><br>  Windows: <br>  cd ./owl <br>  wsgi_sova.py <br><br>  2. Django <br><br>  Linux: <br>  Installez Django: <br>  pip3 installer django <br>  cd ./owl <br>  python3 manage.py runserver <br><br>  ou dans une fen√™tre s√©par√©e <br>  screen -Udm python3 manage.py runserver 127.0.0.1:8000 <br><br>  Windows: <br>  Installez Django: <br>  installer pip django <br>  cd ./owl <br>  manage.py runserver <br><br>  3. faucon <br><br>  Linux: <br>  pip3 installer faucon <br>  cd ./owl <br>  python3 wsgi_sova.py falconApp: api 8001 log_falcon / falcon <br><br>  Windows: <br>  installer un faucon <br>  cd ./owl <br>  wsgi_sova.py falconApp: api 8001 log_falcon / falcon <br><br>  ********************** <br><br>  - le titre de l'article est √©trange, avez-vous compris ce qu'est "SPA multipage"? <br>  - stratag√®me de commercialisation normal <br>  - pourquoi sans Redux?  Tout le monde utilise Redux. <br>  - Je n'aime pas le mot "r√©ducteur" <br>  - mais s√©rieusement?  ombineReducers √† n'importe quel niveau de la hi√©rarchie ... C'est tellement beau <br>  Est un multipage, b√©b√©.  Les gestionnaires de commandes doivent √™tre √† l'int√©rieur du formulaire, et non comme des cornes de cerf <br>  - Pourquoi avez-vous m√™me √©crit un article? <br>  - PR </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424779/">https://habr.com/ru/post/fr424779/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424765/index.html">Gestion des √©tats dans les applications Flutter</a></li>
<li><a href="../fr424767/index.html">Nous faisons un g√¢teau de Habr. Encore une fois</a></li>
<li><a href="../fr424771/index.html">Exp√©rience personnelle: d'une id√©e et d'une feuille blanche √† une version provisoire d'un site</a></li>
<li><a href="../fr424773/index.html">Biopharma et mod√©lisation num√©rique: exp√©rience et pratique d'Amgen</a></li>
<li><a href="../fr424777/index.html">Utilisation de Consul pour faire √©voluer les services avec √©tat</a></li>
<li><a href="../fr424781/index.html">Enseignement et test de r√©seaux de neurones sur PyTorch avec Ignite</a></li>
<li><a href="../fr424787/index.html">Entretien avec Aaron Patterson, pr√©sident de la conf√©rence RubyRussia 2018</a></li>
<li><a href="../fr424789/index.html">Comment d√©ployer une application Ruby on Rails avec HAProxy Ingress, unicorn / puma et des sockets Web</a></li>
<li><a href="../fr424791/index.html">Extension des capacit√©s r√©seau d'un relais programmable √† l'aide du WI-FI</a></li>
<li><a href="../fr424793/index.html">Comment imprimer un moteur √©lectrique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>