<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎻 🍬 🎶 Toda la verdad sobre RTOS. Artículo # 27. Hora del sistema 🤶🏽 🤲🏾 🤰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El concepto de tiempo en el contexto de RTOS se introdujo en uno de los artículos anteriores , junto con la idea de funciones relacionadas con el tiem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Toda la verdad sobre RTOS. Artículo # 27. Hora del sistema</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454272/">  El concepto de tiempo en el contexto de RTOS se introdujo en uno de los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">artículos anteriores</a> , junto con la idea de funciones relacionadas con el tiempo disponibles en RTOS. <br><br><img src="https://habrastorage.org/webt/u0/4z/bl/u04zbllomewnuxhei-ydrxmaeew.jpeg"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Artículos anteriores de la serie:</b> <div class="spoiler_text"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 26.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Canales: servicios auxiliares y estructuras de datos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 25.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Canales de datos: introducción y servicios básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 24.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Colas: servicios auxiliares y estructuras de datos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo 23.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Colas: introducción y servicios básicos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 22.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Buzones: servicios auxiliares y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 21.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Buzones: Introducción y servicios básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 20.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Semáforos: servicios auxiliares y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 19.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Semáforos: introducción y servicios básicos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 18.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Grupos de banderas de eventos: servicios auxiliares y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 17.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Grupos de banderas de eventos: Introducción y servicios básicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 16.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Señales</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 15.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Particiones de memoria: servicios y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 14.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Secciones de memoria: introducción y servicios básicos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo 13.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Estructuras de datos de tareas y llamadas de API no compatibles</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 12.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Servicios para trabajar con tareas.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 11.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tareas: configuración e introducción a la API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programador: funciones avanzadas y preservación del contexto</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programador: implementación</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nucleus SE: diseño interno y despliegue</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Núcleo SE: Introducción</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Otros servicios RTOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Interacción de tareas y sincronización</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tareas, cambio de contexto e interrupciones</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tareas y planificación</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RTOS: estructura y modo en tiempo real</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Artículo # 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RTOS: introducción.</a> <br></div></div><br><h3>  Temporizador de tic </h3><br>  Todas las funciones relacionadas con el tiempo están controladas por un reloj de hardware.  Este es un oscilador simple que genera solicitudes de interrupción a intervalos regulares.  Para que los números de reloj tengan sentido para los programas de aplicación, se debe conocer la frecuencia del generador. <br><br><h3>  Manejo de interrupción del temporizador </h3><br>  Las interrupciones generadas por el temporizador de hardware deben ser atendidas de manera específica en el controlador de interrupciones (Rutina de servicio de interrupción, ISR), que implementa todas las funciones RTOS relacionadas con el tiempo.  Los detalles del controlador de interrupción del temporizador en Nucleus SE se analizarán en uno de los siguientes artículos. <br><br><h3>  Funciones relacionadas con el tiempo. </h3><br>  Nucleus RTOS y Nucleus SE contienen varios mecanismos relacionados con el tiempo: <br><br><ul><li>  <b>Reloj tick del sistema (Tick clock)</b> : un contador simple que se incrementa utilizando un controlador de interrupción del temporizador.  Tanto Nucleus RTOS como Nucleus SE tienen un contador de 32 bits y las tareas tienen mecanismos para leer y escribir su valor.  En Nucleus SE, un temporizador de reloj es opcional. </li><li>  <b>Temporizadores de aplicación</b> : tanto Nucleus RTOS como Nucleus SE admiten objetos de temporizador.  Su uso e implementación en Nucleus SE se discutirá con más detalle en el próximo artículo. </li><li>  <b>Programación de segmentos de tiempo</b> : en Nucleus RTOS, las tareas con la misma prioridad se sirven usando el algoritmo Round-robin, pero también puede usar el corte de tiempo.  En Nucleus SE, un planificador de segmentación de tiempo es opcional;  esto se ha discutido en detalle en artículos anteriores (una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">vista general del planificador de TS (segmento de tiempo)</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TS en Nucleus SE</a> ). </li><li>  <b>Suspender una tarea (Tarea inactiva)</b> : una tarea puede detenerse sola ("quedarse dormida") durante un período fijo de tiempo.  Este mecanismo ya se ha descrito en detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">anteriormente</a> . </li><li>  <b>Tiempos de espera de llamadas de API</b> : tanto en Nucleus RTOS como en Nucleus SE, algunas llamadas de API le permiten pausar una tarea mientras espera que un recurso esté disponible.  La pausa puede ser indefinida o, en el caso de Nucleus RTOS, puede indicarse un período de tiempo de espera opcional (período de espera).  Nucleus SE no admite tiempos de espera de llamadas API. </li></ul><br><h3>  Precisión </h3><br>  Y ahora vale la pena contar brevemente sobre la precisión del temporizador del sistema. <br><br>  La precisión de las funciones de tiempo depende directamente de la frecuencia del generador de reloj.  Por ejemplo, si los pulsos llegan cada 10 milisegundos, y la tarea de la aplicación necesita un retraso de 100 milisegundos, obviamente necesita 10 pulsos.  Sin embargo, no se sabe cuándo se recibió el impulso anterior: podría haber sucedido hace apenas 10 milisegundos.  Por lo tanto, un retraso de 100 milisegundos puede tomar hasta 110 milisegundos. <br><br>  Una forma obvia de resolver este problema es aumentar la frecuencia del generador.  Si los pulsos siguen a intervalos de 1 milisegundo, un retraso de 100 milisegundos nunca tomará más de ciento un milisegundo.  La desventaja de esta solución es que el controlador de interrupción del temporizador tomará 10 veces más tiempo de procesador, lo que será excesivo.  El diseñador del sistema debe encontrar un equilibrio entre la precisión necesaria del temporizador y la potencia del procesador disponible. <br><br><h2>  Ajuste de hora del sistema </h2><br>  Al igual que con la mayoría de los objetos de Nucleus SE, la configuración de hora del sistema está controlada en su mayor parte por las directivas <b>#define</b> en el archivo <b>nuse_config.h</b> .  El parámetro principal es <b>NUSE_SYSTEM_TIME_SUPPORT</b> , que activa el mecanismo de soporte de hora del sistema.  No necesita especificar el número de objetos: la hora del sistema está activada o no. <br><br>  La elección de un valor distinto de cero es el activador principal de la hora del sistema.  Este parámetro se utiliza al definir estructuras de datos, que se discutirán en detalle más adelante en este artículo.  Además, un valor distinto de cero activa la configuración de la API. <br><br><h3>  Activación API </h3><br>  Cada función API (llamada de utilidad) en Nucleus SE tiene una directiva activadora #define en el archivo nuse_config.h.  Para la hora del sistema, estos símbolos son: <br>  <b>NUSE_CLOCK_SET</b> <br>  <b>NUSE_CLOCK_RETRIEVE</b> <br><br>  Por defecto, están configurados en <b>FALSO</b> , por lo que todas las llamadas de servicio están deshabilitadas, lo que bloquea la inclusión de código que las implementa.  Para configurar la hora del sistema en la aplicación, debe seleccionar las llamadas de servicio API necesarias y establecerlas en <b>VERDADERO</b> . <br><br>  El siguiente es un fragmento de código del archivo predeterminado nuse_config.h. <br><br><pre><code class="plaintext hljs">#define NUSE_SYSTEM_TIME_SUPPORT FALSE /*    */ #define NUSE_CLOCK_SET FALSE /*   */ #define NUSE_CLOCK_RETRIEVE FALSE /*    */</code> </pre> <br>  Si intenta utilizar la llamada del servicio API de hora del sistema cuando el activador de hora del sistema está apagado, se producirá un error de compilación.  Si su código usa una llamada API que no ha sido activada, se producirá un error de diseño porque el código de implementación no se incluyó en la aplicación. <br><br><h2>  Llamadas de utilidad de hora del sistema </h2><br>  Nucleus RTOS admite dos llamadas de servicios públicos que se relacionan con la hora del sistema y proporcionan la siguiente funcionalidad: <br><br><ul><li>  Establecer el valor de la hora del sistema.  Nucleus SE se implementa en la función <b>NUSE_Clock_Set ()</b> . </li><li>  Obteniendo el valor del tiempo del sistema.  Nucleus SE se implementa en la función <b>NUSE_Clock_Retrieve ()</b> . </li></ul><br>  Considere la implementación de cada una de estas llamadas con más detalle. <br><br><h2>  Llamadas de servicio para configurar y obtener la hora del sistema </h2><br>  Con la hora del sistema, solo puede realizar operaciones de configuración a un valor dado y obtener el valor actual.  Nucleus RTOS y Nucleus SE proporcionan dos llamadas API básicas para implementar estas operaciones. <br><br>  La interpretación del valor de tiempo del sistema depende de la aplicación, ya que es esencialmente un contador del número de "ciclos de reloj" que han ocurrido desde el último reinicio del contador.  Para usar esta información, se debe conocer la frecuencia del generador. <br><br><h3>  Ajuste de la hora </h3><br>  Cualquier tarea puede establecer la hora del sistema llamando a esta función API. <br><br>  <b><i>Llame para configurar la hora del sistema en Nucleus RTOS</i></b> <br><br>  Prototipo de llamada de servicio: <br>  <b>ANULAR NU_Set_Clock (UNSIGNED new_value);</b> <br><br>  Parámetros: <br>  <b>new_value</b> : valor que se asignará a la hora del sistema <br><br>  Valor de retorno: ninguno. <br><br>  <b><i>Llame para configurar la hora del sistema en Nucleus SE</i></b> <br>  Esta llamada a la API admite la funcionalidad principal de la API Nucleus RTOS. <br><br>  Prototipo de llamada de servicio: <br>  <b>anular NUSE_Clock_Set (U32 new_value);</b> <br><br>  Parámetros: <br>  <b>new_value</b> : valor que se asignará a la hora del sistema <br><br>  Valor de retorno: ninguno <br><br>  <b><i>Implementación de la configuración de tiempo en Nucleus SE</i></b> <br>  El código es muy simple.  El valor proporcionado se escribe en <b>NUSE_Tick_Clock</b> dentro de la sección crítica. <br><br><h3>  Obtener hora del sistema </h3><br>  Una tarea puede obtener el valor de hora del sistema utilizando esta función API. <br><br>  <b><i>Llame para obtener la hora del sistema en Nucleus RTOS</i></b> <br><br>  Prototipo de llamada de servicio: <br>  <b>NO FIRMADO NU_Retrieve_Clock (VOID);</b> <br><br>  Parámetros: ninguno <br><br>  Valor de retorno: valor actual de la hora del sistema <br><br>  <b><i>Llamar para obtener la hora del sistema en Nucleus SE</i></b> <br>  Prototipo de llamada de servicio: <br>  <b>U32 NUSE_Clock_Retrieve (nulo);</b> <br><br>  Parámetros: ninguno <br><br>  Valor de retorno: valor actual de la hora del sistema <br><br>  <b><i>Implementación de adquisición de tiempo en Nucleus SE</i></b> <br>  El código es muy simple.  La función devuelve el valor <b>NUSE_Tick_Clock</b> obtenido en la sección crítica. <br><br><h2>  Estructuras de datos </h2><br>  La hora del sistema usa una estructura de datos (ubicada en la RAM), que es una palabra de 32 bits. <br><br>  Recomiendo encarecidamente que el código de la aplicación no utilice el acceso directo a esta estructura de datos, sino que acceda a él a través de las funciones API proporcionadas.  Esto evitará la incompatibilidad con futuras versiones de Nucleus SE y los efectos secundarios no deseados, además de simplificar la transferencia de aplicaciones a Nucleus RTOS.  Los detalles de las estructuras de datos se proporcionan a continuación para simplificar la comprensión del código de llamada de servicio y la depuración. <br><br><h3>  Datos de RAM </h3><br>  Estructura de datos: <br>  <b>NUSE_Tick_Clock</b> : una variable de tipo <b>U32</b> , que almacena el contador de reloj de la hora del sistema. <br><br>  Esta estructura de datos se inicializa a cero mediante la función <b>NUSE_Init_Task ()</b> cuando se inicia Nucleus SE.  Uno de los siguientes artículos proporcionará una descripción completa de los procedimientos de inicio de Nucleus SE. <br><br><h3>  Datos ROM </h3><br>  No hay estructuras de datos asociadas con la hora del sistema en ROM. <br><br><h3>  La cantidad de memoria para la hora del sistema </h3><br>  Como todos los demás objetos de Nucleus SE, la cantidad de memoria requerida para el tiempo del sistema es predecible. <br><br>  La cantidad de memoria en ROM es 0. <br><br>  La cantidad de memoria en RAM (en bytes) es siempre 4. <br><br><h2>  Llamadas API no realizadas </h2><br>  Todas las llamadas de servicio API Nucleus RTOS en tiempo de sistema tienen un equivalente en Nucleus SE. <br><br><h3>  Compatible con Nucleus PLUS </h3><br>  Al igual que con todos los demás objetos de Nucleus SE, mi objetivo era asegurar que el código de la aplicación sea lo más compatible posible con Nucleus RTOS.  La hora del sistema no es una excepción y, desde el punto de vista del usuario, se implementa de la misma manera que en Nucleus RTOS.  Las llamadas a la API Nucleus RTOS se pueden portar directamente a Nucleus SE. <br><br>  En el siguiente artículo consideraremos temporizadores de software. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454272/">https://habr.com/ru/post/454272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454256/index.html">¿Qué tiene de malo nuestra TI?</a></li>
<li><a href="../454260/index.html">Bad Code Día del Niño</a></li>
<li><a href="../454262/index.html">Por qué todo científico de datos debería saber Dask</a></li>
<li><a href="../454264/index.html">4 canales de Youtube sensibles sobre entrevistas técnicas</a></li>
<li><a href="../454266/index.html">Dell y Alienware en Computex 2019: habla sobre innovaciones clave</a></li>
<li><a href="../454274/index.html">Luz, cámara ... nube: cómo las nubes cambian la industria del cine</a></li>
<li><a href="../454278/index.html">Ciberseguro en el mercado ruso</a></li>
<li><a href="../454280/index.html">Desarrollo remoto en VS Code: tu vida nunca será la misma</a></li>
<li><a href="../454284/index.html">Lo siento, no vendré a trabajar porque es invierno</a></li>
<li><a href="../454290/index.html">Principio de responsabilidad única. No es tan simple como parece</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>