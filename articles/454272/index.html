<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游꿭 游꼷 游꿨 Toda la verdad sobre RTOS. Art칤culo # 27. Hora del sistema 游뱠游낗 游쓇릞 游뱛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El concepto de tiempo en el contexto de RTOS se introdujo en uno de los art칤culos anteriores , junto con la idea de funciones relacionadas con el tiem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Toda la verdad sobre RTOS. Art칤culo # 27. Hora del sistema</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454272/">  El concepto de tiempo en el contexto de RTOS se introdujo en uno de los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art칤culos anteriores</a> , junto con la idea de funciones relacionadas con el tiempo disponibles en RTOS. <br><br><img src="https://habrastorage.org/webt/u0/4z/bl/u04zbllomewnuxhei-ydrxmaeew.jpeg"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Art칤culos anteriores de la serie:</b> <div class="spoiler_text"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 26.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Canales: servicios auxiliares y estructuras de datos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 25.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Canales de datos: introducci칩n y servicios b치sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 24.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Colas: servicios auxiliares y estructuras de datos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo 23.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Colas: introducci칩n y servicios b치sicos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 22.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Buzones: servicios auxiliares y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 21.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Buzones: Introducci칩n y servicios b치sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 20.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sem치foros: servicios auxiliares y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 19.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sem치foros: introducci칩n y servicios b치sicos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 18.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Grupos de banderas de eventos: servicios auxiliares y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 17.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Grupos de banderas de eventos: Introducci칩n y servicios b치sicos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 16.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Se침ales</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 15.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Particiones de memoria: servicios y estructuras de datos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 14.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Secciones de memoria: introducci칩n y servicios b치sicos.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo 13.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Estructuras de datos de tareas y llamadas de API no compatibles</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 12.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Servicios para trabajar con tareas.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 11.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tareas: configuraci칩n e introducci칩n a la API</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 10.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programador: funciones avanzadas y preservaci칩n del contexto</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 9.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programador: implementaci칩n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 8.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nucleus SE: dise침o interno y despliegue</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 7.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">N칰cleo SE: Introducci칩n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 6.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Otros servicios RTOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 5.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Interacci칩n de tareas y sincronizaci칩n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 4.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tareas, cambio de contexto e interrupciones</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 3.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tareas y planificaci칩n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 2.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RTOS: estructura y modo en tiempo real</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Art칤culo # 1.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RTOS: introducci칩n.</a> <br></div></div><br><h3>  Temporizador de tic </h3><br>  Todas las funciones relacionadas con el tiempo est치n controladas por un reloj de hardware.  Este es un oscilador simple que genera solicitudes de interrupci칩n a intervalos regulares.  Para que los n칰meros de reloj tengan sentido para los programas de aplicaci칩n, se debe conocer la frecuencia del generador. <br><br><h3>  Manejo de interrupci칩n del temporizador </h3><br>  Las interrupciones generadas por el temporizador de hardware deben ser atendidas de manera espec칤fica en el controlador de interrupciones (Rutina de servicio de interrupci칩n, ISR), que implementa todas las funciones RTOS relacionadas con el tiempo.  Los detalles del controlador de interrupci칩n del temporizador en Nucleus SE se analizar치n en uno de los siguientes art칤culos. <br><br><h3>  Funciones relacionadas con el tiempo. </h3><br>  Nucleus RTOS y Nucleus SE contienen varios mecanismos relacionados con el tiempo: <br><br><ul><li>  <b>Reloj tick del sistema (Tick clock)</b> : un contador simple que se incrementa utilizando un controlador de interrupci칩n del temporizador.  Tanto Nucleus RTOS como Nucleus SE tienen un contador de 32 bits y las tareas tienen mecanismos para leer y escribir su valor.  En Nucleus SE, un temporizador de reloj es opcional. </li><li>  <b>Temporizadores de aplicaci칩n</b> : tanto Nucleus RTOS como Nucleus SE admiten objetos de temporizador.  Su uso e implementaci칩n en Nucleus SE se discutir치 con m치s detalle en el pr칩ximo art칤culo. </li><li>  <b>Programaci칩n de segmentos de tiempo</b> : en Nucleus RTOS, las tareas con la misma prioridad se sirven usando el algoritmo Round-robin, pero tambi칠n puede usar el corte de tiempo.  En Nucleus SE, un planificador de segmentaci칩n de tiempo es opcional;  esto se ha discutido en detalle en art칤culos anteriores (una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">vista general del planificador de TS (segmento de tiempo)</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TS en Nucleus SE</a> ). </li><li>  <b>Suspender una tarea (Tarea inactiva)</b> : una tarea puede detenerse sola ("quedarse dormida") durante un per칤odo fijo de tiempo.  Este mecanismo ya se ha descrito en detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">anteriormente</a> . </li><li>  <b>Tiempos de espera de llamadas de API</b> : tanto en Nucleus RTOS como en Nucleus SE, algunas llamadas de API le permiten pausar una tarea mientras espera que un recurso est칠 disponible.  La pausa puede ser indefinida o, en el caso de Nucleus RTOS, puede indicarse un per칤odo de tiempo de espera opcional (per칤odo de espera).  Nucleus SE no admite tiempos de espera de llamadas API. </li></ul><br><h3>  Precisi칩n </h3><br>  Y ahora vale la pena contar brevemente sobre la precisi칩n del temporizador del sistema. <br><br>  La precisi칩n de las funciones de tiempo depende directamente de la frecuencia del generador de reloj.  Por ejemplo, si los pulsos llegan cada 10 milisegundos, y la tarea de la aplicaci칩n necesita un retraso de 100 milisegundos, obviamente necesita 10 pulsos.  Sin embargo, no se sabe cu치ndo se recibi칩 el impulso anterior: podr칤a haber sucedido hace apenas 10 milisegundos.  Por lo tanto, un retraso de 100 milisegundos puede tomar hasta 110 milisegundos. <br><br>  Una forma obvia de resolver este problema es aumentar la frecuencia del generador.  Si los pulsos siguen a intervalos de 1 milisegundo, un retraso de 100 milisegundos nunca tomar치 m치s de ciento un milisegundo.  La desventaja de esta soluci칩n es que el controlador de interrupci칩n del temporizador tomar치 10 veces m치s tiempo de procesador, lo que ser치 excesivo.  El dise침ador del sistema debe encontrar un equilibrio entre la precisi칩n necesaria del temporizador y la potencia del procesador disponible. <br><br><h2>  Ajuste de hora del sistema </h2><br>  Al igual que con la mayor칤a de los objetos de Nucleus SE, la configuraci칩n de hora del sistema est치 controlada en su mayor parte por las directivas <b>#define</b> en el archivo <b>nuse_config.h</b> .  El par치metro principal es <b>NUSE_SYSTEM_TIME_SUPPORT</b> , que activa el mecanismo de soporte de hora del sistema.  No necesita especificar el n칰mero de objetos: la hora del sistema est치 activada o no. <br><br>  La elecci칩n de un valor distinto de cero es el activador principal de la hora del sistema.  Este par치metro se utiliza al definir estructuras de datos, que se discutir치n en detalle m치s adelante en este art칤culo.  Adem치s, un valor distinto de cero activa la configuraci칩n de la API. <br><br><h3>  Activaci칩n API </h3><br>  Cada funci칩n API (llamada de utilidad) en Nucleus SE tiene una directiva activadora #define en el archivo nuse_config.h.  Para la hora del sistema, estos s칤mbolos son: <br>  <b>NUSE_CLOCK_SET</b> <br>  <b>NUSE_CLOCK_RETRIEVE</b> <br><br>  Por defecto, est치n configurados en <b>FALSO</b> , por lo que todas las llamadas de servicio est치n deshabilitadas, lo que bloquea la inclusi칩n de c칩digo que las implementa.  Para configurar la hora del sistema en la aplicaci칩n, debe seleccionar las llamadas de servicio API necesarias y establecerlas en <b>VERDADERO</b> . <br><br>  El siguiente es un fragmento de c칩digo del archivo predeterminado nuse_config.h. <br><br><pre><code class="plaintext hljs">#define NUSE_SYSTEM_TIME_SUPPORT FALSE /*    */ #define NUSE_CLOCK_SET FALSE /*   */ #define NUSE_CLOCK_RETRIEVE FALSE /*    */</code> </pre> <br>  Si intenta utilizar la llamada del servicio API de hora del sistema cuando el activador de hora del sistema est치 apagado, se producir치 un error de compilaci칩n.  Si su c칩digo usa una llamada API que no ha sido activada, se producir치 un error de dise침o porque el c칩digo de implementaci칩n no se incluy칩 en la aplicaci칩n. <br><br><h2>  Llamadas de utilidad de hora del sistema </h2><br>  Nucleus RTOS admite dos llamadas de servicios p칰blicos que se relacionan con la hora del sistema y proporcionan la siguiente funcionalidad: <br><br><ul><li>  Establecer el valor de la hora del sistema.  Nucleus SE se implementa en la funci칩n <b>NUSE_Clock_Set ()</b> . </li><li>  Obteniendo el valor del tiempo del sistema.  Nucleus SE se implementa en la funci칩n <b>NUSE_Clock_Retrieve ()</b> . </li></ul><br>  Considere la implementaci칩n de cada una de estas llamadas con m치s detalle. <br><br><h2>  Llamadas de servicio para configurar y obtener la hora del sistema </h2><br>  Con la hora del sistema, solo puede realizar operaciones de configuraci칩n a un valor dado y obtener el valor actual.  Nucleus RTOS y Nucleus SE proporcionan dos llamadas API b치sicas para implementar estas operaciones. <br><br>  La interpretaci칩n del valor de tiempo del sistema depende de la aplicaci칩n, ya que es esencialmente un contador del n칰mero de "ciclos de reloj" que han ocurrido desde el 칰ltimo reinicio del contador.  Para usar esta informaci칩n, se debe conocer la frecuencia del generador. <br><br><h3>  Ajuste de la hora </h3><br>  Cualquier tarea puede establecer la hora del sistema llamando a esta funci칩n API. <br><br>  <b><i>Llame para configurar la hora del sistema en Nucleus RTOS</i></b> <br><br>  Prototipo de llamada de servicio: <br>  <b>ANULAR NU_Set_Clock (UNSIGNED new_value);</b> <br><br>  Par치metros: <br>  <b>new_value</b> : valor que se asignar치 a la hora del sistema <br><br>  Valor de retorno: ninguno. <br><br>  <b><i>Llame para configurar la hora del sistema en Nucleus SE</i></b> <br>  Esta llamada a la API admite la funcionalidad principal de la API Nucleus RTOS. <br><br>  Prototipo de llamada de servicio: <br>  <b>anular NUSE_Clock_Set (U32 new_value);</b> <br><br>  Par치metros: <br>  <b>new_value</b> : valor que se asignar치 a la hora del sistema <br><br>  Valor de retorno: ninguno <br><br>  <b><i>Implementaci칩n de la configuraci칩n de tiempo en Nucleus SE</i></b> <br>  El c칩digo es muy simple.  El valor proporcionado se escribe en <b>NUSE_Tick_Clock</b> dentro de la secci칩n cr칤tica. <br><br><h3>  Obtener hora del sistema </h3><br>  Una tarea puede obtener el valor de hora del sistema utilizando esta funci칩n API. <br><br>  <b><i>Llame para obtener la hora del sistema en Nucleus RTOS</i></b> <br><br>  Prototipo de llamada de servicio: <br>  <b>NO FIRMADO NU_Retrieve_Clock (VOID);</b> <br><br>  Par치metros: ninguno <br><br>  Valor de retorno: valor actual de la hora del sistema <br><br>  <b><i>Llamar para obtener la hora del sistema en Nucleus SE</i></b> <br>  Prototipo de llamada de servicio: <br>  <b>U32 NUSE_Clock_Retrieve (nulo);</b> <br><br>  Par치metros: ninguno <br><br>  Valor de retorno: valor actual de la hora del sistema <br><br>  <b><i>Implementaci칩n de adquisici칩n de tiempo en Nucleus SE</i></b> <br>  El c칩digo es muy simple.  La funci칩n devuelve el valor <b>NUSE_Tick_Clock</b> obtenido en la secci칩n cr칤tica. <br><br><h2>  Estructuras de datos </h2><br>  La hora del sistema usa una estructura de datos (ubicada en la RAM), que es una palabra de 32 bits. <br><br>  Recomiendo encarecidamente que el c칩digo de la aplicaci칩n no utilice el acceso directo a esta estructura de datos, sino que acceda a 칠l a trav칠s de las funciones API proporcionadas.  Esto evitar치 la incompatibilidad con futuras versiones de Nucleus SE y los efectos secundarios no deseados, adem치s de simplificar la transferencia de aplicaciones a Nucleus RTOS.  Los detalles de las estructuras de datos se proporcionan a continuaci칩n para simplificar la comprensi칩n del c칩digo de llamada de servicio y la depuraci칩n. <br><br><h3>  Datos de RAM </h3><br>  Estructura de datos: <br>  <b>NUSE_Tick_Clock</b> : una variable de tipo <b>U32</b> , que almacena el contador de reloj de la hora del sistema. <br><br>  Esta estructura de datos se inicializa a cero mediante la funci칩n <b>NUSE_Init_Task ()</b> cuando se inicia Nucleus SE.  Uno de los siguientes art칤culos proporcionar치 una descripci칩n completa de los procedimientos de inicio de Nucleus SE. <br><br><h3>  Datos ROM </h3><br>  No hay estructuras de datos asociadas con la hora del sistema en ROM. <br><br><h3>  La cantidad de memoria para la hora del sistema </h3><br>  Como todos los dem치s objetos de Nucleus SE, la cantidad de memoria requerida para el tiempo del sistema es predecible. <br><br>  La cantidad de memoria en ROM es 0. <br><br>  La cantidad de memoria en RAM (en bytes) es siempre 4. <br><br><h2>  Llamadas API no realizadas </h2><br>  Todas las llamadas de servicio API Nucleus RTOS en tiempo de sistema tienen un equivalente en Nucleus SE. <br><br><h3>  Compatible con Nucleus PLUS </h3><br>  Al igual que con todos los dem치s objetos de Nucleus SE, mi objetivo era asegurar que el c칩digo de la aplicaci칩n sea lo m치s compatible posible con Nucleus RTOS.  La hora del sistema no es una excepci칩n y, desde el punto de vista del usuario, se implementa de la misma manera que en Nucleus RTOS.  Las llamadas a la API Nucleus RTOS se pueden portar directamente a Nucleus SE. <br><br>  En el siguiente art칤culo consideraremos temporizadores de software. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454272/">https://habr.com/ru/post/454272/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454256/index.html">쯈u칠 tiene de malo nuestra TI?</a></li>
<li><a href="../454260/index.html">Bad Code D칤a del Ni침o</a></li>
<li><a href="../454262/index.html">Por qu칠 todo cient칤fico de datos deber칤a saber Dask</a></li>
<li><a href="../454264/index.html">4 canales de Youtube sensibles sobre entrevistas t칠cnicas</a></li>
<li><a href="../454266/index.html">Dell y Alienware en Computex 2019: habla sobre innovaciones clave</a></li>
<li><a href="../454274/index.html">Luz, c치mara ... nube: c칩mo las nubes cambian la industria del cine</a></li>
<li><a href="../454278/index.html">Ciberseguro en el mercado ruso</a></li>
<li><a href="../454280/index.html">Desarrollo remoto en VS Code: tu vida nunca ser치 la misma</a></li>
<li><a href="../454284/index.html">Lo siento, no vendr칠 a trabajar porque es invierno</a></li>
<li><a href="../454290/index.html">Principio de responsabilidad 칰nica. No es tan simple como parece</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>