<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•© üë©üèæ‚Äçüè≠ üìß Jira DataCenter - was ist das? Wie funktioniert es Wie bereitstellen? üéá üìº üëèüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einf√ºhrung 
 Mit der Verbreitung der Agile-Philosophie erwerben russische IT-Spezialisten jedes Jahr mehr Fachwissen und Kompetenzen im Bereich der Pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Jira DataCenter - was ist das? Wie funktioniert es Wie bereitstellen?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433904/"><h2>  Einf√ºhrung </h2><br>  Mit der Verbreitung der Agile-Philosophie erwerben russische IT-Spezialisten jedes Jahr mehr Fachwissen und Kompetenzen im Bereich der Produktanpassung und -verwaltung f√ºr Entwicklungsteams, von denen das beliebteste immer noch Jira ist.  Die Arbeit mit der √§ltesten, produktivsten und am besten zug√§nglichen Version - dem Jira Data Center - wirft jedoch noch viele Fragen auf.  In diesem Beitrag werde ich √ºber einige der Prinzipien und Mechanismen des Jira DataCenter sprechen, die wir in der Praxis anwenden.  Ich werde mit einer Geschichte √ºber die Struktur des Jira-Clusters beginnen. <br><a name="habracut"></a><br><h2>  Was ist ein Jira DataCenter? </h2><br>  Jira DataCenter ist im Wesentlichen eine Serverversion, kann jedoch eine gemeinsame Datenbank und einen gemeinsam genutzten Index verwenden. <br><br>  Es ist wichtig zu verstehen, dass das Jira DataCenter selbst als Produkt und als Anwendung <b>KEINE</b> Fehlertoleranz und keinen <b>Lastausgleich</b> bietet.  Verantwortlich daf√ºr sind Module und Systeme, zu denen das Atlassian-Produkt keine Beziehung hat. <br><br>  Mit anderen Worten, Atlassian bietet Unterst√ºtzung f√ºr die Arbeit in einem Cluster, aber das Clustering selbst wird auf externe Weise implementiert, deren Auswahl sehr umfangreich ist. <br><br>  Detaillierte Produktbeschreibungen finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der Atlassian-Website</a> . <br><br>  Es gibt verschiedene Konstruktionsm√∂glichkeiten: <br><br>  1. Auf eigener Infrastruktur <br>  2. In der Amazon Cloud (AWS) <br>  3. In der Cloud von MS (Azure) <br><br>  Dieser Artikel beschreibt eine L√∂sung f√ºr Ihre eigene Infrastruktur. <br><br><h2>  Welche Probleme l√∂st das Jira DataCenter? </h2><br>  Mit Jira Data Center k√∂nnen Sie die folgenden Ziele erreichen: <br><br><ol><li>  Implementierung der Fehlertoleranz. </li><li>  Sicherstellung eines stabilen Betriebs unter hoher Last.  Hohe Last bezieht sich laut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jira Sizing Guide auf</a> Instanzen im Gro√ü- / Unternehmensma√üstab. </li><li>  Sicherstellung eines kontinuierlichen Betriebs, wenn Wartungsarbeiten erforderlich sind.  An dieser Stelle werde ich separat wohnen.  Die Anwendung muss h√§ufig aktualisiert werden, und nicht alle Unternehmen k√∂nnen dies schnell und unsichtbar f√ºr Benutzer tun.  Dieses Problem wird durch Clustering und Verwendung des sogenannten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zero Downtime-</a> Aktualisierungsschemas gel√∂st. </li></ol><br>  Diese Probleme werden durch Clustering und eine skalierbare Architektur behoben. <br><br><h2>  Was sind die Komponenten eines Jira DataCenter? </h2><br>  Wie Sie in der folgenden Abbildung sehen k√∂nnen, besteht der Jira DataCenter-Cluster aus mehreren dedizierten Computern. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/df9/c80/76a/df9c8076a3d9bceb3c18a7392588dc5a.png" alt="Bild"><br>  <i>Abbildung 1. Architektur des Jira-Rechenzentrums</i> <br><br><ol><li>  Anwendungsknoten (Anwendungsknoten oder Clusterknoten).  Sie akzeptieren und verarbeiten alle Workloads und Anforderungen.  Die Rolle von Knoten wird von normalen Servern mit identischem Inhalt und installierter Anwendung sowie einem bereitgestellten gemeinsam genutzten Dateisystem gespielt. </li><li>  Dateisystem (Shared File System) mit Standardfunktionen zum Importieren / Exportieren von Dateien, Plugins, Caching usw.  Ein Dateiserver ist auch ein separater Server, auf dem ein freigegebener Ordner oder eine freigegebene Ressource erstellt wird, der an Knoten angeh√§ngt und f√ºr freigegebene Dateien verwendet wird. </li><li>  Freigegebene Datenbank  Der Datenbankserver ist in diesem Fall auch ein separater Server und kann auf MS SQL, PostgreSQL, MySQL, Oracle aufgebaut werden. </li><li>  Load Balancer  Es verteilt Benutzeranforderungen und liefert sie an Knoten. Wenn eine davon fehlschl√§gt, leitet der Balancer seine Anforderungen fast sofort an andere Knoten weiter.  Dank seiner Arbeit bemerken Benutzer nicht einmal den Ausfall eines Knotens.  Wir werden unten separat √ºber die Arbeit des Balancers sprechen. </li></ol><br><h2>  Clustertopologie des Jira-Rechenzentrums </h2><br>  Ich werde die Grundprinzipien angeben, nach denen ein Cluster in JDC erstellt wird: <br><br><ul><li>  Jira-Instanzen teilen sich eine gemeinsame Datenbank. </li><li>  Der Lucene-Index wird in Echtzeit repliziert und lokal pro Instanz gespeichert. </li><li>  Anh√§nge werden in einem gemeinsamen Repository gespeichert. </li><li>  Jira-Instanzen √ºberwachen die Cache-Konsistenz. </li><li>  Es k√∂nnen jederzeit mehrere Instanzen gleichzeitig aktiv sein. </li><li>  Cluster-Sperren sind verf√ºgbar. </li><li>  Der Balancer ist so konfiguriert, dass Anforderungen nur an aktive Knoten umgeleitet werden, w√§hrend er weder Anforderungen an inaktive Knoten umleiten muss, noch alle Sitzungen an einen Knoten adressieren kann. </li></ul><br>  Alle Knoten sind in aktiv und passiv unterteilt.  Aktive Knoten unterscheiden sich darin, dass sie: <br><br><ul><li>  Anfragen bearbeiten </li><li>  F√ºhren Sie Hintergrundprozesse und Aufgaben aus </li><li>  Geplante Aufgaben k√∂nnen f√ºr eine oder mehrere von ihnen konfiguriert werden. </li><li>  In allen praktischen Szenarien sieht die Situation so aus, als w√ºrde ein Standard-Jira-Server verwendet.  Dementsprechend verarbeiten passive Knoten keine Anforderungen und f√ºhren keine Aufgaben aus, sondern dienen dazu, eine kurzfristige Arbeitslast zu √ºbernehmen (z. B. beim Systemstart, Laden von Plugins und / oder Indizieren). </li></ul><br>  Die folgende Abbildung zeigt den Betrieb des Jira-Clusters <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a5c/fe5/ab3/a5cfe5ab39c39fd277e832ce29364fd9.png" alt="Bild"><br>  <i>Abbildung 2. Ein vereinfachtes Diagramm der Architektur</i> <br><br><h2>  √úber Load Balancer </h2><br>  Der Balancer kann ein beliebiger Server mit installiertem Reverse-Proxy oder ein physisches Ger√§t sein.  Ich werde die bekanntesten Beispiele f√ºr Balancer nennen. <br><br>  1. Hardware-Balancer: <br><br>  ‚Ä¢ Cisco <br>  ‚Ä¢ Wacholder <br>  ‚Ä¢ F5 <br><br>  2. Software-Balancer: <br><br>  ‚Ä¢ mod_proxy (Apache) - Ein Proxyserver f√ºr Apache HTTP Server, der die g√§ngigsten Protokolle und verschiedene Algorithmen zum Lastenausgleich unterst√ºtzt. <br><br>  ‚Ä¢ Varnish ist ein Reverse-HTTP-Proxyserver und -Beschleuniger. Es wurde f√ºr Websites mit hohem Datenverkehr entwickelt.  Im Gegensatz zu anderen ist es nur ein Proxyserver und ein Load Balancer des HTTP-Verkehrs.  Insbesondere verwendet Varnish Wikipedia, NY Times, The Guardian und viele andere gro√üe Projekte. <br><br>  ‚Ä¢ Nginx - der beliebteste Webserver unter Load Balancern und Proxy-L√∂sungen f√ºr Websites mit hohem Datenverkehr.  Es entwickelt sich aktiv, der Hersteller bietet eine kostenlose und Corporate-Version an.  Wird auf vielen der meistbesuchten Websites der Welt verwendet, z. B. WordPress.com, Zynga, Airbnb, Hulu, MaxCDN. <br><br>  ‚Ä¢ Nginx Plus - in der Tat die oben erw√§hnte kostenpflichtige Unternehmensversion von Nginx. <br><br>  ‚Ä¢ HAProxy ist ein kostenloses Open Source-Tool, das Lastausgleichs- und Proxy-Funktionen f√ºr TCP / HTTP-Protokolle bietet.  Es ist schnell und verbraucht wenig Systemressourcen, kompatibel mit Linux, Solaris, FreeBSD und Windows. <br><br>  Einen guten Vergleich der Proxyserver finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier unter diesem Link</a> . <br><br><h2>  Vorw√§rts- und R√ºckw√§rts-Proxys </h2><br>  Load Balancer k√∂nnen sowohl als direkte als auch als Reverse-Proxys eingesetzt werden.  Der Unterschied wurde vom Autor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Kommentars zum Stackoverflow gut beschrieben: <br><br>  1. "Forward Proxy" (Forward Proxy).  Das Proxy-Ereignis in diesem Fall ist, dass der ‚Äûdirekte Proxy‚Äú im Auftrag des urspr√ºnglichen Anforderers Daten von einer anderen Website abruft.  Als Beispiel werde ich eine Liste von drei Computern geben, die mit dem Internet verbunden sind. <br><br>  X = Computer oder Client-Computer im Internet <br>  Y = Proxy-Website, proxy.example.org <br>  Z = Die Website, die Sie besuchen m√∂chten, ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.example.net</a> <br>  Sie k√∂nnen normalerweise eine direkte Verbindung von X -&gt; Z herstellen. In einigen Szenarien ist es jedoch besser, Y -&gt; Z im Namen von X zu verwenden, was in einer Kette folgenderma√üen aussieht: X -&gt; Y -&gt; Z. <br><br>  2. "Reverse Proxy" (Reverse Proxy).  Stellen Sie sich die gleiche Situation vor, nur Standort Y ist mit einem Reverse-Proxy konfiguriert.  Normalerweise k√∂nnen Sie eine direkte Verbindung von X -&gt; Z herstellen. In einigen Szenarien ist es jedoch besser, wenn der Administrator von Z den direkten Zugriff einschr√§nkt oder untersagt und Besucher dazu zwingt, zuerst Y zu durchlaufen. Daher erhalten wir nach wie vor die von Y -&gt; Z empfangenen Daten im Auftrag von X, das wie folgt ist: X -&gt; Y -&gt; Z. <br>  Dieser Fall unterscheidet sich vom ‚Äûdirekten Proxy‚Äú darin, dass Benutzer X nicht wei√ü, dass er auf Z zugreift, da Benutzer X sieht, dass er Daten mit Y austauscht. Server Z ist f√ºr Clients unsichtbar und nur der externe Proxyserver Y ist extern sichtbar .  Der Reverse-Proxy erfordert keine clientseitige Konfiguration.  Client X glaubt, dass er nur mit Y interagiert (X -&gt; Y), aber die Realit√§t ist, dass Y die gesamte Verbindung umleitet (X -&gt; Y -&gt; Z erneut). <br><br>  Als n√§chstes werden wir √ºberlegen, mit einem Software-Balancer zu arbeiten. <br><br><h2>  Welchen Software-Balancer soll ich w√§hlen? </h2><br>  Nach unserer Erfahrung ist Nginx die beste Wahl unter Software-Balancern, da es den Sticky-Session-Modus unterst√ºtzt und auch einer der am h√§ufigsten verwendeten Webserver ist, was eine gute Dokumentation und ausreichende Beliebtheit bei IT-Spezialisten impliziert. <br><br>  Sticky Session ist eine Lastausgleichsmethode, bei der Clientanforderungen an denselben Gruppenserver gesendet werden.  Nginx hat eine Sticky-Methode, bei der Cookies zum Ausgleich verwendet werden, jedoch nur in der kommerziellen Version.  Es gibt jedoch einen freien Weg - die Verwendung externer Module. <br><br>  Das Modul erstellt ein Cookie und macht so jeden Browser einzigartig.  Als N√§chstes wird ein Cookie verwendet, um Anforderungen an denselben Server umzuleiten.  Wenn kein Cookie vorhanden ist (z. B. bei der ersten Anforderung), wird der Server zuf√§llig ausgew√§hlt. <br>  Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> zur Sticky-Methode finden Sie unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=http://nginx.org/ru/docs/http/ngx_">diesem Link</a> sowie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in diesem Habrapost</a> . <br><br>  Und jetzt kommen wir zum praktischen Teil ... <br><br><h2>  Anweisungen zum Erstellen eines Jira DataCenter-Clusters </h2><br>  F√ºr das Clustering k√∂nnen Sie entweder eine vorhandene Instanz mit installiertem Jira oder eine neue verwenden.  In unserem Beispiel wird die Installation neuer Instanzen auf verschiedenen Betriebssystemen beschrieben (um die Vielseitigkeit des Systems zu demonstrieren). <br><br>  1. Beginnen wir mit dem Datenbankserver.  Sie k√∂nnen sowohl vorhandene als auch neue erstellen.  Zur Veranschaulichung wurde erneut Windows Server 2016 + PostgreSQL 9.4 ausgew√§hlt.  Installieren Sie das Betriebssystem, installieren Sie den PG-Server, installieren Sie den PG-Administrator, f√ºgen Sie den Benutzer und die Datenbank hinzu. <br><br>  2. Erstellen Sie den ersten Knoten unter dem Ubuntu 16.04 LTS-Betriebssystem.  Installieren Sie die erforderlichen Pakete und Repository-Updates. <br><br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Laden Sie</a> das Jira DataCenter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">herunter</a> und installieren Sie es, starten Sie es und konfigurieren Sie die Datenbank (nur f√ºr den Fall, dass Atlassian eine detaillierte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anleitung hat</a> ). <br><br>  4. Schalten Sie Jira aus und den Knoten aus. <br>  <i>Service Jira Stop</i> <br><br>  5. F√ºr weitere Manipulationen ist es besser, Jira Autorun vor√ºbergehend zu deaktivieren: <br>  <i>update-rc.d -f jira entfernen</i> <br><br>  6. Wir klonen den ausgeschalteten Knoten. <br><br>  7. Starten Sie den ersten Knoten und deaktivieren Sie Jira (standardm√§√üig ist Jira nach der Installation auf Autorun eingestellt). <br><br>  8. F√ºhren Sie den zweiten Knoten aus und schalten Sie Jira aus. <br><br>  9. Erstellen Sie eine separate Instanz f√ºr den Balancer.  Ich habe Ubuntu 16.04 gew√§hlt, weil  Es ist recht schnell, einfach und erfordert keine zus√§tzlichen Kosten in Form von Lizenzen. <br><br>  10. Installieren Sie nginx (das Beispiel verwendet Version 1.13.4). <br><br>  11. Laden Sie nginx-sticky-module-ng herunter und entpacken Sie es: <br>  Git-Klon <a href="">bitbucket.org/nginx-goodies/nginx-sticky-module-ng.git</a> <br><br>  12. Bereiten Sie nginx f√ºr das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Neukompilieren</a> und Hinzuf√ºgen eines Moduls vor. <br><br>  13. Kompilieren Sie nginx mit dem nginx-sticky-module-ng-Modul.  In meinem Fall stellte sich die Kompilierungszeile folgenderma√üen heraus: <br>  <i>./configure --prefix = / etc / nginx --sbin-path = / usr / sbin / nginx --modules-path = / usr / lib / nginx / modules --conf-path = / etc / nginx / nginx. conf --error-log-path = / var / log / nginx / error.log --http-log-path = / var / log / nginx / access.log --pid-path = / var / run / nginx. pid --lock-path = / var / run / nginx.lock --http-client-body-temp-path = / var / cache / nginx / client_temp --http-proxy-temp-path = / var / cache / nginx / proxy_temp --http-fastcgi-temp-path = / var / cache / nginx / fastcgi_temp --http-uwsgi-temp-path = / var / cache / nginx / uwsgi_temp --http-scgi-temp-path = / var / cache / nginx / scgi_temp --user = nginx --group = nginx --mit-kompatibler - mit-Datei-aio - mit-Threads --mit-http_addition_module --mit-http_auth_request_module --mit-http_dav_module - -with-http_flv_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_mp4_module --with-http_random_index_module --with-http_realip_module --with-http_secure_link_module --with-http_sl_module_with_module -with-http_sub_module --with-ht</i>  <i>tp_v2_module --with-mail --with-mail_ssl_module --with-stream --with-stream_realip_module --with-stream_ssl_module --with-stream_ssl_preread_module --with-cc-opt = '- g -O2 -fstack-protector - param = ssp-buffer-size = 4 -Wformat -Werror = format-security -Wp, -D_FORTIFY_SOURCE = 2 -fPIC '--with-ld-opt =' - Wl, -Bsymbolic-Funktionen -Wl, -z, relro -Wl, -z, jetzt -Wl, - nach Bedarf -pie '--add-module = / usr / local / src / nginx-sticky-module-ng</i> <br><br>  14. Suchen Sie die Datei /etc/nginx/nginx.conf, kopieren Sie sie nach .bak und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">konfigurieren Sie</a> nginx so, dass der Proxy-Modus umgekehrt wird. <br><br>  15. Als n√§chstes ben√∂tigen wir einen Dateiserver (vorzugsweise auch fehlertolerant).  Zum Beispiel habe ich einen Windows-Server ausgew√§hlt, auf dem ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen</a> NFS-Ball erstellt habe. <br><br>  16. Auf jedem Knoten installieren wir Pakete f√ºr die NFS-Unterst√ºtzung: <br>  <i>apt-get install nfs-common</i> <br><br>  17. Erstellen Sie den Ordner / media / jira und f√ºhren Sie Folgendes aus: <br>  <i>chmod -R 0777 / media / Jira</i> <br><br>  18. H√§ngen Sie den NFS-Ball als freigegebenen Ball ein (es ist erforderlich, ihn nicht im Stammordner, sondern beispielsweise in / media / jira zu mounten) - JEDEN NODE <br><br>  19.1.  Ferner ist es m√∂glich, entweder eine manuelle Montage (einzeln) durchzuf√ºhren: <br>  <i>sudo mount -t nfs -O uid = 1000, iocharset = utf-8 xx.xx.xx.xx: / jira / media / jira</i> <br>  Dabei ist xx.xx.xx.xx die IP-Adresse des Servers mit dem NFS-Ball <br><br>  19.2.  Oder sofortige automatische Montage (beim Start des Betriebssystems): <br>  <i>mcedit / etc / fstab</i> <br>  Am Ende m√ºssen Sie die Zeile hinzuf√ºgen: <br>  <i>192.168.7.239:/jira / media / jira nfs user, rw 0 0</i> <br>  Dann speichern und beenden. <br><br>  20. ID zuweisen: Der erste Knoten1, der zweite Knoten2 usw. <br>  <i>#Diese ID muss im gesamten Cluster eindeutig sein</i> <i><br></i>  <i>jira.node.id = node1</i> <i><br></i>  <i>#Der Speicherort des freigegebenen Basisverzeichnisses f√ºr alle Jira-Knoten</i> <i><br></i>  <i>jira.shared.home = / media / jira</i> <br><br>  21. F√ºhren Sie die Jira auf dem ersten Knoten aus <br>  <i>Service Jira starten</i> <br>  √ºberpr√ºfen: <br>  Gehen Sie zu System -&gt; Systeminfo -&gt; Suchen Sie nach Cluster ON und der Knotennummer. <br><br>  22. Richten Sie den Nginx-Ausgleich ein <br><br>  23. Seit  Zuvor haben wir den Jira-Autostart auf den Knoten deaktiviert und k√∂nnen ihn dann mit dem folgenden Befehl aktivieren: <br>  <i>update-rc.d -f jira aktivieren</i> <br><br>  24. Wir √ºberpr√ºfen den Betrieb des Clusters und f√ºgen nach Bedarf Knoten hinzu. <br><br><h4>  Cluster-Startreihenfolge </h4><br>  1. Aktivieren Sie den freigegebenen Dateisystemserver <br>  2. Aktivieren Sie den Load Balancer <br>  3. Aktivieren Sie Knoten1 <br>  4. Aktivieren Sie node2 <br>  5. ... <br><br><h4>  Cluster Stop Order </h4><br>  1. Stoppen Sie Jira auf beiden Knoten mit dem Befehl service Jira stop <br>  2. Schalten Sie Knoten 2 aus <br>  3. Schalten Sie Knoten 1 aus <br>  4. Schalten Sie den Load Balancer aus <br>  5. Schalten Sie den Dateisystemserver aus <br><br><h2>  Das ist alles ... </h2><br>  Nat√ºrlich ist die beschriebene Methode nicht die einzig wahre.  Dies ist nur eine M√∂glichkeit der Implementierung. <br><br>  Ich bedanke mich bei meinen Kollegen f√ºr ihre Hilfe bei der Vorbereitung des Materials. <br>  Kommentieren Sie, stellen Sie Fragen und bedanken Sie sich f√ºr Ihre Aufmerksamkeit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433904/">https://habr.com/ru/post/de433904/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433894/index.html">[Video] Warum Raketen explodieren, was bald in Kotlin erscheinen wird und wie man die Code√ºberpr√ºfung speichert</a></li>
<li><a href="../de433896/index.html">Maschinelles Lernen ist nicht schwierig. Genug daf√ºr f√ºr eine Woche ...</a></li>
<li><a href="../de433898/index.html">Digest MBLT DEV :: Ausgabe Nr. 200</a></li>
<li><a href="../de433900/index.html">ICQ ist tot. Es lebe ICQ?</a></li>
<li><a href="../de433902/index.html">Wiederholung f√ºr einen Programmierer: Warum es wichtig ist, √§hnliche Probleme zu l√∂sen</a></li>
<li><a href="../de433906/index.html">Probleme bei der Verwendung der NtQuerySystemInformation-Funktion mit undokumentierten Argumenten</a></li>
<li><a href="../de433908/index.html">Tetris in C # in 100 Zeilen</a></li>
<li><a href="../de433910/index.html">Gedanken zu Rust 2019</a></li>
<li><a href="../de433912/index.html">M√∂chten Sie die besten Ingenieure gewinnen? Code √∂ffnen</a></li>
<li><a href="../de433916/index.html">Gehen Sie Gemeinschaft in Kasan und unsere Treffen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>