<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💆🏿 🆔 🛠️ Pembeli misteri CityMobile 🖥️ 📿 🤮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hai Nama saya Narek Markosyan dan saya adalah pengembang backend di Citimobil. Saya ingin memberi tahu Anda tentang bot Telegram tertutup kami "Pembel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pembeli misteri CityMobile</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/citymobil/blog/484728/">  Hai  Nama saya Narek Markosyan dan saya adalah pengembang backend di Citimobil.  Saya ingin memberi tahu Anda tentang <b>bot Telegram</b> tertutup kami <b>"Pembeli Misteri"</b> . <br><br><h2>  Prolog </h2><br>  Tidak ada yang memakai kacamata merah muda di CityMobile, kami sangat memahami bahwa layanan kami tidak sempurna, oleh karena itu kami selalu berupaya meningkatkannya.  Masalah pelanggan mungkin terkait dengan aplikasi, dengan perhitungan harga, tetapi paling sering dengan pengemudi. <br><br>  Kami mencintai pengemudi kami dan mencoba membuat pekerjaan mereka lebih menyenangkan dan menguntungkan, tetapi karena satu pengemudi yang tidak bermoral kami dapat kehilangan beberapa pelanggan dan dengan demikian menghilangkan pengemudi yang dengan jujur ​​melakukan pekerjaan mereka. <br><br>  Untuk alasan ini, kami memutuskan untuk mengembangkan alat untuk dengan cepat menanggapi keluhan terkait dengan pengemudi. <br><a name="habracut"></a><br><h2>  Kenapa kita perlu bot </h2><br>  Tentu saja semua keluhan klien kami dipertimbangkan oleh karyawan departemen pendukung, tetapi kami tidak dapat sepenuhnya mengandalkan statistik yang diterima dari klien karena beberapa alasan: <br><br><ul><li>  <b>tidak semua pelanggan</b> meninggalkan umpan balik jika terjadi kesalahan; </li><li>  kita tidak selalu dapat yakin akan <b>objektivitas</b> pelanggan; </li><li>  kami tidak ingin dan tidak bisa mendapatkan pelanggan banyak <b>pertanyaan klarifikasi</b> untuk mendapatkan gambaran lengkap. </li></ul><br>  Jadi apa yang harus dilakukan?  Minta kolega kami untuk membantu! <br><br><ul><li>  Karyawan kemungkinan besar <b>tidak</b> akan <b>lupa</b> melaporkan masalah; </li><li>  Karyawan lebih <b>objektif</b> .  Tidak sampai akhir, tapi tetap saja :) </li><li>  Anda dapat pergi ke kolega dan mencari tahu semua detail yang diperlukan. </li></ul><br>  Tentu saja, ketika masalah muncul, Anda selalu dapat memanggil ruang pengiriman dan melakukan tanpa perantara, tetapi bot membantu untuk melakukan dua tugas penting: itu <b>mengingatkan</b> Anda tentang apa yang perlu Anda perhatikan dan memungkinkan Anda untuk melaporkan masalah dengan mengklik <b>tombol</b> . <br><br><h2>  Bagaimana cara kerja bot? </h2><br><img src="https://drive.google.com/uc?export=view&amp;id=1FkPW2NhEdc8Mi1c_n-Oxcjf2a7I46QEL" alt="gambar"><br><br>  Pembeli misterius itu sangat sederhana.  Ini hanya terdiri dari dua penangan: <br><br>  Handler pertama mengambil dari perjalanan API kami yang baru saja menyelesaikan atau dalam status "In transit", dan mengirimkan pertanyaan perjalanan pertama ke chat. <br><br>  Handler kedua mengakses Telegram API dan mengambil pesan yang belum dibaca, membaca setiap pesan secara bergantian dan mengirim respons ke obrolan. <br><br>  Tentu saja, itu memungkinkan untuk membuat server kami secara otomatis mengirim pesan ke bot perjalanan dan balasan pengguna dari Telegram tidak datang dalam batch, tetapi pada saat pengiriman, tetapi setelah diskusi kami memutuskan untuk membuat mekanisme yang dijelaskan di atas.  Ada beberapa alasan untuk ini: <br><br><ul><li>  dengan implementasi ini, layanan ini <b>benar</b> - <b>benar tertutup</b> untuk permintaan masuk pada semua port, dengan demikian kami tidak bisa takut terhadap upaya peretasan atau serangan DDOS; </li><li>  jika banyak pesan datang dari pengguna secara bersamaan, Telegram tidak akan <b>membombardir kami dengan permintaan</b> ; </li><li>  jika bot menjadi tumpul, itu <b>tidak akan memengaruhi</b> server utama kami dan tidak akan memengaruhi proses bisnis. </li></ul><br>  Kami memilih MySQL sebagai basis untuk bot.  Basis data apa pun akan cocok untuk kami, bahkan noSQL, tetapi kami memilih MySQL untuk memudahkan departemen analitik memproses data yang diperlukan. <br><br>  Adapun bahasa, di sini kami memilih antara PHP dan GoLang.  Kami berhenti di PHP, karena "kenapa tidak."  Dengan implementasi yang kami miliki, kami tidak akan menggunakan keunggulan utama Go, tetapi akan mempersulit pengembangan lebih lanjut - tidak semua pengembang kami menulis di Go.  Jika Anda memiliki gagasan apa yang lebih baik dari PHP dalam implementasi Go ini, saya akan senang membaca di komentar. <br><br><h2>  Perangkat tambahan </h2><br>  Belum ada banyak perbaikan sejak versi pertama.  Setelah peluncuran resmi, kami mulai mengumpulkan umpan balik dan akibatnya hanya ditemukan dua masalah. <br><br>  <b>Masalah pertama adalah memori pendek</b> .  Pada implementasi pertama, bot mulai mempertanyakan karyawan 5 menit setelah perjalanan.  Ternyata selama ini penumpang berhasil melupakan beberapa detail, misalnya, nomor registrasi mobil.  Setelah disempurnakan, bot memulai survei satu menit setelah penumpang masuk ke mobil.  Bot menanyakan pertanyaan, jawaban yang sudah diketahui pasti (kebersihan mobil, apakah mobil memiliki angka yang benar, dll).  Setelah perjalanan, bot kembali dengan seikat pertanyaan lain, jawaban yang menjadi jelas hanya selama perjalanan. <br><br>  <b>Masalah kedua adalah bahwa semuanya hampir selalu baik-baik saja dengan kita</b> .  Tidak peduli seberapa aneh kedengarannya, tetapi dari sudut pandang bot, ini telah menjadi masalah.  Rekan kami lelah setelah setiap perjalanan 10 kali untuk menjawab "semuanya baik-baik saja."  Kami memecahkan masalah ini dengan mengelompokkan pertanyaan: kami menggabungkan semua pertanyaan yang diajukan selama perjalanan dan semua pertanyaan yang diajukan setelahnya menjadi dua pertanyaan yang identik: "Apakah semuanya baik-baik saja?" Dengan serangkaian jawaban yang berbeda. <br><br><img src="https://drive.google.com/uc?export=view&amp;id=1qi1ZO7J0HmygCH_lFMaBR_zKCfdSd-0q" alt="gambar"><br><br>  Dalam waktu dekat kami berencana untuk meningkatkan jumlah pelanggan tepercaya dan dengan demikian membuat bot lebih efisien.  Untuk melakukan ini, Anda harus mengulang otorisasi dan menambahkan pemantauan ke peristiwa penting.  Jika akan ada perubahan yang menarik, saya akan menulis artikel terpisah tentang mereka ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id484728/">https://habr.com/ru/post/id484728/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id484716/index.html">Berhenti memanggil semuanya AI</a></li>
<li><a href="../id484718/index.html">Printer modern HP menolak untuk bekerja tanpa berlangganan tinta</a></li>
<li><a href="../id484720/index.html">Konser untuk kota dengan orkestra: siapa dan mengapa merekam suara kehidupan sehari-hari</a></li>
<li><a href="../id484722/index.html">Alat Pengembangan Ruby on Rails Yang Sesuai dengan Proyek Anda: Ruby Top on Rails untuk 2020</a></li>
<li><a href="../id484724/index.html">Berita dari dunia OpenStreetMap No. 494 (12.31.2019-06.01.2020)</a></li>
<li><a href="../id484730/index.html">Dell Inspiron 7490: laptop logam ringan untuk setiap hari dengan otonomi luar biasa</a></li>
<li><a href="../id484732/index.html">Apa itu VMware dan mengapa kompatibilitasnya dengan SSD penting?</a></li>
<li><a href="../id484734/index.html">Apa yang bisa dipresentasikan di CES pada abad ke-19 dan ke-20</a></li>
<li><a href="../id484736/index.html">Linux: menghapus kumpulan kunci / dev / acak</a></li>
<li><a href="../id484738/index.html">Panduan integrasi berkelanjutan untuk Laravel 6 di Google Cloud Run</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>