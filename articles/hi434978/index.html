<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тДвя╕П ЁЯЪ╗ ЁЯШН рдкреЗрд╢ рд╣реИ HealthKit ЁЯСйтАНЁЯСйтАНЁЯСз ЁЯдн ЁЯСиЁЯП╜тАНЁЯдЭтАНЁЯСиЁЯП╗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЗрд╕ HealthKit рд▓реЗрдЦ рдореЗрдВ, рдЖрдк рд╕реАрдЦреЗрдВрдЧреЗ рдХрд┐ HealthKit рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдорддрд┐ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХреИрд╕реЗ рдХрд░реЗрдВ, рд╕рд╛рде рд╣реА рдХреЗрдВрджреНрд░реАрдп HealthKit рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдФрд░...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкреЗрд╢ рд╣реИ HealthKit</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434978/"> рдЗрд╕ HealthKit рд▓реЗрдЦ рдореЗрдВ, рдЖрдк рд╕реАрдЦреЗрдВрдЧреЗ рдХрд┐ HealthKit рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдорддрд┐ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХреИрд╕реЗ рдХрд░реЗрдВ, рд╕рд╛рде рд╣реА рдХреЗрдВрджреНрд░реАрдп HealthKit рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдбреЗрдЯрд╛ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдПред  рд▓реЗрдЦ рдореЗрдВ рд╕реНрд╡рд┐рдлреНрдЯ 4, рдЖрдИрдУрдПрд╕ 11, рдПрдХреНрд╕рдХреЛрдб 9 рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  <b>HealthKit</b> рдПрдХ рдПрдкреАрдЖрдИ рд╣реИ рдЬрд┐рд╕реЗ iOS 8 рдореЗрдВ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <i>HealthKit</i> рд╕рднреА рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рдВрдмрдВрдзреА рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдХреЗрдВрджреНрд░реАрдп рднрдВрдбрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬреИрд╡рд┐рдХ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╡рд░реНрдХрдЖрдЙрдЯ рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк HealthKit рд▓реЗрдЦ рдкрдврд╝рддреЗ рд╣реИрдВ, рдЖрдк рд╕рдмрд╕реЗ рд╕рд░рд▓ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдЯреНрд░реИрдХрд┐рдВрдЧ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдПрдВрдЧреЗ рдФрд░ рд╕реАрдЦреЗрдВрдЧреЗ: <br><br><ul><li>  рдЕрдиреБрдорддрд┐ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХреИрд╕реЗ рдХрд░реЗрдВ рдФрд░ HealthKit рдбреЗрдЯрд╛ рдПрдХреНрд╕реЗрд╕ рдХрд░реЗрдВ </li><li>  HealthKit рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╕реЗ рдкрдврд╝реЗрдВ рдФрд░ рдЗрд╕реЗ UITableView рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ </li><li>  рдХреЗрдВрджреНрд░реАрдп HealthKit рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдбреЗрдЯрд╛ рдХреИрд╕реЗ рд▓рд┐рдЦреЗрдВ </li></ul><br>  HealthKit рдХреЗ рд╕рд╛рде рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ?  рдкрд░ рдкрдврд╝реЗрдВ! <br><a name="habracut"></a><br>  <b>рдиреЛрдЯ:</b> <i>рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдкрд░ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рд╕рдХреНрд░рд┐рдп iOS рдбреЗрд╡рд▓рдкрд░ рдЦрд╛рддреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред</i>  <i>рдЗрд╕рдХреЗ рдмрд┐рдирд╛, рдЖрдк HealthKit рдХреНрд╖рдорддрд╛ рдХреЛ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рдФрд░ HealthKit рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</i> <br><br><h3>  рд╢реБрд░реБрдЖрдд </h3><br>  рд╕реНрдЯрд╛рд░реНрдЯрд░ рдРрдк рдПрдХ рдХрд╕рд░рдд рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЗ рджреМрд░рд╛рди рдХреИрд▓реЛрд░реА рдмрд░реНрдирд┐рдВрдЧ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИред  рд╣реЙрд▓реАрд╡реБрдб рдХреЗ рдЕрдВрджрд░реВрдиреА рд╕реВрддреНрд░реЛрдВ рдФрд░ рд╕рд╛рдорд╛рдЬрд┐рдХ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдореИрдВ <b>рдкреНрд░реИрдВрдХрдХреНрд░рд┐рд╕ рдХреЗ</b> рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣рд╛ рд╣реВрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sp/rk/if/sprkif8aw8ng01gh-y4vrroags8.png" alt="Prancercise" width="764" height="430"></div><br>  <a href="">рд╕реНрдЯрд╛рд░реНрдЯрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ Xcode рдореЗрдВ рдЦреЛрд▓реЗрдВ</a> ред <br><br>  рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ рдФрд░ рдЪрд▓рд╛рдПрдВред  рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ "рдХрдВрдХрд╛рд▓" рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред  рдЕрдЧрд▓реЗ рджреЛ рд▓реЗрдЦреЛрдВ рдореЗрдВ, рдЖрдк рдзреАрд░реЗ-рдзреАрд░реЗ рдЗрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝реЗрдВрдЧреЗред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8f/68a/4a5/c8f68a4a5bea9dfc34c426606e443458.png" alt="рдЫрд╡рд┐" width="281" height="500"></div><br><h3>  рдПрдХ рдЯреАрдо рдХреЛ рд╕реМрдВрдкрдирд╛ </h3><br>  <b>HealthKit</b> рдПрдХ рд╡рд┐рд╢реЗрд╖ рдврд╛рдВрдЪрд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдХреЛрдИ рд╕рдХреНрд░рд┐рдп рдбреЗрд╡рд▓рдкрд░ рдЦрд╛рддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдЧрд╛ред  рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдбреЗрд╡рд▓рдкрд░ рдЦрд╛рддрд╛ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЕрдкрдиреА рдЯреАрдо рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдиреЗрд╡рд┐рдЧреЗрдЯрд░ рдореЗрдВ <b>PrancerciseTracker</b> рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ, рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж <b>PrancerciseTracker рд▓рдХреНрд╖реНрдп рдХрд╛</b> рдЪрдпрди рдХрд░реЗрдВред  <b>рдЬрдирд░рд▓</b> рдЯреИрдм рдкрд░ рдЬрд╛рдПрдВ рдФрд░ <b>рдЯреАрдо</b> рдлреАрд▓реНрдб рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред <br><br>  рдЕрдкрдиреЗ рдбреЗрд╡рд▓рдкрд░ рдЦрд╛рддреЗ рд╕реЗ рд╕рдВрдмрджреНрдз рдХрдорд╛рдВрдб рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/809/a3e/af2/809a3eaf2aa966919ed95ad1f8a4be38.png" alt="рдЫрд╡рд┐" width="2020" height="752"></div><br><h3>  рдЕрдиреБрдорддрд┐рдпрд╛рдБ / рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпрд╛рдБ </h3><br>  HealthKit рдХреЗ рдкрд╛рд╕ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ рдЕрдкрдирд╛ рд╕реЗрдЯ рднреА рд╣реИ, рдФрд░ рдЖрдкрдХреЛ рдЙрди рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдмрдирд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА рдЬреЛ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд▓рдХреНрд╖реНрдп рд╕рдВрдкрд╛рджрдХ рдореЗрдВ <b>рдХреНрд╖рдорддрд╛рдПрдВ</b> рдЯреИрдм рдЦреЛрд▓реЗрдВ рдФрд░ <b>HealthKit рдХреЛ</b> рд╕рдХреНрд╖рдо <b>рдХрд░реЗрдВ</b> , рдЬреИрд╕рд╛ рдХрд┐ рдиреАрдЪреЗ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dce/374/42e/dce37442eebca83d0e6e480113dcd3fc.png" alt="рдЫрд╡рд┐"><br><br>  рдЖрдкрдХреЗ рд▓рд┐рдП HealthKit рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Xcode рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВред  рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдпрд╣рд╛рдВ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдЕрднреА рднреА рдХреБрдЫ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрджрд┐ рдЖрдк рдЯреАрдо рдФрд░ рдмрдВрдбрд▓ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рднреВрд▓ рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  рдЕрдм рд╕рдм рдХреБрдЫ рддреИрдпрд╛рд░ рд╣реИред  рдЖрдкрдХреЛ рдХреЗрд╡рд▓ HealthKit рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдкреВрдЫрдирд╛ рд╣реЛрдЧрд╛ред <br><br><h3>  рдЕрдиреБрдорддрд┐рдпрд╛рдВ / рдЕрдиреБрдорддрд┐рдпрд╛рдВ </h3><br>  HealthKit рдЧреЛрдкрдиреАрдп рдФрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рд╣рд░ рдХреЛрдИ рдЗрддрдирд╛ рд╕рд╣рдЬ рдорд╣рд╕реВрд╕ рдирд╣реАрдВ рдХрд░рддрд╛ рдЬрд┐рддрдирд╛ рдХрд┐ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдП рдЧрдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдирд╛ред <br><br>  рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ HealthKit рдореЗрдВ рдПрдХ рдордЬрдмреВрдд рдЧреЛрдкрдиреАрдпрддрд╛ рдкреНрд░рдгрд╛рд▓реА рд╣реИред  HealthKit рдХреЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдЙрд╕ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ рдЬрд┐рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рдордд рд╣реИрдВред  рдЕрдкрдиреЗ рд╢рд░рд╛рд░рдд рдЯреНрд░реИрдХрд░ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд▓реЗрдиреА рд╣реЛрдЧреАред <br><br><h3>  рдЙрдкрдпреЛрдЧ рд╡рд┐рд╡рд░рдг рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ </h3><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдпрд╣ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдЕрдкрдиреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рдВрдХреЗрддрдХреЛрдВ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХреНрдпреЛрдВ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  <b>Xcode</b> рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА <b>Info.plist</b> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЗрд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рджреЗрддрд╛ рд╣реИред <br><br>  рдЬрд╛рдирдХрд╛рд░реА рдЦреЛрд▓реЗрдВред  рдлрд┐рд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреБрдВрдЬрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реЗрдВ: <br>  <b>рдЧреЛрдкрдиреАрдпрддрд╛</b> - <b>рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рд╛рдЭрд╛ рдЙрдкрдпреЛрдЧ рд╡рд┐рд╡рд░рдг</b> <br>  <b>рдЧреЛрдкрдиреАрдпрддрд╛</b> - <b>рд╕реНрд╡рд╛рд╕реНрдереНрдп рдЕрджреНрдпрддрди рдЙрдкрдпреЛрдЧ рд╡рд┐рд╡рд░рдг</b> <br><br>  рдпреЗ рдХреБрдВрдЬрд┐рдпрд╛рдБ рдЙрд╕ рдкрд╛рда рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреА рд╣реИрдВ, рдЬреЛ HeathKit рд▓реЙрдЧрд┐рди рд╕реНрдХреНрд░реАрди рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрдЧреАред  <b>рд╣реЗрд▓реНрде рд╢реЗрдпрд░ рдпреВрд╕реЗрдЬ рдХрд╛ рд╡рд░реНрдгрди</b> рдбреЗрдЯрд╛ рдХреЗ рдЙрд╕ рд╕реЗрдХреНрд╢рди рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ HealthKit рд╕реЗ рдкрдврд╝рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  <b>рд╕реНрд╡рд╛рд╕реНрдереНрдп рдЕрджреНрдпрддрди рдЙрдкрдпреЛрдЧ рд╡рд┐рд╡рд░рдг</b> рдЙрд╕ рдбреЗрдЯрд╛ рд╕реЗ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ рдЬреЛ HealthKit рдХреЛ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  рдЖрдк рд╡рд╣рд╛рдБ рд╕рдм рдХреБрдЫ "рдЬреЛрдбрд╝" рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдПрдХ рд╡рд┐рд╡рд░рдг рд╣реИ: "рд╣рдо рдЖрдкрдХреЗ рд╡рд░реНрдХрдЖрдЙрдЯ рдХреЛ рдмреЗрд╣рддрд░ рддрд░реАрдХреЗ рд╕реЗ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреА рд╕реНрд╡рд╛рд╕реНрдереНрдп рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред" <br><br>  рдзреНрдпрд╛рди рд░рдЦреЗрдВ рдХрд┐ рдпрджрд┐ рдпреЗ рдХреБрдВрдЬреА рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдЬрдм рдЖрдк HealthKit рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВрдЧреЗ рддреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреНрд░реИрд╢ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред <br><br><h3>  HealthKit рдкреНрд░рд╛рдзрд┐рдХрд░рдг </h3><br>  <i>HealthKitSetupAssistant.swift</i> рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ, рдЬрд┐рд╕рдХреЗ рдЕрдВрджрд░ рд╡рд╣ рд╡рд░реНрдЧ рд╡рд┐рдзрд┐ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдк Healthitit рдореЗрдВ рдЕрдзрд┐рдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗред <br><br><pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorizeHealthKit</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">completion</span></span></span><span class="hljs-class">: @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">escaping</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bool</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-class">?) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Swift</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Void</span></span></span><span class="hljs-class">) </span></span>{ }</code> </pre> <br>  рдЕрдзрд┐рдХреГрдд <b>рдХрд░реЗрдВрдХрд┐рдЯрдХрд┐рдЯ</b> (рдкреВрд░реНрдг :) рд╡рд┐рдзрд┐ рдореЗрдВ рдХреЛрдИ рдкреИрд░рд╛рдореАрдЯрд░ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдПрдХ <b>рд╢рд┐рдХрд╛рдпрдд рд╣реИ</b> рдХрд┐ рдПрдХ рдмреВрд▓рд┐рдпрди ( <b>рд╕рдлрд▓рддрд╛</b> рдпрд╛ <b>рдЕрд╕рдлрд▓рддрд╛</b> ) рдФрд░ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рддреНрд░реБрдЯрд┐ рд╣реЛрддреА рд╣реИ рдЕрдЧрд░ рдХреБрдЫ рдЧрд▓рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╡рд╛рдкрд╕ рдЖрддреА рд╣реИрдВ, рддреЛ рдЖрдк рдЙрдиреНрд╣реЗрдВ рджреЛ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╢рд┐рдХрд╛рдпрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рд╕ рдХрд░реЗрдВрдЧреЗ: <br><br><ol><li>  рдЖрдкрдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ HealthKit рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди iPad рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИред </li><li>  рдХреБрдЫ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ HealthKit рдХреЗ рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </li></ol><br>  рдЖрдЗрдП рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рддреЛрдбрд╝рддреЗ рд╣реИрдВред  HealthKit рдХреЛ рдЕрдзрд┐рдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдзрд┐рдХреГрдд рдХрд░реЗрдВрдХрд┐рдЯ <i>(рдкреВрд░реНрдг :)</i> рд╡рд┐рдзрд┐ рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд╛рд░ рдЪрд░рдгреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><ol><li>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ Healthkit рдЙрдкрд▓рдмреНрдз рд╣реИред  рдпрджрд┐ рдпрд╣ рдорд╛рдорд▓рд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЕрд╕рдлрд▓рддрд╛ рдФрд░ рд╢рд┐рдХрд╛рдпрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреНрд░реБрдЯрд┐ рд▓реМрдЯрд╛рдПрдВред </li><li>  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рддреИрдпрд╛рд░ рдХрд░реЗрдВред  рдкреНрд░рд╛рдгрдХрд░реНрд╕реА рдЯреНрд░реИрдХрд░ HealthKit рдХреЛ рдкрдврд╝реЗрдЧрд╛ рдФрд░ рд▓рд┐рдЦреЗрдЧрд╛ред </li><li>  рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░реЗрдВред </li><li>  рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╕реЗ рдЕрдиреБрд░реЛрдз рдХрд░реЗрдВред  рдпрджрд┐ рдпрд╣ рдХреНрд░рд┐рдпрд╛ рд╕рдлрд▓ рд╣реИ, рддреЛ рд╕рднреА рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ рд╕рд╣реА рдереАрдВ рдФрд░ рдареАрдХ рд╕реЗ рдкреВрд░реА рд╣реБрдИрдВред </li></ol><br><h3>  HealthKit рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ </h3><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ HealthKit рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br>  <i>рдЕрдзрд┐рдХреГрдд</i> рдХреЛрдб рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ <i>(рдкреВрд░рд╛ рдХрд░реЗрдВ :)</i> рд╡рд┐рдзрд┐: <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//1. ,      HealthKit guard HKHealthStore.isHealthDataAvailable() else { completion(false, HealthkitSetupError.notAvailableOnDevice) return }</span></span></code> </pre><br>  рдЖрдк <b>HKHealthStore</b> рдХреЗ рд╕рд╛рде рдмрд╣реБрдд рдмрд╛рд░ рдмрд╛рддрдЪреАрдд рдХрд░реЗрдВрдЧреЗред  рдпрд╣ рдПрдХ рдХреЗрдВрджреНрд░реАрдп рднрдВрдбрд╛рд░ рд╣реИ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред  <i>IsHealthDataAvailable ()</i> рд╡рд┐рдзрд┐ рдЖрдкрдХреЛ рдпрд╣ рд╕рдордЭрдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧреА рдХрд┐ рдХреНрдпрд╛ рд╡рд░реНрддрдорд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдбрд┐рд╡рд╛рдЗрд╕ рд╣реАрдердХрд┐рдЯ рдбреЗрдЯрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред <br><br>  рдЧрд╛рд░реНрдб рд╕реНрдЯреЗрдЯрдореЗрдВрдЯ, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдСрдерд░рд╛рдЗрдЬрд╝рд▓рдХреЗрдЯ рдХреЗ рдмрд╛рдХреА рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЛ <i>рдкреВрд░рд╛</i> рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИ <i>(рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХрд╛</i> рддрд░реАрдХрд╛) рдЕрдЧрд░ рд╣реЗрд▓реНрдердХреЗрдЗрдЯ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред  рдЬрдм рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдкреВрд░реНрдг рдмреНрд▓реЙрдХ рдХреЛ <b>notAvailableOnDevice</b> рддреНрд░реБрдЯрд┐ <b>рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ</b> ред  рдЖрдк рдмрд╕ рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рддреНрд░реБрдЯрд┐ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЖрдЧреЗ рдХреЗ рдХрджрдо рдХреЗ рд▓рд┐рдП рдХрдВрд╕реЛрд▓ рдпрд╛ рдореБрдЦреНрдп рдирд┐рдпрдВрддреНрд░рдХ рдореЗрдВ рдЖрдЙрдЯрдкреБрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рдбреЗрдЯрд╛ рдХреА рддреИрдпрд╛рд░реА </h3><br>  рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ HealthKit рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ, рддреЛ рдпрд╣ рдЙрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИ рдЬреЛ HealthKit рдХреЛ рдкрдврд╝рд╛ рдФрд░ рд▓рд┐рдЦрд╛ рдЬрд╛рдПрдЧрд╛ред <br>  HealthKit <b>HKObjectType</b> рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХрд╛рд░ рдЬреЛ рдХреЗрдВрджреНрд░реАрдп HealthKit рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдпрд╛ рд░рд┐рдЯрд░реНрди рдХрд░рддрд╛ рд╣реИ, рд╡рд╣ HKObjectType рдХрд╛ рдПрдХ рдкреНрд░рдХрд╛рд░ рд╣реИред  рдЖрдкрдХреЛ HKSampleType рдФрд░ <b>HKWorkoutType</b> рднреА рджрд┐рдЦрд╛рдИ <b>рджреЗрдВрдЧреЗ</b> ред  рджреЛрдиреЛрдВ рдХреЛ <b>HKObjectType</b> рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ <b>рдорд┐рд▓рд╛ рд╣реИ</b> , рдЗрд╕рд▓рд┐рдП рдореВрд▓ рд░реВрдк рд╕реЗ рдпрд╣ рдПрдХ рд╣реА рдмрд╛рдд рд╣реИред <br><br>  рдкрд╣рд▓реЗ рдХреЛрдб рд╕реНрдирд┐рдкреЗрдЯ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рд╕реНрдирд┐рдкреЗрдЯ рдЪрд┐рдкрдХрд╛рдПрдБ: <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//2.   ,     HealthKit guard let dateOfBirth = HKObjectType.characteristicType(forIdentifier: .dateOfBirth), let bloodType = HKObjectType.characteristicType(forIdentifier: .bloodType), let biologicalSex = HKObjectType.characteristicType(forIdentifier: .biologicalSex), let bodyMassIndex = HKObjectType.quantityType(forIdentifier: .bodyMassIndex), let height = HKObjectType.quantityType(forIdentifier: .height), let bodyMass = HKObjectType.quantityType(forIdentifier: .bodyMass), let activeEnergy = HKObjectType.quantityType(forIdentifier: .activeEnergyBurned) else { completion(false, HealthkitSetupError.dataTypeNotAvailable) return }</span></span></code> </pre><br>  рд╡рд╛рд╣, рдпрд╣ рдПрдХ рдмрдбрд╝рд╛ <b>рдЧрд╛рд░реНрдб рд╣реИ</b> !  рдХрдИ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд┐рдВрдЧрд▓ рдЧрд╛рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдпрд╣ рднреА рдПрдХ рдмрдврд╝рд┐рдпрд╛ рдЙрджрд╛рд╣рд░рдг рд╣реИред <br><br>  рдЗрди рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП <b>HKObjectType</b> рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <i>HKObjectType.characteristicType (forIdentifier :)</i> рдпрд╛ <i>HKObjectType.quantityType (forIdentor :)</i> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <br>  рд╡рд┐рд╢реЗрд╖рддрд╛ рдкреНрд░рдХрд╛рд░ рдФрд░ рдорд╛рддреНрд░рд╛ рдкреНрд░рдХрд╛рд░ рд░реВрдкрд░реЗрдЦрд╛ рджреНрд╡рд╛рд░рд╛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧрдгрдирд╛ рд╣реИрдВред  рдЙрдирдХреЗ рд╕рд╛рде HealthKit рдЬреВрддреЗред <br><br>  рдЖрдк рдпрд╣ рднреА рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдпрджрд┐ рдХреЛрдИ рд╡рд┐рд╢реЗрд╖рддрд╛ рдпрд╛ рдЪрдпрди рдкреНрд░рдХрд╛рд░ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ, рддреЛ рд╡рд┐рдзрд┐ рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧреАред  рдпрд╣ рдЬрд╛рдирдмреВрдЭрдХрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╣рдореЗрд╢рд╛ рдпрд╣ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╡рд╣ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ HealthKit рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдпрджрд┐ рдХреЛрдИ рд╣реЛред <br><br><h3>  рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рддреИрдпрд╛рд░ рдХрд░рдирд╛ </h3><br>  рдЕрдм рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред <br>  рдЗрд╕ рддреАрд╕рд░реЗ рдХреЛрдб рдХреЛ <i>рдЕрдзрд┐рдХреГрдд</i> рдХрд░реЗрдВрдХрд┐рдЯ рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ <i>(</i> рджреВрд╕рд░реЗ рднрд╛рдЧ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж <i>:)</i> рд╡рд┐рдзрд┐ рдХреЛ <i>рдкреВрд░рд╛ рдХрд░реЗрдВ</i> : <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//3.   ,  HealthKit     let healthKitTypesToWrite: Set&lt;HKSampleType&gt; = [bodyMassIndex, activeEnergy, HKObjectType.workoutType()] let healthKitTypesToRead: Set&lt;HKObjectType&gt; = [dateOfBirth, bloodType, biologicalSex, bodyMassIndex, height, bodyMass, HKObjectType.workoutType()]</span></span></code> </pre><br>  HealthKit <b>HKSampleType</b> рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдПрдХ рд╕реЗрдЯ рдХреА <b>рдЕрдкреЗрдХреНрд╖рд╛</b> рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреЗ рдЬрд╛ рд╕рдХрдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЖрдкрдХреЗ рдЖрд╡реЗрджрди рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ HKObjectType рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд╕реЗрдЯ рдХреА рднреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред <br><br>  <b>HKObjectType.workoutType () HKObjectType</b> рдХрд╛ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХрд╛рд░ рд╣реИред  рдпрд╣ рдХрд┐рд╕реА рднреА рдХрд╕рд░рдд рд╣реИред <br><br><h3>  HealthKit рдкреНрд░рд╛рдзрд┐рдХрд░рдг </h3><br>  рдЕрдВрддрд┐рдо рднрд╛рдЧ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рд╣реИред  рдЖрдкрдХреЛ рдмрд╕ HealthKit рд╕реЗ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕ рдЕрдВрддрд┐рдо рдХреЛрдб рдХреЛ рдЪрд┐рдкрдХрд╛рдПрдБ: <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//4.    HKHealthStore().requestAuthorization(toShare: healthKitTypesToWrite, read: healthKitTypesToRead) { (success, error) in completion(success, error) }</span></span></code> </pre><br>  рдпрд╣ рдХреЛрдб HealthKit рд╕реЗ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдкреВрд░реНрдгрддрд╛ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред  рд╡реЗ рд╕рдлрд▓ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЪрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ HKHealthStore рдХреЗ <i>рдЕрдиреБрд░реЛрдз</i> рд╕реЗ рдкрд╛рд░рд┐рдд <i>рддреНрд░реБрдЯрд┐рдкреВрд░реНрдгреАрдХрд░рдг (toShare: рдкрдврд╝реЗрдВ: рдкреВрд░рд╛ :)</i> рд╡рд┐рдзрд┐ред <br><br>  рдЖрдк рдЗрд╕реЗ рдПрдХ рдЕрдиреБрдкреНрд░реЗрд╖рд┐рдд рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВред  HealthKitSetupAssistant рдХреЗ рдЕрдВрджрд░ рдкреВрд░реНрдгрддрд╛ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рдкреИрдХреЗрдЯ рдХреЛ рдореБрдЦреНрдп рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рдкрд╛рд╕ рднреЗрдЬрддреЗ рд╣реИрдВ, рдЬреЛ рдПрдХ рдЪреЗрддрд╛рд╡рдиреА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдХреБрдЫ рдЕрдиреНрдп рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдзрд┐рдХреГрдд HealthKit рдмрдЯрди рд╣реИ, рдФрд░ рдпрд╣ MasterViewController рдореЗрдВ рдЕрдзрд┐рдХреГрддizeKit <i>()</i> рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред  рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреА рдЧрдИ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдкрджреНрдзрддрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рд╕рд╣реА рдЬрдЧрд╣ рд╣реИред <br><br>  <b>MasterViewController.swift</b> рдЦреЛрд▓реЗрдВ, <b>рдЕрдзрд┐рдХреГрддрд╕реНрд╡рд╛рдЗрдЯ</b> рдХреЛ рдЦреЛрдЬреЗрдВ <i>(</i> ) рд╡рд┐рдзрд┐ рдФрд░ рдЗрд╕ рдХреЛрдб рдХреЛ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HealthKitSetupAssistant</span></span>.authorizeHealthKit { (authorized, error) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> authorized <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> baseMessage = <span class="hljs-string"><span class="hljs-string">"HealthKit Authorization Failed"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> error = error { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"\(baseMessage). Reason: \(error.localizedDescription)"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(baseMessage) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"HealthKit Successfully Authorized."</span></span>) }</code> </pre><br>  рдпрд╣ рдХреЛрдб <i>рдкреНрд░рд╛рдзрд┐рдХреГрдд рдХрд░реЗрдВрд╕реНрд╡рд╛рдЧрдд</i> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ <i>(рдкреВрд░реНрдг :)</i> рд╡рд┐рдзрд┐ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдЕрднреА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдпрд╛ рд╣реИред  рдЬрдм рдпрд╣ рдкреВрд░рд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╕рд╛рдВрддреНрд╡рдирд╛ рдореЗрдВ рдПрдХ рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧрд╛, рдпрд╣ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ HealthKit рдореЗрдВ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╕рдлрд▓ рдерд╛ред <br><br>  рдРрдк рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред  рдореБрдЦреНрдп рд╡рд┐рдВрдбреЛ рдореЗрдВ рдкреНрд░рд╛рдзрд┐рдХреГрдд HealthKit рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдЖрдкрдХреЛ рдПрдХ рдкреЙрдк-рдЕрдк рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╕реНрдХреНрд░реАрди рджрд┐рдЦрд╛рдИ рджреЗрдЧреА: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4ef/2bc/500/4ef2bc50015fda69b7d916b9231a5f1a.png" alt="рдЫрд╡рд┐" width="281" height="500"></div><br>  рд╕рднреА рд╕реНрд╡рд┐рдЪ рдЪрд╛рд▓реВ рдХрд░реЗрдВ, рдЙрди рд╕рднреА рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреНрд░реЙрд▓ рдХрд░реЗрдВ, рдФрд░ <b>рдЕрдиреБрдорддрд┐ рджреЗрдВ</b> рджрдмрд╛рдПрдВред  рдХрдВрд╕реЛрд▓ рдореЗрдВ рдЖрдкрдХреЛ рдЗрд╕ рддрд░рд╣ рдПрдХ рд╕рдВрджреЗрд╢ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><pre> <code class="swift hljs"><span class="hljs-type"><span class="hljs-type">HealthKit</span></span> <span class="hljs-type"><span class="hljs-type">Successfully</span></span> <span class="hljs-type"><span class="hljs-type">Authorized</span></span>.</code> </pre><br>  <b>рд╡рд╛рд╣!</b>  рдЖрд╡реЗрджрди HealthKit рдХреЗ рдХреЗрдВрджреНрд░реАрдп рднрдВрдбрд╛рд░ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИред  рдЕрдм рдЯреНрд░реИрдХрд┐рдВрдЧ рдЖрдЗрдЯрдо рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИред <br><br><h3>  рдЪрд░рд┐рддреНрд░ рдФрд░ рдирдореВрдиреЗ </h3><br>  рдЗрд╕ рднрд╛рдЧ рдореЗрдВ рдЖрдк рд╕реАрдЦреЗрдВрдЧреЗ: <br><br><ul><li>  рдЕрдкрдиреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЬреИрд╡рд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдХреИрд╕реЗ рдкрдврд╝реЗрдВред </li><li>  рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдирдореВрдиреЗ (рд╡рдЬрди, рдКрдВрдЪрд╛рдИ рдЖрджрд┐) рдХреИрд╕реЗ рдкрдврд╝реЗрдВ рдФрд░ рд▓рд┐рдЦреЗрдВ </li></ul><br>  рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдЬреИрд╡рд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ, рдРрд╕реЗ рддрддреНрд╡ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЗ рд░рдХреНрдд рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреА рддрд░рд╣ рдирд╣реАрдВ рдмрджрд▓рддреЗ рд╣реИрдВред  рдирдореВрдиреЗ рдРрд╕реЗ рддрддреНрд╡ рд╣реИрдВ рдЬреЛ рдмрд╛рд░-рдмрд╛рд░ рдмрджрд▓рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рд╡рдЬрдиред <br><br>  <b>рдкреНрд░реИрдиреНрдХреНрд░рд┐рд╕</b> рд╡рд░реНрдХрдЖрдЙрдЯ <b>рдореЛрдб</b> рдХреА рдкреНрд░рднрд╛рд╡рд╢реАрд▓рддрд╛ рдХреЛ рдареАрдХ рд╕реЗ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <b>рдкреНрд░реИрдиреНрд╕рд░рд┐рд╕ рдЯреНрд░реИрдХрд░</b> рдРрдк рдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╡рдЬрди рдФрд░ рдКрдВрдЪрд╛рдИ рдХрд╛ рдПрдХ рдирдореВрдирд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рд╕рд╛рде рдореЗрдВ, рдЗрди рдирдореВрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ (рдмреАрдПрдордЖрдИ) рдХреА рдЧрдгрдирд╛ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  <b>рдиреЛрдЯ:</b> <i>рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ (рдмреАрдПрдордЖрдИ) рд╢рд░реАрд░ рдореЗрдВ рд╡рд╕рд╛ рдХрд╛ рд╡реНрдпрд╛рдкрдХ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рд╕рдВрдХреЗрддрдХ рд╣реИ рдФрд░ рдЗрд╕рдХреА рдЧрдгрдирд╛ рдПрдХ рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд╡рдЬрди рдФрд░ рдКрдВрдЪрд╛рдИ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХреА рдЬрд╛рддреА рд╣реИред</i>  <i>рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ</a> ред</i> <br><br><h3>  рдкрдврд╝рдирд╛ рд╡рд┐рдирд┐рд░реНрджреЗрд╢реЛрдВ </h3><br>  рдкреНрд░рд╛рдХрд░реНрд╕реЗрд╕реА рдЯреНрд░реИрдХрд░ рдЬреИрд╡рд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд░рд┐рдХреЙрд░реНрдб рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред  рд╡рд╣ рдЙрдиреНрд╣реЗрдВ HealthKit рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЗрди рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдкрд╣рд▓реЗ рдХреЗрдВрджреНрд░реАрдп рд╣реАрдердХ рднрдВрдбрд╛рд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдпрджрд┐ рдЖрдкрдиреЗ рдЕрднреА рддрдХ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ <b>рд╣реАрдердХрд┐рдЯ</b> рдХреЛ рдЕрдкрдиреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рдФрд░ рдмрддрд╛рдиреЗ рдХрд╛ рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИред <br><br>  рдЕрдкрдиреЗ рдбрд┐рд╡рд╛рдЗрд╕ рдпрд╛ рд╕рд┐рдореНрдпреБрд▓реЗрдЯрд░ рдкрд░ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдРрдк рдЦреЛрд▓реЗрдВред  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдбреЗрдЯрд╛ рдЯреИрдм рдЪреБрдиреЗрдВред  рдлрд┐рд░ рдЕрдкрдиреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдКрдкрд░реА рджрд╛рдПрдВ рдХреЛрдиреЗ рдореЗрдВ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЖрдЗрдХрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  <b>рдПрдбрд┐рдЯ рдкрд░</b> рдХреНрд▓рд┐рдХ <b>рдХрд░реЗрдВ</b> рдФрд░ рдЬрдиреНрдорддрд┐рдерд┐, рд▓рд┐рдВрдЧ, рд░рдХреНрдд рдХрд╛ рдкреНрд░рдХрд╛рд░ рджрд░реНрдЬ рдХрд░реЗрдВ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/324/285/ea4/324285ea449bb8049ff166c1e83ec76f.png" alt="рдЫрд╡рд┐" width="1732" height="1540"></div><br>  рдЕрдм рдЬрдм <b>HealthKit</b> рдЖрдкрдХреА рдЬрдиреНрдорддрд┐рдерд┐, рд▓рд┐рдВрдЧ рдФрд░ рд░рдХреНрдд рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдЬрд╛рдирддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╕рдордп <b>рдкреНрд░рд╛рдВрдХрд░рд┐рд╕ рдЯреНрд░реИрдХрд░</b> рдореЗрдВ рдЗрди рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЛ рдкрдврд╝рдиреЗ рдХрд╛ рд╣реИред <br><br>  <b>Xcode рдкрд░</b> рд▓реМрдЯреЗрдВ рдФрд░ <i>ProfileDataStore.swift</i> рдЦреЛрд▓реЗрдВред  <b>ProfileDataStore</b> рд╡рд░реНрдЧ рдЖрдкрдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рднреА рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛ рддрдХ рдЖрдкрдХреА рдкрд╣реБрдВрдЪ рдмрд┐рдВрджреБ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред <br><br>  <b>ProfileDataStore</b> рдореЗрдВ рдирд┐рдореНрди рд╡рд┐рдзрд┐ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getAgeSexAndBloodType</span></span></span><span class="hljs-class">() </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">throws</span></span></span><span class="hljs-class"> -&gt; (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">age</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Int</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">biologicalSex</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HKBiologicalSex</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bloodType</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HKBloodType</span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> healthKitStore = <span class="hljs-type"><span class="hljs-type">HKHealthStore</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-comment"><span class="hljs-comment">//1. This method throws an error if these data are not available. let birthdayComponents = try healthKitStore.dateOfBirthComponents() let biologicalSex = try healthKitStore.biologicalSex() let bloodType = try healthKitStore.bloodType() //2. Use Calendar to calculate age. let today = Date() let calendar = Calendar.current let todayDateComponents = calendar.dateComponents([.year], from: today) let thisYear = todayDateComponents.year! let age = thisYear - birthdayComponents.year! //3. Unwrap the wrappers to get the underlying enum values. let unwrappedBiologicalSex = biologicalSex.biologicalSex let unwrappedBloodType = bloodType.bloodType return (age, unwrappedBiologicalSex, unwrappedBloodType) } }</span></span></code> </pre><br>  <i>GetAgeSexAndBloodType ()</i> рд╡рд┐рдзрд┐ <b>HKHealthStore</b> рдкрд░ рдХреЙрд▓ <b>рдХрд░рддреА рд╣реИ</b> , рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЬрдиреНрдо рддрд┐рдерд┐, рд▓рд┐рдВрдЧ рдФрд░ рд░рдХреНрдд рдкреНрд░рдХрд╛рд░ рдкреВрдЫрддреА рд╣реИред  рдпрд╣ рдЬрдиреНрдо рдХреА рддрд╛рд░реАрдЦ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЖрдпреБ рдХреА рдЧрдгрдирд╛ рднреА рдХрд░рддрд╛ рд╣реИред <br><br><ol><li>  рдЖрдкрдиреЗ рджреЗрдЦрд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдЗрд╕ рдкрджреНрдзрддрд┐ рдореЗрдВ рддреНрд░реБрдЯрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИред  рдпрд╣ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм рд╣реЗрд▓реНрдердХреЗрдЯ рд╕реЗрдВрдЯреНрд░рд▓ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рдЬрдиреНрдорддрд┐рдерд┐, рд▓рд┐рдВрдЧ рдпрд╛ рд░рдХреНрдд рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рдЖрдкрдиреЗ рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдЕрдкрдиреЗ рдЖрд╡реЗрджрди рдореЗрдВ рджрд░реНрдЬ рдХрд┐рдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХрд╛ рдХрд╛рд░рдг рдирд╣реАрдВ рдмрдирдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  <b>рдХреИрд▓реЗрдВрдбрд░</b> рд╡рд░реНрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рдХрд┐рд╕реА рднреА рджрд┐рдирд╛рдВрдХ рдХреЛ <b>рджрд┐рдирд╛рдВрдХ рдШрдЯрдХ рдХреЗ</b> рд╕реЗрдЯ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ рдЬрдм рдЖрдк рдПрдХ рддрд╛рд░реАрдЦ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд░реНрд╖ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдпрд╣ рдХреЛрдб рд╕рд┐рд░реНрдл рдЖрдкрдХреЗ рдЬрдиреНрдо рдХрд╛ рд╡рд░реНрд╖, рд╡рд░реНрддрдорд╛рди рд╡рд░реНрд╖ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдЕрдВрддрд░ рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИред </li><li>  "рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд" рдЪрд░ рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдирд╛рдорд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рд░реИрдкрд░ рдХреНрд▓рд╛рд╕ ( <b>HKBiologicalSexObject</b> рдФрд░ <b>HKBloodTypeObject</b> ) рд╕реЗ рдмреЗрд╕ рдПрдиреНрдпреВрдорд░реЗрд╢рди рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </li></ol><br><h3>  рдпреВрдЖрдИ рдЕрдкрдбреЗрдЯ </h3><br>  рдпрджрд┐ рдЖрдк рдЕрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЪрд▓рд╛рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдХреЛрдИ рдкрд░рд┐рд╡рд░реНрддрди рдирд╣реАрдВ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдиреЗ рдЗрд╕ рддрд░реНрдХ рдХреЛ рдЕрднреА рддрдХ рдЗрд╕рд╕реЗ рдЬреЛрдбрд╝рд╛ рдирд╣реАрдВ рд╣реИред <br>  <b>ProfileViewController.swif рдХреЛ</b> рдЦреЛрд▓реЗрдВ рдФрд░ <i>loadAndDisplayAgeSexAndBloodType (</i> ) рд╡рд┐рдзрд┐ рдЦреЛрдЬреЗрдВ <br><br>  рдпрд╣ рд╡рд┐рдзрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдЬреИрд╡рд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЗ <b>ProfileDataStore</b> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧреАред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХреЛ <i>loadAndDisplayAgeSexAndBloodType ()</i> рд╡рд┐рдзрд┐ рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> userAgeSexAndBloodType = <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">ProfileDataStore</span></span>.getAgeSexAndBloodType() userHealthProfile.age = userAgeSexAndBloodType.age userHealthProfile.biologicalSex = userAgeSexAndBloodType.biologicalSex userHealthProfile.bloodType = userAgeSexAndBloodType.bloodType updateLabels() } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> error { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.displayAlert(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: error) }</code> </pre><br>  рдпрд╣ рдХреЛрдб рдмреНрд▓реЙрдХ рдПрдХ рдЯреНрдпреВрдкрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдпреБ, рд▓рд┐рдВрдЧ рдФрд░ рд░рдХреНрдд рдкреНрд░рдХрд╛рд░ рдХреЛ рд▓реЛрдб рдХрд░рддрд╛ рд╣реИред  рд╡рд╣ рддрдм рдЗрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ UserHealthProfile рдореЙрдбрд▓ рдХреЗ рд╕реНрдерд╛рдиреАрдп рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред  рдЕрдВрдд рдореЗрдВ, рдпрд╣ <i>рдЕрдкрдбреЗрдЯрд▓реИрдмрд▓реНрд╕ ()</i> рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдирдП рдлрд╝реАрд▓реНрдбреНрд╕ рдХреЗ рд╕рд╛рде <b>UserHealthProfile</b> рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЪреВрдВрдХрд┐ <b>ProfileDataStore</b> <i>getAgeSexAndBloodType ()</i> рд╡рд┐рдзрд┐ рдореЗрдВ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИ, <b>рдЗрд╕рд▓рд┐рдП ProfileViewController</b> рдХреЛ рдЗрд╕реЗ рд╕рдВрднрд╛рд▓рдирд╛ рд╣реЛрдЧрд╛ред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдк рдмрд╕ рддреНрд░реБрдЯрд┐ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдЪреЗрддрд╛рд╡рдиреА рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдпрд╣ рд╕рдм рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдХреИрдЪ рд╣реИред  <i>UpdateLabels ()</i> рд╡рд┐рдзрд┐ рдЕрднреА рддрдХ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░рддреА рд╣реИред  рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рд░рд┐рдХреНрдд рд╡рд┐рдЬреНрдЮрд╛рдкрди рд╣реИред  рдЗрд╕ рдмрд╛рд░, рдпреВрдЬрд░ рдЗрдВрдЯрд░рдлреЗрд╕ рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВред <br><br>  <i>UpdateLabels ()</i> рд╡рд┐рдзрд┐ рдвреВрдВрдвреЗрдВ рдФрд░ рдЗрд╕ рдХреЛрдб рдХреЛ рдЗрд╕рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> age = userHealthProfile.age { ageLabel.text = <span class="hljs-string"><span class="hljs-string">"\(age)"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> biologicalSex = userHealthProfile.biologicalSex { biologicalSexLabel.text = biologicalSex.stringRepresentation } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bloodType = userHealthProfile.bloodType { bloodTypeLabel.text = bloodType.stringRepresentation }</code> </pre><br>  рдХреЛрдб рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИред  рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдЖрдпреБ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рд╣реИ, рддреЛ рдЗрд╕реЗ рдПрдХ рд▓реЗрдмрд▓ рдореЗрдВ рд╕реНрд╡рд░реВрдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд╡рд╣реА рдЬреИрд╡рд┐рдХ рд╕реЗрдХреНрд╕ рдФрд░ рд░рдХреНрдд рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдЬрд╛рддрд╛ рд╣реИред  рдЪрд░ stringRepresentation рдкреНрд░рджрд░реНрд╢рди рдкреНрд░рдпреЛрдЬрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдЧрдгрдирд╛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ рдФрд░ рдЪрд▓рд╛рдПрдВред  рдкреНрд░реЛрдлрд╛рдЗрд▓ рдФрд░ рдмреАрдПрдордЖрдИ рд╕реНрдХреНрд░реАрди рдкрд░ рдЬрд╛рдПрдВред  рдкрдврд╝реЗрдВ HealthKit рдбреЗрдЯрд╛ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e13/3a5/ed1/e133a5ed1cd1d13016f28cc1a3452af9.png" alt="рдЫрд╡рд┐" width="281" height="500"></div><br>  рдпрджрд┐ рдЖрдкрдиреЗ рдкрд╣рд▓реЗ рдЖрд╡реЗрджрди рдореЗрдВ рдЕрдкрдиреА рдЬрд╛рдирдХрд╛рд░реА рджрд░реНрдЬ рдХреА рд╣реИ, рддреЛ рдЙрд╕реЗ рдЗрд╕ рд╕реНрдХреНрд░реАрди рдкрд░ рд╢реЙрд░реНрдЯрдХрдЯ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрджрд┐ рдЖрдкрдиреЗ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдПрдХ рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред <br><br>  рд╡рд╛рд╣!  рдЖрдк <b>HealthKit</b> рд╕реЗ рд╕реАрдзреЗ рдбреЗрдЯрд╛ рдкрдврд╝рддреЗ рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  рдХреНрд╡реЗрд░реА рдХреЗ рдирдореВрдиреЗ </h3><br>  рдЕрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╡рдЬрди рдФрд░ рдКрдВрдЪрд╛рдИ рдХреЛ рдкрдврд╝рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред  рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рджреГрд╢реНрдп рдореЗрдВ рдмреАрдПрдордЖрдИ рдХреА рдЧрдгрдирд╛ рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдЬреИрд╡рд┐рдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдЖрд╕рд╛рдиреА рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рд▓рдЧрднрдЧ рдХрднреА рдирд╣реАрдВ рдмрджрд▓рддреЗ рд╣реИрдВред  рдирдореВрдиреЛрдВ рдХреЛ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рд╡реЗ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ <b>рдПрдЪрдХреЗрд╡рд╛рдИрдкреА рдХрд╛</b> рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br>  HealthKit рд╕реЗ рдирдореВрдиреЛрдВ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдирд┐рдореНрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: <br><br><ol><li>  рдЙрд╕ рдирдореВрдиреЗ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ рдЬрд┐рд╕реЗ рдЖрдк рдЕрдиреБрд░реЛрдз рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ (рд╡рдЬрди, рдКрдВрдЪрд╛рдИ, рдЖрджрд┐), </li><li>  рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рдХрд▓реНрдк рдЬреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рд╕реЙрд░реНрдЯ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ <b>NSPredicate</b> рдпрд╛ <b>NSSortDescriptors</b> рдХреА рдПрдХ рд╕рд░рдгреА рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </li></ol><br>  <b>рдиреЛрдЯ:</b> <i>рдпрджрд┐ рдЖрдк CoreData рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВ, рддреЛ рдЖрдкрдиреЗ рд╕рдВрднрд╡рддрдГ рдХреБрдЫ рд╕рдорд╛рдирддрд╛рдУрдВ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рд╣реИред</i>  <i><b>HKSampleQuery</b> рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП <b>NSFetchedRequest</b> <b>рд╕реЗ</b> рдмрд╣реБрдд рдорд┐рд▓рддрд╛- <b>рдЬреБрд▓рддрд╛ рд╣реИ</b> , рдЬрд╣рд╛рдВ рдЖрдк рд╡рд┐рдзреЗрдп рдФрд░ рд╕реЙрд░реНрдЯ рд╡рд░реНрдгрдирдХрд░реНрддрд╛рдУрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд╡реЗрд░реА рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд╕рдВрджрд░реНрдн рдХреЛ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред</i> <br><br>  рдПрдХ рдмрд╛рд░ рдЖрдкрдХреА рдХреНрд╡реЗрд░реА рд╕реЗрдЯ рд╣реЛ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╕ <b>HKHealthStore</b> <i>ExecuteQuery ()</i> рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВред <br><br>  <b>рдкреНрд░рд╛рдХрд░реНрд╕реЗрд╕реА рдЯреНрд░реИрдХрд░ рдХреЗ рд▓рд┐рдП,</b> рдЖрдк рдПрдХ рдПрдХрд▓, рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдПрдВрдЧреЗ рдЬреЛ рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдирд╡реАрдирддрдо рдирдореВрдиреЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЖрдк рдЗрд╕реЗ рд╡рдЬрди рдФрд░ рдКрдВрдЪрд╛рдИ рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  <b>ProfileDataStore.swift</b> рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрди рд╡рд┐рдзрд┐ рдХреЛ рдХрдХреНрд╖рд╛ рдореЗрдВ рдЪрд┐рдкрдХрд╛рдПрдБ, <i>getAgeSexAndBloodType ()</i> рд╡рд┐рдзрд┐ рдХреЗ рдиреАрдЪреЗ: <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getMostRecentSample</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">for</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sampleType</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HKSampleType</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">completion</span></span></span><span class="hljs-class">: @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">escaping</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HKQuantitySample</span></span></span><span class="hljs-class">?, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-class">?) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Swift</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Void</span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//1.  HKQuery    . let mostRecentPredicate = HKQuery.predicateForSamples(withStart: Date.distantPast, end: Date(), options: .strictEndDate) let sortDescriptor = NSSortDescriptor(key: HKSampleSortIdentifierStartDate, ascending: false) let limit = 1 let sampleQuery = HKSampleQuery(sampleType: sampleType, predicate: mostRecentPredicate, limit: limit, sortDescriptors: [sortDescriptor]) { (query, samples, error) in //2.       . DispatchQueue.main.async { guard let samples = samples, let mostRecentSample = samples.first as? HKQuantitySample else { completion(nil, error) return } completion(mostRecentSample, nil) } } HKHealthStore().execute(sampleQuery) }</span></span></code> </pre><br>  рдпрд╣ рд╡рд┐рдзрд┐ рдирдореВрдиреЗ рдХреЗ рдкреНрд░рдХрд╛рд░ (рдКрдВрдЪрд╛рдИ, рд╡рдЬрди, рдмреАрдПрдордЖрдИ, рдЖрджрд┐) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИред  рдлрд┐рд░ рд╡рд╣ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рдЕрдВрддрд┐рдо рдирдореВрдирд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд╡реЗрд░реА рдмрдирд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдк рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдирдореВрдиреЗ рдХреЗ рдкреНрд░рдХрд╛рд░ рд╕реЗ рдЧреБрдЬрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрдкрдиреЗ рдкрд┐рдЫрд▓реЗ рд╡рд┐рдХрд╛рд╕ рд░рд┐рдХреЙрд░реНрдб рдкрд░ рд▓реМрдЯ рдЖрдПрдВрдЧреЗред <br><br>  рдпрд╣рд╛рдВ рдмрд╣реБрдд рдХреБрдЫ рд╣реЛ рд░рд╣рд╛ рд╣реИред  рдХреБрдЫ рдмрд╛рддреЗрдВ рд╕рдордЭрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд░реБрдХреВрдВрдЧрд╛ред <br><br><ol><li>  <b>HKQuery</b> рдореЗрдВ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЗ HealthKit рдХреНрд╡реЗрд░реА рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдореЗрдВ рдЖрдкрдХреА рд╕рд╣рд╛рдпрддрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рддрд╛рд░реАрдЦ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </li><li>  HealthKit рд╕реЗ рдирдореВрдиреЗ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдирд╛ рдПрдХ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИред  рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдкреВрд░рд╛ рд╣реИрдВрдбрд▓рд░ рдореЗрдВ рдХреЛрдб рдбрд┐рд╕реНрдкреИрдЪ рдмреНрд▓реЙрдХ рдХреЗ рдЕрдВрджрд░ рдкрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдореБрдЦреНрдп рдзрд╛рдЧреЗ рдкрд░ рдЕрдиреБрдкрд╛рд▓рди рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдпрджрд┐ рдЖрдк рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрд╡реЗрджрди рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред </li></ol><br>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЗ рдЕрдиреБрд░реЛрдз рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдЖрдкрдХреЛ <b>рдореБрдЦреНрдп</b> рдереНрд░реЗрдб рдкрд░ рдПрдХ рд╕рд╛рдл рдирдореВрдирд╛ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд╣рд╛рдВ <b>ProfileViewController</b> рд▓реЗрдмрд▓ рдореЗрдВ рдЕрдкрдиреА рд╕рд╛рдордЧреНрд░реА рдбрд╛рд▓ рд╕рдХрддрд╛ рд╣реИред  рдЕрдм рдЗрд╕ рднрд╛рдЧ рдХреЛ рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдирдореВрдиреЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ </h3><br>  рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рдЖрдкрдиреЗ <b>HealthKit</b> рд╕реЗ рдбреЗрдЯрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ <b>рдерд╛</b> ред  рдЙрдиреНрд╣реЗрдВ <b>ProfileViewController</b> рдореЗрдВ рдПрдХ рдореЙрдбрд▓ рдХреЗ рд░реВрдк рдореЗрдВ <b>рд╕рд╣реЗрдЬреЗрдВ</b> , рдФрд░ рдлрд┐рд░ <b>ProfileViewController</b> рдЕрджреНрдпрддрди рд╡рд┐рдзрд┐ <i>()</i> рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ <br><br>  рдЖрдкрдХреЛ рдмрд╕ рдЗрддрдирд╛ рдХрд░рдирд╛ рд╣реИ рдХрд┐ рдирдореВрдиреЗ рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЬреЛрдбрд╝рдХрд░ рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВ, рдЙрдиреНрд╣реЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд▓рд┐рдП рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ <i>рдЕрджреНрдпрддрди</i> рд▓реЗрдмрд▓ <i>()</i> рдХреЛ рдкрд╛рда рдХреЗ рд╕рд╛рде рд▓реЗрдмрд▓ рдХреЛ рдкреЙрдкреНрдпреБрд▓реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддрд╛ рд╣реИред <br><br>  <b>ProfileViewController.swift</b> рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ, <i>loadAndDisplayMostRecentHeight (</i> ) рд╡рд┐рдзрд┐ <i>рдвреВрдВрдвреЗрдВ</i> рдФрд░ рдирд┐рдореНрди рдХреЛрдб рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">//1.  HealthKit      guard let heightSampleType = HKSampleType.quantityType(forIdentifier: .height) else { print("Height Sample Type is no longer available in HealthKit") return } ProfileDataStore.getMostRecentSample(for: heightSampleType) { (sample, error) in guard let sample = sample else { if let error = error { self.displayAlert(for: error) } return } //2.     ,   , //    . let heightInMeters = sample.quantity.doubleValue(for: HKUnit.meter()) self.userHealthProfile.heightInMeters = heightInMeters self.updateLabels() }</span></span></code> </pre><br><ol><li>  рдпрд╣ рд╡рд┐рдзрд┐ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдирдореВрдиреЗ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдХреЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИред  рдлрд┐рд░ рд╡рд╣ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦреЗ рдЧрдП рддрд░реАрдХреЗ рд╕реЗ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдирдореВрдиреЗ рдХреЛ рдкрд╛рд╕ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ HealthKit рдореЗрдВ рджрд░реНрдЬ рд╕рдмрд╕реЗ рд╣рд╛рд▓рд┐рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡реГрджреНрдзрд┐ рдирдореВрдирд╛ рд╡рд╛рдкрд╕ рдХрд░ рджреЗрдЧрд╛ред </li><li>  рдЬреИрд╕реЗ рд╣реА рдирдореВрдирд╛ рд╡рд╛рдкрд╕ рдЖрддрд╛ рд╣реИ, рд╡рд┐рдХрд╛рд╕ рдореАрдЯрд░ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рд╕реН рдереИрд▓реА рдореЙрдбрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдлрд┐рд░ <b>рдпреВрдЖрдИ</b> рдЕрдкрдбреЗрдЯ рд╣реЛрдЧрд╛ред </li></ol><br>  <b>рдиреЛрдЯ:</b> <i>рдЖрдорддреМрд░ рдкрд░ рдЖрдк рдПрдХ рдорд╛рддреНрд░рд╛ рдХреЗ рдирдореВрдиреЗ рдХреЛ рдПрдХ рдорд╛рдирдХ рдЗрдХрд╛рдИ рдореЗрдВ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред</i>  <i>рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрдкрд░реЛрдХреНрдд рдХреЛрдб <i>DoubleValue (:) рдХреЗ рд▓рд┐рдП</i> рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рдбреЗрдЯрд╛ рдХреЛ <b>рдкрд╛рд░рд┐рдд</b> рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореАрдЯрд░) рдХреЛ <b>HKUnit рдХреЛ</b> ред</i> <i><br><br></i>  <i>рдЖрдк <b>HealthKit рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрд▓рдмреНрдз рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рд╡рд░реНрдЧ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ <b>HKUnits</b> рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред</i>  <i>рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдмрд╕ <b>HKUit</b> рдореЗрдВ рдореАрдЯрд░ () рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рд╡рд╣реА рд╣реЛрдЧрд╛ рдЬреЛ рдЖрдкрдХреЛ рдЪрд╛рд╣рд┐рдПред</i> <br><br>  рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рде рдЫрдВрдЯрдиреА рд╣реБрдИред  рд╡рдЬрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреИрд╕реЗ?  рд╕рдм рдХреБрдЫ рд╕рдорд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ <i>ProfileViewController</i> рдореЗрдВ <i>loadAndDisplayMostRecentWeight ()</i> рд╡рд┐рдзрд┐ рдХреЛ <b>рдкреЙрдкреНрдпреБрд▓реЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛</b> ред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХреЛ <i>loadAndDisplayMostRecentWeight ()</i> рд╡рд┐рдзрд┐ рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> weightSampleType = <span class="hljs-type"><span class="hljs-type">HKSampleType</span></span>.quantityType(forIdentifier: .bodyMass) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Body Mass Sample Type is no longer available in HealthKit"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-type"><span class="hljs-type">ProfileDataStore</span></span>.getMostRecentSample(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: weightSampleType) { (sample, error) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sample = sample <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> error = error { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.displayAlert(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: error) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> weightInKilograms = sample.quantity.doubleValue(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-type"><span class="hljs-type">HKUnit</span></span>.gramUnit(with: .kilo)) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.userHealthProfile.weightInKilograms = weightInKilograms <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateLabels() }</code> </pre><br>  рдЖрдк рдЙрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдирдореВрдирд╛ рдмрдирд╛рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдЖрдк рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, <b>рдЗрд╕рдХреЗ</b> рд▓рд┐рдП <b>HealthKit рд╕реЗ</b> рдЕрдиреБрд░реЛрдз рдХрд░реЗрдВ, рдХреБрдЫ рдЗрдХрд╛рдИ рд░реВрдкрд╛рдВрддрд░рдг рдХрд░реЗрдВ, рдЗрд╕реЗ рдЕрдкрдиреЗ рдореЙрдбрд▓ рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред <br><br>  рдлрд┐рд▓рд╣рд╛рд▓, рдпрд╣ рджрд┐рдЦрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХрд╛рдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреБрдЫ рдФрд░ рд╣реИред  <i>рдЕрдкрдбреЗрдЯрд▓реИрдмрд▓реНрд╕ ()</i> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЙрдкрд▓рдмреНрдз рдХрд░рд╛рдП рдЧрдП рдирдП рдбреЗрдЯрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br>  рдЪрд▓реЛ рдЗрд╕реЗ рдареАрдХ рдХрд░рддреЗ рд╣реИрдВред <br><br>  <i>рдЕрдкрдбреЗрдЯрд▓реИрдмрд▓реНрд╕ ()</i> рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдЙрд╕ рд╣рд┐рд╕реНрд╕реЗ рдХреЗ рдиреАрдЪреЗ рдЬреЛрдбрд╝реЗрдВ, рдЬрд╣рд╛рдВ рдЖрдк рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рдХреНрдд рд╕рдореВрд╣ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> weight = userHealthProfile.weightInKilograms { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> weightFormatter = <span class="hljs-type"><span class="hljs-type">MassFormatter</span></span>() weightFormatter.isForPersonMassUse = <span class="hljs-literal"><span class="hljs-literal">true</span></span> weightLabel.text = weightFormatter.string(fromKilograms: weight) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> height = userHealthProfile.heightInMeters { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> heightFormatter = <span class="hljs-type"><span class="hljs-type">LengthFormatter</span></span>() heightFormatter.isForPersonHeightUse = <span class="hljs-literal"><span class="hljs-literal">true</span></span> heightLabel.text = heightFormatter.string(fromMeters: height) } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bodyMassIndex = userHealthProfile.bodyMassIndex { bodyMassIndexLabel.text = <span class="hljs-type"><span class="hljs-type">String</span></span>(format: <span class="hljs-string"><span class="hljs-string">"%.02f"</span></span>, bodyMassIndex) }</code> </pre><br>  <i>UpdateLabels ()</i> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдореВрд▓ рдЯреЗрдореНрдкрд▓реЗрдЯ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдЖрдкрдХреЗ <b>UserHealthProfile</b> рдореЙрдбрд▓ рдореЗрдВ рдКрдВрдЪрд╛рдИ, рд╡рдЬрди рдФрд░ рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХрд╛ <b>рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддрд╛</b> рд╣реИред  рдпрджрд┐ рдЙрдкрд▓рдмреНрдз рд╣реИ, рддреЛ рд╡реЗ рдЙрдЪрд┐рдд рд▓рд╛рдЗрдиреЗрдВ рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╕реНрдХреНрд░реАрди рдкрд░ рд▓реЗрдмрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВред <br><br>  <b>MassFormatter</b> рдФрд░ <b>LengthFormatter</b> рдЕрдкрдиреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рддрд╛рд░ рдореЗрдВ рдмрджрд▓рдиреЗ рдХрд╛ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <b>UserHealthProfile</b> рдореЙрдбрд▓ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рд╣реИред  рдпрд╣ рдПрдХ рдЧрдгрдирд╛ рдХреА рдЧрдИ рд╕рдВрдкрддреНрддрд┐ рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рд▓рд┐рдП рдЧрдгрдирд╛ рдХрд░рддреА рд╣реИред <br><br>  <b>BodyMassIndex</b> рдкреНрд░реЙрдкрд░реНрдЯреА рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдореЗрд░рд╛ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bodyMassIndex: <span class="hljs-type"><span class="hljs-type">Double?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> weightInKilograms = weightInKilograms, <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> heightInMeters = heightInMeters, heightInMeters &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (weightInKilograms/(heightInMeters*heightInMeters)) }</code> </pre><br>  рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рд╕рдВрдкрддреНрддрд┐ рд╣реИ, рдЕрд░реНрдерд╛рддреН, рдпрд╣ рд╢реВрдиреНрдп рд╡рд╛рдкрд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрджрд┐ рдЖрдкрдиреЗ рдКрдБрдЪрд╛рдИ рдпрд╛ рд╡рдЬрди рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдерд╛ (рдпрд╛ рдпрджрд┐ рд╡реЗ рдХреБрдЫ рд╕рдВрдЦреНрдпрд╛ рдкрд░ рд╕реЗрдЯ рд╣реИрдВ рдЬреЛ рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИ)ред  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЧрдгрдирд╛ рдХреЗрд╡рд▓ рдКрдВрдЪрд╛рдИ рд╡рд░реНрдЧ рджреНрд╡рд╛рд░рд╛ рд╡рд┐рднрд╛рдЬрд┐рдд рд╡рдЬрди рд╣реИред <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЛрдЯ: </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдк </font><font style="vertical-align: inherit;">рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдкрдврд╝рдиреЗ рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HealthKit рдореЗрдВ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдбреЗрдЯрд╛ рдирд╣реАрдВ рдЬреЛрдбрд╝реЗ рд╣реИрдВ, рддреЛ рдЬрд▓реНрдж рд╣реА рдЖрдк рдЗрд╕ рд╕рдм рдореЗрдВ рдЦреБрдж рдХреЛ рд╡рд┐рд╕рд░реНрдЬрд┐рдд рдХрд░ рджреЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">ред рдпрджрд┐ рдЖрдкрдиреЗ рдкрд╣рд▓реЗ рд╕реЗ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдХрдо рд╕реЗ рдХрдо рдКрдВрдЪрд╛рдИ рдФрд░ рд╡рдЬрди рдХреЗ рдирдореВрдиреЗ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font></font></i> <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реЗрд▓реНрде рдРрдк рдЦреЛрд▓реЗрдВ рдФрд░ рд╣реЗрд▓реНрде рдбреЗрдЯрд╛ рдЯреИрдм рдкрд░ рдЬрд╛рдПрдВред рд╡рд╣рд╛рдВ, рдмреЙрдбреА рдореЗрдЬрд░рдореЗрдВрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдЪреБрдиреЗрдВ, рдлрд┐рд░ рд╡реЗрдЯ рдЪреБрдиреЗрдВ рдФрд░ рдлрд┐рд░ рдирдпрд╛ рд╡реЗрдЯ рд╕реИрдВрдкрд▓ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд╡рд╛рдЗрдВрдЯ рдЬреЛрдбрд╝реЗрдВред рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВред</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢рд░рд╛рд░рдд рдЯреНрд░реИрдХрд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдЖрдкрдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╡рдЬрди рдФрд░ рдКрдВрдЪрд╛рдИ рдХреЗ рд╣рд╛рд▓ рдХреЗ рдирдореВрдиреЗ рдХреЛ рдкрдврд╝рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ рдкрд╛рда рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ рдФрд░ рдЪрд▓рд╛рдПрдВред </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдлрд╛рдЗрд▓ рдФрд░ рдмреАрдПрдордЖрдИ рдкрд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЬрд╛рдПрдВ </font><font style="vertical-align: inherit;">ред рдЗрд╕рдХреЗ рдмрд╛рдж </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HealthKit Data</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">ред</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/841/d4d/35d/841d4d35d54528b5578fe32a3b163c0a.png" alt="рдЫрд╡рд┐" width="281" height="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ! </font><font style="vertical-align: inherit;">рдЖрдк рдмрд╕ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HealthKit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реЗ рдЕрдкрдиреЗ рдкрд╣рд▓реЗ рдирдореВрдиреЗ рдкрдврд╝реЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ рдмреАрдПрдордЖрдИ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрдЪрдд рдХреЗ рдирдореВрдиреЗ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prancercise рдЯреНрд░реИрдХрд░</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдЖрд╕рд╛рди рд╕рд╛ рдХреИрд▓рдХреНрдпреВрд▓реЗрдЯрд░ рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХреА рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдкрдиреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмреАрдПрдордЖрдИ рдирдореВрдиреЗ рдХреЛ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </font><b><font style="vertical-align: inherit;">ProfileDataStore.swift</font></b></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦреЛрд▓реЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ рдирд┐рдореНрди рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">saveBodyMassIndexSample</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bodyMassIndex</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Double</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">date</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Date</span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//1. ,      guard let bodyMassIndexType = HKQuantityType.quantityType(forIdentifier: .bodyMassIndex) else { fatalError("Body Mass Index Type is no longer available in HealthKit") } //2.   HKUnit     let bodyMassQuantity = HKQuantity(unit: HKUnit.count(), doubleValue: bodyMassIndex) let bodyMassIndexSample = HKQuantitySample(type: bodyMassIndexType, quantity: bodyMassQuantity, start: date, end: date) //3.      HealthKit HKHealthStore().save(bodyMassIndexSample) { (success, error) in if let error = error { print("Error Saving BMI Sample: \(error.localizedDescription)") } else { print("Successfully saved BMI Sample") } } }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреНрдп рдкреНрд░рдХрд╛рд░ рдХреЗ рдирдореВрдиреЛрдВ рдХреА рддрд░рд╣, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдирдореВрдирд╛ рдкреНрд░рдХрд╛рд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HealthKit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдХреЛрдб рдХреА рдЬрд╛рдБрдЪ рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">рдХрд┐ рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рдПрдХ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╛рддреНрд░рд╛ рдкреНрд░рдХрд╛рд░</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореМрдЬреВрдж рд╣реИ рдпрд╛ рдирд╣реАрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдорд╛рддреНрд░рд╛ рдХрд╛ рдирдореВрдирд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИред</font></font></li><li>  <i>count()</i>  <b>HKUnit</b>    ,       ,   .  -      ,    ,           . </li><li> <b>HKHealthStore</b>     ,        .      ,        . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдЧрднрдЧ рдХрд┐рдпрд╛ рд╣реБрдЖред рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред </font><b><font style="vertical-align: inherit;">ProfileViewController.swif</font></b></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦреЛрд▓реЗрдВ </font><font style="vertical-align: inherit;">, </font><i><font style="vertical-align: inherit;">saveBodyMassIndexToHealthKit (</font></i><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">рд╡рд┐рдзрд┐ </font><i><font style="vertical-align: inherit;">рдвреВрдВрдвреЗрдВ</font></i><font style="vertical-align: inherit;"> ред рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВ рдмреАрдПрдордЖрдИ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддрд╛ рд╣реИ рддреЛ рдпрд╣ рд╡рд┐рдзрд┐ рдХрд╣рд▓рд╛рддреА рд╣реИред </font><font style="vertical-align: inherit;">рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХреЛ рд╡рд┐рдзрд┐ рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bodyMassIndex = userHealthProfile.bodyMassIndex <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { displayAlert(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-type"><span class="hljs-type">ProfileDataError</span></span>.missingBodyMassIndex) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } <span class="hljs-type"><span class="hljs-type">ProfileDataStore</span></span>.saveBodyMassIndexSample(bodyMassIndex: bodyMassIndex, date: <span class="hljs-type"><span class="hljs-type">Date</span></span>())</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдкрдХреЛ рдпрд╛рдж рд╣реИ рдХрд┐ рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рдПрдХ рдЧрдгрдирд╛ рдХреА рдЧрдИ рд╕рдВрдкрддреНрддрд┐ рд╣реИ рдЬреЛ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реЗрд▓реНрдердХреЗрдЯ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗ рдКрдВрдЪрд╛рдИ рдФрд░ рд╡рдЬрди рдХреЗ рдирдореВрдиреЗ рд▓реЛрдб рд╣реЛрдиреЗ рдкрд░ рдПрдХ рдореВрд▓реНрдп рджреЗрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред рдпрд╣ рдХреЛрдб рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдФрд░ рдпрджрд┐ рд╕рдВрднрд╡ рд╣реЛ рддреЛ, рдЗрд╕реЗ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">saveBodyMassIndexSample (bodyMassIndex: date :)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрджреНрдзрддрд┐ рд╕реЗ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЬреЛ </font><font style="vertical-align: inherit;">рдЖрдкрдиреЗ рдЕрднреА рд▓рд┐рдЦрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рдХреА рдЧрдгрдирд╛ рдирд╣реАрдВ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рддреЛ рдпрд╣ рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЪреЗрддрд╛рд╡рдиреА рджрд┐рдЦрд╛рддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВ рдФрд░ рдЪрд▓рд╛рдПрдВред </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдлрд╛рдЗрд▓ рдФрд░ рдмреАрдПрдордЖрдИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрдХреНрд░реАрди рдкрд░ рдЬрд╛рдПрдВ </font><font style="vertical-align: inherit;">ред </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реАрдердХрд┐рдЯ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗ рдбреЗрдЯрд╛ рдбрд╛рдЙрдирд▓реЛрдб </font><font style="vertical-align: inherit;">рдХрд░реЗрдВ, рдлрд┐рд░ рдмреАрдПрдордЖрдИ рд╕рд╣реЗрдЬреЗрдВ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрдВрд╕реЛрд▓ рдХреЛ рджреЗрдЦреЗрдВред рдХреНрдпрд╛ рдЖрдк рдЗрд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ?</font></font><br><br><pre> <code class="swift hljs">   <span class="hljs-type"><span class="hljs-type">BMI</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рд╣рд╛рдВ, рддреЛ рдмрдзрд╛рдИ! </font><font style="vertical-align: inherit;">рдЖрдкрдХрд╛ BMI рдирдореВрдирд╛ рдЕрдм </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HealthKit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗрдВрджреНрд░реАрдп рднрдВрдбрд╛рд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рд╣рдо рдЙрд╕реЗ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реЗрд▓реНрде рдРрдк рдЦреЛрд▓реЗрдВ, рд╣реЗрд▓реНрде рдбреЗрдЯрд╛ рдЯреИрдм рдкрд░ рдЯреИрдк рдХрд░реЗрдВ, рдЯреЗрдмрд▓ рд╡реНрдпреВ рдореЗрдВ рдмреЙрдбреА рдореЗрдЬрд░рдореЗрдВрдЯ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ рдмреЙрдбреА рдорд╛рд╕ рдЗрдВрдбреЗрдХреНрд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/953/802/724/953802724c0ccad14b5184bd8b01b17f.png" alt="рдЫрд╡рд┐" width="281" height="500"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi434978/">https://habr.com/ru/post/hi434978/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi434968/index.html">рдирд╛рдорд╕реНрдерд╛рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ</a></li>
<li><a href="../hi434970/index.html">рдЖрдИрдЯреА рд╡реНрдпрд╡рд╕рд╛рдп рдФрд░ рдЕрдзрд┐рдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi434972/index.html">рдЕрдЧрд░ рдЖрдкрдХреЛ рдРрд╕рд╛ рдорд╣рд╕реВрд╕ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ рддреЛ рдпреВрдирд┐рдЯ рдЯреЗрд╕реНрдЯ рдХреИрд╕реЗ рд▓рд┐рдЦреЗрдВ</a></li>
<li><a href="../hi434974/index.html">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди 1 рд╕реА рдХреЗ рдкреНрд░рд╛рд░реВрдк рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ: рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ</a></li>
<li><a href="../hi434976/index.html">рдЖрдИрдЯреАрдПрдордУ рдпреВрдирд┐рд╡рд░реНрд╕рд┐рдЯреА рдлреИрдмрд▓реИрдм: рд░рдЪрдирд╛рддреНрдордХ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП DIY-рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ - рд╢реЛ рдХреЗ рдЕрдВрджрд░ рдХреНрдпрд╛ рд╣реИ</a></li>
<li><a href="../id432400/index.html">CS: GO sekarang gratis</a></li>
<li><a href="../id432402/index.html">Hai SDM, di mana suvenir saya?</a></li>
<li><a href="../id432404/index.html">Cadangan untuk Linux tidak menulis surat</a></li>
<li><a href="../id432408/index.html">Intisari Fintech: persiapan untuk memutuskan hubungan bank kecil dari Visa dan Mastercard, kalkulator pensiun dan tidak hanya</a></li>
<li><a href="../id432410/index.html">Entitas gaya DDD dengan Entity Framework Core</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>