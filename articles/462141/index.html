<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüéì üé∂ ü•ò Carrito para un centro de datos ü§∂ üìä ü§∂üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="C√≥mo implementar el bot Python Telegram usando Webhooks en Google Cloud Platform 
 En lugar del pr√≥logo 



 - Escribe un bot de telegramas. Ahora inc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Carrito para un centro de datos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ods/blog/462141/"><p>  <i>C√≥mo implementar el bot Python Telegram usando Webhooks en Google Cloud Platform</i> </p><br><h2>  En lugar del pr√≥logo </h2><br><img src="https://habrastorage.org/webt/oi/jo/yy/oijoyytwumhn8skry24krjfi8ke.jpeg" width="45%" height="45%" alt="imagen" align="left"><br><p>  <i>- Escribe un bot de telegramas.</i>  <i>Ahora incluso los escolares escriben ‚Äù, dijo.</i> <i><br></i>  <i>"Y por qu√© no", pens√© entonces ("Bueno, bueno", dir√≠a ahora).</i> </p><br><p>  Nos sentamos en Bean y con una taza de caf√© discutimos las posibilidades de probar ideas con modelos de inteligencia artificial en un c√≠rculo cercano y no muy cercano de amigos.  Lena, mi ex colega, y en todos los aspectos no una rubia que acababa de graduarse de una magistratura, razon√≥ de la siguiente manera.  Al crear un bot, puede ahorrar tiempo y energ√≠a en la interfaz al enfocarse en el n√∫cleo con el aprendizaje autom√°tico.  Debes admitir que fue imposible resistirse a esa l√≥gica de "deportista, miembro de Komsomol y simplemente hermosa" ese hermoso domingo por la ma√±ana.  Est√° resuelto.  Telegram bot significa telegram bot. </p><br><p>  En primer lugar, me met√≠ en Google y encontr√© una gran cantidad de enlaces "c√≥mo hacer un bot en 30 minutos".  Me inspir√≥ tanto que no fui m√°s all√° de los nombres y comenc√© a crear un n√∫cleo.  En la primera aproximaci√≥n, tuve que escribir un sistema de procesamiento de consultas de b√∫squeda usando NLP (procesamiento de lenguaje natural).  Escribir el n√∫cleo tom√≥ un tiempo bastante razonable (sin embargo, la experiencia de Coca-Cola no se puede beber).  Y unos d√≠as despu√©s estaba listo para envolver la primera versi√≥n de prueba del kernel en un par de otros comandos de env√≠o y recepci√≥n en un par de horas, ejecutando todo esto en Telegram para el beneficio de mis amigos.  Pero ah√≠ estaba. </p><br><p>  De repente surgieron muchos problemas.  Despu√©s de pasar un par de d√≠as buscando en Internet y hablando con colegas en la tienda, me di cuenta de que lo obvio no es obvio y que otra "instrucci√≥n" no har√° da√±o.  Entonces apareci√≥ este art√≠culo. </p><a name="habracut"></a><br><h2>  En lugar de entrada.  Bibliotecas </h2><br><p>  Hay varias bibliotecas de Python para bots de telegramas.  Telegram se refiere a tres de ellos: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">python-telegram-bot</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pyTelegramBotAPI</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AIOGram</a> .  Los enlaces a estas bibliotecas y ejemplos en otros idiomas se pueden encontrar en el sitio web de Telegram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Por supuesto, todav√≠a existe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la API de Telegram</a> .  En el curso de mis experimentos, prob√© dos variantes de la API de Telegram y pyTelegramBotAPI.  Y mientras se detuvo en el segundo. </p><br><p>  En general, las impresiones de las bibliotecas son las siguientes.  Todos son muy similares, lo cual no es sorprendente.  Python-telegram-bot, me pareci√≥, tiene la mejor documentaci√≥n de todas, aunque el trabajo se ha detenido (espero estar equivocado).  Se puede ver que el trabajo contin√∫a en pyTelegramBotAPI, aparece una nueva funcionalidad.  AIOGram parece m√°s joven y m√°s verde.  En el √∫ltimo no me gust√≥ eso, en lugar de la documentaci√≥n en webhooks hab√≠a un enlace al sitio web de Telegram.  Pero todo fluye, todo cambia.  Y la elecci√≥n final queda por hacer. </p><br><p>  No volveremos al tema de las bibliotecas en este art√≠culo. </p><br><p>  En cuanto al c√≥digo del bot en s√≠, como ya he se√±alado, hay muchos manuales en Internet dedicados a crear programas simples y m√°s complejos.  Para los prop√≥sitos de este art√≠culo, esto no tiene principios.  Tomemos por definici√≥n dos ejemplos del github oficial pyTelegramBotAPI: </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Telegram bot usando sondeo</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://github.com/eternnoir/pyTelegramBotAPI/blob/master/examples/webhook_examples/webhook_aio">Telegram bot usando webhook</a> . </li></ol><br><p>  Los temas m√°s controvertidos con los bots de telegram son los certificados SSL, webhooks y diploing.  Alrededor de esto y centrar nuestra atenci√≥n.  A continuaci√≥n, le dar√© instrucciones paso a paso que le permitir√°n colocar su bot de telegramas en uno de los mejores servicios en la nube del mundo de la manera m√°s simple y confiable en el menor tiempo (al menos en el primer a√±o).  Tambi√©n se resaltar√° la creaci√≥n de certificados SSL, su registro en Telegram y otros temas relacionados.  Si es necesario, dar√© explicaciones de por qu√© usamos esta o aquella opci√≥n, estos o esos equipos. <br></p><br><h2>  Encuesta vs Webhook </h2><br><img src="https://habrastorage.org/webt/tp/2b/ve/tp2bveonfyk-z9uqucefpqkg90k.jpeg" width="45%" height="45%" alt="imagen" align="left"><br><p>  Si no fuera por la confrontaci√≥n entre sondeo vs webhook y algunas dificultades (parcialmente inventadas) con webhook, este art√≠culo no hubiera sido necesario.  Como esto es de importancia fundamental, veamos con m√°s detalle. </p><br><p>  ¬øQu√© es un bot y c√≥mo se comunica con Telegram?  Obviamente, un bot es un programa que se ejecuta en su computadora o servidor.  Y la comunicaci√≥n con el Telegram se produce enviando y recibiendo mensajes.  Y si todo est√° claro con el env√≠o de mensajes, una opci√≥n es enviar (la direcci√≥n "d√≥nde" la conocemos).  Hay dos opciones para recibir mensajes de bot de Telegram. </p><br><p>  El primero es una encuesta (traducci√≥n literal de la palabra sondeo) del servidor Telegram para mensajes para el bot.  El segundo es un "buz√≥n" con una direcci√≥n IP (webhook se puede traducir como una trampa web), a la que llegan los mensajes del servidor Telegram. </p><br><p>  La analog√≠a m√°s simple con el correo real.  Deje que el correo (oficina de correos) sea el servidor de Telegram, y usted es su bot.  Luego, en el primer caso (votaci√≥n), debe dirigirse a la oficina de correos para recibir correspondencia.  Y si desea recibir mensajes sin demora, no tendr√° que irse, sino literalmente ir y venir sin respiro.  Seg√∫n entendemos, ¬°est√° prohibido vivir en el correo esperando mensajes!  En el segundo caso, le dice a la oficina de correos la direcci√≥n de su casa y espera la correspondencia tranquilamente en casa, tomando t√© o fumando bamb√∫. </p><br><p>  Por supuesto, para una persona, la primera opci√≥n parece la m√°s severa.  Pero, hablando entre nosotros, si corremos detr√°s de los mensajes enviamos un trozo de hierro con un c√≥digo, entonces no deber√≠a importarnos.  Y as√≠ ser√≠a, si no fuera por un problema.  De vez en cuando, el correo (el servidor de Telegram) a veces cierra para el almuerzo, luego se mueve.  Y en su primera opci√≥n (sondeo) ocurre una tragedia, que en el mundo real de los bots termina con su desplazamiento y falla. </p><br><p>  En el segundo caso, el "buz√≥n" con la direcci√≥n (webhook) no ocurre.  Porque ni usted ni su bot no van a ninguna parte, sino que simplemente esperan.  Y no le importa a d√≥nde se haya mudado la oficina de correos, porque el cartero le env√≠a el correo. </p><br><p>  Por lo tanto, en t√©rminos de la cantidad de c√≥digo (ver enlace anterior), la primera opci√≥n parece m√°s simple.  Y el segundo es m√°s l√≥gico, pero m√°s dif√≠cil.  Para su implementaci√≥n, debe obtener una direcci√≥n, confirmar su autenticidad y elevar el servidor web, al que llegar√°n los mensajes del Telegram. </p><br><p>  Por supuesto, para la primera opci√≥n es posible agregar manejo de excepciones al c√≥digo.  Por ejemplo, si el correo est√° cerrado, espere y espere.  Pero Internet afirma que los mismos bots con sondeo son solo para jugar. </p><br><p>  Al principio no cre√≠a que el problema fuera tan grave.  E hizo una opci√≥n con el sondeo, sugiriendo que alg√∫n d√≠a lo volver√≠a a escribir en webhooks.  Pero eso no funcion√≥.  En la computadora de mi casa con macOS, el bot funcion√≥ sin problemas durante una hora y dos (por supuesto, con una VPN) y no se bloque√≥.  Pero tan pronto como lo transfir√≠ al servidor de la nube en Linux, no pudo funcionar durante 20 minutos.  Trat√© de resolver este problema de diferentes maneras y configuraciones, pero recib√≠ solo un c√≥digo de error diferente.  Selawy, este es Telegram.  Habiendo perdido un d√≠a, tuve que tomar webhooks, sin demora.  Al final, quer√≠a lanzar el bot en el servidor ahora, y no en un a√±o. <br></p><br><h2>  Reescribiendo c√≥digo en webhook </h2><br><p>  <i>El webhook no da tanto miedo como est√° pintado.</i> </p><br><p>  Si ya tiene un c√≥digo bot con sondeo, copiarlo al webhook no ser√° dif√≠cil.  Compare los c√≥digos de los ejemplos de la biblioteca pyTelegramBotAPI.  Encontrar√° la intersecci√≥n del c√≥digo.  Las l√≠neas 13-25 del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">primer ejemplo son las</a> mismas que las l√≠neas 56-67 del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://github.com/eternnoir/pyTelegramBotAPI/blob/master/examples/webhook_examples/webhook_aio">segundo ejemplo</a> .  Esta es una unidad l√≥gica responsable de procesar comandos, mensajes y respuestas.  En este caso, el ejemplo es demasiado simple, pero refleja la esencia principal. </p><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Handle '/start' and '/help' @bot.message_handler(commands=['help', 'start']) def send_welcome(message): bot.reply_to(message, """\ Hi there, I am EchoBot. I am here to echo your kind words back to you. Just say anything nice and I'll say the exact same thing to you!\ """) # Handle all other messages with content_type 'text' (content_types defaults to ['text']) @bot.message_handler(func=lambda message: True) def echo_message(message): bot.reply_to(message, message.text)</span></span></code> </pre> <br><p>  Por lo tanto, el bloque l√≥gico del bot debe dejarse sin cambios, y el resto debe cambiarse utilizando el c√≥digo de copiado banal fuera del bloque l√≥gico del segundo ejemplo (es decir, copie las l√≠neas 1-55 y 70-87).  Si observa el c√≥digo que est√° copiando, puede descubrir f√°cilmente que, utilizando la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://aio">aiohttp,</a> su bot instala un servidor http y comienza a escuchar en el puerto asignado para este puerto, mientras que el m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ssl de</a> Python es responsable del cifrado y los certificados.  Adem√°s de aiohttp, hay otras bibliotecas similares, cuyos ejemplos se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Entonces  Tenemos un bot con webhook.  Queda por cargarlo en el servidor y ejecutarlo, recibiendo simult√°neamente datos para completar los valores vac√≠os en el c√≥digo API_TOKEN, WEBHOOK_HOST, WEBHOOK_PORT, WEBHOOK_SSL_CERT, WEBHOOK_SSL_PRIV.  Detr√°s de cada uno de estos valores hay un cierto procedimiento con un significado secreto. <br></p><br><h2>  Registrarse bot en Telegram </h2><br><p>  Comencemos con el token bot.  Para obtenerlo, vaya al mensajero de Telegram y con√©ctese al bot @BotFather.  Ingrese el comando "/ newbot".  En respuesta, BotFather nos solicita que ingresemos el nombre y el nombre de usuario de nuestro bot y nos env√≠a un codiciado token del formulario "712308912: DLGSteczdUnPdnNYLzNikaGOhome7l9q3vova" (por supuesto, tendr√° otro).  Guardamos el token, no se lo mostramos a nadie.  En el c√≥digo lo asignamos a la variable API_TOKEN. <br></p><br><h2>  D√≥nde publicar  Google Cloud Platform vs Heroku </h2><br><p>  Algunas palabras sobre el tormento de elegir un servicio en la nube.  Hay muchos ejemplos en Internet donde los bots de telegramas est√°n alojados en Heroku.  Heroku es una plataforma PaaS (plataforma como servicio).  Subes el c√≥digo a GitHub, y desde all√≠ a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Heroku</a> .  Y tu bot comienza a funcionar de inmediato.  No es necesario instalar el servidor, Python y las bibliotecas, todo ya se ha hecho por usted.  Al menos, idealmente.  Esta soluci√≥n tambi√©n me la recomend√≥ uno de mis amigos.  Pero lo rechac√©. </p><br><p>  Seg√∫n tengo entendido, el mensaje principal para las recomendaciones de Heroku en muchos manuales de "bot de 30 minutos" es la disponibilidad de un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">plan tarifario gratuito</a> para Heroku.  Pero, si observa de cerca, resulta que este plan es muy limitado y no le permitir√° implementar un bot gratuito que funcione d√≠a y noche. </p><br><p>  A diferencia de Heroku, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Google Cloud Platform</a> (GCP) ofrece un a√±o completo de trabajo gratuito en todos los servicios dentro de los $ 300.  Por esta cantidad para el a√±o, puedes probar muchas cosas.  En mi opini√≥n, este es un regalo maravilloso, especialmente para aquellos que se dedican a la ciencia de datos.  Y, por supuesto, GCP tambi√©n es PaaS, una lista completa de servicios est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Hay soluciones sin servidor, como en Heroku.  Eleg√≠ un camino m√°s conservador para un mayor control en el futuro, a saber, la soluci√≥n de servidor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Compute Engine</a> en GCP. <br></p><br><h2>  Plataforma en la nube de Google </h2><br><p>  <i>Proyecto, instancia, ip est√°tica, puerto</i> </p><br><h4>  Crear un proyecto y servidor </h4><br><p>  Vamos a GCP, seleccionamos "Comenzar gratis" y seguimos las instrucciones.  Si hacemos todo bien, tendremos una cuenta con un monto de $ 300 e incluso el primer proyecto creado.  Seleccionamos este proyecto o creamos otro en el men√∫ superior, lo cual no es dif√≠cil.  Y luego vaya a la pesta√±a "Compute Engine / VM Instance" en el men√∫ lateral que se abre. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hw/mu/dn/hwmudnnoog3fhutxopij3vmdaeo.png" width="60%" height="60%" alt="imagen"></div><br><p>  Haga clic en "CREAR INSTANCIA" y seleccione la configuraci√≥n del servidor, por ejemplo, como se muestra en la siguiente captura de pantalla.  Puede elegir una microconfiguraci√≥n y luego costar√° solo $ 4 por mes.  Tambi√©n puede barajar, los fondos se debitar√°n de un regalo de Google a $ 300. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ah/u9/h9/ahu9h9oqvk0xvbltw08odqqkium.png" alt="imagen"></div><br><p>  Como resultado, obtenemos. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s_/cv/x_/s_cvx_fytblpl3hbpwx48gdmrj8.png" alt="imagen"></div><br><p></p><br><h4>  Hacer la direcci√≥n IP est√°tica </h4><br><p>  En la columna "IP externa", vemos la direcci√≥n que ingresamos en la variable WEBHOOK_HOST en nuestro bot (en este ejemplo, es 35.224.231.90).  Recibiremos un certificado SSL a esta direcci√≥n m√°s adelante.  Si tiene la intenci√≥n de usar el bot por un tiempo prolongado (incluso si cambia el servidor dentro de GCP), le recomiendo que esta direcci√≥n IP sea est√°tica para guardarla cuando cambie de una instancia a otra.  Esto se hace en la secci√≥n "VPC / Direcciones IP externas". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ws/08/f7/ws08f71j4vink6sredri7sn5k7w.png" width="60%" height="60%" alt="imagen"></div><br><p>  Cambiamos el campo "Tipo" de "Ef√≠mero" a "Est√°tico", dando el nombre a la direcci√≥n est√°tica para que no se confunda m√°s tarde si tiene una docena de direcciones IP m√°s tarde. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vd/sy/ug/vdsyugaqmpgjrcnn_v9lniyrp2y.png" alt="imagen"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pu/fh/i0/pufhi0ermqi0jckodbpyx_qyjdu.png" alt="imagen"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yg/ly/ln/yglylnfmm7oclpudssp7sycu8a4.png" width="60%" height="60%" alt="imagen"></div><br><p></p><br><h4>  Puerto abierto </h4><br><p>  Para que el webhook funcione correctamente, debemos abrir el puerto en el que Telegram tocar√°.  Actualmente (julio de 2019) Telegram admite los siguientes puertos: 443, 80, 88, 8443. M√°s detalles puede ver la gu√≠a completa de Telegram en webhooks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Abriremos el puerto 8443. En nuestro bot, este valor ya est√° asignado a la variable WEBHOOK_PORT.  Queda por configurar la regla de firewall en GCP para nuestra instancia de webhook-bot.  Como hacerlo  Vaya a la pesta√±a "Reglas de VPC / Firewall" y haga clic en "CREAR REGLA DE FIREWALL". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gr/4i/f5/gr4if5xforj5psjgljivxmru8y4.png" width="60%" height="60%" alt="imagen"></div><br><p>  Y cree una regla, como se muestra en la captura de pantalla a continuaci√≥n. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ne/gt/jl/negtjln_cf8mbb0sledqn5wvvkg.png" alt="imagen"></div><br><p></p><br><h4>  Nos conectamos al servidor, instalamos bibliotecas </h4><br><p>  Esto completa la configuraci√≥n b√°sica del servidor en Google Cloud Platform.  Tenemos una cuenta en GCP, creamos un proyecto, creamos un servidor (instancia) basado en Ubuntu 19.04 como parte del proyecto, reservamos una direcci√≥n IP, abrimos el puerto 8443. </p><br><p>  Queda poco.  Esperemos que podamos prescindir de una descripci√≥n detallada de la parte de instalaci√≥n de Python y las bibliotecas.  Por lo tanto, brevemente. </p><br><p>  Vaya a la pesta√±a GCP "Compute Engine / VM Instance" y en el campo "Connect" haga clic en "SSH". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s_/cv/x_/s_cvx_fytblpl3hbpwx48gdmrj8.png" alt="imagen"></div><br><p>  Se debe abrir una terminal en su computadora local con acceso a la instancia en GCP.  Este es un entorno normal de Ubuntu.  Instale <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">conda</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">virtualenv</a> , cree un entorno virtual e instale Python 3 con las bibliotecas principales.  Adem√°s, instalamos las bibliotecas necesarias para el funcionamiento de nuestro bot: <br>  pip install pyTelegramBotAPI <br>  pip install aiohttp </p><br><p>  Despu√©s de la instalaci√≥n, no cierre la terminal, la necesitaremos. <br></p><br><h2>  Obtenci√≥n de un certificado SSL autofirmado para IP </h2><br><p>  Debo decir que en Internet el tema de los certificados SSL para Telegram es un horror absoluto.  Como Mikhail Lermontov dijo a este respecto: </p><br><p>  <i>"Caballos mezclados en un mont√≥n, gente,</i> <i><br></i>  <i>Y voleas de mil ca√±ones</i> <i><br></i>  <i>Fundido en un largo aullido ... "</i> </p><br><p>  Si lees lo que escriben en Internet, resulta que si el bot no funciona en webhooks, entonces los culpables son los certificados recibidos incorrectamente.  Y sin embargo, no se pueden registrar en ip.  En general, Telegram no acepta certificados autofirmados.  E incluso si acepta el certificado, esto no significa que su bot funcionar√°, y Telegram ni siquiera enviar√° un error. </p><br><p>  Estas son historias de terror.  ¬øPor qu√© estoy escribiendo esto?  Adem√°s del hecho de que estas historias de terror me costaron otro d√≠a perdido, incluso tuve que omitir ver "El Hobbit".  Mi bot inicialmente se neg√≥ a trabajar en webhooks.  Esto sucedi√≥ debido a mis errores al colocarlo en el servidor (entonces no lo sab√≠a).  Pero debido a las historias de terror anteriores, estaba buscando el problema que no estaba all√≠, centr√°ndome en resolver problemas con certificados SSL que no estaban all√≠.  Pero gan√© una experiencia invaluable.  Registr√© certificados para los pr√≥ximos a√±os tanto para nombres de dominio como para ip, tanto autofirmados como pagados, tanto en forma de dos archivos como en forma de cuatro.  Descubr√≠ qu√© certificados vienen y c√≥mo hacer cadenas de ellos.  Espero que esto sea √∫til alguna vez. </p><br><p>  Una cosa es buena, no necesitas pisar este rastrillo, ya lo hice por ti.  Admito plenamente que, como no hay "humo sin fuego", hab√≠a una raz√≥n para tales historias de terror.  Pero para el d√≠a actual, la situaci√≥n parece haberse calmado. </p><br><p>  En este momento, recibiremos un certificado SSL de la manera m√°s conveniente para nosotros, es decir, en ip (y no en un nombre de dominio), autofirmado (es decir, gratis) y con un costo de una sola l√≠nea sin ning√∫n sitio. </p><br><p>  En el terminal (que a√∫n no hemos cerrado), prepare un directorio separado en el que guardaremos el archivo del certificado y la clave privada.  Vaya a este directorio y llame al siguiente comando desde √©l. </p><br><pre> <code class="bash hljs">$ openssl req -newkey rsa:2048 -sha256 -nodes -keyout url_private.key -x509 -days 3560 -out url_cert.pem</code> </pre> <br><p>  En respuesta, recibir√° solicitudes para completar una serie de campos simples.  Ll√©nalos en el siguiente ejemplo.  Pero, por supuesto, indique correctamente el c√≥digo de su pa√≠s, regi√≥n, ciudad, nombre de la empresa (si corresponde), sustituya su IP y su correo electr√≥nico. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wi/q3/fi/wiq3fixoya8owjmt_-hafyn3urw.png" alt="imagen"></div><br><p>  Como resultado, obtendr√° dos archivos en el directorio desde el que ejecut√≥ este comando.  Un archivo url_cert.pem es su certificado, y la segunda clave privada es url_private.key.  En el c√≥digo bot, se les asignan las variables WEBHOOK_SSL_CERT y WEBHOOK_SSL_PRIV, respectivamente.  No olvide ingresar las rutas de acceso a estos archivos junto con los nombres.  Descargue copias y gu√°rdelas para referencia futura. </p><br><p>  No cierre la terminal. <br></p><br><h2>  Registrar webhook en Telegram </h2><br><h4>  Registrar un webhook con un certificado autofirmado </h4><br><p>  Quiz√°s esta sea la parte m√°s emocionante de "¬øQu√© dir√° Telegram?".  Sin pre√°mbulos, simplemente introduzca el siguiente comando en su terminal.  Reemplace la direcci√≥n IP con la suya; no toque el puerto 8443.  Inserte el token recibido de BotFather entre "/ bot" y "/ setWebhook") en lugar de YOUR-TOKEN.  Ejecute el comando desde el directorio donde se almacenan los certificados. </p><br><pre> <code class="bash hljs">$ curl -F <span class="hljs-string"><span class="hljs-string">"url=https://35.224.231.90:8443"</span></span> -F <span class="hljs-string"><span class="hljs-string">"certificate=@url_cert.pem"</span></span> https://api.telegram.org/botYOUR-TOKEN/setWebhook</code> </pre> <br><p>  Si todo est√° correcto, recibir√° en el terminal un mensaje conciso del Telegram que indica que el webhook est√° instalado. </p><br><h4>  Registrar un webhook con el certificado "correcto" </h4><br><p>  Si no tiene un certificado autofirmado, puede instalar webhook con el siguiente comando directamente desde el navegador. </p><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">https://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">api.telegram.org</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">botYOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setWebhook</span></span></span><span class="hljs-function">?</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">url</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">https</span></span></span><span class="hljs-function">://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">YOUR.DOMAIN</span></span></span><span class="hljs-function">:8443/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">YOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span></span></code> </pre> <br><p>  Tenga en cuenta que su token se indica dos veces.  Adem√°s, es importante que YOUR.DOMAIN se especifique como se muestra en el certificado.  Por ejemplo  Registr√© el dominio mydreem.com, el registrador me emiti√≥ un certificado SSL para el dominio www.mydreem.com.  En lugar de YOUR.DOMAIN, debe especificar el √∫ltimo www.mydreem.com. </p><br><h4>  ¬øC√≥mo verificar si webhook est√° instalado? </h4><br><p>  Puede verificar si webhook est√° instalado desde el navegador con el siguiente comando: </p><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">https://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">api.telegram.org</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">botYOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getWebhookInfo</span></span></span></span></code> </pre> <br><p>  Esto funciona para todos los casos.  En respuesta, deber√≠a obtener algo como esto en caso de que el webhook est√© instalado y el bot se est√© ejecutando: </p><br><pre> <code class="dos hljs">{"ok":true,"result":{"url":"https://<span class="hljs-number"><span class="hljs-number">35</span></span>.<span class="hljs-number"><span class="hljs-number">224</span></span>.<span class="hljs-number"><span class="hljs-number">231</span></span>.<span class="hljs-number"><span class="hljs-number">90</span></span>:<span class="hljs-number"><span class="hljs-number">8443</span></span>/<span class="hljs-number"><span class="hljs-number">712308912</span></span>:DLGSteczdUnPdnNYLzNikaGOhome7l9q3vova/","has_custom_certificate":true,"pending_update_count":<span class="hljs-number"><span class="hljs-number">0</span></span>,"max_connections":<span class="hljs-number"><span class="hljs-number">40</span></span>}}</code> </pre> <br><p>  O as√≠, cuando el webhook est√° instalado, pero el bot no funciona (no se ejecuta): </p><br><pre> <code class="dos hljs">{"ok":true,"result":{"url":"https://<span class="hljs-number"><span class="hljs-number">35</span></span>.<span class="hljs-number"><span class="hljs-number">224</span></span>.<span class="hljs-number"><span class="hljs-number">231</span></span>.<span class="hljs-number"><span class="hljs-number">90</span></span>:<span class="hljs-number"><span class="hljs-number">8443</span></span>/<span class="hljs-number"><span class="hljs-number">712308912</span></span>:DLGSteczdUnPdnNYLzNikaGOhome7l9q3vova/","has_custom_certificate":true,"pending_update_count":<span class="hljs-number"><span class="hljs-number">2</span></span>,"last_error_date":<span class="hljs-number"><span class="hljs-number">1564506964</span></span>,"last_error_message":"Connection refused","max_connections":<span class="hljs-number"><span class="hljs-number">40</span></span>}}</code> </pre> <br><h4>  ¬øC√≥mo restablecer webhook? </h4><br><p>  A veces puede que necesite cambiar el certificado del bot, por ejemplo, en caso de mudarse a otro servidor (dominio).  Entonces el token permanece y el certificado cambia (el webhook se reinstala).  O se hace necesario ejecutar el bot no en el webhook, sino en el sondeo (si el webhook est√° instalado, el sondeo no funcionar√°).  En ambos casos, un comando que "restablece" el webhook es √∫til: </p><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">https://</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">api.telegram.org</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">botYOUR</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TOKEN</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setWebhook</span></span></span></span></code> </pre> <br><p>  Ahora todo est√° listo para cargar el c√≥digo al servidor y ejecutar el bot.  Si eres un maestro del juego en la l√≠nea de comando con diez dedos, entonces no ser√° dif√≠cil para ti.  Y en un minuto tu bot funcionar√°.  De lo contrario, la siguiente secci√≥n ayudar√° a facilitar un poco la tarea de cargar / descargar archivos a su servidor y administrarlos. <br></p><br><h2>  Cloud Shell o "Drop Dead Beautiful" </h2><br><p>  Como una persona lejos de la administraci√≥n del sistema, es dif√≠cil para m√≠ entender por qu√©, en la era del triunfo de la inteligencia artificial, todav√≠a nos comunicamos con los servidores de l√≠nea de comandos como en los viejos tiempos en la computadora EU / SM.  Supongamos que hay razones desconocidas para los simples mortales.  Entonces, un fen√≥meno como Cloud Shell en GCP debe ser aceptado con gran alegr√≠a.  Esta herramienta permite, aunque con muletas, pero de alguna manera facilitar el trabajo de los no iniciados.  Aunque puede hacer da√±o si no conoce algunos de los matices. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cloud Shell</a> proporciona acceso a los recursos de la nube desde la l√≠nea de comandos directamente desde el navegador.  Usted puede <del>  facil </del>  administre sus proyectos y recursos sin instalar el SDK de Google Cloud u otras herramientas en su sistema (las dos √∫ltimas oraciones se toman de su p√°gina, las tacho "f√°cilmente").  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> puede encontrar c√≥mo administrar sus proyectos desde la l√≠nea de comandos.  Pero lo principal para nosotros no es esto.  Inicie Cloud Shell (vea el gif a continuaci√≥n, tomado de google). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/si/7p/yh/si7pyhijurtp0i4ta3brjsee8yk.gif" alt="imagen"></div><br><p>  Has iniciado sesi√≥n en Cloud Shell.  Ahora, si hace clic en el bot√≥n en forma de l√°piz, se abrir√° el "editor de texto de la versi√≥n beta". </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jy/op/rt/jyoprt3zetf5mgzyoykqqwzfojs.png" width="45%" height="45%" alt="imagen"></div><br><p>  En el men√∫ "Ayuda / Acerca de", puede descubrir que es "theia-editor-for-cloudshell-preview 0.0.1".  Al final del art√≠culo no profundizar√© en las caracter√≠sticas de trabajar con este editor.  Solo destacar√© puntos clave.  Este no es solo un editor para varios idiomas (marcado solo con Python), sino tambi√©n un administrador de archivos.  Puede organizar f√°cilmente el intercambio de archivos entre Cloud Shell y su computadora local.  Puede transferir archivos y directorios dentro del espacio Cloud Shell con su mouse. </p><br><p>  Tenga en cuenta que no he escrito en ninguna parte anterior que con el editor puede editar y administrar archivos en su servidor (instancia).  Pero incluso esto es suficiente para hacernos la vida m√°s f√°cil.  Y m√°s sobre eso a continuaci√≥n.  Y ahora te contar√© algo importante sobre Cloud Shell.  Esto debe entenderse para no meterse en el desorden, como me sucedi√≥ a m√≠. </p><br><p>  Cloud Shell es un servidor basado en Debian con 5 GB de espacio en disco y 1,7 GB de RAM.  Alg√∫n software ya est√° preinstalado en √©l (incluido Python).  Cloud Shell puede confundirse f√°cilmente con su instancia, instalar conda en √©l, crear env y ejecutar el bot.  Y, si el bot est√° sondeando, entonces funcionar√°.  Si est√° en webhook, entonces no funcionar√°, ¬°porque todos los puertos en Cloud Shell est√°n cerrados!  Y cu√°ntos no abren puertos en la instancia, no aparecer√°n en Cloud Shell. </p><br><p>  Debido a mi inexperiencia juvenil y descuido, ca√≠ en esta trampa y trat√© de entender durante mucho tiempo por qu√© Telegram no ve a mi bot con un webhook.  Entonces estaba muy molesto.  Pero la esposa se calent√≥, y los hijos se tranquilizaron, y apareci√≥ este art√≠culo. </p><br><p>  Por cierto, Cloud Shell existe fuera del espacio y el tiempo (una broma cercana a la verdad).  Si elimina todas las instancias y todos los proyectos de su hogar, su Cloud Shell continuar√° existiendo durante otros 120 d√≠as con todo lo que haya cargado.  No confunda esto con la copia de seguridad de sus servidores. </p><br><p>  Entonces  Prevenido, luego armado.  Y ahora podemos hablar sobre las comodidades y conocer un par de comandos √∫tiles. </p><br><p>  Por ejemplo, si desea utilizar Cloud Shell como terminal para acceder a su servidor (por ejemplo, webhook-bot), debe activar su instancia en la l√≠nea de comandos: </p><br><pre> <code class="bash hljs">$ gcloud compute ssh webhook-bot --zone us-central1<span class="hljs-_"><span class="hljs-_">-a</span></span></code> </pre> <br><p>  Despu√©s de eso, te encuentras en la l√≠nea de comando de tu servidor.  Puede volver a Cloud Shell con el comando "salir".  Suponga que desea copiar algunos archivos de Cloud Shell a una instancia.  Para hacer esto, en el s√≠mbolo del sistema de Cloud Shell (no una instancia), escriba el siguiente comando: </p><br><pre> <code class="bash hljs">$ gcloud compute scp --recurse ~/telebot/my_favorite_robot.py webhook-bot:~/telebot --zone us-central1<span class="hljs-_"><span class="hljs-_">-a</span></span></code> </pre> <br><p>  Si cambia la fuente con el destino, se realizar√° la copia de la instancia a Cloud Shell.  En el siguiente ejemplo, copiamos el archivo "ex1.py" del directorio "/ examples" del servidor "webhook-bot" al directorio "/ telebot2" de Cloud Shell: </p><br><pre> <code class="bash hljs">$ gcloud compute scp --recurse webhook-bot:~/examples/ex1.py --zone us-central1<span class="hljs-_"><span class="hljs-_">-a</span></span> ~/telebot2</code> </pre> <br><p>  Estos y otros comandos para compartir archivos se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Puede intercambiar no solo archivos, sino tambi√©n directorios completos.  Como resultado, obtenemos el siguiente esquema que nos facilita la vida.  Desde la computadora local, copiamos archivos haciendo clic en un par de botones del mouse en Cloud Shell a trav√©s del administrador de archivos del editor "theia-editor-for-cloudshell-preview 0.0.1".  Y luego redirigimos esto a nuestro servidor (instancia) con la l√≠nea de comando.  Si necesitamos editar algo r√°pidamente, podemos hacerlo en el mismo editor en Cloud Shell y cargar archivos con el mismo comando en el servidor.  Resulta bastante r√°pido. </p><br><p>  Creo que hay formas m√°s elegantes y convenientes de intercambiar y administrar archivos para un servidor en la nube en GCP en todos los aspectos (sin instalar programas adicionales en la computadora local).  Quiz√°s a trav√©s del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">almacenamiento en la nube</a> .  Francamente, pas√© solo unas pocas horas buscando y experimentando este problema.  Por lo tanto, les agradecer√≠a que compartan sus ideas o soluciones de trabajo en los comentarios. </p><br><p>  Entonces  Subimos los archivos al servidor (instancia).  Y, si a√∫n no ha lanzado el bot, es hora de hacerlo yendo a la terminal del servidor, activando el entorno virtual necesario y escribiendo un comando como "python my_webhook_bot.py".  Todo deber√≠a funcionar.  Para que el bot contin√∫e funcionando cuando el terminal est√° cerrado, debe iniciarse en segundo plano.  Por ejemplo, "nohup python my_webhook_bot.py &amp;".  La b√∫squeda de c√≥mo sacar el proceso del fondo y completarlo, lo dejo a usted, a menos que, por supuesto, ya lo sepa. <br></p><br><h2>  Conclusi√≥n </h2><br><p>  Espero que este art√≠culo te haya sido √∫til, te ayud√≥ a ahorrar tiempo y evitar los errores que comet√≠ al escribir un bot de telegramas con webhooks y colocarlo en el servidor.  Todo lo que se describi√≥ en el art√≠culo, lo revis√© yo mismo, y al momento de escribir, julio-agosto de 2019, funcion√≥ as√≠.  Quiero expresar un agradecimiento especial a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mikhail Krutikov</a> por navegar conjuntamente en las extensiones de los servicios de GCP y por ayudar a realizar una serie de verdades importantes.  Estoy abierto a preguntas, discusiones y agradecer√© los consejos en los comentarios a este art√≠culo.  O si√©ntase libre de escribirme en Telegram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@Eduard_Lanchev</a> . </p><br><p>  Hasta el √∫ltimo momento, la pregunta estaba abierta para m√≠ si deb√≠a dar un enlace a mi bot de telegramas.  Los amigos me convencieron de que val√≠a la pena.  Puedes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">chatear</a> con mi bot en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@AelitaSoccerBot</a> .  El bot est√° al comienzo del viaje, y queda mucho trabajo por hacer.  Por lo tanto, escriba, si algo est√° mal, escriba si desea compartir su experiencia o dar consejos.  Mi gratitud no tendr√° l√≠mites dentro de l√≠mites razonables.  <em>Nota</em>  <em>A finales de 2019, el bot fue deshabilitado debido a la falta de tiempo para su soporte y desarrollo.</em> </p><br><p>  ¬°Y al final, me gustar√≠a desear √©xito a todos los botovods y mis colegas, cient√≠ficos de datos! <br></p><br><h4>  Enlaces utiles </h4><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Telegram Bot API</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ejemplos de c√≥digo de bot</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">python-telegram-bot</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pyTelegramBotAPI</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AIOGram</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ssl: contenedor TLS / SSL para objetos de socket</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Heroku</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Plataforma en la nube de Google</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Motor de c√°lculo de Google</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gu√≠a maravillosa de Marvin para todas las cosas Webhook</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conda</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Virtualenv</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Caparaz√≥n de nube</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La herramienta de l√≠nea de comandos de c√≥mputo gcloud</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Transferencia de archivos con la herramienta de l√≠nea de comandos gcloud</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Almacenamiento en la nube de Google</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/462141/">https://habr.com/ru/post/462141/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../462125/index.html">10 pasos para zam zam</a></li>
<li><a href="../462127/index.html">Seminario "Para s√≠ mismo un auditor: auditor√≠a de un proyecto de centro de datos y pruebas de aceptaci√≥n", 15 de agosto, Mosc√∫</a></li>
<li><a href="../462131/index.html">A trav√©s de espinas a un juego so√±ado</a></li>
<li><a href="../462133/index.html">Una vez m√°s sobre Chipre, los matices de la vida.</a></li>
<li><a href="../462135/index.html">Asociaci√≥n estrat√©gica: por qu√© ServiceNow se asocia con un gran proveedor de la nube</a></li>
<li><a href="../462145/index.html">¬øPor qu√© tarda varios d√≠as en darse de baja?</a></li>
<li><a href="../462147/index.html">Trabajar con la navegaci√≥n al refactorizar un proyecto heredado en React Native</a></li>
<li><a href="../462149/index.html">Modo de restricci√≥n de acceso para accesorios en dispositivos iOS y c√≥mo evitarlo</a></li>
<li><a href="../462151/index.html">5 principales distribuciones de Kubernetes</a></li>
<li><a href="../462153/index.html">Sombreadores de mapas interactivos de Unity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>