<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸª ğŸ˜‰ ğŸ“’ Apprentissage de la latence: thÃ©orie de la file d'attente ğŸ…¾ï¸ ğŸ› ğŸ•³ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le thÃ¨me de la latence dans le temps devient intÃ©ressant dans diffÃ©rents systÃ¨mes de Yandex et pas seulement. Cela se produit lorsque toute garantie d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apprentissage de la latence: thÃ©orie de la file d'attente</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/431650/">  Le thÃ¨me de la latence dans le temps devient intÃ©ressant dans diffÃ©rents systÃ¨mes de Yandex et pas seulement.  Cela se produit lorsque toute garantie de service apparaÃ®t dans ces systÃ¨mes.  Ã‰videmment, le fait est qu'il est important non seulement de promettre une opportunitÃ© aux utilisateurs, mais aussi de garantir sa rÃ©ception avec un temps de rÃ©ponse raisonnable.  La Â«rationalitÃ©Â» du temps de rÃ©ponse, bien sÃ»r, varie considÃ©rablement selon les systÃ¨mes, mais les principes de base selon lesquels la latence se manifeste dans tous les systÃ¨mes sont communs et peuvent Ãªtre considÃ©rÃ©s indÃ©pendamment des spÃ©cificitÃ©s. <br><br>  Je m'appelle Sergey Trifonov, je travaille dans l'Ã©quipe de Real-Time Map Reduce de Yandex.  Nous dÃ©veloppons une plate-forme pour le traitement des flux de donnÃ©es en temps rÃ©el avec des temps de rÃ©ponse en seconde et sous-seconde.  La plate-forme est disponible pour les utilisateurs internes et leur permet d'exÃ©cuter du code d'application sur des flux de donnÃ©es entrants en permanence.  Je vais essayer de donner un bref aperÃ§u des concepts de base de l'humanitÃ© sur le sujet de l'analyse de la latence au cours des cent dix derniÃ¨res annÃ©es, et maintenant nous allons essayer de comprendre ce qui peut Ãªtre appris exactement sur la latence en utilisant la thÃ©orie des files d'attente. <br><a name="habracut"></a><br>  Le phÃ©nomÃ¨ne de latence a commencÃ© Ã  Ãªtre systÃ©matiquement Ã©tudiÃ©, Ã  ma connaissance, dans le cadre de l'avÃ¨nement des systÃ¨mes de files d'attente - les rÃ©seaux de communication tÃ©lÃ©phonique.  La thÃ©orie de la file d'attente a commencÃ© avec les travaux de A.K. Erlang en 1909, dans lesquels il a montrÃ© que la distribution de Poisson est applicable au trafic tÃ©lÃ©phonique alÃ©atoire.  Erlang a dÃ©veloppÃ© une thÃ©orie qui a Ã©tÃ© utilisÃ©e pendant des dÃ©cennies pour concevoir des rÃ©seaux tÃ©lÃ©phoniques.  La thÃ©orie nous permet de dÃ©terminer la probabilitÃ© d'un dÃ©ni de service.  Pour les rÃ©seaux tÃ©lÃ©phoniques avec des canaux Ã  commutation de circuits, une dÃ©faillance s'est produite si tous les canaux sont occupÃ©s et que l'appel ne peut pas Ãªtre effectuÃ©.  La probabilitÃ© de cet Ã©vÃ©nement devait Ãªtre contrÃ´lÃ©e.  Je voulais avoir la garantie que, par exemple, 95% de tous les appels seraient traitÃ©s.  Les formules d'Erlang permettent de dÃ©terminer le nombre de serveurs nÃ©cessaires pour remplir cette garantie si la durÃ©e et le nombre d'appels sont connus.  En fait, cette tÃ¢che ne concerne que les garanties de qualitÃ©, et aujourd'hui, les gens rÃ©solvent encore des problÃ¨mes similaires.  Mais les systÃ¨mes sont devenus beaucoup plus complexes.  Le principal problÃ¨me de la thÃ©orie des files d'attente est qu'elle n'est pas enseignÃ©e dans la plupart des institutions, et peu de gens comprennent la question en dehors de la file d'attente M / M / 1 habituelle (voir la notation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ci-dessous</a> ), mais il est bien connu que la vie est beaucoup plus compliquÃ©e que ce systÃ¨me.  Je vous propose donc, en contournant M / M / 1, de passer immÃ©diatement au plus intÃ©ressant. <br><br><h2>  Valeurs moyennes </h2><br>  Si vous n'essayez pas d'acquÃ©rir une connaissance complÃ¨te de la distribution de probabilitÃ© dans le systÃ¨me, mais que vous vous concentrez sur des questions plus simples, vous pouvez obtenir des rÃ©sultats intÃ©ressants et utiles.  Le plus cÃ©lÃ¨bre d'entre eux est bien sÃ»r <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le thÃ©orÃ¨me de Little</a> .  Il est applicable Ã  un systÃ¨me avec n'importe quel flux d'entrÃ©e, un pÃ©riphÃ©rique interne de toute complexitÃ© et un ordonnanceur arbitraire Ã  l'intÃ©rieur.  La seule exigence est que le systÃ¨me doit Ãªtre stable: des temps de rÃ©ponse moyens et des longueurs de file d'attente doivent exister, puis ils sont connectÃ©s par une simple expression <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;">l </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;">m </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8"><font style="vertical-align: inherit;">b </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;">d </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;">W</font></span></font><span class="MJXp-mtext" id="MJXp-Span-4">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.104ex" height="2.057ex" viewBox="0 -780.1 6503.1 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMAIN-3D" x="959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-6C" x="2265" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-61" x="2564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-6D" x="3093" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-62" x="3972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-64" x="4401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-61" x="4925" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-57" x="5454" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> L = \ lambda W </script></p>  oÃ¹ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-12"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.057ex" viewBox="0 -780.1 681.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-4C" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> L </script>  - le nombre moyen de demandes dans la partie considÃ©rÃ©e du systÃ¨me [pcs], <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-57" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> W </script>  - le temps moyen pendant lequel les demandes transitent par cette partie du ou des systÃ¨mes, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-16"><span class="MJXp-mtext" id="MJXp-Span-17">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.987ex" height="2.057ex" viewBox="0 -780.1 3439 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-6C" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-61" x="548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-6D" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-62" x="1956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-64" x="2386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-61" x="2909" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ lambda </script>  - la vitesse de rÃ©ception des demandes au systÃ¨me [pcs / s].  La force du thÃ©orÃ¨me est qu'il peut Ãªtre appliquÃ© Ã  n'importe quelle partie du systÃ¨me: file d'attente, exÃ©cuteur, file d'attente + exÃ©cuteur ou l'ensemble du rÃ©seau.  Souvent, ce thÃ©orÃ¨me est utilisÃ© approximativement comme ceci: "Un flux de 1 Gbit / s se dÃ©verse vers nous, et nous avons mesurÃ© le temps de rÃ©ponse moyen, et il est de 10 ms, donc, en moyenne, nous avons 1,25 Mo en vol."  Donc, ce calcul n'est pas vrai.  Plus prÃ©cisÃ©ment, cela n'est vrai que si toutes les demandes ont la mÃªme taille en octets.  Le thÃ©orÃ¨me de Little compte les requÃªtes en morceaux, pas en octets. <br><br><h3>  Comment utiliser le thÃ©orÃ¨me de Little </h3><br><img align="right" src="https://habrastorage.org/webt/zo/os/ls/zooslslr9rwcrzt9mp8dsrokhcu.png">  En mathÃ©matiques, il est souvent nÃ©cessaire d'Ã©tudier des donnÃ©es probantes pour avoir une rÃ©elle idÃ©e.  C'est juste le cas.  Le thÃ©orÃ¨me de Little est si bon que je donne ici un croquis de la preuve.  Le trafic entrant est dÃ©crit par la fonction <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A </font></font></span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.392ex" height="2.66ex" viewBox="0 -832 1891 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMAIN-28" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-74" x="1140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMAIN-29" x="1501" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> A (t) </script>  - le nombre de demandes connectÃ©es Ã  l'Ã©poque <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.84ex" height="1.937ex" viewBox="0 -728.2 361.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-74" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> t </script>  .  De mÃªme <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-35" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.573ex" height="2.66ex" viewBox="0 -832 1969 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMAIN-28" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMATHI-74" x="1218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431650/&amp;usg=ALkJrhiMtZ3J1Rxvfb7lhKLch9UL3NwyYA#MJMAIN-29" x="1579" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> D (t) </script>  - le nombre de demandes dÃ©connectÃ©es Ã  ce moment <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-36"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8"> t </script>  .  Le moment d'entrÃ©e (sortie) de la demande est considÃ©rÃ© comme le moment de rÃ©ception (transmission) de son dernier octet.  Les limites du systÃ¨me ne sont dÃ©terminÃ©es que par ces points dans le temps, par consÃ©quent, le thÃ©orÃ¨me est largement applicable.  Si vous dessinez des graphiques de ces fonctions dans les mÃªmes axes, il est facile de voir que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-38"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A </font></font></span><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-42" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span><span class="MJXp-mo" id="MJXp-Span-43" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font></span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> A (t) - D (t) </script>  Est le nombre de demandes dans le systÃ¨me au temps t, et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-48"><span class="MJXp-msubsup" id="MJXp-Span-49"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-51" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> W_n </script>  - temps de rÃ©ponse de la niÃ¨me requÃªte. <br><br>  Le thÃ©orÃ¨me n'a Ã©tÃ© formellement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prouvÃ©</a> qu'en 1961, bien que la relation elle-mÃªme Ã©tait connue bien avant cela. <br><br>  En fait, si les demandes peuvent Ãªtre rÃ©organisÃ©es dans le systÃ¨me, alors tout est un peu plus compliquÃ©, donc pour simplifier, nous supposerons que cela ne se produit pas.  Bien que le thÃ©orÃ¨me soit Ã©galement vrai dans ce cas.  Calculons maintenant la zone entre les graphiques.  Il y a deux faÃ§ons de procÃ©der.  Tout d'abord, selon les colonnes - comme le pensent gÃ©nÃ©ralement les intÃ©grales.  Dans ce cas, il s'avÃ¨re que l'intÃ©grande est la taille de la file d'attente en morceaux.  DeuxiÃ¨mement, ligne par ligne - en ajoutant simplement la latence de toutes les demandes.  Il est clair que les deux calculs donnent la mÃªme zone, ils sont donc Ã©gaux.  Si les deux parties de cette Ã©galitÃ© sont divisÃ©es par le temps Î”t, pour lequel nous avons calculÃ© l'aire, alors Ã  gauche nous aurons la longueur moyenne de la file d'attente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-52"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> L </script>  (par dÃ©finition de la moyenne).  Ã€ droite, c'est un peu plus dÃ©licat.  Nous devons ajouter un autre nombre de requÃªtes N au numÃ©rateur et au dÃ©nominateur, puis nous rÃ©ussirons <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-54"><span class="MJXp-mtext" id="MJXp-Span-55">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">c</span><span class="MJXp-mrow" id="MJXp-Span-60"><span class="MJXp-mtext" id="MJXp-Span-61">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">m</span><span class="MJXp-msubsup" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66" style="margin-right: 0.05em;">W</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-67" style="vertical-align: -0.4em;">i</span></span></span><span class="MJXp-mrow" id="MJXp-Span-68"><span class="MJXp-mtext" id="MJXp-Span-69">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">t</span></span><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-77">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">c</span><span class="MJXp-mrow" id="MJXp-Span-82"><span class="MJXp-mtext" id="MJXp-Span-83">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">m</span><span class="MJXp-msubsup" id="MJXp-Span-87"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88" style="margin-right: 0.05em;">W</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-89" style="vertical-align: -0.4em;">i</span></span></span><span class="MJXp-mrow" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">N</span></span><span class="MJXp-mtext" id="MJXp-Span-92">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">c</span><span class="MJXp-mrow" id="MJXp-Span-97"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">N</span></span><span class="MJXp-mrow" id="MJXp-Span-99"><span class="MJXp-mtext" id="MJXp-Span-100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">t</span></span><span class="MJXp-mo" id="MJXp-Span-107" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">W</span><span class="MJXp-mtext" id="MJXp-Span-109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">a</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ frac {\ sum W_i} {\ Delta t} = \ frac {\ sum W_i} {N} \ frac {N} {\ Delta t} = W \ lambda </script></p>  Si nous considÃ©rons suffisamment grand Î”t ou une pÃ©riode d'emploi, les questions aux bords sont supprimÃ©es et le thÃ©orÃ¨me peut Ãªtre considÃ©rÃ© comme prouvÃ©. <br><br>  Il est important de dire que dans la preuve, nous n'avons utilisÃ© aucune distribution de probabilitÃ©s.  En fait, le thÃ©orÃ¨me de Little est une loi dÃ©terministe!  De telles lois sont appelÃ©es dans la thÃ©orie des files d'attente du droit opÃ©rationnel.  Ils peuvent Ãªtre appliquÃ©s Ã  toutes les parties du systÃ¨me et Ã  toutes les distributions de diverses variables alÃ©atoires.  Ces lois forment un constructeur qui peut Ãªtre utilisÃ© avec succÃ¨s pour analyser les valeurs moyennes dans les rÃ©seaux.  L'inconvÃ©nient est qu'ils s'appliquent tous uniquement aux moyennes et ne fournissent aucune connaissance sur les distributions. <br><br>  Revenant Ã  la question de savoir pourquoi le thÃ©orÃ¨me de Little ne peut pas Ãªtre appliquÃ© aux octets, supposons que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">A</span><span class="MJXp-mo" id="MJXp-Span-118" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">t</span><span class="MJXp-mo" id="MJXp-Span-120" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> A (t) </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">D</span><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">t</span><span class="MJXp-mo" id="MJXp-Span-125" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> D (t) </script>  maintenant, ils sont mesurÃ©s non pas en morceaux, mais en octets.  Ensuite, en conduisant un argument similaire, nous obtenons Ã  la place <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> W </script>  ce qui est Ã©trange, c'est la surface divisÃ©e par le nombre total d'octets.  C'est encore quelques secondes, mais c'est un peu une latence moyenne pondÃ©rÃ©e oÃ¹ les demandes plus importantes obtiennent plus de poids.  Cette valeur peut Ãªtre appelÃ©e la latence moyenne de l'octet - qui, en gÃ©nÃ©ral, est logique, car nous avons remplacÃ© les morceaux par des octets - mais pas la latence de la demande. <br><br>  Le thÃ©orÃ¨me de Little dit qu'avec un certain flux de demandes, le temps de rÃ©ponse et le nombre de demandes dans le systÃ¨me sont proportionnels.  Si toutes les demandes se ressemblent, le temps de rÃ©ponse moyen ne peut pas Ãªtre rÃ©duit sans augmenter la puissance.  Si nous connaissons la taille des requÃªtes Ã  l'avance, nous pouvons essayer de les rÃ©organiser Ã  l'intÃ©rieur pour rÃ©duire la zone entre <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">A</span><span class="MJXp-mo" id="MJXp-Span-130" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">t</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> A (t) </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">D</span><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">t</span><span class="MJXp-mo" id="MJXp-Span-137" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> D (t) </script>  et donc le temps de rÃ©ponse moyen du systÃ¨me.  Poursuivant cette idÃ©e, nous pouvons prouver que les algorithmes de temps de traitement le plus court et de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">temps de traitement</a> restant le plus court donnent un temps de rÃ©ponse moyen minimum pour un serveur sans possibilitÃ© d'Ã©viction, respectivement.  Mais il y a un effet secondaire - les demandes importantes peuvent ne pas Ãªtre traitÃ©es indÃ©finiment.  Le phÃ©nomÃ¨ne est appelÃ© Â«famineÂ» et est Ã©troitement liÃ© au concept d'Ã©quitÃ© de la planification, qui peut Ãªtre tirÃ© d'un prÃ©cÃ©dent article sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">planification: mythes et rÃ©alitÃ©</a> . <br><br>  Il existe un autre piÃ¨ge commun associÃ© Ã  la comprÃ©hension de la loi de Little.  Il existe un serveur Ã  thread unique qui rÃ©pond aux demandes des utilisateurs.  Supposons que nous mesurions en quelque sorte L - le nombre moyen de demandes dans la file d'attente pour ce serveur, et S - la durÃ©e moyenne pendant laquelle le serveur a traitÃ© une demande.  ConsidÃ©rons maintenant une nouvelle demande entrante.  En moyenne, il voit L requÃªtes devant lui.  Servir chacun d'eux prend en moyenne S secondes.  Il s'avÃ¨re que le temps d'attente moyen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">W</span><span class="MJXp-mo" id="MJXp-Span-140" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> W = L S </script>  .  Mais par le thÃ©orÃ¨me, il s'avÃ¨re que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-143"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">W</span><span class="MJXp-mo" id="MJXp-Span-145" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">L</span><span class="MJXp-mrow" id="MJXp-Span-147"><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-149">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> W = L / \ lambda </script>  .  Si nous Ã©galisons les expressions, alors nous voyons le non-sens: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">S</span><span class="MJXp-mo" id="MJXp-Span-158" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-159">1</span><span class="MJXp-mrow" id="MJXp-Span-160"><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-162">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> S = 1 / \ lambda </script>  .  Quel est le problÃ¨me avec ce raisonnement? <br><br><ol><li>  La premiÃ¨re chose qui attire votre attention: le temps de rÃ©ponse par le thÃ©orÃ¨me ne dÃ©pend pas de S. En fait, bien sÃ»r, il le fait.  Seule la longueur moyenne de la file d'attente en tient dÃ©jÃ  compte: plus le serveur est rapide, plus la longueur de la file d'attente est courte et plus le temps de rÃ©ponse est court. </li><li>  Nous considÃ©rons un systÃ¨me dans lequel les files d'attente ne s'accumulent pas indÃ©finiment, mais sont rÃ©guliÃ¨rement rÃ©initialisÃ©es.  Cela signifie que l'utilisation du serveur est infÃ©rieure Ã  100% et nous ignorons toutes les demandes entrantes, et Ã  la mÃªme vitesse moyenne avec laquelle ces demandes sont arrivÃ©es, ce qui signifie qu'en moyenne, il ne faut pas S secondes, mais plus, pour traiter une demande <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-169"><span class="MJXp-mn" id="MJXp-Span-170">1</span><span class="MJXp-mrow" id="MJXp-Span-171"><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-173">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> 1 / \ lambda </script>  secondes, simplement parce que parfois nous ne traitons aucune demande.  Le fait est que dans tout systÃ¨me ouvert stable sans perte, le dÃ©bit ne dÃ©pend pas de la vitesse des serveurs, il est dÃ©terminÃ© uniquement par le flux d'entrÃ©e. </li><li>  L'hypothÃ¨se qu'une demande entrante voit dans le systÃ¨me un nombre moyen de demandes dans le temps n'est pas toujours vraie.  Contre-exemple: les demandes entrantes arrivent pÃ©riodiquement et nous parvenons Ã  traiter chaque demande avant l'arrivÃ©e de la suivante.  Une image typique pour les systÃ¨mes en temps rÃ©el.  Une demande entrante voit toujours zÃ©ro demande dans le systÃ¨me, mais en moyenne, le systÃ¨me a Ã©videmment plus de zÃ©ro demande.  Si les demandes arrivent Ã  des moments complÃ¨tement alÃ©atoires, alors elles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"voient</a> vraiment <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le nombre moyen de demandes"</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ic/f2/10/icf210vybpp_wuwzbe4vh2xlkmw.png"></div></li><li>  Nous n'avons pas tenu compte du fait qu'avec une certaine probabilitÃ©, il peut dÃ©jÃ  y avoir une demande dans le serveur qui doit Ãªtre Â«Ã©tendueÂ».  Dans le cas gÃ©nÃ©ral, la durÃ©e moyenne de Â«l'aprÃ¨s-serviceÂ» diffÃ¨re de la durÃ©e initiale du service, et parfois, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">paradoxalement</a> , elle peut s'avÃ©rer beaucoup plus longue.  Nous reviendrons sur ce problÃ¨me Ã  la fin lorsque nous discuterons des microrafales, restez Ã  l'Ã©coute. </li></ol><br>  Ainsi, le thÃ©orÃ¨me de Little peut Ãªtre appliquÃ© aux grands et petits systÃ¨mes, aux files d'attente, aux serveurs et aux threads de traitement uniques.  Mais dans tous ces cas, les demandes sont gÃ©nÃ©ralement classÃ©es d'une maniÃ¨re ou d'une autre.  Demandes d'utilisateurs diffÃ©rents, demandes de prioritÃ©s diffÃ©rentes, demandes provenant de diffÃ©rents emplacements ou demandes de types diffÃ©rents.  Dans ce cas, les informations agrÃ©gÃ©es par classes ne sont pas intÃ©ressantes.  Oui, le nombre moyen de demandes mixtes et le temps de rÃ©ponse moyen pour toutes sont Ã  nouveau proportionnels.  Mais que se passe-t-il si nous voulons connaÃ®tre le temps de rÃ©ponse moyen pour une certaine classe de demandes?  Ã‰tonnamment, le thÃ©orÃ¨me de Little peut Ãªtre appliquÃ© Ã  une classe spÃ©cifique de requÃªtes.  Dans ce cas, vous devez prendre <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-180"><span class="MJXp-mtext" id="MJXp-Span-181">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> \ lambda </script>  Le taux auquel cette classe demande, pas tous.  En tant que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">L</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> L </script>  et <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">W</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> W </script>  - valeurs moyennes du nombre et du temps de sÃ©jour des demandes de cette classe dans la partie enquÃªtÃ©e du systÃ¨me. <br><br><h3>  SystÃ¨mes ouverts et fermÃ©s </h3><br><img align="right" src="https://habrastorage.org/webt/qf/kt/nx/qfktnxdcrkxahfeyooqy2hb47au.png">  Il convient de noter que pour les systÃ¨mes fermÃ©s, le Â«mauvaisÂ» raisonnement menant Ã  la conclusion <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">S</span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-195">1</span><span class="MJXp-mrow" id="MJXp-Span-196"><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-198">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> S = 1 / \ lambda </script>  se rÃ©vÃ¨le Ãªtre vrai.  Les systÃ¨mes fermÃ©s sont les systÃ¨mes dans lesquels les demandes ne viennent pas de l'extÃ©rieur et ne vont pas Ã  l'extÃ©rieur, mais circulent Ã  l'intÃ©rieur.  Ou, sinon, les systÃ¨mes de rÃ©troaction: dÃ¨s que la demande quitte le systÃ¨me, une nouvelle demande prend sa place.  Ces systÃ¨mes sont Ã©galement importants car tout systÃ¨me ouvert peut Ãªtre considÃ©rÃ© comme immergÃ© dans un systÃ¨me fermÃ©.  Par exemple, vous pouvez considÃ©rer le site comme un systÃ¨me ouvert, dans lequel les demandes sont constamment versÃ©es, traitÃ©es et retirÃ©es, ou, au contraire, comme un systÃ¨me fermÃ© avec l'ensemble de l'audience du site.  Ensuite, ils disent gÃ©nÃ©ralement que le nombre d'utilisateurs est fixe, et ils attendent une rÃ©ponse Ã  la demande ou Â«rÃ©flÃ©chissentÂ»: ils ont reÃ§u leur page et n'ont pas encore cliquÃ© sur le lien.  Dans le cas oÃ¹ le temps de rÃ©flexion est toujours nul, le systÃ¨me est Ã©galement appelÃ© systÃ¨me batch. <br><br>  La loi de Little pour les systÃ¨mes fermÃ©s est valable si la vitesse des arrivÃ©es extÃ©rieures <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-205"><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> \ lambda </script>  (ils ne sont pas dans un systÃ¨me fermÃ©) remplacer par la bande passante du systÃ¨me.  Si nous enveloppons le serveur monothread discutÃ© ci-dessus dans un systÃ¨me batch, nous obtenons <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-213"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">S</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-216">1</span><span class="MJXp-mrow" id="MJXp-Span-217"><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-219">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> S = 1 / \ lambda </script>  et 100% de recyclage.  Souvent, un tel regard sur le systÃ¨me donne des rÃ©sultats inattendus.  Dans les annÃ©es 90, c'est prÃ©cisÃ©ment cette vision de l'Internet avec les utilisateurs en tant que systÃ¨me unique qui a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">donnÃ© une impulsion</a> Ã  l'Ã©tude de distributions autres qu'exponentielles.  Nous discuterons des distributions plus loin, mais ici, nous notons qu'Ã  cette Ã©poque, presque tout et partout Ã©tait considÃ©rÃ© comme exponentiel, et cela a mÃªme Ã©tÃ© trouvÃ© une justification, et pas seulement une excuse dans l'esprit de "sinon trop compliquÃ©".  Cependant, il s'est avÃ©rÃ© que toutes les distributions pratiquement importantes n'ont pas la mÃªme queue, et la connaissance des queues de distribution peut Ãªtre essayÃ©e.  Mais pour l'instant, revenons aux valeurs moyennes. <br><br><h3>  Effets relativistes </h3><br>  Supposons que nous ayons un systÃ¨me ouvert: un rÃ©seau complexe ou un simple serveur Ã  thread unique - cela n'a pas d'importance.  Qu'est-ce qui changera si nous doublons l'arrivÃ©e des demandes et accÃ©lÃ©rons leur traitement de moitiÃ© - par exemple, en doublant la capacitÃ© de tous les composants du systÃ¨me?  Comment l'utilisation, le dÃ©bit, le nombre moyen de demandes dans le systÃ¨me et le temps de rÃ©ponse moyen changeront-ils?  Pour un serveur Ã  thread unique, vous pouvez essayer de prendre les formules, les appliquer "sur le front" et obtenir les rÃ©sultats, mais que faire avec un rÃ©seau arbitraire?  La solution intuitive est la suivante.  Supposons que le temps soit doublÃ©, alors dans notre Â«rÃ©fÃ©rentiel accÃ©lÃ©rÃ©Â» la vitesse des serveurs et le flux des requÃªtes ne semblent pas changer;  en consÃ©quence, tous les paramÃ¨tres en temps accÃ©lÃ©rÃ© ont les mÃªmes valeurs qu'auparavant.  En d'autres termes, l'accÃ©lÃ©ration de toutes les "piÃ¨ces mobiles" de tout systÃ¨me Ã©quivaut Ã  l'accÃ©lÃ©ration de l'horloge.  Nous allons maintenant convertir les valeurs en un systÃ¨me avec un temps normal.  Les quantitÃ©s sans dimension (utilisation et nombre moyen de demandes) ne changeront pas.  Les valeurs dont la dimension comprend des facteurs temporels du premier degrÃ© varient proportionnellement.  Le dÃ©bit de [requÃªtes / s] sera doublÃ©, et les temps de rÃ©ponse et d'attente [s] seront divisÃ©s par deux. <br><br>  Ce rÃ©sultat peut Ãªtre interprÃ©tÃ© de deux maniÃ¨res: <br><br><ol><li>  Un systÃ¨me accÃ©lÃ©rÃ© par k fois peut digÃ©rer le flux de tÃ¢ches k fois plus, et avec un temps de rÃ©ponse moyen k fois moins. </li><li>  On peut dire que la puissance n'a pas changÃ©, mais simplement que la taille des tÃ¢ches a diminuÃ© k fois.  Il s'avÃ¨re que nous envoyons la mÃªme charge au systÃ¨me, mais sciÃ©e en plus petits morceaux.  Et ... oh, un miracle!  Le temps de rÃ©ponse moyen est rÃ©duit! </li></ol><br>  Encore une fois, je note que cela est vrai pour une large classe de systÃ¨mes, et pas seulement pour un simple serveur.  D'un point de vue pratique, il n'y a que deux problÃ¨mes: <br><br><ol><li>  Toutes les parties du systÃ¨me ne peuvent pas Ãªtre facilement accÃ©lÃ©rÃ©es.  Nous ne pouvons pas en influencer du tout.  Par exemple, la vitesse de la lumiÃ¨re. </li><li>  Toutes les tÃ¢ches ne peuvent pas Ãªtre divisÃ©es Ã  l'infini en plus petites et plus petites, car aucune information n'a Ã©tÃ© apprise pour Ãªtre transfÃ©rÃ©e par portions de moins d'un bit. </li></ol><br>  ConsidÃ©rez le passage Ã  la limite.  Supposons, dans le mÃªme systÃ¨me ouvert, l'interprÃ©tation n Â° 2. Nous divisons chaque demande entrante en deux.  Le temps de rÃ©ponse est Ã©galement divisÃ© par deux.  RÃ©pÃ©tez la division plusieurs fois.  Et nous n'avons mÃªme pas besoin de changer quoi que ce soit dans le systÃ¨me.  Il s'avÃ¨re que vous pouvez rÃ©duire arbitrairement le temps de rÃ©ponse en sciant simplement les demandes entrantes en un nombre suffisamment important de piÃ¨ces.  Ã€ la limite, nous pouvons dire qu'au lieu de requÃªtes, nous obtenons un Â«fluide de requÃªteÂ», que nous filtrons par nos serveurs.  Il s'agit du modÃ¨le dit fluide, un outil trÃ¨s pratique pour une analyse simplifiÃ©e.  Mais pourquoi le temps de rÃ©ponse est-il nul?  Qu'est-ce qui a mal tournÃ©?  OÃ¹ n'avons-nous pas considÃ©rÃ© la latence?  Il s'avÃ¨re que nous n'avons pas pris en compte uniquement la vitesse de la lumiÃ¨re, elle ne peut pas Ãªtre doublÃ©e.  Le temps de propagation dans le canal rÃ©seau ne peut pas Ãªtre modifiÃ©, vous ne pouvez que le supporter.  En fait, la transmission sur un rÃ©seau comprend deux composantes: le temps de transmission et le temps de propagation.  Le premier peut Ãªtre accÃ©lÃ©rÃ© en augmentant la puissance (largeur du canal) ou en rÃ©duisant la taille des paquets, et le second est trÃ¨s difficile Ã  influencer.  Dans notre Â«modÃ¨le liquideÂ», il n'y avait tout simplement pas de rÃ©servoirs pour l'accumulation de liquides - des canaux de rÃ©seau avec des temps de propagation non nuls et constants.  Soit dit en passant, si nous les ajoutons Ã  notre Â«modÃ¨le liquideÂ», la latence sera dÃ©terminÃ©e par la somme des temps de propagation, et les files d'attente dans les nÅ“uds seront toujours vides.  Les files d'attente dÃ©pendent uniquement de la taille des paquets et de la variabilitÃ© (lecture en rafale) du flux d'entrÃ©e. <br><br>  Il s'ensuit qu'en matiÃ¨re de latence, vous ne pouvez pas vous dÃ©brouiller avec le calcul des flux, et mÃªme le recyclage des appareils ne rÃ©sout pas tout.  Il est nÃ©cessaire de prendre en compte la taille des demandes et de ne pas oublier le temps de distribution, qui est souvent ignorÃ© dans la thÃ©orie des files d'attente, bien que l'ajouter aux calculs ne soit pas du tout difficile. <br><br><h2>  Distributions </h2><br>  Quelle est la raison de la mise en file d'attente?  De toute Ã©vidence, le systÃ¨me n'a pas assez de capacitÃ©, et l'excÃ¨s de demandes s'accumule?  Pas vrai!  Des files d'attente surviennent Ã©galement dans les systÃ¨mes oÃ¹ les ressources sont suffisantes.  S'il n'y a pas assez de capacitÃ©, alors le systÃ¨me, comme disent les thÃ©oriciens, n'est pas stable.  Il y a deux raisons principales Ã  la mise en file d'attente: l'irrÃ©gularitÃ© des demandes et la variabilitÃ© de la taille des demandes.  Nous avons dÃ©jÃ  examinÃ© un exemple dans lequel ces deux raisons ont Ã©tÃ© Ã©liminÃ©es: un systÃ¨me en temps rÃ©el oÃ¹ les demandes de mÃªme taille arrivent strictement pÃ©riodiquement.  Une file d'attente ne se forme jamais.  Le temps d'attente moyen dans la file d'attente est nul. ,      ,   ,    .      ,           . <br><br><img align="right" src="https://habrastorage.org/webt/i2/7m/an/i27man45re8dartbkru28x4mntc.png">      <a name="Kendall"></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> A/S/k/K,  A â€”    , S â€”   , k â€”  , K â€”        (,   ). ,   M/M/1  :  M (Markovian  Memoryless) ,         . :           <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-226"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">Î»</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28">\lambda</script>    â€”      â€” ,  :        .  M ,             Î¼   .  ,    ,     .   ,   4-   . ,     ,   : G â€”   (,  ,     ), D â€” deterministic. C   â€” D/D/1.     ,     1909 ., â€” M/D/1.       â€” M/G/k  k&gt;1,    M/G/1    1930-. <br><br><h3>    ? </h3><br><img align="right" src="https://habrastorage.org/webt/zu/qk/yn/zuqkynemodd0x-8szhlclg3ltby.png">    ,         , ,    ,     ,       .        ,      .        ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">failure rate</a> . ,     ,          :        ,             .         failure rate function,      .  ,  Â«Â»     ,      .       ,   :      ,      . ,  failure rate â€” ,          ,       - ,      â€” .   ,  ,   ,   ,      ,           .    Â« Â». <br><br><h3>     </h3><br> Failure rate     .     â€”     . Failure rate ,      ,   ,    .     failure rate,     ,   ,    .     failure rate,     ,   ,      .   ,          ,    ,   software  hardware?  :    ?    .      ,    ,   -   .         ?     ,   â€”  .       ( failure rate)       .   Â« Â» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>     . <br><br> ,        ,    failure rate,    , ,      unix-     .    ,     . <br><br> RTMR       ,      .   LWTrace     -   .       .     ,                    .     ,     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-228"><span class="MJXp-mrow" id="MJXp-Span-229"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-230">P</span></span><span class="MJXp-mo" id="MJXp-Span-231" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">S</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">x</span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29">\mathbf{P}\{S>x\}</script>    .  ,    failure rate   ,       ,       :    . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/ij/bk/d6ijbk59mdiphlalbk_4zwysv1i.png"></div><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-236"><span class="MJXp-mrow" id="MJXp-Span-237"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-238">P</span></span><span class="MJXp-mo" id="MJXp-Span-239" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">S</span><span class="MJXp-mo" id="MJXp-Span-241" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">x</span><span class="MJXp-mo" id="MJXp-Span-243" style="margin-left: 0em; margin-right: 0em;">}</span><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-245"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-247" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-248">âˆ’</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">a</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30">\mathbf{P}\{S>x\} = x^{-a}</script> ,       â€”   .    ,     Â« Â»,  80/20:    ,      . .        ,       .  ,  RTMR   -,    ,   .  ParamÃ¨tre <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">a</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-253">1.16</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31">a=1.16</script> ,    80/20:  20%   80% . <br><br><h3>   </h3><br><img align="right" src="https://habrastorage.org/webt/wz/gx/vf/wzgxvfrwv40djjn8xm6fi73yilg.png">       ,   .           .   ,  ,    ,         -  .      ,   â€”     .  Â« Â»     ,   Â« Â» â€” . :  ,      ? ,      ( ,  ),           .    ,   0  .        , ,     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">Î¼</span><span class="MJXp-msubsup" id="MJXp-Span-256"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-258" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32">\mu N_1</script>        <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-259"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">Î»</span><span class="MJXp-msubsup" id="MJXp-Span-261"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-263" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33">\lambda N_0</script>  .  ,     ,    â€”   .         .       ,        .      M/M/1   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-264"><span class="MJXp-mrow" id="MJXp-Span-265"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-266">P</span></span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">Q</span><span class="MJXp-mo" id="MJXp-Span-269" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">i</span><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0em; margin-right: 0em;">}</span><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-273" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-274">1</span><span class="MJXp-mo" id="MJXp-Span-275" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">Ï</span><span class="MJXp-mo" id="MJXp-Span-277" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-278"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279" style="margin-right: 0.05em;">Ï</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-280" style="vertical-align: 0.5em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34">\mathbf{P}\{Q=i\} = (1 - \rho) \rho^i</script>  oÃ¹ <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-281"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">Ï</span><span class="MJXp-mo" id="MJXp-Span-283" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">Î»</span><span class="MJXp-mrow" id="MJXp-Span-285"><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">Î¼</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">\rho = \lambda / \mu</script>  - C'est l'utilisation du serveur.  La fin de l'histoire.  Au cours de la prÃ©sentation, j'ai ratÃ© une quantitÃ© dÃ©cente d'hypothÃ¨ses et j'ai fait quelques substitutions de concepts, mais l'essence, je l'espÃ¨re, n'a pas souffert. <br><br>  Il est important de comprendre que cette approche ne fonctionne que si l'Ã©tat actuel de la machine dÃ©termine pleinement son comportement ultÃ©rieur, et l'histoire de la faÃ§on dont elle est entrÃ©e dans cet Ã©tat n'est pas importante.  Pour la comprÃ©hension quotidienne d'une machine Ã  Ã©tats finis, cela va de soi - aprÃ¨s tout, c'est une condition pour cela.  Mais pour un processus stochastique, il en rÃ©sulte que toutes les distributions doivent Ãªtre exponentielles, car seules elles n'ont pas de mÃ©moire - elles ont un taux d'Ã©chec constant. <br><br><img width="400" align="right" src="https://habrastorage.org/webt/fo/ug/wo/fougwontl8vtxbrameivs1lware.png">  Il est Ã©galement important de dire que toutes les autres informations sur le systÃ¨me sont faciles Ã  obtenir si nous connaissons la distribution d'Ã©quilibre.  Le nombre moyen de requÃªtes dans le systÃ¨me est la moyenne de cette distribution.  Pour connaÃ®tre le temps de rÃ©ponse moyen, nous appliquons le thÃ©orÃ¨me de Little au nombre de requÃªtes.  La distribution du temps de rÃ©ponse est un peu plus difficile Ã  trouver, mais aussi en quelques actions vous pouvez dÃ©couvrir que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-288"><span class="noError" id="MJXp-Span-289" style="display: inline-block;">\&nbsp;mathbf&nbsp;{P}&nbsp;\&nbsp;{response&nbsp;\&nbsp;_time&gt;&nbsp;t&nbsp;\}&nbsp;=&nbsp;e&nbsp;^&nbsp;{-&nbsp;(\&nbsp;mu-&nbsp;\&nbsp;lambda)&nbsp;t}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ mathbf {P} \ {response \ _time> t \} = e ^ {- (\ mu- \ lambda) t} </script>  et quel est le temps de rÃ©ponse moyen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-290"><span class="MJXp-mn" id="MJXp-Span-291">1</span><span class="MJXp-mrow" id="MJXp-Span-292"><span class="MJXp-mo" id="MJXp-Span-293" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-294" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-295">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">u</span><span class="MJXp-mo" id="MJXp-Span-298" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mtext" id="MJXp-Span-299">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">a</span><span class="MJXp-mo" id="MJXp-Span-306" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> 1 / (\ mu- \ lambda) </script>  . <br><br><h3>  Temps de rÃ©ponse illimitÃ© </h3><br>  Ã€ partir de cette distribution, vous pouvez trouver n'importe quel centile du temps de rÃ©ponse, et il s'avÃ¨re que le centiÃ¨me centile est Ã©gal Ã  l'infini.  En d'autres termes, le pire temps de rÃ©ponse n'est pas limitÃ© par le haut.  Ce qui, en gÃ©nÃ©ral, n'est pas surprenant, puisque nous avons utilisÃ© le flux de Poisson.  Mais en pratique, un tel comportement ne peut jamais Ãªtre rencontrÃ©.  De toute Ã©vidence, le flux d'entrÃ©e de requÃªtes vers le serveur est limitÃ©, au moins par la largeur du canal rÃ©seau vers ce serveur, et la longueur de la file d'attente est limitÃ©e par la mÃ©moire sur ce serveur.  Le flux de Poisson, au contraire, avec une probabilitÃ© non nulle garantit l'occurrence de salves arbitrairement grandes.  Par consÃ©quent, je ne recommanderais pas de partir de l'hypothÃ¨se d'un flux d'entrÃ©e de Poisson lors de la conception d'un systÃ¨me si vous Ãªtes intÃ©ressÃ© par des centiles Ã©levÃ©s et que la charge du systÃ¨me est trÃ¨s Ã©levÃ©e.  Il vaut mieux utiliser d'autres modÃ¨les de trafic, dont je parlerai une autre fois lorsque je parlerai du calcul du rÃ©seau. <br><br><h3>  Mise Ã  l'Ã©chelle et garanties </h3><br><img align="right" src="https://habrastorage.org/webt/y_/vj/hb/y_vjhby6djhmqoazxqa4cfjvzvc.png">  Maintenant que nous avons un moyen suffisamment puissant pour analyser les systÃ¨mes, nous pouvons essayer de l'appliquer Ã  diffÃ©rentes tÃ¢ches et en rÃ©colter les fruits.  C'est ainsi que la thÃ©orie du service de masse s'est dÃ©veloppÃ©e dans la seconde moitiÃ© du 20e siÃ¨cle.  Essayons de comprendre ce qui a Ã©tÃ© rÃ©alisÃ©.  Pour commencer, revenons aux tÃ¢ches qu'Erlang a rÃ©solues.  Ce sont les tÃ¢ches M / M / k / k et M / M / k, dans lesquelles nous voudrions limiter la probabilitÃ© d'Ã©chec.  Il s'avÃ¨re qu'il n'est pas difficile pour eux de construire des chaÃ®nes de Markov.  La diffÃ©rence est que lorsque des tÃ¢ches sont ajoutÃ©es, la probabilitÃ© d'une transition inverse augmente, car les tÃ¢ches commencent Ã  Ãªtre traitÃ©es en parallÃ¨le, mais lorsque le nombre de tÃ¢ches devient Ã©gal au nombre de serveurs, la saturation se produit.  De plus, pour M / M / k / k, le rÃ©seau se termine, l'automate se rÃ©vÃ¨le vraiment fini et toutes les requÃªtes qui arrivent au dernier Ã©tat sont refusÃ©es.  La probabilitÃ© de cet Ã©vÃ©nement est simplement Ã©gale Ã  la probabilitÃ© que nous soyons dans le dernier Ã©tat. <br><br><img align="left" src="https://habrastorage.org/webt/2v/oe/qi/2voeqidu00er2j-58c-q-egkmws.png">  Pour M / M / k, la situation est plus compliquÃ©e, les demandes sont mises en file d'attente, de nouveaux Ã©tats apparaissent, mais la probabilitÃ© d'une transition inverse n'augmente pas - tous les serveurs fonctionnent dÃ©jÃ .  Le rÃ©seau devient infini, comme pour M / M / 1.  Soit dit en passant, si le nombre de demandes dans le systÃ¨me est limitÃ©, la chaÃ®ne aura toujours un nombre fini d'Ã©tats et d'une maniÃ¨re ou d'une autre, elle sera rÃ©solue, ce qui ne peut pas Ãªtre dit des chaÃ®nes sans fin.  Dans les systÃ¨mes fermÃ©s, les chaÃ®nes sont toujours finies.  En rÃ©solvant les circuits dÃ©crits pour M / M / k / k et M / M / k, nous arrivons Ã  la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">formule B</a> et Ã  la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">formule d'</a> Erlang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">C,</a> respectivement.  Ils sont plutÃ´t volumineux, je ne les donnerai pas, mais avec leur aide, vous pouvez obtenir un rÃ©sultat intÃ©ressant pour le dÃ©veloppement de l'intuition, qui s'appelle la rÃ¨gle de dotation en racine carrÃ©e.  Supposons qu'il existe un systÃ¨me M / M / k avec un flux d'entrÃ©e donnÃ© Î» de requÃªtes par seconde.  Supposons que la charge double d'ici demain.  La question est: comment augmenter le nombre de serveurs pour que le temps de rÃ©ponse reste le mÃªme?  Le nombre de serveurs doit Ãªtre doublÃ©, non?  Il s'avÃ¨re que ce n'est pas du tout.  Rappelons que nous l'avons dÃ©jÃ  vu: si vous accÃ©lÃ©rez de moitiÃ© (serveurs et connexion), le temps de rÃ©ponse moyen diminue de moitiÃ©.  Plusieurs serveurs lents et un serveur rapide ne sont pas la mÃªme chose, mais nÃ©anmoins la puissance de calcul est la mÃªme.  En particulier, pour M / M / 1, par exemple, le temps de rÃ©ponse est inversement proportionnel au volume de Â«capacitÃ© libreÂ» <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-307"><span class="MJXp-mtext" id="MJXp-Span-308">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">u</span><span class="MJXp-mo" id="MJXp-Span-311" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mtext" id="MJXp-Span-312">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> \ mu - \ lambda </script>  et est dÃ©terminÃ© uniquement par ce volume.  En doublant Ã  la fois le dÃ©bit et la puissance de traitement, la capacitÃ© libre du systÃ¨me double: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-319"><span class="MJXp-mn" id="MJXp-Span-320">2</span><span class="MJXp-mtext" id="MJXp-Span-321">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">u</span><span class="MJXp-mo" id="MJXp-Span-324" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mn" id="MJXp-Span-325">2</span><span class="MJXp-mtext" id="MJXp-Span-326">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> 2 \ mu - 2 \ lambda </script>  .  Il peut sembler que pour rÃ©soudre le problÃ¨me, il vous suffit d'Ã©conomiser la capacitÃ© libre, mais le temps de rÃ©ponse en M / M / k est dÃ©jÃ  dÃ©terminÃ© par la formule Erlang plus complexe.  Il s'avÃ¨re que la capacitÃ© libre doit Ãªtre maintenue proportionnellement Ã  la racine carrÃ©e du nombre de Â«serveurs occupÃ©sÂ» afin de maintenir le mÃªme temps de rÃ©ponse.  Par le nombre de Â«serveurs occupÃ©sÂ», on entend le nombre total de serveurs multipliÃ© par l'utilisation: c'est le nombre minimum de serveurs nÃ©cessaires Ã  un fonctionnement stable. <br><br>  En utilisant cette rÃ¨gle, ils essaient parfois de justifier la faÃ§on d'Ã©tendre un cluster avec des serveurs.  Mais ne vous faites pas l'illusion qu'un cluster est un systÃ¨me M / M / k.  Par exemple, si vous avez un Ã©quilibreur Ã  votre entrÃ©e qui envoie des demandes dans des files d'attente aux serveurs, ce n'est plus M / M / k, car M / M / k implique une file d'attente commune Ã  partir de laquelle les serveurs rÃ©cupÃ¨rent les demandes lorsqu'elles sont libÃ©rÃ©es.  Mais ce modÃ¨le convient, par exemple, aux pools de threads avec une file d'attente FIFO commune.  Cependant, mÃªme dans ce cas, il convient de rappeler que cette rÃ¨gle est une approximation pour le cas oÃ¹ il y a beaucoup de threads.  En fait, si vous avez plus de 10 threads, vous pouvez supposer qu'il y en a beaucoup.  Eh bien, n'oubliez pas les distributions exponentielles omniprÃ©sentes: sans supposer l'exponentialitÃ© de toutes les distributions, la rÃ¨gle ne fonctionne pas non plus. <br><br><h3>  Temps de rÃ©ponse rÃ©seau </h3><br>  En fin de compte, l'intÃ©rÃªt est un rÃ©seau de M / M / k connectÃ© au moins dans une chaÃ®ne, car nous faisons des systÃ¨mes distribuÃ©s.  Pour Ã©tudier les rÃ©seaux, j'aimerais avoir un constructeur: des rÃ¨gles simples et claires pour connecter des Ã©lÃ©ments connus en blocs.  Dans la thÃ©orie du contrÃ´le, par exemple, il existe des fonctions de transfert qui sont naturellement combinÃ©es avec des connexions sÃ©rie ou parallÃ¨les.  Ici, le flux de sortie de n'importe quel nÅ“ud a une distribution trÃ¨s compliquÃ©e, Ã  l'exception de M / M / k, qui, selon le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">thÃ©orÃ¨me de Burke</a> bien connu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">,</a> produit un flux de Poisson indÃ©pendant.  Cette exception, comme vous pouvez le deviner, est principalement utilisÃ©e. <br><br>  La connexion de deux flux de Poisson est un flux de Poisson.  La sÃ©paration probabiliste du flux de Poisson en deux donne Ã  nouveau deux flux de Poisson.  Tout cela conduit au fait que toutes les files d'attente du systÃ¨me sont comme indÃ©pendantes, et vous pouvez obtenir, dans un langage formel, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">solution</a> dite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de forme de produit</a> .  En d'autres termes, la distribution conjointe des longueurs des files d'attente est simplement le produit des distributions des longueurs de toutes les files d'attente, considÃ©rÃ©es sÃ©parÃ©ment - c'est ainsi que l'indÃ©pendance est exprimÃ©e dans la thÃ©orie des probabilitÃ©s.  Nous trouvons simplement les flux d'entrÃ©e vers tous les nÅ“uds et utilisons les formules pour chaque nÅ“ud indÃ©pendamment.  Il existe un certain nombre de limitations: <br><br><ol><li>  Algorithme de routage probabiliste.  La demande servie par le nÅ“ud sÃ©lectionne le suivant de faÃ§on alÃ©atoire avec une probabilitÃ© connue.  Ce n'est pas aussi mauvais que cela puisse paraÃ®tre, car il est possible d'utiliser des "classes de demande": disons que toutes les demandes de Vasya arrivent au serveur n Â° 1, puis au serveur n Â° 2 puis sortent du rÃ©seau, et les demandes de Petya arrivent au serveur n Â° 2 , puis avec une probabilitÃ© Ã©gale, visitez le serveur numÃ©ro 1 ou numÃ©ro 3 et quittez.  Autrement dit, toutes les transitions ne doivent pas Ãªtre alÃ©atoires, certaines ou mÃªme toutes peuvent avoir une probabilitÃ© de 100%. </li><li>  Assomption de l'indÃ©pendance de Kleinrock.  Le temps de traitement de la demande ne peut pas dÃ©pendre de l'historique ou de la classe de la demande, mais est dÃ©terminÃ© uniquement par le serveur, et lorsque la demande passe Ã  nouveau sur le mÃªme serveur, elle est sÃ©lectionnÃ©e au hasard Ã  chaque fois.  En fait, il n'y a aucun moyen de dÃ©finir la taille de la demande qui serait utilisÃ©e sur diffÃ©rents serveurs et la durÃ©e de service est dÃ©terminÃ©e uniquement par le serveur lui-mÃªme.  Vous pouvez Ã©galement essayer de contourner cette limitation.  Pour cela, un routage probabiliste est gÃ©nÃ©ralement utilisÃ© et une boucle est effectuÃ©e pour revenir au mÃªme serveur avec une certaine probabilitÃ© - comme s'ils redÃ©marraient la demande.  Ã€ mon avis, c'est une astuce plutÃ´t Ã©trange, car une telle demande rentre dans la file d'attente et n'est pas exÃ©cutÃ©e immÃ©diatement, mais pour certaines tÃ¢ches, ce n'est pas important. </li><li>  Trafic d'entrÃ©e de Poisson et temps de service exponentiel sur tous les nÅ“uds. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i-/tt/tu/i-tttuambmtnx24ekbohhqo0kew.png"></div>  Exemple de rÃ©seau Jackson. <br><br>  Il convient de noter qu'en prÃ©sence de rÃ©troaction, un flux de Poisson N'EST PAS obtenu, car les flux se rÃ©vÃ¨lent interdÃ©pendants.  Ã€ la sortie du nÅ“ud de rÃ©troaction, un flux non-Poisson est Ã©galement obtenu, et par consÃ©quent, tous les flux deviennent non-Poisson.  Cependant, de maniÃ¨re surprenante, il s'avÃ¨re que tous ces flux non-Poisson se comportent exactement de la mÃªme maniÃ¨re que les flux de Poisson (oh, cette thÃ©orie des probabilitÃ©s) si les restrictions ci-dessus sont satisfaites.  Et lÃ  encore, nous obtenons une solution sous forme de produit.  Ces rÃ©seaux sont appelÃ©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rÃ©seaux Jackson</a> , ils peuvent fournir des commentaires et, par consÃ©quent, des visites multiples Ã  n'importe quel serveur.  Il existe d'autres rÃ©seaux dans lesquels plus de libertÃ©s sont autorisÃ©es, mais en consÃ©quence, toutes les rÃ©alisations analytiques importantes de la thÃ©orie des files d'attente par rapport aux rÃ©seaux impliquent des flux de Poisson Ã  la solution d'entrÃ©e et de forme de produit, qui sont devenus l'objet de critiques de cette thÃ©orie et ont conduit dans les annÃ©es 90 Ã  le dÃ©veloppement d'autres thÃ©ories, et l'Ã©tude de ce qui est rÃ©ellement nÃ©cessaire de distribution et comment travailler avec eux. <br><br>  Une application importante de toute cette thÃ©orie des rÃ©seaux Jackson est la modÃ©lisation de paquets dans les rÃ©seaux IP et les rÃ©seaux ATM.  Le modÃ¨le est tout Ã  fait adÃ©quat: les tailles de paquet ne varient pas beaucoup et ne dÃ©pendent pas du paquet lui-mÃªme, seulement de la largeur du canal, car le temps de service correspond Ã  l'heure Ã  laquelle le paquet a Ã©tÃ© envoyÃ© au canal.  Le temps d'envoi alÃ©atoire, mÃªme s'il semble sauvage, n'a en fait pas de trÃ¨s grande variabilitÃ©.  De plus, il s'avÃ¨re que dans un rÃ©seau avec un temps de service dÃ©terministe, la latence ne peut pas Ãªtre plus grande que dans un rÃ©seau Jackson similaire, de sorte que ces rÃ©seaux peuvent Ãªtre utilisÃ©s en toute sÃ©curitÃ© pour estimer le temps de rÃ©ponse d'en haut. <br><br><h2>  Distributions non exponentielles </h2><br>  Tous les rÃ©sultats dont j'ai parlÃ© Ã©taient liÃ©s aux distributions exponentielles, mais j'ai Ã©galement mentionnÃ© que les distributions rÃ©elles sont diffÃ©rentes.  On a le sentiment que toute cette thÃ©orie est tout Ã  fait inutile.  Ce n'est pas tout Ã  fait vrai.  Il existe un moyen d'intÃ©grer d'autres distributions dans cet appareil mathÃ©matique, d'ailleurs, pratiquement toutes les distributions, mais cela nous coÃ»tera quelque chose.  Ã€ l'exception de quelques cas intÃ©ressants, l'opportunitÃ© d'obtenir une solution sous une forme explicite est perdue, la solution sous forme de produit est perdue, et avec elle le constructeur: chaque problÃ¨me doit Ãªtre rÃ©solu entiÃ¨rement Ã  partir de zÃ©ro en utilisant des chaÃ®nes de Markov.  Pour la thÃ©orie, c'est un gros problÃ¨me, mais en pratique, cela signifie simplement l'application de mÃ©thodes numÃ©riques et permet de rÃ©soudre des problÃ¨mes beaucoup plus complexes et proches de la rÃ©alitÃ©. <br><br><h3>  MÃ©thode de phase </h3><br>  L'idÃ©e est simple.  Les chaÃ®nes de Markov ne nous permettent pas d'avoir de la mÃ©moire Ã  l'intÃ©rieur d'un Ã©tat, donc toutes les transitions doivent Ãªtre alÃ©atoires avec une distribution exponentielle du temps entre deux transitions.  Mais que se passe-t-il si l'Ã‰tat est divisÃ© en plusieurs sous-Ã©tats?  Les transitions entre sous-Ã©tats doivent toujours avoir une distribution exponentielle si nous voulons que toute la structure reste une chaÃ®ne de Markov, et nous le voulons vraiment, car nous savons comment rÃ©soudre de telles chaÃ®nes.  Les sous-Ã©tats sont souvent appelÃ©s phases s'ils sont organisÃ©s en sÃ©rie, et le processus de partition est appelÃ© la mÃ©thode des phases. <br><br>  L'exemple le plus simple.  La demande est traitÃ©e en plusieurs phases: d'abord, par exemple, nous lisons les donnÃ©es nÃ©cessaires dans la base de donnÃ©es, puis nous effectuons quelques calculs, puis nous Ã©crivons les rÃ©sultats dans la base de donnÃ©es.  Supposons que ces trois Ã©tapes aient la mÃªme distribution exponentielle du temps.  Quelle distribution a le temps de transit des trois phases ensemble?  Ceci est la distribution d'Erlang. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gi/sn/ox/gisnoxcl23umxemita-xn7_oyis.png"></div><br><br>  Mais que se passe-t-il si vous rÃ©alisez de nombreuses phases identiques et courtes?  A la limite, on obtient une distribution dÃ©terministe.  Autrement dit, en crÃ©ant une chaÃ®ne, vous pouvez rÃ©duire la variabilitÃ© de la distribution. <br><br>  Est-il possible d'augmenter la variabilitÃ©?  C'est facile.  Au lieu d'une chaÃ®ne de phases, nous utilisons des catÃ©gories alternatives, en choisissant au hasard l'une d'entre elles.  Un exemple.  Presque toutes les demandes sont exÃ©cutÃ©es rapidement, mais il y a une petite chance qu'une Ã©norme demande arrive, ce qui prend beaucoup de temps.  Une telle distribution aura un taux d'Ã©chec dÃ©croissant.  Plus nous attendons, plus il est probable que la demande entre dans la deuxiÃ¨me catÃ©gorie. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jp/09/vb/jp09vbkqf-nrvxlkhrbf7i6mygg.png"></div><br><br>  En continuant Ã  dÃ©velopper la mÃ©thode des phases, les thÃ©oriciens ont constatÃ© qu'il existe une classe de distributions avec laquelle vous pouvez approcher avec prÃ©cision une distribution arbitraire non nÃ©gative!  La distribution de Coxian est construite par la mÃ©thode des phases, seulement nous ne sommes pas obligÃ©s de passer par toutes les phases, aprÃ¨s chaque phase il y a une certaine probabilitÃ© d'achÃ¨vement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dx/ve/ti/dxvetidgigjolzluic7soljyrsi.png"></div><br><br>  Ce type de distribution peut Ãªtre utilisÃ© Ã  la fois pour gÃ©nÃ©rer un flux d'entrÃ©e non-Poisson et pour crÃ©er un temps de service non exponentiel.  Voici, par exemple, la chaÃ®ne de Markov pour le systÃ¨me M / E2 / 1 avec distribution Erlang pour le temps de service.  L'Ã©tat est dÃ©terminÃ© par une paire de nombres (n, s), oÃ¹ n est la longueur de la file d'attente, et s est le numÃ©ro de l'Ã©tape oÃ¹ se trouve le serveur: premier ou deuxiÃ¨me.  Toutes les combinaisons de n et s sont possibles.  Les messages entrants ne changent que n, et Ã  la fin des phases, ils alternent et diminuent la longueur de la file d'attente aprÃ¨s la fin de la deuxiÃ¨me phase. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/br/dj/hu/brdjhuu3t0-ariyfqazvgkf54ky.png"></div><br><br><h3>  Vous avez des microrafales! </h3><br>  Un systÃ¨me chargÃ© de la moitiÃ© de sa capacitÃ© peut-il ralentir?  En tant que premier sujet de test, nous prÃ©parons M / G / 1.  Ã‰lÃ©ments fournis: Ã©coulement de Poisson Ã  l'entrÃ©e et distribution arbitraire du temps de service.  ConsidÃ©rez le chemin d'une demande unique Ã  travers l'ensemble du systÃ¨me.  Une requÃªte entrante entrante au hasard voit dans la file d'attente devant elle le nombre moyen de requÃªtes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-333"><span class="MJXp-mtext" id="MJXp-Span-334">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">f</span><span class="MJXp-mrow" id="MJXp-Span-341"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">E</span></span><span class="MJXp-mo" id="MJXp-Span-343" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-344"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345" style="margin-right: 0.05em;">N</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-346" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> \ mathbf {E} [N_Q] </script>  .  Le temps de traitement moyen pour chacun d'eux <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-348"><span class="MJXp-mtext" id="MJXp-Span-349">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">f</span><span class="MJXp-mrow" id="MJXp-Span-356"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">E</span></span><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">S</span><span class="MJXp-mo" id="MJXp-Span-360" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ mathbf {E} [S] </script>  .  Avec une probabilitÃ© Ã©gale Ã  l'Ã©limination <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-361"><span class="MJXp-mtext" id="MJXp-Span-362">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">o</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> \ rho </script>  , il y a une autre demande dans le serveur, qui doit d'abord Ãªtre "traitÃ©e" Ã  temps <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-366"><span class="MJXp-mtext" id="MJXp-Span-367">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">f</span><span class="MJXp-mrow" id="MJXp-Span-374"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">E</span></span><span class="MJXp-mo" id="MJXp-Span-376" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-377"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-379" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-380" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> \ mathbf {E} [S_e] </script>  .  En rÃ©sumÃ©, nous obtenons que le temps d'attente total dans la file d'attente <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-381"><span class="MJXp-mtext" id="MJXp-Span-382">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">f</span><span class="MJXp-mrow" id="MJXp-Span-389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">E</span></span><span class="MJXp-mo" id="MJXp-Span-391" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-392"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-394" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-395" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-396" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-397">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">f</span><span class="MJXp-mrow" id="MJXp-Span-404"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">E</span></span><span class="MJXp-mo" id="MJXp-Span-406" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408" style="margin-right: 0.05em;">N</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-409" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-411">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">f</span><span class="MJXp-mrow" id="MJXp-Span-418"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">E</span></span><span class="MJXp-mo" id="MJXp-Span-420" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">S</span><span class="MJXp-mo" id="MJXp-Span-422" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-423" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-424">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">o</span><span class="MJXp-mtext" id="MJXp-Span-428">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">f</span><span class="MJXp-mrow" id="MJXp-Span-435"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">E</span></span><span class="MJXp-mo" id="MJXp-Span-437" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-438"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-440" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-441" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> \ mathbf {E} [T_Q] = \ mathbf {E} [N_Q] \ mathbf {E} [S] + \ rho \ mathbf {E} [S_e] </script>  .  Par le thÃ©orÃ¨me de Little <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-442"><span class="MJXp-mtext" id="MJXp-Span-443">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">f</span><span class="MJXp-mrow" id="MJXp-Span-450"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">E</span></span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-453"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454" style="margin-right: 0.05em;">N</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-455" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-456" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-457" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-458">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">a</span><span class="MJXp-mtext" id="MJXp-Span-465">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">f</span><span class="MJXp-mrow" id="MJXp-Span-472"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">E</span></span><span class="MJXp-mo" id="MJXp-Span-474" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-475"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-477" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-478" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> \ mathbf {E} [N_Q] = \ lambda \ mathbf {E} [T_Q] </script>  ;  en combinant, nous obtenons: <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-479"><span class="MJXp-mtext" id="MJXp-Span-480">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">f</span><span class="MJXp-mrow" id="MJXp-Span-487"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">E</span></span><span class="MJXp-mo" id="MJXp-Span-489" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-490"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-492" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-493" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-494" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-495">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">c</span><span class="MJXp-mrow" id="MJXp-Span-500"><span class="MJXp-mtext" id="MJXp-Span-501">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">o</span></span><span class="MJXp-mrow" id="MJXp-Span-505"><span class="MJXp-mn" id="MJXp-Span-506">1</span><span class="MJXp-mo" id="MJXp-Span-507" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mtext" id="MJXp-Span-508">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">o</span></span><span class="MJXp-mtext" id="MJXp-Span-512">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">f</span><span class="MJXp-mrow" id="MJXp-Span-519"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">E</span></span><span class="MJXp-mo" id="MJXp-Span-521" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-522"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-524" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-525" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-46"> \ mathbf {E} [T_Q] = \ frac {\ rho} {1- \ rho} \ mathbf {E} [S_e] </script></p>  Autrement dit, le temps d'attente dans la file d'attente est dÃ©terminÃ© par deux facteurs.  Le premier est l'effet de l'utilisation du serveur, et le second est le temps moyen aprÃ¨s service.  ConsidÃ©rez le deuxiÃ¨me facteur.  Une demande arrivant Ã  un moment donnÃ© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-526"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> t </script>  , voit que le suivi prend du temps <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-528"><span class="MJXp-msubsup" id="MJXp-Span-529"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-531" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-532" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">t</span><span class="MJXp-mo" id="MJXp-Span-534" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> S_e (t) </script>  . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/ak/d0/xtakd0ypobod5ijatuasexj1t6w.png"></div><br><br>  Temps moyen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-535"><span class="MJXp-mtext" id="MJXp-Span-536">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">f</span><span class="MJXp-mrow" id="MJXp-Span-543"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">E</span></span><span class="MJXp-mo" id="MJXp-Span-545" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-546"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-548" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-549" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> \ mathbf {E} [S_e] </script>  dÃ©terminÃ© par la valeur moyenne de la fonction <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-550"><span class="MJXp-msubsup" id="MJXp-Span-551"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-553" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-554" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-555">t</span><span class="MJXp-mo" id="MJXp-Span-556" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> S_e (t) </script>  , c'est-Ã -dire l'aire des triangles divisÃ©e par le temps total.  Il est clair que nous pouvons nous limiter Ã  un triangle Â«mÃ©dianÂ», puis <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-557"><span class="MJXp-mtext" id="MJXp-Span-558">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">f</span><span class="MJXp-mrow" id="MJXp-Span-565"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">E</span></span><span class="MJXp-mo" id="MJXp-Span-567" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-568"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-570" style="vertical-align: -0.4em;">e</span></span><span class="MJXp-mo" id="MJXp-Span-571" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-572" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-573">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">f</span><span class="MJXp-mrow" id="MJXp-Span-580"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">E</span></span><span class="MJXp-mo" id="MJXp-Span-582" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-583"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584" style="margin-right: 0.05em;">S</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-585" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-586" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mrow" id="MJXp-Span-587"><span class="MJXp-mo" id="MJXp-Span-588" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-589">2</span><span class="MJXp-mtext" id="MJXp-Span-590">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">f</span><span class="MJXp-mrow" id="MJXp-Span-597"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">E</span></span><span class="MJXp-mo" id="MJXp-Span-599" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">S</span><span class="MJXp-mo" id="MJXp-Span-601" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> \ mathbf {E} [S_e] = \ mathbf {E} [S ^ 2] / 2 \ mathbf {E} [S] </script>  .  C'est assez inattendu.  Nous avons reÃ§u que le temps de service aprÃ¨s-vente est dÃ©terminÃ© non seulement par la valeur moyenne du temps de service, mais aussi par sa variabilitÃ©.  L'explication est simple.  La probabilitÃ© de tomber dans un long intervalle <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-602"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> S </script>  de plus, elle est en fait proportionnelle Ã  la durÃ©e S de cet intervalle.  Cela explique le fameux Paradoxe des temps d'attente, ou Paradoxe d'inspection.  Mais revenons Ã  M / G / 1.  Si vous combinez tout ce que nous avons obtenu et rÃ©Ã©crivez en utilisant la variabilitÃ© <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-604"><span class="MJXp-msubsup" id="MJXp-Span-605"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-608">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-609" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-610">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-613">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-614">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">f</span><span class="MJXp-mrow" id="MJXp-Span-617"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">E</span></span><span class="MJXp-mo" id="MJXp-Span-619" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620">S</span><span class="MJXp-mo" id="MJXp-Span-621" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mrow" id="MJXp-Span-622"><span class="MJXp-mo" id="MJXp-Span-623" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mtext" id="MJXp-Span-624">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">f</span><span class="MJXp-mrow" id="MJXp-Span-631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">E</span></span><span class="MJXp-mo" id="MJXp-Span-633" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">S</span><span class="MJXp-msubsup" id="MJXp-Span-635"><span class="MJXp-mo" id="MJXp-Span-636" style="margin-left: 0em; margin-right: 0.05em;">]</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-637" style="vertical-align: 0.5em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> C ^ 2_S = \ mathbf {E} [S] / \ mathbf {E} [S] ^ 2 </script>  obtenez la fameuse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">formule Pollaczek-Khinchine</a> : <p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-638"><span class="MJXp-mtext" id="MJXp-Span-639">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">f</span><span class="MJXp-mrow" id="MJXp-Span-646"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">E</span></span><span class="MJXp-mo" id="MJXp-Span-648" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-649"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-651" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-652" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-654">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">c</span><span class="MJXp-mrow" id="MJXp-Span-659"><span class="MJXp-mtext" id="MJXp-Span-660">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">o</span></span><span class="MJXp-mrow" id="MJXp-Span-664"><span class="MJXp-mn" id="MJXp-Span-665">1</span><span class="MJXp-mo" id="MJXp-Span-666" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mtext" id="MJXp-Span-667">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">o</span></span><span class="MJXp-mtext" id="MJXp-Span-671">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">c</span><span class="MJXp-mrow" id="MJXp-Span-676"><span class="MJXp-mtext" id="MJXp-Span-677">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">f</span><span class="MJXp-mrow" id="MJXp-Span-684"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">E</span></span><span class="MJXp-mo" id="MJXp-Span-686" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">S</span><span class="MJXp-mo" id="MJXp-Span-688" style="margin-left: 0em; margin-right: 0em;">]</span></span><span class="MJXp-mrow" id="MJXp-Span-689"><span class="MJXp-mn" id="MJXp-Span-690">2</span></span><span class="MJXp-mo" id="MJXp-Span-691" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-692"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-695">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-696" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-697">1</span><span class="MJXp-mo" id="MJXp-Span-698" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-54"> \ mathbf {E} [T_Q] = \ frac {\ rho} {1- \ rho} \ frac {\ mathbf {E} [S]} {2} (C ^ 2_S + 1) </script></p>  Si la preuve vous ennuyait, j'espÃ¨re qu'elle plaira au rÃ©sultat de son application dans la pratique.  Nous avons dÃ©jÃ  examinÃ© les donnÃ©es de temps de service dans RTMR.  La longue queue apparaÃ®t juste avec une grande variabilitÃ©, et dans ce cas <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-699"><span class="MJXp-msubsup" id="MJXp-Span-700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-703">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-704" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-705">381</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> C ^ 2_S = 381 </script>  .  Vous voyez, c'est bien plus que <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-706"><span class="MJXp-msubsup" id="MJXp-Span-707"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-710">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-711" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-712">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> C ^ 2_S = 1 </script>  pour la distribution exponentielle.  En moyenne, tout est super rapide: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-713"><span class="MJXp-mtext" id="MJXp-Span-714">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">f</span><span class="MJXp-mrow" id="MJXp-Span-721"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">E</span></span><span class="MJXp-mo" id="MJXp-Span-723" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">S</span><span class="MJXp-mo" id="MJXp-Span-725" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-726" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-727">263</span><span class="MJXp-mo" id="MJXp-Span-728" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-729">792</span><span class="MJXp-mrow" id="MJXp-Span-730"><span class="MJXp-mo" id="MJXp-Span-731" style="margin-left: 0em; margin-right: 0em;">Î¼</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> \ mathbf {E} [S] = 263,792 Î¼s </script>  .  Supposons maintenant que le RTMR soit modÃ©lisÃ© par le systÃ¨me M / G / 1, et que le systÃ¨me ne soit pas lourdement chargÃ©, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-733"><span class="MJXp-mtext" id="MJXp-Span-734">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">o</span><span class="MJXp-mo" id="MJXp-Span-738" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-739">0</span><span class="MJXp-mo" id="MJXp-Span-740" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-741">5</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> \ rho = 0,5 </script>  .  En substituant Ã  la formule, on obtient <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-742"><span class="MJXp-mtext" id="MJXp-Span-743">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">f</span><span class="MJXp-mrow" id="MJXp-Span-750"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">E</span></span><span class="MJXp-mo" id="MJXp-Span-752" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-753"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-755" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-mo" id="MJXp-Span-756" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-757" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-758">1</span><span class="MJXp-mo" id="MJXp-Span-759" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ—</span><span class="MJXp-mo" id="MJXp-Span-760" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-761">381</span><span class="MJXp-mo" id="MJXp-Span-762" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-763">1</span><span class="MJXp-mo" id="MJXp-Span-764" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-765"><span class="MJXp-mo" id="MJXp-Span-766" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-767">2</span><span class="MJXp-mo" id="MJXp-Span-768" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ—</span><span class="MJXp-mn" id="MJXp-Span-769">263</span><span class="MJXp-mo" id="MJXp-Span-770" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-771">792</span><span class="MJXp-mrow" id="MJXp-Span-772"><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0em; margin-right: 0em;">Î¼</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-774">s</span><span class="MJXp-mo" id="MJXp-Span-775" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-776">50</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59"> \ mathbf {E} [T_Q] = 1 * (381 + 1) / 2 * 263,792 Î¼s = 50 ms </script>  .  En raison des microrafales, mÃªme un systÃ¨me aussi rapide et sous-utilisÃ© peut se transformer en moyenne en un systÃ¨me dÃ©goÃ»tant.  Pendant 50 ms, vous pouvez aller sur le disque dur 6 fois ou, si vous avez de la chance, mÃªme dans un centre de donnÃ©es sur un autre continent!  Soit dit en passant, pour G / G / 1, il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">approximation</a> qui prend en compte la variabilitÃ© du trafic entrant: il a exactement la mÃªme apparence, mais Ã  la place <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-779"><span class="MJXp-msubsup" id="MJXp-Span-780"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-783">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-784" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-785">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> C ^ 2_S + 1 </script>  c'est la somme des deux variÃ©tÃ©s <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-786"><span class="MJXp-msubsup" id="MJXp-Span-787"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-790">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-791" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-792"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-795">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">A</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> C ^ 2_S + C ^ 2_A </script>  .  Dans le cas de plusieurs serveurs, les choses vont mieux, mais l'effet de plusieurs serveurs n'affecte que le premier facteur.  L'effet de la variabilitÃ© demeure: <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-796"><span class="MJXp-mtext" id="MJXp-Span-797">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803">f</span><span class="MJXp-mrow" id="MJXp-Span-804"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805">E</span></span><span class="MJXp-mo" id="MJXp-Span-806" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-807"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-809" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-msubsup" id="MJXp-Span-810"><span class="MJXp-mo" id="MJXp-Span-811" style="margin-left: 0em; margin-right: 0.05em;">]</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-812" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">G</span><span class="MJXp-mrow" id="MJXp-Span-814"><span class="MJXp-mo" id="MJXp-Span-815">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">G</span><span class="MJXp-mrow" id="MJXp-Span-817"><span class="MJXp-mo" id="MJXp-Span-818">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">k</span></span></span><span class="MJXp-mo" id="MJXp-Span-820" style="margin-left: 0.333em; margin-right: 0.333em;">â‰ˆ</span><span class="MJXp-mtext" id="MJXp-Span-821">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-822">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">f</span><span class="MJXp-mrow" id="MJXp-Span-828"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-829">E</span></span><span class="MJXp-mo" id="MJXp-Span-830" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-831"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-833" style="vertical-align: -0.4em;">Q</span></span><span class="MJXp-msubsup" id="MJXp-Span-834"><span class="MJXp-mo" id="MJXp-Span-835" style="margin-left: 0em; margin-right: 0.05em;">]</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-836" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">M</span><span class="MJXp-mrow" id="MJXp-Span-838"><span class="MJXp-mo" id="MJXp-Span-839">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">M</span><span class="MJXp-mrow" id="MJXp-Span-841"><span class="MJXp-mo" id="MJXp-Span-842">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">k</span></span></span><span class="MJXp-mo" id="MJXp-Span-844" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-845"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-848">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">S</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-849" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-850"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-853">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852">A</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-854" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-855"><span class="MJXp-mo" id="MJXp-Span-856" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-857">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> \ mathbf {E} [T_Q] ^ {G / G / k} â‰ˆ \ mathbf {E} [T_Q] ^ {M / M / k} (C ^ 2_S + C ^ 2_A) / 2 </script>  . <br><br>  Ã€ quoi ressemblent les microrafales?  En ce qui concerne les pools de threads, ce sont des tÃ¢ches qui sont traitÃ©es assez rapidement pour ne pas Ãªtre visibles dans les planifications de recyclage, et suffisamment lentes pour crÃ©er une file d'attente derriÃ¨re elles et affecter le temps de rÃ©ponse du pool.  D'un point de vue thÃ©orique, ce sont d'Ã©normes requÃªtes de la part de la distribution.  Disons que vous disposez d'un pool de 10 threads et que vous regardez le programme de recyclage, basÃ© sur les mÃ©triques de temps de fonctionnement et d'indisponibilitÃ©, qui sont collectÃ©es toutes les 15 secondes.  Tout d'abord, vous ne remarquerez peut-Ãªtre pas qu'un thread est suspendu, ou que les 10 threads ont effectuÃ© simultanÃ©ment de grandes tÃ¢ches pendant une seconde, puis n'ont rien fait pendant 14 secondes.  Une rÃ©solution de 15 secondes ne permet pas de voir un saut d'utilisation jusqu'Ã  100% et de retour Ã  0%, et le temps de rÃ©ponse en souffre. ,    ,    15     6 ,      . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8v/19/8r/8v198rjsunpavjnp12kadqnk1as.gif"></div><br><br>      ,    (   )     . <br><br>      ,  RTMR   SelfPing,    ( 10 ),         â€”     .   ,      10        15 .  ,          . ,      ,     10 ,       ,    â€”    .    self-ping-     CPU.   ,     :      ,   ,    . :    ,     ,     .       :       .     ,      15-  , â€”     . <br><br> ,   ,  SelfPing ,    ?   ?     ,   LWTrace.         ,             .    -100  .     .       :       ;     â€”     ,          ,    ;    perf  ,       ,     . <br><br><h3>      </h3><br><img align="right" src="https://habrastorage.org/webt/1w/3r/yl/1w3ryloyjmzbo6r6di9fj0xsiz0.png">      Â« Â»,       .       ,    ,      .    FIFO-.    ,       ,       latency ( SPT  SRPT).   â€”        . ,          ,    ,              .   ,       Â«  Â»,        . <br><br>         ,  -   product-form solution       .     M/ <b>Cox</b> /1/ <b>PS</b> .    ,    (Coxian distribution)      (Processor Sharing),    ,   ,     .     ? ,         .     ,    ,    (.   )     ,  ,         M/ <b>M</b> /1/ <b>FIFO</b> ,         ,   . <br><br>   !   ,       ,          ,     !       insensitivity property.     ,   ,        ,      ,   .       â€” M/M/âˆ.     ,     .          ,    product-form solution      â€” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> BCMP</a> . <br><br><img align="left" src="https://habrastorage.org/webt/6e/ak/13/6eak136q6prunjzlpkeucra2isk.png">      .  ,      (,   ),     ,    , Ã³      .     . . <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-858"><span class="MJXp-mrow" id="MJXp-Span-859"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-860">E</span></span><span class="MJXp-mo" id="MJXp-Span-861" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">T</span><span class="MJXp-mo" id="MJXp-Span-863" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-864" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-865">1</span><span class="MJXp-mrow" id="MJXp-Span-866"><span class="MJXp-mo" id="MJXp-Span-867" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-868">3</span><span class="MJXp-mrow" id="MJXp-Span-869"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-870">E</span></span><span class="MJXp-mo" id="MJXp-Span-871" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-872"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-874" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-875" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-876" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-877">2</span><span class="MJXp-mrow" id="MJXp-Span-878"><span class="MJXp-mo" id="MJXp-Span-879" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-880">3</span><span class="MJXp-mrow" id="MJXp-Span-881"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-882">E</span></span><span class="MJXp-mo" id="MJXp-Span-883" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-884"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-886" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-887" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63">\mathbf{E}[T] = 1/3 \mathbf{E}[T_1] + 2/3 \mathbf{E}[T_2]</script>  .    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-888"><span class="MJXp-mrow" id="MJXp-Span-889"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-890">E</span></span><span class="MJXp-mo" id="MJXp-Span-891" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-892"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893" style="margin-right: 0.05em;">T</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-894" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-895" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-896" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-897">1</span><span class="MJXp-mrow" id="MJXp-Span-898"><span class="MJXp-mo" id="MJXp-Span-899" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-900" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-901"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902" style="margin-right: 0.05em;">Î¼</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-903" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-904" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-msubsup" id="MJXp-Span-905"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906" style="margin-right: 0.05em;">Î»</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-907" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-908" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64">\mathbf{E}[T_i] = 1/(\mu_i - \lambda_i)</script>     M/M/1/FCFS   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-909"><span class="MJXp-mrow" id="MJXp-Span-910"><span class="MJXp-mi MJXp-bold" id="MJXp-Span-911">E</span></span><span class="MJXp-mo" id="MJXp-Span-912" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">T</span><span class="MJXp-mo" id="MJXp-Span-914" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-915" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-916">1</span><span class="MJXp-mrow" id="MJXp-Span-917"><span class="MJXp-mo" id="MJXp-Span-918" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-919">3</span><span class="MJXp-mo" id="MJXp-Span-920" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ—</span><span class="MJXp-mn" id="MJXp-Span-921">1</span><span class="MJXp-mrow" id="MJXp-Span-922"><span class="MJXp-mo" id="MJXp-Span-923" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-924" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-925">3</span><span class="MJXp-mo" id="MJXp-Span-926" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mn" id="MJXp-Span-927">3</span><span class="MJXp-mo" id="MJXp-Span-928" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ—</span><span class="MJXp-mn" id="MJXp-Span-929">1</span><span class="MJXp-mrow" id="MJXp-Span-930"><span class="MJXp-mo" id="MJXp-Span-931" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-932">3</span><span class="MJXp-mo" id="MJXp-Span-933" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-934" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-935">2</span><span class="MJXp-mrow" id="MJXp-Span-936"><span class="MJXp-mo" id="MJXp-Span-937" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-938">3</span><span class="MJXp-mo" id="MJXp-Span-939" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ—</span><span class="MJXp-mn" id="MJXp-Span-940">1</span><span class="MJXp-mrow" id="MJXp-Span-941"><span class="MJXp-mo" id="MJXp-Span-942" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-943" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-944">4</span><span class="MJXp-mo" id="MJXp-Span-945" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mn" id="MJXp-Span-946">3</span><span class="MJXp-mo" id="MJXp-Span-947" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ—</span><span class="MJXp-mn" id="MJXp-Span-948">2</span><span class="MJXp-mrow" id="MJXp-Span-949"><span class="MJXp-mo" id="MJXp-Span-950" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-951">3</span><span class="MJXp-mo" id="MJXp-Span-952" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-953" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-954">0.5</span><span class="MJXp-mrow" id="MJXp-Span-955"><span class="MJXp-mo" id="MJXp-Span-956" style="margin-left: 0.278em; margin-right: 0.278em;"></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65">\mathbf{E}[T] = 1/3 * 1/(3 - 3 * 1/3) + 2/3 * 1/(4 - 3*2/3) = 0.5 </script>  . <br><br>  ,    ,  .     ,              . <br><br><h2>     </h2><br><ol><li>         ,   ,  ,      computer science,     .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Performance Modeling and Design of Computer Systems: Queueing Theory in Action</a> (2013).  -  ,       . Ã³    â€”    . </li><li>  ,      ,   ,    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  Robert B. Cooper.           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  ,     . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431650/">https://habr.com/ru/post/fr431650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431638/index.html">Comment nous sommes entrÃ©s dans le dÃ©partement de la sÃ©curitÃ© de l'information d'une grande entreprise et avons commencÃ© Ã  y travailler. Journal de deux jeunes spÃ©cialistes prometteurs</a></li>
<li><a href="../fr431642/index.html">Apiculteurs contre microcontrÃ´leurs ou avantages des erreurs</a></li>
<li><a href="../fr431644/index.html">Ligne droite avec TM. v4.0</a></li>
<li><a href="../fr431646/index.html">DataGrip 2018.3: prise en charge de Cassandra, gÃ©nÃ©ration de fichiers SQL Ã  partir d'objets, nombreuses amÃ©liorations de l'auto-complÃ©tion, et bien plus encore</a></li>
<li><a href="../fr431648/index.html">NB-IoT: comment Ã§a marche? 2e partie</a></li>
<li><a href="../fr431652/index.html">Algorithme d'Ã©chantillonnage de rÃ©servoir</a></li>
<li><a href="../fr431654/index.html">Tendances des langages de programmation 2019</a></li>
<li><a href="../fr431656/index.html">CraSSh: casser tous les navigateurs modernes avec des calculs CSS</a></li>
<li><a href="../fr431660/index.html">FonctionnalitÃ©s du jeu utilisant ECS: ajoutez une trousse de premiers soins au tireur</a></li>
<li><a href="../fr431664/index.html">Centre de phase d'antenne (FCA) et sa recherche dans Ansys HFSS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>