<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚡️ ♑️ ⛹🏿 Blinkt mit Vintage-LEDs oder warnt vor „Bränden“ im Projekt 🧕🏽 😊 🤱🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Routine ist ein riesiges Feld für die Automatisierung. Wenn die Aufgabe viel Energie erfordert, Ausdauer erfordert und sich von Zeit zu Zeit wiederhol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Blinkt mit Vintage-LEDs oder warnt vor „Bränden“ im Projekt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/438106/"><p><img src="https://habrastorage.org/webt/29/ky/np/29kynpsxkjuzjwdby5s9o7czujw.png"></p><br><p>  Routine ist ein riesiges Feld für die Automatisierung.  Wenn die Aufgabe viel Energie erfordert, Ausdauer erfordert und sich von Zeit zu Zeit wiederholt, ist dies ein sicheres Zeichen dafür, dass es sich lohnt, ein paar Schritte zu unternehmen, um diesen wiederholten Schmerz zu reduzieren.  Und Sie können die Implementierung in eine gute Technofanchik verwandeln. </p><br><p>  Heute werde ich über die Automatisierung des Warnsystems, Überwachung und Warnungen sprechen.  Unter dem Schnitt verpasste ein polnischer Blinker im Jahr 1984 und kein einziges Feuer.  Code und Montageanleitung sind enthalten. </p><a name="habracut"></a><br><p>  Kürzlich bin ich 8 Jahre alt geworden.  8 Jahre, seit ich in 2GIS arbeite.  Bei dieser Gelegenheit fragte ein Kamerad: „Wie hältst du dich so lange fest?  Es gab keine Lust, etwas Neues auszuprobieren? “ </p><br><p> Es entstand.  Und entsteht immer noch.  Und versuche es trotzdem.  Ich versuche mich in neuen Rollen, Teams, Technologien.  Warum nicht?  Schließlich geht es bei der Arbeit nicht nur und nicht so sehr darum, „um 9:00 Uhr zu kommen, den Task-Manager zu öffnen und die nächste Aufgabe zu übernehmen, um 18:00 Uhr nach Hause zu gehen“ und nicht einmal um „Ah !!!  Wir sind wieder DDoS'yat, lass uns request_limit hier drücken und hier werden wir IPs rasseln und hier ... Oh, wie ist es schon 3 Uhr morgens? "  Das ist alles falsch.  Bei der Arbeit geht es um das Team, Beziehungen, Abendveranstaltungen in der Küche.  Immerhin über interessante Aufgaben und ein angenehmes Wohnumfeld.  Alles tötet Gleichgültigkeit und Routine.  Ich weiß nicht, wie ich mit dem ersten arbeiten soll, ich habe es selbst nicht bemerkt, aber ich werde Ihnen von dem zweiten erzählen. </p><br><p>  Heute werden wir abseits der ausgetretenen Pfade gehen: eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ampel im Büro</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">und eine weitere</a> ;  und automatisieren Sie Warnungen, Überwachung und Warnungen.  Aber um die nächste Ampel für den Build-Server zu machen - es ging.  Wir haben viele Builds, Filialen und Tests, aber es besteht kein Wunsch, das Lager der Verkehrspolizei für ein Dutzend Ampeln auszurauben.  Wir werden die "Feuer" visualisieren! </p><br><h1>  Standardüberwachungssystem </h1><br><p><img src="https://habrastorage.org/webt/hp/q0/ct/hpq0ctxkqoknb410zxwps-ceyhs.jpeg"></p><br><p>  Hier ist ein typischer Bildschirm, der in unserem Büro hängt.  In 95% der Fälle zeigt es, wie lebendig unser Projekt ist und was damit passiert.  Parallel dazu gibt es in Slack einen Kanal mit Benachrichtigungen über Releases und Bugs. </p><br><p>  Um das gesamte Team nicht abzulenken, wird für eine Woche ein Dienstoffizier ernannt, der als Freigabemeister fungiert und sich selbst in Brand setzt, wenn etwas Schreckliches passiert.  Seine Aufgabe ist es, herauszufinden, was passiert ist, und es entweder selbst zu reparieren oder jemanden zu finden, der es repariert. </p><br><p>  Wir verwenden diesen Monitor auch für tägliche Besprechungen - wir öffnen das Kanban-Board in Jira und los geht's. </p><br><h1>  Was ist los? </h1><br><p>  Der Dienststatus bricht keine Arbeitsaufgaben ab.  Wenn die für die Brände verantwortliche Person zu weit in die Hallen seines Geistes gewandert ist, ist das Ergebnis möglicherweise weniger betriebsbereit als erforderlich.  Dies führte zu der Idee, dass wir für ein vollkommenes Glück eine wichtigere Warnung benötigen als endlose Benachrichtigungen von Slack. </p><br><h1>  Automatisieren Sie es! </h1><br><p>  Die Idee wurde stärker, als im Avito ein ausgezeichneter polnischer Vintage-Blinker von 1984 entdeckt wurde.  Wenn irgendwo ein Feuer brennt, lass das Ding an!  Das Ding wurde sogar in fast funktionierendem Zustand versprochen.  500 Rubel und sie ist in meinem Rucksack.  Fügen wir ihr also ein bisschen IoT-Hype und Arduino-Skizzen hinzu. </p><br><p><img src="https://habrastorage.org/webt/6u/hg/ty/6uhgtyey8v4painxacw_ufdqog4.png"></p><br><h1>  Aktionsplan </h1><br><p>  Der Plan war einfach und brillant!  Wir nehmen ein 12 Volt Netzteil, fügen einen Sonoff SV - esp8266 mit einem Relais und alle notwendigen Umreifungen und Strom von 12 Volt hinzu.  Wir blinken so etwas wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">http://wifi-iot.ru/</a> , wir fangen ein blinkendes Licht ein - Gewinn!  Wir haben ein Gerät, das über WLAN mit einer REST-API und weiteren 1000 Funktionen verbunden ist. </p><br><h1>  Über Ausgaben </h1><br><p><img src="https://habrastorage.org/webt/xf/sw/4j/xfsw4jknxqlkun2ol0dvj_q4baa.png"></p><br><p>  Netzkabel mit einem Flachstecker vom Radio einer Großmutter oder vom nächstgelegenen Markt für Radioprodukte - 60 Rubel <br>  Stromversorgung 12V 10W mit Aliexpress oder allen gleichen Radioprodukten - 260 Rubel <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sonoff SV</a> - $ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4.85</a> + Versand <br>  Blinker Vintage - unbezahlbar (500 Rubel) </p><br><h1>  Unternehmens-Wi-Fi-Stellungnahme </h1><br><p>  Für solch mutige Aktionen sagte Unternehmens-WLAN mit EAP-PEAP-Zertifikaten und anderen beängstigenden Worten: "Sie werden nicht bestehen!". </p><br><p><img src="https://habrastorage.org/webt/oy/n-/nt/oyn-nth-sypocgf1vdx0hxz8fuq.jpeg"></p><br><p>  Sie können die Ärmel hochkrempeln, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/esp8266/Arduino/issues/1032</a> googeln, ein neues SDK nehmen und alles schnell selbst schreiben.  Aber dann verwandelt sich die Technofanch in ein langes Graben und Debaggen.  Ich werde diese Option bis zur Veröffentlichung von Version 2.0 verschieben, verbessert und behoben. </p><br><h1>  Weiche Produkte </h1><br><p>  Nehmen Sie den geliebten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Olartamonov</a> Arduino, eine Streuung dessen, was seit N Jahren in Schubladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">verstaubt</a> ist, und sammeln Sie ein Frankenstein-Monster.  Ein Lager mit Heimteilen wird ausreichen, um die Lebensfähigkeit von MVP zu überprüfen und nach dem Debuggen der schönen und glänzenden Version 2.0 wegzuwerfen. </p><br><p><img src="https://habrastorage.org/webt/ac/om/-9/acom-9r68ntrxwj6ag8ii0ysvhe.jpeg"></p><br><p>  Die Lösung ist ungeschickt: Arduino stellt über Ethernet eine Verbindung zum Netzwerk her, empfängt IP über DHCP, wartet auf HTTP-Anforderungen und blinkt „LED“.  Jeder am Abend kann eine solche Lösung aus der Arduino IDE für Beispiele zusammenstellen (aber niemals, hören, niemals benutzen! Das ist die Hölle). </p><br><div class="spoiler">  <b class="spoiler_title">Was ist zu verwenden?</b> <div class="spoiler_text"><p>  Für diejenigen, die immer noch weinen, stechen, aber immer noch einen Kaktus essen, empfehle ich, auf mindestens PlatformIO (auf Atom oder VSCode installiert) zu wechseln, aber es ist besser, es überhaupt nicht zu verwenden, sondern einen Kurs mit Vorlesungen über STM32 oder etwas Nützlicheres zu lesen.  Und ich, so gebissen wie ein Kind von Arduinisten, werde meine schmutzige Tat beenden :) </p></div></div><br><p>  Der Code wird auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github veröffentlicht</a> , es gibt keine Autorisierung, keine verzweigte API und keine schönen HTML-Seiten.  Nur MVP, nur Hardcore!  Die Verwendung erfolgt auf eigenes Risiko, warnte ich. </p><br><h1>  Feste Produkte </h1><br><p>  Wenn die Software geschrieben ist, ist es Zeit, ein blinkendes Licht zu starten.  Unten finden Sie ein Diagramm, das das Verständnis des Geräts erleichtern soll. </p><br><h2>  Warten: </h2><br><p><img src="https://habrastorage.org/webt/x6/oo/s9/x6oos9z3gfgyp2gk9k8hwjaann4.png"></p><br><h2>  Realität: </h2><br><p><img src="https://habrastorage.org/webt/fo/7a/t1/fo7at166uyswi0-uhsyqianycfg.jpeg"></p><br><p>  Ersetzen Sie Sonoff SV durch: <br>  Arduino UNO + wiznet w5100 + Relais </p><br><p>  Verbindung durch Stifte: <br>  DIGITAL 10 - SS <br>  DIGITAL 11 - MOSI <br>  DIGITAL 12 - MISO <br>  DIGITAL 13 - SCK <br>  GND - GND <br>  5V - 5V </p><br><p>  Wir verbinden das Relais noch einfacher: den Signalstift an DIGITAL 4, das Stromkabel an den Blinker, den wir in die Lücke an C (gemeinsam) und NC (normalerweise geschlossen) einhaken. </p><br><p>  <strong>Achtung!</strong> <br>  Weitere Informationen finden Sie in der Dokumentation zu Ihren Geräten.  Es ist keine Tatsache, dass Sie beim Anschließen einer Ethernet-Karte an 5 Volt beim Testen keinen lustigen Rauch bekommen!  In meinem Fall ist alles normal und das Modul ist für eine Leistung von 5 Volt ausgelegt. </p><br><h1>  Kunststoffprodukte </h1><br><p>  Eine Ankündigung auf Avito besagte, dass der Blinker fast betriebsbereit war.  Im Laufe der Jahre ist nur ein Detail darin gestorben - das Zahnrad, das den Reflektor dreht. </p><br><p><img src="https://habrastorage.org/webt/sx/6j/vi/sx6jviptedu-vrq_aj7ez2jryt0.jpeg"></p><br><p>  Wir atmen aus, nehmen Fusion360 in die Hand, simulieren eine neue und drucken sie auf einem Office-3D-Drucker. </p><br><div class="spoiler">  <b class="spoiler_title">Modellierungsprozess für Zahnräder</b> <div class="spoiler_text"><p>  Wir überprüfen die Radien und andere Eigenschaften des Zahnrads, wir kämpfen mit Untersextrusions- und Slicer-Parametern <br><img src="https://habrastorage.org/webt/vm/sr/fw/vmsrfwhkdv3815zocydv9fntdyu.jpeg"></p><br><p>  Wir modellieren weiter <br><img src="https://habrastorage.org/webt/hp/mv/z5/hpmvz5doqty3zajkkxakgnajk_s.png"></p><br><p>  Wir drucken, probieren an <br><img src="https://habrastorage.org/webt/lt/an/j2/ltanj2vww5u6phkeiv6mluezm1w.gif"></p><br><p>  Passen Sie etwas mehr an und drucken Sie erneut.  Die ursprünglichen Nieten wurden gebohrt und durch eine Kombination aus herkömmlichen M3-Schrauben und selbstsichernden Muttern ersetzt.  Vergessen Sie nicht, Sitzplätze für sie hinzuzufügen. <br><img src="https://habrastorage.org/webt/zy/t-/nd/zyt-ndarwrrswyepbnyy96ia99o.png"></p><br><p><img src="https://habrastorage.org/webt/8e/ja/aj/8ejaajyh2kiup7bcse5wjzkzhbg.jpeg"></p></div></div><br><p>  Zahnräder schmieren, Drähte austauschen, wieder zusammenbauen - es funktioniert! </p><br><p>  Es wäre schön, das Zahnrad aus Nylon zu drucken, aber der erste Kleingedruckte schlug fehl, und die zweite Sonde von Bestfilament reichte für die zweite nicht mehr aus. </p><br><h1>  Wofür wir sind - egal was! </h1><br><p><img src="https://habrastorage.org/webt/zr/gw/vp/zrgwvpeop5ig3rjqjqnkq0f5mnc.gif"></p><br><h4 id="kak-zastavit-migalku-vklyuchatsya-kogda-proizoshlo-chto-to-iz-ryada-von-vyhodyaschee">  Wie lässt sich der Blinker einschalten, wenn etwas Außergewöhnliches passiert ist? </h4><br><p>  Grundstufe!  Wir verwenden Grafana bei der Arbeit, daher starten wir einfach einen neuen Benachrichtigungskanal mit dem WebHook-Typ, der eine Anforderung zum Einschalten des Notlichts nach bestimmten Kriterien sendet.  Sie schaltet sich nach ein paar Sekunden aus, um die Atmosphäre nicht noch weiter zu eskalieren. </p><br><p>  Wie viel Zeit hat das ganze Durcheinander gedauert?  Ein paar Abende, wenn nicht abgelenkt.  Plus einen halben Tag Arbeitszeit, um die Integration mit anderen internen Systemen einzurichten. </p><br><p>  Die Technofanchik war erfolgreich, das Team brachte Vorteile, Fotos des Montageprozesses werden endlich präsentiert. </p><br><div class="spoiler">  <b class="spoiler_title">Hier ist es vor uns, ein Blinker mit Drähten</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ez/fb/q7/ezfbq7hfzeexf6w8w9wfbjwohcu.jpeg"><br><img src="https://habrastorage.org/webt/as/qq/5-/asqq5-j3yotupe_cniquxe4psn8.jpeg"><br><img src="https://habrastorage.org/webt/p7/au/zx/p7auzx-p5ilvxb2k636yiplhb3y.jpeg"><br><img src="https://habrastorage.org/webt/y8/wb/3w/y8wb3weqcxns3azl1kq_2tbsxfg.jpeg"><br><img src="https://habrastorage.org/webt/il/qe/jf/ilqejfnwtv6dsypzxlfphpp4bik.jpeg"><br><img src="https://habrastorage.org/webt/cr/-o/qb/cr-oqbz0oz8jfeik7pydles-8h4.jpeg"></p></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de438106/">https://habr.com/ru/post/de438106/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de438094/index.html">Die Nuancen der Werkzeuge für Ziellänge und Abstimmungsmesser in PADS Professional / Xpedition</a></li>
<li><a href="../de438096/index.html">Lesenswerte Bücher für jeden Produktmanager</a></li>
<li><a href="../de438098/index.html">Frühling, Bytecode, JDK: Top 10 Berichte von JBreak 2018</a></li>
<li><a href="../de438100/index.html">Wo Daten hingehen: 12 Angriffe, Hacks und Lecks</a></li>
<li><a href="../de438104/index.html">Keine Blockchain</a></li>
<li><a href="../de438108/index.html">SEO und Kontext: Was soll ich wählen und ob soll ich wählen?</a></li>
<li><a href="../de438110/index.html">Schienen + Postgres + Bindungen</a></li>
<li><a href="../de438112/index.html">Eine Silberkugel finden: Schauspieler + FRP in Reaktion</a></li>
<li><a href="../de438116/index.html">Umweltverträglichkeitsprüfung von Musikmedien: digitale Musik, analoge Aufnahmen und CDs</a></li>
<li><a href="../de438118/index.html">Mit Dex-Net 4.0 können Ambidextro-Roboter das Beste heraussuchen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>