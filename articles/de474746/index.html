<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèº ‚ùì üì¶ Objektspeicher im Hinterzimmer oder So werden Sie Ihr eigener Dienstleister üë®‚Äçüë¶‚Äçüë¶ üíÄ üë≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Welt sah 1996 den ersten Prototyp der Objektspeicherung. Nach 10 Jahren werden Amazon Web Services Amazon S3 starten und die Welt wird systematisc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Objektspeicher im Hinterzimmer oder So werden Sie Ihr eigener Dienstleister</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/veeam/blog/474746/"><p>  Die Welt sah 1996 den ersten Prototyp der Objektspeicherung.  Nach 10 Jahren werden Amazon Web Services Amazon S3 starten und die Welt wird systematisch verr√ºckt nach einem flachen Adressraum.  Dank der Arbeit mit Metadaten und der F√§higkeit zur Skalierung ohne Durchh√§ngen unter Last wurde der Objektspeicher schnell zum Standard f√ºr die meisten Cloud-Speicherdienste und mehr.  Ein weiteres wichtiges Merkmal ist die gute F√§higkeit, Archive und √§hnliche selten verwendete Dateien zu speichern.  Alle, die mit Datenspeicherung zu tun hatten, freuten sich und nahmen die neue Technologie in die Hand. </p><br><p><img src="https://habrastorage.org/webt/qy/bh/on/qybhon6eznwjioedof1nfoqb55s.png"></p><br><p>  Aber das Ger√ºcht von Menschen war voller Ger√ºchte, dass es bei der Objektspeicherung nur um gro√üe Wolken geht, und wenn Sie keine L√∂sungen von den verdammten Kapitalisten ben√∂tigen, wird es sehr schwierig sein, Ihre eigenen zu machen.  Es wurde viel √ºber die Bereitstellung der Cloud geschrieben, aber es gibt nicht viele Informationen √ºber die Erstellung der sogenannten S3-kompatiblen L√∂sungen. </p><br><p>  Daher werden wir heute herausfinden, welche Optionen "Um es mehr wie Erwachsene, nicht wie CEPH und eine gr√∂√üere Datei zu machen" sind. Wir werden eine davon erweitern und mit Veeam Backup &amp; Replication pr√ºfen, ob alles funktioniert.  Es wird Unterst√ºtzung f√ºr die Arbeit mit S3-kompatiblen Repositorys beansprucht, und wir werden diese Anweisung √ºberpr√ºfen. </p><a name="habracut"></a><br><p>  <strong>Wie w√§re es mit anderen?</strong> </p><br><p>  Ich schlage vor, mit einem kurzen √úberblick √ºber den Markt und die Optionen f√ºr die Objektspeicherung zu beginnen.  Ein anerkannter Marktf√ºhrer und Standard ist der Amazon S3.  Die beiden n√§chsten Verfolger sind Microsoft Azure Blob Storage und IBM Cloud Object Storage. </p><br><p> Ist das alles  Gibt es wirklich keine anderen Wettbewerber?  Nat√ºrlich gibt es Wettbewerber, aber jemand geht seinen eigenen Weg, wie Google Cloud oder Oracle Cloud Object Storage, mit unvollst√§ndiger Unterst√ºtzung f√ºr die S3-API.  Jemand verwendet √§ltere Versionen der API wie Baidu Cloud.  Und einige, wie Hitachi Cloud, erfordern die Verwendung spezieller Logik, was ihre Schwierigkeiten mit Sicherheit verursachen wird.  In jedem Fall wird jeder mit Amazon verglichen, was als Industriestandard angesehen werden kann. </p><br><p>  On-Premise-L√∂sungen bieten jedoch viel mehr Auswahlm√∂glichkeiten. Lassen Sie uns daher Kriterien identifizieren, die f√ºr uns wichtig sind.  Grunds√§tzlich reichen nur zwei aus: Unterst√ºtzung der S3-API und Verwendung der v4-Signatur.  Hand in Hand sind wir als zuk√ºnftiger Kunde nur an Schnittstellen f√ºr die Interaktion interessiert, und die interne K√ºche des Lagers selbst ist f√ºr uns nicht so interessant. </p><br><p>  Nun, viele L√∂sungen sind f√ºr diese einfachen Bedingungen geeignet.  Zum Beispiel klassische Unternehmensschwergewichte: </p><br><ul><li>  DellEMC ECS </li><li>  NetApp S3 StorageGrid </li><li>  Nutanix-Eimer </li><li>  Pure Storage FlashBlade und StorReduce </li><li>  Huawei FusionStorage </li></ul><br><p>  Es gibt eine Nische mit reinen Softwarel√∂sungen, die sofort einsatzbereit sind: </p><br><ul><li>  Red Hat Ceph </li><li>  SUSE Enterprise Storage </li><li>  Cloudian </li></ul><br><p>  Und auch diejenigen, die die Datei nach dem Zusammenbau sorgf√§ltig bearbeiten m√∂chten, waren nicht beleidigt: </p><br><ul><li>  Reine Ceph </li><li>  Minio (Linux-Version, f√ºr die Windows-Version gibt es viele Fragen) </li></ul><br><p>  Die Liste ist alles andere als vollst√§ndig, sie kann in den Kommentaren besprochen werden.  Denken Sie daran, vor der Implementierung zus√§tzlich zur Kompatibilit√§ts-API die Systemleistung zu √ºberpr√ºfen.  Das Letzte, was Sie brauchen, ist der Verlust von Terabytes an Daten aufgrund von h√§ngenden Anforderungen.  F√ºhlen Sie sich also frei, Stresstests durchzuf√ºhren.  Im Allgemeinen verf√ºgt jede Software f√ºr Erwachsene, die mit gro√üen Datenmengen arbeitet, √ºber mindestens Kompatibilit√§tsberichte.  Im Fall von <em>Veeam</em> gibt es ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ganzes Programm</a> f√ºr gegenseitige Tests, mit dem Sie die vollst√§ndige Kompatibilit√§t unserer Produkte mit bestimmten Ger√§ten sicher erkl√§ren k√∂nnen.  Dies ist bereits eine wechselseitige Arbeit, nicht immer schnell, aber wir erweitern st√§ndig die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Liste der</a> getesteten L√∂sungen. </p><br><p>  <strong>Stellen Sie unseren Stand zusammen</strong> </p><br><p>  Ich m√∂chte ein wenig √ºber die Auswahl eines Testobjekts sprechen. </p><br><p>  Erstens wollte ich eine Option finden, die sofort funktioniert.  Nun, oder zumindest mit der maximalen Wahrscheinlichkeit, dass er verdient, ohne zus√§tzliche Gesten machen zu m√ºssen.  Mit einem Tamburin zu tanzen und nachts die Konsole zu pfl√ºcken ist sehr aufregend, aber manchmal m√∂chte ich, dass es sofort funktioniert.  Und die allgemeine Zuverl√§ssigkeit solcher L√∂sungen ist normalerweise h√∂her.  Und ja, der Geist des Adventurismus verschwand in uns, wir h√∂rten auf, durch die Fenster unserer geliebten Frauen zu klettern usw. (c). </p><br><p>  Zweitens, um ehrlich zu sein, besteht f√ºr ziemlich gro√üe Unternehmen die Notwendigkeit, mit Objektspeicher zu arbeiten. Dies ist also der Fall, wenn die Suche nach L√∂sungen auf Unternehmensebene nicht nur nicht peinlich ist, sondern sogar gef√∂rdert wird.  Jedenfalls kenne ich noch keine Beispiele daf√ºr, dass jemand f√ºr den Kauf solcher L√∂sungen entlassen wurde. </p><br><p>  Aufgrund des Vorstehenden fiel meine Wahl auf die <em>Dell EMC ECS Community Edition</em> .  Dies ist ein sehr interessantes Projekt, und ich halte es f√ºr notwendig, Ihnen davon zu erz√§hlen. </p><br><p>  Das erste, was mir beim Betrachten des <em>Community Edition-</em> Add-ons einf√§llt, ist, dass es sich nur um ein Transparentpapier aus einem vollwertigen ECS mit einigen Einschr√§nkungen handelt, die durch den Kauf einer Lizenz beseitigt werden.  Also nein! </p><br><p>  Denken Sie daran: </p><br><p>  <strong>!!! Community Edition ist ein separates Projekt zum Testen und ohne technischen Support von Dell !!</strong> <br>  Und es kann nicht in ein vollwertiges ECS verwandelt werden, selbst wenn Sie es wirklich wollen. </p><br><p>  <strong>Lass uns verstehen</strong> </p><br><p>  Viele Leute denken, dass Dell EMC ECS fast die beste L√∂sung ist, wenn Sie Objektspeicher ben√∂tigen.  Alle Projekte unter der Marke ECS, einschlie√ülich kommerzieller und gesch√§ftlicher, liegen auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> .  Eine Art Geste des guten Willens von Dell.  Zus√§tzlich zu der Software, die auf der Markenhardware ausgef√ºhrt wird, gibt es eine Open Source-Version, die auch in der Cloud bereitgestellt werden kann, zumindest auf einer virtuellen Maschine, zumindest im Container, zumindest auf einer Ihrer Hardware.  Vorausschauend - es gibt sogar eine OVA-Version, die wir verwenden werden. <br>  Die DELL ECS Community Edition selbst ist eine Mini-Version der vollst√§ndigen Software, die auf Servern der Marke Dell EMC ECS ausgef√ºhrt wird. </p><br><p>  Ich habe vier Hauptunterschiede hervorgehoben: </p><br><ul><li>  Keine Verschl√ºsselungsunterst√ºtzung.  Es ist eine Schande, aber nicht kritisch. </li><li>  Fehlende Stofflage.  Dieses Ding ist f√ºr die Clusterbildung, Ressourcenverwaltung, Aktualisierungen, √úberwachung und Speicherung von Docker-Images verantwortlich.  Hier ist es schon sehr entt√§uschend, aber Dell kann auch verstanden werden. </li><li>  Die schlimmste Folge des vorherigen Absatzes: Die Gr√∂√üe des Knotens kann nach Abschluss der Installation nicht erweitert werden. </li><li>  Kein technischer Support.  Dies ist ein Produkt zum Testen, das in kleinen Installationen nicht verboten ist, aber ich pers√∂nlich w√ºrde es nicht wagen, Petabytes an wichtigen Daten dort hochzuladen.  Aber technisch kann dich niemand davon abhalten. </li></ul><br><p><img src="https://habrastorage.org/webt/xu/za/mx/xuzamxqlzd-n5xqrf1ysuwcdwv0.png"></p><br><p>  <strong>Und was ist in der gro√üen Version?</strong> </p><br><p>  Wir galoppieren durch Europa nach Eisenl√∂sungen, um ein umfassenderes Bild des √ñkosystems zu erhalten. </p><br><p>  Ich werde die Aussage, dass DELL ECS der beste On-Prem-Objektspeicher ist, nicht best√§tigen oder ablehnen, aber wenn Sie zu diesem Thema etwas zu sagen haben, werde ich es gerne in den Kommentaren lesen.  Laut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IDC MarketScape 2018 ist</a> Dell EMC auf jeden Fall einer der f√ºnf f√ºhrenden Anbieter auf dem OBS-Markt.  Obwohl cloudbasierte L√∂sungen dort nicht ber√ºcksichtigt werden, handelt es sich um ein separates Problem. </p><br><p>  Aus technischer Sicht ist ECS ein Objektspeicher, der √ºber Cloud-Speicherprotokolle den Zugriff auf Daten erm√∂glicht.  Unterst√ºtzt AWS S3 und OpenStack Swift.  F√ºr dateif√§higen Bucket unterst√ºtzt ECS NFSv3 f√ºr Dateiexportfunktionen. </p><br><p>  Das Aufzeichnen von Informationen ist besonders nach den klassischen Blockspeichersystemen recht ungew√∂hnlich. </p><br><ul><li>  Wenn neue Daten eintreffen, wird ein neues Objekt erstellt, das einen Namen, die Daten selbst und Metadaten hat. </li><li>  Objekte schlagen auf 128-MB-Chunks, und jeder Chunk wird sofort auf drei Knoten aufgezeichnet. </li><li>  Die Indexdatei wird aktualisiert, wobei Kennungen und Speicherorte aufgezeichnet werden. </li><li>  Die Protokolldatei (Protokollsatz) wird aktualisiert und auch auf drei Knoten geschrieben. </li><li>  Eine Nachricht √ºber die erfolgreiche Aufzeichnung wird an den Client gesendet <br>  Alle drei Kopien der Daten werden parallel aufgezeichnet.  Die Aufnahme gilt nur dann als erfolgreich, wenn alle drei Kopien erfolgreich aufgenommen wurden. </li></ul><br><p><img src="https://habrastorage.org/webt/ja/za/la/jazalacrokroce26vjjl7rbggyw.png"></p><br><p>  Das Lesen ist einfacher: </p><br><ul><li>  Der Client fordert Daten an. </li><li>  Der Index sucht nach einem Speicherort f√ºr Daten. </li><li>  Daten werden von einem Knoten gelesen und an den Client gesendet. </li></ul><br><p><img src="https://habrastorage.org/webt/k9/j2/ib/k9j2ibyuhdfbtvuuze61rb5mt8i.png"></p><br><p>  Es gibt einige Server selbst, schauen wir uns also den kleinsten Dell EMC ECS EX300 an.  Es beginnt bei 60 TB, mit der F√§higkeit, auf 1,5 TB zu wachsen.  Und sein √§lterer Bruder Dell EMC ECS EX3000 kann bereits bis zu 8,6 Pb pro Rack speichern. </p><br><p>  <strong>Bereitstellen</strong> </p><br><p>  Technisch gesehen kann Dell ECS CE in beliebiger Gr√∂√üe bereitgestellt werden.  Auf jeden Fall habe ich keine expliziten Einschr√§nkungen gefunden.  Die gesamte Skalierung erfolgt jedoch bequem durch Klonen des allerersten Knotens, f√ºr den wir Folgendes ben√∂tigen: </p><br><ul><li>  8 vCPU </li><li>  64 GB RAM </li><li>  16 GB f√ºr Betriebssysteme </li><li>  1 TB direkt f√ºr die Speicherung </li><li>  Neueste CentOS-Minimalversion </li></ul><br><p>  Dies ist eine Option f√ºr den Fall, dass Sie von Anfang an alles selbst installieren m√∂chten.  F√ºr uns ist diese Option nicht relevant, weil  Ich werde das OVA-Image f√ºr die Bereitstellung verwenden. </p><br><p>  Aber in jedem Fall sind die Anforderungen selbst f√ºr einen Knoten sehr schlecht, und wenn Sie sich strikt an den Buchstaben des Gesetzes halten, gibt es vier solcher Knoten. </p><br><p>  Die Entwickler von ECS CE leben jedoch in der realen Welt, und die Installation ist auch mit einem einzelnen Knoten erfolgreich. Die Mindestanforderungen lauten wie folgt: </p><br><ul><li>  4 vCPU </li><li>  16 GB RAM </li><li>  16 GB f√ºr Betriebssysteme </li><li>  104 GB Self Storage </li></ul><br><p>  Diese Ressourcen werden zum Bereitstellen eines OVA-Images ben√∂tigt.  Schon viel humaner und realistischer. </p><br><p>  Der Installationsknoten selbst kann im offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github √ºbernommen werden</a> .  Es gibt auch eine detaillierte Dokumentation zum All-in-One-Einsatz, aber Sie k√∂nnen immer noch die offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Readthedocs</a> lesen.  Daher werden wir uns nicht im Detail mit dem Einsatz von OVA befassen, es gibt keine Tricks.  Die Hauptsache - vergessen Sie nicht, bevor Sie es starten, entweder die Festplatte auf das gew√ºnschte Volumen zu erweitern oder die erforderlichen anbringen. <br>  Wir starten das Auto, √∂ffnen die Konsole und verwenden die besten Standard-Credits: </p><br><ul><li>  Login: admin </li><li>  Passwort: ChangeMe </li></ul><br><p>  Dann starten wir sudo nmtui und konfigurieren die Netzwerkschnittstelle - IP / Maske, DNS und Gate.  In Anbetracht dessen, dass CentOS minimal keine Netzwerkzeuge hat, √ºberpr√ºfen wir die Einstellungen √ºber die IP-Adresse. </p><br><p><img src="https://habrastorage.org/webt/kn/q-/ha/knq-haxvfdp9awyooe8oejtiqco.png"></p><br><p>  Und da die Meere nur mutig einreichen, machen wir ein Update und starten danach neu.  In der Tat ist es ziemlich sicher, weil  Die gesamte Bereitstellung erfolgt √ºber Playbooks, und alle wichtigen Docker-Pakete sind in der aktuellen Version gesperrt. </p><br><p>  Jetzt ist es Zeit, das Installationsskript zu bearbeiten.  Keine sch√∂nen Fenster oder Pseudo-UI f√ºr Sie - alles √ºber Ihren bevorzugten Texteditor.  Rein technisch gibt es zwei M√∂glichkeiten: Sie k√∂nnen jeden Befehl mit Handles starten oder den videploy-Konfigurator sofort starten.  Es √∂ffnet einfach die Konfiguration in vim und f√ºhrt beim Beenden die √úberpr√ºfung durch.  Eine gezielte Vereinfachung Ihres Lebens ist jedoch nicht interessant. Wir werden also zwei weitere Teams bilden.  Obwohl es keinen Sinn macht, habe ich dich gewarnt =) </p><br><p>  Also f√ºhren wir vim ECS-CommunityEdition / deploy.xml aus und nehmen die optimalen minimalen √Ñnderungen vor, damit ECS aktiviert wird und funktioniert.  Die Liste der Parameter kann gek√ºrzt werden, aber mir hat Folgendes gefallen: </p><br><ul><li>  licensed_accepted: true Sie k√∂nnen es nicht √§ndern. Bei der Bereitstellung werden Sie explizit aufgefordert, es zu akzeptieren, und es wird ein netter Satz angezeigt.  Vielleicht ist das sogar ein Osterei. <br><img src="https://habrastorage.org/webt/pp/09/uj/pp09ujwekpze79i1nchvg_pf0ru.png"></li><li>  Kommentieren Sie die Zeilen mit den automatischen Namen aus: und benutzerdefiniert: Geben Sie mindestens einen gew√ºnschten Namen f√ºr den Knoten ein - der Hostname wird w√§hrend des Installationsvorgangs durch diesen ersetzt. </li><li>  install_node: 192.168.1.1 Geben Sie die realen IP-Knoten an.  In unserem Fall geben wir dasselbe wie in nmtui an </li><li>  DNS_Domain: Geben Sie Ihre Domain ein. </li><li>  DNS-Server: Geben Sie Ihre DNS ein. </li><li>  ntp_servers: Sie k√∂nnen beliebige angeben.  Ich nahm die erste aus dem Pool 0.pool.ntp.org (es wurde 91.216.168.42) </li><li>  Autonaming: Benutzerdefiniert Wenn Sie das Kommentarzeichen nicht entfernen, wird der Mond Luna genannt. </li><li>  ecs_block_devices: <br>  / dev / sdb <br>  Aus einem unbekannten Grund ist m√∂glicherweise ein Blockspeicherger√§t / dev / vda nicht vorhanden </li><li>  Speicherpools: <br>  Mitglieder: <br>  192.168.1.1 Auch hier geben wir die realen IP-Knoten an </li><li>  ecs_block_devices: <br>  / dev / sdb Wiederholen Sie den Vorgang zum Schneiden nicht vorhandener Ger√§te. </li></ul><br><p>  Im Allgemeinen wird die gesamte Datei in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> ausf√ºhrlich beschrieben, aber wer wird sie in einer so hektischen Zeit lesen?  Es hei√üt auch, dass das Minimum ausreicht, um die IP und die Maske zu spezifizieren, aber in meinem Labor war diese Einrichtung nicht gut und ich musste auf das oben Gesagte erweitern. </p><br><p><img src="https://habrastorage.org/webt/3h/gq/qh/3hgqqh73fuxttgqzjleit46fyse.png"></p><br><p>  F√ºhren Sie nach dem Beenden des Editors update_deploy /home/admin/ECS-CommunityEdition/deploy.yml aus. Wenn alles korrekt ausgef√ºhrt wurde, wird dies explizit gemeldet. </p><br><p><img src="https://habrastorage.org/webt/s-/hs/xh/s-hsxhpbz_mbyqbmqmcwzjj7tce.png"></p><br><p>  Dann m√ºssen Sie noch videploy starten, auf die Aktualisierung der Umgebung warten und die Installation selbst mit dem Befehl ova-step1 und nach erfolgreicher Ausf√ºhrung mit dem Befehl ova-step2 starten.  Wichtig: H√∂ren Sie nicht auf, mit Ihren H√§nden zu schreiben!  Einige Schritte k√∂nnen einige Zeit in Anspruch nehmen, werden beim ersten Versuch nicht ausgef√ºhrt und sehen so aus, als w√§re alles kaputt.  In jedem Fall m√ºssen Sie warten, bis das Skript auf nat√ºrliche Weise abgeschlossen ist.  Am Ende sollten Sie so etwas sehen. </p><br><p><img src="https://habrastorage.org/webt/nq/qi/ry/nqqiryv7ke9iyt7crqvob-_fhzi.png"></p><br><p>  Jetzt k√∂nnen wir endlich das WebUI-Kontrollfeld √ºber die uns bekannte IP √∂ffnen.  Wenn Sie die Konfigurationsphase nicht ge√§ndert haben, lautet das Standardkonto root / ChangeMe.  Sie k√∂nnen unseren S3-kompatiblen Speicher sogar sofort nutzen.  Es ist an den Ports 9020 f√ºr HTTP und 9021 f√ºr HTTPS verf√ºgbar.  Wenn Sie nichts ge√§ndert haben, klicken Sie erneut auf access_key: object_admin1 und secret_key: ChangeMeChangeMeChangeMeChangeMeChangeMe. </p><br><p>  Aber lasst uns nicht weiterkommen und in der richtigen Reihenfolge beginnen. </p><br><p><img src="https://habrastorage.org/webt/h8/z0/nv/h8z0nv8zmutp4fuaaljuxph-9pe.png"></p><br><p>  Bei der ersten Anmeldung werden Sie zwangsweise aufgefordert, das Passwort in ein angemessenes zu √§ndern, was absolut korrekt ist.  Das Haupt-Dashboard ist √§u√üerst verst√§ndlich. Lassen Sie uns also etwas Interessanteres tun, als die offensichtlichen Metriken zu erkl√§ren.  Erstellen Sie beispielsweise einen Benutzer, mit dem wir auf das Repository zugreifen.  In der Welt der Dienstleister werden sie als Mieter bezeichnet.  Dies erfolgt unter Verwalten&gt; Benutzer&gt; Neuer Objektbenutzer </p><br><p><img src="https://habrastorage.org/webt/ly/tq/_i/lytq_inxpqyy1shfzioiyzqxbcc.png"></p><br><p>  Beim Erstellen eines Benutzers werden wir aufgefordert, einen Namespace anzugeben.  Technisch gesehen hindert uns nichts daran, so viele Benutzer zu bekommen, wie es Benutzer geben wird.  Umgekehrt.  Auf diese Weise k√∂nnen Sie Ressourcen f√ºr jeden Mandanten unabh√§ngig verwalten. </p><br><p>  Dementsprechend w√§hlen wir die Funktionen aus, die wir ben√∂tigen, und generieren die Benutzerschl√ºssel.  S3 / Atmos wird mir reichen.  Und vergiss nicht den Schl√ºssel zu speichern;) </p><br><p><img src="https://habrastorage.org/webt/kc/4g/4h/kc4g4hb2w6ya7wbkqlhuaowmhko.png"></p><br><p>  Der Benutzer wurde erstellt. Jetzt muss er den Bucket ausw√§hlen.  Gehen Sie zu Verwalten&gt; Bucket und f√ºllen Sie die erforderlichen Felder aus.  Hier ist alles einfach. </p><br><p><img src="https://habrastorage.org/webt/zl/pa/vh/zlpavhyndrctg7s6y2t44rs-tgw.png"></p><br><p>  Jetzt sind wir bereit f√ºr die vollst√§ndige Nutzung unseres S3-Speichers. </p><br><p>  <strong>Fertigen Sie Veeam besonders an</strong> </p><br><p>  Wie wir uns erinnern, ist eine der Hauptanwendungen der Objektspeicherung die Langzeitspeicherung von Informationen, auf die selten zugegriffen wird.  Ein ideales Beispiel ist die Notwendigkeit, Backups an einem Remote-Standort zu speichern.  In Veeam Backup &amp; Replication wird diese Funktion als Capacity Tier bezeichnet. </p><br><p>  Beginnen wir mit dem Setup, indem wir unser Dell ECS CE zur Veeam-Schnittstelle hinzuf√ºgen.  Starten Sie auf der Registerkarte Sicherungsinfrastruktur den Assistenten zum Hinzuf√ºgen eines neuen Repositorys und w√§hlen Sie das Objektspeicherelement aus. </p><br><p><img src="https://habrastorage.org/webt/4a/il/nj/4ailnjz2rhq34njcndqp6fun2vc.png"></p><br><p>  Wir w√§hlen, worum es geht - S3-kompatibel. </p><br><p><img src="https://habrastorage.org/webt/o0/ph/xy/o0phxyprkvi_oscktizel7huwj8.png"></p><br><p>  Geben Sie im angezeigten Fenster den gew√ºnschten Namen ein und fahren Sie mit dem Schritt Konto fort.  Hier m√ºssen Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Servicepunkt</a> in der Form <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https: // your_IP: 9021 angeben</a> . Sie k√∂nnen die Region <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unver√§ndert</a> lassen und den erstellten Benutzer hinzuf√ºgen.  Ein Gate-Server wird ben√∂tigt, wenn sich Ihr Speicher an einem Remotestandort befindet. Dies ist jedoch bereits ein Thema der Infrastrukturoptimierung und ein separater Artikel, sodass Sie hier sicher √ºberspringen k√∂nnen. </p><br><p><img src="https://habrastorage.org/webt/6v/ub/vy/6vubvylw5cxuyiz_4vtti6dhviu.png"></p><br><p>  Wenn alles korrekt angegeben und konfiguriert ist, wird eine Zertifikatswarnung ausgegeben und anschlie√üend ein Fenster mit einem Eimer, in dem Sie einen Ordner f√ºr unsere Dateien erstellen k√∂nnen. </p><br><p><img src="https://habrastorage.org/webt/ux/by/uv/uxbyuv_dqcew5zin2v_nvozfmh4.png"></p><br><p>  Wir gehen den Assistenten bis zum Ende durch und genie√üen das Ergebnis. </p><br><p><img src="https://habrastorage.org/webt/v0/ud/cx/v0udcxh2stuvolvqbl8fyplnrdy.png"></p><br><p>  Im n√§chsten Schritt m√ºssen Sie entweder ein neues Scale-out-Backup-Repository erstellen oder unser S3 zum vorhandenen hinzuf√ºgen - es wird als Kapazit√§tsstufe f√ºr die Archivspeicherung verwendet.  Funktionen zur direkten Verwendung von S3-kompatiblen Repositorys, wie z. B. ein regul√§res Repository, sind in der aktuellen Version nicht enthalten.  Hierf√ºr m√ºssen zu viele, eher nicht offensichtliche Probleme gel√∂st werden, aber es kann alles sein. <br>  Wir gehen in die Repository-Einstellungen und aktivieren die Kapazit√§tsstufe.  Dort ist alles transparent, aber es gibt eine interessante Nuance: Wenn Sie m√∂chten, dass alle Daten so schnell wie m√∂glich an den Objektspeicher gesendet werden, setzen Sie einfach 0 Tage. </p><br><p><img src="https://habrastorage.org/webt/lu/9c/bw/lu9cbwqq3asnqszw2vh4c6qzx3y.png"></p><br><p>  Wenn Sie nach dem Bestehen des Assistenten nicht warten m√∂chten, k√∂nnen Sie im Repository Strg + RMB dr√ºcken, den Tiering-Job starten und das Crawlen der Diagramme beobachten. </p><br><p><img src="https://habrastorage.org/webt/_9/pa/zo/_9pazooynmywt14iqjdwleocbem.png"></p><br><p>  Das ist alles f√ºr jetzt.  Ich betrachte es als Aufgabe, zu zeigen, dass Blockspeicher nicht so be√§ngstigend sind, wie es √ºblich ist, dachte ich.  Ja, es gibt L√∂sungen und Optionen f√ºr einen Wagen und einen kleinen Wagen, aber Sie k√∂nnen nicht alles in einem Artikel behandeln.  Lassen Sie uns also die Erfahrung in den Kommentaren teilen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de474746/">https://habr.com/ru/post/de474746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de474726/index.html">Sogar Kinder werden verstehen: eine einfache Erkl√§rung von Async / Warten und Versprechen in JavaScript</a></li>
<li><a href="../de474732/index.html">Arbeiten Sie mit der Liste der Pins in C ++ f√ºr Mikrocontroller (am Beispiel von CortexM).</a></li>
<li><a href="../de474738/index.html">Geometrische Modellierung von Verrundungsoberfl√§chen</a></li>
<li><a href="../de474740/index.html">Das Beste aus dem Computer History Museum in Mountain View</a></li>
<li><a href="../de474744/index.html">Uber steigt in den Finanzdienstleistungsmarkt ein und startet den Gesch√§ftsbereich Uber Money</a></li>
<li><a href="../de474748/index.html">Service Desk Systeme und deren Integration. Wie kann der Prozess der Zusammenarbeit mit Auftragnehmern und Herstellern automatisiert werden?</a></li>
<li><a href="../de474754/index.html">PHP-Sicherheit: Wo und wie werden Passw√∂rter gespeichert? Teil 1</a></li>
<li><a href="../de474756/index.html">VMworld Europe 2019: Schl√ºsselank√ºndigungen und Auspacken des legend√§ren Rucksacks</a></li>
<li><a href="../de474760/index.html">Wir befestigen ngx-translate in Angular-Anwendung. Praktische Anleitung</a></li>
<li><a href="../de474762/index.html">Seminar: Hybride IT-L√∂sungen f√ºr Unternehmen. 14. November Moskau</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>