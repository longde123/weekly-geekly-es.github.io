<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∞üèº üèÜ üç¢ Le livre "Safe DevOps. Fonctionnement efficace du syst√®me üé∫ ü•® üòÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut, habrozhiteli! Une application ex√©cut√©e dans le cloud pr√©sente de nombreux avantages, mais est en m√™me temps soumise √† des menaces particuli√®res...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le livre "Safe DevOps. Fonctionnement efficace du syst√®me</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/468085/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/ve/lp/sc/velpscrkxhyi-ycjwxfywsc4hhw.jpeg" align="left" alt="image"></a>  Salut, habrozhiteli!  Une application ex√©cut√©e dans le cloud pr√©sente de nombreux avantages, mais est en m√™me temps soumise √† des menaces particuli√®res.  La t√¢che des √©quipes DevOps est d'√©valuer ces risques et de renforcer la protection du syst√®me contre eux.  Le livre est bas√© sur l'exp√©rience unique de l'auteur et propose les solutions strat√©giques les plus importantes pour prot√©ger les applications Web contre les attaques, pour emp√™cher les tentatives d'envahissement.  Vous verrez comment garantir la fiabilit√© avec des tests automatis√©s, une livraison continue et des processus DevOps cl√©s.  Apprenez √† identifier, √©valuer et corriger les vuln√©rabilit√©s qui existent dans votre application.  L'auteur vous aidera √† naviguer dans les configurations cloud, ainsi qu'√† appliquer des outils d'automatisation populaires.  N√©cessite une connaissance de Linux et une connaissance des pratiques DevOps standard telles que les tests CI, CD et unitaires. <br><a name="habracut"></a><br><br><h3>  Extrait.  Chapitre 8. Analyse des journaux pour la d√©tection des intrusions et des attaques </h3><br>  Dans ce chapitre: <br><br><ul><li>  Explorer les composants de niveau analyse dans un pipeline de journalisation. </li><li>  D√©tectez les intrusions et les attaques √† l'aide de signatures de cha√Ænes, de statistiques et de donn√©es historiques. </li><li>  Gestion des moyens de notifier de mani√®re optimale les utilisateurs. </li></ul><br>  Au chapitre 7, vous avez appris √† cr√©er un pipeline de journalisation qui collecte, transf√®re, analyse et stocke les journaux de l'ensemble de l'infrastructure, et leur donne √©galement acc√®s.  Un pipeline √† plusieurs niveaux cr√©e une infrastructure flexible dans laquelle les journaux de diverses sources sont utilis√©s pour surveiller l'activit√© des services de l'organisation.  Le chapitre 7 a donn√© un aper√ßu des fonctionnalit√©s fournies par tous les niveaux du pipeline.  Dans ce chapitre, nous allons nous concentrer sur le troisi√®me niveau - le niveau d'analyse - et nous plonger dans des techniques et des exemples de code li√©s √† la d√©tection d'intrusions et d'attaques sur les services. <br><br>  Le pipeline de journalisation utilis√© par Mozilla lors de l'√©criture du livre est similaire √† celui illustr√© au chapitre 7. Le pipeline est utilis√© pour surveiller l'√©tat des clients Firefox (appel√© <i>t√©l√©m√©trie</i> ) dans un environnement naturel, traiter les journaux des applications et des services et d√©tecter une activit√© inhabituelle.  Le centre logique du pipeline est au niveau de l'analyse, compos√© de nombreux petits programmes qui recherchent constamment quelque chose d'inhabituel.  Ces petits programmes ne sont pas assez avanc√©s pour traiter l'entr√©e et la sortie des √©v√©nements de journal, ils transf√®rent donc cette t√¢che √† un centre de donn√©es d√©di√© - le programme Hindsight (http://mng.bz/m4gg), con√ßu pour effectuer le travail d'analyse des plug-ins sur les flux de donn√©es . <br><br>  Dans ce chapitre, nous utiliserons Hindsight pour lire diff√©rents types de magazines et √©crire des plugins originaux pour les analyser. <br><br><blockquote><h4>  REMARQUE </h4>  Des exemples de journaux et de plugins pour ce chapitre sont disponibles sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">securing-devops.com/ch08/logging-pipeline</a> .  Vous devez copier ce r√©f√©rentiel sur votre machine locale et obtenir le conteneur Hindsight Docker pour ex√©cuter les exemples. </blockquote><br>  Commen√ßons par d√©crire comment les diff√©rentes parties du niveau d'analyse sont organis√©es: Hindsight est situ√© au milieu, et les niveaux de collecte et de stockage sont des deux c√¥t√©s.  Ensuite, nous parlerons de trois approches diff√©rentes pour d√©tecter les intrusions et les attaques.  Pour les plus simples d'entre elles, des signatures de cha√Ænes sont utilis√©es qui contiennent des informations sur les attaques connues pour envoyer des notifications.  Ensuite, nous comparons les mod√®les statistiques et l'approche avec des signatures, et apprenons √©galement comment ces deux approches se compl√®tent.  Enfin, examinons les moyens d'appliquer les donn√©es historiques d'activit√© des utilisateurs pour identifier les zones suspectes parmi les connexions. <br><br>  La derni√®re section du chapitre concerne l'envoi de notifications.  Il est peu probable que vous souhaitiez recevoir chaque jour des milliers de notifications du niveau d'analyse, ce qui cr√©era beaucoup de bruit au lieu d'√™tre utile.  Si cela n'est pas modifi√©, les destinataires consid√©reront les notifications comme du spam et les ignoreront.  Dans la derni√®re section de ce chapitre, nous examinerons les meilleures pratiques pour organiser l'envoi de notifications, ainsi que des moyens d'envoyer des notifications avec pr√©cision et efficacit√© aux administrateurs et aux utilisateurs finaux. <br><br><h4>  8.2.  D√©tection des attaques √† l'aide de signatures de cha√Ænes </h4><br>  Lorsque vous travaillez avec des journaux, vous travaillez avec des cha√Ænes.  Et cela signifie que le moyen le plus simple d'identifier les signes de fraude consiste √† comparer les journaux avec une liste de lignes malveillantes connues.  Cela peut sembler simple, mais c'est pr√©cis√©ment ces ann√©es que l'industrie de la s√©curit√© s'est engag√©e.  Les pare-feu d'applications Web (WAF), si populaires au milieu des ann√©es 2000, √©taient essentiellement un r√©f√©rentiel d'expressions r√©guli√®res, qui √©taient v√©rifi√©es par rapport √† chaque demande envoy√©e √† une application Web. <br><br><blockquote><p></p><h4>  Ne vous fiez pas aux expressions r√©guli√®res </h4>  J'ai d√©j√† travaill√© pour une banque dans laquelle ce type de protection √©tait largement utilis√©.  L'√©quipe de s√©curit√© √©tait charg√©e de soutenir WAF, qui prot√©geait une vari√©t√© de services en ligne, y compris un service commercial pour les clients.  Chaque demande Web envoy√©e √† ce service passait par des centaines d'expressions r√©guli√®res avant d'arriver au serveur d'applications.  Une fois qu'un d√©veloppeur d'une √©quipe de services de trading en ligne a d√©cid√© de jeter un ≈ìil √† ces expressions r√©guli√®res.  Je ne sais pas ce qui a pouss√© l'ing√©nieur √† commencer √† lire le contenu du fichier, qui est principalement rempli de barres obliques, de symboles en dollars, d'ast√©risques, d'avantages, de carr√©s et de parenth√®ses, mais il l'a pris.  Et quelque part sur la 418e ligne dans une expression r√©guli√®re complexe, il a trouv√© une combinaison suspecte de ¬´. +¬ª.  Deux personnages innocents qui ont permis √† tout de se d√©rouler sans douleur: cette expression r√©guli√®re est similaire √† la valeur ¬´tout autoriser¬ª. <br><br>  Notre fiert√© est le pare-feu d'application Web pour plusieurs milliers d'euros, soutenu par toute une √©quipe, qui a effectu√© des centaines de v√©rifications d'expressions r√©guli√®res, affectant les performances et compliquant la conception d'un syst√®me d√©j√† complexe, et tout cela pour sauter le tout sans encombre.  Bien s√ªr, nous avons rapidement r√©solu le probl√®me, mais ma croyance en l'utilisation d'expressions r√©guli√®res pour assurer la s√©curit√© n'a pas augment√© depuis lors.  Si vous souhaitez mettre en place ce type de syst√®me de protection dans votre organisation, tenez compte de sa complexit√© pour que cela ne vous arrive pas. </blockquote><br>  Lorsqu'elles sont utilis√©es correctement, les expressions r√©guli√®res peuvent devenir un outil puissant, mais elles sont incroyablement difficiles √† √©crire, √† maintenir au fil du temps - encore plus difficiles, et leur impl√©mentation √† grande √©chelle est co√ªteuse.  Jetez un ≈ìil √† l'expression r√©guli√®re ((\% 3C) | &lt;) ((\% 2F) | \ /) * [a-z0-9 \%] + ((\% 3E) |&gt;).  Vous ne devinerez pas √† quoi il sert, donc je vais vous dire: avec lui, vous pouvez rechercher des injections dans les cha√Ænes de requ√™te HTTP, r√©v√©lant la pr√©sence de caract√®res d'in√©galit√© d'ouverture et de fermeture &lt;&gt; et leur contenu.  Vous recevrez ce type de ligne de demande HTTP d'un attaquant qui tente d'injecter du code JavaScript malveillant dans votre application pour aboutir √† une attaque de script intersite, dont nous avons discut√© au chapitre 3. <br><br>  Cette expression r√©guli√®re peut √™tre utilis√©e pour identifier les demandes suspectes contenant des tentatives d'injection.  Le listing 8.7 montre un exemple d'analyseur qui impl√©mente cela en v√©rifiant les correspondances d'expressions r√©guli√®res dans chacun des journaux d'acc√®s NGINX transmis.  L'expression r√©guli√®re est stock√©e dans la variable xss locale, sa valeur est compar√©e √† chaque valeur Fields [request] √† l'aide de la fonction rex.match (). <br><br>  S'il existe des correspondances, la fonction add_to_payload () envoie une notification indiquant que le plug-in de sortie peut recevoir et transmettre √† la destination. <br><br><blockquote><h3>  Listing 8.7.  Un plugin qui d√©tecte les messages de journal contenant des signes d'attaque dans la cha√Æne de requ√™te </h3><br><img src="https://habrastorage.org/webt/9g/_f/t_/9g_ft__g8xthelzokpz6afui150.png" alt="image"></blockquote><br>  Un exemple de sortie de ce plugin est pr√©sent√© dans l'extrait 8.8.  Plusieurs magazines ont g√©n√©r√© des notifications, dont certaines se sont r√©v√©l√©es fausses positives.  Cela est en partie d√ª au fait que les exemples de journaux ont √©t√© cr√©√©s artificiellement √† l'aide du scanner de vuln√©rabilit√© ZAP, et √©galement parce que les cha√Ænes de requ√™te ne sont pas particuli√®res pour contenir des balises HTML.  En particulier, cette expression r√©guli√®re n'aura pas un taux trop √©lev√© pour trouver des correspondances faussement positives. <br><br><blockquote><h3>  Listing 8.8.  Exemples de notifications g√©n√©r√©es par le plug-in d'analyse XSS </h3><br><img src="https://habrastorage.org/webt/x_/kw/-t/x_kw-tqj6b3gf_n2gowqq6zurue.png" alt="image"></blockquote><br>  Ce n'est qu'une expression r√©guli√®re pour un type d'attaque sp√©cifique.  Pour que cette approche soit utile, vous devez trouver quelque chose de plus que des expressions r√©guli√®res.  Pour commencer, vous pouvez collecter des signatures de diverses sources et, comme de plus en plus de signes suspects se trouvent dans les journaux, augmenter progressivement la taille de votre base de donn√©es. <br><br>  Le listing 8.9 montre une version modifi√©e de l'analyseur XSS qui recherche divers signes d'attaque (http://mng.bz/62h8).  Ce script montre comment utiliser les tables Lua pour stocker une liste d'attributs et l'utiliser cycliquement pour analyser les √©v√©nements entrants.  Dans cet exemple de code, la table suspicious_terms est une simple ligne de lignes qui utilise des sous-cha√Ænes pour rechercher des expressions r√©guli√®res, ce qui est beaucoup plus rapide.  La table suspicious_terms utilise le format de valeur-cl√© pour stocker les √©tiquettes avec l'expression afin de pouvoir vous rappeler que l'expression doit trouver. <br><br><h3>  Listing 8.9.  Rechercher des signes d'attaques √† l'aide de cha√Ænes et d'expressions </h3><br><img src="https://habrastorage.org/webt/-4/kt/nq/-4ktnqdffbwc1uidpjqdvcdj68a.png" alt="image"><br><img src="https://habrastorage.org/webt/mv/na/ul/mvnaulm65owmhzjqiaxveziil84.png" alt="image"><br><br>  Vous pouvez ex√©cuter cet analyseur √† l'aide des param√®tres de test d√©crits au d√©but du chapitre.  Lancez le conteneur Docker avec les r√©pertoires mont√©s et la sortie de l'analyseur sera √©crite dans output / payload / analysis.suspicious_signatures.alerts.txt.  Le plugin enverra des milliers de notifications, ce qui est attendu, car ces journaux sont g√©n√©r√©s par le scanner de vuln√©rabilit√© ZAP.  Cette approche peut √™tre consid√©r√©e comme r√©ussie, mais elle comporte des d√©fauts que vous devez prendre en compte. <br><br><ul><li>  <i>Les expressions r√©guli√®res sont difficiles √† √©crire et encore plus difficiles √† lire</i> .  Vous ferez des erreurs qui ne sont pas faciles √† enqu√™ter et qui n√©cessiteront des heures de d√©bogage douloureux.  Il n'y a que quatre expressions r√©guli√®res dans cet analyseur, mais la lecture de cette partie du code est d√©j√† difficile.  Peu importe √† quel point l'outil peut √™tre puissant et attrayant pour les expressions r√©guli√®res, je ne recommanderais pas de travailler constamment avec elles. </li><li>  <i>Avec cette approche, trop de notifications sont g√©n√©r√©es</i> .  Les applications Web ouvertes sur Internet re√ßoivent beaucoup de trafic inhabituel, malveillant et pas tellement.  La g√©n√©ration de notifications pour chaque signe inhabituel rendra toute √©quipe de s√©curit√© folle pendant plusieurs semaines, m√™me si le taux de faux positifs est faible.  Un trafic anormal est un ph√©nom√®ne naturel pour les services fonctionnant sur Internet. </li></ul><br>  Vous pouvez r√©soudre ces deux probl√®mes en appliquant une approche math√©matique et en rendant ce syst√®me parfait pour d√©tecter les anomalies un peu moins parfait.  Dans la section suivante, nous verrons comment utiliser des m√©thodes statistiques pour envoyer des notifications lorsqu'un seuil est d√©pass√© afin de r√©duire le bruit de la logique de d√©tection d'anomalie. <br><br><h4>  √Ä propos de l'auteur </h4><br>  Au moment d'√©crire ces <i>lignes</i> , <i>Julien Vehen</i> dirige l'√©quipe de s√©curit√© des op√©rations chez Firefox, Mozilla.  Il est responsable de la cr√©ation, de la mise en ≈ìuvre et de l'exploitation d'une strat√©gie de s√©curit√© des services Web avec laquelle des millions d'utilisateurs de Firefox interagissent quotidiennement.  Julien s'est concentr√© sur la protection des services r√©seau au d√©but des ann√©es 2000.  Il a commenc√© √† travailler en tant qu'administrateur syst√®me sous Linux et, en 2007, a obtenu une ma√Ætrise en s√©curit√© de l'information. <br><br>  ¬ªPlus d'informations sur le livre sont disponibles sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site Web de l'√©diteur</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Contenu</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Extrait</a> <br><br>  25% de r√©duction sur les <b>colporteurs</b> - <b>DevOps</b> <br><br>  Lors du paiement de la version papier du livre, un livre √©lectronique est envoy√© par e-mail. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468085/">https://habr.com/ru/post/fr468085/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468075/index.html">L'utilisation des r√©seaux de neurones siamois dans la recherche</a></li>
<li><a href="../fr468077/index.html">Posit les tests de fa√ßon adulte. Analyse spectrale</a></li>
<li><a href="../fr468079/index.html">Dimensions personnalis√©es dans Google Analytics qui nous ont fait √©conomiser plus d'une fois</a></li>
<li><a href="../fr468081/index.html">¬´Donn√©es anonymes¬ª ou ce qui est pr√©vu dans 152-FZ</a></li>
<li><a href="../fr468083/index.html">API Android Camera2 depuis la bouilloire</a></li>
<li><a href="../fr468087/index.html">M√©thode de division bisectionnelle dans les tests</a></li>
<li><a href="../fr468089/index.html">Red√©finition bas√©e sur l'√©dition: est-il possible en production?</a></li>
<li><a href="../fr468091/index.html">Le projet de loi sur la cr√©ation d'une base de donn√©es unique avec les donn√©es des citoyens adopt√© √† la Douma d'Etat en premi√®re lecture</a></li>
<li><a href="../fr468093/index.html">Nitrates dans les produits: magasins suisses vs magasins russes vs chalet d'√©t√©</a></li>
<li><a href="../fr468097/index.html">Microsoft Edge - XSS g√©n√©rique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>