<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆙 ⛏️ 🔢 在苏联可编程计算器“ Electronics MK-52”的体系结构中实现 🙈 🍸 🚣🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在本文中，我想谈谈以MK-52电子计算器为例的苏联可编程微型计算器的体系结构，以及如何将其纳入其体系结构。 

 在苏联，“ 电子B3-34 ”系列（“电子MK-56”，“电子MK-61”和“电子MK-52”）的苏联计算器特别受欢迎。 这样做的原因不仅是MK-54的价格为65卢布，MK-61的价格为...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在苏联可编程计算器“ Electronics MK-52”的体系结构中实现</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467501/"><img src="https://habrastorage.org/webt/l4/bn/lp/l4bnlpz03jmoef1_az7csdrhq9e.jpeg"><br><br> 在本文中，我想谈谈以MK-52电子计算器为例的苏联可编程微型计算器的体系结构，以及如何将其纳入其体系结构。 <br><br> 在苏联，“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电子B3-34</a> ”系列（“电子MK-56”，“电子MK-61”和“电子MK-52”）的苏联计算器特别受欢迎。 这样做的原因不仅是MK-54的价格为65卢布，MK-61的价格为85卢布，MK-52的价格为115卢布，而且还开发了一种编程语言。 这个计算器家族已成为众多用户的事实上的标准。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">大量书籍</a>致力于这些机器上的编程以及现成算法的出版。 电子设备MK-52甚至飞抵了联盟号TM-7航天器上的太空，在下降的导航设备发生故障的情况下，该电子设备应被用作后备。 即使在苏联海军中，带有Astro PDU存储器扩展单元的MK-52电子计算器在一段时间内也是导航计算的标准工具。 <br><br><img src="https://habrastorage.org/webt/dm/7m/kp/dm7mkpf690txckpntxvzqgdsrge.jpeg"><br><a name="habracut"></a><br>  MK-52微型计算器属于第二代苏联可编程微型计算器。 <br><br> 第一代产品是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">B3-21</a>家族（包括<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MK-46</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MK-64</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MS 1103</a> ）。 基本型号B3-21于1975年开发，自1977年以来已批量生产。 她有两个数字的工作堆栈（B3-21，就像B3-34系列一样-带RPN的计算器-反向波兰语（或非阻塞）记录-首先在堆栈上输入数字，然后按下操作按钮）。 <br><br><img src="https://habrastorage.org/webt/wy/wx/fv/wywxfvdw7sgk9gmfodxmayonqvq.png"><br><br> 除了工作堆栈外，还有一个6个数字的环形堆栈。 您可以在此堆栈上圈出一个数字，然后将其提取。 另有七个编号为2-8的存储寄存器（MK-46，MK-64和MC 1103中为八个）是用于存储编号的普通存储寄存器。  B3-21的程序步数为60。在MK-46，MK-64和MC 1103型号中有66个。最新型号是台式计算器，带有用于监视来自外部设备的参数的块。 在MK-46中，只有一个接收数字代码的机会，在MK-64和MS 1103中，安装了带有模数转换器的盒带，以及另外一个组织了交互作用的芯片K145IK1801。 由于安装了该芯片，出现了一个附加的存储寄存器，其编号为9，并且还有六个程序步骤。 通过输入命令代码，通过寄存器号9进行读取控制。 相似地，顺便说一句，MK-61和MK-52配备了K745IK1306芯片，该芯片除了附加功能外，还增加了一个寄存器和七个程序步骤，但后来又增加了更多。 <br><br>  1980年的某个时候，第二代可编程微型计算器出现在“ Electronics B3-34”的面前。 最初的价格为120卢布，但工厂很快将价格降低至85卢布，并于1985年之前将其出售。 通常，计算器的价格是另一篇文章的讨论主题：在某个地方，价格随着发布而下降，在某个地方上升。 如果有兴趣，那么您可以查看我的网站多年来的价格变化-我会尽力收集此类信息。 计算器B3-34被类似的功能所取代，但功能更紧凑的MK-54，台式MK-56。 几年后，K745IK1306芯片出现了更多功能，并在类似于MK-54的情况下发布了新的MK-61型号，并以512步的水平MK-52发布了内部EEPROM K1601PP1（这是独一无二的，我在世界上还没有见过其他带有EEPROM的计算器：它们具有低功耗CMOS RAM或更现代的闪存）和两个用于连接设备的连接器：第一个用于连接“ PDU存储器扩展单元”的外部存储模块，第二个用于技术连接，那里没有任何连接（工厂解释了如何 生产过程中用于测试的生物连接器）。 <br><br> 后视图： <br><br><img src="https://habrastorage.org/webt/am/jz/al/amjzallsqti33evaebnau7gl6em.jpeg"><br><br><img src="https://habrastorage.org/webt/ii/gf/cs/iigfcsw5omkcx4t-gcuphpvpupa.png"><br><br> 与第一代微计算器相比，改进是显着的。 用于存储数字的寄存器数量从8/9增加到14/15。 <br> 来自两个寄存器的操作堆栈又增加了两个寄存器X，Y，Z，T。在执行最后一次算术运算之前，出现了寄存器X的最后一个值的寄存器-BX（我们监视了具有最后X个寄存器的操作寄存器X，Y，Z，T总体而言，具有类似寄存器的Hewlett Packard计算器，但这就是HP身份的结尾。 程序区域从60/66步从98步（对于B3-34，MK-54，MK-56，MC 1104）增加到105步（对于MK-61和MK-52）。 <br><br> 在程序中，可以在寄存器L0-L3中使用自动循环，然后将相应的寄存器减1（与零相比），然后在地址处分支。 <br> 第二代计算器极大地改善了间接寻址的实现。 任何存储寄存器都可以用作索引之一，用于保存/检索数字，以及用于间接转换到程序和子程序（包括条件）。 在这种情况下，间接跳转寄存器的值将自动减小（寄存器0-3），增加（寄存器4-6）或保持不变。 <br><br> 所有这些带有寄存器的自动操作都极大地节省了程序区域，并使编程更加容易。 <br><br> 您可以谈论长时间使用MK-52。 我只是简单地谈到了这些机器的功能，供那些不使用它们的人使用。 <br><br> 我想从一个故事开始关于建筑的讨论。 计算器B3-21和B3-34系列是基辅微型设备科学研究所（NIIMP）的开发。  1971年出现了第一个称为“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电子4-71</a> ”的计算器。 在1971年苏共第二十四次代表大会上，基辅NIIMP和列宁格勒·斯韦特兰娜（Liningrad Svetlana）这两家企业被赋予在大型集成电路上制造计算器的任务。 结果，几乎同时出现了两种型号的计算器-前述的Electronics 4-71和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Electronics 24-71</a> （ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">您知道</a>型号<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>名称吗？）。 模型4-71是在微程序控制下制造的，是Iskra系列的第一个计算器，与列宁格勒州特别设计局合作在摩尔机器上进行了逻辑处理。 即，当按下按钮时，必要的触发器单击（取决于按钮的目的），形成相应的微命令的通道。 自动机-这当然很好，但是您在改进方面不会走得太远。 甚至在1974年，国家特殊设计局的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Iskra-114</a>计算器都已经装有固件的K5YAP011001 ROM（可能是苏联芯片ROM微电路中的第一个）。 <br><br> 因此，在1973年，NIIMP成为了自己设计的微控制器核心。 通过引用保存该网站，该网站尚处于运行状态-有关NIIMP的很多有趣信息。  K145IK2A微芯片上的第一台<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">B3-09 Electronics</a>微型计算器作为“第一块薄饼”问世，但没有扎根，但其修改后的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">B3-09M Electronics</a> ，B3-14M和B3-14轰动一时，每年生产数十万件，解决了计算赤字的问题。 那时，我们的生产计算器还不够，它们是从社会主义国家和资本主义国家的国外进口的。 还记得1977年的电影《办公室浪漫》吗？ 从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">9:15</a>开始，您可以看到表格上有哪些计算器-主要是第一次修改的晶体管GDR“ Soemron 220”和保加利亚的“ Elka 50”。 <br><br><img src="https://habrastorage.org/webt/e0/jp/p-/e0jpp-xe_5hit_8_wqfxnfahgiy.jpeg"><img src="https://habrastorage.org/webt/jk/9z/qy/jk9zqya4_xnfiv_s6bukqer1r1g.jpeg"><img src="https://habrastorage.org/webt/rn/80/vq/rn80vqiro-wl_8glnx8sxty1_qq.jpeg"><br><br> 可以在Radio Pictures网站上看到更大的照片： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">K145IK2</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">K145IK501</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">K145IK502P</a> 。 <br><br> 这些是K145IK2，IK501和IK502微电路的晶体。 如您所见，具有四个算术运算K145IK2的简单计算器的筹码实际上与编程的计算器“ B3-21”（K145IK501、502和503）的筹码重合。 后者仅在“固件”方面有所不同。 固件编号在名称之后显示在单独的层上。 <br><br><img src="https://habrastorage.org/webt/hk/ko/iq/hkkoiqawr0aafrjh6knbckqshny.jpeg"><img src="https://habrastorage.org/webt/hm/pw/2k/hmpw2ktxcjnenw67qsp3bispcq0.jpeg"><br><br><img src="https://habrastorage.org/webt/l-/4y/af/l-4yafqzkcarvfugrzfwgtad-qk.png"><br><br> 这是更高级的晶体芯片<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">K145IK1302</a> ，位于“ Electronics B3-34”系列的可编程计算器中，包括本文所涉及的“ Electronics MK-52”。 <br><br> 芯片中心可以看到三个区域（以绿色标记）。 这是微命令的存储器，同步程序的存储器和程序存储器。 黄色表示环形移位寄存器。 <br> 计算器的处理器以75-100 kHz的频率运行。 该处理器具有一个带有多个源和接收器的一比特ALU（算术逻辑设备）。 <br><br> 对于四个微指令，处理器执行一个微命令（通过一台笔记本电脑）。 每个微命令都说明加法器采用哪一组源以及将结果放在何处。 <br> 该微电路总共具有68个微命令，每个微命令的长度为27位，具有128个不同的同步程序和256个用于命令的单元。 <br><br> 计算器的微处理器（确切地说是微控制器，因为其中同时包含ROM，RAM和输入输出端口）按照一致的原理工作。 所有寄存器均为移位寄存器。 <br><br><img src="https://habrastorage.org/webt/34/_q/2-/34_q2-ye3kkjrf1dqz71vizfhoi.png"><br><br> 在处理器内部，所有事物都是循环的，就像一个带有旋转木马，摩天轮和带有访客的理想公共汽车的游乐园，其中一扇门在入口处起作用，另一扇门在出口处起作用，游客逐渐从头到尾移动。 <br> 园区的一名员工（微指令），在每个微指令上用笔记本（微指令字段）进行检查，从接近的细胞轮播，摩天轮或公共汽车的下一个乘客（即下一个寄存器）位中提取（或不提取），将其定向到“加法器”吸引力取决于微命令的字段，将对它们执行一些操作并将结果发送回去。 此例程对4位有效，此后小节编号递增。 <br><br> 由于寄存器是循环的，因此开发人员必须正确设置其大小。 结果，K145IK13系列计算器的基本编号为42。 <br><br> 该长度（42个四进制）具有顺序寄存器-寄存器M，R和ST。 为了不等到必要的数字遍历整个环网，此外在每个时钟周期中还有几个4位和1位寄存器，例如传输寄存器。 一个8位尾数和2位顺序的数字占据14个四合位数（42个中的三分之一）。 正好有三个数字输入到环形寄存器中，例如，用K145IK1301上的计算器“ Electronics B3-32”实现时，用括号括起来的数字可以实现存储寄存器和两个数字的存储。 <br><br> 对于数字42，所谓的“同步程序内存”也很努力，其中包含必须执行的微命令的地址。 <br><br> 之所以将其称为同步程序，是因为它与环形寄存器的大小和0-41的小节编号（一个环周期）紧密同步。 <br><br> 每个同步程序包含九个需要执行的微命令。 <br> 同步命令非常有趣。 开发人员分析了算法，并计算出，考虑到传输，笔记本电脑上的一种典型ALU操作需要三个时钟周期，并且执行的操作非常相似。 他们这样做是为了使微命令根据小节编号（0-41）始终按以下顺序在硬件中执行： <br>  0、1、2、3、4、5、3、4、5、3、4、5、3、4、5、3、4、5、3、4、5、3、4、5、6 7，8，0，1，2，3，4，5，6，7，8，0，1，2，3，4，5 <br><br><img src="https://habrastorage.org/webt/te/fi/vq/tefivqfqnqwkgnci8vc-dshekwe.png"><br><br> 我用黄色标记了相同的部分（微命令3、4、5），它们连续执行了7次。 这足以处理一个八位数字。 实际上，这些是现成的微算法。 一方面，这样的内置循环减少了程序所需的ROM容量，但另一方面，可以想象这样的序列始终在程序的每一行上运行。 <br><br> 由于一个四分位数的处理是三步处理的，因此这段时间内的数据设法保持不变。 由于此功能，环形寄存器中的数字不是存储在连续的单元中，而是存储在每三分之一中，因此它们恰好在周期3、4、5的末尾到达。 <br><br> 下图显示了程序存储区。 在程序存储器的每个字段中，都包含有关必须在一个振铃周期内执行的三个同步程序的信息。 还有一个细微差别，第三同步程序通常用于各种分支。 在寄存器R中，将单元36和39分配给正在执行的当前程序的地址，当执行前两个同步程序时，它们仅出现在相应的时钟上，而第三个同步程序正在处理该地址。 <br><br> 当然，微处理器内部的工作甚至更加复杂。  Trokhimenko Y.K.一书对所有细微差别的描述只占了十几页。  “可编程的微计算器。 装置并使用“（Google图书）。 <br><br> 这种结构具有三个处理级别-具有同步地址的程序存储器，具有微指令编号的存储器同步程序以及具有一组源和接收器的微指令存储器是整个芯片K145IK2，K145IK13xx，K145IK18xx和K145IK19xx系列的基础，只是它们具有不同的寄存器大小，寻址和转移到另一个，并进行其他改进和更改。 <br><br> 开发人员在1973年所做的最有趣的事情是，他们将处理器的大脑带出来进行扩展。 我的意思是环形寄存器。 在第一个质量计算器B3-09M中，寄存器容量足够，并且不需要扩展。 但是，如果吸引力还不够呢？ 您可以增加其大小或在其旁边放置另一个。 为了不增加ROM的大小，从而不增加晶体的大小，以减少生产过程中合适晶体的产量和其他困难，开发人员采用了几个相同的处理器，并制作了一个通用的环形寄存器。 <br><br><img src="https://habrastorage.org/webt/oe/he/u4/oeheu4lgstefrnnvklppifo85ie.jpeg"><img src="https://habrastorage.org/webt/2y/3h/hi/2y3hhizsx2m7ow3goeog5r6dc5u.jpeg"><br><br> 左图是K145IK2晶体的一部分，右图是K145IK5的一部分。 您可以注意左上角。 在生产过程中已经有一个小的跳线，用于闭合两个接触垫（环形套环）。 在K145IK5中，该跳线不是，并且环形寄存器未关闭。 <br><br>  1975年，可编程计算器“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Electronics B3-21</a> ”的第一批样品出现了。 在那里您可以看到多达三个K145IK5类型的处理器-K145IK501，K145IK502和K145IK503。 它们仅在固件方面有所不同。 <br><br> 第一个K145IK502处理器用于键盘输入和输出到指示器，在自动模式下处理动作，并在程序输入和执行模式下进行处理。 <br>  K145IK501用于算术运算，K145IK503用于三角运算。 而且，由于还需要一个容量来存储用户程序和存储寄存器，所以除了在同一寄存器中留有空隙外，他们还放置了K145IR1芯片，这是一个大型移位寄存器。 结果，出现了三辆乘用车，其中三辆公共汽车串联连接，一列火车。 而且，所有数据都以时钟发生器的速度不断沿着公共环移动。 <br><br> 感谢能够从这些微控制器读取固件并了解架构的Felix Lazarev，我们获得了计算器<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">仿真器，</a>例如MK-61和B3-34，您可以在其中更详细地研究其工作原理，并可以通过公共环来打开和关闭芯片。 <br><br> 第二代“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">电子产品B3-34</a> ”的第一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">微型计算器</a>使用了芯片K145IK1302（输入/输出，工作模式），芯片K145IK1303（数学功能）和两个1008位的寄存器K145IR2。 <br><br><img src="https://habrastorage.org/webt/ro/k9/o7/rok9o7k2pftqfeyc6m-dqmerjps.png"><br><br> 总的来说，两个寄存器M和两个1008位的寄存器各自形成一个42 * 4 + 42 * 4 + 1008 + 1008 = 2352位的环。 <br><br> 开发人员将整个数据字段分为784位（196个成对或98个字节）的三个相同区域。 用户程序存储在第一个区域中（98个步骤），第二个区域中的数据寄存器（14个编号为0-9，a，b，c，d的寄存器分别为14个四合位），第三个区域是服务区。 <br><br>  B3-34出现几年后，出现了两种新型号-MK-61和MK-52。 他们添加了另一个K145IK1306芯片，在其中计算有度运算和逻辑运算。 戒指开始看起来像这样： <br><br><img src="https://habrastorage.org/webt/to/8z/1k/to8z1k2pmq0o3rqeb9ad1vlveem.png"><br><br> 请注意，K145IK1306中的寄存​​器M与K145IK1302和K145IK1303中的相同。 该芯片的外观在环上增加了一个存储寄存器（14个四分之一），另外七个编程步骤（14个四分之一），服务区域增加了14个四分之一。 <br><br> 在MK-52中，还有一个K745IK1801芯片，该芯片从EEPROM芯片或可移动存储器扩展单元传输数据。 但是它不使用寄存器环。 <br><br> 下图显示了MK-61和MK-52型计算器中整个数据环的细目： <br><br><img src="https://habrastorage.org/webt/gk/gv/rl/gkgvrl6ap8qm-nwjx-ws2b2mw20.png"><br><br> 正如我所说，整个环分为三个区域：M1，M2和M3。 <br><br> 在区域M1中，存在存储器寄存器0-9，a，b，c，d，e。 关于它们的有趣之处在于，要存储数字，您需要12个四进制（1是尾数符号，8是尾数符号，3是阶数），并且14个四进制分配给一个寄存器（在处理器中被42除）。 结果，每个寄存器不使用两个笔记本。 <br><br> 在M3区域中是程序存储器。 那里的一切都很简单-B3-34达到98步，MK-61和MK-52达到105步（四线联动）。 <br><br>  M2区域是最有趣的。 除了寄存器X，Y，Z，T，BX外，它还包含Ms区域，通信通道KS和标签。 <br><br> 所示区域彼此不连通。 记得，我说过在同步程序中有几个重复的操作需要三个时钟周期，并使寄存器中的数字存储在每三个单元中？ 这是在环形数据中实现的。 首先，透射区域M1的第一个四分之一，然后透射区域M2的第一个四分之一，然后透射区域M3的第一个四分之一。 然后来第二本笔记本，依此类推。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虽然在同步程序中执行了三个时钟周期的微指令3、4、5，但跳过了不必要的区域。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我处理公用环中的数据分配时，我对指定为Ms的区域感到非常沮丧。它很大，占据了环的数据区域的六分之一。并且该区域未在计算器中使用。在开发体系结构时，开发人员提供了制作“数据程序区域”的机会。这是一个可以编写程序或数据寄存器的区域。而且，这是一个相当大的区域-56个程序步骤。在计算器中，它应该与[K]按钮结合使用以包含特殊功能，以便进行交换（按钮1和2上方，现在那里有一个空白处）。但是，我重复一遍，在串行模型中，该区域消失了，因此我们可以拥有更多的内存寄存器或更长56步的程序。该领域在1986年的第7号“技术青年”杂志中被偶然提及。</font></font><br><br><img src="https://ic.pics.livejournal.com/avva/111931/119690/119690_original.png" alt="图片"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环形数据中同步的最重要元素是所谓的“标签”。这是由九个笔记本组成的序列。当出现“标签”代码时，处理器的内部计数器将重置，并且环将根据标签代码开始计数。首先，在打开机器电源后，K145IK1302头部处理器会初始化振铃并形成标记。选择寄存器的命令和内容，以便在数据或程序中都找不到标签代码。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B3-34系列计算器的高级用户已经听说过“虚拟”-当指示器上仅显示小数点时，这是未记录的操作。这是仅包含单位的代码。当出现此代码时，内部计数器会误入歧途，计算器将开始出现异常状态-出现两个代码，标签和所有同步均会误入歧途-计算器将一个存储区域用于另一个存储区域。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部寻址是相对于标签代码的。当带有附加寄存器M的K745IK1306芯片出现时，单元数增加，并且有条件地将它们添加到末尾，因为在体系结构中，环中的整个数据区域是连续的。在这种体系结构中，您可以添加另一个处理器，例如K145IK13，然后它将成为一个更多的存储器寄存器，并且将添加另外7个程序步骤（最多112个）。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据的内部表示很有可能</font><font style="vertical-align: inherit;">在相同的K145IK1305微处理器上制造</font><font style="vertical-align: inherit;">的非可编程计算器</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电子产品MK-44</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中以类似的方式工作</font><font style="vertical-align: inherit;">。它是我国最受欢迎的台式计算机之一。它具有三个存储寄存器。我想知道如果我撕下带出的寄存器M的环并在那里添加内存会发生什么。实验是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。处理器“拾取”出现的内存，计算器中有十个内存寄存器。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处理器之间如何交互？他们与称为“通信通道”（CS）的特殊领域进行“通信”。 B3-21系列的计算器和B3-34系列的计算器都有一个主处理器。在我们的情况下，对于B3-21是K145IK502，对于B3-34是K145IK1302。它们在打开时初始化铃声，形成“标签”代码并与操作员进行交互，组织键盘输入和输出到指示器。其他处理器处于待机模式，正在等待命令。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“通信通道”是两个笔记本，主处理器可以在其中输入一个数字-一个带操作码的字节。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果头部处理器在程序下或在手动模式下工作时无法单独使用任何代码来处理操作，则它将操作代码放入环的振铃箱的寄存器中并开始等待。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从处理器不断监视数据环中COP的寄存器。一旦出现从处理器可以处理的操作代码，它便开始对其进行处理，例如执行加法功能，计算正弦等。当从处理器进入环时，从处理器独立地从环中提取必要的寄存器，并将其制成操作，结果回退。处理器执行其操作后，它将清除通信通道的寄存器，并用数字“ F”覆盖最低的笔记本。也就是说，如果数字10出现在通信通道中（附加代码），则在计数结束时，数字1F将被写入COP的寄存器中。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在通信通道中设置操作代码的同时，特殊的备用计数器（如看门狗定时器）在起始芯片中打开。如果没有从处理器可以通过通信通道处理命令，则在一定时间后，主处理器将清除通信通道并在指示器上显示错误消息“ YYGOG”。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在计算过程中发生数字错误，则从芯片将使用此超时。例如，用户尝试从负数中提取根。在这种情况下，从属芯片不会在通信通道中放任何东西，几秒钟后主处理器本身就会显示一条错误消息。因此，在计算器中，带有这种错误的题词“ EGGOG”的输出花费了很多时间。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主处理器可能不知道环中还有哪些其他处理器。它只是将代码放入通信通道，其他处理器对其进行处理。例如，您可以用另一种替换K745IK1306芯片，或者像在苏联时期在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS-1104电子</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算器中那样，基于微控制器进行开发</font><font style="vertical-align: inherit;">。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除串行数据总线外，“ MK-52电子产品”类型的计算器还具有与EEPROM和外部存储器扩展模块的接口。如上所述，MK-52具有K1601PP1电可擦存储芯片，其中最多可写入512个程序步骤。代替程序存储器，可以保存数字存储器寄存器。写入内容-程序存储器或寄存器，由前面板上的“ D-P”开关确定。 EEPROM中的相同区域可用于程序存储和寄存器存储。您可以将寄存器写入EEPROM，然后将记录的数据提取到程序区域，反之亦然。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微电路侧计算器的类型：大型微电路</font></font><br><br><img src="https://habrastorage.org/webt/uf/eu/08/ufeu08qq7pbb8bpujig9xdc2b5u.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br><br><img src="https://habrastorage.org/webt/ej/lm/lt/ejlmltirchwrplmywaxht0q0bac.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了内部EEPROM外，还生产了可互换的存储模块“ PDU”（内存扩展单元）。</font><font style="vertical-align: inherit;">它们是记录程序的ROM芯片。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已知模块总数：</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDU“ Astro”，也称为BRP-2-导航程序。</font><font style="vertical-align: inherit;">该模块已在船舶上使用，我在本文开头写道。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BRP-3包含数学程序 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BRP-4-数学程序和家庭程序，包括游戏。 </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROM数量很多，实际上一个PDU是从两个模块进入程序的。也就是说，BRP-3模块的所有者可以打开机壳，焊接跳线并获得BRP-2 Astro模块。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读出</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的转储，单元PDU-4发现转储从未知目的地模块。尚无信息如何使用这些转储。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有EEPROM或PDU K745IK1801的通信芯片非常独立。她还坐在计算器环上，但不跟踪命令。它仅通过按[A↑]按钮将寄存器X的内容记为访问ROM或EEPROM的地址和长度，然后按[↑↓]按钮开始对程序或数据区进行擦除，读取或写入。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于PDU ROM，并行代码中的地址始终在总线上设置，并且PDU始终提供单元的内容。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDU模块插入MK-52计算器背面的相应插槽中。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当然，每个购买了计算器的MK-52用户都在机箱后部看到两个连接器-PDU大而小，原因尚不清楚。在说明和杂志中，开发人员解释说此连接器仅在生产阶段用于技术目的。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也许对MK-52计算器进行了一些非串行的修改，但我还没有听说过。我一直想开发一种可以放在该连接器上并在工作中使用的设备。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您转向</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">计算器中，您可以看到，除了电源电压和时钟信号之外，来自K745IK1801芯片的输入和输出的来自振铃的信号也将输出到连接器。为了渗透并记录环中的某物，必须将其断开。当然，更改MK-52方案中的某些内容是最新的选择。但是事实证明，K745IK1801芯片环的输出信号很弱。极有可能将其稍微上紧至电源电压之一，并且可以使其信号完全自由地过载。所以我做到了。微控制器监视MK-52环，对其进行分析，并可以读取和写入数据。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果，我们得到了一个设备-FRS-BRP模块。这是一个示意图：</font></font><br><br><img src="https://habrastorage.org/webt/iz/d8/dm/izd8dmuq-h3l18av6dkhgazjg24.png" alt="图片"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该模块的核心是STM32F205微控制器。它从计算器的内部频率发生器中断，一点一点地读取沿环网传输的数据。同时监视并行总线以模拟内存扩展单元。为了正确检测逻辑电平，需要大量的比较器。事实是计算器使用的是0到-15伏的负电压。该电压由5伏电源产生。电路板还需要使用这些电压，但不仅要使用-15伏，而且要使用-5和-3.3。结果，FRS-SRP板中计算器中的0伏电压变为+5伏，而-5伏电压变为零。在比较器上，所有内容都可以很好地过滤，有很多，但是现在它们非常便宜。基本上比较器参与解码PDU仿真器的并行总线的信号。当然，可以通过直接将数据发送到环来模拟PDU本身。但是出于真实性考虑，为了使用户按下PDU说明书中描述的“相同”按钮，我决定制作一个完整的仿真器。</font></font><br><br><img src="https://habrastorage.org/webt/bt/rc/7w/btrc7wt65gu7wz7oeov-ftk2cnk.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在很少有人会使用MK-52计算器实现其预期目的。</font><font style="vertical-align: inherit;">有更有效的计算手段。</font><font style="vertical-align: inherit;">但是对于发烧友，对于那些想要处理其内部结构，想要使用经过验证的程序的人，或者想要玩那些使1980年代中期用户疯狂的游戏的人，此模块可以派上用场。</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该模块可以做什么：</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它显示在内容的OLED屏幕上，以同时选择RAM计算器的两个寄存器（0-9，A，B，C，D，E）。</font><font style="vertical-align: inherit;">在程序帐户模式下，当计算器的主屏幕闪烁时，您可以单击模块上的按钮以查看寄存器。</font></font></li><li>  ()  -, -3, -4, -5         ( -5  ,         ). </li><li>     (105 )         1  130. </li><li>         130    (105 ). </li><li>   . 3, 4      (0-9, A, B, C, D, E)  130 . </li><li>     ,     (,    )  50 . </li><li>     («-1», «-2», «-3», «-1», «-2», «»). </li><li>       7451303      ,   ,      . ,   7451303      ,  «  »,       ,       . </li><li>            0x28 (K *)  0x29 ( /). </li></ol><br> 正如我在上面所写，操作代码是通过通信通道发送的。 现在，几乎所有代码都处于繁忙状态，并且只能从遥控器输入三个未使用的命令-代码27、28和29。原则上，它们足以完成某些任务。 尽管我不知道可以执行哪些命令，因为用于其预定目的的计算器不再是小菜一碟，但是处理的事实令人着迷。 <br><br> 好吧，当然-通过USB与计算机通信。 该模块实现简单的对话命令，您可以读写数据，程序，服务区或整个环的内容。 可以将其保存到磁盘，提取，分析，修改并写入计算器。 这是屏幕截图： <br><br><img src="https://habrastorage.org/webt/mh/2v/dr/mh2vdrtvnwjlxx1oxcdff0k4yu4.jpeg" alt="图片"><br><br> 例如，您可以在通信通道中添加一些数字，然后查看其他芯片将如何处理它。 或者找出如果某些服务单元以不同的方式编写会发生什么。 还是要检查是否有可能将计算器从“暗”状态中删除，如果通过模块通过模块对寄存器X进行了校正（例如，从500校正为0），是否会将其从木桩中删除？ <br><br> 不幸的是，只有一个数据环从计算器中出来。 以及其他状态，例如软件计数器，符号-计算器是根据程序进行计算还是在指示器上显示等等，该信息位于内部寄存器R中。 <br><br> 但是开发商把他带了出去。 如果查看同一MK-52的电路，则可以看到有一个“某些跳线”，它是“ R”寄存器的输出和输入。 也就是说，如果您愿意，可以连接到该总线并更仔细地检查其内部。 <br><br> 这样推导的寄存器可能存在于K145IK5，K145IK13，K145IK18甚至K145IK19系列的所有微电路中。 著名的“ K145IK1901”手表微电路也带有M和R寄存器，您可以通过查看电路图来确保。 <br><br><img src="https://habrastorage.org/webt/1v/tk/ii/1vtkiidwo6z6ay_prbanbj-yh5q.png"><br><br> 作为实验，我什至将时钟<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">连接</a>到K145IK1901上的寄存器，然后带他去那里存储数据。 <br><br> 在本文的结尾，我要说的是，提到的微控制器家族在CCCP中非常流行，大量的计算器-模型是在其基础上发布的： <br><br><ul><li>  K145IK2-B3-09，B3-09M，B3-14，B3-14M； </li><li>  K145IK5xx-B3-05M，B3-21，MK-46，MK-64，MS-1103，MK-59，Elwro 330; </li><li>  K145IK13xx-B3-32，MK-44，B3-34，MK-54，MK-56，MK-52，MK-61，MS-1104。 </li></ul><br> 在K145IK18xx和K145IK19xx系列微电路上，家用电器中，已知的有微波定时器， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">时钟</a> ，摄影定时器，录音机中的磁带控制器等等。 <br><br> 这就是我想说的。 我希望这很有趣。 谢谢您的关注。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN467501/">https://habr.com/ru/post/zh-CN467501/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN467489/index.html">它们是PHP中的奇怪静态变量</a></li>
<li><a href="../zh-CN467493/index.html">如何减少潜在的Internet攻击者的访问。 个人经验和观察</a></li>
<li><a href="../zh-CN467495/index.html">Tor中继的成本</a></li>
<li><a href="../zh-CN467497/index.html">窃贼利用深造假手段欺骗公司向自己汇款</a></li>
<li><a href="../zh-CN467499/index.html">来自OpenStreetMap 476世界的新闻（08.28.2019-02.09.2019）</a></li>
<li><a href="../zh-CN467503/index.html">我们将Google PageSpeed提升到100以上</a></li>
<li><a href="../zh-CN467511/index.html">AudioSwitcher-似乎不需要自动化的自动化</a></li>
<li><a href="../zh-CN467517/index.html">＃315移动开发人员的有趣材料摘要（9月9日至15日）</a></li>
<li><a href="../zh-CN467523/index.html">我们如何实现RIBs体系结构。 报告Yandex.Taxi</a></li>
<li><a href="../zh-CN467525/index.html">在Angular中（不仅限于）管理模块的方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>