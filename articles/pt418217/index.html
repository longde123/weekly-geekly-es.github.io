<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì¨ üíæ üë©üèΩ‚Äçü§ù‚Äçüë®üèæ Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 6: ‚ÄúOportunidades‚Äù, parte 1 üç© üö• üçõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula n¬∫ 6.858. "Seguran√ßa de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 6: ‚ÄúOportunidades‚Äù, parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/418217/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula n¬∫ 6.858.  "Seguran√ßa de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security √© um curso sobre o desenvolvimento e implementa√ß√£o de sistemas de computador seguros.  As palestras abrangem modelos de amea√ßas, ataques que comprometem a seguran√ßa e t√©cnicas de seguran√ßa baseadas em trabalhos cient√≠ficos recentes.  Os t√≥picos incluem seguran√ßa do sistema operacional (SO), recursos, gerenciamento de fluxo de informa√ß√µes, seguran√ßa de idiomas, protocolos de rede, seguran√ßa de hardware e seguran√ßa de aplicativos da web. <br><br>  Palestra 1: ‚ÄúIntrodu√ß√£o: modelos de amea√ßas‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: ‚ÄúControle de ataques de hackers‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: ‚ÄúEstouros de Buffer: Explora√ß√µes e Prote√ß√£o‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: ‚ÄúSepara√ß√£o de Privil√©gios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: ‚ÄúDe onde v√™m os sistemas de seguran√ßa?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Ent√£o, na continua√ß√£o do t√≥pico de compartilhamento de privil√©gios, hoje falaremos sobre oportunidades.  Se voc√™ se lembra, na semana passada falamos sobre como o <b>Unix</b> fornece alguns mecanismos para aplicativos que podemos usar se precisarmos separar privil√©gios da estrutura interna do aplicativo. <br><br>  Hoje falaremos sobre as possibilidades que nos far√£o pensar de maneira muito diferente sobre os privil√©gios que o aplicativo pode ter.  Portanto, na palestra de hoje, temos dois assuntos separados para discuss√£o.  Uma pergunta √© sobre como evitar confus√£o na determina√ß√£o da autoridade e tornar seus privil√©gios ao escrever um programa mais claro e inequ√≠voco, para que voc√™ n√£o use acidentalmente os privil√©gios errados. <br><br>  A segunda pergunta diz respeito √† "caixa de areia" chamada <b>Capsicum</b> , √© um sistema semelhante ao <b>OKWS</b> , que permitir√° executar um fragmento de c√≥digo com menos privil√©gios.  Portanto, se o sistema estiver comprometido, isso n√£o amea√ßar√° muitos danos. <br><br><img src="https://habrastorage.org/webt/zo/y9/cf/zoy9cfnigejdot0znkrlewj_rfg.jpeg"><br><br>  Essa abordagem permite que voc√™ manipule privil√©gios de maneira diferente da permitida pelo <b>Unix</b> .  Para come√ßar, vamos olhar para esse problema confuso de autoridade, que o autor do artigo que estamos discutindo Norman Hardy enfrentou e descobrir por que ela ficou t√£o intrigada com ele. <br><br>  Este artigo foi escrito h√° muito tempo, e o autor usa uma estrutura sint√°tica para nomes de arquivos, o que √© um pouco surpreendente.  Mas podemos tentar, pelo menos, transcrever o problema dele em uma sintaxe de nome no estilo <b>Unix,</b> mais familiar. <br><br>  At√© onde eu sei, ele usou o <b>compilador Fortran</b> , localizado em <b>/ sysx / fort</b> , e queria mudar esse compilador para manter estat√≠sticas sobre o que foi compilado, quais partes do compilador eram mais intensivas em recursos e assim por diante.  Portanto, ele queria ter certeza de que esse <b>compilador Fortran de</b> alguma forma forneceria uma entrada no arquivo <b>/ sysx / stat</b> e que ele escreveria aqui informa√ß√µes sobre v√°rias chamadas do compilador. <br><br><img src="https://habrastorage.org/webt/qq/we/ye/qqweye80yuvbsnccfiuebn5_it8.jpeg"><br><br>  O sistema operacional deles tinha algo parecido com a fun√ß√£o <b>setuid de</b> que falamos no <b>Unix</b> .  Eles chamaram de licen√ßa de arquivo dom√©stico.  Isso significava que, se voc√™ executou <b>/ sysx / fort</b> , e este programa possui uma licen√ßa de <b>arquivos dom√©sticos</b> , esse processo que voc√™ acabou de lan√ßar ter√° permiss√µes de grava√ß√£o adicionais para tudo em <b>/ sysx /</b> .  Ou seja, voc√™ pode escrever ap√≥s a barra tudo o que normalmente √© marcado com um asterisco, obtendo uma express√£o do formul√°rio <b>/ sysx / *</b> .  Isso deu acesso a todos os arquivos gravados no diret√≥rio ap√≥s <b>/</b> , e o usu√°rio poderia execut√°-los.  Portanto, o problema espec√≠fico que eles estavam enfrentando era que algum tipo de usu√°rio inteligente poderia fazer isso, executando o compilador poderia receber muitos argumentos, como o <b>GCC</b> . <br><br>  Um usu√°rio assim poderia, por exemplo, coletar algo como <b>foo.f</b> , onde <b>f</b> √© o c√≥digo fonte do <b>Fortran</b> , e adicionar aqui - o <b>/ sysx / stat</b> . <br><br><img src="https://habrastorage.org/webt/if/nl/e7/ifnle7xioc7orfupbnearia4qz0.jpeg"><br><br>  Eles tinham outro arquivo no sistema <b>/ sysx</b> , que era um arquivo de cobran√ßa para todos os clientes do sistema.  Seu dano causaria ainda mais dano.  Foi poss√≠vel, de maneira semelhante, "pedir" ao compilador para compilar o arquivo de origem <b>/ sysx / bill</b> e coloc√°-lo em algum arquivo especial em <b>/ sysx</b> .  E no caso deles, funcionou.  Apesar do fato de o pr√≥prio usu√°rio n√£o ter acesso de grava√ß√£o a esse arquivo ou diret√≥rio, ele usou o compilador, que tinha esse privil√©gio adicional - uma licen√ßa para arquivos dom√©sticos.  Gra√ßas aos privil√©gios do compilador, ele foi capaz de substituir arquivos contr√°rios √†s inten√ß√µes do desenvolvedor. <br><br><img src="https://habrastorage.org/webt/rd/yo/-h/rdyo-hb-jzyug7y-zdd8sgxrdvc.jpeg"><br><br>  Quem eles deveriam culpar pelo que aconteceu?  O que eles acham que deu errado?  Voc√™ poderia ter agido de maneira diferente para n√£o encontrar esses problemas?  Eles acreditavam que o <b>compilador Fortran</b> seria muito cuidadoso ao usar seus privil√©gios.  De fato, em um certo n√≠vel, o compilador Fortran possui dois tipos de privil√©gios que ele usa. <br><br>  Um deles, o principal, √© baseado no fato de que, se o usu√°rio chamou o compilador, ele deve poder acessar o arquivo de origem, como <b>foo.f.</b>  E se algum outro usu√°rio n√£o ativou ou n√£o chamou o compilador, esse usu√°rio n√£o poder√° acessar o c√≥digo-fonte do usu√°rio "correto". <br><br>  O segundo tipo de privil√©gio √© fornecido por essa mesma licen√ßa, que permite gravar esses arquivos especiais.  No n√≠vel interno do c√≥digo-fonte do compilador, deveria haver instru√ß√µes claras sobre qual desses privil√©gios ele deseja usar ao abrir um arquivo ou ao executar qualquer opera√ß√£o privilegiada.  Poderia simplesmente abrir, ler e gravar arquivos como qualquer outro programa.  Ele usa implicitamente todos os privil√©gios que possui, ou seja, no design do sistema, era uma esp√©cie de combina√ß√£o de privil√©gios de usu√°rio e licen√ßas para o uso de arquivos dom√©sticos. <br><br>  Assim, esses caras estavam realmente interessados ‚Äã‚Äãem resolver esse problema.  E eles meio que chamavam esse compilador de "ajudante est√∫pido", porque ele precisava distinguir entre os muitos privil√©gios que possu√≠a e us√°-los cuidadosamente, se necess√°rio. <br><br>  Portanto, devemos considerar como desenvolver um compilador semelhante no <b>Unix</b> .  No sistema deles, tudo estava vinculado a essa licen√ßa de arquivo.  Existem outros mecanismos que eles introduziram posteriormente em seu programa para identificar oportunidades, falaremos sobre eles em um futuro pr√≥ximo.  Mas podemos resolver esse problema em um sistema <b>Unix</b> ? <br><br>  Suponha que voc√™ tenha que escrever este <b>compilador Fortran</b> no <b>Unix</b> , escrever este arquivo especial e evitar o problema.  O que voc√™ faria?  Alguma id√©ia?  Eu acho que voc√™ pode simplesmente declarar isso um plano ruim e, por exemplo, n√£o manter estat√≠sticas.  Ou n√£o suporta o tipo de entrada de dados - <b>oh</b> .  Por outro lado, voc√™ pode especificar qual c√≥digo-fonte voc√™ deseja compilar para poder ler o arquivo <b>/ bill</b> ou o arquivo de estat√≠sticas, que talvez precise ser secreto. <br><br>  Ou talvez voc√™ possa fornecer suporte para o c√≥digo-fonte padr√£o, mas ele deve conter partes de outro c√≥digo-fonte, o que √© um pouco obscuro. <br><br>  <b>P√∫blico:</b> √© poss√≠vel compartilhar privil√©gios de compilador. <br><br>  <b>Professor:</b> sim, esse seria outro design potencialmente bom, compartilhando suas credenciais.  Sabemos que, de fato, o compilador Fortran n√£o precisa dos dois privil√©gios ao mesmo tempo.  Ent√£o, talvez, falando em <b>Unix</b> , possamos criar um compilador como <b>world / bin / fortcc</b> , e seria apenas um programa regular sem privil√©gios adicionais.  E ent√£o <b>criar√≠amos / bin / fortlog</b> , que ser√° um programa especial com alguns privil√©gios adicionais, e coletar√° estat√≠sticas sobre o que est√° acontecendo no compilador, e a fun√ß√£o <b>fortcc</b> chamar√° <b>fortlog</b> .  Ent√£o, que privil√©gios dar√≠amos a este <b>fortlog</b> ? <br><br><img src="https://habrastorage.org/webt/hh/z4/2t/hhz42t0khoefeiznws-hrjpwjgu.jpeg"><br><br>  <b>P√∫blico:</b> talvez se voc√™ usar algo como <b>setuid</b> ou <b>fortlog</b> , qualquer outro usu√°rio tamb√©m poder√° registrar dados arbitr√°rios por meio dele. <br><br>  <b>Professor:</b> sim, ent√£o n√£o √© t√£o bom.  Como a √∫nica maneira no <b>Unix</b> de conceder privil√©gios adicionais ao <b>fortlog</b> √© se tornar seu propriet√°rio, n√£o sei, talvez crie um <b>forte UID</b> e um <b>setuid</b> .  E toda vez que voc√™ executa o <b>fortlog</b> , ele muda para esse <b>forte UID</b> .  E, talvez, algum arquivo de estat√≠stica especial ainda seja necess√°rio aqui.  Mas, afinal, todos podem chamar isso de <b>fortlog</b> . <br><br><img src="https://habrastorage.org/webt/va/sa/ng/vasangwsrntwkbo2df1ec2su8au.jpeg"><br><br>  E isso n√£o √© bom, porque qualquer um pode escrever no arquivo de estat√≠sticas.  Nesse caso, por seguran√ßa, esse √© um pequeno problema, mas o que acontece se, em vez de <b>stat</b> , for um arquivo de pagamento de <b>faturas</b> ?  Nesse caso, os problemas ser√£o muito mais graves. <br><br>  <b>O Unix</b> tem um mecanismo bastante complicado, que omitimos da √∫ltima palestra na segunda-feira.  Esse mecanismo permite que o aplicativo alterne entre v√°rios <b>uid</b> .  Portanto, para executar aplicativos diferentes, voc√™ pode alternar entre os <b>IDs do</b> usu√°rio.  √â um pouco dif√≠cil de fazer da maneira certa, mas fact√≠vel.  Portanto, esse mecanismo pode ser outro projeto em potencial do nosso sistema. <br><br>  Eu acho que voc√™ poderia fazer mais um truque: tornar o <b>fortlog</b> ‚Äúbin√°rio‚Äù execut√°vel apenas para um determinado grupo e criar o bin√°rio <b>fortcc setgid</b> para esse grupo.  No entanto, isso n√£o √© muito bom, pois apaga qualquer lista de grupos que o usu√°rio originalmente tinha.  Mas quem sabe, talvez isso seja melhor que nada. <br><br>  De qualquer forma, este √© um problema bastante complicado, mas pode ser completamente resolvido usando mecanismos <b>Unix</b> .  Talvez voc√™ deva repensar seu problema e n√£o se preocupar muito com o arquivo de estat√≠sticas, colocando sua seguran√ßa em primeiro lugar.  O que est√° acontecendo de errado em nosso projeto? <br><br>  H√° duas coisas a serem observadas se algo der errado.  O primeiro √© chamado de <b>autoridade ambiental</b> ou autoridade externa.  Algu√©m entende o que eles quiseram dizer?  Eles nunca deram essa defini√ß√£o exata. <br><br>  <b>P√∫blico:</b> isso significa que voc√™ tem a autoridade que lhe √© dada pelo meio ambiente.  Como se voc√™ fosse um usu√°rio agindo sem restri√ß√µes. <br><br>  <b>Professor:</b> sim, voc√™ est√° executando uma opera√ß√£o e pode indicar qual opera√ß√£o deseja executar, mas a decis√£o sobre se essa opera√ß√£o ser√° bem-sucedida vem de alguns par√¢metros indiretos adicionais no seu processo. <br><br>  No <b>Unix,</b> voc√™ pode descobrir como ser√° a verifica√ß√£o da autoridade ambiental.  Portanto, se voc√™ fizer uma chamada de sistema, provavelmente deu um nome √† chamada de sistema.  E dentro do kernel, esse nome √© mapeado para algum objeto.  E esse objeto supostamente cont√©m em si algum tipo de lista de controle de acesso, por exemplo, permiss√µes para esse arquivo e assim por diante. <br><br><img src="https://habrastorage.org/webt/yx/hg/is/yxhgistd6hfl657-mg6lj-qh5ba.jpeg"><br><br>  Portanto, existem algumas permiss√µes que voc√™ pode obter desse objeto e precisa determinar se a opera√ß√£o com esse nome que foi concedida ao aplicativo ser√° permitida, ou seja, a cadeia <b>Nome -&gt; Objeto -&gt; Permiss√£o ser√° criada</b> .  √â isso que o aplicativo obt√©m para ver o processo. <br><br>  Dentro do kernel, existe o ID do usu√°rio atual do <b>UID</b> do processo de <b>processo</b> que faz chamadas.  Ele tamb√©m est√° envolvido na decis√£o de permitir ou n√£o a execu√ß√£o de uma opera√ß√£o espec√≠fica.  Portanto, esse ID do usu√°rio do processo atual √© um privil√©gio externo.  O kernel tentar√° verificar qualquer opera√ß√£o que voc√™ queira executar usando seu <b>UID</b> atual, seu <b>GID</b> atual e quaisquer outros privil√©gios adicionais que voc√™ possa ter.  E embora haja um certo conjunto de privil√©gios que permitem fazer isso, voc√™ pode faz√™-lo.  Embora seja poss√≠vel que voc√™ n√£o queira usar todos esses privil√©gios para abrir um arquivo espec√≠fico ou executar qualquer outra opera√ß√£o. <br><br>  Voc√™ entende quais s√£o esses <b>privil√©gios ambientais</b> , privil√©gios externos?  No caso do sistema operacional, isso significa que o processo possui algum tipo de ID do usu√°rio.  Voc√™ pode dar exemplos desses privil√©gios que n√£o est√£o relacionados ao sistema operacional?  Por exemplo, quando voc√™ executa uma opera√ß√£o de identifica√ß√£o de processo para descobrir se foi bem-sucedida ou n√£o.  Um firewall pode servir como exemplo - se voc√™ estiver dentro da rede ou tiver um endere√ßo IP interno, poder√° executar algum tipo de opera√ß√£o e, se estiver fora da rede, a mesma opera√ß√£o ser√° proibida. <br><br>  Digamos que voc√™ visite um site que cont√©m um link para outro servidor e talvez voc√™ n√£o queira usar os privil√©gios necess√°rios para seguir este link.  Porque talvez isso conceda a algu√©m acesso √† sua impressora de rede interna e que algu√©m possa us√°-la.  Mas, na realidade, quem forneceu o link n√£o deve chegar √† sua impressora, pois est√° localizada fora da rede.  Ou o firewall do seu navegador, visitando este link, pode faz√™-lo de maneira fraudulenta. <br><br><img src="https://habrastorage.org/webt/db/xh/wf/dbxhwfblhr0-7edpbe2od5lef0o.jpeg"><br><br>  Esse √© um tipo de equivalente moral desse problema confuso nos modelos de rede. <br><br>  <b>P√∫blico-alvo: as</b> permiss√µes existentes tamb√©m afetam isso. <br><br>  <b>Professor:</b> sim. <br><br>  <b>P√∫blico:</b> porque <b>Capsicum</b> usa essencialmente <b>DAC</b> - controle de acesso discricion√°rio. <br><br>  <b>Professor:</b> sim, isso ocorre principalmente porque os funcion√°rios da <b>Capsicum</b> usam algo como controle de acesso discricion√°rio.  Isso significa que o usu√°rio ou propriet√°rio do objeto decide como ser√° a pol√≠tica de seguran√ßa desse objeto.  Para o <b>Unix,</b> isso √© muito natural - esses s√£o meus arquivos, e eu posso decidir o que quero fazer com eles, posso dar a voc√™ ou mant√™-los.  Portanto, quase todos os sistemas <b>DAC se</b> parecem com isso porque precisam de algum tipo de permiss√£o que o usu√°rio possa alterar para gerenciar a pol√≠tica de seguran√ßa de seus arquivos. <br><br><img src="https://habrastorage.org/webt/uz/wl/kd/uzwlkdecl0o_rlj-es6lyfhgojs.jpeg"><br><br>  O outro lado do <b>DAC</b> √© o controle de acesso obrigat√≥rio.  Falaremos sobre isso mais tarde, mas em algum n√≠vel, esses sistemas t√™m uma vis√£o muito diferente do mundo.  Eles acham que voc√™ √© apenas um usu√°rio de computador e outra pessoa define uma pol√≠tica de seguran√ßa para usar este computador.  Essa vis√£o surgiu nos anos 70 ou 80, quando os militares realmente queriam ter sistemas secretos de computador nos quais voc√™ trabalha em algumas coisas marcadas como "secretas".  E se voc√™ estiver trabalhando em coisas marcadas como <b>‚Äúsecretas‚Äù</b> e eu estiver trabalhando em coisas rotuladas como <b>‚Äúsecretas‚Äù</b> , elas n√£o poder√£o te levar t√£o facilmente.  Mas n√£o preciso definir os direitos para o arquivo e assim por diante, isso n√£o √© permitido por algum tipo de cara de primeira linha. <br><br>  Assim, o controle de acesso obrigat√≥rio realmente tenta colocar v√°rios tipos de pol√≠ticas de acesso em primeiro lugar, onde h√° um usu√°rio e um desenvolvedor de aplicativos, e al√©m deles, h√° outro cara que define essa pol√≠tica.  No entanto, como voc√™ pode imaginar, isso nem sempre funciona.  Falaremos sobre isso um pouco mais tarde.  Mas esse √© o significado essencial do controle de acesso discricion√°rio. <br><br>  Temos muitos outros exemplos de uso de controle de acesso externo.  Isso n√£o √© necessariamente ruim, voc√™ s√≥ precisa ter muito cuidado ao us√°-lo.  Se voc√™ possui um sistema de <b>privil√©gios de ambiente</b> , precisa ter muito cuidado ao executar opera√ß√µes privilegiadas.  Voc√™ precisa se certificar de que est√° realmente usando as permiss√µes corretas e n√£o ser√° enganado acidentalmente, como neste <b>compilador Fortran h√°</b> quase 25 anos. <br><br>  Portanto, essa √© uma das interpreta√ß√µes do que est√° acontecendo.  E essa n√£o √© necessariamente a √∫nica maneira de pensar sobre o que est√° errado, certo?  Outra possibilidade √© que seria bom se o pr√≥prio aplicativo soubesse se deveria acessar o arquivo em nome de algum princ√≠pio.  Portanto, o problema n√∫mero 2 √© a complexidade das verifica√ß√µes de controle de acesso. <br><br><img src="https://habrastorage.org/webt/4o/cq/sz/4ocqszxehwzmnlemtqhcoqam4ki.jpeg"><br><br>  De certo modo, quando o compilador <b>Fortran</b> est√° em execu√ß√£o, ele abre o arquivo em nome do usu√°rio e √© necess√°rio repetir a mesma l√≥gica que vemos aqui no diagrama, exceto que o <b>compilador Fortran</b> deve conectar outra coisa para o <b>UID do processo Sur</b> .  Em vez de usar os privil√©gios atuais, ele deve simplesmente repetir a verifica√ß√£o <b>Nome -&gt; Objeto -&gt; Permiss√£o</b> e tentar fazer isso com um conjunto diferente de privil√©gios para o <b>UID do processo</b> . <br><br>  No <b>Unix,</b> isso √© bastante dif√≠cil, porque h√° muitos lugares onde as verifica√ß√µes de seguran√ßa ocorrem.  Se voc√™ tiver links simb√≥licos, o link simb√≥lico ser√° verificado e o nome do caminho tamb√©m ser√° avaliado com alguns privil√©gios e assim por diante.  Mas pode acontecer que, em algum sistema, voc√™ possa simplificar a verifica√ß√£o do controle de acesso, se isso puder ser feito independentemente no aplicativo.  Voc√™ n√£o acha que este √© um plano inteligente?  Voc√™ concorda com isso?  Existe o risco de repetir este teste? <br><br>  <b>P√∫blico:</b> se voc√™ fizer checagens no aplicativo, simplesmente n√£o poder√° fazer outras checagens. <br><br>  <b>Professor:</b> sim, voc√™ pode facilmente ignorar outras verifica√ß√µes, isso √© absolutamente verdade.  De certa forma, quando eles usaram o compilador <b>Fortran</b> aqui, ele nem tentou fazer nenhuma verifica√ß√£o, ent√£o eles falharam.  Outra conseq√º√™ncia, al√©m da falta de verifica√ß√µes, √© que o kernel pode mudar o tempo todo e, em seguida, ter√° verifica√ß√µes ligeiramente diferentes.  Isso introduzir√° alguns requisitos de seguran√ßa adicionais, mas o aplicativo n√£o ser√° alterado e implementar√° o estilo antigo de verifica√ß√µes.  Portanto, este n√£o √© um bom plano. <br><br>  Lembre-se de que existe uma boa ideia no campo da seguran√ßa - uma redu√ß√£o no n√∫mero de mecanismos envolvidos.  Portanto, o programa possui apenas um pequeno n√∫mero de locais em que as pol√≠ticas de seguran√ßa s√£o aplicadas.  Voc√™ provavelmente n√£o deseja repetir a mesma funcionalidade em aplicativos, no kernel e assim por diante.  Voc√™ realmente deseja focar essas verifica√ß√µes em um local do programa.  Ent√£o, qual deve ser a solu√ß√£o para o problema de concess√£o de autoridade? <br><br>  Mais perto de resolver o problema est√£o os recursos do descritor de arquivos no <b>Unix</b> . <br><br><img src="https://habrastorage.org/webt/3c/jj/6o/3cjj6ouwcvb03hb5rn-8znbcnia.jpeg"><br><br>  No mundo das possibilidades, uma alternativa para esse esquema √© que, em vez de seguir a cadeia <b>Nome -&gt; Objeto -&gt; Permiss√£o</b> e decidir us√°-lo com base nas permiss√µes externas do <b>processo UID</b> do <b>processo de processo</b> , voc√™ pode usar um esquema muito simples. <br><br>  Suponha que voc√™ tenha recursos relacionados a um objeto espec√≠fico.  E esses recursos podem ter v√°rias limita√ß√µes quanto ao que voc√™ pode fazer com esse objeto. <br><br><img src="https://habrastorage.org/webt/pu/tx/ym/putxymlc3c3zinjbmkqipuyb6kg.jpeg"><br><br>  Mas, basicamente, se voc√™ tiver oportunidades para esse objeto, poder√° acess√°-lo.      .  ,     ,  ,          . <br>   ,    <b>Capability</b>     ,  ,       ,      ,      .       .        <b>Capability</b> ,   - ,      ‚Äî  . <br><br>     <b>Capability</b>  ,      . ,           ? <br><br>      ,      ,   . ,              .      ,         ,     . <br><br>  ,   ,    ,       ¬´ ¬ª.    ,          ,  <b>Capsicum</b> ?        ? <br><br> <b>:</b> ,      ,  ,     <b>Capability</b>    . <br><br> <b>:</b> ,      ,  ,   ,    .   ‚Äî    .    <b>Unix</b> ,     0,      ,   1,    .           . ,      ,  .   ,    -    ,       ,              .       <b>PID</b> , , <b>PID:57</b> ,      .    ,    ,       . ,  ,   ,        ,     ,      ..        . <br><br><img src="https://habrastorage.org/webt/pf/jw/o_/pfjwo_vypcyyqjwni5g5mvwsp1k.jpeg"><br><br>     ,        ,        ,    .  , -,    - ,        . <br><br> ,  , ,        <b>Unix</b> ,                , ,   <b>/etc/pwd</b> . <br><br>          .         .  ,            .  ,        ¬´ ¬ª? <br><br><img src="https://habrastorage.org/webt/r8/ns/dm/r8nsdm90duelgyluconoyu8fr7u.jpeg"><br><br> ,       ,     <b>integer</b> .       ,          .        ,    . <br><br>     ,            .    ,   ?       ,    .    ,         . <br><br> ,  ,   <b>Capability</b>     ,         <b>Fortran</b> .           <b>sysx/fort</b> ?   ,      ? <br><br> <b>:</b>     ,   . ,         ,     <b>output-</b> .       ,   ,     . <br><br> <b>:</b> ,  .   ,      <b>Fortran</b>           <b>/sysx/stat</b> .        ,       . <br><br>    ,        ,      .  ,       ,    ¬´¬ª <b>Unix</b>   .  , ,    ,        <b>Fortran</b> ,          ,    ,     ,    ,    . <br><br>       .     <b>fort1</b> ,    ,    - , , <b>foo.f</b> ,    , ,  ‚Äî <b>o</b> , <b></b>   .         ,  .       ,         . <br><br>    ,      ,         ,   .  !   ,       ,       , ,   <b>setuid</b>   <b>Fortran</b> . <br><br><img src="https://habrastorage.org/webt/xc/x0/xy/xcx0xytzwfbmjkioneolp-lqwls.jpeg"><br><br> ,    <b>setuid</b> -   ,      .            ,    .        ,  ,  ,    ,   . <br><br> ,      ,   ,   ,      .     ,     ,        ,      <b>Capability</b> ,  ,  ,         ,     . <br><br> 26:30  <br><br> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Curso MIT "Seguran√ßa de sistemas de computadores".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> 6: ¬´¬ª,  2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/MlWK2YbZRZ8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . <br><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente n√≥s temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt418217/">https://habr.com/ru/post/pt418217/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt418207/index.html">An√°lise dos laptops para jogos ASUS ROG Strix GL504GS SCAR II e ASUS ROG Strix GL504GM HERO II</a></li>
<li><a href="../pt418209/index.html">Recebemos dados dos contadores Mercury 203.2T na RS-485</a></li>
<li><a href="../pt418211/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 4: ‚ÄúCompartilhando Privil√©gios‚Äù, Parte 3</a></li>
<li><a href="../pt418213/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 5: ‚ÄúDe onde v√™m os sistemas de seguran√ßa‚Äù, parte 1</a></li>
<li><a href="../pt418215/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 5: ‚ÄúDe onde v√™m os erros do sistema de seguran√ßa‚Äù, Parte 2</a></li>
<li><a href="../pt418219/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 6: Oportunidades, Parte 2</a></li>
<li><a href="../pt418221/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 6: ‚ÄúOportunidades‚Äù, parte 3</a></li>
<li><a href="../pt418223/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 7: A Sandbox do Cliente Nativo, Parte 1</a></li>
<li><a href="../pt418225/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 7: Sandbox do Cliente Nativo Parte 2</a></li>
<li><a href="../pt418227/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 7: A Sandbox do Cliente Nativo, Parte 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>