<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äç‚úàÔ∏è üé∏ üöã Clone Numpy ‚è≤Ô∏è ‚úíÔ∏è ‚ôÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Un petit module pour travailler avec des tableaux en Python sans utiliser de biblioth√®ques tierces (un clone NumPy, mais uniquement en Python pur). 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Clone Numpy</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477308/"><img src="https://habrastorage.org/webt/8g/e1/bz/8ge1bzcte_wkego_x56wqhm4tdo.png" alt="image"><br><br>  Un petit module pour travailler avec des tableaux en Python sans utiliser de biblioth√®ques tierces (un clone NumPy, mais uniquement en Python pur). <br><a name="habracut"></a><br>  Les devoirs √† l'universit√© ont √©t√© invit√©s √† √©crire un programme qui calcule les normes et les d√©compositions de la matrice, mais il a √©t√© interdit d'utiliser des biblioth√®ques tierces.  Le choix du langage de programmation n'est pas limit√©.  J'ai choisi python (ce qui √©tait une erreur, car il est beaucoup plus lent que Java et C / C ++) et je ne peux donc pas utiliser NumPy.  Dans le processus, j'ai d√ª √©crire des fonctions pour effectuer des op√©rations avec des tableaux, des fonctions pour trouver des mineurs, des d√©terminants, etc.  Le r√©sultat est une mini biblioth√®que pour travailler avec des tableaux. <br><br>  Mon code python pur est beaucoup plus lent que NumPy, qui effectue les calculs C et Fortran (en plus mon code n'est pas optimis√©). <br><br>  Que peut MatLOL: <br><br><ul><li>  Somme, diff√©rence et produit des matrices </li><li>  Produit matriciel par num√©ro </li><li>  Transposition matricielle </li><li>  Matrice mineure </li><li>  D√©terminant de la matrice </li><li>  Matrice inverse </li><li>  Matrice d'union </li><li>  Num√©ro de condition de la matrice </li><li>  Normes matricielles premi√®re, deuxi√®me (non finalis√©es), euclidienne et infinie </li><li>  Solution de l'√©quation AX = B </li><li>  D√©composition LU </li><li>  D√©composition Cholesky </li><li>  M√©thode Seidel </li></ul><br><h3>  Exemples MathLOL </h3><br>  Importez le module: <br><br><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># from mathlol import * from mathlol import mathlol</span></span></code> </pre> <br>  Initialisation de la matrice <br><br><pre> <code class="python hljs">matrix = mathlol() matrix.set([[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>], [<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>], [<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">-8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>]]) matrix.get() <span class="hljs-comment"><span class="hljs-comment">#  </span></span></code> </pre><br>  Quelques op√©rations matricielles <br><br><pre> <code class="python hljs">matrix * <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">#     2 A = [[0, 0, 0], [0, 1, 0], [0, 0, 0]] #  2  matrix.dot(A) matrix * A matrix.transposition() #   matrix.minor(i = 0, j = 0) #   matrix.determinant() #   matrix.inverse() #   L, U = matrix.lu() # LU  matrix.seidel(b = [[5.0], [9.0], [1.0]]) #  </span></span></code> </pre><br>  Il existe √©galement des fonctions pour travailler avec des vecteurs <br><br><pre> <code class="python hljs">vector = mathlol() vector.set([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>]) vector.checkvector() <span class="hljs-comment"><span class="hljs-comment"># ,     vector.norm1_vector() vector.norm2_vector() vector.norm3_vector()</span></span></code> </pre><br>  <a href="https://github.com/ilikeevb/MathLOL/blob/master/example.ipynb">Autres exemples</a> <br><br><h3>  Performance MathLOL </h3><br>  Voyons la vitesse de calcul des produits de matrices de taille NxN.  Les matrices sont remplies d'entiers al√©atoires de -100 √† 100. <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> mathlol <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mathlol <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-comment"><span class="hljs-comment">#    data = {} for i in range(10, 110, 10): array = [] for i_ in range(i): temp = [] for j_ in range(i): temp.append(random.randint(-100, 100)) array.append(temp) data[i] = array #      mlol_dot = {} for key in data.keys(): matrix = mathlol() matrix.set(matrix = data[key]) start = time.process_time() result = matrix * matrix end = time.process_time() - start mlol_dot[key] = end #   plt.plot(mlol_dot.keys(), mlol_dot.values()) plt.title("MathLOL \n ") plt.xlabel("  (NxN)") plt.ylabel(" ()")</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/ba/wh/u5/bawhu5gx-sn2damr4yqnex9lgz8.png" alt="image"><br><br>  La vitesse de calcul des tailles de produits matriciels de 100x100 √† 1000x1000 <br><br><img src="https://habrastorage.org/webt/tz/hn/yu/tzhnyug3hg2jfulmdh7h3_bet5u.png" alt="image"><br><br>  Comparez la vitesse de calcul de numpy et mathlol.  Malheureusement, le mathlol √©tait tr√®s lent et j'ai d√©cid√© de prendre des matrices pour des tailles de 100x100 √† 1000x1000 pour numpy, et de 10x10 √† 100x100 pour mathlol. <br><br><img src="https://habrastorage.org/webt/ih/ad/za/ihadzaiqhvuswnwk4a5h84ien30.png" alt="image"><br><br>  MathLOL a calcul√© le produit de la matrice 100x100 par lui-m√™me en 0,16 seconde, et NumPy a calcul√© le produit de la matrice 1000x1000 par lui-m√™me en 0,002 (!!!) secondes.  La diff√©rence est √©norme. <br><br>  Notre t√¢che consistait simplement √† impl√©menter diverses fonctions pour travailler avec des matrices, ce que nous avons fait, mais le programme avec de grandes matrices ne fonctionne pas aussi rapidement que nous le souhaiterions.  Il reste √† affiner le programme, √† ajouter quelques fonctions suppl√©mentaires (par exemple, une fonction pour calculer le nombre de Todd), je vous serais reconnaissant de bien vouloir regarder le code, signaler les erreurs et peut-√™tre aider √† affiner le code. <br><br>  C'est tout, le code et les exemples sont affich√©s sur le <a href="https://github.com/ilikeevb/MathLOL">github</a> . <br><br>  PS En train d'√©crire l'article, j'ai voulu exp√©rimenter et int√©grer C / C ++ dans mon module.  Je vais m'en occuper dans un proche avenir et voir √† quel point ce sera proche des performances de NumPy. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr477308/">https://habr.com/ru/post/fr477308/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr477296/index.html">Fonction Buildargv avec Ragel</a></li>
<li><a href="../fr477298/index.html">√Ä l'int√©rieur de l'a√©roport: les centres de contr√¥le</a></li>
<li><a href="../fr477300/index.html">√Ä l'int√©rieur du meilleur a√©roport r√©gional du pays: services terminaux</a></li>
<li><a href="../fr477304/index.html">CDN dynamique pour le streaming WebRTC √† faible latence</a></li>
<li><a href="../fr477306/index.html">De la production au salaire √† la production √† la commande. La s√©quence des √©tapes et un exemple de mise en ≈ìuvre pratique</a></li>
<li><a href="../fr477310/index.html">CDN dynamique pour le streaming WebRTC √† faible latence</a></li>
<li><a href="../fr477312/index.html">D√©veloppement de jeux sur les r√©seaux sociaux</a></li>
<li><a href="../fr477314/index.html">Envoi d'√©v√©nements de ViewModel vers Activity / Fragment dans MVVM</a></li>
<li><a href="../fr477318/index.html">PHP Digest n ¬∞ 168 (5-25 novembre 2019)</a></li>
<li><a href="../fr477320/index.html">Front environnemental: comment l'Internet des objets contribuera √† prot√©ger l'environnement</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>