<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï• üö® üöó Control de recursos incorporado de RAM utilizada en la aplicaci√≥n. üë©‚Äç‚öïÔ∏è ü§∑üèº üîì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Control de recursos incorporado de RAM utilizada en la aplicaci√≥n. 

 Describe una herramienta de implementaci√≥n de software bastante simple para cont...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Control de recursos incorporado de RAM utilizada en la aplicaci√≥n.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464919/"><h1>  Control de recursos incorporado de RAM utilizada en la aplicaci√≥n. </h1><br><img src="https://habrastorage.org/webt/ez/cg/lk/ezcglkhvp9ztri9vr5euj3-wwoa.jpeg" width="300" align="right"><br>  <i>Describe una herramienta de implementaci√≥n de software bastante simple para controlar los recursos RAM utilizados durante la ejecuci√≥n de la aplicaci√≥n.</i>  <i>La base de la implementaci√≥n es la interceptaci√≥n y el registro de solicitudes de asignaci√≥n, liberaci√≥n y reutilizaci√≥n de recursos de memoria enviados por la aplicaci√≥n al sistema operativo a trav√©s de llamadas <i>malloc (), calloc (), realloc (), free ()</i> .</i>  <i>Todas las solicitudes de memoria se registran en un registro especial y, al final de la aplicaci√≥n, la informaci√≥n acumulada se muestra en forma de informe en la consola o se escribe en un archivo de texto.</i>  <i>El an√°lisis del informe le permite identificar casos de uso ineficiente de RAM en la aplicaci√≥n.</i>  <i>Estos incluyen "p√©rdidas de memoria" cuando los recursos de memoria solicitados no se liberan y la aplicaci√≥n no los reclama, la fragmentaci√≥n, cuando los tama√±os de secciones contiguas de memoria contaminadas y liberadas son insuficientes para satisfacer nuevas solicitudes, lo que conduce a la asignaci√≥n de recursos adicionales.</i> <i><br><br></i>  <i>La herramienta de control de memoria incorporada puede estar encendida o apagada (para registrar solicitudes de memoria), y la posibilidad de cambio de estado programado le permite controlar y optimizar la cantidad de datos recibidos para los recursos de memoria asignados.</i> <i><br></i> <a name="habracut"></a><br><h3>  Introduccion </h3><br>  Una proporci√≥n significativa de los sistemas de software modernos se desarrolla utilizando los lenguajes de programaci√≥n <i>C #, Java</i> y similares, donde la gesti√≥n de los recursos de RAM se realiza a nivel del sistema, minimizando la responsabilidad de los desarrolladores de software.  Un ejemplo de tales sistemas de software es el sistema de dise√±o automatizado de extremo a extremo de <b><i>Delta Design</i></b> implementado en <i>C #</i> en un entorno <i>.net</i> .  Por otro lado, las herramientas de software del sistema de automatizaci√≥n tienen una "vida √∫til" bastante larga (hasta varias decenas de a√±os), lo que lleva a la necesidad de mantener tecnolog√≠as de administraci√≥n de memoria RAM "desactualizadas", en particular, al integrar las dos clases de sistema mencionadas en un esquema de control com√∫n. <br><br>  Por esta raz√≥n, hasta ahora, el problema urgente en la creaci√≥n, desarrollo y mantenimiento de aplicaciones de software funcionalmente complejas sigue siendo la necesidad de optimizar la gesti√≥n de los recursos de RAM en ellas.  Junto con m√©todos eficientes (punteros inteligentes, recolectores de basura), se sigue utilizando un software que ejecuta solicitudes de recursos de memoria a trav√©s de llamadas <i>malloc, calloc, realloc, gratis.</i> <br>  Este enfoque proporciona a los desarrolladores un control total sobre la administraci√≥n de RAM en la aplicaci√≥n, al tiempo que le impone un alto nivel de responsabilidad por la liberaci√≥n oportuna de estos recursos para evitar "fugas". <br><br>  Como regla general, en las etapas iniciales del desarrollo de software, la tarea de identificar los hechos del uso ineficiente de los recursos de memoria no es una prioridad, ya que la estructura de la aplicaci√≥n es bastante transparente.  Sin embargo, los problemas comienzan a surgir al integrar varios componentes estructurales y funcionales del sistema con esquemas complejos de control distribuido de los recursos de RAM y el intercambio de informaci√≥n entre ellos.  El cambio de generaciones de desarrolladores de sistemas tambi√©n tiene un impacto en la resoluci√≥n de problemas de optimizaci√≥n de la gesti√≥n de los recursos de RAM.  Como resultado, las siguientes propiedades negativas comienzan a aparecer en la aplicaci√≥n: <br><br><ul><li>  se encuentra una brecha significativa entre el tama√±o real de la RAM consumida y las estimaciones de los desarrolladores; </li><li>  Hay un aumento lineal en la memoria din√°mica utilizada durante la ejecuci√≥n de la aplicaci√≥n. </li></ul><br>  Las razones del uso ineficiente de la RAM en la aplicaci√≥n son varios factores, que son composiciones de los siguientes eventos elementales: <br><br><ul><li>  desajuste de solicitudes para la colocaci√≥n y liberaci√≥n de RAM ("fuga"); </li><li>  bajo nivel de reutilizaci√≥n de √°reas liberadas de RAM, lo que lleva a solicitudes de nuevas √°reas (fragmentaci√≥n). </li></ul><br>  La pr√°ctica de desarrollar y mantener aplicaciones de software con una arquitectura compleja y una funcionalidad desarrollada muestra que el control sobre el uso de los recursos de RAM en ellos debe iniciarse lo antes posible para mantener el control sobre este proceso.  Puede controlar los recursos de memoria de la aplicaci√≥n adquiriendo y utilizando productos de software apropiados (por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b><i>valgrind</i></b></a> ), o implementando e incorporando medios para interceptar y registrar solicitudes de recursos RAM en el c√≥digo del programa de la aplicaci√≥n. <br><br>  A continuaci√≥n se muestra un ejemplo de una de las posibles implementaciones de este enfoque. <br><br><h3>  Software de control integrado </h3><br>  La base de la soluci√≥n presentada es la intercepci√≥n mediante el control integrado de todas las solicitudes a los recursos de RAM enviados por la aplicaci√≥n al sistema operativo en el proceso de su ejecuci√≥n.  Toda la variedad de tales consultas se implementa a trav√©s de llamadas a <i>malloc (), realloc ()</i> o <i>free ()</i> .  Un ejemplo de una secuencia de eventos cuando se procesa una solicitud para asignar RAM malloc () cuando los controles integrados est√°n apagados y encendidos se muestra en el diagrama a continuaci√≥n (se pueden construir diagramas similares para <i>llamadas realloc ()</i> o llamadas <i>gratis ()</i> ).  La banda " <b>A</b> " incluye una secuencia de eventos durante la asignaci√≥n de memoria que ocurre en el estado apagado del modo de control incorporado.  La aplicaci√≥n env√≠a una solicitud al sistema operativo para asignar el tama√±o de memoria requerido y recibe un puntero a la direcci√≥n de inicio del fragmento seleccionado.  En el caso de que el tama√±o de memoria solicitado no est√© disponible, se devuelve un puntero con una direcci√≥n cero, que la aplicaci√≥n solicitante debe manejar en consecuencia. <br><br><img src="https://habrastorage.org/webt/cy/xx/j0/cyxxj0fffcok3htqqilut1v97mm.jpeg"><br><br>  La banda " <b>B</b> " incluye una secuencia de eventos al asignar memoria que ocurre cuando el modo de control incorporado est√° activado.  Esta secuencia coincide completamente con la descrita anteriormente, con la excepci√≥n de que despu√©s de asignar la memoria solicitada, el control se pasa a la funci√≥n register_request (), que guarda informaci√≥n sobre la direcci√≥n y el tama√±o de la memoria asignada de acuerdo con la solicitud realizada. <br><br>  En realidad, el objeto memSupervisor realiza la intercepci√≥n y el registro de las solicitudes a los recursos RAM, que se crea en una sola instancia llamando a init_memSupervisor () y que luego se puede activar o desactivar mediante llamadas a enable_memSupervisor () o disable_ memSupervisor (), respectivamente. <br>  La t√©cnica de interceptar solicitudes de recursos RAM se basa en el uso de variables est√°ticas de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b><i>biblioteca GNU,</i></b></a> como se muestra en los siguientes fragmentos de c√≥digo. <br><br><img src="https://habrastorage.org/webt/en/st/or/enstorymb_mjykcnzbgqxsm3-vu.jpeg"><br><br><img src="https://habrastorage.org/webt/8y/nj/dx/8ynjdx8cksaikaajfmreemkfwfg.jpeg"><br><br>  Todas las solicitudes procesadas de recursos RAM se registran en una tabla especial de registros, cuyo contenido se almacena en el atributo memSupervisor.memRegister.  Cada entrada contiene la siguiente informaci√≥n: <br><br><img src="https://habrastorage.org/webt/jl/4n/rx/jl4nrxvw_frtmywye0gyn087tkg.jpeg"><br><br>  Cada registro en la tabla est√° asociado con un punto de control del c√≥digo del programa, despu√©s de pasar por el cual se asigna la memoria y se registra la solicitud. <br><br>  El generador de informes de texto ( <i>memSupervisor.genReport (nombre_archivo)</i> ) genera un informe utilizando los datos de la tabla y escribiendo informaci√≥n en el archivo de texto especificado (o salida a la consola de la aplicaci√≥n).  La descarga de los datos del informe a la tabla de MS Excel y la configuraci√≥n correspondiente de esta √∫ltima le permitir√° obtener una representaci√≥n gr√°fica de los datos del informe sobre el uso de los recursos de RAM. <br><br><h3>  Interfaz para controles incorporados </h3><br>  La recopilaci√≥n de informaci√≥n sobre las solicitudes de aplicaciones para los recursos de RAM se puede implementar compilando y colocando macros en el c√≥digo fuente de la aplicaci√≥n que se compilan solo cuando se establece la variable de entorno correspondiente. <br><br><img src="https://habrastorage.org/webt/nb/6c/ie/nb6ciegyancwouzp4dpof6xze60.jpeg"><br><br>  A continuaci√≥n se muestra un c√≥digo de programa que demuestra el uso de controles integrados. <br><br><img src="https://habrastorage.org/webt/sm/rr/yf/smrryftloedlfg34d8xk5prxmdq.jpeg"><br><br><img src="https://habrastorage.org/webt/17/mi/gx/17migxgt1yry9lfuzsgv_w3aqzg.jpeg"><br><br><img src="https://habrastorage.org/webt/7o/b_/4u/7ob_4upu0l2-we8lgy7cmrh7-la.jpeg"><br><br>  La siguiente es una ilustraci√≥n de la aplicaci√≥n de los medios descritos del control integrado de los recursos de RAM solicitados por la aplicaci√≥n <i>'foo'</i> , que realiza el rastreo autom√°tico de conexiones en placas de circuito impreso.  Para el an√°lisis, se seleccion√≥ un modelo de meandro suficientemente claro y conveniente, que muestra las dimensiones de la memoria din√°mica de acceso aleatorio solicitada por la aplicaci√≥n en el proceso de colocar las conexiones en la placa de circuito impreso. <br><br><img src="https://habrastorage.org/webt/av/nk/eq/avnkeqdztb8c3qvdsrxu4jbsmjc.jpeg"><br><br>  Este modelo ayuda a identificar los siguientes problemas de gesti√≥n de recursos RAM: <br><br><ul><li>  en los puntos <b><i>"A"</i></b> y <b><i>"D"</i></b> debe ser aproximadamente el mismo tama√±o de RAM utilizada </li><li>  el aumento en el tama√±o de la memoria solicitada en la etapa de realizar la conexi√≥n de la conexi√≥n debe ser suave.  Si es necesario, los pasos principales de esta etapa deben controlarse estableciendo puntos de interrupci√≥n en los fragmentos de c√≥digo correspondientes.  La eliminaci√≥n forzada de todos los datos en las conexiones establecidas deber√≠a conducir al mismo tama√±o de memoria consumida en los puntos <b><i>"B"</i></b> y <b><i>"C"</i></b> </li></ul><br>  El siguiente diagrama muestra los problemas de administraci√≥n de memoria en la aplicaci√≥n <i>'foo'</i> mencionada. <br><br><img src="https://habrastorage.org/webt/ks/nb/s8/ksnbs8r9h4d9ndyk6gi8nmcoafi.jpeg"><br><br><h3>  Breves conclusiones </h3><br>  Los medios descritos de control integrado de los recursos de RAM se pueden utilizar en los casos en que los productos de software correspondientes no est√°n disponibles y no son aplicables por ning√∫n motivo. <br><br><ul><li>  Las herramientas de control incorporadas registran y acumulan informaci√≥n sobre los recursos de la memoria solicitada con cualquier grado de precisi√≥n y detalle; </li><li>  La capacidad de cambiar los controles integrados entre los modos activo e inactivo le permite configurarlos para extraer y analizar datos en fragmentos seleccionados del c√≥digo del programa de la aplicaci√≥n; </li><li>  Los controles incorporados permiten su exclusi√≥n completa de la aplicaci√≥n cuando se ensambla este √∫ltimo sin establecer el par√°metro de compilaci√≥n apropiado; </li><li>  La implementaci√≥n de un an√°lisis de programa del contenido de los informes recibidos sobre la aplicaci√≥n de los recursos de RAM utilizados durante la ejecuci√≥n de la aplicaci√≥n y la verificaci√≥n de estos √∫ltimos con copias de referencia hace posible desarrollar procedimientos de prueba de regresi√≥n para aplicaciones para detectar la degradaci√≥n en su uso de RAM; </li><li>  El c√≥digo de programa de este tipo de control de RAM incorporado est√° abierto para ampliar sus capacidades y adaptarse a las condiciones particulares de su uso; </li><li>  La principal desventaja de las herramientas descritas es la necesidad de incluir el c√≥digo de control de memoria incorporado en el c√≥digo de la aplicaci√≥n monitoreada. </li></ul><br>  En conclusi√≥n, debe tenerse en cuenta que el enfoque descrito para la implementaci√≥n del control incorporado de los recursos de RAM en aplicaciones de software no contiene soluciones radicalmente nuevas.  La utilidad del enfoque radica en la simplicidad de la implementaci√≥n y en la alta eficiencia de la aplicaci√≥n pr√°ctica. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464919/">https://habr.com/ru/post/464919/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464901/index.html">Desarrollo de Helpdesk</a></li>
<li><a href="../464909/index.html">"Nos est√°n mirando": lo que puede suceder en una minivan discreta justo debajo de su ventana</a></li>
<li><a href="../464913/index.html">"Know kaizen": ¬øcu√°l es esta filosof√≠a para mejorar los procesos de producci√≥n?</a></li>
<li><a href="../464915/index.html">Optimizaci√≥n de recursi√≥n de cola de JavaScript</a></li>
<li><a href="../464917/index.html">After cyberpunk: lo que necesitas saber sobre los g√©neros actuales de la ciencia ficci√≥n moderna</a></li>
<li><a href="../464921/index.html">System.IO.Pipelines: una herramienta poco conocida para los amantes del alto rendimiento</a></li>
<li><a href="../464925/index.html">Gu√≠a de voz UX: situaciones, patrones, herramientas (y un poco de apoyo moral)</a></li>
<li><a href="../464927/index.html">Minero ASIC de segunda mano: riesgos, verificaci√≥n y hashrate recableado</a></li>
<li><a href="../464929/index.html">Carga diferida de la imagen del navegador (atributo de carga)</a></li>
<li><a href="../464931/index.html">Ensamblador inserta ... en C #?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>