<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëßüèº ‚úäüèª üë©üèø‚Äç‚öñÔ∏è Dano de macro para c√≥digo C ++ üì≤ ü§Ω üî±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A linguagem C ++ oferece vastas possibilidades para ficar sem macros. Ent√£o, vamos tentar usar macros o m√≠nimo poss√≠vel! 

 Imediatamente fa√ßa uma res...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dano de macro para c√≥digo C ++</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/444612/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ab/6o/dn/ab6odnv29jcjsh1_qrqsawoj5ii.png" alt="definir"></div><br>  A linguagem C ++ oferece vastas possibilidades para ficar sem macros.  Ent√£o, vamos tentar usar macros o m√≠nimo poss√≠vel! <br><br>  Imediatamente fa√ßa uma reserva de que n√£o sou fan√°tico e n√£o desejo abandonar as macros por raz√µes idealistas.  Por exemplo, quando se trata de gerar manualmente o mesmo tipo de c√≥digo, posso reconhecer os benef√≠cios das macros e chegar a um acordo com elas.  Por exemplo, eu me relaciono calmamente com macros em programas antigos escritos usando o MFC.  N√£o faz sentido lutar com algo assim: <br><br><pre><code class="cpp hljs">BEGIN_MESSAGE_MAP(efcDialog, EFCDIALOG_PARENT ) <span class="hljs-comment"><span class="hljs-comment">//{{AFX_MSG_MAP(efcDialog) ON_WM_CREATE() ON_WM_DESTROY() //}}AFX_MSG_MAP END_MESSAGE_MAP()</span></span></code> </pre> <br>  Existem macros e tudo bem.  Eles realmente foram criados para simplificar a programa√ß√£o. <br><br>  Estou falando de outras macros com as quais eles tentam evitar a implementa√ß√£o de uma fun√ß√£o completa ou tentam reduzir o tamanho de uma fun√ß√£o.  Considere v√°rios motivos para evitar essas macros. <br><a name="habracut"></a><br>  <i>Nota</i>  <i>Este texto foi escrito como um post convidado para o blog Simplify C ++.</i>  <i>Eu decidi publicar a vers√£o russa do artigo aqui.</i>  <i>Na verdade, estou escrevendo esta nota para evitar uma pergunta dos leitores desatentos por que o artigo n√£o est√° marcado como "tradu√ß√£o" :).</i>  <i>E aqui, na verdade, uma postagem de convidado em ingl√™s: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Macro Evil in C ++ Code</i></a> ".</i> <br><br><h2>  Primeiro: o c√≥digo da macro atrai bugs </h2><br>  N√£o sei como explicar as raz√µes desse fen√¥meno do ponto de vista filos√≥fico, mas √©.  Al√©m disso, os bugs relacionados a macro geralmente s√£o muito dif√≠ceis de detectar ao realizar uma revis√£o de c√≥digo. <br><br>  Descrevi repetidamente esses casos em meus artigos.  Por exemplo, <i>substituindo a</i> fun√ß√£o <i>isspace</i> por esta macro: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> isspace(c) ((c)==</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">' '</span></span></span><span class="hljs-meta"> || (c) == </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'\t'</span></span></span><span class="hljs-meta">)</span></span></code> </pre> <br>  O programador que usou o <i>isspace</i> acreditava que estava usando uma fun√ß√£o real que considera n√£o apenas espa√ßos e tabula√ß√µes como espa√ßo em branco, mas tamb√©m LF, CR, etc.  O resultado √© que uma das condi√ß√µes √© sempre verdadeira e o c√≥digo n√£o funciona conforme o esperado.  Este erro do Midnight Commander √© descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Ou como voc√™ gosta dessa abrevia√ß√£o para escrever a fun√ß√£o <i>std :: printf</i> ? <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> sprintf std::printf</span></span></code> </pre> <br>  Eu acho que o leitor acha que foi uma macro muito malsucedida.  Foi encontrado, a prop√≥sito, no projeto StarEngine.  Leia mais sobre isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Algu√©m poderia argumentar que os programadores s√£o os culpados por esses erros, n√£o por macros.  Isso √© verdade.  Naturalmente, os programadores s√£o sempre os culpados pelos erros :). <br><br>  √â importante que as macros causem erros.  Acontece que as macros devem ser usadas com maior precis√£o ou de maneira nenhuma. <br><br>  Posso dar exemplos de defeitos associados ao uso de macros por um longo tempo, e essa bela nota se transformar√° em um documento de v√°rias p√°ginas.  √â claro que n√£o farei isso, mas mostrarei alguns outros casos para convencer. <br><br>  A biblioteca ATL <a href="">fornece</a> macros como A2W, T2W e assim por diante para converter seq√º√™ncias de caracteres.  No entanto, poucas pessoas sabem que essas macros s√£o muito perigosas para usar dentro de loops.  Dentro da macro, a fun√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>alloca</i></a> √© chamada, que alocar√° mem√≥ria na pilha repetidas vezes a cada itera√ß√£o do loop.  Um programa pode fingir funcionar corretamente.  Assim que o programa come√ßa a processar linhas longas ou o n√∫mero de itera√ß√µes no loop aumenta, a pilha pode demorar e terminar no momento mais inesperado.  Voc√™ pode ler mais sobre isso neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mini-livro</a> (consulte o cap√≠tulo ‚ÄúN√£o chame a fun√ß√£o alloca () dentro dos loops‚Äù). <br><br>  Macros como A2W ocultam o mal.  Eles parecem fun√ß√µes, mas, de fato, t√™m efeitos colaterais dif√≠ceis de perceber. <br><br>  N√£o consigo passar por tentativas semelhantes de reduzir o c√≥digo usando macros: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialize_sanitizer_builtins</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DEF_SANITIZER_BUILTIN(ENUM, NAME, TYPE, ATTRS) \ decl = add_builtin_function (</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"__builtin_"</span></span></span><span class="hljs-meta"> NAME, TYPE, ENUM, \ BUILT_IN_NORMAL, NAME, NULL_TREE); \ set_call_expr_flags (decl, ATTRS); \ set_builtin_decl (ENUM, decl, true); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"sanitizer.def"</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> ((flag_sanitize &amp; SANITIZE_OBJECT_SIZE) &amp;&amp; !builtin_decl_implicit_p (BUILT_IN_OBJECT_SIZE)) DEF_SANITIZER_BUILTIN (BUILT_IN_OBJECT_SIZE, </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"object_size"</span></span></span><span class="hljs-meta">, BT_FN_SIZE_CONST_PTR_INT, ATTR_PURE_NOTHROW_LEAF_LIST) .... }</span></span></code> </pre> <br>  Somente a primeira linha da macro se refere √† <i>instru√ß√£o if</i> .  As linhas restantes ser√£o executadas independentemente da condi√ß√£o.  Podemos dizer que esse erro √© do mundo C, pois foi encontrado por mim usando o diagn√≥stico <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">V640</a> dentro do compilador GCC.  O c√≥digo GCC √© escrito principalmente em C, e nesse idioma as macros s√£o dif√≠ceis de executar.  No entanto, voc√™ deve admitir que esse n√£o √© o caso.  Aqui era bem poss√≠vel fazer uma fun√ß√£o real. <br><br><h2>  Segundo: a leitura do c√≥digo se torna mais complicada </h2><br>  Se voc√™ se deparar com um projeto cheio de macros consistindo de outras macros, entender√° o que diabos √© entender esse projeto.  Se voc√™ n√£o encontrou, ent√£o tome uma palavra, isso √© triste.  Como um exemplo de c√≥digo dif√≠cil de ler, posso citar o compilador GCC mencionado anteriormente. <br><br>  Segundo a lenda, a Apple investiu no desenvolvimento do projeto LLVM como uma alternativa ao GCC devido √† complexidade do c√≥digo GCC devido a essas mesmas macros.  Onde eu leio sobre isso, n√£o me lembro, ent√£o n√£o haver√° provas. <br><br><h2>  Terceiro: escrever macros √© dif√≠cil </h2><br>  √â f√°cil escrever uma macro incorreta.  Eu os encontro em todos os lugares com as conseq√º√™ncias correspondentes.  Mas escrever uma macro boa e confi√°vel geralmente √© mais dif√≠cil do que escrever uma fun√ß√£o semelhante. <br><br>  Escrever uma boa macro √© dif√≠cil pelo motivo de que, diferentemente de uma fun√ß√£o, ela n√£o pode ser considerada uma entidade independente.  √â necess√°rio considerar imediatamente a macro no contexto de todas as op√ß√µes poss√≠veis para seu uso; caso contr√°rio, √© muito f√°cil resolver um problema da forma: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MIN(X, Y) (((X) &lt; (Y)) ? (X) : (Y)) m = MIN(ArrayA[i++], ArrayB[j++]);</span></span></code> </pre> <br>  Obviamente, nesses casos, as solu√ß√µes alternativas j√° foram inventadas e a macro pode ser implementada com seguran√ßa: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAX(a,b) \ ({ __typeof__ (a) _a = (a); \ __typeof__ (b) _b = (b); \ _a &gt; _b ? _a : _b; })</span></span></code> </pre> <br>  A √∫nica quest√£o √©: precisamos de tudo isso em C ++?  N√£o, em C ++ existem modelos e outras maneiras de criar c√≥digo eficiente.  Ent√£o, por que continuo encontrando macros semelhantes nos programas C ++? <br><br><h2>  Quarto: a depura√ß√£o √© complicada </h2><br>  H√° uma opini√£o de que a depura√ß√£o √© para os fracos :).  √â claro que isso √© interessante de discutir, mas do ponto de vista pr√°tico, a depura√ß√£o √© √∫til e ajuda a encontrar erros.  As macros complicam esse processo e definitivamente atrasam a busca por erros. <br><br><h2>  Quinto: falsos positivos dos analisadores est√°ticos </h2><br>  Muitas macros, devido √†s especificidades de seus dispositivos, geram v√°rios falsos positivos a partir de analisadores de c√≥digo est√°tico.  Posso dizer com seguran√ßa que a maioria dos falsos positivos ao verificar o c√≥digo C e C ++ est√° associada a macros. <br><br>  O problema das macros √© que os analisadores simplesmente n√£o conseguem distinguir o c√≥digo complicado correto do c√≥digo incorreto.  O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> sobre a verifica√ß√£o do Chromium descreve uma dessas macros. <br><br><h2>  O que fazer </h2><br>  N√£o vamos usar macros em programas C ++, a menos que seja absolutamente necess√°rio! <br><br>  O C ++ fornece ferramentas avan√ßadas, como fun√ß√µes de modelo, infer√™ncia autom√°tica de tipo (autom√°tico, decltype), fun√ß√µes constexpr. <br><br>  Quase sempre, em vez de uma macro, voc√™ pode escrever uma fun√ß√£o comum.  Muitas vezes isso n√£o √© feito devido √† pregui√ßa comum.  Essa pregui√ßa √© prejudicial, e devemos combat√™-la.  Um pequeno tempo adicional gasto na cria√ß√£o de uma fun√ß√£o completa ser√° recompensado com juros.  O c√≥digo ser√° mais f√°cil de ler e manter.  A probabilidade de fotografar sua pr√≥pria perna diminuir√° e os compiladores e analisadores est√°ticos produzir√£o menos falsos positivos. <br><br>  Alguns podem argumentar que o c√≥digo com uma fun√ß√£o √© menos eficiente.  Isso tamb√©m √© apenas uma "desculpa". <br><br>  Agora, os compiladores incorporam perfeitamente o c√≥digo, mesmo que voc√™ n√£o tenha escrito a <i>palavra-chave inline</i> . <br><br>  Se estamos falando sobre o c√°lculo de express√µes no est√°gio de compila√ß√£o, ent√£o aqui as macros n√£o s√£o necess√°rias nem prejudiciais.  Para o mesmo objetivo, √© muito melhor e mais seguro usar o <i>constexpr</i> . <br><br>  Vou explicar com um exemplo.  Aqui est√° um erro cl√°ssico de macro que peguei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">emprestado</a> do c√≥digo do FreeBSD Kernel. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> ICB2400_VPOPT_WRITE_SIZE 20 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> ICB2400_VPINFO_PORT_OFF(chan) \ (ICB2400_VPINFO_OFF + \ sizeof (isp_icb_2400_vpinfo_t) + \ (chan * ICB2400_VPOPT_WRITE_SIZE)) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// &lt;= static void isp_fibre_init_2400(ispsoftc_t *isp) { .... if (ISP_CAP_VP0(isp)) off += ICB2400_VPINFO_PORT_OFF(chan); else off += ICB2400_VPINFO_PORT_OFF(chan - 1); // &lt;= .... }</span></span></span></span></code> </pre> <br>  O argumento <i>chan</i> √© usado em uma macro sem quebra entre par√™nteses.  Como resultado, a express√£o <i>ICB2400_VPOPT_WRITE_SIZE</i> n√£o multiplica a express√£o <i>(chan - 1)</i> , mas apenas uma. <br><br>  O erro n√£o apareceria se uma fun√ß√£o comum fosse gravada em vez de uma macro. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> ICB2400_VPINFO_PORT_OFF(<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> chan) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ICB2400_VPINFO_OFF + <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isp_icb_2400_vpinfo_t</span></span>) + chan * ICB2400_VPOPT_WRITE_SIZE; }</code> </pre> <br>  √â muito prov√°vel que o compilador C e C ++ moderno execute independentemente o <i>inlining da</i> fun√ß√£o, e o c√≥digo ser√° t√£o eficiente quanto no caso de uma macro. <br><br>  Ao mesmo tempo, o c√≥digo tornou-se mais leg√≠vel e livre de erros. <br><br>  Se for sabido que o valor de entrada √© sempre uma constante, voc√™ poder√° adicionar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">constexpr</a> e garantir que todos os c√°lculos ocorram no est√°gio de compila√ß√£o.  Imagine que √© C ++ e que <i>chan</i> √© sempre uma constante.  Ent√£o √© √∫til declarar a fun√ß√£o <i>ICB2400_VPINFO_PORT_OFF</i> assim: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> size_t </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ICB2400_VPINFO_PORT_OFF</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">size_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> chan)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ICB2400_VPINFO_OFF + <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isp_icb_2400_vpinfo_t</span></span>) + chan * ICB2400_VPOPT_WRITE_SIZE; }</code> </pre> <br>  Lucro! <br><br>  Espero ter conseguido convenc√™-lo.  Boa sorte e menos macros no c√≥digo! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt444612/">https://habr.com/ru/post/pt444612/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt444596/index.html">Iodeto: Editor de Ci√™ncia Interativo da Mozilla</a></li>
<li><a href="../pt444598/index.html">O CD tem 40 anos e ele est√° morto (n√£o √©?)</a></li>
<li><a href="../pt444600/index.html">Revis√£o de 14 cms sem cabe√ßa 2019</a></li>
<li><a href="../pt444602/index.html">Encapsulamento em C ++ e C</a></li>
<li><a href="../pt444610/index.html">Estat√≠sticas e monitoramento de scripts PHP em tempo real. ClickHouse e Grafana v√£o ajudar Pinba</a></li>
<li><a href="../pt444614/index.html">Toda a hist√≥ria do Linux. Parte II: altos e baixos corporativos</a></li>
<li><a href="../pt444616/index.html">Criando seu pr√≥prio gravador de voz Android usando o Kotlin</a></li>
<li><a href="../pt444620/index.html">Usando arquivos de sequ√™ncia do kernel do Linux</a></li>
<li><a href="../pt444622/index.html">Pacote R tidyr e suas novas fun√ß√µes pivot_longer e pivot_wider</a></li>
<li><a href="../pt444624/index.html">Carros el√©tricos pegando fogo e tomando banho</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>