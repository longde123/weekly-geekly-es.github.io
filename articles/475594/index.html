<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äç‚öïÔ∏è ü§í üòß JavaScript entretenido: una ecuaci√≥n casi lineal üëé üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® üåÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øQu√© pasa si tomamos matem√°ticas maravillosas (es decir, ecuaciones lineales) y nuestro JavaScript igualmente maravilloso, y luego superponemos una so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript entretenido: una ecuaci√≥n casi lineal</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/475594/">  ¬øQu√© pasa si tomamos matem√°ticas maravillosas (es decir, ecuaciones lineales) y nuestro <b>JavaScript</b> igualmente maravilloso, y luego superponemos una sobre la otra?  En las condiciones de limitaciones y detalles del entorno js, ‚Äã‚Äãun simple problema matem√°tico puede convertirse en un problema muy curioso y lleno de trampas de piedras js.  En la √∫ltima conferencia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HolyJS 19</a> en Mosc√∫, una de estas ecuaciones lineales (entre otras tareas de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SEMrush</a> ) caus√≥ un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gran revuelo</a> . <br><br><img src="https://habrastorage.org/webt/9g/kg/wb/9gkgwb96ttlrqlsnqmqgmnjygyu.jpeg"><br><br>  Y s√≠, este es nuevamente el encabezado de Entretenimiento de JavaScript: le pido que elimine a todos los que se preocupan. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Tareas anteriores</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dia de nieve</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ofuscaci√≥n de soporte</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El recordatorio m√°s corto</a> <br></div></div><br>  Por supuesto, todo lo que se describe a continuaci√≥n, esto es solo un intento fr√≠volo de simbiosis entre dos cosas maravillosas para divertirse, no debe tomarse en serio.  ¬°Y este material no habr√≠a existido si no hubiera sido por el vivo inter√©s de los participantes de la conferencia, por lo que les agradecemos especialmente! <br><br><h3>  Redacci√≥n </h3><br>  1. Encuentra todas las soluciones enteras de la ecuaci√≥n: <br><br><pre><code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  2. Encuentre todas las soluciones enteras de la ecuaci√≥n: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  La segunda ecuaci√≥n difiere de la primera solo en una operaci√≥n adicional en el lado derecho. <br><br><h3>  Aproximaci√≥n matem√°tica </h3><br>  Pasamos a la primera ecuaci√≥n.  Y para comenzar, entenderemos las prioridades de las operaciones utilizadas, de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">acuerdo con la tabla</a> : <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> +(~ x)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Tomamos la negaci√≥n bit a partir de <i>x</i> , luego la sumamos a 9. El resultado de la suma se desplaza bit a la derecha por el n√∫mero de bits igual al resultado de dividir 6 por 3. <br><br>  Obviamente, el problema radica en el uso de operaciones bit a bit en la <i>x</i> deseada.  Pero para encontrar alguna ra√≠z condicional para un razonamiento adicional, vale la pena intentar llevar la ecuaci√≥n a un an√°logo matem√°tico aproximado. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Las operaciones</a> bit a bit funcionan con operandos como enteros de 32 bits con signo.  El NOT bit a bit puede ser reemplazado por <b>una</b> negaci√≥n <b>entera</b> del incremento: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> -(x + <span class="hljs-number"><span class="hljs-number">1</span></span>)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  El desplazamiento bit a la derecha (mientras se preserva el signo) se puede reemplazar por <b>la</b> divisi√≥n de <b>enteros</b> por dos en un grado igual al operando a la derecha: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">2</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Por supuesto, estos reemplazos son muy arbitrarios, y hablaremos de esto m√°s adelante.  Y ahora tenemos la ecuaci√≥n lineal habitual, cuya √∫nica ra√≠z es -24.  Sustituya el valor en los lados izquierdo y derecho de la ecuaci√≥n original: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ (<span class="hljs-number"><span class="hljs-number">-24</span></span>) &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 8 -(-24) / 3; // = 8</span></span></code> </pre><br>  Ambas partes son iguales, lo que significa que no todo es tan desesperado y -24 es realmente una soluci√≥n. <br><br><h3>  Busca a los perezosos </h3><br>  Si dibujamos gr√°ficos de las funciones <i>f1 (x) = (8 -x) / 4</i> y <i>f2 (x) = -x / 3</i> , entonces, por supuesto, encontramos el √∫nico punto de intersecci√≥n de las dos l√≠neas en <i>x = -24</i> . <br><br><img src="https://habrastorage.org/webt/lq/-u/eq/lq-ueqg2tcs4_kuacbct4ry7lee.png"><br><br>  Pero hicimos un par de sustituciones desiguales con operaciones bit a bit en la expresi√≥n izquierda, por lo que en realidad la gr√°fica de la funci√≥n <i>f1</i> ser√° ligeramente diferente.  Para cualquier <i>x, el</i> valor de la funci√≥n ser√° un n√∫mero entero diferente del valor en la l√≠nea continua <i>f1</i> con un posible cambio en el rango de -1 a 1. Esto significa que podemos limitar el √°rea de b√∫squeda de soluci√≥n a la izquierda y derecha de -24, donde los valores de las funciones <i>f1</i> y <i>f2</i> comienzan a diferir en m√°s de uno. <br><br>  Para encontrar los l√≠mites del √°rea de b√∫squeda, puede 1) resolver la desigualdad con el m√≥dulo, o 2) observar m√°s de cerca los gr√°ficos de las funciones.  Encontraremos que vale la pena mirar <i>x</i> en el segmento [-36, -12]: <br><br><pre> <code class="javascript hljs">| (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> + x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span></span></span></code> </pre><br><img src="https://habrastorage.org/webt/js/cu/zy/jscuzy-3pnej3cnxpbiuor4lzus.png"><br><br>  Para iterar sobre soluciones completas en un rango cerrado <i>[beg, end],</i> escribimos la funci√≥n <i>findx</i> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> findx = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f, beg, end</span></span></span><span class="hljs-function">) =&gt;</span></span> [...Array(end - beg + <span class="hljs-number"><span class="hljs-number">1</span></span>)].map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_, i</span></span></span><span class="hljs-function">) =&gt;</span></span> i + beg).filter(f);</code> </pre><br>  La funci√≥n devuelve una matriz de enteros para los cuales el valor de la funci√≥n pasada <i>f</i> se reduce a <i>verdadero</i> .  Para encontrar soluciones, representamos la ecuaci√≥n como una funci√≥n js usando el operador de igualdad: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq1 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>; findx(eq1, <span class="hljs-number"><span class="hljs-number">-36</span></span>, <span class="hljs-number"><span class="hljs-number">-12</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  Por lo tanto, <i>x</i> = [-24, -21, -18, -15] son ‚Äã‚Äãlas soluciones deseadas para la primera ecuaci√≥n. <br><br><h3>  Soluci√≥n gr√°fica </h3><br>  La enumeraci√≥n es, por supuesto, un √©xito, pero a√∫n as√≠ descubramos la gr√°fica de la funci√≥n <i>f1</i> hasta el final y resolvamos la ecuaci√≥n gr√°ficamente.  Adem√°s, la soluci√≥n no implica la propiedad obligatoria de la consola del navegador. <br><br>  El operador NOT a nivel de bits simplemente descarta la parte fraccionaria, por lo tanto, el resultado <i>- (x + 1)</i> se redondear√° hacia abajo.  El operador de desplazamiento de bits es un poco m√°s complicado.  Lo reemplazamos con divisi√≥n entera, pero dependiendo del signo del n√∫mero de dividendo, esta operaci√≥n redondea el resultado hacia abajo o hacia arriba: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">10</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 2 -10 &gt;&gt; 2; // = -3</span></span></code> </pre><br>  Sin embargo, sabemos que la <i>x</i> deseada est√° en el rango [-36, -12].  En consecuencia, el operando izquierdo del desplazamiento a nivel de bits ( <i>8 -x</i> ) est√° en el rango [20, 44], es decir, siempre es positivo.  Lo que a su vez significa divisi√≥n entera con redondeo hacia abajo. <br><br>  Habiendo descubierto la naturaleza de las operaciones, podemos dibujar la gr√°fica correcta de la funci√≥n <i>f1</i> : <br><br><img src="https://habrastorage.org/webt/-z/-e/69/-z-e69kdpamkon9l-tnprrtwvxw.png"><br><br>  Encontraremos cuatro puntos de intersecci√≥n de las funciones en las mismas coordenadas <i>x</i> = [-24, -21, -18, -15]. <br><br><h3>  Segunda ecuaci√≥n </h3><br>  Entonces, llegamos a la segunda ecuaci√≥n: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  Se diferencia del primero por la adici√≥n de un OR bit a bit.  Si el operando derecho de tal operaci√≥n es cero, entonces el resultado es simplemente el valor del operando izquierdo con la parte fraccionaria descartada. <br><br>  Para comenzar, pasemos por la misma b√∫squeda, solo decida el √°rea de b√∫squeda.  Dado que ahora la funci√≥n <i>f2</i> tiene un car√°cter similar con <i>f1</i> , para mayor confiabilidad, el posible cambio debe resumirse y la b√∫squeda debe limitarse donde las funciones difieren en valor absoluto en m√°s de dos unidades, esto es [-48, 0]. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  Y obtuvimos las mismas respuestas.  Existe la sospecha de que, despu√©s de todo, algo est√° mal.  Pero el hecho es que habiendo representado la ecuaci√≥n original como tal funci√≥n js, combinamos las dos expresiones (izquierda y derecha) a trav√©s del operador de igualdad en una sola.  Y el operador de igualdad tiene su prioridad, que es mayor que la prioridad del OR bit a bit.  La funci√≥n es id√©ntica a la siguiente: <br><br><pre> <code class="javascript hljs">x =&gt; (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>) | <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre><br>  En este caso, un OR bit a bit no tiene efecto, ya que <i>true |</i>  <i>0 = 1</i> .  Para evitar esto, es necesario indicar expl√≠citamente en el cuerpo de la funci√≥n que estamos comparando los resultados de dos subexpresiones: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) == (-x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>); findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-32, -29, -28, -26, -25, -24, -23, -22, -21, -19, -18, -15]</span></span></code> </pre><br>  El n√∫mero de soluciones ha aumentado.  Ahora echemos un vistazo a los gr√°ficos de funciones.  Por analog√≠a con <i>f1</i> , una "escalera de mano" construye una funci√≥n modificada <i>f2</i> : <br><br><img src="https://habrastorage.org/webt/fc/gs/lm/fcgslmjdbg0xaigr5mumxtmuyh0.png"><br><br>  Los gr√°ficos de lugares de funciones se superponen entre s√≠, pero solo nos interesan los puntos con un valor entero de la coordenada <i>x</i> : [-32, -29, -28, -26, -25, -24, -23, -22, -21, -19, -18, -15], solo 12 soluciones.  La intersecci√≥n de dos "escaleras" con los pasos 3 y 4 se puede encontrar algor√≠tmicamente, si lo desea. <br><br><h3>  Pregunta adicional </h3><br>  En el problema propuesto en la conferencia hab√≠a una pregunta adicional: era necesario encontrar la soluci√≥n m√≠nima para la ecuaci√≥n 2. No se dijo que esto fuera necesariamente un n√∫mero entero, por lo que la respuesta <i>x</i> = -32 - result√≥ ser incorrecta. <br><br>  Encontrar una soluci√≥n por fuerza bruta no funcionar√° aqu√≠, pero resolverlo gr√°ficamente es muy simple.  Este es el valor m√°s cercano <i>x</i> a -33 a la derecha: <br><br><img src="https://habrastorage.org/webt/w9/rq/cy/w9rqcyp4fwmai59369zi9ldjiu8.png"><br><br>  Parece que <i>x</i> = -32. (9).  Pero esto a√∫n no es cierto.  Dado que nuestro entorno es JavaScript, significa que en la representaci√≥n de n√∫meros estamos limitados por el tipo de datos utilizado.  El n√∫mero de tipo es float64, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un n√∫mero de coma flotante de doble precisi√≥n</a> (IEEE 754).  ¬°Recordar esto y nombrar una precisi√≥n aproximada fue suficiente para obtener un zorro de peluche! <br><br><h3>  El lado oscuro de las operaciones bit a bit </h3><br>  Como se mencion√≥ anteriormente, las operaciones bit a bit convierten los operandos a n√∫meros de 32 bits representados por la secuencia 0 y 1; este es el rango [-2147483648, 2147483647].  Si el n√∫mero no cabe, entonces los bits m√°s significativos ser√°n descartados. <br><br>  En la primera ecuaci√≥n, esto no juega ning√∫n papel, ya que no hay operaci√≥n bit a bit en el lado derecho.  Pero en el segundo, esta conversi√≥n de n√∫meros impone un efecto interesante. <br><br>  Por ejemplo, el n√∫mero -24 se representar√° como: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">11111111111111111111111111101000</span></span></code> </pre><br>  Se obtiene un valor negativo del n√∫mero invirtiendo (NO bit a bit) en el registro de un n√∫mero positivo con la suma de uno. <br><br>  Cualquier n√∫mero fuera del rango, despu√©s de la conversi√≥n que termina en esta secuencia de 32 bits, ser√° id√©ntico en operaciones binarias al n√∫mero -24.  Por ejemplo, estos son n√∫meros: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">4294967272</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// -24 8589934568 | 0; // -24, prepend '1' 12884901864 | 0; // -24, prepend '10' 17179869160 | 0; // -24, prepend '11' 21474836456 | 0; // -24, prepend '100' // ...</span></span></code> </pre><br>  En el lado derecho de la ecuaci√≥n, antes de la operaci√≥n bit a bit, dividimos <i>x</i> entre 3. Encontramos <i>x</i> entre los "equivalentes" -24 que es divisible por 3. El n√∫mero m√°s cercano es 12884901864. Sustit√∫yalo en la ecuaci√≥n: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = <span class="hljs-number"><span class="hljs-number">-12884901864</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">-4294967288</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> + <span class="hljs-number"><span class="hljs-number">23</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre><br>  El resultado de dividir por 3 (-4294967288) no cabe en los 32 d√≠gitos asignados;  al invertir bits, el signo finalmente se pierde y solo quedan 8: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">00000000000000000000000000001000</span></span></code> </pre><br>  Adem√°s, puede verificar la exactitud del resultado llamando a la funci√≥n <i>eq2</i> : <br><br><pre> <code class="javascript hljs">eq2(<span class="hljs-number"><span class="hljs-number">12884901864</span></span>); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre><br>  Si lo piensa, al lado de esta ra√≠z puede encontrar las proyecciones de las 11 soluciones enteras restantes. <br><br>  Por lo tanto, aparece una gran cantidad de nuevas soluciones, y solo se considera el equivalente positivo m√°s cercano de -24.  Sin embargo, esto no es tan interesante como la tarea principal, y al analizar las decisiones de los participantes, estas respuestas muy raras se evaluaron por separado.  Para no confundirse, puede introducir una restricci√≥n en los enteros deseados en la condici√≥n del problema como los firmados de 32 bits. <br><br>  Y no puedes hacer!  Luego, para encontrar la ra√≠z m√°s peque√±a, debe prestar atenci√≥n a la vecindad de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Number.MAX_SAFE_INTEGER</a> con un signo negativo, ya que este n√∫mero es entero y con extrema precisi√≥n float64.  Bueno, entonces por tu cuenta. <br><br><h3>  Conclusi√≥n </h3><br>  Como resultado de la conferencia, la mayor√≠a de los participantes resolvieron el problema mediante una b√∫squeda exhaustiva, mientras que el rango de b√∫squeda fue completamente diferente por varias razones.  Pero como vimos, es suficiente correr a ~ 50 enteros.  Muchos cayeron en trampas prioritarias operativas.  Alguien tambi√©n decidi√≥ gr√°ficamente que complacido.  Unidades sorprendidas por el lanzamiento de 32 categor√≠as.  Podr√≠as usar la fuerza bruta para avanzar m√°s en las tareas.  Pero para obtener un premio adicional, a√∫n era necesario realizar un an√°lisis casi matem√°tico. <br><br>  Realmente espero que les haya gustado la idea de una tarea tan at√≠pica como el entretenimiento para el formato de conferencia.  Durante el a√±o pasado, acumul√© varias tareas de JavaScript "entretenidas".  Decid√≠ recogerlos todos en un solo lugar.  Siga el enlace si no tiene miedo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JavaScript desafiado inesperado</a> .  Las tareas de <a href="">Look Complex</a> y <a href="">Broken Pipe</a> , que tambi√©n se propusieron en la conferencia, ya se han presentado.  S√≠, hay muchas de esas colecciones, ¬°pero esta es m√≠a!  Gracias de nuevo a todos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/475594/">https://habr.com/ru/post/475594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../475582/index.html">El problema de la monetizaci√≥n: por qu√© la tienda de aplicaciones populares elimina utilidades de c√≥digo abierto</a></li>
<li><a href="../475584/index.html">¬øC√≥mo son las secciones de aprendizaje autom√°tico en las entrevistas de Yandex?</a></li>
<li><a href="../475586/index.html">La huella digital de sonido de la computadora a trav√©s de la API AudioContext</a></li>
<li><a href="../475588/index.html">Tres paradigmas</a></li>
<li><a href="../475590/index.html">Compilaci√≥n de programas con Notepad ++</a></li>
<li><a href="../475596/index.html">Grandes hip√≥tesis de n√∫meros primos demostradas para sistemas de n√∫meros peque√±os</a></li>
<li><a href="../475598/index.html">Organizaci√≥n de una arquitectura simple en una aplicaci√≥n de Android con un mont√≥n de ViewModel + LiveData, Retrofit + Coroutines</a></li>
<li><a href="../475600/index.html">C√≥mo conectamos Prometeo</a></li>
<li><a href="../475604/index.html">Configuraci√≥n de la plantilla oficial de PostgreSQL en Zabbix 4.4</a></li>
<li><a href="../475608/index.html">Administrador de etiquetas de Google: configuraciones de disparador poco obvias y √∫tiles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>