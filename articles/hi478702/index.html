<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСРЁЯП╝ ЁЯСйтАНЁЯОи ЁЯзСЁЯП┐тАНЁЯдЭтАНЁЯзСЁЯП╝ рдХрдкреИрд╕рд┐рдЯрд░ рдореЗрдВ рдореЗрдЯреНрд░рд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ тППя╕П тЬЛЁЯП╜ ЁЯзШЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдЖрдЬ рдХрд┐рд╕реА рдХреЗ рдкрд╛рд╕ рдХреЛрдИ рд╕рд╡рд╛рд▓ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рд╕рд░реНрд╡рд┐рд╕ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИред рдЕрдЧрд▓рд╛ рддрд╛рд░реНрдХрд┐рдХ рдХрджрдо рдПрдХрддреНрд░рд┐рдд рдореАрдЯреНрд░рд┐рдХ рдХреЗ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдХрдкреИрд╕рд┐рдЯрд░ рдореЗрдВ рдореЗрдЯреНрд░рд┐рдХ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ostrovok/blog/478702/">  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдЖрдЬ рдХрд┐рд╕реА рдХреЗ рдкрд╛рд╕ рдХреЛрдИ рд╕рд╡рд╛рд▓ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рд╕рд░реНрд╡рд┐рд╕ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИред  рдЕрдЧрд▓рд╛ рддрд╛рд░реНрдХрд┐рдХ рдХрджрдо рдПрдХрддреНрд░рд┐рдд рдореАрдЯреНрд░рд┐рдХ рдХреЗ рд▓рд┐рдП рдЕрд▓рд░реНрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ (рдореЗрд▓, рд╕реНрд▓реИрдХ, рдЯреЗрд▓реАрдЧреНрд░рд╛рдо) рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЪреИрдирд▓реЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рдореЗрдВ рдХрд┐рд╕реА рднреА рд╡рд┐рдЪрд▓рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реВрдЪрд┐рдд рдХрд░реЗрдЧрд╛ред  <a href="https://www.habr.com/%3Futm_source%3Dhabr%26utm_medium%3Dpr%26utm_campaign%3DErmolaev_dec19%26utm_content%3Darticle">рдУрд╕реНрдЯреНрд░реЛрд╡реЛрдХреЙрд╡</a> рд╣реЛрдЯрд▓ рдХреЗ рдСрдирд▓рд╛рдЗрди рдЖрд░рдХреНрд╖рдг рд╕реЗрд╡рд╛ рдореЗрдВ, рд╣рдорд╛рд░реА рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рднреА рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рдЗрдиреНрдлреНрд▓рдХреНрд╕рдмреАрдбреА рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЧреНрд░рд╛рдлрд╛рдирд╛ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдмреБрдирд┐рдпрд╛рджреА рдЪреЗрддрд╛рд╡рдиреА рднреА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИред  "рдЖрдкрдХреЛ рдХреБрдЫ рдЧрдгрдирд╛ рдХрд░рдиреЗ рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ" рдЬреИрд╕реЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП, рд╣рдо рдХрдкрд╛рд╕реАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oe/cl/5h/oecl5hgip8nkmeau21l2qaem8ek.png"></div><br>  Kapacitor рдЯрд┐рдХ рд╕реНрдЯреИрдХ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ рдЬреЛ InfluxDB рд╕реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддрд╛ рд╣реИред  рд╡рд╣ рдПрдХ-рджреВрд╕рд░реЗ рд╕реЗ рдХрдИ рдЖрдпрд╛рдореЛрдВ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддрд╛ рд╣реИ (рдЬреБрдбрд╝ рд╕рдХрддрд╛ рд╣реИ), рдкреНрд░рд╛рдкреНрдд рдЖрдВрдХрдбрд╝реЛрдВ рд╕реЗ рдЙрдкрдпреЛрдЧреА рдХреБрдЫ рдЧрдгрдирд╛ рдХрд░, рдкрд░рд┐рдгрд╛рдо рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдХреЗ InfluxDB рдкрд░ рд▓рд┐рдЦреЗрдВ, рд╕реНрд▓реИрдХ / рдЯреЗрд▓реАрдЧреНрд░рд╛рдо / рдореЗрд▓ рдХреЛ рдЕрд▓рд░реНрдЯ рднреЗрдЬреЗрдВред <br><br>  рдкреВрд░реЗ рд╕реНрдЯреИрдХ рдореЗрдВ рд╢рд╛рдВрдд рдФрд░ рд╡рд┐рд╕реНрддреГрдд <a href="">рджрд╕реНрддрд╛рд╡реЗрдЬ рд╣реИрдВ</a> , рд▓реЗрдХрд┐рди рд╣рдореЗрд╢рд╛ рдЙрдкрдпреЛрдЧреА рдЪреАрдЬреЗрдВ рд╣реИрдВ рдЬреЛ рдореИрдиреБрдЕрд▓ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИрдВред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВрдиреЗ рдРрд╕реЗ рдХрдИ рдЙрдкрдпреЛрдЧреА рдЧреИрд░-рд╕реНрдкрд╖реНрдЯ рдпреБрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ (рдореВрд▓ рдЯрд┐рдХрд╕рд┐рдкреНрдЯ рд╕рд┐рдВрдЯреИрдХреНрд╕ <a href="https://docs.influxdata.com/kapacitor/v1.5/tick/syntax/">рдпрд╣рд╛рдВ</a> рд╡рд░реНрдгрд┐рдд <a href="https://docs.influxdata.com/kapacitor/v1.5/tick/syntax/">рд╣реИ</a> ) рдФрд░ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ рдХрд┐ рд╣рдорд╛рд░реА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЪрд▓реЛ рдЪрд▓рддреЗ рд╣реИрдВ! <br><a name="habracut"></a><br><h4>  рдлреНрд▓реЛрдЯ рдФрд░ рдЗрдВрдЯ, рдЧрдгрдирд╛ рддреНрд░реБрдЯрд┐рдпрд╛рдВ </h4><br>  рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдорд╛рдирдХ рд╕рдорд╕реНрдпрд╛ рд╣реИ, рдЗрд╕реЗ рдЬрд╛рддрд┐рдпреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><pre><code class="python hljs">var alert_float = <span class="hljs-number"><span class="hljs-number">5.0</span></span> var alert_int = <span class="hljs-number"><span class="hljs-number">10</span></span> data|eval(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: float(<span class="hljs-string"><span class="hljs-string">"value"</span></span>) &gt; alert_float OR float(<span class="hljs-string"><span class="hljs-string">"value"</span></span>) &lt; float(<span class="hljs-string"><span class="hljs-string">"alert_int"</span></span>))</code> </pre> <br><h4>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ () рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </h4><br>  рдпрджрд┐ рдЯреИрдЧ / рдлрд╝реАрд▓реНрдб рдирд╣реАрдВ рднрд░рд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЧрдгрдирд╛ рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╣реЛрдВрдЧреА: <br><br><pre> <code class="python hljs">|default() .tag(<span class="hljs-string"><span class="hljs-string">'status'</span></span>, <span class="hljs-string"><span class="hljs-string">'empty'</span></span>) .field(<span class="hljs-string"><span class="hljs-string">'value'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre><br><h4>  рднрд░рдиреЗ рдореЗрдВ рд╢рд╛рдорд┐рд▓ (рднреАрддрд░реА рдмрдирд╛рдо рдмрд╛рд╣рд░реА) </h4><br>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдЬреЙрдЗрди рдкреЙрдЗрдВрдЯреНрд╕ рдХреЛ рдЫреЛрдбрд╝ рджреЗрдЧрд╛ рдЬрд╣рд╛рдВ рдХреЛрдИ рдбреЗрдЯрд╛ (рдЖрдВрддрд░рд┐рдХ) рдирд╣реАрдВ рд╣реИред <br>  рднрд░рдиреЗ ('рдЕрд╢рдХреНрдд') рдХреЗ рд╕рд╛рде, рдмрд╛рд╣рд░реА рдЬреБрдбрд╝рд╛рд╡ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ () рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдФрд░ рд░рд┐рдХреНрдд рдорд╛рди рднрд░реЗрдВ: <br><br><pre> <code class="python hljs">var data = res1 |join(res2) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(<span class="hljs-string"><span class="hljs-string">'res1'</span></span>, <span class="hljs-string"><span class="hljs-string">'res2) .fill('</span></span>null<span class="hljs-string"><span class="hljs-string">') |default() .field('</span></span>res1.value<span class="hljs-string"><span class="hljs-string">', 0.0) .field('</span></span>res2.value<span class="hljs-string"><span class="hljs-string">', 100.0)</span></span></code> </pre><br>  рдЕрднреА рднреА рдПрдХ рдЕрддрд┐ рд╕реВрдХреНрд╖реНрдо рдЕрдВрддрд░ рд╣реИред  рдпрджрд┐ рд╢реНрд░реГрдВрдЦрд▓рд╛ (рд░реЗрд╕ 1 рдпрд╛ рд░реЗрд╕ 2) рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рдКрдкрд░ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдЦрд╛рд▓реА рд╣реИрдВ, рддреЛ рдЕрдВрддрд┐рдо рд╢реНрд░реГрдВрдЦрд▓рд╛ (рдбреЗрдЯрд╛) рднреА рдЦрд╛рд▓реА рд╣реЛрдЧреАред  рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рдЬреАрдердм ( <a href="https://github.com/influxdata/kapacitor/issues/1633">1633</a> , <a href="https://github.com/influxdata/kapacitor/issues/1871">1871</a> , <a href="https://github.com/influxdata/influxdb/issues/6967">6967</a> ) рдкрд░ рдХрдИ рдЯрд┐рдХрдЯ рд╣реИрдВ - рд╣рдо рдлрд┐рдХреНрд╕ рдХреЗ рд▓рд┐рдП рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдереЛрдбрд╝рд╛ рдкреАрдбрд╝рд┐рдд рд╣реИрдВред <br><br><h4>  рдЧрдгрдирд╛ рдореЗрдВ рд╢рд░реНрддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ (рдпрджрд┐ рд▓реИрдореНрдмреНрдбрд╛ рдореЗрдВ) </h4><br><pre> <code class="python hljs">|eval(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-string"><span class="hljs-string">"value"</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, true, false)</code> </pre><br><h4>  рдЕрд╡рдзрд┐ рдХреЗ рджреМрд░рд╛рди рдкрд╛рдЗрдк рд▓рд╛рдЗрди рд╕реЗ рдЕрдВрддрд┐рдо рдкрд╛рдВрдЪ рдорд┐рдирдЯ </h4><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд┐рдЫрд▓реЗ рд╕рдкреНрддрд╛рд╣ рдХреЗ рд╕рд╛рде рдЕрдВрддрд┐рдо рдкрд╛рдВрдЪ рдорд┐рдирдЯ рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЖрдк рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдмреИрдЪ'рдЖрдореА рдХреЗ рд╕рд╛рде рджреЛ рдкреИрдХреЗрдЯ рдбреЗрдЯрд╛ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдмрдбрд╝реА рдЕрд╡рдзрд┐ рд╕реЗ рдбреЗрдЯрд╛ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="python hljs"> |where(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: duration((unixNano(now()) - unixNano(<span class="hljs-string"><span class="hljs-string">"time"</span></span>))/<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>u) &lt; <span class="hljs-number"><span class="hljs-number">5</span></span>m)</code> </pre><br>  рдЕрдВрддрд┐рдо рдкрд╛рдВрдЪ рдорд┐рдирдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рдХрд▓реНрдк рдмреИрд░рд┐рдпрд░рдиреЛрдб рдиреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕рдордп рд╕реЗ рдкрд╣рд▓реЗ рдбреЗрдЯрд╛ рдХреЛ рдХрд╛рдЯ рджреЗрддрд╛ рд╣реИ: <br><br><pre> <code class="python hljs">|barrier() .period(<span class="hljs-number"><span class="hljs-number">5</span></span>m)</code> </pre><br><h2>  рд╕рдВрджреЗрд╢ рдореЗрдВ рдЧреЛ рдХреЗ рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдЙрджрд╛рд╣рд░рдг </h2><br>  рдЯреЗрдореНрдкреНрд▓реЗрдЯ <a href="https://golang.org/pkg/text/template/">text.template</a> рдкреИрдХреЗрдЬ рд╕реЗ рдкреНрд░рд╛рд░реВрдк рдХреЗ рдЕрдиреБрд░реВрдк рд╣реИрдВ, рдиреАрдЪреЗ рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рдХрд╛рд░реНрдп рд╣реИрдВред <br><br><h4>  рдЕрдЧрд░-рдмрд╛рдХреА </h4><br>  рд╣рдо рдЪреАрдЬреЛрдВ рдХреЛ рдХреНрд░рдо рдореЗрдВ рд░рдЦрддреЗ рд╣реИрдВ, рд╣рдо рд▓реЛрдЧреЛрдВ рдХреЛ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд╕реЗ рдкрд╛рда рдХреЗ рд╕рд╛рде рдЯреНрд░рд┐рдЧрд░ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="python hljs">|alert() ... .message( <span class="hljs-string"><span class="hljs-string">'{{ if eq .Level "OK" }}It is ok now{{ else }}Chief, everything is broken{{end}}'</span></span> )</code> </pre><br><h4>  рд╕рдВрджреЗрд╢ рдореЗрдВ рджреЛ рджрд╢рдорд▓рд╡ рд╕реНрдерд╛рди </h4><br>  рд╕рдВрджреЗрд╢ рдХреА рдкрдардиреАрдпрддрд╛ рдореЗрдВ рд╕реБрдзрд╛рд░: <br><br><pre> <code class="python hljs">|alert() ... .message( <span class="hljs-string"><span class="hljs-string">'now value is {{ index .Fields "value" | printf "%0.2f" }}'</span></span> )</code> </pre><br><h4>  рд╕рдВрджреЗрд╢ рдореЗрдВ рдЪрд░ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ </h4><br>  рд╣рдо рдкреНрд░рд╢реНрди рдХрд╛ рдЙрддреНрддрд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрджреЗрд╢ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВ "рдпрд╣ рдХреНрдпреЛрдВ рдЪрд┐рд▓реНрд▓рд╛ рд░рд╣рд╛ рд╣реИ?" <br><br><pre> <code class="python hljs">var warnAlert = <span class="hljs-number"><span class="hljs-number">10</span></span> |alert() ... .message( <span class="hljs-string"><span class="hljs-string">'Today value less then '</span></span>+string(warnAlert)+<span class="hljs-string"><span class="hljs-string">'%'</span></span> )</code> </pre><br><h4>  рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЪреЗрддрд╛рд╡рдиреА рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ </h4><br>  рдбреЗрдЯрд╛ рдореЗрдВ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╕рдореВрд╣ рд╣реЛрдиреЗ рдкрд░ рд╕рд╣реА рдмрд╛рдд, рдЕрдиреНрдпрдерд╛ рдХреЗрд╡рд▓ рдПрдХ рдЕрд▓рд░реНрдЯ рдЙрддреНрдкрдиреНрди рд╣реЛрдЧрд╛: <br><br><pre> <code class="python hljs">|alert() ... .id(<span class="hljs-string"><span class="hljs-string">'{{ index .Tags "myname" }}/{{ index .Tags "myfield" }}'</span></span>)</code> </pre><br><h4>  рдХрд╕реНрдЯрдо рд╣реИрдВрдбрд▓рд░ рдХреА </h4><br>  рд╣реИрдВрдбрд▓рд░ рдХреА рдмрдбрд╝реА рд╕реВрдЪреА рдиреЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдЕрдкрдиреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдкрд╛рд░рд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ (рд╕реНрдЯрдбрд┐рди) рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ - рд░рдЪрдирд╛рддреНрдордХрддрд╛ рдФрд░ рдмрд╣реБрдд рдХреБрдЫ! <br><br>  рд╣рдорд╛рд░реЗ рдХрд╕реНрдЯрдо рдЯреВрд▓ рдореЗрдВ рд╕реЗ рдПрдХ рдПрдХ рдЫреЛрдЯрд╛ рдЕрдЬрдЧрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реВрдЪрдирд╛рдУрдВ рдХреЛ рд╕реБрд╕реНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреЗрдЬрд╛ рдЧрдпрд╛ рд╣реИред <br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рд╕рдВрджреЗрд╢ рдореЗрдВ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рджреНрд╡рд╛рд░рд╛ рд╕рдВрд░рдХреНрд╖рд┐рдд рдПрдХ рдЧреНрд░рд╛рдлреНрдЯрд╛рдирд╛ рд╕реЗ рдПрдХ рддрд╕реНрд╡реАрд░ рднреЗрдЬрдирд╛ рдЪрд╛рд╣рддреЗ рдереЗред  рдХреЗ рдмрд╛рдж - рдПрдХ рд╣реА рд╕рдореВрд╣ рд╕реЗ рдкрд┐рдЫрд▓реЗ рдЕрд▓рд░реНрдЯ рдХреЛ рдереНрд░реЗрдб рдХреЗ рд▓рд┐рдП рдареАрдХ рд▓рд┐рдЦреЗрдВ, рдФрд░ рдПрдХ рдЕрд▓рдЧ рд╕рдВрджреЗрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рдирд╣реАрдВред  рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж - рд╕рдВрджреЗрд╢ рдХреЗ рдЕрдВрддрд┐рдо X рдорд┐рдирдЯ рдореЗрдВ рд╕рдмрд╕реЗ рдЖрдо рддреНрд░реБрдЯрд┐ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдПред <br><br>  рдПрдХ рдЕрд▓рдЧ рд╡рд┐рд╖рдп рдЕрдиреНрдп рд╕реЗрд╡рд╛рдУрдВ рдФрд░ рдПрдХ рдЪреЗрддрд╛рд╡рдиреА рджреНрд╡рд╛рд░рд╛ рд╢реБрд░реВ рдХреА рдЧрдИ рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рд╣реИ (рдХреЗрд╡рд▓ рдЕрдЧрд░ рдЖрдкрдХреА рдирд┐рдЧрд░рд╛рдиреА рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ)ред <br>  рдПрдХ рд╣реИрдВрдбрд▓рд░ рдХреЗ рд╡рд┐рд╡рд░рдг рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг, рдЬрд╣рд╛рдВ slack_handler.py рд╣рдорд╛рд░реА рд╕реНрд╡-рд▓рд┐рдЦрд┐рдд рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИ: <br><br><pre> <code class="python hljs">topic: slack_graph id: slack_graph.alert match: level() != INFO AND changed() == TRUE kind: <span class="hljs-keyword"><span class="hljs-keyword">exec</span></span> options: prog: /sbin/slack_handler.py args: [<span class="hljs-string"><span class="hljs-string">"-c"</span></span>, <span class="hljs-string"><span class="hljs-string">"CHANNELID"</span></span>, <span class="hljs-string"><span class="hljs-string">"--graph"</span></span>, <span class="hljs-string"><span class="hljs-string">"--search"</span></span>]</code> </pre><br><h2>  рдХреИрд╕реЗ рдХрд░реЗрдВ рдбреЗрдмреНрдпреВ? </h2><br><h4>  рд▓реЙрдЧ рдЖрдЙрдЯрдкреБрдЯ рд╡рд┐рдХрд▓реНрдк </h4><br><pre> <code class="python hljs">|log() .level(<span class="hljs-string"><span class="hljs-string">"error"</span></span>) .prefix(<span class="hljs-string"><span class="hljs-string">"something"</span></span>)</code> </pre><br>  рд╡реЙрдЪ (cli): kapacitor -url <a href="http://host-or-ip/">host-or-ip</a> : 9092 рд▓реЙрдЧ lvl = рдПрд░рд░ <br><br><h4>  HttpOut рдХреЗ рд╕рд╛рде рд╡реЗрд░рд┐рдПрдВрдЯ </h4><br>  рд╡рд░реНрддрдорд╛рди рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдореЗрдВ рдбреЗрдЯрд╛ рджрд┐рдЦрд╛рддрд╛ рд╣реИ: <br><br><pre> <code class="python hljs">|httpOut(<span class="hljs-string"><span class="hljs-string">'something'</span></span>)</code> </pre><br>  рджреЗрдЦреЛ (рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ): <a href="http://host-or-ip/">рд╣реЛрд╕реНрдЯ-рдпрд╛-рдЖрдИрдкреА</a> : 9092 / kapacitor / v1 / рдХрд╛рд░реНрдп / task_name / рдХреБрдЫ <br><br><h4>  рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЬрдирд╛ </h4><br><ul><li>  рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдп <a href="https://www.graphviz.org/">рдЧреНрд░реЗрд╡рд┐рд╡рд┐</a> рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рд░рди рдЯреНрд░реА рджреЗрддрд╛ рд╣реИред </li><li>  <a href="http://host-or-ip:9092/kapacitor/v1/tasks/task_name%3Fdot-view%3Dlabels">рдбреЙрдЯ</a> рдмреНрд▓реЙрдХ рд▓реЗрдВред </li><li>  рд╣рдо рджрд░реНрд╢рдХ рдореЗрдВ рд╕рдореНрдорд┐рд▓рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ, <a href="https://dreampuf.github.io/GraphvizOnline">рдЖрдирдВрдж рд▓реЗрддреЗ рд╣реИрдВ</a> ред <br></li></ul><br><br><h2>  рдореБрдЭреЗ рдФрд░ рдХрд╣рд╛рдВ рд╕реЗ рд░реЗрдХ рдорд┐рд▓ рд╕рдХрддрд╛ рд╣реИ </h2><br><h4>  рд░рд╛рдЗрдЯрдмреИрдХ рдкрд░ influxdb рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк </h4><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдо рдкреНрд░рддрд┐ рдШрдВрдЯреЗ (рдЧреНрд░реБрдкрдмреА) (1h) рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рд░реНрдЯ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрдирдлреНрд▓рдХреНрд╕рдмрдм рдореЗрдВ рд╣реБрдП рдЕрд▓рд░реНрдЯ рдХреЛ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ (рдЧреНрд░рд╛рдлреНрдЯрд╛рдирд╛ рдореЗрдВ рдЧреНрд░рд╛рдл рдкрд░ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдЦреВрдмрд╕реВрд░рддреА рд╕реЗ рджрд┐рдЦрд╛рдиреЗ рдХреЗ рд▓рд┐рдП)ред <br><br>  influxDBOut () рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЛ рдЕрд▓рд░реНрдЯ рд╕реЗ рдХреНрд░рдорд╢рдГ рд╕рдордп рдорд╛рди рд▓рд┐рдЦреЗрдЧрд╛, рдЪрд╛рд░реНрдЯ рдкрд░ рдмрд┐рдВрджреБ рдЕрд▓рд░реНрдЯ рдЖрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ / рдмрд╛рдж рдореЗрдВ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдЬрдм рд╕рдЯреАрдХрддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: рд╣рдо рдПрдХ рдХрд╕реНрдЯрдо рд╣реИрдВрдбрд▓рд░ рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рдмрд╛рдпрдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд╡рд░реНрддрдорд╛рди рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рдХреЛ рдлреНрд▓рдХреНрд╕рдбрдм рд▓рд┐рдЦ рджреЗрдЧрд╛ред <br><br><h4>  docker, рдирд┐рд░реНрдорд╛рдг рдФрд░ рддреИрдирд╛рддреА </h4><br>  рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░, рдХрд╛реЕрдкреАрд╕рд┐рдЯрд░ [рд▓реЛрдб] рдмреНрд▓реЙрдХ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реЗ рдХрд╛рд░реНрдпреЛрдВ, рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдФрд░ рд╣реИрдВрдбрд▓рд░ рдХреЛ рд▓реЛрдб рдХрд░ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдХрд┐рд╕реА рдХрд╛рд░реНрдп рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪреАрдЬреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: <br><br><ol><li>  рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╛рдо - рдЖрдИрдбреА / рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдирд╛рдо рддрдХ рдлреИрд▓рддрд╛ рд╣реИ </li><li>  рдкреНрд░рдХрд╛рд░ - рдзрд╛рд░рд╛ / рдмреИрдЪ </li><li>  dbrp - рд╡рд╣ рдХреАрд╡рд░реНрдб рдЬрд┐рд╕рдореЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕ + рдиреАрддрд┐ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ (dbrp "рдЖрдкреВрд░реНрддрд┐рдХрд░реНрддрд╛" "рдСрдЯреЛрдЬреЗрди") рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИред </li></ol><br>  рдпрджрд┐ рдХреБрдЫ рдмреИрдЪ рдХрд╛рд░реНрдп рдореЗрдВ рдбреНрд░рдм рдХреЗ рд╕рд╛рде рдХреЛрдИ рд░реЗрдЦрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдкреВрд░реА рд╕реЗрд╡рд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдЗрдирдХрд╛рд░ рдХрд░ рджреЗрдЧреА рдФрд░ рд▓реЙрдЧ рдореЗрдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ рд▓рд┐рдЦреЗрдВрдЧреЗред <br><br>  рдХреНрд░реЛрдиреЛрдЧреНрд░рдлрд╝ рдореЗрдВ, рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, рдпрд╣ рд░реЗрдЦрд╛ рдирд╣реАрдВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП, рдЗрд╕реЗ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрд╡реАрдХрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдПрдХ рддреНрд░реБрдЯрд┐ рдлреЗрдВрдХрддрд╛ рд╣реИред <br><br>  рдХрдВрдЯреЗрдирд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╕рдордп рд╣реИрдХ рдХрд░реЗрдВ: рдбреЙрдХрд░реАрдлрд╛рдЗрд▓ -1 рдХреЗ рд╕рд╛рде рдмрд╛рд╣рд░ рдирд┐рдХрд▓рддрд╛ рд╣реИ рдЕрдЧрд░ //.+dbrp рдХреЗ рд╕рд╛рде рд▓рд╛рдЗрдиреЗрдВ рд╣реИрдВ, рдЬреЛ рдмрд┐рд▓реНрдб рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╕рдордп рдлрд╝рд╛рдЗрд▓ рдХреЗ рдХрд╛рд░рдг рдХреЛ рддреБрд░рдВрдд рд╕рдордЭ рдЬрд╛рдПрдЧрд╛ред <br><br><h4>  рдПрдХ рд╕реЗ рдХрдИ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ </h4><br>  рдЙрджрд╛рд╣рд░рдг рдХрд╛рд░реНрдп: рдЖрдкрдХреЛ рдкреНрд░рддрд┐ рд╕рдкреНрддрд╛рд╣ рд╕реЗрд╡рд╛ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рд╕рдордп рдХрд╛ 95 рд╡рд╛рдВ рдкреНрд░рддрд┐рд╢рдд рд▓реЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЕрдВрддрд┐рдо 10 рдХреЗ рд╣рд░ рдорд┐рдирдЯ рдХреА рдЗрд╕ рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░реЗрдВред <br><br>  рдЖрдк рдПрдХ рд╕реЗ рдХрдИ, рдЕрдВрддрд┐рдо / рдорд╛рдзреНрдп / рдорд╛рдзреНрдпрд┐рдпреЛрдВ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд╕рдореВрд╣ рдХреЛ рдиреЛрдб рдХреЛ рдзрд╛рд░рд╛ рдореЗрдВ рдмрджрд▓ рджреЗрдВ, рддреНрд░реБрдЯрд┐ "рдмрдЪреНрдЪреЗ рдХреЛ рдмреЗрдореЗрд▓ рдХрд┐рдирд╛рд░реЛрдВ рдХреЛ рдирд╣реАрдВ рдЬреЛрдбрд╝ рд╕рдХрддреА рд╣реИ: рдмреИрдЪ -&gt; рд╕реНрдЯреНрд░реАрдо" рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рдПрдЧреАред <br><br>  рдПрдХ рд▓рдВрдмреЛрджрд░ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдореЗрдВ рдПрдХ рдЪрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдмреИрдЪ рдХрд╛ рдкрд░рд┐рдгрд╛рдо рднреА рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br>  рдкрд╣рд▓реЗ рдмреИрдЪ рд╕реЗ udf рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдмрдЪрд╛рдиреЗ рдФрд░ рдЗрд╕ рдлрд╛рдЗрд▓ рдХреЛ рд╕рд╛рдЗрдбрд▓реЛрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рд╣реИред <br><br><h2>  рд╣рдордиреЗ рдХреНрдпрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛? </h2><br>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд▓рдЧрднрдЧ 100 рд╣реЛрдЯрд▓ рдЖрдкреВрд░реНрддрд┐рдХрд░реНрддрд╛ рд╣реИрдВ, рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рдкрд╛рд╕ рдХрдИ рдХрдиреЗрдХреНрд╢рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЪрд▓реЛ рдЗрд╕реЗ рдПрдХ рдЪреИрдирд▓ рдХрд╣рддреЗ рд╣реИрдВред  рдЗрдирдореЗрдВ рд╕реЗ рд▓рдЧрднрдЧ 300 рдЪреИрдирд▓ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдЪреИрдирд▓ рдмрдВрдж рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╕рднреА рд░рд┐рдХреЙрд░реНрдб рдХрд┐рдП рдЧрдП рдореАрдЯреНрд░рд┐рдХ рдореЗрдВ рд╕реЗ, рд╣рдо рддреНрд░реБрдЯрд┐ рджрд░ (рдЕрдиреБрд░реЛрдз рдФрд░ рддреНрд░реБрдЯрд┐рдпреЛрдВ) рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░реЗрдВрдЧреЗред <br><br><h4>  рдЧреНрд░рд╛рдлреНрдЯрдирд╛ рдХреНрдпреЛрдВ рдирд╣реАрдВ? </h4><br>  рддреНрд░реБрдЯрд┐ рдЕрд▓рд░реНрдЯ рдЬреЛ рдЧреНрд░рд╛рдлрди рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рд╣реИрдВ, рдЙрдирдореЗрдВ рдХрдИ рдиреБрдХрд╕рд╛рди рд╣реИрдВред  рдХреБрдЫ рдорд╣рддреНрд╡рдкреВрд░реНрдг, рдХреБрдЫ рдЕрдкрдиреА рдЖрдБрдЦреЗрдВ рдмрдВрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд╕реНрдерд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ред <br><br>  Grafana рдХреЛ рдЖрдпрд╛рдо + рдЪреЗрддрд╛рд╡рдиреА рдХреЗ рдмреАрдЪ рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдирд╣реАрдВ рдкрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдПрдХ рджрд░ (рдЕрдиреБрд░реЛрдз-рддреНрд░реБрдЯрд┐рдпрд╛рдВ) / рдЕрдиреБрд░реЛрдз рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рддреНрд░реБрдЯрд┐рдпрд╛рдВ рджрд┐рдЦрддреА рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/iq/0h/nq/iq0hnqauk_l0nm4akwynyeb0hbc.png"><br><br>  рдФрд░ рдХрдо рд╢рд╛рддрд┐рд░ рдЬрдм рд╕рдлрд▓ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рджреЗрдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/mw/vs/ok/mwvsok9hb7qfa3lifpna4_rrno4.png"><br><br>  рдареАрдХ рд╣реИ, рд╣рдо рдЧреНрд░рд╛рдлреНрдЯрд╛рдирд╛ рд╕реЗ рдкрд╣рд▓реЗ рд╕реЗрд╡рд╛ рдореЗрдВ рджрд░ рдХреА рдкреВрд░реНрд╡-рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдпрд╣ рдХрд░реЗрдВрдЧреЗред  рд▓реЗрдХрд┐рди рд╣рдорд╛рд░рд╛ рдирд╣реАрдВ, рдХреНрдпреЛрдВрдХрд┐  рдкреНрд░рддреНрдпреЗрдХ рдЪреИрдирд▓ рдХреЗ рд▓рд┐рдП, рдЗрд╕рдХрд╛ рдЕрдиреБрдкрд╛рдд "рд╕рд╛рдорд╛рдиреНрдп" рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЕрд▓рд░реНрдЯ рд╕реНрдерд┐рд░ рдореВрд▓реНрдпреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ (рд╣рдо рдЕрдкрдиреА рдЖрдВрдЦреЛрдВ рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ, рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рддреЗ рд╣реИрдВ, рдпрджрд┐ рдЕрдХреНрд╕рд░ рд╕рддрд░реНрдХ рд╣реЛрддреЗ рд╣реИрдВ)ред <br><br>  рдпреЗ рд╡рд┐рднрд┐рдиреНрди рдЪреИрдирд▓реЛрдВ рдХреЗ рд▓рд┐рдП "рд╕рд╛рдорд╛рдиреНрдп" рдХреЗ рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ: <br><br><img src="https://habrastorage.org/webt/3f/d5/fg/3fd5fg6los9dg7pjlkuanfuv_mk.png"><br><br><img src="https://habrastorage.org/webt/hp/n-/q6/hpn-q6cnqtaugwlsmch1jvapnuc.png"><br><br>  рд╣рдо рдкрд┐рдЫрд▓реЗ рдкреИрд░рд╛рдЧреНрд░рд╛рдл рдХреА рдЙрдкреЗрдХреНрд╖рд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рд╕рднреА рдЖрдкреВрд░реНрддрд┐рдХрд░реНрддрд╛рдУрдВ рдореЗрдВ "рд╕рд╛рдорд╛рдиреНрдп" рдЪрд┐рддреНрд░ рд╣реИред  рдЕрдм рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ, рдФрд░ рдХреНрдпрд╛ рд╣рдо рдЧреНрд░рд╛рдлреНрдЯрд╛рдирд╛ рдореЗрдВ рдЕрд▓рд░реНрдЯ рдХреЗ рд╕рд╛рде рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ? <br>  рд╣рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдореЗрдВ рдПрдХ рд╡рд┐рдХрд▓реНрдк рдЪреБрдирдирд╛ рд╣реЛрдЧрд╛: <br>  рдХ) рдкреНрд░рддреНрдпреЗрдХ рдЪреИрдирд▓ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рд╕реЗ рдХрдИ рд░реЗрдЦрд╛рдВрдХрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП (рдФрд░ рджрд░реНрдж рдЙрдирдХреЗ рд╕рд╛рде) <br>  рдмреА) рд╕рднреА рдЪреИрдирд▓реЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЪрд╛рд░реНрдЯ рдЫреЛрдбрд╝реЗрдВ (рдФрд░ рд░рдВрдЧреАрди рд▓рд╛рдЗрдиреЛрдВ рдФрд░ рдЯреНрдпреВрди рдХрд┐рдП рдЧрдП рдЕрд▓рд░реНрдЯ рдореЗрдВ рдЦреЛ рдЬрд╛рдПрдВ) <br><br><img src="https://habrastorage.org/webt/sk/8c/-b/sk8c-bayyodb08xuchmfbfjhe8q.png"><br><br><h4>  рдЖрдкрдиреЗ рдпрд╣ рдХреИрд╕реЗ рдХрд┐рдпрд╛? </h4><br>  рдлрд┐рд░, рдкреНрд░рд▓реЗрдЦрди рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ ( <a href="https://docs.influxdata.com/kapacitor/v1.5/guides/join_backfill/">рд╢рд╛рдорд┐рд▓ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рджрд░реЛрдВ рдХреА рдЧрдгрдирд╛</a> ), рдЖрдк рд╕рдорд╛рди рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЭрд╛рдВрдХ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЗрд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЖрдкрдиреЗ рдХреНрдпрд╛ рдХрд┐рдпрд╛: <br><br><ul><li>  рдХреБрдЫ рдШрдВрдЯреЛрдВ рдореЗрдВ рджреЛ рдПрдкрд┐рд╕реЛрдб рдорд┐рд▓рд╛рдПрдВ, рдЪреИрдирд▓ рджреНрд╡рд╛рд░рд╛ рд╕рдореВрд╣реАрдХреГрдд рдХрд░рдирд╛; </li><li>  рдпрджрд┐ рдХреЛрдИ рдбреЗрдЯрд╛ рдирд╣реАрдВ рдерд╛, рддреЛ рд╕рдореВрд╣реЛрдВ рджреНрд╡рд╛рд░рд╛ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рднрд░реЗрдВ; </li><li>  рдкрд┐рдЫрд▓реЗ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдкрд┐рдЫрд▓реЗ 10 рдорд┐рдирдЯ рдХреЗ рдорд╛рдзреНрдпрд┐рдХрд╛ рдХреА рддреБрд▓рдирд╛ рдХрд░реЗрдВ; </li><li>  рд╣рдо рдЪрд┐рд▓реНрд▓рд╛рддреЗ рд╣реИрдВ рдЕрдЧрд░ рд╣рдо рдХреБрдЫ рдкрд╛рддреЗ рд╣реИрдВ; </li><li>  рдЧрдгрдирд╛ рдХреА рдЧрдИ рджрд░реЛрдВ рдХреЛ рд▓рд┐рдЦреЗрдВ рдФрд░ рдЗрдирдлреНрд▓рдХреНрд╕рдмрдм рдореЗрдВ рдЕрд▓рд░реНрдЯ рдЖрдП; </li><li>  рд╕реБрд╕реНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдпреЛрдЧреА рд╕рдВрджреЗрд╢ рднреЗрдЬреЗрдВред </li></ul><br>  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рд╣рдо рд╕рдм рдХреБрдЫ рдЬрд┐рддрдирд╛ рд╕рдВрднрд╡ рд╣реЛ рд╕рдХреЗ рдЙрддрдирд╛ рд╕реБрдВрджрд░ рд░реВрдк рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рддреЗ рдереЗ рдЬреЛ рд╣рдо рдЖрдЙрдЯрдкреБрдЯ рдкрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рдереЗ (рдФрд░ рдХрд╕реНрдЯрдо рд╣реИрдВрдбрд▓рд░ рдХреЗ рд╕рд╛рде рдереЛрдбрд╝рд╛ рдФрд░ рднреА)ред <br><br>  Github.com рдкрд░ рдЖрдк рдкрд░рд┐рдгрд╛рдореА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ <a href="">рдирдореВрдирд╛ рдХреЛрдб</a> рдФрд░ <a href="">рдиреНрдпреВрдирддрдо рдЖрд░реЗрдЦ (рдЧреНрд░рд╛рдлрд╡рд┐рдЬрд╝)</a> рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред <br><br><div class="spoiler">  <b class="spoiler_title">рдкрд░рд┐рдгрд╛рдореА рдХреЛрдб рдХрд╛ рдЙрджрд╛рд╣рд░рдг:</b> <div class="spoiler_text"><pre> <code class="python hljs">dbrp <span class="hljs-string"><span class="hljs-string">"supplier"</span></span>.<span class="hljs-string"><span class="hljs-string">"autogen"</span></span> var name = <span class="hljs-string"><span class="hljs-string">'requests.rate'</span></span> var grafana_dash = <span class="hljs-string"><span class="hljs-string">'pczpmYZWU/mydashboard'</span></span> var grafana_panel = <span class="hljs-string"><span class="hljs-string">'26'</span></span> var period = <span class="hljs-number"><span class="hljs-number">8</span></span>h var todayPeriod = <span class="hljs-number"><span class="hljs-number">10</span></span>m var every = <span class="hljs-number"><span class="hljs-number">1</span></span>m var warnAlert = <span class="hljs-number"><span class="hljs-number">15</span></span> var warnReset = <span class="hljs-number"><span class="hljs-number">5</span></span> var reqQuery = <span class="hljs-string"><span class="hljs-string">'SELECT sum("count") AS value FROM "supplier"."autogen"."requests"'</span></span> var errQuery = <span class="hljs-string"><span class="hljs-string">'SELECT sum("count") AS value FROM "supplier"."autogen"."errors"'</span></span> var prevErr = batch |query(errQuery) .period(period) .every(every) .groupBy(<span class="hljs-number"><span class="hljs-number">1</span></span>m, <span class="hljs-string"><span class="hljs-string">'channel'</span></span>, <span class="hljs-string"><span class="hljs-string">'supplier'</span></span>) var prevReq = batch |query(reqQuery) .period(period) .every(every) .groupBy(<span class="hljs-number"><span class="hljs-number">1</span></span>m, <span class="hljs-string"><span class="hljs-string">'channel'</span></span>, <span class="hljs-string"><span class="hljs-string">'supplier'</span></span>) var rates = prevReq |join(prevErr) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(<span class="hljs-string"><span class="hljs-string">'req'</span></span>, <span class="hljs-string"><span class="hljs-string">'err'</span></span>) .tolerance(<span class="hljs-number"><span class="hljs-number">1</span></span>m) .fill(<span class="hljs-string"><span class="hljs-string">'null'</span></span>) //   ,     |default() .field(<span class="hljs-string"><span class="hljs-string">'err.value'</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) .field(<span class="hljs-string"><span class="hljs-string">'req.value'</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) // <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>:  ,     |eval(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-string"><span class="hljs-string">"err.value"</span></span> &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">100.0</span></span> * (float(<span class="hljs-string"><span class="hljs-string">"req.value"</span></span>) - float(<span class="hljs-string"><span class="hljs-string">"err.value"</span></span>)) / float(<span class="hljs-string"><span class="hljs-string">"req.value"</span></span>), <span class="hljs-number"><span class="hljs-number">100.0</span></span>)) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(<span class="hljs-string"><span class="hljs-string">'rate'</span></span>) //      rates |influxDBOut() .quiet() .create() .database(<span class="hljs-string"><span class="hljs-string">'kapacitor'</span></span>) .retentionPolicy(<span class="hljs-string"><span class="hljs-string">'autogen'</span></span>) .measurement(<span class="hljs-string"><span class="hljs-string">'rates'</span></span>) //     <span class="hljs-number"><span class="hljs-number">10</span></span> ,   var todayRate = rates |where(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: duration((unixNano(now()) - unixNano(<span class="hljs-string"><span class="hljs-string">"time"</span></span>)) / <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>u) &lt; todayPeriod) |median(<span class="hljs-string"><span class="hljs-string">'rate'</span></span>) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(<span class="hljs-string"><span class="hljs-string">'median'</span></span>) var prevRate = rates |median(<span class="hljs-string"><span class="hljs-string">'rate'</span></span>) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(<span class="hljs-string"><span class="hljs-string">'median'</span></span>) var joined = todayRate |join(prevRate) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(<span class="hljs-string"><span class="hljs-string">'today'</span></span>, <span class="hljs-string"><span class="hljs-string">'prev'</span></span>) |httpOut(<span class="hljs-string"><span class="hljs-string">'join'</span></span>) var trigger = joined |alert() .warn(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: (<span class="hljs-string"><span class="hljs-string">"prev.median"</span></span> - <span class="hljs-string"><span class="hljs-string">"today.median"</span></span>) &gt; warnAlert) .warnReset(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: (<span class="hljs-string"><span class="hljs-string">"prev.median"</span></span> - <span class="hljs-string"><span class="hljs-string">"today.median"</span></span>) &lt; warnReset) .flapping(<span class="hljs-number"><span class="hljs-number">0.25</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>) .stateChangesOnly() //   message      .message( <span class="hljs-string"><span class="hljs-string">'{{ .Level }}: {{ index .Tags "channel" }} err/req ratio ({{ index .Tags "supplier" }}) {{ if eq .Level "OK" }}It is ok now{{ else }} '</span></span>+string(todayPeriod)+<span class="hljs-string"><span class="hljs-string">' median is {{ index .Fields "today.median" | printf "%0.2f" }}%, by previous '</span></span>+string(period)+<span class="hljs-string"><span class="hljs-string">' is {{ index .Fields "prev.median" | printf "%0.2f" }}%{{ end }} http://grafana.ostrovok.in/d/'</span></span>+string(grafana_dash)+ <span class="hljs-string"><span class="hljs-string">'?var-supplier={{ index .Tags "supplier" }}&amp;var-channel={{ index .Tags "channel" }}&amp;panelId='</span></span>+string(grafana_panel)+<span class="hljs-string"><span class="hljs-string">'&amp;fullscreen&amp;tz=UTC%2B03%3A00'</span></span> ) .id(<span class="hljs-string"><span class="hljs-string">'{{ index .Tags "name" }}/{{ index .Tags "channel" }}'</span></span>) .levelTag(<span class="hljs-string"><span class="hljs-string">'level'</span></span>) .messageField(<span class="hljs-string"><span class="hljs-string">'message'</span></span>) .durationField(<span class="hljs-string"><span class="hljs-string">'duration'</span></span>) .topic(<span class="hljs-string"><span class="hljs-string">'slack_graph'</span></span>) // <span class="hljs-string"><span class="hljs-string">"today.median"</span></span>   <span class="hljs-string"><span class="hljs-string">"value"</span></span>,        (keep) trigger |eval(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span>: <span class="hljs-string"><span class="hljs-string">"today.median"</span></span>) .<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>(<span class="hljs-string"><span class="hljs-string">'value'</span></span>) .keep() |influxDBOut() .quiet() .create() .database(<span class="hljs-string"><span class="hljs-string">'kapacitor'</span></span>) .retentionPolicy(<span class="hljs-string"><span class="hljs-string">'autogen'</span></span>) .measurement(<span class="hljs-string"><span class="hljs-string">'alerts'</span></span>) .tag(<span class="hljs-string"><span class="hljs-string">'alertName'</span></span>, name)</code> </pre><br></div></div><br><h2>  рдирд┐рд╖реНрдХрд░реНрд╖ рдХреНрдпрд╛ рд╣реИ? </h2><br>  рдХрдкрд╛рд╕реАрдЯрд░ рд╕рдореВрд╣реЛрдВ рдХреЗ рдПрдХ рд╕рдореВрд╣ рдХреЗ рд╕рд╛рде рдЕрд▓рд░реНрдЯ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдореЗрдВ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИ, рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рджрд░реНрдЬ рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдкрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рдЧрдгрдирд╛ рдХрд░рдирд╛, рдХрд╕реНрдЯрдо рдХреНрд░рд┐рдпрд╛рдПрдВ рдХрд░рдирд╛ рдФрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рдирд╛ (udf)ред <br><br>  рдкреНрд░рд╡реЗрд╢ рд╕реАрдорд╛ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реИ - рдЗрд╕реЗ рдЖрдЬрд╝рдорд╛рдПрдВ рдпрджрд┐ рдЧреНрд░рд╛рдлреНрдЯрд╛рдирд╛ рдпрд╛ рдЕрдиреНрдп рдЙрдкрдХрд░рдг рдЖрдкрдХреА рд╡рд┐рд╢рд▓рд┐рд╕реНрдЯ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдВрддреБрд╖реНрдЯ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi478702/">https://habr.com/ru/post/hi478702/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi478684/index.html">SSD рдХрд╛ рдкрд░рд┐рдЪрдпред рднрд╛рдЧ 2. рдЗрдВрдЯрд░рдлрд╝реЗрд╕</a></li>
<li><a href="../hi478692/index.html">рдХреИрд╕реЗ рдЬрд╛рд╡рд╛ 8 Android рдкрд░ рд╕рдорд░реНрдерд┐рдд рд╣реИ</a></li>
<li><a href="../hi478694/index.html">рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо ivi рдСрдирд▓рд╛рдЗрди рд╕рд┐рдиреЗрдорд╛ рдореЗрдВ рдирд╡реАрдирддрдо рдХреИрдЯрд▓реЙрдЧ рдХреА рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ (+ рдкрд╛рдпрдерди рдХреЛрдб)</a></li>
<li><a href="../hi478696/index.html">рдореИрдВрдиреЗ рдЕрд░реНрдмрди рдЯреЗрдХ 2019 рдХреИрд╕реЗ рджреЗрдЦрд╛ред рдЗрд╡реЗрдВрдЯ рд░рд┐рдкреЛрд░реНрдЯ</a></li>
<li><a href="../hi478698/index.html">рд╣рдо 15 рдорд┐рдирдЯ рдореЗрдВ рдПрдХ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдЗрд▓рд╛рдХреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi478704/index.html">рдпрджрд┐ рдореЗрд▓рд┐рдВрдЧ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрдкреИрдо: 5 рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЪрд░рдгреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдЧрдИ рд╣реИ рддреЛ рдХреНрдпрд╛ рдХрд░реЗрдВ</a></li>
<li><a href="../hi478706/index.html">рдЙрдЪреНрдЪ рднрд╛рд░ рд╡рд╛рд╕реНрддреБрдХрд╛рд░ред OTUS рд╕реЗ рдирдпрд╛ рдкрд╛рдареНрдпрдХреНрд░рдо</a></li>
<li><a href="../hi478708/index.html">рдХреИрд╕реЗ рд░реИрдВрдбрдорд╛рдЗрдЬрд╝рд░ рдЖрдкрдХреЛ рдирдП рдЬреАрд╡рди рдХреЛ рдкреБрд░рд╛рдиреЗ рдЦреЗрд▓реЛрдВ рдореЗрдВ рд╕рд╛рдВрд╕ рд▓реЗрдиреЗ рджреЗрддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi478710/index.html">рдЯрд╛рд░рдирдЯреВрд▓ рдХрд╛рд░рддреВрд╕ (рднрд╛рдЧ 1) рдкрд░ рдЖрд╡реЗрджрдиреЛрдВ рдХреА рдЖрд╕рд╛рди рдФрд░ рд░рдЦреА рдЧрдИ рддреИрдирд╛рддреА</a></li>
<li><a href="../hi478712/index.html">Google рдРрдк рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рдЬрд╛рд╡рд╛ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдпрд╛ рддреНрд╡рд░рд┐рдд рд╢реБрд░реБрдЖрдд рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХреИрд╕реЗ рди рдХрд░реЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>