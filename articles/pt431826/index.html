<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßòüèæ ‚ìÇÔ∏è üíî Comece com React e Bootstrap em 2 dias. Dia n√∫mero 1 ‚è™ üóíÔ∏è üê≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Devo dizer imediatamente que o site funcionar√° mais r√°pido se voc√™ substituir o Bootstrap por CSS e JS puros. Este artigo √© sobre como come√ßar rapidam...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comece com React e Bootstrap em 2 dias. Dia n√∫mero 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431826/">  Devo dizer imediatamente que o site funcionar√° mais r√°pido se voc√™ substituir o Bootstrap por CSS e JS puros.  Este artigo √© sobre como come√ßar rapidamente a desenvolver aplicativos da Web bonitos e a otimiza√ß√£o j√° √© um problema separado que vai al√©m do escopo deste artigo. <br><br>  Primeiro, voc√™ precisa entender pelo menos um pouco de HTML, CSS, JavaScript, XML, DOM, OOP e poder trabalhar no terminal (linha de comando). <br><br><div class="spoiler">  <b class="spoiler_title">Onde conseguir materiais para estudo?</b> <div class="spoiler_text"> Para aprender HTML e CSS, recomendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">htmlbook.ru</a> <br>  Para aprender JavaScript, recomendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">learn.javascript.ru</a> <br>  Para aprender XML, recomendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">msiter.ru/tutorials/uchebnik-xml-dlya-nachinayushchih</a> <br>  Voc√™ pode ler sobre o DOM na li√ß√£o JavaScript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">learn.javascript.ru/dom-nodes</a> <br>  Para estudar OOP, recomendo o curso em v√≠deo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">proglib.io/p/oop-videocourse</a> <br>  Para explorar a linha de comando do Windows, recomendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cmd.readthedocs.io/cmd.html</a> <br>  Para estudar o terminal em um Mac, recomendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ixrevo.me/mac-os-x-terminal</a> <br>  Se voc√™ est√° trabalhando no Linux, o <b>bash</b> e os an√°logos sabem que, em √∫ltimo recurso, o <b>homem</b> ou a <b>ajuda</b> o <b>ajudar√£o</b> . <br>  Para aprender o React, uso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">learn-reactjs.ru</a> (que √© uma tradu√ß√£o da documenta√ß√£o oficial do React: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reactjs.org</a> ). <br>  Para estudar o Bootstrap, eu uso o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bootstrap-4.ru</a> (que √© uma tradu√ß√£o da documenta√ß√£o oficial do Bootstrap: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">getbootstrap.com</a> ). <br>  Para fazer amigos Reagir e Bootstrap, encontrei um excelente artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">webformyself.com/kak-ispolzovat-bootstrap-s-react</a> <br></div></div><br>  Neste artigo, vou fazer um aperto no m√≠nimo necess√°rio para o trabalho e criar um cron√¥metro: <br><br><img src="https://habrastorage.org/webt/w1/dy/2l/w1dy2laijxapz0r7bgxtrmzsny0.png"><br><a name="habracut"></a><br><h2>  Instala√ß√£o </h2><br>  Primeiro, precisamos de um gerenciador de pacotes.  Eu escolhi o <b>npm</b> e est√° no <b>Node.js</b> <br>  Ent√£o, primeiro, instale o <b>Node.js</b> no seu sistema operacional a partir do site oficial: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nodejs.org/en/download</a> .  Voc√™ pode descobrir a instala√ß√£o, ent√£o n√£o descreverei o processo de instala√ß√£o.  Notei apenas que a instala√ß√£o no Ubuntu √© simples: <br><br><pre><code class="bash hljs">sudo apt update sudo apt install nodejs sudo apt install npm</code> </pre> <br>  Por meio do terminal, verificamos se o Node.js e o npm foram instalados com sucesso: <br><br><pre> <code class="bash hljs">nodejs -v npm -v</code> </pre> <br>  Se houver erros durante a sa√≠da, significa que algo deu errado e voc√™ precisa entender, e √© poss√≠vel reinstal√°-los.  Se vc √© exibido com n√∫meros e pontos, tudo est√° bem. <br><br>  Instale Create-react-app para que voc√™ possa criar rapidamente estruturas de aplicativos: <br><br><pre> <code class="bash hljs">npm install -g create-react-app</code> </pre> <br>  Em seguida, criamos a estrutura do aplicativo no React.  Vamos nomear nosso aplicativo como <b>novo aplicativo</b> .  Se voc√™ deseja criar um aplicativo para uma pasta diferente da pasta do usu√°rio, v√° primeiro para o terminal atrav√©s do terminal usando o <b>comando cd</b> .  Ent√£o, no terminal, basta digitar 3 comandos: <br><br><pre> <code class="bash hljs">create-react-app new-app <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> new-app npm start</code> </pre> <br>  Criamos o <b>aplicativo novo aplicativo</b> .  V√° para a pasta do <b>novo aplicativo</b> .  Iniciamos o aplicativo.  Ap√≥s essas linhas, o navegador com o aplicativo React deve iniciar no endere√ßo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http: // localhost: 3000</a> <br><br><img src="https://habrastorage.org/webt/ie/bw/in/iebwintgkkdp17m8azkkkydy4bu.png"><br><br>  O terminal deve permanecer aberto, sem ele a p√°gina do aplicativo n√£o ser√° aberta.  Se voc√™ de repente fechou - isso n√£o importa.  Basta usar o <b>comando cd</b> para ir para a pasta do aplicativo e inici√°-lo com o comando <b>npm start</b> <br><br>  Agora instale o bootstrap <br><br><pre> <code class="bash hljs">npm install bootstrap</code> </pre> <br>  Tamb√©m √© recomend√°vel instalar as depend√™ncias jquery e popper.js, mas elas s√£o necess√°rias apenas para a parte JS do Bootstrap.  Eu tentei sem eles - a parte CSS do Bootstrap funciona bem, ent√£o as seguintes linhas no terminal s√£o opcionais: <br><br><pre> <code class="bash hljs">npm install jquery popper.js</code> </pre> <br>  Em seguida, √© necess√°rio fazer altera√ß√µes nos arquivos do aplicativo, para isso, v√° para a pasta new-app, onde o aplicativo est√° localizado, adicione a linha ao arquivo <b>src / index.js</b> , que deve ser o primeiro: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'bootstrap/dist/css/bootstrap.min.css'</span></span>;</code> </pre> <br>  Se voc√™ usa jQuery, popper.js ou a parte JS do Bootstrap (janelas modais, anima√ß√µes etc.), ser√° necess√°rio adicionar mais tr√™s linhas na primeira linha: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> $ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'jquery'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Popper <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'popper.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'bootstrap/dist/js/bootstrap.bundle.min'</span></span>;</code> </pre> <br>  Agora resta executar o projeto: <br><br><pre> <code class="bash hljs">npm start</code> </pre> <br>  E, novamente, o navegador √© aberto em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http: // localhost: 3000</a> j√° com o aplicativo enobrecido usando o Bootstrap: <br><br><img src="https://habrastorage.org/webt/5c/py/6v/5cpy6vpskbkuox6-gill3kkkr_u.png"><br>  Tamb√©m para depurar o React, voc√™ pode instalar a extens√£o " <b>React Developer Tools</b> " para o navegador.  Os links atuais para a extens√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chrome</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Firefox</a> e outros casos de uso est√£o listados no reposit√≥rio oficial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">github.com/facebook/react-devtools</a> <br>  A instala√ß√£o e a configura√ß√£o inicial est√£o conclu√≠das. <br><br><h2>  JSX, componentes e propriedades </h2><br>  Vamos ver o que o <b>create-react-app</b> gerou para n√≥s - os arquivos de origem est√£o no diret√≥rio src.  Primeiro, vejamos o arquivo <b>index.js</b> - existem v√°rias linhas de importa√ß√£o.  Fica claro pelas linhas o que eles est√£o fazendo, ent√£o n√£o vou comentar. <br><br>  A linha mais importante neste arquivo: <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('root'));</span></span></code> </pre> <br>  Desenha a p√°gina do aplicativo.  H√° um elemento <b>&lt;div&gt;</b> com id = root no arquivo HTML de origem.  Este <b>&lt;div&gt;</b> exibe o componente <b>App</b> , desenhado pela fun√ß√£o de <b>renderiza√ß√£o da</b> classe <b>ReactDOM</b> .  Nesse caso, o componente √© desenhado em um formato semelhante ao XML, chamado JSX (sobre o qual mais tarde). <br><br>  Agora vamos para o arquivo <b>App.js</b> , onde est√° localizada a implementa√ß√£o da classe App, que herda da classe <b>React.Component</b> . <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{     &lt;b&gt;render()&lt;<span class="hljs-regexp"><span class="hljs-regexp">/b&gt;,     JSX: &lt;div className="App"&gt; &lt;header className="App-header"&gt; &lt;img src={logo} className="App-logo" alt="logo" /</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Edit </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">code</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">src/App.js</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">code</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> and save to reload. </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;a className=<span class="hljs-string"><span class="hljs-string">"App-link"</span></span> href=<span class="hljs-string"><span class="hljs-string">"https://reactjs.org"</span></span> target=<span class="hljs-string"><span class="hljs-string">"_blank"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"noopener noreferrer"</span></span> &gt; Learn React &lt;<span class="hljs-regexp"><span class="hljs-regexp">/a&gt; &lt;/</span></span>header&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  JSX √© muito semelhante ao HTML, mas h√° inser√ß√µes de c√≥digo JS entre chaves {}.  E deve haver um elemento raiz, neste caso &lt;div&gt;. <br><br>  Para entender melhor, apagaremos todo o c√≥digo do m√©todo <b>render ()</b> e escreveremos o componente mais simples: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">, {this.props.name}!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } }</code> </pre> <br>  Agora, vamos voltar ao arquivo index.js e corrigi-lo. <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">""</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('root'));</span></span></code> </pre> <br>  Ap√≥s salvar os arquivos, a p√°gina ser√° atualizada no navegador.  E agora vamos entender. <br><br>  Conceitualmente, os componentes s√£o semelhantes √†s fun√ß√µes JavaScript.  Eles pegam dados arbitr√°rios (chamados adere√ßos) e retornam elementos React que descrevem o que deve aparecer na tela.  Os componentes permitem dividir a interface do usu√°rio em partes independentes e reutiliz√°veis ‚Äã‚Äãe trabalhar com cada uma delas separadamente. <br><br>  Quando o React v√™ que um elemento √© um componente customizado, ele passa todos os atributos JSX para esse componente como um √∫nico objeto.  Esse objeto √© chamado de adere√ßos. <br><br>  No exemplo, o par√¢metro <b>name</b> √© passado para o componente como um atributo da <b>tag &lt;App&gt;</b> com o valor " <b>World</b> ".  Al√©m disso, no m√©todo <b>render ()</b> da classe <b>App</b> , como resultado de uma fun√ß√£o dentro do JSX, que na verdade √© um modelo HTML, colchetes <b>{}</b> indicam <b>isso</b> - a classe atual, <b>props</b> - o objeto do usu√°rio, <b>nome</b> - o nome do par√¢metro do objeto. <br><br><h2>  Construtor, Ciclo de Vida e Mudan√ßa de Estado </h2><br>  Al√©m dos par√¢metros armazenados em <b>adere√ßos,</b> voc√™ pode armazenar o estado do objeto em <b>state</b> . <br><br>  Vamos fazer um cron√¥metro.  Nenhum par√¢metro √© necess√°rio para o timer, ent√£o vamos remover os par√¢metros em <b>index.js</b> : <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'root'</span></span>));</code> </pre> <br>  E agora no arquivo <b>App.js,</b> substitu√≠mos todo o texto entre <b>importa√ß√£o</b> e <b>exporta√ß√£o</b> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> INTERVAL = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}; } increment(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value + <span class="hljs-number"><span class="hljs-number">1</span></span>}); } componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); } componentWillUnmount() { clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">:</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL/60/60)} : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL/60) % 60} : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL) % 60} . </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{value % INTERVAL}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br>  Ap√≥s inserir e salvar esse c√≥digo, um cron√¥metro aparecer√° na p√°gina e iniciar√° automaticamente. <br><br>  Vamos analisar esse c√≥digo.  Antes da aula, uma constante foi anunciada, gra√ßas √† qual voc√™ pode ajustar a taxa de atualiza√ß√£o do timer. <br><br>  Em seguida, dentro da classe, h√° um construtor obrigat√≥rio da classe, para o qual os props s√£o passados.  Em seguida, o processamento padr√£o do construtor da classe pai <b>super (props)</b> e a determina√ß√£o do estado do <b>valor</b> por meio <b>disso</b> √© o objeto atual.  Este √© o √∫nico lugar onde voc√™ pode definir diretamente o estado.  Em outros locais, apenas a leitura est√° dispon√≠vel ou a configura√ß√£o do estado com o m√©todo especial <b>setState ()</b> , que √© usado no pr√≥ximo m√©todo <b>increment ()</b> para aumentar o estado do <b>valor</b> em um. <br><br>  Em aplicativos com muitos componentes, √© muito importante liberar recursos ocupados por componentes quando eles s√£o destru√≠dos.  Precisamos definir um cron√¥metro sempre que o DOM for sorteado pela primeira vez.  No React, isso √© chamado de "montar / instalar".  Tamb√©m precisamos limpar esse timer toda vez que o DOM criado pelo componente for exclu√≠do.  Em React, isso √© chamado de "desmontagem / desmontagem". <br><br>  Para isso, os m√©todos <b>componentDidMount ()</b> e <b>componentWillUnmount () s√£o usados</b> .  Na documenta√ß√£o, esses m√©todos s√£o chamados de " <b>ganchos do ciclo de vida</b> ".  Por simplicidade, os chamaremos de m√©todos de ciclo de vida.  O m√©todo <b>componentDidMount ()</b> √© acionado ap√≥s a renderiza√ß√£o do componente no DOM.  Este √© um bom lugar para definir um cron√¥metro.  Limparemos o cron√¥metro no m√©todo <b>componentWillUnmount ()</b> do ciclo de vida. <br><br>  Observe como em <b>componentDidMount ()</b> armazenamos o ID do temporizador diretamente <b>neste,</b> usando a fun√ß√£o de seta  Enquanto this.props √© instalado independentemente pelo React e <b>this.state</b> tem um significado espec√≠fico, voc√™ pode adicionar livremente campos adicionais √† classe manualmente se precisar armazenar algo que n√£o √© usado para sa√≠da visual.  Se voc√™ n√£o estiver usando algo em <b>render ()</b> , ele n√£o deve estar no estado <b>state</b> . <br><br>  Al√©m disso, durante a execu√ß√£o da <b>renderiza√ß√£o ()</b> , o estado do valor √© fixo no valor constante local.  E ent√£o, usando a fun√ß√£o matem√°tica <b>floor ()</b> , que arredonda o n√∫mero para baixo, dividindo ( <b>/</b> ) e obtendo o restante da divis√£o ( <b>%</b> ), obtemos as partes do timer, que s√£o exibidas na mesma linha ap√≥s a palavra Timer.  Voc√™ pode ver os resultados do nosso trabalho. <br><br><h2>  Apar√™ncia com o Bootstrap </h2><br>  N√£o √© conveniente que o timer funcione imediatamente quando a p√°gina for atualizada.  Gostaria que ele iniciasse e parasse quando voc√™ clicar nos bot√µes apropriados.  E eu gostaria que fosse no centro e grande. <br><br>  Vamos come√ßar com o design.  Para fazer isso, adicione as seguintes linhas ao arquivo <b>App.css</b> : <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.container-fluid</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: flex; <span class="hljs-attribute"><span class="hljs-attribute">flex-direction</span></span>: column; }</code> </pre> <br>  Gra√ßas ao <b>cont√™iner de</b> borracha para <b>cont√™iner</b> adapt√°vel do Bootstrap, que ajuda a criar um layout totalmente flex√≠vel para uma p√°gina ou bloco.  Este cont√™iner √© 100% largo.  Vamos fazer um cont√™iner <b>flex√≠vel</b> , com a dire√ß√£o de alinhar os elementos verticalmente - para que ocupe todo o espa√ßo e possa ser alinhado no centro. <br><br>  Agora vamos finalizar o m√©todo <b>render ()</b> no <b>App.js</b> para aplicar os estilos do Bootstrap e adicionar alguns bot√µes.  Para fazer isso, substitua o valor retornado pelo m√©todo pelo seguinte: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container-fluid align-items-center"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL/60/60)}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL/60) % 60}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL) % 60}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{value % INTERVAL <span class="hljs-tag"><span class="hljs-tag">&lt; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ? '</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span><span class="hljs-tag">' </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span><span class="hljs-tag"> ''}{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag"> % </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">INTERVAL</span></span></span><span class="hljs-tag">}&lt;/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">kbd</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Na primeira linha, duas classes de Bootstrap foram adicionadas √† raiz <b>&lt;div&gt;</b> : <b>container-fluid</b> (que escrevi acima) e <b>align-items-center</b> - que apenas alinha os elementos do container no centro. <br><br>  Em seguida, dois <b>&lt;div&gt;</b> com a classe <b>display-1</b> - essa classe √© apenas para mostrar texto grande. <br><br>  Em seguida, uma nova tag <b>&lt;kbd&gt;</b> foi adicionada aos n√∫meros - que geralmente √© usada para destacar as teclas que precisam ser pressionadas.  Nesse caso, √© √≥timo para contrastar os n√∫meros exibidos. <br><br>  A express√£o condicional √© adicionada no √∫ltimo d√≠gito, mostrando parte de um segundo, permitindo que d√≠gitos de um d√≠gito (&lt;10) sejam exibidos no in√≠cio de 0 e n√£o para n√∫meros de dois d√≠gitos.  Isso √© necess√°rio para que os n√∫meros n√£o se alterem a cada segundo.  Para fazer isso, use o operador JavaScript tern√°rio: <b>condition?</b>  <b>true: false</b> <br><br>  Ent√£o, em um <b>&lt;div&gt;</b> separado, coloquei 2 bot√µes com a classe <b>Display-4</b> - essa classe foi selecionada como o tamanho mais adequado para que os bot√µes correspondam ao tamanho do temporizador.  Eu inseri um caractere entre os bot√µes <b>&nbsp;</b>  - Espa√ßo inextric√°vel para que os bot√µes n√£o se fundam. <br><br>  Voc√™ pode iniciar, mas os bot√µes ainda n√£o funcionam.  Vamos ensinar os bot√µes a trabalhar. <br><br><h2>  Manipula√ß√£o de eventos </h2><br>  Primeiro, adicione a chamada √†s fun√ß√µes correspondentes no c√≥digo de sa√≠da do bot√£o: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.stopTimer}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.resetTimer}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Observe que em React, o <b>manipulador de</b> eventos <b>onClick</b> , n√£o <b>onclick</b> , como em JavaScript, e a fun√ß√£o chamada s√£o indicadas entre chaves sem par√™nteses e indicando o objeto do qual o m√©todo √© chamado, neste caso, <b>isso</b> . <br><br>  Agora, definimos os m√©todos especificados <b>stopTimer ()</b> e <b>resetTimer ()</b> : <br><br><pre> <code class="javascript hljs">stopTimer(){ clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } resetTimer(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}); }</code> </pre> <br>  Mas isso ainda n√£o √© suficiente, e se voc√™ deixar assim, quando o bot√£o for pressionado, um erro aparecer√°, porque  isso ao chamar a fun√ß√£o ser√° <b>indefinido</b> .  Isso ocorre porque, em JavaScript, os m√©todos de classe n√£o s√£o vinculados por padr√£o.  Normalmente, se voc√™ referenciar um m√©todo sem () depois dele, por exemplo, <b>onClick = {this.resetTimer}</b> , ser√° necess√°rio vincular esse m√©todo. <br><br>  Vincule os m√©todos no construtor da classe adicionando 2 linhas: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stopTimer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stopTimer.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resetTimer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resetTimer.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br>  √ìtimo, funcionou!  Mas apenas o bot√£o Parar pode ser usado apenas uma vez e, depois disso, os bot√µes param de funcionar.  E isso √© l√≥gico, porque ao chamar <b>stopTimer ()</b> , desabilitamos a chamada de fun√ß√£o regular chamando <b>clearInterval ()</b> . <br><br>  Os coment√°rios sugeriram o uso de fun√ß√µes de seta.  Tentei funcionar.  Portanto, voc√™ n√£o pode adicionar 2 linhas ao construtor, mas substitua as pr√≥prias fun√ß√µes pelas seguintes fun√ß√µes de seta: <br><pre> <code class="javascript hljs">stopTimer = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); } resetTimer = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}); }</code> </pre> <br>  Para resolver isso, faremos com que o bot√£o "Stop" tamb√©m funcione como "Run". <br><br>  Primeiro, adicione o estado booleano <b>parado</b> ao construtor para entender em que modo o bot√£o funciona: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">stopped</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>};</code> </pre> <br>  Agora substitua completamente o conte√∫do do m√©todo <b>stopTimer ()</b> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">stopped</span></span>: !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped}); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped){ clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); };</code> </pre> <br>  No in√≠cio do m√©todo, altere o estado <b>parado</b> para o oposto via <b>setState ()</b> . <br><br>  Al√©m disso, se o timer deve ser parado (ou seja, <b>parado = verdadeiro</b> ), desativamos a chamada de fun√ß√£o regular via <b>clearInterval ()</b> e, se o timer deve ser iniciado (ou seja, <b>parado = falso</b> ), iniciamos a chamada de fun√ß√£o regular da mesma maneira que <b>componentDidMount ()</b> . <br><br>  Voc√™ tamb√©m precisa corrigir o m√©todo <b>increment ()</b> para que ele pare quando <b>parado = true</b> : <br><pre> <code class="javascript hljs">increment(){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped) (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value + <span class="hljs-number"><span class="hljs-number">1</span></span>})); }</code> </pre> <br>  E, finalmente, alteramos o nome do bot√£o, dependendo do estado parado, inserindo o seguinte em vez de "Stop": <br><br><pre> <code class="javascript hljs">{<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped?<span class="hljs-string"><span class="hljs-string">''</span></span>:<span class="hljs-string"><span class="hljs-string">''</span></span>}</code> </pre> <br>  Agora temos um cron√¥metro bonito e conveniente. <br><br><h2>  Em vez de uma conclus√£o ou uma cereja no bolo </h2><br>  Finalmente, gostaria de mudar o t√≠tulo padr√£o e o √≠cone da janela para o nosso. <br><br>  Voc√™ pode alterar o t√≠tulo definindo <b>document.title</b> no m√©todo <b>componentDidMount ()</b> , mas prosseguiremos e tornaremos o tempo de exibi√ß√£o do t√≠tulo da p√°gina preciso em segundos. Para isso, adicionaremos a configura√ß√£o <b>document.title</b> ao m√©todo <b>componentDidUpdate ()</b> especial: <br><br><pre> <code class="javascript hljs">componentDidUpdate(){ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped) <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">": "</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL/<span class="hljs-number"><span class="hljs-number">60</span></span>/<span class="hljs-number"><span class="hljs-number">60</span></span>)+<span class="hljs-string"><span class="hljs-string">":"</span></span> +<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL/<span class="hljs-number"><span class="hljs-number">60</span></span>) % <span class="hljs-number"><span class="hljs-number">60</span></span>+<span class="hljs-string"><span class="hljs-string">":"</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL) % <span class="hljs-number"><span class="hljs-number">60</span></span>; }</code> </pre> <br>  Agora, o timer repete at√© segundos no t√≠tulo da p√°gina e, quando o timer √© parado, apenas a palavra Timer √© exibida. <br><br>  O √≠cone √© simples.  Basta preparar uma imagem no formato <b>jpg</b> , <b>bmp</b> , <b>gif</b> , <b>png</b> , solt√°-la na pasta <b>p√∫blica</b> (e n√£o no <b>src</b> , no qual trabalhamos principalmente), nomeie, por exemplo, <b>favicon.png</b> e altere a linha no arquivo <b>public \ index.html</b> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"%PUBLIC_URL%/favicon.ico"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  por linha: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/favicon.png"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Por hoje, √© tudo o que eu queria contar.  No pr√≥ximo artigo, falarei mais sobre o Bootstrap, que neste artigo tocou apenas um pouco.  Al√©m do Bootstrap, ainda existem t√≥picos importantes: listas, tabelas, formul√°rios e pensamento no estilo React. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>Por fim, o reposit√≥rio no BitBucket, que possui todo o c√≥digo deste artigo</b></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt431826/">https://habr.com/ru/post/pt431826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt431816/index.html">3 de dezembro A SpaceX tentar√° lan√ßar pela primeira vez a primeira etapa do ve√≠culo de lan√ßamento</a></li>
<li><a href="../pt431818/index.html">Compare PHP FPM, PHP PPM, unidade Nginx, React PHP e RoadRunner</a></li>
<li><a href="../pt431820/index.html">Comece na ISS e freie no aster√≥ide</a></li>
<li><a href="../pt431822/index.html">Fonte fechada de fato: argumentos para um software claro</a></li>
<li><a href="../pt431824/index.html">As informa√ß√µes em um smartphone da Yandex foram acidentalmente abertas no site da M.Video alguns dias antes da apresenta√ß√£o</a></li>
<li><a href="../pt431830/index.html">Extens√£o para chrome: cria√ß√£o, publica√ß√£o, experi√™ncia</a></li>
<li><a href="../pt431832/index.html">T√©cnico interativo em conven√ß√µes fant√°sticas. Parte 1</a></li>
<li><a href="../pt431834/index.html">Mais caf√©, menos cafe√≠na: Intel 9a gera√ß√£o (parte 4)</a></li>
<li><a href="../pt431836/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n ¬∞ 341 (26 de novembro a 2 de dezembro de 2018)</a></li>
<li><a href="../pt431838/index.html">Videoconfer√™ncia 3CX WebMeeting - Um guia completo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>