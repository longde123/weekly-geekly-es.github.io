<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ณ ๐ง๐ป ๐ค ุงูุณูุฑ ูู ุงููุถุงุก ูุนูุฏ ุงููููุงุฏ ๐ ๐บ ๐จ๐พโ๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ! 

 ูุจู ููุช ูุตูุฑ ูู ุนูุฏ ุงููููุงุฏ ุ ุชูุฑุฑ ุฏุฑุงุณุฉ Spacewalk ูู ูุณู ุชูููููุฌูุง ุงููุนูููุงุช - ูุฐุง ูู ูุธุงู Red Hat ุ ููู ูุธูุฑ ูุฌุงูู ููููุฑ ุงูุตูุงุนู ุ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุณูุฑ ูู ุงููุถุงุก ูุนูุฏ ุงููููุงุฏ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435578/" style=";text-align:right;direction:rtl"> ูุฑุญุจุง ูุง ูุจุฑ! <br><br>  ูุจู ููุช ูุตูุฑ ูู ุนูุฏ ุงููููุงุฏ ุ ุชูุฑุฑ ุฏุฑุงุณุฉ Spacewalk ูู ูุณู ุชูููููุฌูุง ุงููุนูููุงุช - ูุฐุง ูู ูุธุงู Red Hat ุ ููู ูุธูุฑ ูุฌุงูู ููููุฑ ุงูุตูุงุนู ุ ูุฅุฏุงุฑุฉ ุงูุชููุฆุฉ ุงููุฑูุฒูุฉ ุ ูุชุญุฏูุซุงุช ุงููุธุงู ุ ูุฏุนู ููุงุณุจ ูุญุฏููุฉ ุงูุฎูุงุฏู ุจุฃููููุง. <br><br>  ูุธุฑูุง ูุญูููุฉ ุฃู ุงููุซุงุฆู ุงููุชููุฑุฉ ุนูู ุงููููุน ุงูุฑุณูู ูุงุฏุฑุฉ ุฌุฏูุง ููุญุตูู ุนูู ุชุนูููุงุช ุฅุถุงููุฉ ุญูู ุฃููุงุน ูุฎุชููุฉ ูู ุญู ุงููุดุงูู ุ ูุงูุช ุงููููุฉ ูู ุฏุฑุงุณุฉ ุงูููุชุฌ ูู ุฃุฌู ุชูุฏููู ุงูุชุฏุฑูุฌู ุฃููุงู ูุงุฎุชุจุงุฑ ุงูุฎูุงุฏู ุ ุซู ููููุชุฌุงุช. <br><br>  ูู ุชูู ุงูููุฑุฉ ุงูุฑุฆูุณูุฉ ูุฅุฏุฎุงู Spacewalk ูู ุงููุฑูุฒูุฉ ูุชุจุณูุท ุงูุชุญูู ูุญุณุจ ุ ุจู ูุฃูุถูุง ุญุชู ูุง ููุนุจ ุฃุญุฏ ุงูุชุญุฏูุซุงุช ุนูู ุฎูุงุฏู ุงููุดุฑูุน ุงูุฌุฏูุฏ ุจุฃููุงู ูุฑุญุฉ ุ ูุฃู ุงูุณูุงุจู ูุฏ ุญุฏุซุช ุจุงููุนู. <br><br>  ุจุนุฏ ุฃุณุจูุนูู ูู ุงูุนูู ุ ุชู ุฅุฏุฎุงู ูู ุงููุนุฑูุฉ ุงูุชู ุชูููุชูุง ูู ุงูุชูุงุซู ุงูุฏุงุฎูู ููุงูุชูุงุก ุ ูุฏูุนูู ููู ุนุทูุฉ ูุฌุงูู ููุชุงุจุฉ ููุงู ุนู ูุจุฑ. <br><a name="habracut"></a><br>  ูุจู ุฃู ุฃุจุฏุฃ ุ ุฃูุฏ ุฃู ุฃุจุฑุฒ ุจุฅูุฌุงุฒ ูุง ูุงู ููุง ูู ูุชุฃุซุฑ ุ ุญุชู ูุง ุฃุชุฃูู ููุญุตูู ุนูู ุงูุฏููู ุงููุงูู ููุนูู ูุน Spacewalk: <br><br>  + ุชุฑููุจ ูุชูููู ุงูุฎุงุฏู / ุงูุนููู <br>  + ุฅุนุฏุงุฏ ุงููุธุงู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ <br>  + ุงุณุชูุดุงู ุฃุฎุทุงุก ุญุฒู ุงูุชุซุจูุช / ุงูุชุญุฏูุซ ุ ูุงูุนูู ูุน ุงูุชููููุงุช <br>  + Errata (ุฌูุน ูุนูููุงุช ุญูู ุงูุชุญุฏูุซุงุช ุงููุงูุฉ ุ ุงูุซุบุฑุงุช ุงูุฃูููุฉ ุ ุฅูุฎ.) <br><br>  - ูููู (ุงูุญุงุฌุฉ ุงุฎุชูุช ุ ุจุนุฏ ุงูุชุฎูู ุนู HA) <br>  - ุงูุฅุณูุงูู / kickstart <br>  - OpenSCAP <br><br><h3 style=";text-align:right;direction:rtl">  ูุชุทูุจุงุช ุงููุธุงู </h3><br>  ูุธุฑูุง ูุญูููุฉ ุฃู ุงูุจููุฉ ุงูุชุญุชูุฉ ุจุฃููููุง ุชุนูู ุนูู VMWare ุ ุชู ุชูููุฐ ุงูุนูู ุนูู VM ูุนูู ุจูุธุงู CentOS 7. ูุชุทูุจุงุช ุงููุธุงู ุงูููุตู ุจูุง ูู ุงููุทูุฑ ูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู 4GB </li><li style=";text-align:right;direction:rtl">  ูุณุงุญุฉ ุฎุงููุฉ 6 ุบูุบุงุจุงูุช ูู / var / ููุฑ ุตูุงุนู / </li><li style=";text-align:right;direction:rtl">  12GB ู DB </li></ul><br>  ุงุนุชุฏุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู 6GB </li><li style=";text-align:right;direction:rtl">  4 ูุญุฏุฉ (ูุญุฏุงุช) </li><li style=";text-align:right;direction:rtl">  40GB HDD </li></ul><br>  ุฃูุตุญู ุฃูุถูุง ุจุชุนุทูู SELinux ุ ูุฅุฐุง ูู ุชุณุชุฎุฏู ุ ุฌุฏุงุฑ ุงูุญูุงูุฉ.  ุฃู ุฃุถู ุฎุฏูุฉ http ุฅูู ุงูุงุณุชุซูุงุกุงุช. <br><br>  ููุงุญุธุฉ: ูู ููุงูุฉ ุงูููุงู ุ ุณูููู ููุงู ูุชุจ ุชุดุบูู ูู Ansible ุ ููู ูู ุงูุนููู ูุฎุงุฏู ุงูุฃุฌุฒุงุก ุ ููุฐูู ูุตูุต bash.  ูู ุฎูุงู ูุณุงุนุฏุชูู ุ ุณูููู ูู ุงููููู ูุดุฑ ุงูุจููุฉ ุงูุชุญุชูุฉ ุจุฃููููุง ูู ุจุถุน ุฏูุงุฆู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชุซุจูุช </h3><br>  ุชู ูุตู ุงูุชุซุจูุช ููุณู ูู ุงููุซุงุฆู ุงูุฑุณููุฉ ููู ุงูุนุฏูุฏ ูู ุงูููุงูุน ุ ููุน ุฐูู ุ ูู ุฃุฌู ุณูุงูุฉ ุงูููุงูุฉ ุ ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑ ูุฐู ุงูููุทุฉ ููุง. <br><br>  Spacewalk ูุนูู ูุน ุงุซููู ูู ููุงุนุฏ ุงูุจูุงูุงุช: PostgreSQL ู Oracle RDBMS.  ูุฏู ุชุฌุฑุจุฉ ูุน ุงูุฃูู ุ ูุณูู ุชุณุชุฎุฏูู ุงูุขู. <br><br>  ููุงู ุฎูุงุฑุงู ููุชุซุจูุช: ููุงููุง ูู ุฎูุงู ุจุฑูุงูุฌ ุงูุชุซุจูุช ุงูุชููุงุฆู ูู Spacewalk ุ ูุงูุฐู ุณูููู ุจุชุซุจูุช ูุชูููู ููุณู ููุงุนุฏุฉ ุงูุจูุงูุงุช ุ ุนูู ููุณ ุงูุฎุงุฏู ุ ูุงูุชุซุจูุช ุงููุฏูู ุ ุญูุซ ููููู ูุถุน DB ูุงูุชุทุจูู ุนูู ุฎูุงุฏู ูุฎุชููุฉ.  ุณูู ุฃููุฑ ูู ููุง ุงูุฎูุงุฑูู ุ ุณุฃุจุฏุฃ ุจุชุซุจูุช ูููุตู. <br><br><h4 style=";text-align:right;direction:rtl">  PostgreSQL </h4><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">yum install -y postgresql-server</code> </pre> <br>  ูู ุงูุถุฑูุฑู ุฃูุถูุง ุชูุตูู ูุญุฏุงุช PL / Tcl ุงูุฎุงุตุฉ ุจู PG: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">yum install -y postgresql-pltcl postgresql-setup initdb systemctl start postgresql</code> </pre> <br>  ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุ ูุณุชุฎุฏู ุ ูุชูุตูู ุงููุญุฏุฉ ุงูููุทูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">su - postgres -c <span class="hljs-string"><span class="hljs-string">'PGPASSWORD=verystrong; createdb spcwlkdb ; createlang plpgsql spcwlkdb ; createlang pltclu spcwlkdb ; yes $PGPASSWORD | createuser -P -sDR spcwlkuser'</span></span></code> </pre> <br>  ูุชุฌูุจ ูุดุงูู ุงูุงุชุตุงู ุ ูุฌุฏุฑ ุชุบููุฑ <i>/var/lib/pgsql/data/pg_hba.conf</i> ุ ูุน ุฅุถุงูุฉ ุงูุณุทูุฑ ูุจู ุงูุณุทุฑ ุจุงููุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">local</span></span> spcwlkdb spcwlkuser md5 host spcwlkdb spcwlkuser 127.0.0.1/8 md5 <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> spcwlkdb postgres ident</code> </pre> <br>  ุฃุนุฏ ุชุดุบูู ูู ุดูุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">systemctl restart postgresql</code> </pre> <br>  ุฅุฐุง ููุช ุชููู ุชุซุจูุช ุงูุชุทุจูู ููุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู ุฎูุงุฏู ูุฎุชููุฉ ุ ูุชุฃูุฏ ูู ุชุซุจูุช ุงูุญุฒูุฉ <i>postgresql</i> ุนูู ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุณูุฑ ูู ุงููุถุงุก </h4><br>  ูุญู ูุฑุจุท ุงููุณุชูุฏุนุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">rpm -Uvh https://copr-be.cloud.fedoraproject.org/results/@spacewalkproject/spacewalk-2.8/epel-7-x86_64/00736372-spacewalk-repo/spacewalk-repo-2.8-11.el7.centos.noarch.rpm</code> </pre> <br>  ูู ุฃูุถูุง ุจุชูุตูู epel: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</code> </pre> <br>  ุฌุงูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">(<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /etc/yum.repos.d &amp;&amp; curl -O https://copr.fedorainfracloud.org/coprs/g/spacewalkproject/java-packages/repo/epel-7/group_spacewalkproject-java-packages-epel-7.repo)</code> </pre> <br>  ุงูุขู ูุจุงุดุฑุฉ ุงููุซุจุช ู Spacewalk - postgres: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">yum -y install spacewalk-setup-postgresql</code> </pre> <br>  ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฏููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">spacewalk-setup-postgresql create --db spcwlkdb --user spcwlkuser --password verystrong</code> </pre> <br>  ูู ุญุงูุฉ ุงุณุชุฎุฏุงูู ููุงุนุฏุฉ ุจูุงูุงุช / ุชุทุจูู ูููุตู ุ ุณุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงูุนูุงูุฉ <i>ุงููุณุชููุฉ</i> ูุชุญุฏูุฏ ุนููุงู IP ูุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ููุง ุชูุณู ุฃูุถูุง ูุชุญ ุงููููุฐ 5432. <br><br>  <i>ููุงุญุธุฉ: ุฃูุตุญ ุจุถุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ููููุง ูุฌูุงุฒู ูู ุฃุฌู ุชุดุบูู ุฃูุซุฑ ุฅูุชุงุฌูุฉ ูููุธุงู ุจุฃูููู.</i> <br><br>  ุงูุขู ุชุซุจูุช Spacewalk ููุณู ูุชุดุบูู ุงูุชุซุจูุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">yum -y install spacewalk-postgresql spacewalk-setup --external-postgresql</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ุณูุชู ุทุฑุญ ุงูุนุฏูุฏ ูู ุงูุฃุณุฆูุฉ ุ ุณูุงุก ูููุง ูุชุนูู ุจุดูุงุฏุฉ SSL ููุงุนุฏุฉ ุงูุจูุงูุงุช.  ููููู ุฅุฏุฎุงู ุฌููุน ุงูููู ูุฏูููุง ุ ุฃู ููููู ุงุณุชุฎุฏุงู ุนูุงูุฉ <i>ููู -answer</i> ูุชุญุฏูุฏ ุงููุณุงุฑ ุฅูู ุงูููู ูุน ุงูุฅุฌุงุจุงุช ูู ุฃุฌู ุฃุชูุชุฉ ุงูุชุซุจูุช ูู ุงููุณุชูุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">admin-email = root@localhost ssl-set-cnames = spcwlkserver ssl-set-org = Unicorn ssl-set-org-unit = EOH ssl-set-city = Prague ssl-set-state = HMP ssl-set-country = CZ ssl-password = verystrong ssl-set-email = root@localhost ssl-config-sslvhost = Y db-backend=postgresql db-name=spcwlkdb db-user=spcwlkuser db-password=verystrong db-host=localhost db-port=5432 <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-tftp=Y</code> </pre> <br>  ููุชุญูู ูู ุงูุชุทุจูู ูุจุงุดุฑุฉ ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">/usr/sbin/spacewalk-service [stop|start|restart]</code> </pre> <br>  ูุนุฑุถ ุฌููุน ุฎุฏูุงุช ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ ุงูุชู ุชุณุงูู ูู ุงูุชุทุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">spacewalk-service status</code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุงูุซุงูู ุ ุงูุชุซุจูุช ุงูุชููุงุฆู </h4><br>  ุจุนุฏ ุชูุตูู ุงููุณุชูุฏุนุงุช ุ ูู ุจุฅุนุฏุงุฏ ูุชุดุบูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">yum -y install spacewalk-setup-postgresql yum -y install spacewalk-postgresql spacewalk-setup</code> </pre> <br>  ูุฑุฉ ุฃุฎุฑู ุ ุณูุชู ุทุฑุญ ุงูุฃุณุฆูุฉ ุงููุชุนููุฉ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ู SSL ุ ูุณุชุฎุฏู ููุชุงุญ <i>ุงูููู --answer</i> ูุงููุณุงุฑ ุฅูู ุงูููู ูุน ุงูุฅุฌุงุจุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ูููุงุช ุงูุฃุณุงุณ ูุงูุทูู ุ Repos </h3><br>  ูุฅุฏุงุฑุฉ ูุญุทุงุช ุงูุนููุงุก ุ ูุณุชุฎุฏู ูุธุงู Spacewalk ูุง ูุณูู ุจุงููููุงุช ุ ูุงูุชู ูููู ุฃู ุชููู ุฅูุง ุฑุฆูุณูุฉ (ุชุงุจุนุฉ) ุฃู ุชุงุจุนุฉ (ุชุงุจุนุฉ) ุ ููุณุชูุฏุน ุชุญุชุงุฌู ูุฑุชุจุท ุจูู ููุงุฉ ุ ููุฐูู ููุชุงุญ - ูุชู ุฅูุฑุงู ุงูุนููู ุจู ุงูุฎุงุฏู. <br><br>  ูุชูุฌุฉ ูุฐูู ุ ุชุชู ูุฒุงููุฉ ุงููุณุชูุฏุนุงุช ูุน ุงููููุงุช ุ ูุงูุชู ุจุฏูุฑูุง ูุฑุชุจุทุฉ ุจุงูุนููุงุก ุ ููุนูู Spacewalk ุจุทุฑููุฉ ุนุงูุฉ.  ูู ุงูุฌุฏูุฑ ุจุงูุฐูุฑ ุฃูุถูุง ุฃู Errata ุ ูุงูุฐู ูููู ุฑุจุทู ุจุงููููุงุช ุ ููุง ูุจุณุท ุนูููุฉ ุงูุชุญุฏูุซ ูุงูุชุญูู ูู ุงูุญุฒูุฉ. <br><br>  ูููู ุชุฌููุน ุฌููุน ุงูุนููุงุก ููููุง ููุนุงููุฑ ูุฎุชููุฉ ุ ุณูุงุก ูุน ููุณ ุงููููุงุช ุฃู ูุน ูููุงุช ุฃู ูุณุชูุฏุนุงุช ูุฎุชููุฉ ุ ููู ุงููููู ุงูุนูู ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูุนููุงุก ูู ููุช ูุงุญุฏ ุ ููุง ูุณุงุนุฏ ุนูู ุฅุฌุฑุงุก ุชุญุฏูุซุงุช ุนูู ุฃูุซุฑ ูู 100 ุฎุงุฏู. <br><br>  ุชุชููุฑ ูุงุฆูุฉ ุจุฌููุน ุงูุญุฒู ุงููุซุจุชุฉ ุ ูุจุนุฏ ูุฒุงููุฉ ุงููุณุชูุฏุนุงุช ูุฅููุงููุฉ ุงูุชุซุจูุช.  ุจุนุถ ุงูููุงุท ุจุฏูููุฉ ุ ูููุณ ูู ุงูููุทูู ุงูุชูููุฑ ูู ูู ุณุทุฑ ุนูู ุญุฏุฉ. <br><br>  ุชุชู ุฌููุน ุงูุฅุฌุฑุงุกุงุช ูู Spacewalk ููููุง ูุฌุฏูู (ุฌุฏูู) ุ ููููู ุชูููู ุฃู ุฅุฌุฑุงุก ุชูุฑูุจูุง ูู ุงูููุช ุงูุฃูุซุฑ ููุงุกูุฉ ูู. <br><br>  ุจุนุฏ ุงูุชุซุจูุช ุ ุณูููู ูู ุงููููู ุงูุงูุชูุงู ุฅูู ุนููุงู ุงูุฎุงุฏู ุงูุฎุงุต ุจู ุ ูุชูููุฐ ูุฒูุฏ ูู ุงูุชูููู ุนุจุฑ ุงููุงุฌูุฉ ุงูุฑุณูููุฉ: <br><br><img src="https://habrastorage.org/webt/bb/iq/co/bbiqcow_kswo_i91vsqceeg6g0s.png"><br><br>  ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ูุงุณู ุงููุณุคูู ูุงุณู ุงููุคุณุณุฉ (ูุงูุชู ุชุนุฏ ุฃูุถูุง ุฅุญุฏู ุงูุทุฑู ูุฅุฏุงุฑุฉ ุงูุนููุงุก) ุ ูุงูุชูู ุฅูู ููุญุฉ ุงูุจุฏุงูุฉ. <br><br>  ูู ุงูููุช ุงูุญุงูู ุ ููููู ุฅูุง ุงุณุชูุดุงู ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ ุจููุณู ุ ุฃู ุงูุงูุชูุงู ุฅูู ุฅูุดุงุก ุงููููุงุช. <br><br>  <i>ุงููููุงุช - ุฅุฏุงุฑุฉ ูููุงุช ุงูุจุฑุงูุฌ - ุฅูุดุงุก ููุงุฉ:</i> <br><br><img src="https://habrastorage.org/webt/5m/6o/f9/5m6of99m6ey7yq0rxbdmenvhcuw.png"><br><br>  ุฃูุตู ุจุชุนููู ุฃุณูุงุก ุงููููุงุช ููููุง ูุฃููุงุน ูููุน ูุธุงู ุงูุชุดุบูู ุงูุฐู ุณูุชู <i>ุฑุจุทู</i> ุจูุฐู ุงูููุงุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ <i>CentOS_7_x86_64</i> ุ ููููู ุงุฎุชูุงุฑ sha256 ุจุฃูุงู ูุดููุงุช ุ ุงูุญูู Channell Summary ูุฎุตุต ููุตู ุตุบูุฑ ููููุงุฉ.  ุฃูุถุง ุ ููููู ุงุฎุชูุงุฑูุง ุชูุฏูู ูุนูููุงุช ุฅุถุงููุฉ. <br><br>  ุฃูุดุฆ ุงูุขู ููุงุฉ ูุฑุนูุฉ ูุงุฑุจุทูุง ุจุงูููุงุฉ ุงูุฑุฆูุณูุฉ.  ูุฐูุจ ุจููุณ ุทุฑููุฉ ุฅูุดุงุก ุงูููุงุฉ ุงูุฑุฆูุณูุฉ ุ ููุท ูู ุญูู ุงูููุงุฉ ุงูุฑุฆูุณูุฉ ุณูุดูุฑ ุฅูู ุงูููุงุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูุณุจููุง. <br><br>  ูู ุจุฑุจุท ุงููุณุชูุฏุนุงุช ุจุงููููุงุช ุงูุฑุฆูุณูุฉ ูุงููุฑุนูุฉ. <br>  <i>ุงููููุงุช - ุฅุฏุงุฑุฉ ุงููุณุชูุฏุนุงุช</i> <br><br><img src="https://habrastorage.org/webt/a3/gq/ok/a3gqokxrwd10mlfq4geiw0f1nqy.png"><br><br>  ุจุงููุณุจุฉ ูููููุงุช ุงูุฑุฆูุณูุฉ ุ ุฃุณุชุฎุฏู "ุงูููุงุฑุฏ ุงูุฃุณุงุณูุฉ" ูููููุงุช ุงููุฑุนูุฉ - ุชุญุฏูุซุงุช. <br><br>  ุจุนุฏ ุฅูุดุงุก ุงููุณุชูุฏุนุงุช ุ ุชุญุชุงุฌ ุฅูู ุชูุตูููุง ุจุงููููุงุช. <br>  <i>ุงููููุงุช - ุฅุฏุงุฑุฉ ูููุงุช ุงูุจุฑุงูุฌ</i> ุ ุงูุชุญ ููุงุชู ุงูุฑุฆูุณูุฉ ุ ุงูุชุญ ูุณู ุงููุณุชูุฏุนุงุช. <br><br><img src="https://habrastorage.org/webt/hw/ro/og/hwroogjvybx0p1z2mslzxf8nunq.png"><br><br>  ุณุชููู ููุงู ุฌููุน ุงููุณุชูุฏุนุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุ ูุญุฏุฏ ุงููุณุชูุฏุน ุงูุฐู ุชุญุชุงุฌู ุ ููู ุจุชูููุฒู ุ ูุงููุฑ ููู ุชุญุฏูุซ ุงูููุงุฑุฏ. <br><br>  ุจุนุฏ ุฐูู ุ ุงูุชุญ ุงูููุชุงุญ Sync ุงููุฑุนู: <br><br><img src="https://habrastorage.org/webt/ho/j7/4m/hoj74mhjkorduvftwkwbteuxzk4.png"><br><br>  ุญูุซ ููููู ูุฒุงููุฉ ุงููุณุชูุฏุน ูุงูููุงุฉ ุ ูู ุจุชูููู ุฌุฏูู ุงูุชุฒุงูู. <br><br>  <i>ููุงุญุธุฉ: ูู ุญุงูุฉ ุงูุฃููุงู ุงููุดุบููุฉ ุ ุงุถุทุฑุฑุช ุฅูู ุญุฐู ุงููุณุชูุฏุน ุงูููุงุณู ูู ูุธุงู ุงูุนููู.</i> <br><br><h4 style=";text-align:right;direction:rtl">  ุชุซุจูุช ุงูุนููู ุ ูุฅูุฑุงู ุงูุนููู ูุน ุงูุฎุงุฏู ุ ูุฅุฏุงุฑุฉ ุงูููุงุชูุญ ุ ูุฅุนุฏุงุฏ ููุงุฉ ุงูุชูููู </h4><br>  ููุง ุฐูุฑุช ุณุงุจููุง ุ ูุณุชุฎุฏู Spacewalk ูุธุงููุง ุฑุฆูุณููุง ูู ุดุจูุฉ Red Hat Network ุ ูุงูุฐู ูุณุชุฎุฏู ูู ุงูุงูุชุฑุงู ูุงูุฅุฏุงุฑุฉ. <br><br>  ูุฅูุดุงุก ููุชุงุญ ุ ุงูุชูู ุฅูู <i>ุงูุฃูุธูุฉ - ููุงุชูุญ ุงูุชูุดูุท - ุฅูุดุงุก ููุชุงุญ:</i> <br><br><img src="https://habrastorage.org/webt/ea/df/vf/eadfvfezxpeh1s_lt9blgfox3j8.png"><br><br>  ูู ุดูุก ุจุณูุท ููุบุงูุฉ ููุง ุ ูู ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ููููู ุชุนููู ุงูููุชุงุญ ุจููุณู ุ ูุณูููู ุชูุณููู ุฏุงุฆููุง <i>1 XXXXXX</i> ุ ูุฃูุถูุง ูู ููุชุงุญ ูุชุตู ุจุงูููุงุฉ.  ููุฑุถ ุงูุนูู ุงูุงูุชุฑุงุถู ุงูุนุงููู ุฃูุธูุฉ ุฌุฏูุฏุฉ ุนูู ุงูุชูุงุท ุงููุนููุงุช ุงูุฃุณุงุณูุฉ. <br><br>  <b>ุชุซุจูุช ุงูุนููู</b> <br><br>  ูู ุจุชูุตูู ูุณุชูุฏุน ุงูุนููู ูุชุซุจูุช ุงูุญุฒู ุงููุงุฒูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">rpm -Uvh https://copr-be.cloud.fedoraproject.org/results/@spacewalkproject/spacewalk-2.8-client/epel-7-x86_64/00742644-spacewalk-repo/spacewalk-client-repo-2.8-11.el7.centos.noarch.rpm yum -y install rhn-client-tools rhn-check rhn-setup rhnsd m2crypto yum-rhn-plugin rhncfg-actions deltarpm</code> </pre> <br><br>  <i>ููุงุญุธุฉ: ููุงู ุญุงุฌุฉ ุฅูู ุฅุฌุฑุงุกุงุช rhncfg ู deltarpm ููู ุชุนูู ุงูุชููุฆุฉ ูุงูุชุญูู ุนู ุจูุนุฏ ุจุดูู ุตุญูุญ.</i> <br><br>  ูุณุชุฎุฏู Spacewalk rhn_check ููุฒุงููุฉ ุฎุงุฏู ุงูุนููู ุ ุงูุฐู ูุนูู ูู 4 ุณุงุนุงุช.  ูููู ุชุฎููุถ ูุฐู ุงููููุฉ ุฅูู 60 ุฏูููุฉ ุ ูููู ุจุงููุณุจุฉ ูู ูู ููู ุฃู ูู ุงูุฎูุงุฑุงุช ูู ุงูุฃูุซู ุ ูุฐูู ููุงู ุฎูุงุฑุงู: ุงุณุชุฎุฏุงู osad ุ ุงูุฐู ูุฃุชู ูุน Spacewalk ุ ุฃู ุจุจุณุงุทุฉ ุฅุถุงูุฉ cronjob ู rhn_check ุ ุนูู ุณุจูู ุงููุซุงู ุ ููู ุฏูููุฉ ุจูููุง ูุญู ุงุฎุชุจุงุฑ ุงููุธุงู ุ ุซู ูููู ุชุบููุฑ ุงููููุฉ ููุง ูุญูู ูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">crontab -e * * * * * /usr/sbin/rhn_check</code> </pre> <br>  ูู ูููู ูู ุงูุถุฑูุฑู ุฃูุถูุง ุฅุถุงูุฉ / usr / bin / rhn-Actions-control - ูููู ุชููููู ุฌููุนูุง ุฅูู Cron ุฃูุถูุง ุ ููู ูุณุชุฎุฏู ููุดุฑ ุงูุชููููุงุช ุ ููู ุจุนุถ ุงูุฃุญูุงู ููู. <br><br>  ูุนูุฏ ุฅูู ุฅุฏุงุฑุฉ ุงูููุงุชูุญ ุ ูููุณุฎ ูุนุฑู ุงูููุชุงุญ ุงูุฐู ุฃูุดุฃูุงู ุ ููููุฐู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">rhnreg_ks --serverUrl=http://your-server-ip/XMLRPC --activationkey=1-YOURKEY --force</code> </pre> <br>  ููุท ูุง ุชูุณู ุฃู ุชุบูุฑ IP ูุงูููู ุงูุฃุณุงุณูุฉ ุงูุฎุงุตุฉ ุจู.  ูุฑุฉ ุฃุฎุฑู ุ ุฃูุตุญู ุจุงุณุชุฎุฏุงู ุนูุงูุฉ <i>ุงูููุฉ</i> ุ ุญูุซ ูุงุญุธุช ูุฌูุฏ ูุดุงูู ุฏูู ุงุณุชุฎุฏุงู ูุฐู ุงูุนูุงูุฉ. <br><br>  ูุนูุฏ ุฅูู <i>ุงูุฃูุธูุฉ - ุงููู</i> ุ ูุณุฑูุง ุฃู ููุงุญุธ ูุธุงููุง.  ููููู ุงูุขู ูุชุญู ูุงุณุชูุดุงู ูุงุฐุง ูููู ููุงู ุ ููู ุงูุขู ุฃูุตู ุจุดุฏุฉ ุจุฅูุดุงุก ูุฌููุนุฉ ูุฅุฏุงุฑุฉ ูุธุงู ุฃูุซุฑ ููุงุกูุฉ. <br><br>  <i>Systems - Goups System - ุฅูุดุงุก ูุฌููุนุฉ</i> ุ ูููุก ุงูุงุณู ูุงููุตู ุ ูุญูุธ ุ ููุชุญ ุงููุฌููุนุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุญุฏูุซูุง ุ ุงูุชูู ุฅูู ูุณู <i>ุงูุฃูุธูุฉ</i> ูุฅุถุงูุฉ ุงููุธุงู ุฅูู ุงููุฌููุนุฉ. <br><br>  ุงุดุชุฑู ุงูุขู ูู ุงูููุงุฉ ุ <i>ุงูุฃูุธูุฉ - ุงููุธุงู ุงูุฎุงุต ุจู - ูุฌูุฏ ุงูุจุฑุงูุฌ - ุงููุฌูุฏ ุงููุฑุนู ููููุงุช ุงูุจุฑุงูุฌ:</i> <br><br><img src="https://habrastorage.org/webt/7f/hp/lu/7fhplurd2imupn4cio2n7ymcz1y.png"><br><br>  ุงุฎุชุฑ ููุงุชู ูุงููุฑ ุนูู ุงูุชุฃููุฏ.  ูููุชุนุฉ ุ ููููู ูุญุงููุฉ ุชุซุจูุช ุงูุญุฒูุฉ ุ <i>ุงูุจุฑุงูุฌ - ุงูุญุฒู - ุงูุชุซุจูุช</i> . <br><br>  <b>ููุงุฉ ุงูุชูููู</b> <br><br>  ูุฅุฏุงุฑุฉ ุงูุชููููุงุช ุจูู ุฎุงุฏู ุงูุนููู / ุงูุฌูุงุฒ ุงููุญูู ุ ูุถูุงู ุนู ุฌูุงุฒ ุงูุชุญูู ุนู ุจูุนุฏ ุ ูุฌุฏุฑ ุฅุนุฏุงุฏ ููุงุฉ ุงูุชูููู ูุฑุจุท ุงููุธุงู ุจูุง. <br>  ูุฐูุจ ุฅูู <i>ุงูุชูููู - ูููุงุช ุงูุชูููู - ุฅูุดุงุก ููุงุฉ ุงูุชูููู</i> ุ ูุชุนููู ุงูุงุณู ูุงููุตู ุ ูุญูุธ ุ ุซู ูู <i>ุงูุชูููู - ุฅุฏุงุฑุฉ ูููุงุช ุงูุชูููู - ุงูุงุดุชุฑุงู ูู ุงููููุงุช</i> ูุชูููุน ููุงุฉ ุงูุชูููู ุฅูู ููุงุฉ ุงูุจุฑูุงูุฌ ุ ูุนูู ุงููุธุงู. <br><br><img src="https://habrastorage.org/webt/jy/ki/wt/jykiwtrdmame71pab7yyzr40lay.png"><br><br>  ุงูุขู ูููููุง ูุดุฑ ุงูุชููููุงุช ูู ูู ูู ุงูุฎุงุฏู ูุงูุฃุฌูุฒุฉ ุงููุญููุฉ ุ ูุฅูุดุงุก ุฃูุณุงู. <br><br>  <i>ุงูุชูููู - ุฅุถุงูุฉ ูููุงุช - ุฅูุดุงุก ููู / ุชุญููู ููู:</i> <br><br><img src="https://habrastorage.org/webt/cf/js/ie/cfjsieqwp21zlmem7goijg7cqui.png"><br><br>  ุฃูุถูุง ุ ูููููุง ุฅุฑุณุงู ุฃูุงูุฑ ุนู ุจูุนุฏ ูู ุดูู ูุต bash: <br><br><img src="https://habrastorage.org/webt/hy/xw/d-/hyxwd-znezglfc-glf5yhn44wsq.png"><br><br>  ุฃุฐูุฑู ุจุฃู ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุชูุฑ ุนุจุฑ ุฌุฏูู ุฒููู ุ ููููู ุงูุงุทูุงุน ุนูู ูุงุฆูุฉ ุจุฌููุน ุงูุฅุฌุฑุงุกุงุช ุงููุทุจูุฉ ุนูู ูุฐุง ุงููุธุงู ูู ูุณู ุงูุฃุญุฏุงุซ: <br><br><img src="https://habrastorage.org/webt/9m/fp/hj/9mfphjmglxmqpxfd_cdqpsf8g2s.png"><br><br>  <b>ูุฑุงุชุง</b> <br><br>  ูุงุญุฏุฉ ูู ุฃูู ุงูููุฒุงุช ูู Spacewalk ูู ุฏุนู ุงูุฃุฎุทุงุก ุ ูุงูุฐู ูุฑุชุจุท ุจุดูู ููุงุฆู ุจุงููููุงุช ููุณูุญ ูู ุจูุฑุงูุจุฉ ูุณุชูู ุฃูููุฉ ุขุฎุฑ ุงูุชุญุฏูุซุงุช.  ุชู ุชูููู ูุฐุง ูุจุงุดุฑุฉ ุนูู ุงูุฎุงุฏู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุจุฑุงูุฌ ุงููุตูุฉ ุ ุชุญุชุงุฌ ุฅูู ุชูุฒูู ุงูุญุฒู ุงููุงุฒูุฉ ูู Pearl: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">yum -y install perl-Frontier-RPC perl-Text-Unidecode wget https://raw.githubusercontent.com/stevemeier/cefs/master/errata-import.pl chmod +x errata-import.pl</code> </pre> <br>  ุซู ุฃูุดุฆ ุงูุชุญุฏูุซ ุงูุฑุฆูุณู <i>ูุฎุทุฃ</i> ุงูุจุฑูุงูุฌ ุงููุตู ุ ูุงูุฐู ุณูุชู ุชุฎุฒููู ูู <i>/ etc / rhn /:</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash cd /etc/rhn/ wget -N http://cefs.steve-meier.de/errata.latest.xml wget -N https://www.redhat.com/security/data/oval/com.redhat.rhsa-all.xml export SPACEWALK_USER='root' export SPACEWALK_PASS='verystrong' ./errata-import.pl --server YourServerIPAddress --errata errata.latest.xml --rhsa-oval com.redhat.rhsa-all.xml --publish unset SPACEWALK_USER unset SPACEWALK_PASS</span></span></code> </pre> <br>  ูู ุงูุชุตุฏูุฑ ุ ุญุฏุฏ ุงุณู ููููุฉ ูุฑูุฑ ูุณุคูู Spacewalk ุ ุงูุฐู ุญุฏุฏุชู ูู ุงูุจุฏุงูุฉ. <br><br>  ููุฌุนู ุงูุจุฑูุงูุฌ ุงููุตู ูุงุจูุงู ููุชูููุฐ ูุฅุถุงูุชู ุฅูู Cron: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">chmod +x spcwlk_errata.sh crontab -e 0 2 * * 7 /usr/bin/sh /etc/rhn/spcwlk_errata.sh</code> </pre> <br>  ุฏุนูุง ูููุฐูุง ุงูุขู ูุฑุคูุฉ ุงูุชุบููุฑุงุช ูู ูุงุฌูุฉ ุงูุฑุณูู.  ุณูู ูุณุชุบุฑู ุงูุชูููุฐ ุจุนุถ ุงูููุช. <br><br><img src="https://habrastorage.org/webt/5v/yy/v9/5vyyv9a4xpmq7c2lqqglozhdrsk.png"><br><br><h4 style=";text-align:right;direction:rtl">  ููุฎุต </h4><br>  ููุงู ููุทุฉ ูููุฉ ุ ูู ุฑุฃูู ุ ูุงุชูู ุดุฎุตูุง ุ ูู ุฅุนุฏุงุฏ ูููู ูุชุซุจูุชู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฑูุน ุงููุธุงู ุจุงููุงูู ูุซู HA.  ูุงู ูุฏู ููุฑุฉ ูุชูููู ุงูุชุทุจูู ูู ุฎูุงู ุฌูุงุฒ ุชูุธูู ุถุฑุจุงุช ุงูููุจ ุ ูุงููุฒุงููุฉ ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ููุชูุฌุฉ ูุฐูู ุ ุชูุฑุฑ ุงูุชุฎูู ุนู ูุฐู ุงูููุฑุฉ ุ ูู ุถูุก ุฃุณุทูู ุงูุฎูุงุฏู ุบูุฑ ุงูุถุฎู ููุบุงูุฉ ูู ูุญุทุงุช ุงูุนููุงุก.  ููุน ุฐูู ุ ุฅุฐุง ุฃุซุจุช ุงููุธุงู ุฃูู ูููุฏ ููุบุงูุฉ ูู ุงูุฃุดูุฑ ุงูุณุชุฉ ุงูููุจูุฉ ุ ููุฏ ุชุถุทุฑ ุฅูู ุชูุณูุน ุงูุฎุงุฏู ุงูุฃุตูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุฃุชูุชุฉ </h4><br>  <b>ุงูุฎุงุฏู:</b> <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุจุฑูุงูุฌ ุงููุตู Bash ููุดุฑ ุงูุฎุงุฏู (DISABLES firewalld):</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh # rpm -Uvh https://copr-be.cloud.fedoraproject.org/results/@spacewalkproject/spacewalk-2.8/epel-7-x86_64/00736372-spacewalk-repo/spacewalk-repo-2.8-11.el7.centos.noarch.rpm rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm (cd /etc/yum.repos.d &amp;&amp; curl -O https://copr.fedorainfracloud.org/coprs/g/spacewalkproject/java-packages/repo/epel-7/group_spacewalkproject-java-packages-epel-7.repo) yum -y install spacewalk-setup-postgresql spacewalk-postgresql wget perl-Frontier-RPC perl-Text-Unidecode perl-XML-Simple # mkdir /usr/share/spcwlk-tmp/ echo 'admin-email = root@localhost ssl-set-cnames = spcwlkserver ssl-set-org = Unicorn ssl-set-org-unit = EOH ssl-set-city = Prague ssl-set-state = SCK ssl-set-country = CZ ssl-password = verystrong ssl-set-email = root@localhost ssl-config-sslvhost = Y db-backend=postgresql db-name=spcwlkdb db-user=spcwlkuser db-password=verystrong db-host=localhost db-port=5432 enable-tftp=Y' &gt; /usr/share/spcwlk-tmp/spcwlk_answer spacewalk-setup --answer-file=/usr/share/spcwlk-tmp/spcwlk_answer # systemctl stop firewalld systemctl disable firewalld #</span></span></code> </pre> <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุต ุจุงุด ูุชุซุจูุช errata (ูู ุฃููุงู ุจุชุนููู ุงุณู ููููุฉ ูุฑูุฑ ูุณุคูู Spacewalk):</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh # wget https://raw.githubusercontent.com/stevemeier/cefs/master/errata-import.pl -P /etc/rhn/ echo '#!/bin/bash cd /etc/rhn/ wget -N http://cefs.steve-meier.de/errata.latest.xml wget -N https://www.redhat.com/security/data/oval/com.redhat.rhsa-all.xml export SPACEWALK_USER='gui username' export SPACEWALK_PASS='Password to your gui account' ./errata-import.pl --server YourServerIPAddress --errata errata.latest.xml --rhsa-oval com.redhat.rhsa-all.xml --publish unset SPACEWALK_USER unset SPACEWALK_PASS' &gt; /etc/rhn/spcwlk_errata.sh # chmod +x /etc/rhn/errata-import.pl chmod +x /etc/rhn/spcwlk_errata.sh # echo '#!/bin/bash # /etc/rhn/./spcwlk_errata.sh' &gt; /etc/rhn/spcwlk_errata_cron.sh chmod +x /etc/rhn/spcwlk_errata_cron.sh echo '0 2 * * 7 /usr/bin/sh /etc/rhn/spcwlk_errata_cron.sh' &gt;&gt; /var/spool/cron/root /etc/rhn/./spcwlk_errata.sh #</span></span></code> </pre> <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชุงุจ ุงููุนุจ ุบูุฑ ุงููุฑุบูุจ ููู ููุดุฑ ุงูุฎุงุฏู (ูุง ุชูุณ ุฅุถุงูุฉ ููู ุงูุฅุฌุงุจุงุช):</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">- hosts: spcwlk-server tasks: - name: Install Spacewalk repo yum: name: https://copr-be.cloud.fedoraproject.org/results/@spacewalkproject/spacewalk-2.8/epel-7-x86_64/00736372-spacewalk-repo/spacewalk-repo-2.8-11.el7.centos.noarch.rpm state: present - name: Install epel repo yum: name: https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm state: present - name: Install PostgreSQL packages yum: name: - spacewalk-setup-postgresql - spacewalk-postgresql - wget - perl-Frontier-RPC - perl-Text-Unidecode - perl-XML-Simple - name: Creates directory <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Spacewalk answer file file: path: /usr/share/spcwlk-tmp/ state: directory mode: 0755 - name: Deploy answer file copy: src: /etc/ansible/spcwlk_answer dest: /usr/share/spcwlk-tmp/spcwlk_answer - name: Spacewalk Server Deploy shell: spacewalk-setup --answer-file=/usr/share/spcwlk-tmp/spcwlk_answer - name: Stop firewalld systemd: name: firewalld state: stopped enabled: no</code> </pre> <br></div></div><br>  <b>ุงูุนููู:</b> <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุจุฑูุงูุฌ ุงููุตู Bash ููุดุฑ ุงูุนููู (ูุง ุชูุณู ุนููุงู IP ูุงูููุชุงุญ):</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh # rpm -Uvh https://copr-be.cloud.fedoraproject.org/results/@spacewalkproject/spacewalk-2.8-client/epel-7-x86_64/00742644-spacewalk-repo/spacewalk-client-repo-2.8-11.el7.centos.noarch.rpm yum -y install rhn-client-tools rhn-check rhn-setup rhnsd m2crypto yum-rhn-plugin rhncfg-actions deltarpm wget echo '#!/bin/bash # /usr/sbin/rhn_check' &gt; rhn_check.sh mv rhn_check.sh /etc/cron.hourly/ chmod +x /etc/cron.hourly/rhn_check.sh echo '* * * * * /usr/bin/sh /etc/cron.hourly/rhn_check.sh' &gt;&gt; /var/spool/cron/root /usr/bin/rhn-actions-control --enable-all cd /usr/share/rhn/ wget http://YourServerIPAddress/pub/RHN-ORG-TRUSTED-SSL-CERT rhnreg_ks --serverUrl=http://172.22.64.41/XMLRPC --activationkey=1-xxxxxxxxxxxxxxxxxxxxxxxxxxxx --force</span></span></code> </pre> <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Anisble playbook ููุดุฑ ุงูุนููู:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">- hosts: spcwlk-clients tasks: - name: Install spacewalk repo yum: name: https://copr-be.cloud.fedoraproject.org/results/@spacewalkproject/spacewalk-2.8-client/epel-7-x86_64/00742644-spacewalk-repo/spacewalk-client-repo-2.8-11.el7.centos.noarch.rpm state: present - name: Install client packages yum: name: - rhn-client-tools - rhn-check - rhn-setup - rhnsd - m2crypto - yum-rhn-plugin - rhncfg-actions - deltarpm - wget - name: Create cronjob <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> rhn_check cron: name: <span class="hljs-string"><span class="hljs-string">"rhn_check"</span></span> minute: <span class="hljs-string"><span class="hljs-string">"*"</span></span> hour: <span class="hljs-string"><span class="hljs-string">"*"</span></span> day: <span class="hljs-string"><span class="hljs-string">"*"</span></span> month: <span class="hljs-string"><span class="hljs-string">"*"</span></span> weekday: <span class="hljs-string"><span class="hljs-string">"*"</span></span> job: <span class="hljs-string"><span class="hljs-string">"/usr/sbin/rhn_check"</span></span> - name: Enable controls <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> config and remote control deployment shell: /usr/bin/rhn-actions-control --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-all - name: Get certificate from server to client get_url: url: http://YourServerIPAddress/pub/RHN-ORG-TRUSTED-SSL-CERT dest: /usr/share/rhn/ - name: Register client to server rhn_register: state: present server_url: http://YourServerIPAddress/XMLRPC activationkey: <span class="hljs-string"><span class="hljs-string">"{{ activation_key }}"</span></span></code> </pre> <br></div></div><br>  ุดูุฑุง ููู ุฌููุนุง ููุฑุงุกุฉ ุงูููุงู.  ุญุธุง ุณุนูุฏุง </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar435578/">https://habr.com/ru/post/ar435578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar435564/index.html">ุจุงุณุชุฎุฏุงู GtkApplication. Librsvg ุชูุฏูู ุงูููุฒุงุช</a></li>
<li><a href="../ar435568/index.html">VyOS ุฑุงูุชุฑ ููุชูุญ ุงููุตุฏุฑ</a></li>
<li><a href="../ar435572/index.html">Anycubic i3 Mega: ุทุจุนุฉ ุฌุฏูุฏุฉ ูู ุฌูุฏุฉ Prusa i3</a></li>
<li><a href="../ar435574/index.html">ููู ูุนูู ููุนุฑุฌุ</a></li>
<li><a href="../ar435576/index.html">1C ุ ูุง ุฃูู</a></li>
<li><a href="../ar435580/index.html">ุฎุฏูุงุช Java ู Spring ู Kurento ู Media</a></li>
<li><a href="../ar435582/index.html">ููููุฉ ุฅุถุงูุฉ ููุฑุณ ุนูู ูุธุงู ูุญููู 24/7 ุฏูู ุชูููุ</a></li>
<li><a href="../ar435584/index.html">ุทูู 2018. ุงูููู ุงูุฃูู ุ ุงูููู ุงูุซุงูู</a></li>
<li><a href="../ar435586/index.html">ูู ุงูุดุงูุงููุฉ ุฃู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุงููุฎุตุตุฉ ู Olinuxino. ููุงุฉ ูุฃูุจููุชู ุงูุฌุฒุก 3</a></li>
<li><a href="../ar435588/index.html">ุงูุชุฑููุฌ ูุชุทุจูู ุงููุงุชู ุงููุญููู ูุน ุชุฌุฑุจุฉ ุญููููุฉ ูู ุงูุฃุฑูุงู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>