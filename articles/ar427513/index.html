<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ผ ๐๐ฟ ๐ฉ๐ผโ๐คโ๐ฉ๐ป ููููุฉ ุชุญููู ุชูุฑูุบ ุงูุฎูุท ๐ค โฌ๏ธ โ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุงู ุนุฏุฏ ุบูุฑ ูููู ูู ุงูููุถูุนุงุช ุนูู ุงูุฃุฌุฒุงุก ุงูุฏุงุฎููุฉ ูู JVM ูู ุจุฑูุงูุฌ ุฏูุฑุฉ Java Developer . ูุญู ูููู ุขููุงุช ุนูู ุงููุฌููุนุงุช ุ ุงูุฑูุฒ ุงูุซุงููู ุ ุฌุงูุนู ุงูููุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููููุฉ ุชุญููู ุชูุฑูุบ ุงูุฎูุท</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/427513/" style=";text-align:right;direction:rtl">  <i>ููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุฏุฏ</a> ุบูุฑ ูููู ูู ุงูููุถูุนุงุช ุนูู ุงูุฃุฌุฒุงุก ุงูุฏุงุฎููุฉ ูู JVM ูู ุจุฑูุงูุฌ ุฏูุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Java Developer</a> .</i>  <i>ูุญู ูููู ุขููุงุช ุนูู ุงููุฌููุนุงุช ุ ุงูุฑูุฒ ุงูุซุงููู ุ ุฌุงูุนู ุงูููุงูุฉ ุ ุฅูุฎ.</i>  <i>ูุนุฑุถ ุงูููู ุงูุชุจุงูู ุฅูู ุชุฑุฌูุฉ ููุงู ูุซูุฑ ููุงูุชูุงู ุญูู ุชูุฑูุบ ุณูุณูุฉ ุงููุญุงุฏุซุงุช.</i>  <i>ูุง ูู ุ ูููููุฉ ุงูุญุตูู ุนููู ูููููุฉ ุงุณุชุฎุฏุงูู.</i> <br><br>  ูู ุชุฑูุฏ ูุนุฑูุฉ ููููุฉ ุชุญููู ุชูุฑูุบ ุณูุณูุฉ ุงููุญุงุฏุซุงุชุ  ุงุฐูุจ ุชุญุช ุงููุทุฉ ููุนุฑูุฉ ุงููุฒูุฏ ุญูู ููููุฉ ุงูุญุตูู ุนูู ุชูุฑูุบ ุงูุฎูุท ูู Java ููุง ูุฌุจ ุงูููุงู ุจู ูู ููุช ูุงุญู. <br><a name="habracut"></a><br>  ูุนุธู ุชุทุจููุงุช Java ุงูุญุฏูุซุฉ ูุชุนุฏุฏุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท.  ูููู ุฃู ูุคุฏู ุชุนุฏุฏ ุงููุธุงุฆู ุฅูู ุชูุณูุน ูุธุงุฆู ุงูุชุทุจูู ุจุดูู ูุจูุฑ ุ ููู ููุณ ุงูููุช ููุฏู ุชุนููุฏูุง ูุจูุฑูุง. <br><br>  ูู ุชุทุจูู ุฃุญุงุฏู ุงูุฎููุท ุ ูููู ุงุณุชุฎุฏุงู ุฌููุน ุงูููุงุฑุฏ (ุงูุฐุงูุฑุฉ ุงููุดุชุฑูุฉ ุ ุนูููุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุ ููุง ุฅูู ุฐูู) ุจุฏูู ูุฒุงููุฉ ุ ูุฃู  ูู ุฃู ููุช ูุนูู ุ ูุณุชุฎุฏู ูุคุดุฑ ุชุฑุงุจุท ูุงุญุฏ ุงูููุฑุฏ. <br><br>  ูู ุญุงูุฉ ุงูุชุทุจููุงุช ูุชุนุฏุฏุฉ ุงูุฎููุท ุ ูู ุงูุถุฑูุฑู ุฅูุฌุงุฏ ุญู ูุณุท ุจูู ุชุนููุฏ ุงูุจุฑูุงูุฌ ูุฒูุงุฏุฉ ูุญุชููุฉ ูู ุงูุฃุฏุงุก ุ ุนูุฏูุง ูููู ููุนุฏูุฏ ูู ุณูุงุณู ุงูุนูููุงุช ุงุณุชุฎุฏุงู ุฌููุน ุงููุนุงูุฌุงุช ุงูุฃุณุงุณูุฉ ุงููุชุงุญุฉ (ุบุงูุจูุง ุฃูุซุฑ ูู ูุงุญุฏ) (CPU).  ุฅุฐุง ุชู ุชูููุฐ ูู ุดูุก ุจุดูู ุตุญูุญ ุ ูุนูุฏุฆุฐู ุจุงุณุชุฎุฏุงู ุชุนุฏุฏ ูุคุดุฑุงุช ุงูุชุฑุงุจุท (ุงูุฐู ุชูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุงุบุชู ูู ูุงููู Amdahl</a> ) ุ ููููู ุชุญููู ุฒูุงุฏุฉ ูุจูุฑุฉ ูู ุฃุฏุงุก ุงูุชุทุจูู.  ููุน ุฐูู ุ ูุฌุจ ุนูู ุงููุฑุก ุฃู ูุชุฐูุฑ ุชูููุฑ ุงููุตูู ุงููุชุฒุงูู ูุนุฏุฉ ุชุฏููุงุช ุฅูู ููุฑุฏ ูุดุชุฑู.  ูู ูุนุธู ุงูุญุงูุงุช ุ ุชุนูู ุฃุทุฑ ูุซู Spring ุนูู ุชุบููู ุงูุนูู ุจุงูุฎููุท ูุฅุฎูุงุก ุงูุนุฏูุฏ ูู ุงูุชูุงุตูู ุงููููุฉ ุนู ุงููุณุชุฎุฏููู.  ููุน ุฐูู ุ ูู ุญุงูุฉ ุงุณุชุฎุฏุงู ุงูุฃุทุฑ ุงููุนูุฏุฉ ุงูุญุฏูุซุฉ ุ ูุฏ ูุญุฏุซ ุฎุทุฃ ูุง ุ ููุญู ููุณุชุฎุฏููู ุ ุณููุงุฌู ุตุนูุจุฉ ูู ุญู ุงูุฃุฎุทุงุก ูุชุนุฏุฏุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท. <br><br>  ูุญุณู ุงูุญุธ ุ ุชู ุชุฌููุฒ Java ุจุขููุฉ ุฎุงุตุฉ ููุญุตูู ุนูู ูุนูููุงุช ุญูู ุงูุญุงูุฉ ุงูุญุงููุฉ ูุฌููุน ุณูุงุณู ุงููุญุงุฏุซุงุช ูู ุฃู ููุช - ุฅููุง ุนุจุงุฑุฉ ุนู ุชูุฑูุบ ููุคุดุฑ ุงูุชุฑุงุจุท (ููุน ูู ุงูููุทุงุช).  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ูุชุนูู ููููุฉ ุงูุญุตูู ุนูู ุชูุฑูุบ ูุคุดุฑ ุชุฑุงุจุท ูุชุทุจูู ุญุฌู ูุงูุนู ูููููุฉ ุชุญููู ูุฐุง ุงูุชูุฑูุบ. <br><br>  ูู ุงูููุชุฑุถ ุฃู ุงููุงุฑุฆ ูุฏูู ูุนูููุงุช ุฃุณุงุณูุฉ ุญูู ุงูุจุฑูุฌุฉ ูุชุนุฏุฏุฉ ุงูุฎููุท ููู ุนูู ุฏุฑุงูุฉ ุจูุดููุงุช ุชุฒุงูู ุณูุณูุฉ ุงูุฑุณุงุฆู ูุงุณุชุฎุฏุงู ุงูููุงุฑุฏ ุงููุดุชุฑูุฉ.  ููุน ุฐูู ุ ูู ูููู ูู ุบูุฑ ุงูุถุฑูุฑู ุชุญุฏูุซ ุจุนุถ ุงููุตุทูุญุงุช ูุงูููุงููู ุงูุฃุณุงุณูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุงููุตุทูุญุงุช ุงูุฃุณุงุณูุฉ </h4><br>  ูููููุฉ ุงูุฃููู ุ ูุฏ ุชุจุฏู ููุงูุจ ุฎูุท ุฌุงูุง ูุซู "ุญุฑู ุตููู" ุ ูุงูููุงููู ุงูุชุงููุฉ ูู ุงูููุชุงุญ ูููููุง.  ุจุดูู ุนุงู ุ ุฏุนูุง ููุฑุฑ ุงููุตุทูุญุงุช ุงูุฃุณุงุณูุฉ ููุชุนุฏุฏูุฉ ุ ุงูุชู ุณูุณุชุฎุฏููุง ูุชุญููู ููุงูุจ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ูุคุดุฑ ุงูุชุฑุงุจุท ุฃู ูุคุดุฑ ุงูุชุฑุงุจุท ูู ูุญุฏุฉ ุชุนุฏุฏ ูุคุดุฑุงุช ูููุตูุฉ ูุชู ุฅุฏุงุฑุชูุง ุจูุงุณุทุฉ Java Virtual Machine (JVM).  ุชุชูุงูู ุณูุงุณู ุนูููุงุช JVM ูุน ุณูุงุณู ุงูุนูููุงุช ูู ูุธุงู ุงูุชุดุบูู - ุณูุงุณู ุงูุนูููุงุช ุงูุฃุตููุฉ ุ ุงูุชู ุชููู ุจุชูููุฐ ุขููุฉ ุชูููุฐ ุงูููุฏ. <br><br>  ูู ุฎูุท ูุฏูู ูุนุฑู ูุงุณู ูุฑูุฏ.  ูููู ุฃู ุชููู ุงูุฌุฏุงูู "ุดูุงุทูู" ู "ููุณุช ุดูุงุทูู". <br><br>  ููุชูู ุงูุจุฑูุงูุฌ ุนูุฏูุง ุชูุชูู ุฌููุน ุณูุงุณู <i>ุงูุฑุณุงุฆู</i> ุบูุฑ ุงูุฎููุฉ ุฃู ูุชู <i>ุงุณุชุฏุนุงุก</i> ุฃุณููุจ <i>Runtime.exit</i> .  "ุงูุดูุงุทูู" ุงูุนุงููุฉ ูุง ุชุคุซุฑ ุนูู ุฅููุงู ุงูุจุฑูุงูุฌ.  ุนูู ุณุจูู ุงููุซุงู  JVM ุชูุชุธุฑ ุงูุงูุชูุงุก ูู ุฌููุน "ุบูุฑ ุงูุดูุงุทูู" ูุฅุบูุงููุง ุ ููู ูุง ููุชุจููู ุฅูู "ุบูุฑ ุงูุดูุงุทูู". <br><br>  ููุฒูุฏ ูู ุงููุนูููุงุช ุ ุฑุงุฌุน ูุซุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฆุฉ</a> ูุคุดุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุฑุงุจุท</a> . <br>  ูุฏ ูููู ุงูุฏูู ูู ุฅุญุฏู ุงูุญุงูุงุช ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุฎูุท ุญู</strong> ุฃู "ูุจุงุดุฑ" - ุฎูุท ูููู ุจุจุนุถ ุงูุฃุนูุงู (ุงูุญุงูุฉ ุงูุทุจูุนูุฉ). </li><li style=";text-align:right;direction:rtl">  <strong>ูุคุดุฑ ุงูุชุฑุงุจุท ุงููุญุธูุฑ</strong> ุฃู "ุงููุญุธูุฑ" - ูุคุดุฑ ุชุฑุงุจุท ุญุงูู ุฅุฏุฎุงู ุงููุณู ุงููุชุฒุงูู (ูุชุฒุงูู) ุ ููู ูุคุดุฑ ุชุฑุงุจุท ุขุฎุฑ ุชููู ุจุงููุนู ูู ุฅุฏุฎุงู ูุฐุง ุงูุญุธุฑ ุฃููุงู ุ ููุชู ุญุธุฑ ูุงูุฉ ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงูุชุงููุฉ ุงูุชู ุชุญุงูู ุฅุฏุฎุงู ููุณ ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุชุธุงุฑ ูุคุดุฑ ุงูุชุฑุงุจุท</strong> ุฃู "ุงูุชุธุงุฑ" - ูุคุดุฑ ุชุฑุงุจุท ูุณูู ุฃุณููุจ <i>ุงูุงูุชุธุงุฑ</i> (ุฑุจูุง ูุน ุงูุชูุงุก ุงููููุฉ) ูููุชุธุฑ ุงูุขู ุทุฑููุฉ ุฃุฎุฑู ูุชูููุฐ <i>ุฅุนูุงู</i> ุฃู <i>nonifyAll</i> ุนูู ููุณ ุงููุงุฆู. <br><br>  ูุฑุฌู ููุงุญุธุฉ ุฃู ุณูุณูุฉ ุงููุญุงุฏุซุงุช ูุง ุชุนุชุจุฑ "ููุฏ ุงูุงูุชุธุงุฑ" ุฅุฐุง ูุงูุช ุชุณูู ุงูุงูุชุธุงุฑ ูุน ุงูุชูุงุก ุงููููุฉ ููุฏ ุงูุชูุช ุตูุงุญูุฉ ูุฐู ุงููููุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ุฎูุท ุงูููู</strong> ุฃู "ุงูููู" - ุฎูุท ููุณ ููุฏ ุงูุชุดุบูู ุญุงูููุง ุ ูุฃูู  ููุฐุช ุทุฑููุฉ Thread.sleep (ุชุดูุฑ ุฅูู ูุฏุฉ "ุงูููู"). </li></ul></li><li style=";text-align:right;direction:rtl">  <strong>ุฌูุงุฒ ุงููุฑุงูุจุฉ</strong> ุนุจุงุฑุฉ ุนู ุขููุฉ ูุณุชุฎุฏููุง JVM ูุชูููุฑ ูุตูู ูุชุนุฏุฏ ุงูุฎููุท ููุงุฆู ูุงุญุฏ.  ุชุจุฏุฃ ุงูุขููุฉ ุจุงุณุชุฎุฏุงู <i>ุงููููุฉ ุงูุฃุณุงุณูุฉ ุงููุชุฒุงููุฉ</i> ุงูุฎุงุตุฉ. <br><br>  ูุญุชูู ูู ูุงุฆู ูู Java ุนูู ุดุงุดุฉ ูููู ูุฒุงููุฉ ุงูุฎูุท ูุนูุง ุ ุฃู  ูู ุจุชุนููู ููู ุ ูุงูุฐู ูุถูู ุนุฏู ูุตูู ุฃู ูุคุดุฑ ุชุฑุงุจุท ุขุฎุฑ ุฅูู ูุฐุง ุงููุงุฆู ุญุชู ูุชู ุชุญุฑูุฑ ุงูููู ุ ุฃู  ุฎูุท - ูู ูุฎุฑุฌ ูุงูู ุงูููู ูู ุงููุชูุฉ <i>ุงููุชุฒุงููุฉ</i> . <br><br>  ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณู ุงูุชุฒุงูู (17.1) ูู ููุงุตูุงุช Java Langauge (JLS) ููุฒูุฏ ูู ุงููุนูููุงุช</a> . <br></li><li style=";text-align:right;direction:rtl">  ุญุงูุฉ ุชููู <strong>ุชุงู</strong> ูู ุญุงูุฉ ูููู ูููุง ูุคุดุฑ ุชุฑุงุจุท ุ ูุซู A ุ ุจุญุธุฑ ุฃุญุฏ ุงูููุงุฑุฏ ุ ููุญุชุงุฌ ุฅูู ููุฑุฏ ุขุฎุฑ ุชู ุญุธุฑู ุจูุงุณุทุฉ ูุคุดุฑ ุชุฑุงุจุท ุขุฎุฑ ุ ุนูู ุณุจูู ุงููุซุงู B. ูุง ูููู Stream B ุจุฅุตุฏุงุฑ ูุฐุง ุงูููุฑุฏ ุ ูุฃูู  ูุฅููุงู ุนูููุฉ ูุนููุฉ ุ ูุญุชุงุฌ ุฅูู ููุฑุฏ ุชู ุญุธุฑู ุจูุงุณุทุฉ ูุคุดุฑ ุงูุชุฑุงุจุท A. ูุชุจูู ุฃู ูุคุดุฑ ุงูุชุฑุงุจุท A ููุชุธุฑ ุฅูุบุงุก ุชุฃููู ุงูููุฑุฏ ุจูุงุณุทุฉ ูุคุดุฑ ุงูุชุฑุงุจุท B ุ ูุงูุฐู ููุชุธุฑ ุฃู ูุชู ูุชุญ ููุฑุฏ ุขุฎุฑ ุจูุงุณุทุฉ ูุคุดุฑ ุงูุชุฑุงุจุท A. ุ ูุจุงูุชุงูู ุ ูุฅู ุณูุงุณู ุงูุฑุณุงุฆู ูู ุงูุชุธุงุฑ ุจุนุถูุง ุงูุจุนุถ.  ููุชูุฌุฉ ูุฐูู ุ ูุชู ุชุนููู ุงูุจุฑูุงูุฌ ุจุงููุงูู ูุงูุชุธุงุฑ ุธููุฑ ุณูุงุณู ุงูุฑุณุงุฆู ุจุทุฑููุฉ ูุง ูุฅูุบุงุก ุงูููู ูุงูุงุณุชูุฑุงุฑ ูู ุงูุนูู.  ูููู ุฃู ูููู ููุงู ุงูุนุฏูุฏ ูู ุงูุฎููุท ูู ุทุฑูู ูุณุฏูุฏ.  ุชูุนุฑู ูุฐู ุงููุดููุฉ ุฌูุฏูุง ุจุงุณู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"ูุดููุฉ ุชูุงูู ุงูุทุนุงู ููููุงุณูุฉ"</a> . <br><br><img src="https://habrastorage.org/webt/8t/ll/jb/8tlljb_n-e80_dk_0uayobgil_s.png"><br></li><li style=";text-align:right;direction:rtl">  <strong>Livelock</strong> ูู ูุถุน ุญูุซ ููุฌุจุฑ ูุคุดุฑ ุงูุชุฑุงุจุท A ูุคุดุฑ ุงูุชุฑุงุจุท B ุนูู ุชูููุฐ ุจุนุถ ุงูุฅุฌุฑุงุกุงุช ุ ููุง ูุคุฏู ุจุฏูุฑู ุฅูู ูุคุดุฑ ุงูุชุฑุงุจุท A ูุชูููุฐ ุงูุฅุฌุฑุงุก ุงูุฃููู ุ ูุงูุฐู ูุชุณุจุจ ูุฑุฉ ุฃุฎุฑู ูู ุนูู ูุคุดุฑ ุงูุชุฑุงุจุท B.  ูููู ุชุฎูู ุฐูู ูููุจ ูุฑูุถ ุฎูู ุฐููู.  ุนูู ุบุฑุงุฑ <i>Deadlock</i> ุ ูู ุญุงูุฉ Livelock ุ ูุง ูุญุฑุฒ ุงูุจุฑูุงูุฌ ุฃู ุชูุฏู ุ ุฃู  ูุง ูููู ุจุฅุฌุฑุงุก ูููุฏ ุ ููุน ุฐูู ุ ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ูุชู ุญุธุฑ ูุคุดุฑุงุช ุงูุชุฑุงุจุท. <br></li></ul><br>  ุงููุตุทูุญุงุช ุงูููุฏูุฉ ููุณุช ุดุงููุฉ ููุตู ุนุงูู multithreading ุ ูููู ูุฐุง ูููู ูุจุฏุก ุชุญููู ููุงูุจ ุงูุฎูุท. <br><br>  ูููู ุงูุนุซูุฑ ุนูู ูุนูููุงุช ุฃูุซุฑ ุชูุตููุงู ูู ูุฐู ุงููุตุงุฏุฑ: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณู 17 ูู JLS</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌุงูุง ุงูุชุฒุงูู ูู ุงูููุงุฑุณุฉ</a> <br><br>  ุจุงุณุชุฎุฏุงู ูุฐู ุงูููุงููู ุงูุจุณูุทุฉ ุญูู ุงูุชุฏูู ูู Java ุ ูููููุง ุฅูุดุงุก ุชุทุจูู ุงุฎุชุจุงุฑ.  ููุฐุง ุงูุชุทุจูู ุณูู ูููู ุจุชุฑุฌูุฉ ุชูุฑูุบ ุงูุฎูุท.  ุณูููู ุจุชุญููู ุงูุชูุฑูุบ ุงููุงุชุฌ ูุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช ุงููููุฏุฉ ุญูู ุชุฏููุงุช ุงูุชุทุจูู ุงูุญุงููุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุจุฑูุงูุฌ ุนููุฉ </h4><br>  ูุจู ุฅูุดุงุก ุชูุฑูุบ ุณูุณูุฉ ุงููุญุงุฏุซุงุช ุ ูุญุชุงุฌ ุฅูู ุชุทููุฑ ุชุทุจูู Java.  ุงูุชูููุฏูุฉ "ูุฑุญุจุง ุ ุงูุนุงูู!"  ุจุณูุทุฉ ููุบุงูุฉ ูุบุฑุถูุง ุ ููุฏ ูููู ุชูุฑูุบ ุงูุชุทุจูู ูุชูุณุท โโุงูุญุฌู ูุนูุฏูุง ููุบุงูุฉ ุจุญูุซ ูุง ูููู ุฅุซุจุงุชู.  ุจูุงุกู ุนูู ุฐูู ุ ุณููุดุฆ ุชุทุจูููุง ุจุณูุทูุง ุฅูู ุญุฏ ูุง ูุชู ููู ุฅูุดุงุก ุฎูุทูู.  ูุชุตู ุงูุฎููุท ุฅูู ุทุฑูู ูุณุฏูุฏ: <br><br><pre style=";text-align:right;direction:rtl"><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DeadlockProgram</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ Object resourceA = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); Object resourceB = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); Thread threadLockingResourceAFirst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DeadlockRunnable(resourceA, resourceB)); Thread threadLockingResourceBFirst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DeadlockRunnable(resourceB, resourceA)); threadLockingResourceAFirst.start(); Thread.sleep(<span class="hljs-number"><span class="hljs-number">500</span></span>); threadLockingResourceBFirst.start(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DeadlockRunnable</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Runnable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object firstResource; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object secondResource; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeadlockRunnable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object firstResource, Object secondResource)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstResource = firstResource; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondResource = secondResource; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">synchronized</span></span>(firstResource) { printLockedResource(firstResource); Thread.sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">synchronized</span></span>(secondResource) { printLockedResource(secondResource); } } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException e) { System.out.println(<span class="hljs-string"><span class="hljs-string">"Exception occurred: "</span></span> + e); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printLockedResource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object resource)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(Thread.currentThread().getName() + <span class="hljs-string"><span class="hljs-string">": locked resource -&gt; "</span></span> + resource); } } }</code> </pre> <br>  ููุดุฆ ูุฐุง ุงูุจุฑูุงูุฌ ููุฑุฏูู: ResourceA ู ResourceB ุ ููุจุฏุฃ ุฎูุทูู: threadLockingResourceAFirst ู threadLockingResourceBFirst ุ ูุงูุชู ุชููุน ููุงุฑุฏ ุจุนุถูุง ุงูุจุนุถ. <br><br>  ุณุจุจ ุงูุฌููุฏ ูู "ุนุจุฑ" ุญุฌุจ ุงูููุงุฑุฏ ุนู ุทุฑูู ุงูููุงุถูุน. <br><br>  ุณุจุจ ุญุฏูุซ ุงูุฌููุฏ ูู ูุญุงููุฉ ุงูุงุณุชููุงุก ุนูู ุงูููุงุฑุฏ "ุจุดูู ูุชุจุงุฏู" ุ ุฃู  threadLockingResourceAFirst ููุชูุท ุงูููุฑุฏ ResourceA ุ threadLockingResourceBFirst ูุคุดุฑ ุชุฑุงุจุท ุงูููุงุฑุฏ B ุงูููุฑุฏ.  ุจุนุฏ ุฐูู ุ ูุญุงูู threadLockingResourceAFirst ุ ุฏูู ุชุญุฑูุฑ ููุฑุฏู ุ ุงูุชูุงุท ุงูููุงุฑุฏB ุ ููุญุงูู threadLockingResourceBFirst ุงูุชูุงุท ุงูููุฑุฏA.  ูุชูุฌุฉ ูุฐูู ุ ูุชู ุญุธุฑ ูุคุดุฑุงุช ุงูุชุฑุงุจุท.  ุชูุช ุฅุถุงูุฉ ุชุฃุฎูุฑ 1s ูุถูุงู ุงูุญุธุฑ.  ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุชูุชุธุฑ ุฅุตุฏุงุฑ ุงูููุงุฑุฏ ุงูุถุฑูุฑูุฉ ุ ูููู ูุฐุง ูู ูุญุฏุซ ุฃุจุฏูุง. <br><br>  ุณูููู ูุงุชุฌ ุงูุจุฑูุงูุฌ ุนูู ูุฐุง ุงููุญู (ุณุชููู ุงูุฃุฑูุงู ุจุนุฏ java.lang.Object @ ูุฎุชููุฉ ููู ุนูููุฉ ุฅุทูุงู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Thread-0</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">locked</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">resource</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Object</span></span>@<span class="hljs-keyword"><span class="hljs-keyword">149bc794</span></span> Thread-<span class="hljs-number"><span class="hljs-number">1</span></span>: locked resource -&gt; java.lang.Object@<span class="hljs-number"><span class="hljs-number">17</span></span>c10009</code> </pre> <br>  ุจุนุฏ ุฅุฎุฑุงุฌ ูุฐู ุงูุฑุณุงุฆู ุ ุณูุจุฏู ุงูุจุฑูุงูุฌ ููุฃูู ููุฏ ุงูุชุดุบูู (ูู ุชูุชูู ุนูููุฉ ุชูููุฐ ูุฐุง ุงูุจุฑูุงูุฌ) ุ ุจูููุง ูุง ูููู ุงูุจุฑูุงูุฌ ุจุฃู ุนูู.  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ูุจุฏู ูููุง ุงูุฌููุฏ ูู ุงูููุงุฑุณุฉ.  ูุญู ุงููุดููุฉ ุ ูุญุชุงุฌ ุฅูู ุฅูุดุงุก ุชูุฑูุบ ูุฏุงุณ ูุฏูููุง ูุชุญููู ุญุงูุฉ ุณูุงุณู ุงูุฑุณุงุฆู. <br><br><h4 style=";text-align:right;direction:rtl">  ุฌูู ุชูุฑูุบ ุงูุฎูุท </h4><br>  ูู ุงููุงุญูุฉ ุงูุนูููุฉ ุ ูุฏ ูุชูู ุจุฑูุงูุฌ Java ุฃุซูุงุก ุฅูุดุงุก ุชูุฑูุบ ูุคุดุฑ ุชุฑุงุจุท.  ููุน ุฐูู ุ ูู ุจุนุถ ุงูุญุงูุงุช (ุนูู ุณุจูู ุงููุซุงู ุ ูู ุญุงูุฉ ุงูุฌููุฏ) ุ ูุง ููุชูู ุงูุจุฑูุงูุฌ ููุง ูุชู ุฅูุดุงุก ุชูุฑูุบ ูุคุดุฑ ุงูุชุฑุงุจุท ุ ูุชู ุชุนูููู ููุท.  ูุฅูุดุงุก ุชูุฑูุบ ููุฐู ุงูุจุฑุงูุฌ ุงููุนููุฉ ุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ูุนุฑูุฉ ูุนุฑู ุนูููุฉ ุงูุจุฑูุงูุฌ ุ ุฃู  ูุนุฑู ุงูุนูููุฉ (PID).  ููููุงู ุจุฐูู ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ JVM Process Status (JPS) ุ ูุงูุชู ุ ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 7 ุ ูู ุฌุฒุก ูู Java Development Kit (JDK).  ููุนุซูุฑ ุนูู ุนูููุฉ PID ูุจุฑูุงูุฌูุง ุงููุนูู ุ ูููู ุจุจุณุงุทุฉ ุจุชูููุฐ jps ูู ุงูุทุฑููุฉ (Windows ุฃู Linux): <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs ruby">$ jps <span class="hljs-number"><span class="hljs-number">11568</span></span> DeadlockProgram <span class="hljs-number"><span class="hljs-number">15584</span></span> Jps <span class="hljs-number"><span class="hljs-number">15636</span></span></code> </pre> <br>  ุงูุนููุฏ ุงูุฃูู ูู ูุนุฑู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุงููุญูู (ูุนุฑู ุงูุฌูุงุฒ ุงูุธุงูุฑู ุงููุญูู ุ ุฃู lvmid) ูุนูููุฉ Java ููุฏ ุงูุชุดุบูู.  ูู ุณูุงู JVM ุงููุญูู ุ ูุดูุฑ lvmid ุฅูู PID ูุนูููุฉ Java. <br><br>  ูุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ูุฐู ุงููููุฉ ูู ุงููุญุชูู ุฃู ุชุฎุชูู ุนู ุงููููุฉ ุงููุฐููุฑุฉ ุฃุนูุงู.  ุงูุนููุฏ ุงูุซุงูู ูู ุงุณู ุงูุชุทุจูู ุ ูุงูุฐู ูููู ุฃู ูุดูุฑ ุฅูู ุงุณู ุงููุฆุฉ ุงูุฑุฆูุณูุฉ ุฃู ููู jar ุฃู ูุณุงูู "Unknown".  ูู ูุฐุง ูุชููู ุนูู ููููุฉ ุชุดุบูู ุงูุชุทุจูู. <br><br>  ูู ุญุงูุชูุง ุ ุงุณู ุงูุชุทุจูู DeadlockProgram ูู ุงุณู ุงููุฆุงุช ุงูุฑุฆูุณูุฉ ุงูุชู ุชู ุฅุทูุงููุง ุนูุฏ ุจุฏุก ุงูุจุฑูุงูุฌ.  ูู ุงููุซุงู ุฃุนูุงู PID ูู ุงูุจุฑูุงูุฌ 11568 ุ ูุฐู ุงููุนูููุงุช ูุงููุฉ ูุฅูุดุงุก ุชูุฑูุบ ูุคุดุฑ ุชุฑุงุจุท.  ูุฅูุดุงุก ุงูุชูุฑูุบ ุ <strong>ุณูุณุชุฎุฏู</strong> ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <strong>jstack</strong> ุ ูุงูุชู ุชุนุฏ ุฌุฒุกูุง ูู JDK ุ ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 7. ููุญุตูู ุนูู ุงูุชูุฑูุบ ุ ุณูููู <strong>ุจุชูุฑูุฑ</strong> PID ูู ุจุฑูุงูุฌูุง ุฅูู <strong>jstack</strong> ูุชุญุฏูุฏ ุนูุงูุฉ <strong>ll</strong> (ุฅูุดุงุก ูุงุฆูุฉ ุทูููุฉ).  ุณูุชู ุฅุนุงุฏุฉ ุชูุฌูู ุฅุฎุฑุงุฌ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุฅูู ููู ูุตู ุ ุฃู  thread_dump.txt: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">jstack</span></span> -l <span class="hljs-number"><span class="hljs-number">11568</span></span> &gt; thread_dump.txt</code> </pre> <br>  ูุญุชูู ููู thread_dump.txt ุงููุงุชุฌ ุนูู ุชูุฑูุบ ูุคุดุฑ ุงูุชุฑุงุจุท ูุจุฑูุงูุฌูุง ุงููุนูู ููุญุชูู ุนูู ูุนูููุงุช ูููุฉ ูุชุดุฎูุต ุฃุณุจุงุจ ุญุงูุฉ ุงูุฌููุฏ. <br><br>  ุฅุฐุง ุชู ุงุณุชุฎุฏุงู JDK ุญุชู ุงูุฅุตุฏุงุฑ 7 ุ ูุนูุฏุฆุฐู ูุฅูุดุงุก ููู ุชูุฑูุบ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ Linux - <strong>ูุชู</strong> ุจุงุณุชุฎุฏุงู ุนูุงูุฉ -3.  ุณูุคุฏู ุงูุงุชุตุงู ุจูุชู -3 ุฅูู ุฅุฑุณุงู ุงูุจุฑูุงูุฌ ุฅุดุงุฑุฉ SIGQUIT. <br><br>  ูู ุญุงูุชูุง ุ ุณุชููู ุงูููุงููุฉ ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">kill</span></span> <span class="hljs-number"><span class="hljs-number">-3</span></span> <span class="hljs-number"><span class="hljs-number">11568</span></span></code> </pre> <br><h4 style=";text-align:right;direction:rtl">  ุชุญููู ุชูุฑูุบ ููุถูุน ุจุณูุท </h4><br>  ุนูุฏ ูุชุญ ููู thread_dump.txt ุ ุณูุฑู ุดูุฆูุง ูุซู ูุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> 2018-06-19 16:44:44
 ุชูุฑูุบ ูุคุดุฑ ุชุฑุงุจุท ูุงูู Java HotSpot (TM) 64-bit Server VM (10.0.1 + 10 ูุถุน ูุฎุชูุท):
 ููุงุถูุน SMR ูุฆุฉ ุงูููุงุถูุน:
 _java_thread_list = 0x00000250e5488a00 ุ ุงูุทูู = 13 ุ ุงูุนูุงุตุฑ = {
 0x00000250e4979000 ุ 0x00000250e4982800 ุ 0x00000250e52f2800 ุ 0x00000250e4992800 ุ
 0x00000250e4995800 ุ 0x00000250e49a5800 ุ 0x00000250e49ae800 ุ 0x00000250e5324000 ุ
 0x00000250e54cd800 ุ 0x00000250e54cf000 ุ 0x00000250e54d1800 ุ 0x00000250e54d2000 ุ
 0x00000250e54d0800
 }}
 "ูุนุงูุฌ ูุฑุฌุนู" # 2 daemon prio = 10 os_prio = 2 tid = 0x00000250e4979000 nid = 0x3c28 ูู ุญุงูุฉ ุงูุงูุชุธุงุฑ [0x000000b82a9ff000]
    java.lang.Thread.State: RUNNABLE
     ุนูู java.lang.ref.Reference.waitForReferencePendingList (java.base@10.0.1/ ุงูุทุฑููุฉ ุงูุฃุตููุฉ)
     ุนูู java.lang.ref.Reference.processPendingReferences (java.base@10.0.1/Reference.java: 174)
     ุนูู java.lang.ref.Reference.access $ 000 (java.base@10.0.1/Reference.java: 44)
     ุนูู java.lang.ref.Reference $ ReferenceHandler.run (java.base@10.0.1/Reference.java: 138)
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "Finalizer" # 3 daemon prio = 8 os_prio = 1 tid = 0x00000250e4982800 nid = 0x2a54 ูู Object.wait () [0x000000b82aaff000]
    java.lang.Thread.State: WAITING (on object monitor)
     ุนูู java.lang.Object.wait (java.base@10.0.1/ ุงูุทุฑููุฉ ุงูุฃุตููุฉ)
     - ุงูุงูุชุธุงุฑ ุนูู &lt;0x0000000089509410&gt; (a java.lang.ref.ReferenceQueue $ Lock)
     ุนูู java.lang.ref.ReferenceQueue.remove (java.base@10.0.1/ReferenceQueue.java: 151)
     - ูู ุงูุชุธุงุฑ ุฅุนุงุฏุฉ ุงูููู ุฃุซูุงุก ุงูุงูุชุธุงุฑ () &lt;0x0000000089509410&gt; (a java.lang.ref.ReferenceQueue $ Lock)
     ุนูู java.lang.ref.ReferenceQueue.remove (java.base@10.0.1/ReferenceQueue.java: 172)
     ุนูู java.lang.ref.Finalizer $ FinalizerThread.run (java.base@10.0.1/Finalizer.java: 216)
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "ูุฑุณู ุงูุฅุดุงุฑุฉ" # 4 ุงูุจุฑูุงูุฌ ุงูุฎูู = 9 os_prio = 2 tid = 0x00000250e52f2800 nid = 0x2184 ูุงุจู ููุชุดุบูู [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "Attach Listener" # 5 daemon prio = 5 os_prio = 2 tid = 0x00000250e4992800 nid = 0x1624 ุงูุชุธุงุฑ ุดุฑุท [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "C2 CompilerThread0" # 6 daemon prio = 9 os_prio = 2 tid = 0x00000250e4995800 nid = 0x4198 ููุฏ ุงูุงูุชุธุงุฑ [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ูุง ุชูุฌุฏ ูููุฉ ุชุฑุฌูุฉ
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "C2 CompilerThread1" # 7 daemon prio = 9 os_prio = 2 tid = 0x00000250e49a5800 nid = 0x3b98 ููุฏ ุงูุงูุชุธุงุฑ [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ูุง ุชูุฌุฏ ูููุฉ ุชุฑุฌูุฉ
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "C1 CompilerThread2" # 8 daemon prio = 9 os_prio = 2 tid = 0x00000250e49ae800 nid = 0x1a84 ููุฏ ุงูุงูุชุธุงุฑ [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ูุง ุชูุฌุฏ ูููุฉ ุชุฑุฌูุฉ
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "Sweeper thread" # 9 daemon prio = 9 os_prio = 2 tid = 0x00000250e5324000 nid = 0x5f0 ูุงุจู ููุชุดุบูู [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "Service Thread" # 10 daemon prio = 9 os_prio = 0 tid = 0x00000250e54cd800 nid = 0x169c ูุงุจู ููุชุดุบูู [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "Common-Cleaner" # 11 daemon prio = 8 os_prio = 1 tid = 0x00000250e54cf000 nid = 0x1610 ูู Object.wait () [0x000000b82b2fe000]
    java.lang.Thread.State: TIMED_WAITING (ุนูู ูุฑุงูุจุฉ ุงููุงุฆู)
     ุนูู java.lang.Object.wait (java.base@10.0.1/ ุงูุทุฑููุฉ ุงูุฃุตููุฉ)
     - ุงูุงูุชุธุงุฑ ุนูู &lt;0x000000008943e600&gt; (a java.lang.ref.ReferenceQueue $ Lock)
     ุนูู java.lang.ref.ReferenceQueue.remove (java.base@10.0.1/ReferenceQueue.java: 151)
     - ูู ุงูุชุธุงุฑ ุฅุนุงุฏุฉ ุงูููู ุฃุซูุงุก ุงูุงูุชุธุงุฑ () &lt;0x000000008943e600&gt; (a java.lang.ref.ReferenceQueue $ Lock)
     ุนูู jdk.internal.ref.CleanerImpl.run (java.base@10.0.1/CleanerImpl.java: 148)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
     ุนูู jdk.internal.misc.InnocuousThread.run (java.base@10.0.1/InnocuousThread.java: 134)
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "Thread-0" # 12 prio = 5 os_prio = 0 tid = 0x00000250e54d1800 nid = 0xdec ุงูุชุธุงุฑ ุฅุฏุฎุงู ุงูุดุงุดุฉ [0x000000b82b4ff000]
    java.lang.Thread.State: BLOCKED (ุนูู ูุฑุงูุจุฉ ุงููุงุฆู)
     ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)
     - ูู ุงูุชุธุงุฑ ููู &lt;0x00000000894465b0&gt; (ูุงุฆู java.lang.Object)
     - ูููู &lt;0x00000000894465a0&gt; (a java.lang.Object)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "Thread-1" # 13 prio = 5 os_prio = 0 tid = 0x00000250e54d2000 nid = 0x415c ุงูุชุธุงุฑ ุฅุฏุฎุงู ุงูุดุงุดุฉ [0x000000b82b5ff000]
    java.lang.Thread.State: BLOCKED (ุนูู ูุฑุงูุจุฉ ุงููุงุฆู)
     ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)
     - ูู ุงูุชุธุงุฑ ููู &lt;0x00000000894465a0&gt; (ูุงุฆู java.lang.Object)
     - ูุคูู &lt;0x00000000894465b0&gt; (a java.lang.Object)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "DestroyJavaVM" # 14 prio = 5 os_prio = 0 tid = 0x00000250e54d0800 nid = 0x2b8c ูู ุญุงูุฉ ุงูุงูุชุธุงุฑ [0x0000000000000000]
    java.lang.Thread.State: RUNNABLE
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
 "VM Thread" os_prio = 2 tid = 0x00000250e496d800 nid = 0x1920 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35b5800 nid = 0x310c ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35b8000 nid = 0x12b4 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35ba800 nid = 0x43f8 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35c0800 nid = 0x20c0 ูุงุจู ููุชุดุบูู  
 "G1 Main Marker" os_prio = 2 tid = 0x00000250c3633000 nid = 0x4068 ูุงุจู ููุชุดุบูู  
 "G1 Conc # 0" os_prio = 2 tid = 0x00000250c3636000 nid = 0x3e28 ูุงุจู ููุชุดุบูู  
 "G1 Refine # 0" os_prio = 2 tid = 0x00000250c367e000 nid = 0x3c0c ูุงุจู ููุชุดุบูู  
 "G1 Refine # 1" os_prio = 2 tid = 0x00000250e47fb800 nid = 0x3890 ูุงุจู ููุชุดุบูู  
 "G1 Refine # 2" os_prio = 2 tid = 0x00000250e47fc000 nid = 0x32a8 ูุงุจู ููุชุดุบูู  
 "G1 Refine # 3" os_prio = 2 tid = 0x00000250e47fd800 nid = 0x3d00 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250e4800800 nid = 0xef4 ูุงุจู ููุชุดุบูู  
 "VM Periodic Task Thread" os_prio = 2 tid = 0x00000250e54d6800 nid = 0x3468 ููุฏ ุงูุงูุชุธุงุฑ  
 ุงููุฑุงุฌุน ุงูุนุงูููุฉ ูู JNI: 2
 ุงูุนุซูุฑ ุนูู ุทุฑูู ูุณุฏูุฏ ุนูู ูุณุชูู ุฌุงูุง:
 ===============================
 "ูุคุดุฑ ุชุฑุงุจุท 0":
   ูู ุงูุชุธุงุฑ ููู ุงูุดุงุดุฉ 0x00000250e4982480 (ุงููุงุฆู 0x00000000894465b0 ุ java.lang.Object) ุ
   ุงูุฐู ุนูุฏู "Thread-1"
 "ุงูุฎูุท 1":
   ูู ุงูุชุธุงุฑ ููู ุงูุดุงุดุฉ 0x00000250e4982380 (ุงููุงุฆู 0x00000000894465a0 ุ a java.lang.Object) ุ
   ุงูุฐู ุนูุฏู "Thread-0"
 ูุนูููุงุช ููุฏุณ Java ููุฎููุท ุงููุฐููุฑุฉ ุฃุนูุงู:
 =================================================== =
 "ูุคุดุฑ ุชุฑุงุจุท 0":
     ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)
     - ูู ุงูุชุธุงุฑ ููู &lt;0x00000000894465b0&gt; (ูุงุฆู java.lang.Object)
     - ูููู &lt;0x00000000894465a0&gt; (a java.lang.Object)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
 "ุงูุฎูุท 1":
     ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)
     - ูู ุงูุชุธุงุฑ ููู &lt;0x00000000894465a0&gt; (ูุงุฆู java.lang.Object)
     - ูุคูู &lt;0x00000000894465b0&gt; (a java.lang.Object)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
 ุชู ุงูุนุซูุฑ ุนูู ุญุงูุฉ ุชููู ุชุงู 1.
</pre><br><h3 style=";text-align:right;direction:rtl">  ูุนูููุงุช ุชูููุฏูุฉ </h3><br>  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุงูููู ูุฏ ูุจุฏู ูููููุฉ ุงูุฃููู ูุนูุฏูุง ููุฑุจููุง ููุบุงูุฉ ุ ุฅูุง ุฃูู ูู ุงููุงูุน ุจุณูุท ููุบุงูุฉ ุฅุฐุง ููุช ุจููู ูู ุฃุฌุฒุงุก ุฎุทูุฉ ุจุฎุทูุฉ. <br><br>  ูุดูุฑ ุงูุณุทุฑ ุงูุฃูู ุฅูู ุงูููุช ุงูุฐู ุชู ููู ุชุดููู ุงูุชูุฑูุบ ุ ูุงูุซุงูู - ูุนูููุงุช ุชุดุฎูุตูุฉ ุนู JVM ุ ุญูุซ ุชู ุชููู ุงูุชูุฑูุบ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="hljs css">2018<span class="hljs-selector-tag"><span class="hljs-selector-tag">-06-19</span></span> 16<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:44</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:44</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Full</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">thread</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">dump</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Java</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">HotSpot</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">TM</span></span>) 64<span class="hljs-selector-tag"><span class="hljs-selector-tag">-Bit</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Server</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">VM</span></span> (10<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span>+10 <span class="hljs-selector-tag"><span class="hljs-selector-tag">mixed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">mode</span></span>):</code> </pre> <br>  ูุง ุชูุฌุฏ ูุนูููุงุช ุชุฏูู ูู ูุฐุง ุงููุณู.  ููุง ูุชู ุชุนููู ุงูุณูุงู ุงูุนุงู ูููุธุงู ุงูุฐู ุชู ููู ุชุฌููุน ุงูุชูุฑูุบ. <br><br><h4 style=";text-align:right;direction:rtl">  ูุนูููุงุช ุงูุชุฏูู ุงูุนุงู </h4><br>  ูููุฑ ุงููุณู ุงูุชุงูู ูุนูููุงุช ุญูู ุณูุงุณู ุงูุนูููุงุช ุงูุชู ูุงูุช ุชุนูู ูู ุงููุธุงู ูู ููุช ุฌูุน ุงูุชูุฑูุบ: <br><br><pre style=";text-align:right;direction:rtl"> ููุงุถูุน SMR ูุฆุฉ ุงูููุงุถูุน:
 _java_thread_list = 0x00000250e5488a00 ุ ุงูุทูู = 13 ุ ุงูุนูุงุตุฑ = {
 0x00000250e4979000 ุ 0x00000250e4982800 ุ 0x00000250e52f2800 ุ 0x00000250e4992800 ุ
 0x00000250e4995800 ุ 0x00000250e49a5800 ุ 0x00000250e49ae800 ุ 0x00000250e5324000 ุ
 0x00000250e54cd800 ุ 0x00000250e54cf000 ุ 0x00000250e54d1800 ุ 0x00000250e54d2000 ุ
 0x00000250e54d0800
 }}
</pre><br>  ูุณุฑุฏ ุงููุณู ุงูุชุงูู: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนูููุงุช ุงุณุชุนุงุฏุฉ ุงูุฐุงูุฑุฉ ุงูุขููุฉ (SMR)</a> <br><br>  ูุญุชูู ุนูู ูุนูููุงุช ุญูู ุณูุงุณู ุงูุฑุณุงุฆู ุฎุงุฑุฌ JVM ุ ุฃู  ูุฐู ููุณุช ุฎููุท ุงูุฌูุงุฒ ุงูุธุงูุฑู ุฃู ุฎููุท ุฌูุน ุงูููุงูุฉ.  ุฅุฐุง ูุธุฑุช ุฅูู ุนูุงููู ูุฐู ุงูููุงุถูุน ุ ูุณุชูุงุญุธ ุฃููุง ุชุชูุงูู ูุน ูููุฉ <i>tid</i> - ุงูุนููุงู "ุงูุทุจูุนู ุ ูุงูุญุฏูุฏู" (ุงูุฃุตูู) ูู ูุธุงู ุงูุชุดุบูู ุ ูููุณ ูุนุฑู ูุคุดุฑ ุงูุชุฑุงุจุท. <br><br>  ุชูุณุชุฎุฏู ุนูุงูุงุช ุงูุญุฐู ูุฅุฎูุงุก ุงููุนูููุงุช ุงูุฒุงุฆุฏุฉ: <br><br><pre style=";text-align:right;direction:rtl"> "ูุนุงูุฌ ูุฑุฌุนู" # 2 ... tid = 0x00000250e4979000 ...
 "Finalizer" # 3 ... tid = 0x00000250e4982800 ...
 "ูุฑุณู ุงูุฅุดุงุฑุฉ" # 4 ... tid = 0x00000250e52f2800 ...
 "ุฅุฑูุงู ูุณุชูุน" # 5 ... tid = 0x00000250e4992800 ...
 "C2 CompilerThread0" # 6 ... tid = 0x00000250e4995800 ...
 "C2 CompilerThread1" # 7 ... tid = 0x00000250e49a5800 ...
 "C1 CompilerThread2" # 8 ... tid = 0x00000250e49ae800 ...
 "ูุคุดุฑ ุชุฑุงุจุท ุงููุงุณุญ" # 9 ... tid = 0x00000250e5324000 ...
 "ูุคุดุฑ ุชุฑุงุจุท ุงูุฎุฏูุฉ" # 10 ... tid = 0x00000250e54cd800 ...
 "Common-Cleaner" # 11 ... tid = 0x00000250e54cf000 ...
 "Thread-0" # 12 ... tid = 0x00000250e54d1800 ...
 "Thread-1" # 13 ... tid = 0x00000250e54d2000 ...
 "DestroyJavaVM" # 14 ... tid = 0x00000250e54d0800 ...
</pre><br><h3 style=";text-align:right;direction:rtl">  ุชูุงุฑุงุช </h3><br>  ูุจุงุดุฑุฉ ุจุนุฏ ูุชูุฉ SMR ูุงุฆูุฉ ุงูููุงุถูุน.  ุงูุฎูุท ุงูุฃูู ูู ูุงุฆูุชูุง ูู ูุนุงูุฌ ุงููุฑุฌุน: <br><br><pre style=";text-align:right;direction:rtl"> "ูุนุงูุฌ ูุฑุฌุนู" # 2 daemon prio = 10 os_prio = 2 tid = 0x00000250e4979000 nid = 0x3c28 ูู ุญุงูุฉ ุงูุงูุชุธุงุฑ [0x000000b82a9ff000]
    java.lang.Thread.State: RUNNABLE
     ุนูู java.lang.ref.Reference.waitForReferencePendingList (java.base@10.0.1/ ุงูุทุฑููุฉ ุงูุฃุตููุฉ)
     ุนูู java.lang.ref.Reference.processPendingReferences (java.base@10.0.1/Reference.java: 174)
     ุนูู java.lang.ref.Reference.access $ 000 (java.base@10.0.1/Reference.java: 44)
     ุนูู java.lang.ref.Reference $ ReferenceHandler.run (java.base@10.0.1/Reference.java: 138)
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
</pre><br><h4 style=";text-align:right;direction:rtl">  ูุตู ููุฌุฒ ููุชูุงุฑ </h4><br>  ูููุฑ ุงูุณุทุฑ ุงูุฃูู ููู ุฎูุท ูุตููุง ุนุงููุง.  ูุญุชูู ุงููุตู ุนูู ุงูุนูุงุตุฑ ุงูุชุงููุฉ: <br><table style=";text-align:right;direction:rtl"><tbody><tr><th width="70">  ุงููุณู </th><th width="100">  ูุซุงู </th><th>  ุงููุตู </th></tr><tr><td>  ุงูุงุณู </td><td>  "ูุนุงูุฌ ุงููุฑุฌุน" </td><td>  ุงุณู ุฏูู ูุงุจู ูููุฑุงุกุฉ ุงูุจุดุฑูุฉ.  ูููู ุชุญุฏูุฏ ุงูุงุณู ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุทุฑููุฉ <i>setName</i> ููุงุฆู <i>Thread</i> .  <i>ูุชููู</i> ููุงููุฉ ุนุจุฑ <i>getName</i> </td></tr><tr><td>  ID </td><td>  # 2 </td><td>  ูุนุฑู ูุฑูุฏ ูุชู ุชุนูููู ููู ูุงุฆู ูู ูุฆุฉ ุณูุณูุฉ ุงูุนูููุงุช.  ูุชู ุฅูุดุงุก ูุนุฑู ููุคุดุฑุงุช ุงูุชุฑุงุจุท ูู ุงููุธุงู.  ุงููููุฉ ุงูุฃูููุฉ ูู 1. ูุชู ุชุนููู ูุนุฑูู ุฎุงุต ููู ูุคุดุฑ ุชุฑุงุจุท ุชู ุฅูุดุงุคู ุญุฏูุซูุง ุ ููุฏ ุชู ุฒูุงุฏุชู ูุณุจููุง ุจููุฏุงุฑ 1. ูููู ุงูุญุตูู ุนูู ุฎุงุตูุฉ ูุคุดุฑ ุงูุชุฑุงุจุท ูููุฑุงุกุฉ ููุท ุจุงุณุชุฎุฏุงู ูุธููุฉ <i>getId</i> ููุงุฆู ูู ูุฆุฉ ูุคุดุฑ <i>ุงูุชุฑุงุจุท</i> . </td></tr><tr><td>  ุญุงูุฉ ุงูุดูุทุงู </td><td>  ุงูุดูุทุงู </td><td>  ุงูุนูู ูู ุนูุงูุฉ ุนูู ุฃู ุงูุฎูุท ุดูุทุงู.  ุฅุฐุง ูุงู ุดูุทุงููุง ุ ูุณูุชู ุชุนููู ุงูุนูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุคุดุฑ ุงูุชุฑุงุจุท <i>-0</i> ููุณ ุฎูููุง. </td></tr><tr><td>  ุงูุฃููููุฉ </td><td>  prio = 10 </td><td>  ุงูุฃููููุฉ ุงูุนุฏุฏูุฉ ูุชูุงุฑ Java.  ูุงุญุธ ุฃู ูุฐู ุงูุฃููููุฉ ูุง ุชุชูุงูู ุจุงูุถุฑูุฑุฉ ูุน ุฃููููุฉ ูุคุดุฑ ุงูุชุฑุงุจุท ุงููุฑุชุจุท ูู ูุธุงู ุงูุชุดุบูู.  ูุชุนููู ุงูุฃููููุฉ ุ ููููู <br>  ุงุณุชุฎุฏู ุทุฑููุฉ <i>setPriority ููุงุฆู</i> ูู <i>ุณูุณูุฉ</i> <i>Thread</i> ุ <i>ูููุญุตูู</i> ุนูู <br>  ุทุฑููุฉ <i>getPriority</i> . </td></tr><tr><td>  ุฃููููุฉ ูุคุดุฑ ุชุฑุงุจุท ูุธุงู ุงูุชุดุบูู </td><td>  os_prio = 2 </td><td>  ูุคุดุฑ ุชุฑุงุจุท ุฐู ุฃููููุฉ ูู ูุธุงู ุงูุชุดุบูู.  ูุฏ ุชุฎุชูู ูุฐู ุงูุฃููููุฉ ุนู ุชูู ุงููุนููุฉ ููุคุดุฑ ุชุฑุงุจุท Java ุงููุฑุชุจุท. </td></tr><tr><td>  ุงูุนููุงู </td><td>  ุชูุฏ = 0x00000250e4979000 </td><td>  ุนููุงู ุฏูู ุฌุงูุง.  ูุฐุง ุงูุนููุงู ูู ูุคุดุฑ ูููุงุฆู ุงูุฃุตูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Java Native Interface (JNI)</a> ููุฆุฉ <i>Thread</i> (ูุงุฆู ุณูุณูุฉ C ++ ูุชุตู ุจุณูุณูุฉ ุฑุณุงุฆู Java ุนุจุฑ JNI).  ูุชู ุงูุญุตูู ุนูู ูุฐู ุงููููุฉ ุนู ุทุฑูู ุตุจ ูุคุดุฑ ููุฐุง <br>  (ูุงุฆู C ++ ุงููุฑุชุจุท ุจุณูุณูุฉ ุฑุณุงุฆู Java ูุฐู) ุฅูู ุนุฏุฏ ุตุญูุญ.  ุงูุธุฑ <br>  <a href="">ุงูุณุทุฑ 879 ูู ููุทุฉ ุงูุงุชุตุงู / ุงููุดุงุฑูุฉ / ููุช ุงูุชุดุบูู / thread.cpp</a> : <br><pre style=";text-align:right;direction:rtl"> st-&gt; print ("tid =" INTPTR_FORMAT ""ุ p2i (this)) ุ
</pre><br>  ุนูู ุงูุฑุบู ูู ุฃู ุงูููุชุงุญ ููุฐุง ุงููุงุฆู ( <i>tid</i> ) ูุฏ ูุจุฏู ูุซู ูุนุฑู ุงูุฏูู ุ <br>  ูู ุงููุงูุน ุ ูุฐุง ูู ุนููุงู ูุงุฆู ูุชุตู <i>JNI C ++ Thread</i> ุ ููุฐู ููุณุช ุงููููุฉ ุงูุชู <br>  ุฅุฑุฌุงุน ุทุฑููุฉ <i>getId</i> <i>ููุคุดุฑ ุชุฑุงุจุท</i> Java. </td></tr><tr><td>  ูุนุฑู ูุคุดุฑ ุชุฑุงุจุท ูุธุงู ุงูุชุดุบูู </td><td>  nid = 0x3c28 </td><td>  ุงููุนุฑู ุงููุฑูุฏ ููุคุดุฑ ุชุฑุงุจุท ูุธุงู ุงูุชุดุบูู ุงูุฐู ูุฑุชุจุท ุจู ูุคุดุฑ ุชุฑุงุจุท Java. <br>  ูุชู ุฅุฎุฑุงุฌ ูุฐู ุงููููุฉ ูุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ: <br>  <a href="">ุงูุณุทุฑ 42 ูู ููุทุฉ ุงูุงุชุตุงู / ุงููุดุงุฑูุฉ / ููุช ุงูุชุดุบูู / osThread.cpp</a> : <br><pre style=";text-align:right;direction:rtl"> st-&gt; print ("nid = 0xูช x"ุ thread_id ())ุ
</pre><br></td></tr><tr><td>  ุงูุญุงูุฉ </td><td>  ุงูุงูุชุธุงุฑ ุจุดุฑุท </td><td>  ุญุงูุฉ ุงูุฅูุณุงู ุงูููุฑูุก ููุฎูุท ุงูุญุงูู. <br>  ูุนุฑุถ ูุฐุง ุงูุณุทุฑ ูุนูููุงุช ุฅุถุงููุฉ ุนู ุงูุญุงูุฉ ุงูุจุณูุทุฉ ููุฏูู (ุงูุธุฑ ุฃุฏูุงู) ุ ูุงูุชู ูููู ุฃู ุชููู <br>  ุชุณุชุฎุฏู ูููู ูุง ุงูุฐู ุณุชูุนูู ุณูุณูุฉ ุงููุญุงุฏุซุงุช (ุฃู ูุง ุฅุฐุง ูุงูุช ุณูุณูุฉ ุงูุฑุณุงุฆู ุชุญุงูู ุงูุญุตูู ุนูู ููู <br>  ุฃู ุงูุชุธุงุฑ ุงูููุงุก ุจุดุฑุท ุฅูุบุงุก ุงูููู). </td></tr><tr><td>  ุขุฎุฑ ูุคุดุฑ Java ููุฏุณ ูุนุฑูู </td><td>  [0x000000b82a9ff000] </td><td>  ุขุฎุฑ ูุคุดุฑ ููุฏุณ ูุนุฑูู ูุฑุชุจุท ุจูุฐุง ุงูุฏูู. <br>  ูุชู ุงูุญุตูู ุนูู ูุฐู ุงููููุฉ ุจุงุณุชุฎุฏุงู ููุฏ C ++ ุงูุฃุตูู ุงูููุฒูุฌ ุจุฑูุฒ Java ุจุงุณุชุฎุฏุงู JNI.  ูุชู ุฅุฑุฌุงุน ุงููููุฉ ุจูุงุณุทุฉ ุงูุฏุงูุฉ <i>last_Java_sp ()</i> ุ <br>  <a href="">ุณุทุฑ 2886 ูู ููุทุฉ ุงูุงุชุตุงู / ุงููุดุงุฑูุฉ / ููุช ุงูุชุดุบูู / thread.cpp</a> : <br><pre style=";text-align:right;direction:rtl">   st-&gt; print_cr ("[" INTPTR_FORMAT "]" ุ 
     (intptr_t) last_Java_sp () &amp; ~ right_n_bits (12)) ุ
</pre><br>  ุจุงููุณุจุฉ ุฅูู ููุงูุจ ุงูุฎูุท ุงูุจุณูุทุฉ ุ ุชููู ูุฐู ุงููุนูููุงุช ุนุฏููุฉ ุงููุงุฆุฏุฉ ุชูุฑูุจูุง.  ููุน ุฐูู ุ ูู ุงูุญุงูุงุช ุงููุนูุฏุฉ ุ ูุฏ SP <br>  ูููู ุงุณุชุฎุฏุงููุง ูุชุชุจุน ุงูุฃููุงู. </td></tr></tbody></table><br><h4 style=";text-align:right;direction:rtl">  ุญุงูุฉ ุงูุฏูู </h4><br>  ุงูุณุทุฑ ุงูุซุงูู ูู ุงูุญุงูุฉ ุงูุญุงููุฉ ููุชูุงุฑ.  ูุชู ุณุฑุฏ ุญุงูุงุช ุงูุฏูู ุงููุญุชููุฉ ูู ุงูุชุนุฏุงุฏ: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงูููุถูุน.</a> <br><br>  ุฌุฏูุฏ <br>  RUNNABLE <br>  ูุญุธูุฑ <br>  ุงูุชุธุงุฑ <br>  TIMED_WAITING <br>  ุฃููู <br><br>  ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงููุซุงุฆู</a> ููุฒูุฏ ูู ุงูุชูุงุตูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุชุชุจุน ููุฏุณ ุงูุตูุญุงุช </h4><br>  ูุญุชูู ุงููุณู ุงูุชุงูู ุนูู ุชุชุจุน ููุฏุณ ุงูุฏูู ูู ููุช ุฃุฎุฐ ุงูุชูุฑูุบ.  ูุชุดุงุจู ุชุชุจุน ุงูููุฏุณ ูุฐุง ุฅูู ุญุฏ ูุจูุฑ ูุน ุชุชุจุน ุงูููุฏุณ ุ ุงูุฐู ูุชู ุทุฑุญู ุจูุงุณุทุฉ ุงุณุชุซูุงุก ุบูุฑ ูุนููู.  ููุญุชูู ุนูู ุฃุณูุงุก ุงููุฆุงุช ูุงูุณูุงุณู ุงูุชู ุชู ุชูููุฐูุง ููุช ุชูููู ุงูุชูุฑูุบ.  ูู ุญุงูุฉ ุฏูู ูุนุงูุฌ ุงููุฑุฌุน ุ ูุง ูุฑู ุดูุฆูุง ูุซูุฑูุง ููุงูุชูุงู. <br><br>  ููุน ุฐูู ุ ููุงู ุดูุก ูุซูุฑ ููุงูุชูุงู ุญูู ุชุชุจุน ูุคุดุฑ ุงูุชุฑุงุจุท Thread-02 ูุฎุชูู ุนู ุงูุชุชุจุน ุงูููุงุณู: <br><br><pre style=";text-align:right;direction:rtl"> "Thread-0" # 12 prio = 5 os_prio = 0 tid = 0x00000250e54d1800 nid = 0xdec ุงูุชุธุงุฑ ุฅุฏุฎุงู ุงูุดุงุดุฉ [0x000000b82b4ff000]
    java.lang.Thread.State: BLOCKED (ุนูู ูุฑุงูุจุฉ ุงููุงุฆู)
     ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)
     - ูู ุงูุชุธุงุฑ ููู &lt;0x00000000894465b0&gt; (ูุงุฆู java.lang.Object)
     - ูููู &lt;0x00000000894465a0&gt; (a java.lang.Object)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
    ุงููุฒุงููุฉ ุงููุคููุฉ ุงูุชู ูููู ููููุง:
     - ูุง ุดูุก
</pre><br>  ูู ุงูุชุชุจุน ุ ูุฑู ุฃูู ุชูุช ุฅุถุงูุฉ ูุนูููุงุช ุญูู ุงูููู.  ูุชููุน ูุคุดุฑ ุงูุชุฑุงุจุท ูุฐุง ุชุฃููููุง ูููุงุฆู ุจุนููุงู 0x00000000894465b0 (ููุน ุงููุงุฆู java.lang.Object).  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ุงูุฎูุท ููุณู ูุญูู ุงูููู ุจุนููุงู 0x00000000894465a0 (ุฃูุถูุง java.lang.Object).  ุณุชููู ูุฐู ุงููุนูููุงุช ูููุฏุฉ ููุง ูุงุญููุง ูุชุดุฎูุต ุญุงูุฉ ุงูุฌููุฏ. <br><br><h4 style=";text-align:right;direction:rtl">  ุฃุณุงุณูุงุช ุงููุฒุงููุฉ ุงูููุชูุทุฉ (ุงููุฒุงููุฉ ุงูุฎุงุตุฉ) </h4><br>  ูุณุฑุฏ ุงููุณู ุงูุฃุฎูุฑ ุจุฏุงุฆู ุงููุฒุงููุฉ ุงูุชู ุชู ุงูุชูุงุทูุง ุจูุงุณุทุฉ ุงูุฏูู.  ูุฐู ูู ุงููุงุฆูุงุช ุงูุชู ูููู ุงุณุชุฎุฏุงููุง ููุฒุงููุฉ ุงูุฎููุท ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุฃููุงู. <br><br>  ููููุง ููุซุงุฆู Java ุงูุฑุณููุฉ ุ <strong>ูุนุฏ Ownable Synchronizer</strong> ูู ูุณู <i>AbstractOwnableSynchronizer</i> (ุฃู ุงููุฆุฉ ุงููุฑุนูุฉ) ุ ูุงูุชู ูููู ุงูุชูุงุทูุง ุญุตุฑููุง ุจูุงุณุทุฉ ุงูุฏูู ูุฃุบุฑุงุถ ุงููุฒุงููุฉ. <br><br>  <i>ReentrantLock</i> ู <i>lock-lock</i> ุ ูููู ููุณ <i>ููู ุงููุฑุงุกุฉ</i> ููุฆุฉ ReentrantReadWriteLock ููุง ูุซุงูุงู ุฌูุฏุงู ููุซู ูุฐู "ุงููุฒุงููุงุช ุงููุงุจูุฉ ููุชููู" ุงูุชู ุชูุฏููุง ุงูููุตุฉ. <br><br>  ููุฒูุฏ ูู ุงููุนูููุงุช ุญูู ูุฐุง ุงูููุถูุน ุ ููููู ุงูุฑุฌูุน ุฅูู ูุฐุง <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุขุฎุฑ</a> . <br><br><h4 style=";text-align:right;direction:rtl">  ุฎููุท JVM </h4><br>  ูุญุชูู ุงููุณู ุงูุชุงูู ูู ุงูุชูุฑูุบ ุนูู ูุนูููุงุช ุญูู ุณูุงุณู ุนูููุงุช JVM ุงููููุฉ ุงูุชู ููุณุช ุฌุฒุกูุง ูู ุงูุชุทุจูู ูุชุฑุชุจุท ุจุณูุงุณู ุนูููุงุช ูุธุงู ุงูุชุดุบูู.  ูุฃู  ุชุนูู ูุฐู ุงูุชุฏููุงุช ุฎุงุฑุฌ ุงูุชุทุจูู ุ ูููุณ ูุฏููู ูุนุฑูุงุช ุฏูู.  ูู ูุนุธู ุงูุฃุญูุงู ุ ูุฐู ูู ุฎููุท ุฌุงูุน ุงูููุงูุฉ ูุณูุงุณู JVM ุงููููุฉ ุงูุฃุฎุฑู: <br><br><pre style=";text-align:right;direction:rtl"> "VM Thread" os_prio = 2 tid = 0x00000250e496d800 nid = 0x1920 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35b5800 nid = 0x310c ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35b8000 nid = 0x12b4 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35ba800 nid = 0x43f8 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250c35c0800 nid = 0x20c0 ูุงุจู ููุชุดุบูู  
 "G1 Main Marker" os_prio = 2 tid = 0x00000250c3633000 nid = 0x4068 ูุงุจู ููุชุดุบูู  
 "G1 Conc # 0" os_prio = 2 tid = 0x00000250c3636000 nid = 0x3e28 ูุงุจู ููุชุดุบูู  
 "G1 Refine # 0" os_prio = 2 tid = 0x00000250c367e000 nid = 0x3c0c ูุงุจู ููุชุดุบูู  
 "G1 Refine # 1" os_prio = 2 tid = 0x00000250e47fb800 nid = 0x3890 ูุงุจู ููุชุดุบูู  
 "G1 Refine # 2" os_prio = 2 tid = 0x00000250e47fc000 nid = 0x32a8 ูุงุจู ููุชุดุบูู  
 "G1 Refine # 3" os_prio = 2 tid = 0x00000250e47fd800 nid = 0x3d00 ูุงุจู ููุชุดุบูู  
 os_prio = 2 tid = 0x00000250e4800800 nid = 0xef4 ูุงุจู ููุชุดุบูู  
 "VM Periodic Task Thread" os_prio = 2 tid = 0x00000250e54d6800 nid = 0x3468 ููุฏ ุงูุงูุชุธุงุฑ
</pre><br><h4 style=";text-align:right;direction:rtl">  ุฑูุงุจุท JNI ุงูุนุงูููุฉ </h4><br>  ูุดูุฑ ูุฐุง ุงููุณู ุฅูู ุนุฏุฏ ุงููุฑุงุฌุน ุงูุนุงูููุฉ ุงูุชู ูุณุชุฎุฏููุง JVM ูู ุฎูุงู JNI.  ูุง ูุชู ุนุฑุถ ูุฐู ุงูุงุฑุชุจุงุทุงุช ุจูุงุณุทุฉ ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ ููุฏ ุชุชุณุจุจ ูู ุญุฏูุซ ุชุณุฑุจ ููุฐุงูุฑุฉ ูู ุธุฑูู ูุนููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> ุงููุฑุงุฌุน ุงูุนุงูููุฉ ูู JNI: 2
</pre><br>  ูู ูุนุธู ุงูุญุงูุงุช ุงูุจุณูุทุฉ ุ ูุง ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงููุนูููุงุช.  ููุน ุฐูู ุ ูุฌุจ ููู ุฃูููุฉ ุงููุฑุงุฌุน ุงูุนุงูููุฉ.  ุงูุธุฑ ูู ูุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงูููุตุจ</a> ููุฒูุฏ ูู ุงูุชูุงุตูู. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูููุงุถูุน ุงููุณุฏูุฏุฉ </h4><br>  ูุญุชูู ุงููุณู ุงูุฃุฎูุฑ ุนูู ูุนูููุงุช ุญูู ุญุงูุงุช ุงูุฌููุฏ ุงูุชู ุชู ุงูุนุซูุฑ ุนูููุง. <br>  ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูููุง ุ ูุณูููู ุงููุณู ูุงุฑุบูุง.  ูุฃู  ููุฏ ูููุง ุจุชุทููุฑ ุชุทุจูู ุนูู ูุฌู ุงูุชุญุฏูุฏ ูุน ุฃููุงู ุ ูู ุญุงูุชูุง ูุฐุง ุงููุณู.  ุชู ุงููุดู ุนู ููู ุฃุซูุงุก ุงูุชูุฑูุบ ููุนุฑุถ ูุน ุงูุฑุณุงูุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> ุงูุนุซูุฑ ุนูู ุทุฑูู ูุณุฏูุฏ ุนูู ูุณุชูู ุฌุงูุง:
 ===============================
 "ูุคุดุฑ ุชุฑุงุจุท 0":
   ูู ุงูุชุธุงุฑ ููู ุงูุดุงุดุฉ 0x00000250e4982480 (ุงููุงุฆู 0x00000000894465b0 ุ java.lang.Object) ุ
   ุงูุฐู ุนูุฏู "Thread-1"
 "ุงูุฎูุท 1":
   ูู ุงูุชุธุงุฑ ููู ุงูุดุงุดุฉ 0x00000250e4982380 (ุงููุงุฆู 0x00000000894465a0 ุ a java.lang.Object) ุ
   ุงูุฐู ุนูุฏู "Thread-0"
 ูุนูููุงุช ููุฏุณ Java ููุฎููุท ุงููุฐููุฑุฉ ุฃุนูุงู:
 =================================================== =
 "ูุคุดุฑ ุชุฑุงุจุท 0":
     ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)
     - ูู ุงูุชุธุงุฑ ููู &lt;0x00000000894465b0&gt; (ูุงุฆู java.lang.Object)
     - ูููู &lt;0x00000000894465a0&gt; (a java.lang.Object)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
 "ุงูุฎูุท 1":
     ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)
     - ูู ุงูุชุธุงุฑ ููู &lt;0x00000000894465a0&gt; (ูุงุฆู java.lang.Object)
     - ูุคูู &lt;0x00000000894465b0&gt; (a java.lang.Object)
     ุนูู java.lang.Thread.run (java.base@10.0.1/Thread.java: 844)
 ุชู ุงูุนุซูุฑ ุนูู ุญุงูุฉ ุชููู ุชุงู 1.
</pre><br>  ูุตู ุงููุณู ุงููุฑุนู ุงูุฃูู ุณููุงุฑูู ุงูุฌููุฏ: <br><br>  ูุชููุน <i>ูุคุดุฑ ุงูุชุฑุงุจุท -0</i> ุฃู ูููู ูุงุฏุฑูุง ุนูู ุงูุชูุงุท ุงูุดุงุดุฉ (ูุฐุง ูู ุงููุตูู ุฅูู ูุชูุฉ <i>(secondResource) ุงููุชุฒุงููุฉ</i> ูู ุชุทุจูููุง) ุ ููู ุงูููุช ููุณู ูุญุชูุธ ูุคุดุฑ ุงูุชุฑุงุจุท ูุฐุง <i>ุจุดุงุดุฉ</i> ุชุญุงูู ุงูุชูุงุท ูุคุดุฑ ุงูุชุฑุงุจุท 1 (ูุฐุง ูู ุงููุตูู ุฅูู ููุณ ุฌุฒุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ: <i>ูุชุฒุงูู (secondResource )</i> ูู ุทูุจูุง). <br><br>  ูุณูู ูุฐุง ุงูููู ุงูุฏุงุฆุฑู ุจุทุฑููุฉ ุฃุฎุฑู ุญุงูุฉ <strong>ุชููู ุชุงู</strong> .  ูู ุงูุตูุฑุฉ ุฃุฏูุงู <br>  ูุชู ุนุฑุถ ูุฐุง ุงููููู ูู ุดูู ุฑุณูู ุจูุงููุฉ: <br><br><img src="https://habrastorage.org/webt/11/yd/kr/11ydkrm0xkbw8aqxb8t71kypskg.png"><br><br>  ูู ุงููุณู ุงููุฑุนู ุงูุซุงูู ุ ูุชู ุฅุนุทุงุก ุชุชุจุน ุงูููุฏุณ ููู ูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ุงููุญุธูุฑุฉ. <br><br>  ูุณูุญ ููุง ุชุชุจุน ุงูููุฏุณ ูุฐุง ุจุชุชุจุน ุชุดุบูู ูู ุฎูุท ุญุชู ุญุฏูุซ ููู. <br>  ูู ุญุงูุชูุง ุ ุฅุฐุง ูุธุฑูุง ุฅูู ุงูุณุทุฑ: <br><br>  <i>ูู DeadlockProgram $ DeadlockRunnable.run (DeadlockProgram.java:34)</i> ุ ุซู ุณูุฑู ุฌุฒุก ุงููุดููุฉ ูู ุงูุฑูุฒ: <br><br><pre style=";text-align:right;direction:rtl"> printLockedResource (secondResource) ุ
</pre><br>  ูุฐุง ุงูุฎุท ูู ุงูุณุทุฑ ุงูุฃูู ูู ุงููุชูุฉ ุงููุชุฒุงููุฉ ุ ููู ุณุจุจ ุงูููู ุ ููุฎุจุฑูุง ุฃู ุงููุฒุงููุฉ ูู secondResource ูู ุณุจุจ ุงูููู ุงููุชุจุงุฏู.  ูุชุตุญูุญ ุงููุถุน ุ ูุฌุจ ุฃู ูุชุฃูุฏ ูู ุฃู ูู ูู ูุคุดุฑุงุช ุงูุชุฑุงุจุท ููุง ููุณ ุชุฑุชูุจ ุงููุฒุงููุฉ ุนูู ุงูููุงุฑุฏ ResourceA ู ResourceB.  ุฅุฐุง ูุนููุง ุฐูู ุ ูุณูุฃุชู ุฅูู ุงูุชุทุจูู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DeadlockProgram</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ Object resourceA = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); Object resourceB = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Object(); Thread threadLockingResourceAFirst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DeadlockRunnable(resourceA, resourceB)); Thread threadLockingResourceBFirst = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Thread(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DeadlockRunnable(resourceA, resourceB)); threadLockingResourceAFirst.start(); Thread.sleep(<span class="hljs-number"><span class="hljs-number">500</span></span>); threadLockingResourceBFirst.start(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DeadlockRunnable</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Runnable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object firstResource; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object secondResource; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeadlockRunnable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object firstResource, Object secondResource)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstResource = firstResource; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondResource = secondResource; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">synchronized</span></span> (firstResource) { printLockedResource(firstResource); Thread.sleep(<span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">synchronized</span></span> (secondResource) { printLockedResource(secondResource); } } } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (InterruptedException e) { System.out.println(<span class="hljs-string"><span class="hljs-string">"Exception occurred: "</span></span> + e); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printLockedResource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object resource)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(Thread.currentThread().getName() + <span class="hljs-string"><span class="hljs-string">": locked resource -&gt; "</span></span> + resource); } } }</code> </pre> <br>  ุณููุชูู ูุฐุง ุงูุชุทุจูู ุฏูู ุงูุชุฏุงุฎู ุ ููุชูุฌุฉ ูุฐูู ุณูู ูุญุตู ุนูู ุงููุชูุฌุฉ ุงูุชุงููุฉ (ูุงุญุธ ุฃู ุนูุงููู ูุฆุฉ ุงููุงุฆู ูุฏ ุชุบูุฑุช): <br><br><pre style=";text-align:right;direction:rtl"> ูุคุดุฑ ุชุฑุงุจุท 0: ุงูููุฑุฏ ุงููุคูู -&gt; java.lang.Object@1ad895d1
 ูุคุดุฑ ุชุฑุงุจุท 0: ุงูููุฑุฏ ุงููุคูู -&gt; java.lang.Object@6e41d7dd
 ูุคุดุฑ ุงูุชุฑุงุจุท 1: ููุฑุฏ ูููู -&gt; java.lang.Object@1ad895d1
 ูุคุดุฑ ุงูุชุฑุงุจุท 1: ููุฑุฏ ูููู -&gt; java.lang.Object@6e41d7dd
</pre><br>  ,   ,   thread dump,           .        (     deadlock-).      ,   . <br><br><h3 style=";text-align:right;direction:rtl">    Thread Dump- </h3><br>         . <br><br>   JVM       .         (     ,   ). <br><br>         . <br><br>       - โ Thread Dump Analyzers (TDAs).    Java thread dump-     - ,     .  ,           . ,        . <br><br>        TDA: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">fastThread</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Spotify TDA</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">IBM Thread and Monitor Dump Analyze for Java</a> </li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">irockel TDA</a> </li></ul><br>        .               . <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h4><br> Thread dump- โ      Java-,       .     ,           . <br><br>        deadlock,    .         .     ,           โ . <br><br>   ,   Java-     thread dump-.     ,             . <br><br> , thread dump โ   ยซ ยป   ,        ,      Java-. <br><br> <i>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> Java</a>     .       ,        deadlock- .</i> <br><br> <i>      ,         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   </a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar427513/">https://habr.com/ru/post/ar427513/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar427499/index.html">ูุง ุงูุฐู ููุชุจูู ุนูู ูู ุงูุฏุนู ุงูููู ูุฏูู ุงูููุฏููุ</a></li>
<li><a href="../ar427501/index.html">ุณูููุฑ ุจุงุจูุฑุช: ุงููุฑุญ ุงูุตุนุจ</a></li>
<li><a href="../ar427505/index.html">ูุฑููุฉ ุงูุนูู</a></li>
<li><a href="../ar427507/index.html">ุณูููุฑ ุจุงุจูุฑุช: ุงูุชุดุงู "ูุง ุดูุก" ูุฐูุฐ</a></li>
<li><a href="../ar427509/index.html">ุฎูุงุฏู ุงูููุจ: ุชุฌุฑุจุฉ ูููุงุฑุณุฉ Southbridge</a></li>
<li><a href="../ar427517/index.html">ูุธุฑุฉ ุนุงูุฉ ุนูู ุชูุงุฑูุฑ ุฌููุฑ 2018 ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู: ุฅุตุฏุงุฑ EastBanc Technologies</a></li>
<li><a href="../ar427519/index.html">Kubernetes Meetup ูู Mail.Ru Group: 29 ุฃูุชูุจุฑ ูุฏุงุฆููุง</a></li>
<li><a href="../ar427521/index.html">ุฌุงุฆุฒุฉ Breakthrough 2019. ุงูุฅุนูุงู ุนู ุงููุงุฆุฒูู ุจุฌุงุฆุฒุฉ Milner ู Brin ู Zuckerberg ููุนููู.</a></li>
<li><a href="../ar427523/index.html">ูุฌุงุญ ุงูุชุญูุท</a></li>
<li><a href="../ar427525/index.html">Intel Core 9th Gen ุจุงูุฃุฑูุงู ูุงูููุงููุณ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>