<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙏🏻 🤳 🏂🏻 Was ist während des NALSD-Interviews zu denken? 🤦🏼 🍛 🧙🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt viele Beiträge darüber, wie ein typisches Coding-Interview bei Google aussieht. Obwohl dies nicht so ausführlich beschrieben und diskutiert wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Was ist während des NALSD-Interviews zu denken?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/google/blog/436186/">  Es gibt viele Beiträge darüber, wie ein typisches Coding-Interview bei Google aussieht.  Obwohl dies nicht so ausführlich beschrieben und diskutiert wird, gibt es auch häufig ein Interview zum Systemdesign.  Für eine SRE-Position ist es NALSD: nicht abstraktes großes Systemdesign.  Der Hauptunterschied zwischen SWE- und SRE-Interviews besteht in diesen beiden Buchstaben: NA. <br><br><img src="https://habrastorage.org/webt/zr/dx/lz/zrdxlzdyc1xmixaibmzonhnkup0.jpeg" align="right" width="400" title="Bibliothek in Google-Zürich">  Was ist der Unterschied?  Wie kann man sich auf dieses Interview vorbereiten?  Lassen Sie uns nicht abstrakt sein und ein Beispiel verwenden.  Um nicht abstrakter zu sein, nehmen wir etwas aus der materiellen Welt, so dass Sie beim eigentlichen Interview nicht genau das Gleiche gefragt werden (zumindest nicht beim Google-Interview) :) <br><br>  Entwerfen wir also ein öffentliches Bibliothekssystem.  Für die Papierbücher, wie Sie sie überall gesehen haben.  Der gesamte folgende Text wurde innerhalb von etwa einer Stunde auf einmal geschrieben, um Ihnen grob die Bereiche zu zeigen, die Sie während des Interviews abdecken / berühren können sollten.  Bitte entschuldigen Sie eine Störung, so denke ich (deshalb bin ich). <br><a name="habracut"></a><blockquote><h4>  NALSD-Interview: Entwerfen Sie ein öffentliches Bibliothekssystem. </h4>  Zunächst erfassen wir Lastmerkmale, entweder durch Fragen an den Interviewer oder durch eine vernünftige Vermutung (ohne zu vergessen, sie laut auszusprechen).  Da es sich bei dem Interview um skalierbare Systeme handelt, erwarten wir eine Stadt mit einer großen Bevölkerung (z. B. 1 Million +).  Wir haben einige Optionen: ein riesiges Gebäude oder lokale Bibliotheken plus Speicher.  Ich denke, letzteres ist vernünftiger, da es uns auch ermöglicht, das System auf mehrere Städte auszudehnen. <br><br>  Konzentrieren wir uns nun auf das System für die einzelne Stadt.  Wir sollten in der Lage sein, dasselbe Design (mit geringfügigen Korrekturen) erneut anzuwenden, um es auf Länderebene auszudehnen.  Wir haben also eine Stadt mit mehr als 1 Million Einwohnern.  Um die Berechnungen zu vereinfachen, runden wir 1M mögliche Leser ab.  Jeder Leser möchte zu beliebigen Zeitpunkten etwas unabhängig voneinander lesen.  So können wir den Leserstrom als Poisson-Prozess modellieren.  Während des Interviewzeitraums ist es etwas schwierig, richtig zu rechnen. Vereinfachen wir es also noch einmal und sagen wir einfach, dass ungefähr 1% der möglichen Leser jeden Tag kommen würden, um ein Buch zu nehmen.  Nehmen Sie also 10000 Buchanfragen pro Tag an. <br><br>  Unsere Aufgabe wurde nun: Bereitstellung der Möglichkeit, 10000 Bücher pro Tag in einer Stadt mit mehr als 1 Million Einwohnern zu verteilen (das bedeutet auch, dass wir diese 10000 Bücher eines Tages später zurücknehmen müssen).  Diese Schätzung zeigt, dass die Single-Building-Lösung nicht Bestand hat (um die Bücher für mehr als 1 Million Menschen bereitzustellen, sollte unsere Bibliothek innerhalb eines angemessenen Zeitraums erreichbar sein, da sonst der Wille, ein Buch zu nehmen, im Stau abläuft).  Versuchen wir also zu erraten, welche Größe für die lokalen Bibliotheken, die wir erstellen müssen, angemessen ist.  Eine absolut korrekte Schätzung würde Bevölkerungsdichte, Erreichbarkeitslatenzen usw. beinhalten, aber da dies das Gesamtdesign nicht beeinflusst, können wir es wieder einfacher machen, indem wir eine gleichmäßige Verteilung ähnlicher Einheiten berücksichtigen.  Wir wissen immer noch nicht, wie groß die Einheiten sein sollen, zum Beispiel könnten wir 10000 Bibliotheken mit jeweils 1 Buch über die Stadt verteilen, aber es wird offensichtlich nicht funktionieren.  Eine Ebene tiefer gehen. <br><br>  Eine einzelne lokale Bibliothekseinheit.  Damit es nützlich ist, sollte die Mehrheit der Besucher in der Lage sein, das gewünschte Buch zu finden.  Das bedeutet, dass wir die Nutzung verfolgen und die Nachfrage nach den beliebtesten Anfragen prognostizieren müssen, um bereit zu sein, diese zu bedienen.  Darüber hinaus sollten wir eine große Auswahl an weniger beliebten Artikeln haben.  Meine grobe Vermutung ist eine Bibliothek mit weniger als 1000 Buchnamen, mit Dutzenden von Exemplaren für die beliebtesten und Einzelstücken für die Schwänze.  Die durchschnittliche Zeit zum Lesen eines Buches in unserer Bibliothek liegt zwischen 3 Tagen und 2 Wochen (die Echtzeit hängt natürlich vom Buch selbst ab, was in einem realen Fall eine zusätzliche Analyse erfordern würde).  Schätzen wir als 1 Woche pro Buch.  Das bedeutet, dass ein Buch, das ausgehändigt wurde, in 1 Woche zurückkommt. Wir sollten also 1 Woche lang Top-Bücher zur Verfügung haben (nach einer Woche werden sie von den Rücksendungen aufgefüllt). <br><br>  Angenommen, ein durchschnittlicher Explosionsfaktor von 6 würde uns zu einer Speicherkapazität von 6000 Büchern führen.  Weniger Speicherplatz würde einen Mangel an den beliebtesten Namen bedeuten (kleinere Einheiten könnten immer noch nützlich sein - wie ein kleiner Mall-Kiosk mit „Twilight“, aber lassen Sie es uns jetzt außerhalb unseres Designs halten). <br><br>  In einem stabilen Zustand sind die Renditen und Kredite jeden Tag fast gleich (mit einer gewissen Streuung), aber wir sollten auch Spitzenrenditen einplanen (dies können externe Synchronisierungsereignisse sein: Feiertage, Trends usw.).  Der richtige Weg ist, ein statistisches Modell zu erstellen und auszuführen.  Aber jetzt behalten wir ⅓ einfach als Puffer.  Das bedeutet, dass wir 6000 Bücher zur Ausgabe bereithalten sollten, plus Platz für 2000. <br><br>  Zusammenfassend: Wir brauchen eine Bibliothekseinheit mit 8000 Büchern.  Es wird voraussichtlich teuer sein, es jeden Tag wieder aufzufüllen, daher sollten wir damit rechnen, dass dies für ein oder zwei Wochen ausreicht.  Zwei Wochen, 6000 Bücher, mit möglicher Renditeverschiebung, es sind ungefähr 300 Bücher pro Tag.  Für den Eröffnungstag können wir den gesamten Speicher (8000 Bücher) füllen, um die ersten 2000 Bücher im Umsatz zu setzen.  2000 in 3 Tagen = 600 Bücher pro Tag, mit Schräglaufpuffer = 800 Bücher pro Tag. <br><br>  Lassen Sie uns den Durchsatz und die Einschränkungen unseres Speichers abschätzen.  1 Buch hat einen Raum von ca. 2 cm, 8000 Bücher = 160 m.  Wir können es 4 Mal vertikal falten, also sind es 40 Laufmeter.  Wenn wir es in ~ 5-Meter-Racks aufteilen, erhalten wir 8 Racks mit 4 Regalen, die jeweils 5 Meter lang sind.  Ein Bibliothekar (oder Robo-Bibliothekar) sollte mit zwei Racks arbeiten können.  Das Herausziehen eines einzelnen Buches dauert: 5 Sekunden, um zu den Regalen zu gehen, 5 Sekunden, um das Buch zu greifen / an seinen Platz zu legen, 5 Sekunden, um zurück zu gehen (insgesamt 15 Sekunden).  4 Bibliothekare geben uns einen Spitzendurchsatz von 15 Büchern pro Minute.  Somit ist eine Handhabung von höchstens 900 Büchern pro Stunde möglich. <br><br>  Wenn wir auch die Bearbeitungszeit für Anforderungen (10 Sekunden), die Suchzeit (5 Sekunden) und die Zeit für die Verfolgung des Systems (2 Sekunden) berücksichtigen, erhalten wir einen Spitzenwert von 400 Büchern / Stunde.  Wir sollten also in der Lage sein, unsere Schätzung von 800 Büchern pro Tag in 2 Stunden zu verarbeiten. <br><br>  Lassen Sie uns andere Aspekte berechnen: Um 4 Bücher / Stunde von 4 Bibliothekaren ausgeben zu können, müssen wir genügend Platz für 100 Personen haben, die in der Schlange stehen, und die Eingangstüren sollten 400 Personen / Stunde erlauben, in beide Richtungen zu gehen .  Das bedeutet, dass unsere Hauptdrosselung der Wartebereich und die Gebäudetüren sind. <br><br>  Das bedeutet, dass wir in der Lage sein sollten, bei den richtigen Berechnungen für das tatsächliche Design ein optimales Gleichgewicht zwischen Speicherplatz und Wartebereich zu finden. <br><br>  Das war's für dieses Level, es ist Zeit weiterzumachen.  Wir schätzen den Gesamtbedarf des Bibliotheksnetzwerks auf 10000 Bücher / Tag.  Eine Einheit ist 800 Bücher / Tag, also brauchen wir 12,5 Einheiten.  Wenn wir eine einheitliche geografische Verteilung durchführen, sollte jeder Leser im Bereich von 1-2 Einheiten (an der Stadtgrenze) und 3-4 (innerhalb der Stadt) liegen.  Dies würde die Möglichkeit geben, Spitzen ein wenig auszugleichen und / oder Engpässe bei Top-Büchern zu decken. <br><br>  Wir wissen auch, dass jede Bibliothek jederzeit geschlossen werden kann (Feuer, Inspektion, Neulackierung der Kühlschranktürgriffe usw.) und dass die Wahrscheinlichkeit eines Zusammentreffens dieser Ereignisse umso höher ist, je mehr Einheiten wir haben.  Daher benötigen wir 1 redundante Einheit pro 5-6 Einheiten.  Insgesamt benötigen wir also 15 Einheiten, um unsere städtischen Anforderungen zu erfüllen, wenn wir die erforderliche Versorgung innerhalb jeder Einheit aufrechterhalten wollen. <br><br>  Wie wir bereits früher gedacht haben, müssen wir den Speicher alle ein oder zwei Wochen auffüllen (früher haben wir zwei erraten) - etwa die Hälfte des Speichers sollte ersetzt werden, um den Trends zu folgen usw.  Also 4000 Bücher mit neuer Lieferung und 4000 Bücher daraus entfernt.  Bei jedem Nachschub müssen wir 4000 Bücher herausziehen und 4000 neue Einträge zurückfügen.  Mit unserem Durchsatz von 400 Büchern / Stunde entspricht ein Nachschub 10 sehr intensiven Stunden.  Nun, es scheint immer noch in Ordnung zu sein, zumal Massenoperationen normalerweise billiger sind.  aber trotzdem - wir sollten bedenken, dass der Wiederauffüllvorgang fünfmal teurer ist als nur das Servieren. <br><br>  Ein durchschnittliches Buch (2 cm * 20 cm * 30 cm) hat ein Volumen von 1,5 Litern, also 4000 Bücher = 6 Kubikmeter.  Dies sollte in ein einzelnes durchschnittliches leichtes Frachtfahrzeug passen.  1 Kubikmeter Papier wiegt 600 kg, 6 m 3 = 3,6 t.  Ein durchschnittliches leichtes Frachtfahrzeug kann ~ 1,5 Tonnen umschlagen, wir brauchen also 3 davon.  Plus eins für Redundanz.  Wir haben 15 Bibliothekseinheiten, die alle 2 Wochen aktualisiert werden, was bedeutet, dass dies eng im Zeitplan liegt, sodass wir ein weiteres Auto benötigen. <br><br>  <i>Und wir haben immer noch nicht darüber nachgedacht, wie und woher diese Autos die Bücher bewegen würden, daher werden für unser Design auch Lagerhäuser und Müllabfuhrstellen für nicht mehr beliebte Bücher benötigt ...</i> <br></blockquote><br>  Die Zeit ist abgelaufen.  Was ist das Besondere an der NALSD-Frage?  Skalierbarkeit wird von jedem großen Systemdesign erwartet.  Aber in einem NALSD-Interview muss man <b>genau sein</b> . <br><br>  Sie können oben viele Vermutungen und Annahmen sehen, aber alle Berechnungen basierten auf zuvor gemachten Zahlen.  Ich habe auch versucht zu erklären, wie man zur richtigen Nummer kommt, aber es ist leicht, müde / gelangweilt zu werden und dies zu verpassen.  Es ist auch einfach, sich an eine Zahl aus Ihrem Speicher zu halten, ohne eine gute Erklärung für die Gründe zu liefern ... Da das Design jedoch sehr spezifisch ist, können Sie die Zahl ändern und den Rest neu berechnen, wenn Sie einen Fehler für eine beliebige Zahl machen. <br><br>  <i>Ich erinnere mich noch daran, wie ich während meines NALSD-Interviews bei IOPS einer einzelnen Festplatte von 600 geblieben bin, nur weil ich kürzlich an der Optimierung eines RAID-Arrays gearbeitet hatte, bei dem das gesamte Array 600 IOPS hatte ... Der Interviewer war leicht überrascht: 600 IOPS pro fahren?</i>  <i>: D.</i> <br><br>  Während des Interviews können alle Ihre Annahmen und Vermutungen vom Interviewer korrigiert werden.  Außerdem könnte der Interviewer einige zusätzliche Einschränkungen hinzufügen (die Sie vergessen haben, von denen Sie nichts wussten, die Sie nicht gefragt haben oder die Sie einfach anpassen möchten, weil sie möchten oder denken, dass dies ein besserer Weg ist, um fortzufahren).  Da Sie nur mit bestimmten Zahlen arbeiten, wären nur kleine Aktualisierungen der Zahlen gemäß den bereits angegebenen Gleichungen erforderlich. <br><br>  Wenn die Korrektur einer Annahme eine vollständige Neugestaltung des Systems erfordert, handelt es sich entweder um einen Entwurfsfehler oder um eine falsche Korrektur, oder die neue Annahme führt uns über die Anwendbarkeit des Entwurfs hinaus (und dies ist im wirklichen Leben nicht so selten).  Es ist wichtig, diese Tatsache nicht zu verpassen: Sie sollten die erhaltenen Zahlen validieren, um sicherzustellen, dass sie sowohl während des Entwurfs als auch nach jeder Korrektur realistisch sind. <br><br>  Als SREs müssen wir über die Skalierbarkeit realer Systeme im Rahmen realer Hardwarebeschränkungen nachdenken.  Es könnte einen schönen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Algorithmus geben</a> , der eine gigantische Zeitkomplexität gegen eine bestimmte Menge RAM austauscht ... Dennoch können wir heute nicht 1PiB RAM pro 1 CPU erstellen.  Wenn wir also 1 PiB RAM haben, haben wir auch ungefähr 10k CPUs.  Oder 20k.  Oder sogar 30k.  Das bedeutet, dass wir uns auf das reale (lokale) Optimum konzentrieren sollten, das heute in der Realität erreichbar ist, und nicht auf das globale Optimum, das unter idealen Bedingungen erreichbar ist. <br><br>  Sie sollten sich keine genauen Zahlen merken, aber Sie sollten in der Lage sein, Faustregeln anzuwenden, um Größenordnungen zu erhalten.  Wie IOPSes: HDD ist ungefähr 100s, SSD ungefähr 100s Tausende.  Aber diese Hunderttausenden haben einen Preisunterschied zwischen Festplatte und SSD wie 1: 3 oder 1: 4.  Außerdem wird alles ignoriert: Rack-Platz, Blades für die Laufwerke, Netzwerkanschlüsse und andere Dinge, die nicht mehr billig sind, wenn Sie bei Peta- und Exa-Skalen arbeiten. <br><br>  Machen Sie es sich jetzt auf Ihrem Stuhl bequem, entspannen Sie sich und versuchen Sie, ein System für das Wachstum und die Lieferung von frischen Hühnereiern im Abonnement zu entwickeln. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436186/">https://habr.com/ru/post/de436186/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436176/index.html">So richten Sie ein Front-End-Projekt mit automatisierter Formatierung, Flusen, Testen und automatisch generierter Dokumentation ein</a></li>
<li><a href="../de436178/index.html">Agile Analyse. Mythen und Wirklichkeit</a></li>
<li><a href="../de436180/index.html">Dinge, die Sie wissen müssen, wenn Sie von PHP zu Python wechseln möchten</a></li>
<li><a href="../de436182/index.html">Ein weiteres Ereignis für die CSS-Position: klebrig</a></li>
<li><a href="../de436184/index.html">Slack plant, unter Umgehung des traditionellen IPO-Mechanismus an die Börse zu gehen</a></li>
<li><a href="../de436188/index.html">Mit dem DJI Smart Controller haben Sie die Freiheit, immer zur Hand zu sein</a></li>
<li><a href="../de436192/index.html">Physik-Browser-Simulation</a></li>
<li><a href="../de436194/index.html">Funktionsweise des Ivideon-Videoüberwachungssystems: Überblick über die mobile Anwendung</a></li>
<li><a href="../de436196/index.html">Tester-Voyeurismus: Wie man Menschen richtig ausspioniert und warum es notwendig ist</a></li>
<li><a href="../de436198/index.html">Graph Node Dungeon Generator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>