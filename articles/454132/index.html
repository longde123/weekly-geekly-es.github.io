<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßòüèΩ üëî ü§ôüèΩ Video vigilancia en orange pi zero - barato y nada enojado üöé ‚è∞ üà∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente me propuse la tarea de implementar video vigilancia con las siguientes caracter√≠sticas: 



1. Consumo de energ√≠a m√≠nimo 
2. El tama√±o m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Video vigilancia en orange pi zero - barato y nada enojado</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454132/">  Recientemente me propuse la tarea de implementar video vigilancia con las siguientes caracter√≠sticas: <br><br><ol><li>  Consumo de energ√≠a m√≠nimo </li><li>  El tama√±o m√≠nimo del dispositivo que recibir√° video de la c√°mara (o varias c√°maras).  Con un tama√±o tan peque√±o que puede, por ejemplo, meterlo en una caja de instalaci√≥n de 10-10 cm u ocultarlo en un canal de cable ancho (!) </li><li>  Las c√°maras IP se conectar√°n a trav√©s de wi-fi, es decir, es imposible determinar qui√©n est√° viendo / escribiendo videos de ellas.  Puede alimentarlos desde la red general, ya sea iluminaci√≥n de acceso o enchufes en la oficina </li><li>  Debe haber una grabaci√≥n de video (en mi caso, en una tarjeta microsd), debe ser posible ver videos a trav√©s de Internet desde cualquier parte del mundo, as√≠ como a trav√©s de una aplicaci√≥n m√≥vil </li><li>  Por supuesto, deber√≠a existir la posibilidad de configurar de forma remota todo el sistema: agregar nuevas c√°maras, copiar y eliminar grabaciones, tener acceso a todas las configuraciones </li><li>  El costo m√≠nimo!  ¬øPero que pasa?  En ninguna parte sin ella </li></ol><br>  Para implementar esta idea, la elecci√≥n recay√≥ en los siguientes componentes: <br><a name="habracut"></a><br>  1) La computadora de una sola placa m√°s barata con wi-fi a bordo, en la que puede rodar alguna distribuci√≥n de Linux de brazo, por ejemplo, mi debian favorito.  Malinka es un poco caro, pero el naranja pi cero en eBay le costar√° solo 900 rublos (hace unos meses lo compr√© por 700 rublos).  Aqu√≠ hay un enlace a eBay - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠.</a> <br><br><img src="https://ltparts.ru/upload/shop_1/4/5/5/item_45566/item_45566.jpg" alt="imagen"><br><br>  2) En realidad, c√°maras ip wifi, en ninguna parte sin ellas.  Peque√±o, abovedado, techo.  Y al menos 720p, generalmente para videovigilancia en un porche de oficina ya no es necesario.  El precio de emisi√≥n es de aproximadamente 1.500 rublos por c√°mara.  Qu√© lejos ir, aqu√≠ en AliExpress - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> <br><br><img src="https://ae01.alicdn.com/kf/HTB1YiqTdjrguuRjy0Feq6xcbFXao.jpg" alt="imagen"><br><br>  3) Tarjeta microSD de 32 GB.  ¬øPor qu√© 32, ni m√°s ni menos?  Porque para mi caso, necesitas poder rebobinar el video de dos c√°maras hace unos d√≠as.  Bueno, entonces, otros 300-400 rublos. <br><br>  4) Adaptadores de corriente para placa simple y para c√°maras. <br><br>  Entonces, ¬øqu√© se ha hecho?  Despu√©s de recibir el apreciado paquete por correo, saqu√© un pagador naranja de all√≠, lo examin√© y, en primer lugar, pens√©: maldici√≥n, pero no hay salida de video.  ¬øC√≥mo instalar el software de vigilancia debian y video y hacer la configuraci√≥n inicial?  Inmediatamente record√© que en la frambuesa siempre hab√≠a un AV compuesto ordinario, pero aqu√≠ no lo es.  Bueno, no puede ser que el fabricante no haya dejado la oportunidad de conectarse a trav√©s de un compuesto, pens√©, y fui a Google para ver el pinout GPIO.  S√≠, el segundo pin es la tierra, y el noveno es la salida de televisi√≥n. <br><br>  Suelde el z√≥calo av.  Ahora usaremos el adaptador AV-&gt; VGA (adivin√≥ que tambi√©n se puede comprar en aliexpress, algo √∫til) y nos conectaremos a nuestro monitor.  Pero a√∫n no incluiremos nada; despu√©s de todo, todav√≠a no hemos preparado una tarjeta microsd. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Accedemos</a> al sitio web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.orangepi.org</a> y descargamos la distribuci√≥n de escritorio de Debian xfce, la escribimos en la tarjeta usando el generador de im√°genes de disco win32 o etcher.  Pegamos la unidad flash USB en nuestra naranja, encendemos el monitor, conectamos el adaptador de corriente y ... nada.  Esto es exactamente lo que es m√°s probable que encuentren los reci√©n llegados: una computadora de una sola placa no arranca de ninguna manera, sino que solo se burla con un diodo amarillo.  Que es esto  Una tarjeta grabada incorrectamente (tal vez), una tarjeta de placa √∫nica que no funciona (poco probable, porque la desempacamos), ¬øno hay se√±al de la salida de video?  El problema m√°s com√∫n es la nutrici√≥n.  Orange pi, como las frambuesas y otras placas de una sola placa, consume mucha energ√≠a: el adaptador debe ser de 5 V / 2 A, si el adaptador es d√©bil y se hunde la energ√≠a en los primeros segundos de encender una placa √∫nica, entonces no funcionar√° y no funcionar√°.  Por lo tanto, use una buena fuente de alimentaci√≥n potente y no recargue desde su viejo Android. <br><br>  Conectamos un buen adaptador de corriente, vemos c√≥mo fue la descarga de Debian.  Vemos el escritorio, ¬°genial!  Ahora necesita configurar el dispositivo para que funcione a trav√©s de Wi-Fi.  Entramos en las conexiones de red, creamos una nueva conexi√≥n Wi-Fi, ingresamos nuestro nombre de usuario y contrase√±a desde el Wi-Fi de la oficina en casa: ¬°ahora el dispositivo est√° en nuestra red local y tiene acceso a Internet!  Ahora tenemos que deshacernos del monitor. <br><br>  Para poder ver el escritorio de forma remota, el programa vnc viewer nos ayudar√°, y para un servidor vnc de una sola placa.  Por lo general, esto ya est√° integrado en ese debian, que es distribuido por el fabricante de los datos de los pagadores individuales, solo necesita configurarlo: ingrese los par√°metros de autorizaci√≥n, etc.  Despu√©s de asegurarnos de que ahora tenemos acceso al escritorio dentro de nuestra red local, retiramos el monitor, ocultamos el dispositivo en una caja / canal de cable / en otro lugar y configuramos todo lo dem√°s a trav√©s del visor vnc, mientras estamos detr√°s de una computadora familiar. <br><br>  Como software para videovigilancia, se eligi√≥ zoneminder.  ¬øPor qu√© exactamente √©l?  Gratis, flexible, f√°cil de configurar, disponible en la versi√≥n de brazo para nuestra placa √∫nica con Debian.  Este software funciona en php / mysql, por lo que antes que nada debe instalar los paquetes necesarios: <br><br><pre><code class="plaintext hljs">sudo apt-get install php5 mysql-server php-pear php5mysql php5-gd</code> </pre> <br>  Luego, necesitamos agregar la l√≠nea en /etc/apt/sources.list: <br><br><pre> <code class="plaintext hljs">deb http://ftp.debian.org/debian jessie-backports main</code> </pre> <br>  Realizamos una actualizaci√≥n: <br><br><pre> <code class="plaintext hljs">sudo apt-get update</code> </pre> <br>  Y finalmente, por lo que todos comenzamos esto: <br><br><pre> <code class="plaintext hljs">sudo apt-get install zoneminder</code> </pre> <br>  Cuando la consola nos inform√≥ que zoneminder est√° instalado, pasemos a su configuraci√≥n.  El proceso de configuraci√≥n se describe en detalle en el sitio web oficial de zoneminder, no tiene sentido enumerar todos sus puntos en este art√≠culo, por lo que decidiremos que el querido lector ha hecho esto, y ahora, si escribimos nuestro navegador en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">direcci√≥n de</a> la computadora <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de nuestro √∫nico suscriptor / zm,</a> iremos al panel de administraci√≥n de videovigilancia basado en la web.  Aqu√≠ necesitamos agregar las direcciones IP de las c√°maras, establecer los par√°metros para la grabaci√≥n de video, etc. <br><br><img src="http://d.radikal.ru/d26/1905/68/8ed0bed4007c.jpg" alt="imagen"><br><br>  Ahora podemos ver videos desde c√°maras a trav√©s del navegador desde la red interna, tanto a trav√©s de la red cableada como a trav√©s de Wi-Fi. <br><br><img src="http://d.radikal.ru/d33/1905/f1/4c69d9aaab2a.jpg" alt="imagen"><br><br>  Pero la tarea era mirar videos por Internet desde cualquier parte del mundo, y a√∫n no lo hemos implementado.  ¬°As√≠ que implementemos!  Al menos dos opciones me vienen a la mente: <br><br><ol><li>  Ingrese a trav√©s del escritorio remoto como una l√≠nea de tiempo.  Por desgracia, la l√≠nea de tiempo funciona m√°s o menos correctamente solo en "frambuesas", aqu√≠ incluso con una pandereta y hechizos no se puede lograr nada </li><li>  Tenemos una ip dedicada, vaya a la configuraci√≥n del enrutador, reenv√≠e los puertos necesarios, configure el servidor virtual, ahora podemos ver el panel de administraci√≥n de zoneminder, por ejemplo, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">our_white_ip</a> : 123.  Esto es bueno, pero ¬øy si no hay una IP dedicada? </li><li>  Si no hay una IP dedicada, recupere vpn y dyndns.  Se dedica una gran cantidad de art√≠culos a esto, incluso sobre Habr√©; busque y encuentre informaci√≥n </li></ol><br>  Ahora queda por agregar la capacidad de ver videos desde el tel√©fono.  Descargue para nuestra aplicaci√≥n de Android zoneminder client mobile (f√°cilmente google) y para iphone - Surveillance Pro. <br><br><img src="http://dvr-security.net/air/zmc/screenshots/login_portrait.png" alt="imagen"><br><br><img src="https://is4-ssl.mzstatic.com/image/thumb/Purple118/v4/66/6f/22/666f2254-ac58-834b-3b6f-832a0ff9f120/mzl.cqzeieud.png/690x0w.jpg" alt="imagen"><br><br>  En total, por varios miles de rublos tenemos nuestro propio servidor de mini-videovigilancia, que puede ocultarse f√°cilmente en un canal de cable y que consume electricidad por un solo centavo, un par de c√°maras inal√°mbricas y la capacidad de mirar siempre desde una computadora o tel√©fono desde cualquier lugar donde haya acceso a Internet qu√© pasa en tu oficina / garaje / porche. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454132/">https://habr.com/ru/post/454132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454114/index.html">Experiencia con Starwind VSAN y EMC ScaleIO (VxFlexOS) + hoja de trucos para almacenamiento mini Enterprise (1 parte)</a></li>
<li><a href="../454124/index.html">El libro "Aprendiendo a codificar en JavaScript"</a></li>
<li><a href="../454126/index.html">Desde accidentes diarios hasta estabilidad: Informatica con 10 ojos administrativos</a></li>
<li><a href="../454128/index.html">C√≥mo hacer dos aplicaciones de una. Tinkoff Junior Experience</a></li>
<li><a href="../454130/index.html">C-V2X con soporte para redes 5G NR: un nuevo paradigma para el intercambio de datos entre veh√≠culos</a></li>
<li><a href="../454136/index.html">El teorema m√°s bello de las matem√°ticas: la identidad de Euler</a></li>
<li><a href="../454138/index.html">10 de junio, Deworkacy - QA Buena comunicaci√≥n</a></li>
<li><a href="../454140/index.html">De abogado a probador en Yandex. La historia de mi pasant√≠a.</a></li>
<li><a href="../454144/index.html">En Java 13 quieren agregar "bloques de texto"</a></li>
<li><a href="../454148/index.html">Comprobaci√≥n del rendimiento del SOC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>