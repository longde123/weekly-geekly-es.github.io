<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¾â€ğŸš’ âœ‰ï¸ ğŸ¤² Bagaimana saya bisa menggunakan mesin virtual Yandex.Cloud yang terputus dan menghemat penyelesaian masalah skala besar ğŸ‘¨ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ½ ğŸ± ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari ini kami ingin berbicara tentang fitur Yandex.Cloud yang sangat berguna sebagai mesin virtual yang terganggu. Ini adalah opsi khusus yang dapat A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana saya bisa menggunakan mesin virtual Yandex.Cloud yang terputus dan menghemat penyelesaian masalah skala besar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/457538/">  Hari ini kami ingin berbicara tentang fitur Yandex.Cloud yang sangat berguna sebagai mesin virtual yang terganggu.  Ini adalah opsi khusus yang dapat Anda pilih saat membuat mesin virtual untuk menggunakan sumber daya komputasi dengan harga yang lebih murah.  Apa yang istimewa dari mesin virtual interruptible, mengapa lebih murah daripada yang biasa, dan dalam kasus apa bijak untuk menggunakannya? <br><br><img src="https://habrastorage.org/webt/ox/8d/3e/ox8d3etklg4mebfli2f7r0ofdf0.png"><br><a name="habracut"></a><br>  Kapasitas Yandex.Cloud, dan lebih tepatnya, layanan infrastruktur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cloud Yandex</a> , jauh lebih besar daripada yang digunakan oleh pengguna.  Secara default, diasumsikan bahwa pengguna harus dapat skala secara sewenang-wenang.  Setidaknya untuk alasan-alasan ini, tanpa mempertimbangkan aspek-aspek lain, sumber daya yang tersedia dari platform cloud secara signifikan melebihi permintaan saat ini.  Pada kapasitas gratis inilah mesin virtual terputus dibuat. <br><br><h2>  Keterbatasan utama </h2><br>  Secara singkat, sifat mesin virtual terputus dapat digambarkan sebagai berikut: layanan ini menawarkan untuk menggunakan sumber daya komputasi gratis dengan harga lebih rendah, asalkan sumber daya ini dapat ditarik kembali kapan saja. <br><br>  Secara umum, mesin virtual terputus bekerja seperti mesin virtual biasa, tetapi mereka memiliki sejumlah keterbatasan: <br><br><ul><li>  Mereka tidak dicakup oleh perjanjian tingkat layanan (SLA). </li><li>  Kemampuan untuk membuat dan menjalankan tidak dijamin. </li><li>  Mereka bisa dipaksa berhenti kapan saja.  Probabilitas pemberhentian kecil, tetapi tidak nol, dapat berhenti dari waktu ke waktu dan bervariasi di berbagai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">zona Yandex</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ketersediaan keras</a> . </li><li>  Mesin virtual terputus tidak dapat dibuat normal, tetapi mesin terputus biasa.  Bendera yang sesuai diatur satu kali dan tidak berubah. </li><li>  Mesin pasti akan berhenti dalam periode tidak melebihi 24 jam. </li></ul><br>  Dalam praktiknya, dalam sebagian besar kasus, mesin virtual yang terputus bekerja 24 jam penuh sesuai dengan kondisi layanan.  Penghentian paksa biasanya terjadi hanya ketika sejumlah besar mesin virtual biasa dibuat di zona ketersediaan tertentu dalam waktu singkat: pengguna baru muncul dengan kebutuhan serius atau pengguna saat ini diskalakan secara besar-besaran. <br><br>  Pada saat yang sama, mesin virtual yang dihentikan dapat dimulai lagi: semua data pada disk disimpan baik selama shutdown otomatis dan manual. <br><br><h2>  Gunakan kasing </h2><br>  Keterbatasan untuk mesin virtual yang terputus menimbulkan pertanyaan logis: bagaimana cara menerapkannya jika sumber daya dapat dicabut kapan saja?  Sebagai penjelasan, berikut adalah beberapa kemungkinan kasus penggunaan. <br><br><h3>  Pemrosesan batch </h3><br>  Pemrosesan batch melibatkan eksekusi paralel dari sejumlah besar tugas sumber daya intensif.  Ini mungkin konversi format file, pemrosesan dan pengenalan gambar, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">operasi ETL</a> .  Intinya adalah bahwa dalam pemrosesan batch ada antrian pekerjaan dan seluruh rangkaian proses kerja (pelaksana) yang menerima pekerjaan dari antrian.  Jika seorang eksekutor individu yang berjalan pada mesin yang terputus berhenti, tugas itu hanya akan ditransfer ke pelaksana berikutnya.  Dengan kata lain, menghentikan satu atau bahkan beberapa mesin virtual tidak akan memiliki dampak negatif yang signifikan pada proses dan hasil pemrosesan. <br><br><img src="https://habrastorage.org/webt/o9/tt/ny/o9ttnycyli2d6s7sg-c9i47rusk.png"><br><br>  Saat mengolah data, kita berbicara tentang menggunakan puluhan mesin virtual.  Penggunaan mesin berselang memberikan penghematan yang sangat nyata.  Sekarang salah satu konsumen utama mesin virtual diskontinyu produktif dengan 32 core adalah klien Yandex.Cloud yang lama, Seismotech.  Seismotek memproses data seismik, yang diperlukan untuk eksplorasi ladang gas dan minyak.  Eksplorasi seismik melibatkan bekerja dengan volume informasi yang besar.  Data diproses dalam metode batch.  Perusahaan secara bersamaan menggunakan hingga 60-plus mesin terganggu: total hingga 2000 vCPU dan 4000 GB RAM. <br><br><h3>  Proyek di Hadoop </h3><br>  Hadoop digunakan untuk mengembangkan dan menjalankan program terdistribusi yang berjalan pada kelompok ratusan dan ribuan node berbiaya rendah.  Mekanisme replikasi file dan restart otomatis tugas yang dilakukan pada node gagal yang disediakan oleh Hadoop memastikan stabilitas sistem terdistribusi terhadap kegagalan mesin individu.  Itulah sebabnya, di mana Hadoop digunakan, setidaknya sebagian dari node dapat dengan mudah digunakan untuk mesin virtual yang terganggu.  Jika mereka berhenti lebih awal, tugas akan dikirim ke node lain. <br><br><h3>  Layanan Web Failover </h3><br>  Ketersediaan layanan web yang berkelanjutan dapat dipastikan dengan menggunakan cluster.  Cluster terdiri dari dua atau lebih server.  Salah satu tugasnya dalam aplikasi ke layanan web adalah untuk memastikan operasi yang stabil pada saat beban puncak.  Contoh umum: situs belanja online atau situs olahraga di mana pertumbuhan lalu lintas terikat pada tanggal tertentu.  Untuk toko, ini bisa berupa hari libur tradisional atau periode diskon, dan untuk situs yang berhubungan dengan olahraga, itu bisa menjadi hari acara ketika siaran langsung diterbitkan, ulasan dan laporan foto diterbitkan.  Pada saat-saat seperti itu, volume lalu lintas dapat meningkat secara signifikan. <br><br>  Cluster harus mengatasi masuknya pengunjung dengan mendistribusikan lalu lintas ke node yang berbeda.  Untuk periode pertumbuhan yang tajam, tetapi berumur pendek, toleransi kesalahan dapat disediakan dengan menambahkan server pada mesin virtual yang dihentikan.  Opsi ini tidak mahal dan melakukan tugasnya dengan baik.  Penting untuk mengamati satu syarat: gugus seperti itu harus hibrida, yaitu termasuk mesin virtual biasa.  Dalam hal ini, bahkan penghentian yang tidak mungkin dari mesin yang terputus tidak akan menyebabkan kegagalan layanan. <br><br><h3>  Proyek di Kubernetes </h3><br>  Kubernetes mengotomatiskan penyebaran, penskalaan, dan pengelolaan aplikasi kemas di sejumlah besar node.  Salah satu entitas utama yang dapat disebut blok bangunan Kubernetes berada di bawah (pod).  Pod menyediakan peluncuran satu atau beberapa kontainer pada satu node.  Sebuah simpul untuk setiap perapian dipilih dan ditugaskan oleh scheduler Kubernetes.  Jika simpul terpisah dengan perapian berjalan gagal, penjadwal akan secara otomatis mentransfernya ke simpul yang beroperasi dalam mode normal.  Skema menjaga kesehatan ini menunjukkan bahwa bagian dari node dapat di-host di mesin virtual diskontinyu. <br><br><h3>  Pengujian Integrasi Berkelanjutan </h3><br>  Praktik integrasi berkelanjutan didasarkan pada seringnya perakitan dan pengujian proyek.  Dalam hal ini, sebagian besar pengujian otomatis digunakan.  Secara skematis, kelihatannya seperti ini: lingkungan pengujian dibuat pada mesin virtual, bangunan terakhir aplikasi diunggah ke dalamnya, pengujian otomatis dilakukan, hasil pengujian diunggah, mesin virtual dihapus.  Sebagai aturan, pengujian membutuhkan waktu puluhan menit, lebih jarang beberapa jam. <br><br>  Secara tradisional, titik lemah dari integrasi berkelanjutan dianggap biaya yang signifikan untuk mendukung proses integrasi itu sendiri dan tingginya permintaan untuk sumber daya komputasi.  Dari sudut pandang ini dan mempertimbangkan kerangka waktu pengujian otomatis, mesin virtual yang dihentikan terlihat lebih cocok untuk integrasi berkelanjutan.  Mereka jauh lebih murah, dan kemungkinan mobil berhenti segera pada saat pengujian semakin kecil.  Selain itu, bahkan jika mobil masih berhenti, kerusakan dari sudut pandang bisnis akan minimal. <br><br><h3>  Gunakan bersama dengan layanan Yandex.Cloud lainnya </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layanan Grup Yandex Instance</a> memungkinkan Anda untuk secara otomatis memantau status seluruh kelompok mesin virtual yang terputus.  Dia dapat secara mandiri membuat mesin virtual dengan karakteristik yang diberikan, mempertahankan jumlah mesin yang diperlukan dalam grup dan memulai kembali instance yang terputus jika berhenti.  Tidak masalah jika penghentian paksa telah terjadi atau 24 jam telah berlalu sejak awal.  Hanya satu hal yang penting: restart akan terjadi jika ada sumber daya yang tersedia.  Grup Yandex Instance membuat bekerja dengan mesin virtual yang terganggu lebih nyaman, tetapi tidak dapat menjamin bahwa kapasitas bebas akan selalu ada di zona ketersediaan tertentu. <br><br><h2>  Kinerja ekonomi </h2><br>  Seperti yang kami sebutkan, mesin virtual interruptible dapat mengurangi biaya menggunakan sumber daya komputasi.  Di dalam Yandex, kami mulai mengerjakan fungsi serupa beberapa tahun yang lalu.  Untuk membagi tugas komputasi menjadi dijamin dapat dieksekusi dan interruptible, diperlukan investasi besar.  Tapi itu tidak sia-sia: pada akhirnya, kami meningkatkan tingkat pemanfaatan infrastruktur server yang bermanfaat dari 30-40% menjadi 70-80%. <br><br><img src="https://habrastorage.org/webt/t5/co/jm/t5cojmli_xdhso9kjwoqbwciksk.png"><br><br>  Sekarang kemampuan serupa tersedia untuk semua pengguna Yandex.Cloud dengan mengklik tombol.  Contoh sederhana: jika Anda mentransfer setengah dari mesin virtual yang digunakan dengan beban kernel seratus persen ke format interrupt, Anda dapat menghemat hingga 35-40% dari anggaran. <br><br>  Dengan biaya yang lebih murah, sumber daya CPU dan RAM tersedia.  Ruang disk dan alamat IP dibayar dengan tarif reguler.  Inilah yang ditunjukkan perhitungan sederhana untuk platform Cascade Lake. <br><br><img src="https://habrastorage.org/webt/2z/u2/vh/2zu2vhioohfo6zfv77cl1a3lweq.png"><br><br>  Jika mau, Anda dapat membandingkan biaya menggunakan mesin virtual dalam mode berbeda menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kalkulator</a> . <br><br>  Kami berharap bahwa kami dapat memberikan sedikit kejelasan dan memberikan beberapa contoh yang berguna dalam hal ini Anda dapat menggunakan mesin virtual interruptible untuk mengurangi biaya sumber daya komputasi tanpa kehilangan kualitas dalam melakukan tugas. <br><br><h3>  Publikasi lain tentang Cloud on HabrÃ© </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Arsitektur Layanan Antrian Pesan Terdistribusi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Arsitektur Penyeimbang Beban Jaringan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MPLS ada di mana-mana.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagaimana infrastruktur jaringan Yandex.Cloud</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagaimana skala database tanpa downtime.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tiga contoh host</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Yandex membuka Cloud.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Arsitektur platform baru</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457538/">https://habr.com/ru/post/id457538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457522/index.html">Naikkan layanan milis Anda atau gunakan solusi yang sudah jadi? Apa yang saya pelajari selama 5 tahun di UniSender</a></li>
<li><a href="../id457524/index.html">Kamera kedalaman - revolusi diam (saat robot akan melihat) Bagian 1</a></li>
<li><a href="../id457526/index.html">Media teknis sebagai bazar</a></li>
<li><a href="../id457532/index.html">Sudah saatnya untuk menjadi bagian dari proyek open source</a></li>
<li><a href="../id457534/index.html">Versi bersertifikat - penggaruk yang kita pilih</a></li>
<li><a href="../id457540/index.html">Memori Tetap Intel Optane DC, setahun kemudian</a></li>
<li><a href="../id457542/index.html">Meretas dan melindungi drive enkripsi LUKS</a></li>
<li><a href="../id457546/index.html">Demo Day: mengapa semuanya dan bagaimana melakukannya UPD + Broadcast</a></li>
<li><a href="../id457548/index.html">Generasi sinyal PWM multifase pada TMS320F28027</a></li>
<li><a href="../id457550/index.html">Apa yang harus dilindungi oleh industri digital</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>