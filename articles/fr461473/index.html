<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñïüèæ üéñÔ∏è ‚úèÔ∏è D√©boguer des algorithmes sur les graphiques - maintenant avec des images üëàüèæ ü•ú ‚öúÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imaginez une situation typique la premi√®re ann√©e: vous avez lu l‚Äôalgorithme Dinits , l‚Äôavez mis en ≈ìuvre, mais cela n‚Äôa pas fonctionn√© et vous ne save...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©boguer des algorithmes sur les graphiques - maintenant avec des images</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hsespb/blog/461473/">  Imaginez une situation typique la premi√®re ann√©e: vous avez lu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l‚Äôalgorithme Dinits</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l‚Äôavez</a> mis en ≈ìuvre, mais cela n‚Äôa pas fonctionn√© et vous ne savez pas pourquoi.  La solution standard consiste √† commencer le d√©bogage par √©tapes, en dessinant √† chaque fois l'√©tat actuel du graphique sur une feuille de papier, mais cela est terriblement g√™nant.  J'ai essay√© de corriger la situation dans le cadre d'un projet de semestre sur le g√©nie logiciel, et dans un article, je vais vous expliquer comment je me suis retrouv√© avec un plug-in pour Visual Studio.  Vous pouvez le t√©l√©charger <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , le code source et la documentation peuvent √™tre trouv√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Voici une capture d'√©cran du graphique obtenu pour l'algorithme Dinits. <br><br><img src="https://habrastorage.org/webt/mq/m_/bg/mqm_bgawuvqn8v0wwqb9-jgm4cm.png"><a name="habracut"></a><br><br><h2>  √Ä propos de moi </h2><br>  Je m'appelle Olga, je suis dipl√¥m√©e de la troisi√®me ann√©e de la direction "Math√©matiques Appliqu√©es et Informatique" au HSE de Saint-P√©tersbourg avec un dipl√¥me en G√©nie Logiciel.  Avant d'entrer √† l'universit√©, je n'√©tais pas impliqu√© dans la programmation. <br><br><h2>  Recherche: exigences </h2><br>  Dans notre facult√©, nous pratiquons le travail de recherche au semestre  Habituellement, cela se passe comme ceci: au d√©but du semestre, une pr√©sentation des travaux de recherche a lieu - des repr√©sentants de diff√©rentes entreprises proposent toutes sortes de projets.  Ensuite, les √©tudiants choisissent leurs projets pr√©f√©r√©s, les superviseurs choisissent leurs √©tudiants pr√©f√©r√©s, etc.  Au final, chaque √©tudiant trouve un projet pour lui-m√™me. <br><br>  Mais il y a une autre fa√ßon: vous pouvez trouver ind√©pendamment un superviseur et un projet, puis convaincre le conservateur que ce projet peut vraiment √™tre une R&amp;D √† part enti√®re.  Pour ce faire, prouvez que: <br><br><ol><li>  Vous allez faire quelque chose de nouveau.  Bien s√ªr, le projet peut avoir des analogues, mais votre option devrait avoir certains avantages par rapport √† eux. <br></li><li>  La t√¢che devrait √™tre assez difficile, c'est-√†-dire que le travail devrait y √™tre pour un semestre et non pour une journ√©e.  En m√™me temps, il faut que le projet se soit vraiment fait en un semestre. <br></li><li>  Votre projet doit √™tre utile au monde.  Autrement dit, lorsqu'on lui demande pourquoi cela est n√©cessaire, vous ne devez pas r√©pondre: "Eh bien, je dois faire une sorte de recherche." <br></li></ol><br>  J'ai choisi la deuxi√®me voie.  La premi√®re chose √† faire apr√®s avoir convenu avec le superviseur a √©t√© de trouver le sujet du projet.  La liste des id√©es comprenait: un v√©rificateur de style de code pour Lua, un d√©bogueur qui vous permet de calculer des expressions en parties, et un outil pour les olympiades / la formation en programmation, qui vous permet de visualiser ce qui se passe dans le code.  Autrement dit, un visualiseur de structures de donn√©es arbitraires combin√© avec un d√©bogueur.  Par exemple, une personne √©crit un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">arbre cart√©sien</a> et, dans le processus, les sommets, les ar√™tes, le sommet actuel, etc. sont dessin√©s.  Finalement, j'ai d√©cid√© de m'attarder sur cette option. <br><br><h2>  Plan de travail du projet </h2><br>  Mon travail sur le projet a comport√© les √©tapes suivantes: <br><br><ol><li>  <b>L'√©tude du sujet √©tait</b> n√©cessaire pour comprendre si ce probl√®me avait d√©j√† √©t√© r√©solu (alors le sujet du projet devrait √™tre chang√©), quels sont leurs analogues, quels sont leurs avantages et leurs inconv√©nients, que je pourrais prendre en compte dans mon travail. <br></li><li>  <b>D√©finir la fonctionnalit√© sp√©cifique</b> que l'outil cr√©√© poss√©dera.  Le th√®me du projet a √©t√© √©nonc√© de mani√®re assez abstraite, ce qui √©tait n√©cessaire pour s'assurer que la t√¢che est assez compliqu√©e, mais en m√™me temps, elle peut √™tre achev√©e en un semestre. <br></li><li>  <b>La cr√©ation d'une interface utilisateur prototype a √©t√©</b> n√©cessaire pour montrer comment l'outil cr√©√© peut √™tre utilis√©.  Il a ajout√© encore plus de sp√©cificit√© qu'un ensemble de fonctionnalit√©s d√©crites par des mots. <br></li><li>  <b>Choix des d√©pendances</b> - vous devez comprendre comment tout sera organis√© du point de vue du d√©veloppeur et d√©cider des outils qui seront utilis√©s dans le processus d'√©criture du code. <br></li><li>  <b>Cr√©er un prototype (preuve de concept)</b> , c'est-√†-dire un exemple minimal dans lequel la plupart seraient cod√©s en dur.  Avec cet exemple, j'ai d√ª g√©rer tous les outils que j'allais utiliser, et aussi apprendre √† r√©soudre toutes les difficult√©s qui se sont pos√©es en cours de route, de sorte que la version finale √©tait d√©j√† √©crite ¬´propre¬ª. <br></li><li>  <b>Travail sur la partie contenu</b> , c'est-√†-dire le d√©veloppement et la mise en ≈ìuvre de la logique de l'outil. <br></li><li>  <b>La protection du projet est</b> n√©cessaire afin de parler rapidement du travail effectu√© et de donner l'occasion de l'√©valuer √† tout le monde, m√™me aux personnes qui ne farfouillent pas sur le sujet.  C'est une formation avant l'obtention du dipl√¥me.  Dans le m√™me temps, un projet bien con√ßu ne garantit pas que le rapport se r√©v√©lera bon, car il n√©cessite d'autres comp√©tences, par exemple la capacit√© de parler au public. <br></li></ol><br>  J'ai toujours effectu√© la planification avec mon superviseur.  Nous avons √©galement toujours propos√© et discut√© toutes les id√©es qui ont surgi en cours de route.  De plus, le superviseur m'a donn√© des conseils sur le code et m'a aid√© √† g√©rer le temps.  √Ä propos de tous les probl√®mes techniques (bugs incompr√©hensibles, etc.), j'ai √©galement toujours signal√©, mais le plus souvent j'ai r√©ussi √† les r√©soudre moi-m√™me. <br><br><h2>  Recherche par sujet </h2><br>  Pour commencer, notre leadership aurait d√ª √™tre convaincu que ce sujet m√©rite d'√™tre mon travail de recherche.  Et pour partir du premier point: la recherche d'analogues. <br><br>  Il s'est av√©r√© qu'il existe de nombreux analogues.  Mais la plupart d'entre eux ont √©t√© con√ßus pour la visualisation de la m√©moire.  Autrement dit, ils auraient fait un excellent travail avec la visualisation de l'arbre cart√©sien, mais ils ne peuvent pas comprendre que le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tas sur le tableau</a> ne doit pas √™tre dessin√© comme un tableau, mais comme un arbre.  Ceux-ci comprenaient <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gdbgui</a> , un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©bogueur d'affichage de donn√©es</a> , un plug-in pour Eclipse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jGRASP</a> et un plug-in pour Visual Studio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Data Structures Visualizer</a> .  Ce dernier a √©galement √©t√© cr√©√© pour les probl√®mes de programmation des olympiades, mais n'a pu visualiser que des structures de donn√©es sur des pointeurs. <br><br>  Il y avait quelques autres outils: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Algojammer</a> pour python (et nous voulions des atouts, comme le langage le plus populaire parmi olympiadniki) et l'outil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lens</a> d√©velopp√© en 1994.  Ce dernier, √† en juger par la description, a fait presque ce dont il avait besoin, mais, malheureusement, il a √©t√© cr√©√© sous Sun OS 4.1.3 (un syst√®me d'exploitation de 1992).  Ainsi, malgr√© la disponibilit√© des codes sources, il a √©t√© d√©cid√© de ne pas perdre de temps sur cette arch√©ologie douteuse. <br><br>  Ainsi, apr√®s quelques recherches, il a √©t√© constat√© que Tula, qui ferait exactement ce que nous voulions, tout en travaillant sur des machines modernes, n'est pas encore dans la nature. <br><br><h2>  D√©finition de la fonctionnalit√© </h2><br>  La deuxi√®me √©tape consistait √† prouver que cette t√¢che est assez compliqu√©e, mais r√©alisable.  Pour ce faire, il a fallu proposer quelque chose de plus sp√©cifique que ¬´Je veux une belle photo, et que tout en devienne clair imm√©diatement¬ª. <br><br>  Dans ce projet, nous avons d√©cid√© de nous concentrer sur la visualisation uniquement des graphes: il existe de nombreux algorithmes sur les graphes qui peuvent √™tre impl√©ment√©s de diff√©rentes mani√®res, et m√™me s'ils sont limit√©s, la t√¢che reste non triviale. <br><br>  Il est √©galement plus ou moins √©vident que l'outil doit en quelque sorte √™tre int√©gr√© au d√©bogueur.  Nous devons √™tre capables de visualiser les valeurs des variables et des expressions, et de dessiner une image finale √† partir de ces valeurs. <br><br>  Apr√®s cela, il √©tait n√©cessaire de trouver un certain langage qui nous permette de construire un graphique en fonction de l'√©tat actuel du programme comme nous le voulons.  En plus du graphique lui-m√™me, il √©tait n√©cessaire de pr√©voir la possibilit√© de changer la couleur des sommets et des bords, d'y ajouter des √©tiquettes arbitraires et de modifier d'autres propri√©t√©s.  En cons√©quence, la premi√®re id√©e √©tait: <br><br><ol><li>  D√©terminez ce que nous avons des sommets, par exemple, des nombres de 0 √† n. <br></li><li>  D√©terminez la pr√©sence d'une ar√™te entre les sommets √† l'aide de la condition bool√©enne.  Dans ce cas, les ar√™tes sont de types diff√©rents et chaque type poss√®de son propre ensemble de propri√©t√©s. <br></li><li>  De plus, nous pouvons d√©finir des propri√©t√©s de sommet telles que la couleur, en utilisant √©galement la condition bool√©enne. <br></li><li>  Parcourez les √©tapes avec le d√©bogueur: toutes les expressions sont calcul√©es, toutes les conditions sont v√©rifi√©es et, en fonction de cela, un graphique est dessin√©. <br></li></ol><br><h2>  Prototypage d'interface utilisateur </h2><br>  J'ai dessin√© le prototype de l'interface utilisateur dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NinjaMock</a> .  Cela √©tait n√©cessaire pour mieux comprendre √† quoi ressemblera l'interface du point de vue de l'utilisateur et quelles actions il devra effectuer.  S'il y avait des probl√®mes avec le prototype, nous comprendrions qu'il y a des incoh√©rences logiques, et cette id√©e devrait √™tre rejet√©e.  Pour la fid√©lit√©, j'ai pris quelques algorithmes.  L'image ci-dessous montre des exemples de la fa√ßon dont j'ai imagin√© les param√®tres de visualisation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DFS</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'algorithme Floyd</a> . <br><br><img src="https://habrastorage.org/webt/_c/kw/q9/_ckwq9qv_z5-4_wayyxxb0m8sro.png"><br><br>  <i>Comme j'imaginais les param√®tres pour DFS.</i>  <i>Le graphe est stock√© sous forme de liste d'adjacence, donc l'ar√™te entre les sommets i et j est d√©termin√©e par la condition <code>g[i].find() != g[i].end()</code> (en fait, pour ne pas dupliquer les ar√™tes, nous devons v√©rifier que <code>i &lt;= j</code> ).</i>  <i>Le chemin DFS est affich√© s√©par√©ment: <code>p[j] == i</code> .</i>  <i>Ces bords seront orient√©s.</i> <i><br><br><img src="https://habrastorage.org/webt/1n/rv/28/1nrv283bilq1cslyq9urbrymgzm.png"><br><br></i>  <i>J'ai suppos√© que pour l'algorithme de Floyd, il serait n√©cessaire de dessiner en noir les bords r√©els stock√©s dans le tableau <code>c</code> , et en gris - les chemins les plus courts trouv√©s √† ce stade, stock√©s dans le tableau <code>d</code> .</i>  <i>Pour chaque bord et chemin le plus court, son poids est √©crit.</i> <br><br><h2>  S√©lection des d√©pendances </h2><br>  Pour l'√©tape suivante, il fallait comprendre comment faire tout cela.  Tout d'abord, l'int√©gration avec un d√©bogueur √©tait n√©cessaire.  La premi√®re chose qui vient √† l'esprit lorsque le mot "d√©bogueur" est gdb, mais il faudrait alors cr√©er l'int√©gralit√© de l'interface graphique √† partir de z√©ro, ce qui est vraiment difficile pour un √©tudiant √† faire pendant un semestre.  La deuxi√®me id√©e √©vidente est de cr√©er un plugin pour un environnement de d√©veloppement existant.  Comme options, j'ai consid√©r√© QTCreator, CLion et Visual Studio. <br><br>  L'option CLion a √©t√© rejet√©e presque imm√©diatement, car, d'une part, elle a ferm√© le code source, et d'autre part, tout est tr√®s mauvais avec la documentation (et personne n'a besoin de difficult√©s suppl√©mentaires).  QTCreator, contrairement √† Visual Studio, est multiplateforme et open source, et donc, au d√©but, nous avons d√©cid√© de nous y attarder. <br><br>  Il s'est av√©r√©, cependant, que QTCreator est mal adapt√© pour l'extension √† l'aide de plugins.  La premi√®re √©tape de la cr√©ation d'un plugin pour QTCreator consiste √† cr√©er √† partir des sources.  Cela m'a pris une semaine et demie.  Au final, j'ai envoy√© deux rapports de bogues ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l√†</a> ) concernant le processus d'assemblage.  Oui, c'est tout l'effort d√©ploy√© pour cr√©er QTCreator juste pour d√©couvrir que le d√©bogueur dans QTCreator n'a pas d'API publique.  Je suis revenu √† une autre option, √† savoir Visual Studio. <br><br>  Et cela s'est av√©r√© √™tre la bonne d√©cision: Visual Studio a non seulement une excellente API, mais aussi une excellente documentation pour cela.  L' <code>_debugger.GetExpression(...).Value</code> expression a <code>_debugger.GetExpression(...).Value</code> simplifi√©e en appelant <code>_debugger.GetExpression(...).Value</code> .  Visual Studio offre √©galement la possibilit√© d'it√©rer sur les cadres et d'√©valuer l'expression dans le contexte de l'un d'eux.  Pour ce faire, remplacez la propri√©t√© <code>CurrentStackFrame</code> par celle requise.  Vous pouvez √©galement suivre les mises √† jour du concours de d√©bogage pour redessiner l'image lors de la modification. <br><br>  Bien s√ªr, il n'√©tait pas suppos√© que je serais engag√© dans la visualisation de graphiques √† partir de z√©ro - il y a beaucoup de biblioth√®ques sp√©ciales pour cela.  Le plus c√©l√®bre d'entre eux est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Graphviz</a> , et nous avions pr√©vu de l'utiliser dans un premier temps.  Mais pour un plug-in pour Visual Studio, il serait plus logique d'utiliser la biblioth√®que pour C #, puisque j'allais √©crire dessus.  J'ai fait une petite recherche sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google</a> et j'ai trouv√© la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MSAGL</a> : elle avait toutes les fonctionnalit√©s requises et avait une interface simple et intuitive. <br><br><h2>  Preuve de concept </h2><br>  D√©sormais, disposant d'un m√©canisme de calcul des expressions arbitraires d'une part et d'une biblioth√®que de visualisation des graphes d'autre part, il fallait faire un prototype.  Le premier prototype a √©t√© fait pour DFS, puis l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">algorithme</a> Dinits, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'algorithme Kuhn</a> , la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">recherche de composants doublement connect√©s</a> , l'arbre cart√©sien et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SNM</a> ont √©t√© pris comme exemples.  J'ai pris mes anciennes impl√©mentations de ces algorithmes de la premi√®re √† la deuxi√®me ann√©e, cr√©√© un nouveau plug-in, dessin√© un graphique correspondant √† cette t√¢che (tous les noms de variables √©taient cod√©s en dur).  Voici un exemple de graphique que j'ai obtenu pour l'algorithme de Kuhn: <br><br><img src="https://habrastorage.org/webt/dr/bz/c1/drbzc1kb3yf0d2vkesimolwhhda.png"><br>  <i>Sur ce graphique, les ar√™tes correspondantes actuelles sont affich√©es en violet, le sommet dfs actuel est affich√© en rouge, les sommets visit√©s sont gris, les bords d'une cha√Æne alternative qui ne provient pas de la correspondance sont affich√©s en rouge.</i> <br><br>  J'ai consid√©r√© qu'il √©tait permis de modifier l√©g√®rement le code de l'algorithme pour le rendre plus facile √† visualiser.  Par exemple, dans le cas de l'arbre cart√©sien, il s'est av√©r√© qu'il est plus facile d'ajouter tous les n≈ìuds cr√©√©s √† un vecteur que de contourner l'arbre √† l'int√©rieur du plugin. <br><br>  Une d√©couverte d√©sagr√©able a √©t√© que le d√©bogueur dans Visual Studio ne prend pas en charge les m√©thodes et fonctions d'appel √† partir de la STL.  Cela signifiait qu'il n'√©tait pas possible de v√©rifier la pr√©sence d'un √©l√©ment dans le conteneur en utilisant <code>std::find</code> , comme suppos√© √† l'origine.  Ce probl√®me peut √™tre r√©solu soit en cr√©ant une fonction d√©finie par l'utilisateur, soit en dupliquant la propri√©t√© "l'√©l√©ment est contenu dans le conteneur" dans un tableau bool√©en. <br><br>  Dans mes plugins d'essai, quelque chose comme ce qui suit s'est produit (si le graphique a √©t√© stock√© en tant que liste d'adjacence): <br><br><ol><li>  Vient d'abord la boucle <code>for</code> de <code>0</code> √† <code>_debugger.GetExpression("n").Value</code> , qui a ajout√© tous les sommets au graphique, chacun avec son propre num√©ro. <br></li><li>  Ensuite, il y a deux <code>_debugger.GetExpression($"g[{i}].size()").Value</code> imbriqu√©es <code>for</code> , la premi√®re sur <code>i</code> - de <code>0</code> √† <code>n</code> , la seconde sur <code>j</code> - de <code>0</code> √† <code>_debugger.GetExpression($"g[{i}].size()").Value</code> , et le bord <code>{i, _debugger.GetExpression($"g[{i}][{j}]").Value}</code> . <br></li><li>  Si n√©cessaire, des informations suppl√©mentaires ont √©t√© ajout√©es aux √©tiquettes des sommets et des ar√™tes.  Par exemple, la valeur du tableau <code>d</code> , qui est responsable de la distance au sommet s√©lectionn√©. <br></li><li>  Si l'algorithme √©tait bas√© sur dfs, un cycle a ensuite parcouru tous les cadres en verre et tous les sommets de la pile ( <code>stackFrame.FunctionName.Equals("dfs") &amp;&amp; stackFrame.Arguments.Item(1) == v</code> ) √©taient surlign√©s en gris. <br></li><li>  Ensuite, pour chaque <code>i</code> de <code>0</code> √† <code>n</code> , d√©notant les nombres des sommets, certaines conditions ont √©t√© v√©rifi√©es, et si elles √©taient satisfaites, alors certaines propri√©t√©s ont chang√© au sommet, le plus souvent la couleur. <br></li></ol><br>  √Ä ce moment-l√†, j'ai √©crit le code ¬´au besoin¬ª, sans essayer de trouver un sch√©ma g√©n√©ral pour tous les algorithmes, ou d'√©crire le code au moins d'une mani√®re magnifique.  La cr√©ation de chaque nouveau plugin a commenc√© avec le copier-coller du pr√©c√©dent. <br><br><h2>  Configuration graphique </h2><br>  Apr√®s la recherche, il a fallu √©laborer un sch√©ma g√©n√©ral applicable √† tous les algorithmes.  La premi√®re chose qui a √©t√© introduite a √©t√© les index des sommets et des ar√™tes.  Chaque index a un nom unique et des extr√©mit√©s de plage, calcul√©es √† l'aide de <code>_debugger.GetExpression</code> .  Pour acc√©der √† la valeur de l'index, utilisez son nom entour√© de __ (c'est-√†-dire __x__).  Les expressions avec des emplacements pour substituer des valeurs d'index, ainsi que le nom de la fonction actuelle (__CURRENT_FUNCTION__) et les valeurs de ses arguments (__ARG1__, __ARG2__, ...), sont appel√©es mod√®les. <br><br>  Les index sont substitu√©s pour chaque sommet ou ar√™te, puis ils sont calcul√©s dans le d√©bogueur.  Des mod√®les ont √©t√© utilis√©s pour filtrer certaines valeurs d'index (si le graphique est stock√© en tant que matrice d'adjacence <code>c</code> , alors les indices seront a et b de 0 √† n, et le mod√®le de validation est <code>c[__a__][__b__]</code> ).  Les limites de la plage d'index sont √©galement des mod√®les, car elles peuvent contenir des index pr√©c√©dents. <br><br>  Un graphique peut avoir diff√©rents types de sommets et d'ar√™tes.  Par exemple, dans le cas de la recherche de la correspondance maximale dans un graphique bipartite, chaque fraction peut √™tre index√©e s√©par√©ment.  Par cons√©quent, le concept de famille a √©t√© introduit pour les sommets et les ar√™tes.  Pour chaque famille, l'indexation et toutes les propri√©t√©s sont d√©termin√©es ind√©pendamment.  Dans ce cas, les ar√™tes peuvent connecter des sommets de diff√©rentes familles. <br><br>  Vous pouvez attribuer des propri√©t√©s sp√©cifiques √† une famille de sommets ou d'ar√™tes qui seront appliqu√©es de mani√®re s√©lective aux √©l√©ments de la famille.  La propri√©t√© est appliqu√©e si la condition est remplie.  La condition se compose d'un mod√®le √©valu√© comme <code>true</code> ou <code>false</code> et d'une expression r√©guli√®re pour le nom de la fonction.  La condition est v√©rifi√©e soit uniquement pour le cadre en verre actuel, soit pour tous les cadres en verre (puis elle est consid√©r√©e comme remplie si elle est satisfaite pour au moins un). <br><br>  Les propri√©t√©s sont tr√®s diverses.  Pour les sommets: √©tiquette, couleur de remplissage, couleur de bordure, largeur de bordure, forme, style de bordure (par exemple, ligne pointill√©e).  Pour les bords: √©tiquette, couleur, largeur, style, orientation (vous pouvez sp√©cifier deux fl√®ches - du d√©but √† la fin ou vice versa; dans ce cas, il peut y avoir deux fl√®ches en m√™me temps). <br><br>  Il est important qu'√† chaque fois que le graphe soit dessin√© √† partir de z√©ro, l'√©tat pr√©c√©dent ne soit en aucun cas pris en compte.  Cela peut √™tre un probl√®me si le graphique change dynamiquement au cours de l'algorithme - les sommets et les bords peuvent changer radicalement leur position, et il est alors difficile de comprendre ce qui se passe. <br><br>  Une description d√©taill√©e de la configuration du graphique peut √™tre trouv√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h2>  Interface utilisateur </h2><br>  Avec l'interface, j'ai d√©cid√© de ne pas trop m'emb√™ter.  La fen√™tre principale avec les param√®tres ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ToolWindow</a> ) contient une zone de texte pour la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">configuration</a> s√©rialis√©e en JSON et une liste des familles de sommets et d'ar√™tes.  Chaque famille a sa propre fen√™tre avec des param√®tres et chaque propri√©t√© de la famille a une fen√™tre suppl√©mentaire (trois niveaux d'imbrication sont obtenus).  Le graphique lui-m√™me est dessin√© dans une fen√™tre s√©par√©e.  Cela n'a pas fonctionn√© pour le mettre dans ToolWindow, j'ai donc envoy√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport de bogue</a> aux d√©veloppeurs MSAGL, mais ils ont r√©pondu que ce n'√©tait pas le cas d'utilisation cible.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un autre rapport de bogue a</a> √©t√© envoy√© √† Visual Studio, car les TextBox se bloquaient parfois dans les fen√™tres de param√®tres suppl√©mentaires. <br><br><img src="https://habrastorage.org/webt/n2/jo/-b/n2jo-buqxeq40a03zs0wochfrl0.png"><br><br><h2>  Plugin </h2><br>  Afin de configurer le graphe, le plugin a une interface utilisateur et la possibilit√© de (d√©) s√©rialiser la config en JSON.  Le sch√©ma g√©n√©ral d'interaction de tous les composants est le suivant: <br><br><img src="https://habrastorage.org/webt/yv/kz/rx/yvkzrx4fglqdelkutvbdqzgqlj0.png"><br><br>  Le bleu montre les composants qui existaient √† l'origine, le gris - que j'ai cr√©√©.  Lorsque Visual Studio d√©marre, l'extension est initialis√©e (ici le composant principal est d√©sign√© comme Main).  L'utilisateur a la possibilit√© de sp√©cifier la configuration via l'interface.  Chaque fois que le contexte du d√©bogueur est modifi√©, le composant principal est notifi√©.  Si la configuration est d√©finie et que le programme en cours de d√©bogage est ex√©cut√©, GraphRenderer est lanc√©.  Il re√ßoit une entr√©e de configuration et √† l'aide d'un d√©bogueur construit un graphique dessus, qui est ensuite affich√© dans une fen√™tre sp√©ciale. <br><br><h2>  Des exemples </h2><br>  En cons√©quence, j'ai cr√©√© un outil qui vous permet de visualiser les algorithmes graphiques et n√©cessite de petites modifications dans le code.  Il a √©t√© test√© sur huit t√¢ches diff√©rentes.  Voici quelques photos r√©sultantes: <br><br><img src="https://habrastorage.org/webt/a1/lw/z6/a1lwz6jlyloms0dfmzddoxx9gxk.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Algorithme de Ford-Bellman</a> : le sommet auquel nous comptons les chemins les plus courts est indiqu√© par une maison, la distance la plus courte actuellement trouv√©e pour les sommets est d, et le bord le long duquel passe la relaxation est rouge.</i> <br><br><img src="https://habrastorage.org/webt/5k/5h/rk/5k5hrko_liqr2kgbctgdeznbc44.gif"><br>  <i>Animation avec DFS - le sommet actuel est affich√© en rouge, les sommets de la pile sont gris et les autres sommets visit√©s sont verts.</i>  <i>Les c√¥tes framboises indiquent la direction du bypass.</i> <br><br>  D'autres exemples d'algorithmes sont disponibles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici.</a> <br><br><h2>  Protection NIR </h2><br>  Pour prot√©ger le travail de recherche, les √©tudiants sont tenus de parler de leur travail pendant un semestre en sept minutes.  En m√™me temps, que le sujet ait √©t√© propos√© dans le cadre de la pr√©sentation d'un travail de recherche ou que l'√©tudiant l'ait trouv√© seul, vous devez √™tre en mesure de r√©pondre pour justifier pourquoi le sujet du projet r√©pond aux exigences d√©crites au d√©but.  En r√®gle g√©n√©rale, un rapport est structur√© comme suit: il y a d'abord la motivation, puis un examen des analogues, on explique pourquoi ils ne nous conviennent pas, puis des buts et objectifs sont formul√©s, puis chacune des t√¢ches est d√©crite comment elle a √©t√© r√©solue.  √Ä la fin, il y a une diapositive avec les r√©sultats, qui dit encore une fois que l'objectif a √©t√© atteint et que toutes les t√¢ches ont √©t√© r√©solues. <br><br>  Comme j'avais d√©j√† d√©cid√© de la motivation et de la r√©vision des analogues au stade initial, je devais simplement rassembler toutes les informations et les compresser en sept minutes.  Au final, j'ai r√©ussi, la d√©fense s'est bien d√©roul√©e, on m'a donn√© le score maximum pour la recherche. <br><br><h2>  Les r√©f√©rences </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©p√¥t GitHub</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Place de march√© Visual Studio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Publier sur Codeforces</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr461473/">https://habr.com/ru/post/fr461473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr461463/index.html">Processus commerciaux dans les entreprises: sp√©culation et r√©alit√©. Faites la lumi√®re avec R</a></li>
<li><a href="../fr461465/index.html">Guide de mesure</a></li>
<li><a href="../fr461467/index.html">Un exemple de cr√©ation d'applications Makefile for Go</a></li>
<li><a href="../fr461469/index.html">√Ä quoi ressemble l'√©coute de code √† 1000 mots par minute</a></li>
<li><a href="../fr461471/index.html">.NET - Outils pour travailler avec le multithreading et l'asynchronie - Partie 2</a></li>
<li><a href="../fr461475/index.html">AMA avec Habr.1011</a></li>
<li><a href="../fr461483/index.html">√âquilibrage de charge Openstack</a></li>
<li><a href="../fr461487/index.html">Mini t√¢ches CTF</a></li>
<li><a href="../fr461493/index.html">Django 3.0 sera asynchrone</a></li>
<li><a href="../fr461497/index.html">Rendu de texte moderne sous Linux: partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>