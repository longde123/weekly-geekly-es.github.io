<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👧‍👧 ☑️ 🗒️ 重新编写代码，以及如何解密它们。 标识符的秘密力量 🛵 💦 👏🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="纯粹的代码读起来像写得很好的散文。 
 格雷迪·布奇 
 重新编码 


 什么是转载？ 这是一条加密的消息。 笔迹的作者采用普通的人类文字，并使用绘图，数字和字母对其进行编码。 我们研究这种加密并尝试读取源文本。 

 重写有两种形式。 一方面，重传是原始未加密的文本，另一方面，是密文图。 文本是...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>重新编写代码，以及如何解密它们。 标识符的秘密力量</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419269/"><blockquote> 纯粹的代码读起来像写得很好的散文。 <br>  <i>格雷迪·布奇</i> <br></blockquote><h2> 重新编码 </h2><br><img src="https://habrastorage.org/webt/7x/kw/pl/7xkwplb_gdofblahdmwqiqvz4f0.jpeg"><br><br> 什么是转载？ 这是一条加密的消息。 笔迹的作者采用普通的人类文字，并使用绘图，数字和字母对其进行编码。 我们研究这种加密并尝试读取源文本。 <br><br> 重写有两种形式。 一方面，重传是原始未加密的文本，另一方面，是密文图。 文本是重述的“内容”，即含义，消息。 图片是“如何”的：通过<i>何种</i>方式对消息进行精确的加密。 猜中谜题，我们将“如何”转换为“什么”。 <br><a name="habracut"></a><br> 绘画是谜语的语言，是表达手段的武器库。  rebusnik确实是在这些图纸的帮助下与我们交流的，传达了一些信息。 不允许他使用普通的人类语言。 <br><br> 这是谜题的读法： <br><br><img src="https://habrastorage.org/webt/ot/yj/pe/otyjpegfyy8v5-7gk8vji8s9ddc.jpeg"><br><br><h2> 该代码就像是重复 </h2><br> 程序代码与rebus有一些共同点：它也有自己的“什么”和“如何”。 而且有时还必须解密。 <br><br> 代码的“含义”是其目的，含义，效果以及我们期望的最终结果。  <i>他</i>到底在<i>做什么</i> 。 <br><br> 代码的“方式”-通过什么具体的方式，通过什么具体的赋值，乘法，比较来完成其“什么”； 算法的实现，指令给处理器。 它是一种允许的代码语言，它是表达手段的库。 <br><br> 马丁·福勒（Martin Fowler）以此方式谈论它（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“函数长度”</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">原文</a> ）： <br><blockquote> 那些年里，Smalltalk在黑白机器上工作。 如果需要突出显示文本或图形，则必须反转视频。  Smalltalk中负责计划的类包含“突出显示”方法，在其实现中只有一行-调用“反向”方法。 该方法的名称比实现的名称更长，但是没关系，因为此代码的意图和实现之间的距离很大。 <br></blockquote> 这里重点是“什么”。 用马丁的术语来说， <i>意图是</i> ：“突出显示图像的一部分。” 名称表示此功能的作用。 反向是如何<i>实现的</i> 。  <i>如何</i>精确执行突出显示（使用图像反转）。 那就是“什么”和“如何”之间的区别。 <br><br> 尽管该方法的名称比其实现的名称更长，但是由于非常简单的原因，这种方法的存在还是有意义的。 当我们在代码中看到一个反向调用时，我们必须了解或记住图像反转用于使该图像更加可见。 当我们看到高亮显示时，我们读到：“使该片段更加可见。” 在第一种情况下，我们花了些心血来理解分配给代码的任务，在第二种情况下-否。 在第一种情况下，我们看到眼前的重传需要解密，在第二种情况下，这是一个易于理解的语言故事。 <br><br> 程序员在编写程序时就像是重用。 程序员使用可用的编程语言工具（比人类语言原始得多）对算法的人类描述进行加密。 用“如何”加密“什么”。 后来，他或他的同事读取了代码，破译了<s>这些</s>代码， <s>重新演算法的</s>最初描述。  <b>如果在阅读代码的过程中我们无法立即了解每个片段的执行将导致什么结果，即代码的目的和意义是什么，那么该代码就是重用，需要用一种清晰的语言重写。</b> <br><br> 代码中的难题的问题在于，它们<i>总是</i>需要精神上的努力。 即使我们在脑海中没有进行全套解密操作，只是愚蠢地记住一些重传的含义，它仍然会产生负载：首先，记住其含义，其次，在录制转换时以此值进行重新计算。 <br><br> 蒂姆·奥廷格（Tim Ottinger）在“清理代码”一书中谈到的，是在思维上进行的非常精神上的转变，在阅读代码时解密重用。 的确，他在为变量分配可理解的名称的上下文中讨论了它们，但是问题完全相同。 提姆的话： <br><blockquote> 通常，程序员非常聪明。 聪明的人有时喜欢表现出智力的力量，展示出他们在心理上变魔术的能力。 最后，如果您还记得变量r包含一个带有远程主机的URL以及一个转换为小写形式的方案，那么这显然表示您的想法。 <br> 聪明的程序员和专业的程序员之间的区别之一是专业人士理解：清晰度至关重要。 专业人士善用自己的力量，编写其他人可以理解的代码。 </blockquote> 如果有很多这样的重载，那么即使每个重载的负载很小，也会变成问题。 您可能遇到了精疲力尽的代码。  <b>知道：代码中的重复是造成您疲劳的原因。</b> 在编写代码的过程中，重用甚至直接加剧了自己作者的疲劳。 毕竟，在编写代码的同时，程序员还不断地重新读取所写的内容。 尽管作者并没有解密自己的难题，只是记住，它们仍然会产生负担。 陷阱是<b>作者根本看不到自己代码中的困惑</b> ！ 试想一下，如果早晨开始摆脱代码中的困惑，那么晚上可以节省多少精力！ <br><br> 因此，为了减少编写和阅读代码的疲劳，您需要避免困惑。 但是怎么做呢？ <br><br><h2> 代码的语言。 标识符强度 </h2><br> 我同意Grady Butch的说法，即干净的代码读起来就像是散文。 这是必要的条件，尽管还不够充分。 我们大多数人都会直观地了解要解决的问题，但是我想至少得到一些定义：这是什么-好的散文。 <br><br> 我问过我的作家们：好散文与坏散文有何不同？ 每个人的回答都不同，但是以某种方式强调了语言的重要性：它必须丰富，必须在读者的思想和灵魂上创造清晰的图像。 当读者轻松拥有作者想要为其绘制的清晰图片时，我们正在处理好的散文。 <br><br> 该代码告诉处理器它应该做什么。 一个好的代码同时可以告诉程序员-而且，这是非常真实的！  -他在这里做什么。 也就是说，它提出的算法尽可能接近作者本人将以自然语言完成的算法。 我们的代码必须做得很好，否则可能会<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">带着电锯或shot弹枪肆无忌ia地</a>来到我们家。 该代码不应是重复代码。 <br><br> 该代码有哪些工具才能不被滥用？ <br><br> 如果代码本身使用人类语言说话，那么代表代码的故事将很容易被人理解。 这只能借助标识符来实现：函数，类，变量和常量的名称-因为<b>只有在标识符中，我们才能使用所需的人类语言的任何单词</b> 。 <br><br> 当然，编程语言的关键字也是人类的单词，但是它们的词汇太糟糕了。 像食人魔埃洛奇卡（Ellochka the Ogre）的语言-您不能在上面写好散文。 <br><br> 因此，至关重要的是，程序代码应包含尽可能多的正确选择的标识符。 这样它们的整体就构成了写得很好的散文。 <br><br> 选择合适的变量和方法的名称，看看读取代码行是多么容易： <br><br><pre><code class="ruby hljs">pageData.hasAttribute(<span class="hljs-string"><span class="hljs-string">"Test"</span></span>) dom_tree.to_html() emails_str.split(<span class="hljs-string"><span class="hljs-string">','</span></span>)</code> </pre> <br> 看看这些简短的短语，就很容易理解他们在说什么。 我们知道会得到什么结果，因为标识符会告诉我们有关结果。 现在，想象在每个这样的调用的地方是它的实现-这样的“加密”代码的读取速度会降低多少？ <br><br> 许多最简单的重构技术：命名常量，选择方法，用方法调用替换变量，解释变量，拆分临时变量等，都是关于<b>如何使代码讲人类语言，换句话说，如何避免困惑</b> 。 <br><br><h2> 中继方式 </h2><br> 当我阅读《 Pure Code》时，我经常被这样的想法所吸引：“该死！”。 <br><br> 罗伯特·马丁（Robert Martin）从他40多年的经验中为我们提供了有关如何使代码更好的技巧。 例如： <br><blockquote> 第一条规则：功能应该紧凑。 第二条规则：功能应该更加紧凑。 </blockquote> 然后他承认，他无法在科学上证实其主张。 老实说，不科学，他也做得不好。 对功能紧凑性的要求已经开始看起来像教条，这就是为什么<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">关于</a>功能长度问题的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">争论</a>已经有数十年没有消退的原因了。 <br><br>  Bob还提供编写每个函数的功能，以便仅执行一个操作。 而且，这是什么操作-也不是很清楚。 我们必须寻求帮助，即单一抽象级别的原则，这会使情况进一步混乱。 这一切太迷雾了。 <br><br> 马丁·福勒（Martin Fowler）更务实。 <br><br><blockquote> 在我看来，关于意图和实现分离的争论更具意义。 如果看一段代码，您需要努力了解它在做什么，那么您需要将其放入函数中，并根据此“内容”为其命名。 然后，下一次该功能的用途将立即变得很明显，并且在大多数情况下，您无需关心该功能如何执行其工作。 <br><br><div class="spoiler">  <b class="spoiler_title">原来的</b> <div class="spoiler_text"> 然而，对我而言最有意义的论点是意图与执行之间的分离。 如果您必须花精力去看一段代码来弄清楚它在做什么，那么您应该将其提取到一个函数中，并以“什么”命名。 这样，当您再次阅读该功能时，该功能的目的便会自动出现在您身上，并且在大多数情况下，您无需关心该功能如何实现其目的-这就是该功能的主体。 <br></div></div></blockquote> 已经更好了。 您现在看到马丁在这段话中想说什么吗？ 他的意思是：让我们消除困惑。 让代码本身告诉我们结果将是什么，以及如何-让它隐藏在函数定义中更远的地方。 让所有难题解开。 没有难题-无需努力。 <br><br> 在任何情况下都不应盲目地应用重构方法。 这是如此明显，但是如何理解何时真正需要重构以及何时不需要重构呢？  <b>重构方法说：如果重构后重构没有消失，则不需要重构</b> 。 <br><br>  <b>如果找不到新功能的名称可以清楚地解释其中发生的事情，则可能是您在做错事情。</b>  <b>尝试在函数中选择稍有不同的代码片段-您可以在该片段中快速找到一个易于理解的简称。</b> <br><br><h2> 用代码解码难题的例子（不是很成功） </h2><br> 因此，我将引用我喜欢的《清洁代码》一书的片段。 在重构之前，我们看到充满困惑的代码。 重构是由该书的作者根据他所提倡的良好代码规则完成的，并且-巧合的是-重构后的代码看起来完全像是对解密进行解密的代码。 <br><br> 重构作者完全应用了人类可读的标识符（类名，方法和变量）来指示代码实际上在做什么。 遗憾的是，并非所有地方都成功实现了这一目标，而且在某些地方出现了新的难题，而不是以前的困惑。 <br><br> 例如，此段落中最常用的include方法 <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">include</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String pageName, String arg)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ WikiPage inheritedPage = findInheritedPage(pageName); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (inheritedPage != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { String pagePathName = getPathNameForPage(inheritedPage); buildIncludeDirective(pagePathName, arg); } }</code> </pre> <br> 该名称完全不反映实施中发生的情况。 包括什么，在哪里？ <br><br> 查看此方法的调用： <br><br><pre> <code class="java hljs">include(<span class="hljs-string"><span class="hljs-string">"TearDown"</span></span>, <span class="hljs-string"><span class="hljs-string">"-teardown"</span></span>);</code> </pre> <br> 在这里无法说出代码作者将要实现的结果。 <br><br>  Next：buildIncludeDirective有什么作用？ 从名称来看，他应该制定某种包含指令，那又如何呢？ 带她回来吗 但是没有 他立即将其添加到总体结果中。 <br><br> 这是另一个updatePageContent。 在调用方法后，updatePageContent告诉我们什么结果？ 没事 那里的某些页面内容将被没人知道的内容取代。 为什么在这里执行称为方法提取的重构？ 他有没有帮助摆脱困境？ 它没有帮助，但只会使代码更加混乱。 在这种情况下，最好使用该方法的主体。 建筑施工 <br><br><pre> <code class="java hljs">pageData.setContent(newPageContent.toString());</code> </pre> <br> 比神秘的updatePageContent（）清晰得多。 <br><br> 作为一种娱乐活动，我建议读者寻找<a href="">重构代码中</a>还有哪些其他不好的地方。 <br><br> 为了证明鲍勃的合理性，我可以说这段代码不再存在于FitNesse的当前版本中。 显然，他也曾经被重构过。 <br><br><h2> 结论 </h2><br> 功能的长度对于确定功能的质量而言过于模糊。  “简短功能”不等于“良好功能”。 函数的长度不是一个标准，算了吧。 <br><br> 好的代码应该为程序员的问题提供答案-他为什么在这里（代码）， <s>他在</s>这里<s>到底在做什么</s> ， <s>他正在</s>取得结果。 这些答案只能使用标识符给出。 <br><br> 作为示例代码不应给出的答案的一个例子，我想摘录一本有趣的书。 <br><blockquote>  “我是罗南，邪恶的胜利者，”他慢慢地说。  -这是塔尔 我们要你一些 <br> 问问题。 如果撒谎，你就会死。 知道了 <br>  “我，叔叔，永远。”他呼吸。 拜托 我会说全部。 <br>  “很好，”罗南继续说道。  -名字？ <br>  -Ronan，邪恶的胜利者。 <br>  -是的，不是我的，白痴！ <br>  “啊，是的，然后是塔尔，”兽人道歉地回答。 <br>  -不是我的！ 喃喃自语的塔尔。  -你的名字，俱乐部！ 名！ <br>  “这个名字是我用来区别别人的名字，”兽人喃喃地说。 <br>  -好吧，在这里给这个名字！ 大喊的塔尔。 <br>  Orka忽然忽然醒了。 <br>  -啊！  imple！ <br>  “那么粉刺，你在这里做什么？” <br> 真实的回答是：“我把它放在裤子里。” <br> 罗南厌恶地皱了皱鼻子。 <br>  “不，我问你那帮兽人在这里做什么！” <br> 丘疹的眼睛迅速转过身，环顾四周。 <br> 他喃喃地说：“这里的大多数人都没有头。” <br>  Tarle碰到Ronan的肩膀。 <br>  “让我尝试，”他自信地说，转向那只受惊的兽人。  -告诉我， <br> 丘疹，“他继续说道，”你为什么在这里？ <br>  -叔叔，别问。 对我来说，生存哲学只是一片黑暗。 <br>  “听着，你这龙打，”他闷闷地咆哮。  -您那帮兽人有一个特殊的 <br> 来这里的理由。 在森林里是什么？ <br>  -有很多树。 <br> 罗南的眼睛鼓了起来，塔尔转过身去。 感觉自己没有给出预期答案的丘疹开始喃喃自语。 <br>  -如果您想知道原因而不是森林，那都是因为酒吧里的那个人 <br> 付钱给我们杀了你 <br>  <i>詹姆斯·比比（James Bibby），蛮族罗南（Ronan）</i> </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN419269/">https://habr.com/ru/post/zh-CN419269/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN419257/index.html">印度推出新的PD保护法案-GDPR的另一种方式？</a></li>
<li><a href="../zh-CN419259/index.html">Rust 1.28发布</a></li>
<li><a href="../zh-CN419261/index.html">在Google上执行的操作：在Dialogflow和Cloud Functions for Firebase上为Google助手编写一个简单的应用程序</a></li>
<li><a href="../zh-CN419265/index.html">使用多层神经网络避免游戏中的障碍</a></li>
<li><a href="../zh-CN419267/index.html">SOK联合之旅</a></li>
<li><a href="../zh-CN419271/index.html">Python和JavaScript中的类似物。 第四部分</a></li>
<li><a href="../zh-CN419273/index.html">编写Linux内核模块：具有IRQ支持的GPIO</a></li>
<li><a href="../zh-CN419277/index.html">防护等级为IP68的热敏胶带。 适用于浴室的照明</a></li>
<li><a href="../zh-CN419279/index.html">适用于264开发人员的有趣材料摘要（7月30日-8月5日）</a></li>
<li><a href="../zh-CN419281/index.html">RCM-RC文件管理器：调整和使用</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>