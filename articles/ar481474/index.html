<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ธ ๐บ ๐ฉโ๐ฆโ๐ฆ ูุญู ูู ุงุฎุชุจุงุฑ ุขุฎุฑ - ูุญู ูุฎุชุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู MSTest ๐ญ ๐ง๐ฟโ๐คโ๐ง๐ป ๐ฆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงุฎุชุจุงุฑ ููุจุฏุฃ ุนุงููู 
 ููุฏ ุงุญุชูููุง ุจุงูุฃูููุฉ ุงูุซุงูุซุฉ ูุฑุจุน ูุฑู ุชูุฑูุจูุง ุ ูุงูุงุฎุชุจุงุฑ ุจุฏุฃ ูู ุญูุงุชูุง ... ูู ุงูุตุนุจ ุฅููุงุน ุงููุทูุฑูู ุงููุจุชุฏุฆูู ุจุงุณุชุฎุฏุงู ูุฐู ุงูุชููู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุญู ูู ุงุฎุชุจุงุฑ ุขุฎุฑ - ูุญู ูุฎุชุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู MSTest</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481474/" style=";text-align:right;direction:rtl"><h4 style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑ ููุจุฏุฃ ุนุงููู </h4><br>  ููุฏ ุงุญุชูููุง ุจุงูุฃูููุฉ ุงูุซุงูุซุฉ ูุฑุจุน ูุฑู ุชูุฑูุจูุง ุ ูุงูุงุฎุชุจุงุฑ ุจุฏุฃ ูู ุญูุงุชูุง ... ูู ุงูุตุนุจ ุฅููุงุน ุงููุทูุฑูู ุงููุจุชุฏุฆูู ุจุงุณุชุฎุฏุงู ูุฐู ุงูุชูููุฉ ุงููุฐููุฉ ูู ุนูููู ... ูุงุฐุง ูููููุง ุฃู ูููู ุนู ุงููุทูุฑูู ุ ูุฌุฑุฏ ุจุดุฑ ุ ูููุณ ูู ุงููููู ุฏุงุฆููุง ููู ุฃู ุงูุงุฎุชุจุงุฑ ูู ุงูุฃุณุงุณ ูุธู ูุณุชุฏุงูุฉ!  ูุง ูุฏู ุตุนูุจุฉ ุฅููุงุน ุงูุจุงุฆุนุฉ ุฃู ุงุฎุชุจุงุฑ ููุชุฌ ุฌุฏูุฏ ูุง ูุนูู ุชูุงููู!  ูู ุงููุงุถุญ ุฃู ุญุฑุงุณ ุงูุฃูู ุฐูู ุงูุฎุจุฑุฉ ูุนูููู ุจุงูุทุฑููุฉ ุงููุฏููุฉ - ููู ูุญุงูููู ุงููุญุงู ุจุงูุงุฎุชูุงุฑ ูุชุญุฏูุฏ ุงูุงุฎุชุจุงุฑ.  ููู ุชุซุจุช ููู ุฃูู ุฅุฐุง ูุงู ุงูุฑุจ ุงูุฑุจ ููุณู ูุง ูุญุชูุฑ ูุงุณุชุฎุฏุงู TDD ูู ุนููู (ุชุฐูุฑ ุงูุทููุงู ุงูุนุธูู) ุ ุซู ููุง ูููููู ุ ุฃูุฑ ุงููู ููุณู ... <br><br>  ูุชุฒุงูุฏ ุนุฏุฏ ุญุงูุงุช ุงูุทูุงู - ููุงุฐุงุ  ูุนู ุ ูู ููุณ!  TDD!  ุงุฎุชุจุงุฑ ุฃููุง - ุซู ุงูุฒูุงุฌ!  ูุง ุ ุงูุฑุฌุงู ุงูุตุบุงุฑ ุงูุณุฐุฌ ุงูุฐูู ูุฑุชุฏูู ูุนุงุทู ุฌูุฏ ุงูุบูู ูุถูุงุถุฉ ุ ูุชุนุทุดูู ููุฅุนูุงูุงุช ุงูุชุฌุงุฑูุฉ ุงูุชู ุชุณุชุบู ุงูุฌูุณ ุ ุจุฏุฃูุง ุจุฒูุฌูู ุงูุดุงุจ ูู ุงูุฅูุชุงุฌ ... <br><br>  ุญุณููุง ุ ูุญู ูุนู ูู ุงุฎุชุจุงุฑ ุขุฎุฑ ุ ุฃูู ุงุฎุชุจุงุฑ - ุซู ูู ุดูุก ุขุฎุฑ! <br><br><h4 style=";text-align:right;direction:rtl">  ุฃูุง ุฃุฏุฑู ุงุฎุชุจุงุฑ ุจูุงุณุทุฉ ูุดูุฉ ... </h4><br>  ูููุฐุง ุ ุนูุฏูุง ุจุฏุฃุช ูู ูุชุงุจุฉ ุฃูู ูุงุนุฏุฉ ุจูุงูุงุช ููุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุ ููุฑุช ูู ุงูุฃูุฑ ุ ูููุงุฐุง ูุง ูุฌุฑู ุงูุงุฎุชุจุงุฑ ุงูุชููุงุฆู ูุทุจูุฉ DAL ุงูุฎุงุตุฉ ุจู ูุจุงุดุฑุฉู ุนูู ุงูุงุฎุชุจุงุฑุงุช ุงููุถููุฉ ูู VisualStudioุ <br><br>  ููุนูุช ุฐูู!  ุดูุงู ูู EntityFramework ุ ุฏูู ุฃู ุฎูุฉ ูู ุงููุฏ ุชุญุช ุงูุฃุบุทูุฉ ูุงูุงุญุชูุงู ุจุฃุดูุงุก ููููุฉ.  ุงูุฐู ููุชู - ูุดู VS ุ ูุงููุจุงุณ ูุซู ุงุฎุชุจุงุฑ ูุชุฐูุจ!  (ุฃูุง ุฏุงุฆูุง ุงุฑุชุฏุงุก ูุซู ุงุฎุชุจุงุฑ) <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงุฎุชุจุงุฑ ุงูููุงุจุณ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/tg/pv/kw/tgpvkwgvjzb4zf7tt-navdbcazi.jpeg" alt="ุตูุฑุฉ"><br></div></div><a name="habracut"></a><br><h4 style=";text-align:right;direction:rtl">  ูุฐุจ ุนูู ุงูุฌููุน ุ ูุฐุง ูู ุงูุงุฎุชุจุงุฑ! </h4><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุญุงูุฉ ุงูุญูุงุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุนููุช ูู ูุดุฑูุน ูุน ุงูููุฏ ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">ObjectLink link = this.ObjectLinks.ToList().Where(x =&gt; x.SpotCode.ToLowerInvariant() == code.ToLowerInvariant()).SingleOrDefault();</code> </pre> <br>  ูู ุชุชู ุชุบุทูุฉ ูุฐุง ุงูุฑูุฒ ุจูุงุณุทุฉ ุงูุงุฎุชุจุงุฑุงุช ุ ูุฃูู ูู ููู ูุฏูู ููุช - ูุงู ูู ุงูุถุฑูุฑู ุชุดุบูู ูุธุงุฆู ุฌุฏูุฏุฉ ูุชุนููุฉ ุจุงูุชุณููู.  ูู ุดูุก ูุงู ูุนูู ุนูุฏ ุงูุชุญูู ูุฏูููุง ุ ูููุช ูุฑุชุงุญูุง ุจุงููุนู ... ููู ุจูู ุบูุชุณ ุชุณูู ุฏูู ุฃู ููุงุญุธู ุฃุญุฏ ... <br><br>  ููุฏ ูุงู ุฎุฑูููุง ุดุงุนุฑููุง ูู ุณุงู ุจุทุฑุณุจุฑุบ ุ ุชุณุงูุทุช ุงูุซููุฌ ูุงูุฃูุทุงุฑ ุจูุทู ุนูู ูุฌูู ุ ูุณูุทุช ุงูุฃูุณุงุฎ ุจูุฑุญ ูู ุณุงูู ุงูุจูุทููู ูุงููุชูุงุช ุบูุฑ ุงููุฃูููุงุช ุงููุงุฆู ุงุจุชุณูู ูู ุฎูุงู ุงููุงููุงุฌ ุงูููุชุดุฑ ุ ุตุจ ุงูุดุงุญูุงุช ุงููุงุฑุฉ ... ุฐูุจุช ุจุงููุนู ูุฅุตุจุนู ูู ุฃููู ุ ุนูุฏูุง ูุงูุช ุบุงุฏุฑุฉ ุ ูุจู ุฃู ุฃุชุนุฑุถ ููุญุฑุจ ุ ูุจู ุนูุฏ ุงููุฌุฑ ุ ูุงูุช Microsoft ุจูุทุน ุงูุฃุณูุงู ุงูุดุงุฆูุฉ ูุฃุตุฏุฑุช ุงูุชุญุฏูุซ ุงูุฃุณุงุณู 3.0.  ุชู ุชุญุฏูุซ ุงููุถูู ุ ููุฏ ููุช ุจุชุญุฏูุซู ุฃูุถูุง ุ ูููุงุฐุง ูู ุงููุฏูู - ูู ุฃูุง ุฃุณูุฃ ูู ุงููุถููุ  ุฑุงุฌุนุช ูู ุดูุก ูุซูู ูุทุฑุญ ุงูุชุญุฏูุซ ... ุซู ุฎุฑุฌุช ุนููู!  ูุธุงุฆู ุฌุฏูุฏุฉ ูู ุชูุฌุญ!  ูุจุฏู ุฃููู ุงุฎุชุจุฑุช ุฐูู ูู ูุจู - ูุงุฐุง ูููู ุฃู ูุญุฏุซุ <br><br>  ููุฐุง ูุง ุญุฏุซ: ูุฑุฑ Billy ุงููุฏูู ูุทุนู ูู LINQ ToLowerInvariant ... ุงูุขู ุชุญุชุงุฌ ุฅูู ุงูุงุชุตุงู ุจู ููุฏููุง ูุฅุฏุฑุงุฌ ุงููููุฉ ุงูููุงุฆูุฉ ... ุฅุฐุง ูุงูุช ุงูุดูุฑุฉ ูุบุทุงุฉ ุจุงูุงุฎุชุจุงุฑุงุช ุ ูุณูู ุฃูุงุญุธูุง ููุฑูุง ุนูุฏ ุงูุงุฎุชุจุงุฑ.  ูู ุงูุฌูุฏ ุฃููู ูุงุญุธุช ูู ุดูุก ุจููุณู ุ ููู ููู ูู ุงูุถุฑูุฑู ุฃู ุฃูุณู ุงูุนููู ุ ูุฃู ุงููุฎุชุจุฑ ูุงู ูุฎุฌู ูู ุงุญูุฑุงุฑ ุงูููู ... ูุงู ุนููู ุญู ุงููุดููุฉ ูุฅุฌุฑุงุก ุนูููุฉ ูุดุฑ ุฌุฏูุฏุฉ. <br></div></div><br><h4 style=";text-align:right;direction:rtl">  ุงูุฃุฌูุฒุฉ ูุงูููุงุฏ: </h4><br>  Microsoft VisualStudio 2019 <br>  asp.net Core 3.1 (ููุช ุจุชุซุจูุชู ูุน ุงูุงุณุชูุฏูู ุ ุฅุฐุง ูุงู ูููู ุชุณููู ุฃู ุดูุก ุนุจุฑ ูุงุฆูุฉ ูุดุงุฑูุน ุชุซุจูุช ุฃุทุฑ ุฃุฎุฑู) <br>  ูุฒูุฏ ุฎุงุฏู ุงูุณุจุฑุณ (ูุฃุชู ูุน ุงูุงุณุชูุฏูู) <br>  ุจูุงุจุฉ ุงูุชูุฏูุฏ ูุงุณุชูุฏูู ุงูุจุตุฑูุฉ (ุดูู) <br><br>  ุนุงุฏุฉ ุ ูู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุ ูุฌุจ ุนุฒู ูู ุงุฎุชุจุงุฑ ุ ูุงูุญุงูุฉ ุจููููุง ููุณุช ูุงุฆูุฉ.  ูุฐูู ุณูู ูุญุตู ูู ุงููุงูุน ุนูู ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ุ ููููุง ุณูุณุชุฎุฏู MSTest ููุฐุง ุงูุบุฑุถ.  ุขูู ุฃูุง ูุฃุฎุฐููุง ุฅูู ุงูุดุฑุทุฉ ูู ุฃุฌู ูุฐุง. <br><br>  ูู ุงูุนุฏูุฏ ูู ุงูุฅุตุฏุงุฑุงุช ุ ูุงุจูุช ุงุณุชุฎุฏุงู ูุงุฆูุงุช ููููุฉ ูุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช. <br>  ูููููุฉ ุงูุฃููู ุ ุงูููุฑุฉ ุฌูุฏุฉ ุญุชู ุชุจุฏุฃ ุงูุชูุงุนูุงุช ุงููุนูุฏุฉ ุจูู ุงูุฌุฏุงูู. <br>  ุจุนุฏ ุฐูู ุณูุณุชุบุฑู ุฅุนุฏุงุฏ ููููุฉ ุฃูุซุฑ ูู ุงุฎุชุจุงุฑ ููุณู.  ูููู ูู ุงููุงูุน ูู - ุงูุชุญูู + C - ุงูุชุญูู + V!  ูุชู ุชูุฑุงุฑ ุฌููุน ูููุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชู ุชู ุชุณุฌูููุง ุจุงููุนู ูู EF ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู DataAnnotations ุฃู FluentAPI ูู ุทุจูุฉ ููููุฉ.  ูุงููุณุฎ ูู ููุน ูู ูุซู ูุณุฑ ููุท ... ุขูุฉ ุ ููุงุทู ุ ูุณุฑ ... ููุณุช ุฌูุฏุฉ! <br><br>  ูุฅุฐุง ูุงู ุงูุชูููู ุงูุฒุงุฆู ูุนูุฏูุง ุ ูุนูู ุณุจูู ุงููุซุงู ุงุฑุชูุจูุง ุฃุฎุทุงุก ูู ุงููููุฏ ุงูููุฌูุฏุฉ ููุงู ุ ููุฏ ุชุจููู ููุง ุฃู ุงูุงุฎุชุจุงุฑ ุงููููู ุณููุฌุญ ุ ููู ูู ุณูููู ููุงู ุฎุทุฃ ูู ุงููุงุนุฏุฉ ุงูุญููููุฉุ <br><br>  ูู ูุฐุง ููููู ุ ููุฑุฑุช ุงุฎุชุจุงุฑ ููุฌ ุฌุฏูุฏ. <br><br>  ุฌุงุกุช ุงูููุฑุฉ ุ ููุง ูู ุงูุญุงู ุฏุงุฆููุง ุ ูู TRIZ: <i>ุงููุธุงู ุงููุซุงูู ูู ุงููุธุงู ุงูุบุงุฆุจ ุ ููู ูุธุงุฆูู ุชููุฐ</i> .  ูุงุนุชูุฏุช ุฃููู ุจุญุงุฌุฉ ูุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุง ูู ุงูุงุฎุชุจุงุฑุงุช. <br>  ูููุน ูู ุงูุนูู ุจูุง ุจุงููุณุจุฉ ูู.  ุฃุฑูุฏ ุฃู ุฃุดุงุฑู ูุฐุง ุ ูุขูู ุฃู ูุณุงุนุฏ ุดุฎุต ูุง. <br><br>  ุณูุจูุงุช ููููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุนุฏูุฏ ูู ุงูุฅุนุฏุงุฏุงุช ุงููุณุจูุฉ ุงูุชู ุงูุงุฎุชุจุงุฑุงุช </li><li style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุชุตุจุญ ูุฐุฑุฉ ุ ูุงููุซูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฅุถุงููุฉ </li><li style=";text-align:right;direction:rtl">  ูู ุงูุตุนุจ ุงุฎุชุจุงุฑ ุงููุฌุฑุงุช </li><li style=";text-align:right;direction:rtl">  ุชุชุตุฑู ุจุดูู ุฌูุฏ ููุท ุชุญุช ุฅุดุฑุงู ุ ุนูู ุฃุณุงุณ ูุนูู ูููู ุฃู ุชูุชุฌ ุฃุฎุทุงุก ุบูุฑ ูุนุฑููุฉ </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุชุบููุฑ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ุชุญุชุงุฌ ุฅูู ุงูุตุนูุฏ ุจุงุณุชูุฑุงุฑ ุฅูู ุงูููููุฉ ูุชุบููุฑ ูู ุดูุก ููุงู ุฃูุถูุง </li></ul><br>  ุฅูุฌุงุจูุงุช ุงูุงุฎุชุจุงุฑ ุนูู ูุงุนุฏุฉ ุญููููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุจุฑูุงูุฌ ูุชุตุฑู ุชูุงูุง ูุซู ุนูู ุฎุงุฏู ุงููุชุงู </li><li style=";text-align:right;direction:rtl">  ุงูุงุฎุชุจุงุฑุงุช ุฃูุซุฑ ุจุณุงุทุฉ ุ ููููู ุจูุงุกูุง ูุงุญุฏุฉ ุชูู ุงูุฃุฎุฑู ุจููุณ ุงูุทุฑููุฉ ุงูุชู ูุชู ุจูุง ููุก ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  ูููููุง ูุญู ุฃููุณูุง ุถุจุท ูุธุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนู ุทุฑูู ุชุฑููู ุงูุงุฎุชุจุงุฑุงุช (ูู MSTest ูุชู ุฅุฌุฑุงุคูุง ุฃุจุฌุฏููุง) </li><li style=";text-align:right;direction:rtl">  ููููู ูุนุฑูุฉ ุงูููุช ุงูุฐู ูุชู ููู ุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑ (ุนูู ุงูุฎุงุฏู ุงูุญูููู ุ ุณูููู ุงูุฃูุฑ ูุฎุชูููุง ุ ูููู ุนูู ุงูุฃูู ูููู ุงูุชุฑุชูุจ ูุฑุฆููุง - 10 ูุฑุงุช ุฃุทูู ุ ูุฑุชูู ุ ูููููู ุจุงููุนู ุชูููู ููููุฉ ุนูู ุงูุจุฑูุงูุฌ ุ ุจููุงุกุฉ ุฃู ูุง) </li><li style=";text-align:right;direction:rtl">  ูููู ุงุฎุชุจุงุฑ ุงูุฅุฌุฑุงุกุงุช ุงููุฎุฒูุฉ </li></ul><br>  ููุงู ุจุนุถ ุงูุตุนูุจุงุช ูู ูุฐุง ุงูููุฌ ุ ุงูุฐู ููุช ุฃุญูุฑู ูุนุฏุฉ ุฃูุงู ุ ููููุง ุณูุญููุง ุจูุฌุงุญ ุ ูุฑุจูุง ุชููู ุญุฌุฑู ุงูุฎูููุฉ ูุนู! <br><br>  ุฏุนูุง ูุฐูุจ! <br><br>  ูููู ุจุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ASP.Net Core 3.1 Web Application (Model-View-Controller) ุ ูุชุบููุฑ ุงููุตุงุฏูุฉ ุฅูู ุญุณุงุจุงุช ุงููุณุชุฎุฏููู ุงููุฑุฏููู (ุชุฎุฒูู ุญุณุงุจุงุช ุงููุณุชุฎุฏููู ุฏุงุฎู ุงูุชุทุจูู) ูุงููุฑ ููู ุฅูุดุงุก <br><br><img src="https://habrastorage.org/webt/n1/oq/5c/n1oq5cv0fxxqnuu0sdgdwda7xem.jpeg" alt="ุตูุฑุฉ"><br><br>  ูู ุงูุขู ูุตุงุนุฏูุง ุ ุณุฃุญูุธ ููุทุงุช ุงููุดุฑูุน ูู ุจูุงุจุฉ ุ ูููููู ุชูุฒูููุง ูุชุญููู ูู ูุฑุน ูู ุฃุฌู ุชุฌุฑุจุชู <br><br>  <a href="https://github.com/3263927/Habr_1" rel="nofollow">github.com/3263927/Habr_1</a> <br><br>  <b>ููุทุฉ: Snapshot_0_ProjectCreated</b> <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุนู ูุณุชูุฏุน</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุญุชู ุนูุฏูุง ุฃุนูู ุจููุฑุฏู ุ ูุฅููู ุฃุณุชุฎุฏู ุงููุณุชูุฏุน ุฏุงุฆููุง - ููุฏ ุฃุตุจุญ ุงูุขู ููุงุณุจูุง ุฌุฏูุง ุ ุชู ุชุตูููู ูู Visual Studio ุ ุจุฏูู ุณุทุฑ ุฃูุงูุฑ ุ ูู ุดูุก ูุนูู ุจุดูู ุตุญูุญ ุชูุงููุง ูู VS.  ููููู ุชุฌุฑุจุฉ ูุชุบููุฑ ูุง ุชุฑูุฏ ุ ุซู ููููู ุฏุงุฆููุง ุฅุตูุงุญ ุงูุชุฑุงุฌุน ุนู ุงูุงูุชุฒุงู ุฃู ุงูุชุจุฏูู ุฅูู ุงููุฑุน ุงููุฏูู.  ูููุฑ ุงููุซูุฑ ูู ุงูููุช ูุงูุฌูุฏ ุ ุฃูุตุญ ุงูุฌููุน.  ููุชูุงูู ูุน ุฌูุซุจ ูุฌุงูุง.  ุตุญูุญ ุ ูุงู ููุงู ุจุนุถ ุงููุชุฃูู ููุฐ ุจุถุน ุณููุงุช ุงูุฐู ุญุฐู ูู ุดูุก ... ูุฐูู ููุท ูู ุญุงูุฉ ุ ูุถุนุช ุฌููุน ุงููุดุงุฑูุน ูู Dropbox ูุชุญุฏูุซ ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุฃุณุจูุน ุ ููุฐูู ุฃุฑุดูุฉ ุฌููุน ุงููุดุงุฑูุน ูุชุญููู ุฃุญุฏุซ ุงูุฅุตุฏุงุฑุงุช ูุฏููุง ุฅูู Google Drive.  ุญุณููุง ุ ููุฌุฏ ุนูู ูุงุชู SD 120 ูุทุนุฉ ุ ูููุงู ุฃูุถูุง ุ ูู ูุถุน ุงูุฅุญุชูุงุทู ุ ูุฌุฃุฉ ุ ูุฌุฃุฉ ... ุฒูุฌุงู ูู ูุญุฑูุงุช ุฃูุฑุงุต ููุงุด ูุน ูุณุฎ ูู ุฌููุจููุง ุบูุฑ ูุฑุฆู ููุบุงูุฉ! <br></div></div><br>  ูู ูุฐู ุงููุฑุญูุฉ ุ ููุช ุจุฅูุดุงุก ูุณุชูุฏุน ุ ูุฐุง ุณุฃุญุชุงุฌ ุงูุขู ุฅูู ุงูุชุฎุทูุท ููุนูู ูุฅูุดุงุก ูุฑูุน ุฌุฏูุฏุฉ.  ูู ุงููุณุชูุจู ุ ุจุงุณุชุฎุฏุงู ูููุฉ Snapshot ุ ุณูููู ูู ุงููููู ุงูุนุซูุฑ ุนูู ููุงุท ุงูุงุณุชุฑุฏุงุฏ ุฅุฐุง ุญุฏุซ ุฎุทุฃ ูุง. <br><br>  ุณูู ุฃููู ุจุฅูุดุงุก ูุฑุน ุฌุฏูุฏ ูู ุงููุณุชูุฏุน ูุจุงุดุฑุฉู ูู VisualStudio ุ ูุณุฃุทูู ุนููู "Sister of Talent" ููุงุฎุชุตุงุฑ (joke ุ Snap_1_DataBases). <br><br>  <b>ุงููุฏู: ูุฅูุดุงุก ุงุชุตุงู ููุงุนุฏุฉ ุงูุนูู</b> . <br><br>  ููุฏ ุจุฏุฃูุง ูู ุฅูุดุงุก ููุงุนุฏูุง. <br><br>  ูุฌุจ ุฃู ุฃููู ุนูู ุงูููุฑ ุฃูู ุณูููู ูุฏููุง 3 ููุงุนุฏ ุจูุงูุงุช - ุงุฎุชุจุงุฑ ูุงุญุฏ (ุนูู ุงูุฌูุงุฒ ุงููุญูู) ุ ูุฅูุชุงุฌ ุขุฎุฑ (ุนูู ุงูุฎุงุฏู ุงูุจุนูุฏ ุ ูุงูุนูู) ูุขุฎุฑ ูุญูู (ููุชุญูู ูู ุตุญุฉ ุงููููุน ูู ุชูููู DEBUG). <br><br>  ุงูููุทู ูู ูุฐุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ููุง ูุฑูุฏ ุชุดุบูู ุงููููุน ุนูู ุงูุฌูุงุฒ ุงููุญูู ููุนุฑูุฉ ููููุฉ ุนููู ุ ูุฅู Habr1_Local ุณูุนูู ูุตุงูุญูุง </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุถุนูุง ุงูููุฏ ูู ุงูุฅูุชุงุฌ ูุฅู Habr1_Production ุณูุนูู </li><li style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชุจุฏุฃ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููุงุฎุชุจุงุฑ ุงูุฎุงุตุฉ ุจูุง ูู ุงูุงุฎุชุจุงุฑ ุ ูุฌุจ ุฃู ุชุนุซุฑ ุนูู ูุงุนุฏุฉ Habr1_Test ูุชุดุบูููุง </li></ul><br>  ููุน ุฐูู ุ ูุฏููุง ุชูุงูุถ ูุงุญุฏ - ููุงู ููุท ุชููููุงู ุ Debug ู Release.  ูุง ุชุฒุงู ูุฐู ูุดููุฉ ุ ูููู ุจุนุฏ ุฐูู ุณูุชู ุญููุง. <br><br>  ูุฐูู ุ ูุฅููุง ูููู ุจุฅูุดุงุก ุจุฑูุงูุฌ ุนูู ุจุณูุท - ูุจุฏุงูุฉ ูุชุญูู ููุง ุฅุฐุง ูุงูุช ููุงู ูุงุนุฏุฉ ุจูุงูุงุช ูุงุญุฏุฉ ุนูู ุงูุฃูู ููุงุฆูุฉ ููุง.  ูููู ุจุฅูุดุงุฆูุง ... ุจุฃูุฏู Visual Studio ููุณูุง! <br><br>  ุงูุชุญ ููู appsettings.json <br><br>  ููุงู ูุซู ูุฐู ุงูุฎุทูุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"ConnectionStrings"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"DefaultConnection"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server=(localdb)\\mssqllocaldb;Database=aspnet-WebApp-[- ,   ];Trusted_Connection=True;MultipleActiveResultSets=true"</span></span> },</code> </pre> <br>  ุณุชุญุชุงุฌ ููุงู ุฅูู ุฅุฏุฎุงู ุงูุฃุณูุงุก ุงูุตุญูุญุฉ ูุณูุงุณู ุงูุงุชุตุงู ูุงุณู ุงูุฎุงุฏู ูุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูุฌุจ ุฃู ุฃููู ุนูู ุงูููุฑ ุฃูู ูุชู ุงุณุชุฎุฏุงู ุงุชุตุงูุงุช ุฃุฎุฑู ูู ุงูุฅูุชุงุฌ ุ ูููู ุงูุขู ูุญู ูุณูุง ุจุญุงุฌุฉ ุฅูู ูุฐุง.  ูููุชูุง ูู ุฅูุดุงุก ูุงุนุฏุชู ุจูุงูุงุช (ูุญูู ูุงุฎุชุจุงุฑ ุ ูุงูุฅูุชุงุฌ ูุฌุฑุฏ ูุซุงู - ุณูุณุชุฎุฏูู ูู ุชูููู ุงูุฅุตุฏุงุฑ ุ ุซู ูููู ุงุณุชุจุฏุงูู ุจูุงุนุฏุฉ ุจูุงูุงุช ุนู ุจุนุฏ ุชุนูู). <br><br>  ููุงุฐุง ูุฐุง ูุทููุจุ <br><br>  ุชุณูุญ ูู ุชููููุงุช Visual Studio ุจุชุบููุฑ ุจุนุถ ุงูุฅุนุฏุงุฏุงุช ุนู ุทุฑูู ุชุจุฏูู ุงูุชูููู ูู ููุญุฉ Visual Studio: <br><br><img src="https://habrastorage.org/webt/qa/8k/nr/qa8knrxqxt8komoewxxf-b-s2qs.jpeg" alt="ุตูุฑุฉ"><br><br>  ุจุดูู ุนุงู ุ ุชุนูู ุจูุฆุฉ ุงูุชุทููุฑ ุจุจุณุงุทุฉ ุนู ุซุงุจุช DEBUG ุ ููููู ุจุนุฏ ุฐูู ูุฑุงุกุชู ูู ุฃู ููุงู ูู ุงูููุฏ ูููู ุงูุชูููู ุงูุฐู ูุณุชุฎุฏูู ุญุงูููุง ุ ุฃู ุงูุชูููู ุงููุดุท. <br><br>  ูุตุญุญ ุงูุฃุฎุทุงุก ุนู ุจูุนุฏ ุบูุฑ ูุชุงุญ ุฏุงุฆููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุงุณุชุถุงูุฉ colocation.  ูููููุง ุชุดุบูู ุฎุงุฏู asp.net ูุญูููุง ุ ูุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู ุฌูุงุฒ ุงูุชุญูู ุนู ุจูุนุฏ ุ ููููููุง ุฃู ูุฑู ูู ุงูุฃุฎุทุงุก ุงูุชู ูุงูุช ููุฏ ุงูุฅูุชุงุฌ.  ููุง ูู ุชูููู ุงูุฅุตุฏุงุฑ ุ ุณููุนู ุฐูู ุ ูุณุชุนูู ุชููุฆุฉ debug ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ ุงูุฎุงุตุฉ ุจูุง.  ููู ูููู ุจุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ุงูุชูููู ุ ูุฃุณุจุงุจ ุฃูููุฉ - ุญุชู ูุง ุชูุญู ุฃู ุจูุงูุงุช ุนู ุทุฑูู ุงูุฎุทุฃ ุ ูุชูุงุณูู ุชุจุฏูู ุงูุชูููู <br><br>  ูุฐูู ุ ูุจุฏุฃ ูู ุชุบููุฑ ุณูุณูุฉ ุงูุงุชุตุงู. <br><br>  ุงุณู ุงูุฎุงุฏู - ููููู ุฑุคูุชู ูู ุนุฑุถ ุนูุงูุฉ ุงูุชุจููุจ -&gt; ูุณุชูุดู ูุงุฆู ุฎุงุฏู SQL <br><br><img src="https://habrastorage.org/webt/mk/-1/tc/mk-1tcplz6dtcpzupszdzpesh84.jpeg" alt="ุตูุฑุฉ"><br><br>  (ุณุฃููู ุจุญุฐู ุงุณู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ุจุญููุฉ ุ ูุฅูุง ูุณูู ุชููู ุจุญุณุงุจู ุจูุงุณุทุฉ IP ูุงูุชุจ ุดูุฆูุง ูุง). <br><br>  ูุฐูู ูุฏู ูุฐุง (localdb) \ ProjectsV13.  ูุง ุฃุนุฑู ููุงุฐุง ุ ุฃุซูุงุก ุงูุชุซุจูุช ุ ุงุชุตูุช ุจู SQL. <br>  ููุฐุง ูุนูู ุฃู ุณูุณูุฉ ุงูุงุชุตุงู ูุฏููุง ุฃุตุจุญุช <br><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"DefaultConnection"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server=(localdb)\\ProjectsV13;Database=Habr1_Local; Trusted_Connection=True;MultipleActiveResultSets=true"</span></span></code> </pre> <br>  ูุฏ ูููู ูุฏูู ุจุดูู ูุฎุชูู ุ ูููู ููุท ProjectV13.  ูุฌุจ ุชุฑู ุงูุจุงูู ููุฐุง. <br>  ุชุบููุฑ DefaultConnection ุฅูู Habr1_Local <br><br>  ุงุชุถุญ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"ConnectionStrings"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"Habr1_Local"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server=(localdb)\\ProjectsV13;Database=Habr1_Local;Trusted_Connection=True;MultipleActiveResultSets=true"</span></span> },</code> </pre> <br>  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ุงูุงูุชูุงู ุฅูู ููู Startup.cs ูุงุณุชุจุฏุงู DefaultConnection ุจู Habr1_Local ููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(<span class="hljs-string"><span class="hljs-string">"DefaultConnection"</span></span>)));</code> </pre> <br>  ูุชุญูู ุฅูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(<span class="hljs-string"><span class="hljs-string">"Habr1_Local"</span></span>)));</code> </pre><br>  ูุจุฏุฃ ูุดุฑูุนูุง ูู ุชูููู Debug ุ ููุชุญ ุงููุชุตูุญ ุ ููุฑู ุงูุตูุญุฉ ุงูุฃููู ุ ุงููุฑ ููู ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู ุ ูุฃุฏุฎู ุฃู ุจุฑูุฏ ุฅููุชุฑููู ุตุงูุญ ููุงู (ูู ูุฑุณู ูู ุฑุณุงุฆู ุ ููุท ูุชุญูู ูู ุตุญุฉ ุงูุชูุณูู) ูุงููุฑ ููู ุชุณุฌูู ุงูุฏุฎูู - ููุฑู ูุฐู ุงูุดุงุดุฉ: <br><br><img src="https://habrastorage.org/webt/p3/u3/r4/p3u3r4gkdanievaornpxfxwoous.jpeg" alt="ุตูุฑุฉ"><br><br>  ุงููุฑ ููู "ุชุทุจูู ุงูุชุฑุญูู" ุ ููุญู ููุชุธุฑ ุนูุฏูุง ูุธูุฑ ุงูุชุฃููุฏ ุนูู ูููู ุงูุฒุฑ ุงูุฃุฒุฑู ุงูุฐู ูุฑุช ุจู ุงููุฌุฑุฉ ูุชุญุชุงุฌ ุฅูู ุชุญุฏูุซ ุงูุตูุญุฉ ุ ุงูุชุญุฏูุซ ุ ุงููุฑ ููู "ุชุฃููุฏ" ูุฅุนุงุฏุฉ ุฅุฑุณุงู ุงูุจูุงูุงุช ูุงูุญุตูู ุนูู ุดุงุดุฉ ุชููุฏ ูุดู ุชุณุฌูู ุงูุฏุฎูู: <br><br><img src="https://habrastorage.org/webt/fc/sw/pc/fcswpc-tqd0gyuhz70cyefi9uls.jpeg" alt="ุตูุฑุฉ"><br><br>  ุฅุฐุง ูุงูุช ูุฐู ุงูุดุงุดุฉ ูุฑุฆูุฉ ุ ููู ุดูุก ุนูู ูุง ูุฑุงู - ุจูุฌุฑุฏ ุชูุฑูุฑ ุงูุทูุจ ูุฅุฑุฌุงุน ูุญุงููุฉ ุชุณุฌูู ุฏุฎูู ุบูุฑ ุตุงูุญุฉ ุ ูู ููู ููุงู ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูููู ุจุจุณุงุทุฉ ูู ูุนุซุฑ ุนูู ูุซู ูุฐุง ุงููุณุชุฎุฏู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููููุง ุนู ุงููุฌุฑุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูุฐู ุฃุฏุงุฉ ูุนูุฏุฉ ููุง ุชูุงุฏ ุชููุณูุง ูู ูุฐู ุงูููุงูุฉ ุ ูููู ููููู ููุณูุง ููููุงู. <br>  ุนูู ุณุจูู ุงููุซุงู ุ ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู ุญุงูุฉ ูุนููุฉ - ููููู ุฅูุดุงุก ููุทุฉ ูุงุนุฏุฉ ุจูุงูุงุช ููุฐุง ุ ุฃู ุฅูุดุงุก ุนุฏุฉ ููุทุงุช ููู ููุงูุฉ ุ ูุชูููู / ุชุนุทูู ูุฐู ุงูุตูุฑ ุจุฑูุฌูุงู ูุจุฃูุงูุฑ ุฎุงุตุฉ. <br><br>  ุฃู ุนูุฏูุง ุชููู ุจุชุทููุฑ ุดูุก ูุง ุนูู ุงูุฌูุงุฒ ุงููุญูู ุ ุซู ุชุญุชุงุฌ ุฅูู ูุฒุงููุฉ ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู ุงูุฎุงุฏู ูุน ุงูุญุงูุฉ ุงููุญููุฉ ุ ูุชุญุฏูุซ ุฎุงุฏู ุงูุฅูุชุงุฌ ุฅูู ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ ุงูุฎุงุตุฉ ุจู ุ ูุงูููุงู ุจุฐูู ุชููุงุฆููุง - ููููู ุฃูุถูุง ุชุทุจูู ุงูุชุฑุญูู.  ูุฐุง ูู ูู ุงููุงูุน ูุฐุง ุงูุฒุฑ ุงูุฃุฒุฑู.  ุชุนุฑู ุงููุงุนุฏุฉ ุฃู ุญุงูุชูุง ูุฎุชููุฉ ุนู ุญุงูุฉ ุงูููุฏ ูุชุญุงูู ูุฒุงููุฉ ูุฐู ุงูุญุงูุงุช.  ููููุงู ุจุฐูู ุ ูุชู ุฅูุดุงุก ุฌุฏูู ุฎุงุต ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ุญุงูุฉ ุชุฑููุฒ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช. <br><br>  ูุณูุก ุงูุญุธ ุ ูุฐู ุงูุฃุฏุงุฉ ูุนูุฏุฉ ุจุณุจุจ ุนุฏู ูุฌูุฏ ูุงุฌูุฉ ูุฑุฆูุฉ ููุง ุ ูุชุญุชุงุฌ ุฅูู ุงูุชุนุงูู ูุนูุง ูู ุณุทุฑ ุงูุฃูุงูุฑ.  ุชุนุฏ ุนูููุงุช ุงูุชุฑุญูู ููุงุฆูุฉ ููุงุณุชุฎุฏุงู ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุชูุฑูุฑ ุงูุญุงูุงุช ุนุจุฑ Git - ุจุจุณุงุทุฉ ุนู ุทุฑูู ุฅูุดุงุก ููุทุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฐู ููููุงุช C #.  ููู ูุฐู ุงูุฃุฏุงุฉ ููุง ุฎุทุฑ ูุงุญุฏ - ุฅุฐุง ุชู ุชูููููุง ุจุดูู ุบูุฑ ุตุญูุญ ุ ููููููุง ูุณุญ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุฐูู ูุฌุจ ุนููู ุงุณุชุฎุฏุงููุง ุจุญุฐุฑ. <br></div></div><br>  ุงูุชุญูู ูู ูุฌูุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช - ูุฌุจ ุฃู ูููู ุฅูุดุงุก Visual Studio <br><br><img src="https://habrastorage.org/webt/op/6i/c_/op6ic_e4cdoarqotsmz441fkmkc.jpeg" alt="ุตูุฑุฉ"><br><br>  ุฅุฐุง ูู ุชูู ููุงู ูุงุนุฏุฉ ุจูุงูุงุช ุ ูููุงู ุฎุทุฃ ูุง - ุฅูุง ุฃูู ูู ูุชู ุชุซุจูุช ุฎุงุฏู SQL ุ ุฃู ุฃู ุดูุก ุขุฎุฑ ุจุดูู ุนุงู ุ ููุง ูู ุงูุญุงู ูู ููุชุฉ ุญูู ููู ุฃู ุงููุจุฑูุฌูู ูุงููุง ุฃุทุจุงุก: "ุทุจูุจ ุ ุณุงูู ุชุคูููู ... - ุญุณููุง ุ ูุง ุฃูุง ุฃุนูู ุ ูุฏู ููุณ ุงูุณุงู ููุง ุดูุก ูุคูููู! " <br><br>  ูู ูุฐู ุงููุฑุญูุฉ ุ ุฃููู ุจุฅูุดุงุก ุณูุณูุชูู ุฃุฎุฑููู ููุงุชุตุงู ุ ุชุฃุฎุฐ appsettings.json ูุฐุง ุงููููุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"ConnectionStrings"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"Habr1_Local"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server=(localdb)\\ProjectsV13;Database=Habr1_Local;Trusted_Connection=True;MultipleActiveResultSets=true"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Habr1_Test"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server=(localdb)\\ProjectsV13;Database=Habr1_Test;Trusted_Connection=True;MultipleActiveResultSets=true"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"Habr1_Production"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server=(localdb)\\ProjectsV13;Database=Habr1_Production;Trusted_Connection=True;MultipleActiveResultSets=true"</span></span> },</code> </pre><br>  ุฃููู ุจุงูุงูุชุฒุงู ููุถุน ุงูููุทุฉ ุงูุชุงููุฉ ูู ุงููุณุชูุฏุน: <br><br>  <b>ููุทุฉ: Snap_1_DataBases</b> <br><br>  ุฅูุดุงุก ูุฑุน ุฌุฏูุฏ ุ Snap_2_Configurations <br><br>  <b>ุงููุฏู: ุฅูุดุงุก ุชููููุงุช ุงูุนูู</b> <br><br>  ุนูุฏ ุงูุชุจุฏูู ุจูู ุงูุชููููุงุช ุ ูููููุง ุฃู ูููุฑ ูู ุฃู ููุงู ูู ุงูุจุฑูุงูุฌ ูู ุงูุชูููู ุงูุญุงูู (ูู ุงููุงูุน ุ ูููุณ ูู ุฃู ุ ูู ูุนูู ูู View - ูุญู ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก ูุธููุฉ ุฎุงุตุฉ ุ ูููู ูุฐุง ููุณ ููููุง ููุฐุง ุงููุดุฑูุน): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> DEBUG  DEBUG #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta">  RELEASE ( DEBUG   ) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre> <br>  ุงูุชุญ ุงูููู Startup.cs ููู ุจุชุญููู ุงูุฃุณููุจ ConfigureServices ุฅูู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConfigureServices</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IServiceCollection services</span></span></span><span class="hljs-function">)</span></span> { String ConnStr = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> DEBUG ConnStr = "Habr1_Local"; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> ConnStr = "Habr1_Production"; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt; options.UseSqlServer( Configuration.GetConnectionString(ConnStr))); services.AddDefaultIdentity&lt;IdentityUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true) .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;(); services.AddControllersWithViews(); services.AddRazorPages(); }</span></span></code> </pre><br>  ููุง ุชุฑูู ุ ุงุณุชุจุฏููุง Habr1_Local ุจูุชุบูุฑ ุ ูุงุนุชูุงุฏูุง ุนูู ุงูุชูููู ุ ุณุชููู ุณูุณูุฉ ุงูุงุชุตุงู ุฅูุง Habr1_Local ุฃู Habr1_Production <br><br>  ููููู ุงูุขู ุจุฏุก ุงููุดุฑูุน ูุงูุชุญูู ูู ููููุฉ ุฅูุดุงุก ููุงุนุฏ ุงูุจูุงูุงุช ุญุณุจ ุงูุชูููู <br><br>  ูุฎุชุงุฑ DEBUG ุนูู ุงูููุญุฉ ุ ูุจุฏุฃ ุ ุชุณุฌูู ุงูุฏุฎูู ุ ุชุทุจูู ุงูุชุฑุญูู ุ ุชุญูู ูู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช (Habr1_Local) <br><br>  ูููู ุงููุดุฑูุน ุ ูุญุฏุฏ ุชููุฆุฉ ุงูุฅุตุฏุงุฑ ุ ููุจุฏุฃ ุ ููููู ุจุชุณุฌูู ุงูุฏุฎูู ุ ููุทุจู ุงูุชุฑุญูู ุ ููุชุญูู ูู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช - ูุฏููุง ูุงุนุฏุชุงู. <br><br>  ุงูููุงู ุจู! <br><br>  <b>ููุทุฉ: Snap_3_HabrDB</b> <br><br>  <b>ุงูุบุฑุถ: ุฅูุดุงุก ูุดุฑูุน ูุงุนุฏุฉ ุจูุงูุงุช ูููุตูุฉ ุ ูุงูุฐู ูููู ุงุณุชุฎุฏุงูู ุจุนุฏ ุฐูู ูู ูุดุงุฑูุน ูุฎุชููุฉ</b> <br><br>  ููุงุฐุง ูุดุฑูุน ูููุตูุ <br><br>  ุงููุดุงุฑูุน ุงููุฑุฏูุฉ ููุง ุงูุนุฏูุฏ ูู ุงููุฒุงูุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููู ุงุณุชุฎุฏุงููุง ูู ูุดุงุฑูุน ุฃุฎุฑู. </li><li style=";text-align:right;direction:rtl">  ูุง ุฅุนุงุฏุฉ ุชุฑุฌูุฉ ุฅุฐุง ูู ุชูู ููุงู ุชุบููุฑุงุช ุ ููุง ูุนูู ุฃู ูุชู ุชูููู ููุช ุงูุชุญููู ุงูุจุฑูุฌู ุงูููู </li><li style=";text-align:right;direction:rtl">  ุงููุดุงุฑูุน ุงููุฑุฏูุฉ ูู ุฃุณูู ููุงุฎุชุจุงุฑ. </li></ul><br>  ูุฐูู ุ ุงูุฒุฑ ุงูุฃููู ุนูู ุงูุญู - ุฅุถุงูุฉ -&gt; ูุฌูุฏ ุญู ุฌุฏูุฏ ุ ูุชุณููุชู DB. <br>  ุซู ุงูุญู ูู ุงููุฌูุฏ ุงูุฐู ุชู ุฅูุดุงุคู - ุฅุถุงูุฉ ูุดุฑูุน ุฌุฏูุฏ -&gt; .net ุงูููุงุณูุฉ ุ ุงุณู HabrDB. <br>  ูุณุจุจ ูุง ููุช ุจุฅูุดุงุฆู ูู .net standard 2.0 ุ ุฃุญุชุงุฌ ุฅูู ุชุบููุฑู ุฅูู 2.1 <br>  (ุนูุฏ ุฅูุดุงุฆูุง ูููุฑ ูุณุงุฑูุง ูุนูููุง ุ ุงุชุฑูู ููุฌูุฏูุง ูู ูุฌูุฏ DB ูุฌุณุฏููุง ุฃูุถูุง). <br><br>  ูุจุฏู ูุซู ูุฐุง ุจุงููุณุจุฉ ูู: <br><br><img src="https://habrastorage.org/webt/g4/kb/wu/g4kbwu45mu92my9ucaanuldtuhs.jpeg" alt="ุตูุฑุฉ"><br><br>  ูุฐูู ุ ูุฏููุง ุจุนุถ ApplicationDBContext ูู ุงููุดุฑูุน ุ ูุฃูุดุฃูุง ูุงุญุฏุฉ ุฃุฎุฑู ุฎุงุตุฉ ุจูุงุ  ูู ุณูุชุนุงุฑุถูู ูุน ุจุนุถูู ุงูุจุนุถุ  ุงูุขู ุณูููู ุตุฏุงูุงุช ูุนูู.  ุณูููู ูุฏููุง ุณูุงูุชุงู ูุฎุชููุชุงู ูููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุงูุชู ูู ุชุชูุงุทุน ูู ุฎูุงู ุฅุทุงุฑ ุงูููุงู.  ุณูุนุทููู ุงุณู ูุฎุทุท ูุฎุชูู: ูุงุญุฏ ุณูุจูู dbo ุจุดูู ุงูุชุฑุงุถู ุ ูุงูุขุฎุฑ ุณูููู "habr". <br><br>  ุฅุฐุง ููุช ุจุชูุตูู ูุซู ูุฐู ุงูุณูุงูุงุช ูู ุฎูุงู ุฌุฐุฑ ุงูุชูููู ุ ููููู ุฅุนุงุฏุฉ ุชุฏููุฑูุง ูู ูุดุงุฑูุน ุฃุฎุฑู ุจุดูุงููุฉ ุชูุฑูุจูุง.  (ูุซู ุณูุงู ุงููุณุชูุฏุน ูุณูุงู ุงูููุธู) <br><br>  ูููุงู ูุญุธุฉ ูุนูุงุฑูุฉ ุฃุฎุฑู ุ ูู ุจุนุถ ุงูุฃุญูุงู ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุจุนุถ ุงูููุชููุงุช ุงูุฎุงุตุฉ ุจู ุฅูู ุงููุณุชุฎุฏู ุ ููุฐุง ูุง ููุทุจู ูุจุงุดุฑุฉ ุนูู ููุถูุน ุงูููุงูุฉ ุ ููููุง ุณููุนู ุฐูู ููุฌุฑุฏ ูุนุฑูุฉ ููููุฉ ุงูููุงู ุจุฐูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูููู ูุงุฏุฑูู ุนูู ุฅูุดุงุก ูุญุฐู ุงูุณูุงูุงุช ุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ.  ููุงู ููุฑุฉ ุฌูุฏุฉ ุชุชูุซู ูู ูุตู ุฌุฏูู ุงูุฃูุงู ุจุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ูุชุดููุฑู ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูู ูููู ุจุฐูู ูู ูุฐุง ุงููุดุฑูุน ุ ูููู ุจุตูุฉ ุนุงูุฉ ูุฐุง ูุทููุจ ุฃุญูุงููุง ุ ุจูุง ูู ุฐูู ุจููุฌุจ ุงููุงููู). <br><br>  ูุนู ุ ููู ุงูุฃุณูู ุงุฎุชุจุงุฑู ุจูุฐู ุงูุทุฑููุฉ ุ ูุง ููููู ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู ูู ููุช ูุงุญุฏ ุ ูููู ููุท ุชูู ุงููุทููุจุฉ ูุงุฎุชุจุงุฑ ุงูุณูุงู ุงููุญุฏุฏ. <br><br>  ุฃููู ุจุฅูุดุงุก ููุทุฉ ูุดุฑูุน ุฌุฏูุฏุฉ - ุงููุฑุญูุฉ 4. <br><br>  <b>ุฃูุฏุงู ูุฐู ุงููุฑุญูุฉ ูู:</b> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงููุณุชุฎุฏู ุงูููุงุณู ุฅูู ูุชูุฏู </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงููุณุชุฎุฏู ูู ููู Srartup.cs </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงููุณุชุฎุฏู ูู LoginPartial ู ViewImports </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุชุฑุญูู ุฌุฏูุฏ ูุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุชููุงุฆููุง ุจุชูุณูู ุฌุฏูุฏ </li></ul><br>  ูุฐูู ุ ูููู ุจููู ูุฆุฉ ApplicationDBContext ูู ูุดุฑูุน WebApp ุฅูู HabrDB. <br><br>  ุงููุง ููุณุช ูุญูููุฉ ุ ููุท ูุณุฎูุง.  ูููู ุจุฅุฒุงูุชู ูู WebApp ุ ููุชุญู ูู ูุดุฑูุน HabrDB ูุชุบููุฑ ูุณุงุญุฉ ุงูุงุณู ุงูุฎุงุตุฉ ุจู ุฅูู HabrDB ุ ุชุธูุฑ ุงููุซูุฑ ูู ุงูุฃุฎุทุงุก. <br><br>  ูุนู ุ ูู ูุฐุง ุงููุดุฑูุน ูุง ุชูุฌุฏ ุญุฒู ุถุฑูุฑูุฉ ุ ุงูุขู ุณูููู ุจุชุณููููุง. <br><br>  ูู ุฎูุงู nuget ุ ูู ูุดุฑูุน HabrDB ุ ุชุญุชุงุฌ ุฅูู ุชุซุจูุช Microsoft.AspNetCore.Identity.EntityFrameworkCore. <br><br><img src="https://habrastorage.org/webt/wj/-d/q4/wj-dq4ldm5nx32fs9hvzdiya5ys.jpeg" alt="ุตูุฑุฉ"><br><br>  ูุถุบุท ุนูู ุงููุตุจุงุญ ุงูููุฑุจุงุฆู ููุชูุญ ููุง ุชุซุจูุช ุฃุญุฏุซ ุงูุฅุตุฏุงุฑุงุช. <br><br>  ูุฃุฎุฐ ููู SecurityDBContext ุงูููุงุฆู (ูุฌุจ ุฅุนุงุฏุฉ ุชุณููุชู ุฃูุถูุง) ูู ูุฐุง ุงููููุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.AspNetCore.Identity.EntityFrameworkCore; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.EntityFrameworkCore; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HabrDB</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SecurityDBContext</span></span> : <span class="hljs-title"><span class="hljs-title">IdentityDbContext</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SecurityDBContext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">DbContextOptions&lt;SecurityDBContext&gt; options</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">options</span></span></span><span class="hljs-function">)</span></span> { } } }</code> </pre> <br>  ุจุนุฏ ุงูุชุฌููุน ุ ูููู <s>ุจูุนุงูุฌุฉ ุงูููู ุจุนูุงูุฉ</s> ุจุฃุฎุทุงุก ุ ูุญููุง - ูููุง ุจุญุฐู ApplicationDBContext ูุงุณุชุจุฏูู ุจู SecurityDBContext.  ุงูุขู ุชุญุชุงุฌ ุฅูู ุงุณุชุจุฏุงู ูุงูุฉ ุงูุงุฑุชุจุงุทุงุช ุฅูู ApplicationDBContext ูู ุงููุดุฑูุน ุจุฃูููู ุจู SecurityDBContext. <br><br>  ุจุนุฏ ุฐูู ุ ุธูุฑุช ูุซูุซุงุช ุตูุฑุงุก ูู ูุดุฑูุนู ุนูู ูุฑุงุฌุน ูู WebApp ุ ูุงูุชู ุชุดูุฑ ุฅูู ุฃู ุจุนุถ ุงูุฑูุงุจุท ุชุนูู ุจุดูู ุบูุฑ ุตุญูุญ.  ููุช ุจุชูุธูู ุงููุดุฑูุน (ุจูุงุก -&gt; ุญู ูุธูู) ุ ูุฃุบููุช ุงููุดุฑูุน ุ ูุญุฐูุช ุฌููุน ุฏูุงุฆู Debug ู Release ู Obj ู Bin ูู ูุฌูุฏ ุงููุดุฑูุน ุ ูุจุนุฏ ุฐูู ูุชุญุช ุงููุดุฑูุน ูุฑุฉ ุฃุฎุฑู ุ ูุจุนุถ ุงูููุช ุจุญุซุช ุนู ุงูุฑูุงุจุท ุงูุถุฑูุฑูุฉ ุนูู ุงูุฅูุชุฑูุช ูููุช ุจุชุญููููุง ุ ูุงููุซูุซุงุช ุงุฎุชูู - ุซู ูู ุดูุก ุนูู ูุง ูุฑุงู. <br><br>  ุงูุขู ุงุญุฐู ูุฌูุฏ ุงูุจูุงูุงุช ูู ูุดุฑูุน WebApp ุ ูุญุฐู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุง (Habr1_Local ู Habr1_Production) ูู ูุงูุฐุฉ SQL Server Object Explorer ููู ุจุชุดุบูู ุงููุดุฑูุน.  ูุญุงูู ุชุณุฌูู ุงูุฏุฎูู - ูุงูุขู ุจุฏูุงู ูู ุนุฑุถ ุชุทุจูู ุงูุชุฑุญูู ุ ููุฏู ุฎุทุฃ. <br><br><img src="https://habrastorage.org/webt/z_/ex/ca/z_excar1pqk18n8pdmyvf3eobog.jpeg" alt="ุตูุฑุฉ"><br><br>  ูุฐุง ุตุญูุญ ุ ููุฏ ุญุฐููุง ูุฌูุฏ ุงูุจูุงูุงุช ุญูุซ ูุงูุช ุฌููุน ุนูููุงุช ุงูุชุฑุญูู ูุงูุขู ูุง ูุนุฑู ุฅุทุงุฑ ุงูุนูู ูุง ูุฌุจ ุงูููุงู ุจู.  ููููุง ูุงูุช ุฑุงุฆุนุฉ ุฌุฏุงุ  ููุงุฐุงุ  ุซู ูุงุฐุง ุณููุณุน ุงูุขู ูุฆุฉ ุงููุณุชุฎุฏู. <br><br>  ุฃุถู ููููุง ุฌุฏูุฏูุง ุฅูู ูุดุฑูุน HabrDB: <br>  ApplicationUser.cs <br><br>  ูุฑุซูุง ูู IdentityUser <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.AspNetCore.Identity; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HabrDB</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ApplicationUser</span></span>:<span class="hljs-title"><span class="hljs-title">IdentityUser</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String NickName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime BirthDate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String PassportNumber { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre> <br>  ูู ููู SecurityDBContext ูู ุฑุฃุณ ุงููุตู ุ ุฃุถู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">SecurityDBContext</span></span> : <span class="hljs-title"><span class="hljs-title">IdentityDbContext</span></span>&lt;<span class="hljs-title"><span class="hljs-title">ApplicationUser</span></span>&gt;</code> </pre> <br>  ูุนุฏ ุฐูู ุถุฑูุฑููุง ุญุชู ูุนูู EntityFramework ุฃูู ุงูุขู ุนูุฏ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ููุฒูู ุงุณุชุฎุฏุงู ูููุฐุฌ ุงููุณุชุฎุฏู ุงููุชูุฏู ูู ูุฆุฉ AppllicationUser ุจุฏูุงู ูู ุงููููุฐุฌ ุงูููุงุณู. <br><br>  ูุฃุฎุฐ ุงูุฃุณููุจ ConfigureServices ูู ููู Startup.cs ุงููููุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConfigureServices</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IServiceCollection services</span></span></span><span class="hljs-function">)</span></span> { String ConnStr = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> DEBUG ConnStr = "Habr1_Local"; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> ConnStr = "Habr1_Production"; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> services.AddDbContext&lt;SecurityDBContext&gt;(options =&gt; options.UseSqlServer( Configuration.GetConnectionString(ConnStr))); services.AddDefaultIdentity&lt;ApplicationUser&gt;(options =&gt; options.SignIn.RequireConfirmedAccount = true) .AddEntityFrameworkStores&lt;SecurityDBContext&gt;(); services.AddControllersWithViews(); services.AddRazorPages(); }</span></span></code> </pre> <br>  (ุงุณุชุจุฏุงู IdentityUser ุจู ApplicationUser) <br><br>  ูู ููู _ViewImports.cshtml ุ ุฃุถู ุงูุณุทุฑ <br><br>  <a href="https://habr.com/ru/users/using/" class="user_link">ุจุงุณุชุฎุฏุงู</a> HabrDB <br><br>  ุงูุขู ุณุชุดุงูุฏ ุฌููุน ุงููุดุงูุฏุงุช ูุดุฑูุนูุง ูุน ุงููุงุนุฏุฉ ููู ุชุญุชุงุฌ ุฅูู ุงููุชุงุจุฉ <a href="https://habr.com/ru/users/using/" class="user_link">ุจุงุณุชุฎุฏุงู</a> HabrDB ูู ุจุฏุงูุฉ ุงููุดุงูุฏุงุช. <br><br>  ูู ููู _LoginPartial.cshtml ุ ูู ุจุชุบููุฑ ูู IdentityUser ุฅูู ApplicationUser. <br><br>  <a href="https://habr.com/ru/users/using/" class="user_link">ุจุงุณุชุฎุฏุงู</a> Microsoft.AspNetCore.Identity <br>  <a href="https://habr.com/ru/users/inject/" class="user_link">ุญูู</a> SignInManager <br>  <a href="https://habr.com/ru/users/inject/" class="user_link">ุญูู</a> UserManager <br><br>  ููุท ูู ุญุงูุฉ ููุงููุง ุจุชุฌููุน ุงููุดุฑูุน ููุนุฑู ุฃูู ูุง ุชูุฌุฏ ูุฏููุง ุฃุฎุทุงุก ููู ููุณู ุงุณุชุจุฏุงู ุฃู ุดูุก ูู ุฃู ููุงู. <br><br>  ุงูุขู ุงูููุงู ุจุงููุฌุฑุฉ. <br><br>  ุชุญุชุงุฌ ุฅูู ูุชุญ ูุญุฏุฉ ุงูุชุญูู ูู ุญุฒูุฉ Manager ุ ูุญุฏุฏ ูุดุฑูุน DB / HabrDB ูุงููุชุงุจุฉ ุฅููู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">add</span></span>-migration initial</code> </pre> <br>  ุฅููู ูุง ุญุตูุช ุนููู: <br><br><img src="https://habrastorage.org/webt/95/zv/aj/95zvaj1nj3d42hnzq2rk_bvncvo.jpeg" alt="ุตูุฑุฉ"><br><br>  ุธูุฑ ุจุงุจุง Migrations ูู ูุดุฑูุน HabrDB ูููู ูููุงุช ุณุชุณูุญ ููุง ุจุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุง ุชููุงุฆููุง ุ ูููู ุงูุขู ูุน ุญููููุง ุงูุฅุถุงููุฉ - NickName ุ BirthDate ุ PassportNumber. <br><br>  ุฏุนูุง ูุฌุฑุจ ููู ุชุนูู - ูููุนูู ููุญุงูู ุชุณุฌูู ุงูุฏุฎูู (ูุง ุชูู ุจุงูุชุณุฌูู ุ ุณูููู ุนููู ุฅุฏุฎุงู ูููุงุช ูุฑูุฑ ูุนูุฏุฉ ููุงู): <br><br><img src="https://habrastorage.org/webt/01/ib/0u/01ib0ufzxz_bds3n2scb5pqgyoi.jpeg" alt="ุตูุฑุฉ"><br><br>  ููุฏ ุนุฑุถ ุนูู ุงูููุงู ุจุงููุฌุฑุฉ ููุงููุช - ูุฐู ูู ูุงุนุฏุชูุง: <br><br><img src="https://habrastorage.org/webt/qg/af/js/qgafjs_fgtlnj39nlru_bxb9a2a.jpeg" alt="ุตูุฑุฉ"><br><br>  ูุน ูุฐู ุงููุฑุญูุฉ ุ ูู ุดูุก <br><br>  <b>ููุทุฉ: Snap_4_Security</b> ุฌุงูุฒ <br><br>  ุฅูุดุงุก ุงูุทููุฉ ุงูุฎุงูุณุฉ. <br><br>  <b>ุงูุฃูุฏุงู:</b> <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌุนู ุงุฎุชุจุงุฑ ุณูุณูุฉ ุงุชุตุงู ุงูุนูู </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุดุฑูุน ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  ุฌุนู ูุดุฑูุน ุงูุงุฎุชุจุงุฑ ุฅูุดุงุก ูุงุนุฏุฉ ูุงุฎุชุจุงุฑ ุดูุก ูููุฏ </li></ul><br>  ููุฑ ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ููู DB daddy ุ ููู ุจุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ - MSTest .net core. <br>  ุฅุนุงุฏุฉ ุชุณููุฉ ุงูููู ุงููุญูุฏ ูู ูุฐุง ุงููุดุฑูุน ุฅูู DBTest ูุงูุชูููุฑ ... <br>  ูุฐูู ุณูููู ูู ุงูุตุนุจ. <br><br>  ุงููุดููุฉ <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ูููููุง ุฅูุดุงุก ุณูุงู ูุถููู ููุชูุงุตู ูุน ูุงุนุฏุฉ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ ุ ุฃู ุงุณุชุฎุฏุงู ConnectionString ููุณ ููุท ูู ูุดุฑูุน ุขุฎุฑ (WebApp) ุ ูููู ุฃูุถูุง ุงูุงุชุตุงู ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ูุน ุชููููุงุช Release / Debugุ .. ูู ูููู ุฅูุดุงุก ุชูููู ุฌุฏูุฏ ุ ุงุฎุชุจุงุฑ ุนูู ุณุจูู ุงููุซุงู ุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุ ูุฐู ุฎุณุงุฑุฉ ูุญุชููุฉ ููุจูุงูุงุช - ุจุทุฑููุฉ ูุง ููุณู ุฃููุง ููุณู ุงูุชุจุฏูู ูู ุชูููู ุงูุงุฎุชุจุงุฑ ุ ุงููุฑ ููู ุงูุฒุฑ "ุชุดุบูู ูุงูุฉ ุงูุงุฎุชุจุงุฑุงุช" - ูููุงู ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุฃููููุง ... ูุง ุ ูุฐุง ุงูุฎูุงุฑ ูุง ูุนูู ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู ุ ุณูุฎูู ุณูุงู ุงุฎุชุจุงุฑ ุจุดูู ูุงุถุญ! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุญ ุงูููู HabrDBContext ููู ุจุชุบููุฑ ูุญุชููุงุชู ุฅูู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.EntityFrameworkCore; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.Extensions.Configuration; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HabrDB</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HabrDBContext</span></span>:<span class="hljs-title"><span class="hljs-title">DbContext</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String ConnectionString = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IConfigurationRoot Configuration { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> HabrDBContext </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateTestContext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { DirectoryInfo info = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DirectoryInfo(Directory.GetCurrentDirectory()); DirectoryInfo temp = info.Parent.Parent.Parent.Parent; String CurDir = Path.Combine(temp.ToString(), <span class="hljs-string"><span class="hljs-string">"WebApp"</span></span>); String ConnStr = <span class="hljs-string"><span class="hljs-string">"Habr1_Test"</span></span>; Configuration = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ConfigurationBuilder().SetBasePath(CurDir).AddJsonFile(<span class="hljs-string"><span class="hljs-string">"appsettings.json"</span></span>).Build(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> builder = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DbContextOptionsBuilder&lt;HabrDBContext&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> connectionString = Configuration.GetConnectionString(ConnStr); builder.UseSqlServer(connectionString); ConnectionString = connectionString; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุฎูุงู Nuget ุ ุฃุถู ุงูููุชุจุงุช ุงูุชุงููุฉ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Microsoft.AspNetCore.Identity.EntityFrameworkCore Microsoft.EntityFrameworkCore Microsoft.EntityFrameworkCore.SqlServer Microsoft.Extensions.Configuration.FileExtensions Microsoft.Extensions.Configuration.Json</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุณููุจ CreateTestContext ุจุจุณุงุทุฉ ูููู ููุท ุฅุฑุฌุงุน ุณูุณูุฉ ุงูุงุชุตุงู ุงููุณูู Habr1_Test. ุชุญุชุงุฌ ุฅูู ุฃู ุชุฃุฎุฐู ูู ูุดุฑูุน ุขุฎุฑ. ูู ุฃุฌู ุนุฏู ุชูุตูู ุงููุดุฑูุน ูู ุฎูุงู ุงููุฑุฌุน ูุฃููุง ูุญุชุงุฌ ุฅูู ุฅุนุฏุงุฏ ูุงุญุฏ ููุท ุ ูุฅููุง ูุทูุจ ูู ุงูููุดุฆ ุฅูุดุงุก ุฎูุงุฑุงุช ุจูุงุกู ุนูู ุณูุณูุฉ ุงูุงุชุตุงู ุงููุนููุฉ ุ ูููุฐุง ูุฅููุง ูุชุนุฑู ุนูู ุณูุณูุฉ ุงูุฃุฏูุฉ ูู ุงูุฏููู ุญูุซ ูุชู ุชุฑุฌูุฉ ูุดุฑูุน ุงูุงุฎุชุจุงุฑ ุฅูู ุฏููู ุฌุฐุฑ ุงููุดุฑูุน ุ ูุฌูุน ุงููุณุงุฑ ุฅูู ูุดุฑูุน WebApp ูู ุงูุฃุฌุฒุงุก ุ ูุฑุฌู ุฅุถุงูุฉ ููู ุงูุชูููู ุงูุฎุงุต ุจูุง ุฅูู appettings.json ุญูุซ ูุชู ุชุฎุฒูู ุฅุนุฏุงุฏุงุชูุง ุ ูุชุฌููุนูุง ูู ุงูุชูููู. ุนูุงูุฉ ุนูู ูุฐุง ุงูุชูููู ุ ูุฃุฎุฐ connectionString ููุชุฐูุฑู (ุณูุญุชุงุฌ ูุฐุง ูุงุญููุง).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุดุฑูุนุงุช ุงููุจูุฑุฉ ุ ููููู ููู ุงูุฅุนุฏุงุฏุงุช ุฅูู ูุดุฑูุน ูููุตู ูุน ุณูุงุณู ุฃู DLL ุฃู ูุงุฆู ูููุตูู ุฅูู ุจูุงูุงุช ุงูุฅุนุฏุงุฏุงุช ูุน ุงูุชุฎุฒูู ุงููุคูุช. ูู ุงูููุช ุงูุญุงูู ุ ูููู ุงุชุจุงุน ููุฌ ุฃุจุณุท.</font></font><br><br>  ููุงุฐุง ูุฐุง <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ConnectionString ูุจุงุดุฑุฉ ูู ูุดุฑูุน ุงูุงุฎุชุจุงุฑ ูุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจู ุ ููููู ุฅูุดุงุก ุงุฎุชุจุงุฑ ConnectionString ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. </font><font style="vertical-align: inherit;">ูููู ุจุนุฏ ุฐูู ุณูููู ููุงู ุดูุก ูุงุญุฏ ุบูุฑ ุณุงุฑุฉ: ุณูุชู ุชุฎุฒูู ุฌููุน ุณูุงุณู ุงูุงุชุตุงู ูู ุฃูุงูู ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ููููู ุดุฎุตูุงู ุฃุนุฑู ุฃู ุฑุฃุณู ูููุก ุจุงูุซุบุฑุงุช ููููููู ุฃู ุฃูุณู ุชุบููุฑ ุดูุก ูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูุชุบูุฑ ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุงูุฎุงุฏู ุ ูุจุฐูู ูููู ูุฏู ูู ุฎุทูุท ุงูุงุชุตุงู ูู ููุงู ูุงุญุฏ ุ ุฃููู ุจุฐูู. </font><font style="vertical-align: inherit;">ุงูุขู ุ ูู ุฎูุงู ุชุบููุฑ appettings.json ููู ุงูุชูููู ููููู ุฅุฏุงุฑุฉ ุฌููุน ุงูุงุชุตุงูุงุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุฏุนููุง ูุญุงูู ุงูููุงู ุจุดูุก ูููุฏ ูุน ุงููุงุนุฏุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูุดุงุก ุดูุก ูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุดุฑูุน HabrDB ุ ููุชู ุจุฅูุดุงุก ูุฌูุฏ DBClasses ุ ููู ูููู ููุงู ุณูู ูุฆุงุช ุฌุฏูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุงู. </font><font style="vertical-align: inherit;">ูุนูู ูู ุฎูุงู ุงูููุฏ ุฃููุงู ุ ุฅุฐุง ูุงู ุจุฅููุงูู ุชุฎูู ูุง ุฃููู ุจู ุ ูุนุงุฏุฉู ูุง ูููู ุฐูู ููุงุณุจูุง ูู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุจุฅูุดุงุก ุฌุฏูู ูุซู ูุฐุง: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.ComponentModel.DataAnnotations; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.ComponentModel.DataAnnotations.Schema; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Text; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HabrDB.DBClasses</span></span> { [Table(<span class="hljs-string"><span class="hljs-string">"Phones"</span></span>, Schema =<span class="hljs-string"><span class="hljs-string">"Habr"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Phone</span></span> { [Key] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String Model { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime DayZero { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฃุฌู ุงูุฌูุงู ุ ุงุณูุญ ูู ุจุงูุตู "ุงููุงุชู" ูุงูุฌุฏูู ุงูููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุตูุบุฉ ุงูุฌูุน - "ุงูููุงุชู". </font><font style="vertical-align: inherit;">ูุฐูู ุ ุฃูุฏ ุฃู ุฃุดูุฑ ูู ุณูุฉ ุงูุฌุฏูู ุฅูู ูุง ูุฌุจ ุชุณููุชู ูู ุฌุฏููู ููู ุฃู ูุณุงุญุฉ ุงุณู ูุฌุจ ุฃู ุชููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูู SQL ูุณูู ูุฐุง ุงููุฎุทุท). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ููุงู ุณุคุงู ุฌูุงูู ุขุฎุฑ: ููุง ุณูููู ูุฏููุง ูุฌููุนุฉ ูู ุฃุณุงููุจ ุงูุจููุฉ ุงูุชุญุชูุฉ ุงููุฎุชููุฉ ูู ูุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุจุนุฏ ุฐูู ุณูููู ูุฏููุง ุฌุฏุงูู ูุฎุชููุฉ ููู ูุฐุง ูู ูููุฉ ูุงุญุฏุฉ - ููููู ุฅูุดุงุก ูุฆุงุช ุฌุฒุฆูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุถู ุงููููุฉ ุฌุฒุฆูุฉ ุจุนุฏ ูุฆุฉ ุงููููุฉ ูู ููู HabrDBContext.cs - ูุซู ูุฐุง:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HabrDBContext</span></span>:<span class="hljs-title"><span class="hljs-title">DbContext</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุจุฅูุดุงุก ูุณุฎุฉ ูู ููู HabrDBContext.cs - ุจุจุณุงุทุฉ CTRL + C - CTRL + V ุนูู ุงูููู ุ ูู ุจุฅูุดุงุก ูุณุฎุฉ ููู ุ ููู ุจุชุบููุฑ ุงุณู ุงูููู ุงููุตุฏุฑ ุฅูู HabrDBContext_Infrastructure.cs ุ ูุงูููู ุงูุฌุฏูุฏ ุฅูู HabrDBContext_Data.cs </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุฌุฏูุฏ ุ ุงูุชุจ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB.DBClasses; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.EntityFrameworkCore; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HabrDB</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HabrDBContext</span></span>:<span class="hljs-title"><span class="hljs-title">DbContext</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DbSet&lt;Phone&gt; Phones { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุงูุฃูุฑ ุฌููู - ูุญู ูุนูู ูุน ุงูุจูุงูุงุช ูู ููุงู ูุง ุ ูุน ุงูุจููุฉ ุงูุชุญุชูุฉ ูู ููุงู ุขุฎุฑ. </font><font style="vertical-align: inherit;">ุงููููุงุช ูุฎุชููุฉ ุ ููู ุงููุตู ูู ููุณู - ุงูุจูุฆุฉ ููุณูุง ุณุชุฌูุนูุง ูู ุนุฏุฉ ุฅูู ูุงุญุฏ ุนูุฏ ุจูุงุก ุงููุดุฑูุน. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณูุง ุ ุฌุฑุจู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชุจุฏู ุงูููุฏ ูู ุตู ุงูุงุฎุชุจุงุฑ ุงููุญูุฏ ุจู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB.DBClasses; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.VisualStudio.TestTools.UnitTesting; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">DBTest</span></span> { [TestClass] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DBTest</span></span> { [TestMethod] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestMethod1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { String PhoneName = <span class="hljs-string"><span class="hljs-string">"Nokia"</span></span>; DateTime now = DateTime.Now; HabrDBContext db = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HabrDBContext().CreateTestContext(); db.Database.EnsureCreated(); List&lt;Phone&gt; Phones = db.Phones.ToList(); Assert.AreEqual(<span class="hljs-number"><span class="hljs-number">0</span></span>, Phones.Count); Phone ph = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phone(); ph.Model = PhoneName; ph.DayZero = now; db.Phones.Add(ph); db.SaveChanges(); Phone ph1 = db.Phones.Single(); Assert.AreEqual(PhoneName, ph1.Model); Assert.AreEqual(now, ph1.DayZero); } } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุฑ ููู ุฒุฑ ุงูุชุดุบูู ูู ุนูุงูุฉ ุงูุชุจููุจ ุงุฎุชุจุงุฑ Explorer (ุฃู ุงุฎุชุจุงุฑ -&gt; ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช) ู ... </font></font><br><br><img src="https://habrastorage.org/webt/9w/qe/68/9wqe686vdpg6jet-epu30oakdou.jpeg" alt="ุตูุฑุฉ"><br><br>  ุฎุทุฃ!<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุคูุงุก ูู ุนูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฑุฃ ูุง ููุชุจูู ููุง:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Message: Test method DBTest.DBTest.TestMethod1 threw exception: System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions&lt;TContext&gt; object in its constructor and passes it to the base constructor for DbContext.</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ูู ุงููุฑุงุก ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ุณูุนูู ุจุดูู ุนุดูุงุฆู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูููู ูุณุฎ ูุฐู ุงููุธููุฉ ุฅูู ููู HabrDBContext_Infrastructure.csุ </font><font style="vertical-align: inherit;">ููุฌุฑุจูุง!</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnConfiguring</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">DbContextOptionsBuilder optionsBuilder</span></span></span><span class="hljs-function">)</span></span> { String ConnStr = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Configuration == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> DEBUG ConnStr = "Habr1_Local"; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> ConnStr= "Habr1_Production"; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> Configuration = new ConfigurationBuilder() .SetBasePath(Directory.GetCurrentDirectory()) .AddJsonFile("appsettings.json").Build(); ConnectionString = Configuration.GetConnectionString(ConnStr); } optionsBuilder.UseSqlServer(ConnectionString); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุฏุฃ ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงู ูุฐุง ูุญุธูุธุง! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุฌุฏูุฏุฉ ูููู - ุทุงููุชูุง! </font></font><br><br><img src="https://habrastorage.org/webt/an/cv/1a/ancv1ahppxwymetpwayqqwdtlzg.jpeg" alt="ุตูุฑุฉ"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุฐุง ููุฐุงุ</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุถุนุช ุจุถุน ููุงุท ุชููู ุนูู ุงูุฏุงูุชูู OnConfiguring ู CreateTestContext ุ ูุณุชุฑู ุฃู ุงูุฃุณููุจ CreateTestContext ูุณูู ุฃููุงู ููุญูุธ ุณูุณูุฉ ุงูุงุชุตุงู ูู ูุงุฆู ConnectionString. ูู ุดูุก ูุจุฏู ููุงูู. ูููู ุจุนุฏ ุฐูู ูุญุงูู ุดุฎุต ูุง ุงูุงุชุตุงู ุจู OnConfiguring ... ูู ููุ ุฏุนููุง ูุฑู ููุฏุณ ุงูุงุณุชุฏุนุงุกุงุช - ูุนู ูุฐุง ูู ุฎุท db.Database.EnsureCreated () ูู ุงูุงุฎุชุจุงุฑ! ุงูุญูููุฉ ูู ุฃูู ููุณ ูุฏููุง ูุงุนุฏุฉ ุนูู ูุฐุง ุงููุญู ุญุชู ุงูุขู - ุฅู ุทุฑููุฉ EnsureCreated ุชูุดุฆูุง. ูููู ูุฐู ุงูุทุฑููุฉ ูู ุชุนุฏ ุชุฃุฎุฐ ุงููุนููุงุช ุ ููุฌุจ ุงูุญูุงุธ ุนูู ุงูุณูุงู ุจุทุฑููุฉ ูุง ุจูู ุงูุงุณุชุฏุนุงุกุงุช ุฅูู ุงูููุดุฆ ู EnsureCreated. ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุนูุฏูุง ูุณุชุฎุฏู ูุฐุง ุงูุณูุงู ูู ุงููุดุฑูุน ููุณู (ูููุณ ูู ุงูุงุฎุชุจุงุฑ ุ ูููู ูู ุงููููุน ุนูู ุณุจูู ุงููุซุงู) ุ ุณุชุญุงูู ุฌููุน ุฃููุงุน ุจุฑุงูุฌ middlware ู DI ูุขููุงุช ุฌุฐุงุจุฉ ุฃูุถูุง ุชุณููุชู ุ ูุฐูู ุณูุชูุจุฃ ุจูู ุดูุก ููุฏููุง - ูู ูู ูุชุตู ุจูุงุนุฏุฉ ุจูุงูุงุชูุง .ุฅุฐุง ูุงู ูุฑูุฏ ุงูุงุชุตุงู OnConfiguring - ุณูููู ูุฏูู ูุซู ูุฐู ุงููุฑุตุฉ. ููุฏ ูุฏููุง โโููู ุดูุก.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุดุบูู ุงูุงุฎุชุจุงุฑ ูุฑุฉ ุฃุฎุฑู - ู ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุฉ ุฃุฎุฑู ุ ุฎุทุฃุ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏุฉ ุจุงููุนู ุ ูุงูุจูุงูุงุช ... ูุง ูู ุงูุฎุทุฃุ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุงุนุฏุฉ ูู ูุงุฆู ุซุงุจุช ุจุงูู ุ ุญุชู ูู ุฃุนูุฏ ุชุดุบูู ูุดุฑูุนูุง ... ูุงูุขู ูุจุฏุฃ ุงูุฌุฒุก ุงูุตุนุจ ุญููุง. ููููุฉ ุญุฐู ูุฐู ุฌููุน ุงูุฌุฏุงููุ ููููุฉ ุญุฐู ุงูุจูุงูุงุช ุ ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูููุงุฑุณุ </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุทุฉ: Snap_5_ContextCrafting ุฌุงูุฒุฉ</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุฃููุงู ุ ุงูุชุจ DAL - ุทุจูุฉ ุงููุตูู ุฅูู ุงูุจูุงูุงุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุจุฅูุดุงุก ูุณุฎุฉ ูู ููู HabrDBContext_Data.cs ุ ูุงุทูู ุนูููุง ุงุณู HabrDBContext_DAL.cs </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุชุจูุง:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB.DBClasses; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.EntityFrameworkCore; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading.Tasks; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">HabrDB</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HabrDBContext</span></span>:<span class="hljs-title"><span class="hljs-title">DbContext</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;</span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddPhone</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Phone ph</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Phones.Add(ph); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> res = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.SaveChangesAsync(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> Task&lt;List&lt;Phone&gt;&gt; GetAllPhones() { List&lt;Phone&gt; phones = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Phones.ToListAsync(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> phones; } } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูู ุงูุชูุงู ุนูู ุจูุงูุงุชูุง. ูุง ุฃุฑูุฏ ุฅุฐุง ููุช ุจุชุบููุฑ ุดูุก ูู ุงููุงุฌูุงุช ูููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ููุชุนุงูู ูุน ุงูุจุญุซ ูู ุฌููุน ุฃูุญุงุก ุงููุดุฑูุน ุงูุฐู ุงุชุตูุช ุจู. ูุฐูู ุ ุณูู ูุฌุนู ุทุจูุฉ ุชุฌุฑูุฏูุฉ - ุทุจูุฉ ุงููุตูู ุฅูู ุงูุจูุงูุงุช. ุณูููู ุงููุณูุท ุจูู ุขููุงุช ุงููุงุนุฏุฉ ู MVC ูููููุน ุฃู ุขููุงุช ุฃุฎุฑู. ู- ุตุฏูุฉุ - ูุฏููุง ุนูู ุงูููุฑ ูุงุฆูุงุช ุงุฎุชุจุงุฑ! ุณุจุจ ุขุฎุฑ ูุงุณุชุฎุฏุงู ุงูุงุฎุชุจุงุฑุงุช ูู ุฃููุง ุชุซูุฑ ุญููู ุฐุงุช ุงุชุตุงู ููุฎูุถ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุบููุฑ ุฑูุฒ ุงููุธููุฉ ูู ุงูุงุฎุชุจุงุฑุงุช - ูุจุงููุณุจุฉ ูุฃุญุฏูู ูุบูุฑ ุงุณูู. ุงูุขู ูุญู ูุนุฑู ูุง ูุฎุชุจุฑู! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุถุงูุฉ ูุงุชู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูููู ุจุนูู ุงููุณุชูุฏุน ุ ุจุงููุณุจุฉ ูููุดุฑูุน ุงูุชุฌุฑูุจู ุ ูุนุฏ ูุฐุง ุญููุง ุถุฑูุฑููุง. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุงุฏุฉู ุ ููููู ุชูุตูู ูู ุดูุก ูู ุฎูุงู DI ูู startup.cs ุ ูููู ุจุงููุณุจุฉ ูููุดุฑูุน ุงูุชุฌุฑูุจู ูุฑุฉ ุฃุฎุฑู ุ ูุฅู ูุฐุง ุฃูุฑ ูุฑุจู ููุบุงูุฉ ุ ูุฐูู ุฏุนููุง ูุชุฑู ุงูุฃูุฑ ููุฐุง</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฑูุฒ ูุธููุฉ ุงูุงุฎุชุจุงุฑ ุงูุฌุฏูุฏ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TestMethod</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddPhone_Test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { String PhoneName = <span class="hljs-string"><span class="hljs-string">"Nokia"</span></span>; DateTime now = DateTime.Now; HabrDBContext db = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HabrDBContext().CreateTestContext(); db.Database.EnsureCreated(); List&lt;Phone&gt; Phones = db.GetAllPhones().Result; Assert.AreEqual(<span class="hljs-number"><span class="hljs-number">0</span></span>, Phones.Count); Phone ph = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phone(); ph.Model = PhoneName; ph.DayZero = now; db.AddPhone(ph); Phone ph1 = db.Phones.Single(); Assert.AreEqual(PhoneName, ph1.Model); Assert.AreEqual(now, ph1.DayZero); }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูููู ุจุฅุฒุงูุฉ ุงูุฎุท ูุน ุงููุงุชู ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ ูุชุดุบูู ุงูุงุฎุชุจุงุฑ ูุฑุฉ ุฃุฎุฑู - ูุฌุจ ุฃู ูุนูู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูู ููุฌุญ ุงูุฃูุฑ ุ ููุง ูุฒุงู ูุฏูู ุณุงู ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ูู ุดูุก ุฃุฎุถุฑ ูุนู: </font></font><br><br><img src="https://habrastorage.org/webt/kc/vz/ea/kcvzeaiyug4owclncwblblpqoaw.jpeg" alt="ุตูุฑุฉ"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูู db.GetAllPhones (). ุงููุชูุฌุฉุ </font><font style="vertical-align: inherit;">ุงูุญูููุฉ ูู ุฃู ูุธุงุฆู DAL ูุฏููุง ุบูุฑ ูุชุฒุงููุฉ. </font><font style="vertical-align: inherit;">ููู ุทุฑููุฉ ุงูุงุฎุชุจุงุฑ ูู ุญุฏ ุฐุงุชูุง ุนุงุฏูุฉ ุ ูุจุงูุชุงูู ูุง ูููู ุงุณุชุฏุนุงุกูุง. </font><font style="vertical-align: inherit;">ุฏุนููุง ูุญุงูู ุญุฐู ุงูุจูุงูุงุช ุ ูุฌุนู ุงูุทุฑููุฉ ุบูุฑ ูุชุฒุงููุฉ ููุฑู ูุง ุณูุญุฏุซ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏ ุฃุตุจุญุช ูููุชูุง ูููุฉ ุบูุฑ ูุชุฒุงููุฉ - ูุฅูุง ูู ูุจุฏุฃ ุงูุงุฎุชุจุงุฑ ููุชู ุ ูุญูุซูุง ุชูุฌุฏ ุฏุนูุฉ ูุทุฑู ุบูุฑ ูุชุฒุงููุฉ - ุชุญุชุงุฌ ุฅูู ุงูุงูุชุธุงุฑ ูุจููุง</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TestMethod</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddPhone_Test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { String PhoneName = <span class="hljs-string"><span class="hljs-string">"Nokia"</span></span>; DateTime now = DateTime.Now; HabrDBContext db = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HabrDBContext().CreateTestContext(); db.Database.EnsureCreated(); List&lt;Phone&gt; Phones = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> db.GetAllPhones(); Assert.AreEqual(<span class="hljs-number"><span class="hljs-number">0</span></span>, Phones.Count); Phone ph = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phone(); ph.Model = PhoneName; ph.DayZero = now; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> db.AddPhone(ph); Phone ph1 = db.Phones.Single(); Assert.AreEqual(PhoneName, ph1.Model); Assert.AreEqual(now, ph1.DayZero); }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููู ุฃู ุชุนูุฏ ุฌููุน ูุธุงุฆู ุงูุงุฎุชุจุงุฑ ุงูุชู ุชูุฌุฏ ูููุง ููุงููุงุช ุบูุฑ ูุชุฒุงููุฉ ูููุฉ ูููุณ ูุงุบูุฉ - ูุฅูุง ูุฅู ุงูุงุฎุชุจุงุฑุงุช ูู ุชุจุฏุฃ ุฃู ูู ุชูุชุธุฑ ุนูุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ุงููุชุฒุงููุฉ ูุงููุถู ูุฏูุงู ูุณูููู ููุงู ุฎุทุฃ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู ุ ุฃูุซุฑ ุฃู ุฃูู ูู ุงูุฃุนูุงู. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุทุฉ: Snap_6_Dal</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงุฐุง ุ ูู ูู </font><b><font style="vertical-align: inherit;">ุงูุถุฑูุฑู</font></b><font style="vertical-align: inherit;"> ุญุฐู ุงูุจูุงูุงุช ูุฏูููุงุ ุจุงูุทุจุน ูุง! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชุงุฌ ุฅูู ูุธููุฉ ุญุฐู ุงูุฌุฏุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูููู ูู ุงูุฑุงุฆุน ุงุณุชุฎุฏุงู db.Database.EnsureDeleted ... ููู ุจุงููุนู ูููู!</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ุงูุฃูุถู ููุณ ุถุฑูุฑููุง ... ุงูุญูููุฉ ูู ุฃู ููุงุนุฏูุง ูู ูุฐุง ุงููุดุฑูุน ููุณุช ูุฑุชุจุทุฉ ุจูููุงุช ูุฑูุฑ. ูุฅุฐุง ูุงูุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฑุชุจุทุฉ ุจูููุฉ ูุฑูุฑ ุ ูุณุชุญุชุงุฌ ุฅูู ุฅูุดุงุฆูุง ุจุดูู ูููุตู - ูู ุฎูุงู SQL Management Studio ุ ูุนูุฏูุง ุชููู ุจุฅุฒุงูุชูุง ูู db.Database.EnsureDeleted ุ ุณูุชู ุญุฐููุง ูุน ูู ูููุงุช ุงููุฑูุฑ ูุงููุตูู ูุญููู ุงููุณุชุฎุฏู ูุนูุฏูุง ูุญุงูู ุงูุฅุทุงุฑ ุฅูุดุงุกูุง ูู ุงููุฑุฉ ุงููุงุฏูุฉ ุ ุซู ูู ูููู ููุงู ุจุจุณุงุทุฉ ุงููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ุณูููู ุนููู ุชูููู ูู ุดูุก ูู ุฌุฏูุฏ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูู ุงูุฃูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุซุงูู ูู ุฃูู ูู ุงูุฃูุถู ุนุฏู ุงูููุงู ุจุงููุซูุฑ ูู ุงูุนูู ุ ูุจุงูุชุงูู ูุฅู ุงุฎุชุจุงุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุณุชุณุชุบุฑู ููุชูุง ุฃุทูู ูู ุงููุธุงุฆู ุงููุนุชุงุฏุฉ ุงูุชู ูุง ุชุชุนูู ุจุงูุขููุงุช ุงูุฎุงุฑุฌูุฉ ุ ููู ุงูุฃูุถู ุชุญุณูู ููุช ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุจูู ุงูุทุฑู ุงูููููุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุซุงูุซ: ุฑุจูุง ูู ุงุฎุชุจุงุฑ ูุงุญุฏ ุณูุญุชุงุฌ ุฅูู ุญุฐู ุจุนุถ ุงูุฌุฏุงูู ุฃู ุนุฏุฉ ูุฑุงุช ูุฅุนุงุฏุฉ ุฅูุดุงุฆูุง ุ ูุน ุชุฑู ุงูุฌุฏุงูู ุงูุฃุฎุฑู ุณูููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนูุง ูุญุงูู ุงุณุชุฏุนุงุก ูุธููุฉ db.Database.EnsureDeleted ุ ุงุถุบุท ุนูู ุงูููุณ ูุดุงูุฏ ูุง ููุจูู ุ ููุง ุฅุฐุง ูุงู ูุญุชูู ุนูู ุฃุญูุงู ุฒุงุฆุฏุฉ ... </font></font><br><br><img src="https://habrastorage.org/webt/uh/by/ti/uhbytib40xtjnbwfapd26iqtrus.jpeg" alt="ุตูุฑุฉ"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนู ุ ููุณ ูุซูุฑูุง ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ุญุณููุง ุ ุฏุนูุง ููุชุจ ูุธุงุฆููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุถู ููุฑุงู ูุดุฑูุนูุง ุฌุฏูุฏูุง ุฅูู ุงูุญู ุ (ูู ุงูุญู ููุณู) ุนูู ุงูุญู ุจุงูุฒุฑ ุงูุฃููู ุ ุฃุถู -&gt; .net ูุนูุงุฑ C # ุ ูุงุณูู ุงูุงูุชุฏุงุฏุงุช. ุชุฃูุฏ ูู ุฃูู ูุงู ุงูุฅุตุฏุงุฑ 2.1. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุชุณููุฉ ุงูููู ุงููุญูุฏ ูู ูุดุฑูุน Extensions ุฅูู DBContextExtensions.cs ููุถุน ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ููุงู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.EntityFrameworkCore; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.EntityFrameworkCore.Infrastructure; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Extensions</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DBContextExtensions</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> EnsureDeleted&lt;TEntity&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> DatabaseFacade db, DbSet&lt;TEntity&gt; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> TEntity : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { TableDescription Table = GetTableName(<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> res = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { res = db.ExecuteSqlRaw(<span class="hljs-string"><span class="hljs-string">$"DROP TABLE [</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{Table.Schema}</span></span></span><span class="hljs-string">].[</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{Table.TableName}</span></span></span><span class="hljs-string">];"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception) { } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> TableDescription GetTableName&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> DbSet&lt;T&gt; dbSet) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dbContext = dbSet.GetDbContext(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> model = dbContext.Model; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> entityTypes = model.GetEntityTypes(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> entityType = entityTypes.First(t =&gt; t.ClrType == <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(T)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tableNameAnnotation = entityType.GetAnnotation(<span class="hljs-string"><span class="hljs-string">"Relational:TableName"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tableSchemaAnnotation = entityType.GetAnnotation(<span class="hljs-string"><span class="hljs-string">"Relational:Schema"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tableName = tableNameAnnotation.Value.ToString(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> schemaName = tableSchemaAnnotation.Value.ToString(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TableDescription { Schema = schemaName, TableName = tableName }; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> DbContext GetDbContext&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> DbSet&lt;T&gt; dbSet) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> infrastructure = dbSet <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> IInfrastructure&lt;IServiceProvider&gt;; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serviceProvider = infrastructure.Instance; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentDbContext = serviceProvider.GetService(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(ICurrentDbContext)) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ICurrentDbContext; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentDbContext.Context; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TableDescription</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String Schema { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String TableName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุถู Microsoft.EntityFrameworkCore ูู Nuget </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฒูุฉ ุฃุฎุฑู ุ Microsoft.EntityFrameworkCore.Relational </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extensions ุ ูู ุขููุฉ ูุฑูุญุฉ ููุบุงูุฉ. ุจุงุณุชุฎุฏุงูู ุ ููููู ุฅุถุงูุฉ ูุธุงุฆู ุฅุถุงููุฉ ุฅูู ูุงุฆู ุงููุฆุฉ ุ ููู ูุง ูููุง ุจู - ูุฐู ุงููููุฉ ุงูุฑุฆูุณูุฉ ูุจู ููุน ุงููุนููุฉ ุงูุฃููู</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> EnsureDeleted&lt;TEntity&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> DatabaseFacade db, DbSet&lt;TEntity&gt; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> TEntity : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุดูุฑ ุฅูู ููุน ุงูููุณุนุฉ. ูุฐุง ูุนูู ุฃูู ุจุนุฏ ุฃู ูุชุจูุง ูุฐุง ุ ูุฅู ูุงุฆู DatabaseFacade ุณูููู ูุฏูู ุทุฑููุฉ ุฌุฏูุฏุฉ - EnsureDeleted ูุน ุงููุนููุฉ ุ ูุงูุชู ุณุชููู ูุธููุชูุง ุงูุชู ูุชุจูุงูุง ููุชู! ุญูุซ ูุดูุฑ TEntity: class ูู ุงูููุงูุฉ ุฅูู ุฃู TEntity ูู ููุฏ - ููู ููุฏ ููุฏ ุงูุงุณุชุฎุฏุงู ุ ูุฅุฐุง ุญุงูููุง ุชุนูููู ููุณ ุจูุงุณุทุฉ ูุตู ุ ูููู ุจูุงุณุทุฉ ุดูุก ุขุฎุฑ ุ ูุณูุญุฏุซ ุฎุทุฃ ูู ุงูุชุฑุฌูุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุชููุน ุณุคุงูู ุงูููุทูู - ููุงุฐุง ูุฐุงุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ูุธููุฉ GetTableName ุงูุชู ูุชู ุงุณุชุฏุนุงุคูุง ูู EnsureDeleted ุฅูู ูุฐุง ุงูุชูููุฏ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุฐุง ุชุญุชุงุฌ ูุฐุง ุงูุชูููุฏุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ูุง ูู ูุธููุฉ GetDbContext ุ ูุงูุชู ุชุณูู ูู GetTableName ุ ุชุญุชุงุฌ ุฃูุถูุง ุฅูู ูุฐุง ุงูุชูููุฏ ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุงุฐุง </font><font style="vertical-align: inherit;">ุชุญุชุงุฌ </font><font style="vertical-align: inherit;">ูุฐุง ุงูุชูููุฏ ุุุ !!! ุชุณุฃู ูู ูุบูุงุช ูุฑุชูุนุฉ ุ ูุณูู ุชููู ุนูู ุญู ...</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dbSet ุงูุฐู ูุญุงูู ุชูุณูุนู ุจุงุณุชุฎุฏุงู ุฃุณููุจ GetDbContext ูู ุงูุณุทุฑ</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">Public <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> DbContext GetDbContext&lt;T&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span> DbSet&lt;T&gt; dbSet) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span></code> </pre> <br> ,   T   ,  class     โฆ <br><br>  ,    โ   ,     โ        EnsureDeleted  .      .     DBContext      ,        ,        ,      ,   ,               (   GetTableName),        ,     EnsureDeleted   โ  !     removetable  -  ,     - SQL โฆ    - ! <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุงุณุชุซูุงุก ููุฌูุฏ ูู ูุธููุฉ EnsureDeleted ุจุญูุซ ูุง ููููู ุงูุชูููุฑ ูู ุงูุฅุฌุฑุงุก ุงูุฎุงุต ุจุญุฐู ุงูุฌุฏุงูู ุ ุฅุฐุง ูุงู ููุงู ุฃู ุจูุงูุงุช ุฐุงุช ุตูุฉ ููุงู ุ ููุท ุจุนุฏ ุญุฐู ุงูุฌุฏุงูู ุฐุงุช ุงูุตูุฉ ุ ุญุงูู ุญุฐู ุงูุฌุฏูู ูุฑุฉ ุฃุฎุฑู ูููุณ ุนูุงุก. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุถู ุงูุทุฑููุฉ ููุงุฎุชุจุงุฑุงุช (ูู ุงูููุงูุฉ)</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TestMethod</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteTable_Test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { HabrDBContext db = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HabrDBContext().CreateTestContext(); db.Database.EnsureDeleted(db.Phones); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุดุบูู ุ ุชุญูู ุ ุงูุฒููุฑ ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุดุบูู ูุฑุฉ ุฃุฎุฑู - ูุฌุจ ุฃู ุชุนูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุ ูู ูู ูุฑุฉ ุชููู ูููุง ุจุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑุงุช ุ ุณูุชู ุฅูุดุงุก ุงูุฌุฏุงูู ุงููุงุฒูุฉ ุ ุซู ูุชู ุญุฐููุง. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุทุฉ: Snap_7_Extensions</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅูู </font><font style="vertical-align: inherit;">ุขูุงู </font><font style="vertical-align: inherit;">ุฌุฏูุฏุฉ </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุจูุงุณูุฑ</font></font></s><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููู ููุงู ูุดููุฉ ูุงุญุฏุฉ - ูุงุฆู HabrDBContext ุบูุฑ ุซุงุจุช ูุนูุง (ูุชู ุฅูุดุงุคู ูู ูู ุทุฑููุฉ ุงุฎุชุจุงุฑ). </font><font style="vertical-align: inherit;">(ุญุณููุง ุ ูุนู ุ ูุฌุจ ุนุฒู ููุฑุฉ Kagbe ุนู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ. ููุญู ูุญุงูู ูุณุฑูุง! ูู ุงูุฌูุฏ ุฃูุง ุชุฑู ุงูุดุฑุทุฉ ...) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู ุฃูู ูู ูู ุทุฑููุฉ ุงุฎุชุจุงุฑ ุ ูุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุณูุงู ุ ููุง ูููููุง ูุดุงุฑูุฉ ูุฐุง ุงููุงุฆู ุจูู ุงููุธุงุฆู ุจุญูุซ ูููู ูู ุงูุดุงุฆุน ููุฌููุน ูุฎูู ูุฑุฉ ูุงุญุฏุฉ ูุฌููุน ุงูุงุฎุชุจุงุฑุงุช. </font><font style="vertical-align: inherit;">ูุง ูุณุชุทูุน ูุญูุ </font><font style="vertical-align: inherit;">ุญุณูุง ุ ุญุณูุง ุ ุณูู ููุชุจ ูู ูู ูุธููุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">HabrDBContext db = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HabrDBContext().CreateTestContext(); db.Database.EnsureCreated();</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุชุตู ุจุงูุทุฑููุฉ ุงูุฃุฎูุฑุฉ </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs">HabrDBContext db = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HabrDBContext().CreateTestContext(); db.Database.EnsureDeleted(db.Phones);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุนุถ ุงูุฌุฏุงูู ุงูุฃุฎุฑู ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณุช ุฌูููุฉ ุฌุฏูุง ุ ูุฐูู ุณูููุฑ ูู ููููุฉ ุญู ูุฐู ุงููุดููุฉ ... ูุธุฑูุง ูุฃููุง ูุฑุชุฏู ููุงุจุณ ูุซู ุงููุงุญุตุงุช ุ ูุญุชุงุฌ ุฅูู ูุทุงุจูุฉ ุงูุตูุฑุฉ - ุณูุจุญุซ ุนู ุญู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุทุจูุงุช ูุฏููุง ูุซู ูุฐู ุงูููุฒุฉ ุงููุซูุฑุฉ ููุงูุชูุงู - ุฃุนุถุงุก ุซุงุจุชุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุฏู ุงูุฃูุฑ ููุง ูู ููุช ุชุชุฎูู ุฑุณููุง ููุงุฆููุง ุชู ุฅูุดุงุคู ูู ูุฐุง ุงูุฑุณู ุ ูุชุจูู ุฃู ุงูุนุถู ุงูุซุงุจุช ูู ุนุถู ุบูุฑ ูุชุฃุตู ูู ุงููุงุฆู ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุฑุณู ุ ูููู ูุฐุง ุงูุฑุณู ููุณู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูุซูุฑ ููุงูุชูุงู ุจุงููุนู ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ุฏุนููุง ูุญุงูู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณูู ูุฆุฉ ุงูุงุฎุชุจุงุฑ ุงูุฎุงุตุฉ ุจูุง DBTest ุ ูู ุจุฅูุดุงุก ูุงุฆู ุซุงุจุช ูู - db</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB.DBClasses; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.VisualStudio.TestTools.UnitTesting; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading.Tasks; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Extensions; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">DBTest</span></span> { [TestClass] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DBTest</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> HabrDBContext db; [TestMethod] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AA0_init</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { db = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HabrDBContext().CreateTestContext(); db.Database.EnsureCreated(); } [TestMethod] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddPhone_Test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { String PhoneName = <span class="hljs-string"><span class="hljs-string">"Nokia"</span></span>; DateTime now = DateTime.Now; List&lt;Phone&gt; Phones = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> db.GetAllPhones(); Assert.AreEqual(<span class="hljs-number"><span class="hljs-number">0</span></span>, Phones.Count); Phone ph = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phone(); ph.Model = PhoneName; ph.DayZero = now; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> db.AddPhone(ph); Phone ph1 = db.Phones.Single(); Assert.AreEqual(PhoneName, ph1.Model); Assert.AreEqual(now, ph1.DayZero); } [TestMethod] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteTable_Test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { db.Database.EnsureDeleted(db.Phones); } } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู ูุนูู! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ููุงู ุดูุก ุบุจู ูุนุฏุฏ ุงูุทุฑู ูุซู ูุฐุง. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุญู! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุงุช ุงุฎุชุจุงุฑ ุฎุงุต! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุดุฑูุน ุงูุงุฎุชุจุงุฑ ุ ูู ุจุฅูุดุงุก ูุฆุฉ ุฌุฏูุฏุฉ ุชุณูู DBTestBase ุ ูุฑุซ ูุฆุฉ DBTest ุงูุฎุงุตุฉ ุจูุง ููู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู DBTest ุชุญุชุงุฌ ุฅูู ุฅุฒุงูุฉ ูู ุดูุก ุจุงุณุชุซูุงุก:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB.DBClasses; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.VisualStudio.TestTools.UnitTesting; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Threading.Tasks; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Extensions; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">DBTest</span></span> { [TestClass] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DBTest</span></span>:<span class="hljs-title"><span class="hljs-title">DBTestBase</span></span> { [TestMethod] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddPhone_Test</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { String PhoneName = <span class="hljs-string"><span class="hljs-string">"Nokia"</span></span>; DateTime now = DateTime.Now; List&lt;Phone&gt; Phones = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> db.GetAllPhones(); Assert.AreEqual(<span class="hljs-number"><span class="hljs-number">0</span></span>, Phones.Count); Phone ph = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Phone(); ph.Model = PhoneName; ph.DayZero = now; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> db.AddPhone(ph); Phone ph1 = db.Phones.Single(); Assert.AreEqual(PhoneName, ph1.Model); Assert.AreEqual(now, ph1.DayZero); } [ClassCleanup] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeleteTable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { db.Database.EnsureDeleted(db.Phones); } } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุชููุงุช ูุฆุฉ DBTestBase: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> HabrDB; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Microsoft.VisualStudio.TestTools.UnitTesting; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">DBTest</span></span> { [TestClass] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">DBTestBase</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> HabrDBContext db{ <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Executes once before the test run. (Optional) </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="context"&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> [AssemblyInitialize] public static void AssemblyInit(TestContext context) { db = new HabrDBContext().CreateTestContext(); db.Database.EnsureCreated(); } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Executes before this class creation </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="context"&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> [ClassInitialize] public static void TestFixtureSetup(TestContext context) { } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Executes Before each test </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> [TestInitialize] public void Setup() { } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Executes once after the test run </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> [AssemblyCleanup] public static void AssemblyCleanup() { } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Runs once after all tests in this class are executed. </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Not guaranteed that it executes instantly after all tests from the class. </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> [ClassCleanup] public static void TestFixtureTearDown() { } </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> Executes after each test </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> [TestCleanup] public void TearDown() { //db.Database.EnsureDeleted();//don`t call! delete database instead of tables! } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูู ุดูุก ูุงุถุญ! </font><font style="vertical-align: inherit;">ูุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุง ูุฌุฒุก ุซุงุจุช ูู ูุฆุฉ DBTestBase ุ ูุจุงูุชุงูู ุชููู ูู ูุชูุงูู ุฌููุน ุงููุฆุงุช ุงูููุฑูุซุฉ ูููุง. </font><font style="vertical-align: inherit;">ูุฐุง ูุนูู ุฃูู ูุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฑุฉ ูุงุญุฏุฉ ููุท - ุนูุฏ ุจุฏุก ุงูุงุฎุชุจุงุฑุงุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุถู ุงูุณูุฉ [ClassCleanup] ุฅูู ุฃู ุทุฑููุฉ ูู ุฃู ูุตู - ูุงุญุตู ุนูู ุงุฎุชุจุงุฑ "ุฃูุธู" - ูุซู ูุฐู ุงููุธููุฉ ุงูุชู ุณุชููู ุจุดูุก ูุง ุจุนุฏ ุงูุชูุงู ุฌููุน ุงุฎุชุจุงุฑุงุช ูุฐู ุงููุฆุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ุณูุชู ุญุฐู ุฌููุน ุงูุฌุฏุงูู ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูุฐุง ุงูุงุฎุชุจุงุฑ ุฏูู ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุง.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุฑูุง ูุงุณุชุจุนุงุฏ ุฌููุน ูุฐู ุงููุธุงุฆู ุงูุฎุงุตุฉ ูู ุงูููุงููุณ ุ ูููููุง ุฃู ูุฑู ุงูููุช ุงููุธูู ุงูุฐู ุชุนูู ูู ุฃุฌูู ูุธุงุฆููุง - ูุถูู ุงููุซูุฑ ูู ุงููุงุฆูุงุช ุงููุณุฑู ููุฑู ุฒูุงุฏุฉ ุญุงุฏุฉ ูู ููุช ุงูุนูู ููุธููุฉ ุฃุฎุฐ ุงูุนููุงุช - ููุฐุง ูุนูู ุฃู ููุงู ุฎุทุฃ ูุง ูู ูุธุงุฆู DAL ุงูุฎุงุตุฉ ุจูุง ุ ูุฅุฐุง ููุช ุจุงุฎุชุจุงุฑ ูุธููุฉ ูุงุญุฏุฉ ูู ุทุฑููุฉ ุงุฎุชุจุงุฑ ูุงุญุฏุฉ ุ ุณูููู ูู ุงููุงุถุญ ุนูู ุงูููุฑ ุฃูู ุชููู ุงููุดููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุฃูุถูุง ุฅูุดุงุก ููุงุฆู ุชุดุบูู ูู ุงููุธุงุฆู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ุถุฑูุฑู ูู ุฃุฌู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฏุนุงุก ูุธููุฉ ุฅุนุฏุงุฏ ุงูุจูุงูุงุช (ุจุญุชุฉ ููุงุฎุชุจุงุฑ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุซู ุชููู ูุธููุฉ DAL ุจุชุญุฏูุซ ูุฐู ุงูุจูุงูุงุช ุ ุซู ูุธููุฉ DAL ุฃุฎุฑู ุ ูุงูุชู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชููุฑ ูู ุดูุก ูุง ุ ุฃู ุชุนุฑุถ ุชูุฑูุฑูุง ูู ูุฐู ุงูุจูุงูุงุช ุ ุซู ุชููู ุจุญุฐู ูุฐู ุงูุจูุงูุงุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ูููููุง ุชูููุฏ ุจุนุถ ุฅุฌุฑุงุกุงุช ุงููุณุชุฎุฏู ูู ุงูุนูููุงุช ุงูุชุฌุงุฑูุฉ ุงูุญููููุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุดูุก ุงูุฑุฆูุณู ุงูุฐู ูุฌุจ ุชุฐูุฑู ูู ุฃูู ุฎุงุฑุฌ ุณูุงุช ุงูุงุฎุชุจุงุฑ ูุฐู ุ ุชุณูู ุงูุงุฎุชุจุงุฑุงุช ุจุงูุชุฑุชูุจ ุงูุฃุจุฌุฏู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐูู ุ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ููุน ูู ุงูุชุณูุณู ุงูุณุงูู ุ ููุฌุจ ุนููู ุชุณููุชู: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T1_AddPhone_Test ุ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T2_RemovePhone_Test ุ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ุฅูู ุฐูู ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณููุง ุ ุงูุขู ูุง ููููู ุงูููู ุจุดุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุง - ุณูุชู ุงุฎุชุจุงุฑ ูู ุดูุก ุจุงููุงูู! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุขู ุญุงู ููุช ุงูููู! ูุง ูุฒุงู ูุฏู ูุชุงุฉ ููุงู ูู ุชุฎุชุจุฑ ... ุงุฎุชุจุงุฑ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฌุญ! ูุฏุงุนุง ููุฌููุน! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุดุฑูุน ูุณุชูุฏุน ุงูุฌูุช: </font></font><a href="https://github.com/3263927/Habr_1" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/3263927/Habr_1</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุจ ุงูุชุนูููุงุช ุฅุฐุง ูุงู ูุฐุง ุงูููุถูุน ูุซูุฑูุง ููุงูุชูุงู ุ ูุณุฃูุชุจ ููุดูุฑูุง ุญูู ุงุฎุชุจุงุฑ ุงููููุฉ ูุงูุฃุฏูุงุฑ ูุงููุทุงูุจุงุช ูุงููุตุงุฏูุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ููุชุงุจุฉ TypeFilterAttribute ุงูุฎุงุต ุจู (ูุฃู ุงูุชุฎุฒูู ุงููุคูุช ุงูููุงุณู ูุงุญุฏูุง ูุฅุฐุง ููุช ุจุฅุฒุงูุฉ ุดุฎุต ูุง ูู ุงูุฏูุฑ ุ ูุณูุธู ูู ูุฐุง ุงูุฏูุฑ ุญุชู ูุชุฒูุฌ. ุงูุฒูุงุฌ ูู ูุฎุฑุฌ ุญุชู ูุชู ุงุฎุชุจุงุฑู !: /) </font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููููู ุจุงููุนู ุ ููุฏ ูุฌุญุช ูู ุงูุงุฎุชุจุงุฑ</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ek/8u/bl/ek8ublhenuarw7809onfz2l_nx4.jpeg" alt="ุตูุฑุฉ"><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar481474/">https://habr.com/ru/post/ar481474/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar481460/index.html">ุงููุฑุงุณูุฉ -> PubSub ุฏุงุฎู OTP</a></li>
<li><a href="../ar481462/index.html">ุชุงุฑูุฎ ุงูุจุฑุงูุฌ ุงูุชุนููููุฉ: ุชุทููุฑ ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูุดุฎุตูุฉ ูุงููุนูููู ุงูุธุงูุฑู</a></li>
<li><a href="../ar481466/index.html">ููููุฉ ุจูุงุก ูุดุงุฑูุน ูู ุฌููููุฒ ุ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงููุซูุฑ ูู ุงูุจูุฆุงุช ุงููุฎุชููุฉ</a></li>
<li><a href="../ar481470/index.html">ุฅูููู ุฐูู ููุฏุฉ ุนุงู ูุงูู</a></li>
<li><a href="../ar481472/index.html">ูุญููุธุงุช DNS: ุนูุฏูุง ุชุตุจุญ ุฃุณูุงุก ุงููุทุงูุงุช ูุฏููุนุฉ</a></li>
<li><a href="../ar481476/index.html">ููู ุจุฏุฃุช ุงูุชุญุฏุซ ูู ุงููุคุชูุฑุงุช ููุง ุฃุณุชุทูุน ุงูุชููู</a></li>
<li><a href="../ar481478/index.html">STM32 + CMSIS + STM32CubeIDE</a></li>
<li><a href="../ar481480/index.html">ูุฐุง ูู ุงููุนูุงุฑ: ูุง ูู ุงูุฎุฑุงุฆุท ุงูุนุงุฏูุฉ ูููู ุชุนููุ</a></li>
<li><a href="../ar481482/index.html">ูุดุฑ ูุชูุงุทุน ุนูู ุตูุญุฉ Facebook ุจุงุณุชุฎุฏุงู PHP SDK</a></li>
<li><a href="../ar481484/index.html">ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ ุชุญุงูู ุชุฌูุจ ุงููุดุงูู ุงููุณุชูุงุฏุฉ ุงูุณููู ุงููุนูุฏ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>