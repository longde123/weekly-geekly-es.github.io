<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçØ üë¨ üë©üèº‚Äçüîß Aprenda t√°cticas adversas, t√©cnicas y conocimientos comunes (ATT @ CK). T√°cticas empresariales. Parte 8 üå©Ô∏è ü§∑ üèÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Movimiento lateral 
 Enlaces a todas las partes: 
 Parte 1. Obtenci√≥n del acceso inicial (acceso inicial) 
 Parte 2. Ejecuci√≥n 
 Parte 3. Fijaci√≥n (pe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprenda t√°cticas adversas, t√©cnicas y conocimientos comunes (ATT @ CK). T√°cticas empresariales. Parte 8</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439026/"><h1>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Movimiento lateral</a> </h1><br>  <b>Enlaces a todas las partes:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1. Obtenci√≥n del acceso inicial (acceso inicial)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2. Ejecuci√≥n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 3. Fijaci√≥n (persistencia)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 4. Escalada de privilegios</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 5. Evasi√≥n de defensa</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 6. Obtenci√≥n de credenciales (acceso de credenciales)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 7. Descubrimiento</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 8. Movimiento lateral</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 9. Recolecci√≥n de datos (Colecci√≥n)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 10 Exfiltraci√≥n</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 11. Comando y Control</a> <br><br>  <i>Las</i> t√°cticas de <i>Movimiento Lateral</i> ( <i>Movimiento Lateral - movimiento lateral, lateral, horizontal</i> ) incluyen m√©todos para que el enemigo obtenga acceso y control sobre sistemas remotos conectados a la red atacada, as√≠ como, en algunos casos, inicie herramientas maliciosas en sistemas remotos conectados a la red atacada.  El movimiento lateral de la red permite a un atacante obtener informaci√≥n de sistemas remotos sin el uso de herramientas adicionales, como las utilidades de acceso remoto (RAT). <br><a name="habracut"></a><br>  <i>El autor no es responsable de las posibles consecuencias de aplicar la informaci√≥n establecida en el art√≠culo, y tambi√©n se disculpa por posibles imprecisiones hechas en algunas formulaciones y t√©rminos.</i>  <i>La informaci√≥n publicada es un recuento gratuito de los contenidos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MITER ATT &amp; CK</a> .</i> <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AppleScript</a> </h3><br>  <i>Sistema:</i> macOS <br>  <i>Derechos:</i> usuario <br>  <i>Descripci√≥n:</i> el lenguaje AppleScript proporciona la capacidad de trabajar con Apple Event: mensajes intercambiados entre aplicaciones como parte de la comunicaci√≥n entre procesos (IPC).  Con Apple Event, puede interactuar con casi cualquier aplicaci√≥n que est√© abierta localmente o remotamente, desencadenar eventos como abrir ventanas y presionar teclas.  Las secuencias de comandos se ejecutan con el comando: <code>Osascript -e []</code> . <br>  Los atacantes pueden usar AppleScript para abrir de forma encubierta conexiones SSH a hosts remotos, dando a los usuarios di√°logos falsos.  AppleScript tambi√©n se puede utilizar en tipos de ataques m√°s comunes, como las organizaciones de Shell inverso. <br><br>  <i>Recomendaciones de protecci√≥n:</i> verificaci√≥n obligatoria de la ejecuci√≥n de scripts AppleScript para la firma de un desarrollador de confianza. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Software de implementaci√≥n de aplicaciones</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descripci√≥n: las</i> herramientas de implementaci√≥n de aplicaciones utilizadas por los administradores de redes empresariales pueden ser utilizadas por usuarios malintencionados para instalar aplicaciones maliciosas.  Los permisos requeridos para completar estos pasos dependen de la configuraci√≥n del sistema: se pueden requerir ciertas credenciales de dominio para acceder al servidor de instalaci√≥n de software, y los privilegios locales pueden ser suficientes, sin embargo, se puede requerir una cuenta de administrador para ingresar al sistema de instalaci√≥n de la aplicaci√≥n e iniciar el proceso de implementaci√≥n sistema  El acceso a un sistema centralizado de instalaci√≥n de aplicaciones corporativas permite a un adversario ejecutar c√≥digo de forma remota en todos los sistemas de la red atacada.  Dicho acceso se puede utilizar para moverse por la red, recopilar informaci√≥n o causar un efecto espec√≠fico, por ejemplo, limpiar discos duros en todos los hosts. <br><br>  <i>Recomendaciones de seguridad:</i> solo permita que un n√∫mero limitado de administradores autorizados accedan a los sistemas de implementaci√≥n de aplicaciones.  Proporcione un aislamiento confiable y restrinja el acceso a los sistemas de red cr√≠ticos mediante firewalls, restrinja los privilegios de la cuenta, configure las pol√≠ticas de seguridad de grupo y la autenticaci√≥n multifactor.  Aseg√∫rese de que los datos de las cuentas que tienen acceso al sistema de implementaci√≥n de software sean √∫nicos y no se utilicen en toda la red.  Instale regularmente parches y actualizaciones en los sistemas de instalaci√≥n de aplicaciones para evitar que obtengan acceso remoto no autorizado a trav√©s de la explotaci√≥n de vulnerabilidades.  Si el sistema de instalaci√≥n de la aplicaci√≥n est√° configurado para distribuir solo archivos binarios firmados, aseg√∫rese de que los certificados de firma de confianza no se coloquen en √©l, sino que se almacenen en un sistema al que no se pueda acceder o limitar y controlar de forma remota. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DCOM (Modelo de objetos componentes distribuidos)</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Derechos:</i> Administrador, Sistema <br>  <i>Descripci√≥n:</i> DCOM es un protocolo que ampl√≠a la funcionalidad del Modelo de objetos componentes (COM), permitiendo que los componentes de software interact√∫en no solo dentro del sistema local, sino tambi√©n a trav√©s de la red, utilizando la tecnolog√≠a Remote Procedure Call (RPC), con componentes de aplicaci√≥n de otros sistemas.  COM es un componente de la API de Windows.  A trav√©s de COM, un objeto de cliente puede llamar a un m√©todo de objeto de servidor, generalmente archivos DLL o archivos .exe.  Los permisos para interactuar con un objeto COM de servidor local o remoto se definen mediante ACL en el registro.  De forma predeterminada, solo los administradores pueden activar y ejecutar de forma remota objetos COM a trav√©s de DCOM. <br><br>  Los enemigos pueden usar DCOM para moverse de lado a trav√©s de la red.  A trav√©s de DCOM, un atacante que trabaje en el contexto de un usuario con los privilegios apropiados puede ejecutar remotamente c√≥digo arbitrario a trav√©s de aplicaciones de Office y otros objetos de Windows que contienen m√©todos inseguros.  DCOM tambi√©n puede ejecutar macros en documentos existentes, as√≠ como llamar a Dynamic Data Exchange (DDE) directamente a trav√©s de un objeto COM creado en Microsoft Office, evitando la necesidad de crear un documento malicioso.  DCOM tambi√©n puede proporcionar a un adversario funciones que se pueden usar en otras etapas del ataque, como la escalada de privilegios o el acceso de fijaci√≥n. <br><br>  <i>Recomendaciones de protecci√≥n:</i> Con el registro, configure los ajustes de seguridad individuales para las aplicaciones COM: c√≥digo&gt; HKEY_LOCAL_MACHINE \ SOFTWARE \ Classes \ AppID. <br>  Considere deshabilitar el soporte DCOM utilizando la utilidad <i>dcomcnfg.exe</i> o en el registro: <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Ole\EnableDCOM=SZ:N</code> <br>  Habilite Firewall de Windows, que de forma predeterminada evita que se creen instancias DCOM.  Active la visualizaci√≥n segura y las notificaciones sobre el lanzamiento de objetos COM en documentos de MS Office. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Explotaci√≥n de servicios remotos</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Derechos:</i> usuario <br>  <i>Descripci√≥n:</i> para ejecutar c√≥digo arbitrario, los atacantes pueden utilizar exploits que utilizan errores en programas, servicios, software del sistema operativo o incluso en el n√∫cleo del sistema operativo.  El prop√≥sito de explotar las vulnerabilidades de los servicios remotos despu√©s del compromiso inicial es proporcionar acceso remoto a los sistemas para moverse por la red. <br><br>  Anteriormente, el adversario necesita identificar sistemas con vulnerabilidades.  Esto se puede hacer escaneando los servicios de red u otros m√©todos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">detecci√≥n</a> , como la b√∫squeda de software vulnerable com√∫n y parches faltantes, lo que indica la presencia de vulnerabilidades, o la b√∫squeda de herramientas de seguridad que se utilizan para detectar y bloquear la explotaci√≥n remota de vulnerabilidades.  Es muy probable que los servidores sean un objetivo valioso para usar cuando naveguen por la red, pero las estaciones de trabajo tambi√©n est√°n en riesgo si brindan al adversario alguna ventaja o acceso a recursos adicionales. <br><br>  Las vulnerabilidades se conocen en servicios compartidos, como SMB, RDP, as√≠ como en aplicaciones que se pueden usar en redes internas, como MySQL y servicios de servidor web.  Dependiendo de los permisos del servicio vulnerable, un adversario puede obtener adem√°s escalada de privilegios mediante un movimiento lateral. <br><br>  Consejos de <i>seguridad:</i> segmente las redes y sistemas para reducir el acceso a sistemas y servicios cr√≠ticos.  Minimice la disponibilidad de servicios al otorgar derechos solo a aquellos que los necesitan.  Verifique su red interna regularmente en busca de servicios nuevos y potencialmente vulnerables.  Minimice los permisos y el acceso a las cuentas de servicio para limitar la cobertura. <br><br>  Actualice regularmente el software, implemente el proceso de gesti√≥n de la instalaci√≥n de parches de aplicaciones en hosts y servidores internos.  Desarrolle procedimientos de an√°lisis de amenazas cibern√©ticas para determinar los tipos y niveles de amenazas durante los cuales se pueden utilizar exploits contra su organizaci√≥n, incluidos los exploits de vulnerabilidades de d√≠a cero.  Use cajas de arena para dificultar que el enemigo realice operaciones utilizando vulnerabilidades desconocidas o no corregidas.  Otros tipos de microsegmentaci√≥n y virtualizaci√≥n de aplicaciones tambi√©n pueden mitigar los efectos de ciertos tipos de exploits.  El software de seguridad como Windows Defender Exploit Guard (WDEG) y Enhanced Mitigation Experience Toolkit (EMET), cuyo objetivo es encontrar el comportamiento utilizado durante la explotaci√≥n de vulnerabilidades, se puede utilizar para proteger contra exploits.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Verificar la integridad del flujo de control</a> es otra forma de identificar y bloquear la explotaci√≥n de vulnerabilidades de software.  Muchas de las caracter√≠sticas de seguridad enumeradas pueden no funcionar para todos los programas y servicios; la compatibilidad depende de la arquitectura y el archivo binario de la aplicaci√≥n de destino. <br><br>  Dependiendo de las herramientas disponibles, la detecci√≥n por parte de la parte defensora de la explotaci√≥n de vulnerabilidades puede ser dif√≠cil.  Las vulnerabilidades de software pueden no siempre tener √©xito o provocar un funcionamiento inestable o la finalizaci√≥n anormal del proceso atacado.  Preste atenci√≥n a los indicadores de compromiso, por ejemplo, comportamiento anormal de procesos, aparici√≥n de archivos sospechosos en el disco, tr√°fico de red inusual, signos de activaci√≥n de herramientas de detecci√≥n, inyecciones de procesos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Scripts de inicio de sesi√≥n</a> </h3><br>  <i>Sistema:</i> Windows, macOS <br>  <i>Descripci√≥n: Un</i> adversario puede usar la capacidad de crear nuevas secuencias de comandos de inicio de sesi√≥n o modificarlas, secuencias de comandos que se ejecutan cada vez que un usuario o grupo de usuarios en particular inicia sesi√≥n en el sistema.  Si un atacante obtuvo acceso a un script de inicio de sesi√≥n en un controlador de dominio, puede modificarlo para ejecutar c√≥digo en todos los sistemas del dominio para moverse lateralmente por la red.  Dependiendo de los permisos de los scripts de inicio de sesi√≥n, se pueden requerir credenciales locales o administrativas. <br>  En una Mac, los scripts de inicio de sesi√≥n ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gancho de</a> inicio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sesi√≥n / cierre de sesi√≥n</a> ), a diferencia del elemento de inicio de sesi√≥n, que se ejecutan en el contexto del usuario, se pueden ejecutar como root. <br><br>  <i>Recomendaciones de seguridad:</i> Restricci√≥n de privilegios de administrador para crear scripts de inicio de sesi√≥n.  Identificaci√≥n y bloqueo de software potencialmente peligroso que se puede utilizar para modificar escenarios de inicio de sesi√≥n.  Windows AppLocker puede bloquear el inicio de programas desconocidos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pase el hash</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Descripci√≥n:</i> Pass the Hash (PtH) es un m√©todo para autenticar a un usuario sin acceso a su contrase√±a en forma clara.  El m√©todo consiste en omitir los pasos de autenticaci√≥n est√°ndar que requieren una contrase√±a e ir directamente a esa parte de la autenticaci√≥n que utiliza el hash de contrase√±a.  El adversario captura los valores hash de las contrase√±as reales mediante t√©cnicas de acceso de credenciales, luego los valores hash se utilizan para la autenticaci√≥n PtH, que se puede utilizar para realizar acciones en sistemas locales o remotos. <br><br>  Para ejecutar el ataque Pass the Hash en Windows 7 y superior con la actualizaci√≥n <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">KB2871997</a></i> instalada, necesita credenciales de usuario de dominio v√°lidas o hashes de administrador (RID 500). <br><br>  <i>Recomendaciones de protecci√≥n:</i> supervise los registros del sistema y del dominio para identificar la actividad inusual de los inicios de sesi√≥n de cuentas.  Evitar el acceso a cuentas existentes.  En los sistemas de Windows 7 y superiores, instale la revisi√≥n KB2871997 para restringir el acceso a las cuentas en los grupos de administradores locales predeterminados. <br><br>  Para minimizar la posibilidad de implementar Pass the Hash, desactive el inicio remoto de UAC cuando un usuario inicie sesi√≥n a trav√©s de la red editando la clave correspondiente en el registro o las pol√≠ticas de grupo: <br> <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System\LocalAccountTokenFilterPolice</code> <br> <br> <code>GPO:Computer Configuration &gt; [Policies] &gt; Administrative Templates &gt; SCM: Pass the Hash Mitigation: Apply UAC restriction to local accounts on network logons</code> <br> <br>  Limite la coincidencia de cuentas en diferentes sistemas para evitar su compromiso y reducir la capacidad del enemigo para moverse entre sistemas.  Aseg√∫rese de que las credenciales incorporadas y creadas de los administradores locales tengan contrase√±as complejas y √∫nicas.  No permita que un usuario de dominio sea miembro del grupo de administradores locales en varios sistemas.  Para detectar ataques Pass the Hash, se utiliza una auditor√≠a de todos los eventos de inicio de sesi√≥n y uso de credenciales con la comprobaci√≥n de discrepancias (por ejemplo, se utiliz√≥ una cuenta simult√°neamente en varios sistemas).  Los inicios de sesi√≥n inusuales asociados con actividades sospechosas (por ejemplo, crear y ejecutar archivos binarios) tambi√©n pueden indicar actividad maliciosa.  Los eventos de autenticaci√≥n del tipo NTLM LogonType 3 (entrada de red) que no est√°n relacionados con cuentas de dominio y no an√≥nimas (usuarios con SID S-1-5-7) tambi√©n deben ser sospechosos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pase el boleto</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Descripci√≥n:</i> Pass the Ticket (PtT) es un m√©todo de autenticaci√≥n de tickets Kerberos sin acceso a una contrase√±a de cuenta.  La autenticaci√≥n Kerberos se puede usar como un primer paso para mover un adversario a un sistema remoto. <br>  Durante PtT, los tickets v√°lidos de Kerberos para las cuentas existentes son capturados por el adversario utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">t√©cnicas de descarga de credenciales</a> .  Dependiendo del nivel de acceso, se pueden obtener tickets de servicio de usuario o tickets de concesi√≥n de tickets (TGT).  Un ticket de servicio permite el acceso a un recurso espec√≠fico, mientras que un TGT se puede utilizar para solicitar tickets de servicio de un servicio de tickets (TGS) para acceder a cualquier recurso al que tenga acceso un usuario. <br><br>  Silver Ticket (TGS falso) se puede obtener para servicios que usan Kerberos como mecanismo de autenticaci√≥n, y se utiliza para generar tickets para acceder a un recurso espec√≠fico y al sistema en el que se encuentra el recurso (por ejemplo, SharePoint). <br><br>  Golden Ticket (ticket Kerberos para acceso ilimitado a los recursos en el contexto de cualquier usuario, incluidos usuarios inexistentes) se puede obtener utilizando el hash NTLM de la cuenta de servicio de distribuci√≥n de claves: KRBTGT, que hace posible generar TGT para cualquier cuenta en AD. <br><br>  <i>Recomendaciones de protecci√≥n:</i> supervise las credenciales inusuales en el sistema.  Limite la coincidencia de credenciales en todos los sistemas, evitando as√≠ da√±os en caso de compromiso.  Aseg√∫rese de que las cuentas de administrador local tengan contrase√±as complejas y √∫nicas.  No permita que el usuario sea el administrador local de varios sistemas.  Limite los permisos de la cuenta de administrador de dominio para controladores de dominio y servidores restringidos.  Delegue otras funciones de administrador a cuentas individuales. <br><br>  Para contrarrestar el Gold Ticket generado previamente, restablezca la contrase√±a de la cuenta integrada KRBTGT dos veces, lo que invalidar√° todos los Golden Tickets creados con el hash de contrase√±a KRBTGT y otros boletos Kerberos recibidos de Golden Ticket. <br><br>  Utilizando herramientas de listas blancas de aplicaciones como Applocker o <a href="">Pol√≠ticas de restricci√≥n de software,</a> intente identificar y bloquear software desconocido o malicioso que pueda usarse para recibir tickets de Kerberos y autenticaci√≥n adicional. <br><br>  Para detectar ataques PtT, recomendamos auditar todos los eventos de autenticaci√≥n Kerberos y usar credenciales con an√°lisis de discrepancias.  Los eventos de autenticaci√≥n remota inusuales que se correlacionan con otras actividades sospechosas (como escribir y ejecutar binarios) pueden servir como un indicador de actividad maliciosa. <br>  El evento ID4769 se genera en un controlador de dominio cuando se utiliza Golden Ticket despu√©s de un doble restablecimiento de la contrase√±a KRBTGT.  El c√≥digo de estado 0x1F indica una comprobaci√≥n de integridad fallida del campo encriptado e indica un intento de usar un Golden Ticket no v√°lido. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Protocolo de escritorio remoto</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Derechos:</i> usuarios de escritorio remoto, usuarios <br>  Descripci√≥n: Escritorio remoto es una caracter√≠stica t√≠pica de los sistemas operativos que permite al usuario iniciar sesi√≥n en una sesi√≥n interactiva con una interfaz gr√°fica en una computadora remota.  Microsoft llama a su implementaci√≥n del protocolo RDP como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Remote Desktop Servoce (RDS)</a> .  Existen otras implementaciones y herramientas de terceros que proporcionan acceso gr√°fico a servicios remotos como RDS.  Los enemigos pueden conectarse al sistema remoto a trav√©s de RDP / RDS para ampliar el acceso si el servicio correspondiente est√° activado y permite el acceso con credenciales conocidas al atacante.  Anteriormente, el adversario probablemente usar√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">t√©cnicas de acceso de credenciales</a> para obtener credenciales que puedan usarse con RDP.  Los opositores tambi√©n pueden usar RDP en combinaci√≥n con la t√©cnica de abuso de accesibilidad de Windows para protegerse en el sistema. <br><br>  Un atacante tambi√©n podr√≠a intentar secuestrar sesiones RDP que involucren sesiones remotas de usuarios leg√≠timos.  Por lo general, cuando intenta robar una sesi√≥n, el usuario recibe una notificaci√≥n y una solicitud de confirmaci√≥n, sin embargo, al tener permisos de nivel de sistema utilizando la consola de Terminal Services, puede interceptar la sesi√≥n sin proporcionar credenciales y confirmar al usuario: <code>C:\Windows\system32\tscon.exe [ ,   ]</code> . <br>  Esto se puede hacer de forma remota o local con sesiones activas o canceladas.  Tambi√©n puede conducir a la escalada de privilegios al secuestrar a un administrador de dominio o un usuario m√°s privilegiado.  Todo lo anterior se puede hacer utilizando los comandos integrados de Windows, o la funcionalidad correspondiente se puede agregar a las herramientas para la pentesting, por ejemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RedSnarf</a> . <br><br>  <i>Recomendaciones de protecci√≥n:</i> deshabilite el servicio RDP si no es necesario, elimine cuentas y grupos innecesarios del grupo <i>Usuarios de escritorio remoto</i> , habilite la regla de bloqueo de tr√°fico RDP entre zonas de seguridad en el firewall.  Compruebe los miembros del grupo de <i>usuarios de Escritorio remoto con</i> regularidad.  Elimine el grupo de administradores de la lista de grupos que pueden iniciar sesi√≥n a trav√©s de RDP.  Si se requiere acceso remoto, entonces restrinja los derechos del usuario remoto.  Use <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">puertas de enlace de escritorio remoto</a></i> y autenticaci√≥n multifactor para inicio de sesi√≥n remoto.  No deje RDP accesible desde Internet.  Modifique el GPO definiendo tiempos de espera y el tiempo m√°ximo que una sesi√≥n remota puede estar activa.  Cambie el GPO para indicar el tiempo m√°ximo que la sesi√≥n remota desconectada permanece activa en el servidor host. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debido al hecho de que el uso de RDP puede ser un proceso completamente leg√≠timo, los indicadores de actividad maliciosa pueden ser patrones de acceso y acciones que ocurren despu√©s de un inicio de sesi√≥n remoto, por ejemplo, los usuarios que inician sesi√≥n en sistemas a los que generalmente no acceden o inician sesi√≥n en varios sistemas durante tiempo relativamente corto </font><font style="vertical-align: inherit;">Para evitar la interceptaci√≥n de sesiones RDP, se recomienda supervisar el uso de tscon.exe y crear servicios que utilicen </font></font><code>cmd.exe /k</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cualquiera </font></font><code>cmd.exe /c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de sus argumentos.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copia remota de archivos</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows, Linux, macOS </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derechos: </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">Descripci√≥n del</font></i><font style="vertical-align: inherit;"> usuario </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los archivos se pueden copiar de un sistema a otro para desplegar herramientas enemigas u otros archivos durante una operaci√≥n. Los archivos se pueden copiar desde un sistema externo controlado por un atacante, a trav√©s del canal C&amp;C o utilizando otras herramientas que utilizan protocolos alternativos, como FTP. Los archivos tambi√©n se pueden copiar a Mac y Linux utilizando herramientas integradas como scp, rsync, sftp. Los enemigos tambi√©n pueden copiar archivos lateralmente entre sistemas internos de v√≠ctimas para soportar el movimiento de la red y la ejecuci√≥n remota de comandos. Esto se puede hacer usando protocolos para compartir archivos conectando recursos de red a trav√©s de SMB o usando conexiones autenticadas a Windows Admin Shares o RDP. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones de protecci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El uso de sistemas IDS / IPS que usan firmas para identificar tr√°fico malicioso o transferencias de datos inusuales a trav√©s de herramientas y protocolos conocidos como FTP, que pueden usarse para reducir la actividad a nivel de red. Las firmas se usan generalmente para detectar indicadores de protocolo √∫nicos y se basan en una t√©cnica de ofuscaci√≥n espec√≠fica utilizada por un atacante o herramienta espec√≠fica, y lo m√°s probable es que sean diferentes para diferentes familias y versiones de malware. Es probable que los atacantes modifiquen la firma de las herramientas C2 o creen protocolos de tal manera que eviten ser detectados por herramientas de seguridad conocidas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como medio de detecci√≥n, se recomienda monitorear la creaci√≥n y transferencia de archivos a trav√©s de la red a trav√©s de SMB. </font><font style="vertical-align: inherit;">Los procesos inusuales con conexiones de red externas que crean archivos dentro del sistema pueden ser sospechosos. </font><font style="vertical-align: inherit;">El uso at√≠pico de utilidades como FTP tambi√©n puede ser sospechoso. </font><font style="vertical-align: inherit;">Tambi√©n se recomienda analizar los datos de la red en busca de flujos de datos inusuales, por ejemplo, el cliente env√≠a significativamente m√°s datos de los que recibe del servidor. </font><font style="vertical-align: inherit;">Los procesos de red que generalmente no tienen conectividad de red tambi√©n son sospechosos. </font><font style="vertical-align: inherit;">Examine el contenido del paquete para buscar conexiones que no coincidan con el protocolo y el puerto utilizados.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servicios remotos</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows, Linux, macOS </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n: los</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atacantes pueden usar cuentas v√°lidas para iniciar sesi√≥n en un servicio dise√±ado para aceptar conexiones de red, como telnet, SSH o VNC. Despu√©s de esto, el adversario podr√° realizar acciones en nombre del usuario que ha iniciado sesi√≥n. </font><font style="vertical-align: inherit;">Consideraciones de </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seguridad:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> limite la cantidad de cuentas que pueden usar los servicios remotos. Utilice la autenticaci√≥n multifactor siempre que sea posible. Limite los permisos para las cuentas que tienen un mayor riesgo de compromiso, por ejemplo, configure SSH para que los usuarios puedan ejecutar solo ciertos programas. Prevenir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">las t√©cnicas de acceso de credenciales</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eso puede permitir que un atacante adquiera credenciales v√°lidas. </font><font style="vertical-align: inherit;">Relacione la actividad de uso de inicio de sesi√≥n asociada con los servicios remotos con un comportamiento inusual u otra actividad maliciosa o sospechosa. </font><font style="vertical-align: inherit;">Antes de intentar avanzar en la red, lo m√°s probable es que un atacante necesite aprender sobre el entorno y las relaciones entre sistemas utilizando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√©cnicas de detecci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Replicaci√≥n a trav√©s de medios extra√≠bles</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n: la</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t√©cnica implica la ejecuci√≥n de un programa malicioso que utiliza la funci√≥n de ejecuci√≥n autom√°tica en Windows. </font><font style="vertical-align: inherit;">Para enga√±ar al usuario, un atacante puede modificar previamente o reemplazar un archivo "leg√≠timo", y luego un atacante puede copiarlo en un dispositivo extra√≠ble. </font><font style="vertical-align: inherit;">Adem√°s, la carga √∫til se puede implementar en el firmware del dispositivo extra√≠ble o mediante el programa inicial de formateo de medios. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones de protecci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deshabilitar las funciones de ejecuci√≥n autom√°tica en Windows. </font><font style="vertical-align: inherit;">Limitar el uso de dispositivos extra√≠bles a nivel de la pol√≠tica de seguridad de la organizaci√≥n. </font><font style="vertical-align: inherit;">Aplicaci√≥n de software antivirus.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Captura SSH (Secuestro SSH)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> macOS, Linux </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secure Shell (SSH) es una herramienta de acceso remoto est√°ndar en Linux y macOS que permite a un usuario conectarse a otro sistema a trav√©s de un t√∫nel encriptado, generalmente con contrase√±a, certificado o pares de claves de encriptaci√≥n asim√©tricas. Para avanzar a trav√©s de la red desde un host comprometido, los oponentes pueden aprovechar las relaciones de confianza establecidas con otros sistemas a trav√©s de la autenticaci√≥n de clave p√∫blica en sesiones SSH activas interceptando una conexi√≥n existente con otro sistema. Esto puede deberse a un compromiso del propio agente SSH o al acceso al socket del agente. Si el adversario puede obtener acceso de root en el sistema, la captura adicional de sesiones SSH ser√° una tarea trivial. Comprometer a un agente SSH tambi√©n intercepta las credenciales SSH.La t√©cnica de secuestro de SSH es diferente del uso de la t√©cnica de Servicios remotos porque se integra en una sesi√≥n SSH existente, en lugar de crear una nueva sesi√≥n con cuentas v√°lidas.</font></font><br><br> <i>  :</i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aseg√∫rese de que los pares de claves SSH tengan contrase√±as seguras y se abstengan de utilizar tecnolog√≠as de almacenamiento de claves como ssh-agent si no est√°n protegidas adecuadamente. Aseg√∫rese de que todas las claves privadas se almacenen de forma segura en lugares a los que solo el propietario leg√≠timo pueda acceder con una contrase√±a compleja, que a menudo cambia. Verifique que los permisos de archivo sean correctos y fortalezca el sistema para evitar que se eleven los privilegios de root. No permita el acceso remoto a trav√©s de SSH con privilegios de root u otras cuentas privilegiadas. Aseg√∫rese de que el reenv√≠o de agente est√© deshabilitado en sistemas donde no se requiere expl√≠citamente. Teniendo en cuenta que el uso de SSH en s√≠ mismo puede ser leg√≠timo, dependiendo del entorno de red y de c√≥mo se use,Los indicadores de uso sospechoso o malicioso de SSH pueden ser varios patrones de acceso y comportamiento posterior. Por ejemplo, las cuentas que inician sesi√≥n en sistemas a los que generalmente no acceden o no se conectan a m√∫ltiples sistemas por un corto per√≠odo de tiempo. Tambi√©n se recomienda que rastree los archivos de socket de los agentes SSH de usuario que utilizan diferentes usuarios.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ra√≠z web p√∫blica (ra√≠z web compartida)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un adversario puede colocar contenido malicioso en un sitio web que tiene un directorio p√∫blico de ra√≠z web u otro directorio p√∫blico para servir contenido web en el segmento interno de la red, y luego navegar a ese contenido usando un navegador web para obligar al servidor a ejecutarlo. Por lo general, el contenido malicioso se inicia en el contexto del proceso del servidor web, a menudo, dependiendo de c√≥mo est√© configurado el servidor web, esto da como resultado privilegios administrativos o del sistema local. Dicho mecanismo para compartir y ejecutar c√≥digo remoto se puede usar para pasar a un sistema que ejecuta un servidor web. Por ejemplo, un servidor web que ejecuta PHP con una ra√≠z web p√∫blica podr√≠a permitir que un atacante descargue herramientas RAT al sistema operativo del servidor web cuando visita una p√°gina espec√≠fica. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones de protecci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las redes en las que los usuarios pueden realizar un desarrollo abierto, pruebas de contenido y lanzar sus propios servidores web son especialmente vulnerables si los sistemas y servidores web no est√°n protegidos adecuadamente: el uso de cuentas privilegiadas es ilimitado, el acceso a los recursos de la red es posible sin autenticaci√≥n, y tampoco aislamiento de red de la red / sistema. Aseg√∫rese de que los permisos para los directorios accesibles a trav√©s del servidor web sean correctos. Denegar el acceso remoto al directorio ra√≠z del sitio (ra√≠z web) u otros directorios utilizados para proporcionar contenido web. Deshabilitar la ejecuci√≥n en directorios webroot. Aseg√∫rese de que los permisos del proceso del servidor web sean solo los necesarios. No use cuentas integradas; en su lugar, cree cuentas espec√≠ficas para limitar el acceso innecesario o para cruzar permisos en m√∫ltiples sistemas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilice la supervisi√≥n del proceso para determinar cu√°ndo se escribieron los archivos en un servidor web mediante un proceso que no es normal para un servidor web o cu√°ndo se escribieron los archivos fuera de los per√≠odos de tiempo administrativos. </font><font style="vertical-align: inherit;">Utilice la supervisi√≥n de procesos para determinar procesos normales y, posteriormente, detectar procesos anormales que generalmente no se ejecutan en el servidor web.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manchar contenido compartido</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema: </font></font></i><font style="vertical-align: inherit;"></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derechos de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font><i><font style="vertical-align: inherit;">: </font></i></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n del</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usuario </font><i><font style="vertical-align: inherit;">: El</font></i><font style="vertical-align: inherit;"> contenido de las unidades de red p√∫blicas y otros almacenamientos puede corromperse al agregar programas maliciosos, scripts o c√≥digo de explotaci√≥n a los archivos alojados. Tan pronto como el usuario abra el contenido da√±ado, la parte maliciosa se puede ejecutar para iniciar el c√≥digo malicioso en el sistema remoto. Los opositores pueden usar el m√©todo anterior para el avance lateral. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existe otro tipo de t√©cnica que utiliza varios otros m√©todos de propagaci√≥n de malware cuando los usuarios obtienen acceso a un directorio de red compartido. Su esencia es modificar accesos directos ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Modificaci√≥n de</font></a><font style="vertical-align: inherit;"> accesos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) directorios (.lnk) usando enmascaramiento para que las etiquetas se vean como directorios reales que estaban ocultos previamente Los Maliciosos .lnk tienen un comando incorporado que ejecuta un archivo malicioso oculto y luego abre el directorio real esperado por el usuario. La implementaci√≥n de esta t√©cnica en los directorios de red utilizados con frecuencia puede provocar infecciones frecuentes y repetidas y, como resultado, un atacante que obtiene un amplio acceso a los sistemas y, posiblemente, a cuentas nuevas y m√°s privilegiadas. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones de protecci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proteja las carpetas compartidas minimizando el n√∫mero de usuarios con permisos de escritura. Use utilidades que puedan detectar o prevenir exploits a la primera se√±al, como el Kit de herramientas de experiencia de mitigaci√≥n de Microsoft (EMET). Reduzca el riesgo potencial de promoci√≥n lateral mediante el uso de servicios de colaboraci√≥n y gesti√≥n de documentos basados ‚Äã‚Äãen la web que no utilizan el intercambio de archivos y directorios. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identifique y bloquee el software potencialmente peligroso y malicioso que se puede utilizar para corromper el contenido utilizando herramientas como AppLocker o </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠ticas de restricci√≥n de software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se recomienda la exploraci√≥n frecuente de directorios de red compartidos en busca de archivos maliciosos, archivos .LNK ocultos y otros tipos de archivos que no son t√≠picos de un directorio espec√≠fico. </font><font style="vertical-align: inherit;">La sospecha debe ser causada por procesos que escriben o sobrescriben muchos archivos en un directorio de red com√∫n, as√≠ como procesos que se realizan desde medios extra√≠bles.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Software de terceros (software de terceros)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows, Linux, macOS </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derechos:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usuario, administrador, </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n del</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sistema </font><i><font style="vertical-align: inherit;">:</font></i><font style="vertical-align: inherit;"> un atacante puede utilizar software de terceros y sistemas de implementaci√≥n de software (SCCM, VNC, HBSS, Altris, etc.) utilizados en la red para fines administrativos. c√≥digo en todos los hosts conectados a dichos sistemas. Los derechos necesarios para implementar esta t√©cnica dependen de la configuraci√≥n particular del sistema. Las credenciales locales pueden ser suficientes para acceder al servidor de implementaci√≥n de software; sin embargo, se puede requerir una cuenta de administrador para iniciar la implementaci√≥n del software. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones de protecci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verifique el nivel de seguridad de sus sistemas de implementaci√≥n de software. </font><font style="vertical-align: inherit;">Aseg√∫rese de que el acceso a los sistemas de gesti√≥n de software sea limitado, controlado y protegido. </font><font style="vertical-align: inherit;">Utilice estrictamente las pol√≠ticas obligatorias de aprobaci√≥n previa para la implementaci√≥n remota de software. </font><font style="vertical-align: inherit;">Proporcione acceso a los sistemas de implementaci√≥n de software a un n√∫mero limitado de administradores, garantice el aislamiento del sistema de implementaci√≥n de software. </font><font style="vertical-align: inherit;">Aseg√∫rese de que las credenciales para acceder al sistema de implementaci√≥n de software sean √∫nicas y no se utilicen en otros servicios en la red corporativa. </font><font style="vertical-align: inherit;">Si el sistema de implementaci√≥n de software est√° configurado para ejecutar solo archivos binarios firmados, verifique que los certificados de confianza no est√©n almacenados en el sistema de implementaci√≥n de software en s√≠, sino que est√©n ubicados en un sistema al que no se pueda acceder de forma remota.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos compartidos de administrador de Windows</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema: </font></font></i><font style="vertical-align: inherit;"></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derechos de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font><i><font style="vertical-align: inherit;">: </font></i></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n del</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usuario </font><i><font style="vertical-align: inherit;">: Los</font></i><font style="vertical-align: inherit;"> sistemas Windows tienen carpetas de red ocultas a las que solo pueden acceder los administradores y que permiten copiar archivos y otras funciones administrativas de forma remota. Ejemplos de recursos compartidos de administraci√≥n de Windows: C $, ADMIN $, IPC $. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los opositores pueden usar esta t√©cnica en combinaci√≥n con cuentas de nivel de administrador existentes para acceso remoto al sistema a trav√©s del bloque de mensajes de servidor (SMB), interactuando con los sistemas que usan RPC, transfieren archivos y ejecutan archivos binarios migrados usando t√©cnicas de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ejecuci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ejemplos de m√©todos de ejecuci√≥n basados ‚Äã‚Äãen sesiones autenticadas a trav√©s de SMB / RPC son tareas programadas, servicios de inicio y WMI. Los opositores tambi√©n pueden usar hash NTLM para obtener acceso a recursos compartidos de administrador a trav√©s de Pass-the-Hash. El comando net use, con credenciales v√°lidas, se puede usar para conectar el sistema remoto a recursos compartidos de administraci√≥n de Windows. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones de protecci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no utilice las mismas contrase√±as para cuentas de administrador local en diferentes sistemas. Aseg√∫rese de que las contrase√±as sean complejas y √∫nicas para que no se puedan adivinar o descifrar. Inhabilite el inicio de sesi√≥n remoto en la cuenta de administrador local incorporada. No permita que las cuentas de usuario sean miembros del grupo de administradores locales de m√∫ltiples sistemas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identifique y bloquee el software potencialmente peligroso y malicioso que se puede utilizar para operar SMB y recursos compartidos de administraci√≥n utilizando AppLocker o </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠ticas de restricci√≥n de software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proporcione recopilaci√≥n y almacenamiento centralizados de credenciales de inicio de sesi√≥n. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El reenv√≠o de eventos de Windows le</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permite recopilar datos sobre el uso exitoso / no exitoso de las cuentas que podr√≠an usarse para navegar por la red. </font><font style="vertical-align: inherit;">Rastree las acciones de usuarios remotos que se conectan a recursos compartidos de administrador. </font><font style="vertical-align: inherit;">Rastree el uso de herramientas y comandos que se utilizan para conectarse a recursos compartidos de red, como la utilidad Net, o busque sistemas a los que se pueda acceder de forma remota.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Administraci√≥n remota de Windows (WinRM)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema: </font></font></i><font style="vertical-align: inherit;"></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derechos de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font><i><font style="vertical-align: inherit;">:</font></i><font style="vertical-align: inherit;"> Usuario, Administrador </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripci√≥n:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WinRM es el nombre de un servicio y protocolo que permite la interacci√≥n remota del usuario con el sistema (por ejemplo, iniciar un archivo, cambiar el registro, cambiar un servicio. Para comenzar, use el comando winrm y otros programas, como PowerShell. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones de seguridad:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deshabilite el servicio WinRM, si es necesario, a√≠sle la infraestructura con WinRM con cuentas y permisos separados. Siga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">las recomendaciones de WinRM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para configurar m√©todos de autenticaci√≥n y usar firewalls ho </font><font style="vertical-align: inherit;">cien para restringir el acceso a WinRM y permitir el acceso solo desde ciertos dispositivos.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/439026/">https://habr.com/ru/post/439026/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../439016/index.html">Tablas Gen√©ricas Est√°ticas</a></li>
<li><a href="../439018/index.html">Configure Sphinx Search para una tienda en l√≠nea</a></li>
<li><a href="../439020/index.html">Ticket to Ride. Europa - Aritm√©tica, segunda parte</a></li>
<li><a href="../439022/index.html">CNC en un taller de hobby (parte 3)</a></li>
<li><a href="../439024/index.html">Slurm 3 resultados</a></li>
<li><a href="../439028/index.html">¬øC√≥mo mejorar la protecci√≥n del per√≠metro de la red? Recomendaciones pr√°cticas para Check Point y no solo</a></li>
<li><a href="../439030/index.html">Muchos gerentes</a></li>
<li><a href="../439032/index.html">Amazon y Google planean ingresar al mercado energ√©tico</a></li>
<li><a href="../439034/index.html">Seminario web del Grupo IB: ‚ÄúEquipo rojo o Pentest‚Äù 12/02/2019</a></li>
<li><a href="../439036/index.html">Lo principal es no entrar al centro comercial bajo la verificaci√≥n de horas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>