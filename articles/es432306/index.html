<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå™Ô∏è üë©üèª‚ÄçüöÄ üî∂ Almacenamiento Clase Memoria en almacenamiento: si la necesita a√∫n m√°s r√°pido üíÉüèª ‚ô£Ô∏è üßõüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como probablemente recuerde, NRE lleva mucho tiempo invirtiendo en el tema de nuevos tipos de almacenes de datos (por supuesto, The Machine ) y en la ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Almacenamiento Clase Memoria en almacenamiento: si la necesita a√∫n m√°s r√°pido</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hpe/blog/432306/"><img src="https://habrastorage.org/webt/tc/ks/yy/tcksyyfppgu3sraou3ixk2bqlmi.png" alt="La imagen no expresa la posici√≥n de la empresa y es una visi√≥n personal del autor, no necesariamente relacionada con el tema de este texto, amen" align="left">  Como probablemente recuerde, NRE lleva mucho tiempo invirtiendo en el tema de nuevos tipos de almacenes de datos (por supuesto, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">The Machine</a> ) y en la optimizaci√≥n del acceso al almacenamiento (nuestra membres√≠a en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el consorcio Gen-Z</a> ). <br><br>  El objetivo de este movimiento es acelerar el trabajo de las aplicaciones de nuestros clientes.  Adem√°s, este movimiento es multinivel: mientras se est√° forjando la arquitectura completamente nueva de los sistemas inform√°ticos de The Machine (la denominada arquitectura centrada en la memoria), entendemos que necesitamos acelerar ahora.  Veamos qu√© se puede hacer hoy y qu√© aparecer√° en HPE ma√±ana.  Sugerencia: hablaremos sobre la fuerte aceleraci√≥n de nuestro almacenamiento 3PAR y Nimble mediante el almacenamiento en cach√© inteligente y de costo relativamente bajo en la memoria de clase de almacenamiento (SCM) en forma de Intel Optane. <br><a name="habracut"></a><br>  Primero, establecemos los l√≠mites del problema en estudio.  En esta publicaci√≥n, no estamos interesados ‚Äã‚Äãen la inform√°tica de alto rendimiento con sus propios detalles y no estamos interesados ‚Äã‚Äãen tareas que requieran un almacenamiento r√°pido exclusivamente dentro del servidor.  Este √∫ltimo es, sin duda, tambi√©n un tema para Intel Optane y SCM en general, pero tales tareas son a menudo espec√≠ficas, poco susceptibles de virtualizaci√≥n y, en consecuencia, de consolidaci√≥n.  Hablaremos sobre tareas y aplicaciones que se llevan bien con los sistemas externos de almacenamiento 3PAR, Nimble o MSA (aunque tampoco tocaremos MSA). <br><br>  Entonces, ¬øc√≥mo puede mejorar el rendimiento de una aplicaci√≥n virtualizada que funciona con datos en un sistema de almacenamiento externo? <br><ul><li>  Vea lo que est√° frenando la aplicaci√≥n ahora.  Quiz√°s esto no sea una cuesti√≥n de almacenamiento, sino de esperar al procesador, en la l√≥gica interna de trabajar con datos, en solicitudes escritas sub√≥ptimas; </li><li>  Si los retrasos son grandes en t√©rminos de espera de datos (IO), primero debe verificar si se cumplen todas las recomendaciones para configurar el paquete de controlador de SO de aplicaci√≥n (SCSI, HBA, etc.) </li><li>  quiz√°s el caso en la SAN (Ethernet, FC); </li><li>  Tal vez todav√≠a est√° en el sistema de almacenamiento.  ¬øD√≥nde en el almacenamiento?  En el hardware del controlador (qu√© hay con el cach√©, cu√°l es la carga del procesador), en el sistema operativo y los controladores del controlador, en el bus de datos, en los discos ... </li></ul><br>  Posible tren de pensamiento: ¬°Oh, seguro! ¬°Las ruedas!  Todo lo dem√°s es complicado y no quiero tocarlo, pero con los discos lo intentaremos.  Lo que tenemos, un h√≠brido, bueno, entonces necesitamos todo flash.  ¬øYa tenemos todo flash?  ¬øY que es mejor?  Vemos publicidad de marcas de renombre: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dc/ig/q7/dcigq7iuujylprrygydh_0xbhla.png" alt="imagen"></div><br>  Todo est√° claro, tomamos almacenamiento con "discos NVMe".  Espera, <b>cuanto cuesta</b> ?  Y necesita comprar un <b>nuevo</b> sistema de almacenamiento, ¬øno puedo actualizar mi actual?  Bueno, tienes que ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fc/a1a/91d/0fca1a91df15114fad6d015ff1a3aa56.gif" alt="imagen"></div><br>  ¬øPero es posible de otra manera?  En NRE creemos que no solo es posible, sino tambi√©n necesario.  Y aqu√≠ est√° el por qu√©: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/np/rv/fxnprvk019rj4pwqquoqc2yhrca.png" alt="imagen"></div><br>  El hecho es que la mayor√≠a de los SSD NVMe en el mercado en este momento son del mismo tipo de medios, NAND-flash, solo conectados al controlador no a trav√©s del protocolo Serial Attached SCSI (SAS), sino a trav√©s del nuevo protocolo NVMe.  El nuevo protocolo es sin duda hermoso, y aqu√≠ hay algunos hechos: <br><br><ul><li>  64,000 colas disponibles con 64,000 hilos cada una - IOPS sobre el techo </li><li>  controlador directamente a la CPU - menor carga de CPU </li><li>  cada n√∫cleo del procesador ve cada SSD directamente - baja latencia </li></ul><br><br>  Al reemplazar completamente el protocolo SCSI desde la aplicaci√≥n hasta los discos, es posible reducir significativamente la latencia de acceso.  Pero, ¬øqu√© nos ofrecen los especialistas en marketing hoy?  "Discos NVMe".  Es decir  toda la cadena hasta el controlador de almacenamiento sigue siendo la misma: SCSI.  Y luego el controlador simplemente vuelve a empaquetar SCSI en NVMe y se comunica con los SSD NAND conectados. <br><br>  El resultado en el cuadro anterior es la ganancia m√≠nima en el retraso.  Aunque la ganancia en IOPS pico realmente puede ser muy notable.  La analog√≠a tradicional: ¬ønecesita un autom√≥vil que pueda acelerar r√°pidamente para adelantar en 5 segundos, o un autom√≥vil que, en condiciones ideales, puede acelerar en 10 minutos a 300 km / h?  Ambas opciones son buenas, pero con mayor frecuencia eligen la primera. <br><br>  La realidad es que la ganancia de NVMe NAND apenas se nota hoy en d√≠a para aplicaciones reales y, en nuestra opini√≥n, no vale la pena la diferencia en precio y p√©rdida de capacidad disponible en comparaci√≥n con los SSD SAS. <br><br>  Lo que ofrece HPE en lugar de simplemente reemplazar la "√∫ltima milla" de SAS a NVMe es el uso de unidades Intel Optane completamente nuevas conectadas a trav√©s de NVMe como cach√© de lectura en nuestros controladores de almacenamiento 3PAR y Nimble. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xu/li/vk/xulivkci2dqatabrok2n7vnwzio.png" alt="imagen"></div><br>  <i>(Tanto el aritm√≥metro como el administrador de la foto se llaman Felix, ¬°pero la diferencia es enorme!)</i> <br><br>  Por qu√© decidimos ir por este camino: <br><br><ul><li>  para que podamos ofrecer a nuestros clientes la actualizaci√≥n de los sistemas de almacenamiento ya comprados (espec√≠ficamente 3PAR 9450, 20450, 20850 y Nimble AF60 y AF80, todos los mejores flash) <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u5/wz/dl/u5wzdlhs2_wb2lyalb1phbaprpi.jpeg" alt="imagen"></div></li><li>  de esta manera muy simple (al agregar una tarjeta de expansi√≥n con Optane a bordo a cada controlador) reducimos el retraso m√°ximo en aproximadamente 15 veces y el promedio en un 30-40% (los IOPS tambi√©n est√°n creciendo, bueno, est√° bien).  Y lo m√°s importante, el retraso no salta de la comercializaci√≥n " <b>de</b> 0.2 ms!"  ad infinitum (el marketing no es nuestro, solo cito), pero se vuelve mucho m√°s estable: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ee/4t/u_/ee4tu_cfntaw66z8sb6pupdnx_o.png" alt="imagen"></div><br>  <i>(Valores de retraso basados ‚Äã‚Äãen pruebas internas de HPE)</i> </li><li>  m√°s espec√≠ficamente, lo que se puede esperar de tal reducci√≥n en la latencia de matriz para su Oracle favorito, por ejemplo: de acuerdo con nuestras pruebas internas, la espera de E / S se reduce en un promedio de 37%, y las selecciones de SQL se aceleran en un 27%. </li><li>  ¬øPor qu√© se lee y no escribe el cach√©?  Porque tanto en 3PAR como en Nimble, desde hace muchos a√±os, DRAM se ha utilizado como cach√© de escritura (NVRAM no vol√°til en Nimble).  A su vez, es varias veces m√°s r√°pido que los dispositivos NVMe, y hasta la llegada de Gen-Z o protocolos nuevos similares seguir√° si√©ndolo.  Es decir  La grabaci√≥n no es necesaria para acelerar a trav√©s de NVMe. </li><li>  ¬øPor qu√© Intel Optane?  Porque este es el tipo m√°s nuevo de medio, aunque todav√≠a est√° detr√°s de la NAND en densidad, pero en un orden de magnitud m√°s r√°pido en respuesta.  Adem√°s, Optane tiene un recurso casi inagotable para reescribir.  En general, para los sistemas cargados, los costos de transacci√≥n en Optane son mucho m√°s bajos que en NAND NVMe.  Y el cach√© es una capa muy cargada desde todos los lados.  Los datos activos se copian desde una capa m√°s lenta (por lo tanto, se necesita un recurso), se leen si no se encuentran datos en el cach√© NVRAM del controlador (por lo tanto, se requiere una respuesta r√°pida para que ir m√°s all√° del cach√© NVRAM no parezca un viaje al hipermercado en comparaci√≥n con con un viaje a la tienda cerca de la casa). </li><li>  ¬øpor qu√© no poner discos NVMe despu√©s de todo?  ¬°Aseg√∫rate de ponerlo!  Por ejemplo, el chasis de Nimble permite la instalaci√≥n de tales discos ahora (el plano posterior est√° listo para esto), pero todav√≠a no vendemos tales discos para Nimble, porque es temprano.  SCM-cache ahora ofrece un aumento m√∫ltiple en el rendimiento de centavos relativos.  Entonces, utilic√©moslo mientras el NVMe NAND todav√≠a es m√°s barato, el protocolo NVMe en s√≠ mismo a√∫n se est√° desarrollando (la ruta m√∫ltiple apareci√≥ en el est√°ndar solo en marzo de 2018 y a√∫n est√° muy por detr√°s de la estabilidad SCSI), y en general, el ecosistema NVMe desde la aplicaci√≥n hasta los discos todav√≠a est√° no desarrollado (NVMe sobre la tela fue al jard√≠n de infantes, los fabricantes discuten sobre c√≥mo deber√≠a verse, los controladores tienen una funcionalidad m√≠nima para que no sobrescriban demasiado cuando todo se estabiliza). </li><li>  y tambi√©n porque realmente nos gusta almacenar todo en cach√©.  Aqu√≠ hay un ejemplo sobre Nimble: </li></ul><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ra/xh/v3/raxhv31dou-uchvgyubrwwu3usm.png" alt="imagen"></div><br>  S√≠, por cierto, ¬øest√°s familiarizado con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HPE InfoSight</a> ?  Con esta herramienta siempre sabes d√≥nde buscar un retraso.  Por ejemplo, as√≠: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/bz/ni/xtbzniulhurmg44yndks4qpr3kw.png" alt="imagen"></div><br>  <i>(Si encuentra un retraso, comun√≠quese con nuestra fe).</i> <br><br>  Es hora de resumir: si usted es el orgulloso propietario de 3PAR 9000 o 20,000, puede solicitar 3PAR 3D Cache basado en Intel Optane ahora mismo.  Si observa detenidamente la matriz Nimble All-flash, t√≥mela, porque  Es una base confiable para proteger las inversiones en el futuro.  Comience con el SSD SAS NAND ahora, conecte el All Flash Turbo Cache basado en SCM m√°s tarde, luego cambie las unidades a NVMe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xq/uo/cg/xquocgeacjpnl2zqfmkttpkhjhc.png" alt="Cach√© 3PAR y Nimble SCM"></div><br>  Para referencia: <br><ul><li>  Aqu√≠ hay un seminario web reciente de Nimble: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HPE Nimble Evolution: paranoico + protecci√≥n de datos y m√°s</a> </li><li>  Y aqu√≠ hay un seminario web sobre Intel Optane en la cartera de HPE: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">N√∫mero de Optane: aumente la capacidad de su centro de datos con las tecnolog√≠as Intel</a> . </li><li>  Publicaci√≥n de blog de √°gil l√≠der del ala de batalla: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">recoverymonkey.org/2018/11/30/hpe-memory-driven-architectures-extend-to-3par-and-nimble-storage</a> . </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432306/">https://habr.com/ru/post/es432306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432296/index.html">Google te mantiene en una "burbuja de b√∫squeda" personal incluso si sales de tu cuenta</a></li>
<li><a href="../es432298/index.html">Timeweb ingres√≥ a los registradores de dominio TOP-10 en la zona .RU</a></li>
<li><a href="../es432300/index.html">Soporte, servicio, dolor de cabeza y todo-todo-todo</a></li>
<li><a href="../es432302/index.html">Secuencia a secuencia Modelos de la Parte 2</a></li>
<li><a href="../es432304/index.html">Un neurocient√≠fico brillante que puede tener una clave para crear verdadera inteligencia artificial.</a></li>
<li><a href="../es432308/index.html">Nivel de ciencia ficci√≥n modular UE4: inspirado en Nostromo y Serenity</a></li>
<li><a href="../es432310/index.html">Ktor como cliente HTTP para Android</a></li>
<li><a href="../es432312/index.html">Crear un mapa de formas del mapa de RF en Power BI</a></li>
<li><a href="../es432314/index.html">Roskachestvo public√≥ una lista de los mejores tel√©fonos inteligentes de 2018</a></li>
<li><a href="../es432316/index.html">Russian AI Cup 2018: CodeBall. Espectacular competencia en 3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>