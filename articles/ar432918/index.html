<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ด๓ง๓ข๓ณ๓ฃ๓ด๓ฟ ๐ง๐ฟ ๐ค๐ป ุขุณู ุ ููุฏ ูุณุฑุช ุงูุงูุชุนุงุด ุงูุฎุงุต ุจู ๐คฑ๐ฟ ๐ง๐ฝ ๐๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู PostgreSQL ููุฐ ุงูุฃุฒููุฉ ุงููุฏููุฉ ููุบุงูุฉ ุจุงููุนู ุงูุฅุตุฏุงุฑ 8.0 ุงูุฐู ุชู ุฅุตุฏุงุฑู ูุฑุฉ ุฃุฎุฑู ูู ุนุงู 2005 ุ ุชู ุงุณุชุฎุฏุงู ููู ุงูุชูููู ุงูุฎุงุต recovery.conf ููุงุณุชุนุงุฏุฉ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุขุณู ุ ููุฏ ูุณุฑุช ุงูุงูุชุนุงุด ุงูุฎุงุต ุจู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432918/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fa/rt/zs/fartzsjcnmws2vzxpx4qhiw5ykq.jpeg" alt="ุฃูุง ูุณุฑ ูู ุงูุงูุชุนุงุด" align="left">  ูู PostgreSQL ููุฐ ุงูุฃุฒููุฉ ุงููุฏููุฉ ููุบุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงููุนู ุงูุฅุตุฏุงุฑ 8.0 ุงูุฐู ุชู</a> ุฅุตุฏุงุฑู ูุฑุฉ ุฃุฎุฑู ูู ุนุงู 2005 ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชู</a> ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููู ุงูุชูููู</a> ุงูุฎุงุต <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">recovery.conf</a> ููุงุณุชุนุงุฏุฉ ุฅูู ููุทุฉ ุฒูููุฉ ูุญุฏุฏุฉ.  ูููุง ุจุนุฏ ุจุฏุฃ ุงุณุชุฎุฏุงู ููุณ ุงูููู ููุถุน ุงูุงุณุชุนุฏุงุฏ ูุชูุฑุงุฑ ุงููุณุฎ. <br><br>  ููุน ุฐูู ุ ููุฐ ุงูุฅุตุฏุงุฑ ุงูุชุงูู ูู PostgreSQL 12 ุ ูู ูุนูู recovery.conf ุจุนุฏ ุงูุขู: ููุฏ ูุณุฑุชู. <br>  ููู ููุงุฐุงุ <br><a name="habracut"></a><br>  ูุงู Recovery.conf ููุฒุฉ ูุงุญุฏุฉ: ุชู ูุฑุงุกุชูุง ููุท ูู ุจุฏุงูุฉ DBMS.  ูุฅุฐุง ูุงู ูุง ูุฒุงู ูู ุงููููู ุงูุชูููู ุจูู ุงูุงุณุชุฑุฏุงุฏ ูู ุงูููุช ุงููุญุฏุฏ ุ ูุงูุฐู ูู ูุทููุจ ุฃูู ูู ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุณูุฉ ุ ูุฅู ุงูุญุงุฌุฉ ุฅูู ุฅุนุงุฏุฉ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุฃููููุง ูุชุบููุฑ ุนููุงู ุฎุงุฏู ุงููุณุฎ ุงููุชูุงุซู ุงููุชุฌู ูุญู ุงูุงุฑุชูุงุน ุฃูุฑ ูุญุจุท ุฅูู ุญุฏ ูุง.  ููุฏ ุฑุฃูุช ุทุฑููุง ูุฎุชููุฉ ููุงูุญุฑุงูุงุช ููุชุญุงูู ุนูู ูุฐุง ุงูุชูููุฏ ุ ูุซู ุงุณุชุฎุฏุงู ูุฎุทุทุงุช L3 ุ ูุฎุทุทุงุช ุงููุณุฎ ุงููุชูุงุซู ุงููุชุชุงููุฉ (ุจุญูุซ ูุง ุชููู ุฌููุน ุงููุณุฎ ุงููุชูุงุซูุฉ ุ ูููู ุฌุฒุกูุง ุนูู ุงูุฃูู ููุท ุ ุนูู ุงูุชูุงูู) ูุญุชู (ุญุชู ูู ูู ุฃุฑุงูุง ููุฏ ุงูุฅูุชุงุฌ). <br><br>  ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงููุฌุฏููุฉ ุงูุชุงููุฉ ูููุณุฎ ุงููุชูุงุซูุฉ ุ ููุท ุจุณุจุจ ุงูุญุงุฌุฉ ุฅูู ุชุบููุฑ ูุนููุงุช ุงููุณุฎ ุงููุชูุงุซู ุ ูุฑุฑุช ุงุณุชูุงููุง ุ ูููู ูุง ูู ุชูููุฉ ุชุนููู PostgreSQL ูุฅุนุงุฏุฉ ูุฑุงุกุฉ primary_conninfo ูู SIGHUPุ  <s>ูู ุดูุก ุชุญูู ุจุดูู ุณูุก.</s>  ูู ุญูุซ ุงููุจุฏุฃ ุ ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ูุชุบูุฑ ูุงุญุฏ ููุท ูู ุนูููุฉ ุจุฏุก ุงูุชุดุบูู ููู ููุงู ุทูุจ ุฅุนุงุฏุฉ ุชุดุบูู WalReceiver - ููุฐุง ูู ุดูุก ุ ุณูุณุชูุฑ ุงููุณุฎ ุงููุชูุงุซู ูุน ุงูุนููุงู ุงูุฌุฏูุฏ ุจุดูู ุตุญูุญ.  ูุจูู ูุชูููุฐ ูุฐุง ุจุดูู ุตุญูุญ.  ุจุนุฏ ุจุถุนุฉ ุฃุณุงุจูุน ุ ุฃูููุช ุงูุชุตุญูุญ ูู ุฎูุงู ุชุทุจูู re-reading recovery.conf ุนูู ุฅุดุงุฑุฉ SIGHUP ุ ูู ุญูู ุฃู ูุฐุง ุงูุชุตุญูุญ ูู ููุณุฑ ุณููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญุงููุฉ. <br><br>  ุจุนุฏ ุฐูู ุ ูุจุนุฏ ุฃู ุชุญูู ุจุงูุดุฌุงุนุฉ ุ <a href="">ุฃุฑุณูู</a> ุฅูู ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ ููุทูุฑ PostgreSQL.  ูุง ุฃุฌุงุจู ูุงููู ุจุงููุฑ ุจุณุฑุนุฉ: <br><blockquote style=";text-align:right;direction:rtl">  ูุจู ุฌุนู ุจุนุถูุง ูุงุจูุงู ูุฅุนุงุฏุฉ ุงูุชุญููู ุ ุฏุนูุง ูุญูููู ุฅูู GUCs ุฃููุงู ูููุณ ุฅุนุงุฏุฉ ุงุฎุชุฑุงุน ูุนุงูุฌุฉ SIGHUP ูููุนููุงุช ููุง ููุนู ุงูุชุตุญูุญ ุงูุฎุงุต ุจู. </blockquote>  ุนูููุง ุ ุงุชุถุญ ุฃููู ุณุฃูุช ูุญุฑู ุงูุจุญุซ ุงูุณุคุงู ุงูุฎุทุฃ.  ูู ููู ุงูุณุคุงู ุญูู ุฅุนุงุฏุฉ ูุฑุงุกุฉ recovery.conf ุ ูููู ุญูู ุชุญููู ุงููุนููุงุช ูู recovery.conf ูููุตูุฉ ุฅูู ุงูุจููุฉ ุงูุชุญุชูุฉ GUC (ุงูุชูููู ุงูููุญุฏ ุงููุจูุฑ) ุงููุณุชุฎุฏูุฉ ูุฌููุน ุงููุนููุงุช DBMS ุงูุฃุฎุฑู.  ูุฐุง ุ ุจุงูุชุฃููุฏ ูุง ุ ูุญู ูุณูุง ุจุญุงุฌุฉ ุฅูู ูุซู ูุฐุง ุงูุชุตุญูุญ ุ ูุญู ูุง ูุฑูุฏ ูุฐุง.  ูููู ุฃููุงู ุจููู ุฌููุน ูุฐู ุงูุฅุนุฏุงุฏุงุช ูู recovery.conf ุฅูู ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููุฅุนุฏุงุฏุงุช ุงูููุงุณูุฉ ูุฏููุง. <br><br>  ูู ูุฐู ุงูุฃุฎุจุงุฑ ุงููุงุชูุฉ ุ ุฃุญุฑูุช ูููุฑุช: "ููู ุฏุนูุง ูููู!".  ูุฑุฃุช ุงูููุงูุดุงุช ุงููุคุฑุดูุฉ ุญูู ุงุณุชุนูุงู ุงูุจุญุซ ุงูุตุญูุญ ุ ููุชุญุช ุขุฎุฑ <a href="">ููุงูุดุฉ</a> ุชู ุงูุนุซูุฑ ุนูููุง <a href="">ุญูู ุฅุนุฏุงุฏุงุช ุงูููู</a> (ุชู ุงูุชูุถู ุจุชูุฏูู ุงูุงุฑุชุจุงุท ุจูุงุณุทุฉ Michael Paquier ูู ุฅุฌุงุจุชู ุ ูุฃุดูุฑู ุจุดูู ูููุตู ุ ููุฐูู ููุฅุฌุงุจุฉ ุงูุณุฑูุนุฉ).  ูู ุฐูู ุงูููุช ุ ูู ูุงูู 2018 ุ ุชู ุงูุชุฎูู ุนู ุงูุชุตุญูุญ ูุฃูุซุฑ ูู ุนุงู.  ูุฐูู ุ ููุง ูุจุฏุฃ.  ุฃู ุฃูู ูู ุงูุฃุตุญ ููู "ูุชุงุจุนุฉ"ุ  ููููุง ูุฎุทุฉ ุงูุชุฑููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฑุงุกุฉ ููุงุฆูุฉ ุงูุชุบููุฑุงุช ุฅูู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ุงูุชุตุญูุญ </li><li style=";text-align:right;direction:rtl">  ุชุญููู ุงูุชุบููุฑุงุช ูู ุงูุชุตุญูุญ ูููู ูุง ููุฒู ุฅูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู ูุงุนุฏุฉ ุงูุดูุฑุฉ </li><li style=";text-align:right;direction:rtl">  ุฅุตูุงุญ ุฌููุน ุงูุฅุดุงุฑุงุช ุฅูู recovery.conf ููุนููุงุชู ูู ุงููุซุงุฆู </li><li style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุฅุตูุงุญ </li><li style=";text-align:right;direction:rtl">  ุฅุฑุณุงู ุชุตุญูุญ ุฌุฏูุฏ ุฅูู ุงููุงุฆูุฉ ุงูุจุฑูุฏูุฉ </li><li style=";text-align:right;direction:rtl">  ุงูุญุตูู ุนูู ุฃู ุฑุฏูุฏ ูุนู </li><li style=";text-align:right;direction:rtl">  ูุชุตุญูุญ ุดูุก ูุง ููููุง ููุฑุบุจุงุช ูุงูุนูุฏุฉ ุฅูู ุงูููุฑุฉ 5 </li><li style=";text-align:right;direction:rtl">  ูุชููู ุฑูุถ ูุจูู ุงูุชุตุญูุญ ูุฑุฉ ุฃุฎุฑู (ูู ุณูุฉ ููุตู) </li></ol><br>  ูุจุฏู ููุฃูู ุฎุทุฉ ุนููุ  ุญุณููุง ุ ูุง ูุญู ูุณูุฑ ูุนู! <br><br>  ุฅูู ูุชู ุ ููุชุฑุฉ ูุฌูุฒุฉ ุ ูุตูุช ุฅูู ุงูููุทุฉ ุงูุฎุงูุณุฉ ููู 21 ููููู 2018 ุ ููุช ุจูุดุฑ ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุงูุชุตุญูุญ <a href="">ูู ุณูุณูุฉ ููุงูุดุฉ ุฌุฏูุฏุฉ</a> .  ุซู 3 ุฃุดูุฑ ูู ุงูุตูุช ุงูููุนู ูู ุตูุช ุชูุดุนุฑ ููุง ุงูุฃุจุฏุงู ูู ุงูุฃุณูุงู Baskervilles.  ูู ููุงูุฉ ุดูุฑ ุณุจุชูุจุฑ ุ ุฃุธูุฑ ุจูุชุฑ ุฅูุณูุชุฑุงูุช ุ ุฃุญุฏ ุงููุทูุฑูู ุงูุฃุณุงุณููู ุงูุฐูู ูุชูุชุนูู ุจุญู ุงูุงูุชุฒุงู ุ ูุฌุฃุฉ ุงูุชูุงููุง ุจุงูุฑูุนุฉ.  ุจุนุฏ ุนุฏุฉ ุชูุฑุงุฑุงุช ูู ุงูุชุตุญูุญุงุช ุ ุจูููุง ุฐูุจุช ุจูุฏูุก ูุจุถุนุฉ ุฃูุงู ูุฃุฎุฐ ุฌููุฉ ููุดุงูุฏุฉ ุจูุฏุงุจุณุช ูุฑุคูุฉ ุงููุนุงูู ุงูุณูุงุญูุฉ ุ ุชุตู ุฑุณุงูุฉ ูุดุฌุนุฉ ูู ุจูุชุฑ ุฅูุณูุชุฑุงูุช: <br><blockquote style=";text-align:right;direction:rtl">  ุฐูุจุช ููู ุงูุชุตุญูุญ ูููุช ุจูุฌููุนุฉ ูู ุงูุชุญุณููุงุช ุงูุตุบูุฑุฉ.  ููุฏ ููุช ุฃูุถูุง ุจุชุญุฏูุซ ุงููุซุงุฆู ุนูู ูุทุงู ุฃูุณุน.  ุงูุชุตุญูุญ ุงููุฑููุฉ ูู committable ุจุงููุณุจุฉ ูู. </blockquote>  ุจูุนูู ุ ูุงู ุจูุชุฑ ุฅูุณูุชุฑุงูุช ุจุชุตุญูุญ ุจุนุถ ุงูุฃุดูุงุก ุงูุตุบูุฑุฉ ุจูุงุกู ุนูู ุชูุฏูุฑู ุ ูุชุญุฏูุซ ุงููุซุงุฆู ุ ูุญุฑู ูุงูู ูุณู ุงูุงุณุชุฑุฏุงุฏ - config.sgml ุ ููุนุชูุฏ ุฃูู ูู ูุฐุง ุงููููุฐุฌ ูููู ุจุงููุนู ูุจูู ุงูุชุตุญูุญ.  ุฃูู ุ ูุฃุนุชูุฏ ุฃู ูุฐุง ุณูุญุฏุซ ููุท ูู postgresql 13 ุ ุญุชู ูู ูุงู ุงูุญุธ ูุญุธูุธูุง ุฃู ูุตู ุงูุชุตุญูุญ ุฅูู ุญุงูุฉ ุงูุงุณุชุนุฏุงุฏ ููุงูุชุฒุงู. <br><br>  ูุจุนุฏ ุจุถุนุฉ ุฃูุงู ุ ุฃู ูู 25 ููููุจุฑ ูู ุนุงู 2018 ุ ูุงูู ุจูุชุฑ ุฅูุณูุชุฑุงูุช ุญููุง ุนูู <a href="">ูุฐุง ุงูุชุตุญูุญ</a> : <br><blockquote style=";text-align:right;direction:rtl">  ูุชู ุงูุขู ุถุจุท ุฅุนุฏุงุฏุงุช ุงูุงุณุชุฑุฏุงุฏ ูู postgresql.conf (ุฃู ูุตุงุฏุฑ GUC ุงูุฃุฎุฑู).  ุญุงููุง ุ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุงููุชุฃุซุฑุฉ ูู PGC_POSTMASTER ุ  ูุฐุง ูููู ุตููู ูู ูู ุญุงูุฉ ุนูู ุญุฏุฉ. <br>  ูุชู ุงูุขู ุจุฏุก ุงูุงุณุชุฑุฏุงุฏ ุจูุงุณุทุฉ ููู recovery.signal.  ูุจุฏุฃ ูุถุน ุงูุงุณุชุนุฏุงุฏ ูู ุฎูุงู ููู standby.signal.  ุงุฎุชูู ุฅุนุฏุงุฏ ุงูุงุณุชุนุฏุงุฏ.  ุฅุฐุง ุชู ุงูุนุซูุฑ ุนูู ููู recovery.conf ุ ูุณูุตุฏุฑ ุฎุทุฃ. <br>  ุชูุช ุฅุนุงุฏุฉ ุชุณููุฉ ุฅุนุฏุงุฏ trigger_file ุฅูู promot_trigger_file ูุฌุฒุก ูู ุงูุญุฑูุฉ. <br>  ุชู ุฏูุฌ ูุตู ุงููุซุงุฆู "ุชูููู ุงูุงุณุชุฑุฏุงุฏ" ูู "ุชูููู ุงูุฎุงุฏู". <br>  pg_basebackup -R ุงูุขู ุจุฅูุญุงู ุงูุฅุนุฏุงุฏุงุช ุฅูู postgresql.auto.conf ููููู ุจุฅูุดุงุก ููู standby.signal. <br>  ุงููุคูู: ููุฌู ูุงุณุงู &lt;ูุงุณุงู (ููุทุฉ) ููุฌู (ูู) ุฌูุฌู (ููุทุฉ) ููู&gt; <br>  ุงููุคูู: ุณุงูููู ุฑูุฌุฒ &lt;ุณูููู (ูู) 2nd ุงูุฑุจุน (ููุทุฉ) ููู&gt; <br>  ุงููุคูู: Abhijit Menon-Sen &lt;ams (at) 2nd Quadrant (dot) com&gt; <br>  ุงููุคูู: ุณูุฑุฌู ููุฑููููู &lt;sk (at) zsrv (dot) org&gt; </blockquote>  ููุฏ ูุฑ ุฃุณุจูุนุงู ููู ูุชู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุงูุชุฒุงู.  ูุฐูู  ููุจุฏู ุฃููู ูู ููุนููุง ุฐูู.  ุฅูู ูุฃูุฑ ูุฏูุด.  ูู ุบูุฑ ุงููุนุฑูู ูุง ุฅุฐุง ูุงู ุงููุฌุชูุน ุณููุฑุฑ ุชุบููุฑ ุงูุณููู ูู ุฃู ุงุชุฌุงู ูุฑุฉ ุฃุฎุฑู ุ ุฎุงุตุฉู ุฃูู ูุง ูุฒุงู ููุงู ููุช ูููู ูุจู ุชุฌููุฏ ุงูููุฒุฉ ูุฅุตุฏุงุฑ postgresql 12 ูู ุฃุจุฑูู.  ูููู ูุจุฏู ุฃููุง ูู ูุญุตู ุนูู ุงููุฒูุฏ ูู ุงูุชุนุงูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุฐู ูุง ุงูุฐู ุชุบูุฑ </h3><br>  ุฃููุงู ููุจู ูู ุดูุก ุ ุณูุฑูุถ ูุธุงู ุฅุฏุงุฑุฉ ููุงุนุฏ ุงูุจูุงูุงุช ุงูุจุฏุก ูู ุญุงูุฉ ุงูุนุซูุฑ ุนูู ููู recovery.conf - ููุฏ ุชู ุฐูู ุนูู ูุฌู ุงูุชุญุฏูุฏ ุจุญูุซ ูุง ููุงุฌุฃ ุงููุณุชุฎุฏู ุ ุจุงุณุชุฎุฏุงู ุฃุญุฏ ุงูุฅุฑุดุงุฏุงุช ุงููุฏููุฉ ุงูุนุฏูุฏุฉ ุ ููุงุฐุง ุชุชุฌุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชูููู ูู ูุฐุง ุงูููู. <br><br>  ุงุฎุชูู ุฅุนุฏุงุฏ standby_mode ุงููุฏูู.  ุงูุขู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุญูููุฉ ูุฌูุฏ recovery.conf ูุชูููู ูุถุน ุงูุงุณุชุฑุฏุงุฏ ุ ูุชู ุงุณุชุจุฏุงูู ุจููููู (ูู ุฃู ูุญุชูู ุ ูุนุงุฏุฉู ูุง ูููู ูุงุฑุบูุง): <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  PGDATA / recovery.signal - ุงูุฎูููุฉ ุงูุฅูุฏููููุฌู standby_mode = off ุ ุณูุชู ุชูููุฐ ุงูุงุณุชุนุงุฏุฉ ูู ุงูุฃุฑุดูู ุฅูู ุงูููุทุฉ ุงููุญุฏุฏุฉ ูู ุงูุชููููุงุช ุ </li><li style=";text-align:right;direction:rtl">  PGDATA / standby.signal $ - ุนูู ุงูุชูุงูู ุ standby_mode = ุนูู.  ุณูู ูุฑู ูุฐุง ุงูููู ุนูู ุฌููุน ุงููุณุฎ ุงููุชูุงุซูุฉ. </li></ul><br>  ุฅุฐุง ูุฌุฏุช ุนูููุฉ ุจุฏุก ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุง ุงูููููู ุ ูุฅููุง ูุนุชุจุฑ ุฃููุง ูู ูุถุน ุงูุงุณุชุนุฏุงุฏ. <br><br>  ุฅุฐุง ุ ูู ุฃุฌู ุงููุถูุญ ุ ููุญุฏ ูู ุงููุนููุฉ ูุชุบูุฑ ุฅูู ููุญุฉ: <br><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงูุงูุชุนุงุด ุงููุฏูู <br></th><th>  PostgreSQL 12+ postgresql.conf <br></th></tr><tr><td>  primary_conninfo <br></td><td>  primary_conninfo <br></td></tr><tr><td>  primary_slot_name <br></td><td>  primary_slot_name <br></td></tr><tr><td>  trigger_file <br></td><td>  ุชุนุฒูุฒ_trigger_file <br></td></tr><tr><td>  recovery_min_apply_delay <br></td><td>  recovery_min_apply_delay <br></td></tr><tr><td>  recovery_target <br></td><td>  recovery_target <br></td></tr><tr><td>  recovery_target_name <br></td><td>  recovery_target_name <br></td></tr><tr><td>  recovery_target_time <br></td><td>  recovery_target_time <br></td></tr><tr><td>  recovery_target_xid <br></td><td>  recovery_target_xid <br></td></tr><tr><td>  recovery_target_lsn <br></td><td>  recovery_target_lsn <br></td></tr><tr><td>  recovery_target_inclusive <br></td><td>  recovery_target_inclusive <br></td></tr><tr><td>  recovery_target_timeline <br></td><td>  recovery_target_timeline <br></td></tr><tr><td>  recovery_target_action <br></td><td>  recovery_target_action <br></td></tr><tr><td>  rest_command <br></td><td>  rest_command <br></td></tr><tr><td>  archive_cleanup_command <br></td><td>  archive_cleanup_command <br></td></tr><tr><td>  recovery_end_command <br></td><td>  recovery_end_command <br></td></tr></tbody></table><br>  ููููู ุฃู ุชุฑู ุฃูู ูุฏ ุชู ุชุบููุฑ ุฃูู ููููุง ูู ูุง ุดูุก.  ูู ุงูููุช ุงูุญุงูู (ุจุงุณุชุซูุงุก ุงูุจุงุฏุฆุฉ ุชุนุฒูุฒ ููุท ูู promot_trigger_file) ุ ุชุชู ุชุณููุฉ ุฌููุน ุงููุนููุงุช ุงูุฌุฏูุฏุฉ ุชูุงููุง ูุซู ุงููุนููุงุช ุงููุฏููุฉ ูุชุฃุฎุฐ ููุณ ุงูููู ุงูููููุฉ.  ุฑุบู ุฃูู ูู ุงููุงูุน ูุง ูุฒุงู ููุงู ุชุบููุฑ ูููุง ูุชุนูู ุจุฅุนุฏุงุฏุงุช ูุฏู ุงูุงุณุชุฑุฏุงุฏ.  ูุง ุฃุนุฑู ูุง ุฅุฐุง ูุงู ุฃู ุดุฎุต ูุฏ ุงุณุชุฎุฏู ูุฐุง ูู ูุจู ุ ููููู ูุงู ุณููููุง ููุซููุง ููุงู ูู ุงููููู ุชุญุฏูุฏ ุนุฏุฉ recovery_target ุฃู recovery_target_lsn ุฃู recovery_target_name ุฃู recovery_target_time ุฃู recovery_target_xid ูู ููุณ ุงูููุช.  ุนูู ุณุจูู ุงููุซุงู <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">recovery_target_lsn = '1/1D9FEA00' recovery_target_xid = '5238954'</code> </pre> <br>  ุชู ุงุณุชุฎุฏุงู ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู recovery.conf ุจุงููุนู ูู ุฃุฌู ุงูุงุณุชุฑุฏุงุฏ.  ูู ูุนุฏ ุฐูู ูููููุง ุ ูุฌุจ ุงูุฅุดุงุฑุฉ ุฅูู ูุฏู ุงูุงุณุชุฑุฏุงุฏ ุจุญุฏ ุฃูุตู ูุงุญุฏ.  ููุน ุฐูู ุ ูุธุฑูุง ูููุทู ุงูุจููุฉ ุงูุชุญุชูุฉ ูู GUC ุ ููุง ูุฒุงู ุจุฅููุงูู ุชุญุฏูุฏ ุงููุนููุฉ ุงูุชู ุชุญูู ุงูุงุณู ููุณู ุนุฏุฉ ูุฑุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">recovery_target_lsn = '1/1D9FEA00' recovery_target_lsn = '1/16AC7D0'</code> </pre> <br>  ูุฐุง ููุจูู ุ ุณูุณุชุนูุฏ ูููุฉ ุงูุฅุนุฏุงุฏุงุช ุงููุญุฏุฏุฉ ุฃุฎูุฑูุง. <br><br>  ูุจุดูู ุนุงู ุ ูุฐุง ูู ูุง ูุฌุจ ูููู ุญูู ุงูุชุบููุฑุงุช ุงููุฑุฆูุฉ ูู ุฎุงุฑุฌ PostgreSQL.  ุธูุช pg_basebackup -R (--write-recovery-conf) ูู ููุงููุง ูุชูุนู ูุง ูู ุงูููุตูุฏ ูููุง ุ ุงูุขู ููุท ุณุชุถูู ูุนููุงุช ุฅูู postgresql.auto.conf ุจุฏูุงู ูู recovery.conf ูุฅูุดุงุก ููู standby.signal <br><br>  ูุณูุก ุงูุญุธ ุ ุนูุฏูุง ุฃููู ุฅู ูุฐู ูู ูู ุงูุชุบููุฑุงุช ุงููุฑุฆูุฉ ุญุงูููุง ุ ููุฐุง ุจุงูุถุจุท ูุง ุฃูุตุฏู.  ูุง ูุฒุงู ูุชู ุชุนููู ุฌููุน ุงููุนููุงุช ุงูุฌุฏูุฏุฉ ุนูู ุฃููุง PGC_POSTMASTER ุ ุฃู ุฃูู ูุง ูููู ุชุบููุฑูุง ุฅูุง ุนูุฏ ุจุฏุก ุชุดุบูู PostgreSQL.  ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูุงู ูุฐุง ูุทูุจูุง ูู ุฌุงูุจ ูุฌุชูุน ุงููุทูุฑูู: ุฃููุงู ุ ูู ุจููู ูุงูุฉ ุงูุฅุนุฏุงุฏุงุช ุ ูุนูุฏูุง ููุท ููููู ูุนุฑูุฉ ูุง ุฅุฐุง ูุงู ูููู ุชุบููุฑูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฏ ุงูุชุดุบูู.  ูุงูุขู ุ ุฃุตุจุญ ุจุฑูุงูุฌ PostgreSQL ูู ูุฑุญูุฉ ุฑุงุฆุนุฉ ูู ุงูุชุทูุฑ ุ ุญูุซ ุชู ุจุงููุนู ูุณุฑ ุงูุณููู ุงููุฏูู ููู ูุชู ุฅุญุฏุงุซ ุชุบููุฑุงุช ููุฃูุถู. <br><br>  ููุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุฑุช</a> ุจุงููุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุตุญูุญูุง</a> ูุชูุญ ุชุบููุฑ primary_conninfo ู primary_slot_name ุฃุซูุงุก ุงูุทูุฑุงู.  ุฏุนููุง ูุฑู ูุง ูุญุฏุซ. <br><br>  ุขุณู ุ ููุฏ ูุณุฑุช ุงูุงูุชุนุงุด ุงูุฎุงุต ุจู <br><br><h3 style=";text-align:right;direction:rtl">  ูุญุฏุซ 7 ุฃุจุฑูู 2019 </h3><br>  ูู ุงูููู ุงูุฃุฎูุฑ ูุจู ุชุฌููุฏ ุงูููุฒุงุช ุงูุฅุตุฏุงุฑ 12 ุ ููููู ุชูุฎูุต.  ูู ูุชู ุชุถููู ุชุบููุฑ ุฅุนุฏุงุฏุงุช ุงููุณุฎ ุงููุชูุงุซู ูู ุงูุฅุตุฏุงุฑ.  ุจุงูุทุจุน ุ ูุฐู ูุตุฉ ุบุฑูุจุฉ ุฃูุถูุง.  ุฐุงุช ูุฑุฉ ุ ูุงู ุชุตุญูุญ Simon Riggs ุงูุฐู ุงุชุฎุฐุชู ุฃุณุงุณูุง ูุชุถูู ุชุนุฏููุงุช ุจุงููุนู ูุฅุนุงุฏุฉ ุชุดุบูู ุฌูุงุฒ ุงูุงุณุชูุจุงู ุนูุฏ ุชุบููุฑ ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู.  ุงุฎุชุฑุชูุง ูู ุชุตุญูุญ ูููุตู ูุน ุงุณุชููุงู ุงูุชูุซูู ูุงูุงุฎุชุจุงุฑุงุช.  ูุจุนุฏ 6 ุชุญุฏูุซุงุช ุงูุชุตุญูุญ ูุดูุฑูู ูู ุงูููุงูุดุฉ ุ ุชุธูุฑ ุงูุญูููุฉ ุงููุงุถุญุฉ ุฃูู ูู ุญุงูุฉ ุฅุนุงุฏุฉ ุชุดุบูู ุฌูุงุฒ ุงูุงุณุชูุจุงู ุ ุณุชุญุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชุจุฏูู ุฅูู ุงุณุชุนุงุฏุฉ ุงููููุงุช ูู restore_command.  ุณููู ุฌูุงุฒ ุฏููุฉ ุจุณูุท ุชูุงููุง ุ ูุชู ุชุดุบููู ุนู ุทุฑูู ุฅููุงู ุชุดุบูู ุฌูุงุฒ ุงูุงุณุชูุจุงู ูุฃู ุณุจุจ.  ููู ุชุจูู ุฃู ูุฐุง "ุดูุก ูุง ูุฑูุฏู".  ุญุณูุง ุ ูู ููุช ุณุงุจู ูุงู ูู ุงููุณุชุญูู ุฃู ุฃูููุ  ุญุณูุงู ุ ููุฏ ููุช ุจุฅุนุงุฏุฉ ุชุตูููู ุจุทุฑููุฉ ูุง ุ ููู ุงูุชูููู ูุงู ูุฏูู ุจุงููุนู ุงูุงูุชุฒุงู ุงูููุงุฆู ุจุงูุฅุตุฏุงุฑ 12 ููู ูุจุญุซ ุฃุญุฏ ููุง.  ุจุดูู ุนุงู ุ ูุฐุง ููุณ ุดูุฆูุง ุณุฑูุนูุง ุ ููุง ุชูุนู ุงูุชุตุญูุญุงุช ูู PostgreSQL.  ููู ูุฏูู ูู ุงูุญู ูู ุชุถููู ููุณู ูู ูุงุฆูุฉ ุงูุฃุดุฎุงุต <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจูุถููู ุงูุฐูู</a> ุฃุฏุฑุฌุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">REINDEX CONCURRENTLY ุงูุฃูุซุฑ ููุญููุฉ ุงูุชู ูู ุชูุชู ุจุนุฏ</a> ูู ุงูุฅุตุฏุงุฑ 12! <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ูู ุงูููุงูุฉ ุฅูู ุฃู ููุงู ุนุฏุฏูุง ูู ุงูุฅุนุฏุงุฏุงุช ูุฏููุง <a href="">ุงููุฑุตุฉ</a> ููุชุบููุฑ ุฃุซูุงุก ุงูุชููู: archive_cleanup_command ู promot_trigger_file ู recovery_end_command ู recovery_min_apply_delay </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar432918/">https://habr.com/ru/post/ar432918/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar432906/index.html">ุชุญุฑูุฑ ูููุงุช CSV ุญุชู ูุง ูุชู ูุตู ุงูุจูุงูุงุช</a></li>
<li><a href="../ar432908/index.html">ูู ุฑูุณูุง ุ ูุฎุทุทูู ูุฅุฏุฎุงู ุชุญูู ุฅุถุงูู ุนูู ุงููุฏููุนุงุช ุนูู ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar432910/index.html">ูู ุงูุฎุทูุฑุฉ ุงุนุชุจุงุฑ ุงููุงูุน ุงูุงูุชุฑุงุถู ุจูุซุงุจุฉ ุขูุฉ ููุชุนุงุทู</a></li>
<li><a href="../ar432912/index.html">ููููุฉ ุงูุญุตูู ุนูู ุงูุชุฏุฑูุจ ูู ุฌูุฌู</a></li>
<li><a href="../ar432914/index.html">ุฑูุจูุช ุฏุฑุฏุดุฉ ุจุณูุท ููุบุงูุฉ ูู Telegram ููุฃุตุบุฑ</a></li>
<li><a href="../ar432920/index.html">ุงูุนุงูู ุงูุจุดุฑู ูู ุงูุดุฑูุฉ: ูู ูู ุฎุทูุฑุ</a></li>
<li><a href="../ar432922/index.html">ููู ุจุญุซูุง ููุฏุฉ ุฃุณุจูุนูู ุนู ุฎุทุฃ NFS ูู ููุงุฉ Linux</a></li>
<li><a href="../ar432924/index.html">Runุ Geckoุ run: ูู ุขููุฉ ุญุฑูุฉ ูุฌูู ููููุงู</a></li>
<li><a href="../ar432926/index.html">24 ูุตูุฉ ุญูู ููููุฉ ูุฌุงุญ ุจุฏุก ุงูุชุดุบูู ูู ูุนุฑุถ ุนุงููู ุถุฎู ุ ุจุงุณุชุฎุฏุงู Web Summit 2018 ููุซุงู</a></li>
<li><a href="../ar432928/index.html">ูุง ูุญุฏุซ ูู ุดุฑูุฉ ุฅูุชู ูููุงุฐุง ูู ุชููู ุฃูุงุฒูู AWS ุจุงููุงูู ุฅูู ุฑูุงุฆููุง ุนูู ุงูุฑุบู ูู ุงูุนูุงููู ุงูุฑุฆูุณูุฉ ุงูุตุงุฎุจุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>