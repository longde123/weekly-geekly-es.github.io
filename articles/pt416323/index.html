<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèº üö£üèæ üßóüèº A op√ß√£o de acesso aleat√≥rio √†s configura√ß√µes e grava√ß√µes do registrador de carros de qualquer lugar na Internet üññ üôéüèª üôèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os DVRs de autom√≥veis t√™m sido um dos atributos obrigat√≥rios para qualquer motorista. Pessoalmente, posso concluir sem exagero que n√£o posso me sentir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A op√ß√£o de acesso aleat√≥rio √†s configura√ß√µes e grava√ß√µes do registrador de carros de qualquer lugar na Internet</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416323/">  Os DVRs de autom√≥veis t√™m sido um dos atributos obrigat√≥rios para qualquer motorista.  Pessoalmente, posso concluir sem exagero que n√£o posso me sentir seguro ao volante sem um dispositivo t√£o simples.  √â claro que, nos √∫ltimos 10 anos, o progresso fez um progresso significativo: hoje j√° existem muitos fabricantes no mercado produzindo modelos decentes, e n√≥s, os drivers, j√° temos muito por onde escolher. <br><br>  Minha escolha recaiu sobre o registrador Neoline G-Tech X53 e houve v√°rias raz√µes para isso: <br><br><ul><li>  est√° equipado com duas c√¢meras, uma das quais fornece uma imagem FullHD real, </li><li>  Ele foi projetado especificamente para instala√ß√£o secreta, </li><li>  √© totalmente controlado via Wi-Fi por meio do aplicativo no smartphone, o que √© importante no contexto deste artigo e, entre outras coisas, possibilita a instala√ß√£o realmente secreta sem a necessidade de subir ou remover periodicamente o bloco (por exemplo, para copiar um registro de uma unidade flash USB). </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h8/33/zt/h833ztw2p-hqt3krlhf7jnhekac.png"></div><br>  Ent√£o, como muitas vezes acontece, o apetite veio com a comida.  Depois de instalar o gravador no carro, apreciei sua conveni√™ncia, experimentei e queria ter acesso a seus registros n√£o apenas perto da m√°quina, onde seu sinal de WiFi √© capturado, mas <b>geralmente em todos os lugares</b> .  Bem, ou pelo menos em casa, para come√ßar. <br><br>  Obviamente, na natureza, existem modelos de registradores que mesclam registros na nuvem sob comando, mas vinculam o usu√°rio a essa nuvem e os for√ßam a pagar por ela, mas essa n√£o √© minha op√ß√£o.  Al√©m disso, minha lista de desejos se sobrepunha bem aos planos de instalar um roteador WiFi com um modem no carro, portanto a tarefa parecia bastante vi√°vel. <br><a name="habracut"></a><br>  √â verdade que rapidamente ficou claro que o registrador n√£o possui uma API documentada e o acesso a ela s√≥ pode ser obtido usando o aplicativo nativo para um smartphone.  O aplicativo, por sua vez, acabou sendo muito extravagante - s√≥ funciona quando o telefone est√° conectado ao registrador de WiFi. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mr/yt/_3/mryt_3qkaoesppgkbdgl3ts8m88.png"></div><br>  Ou seja, eu tinha que entender o que o aplicativo quer do WiFi e faz√™-lo "ver" o registrador, localizado em um local completamente diferente, com a solu√ß√£o para todos os problemas t√©cnicos relacionados - em geral, √© assim que eu amo. <br><br>  Como um roteador que distribui a Internet via Wi-Fi no carro, usei o Mikrotik RBmAP2nD (mAP) com um modem Huawei e3372h (se voc√™ conhece outras op√ß√µes de or√ßamento nas quais √© poss√≠vel implementar as configura√ß√µes descritas abaixo - escreva nos coment√°rios).  Como o registrador s√≥ pode distribuir seu WiFi e n√£o pode se conectar a um ponto de acesso existente, eu tive que configurar o cliente de ponto de acesso, que deveria se conectar a ele.  E logo ficou claro que o trabalho do Mikrotik como um AP e um cliente AP (na interface escrava) leva a uma distribui√ß√£o inst√°vel de WiFi, por isso foi decidido emparelhar com o roteador principal outro - Mikrotik RBmAPL-2nD (mAP lite). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3w/ol/xj/3wolxjn7mc3dbuxbnpnwrqf73zi.jpeg"></div><br><h3>  Aplica√ß√£o de fraude </h3><br>  Para come√ßar, fiz o aplicativo funcionar com o registrador por meio de uma rede WiFi completamente diferente, trabalhando na mesma m√°quina.  Ao longo do caminho, consegui responder √†s perguntas - como o aplicativo reconhece a rede do registrador e como engan√°-lo.  Al√©m disso, ao longo do caminho, foi poss√≠vel obter uma conveni√™ncia ainda maior - agora, para trabalhar com o registrador no carro, voc√™ n√£o precisa mudar para o Wi-Fi, no qual n√£o h√° Internet. <br><br>  N√£o descreverei detalhadamente dezenas de experimentos durante os quais cheguei a uma solu√ß√£o de trabalho, apenas descrevo essa solu√ß√£o.  Portanto, o que √© necess√°rio para o aplicativo reconhecer o registrador de WiFi: <br><br><ol><li>  O SSID deve se parecer com " <i>G-Tech X5X-120 ...</i> ", onde, em vez dos √∫ltimos pontos, existem d√≠gitos arbitr√°rios (letras min√∫sculas) no sistema num√©rico hexadecimal.  Por exemplo, eu instalei o " <i>G-Tech X5X-120aaa</i> " e assim por diante.  Talvez, em vez de "120", voc√™ tamb√©m possa colocar algo de sua prefer√™ncia, eu n√£o tentei. </li><li>  O endere√ßo do cliente deve ser obtido via DHCP, deve estar na sub-rede 192.168.100.0/24, o endere√ßo do servidor (registrador) = 192.168.100.1. </li></ol><br>  O resto n√£o √© importante.  N√£o tentei muitas outras coisas, mas sei com certeza que: <br><br><ol><li>  O endere√ßo MAC do AP e do servidor n√£o importa. </li><li>  Se houver se√ß√µes com uma MTU reduzida (por exemplo, t√∫neis) ao longo da rota de tr√°fego, a conex√£o funcionar√° bem. </li><li>  A janela TCP √© larga o suficiente para que o download de registros n√£o diminua em pings, mesmo a 300ms ou mais. </li></ol><br>  Ent√£o, qual √© o resultado final? <br><br><ul><li>  O aplicativo deseja ter um endere√ßo na rede 192.168.100.0/24 e conectar-se ao endere√ßo 192.168.100.1. </li><li>  O endere√ßo do registrador tamb√©m √© 192.168.100.1 e ele deseja que o cliente esteja na rede 192.168.100.0/24 (ele simplesmente n√£o possui rotas para outras pessoas). </li></ul><br>  Isso n√£o muda, mas queremos aprender como distribuir o aplicativo e o registrador.  Portanto, voc√™ precisa atribuir o endere√ßo 192.168.100.1 ao roteador que distribui o Wi-Fi e, para resolver os problemas com o roteamento de tr√°fego, √© necess√°rio inserir uma sub-rede de conex√£o e adicionar alguma m√°gica de rede.  Por exemplo, assim: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-4/tn/z4/-4tnz4vvp_c9z71-t13dh357x9s.png"></div><br>  Descri√ß√£o: <br><br><ul><li>  O aplicativo √© executado em um smartphone conectado ao roteador R1.  O smartphone recebe o endere√ßo via DHCP, no nosso exemplo √© 192.168.100.100. </li><li>  O endere√ßo IP do R1 na interface WiFi √© 192.168.100.1 (como o aplicativo deseja), na interface Ethernet √© 192.168.99.1 (esta √© uma sub-rede de encaixe). </li><li>  O endere√ßo IP do R2 na interface Ethernet √© 192.168.99.2, na interface WiFi √© obtido via DHCP do registrador, em nosso exemplo √© 192.168.100.150. </li><li>  Cada roteador executa DNAT na entrada e SNAT na sa√≠da, para que os pacotes em cada sub-rede tenham endere√ßos de origem e destino que correspondam aos endere√ßos dos roteadores de borda desta rede. </li></ul><br>  Como √© a conex√£o: <br><br><ol><li>  O aplicativo garante que ele esteja conectado ao WiFi do registrador e inicie uma conex√£o com o endere√ßo 192.168.100.1, supondo que esse seja o endere√ßo do registrador. </li><li>  R1 aceita a solicita√ß√£o de conex√£o, executando na interface DNAT de entrada com a substitui√ß√£o do endere√ßo de destino para 192.168.99.2 e na interface de sa√≠da - SNAT com a substitui√ß√£o do endere√ßo de origem para 192.168.99.1. </li><li>  O R2 aceita a solicita√ß√£o de conex√£o, executando na interface DNAT de entrada com a substitui√ß√£o do endere√ßo de destino para 192.168.100.1, e na interface de sa√≠da - mascarada com a substitui√ß√£o do endere√ßo de origem no endere√ßo recebido via DHCP do registrador. </li><li>  O registrador aceita e processa a solicita√ß√£o de conex√£o que veio do endere√ßo emitido anteriormente via DHCP.  O que foi necess√°rio. </li></ol><br>  Um leitor atencioso j√° tem uma pergunta: para que tipo de tr√°fego eu redireciono?  Come√ßando com "todo o tr√°fego, exceto ssh" e ativando o log, percebi que era o <b>suficiente para redirecionar as portas TCP 7777, 7778 e 7779</b> .  O aplicativo n√£o precisa de mais nada para trabalhar com o registrador. <br><br><h3>  Passamos tr√°fego pela Internet </h3><br>  Aprendendo a enganar o aplicativo, removi o obst√°culo mais dif√≠cil ao objetivo principal - organizar o acesso aos registros de qualquer lugar da Internet.  Por√©m, para que o aplicativo em execu√ß√£o no telefone neste "qualquer momento" seja capaz de conectar-se ao registrador, para "enganar" √© necess√°rio cumprir todas as condi√ß√µes acima, e isso imp√µe algumas restri√ß√µes.  No entanto, em um endere√ßo, os registros s√£o necess√°rios especialmente com frequ√™ncia - eles est√£o em casa.  Aqui come√ßamos com um roteador dom√©stico. <br><br>  Em casa, como voc√™ provavelmente j√° adivinhou, eu tamb√©m tenho o Mikrotik.  O roteador externo tem um endere√ßo IP ‚Äúbranco‚Äù e eu usei isso para criar um t√∫nel L2TP entre os roteadores de carro e dom√©stico e organizar outra sub-rede de acoplamento entre eles.  Outro roteador foi adicionado ao circuito que descrevi acima e agora parece simplificado da seguinte forma: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ji/mu/zb/jimuzbzw8kdjeetkljvp3aqt-bu.png"></div><br>  Descri√ß√£o: <br><br><ul><li>  O aplicativo √© executado em um smartphone conectado ao roteador dom√©stico R0.  O smartphone recebe o endere√ßo via DHCP, no nosso exemplo √© 192.168.100.100. </li><li>  O endere√ßo IP de R0 na interface WiFi √© 192.168.100.1 (conforme o aplicativo desejar), na interface L2TP √© 192.168.98.1 (sub-rede de encaixe 0). </li><li>  O endere√ßo IP R1 na interface L2TP √© 192.168.98.2, na interface Ethernet √© 192.168.99.1 (sub-rede de conex√£o 1). </li><li>  O endere√ßo IP do R2 na interface Ethernet √© 192.168.99.2, na interface WiFi √© obtido via DHCP do registrador, em nosso exemplo √© 192.168.100.150. </li><li>  Cada roteador executa DNAT na entrada e SNAT na sa√≠da, para que os pacotes em cada sub-rede tenham endere√ßos de origem e destino que correspondam aos endere√ßos dos roteadores de borda desta rede. </li></ul><br>  Como √© a conex√£o: <br><br><ol><li>  O aplicativo garante que ele esteja conectado ao WiFi do registrador e inicie uma conex√£o com o endere√ßo 192.168.100.1, supondo que esse seja o endere√ßo do registrador. </li><li>  R0 aceita a solicita√ß√£o de conex√£o, executando na interface DNAT de entrada com a substitui√ß√£o do endere√ßo de destino para 192.168.98.2 e na interface de sa√≠da - SNAT com a substitui√ß√£o do endere√ßo de origem para 192.168.98.1. </li><li>  R1 aceita a solicita√ß√£o de conex√£o, executando na interface DNAT de entrada com a substitui√ß√£o do endere√ßo de destino para 192.168.99.2 e na interface de sa√≠da - SNAT com a substitui√ß√£o do endere√ßo de origem para 192.168.99.1. </li><li>  O R2 aceita a solicita√ß√£o de conex√£o, executando na interface DNAT de entrada com a substitui√ß√£o do endere√ßo de destino para 192.168.100.1, e na interface de sa√≠da - mascarada com a substitui√ß√£o do endere√ßo de origem no endere√ßo recebido via DHCP do registrador. </li><li>  O registrador aceita e processa a solicita√ß√£o de conex√£o que veio do endere√ßo emitido anteriormente via DHCP.  O que foi necess√°rio. </li></ol><br><div class="spoiler">  <b class="spoiler_title">PS.</b> <div class="spoiler_text">  Com o ponto 2, voc√™ pode facilitar um pouco se fizer DNAT imediatamente na 99¬™, em vez da 98¬™ sub-rede, e adicionar a rota √† 99¬™ sub-rede por meio de R1.  Mas apenas descrevo a ideia geral e um exemplo de sua implementa√ß√£o, e h√° muitas maneiras de integrar tudo isso em uma rede existente. <br></div></div><br><h3>  De onde tiramos comida? </h3><br>  Roteadores e modem consomem um pouco, mas o suficiente para descarregar a bateria do carro para zero em 3-4 dias.  Portanto, √© melhor inclu√≠-los sob demanda.  E, para me encaixar no conceito de ‚Äúacesso a qualquer momento‚Äù, aproveitei o fato de que o alarme Starline A96 instalado no meu carro possui, entre outras coisas, um m√≥dulo GSM, programou a inclus√£o de um canal adicional sob comando de um aplicativo de controle remoto ou smartphone e ligou o roteador mAP de um canal adicional e mAP lite - atrav√©s de PoE desde o primeiro.  N√£o falarei sobre isso em detalhes aqui, tudo isso √© facilmente no Google, mas se estiver interessado, escreva nos coment√°rios. <br><br><h3>  Sum√°rio </h3><br>  Tendo feito tudo isso, tive a oportunidade n√£o apenas de copiar os registros do gravador enquanto estava em casa, mas tamb√©m de ver fotos das c√¢meras em tempo real.  E tudo isso, independentemente de onde o carro esteja localizado, o principal √© que seu roteador tenha uma conex√£o com a Internet.  Isso n√£o √© perfeito? <br><br>  E com um b√¥nus agrad√°vel, obtive uma velocidade maior de copiar v√≠deos do que ficar sentado no carro: 1,2-1,5 mb / s contra 1 mb / s.  N√£o sei porque. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yi/ro/js/yirojsw0zniqglhireevkolxiuk.png"></div><br><h3>  Haver√° configura√ß√µes? </h3><br>  Sinceramente, n√£o acho que algu√©m possa fazer exatamente o que est√° descrito.  De qualquer forma, haver√° alguma adapta√ß√£o da solu√ß√£o ao que j√° est√° dispon√≠vel.  Mas se voc√™ realmente precisar - abaixo, voc√™ encontrar√° as regras nat, nas quais 99% de tudo o que foi discutido acima √© implementado. <br><br><div class="spoiler">  <b class="spoiler_title">R0</b> <div class="spoiler_text"><pre><code class="hljs sql">/ip firewall nat add action=src-nat chain=srcnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=l2tp-<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> src-address=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.100</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span>-addresses=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.98</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">action</span></span>=dst-nat <span class="hljs-keyword"><span class="hljs-keyword">chain</span></span>=dstnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR dst-address=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.100</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> dst-port=<span class="hljs-number"><span class="hljs-number">7777</span></span>,<span class="hljs-number"><span class="hljs-number">7778</span></span>,<span class="hljs-number"><span class="hljs-number">7779</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=wlan1 protocol=tcp <span class="hljs-keyword"><span class="hljs-keyword">to</span></span>-addresses=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.98</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">R1</b> <div class="spoiler_text"><pre> <code class="hljs sql">/ip firewall nat add action=masquerade chain=srcnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=l2tp-<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">action</span></span>=masquerade <span class="hljs-keyword"><span class="hljs-keyword">chain</span></span>=srcnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=ether2 <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">action</span></span>=masquerade <span class="hljs-keyword"><span class="hljs-keyword">chain</span></span>=srcnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=wlan1 <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">action</span></span>=dst-nat <span class="hljs-keyword"><span class="hljs-keyword">chain</span></span>=dstnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR dst-port=<span class="hljs-number"><span class="hljs-number">7777</span></span>,<span class="hljs-number"><span class="hljs-number">7778</span></span>,<span class="hljs-number"><span class="hljs-number">7779</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=l2tp-<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> protocol=tcp <span class="hljs-keyword"><span class="hljs-keyword">to</span></span>-addresses=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.99</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">action</span></span>=dst-nat <span class="hljs-keyword"><span class="hljs-keyword">chain</span></span>=dstnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR dst-port=<span class="hljs-number"><span class="hljs-number">7777</span></span>,<span class="hljs-number"><span class="hljs-number">7778</span></span>,<span class="hljs-number"><span class="hljs-number">7779</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=wlan1 protocol=tcp <span class="hljs-keyword"><span class="hljs-keyword">to</span></span>-addresses=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.99</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">R2</b> <div class="spoiler_text"><pre> <code class="hljs sql">/ip firewall nat add action=dst-nat chain=dstnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR dst-address=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.99</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> dst-port=<span class="hljs-number"><span class="hljs-number">7777</span></span>,<span class="hljs-number"><span class="hljs-number">7778</span></span>,<span class="hljs-number"><span class="hljs-number">7779</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=ether1 protocol=tcp <span class="hljs-keyword"><span class="hljs-keyword">to</span></span>-addresses=<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.100</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">action</span></span>=masquerade <span class="hljs-keyword"><span class="hljs-keyword">chain</span></span>=srcnat <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>=AVR <span class="hljs-keyword"><span class="hljs-keyword">out</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>=wlan1</code> </pre> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416323/">https://habr.com/ru/post/pt416323/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416309/index.html">Como usar arquivos HDF5 em Python</a></li>
<li><a href="../pt416313/index.html">Lista de verifica√ß√£o de an√°lise de log de eventos de seguran√ßa</a></li>
<li><a href="../pt416315/index.html">ASP.NET Razor: Solucionando alguns problemas de arquitetura para o modelo de exibi√ß√£o</a></li>
<li><a href="../pt416319/index.html">Contexto: listas brancas de IMEI e Rossvyaz</a></li>
<li><a href="../pt416321/index.html">Como se tornar um palestrante de confer√™ncias internacionais de TI</a></li>
<li><a href="../pt416327/index.html">O novo padr√£o 802.11ax (WLAN de alta efici√™ncia), o que h√° de novo e quando esperar?</a></li>
<li><a href="../pt416329/index.html">O retorno da esta√ß√£o interplanet√°ria sovi√©tica. Previs√£o preliminar</a></li>
<li><a href="../pt416331/index.html">O hist√≥rico de refatora√ß√£o do aplicativo Citimobil</a></li>
<li><a href="../pt416333/index.html">New Wave: por que o resfriamento a √°gua no data center est√° ganhando popularidade</a></li>
<li><a href="../pt416335/index.html">Uma pequena revis√£o do QCon 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>