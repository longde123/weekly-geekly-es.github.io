<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐พ ๐ซ ๐จ๐ฝโ๐ค ุฌูุงุฒ ุงูุชุญููู ุงูุจุฑูุฌู ุงูุณุฑูุน. ุงูุฌุฒุก 3 โพ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุงุตู ุฏุฑุงุณุฉ ุงููุชุฑุฌู ุณูููุช. ูุฐุง ุงูุฌุฒุก ูุฎุตุต ููุบุฉ ุณูููุช ุงููุชูุณุทุฉ. 


 ุฅุฐุง ูู ุชูู ูุฏ ุฑุฃูุช ุงูุณุงุจูุฉ ุ ููุตูู ุจุงุชุจุงุน ุงูุฑุงุจุท ููุฑุงุกุฉ: 


- ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูููููุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฌูุงุฒ ุงูุชุญููู ุงูุจุฑูุฌู ุงูุณุฑูุน. ุงูุฌุฒุก 3</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/e-Legion/blog/438696/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/w6/d3/5f/w6d35fpnglkxq8suebz-fhsl2de.png"><br><p style=";text-align:right;direction:rtl">  ููุงุตู ุฏุฑุงุณุฉ ุงููุชุฑุฌู ุณูููุช.  ูุฐุง ุงูุฌุฒุก ูุฎุตุต ููุบุฉ ุณูููุช ุงููุชูุณุทุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชูู ูุฏ ุฑุฃูุช ุงูุณุงุจูุฉ ุ ููุตูู ุจุงุชุจุงุน ุงูุฑุงุจุท ููุฑุงุกุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูููููุงุช</a> . </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุญููู ุงูููู ุงููุตุฏุฑ</a> . <a name="habracut"></a></li></ul><br><h1 id="silgen" style=";text-align:right;direction:rtl">  ุณููุฌู </h1><br><p style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุชุญููู AST ุงูููุชูุจ ุฅูู SIL ุงูุฎุงู.  Swift Intermediate Language (SIL) ูู ุชูุซูู ูุณูุท ุชู ุฅูุดุงุคู ุฎุตูุตูุง ูู Swift.  ูููู ุงูุนุซูุฑ ุนูู ูุตู ูุฌููุน ุงูุชุนูููุงุช ูู <a href="">ุงููุซุงุฆู</a> . </p><br><p style=";text-align:right;direction:rtl">  SIL ูุฏูู ุดูู SSA.  Static Single Assignment (SSA) - ุชูุซูู ููููุฏ ูุชู ูู ุฎูุงูู ุชุนููู ูู ูุชุบูุฑ ูููุฉ ูุฑุฉ ูุงุญุฏุฉ ููุท.  ูุชู ุฅูุดุงุคู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุนุงุฏูุฉ ุนู ุทุฑูู ุฅุถุงูุฉ ูุชุบูุฑุงุช ุฅุถุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุงุณุชุฎุฏุงู ูุงุญูุฉ ุฑูููุฉ ุชุดูุฑ ุฅูู ุฅุตุฏุงุฑ ูุชุบูุฑ ุจุนุฏ ูู ูููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจูุถู ูุฐุง ุงููููุฐุฌ ุ ุฃุตุจุญ ูู ุงูุณูู ุนูู ุงููุชุฑุฌู ุชุญุณูู ุงูููุฏ.  ููุฌุฏ ุฃุฏูุงู ูุซุงู ุนูู ุงูููุฏ ุงูุฒุงุฆู.  ูู ุงููุงุถุญ ุฃู ุงูุณุทุฑ ุงูุฃูู ุบูุฑ ุถุฑูุฑู: </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">a = 1 a = 2 b = a</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ูุฐุง ูู ููุท ุจุงููุณุจุฉ ููุง.  ูุชุนููู ุงููุชุฑุฌู ูุชุญุฏูุฏ ุฐูู ุ ูุฌุจ ุนูู ุงููุฑุก ุฃู ููุชุจ ุฎูุงุฑุฒููุงุช ุบูุฑ ุชุงููุฉ.  ูููู ูุน SSA ุ ูุฐุง ุฃุณูู ุจูุซูุฑ.  ุงูุขู ุ ุญุชู ุจุงููุณุจุฉ ูููุชุฑุฌู ุงูุจุณูุท ุ ุณูููู ูู ุงููุงุถุญ ุฃู ูููุฉ ุงููุชุบูุฑ <strong>a1 ุบูุฑ</strong> ูุณุชุฎุฏูุฉ ุ ููููู ุญุฐู ูุฐุง ุงูุณุทุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">a1 = 1 a2 = 2 b1 = a2</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูุญ ูู SIL ุชุทุจูู ุชุญุณููุงุช ููุญูุตุงุช ูุญุฏุฏุฉ ุนูู ููุฏ ุณูููุช ุณูููู ูู ุงูุตุนุจ ุฃู ุงููุณุชุญูู ุฅููุงูู ูู ูุฑุญูุฉ AST. </p><br><h3 id="ispolzovanie-generatora-sil" style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู ุณูู ูููุฏ </h3><br><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก SIL ุ ุงุณุชุฎุฏู <strong>ุนูุงูุฉ - silgen ุงูุนูุงูุฉ</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">swiftc -emit-silgen main.swift</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sil_stage raw import Builtin import Swift import SwiftShims let x: Int // x sil_global hidden [let] @$S4main1xSivp : $Int // main sil @main : $@convention(c) (Int32, UnsafeMutablePointer&lt;Optional&lt;UnsafeMutablePointer&lt;Int8&gt;&gt;&gt;) -&gt; Int32 { bb0(%0 : $Int32, %1 : $UnsafeMutablePointer&lt;Optional&lt;UnsafeMutablePointer&lt;Int8&gt;&gt;&gt;): alloc_global @$S4main1xSivp // id: %2 %3 = global_addr @$S4main1xSivp : $*Int // user: %8 %4 = metatype $@thin Int.Type // user: %7 %5 = integer_literal $Builtin.Int2048, 16 // user: %7 // function_ref Int.init(_builtinIntegerLiteral:) %6 = function_ref @$SSi22_builtinIntegerLiteralSiBi2048__tcfC : $@convention(method) (Builtin.Int2048, @thin Int.Type) -&gt; Int // user: %7 %7 = apply %6(%5, %4) : $@convention(method) (Builtin.Int2048, @thin Int.Type) -&gt; Int // user: %8 store %7 to [trivial] %3 : $*Int // id: %8 %9 = integer_literal $Builtin.Int32, 0 // user: %10 %10 = struct $Int32 (%9 : $Builtin.Int32) // user: %11 return %10 : $Int32 // id: %11 } // end sil function 'main' // Int.init(_builtinIntegerLiteral:) sil [transparent] [serialized] @$SSi22_builtinIntegerLiteralSiBi2048__tcfC : $@convention(method) (Builtin.Int2048, @thin Int.Type) -&gt; Int</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุฅูุชุงุฌ SIL ุ ูุซู LLVM IR ุ ูููุฏ ูุตุฏุฑ.  ููููู ุฃู ุชุฌุฏ ุฃูู ูู ูุฐู ุงููุฑุญูุฉ ุชู ุฅุถุงูุฉ ุงุณุชูุฑุงุฏ ูุญุฏุงุช Swift ูุฏูุฌุฉ ุ ุณูููุช ู ุณูููุช ุดููุฒ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃู ููุฏ Swift ูููู ูุชุงุจุชู ูุจุงุดุฑุฉ ูู ุงููุทุงู ุงูุนุงููู ุ ูุฅู SILGen ุชูุดุฆ ุงููุธููุฉ ุงูุฑุฆูุณูุฉ - ููุทุฉ ุงูุฏุฎูู ุฅูู ุงูุจุฑูุงูุฌ.  ูุงูุช ุฌููุน ุงูุดูุฑุงุช ููุฌูุฏุฉ ุจุฏุงุฎููุง ุ ุจุงุณุชุซูุงุก ุงูุฅุนูุงู ุนู ุซุงุจุช ุ ูุฃููุง ุนุงูููุฉ ููุฌุจ ุฃู ุชููู ูุชุงุญุฉ ูู ูู ููุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุนุธู ุงูุฎุทูุท ููุง ูููู ููุงุซู.  ุนูู ุงููุณุงุฑ ููุฌุฏ ุณุฌู ุฒุงุฆู ูุชู ููู ุญูุธ ูุชูุฌุฉ ุงูุชุนูููุงุช.  ุงูุชุงูู - ุงูุชุนูููุงุช ููุณูุง ููุนุงููุฑูุง ุ ููู ุงูููุงูุฉ - ุชุนููู ูุดูุฑ ุฅูู ุงูุณุฌู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงู ูุฐุง ุงูุณุฌู ูู ุฃุฌูู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุฅูุดุงุก ุญุฑูู ุตุญูุญ ูู ุงูููุน Int2048 ููููุฉ 16. ูู ูุฐุง ุงูุณุทุฑ ุ ูุชู ุชุฎุฒูู ูุฐุง ุงูุญุฑูู ูู ุงูุณุฌู ุงูุฎุงูุณ ูุณูุชู ุงุณุชุฎุฏุงูู ูุญุณุงุจ ูููุฉ ุงูุณุงุจุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">%5 = integer_literal $Builtin.Int2048, 16 // user: %7</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุนูุงู ุฏุงูุฉ ูุจุฏุฃ ุงููููุฉ sil.  ุงูุชุงูู ูู ุงูุงุณู ูุน ุจุงุฏุฆุฉ @ ุ ุงุตุทูุงุญ ุงุณุชุฏุนุงุก ุ ูุนููุงุช ุ ููุน ุงูุฅุฑุฌุงุน ุ ูุฑูุฒ ุงููุธููุฉ.  ุจุงููุณุจุฉ ุฅูู ููููุฆ <strong>Int.init (_builtinIntegerLiteral :) ุ</strong> ููู ุ ุจุงูุทุจุน ุ ุบูุฑ ูุญุฏุฏ ุ ุญูุซ ุฃู ูุฐู ุงููุธููุฉ ูู ูุญุฏุฉ ููุทูุฉ ุฃุฎุฑู ุ ููุฌุจ ุฃู ูุชู ุงูุฅุนูุงู ุนููุง ููุท ุ ูููู ูุง ูุชู ุชุนุฑูููุง.  ุชุดูุฑ ุนูุงูุฉ ุงูุฏููุงุฑ ุฅูู ุจุฏุงูุฉ ูุคุดุฑ ุงูููุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">// Int.init(_builtinIntegerLiteral:) sil [transparent] [serialized] @$SSi22_builtinIntegerLiteralSiBi2048__tcfC : $@convention(method) (Builtin.Int2048, @thin Int.Type) -&gt; Int</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุดูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุทูุญ ุงูุงุชุตุงู</a> ุฅูู ููููุฉ ุงุณุชุฏุนุงุก ูุธููุฉ ุจุดูู ุตุญูุญ.  ูุฐุง ุถุฑูุฑู ูุฅูุดุงุก ุฑูุฒ ุงูุฌูุงุฒ.  ูุตู ููุตู ููุฐู ุงููุจุงุฏุฆ ูู ุฎุงุฑุฌ ูุทุงู ูุฐู ุงูููุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุดููู ุงุณู ุงูููููุฆุงุช ุ ููุฐูู ุฃุณูุงุก ุงูููุงูู ูุงููุฆุงุช ูุงูุทุฑู ูุงูุจุฑูุชููููุงุช (ุงุณู ุงูุงุณู).  ูุฐุง ูุญู ุงูุนุฏูุฏ ูู ุงููุดุงูู ูู ููุช ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ุฃููุงู ุ ูุณูุญ ุจุงุณุชุฎุฏุงู ููุณ ุงูุฃุณูุงุก ูู ุงููุญุฏุงุช ุงูููุทูุฉ ุงููุฎุชููุฉ ูุงูููุงูุงุช ุงููุชุฏุงุฎูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ููุทุฑููุฉ ุงูุฃููู <strong>fff</strong> ุ <strong>ูุชู ุงุณุชุฎุฏุงู</strong> ุงุณู <strong>S4main3AAAV3fffSiyF</strong> ุ <strong>ูููุฃุณููุจ</strong> ุงูุซุงูู ุ ูุชู <strong>ุงุณุชุฎุฏุงู S4main3BBBV3fffSiyF</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">struct AAA { func fff() -&gt; Int { return 8 } } struct BBB { func fff() -&gt; Int { return 8 } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนูู <strong>S</strong> Swift ุ 4 ูู ุนุฏุฏ ุงูุฃุญุฑู ูู ุงุณู ุงููุญุฏุฉ ุงูููุทูุฉ ุ ู 3 ูู ุงุณู ุงููุฆุฉ.  ูู ุฃุฏุงุฉ ุงูุชููุฆุฉ ุงูุญุฑููุฉ ุ ุชุดูุฑ <strong>Si</strong> ุฅูู ุงูููุน ุงูููุงุณู Swift.Int. </p><br><p style=";text-align:right;direction:rtl">  ุซุงููุงู ุ ุชุชู ุฅุถุงูุฉ ุฃุณูุงุก ูุฃููุงุน ูุณุงุฆุท ุงูุฏุงูุฉ ุฅูู ุงูุงุณู.  ููุฐุง ูุณูุญ ุจุงุณุชุฎุฏุงู ุงูุฒุงุฆุฏ.  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ููุทุฑููุฉ ุงูุฃููู ุ <strong>ูุชู</strong> ุฅูุดุงุก <strong>S4main3AAAV3fff3iiiS2i_tF</strong> ุ <strong>ูููุฃุณููุจ</strong> ุงูุซุงูู - <strong>S4main3AAAV3fff3dddSiSd_tF</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">struct AAA { func fff(iii internalName: Int) -&gt; Int { return 8 } func fff(ddd internalName: Double) -&gt; Int { return 8 } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฃุณูุงุก ุงููุนููุงุช ุ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ููุน ูููุฉ ุงูุฅุฑุฌุงุน ุ ูุชุจูุนุฉ ุจุฃููุงุน ุงููุนููุงุช.  ููุน ุฐูู ุ ูุง ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุฃุณูุงุฆูู ุงูุฏุงุฎููุฉ.  ูุณูุก ุงูุญุธ ุ ูุง ุชูุฌุฏ ูุซุงุฆู ุญูู ุชุบููุฑ ุงูุงุณู ูู Swift ุ ููุฏ ูุชุบูุฑ ุชูููุฐู ูู ุฃู ููุช. </p><br><p style=";text-align:right;direction:rtl">  ูุชุจุน ุงุณู ุงููุธููุฉ ุชุนุฑูููุง.  ูุชููู ูู ูุงุญุฏ ุฃู ุฃูุซุฑ ูู ุงููุทุน ุงูุฃุณุงุณูุฉ.  ุงููุชูุฉ ุงูุฃุณุงุณูุฉ ูู ุณูุณูุฉ ูู ุงูุชุนูููุงุช ูุน ููุทุฉ ุฏุฎูู ูุงุญุฏุฉ ูููุทุฉ ุฎุฑูุฌ ูุงุญุฏุฉ ุ ูุงูุชู ูุง ุชุญุชูู ุนูู ุชุนูููุงุช ุฃู ุดุฑูุท ุงููุฑุน ูุฎุฑูุฌ ูุจูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุชุญุชูู ุงููุธููุฉ ุงูุฑุฆูุณูุฉ ุนูู ูุญุฏุฉ ุฃุณุงุณูุฉ ูุงุญุฏุฉ ุ ูุงูุชู ุชุฃุฎุฐ ุฌููุน ุงููุนููุงุช ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูู ุงููุธููุฉ ููุฏุฎู ูุชุญุชูู ุนูู ุฌููุน ุงูููุฏ ุงูุฎุงุต ุจูุง ุ ุญูุซ ูุง ุชูุฌุฏ ูุฑูุน ููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">bb0(%0 : $Int32, %1 : $UnsafeMutablePointer&lt;Optional&lt;UnsafeMutablePointer&lt;Int8&gt;&gt;&gt;):</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููููุง ุฃู ููุชุฑุถ ุฃู ูู ูุทุงู ุชุญุฏู ุงูุฃููุงุณ ูู ูุญุฏุฉ ุฃุณุงุณูุฉ ูููุตูุฉ.  ุงูุชุฑุถ ุฃู ุงูููุฏ ูุญุชูู ุนูู ูุฑุน: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">// before if 2 &gt; 5 { // true } else { // false } // after</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูุชู ุฅูุดุงุก 4 ูุชู ุฃุณุงุณูุฉ ุนูู ุงูุฃูู ูู ุฃุฌู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฑูุฒ ูุจู ุงููุชูุฑุนุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุงูุญุงูุงุช ุนูุฏูุง ูููู ุงูุชุนุจูุฑ ุตุญูุญุง </li><li style=";text-align:right;direction:rtl">  ุงูุญุงูุงุช ุนูุฏูุง ูููู ุงูุชุนุจูุฑ ุฎุงุทุฆ </li><li style=";text-align:right;direction:rtl">  ุฑูุฒ ุจุนุฏ ุงููุชูุฑุนุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  <strong>cond_br</strong> - ุชุนูููุงุช ููููุฒ ุงูุดุฑุทู.  ุฅุฐุง ูุงูุช ูููุฉ ุงูุณุฌู ุงูุฒุงุฆููช 14 ุตุญูุญุฉ ุ ูุณูุชู ุฅุฌุฑุงุก ุงูุงูุชูุงู ุฅูู ุงููุชูุฉ <strong>bb1</strong> .  ุฅุฐุง ูู ููู ูุฐูู ุ ุซู ูู <strong>bb2</strong> .  br - ููุฒุฉ ุบูุฑ ูุดุฑูุทุฉ ุชุจุฏุฃ ุชูููุฐ ุงููุชูุฉ ุงูุฃุณุงุณูุฉ ุงููุญุฏุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">// before cond_br %14, bb1, bb2 // id: %15 bb1: // true br bb3 // id: %21 bb2: // Preds: bb0 // false br bb3 // id: %27 bb3: // Preds: bb2 bb1 // after</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฏ ุงููุตุฏุฑ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงุช ุชูููุฐ SILGen</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงุช ุฑุฃุณ SIL</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงุช ุชูููุฐ SIL</a> ุ </li><li style=";text-align:right;direction:rtl">  <a href="">ูุซุงุฆู SIL</a> . </li></ul><br><h1 id="sil-guaranteed-transformations" style=";text-align:right;direction:rtl">  SIL ูุถูููุฉ ุงูุชุญููุงุช </h1><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุญููู ุงูุชูุซูู ุงููุณูุท ุงูุฎุงู ุงูุฐู ุชู ุงูุญุตูู ุนููู ูู ุงููุฑุญูุฉ ุงูุฃุฎูุฑุฉ ููุชุฃูุฏ ูู ุตุญุชู ูุชุญูููู ุฅูู ุงูููุณู: ุงูุฏูุงู ุฐุงุช ุงูุนูุงูุฉ ุงูุดูุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุถููุฉ</a> (ูุชู ุงุณุชุฏุนุงุก ุงุณุชุฏุนุงุก ุงููุธููุฉ ุจุฌุณููุง) ุ ููุชู ุงุญุชุณุงุจ ููู ุงูุชุนุจูุฑุงุช ุงูุซุงุจุชุฉ ุ ููุชู ุงูุชุญูู ูู ุฃู ุงููุธููุฉ ุงูุชู ุชุฑุฌุน ุงูููู ุงูููุงู ุจุฐูู ูู ุฌููุน ูุฑูุน ุงููุงููู ูููู ุฌุฑุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฐู ุงูุชุญูููุงุช ุฅูุฒุงููุฉ ููุชู ุชูููุฐูุง ุญุชู ุฅุฐุง ุชู ุชุนุทูู ุชุญุณูู ุงูููุฏ. </p><br><h3 id="generaciya-kanonichnogo-sil" style=";text-align:right;direction:rtl">  ูุงููู ุณูู ุฌูู </h3><br><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก SIL ุงูููุณู ุ ูุชู ุงุณุชุฎุฏุงู ุงูุนูู <strong>-mit-sil</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">swiftc -emit-sil main.swift</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">sil_stage canonical import Builtin import Swift import SwiftShims let x: Int // x sil_global hidden [let] @$S4main1xSivp : $Int // main sil @main : $@convention(c) (Int32, UnsafeMutablePointer&lt;Optional&lt;UnsafeMutablePointer&lt;Int8&gt;&gt;&gt;) -&gt; Int32 { bb0(%0 : $Int32, %1 : $UnsafeMutablePointer&lt;Optional&lt;UnsafeMutablePointer&lt;Int8&gt;&gt;&gt;): alloc_global @$S4main1xSivp // id: %2 %3 = global_addr @$S4main1xSivp : $*Int // user: %6 %4 = integer_literal $Builtin.Int64, 16 // user: %5 %5 = struct $Int (%4 : $Builtin.Int64) // user: %6 store %5 to %3 : $*Int // id: %6 %7 = integer_literal $Builtin.Int32, 0 // user: %8 %8 = struct $Int32 (%7 : $Builtin.Int32) // user: %9 return %8 : $Int32 // id: %9 } // end sil function 'main' // Int.init(_builtinIntegerLiteral:) sil public_external [transparent] [serialized] @$SSi22_builtinIntegerLiteralSiBi2048__tcfC : $@convention(method) (Builtin.Int2048, @thin Int.Type) -&gt; Int { // %0 // user: %2 bb0(%0 : $Builtin.Int2048, %1 : $@thin Int.Type): %2 = builtin "s_to_s_checked_trunc_Int2048_Int64"(%0 : $Builtin.Int2048) : $(Builtin.Int64, Builtin.Int1) // user: %3 %3 = tuple_extract %2 : $(Builtin.Int64, Builtin.Int1), 0 // user: %4 %4 = struct $Int (%3 : $Builtin.Int64) // user: %5 return %4 : $Int // id: %5 } // end sil function '$SSi22_builtinIntegerLiteralSiBi2048__tcfC'</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ุจุนุถ ุงูุชุบููุฑุงุช ูู ูุฐุง ุงููุซุงู ุงูุจุณูุท.  ูุฑุคูุฉ ุงูุนูู ุงูุญูููู ูููุญุณู ุ ุชุญุชุงุฌ ุฅูู ุชุนููุฏ ุงูููุฏ ููููุงู.  ุนูู ุณุจูู ุงููุซุงู ุ ุฃุถู ุงูุฅุถุงูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">let x = 16 + 8</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู SIL ุงูุฎุงู ุ ููููู ุงูุนุซูุฑ ุนูู ุฅุถุงูุฉ ูุฐู ุงูุญุฑู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">%13 = function_ref @$SSi1poiyS2i_SitFZ : $@convention(method) (Int, Int, @thin Int.Type) -&gt; Int // user: %14 %14 = apply %13(%8, %12, %4) : $@convention(method) (Int, Int, @thin Int.Type) -&gt; Int // user: %15</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ูู ุงูููุณู ูู ูุนุฏ ููุงู.  ุจุฏูุงู ูู ุฐูู ุ ูุชู ุงุณุชุฎุฏุงู ูููุฉ ุซุงุจุชุฉ ูู 24: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">%4 = integer_literal $Builtin.Int64, 24 // user: %5</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุฏ ุงููุตุฏุฑ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SIL Optimizer ุฅูุฒุงูู</a> </li></ul><br><h1 id="sil-optimization" style=";text-align:right;direction:rtl">  Sil ุงูุชุญุณูู </h1><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุทุจูู ุงูุชุญูููุงุช ุงูุฅุถุงููุฉ ุงูุฎุงุตุฉ ุจู Swift ูู ุญุงูุฉ ุชูููู ุงูุชุญุณูู.  ูู ุจูููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุฎุตุต ุงููุฑุงุซุฉ</a> (ุชุญุณูู ุงูููุฏ ุงูุนุงู ูููุน ูุนูู ูู ุงููุนููุงุช) ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุงูุชุฑุงุถูุฉ</a> (ุงุณุชุจุฏุงู ุงูููุงููุงุช ุงูุฏููุงููููุฉ ูุน ุงูููุงููุงุช ุงูุซุงุจุชุฉ) ุ ูุงููุถููุฉ ุ <a href="">ูุชุญุณูู ARC ุ</a> ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ.  ูุง ูุชูุงูู ุชูุณูุฑ ูุฐู ุงูุชูููุงุช ูุน ููุงู ูุจูุฑ ุจุงููุนู. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุงููุตุฏุฑ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุคูุณ SIL Optimizer</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงุช SIL Optimizer</a> </li></ul><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู SIL ููุฒุฉ Swift ุ ูู ุฃูู ุจุนุฑุถ ุฃูุซูุฉ ููุชูููุฐ ูุฐู ุงููุฑุฉ.  ุณูุนูุฏ ุฅูู ูุชุฑุฌู ุงูุฃููุงุณ ูู ุงูุฌุฒุก ุงูุชุงูู ุนูุฏูุง ูุดุงุฑู ูู ุชูููุฏ LLVM IR. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar438696/">https://habr.com/ru/post/ar438696/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar438682/index.html">ุงูููุจูู ุชุทูู ุฑูุงุฏ ูุถุงุก ุฅูุฑุงูููู</a></li>
<li><a href="../ar438688/index.html">PCIe 5.0 ุญุงููุฉ ุฌุงูุฒุฉ ููุชูููู</a></li>
<li><a href="../ar438690/index.html">ุฅุฐุง ูุงู ุจุงุณูุงู ูุญุฏุฉ CRT ูู ุฌุงูุง ุณูุฑูุจุช</a></li>
<li><a href="../ar438692/index.html">ุจุงููุตูุฑ ุงูุฐุงุชู ุงูุตุญู ุงูุทุงุฆุฑ. ุงุฏูุน ูู ุดูุก</a></li>
<li><a href="../ar438694/index.html">ููู ุชุบูุฑุช ุนูููุฉ ุฏุนู ุงููููุน ุนูู ูุฏุงุฑ ุงูุนุดุฑูู ุนุงููุง ุงููุงุถูุฉ</a></li>
<li><a href="../ar438698/index.html">ูุฃุณุงุฉ systemd</a></li>
<li><a href="../ar438700/index.html">ุฎุฑูุทุฉ ุงูุญูุงุฏุซ</a></li>
<li><a href="../ar438708/index.html">ููุฎุต ุงูููุงุฏ ุงูุทุงุฒุฌุฉ ูู ุนุงูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ููุฃุณุจูุน ุงููุงุถู ุฑูู 350 (28 ููุงูุฑ - 3 ูุจุฑุงูุฑ 2019)</a></li>
<li><a href="../ar438710/index.html">Frontend Weekly Digest (28 ููุงูุฑ - 3 ูุจุฑุงูุฑ 2019)</a></li>
<li><a href="../ar438714/index.html">Veeam ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุชูุฑุงุฑ 9.5 ุชุญุฏูุซ 4 ูุธุฑุฉ ุนุงูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>