<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>„äôÔ∏è üéë üçè G√©rer les intercepteurs dans React üë©üèº üí™üèø üë®‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 

 Avec une fiert√© et un soulagement incroyables, nous avons remis ce soir un nouveau livre sur React √† l'imprimerie. 



 A cette occa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>G√©rer les intercepteurs dans React</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/428632/">  Bonjour, Habr! <br><br>  Avec une fiert√© et un soulagement incroyables, nous avons remis ce soir un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nouveau livre sur React</a> √† l'imprimerie. <br><br><img src="https://habrastorage.org/webt/yy/eu/am/yyeuamoit3imb91e5gligyk4oys.jpeg"><br><br>  A cette occasion, nous vous proposons une traduction l√©g√®rement abr√©g√©e d'un article de Dan Abramov, d√©crivant l'utilisation des intercepteurs dans la 16e version de React.  Le livre, que nous attendons d√©j√† avec impatience, est d√©crit au chapitre 5. <br><a name="habracut"></a><br>  La semaine derni√®re, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sophie Alpert et moi avons</a> pr√©sent√© le concept des ¬´intercepteurs¬ª lors de la conf√©rence React Conf, suivie d'une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">discussion</a> d√©taill√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur</a> le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sujet</a> par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ryan Florence</a> . <br><br>  Je vous recommande fortement de regarder cette conf√©rence pl√©ni√®re pour vous familiariser avec l'√©ventail des probl√®mes que nous essayons de r√©soudre avec l'aide d'intercepteurs.  Cependant, m√™me l'heure de votre temps que j'appr√©cie beaucoup, j'ai donc d√©cid√© de d√©crire bri√®vement dans cet article les principales consid√©rations pour les intercepteurs. <br><blockquote>  Remarque: les intercepteurs React sont encore exp√©rimentaux.  Pas besoin de s'y plonger tout de suite.  Notez √©galement que cette publication expose mes opinions personnelles, qui peuvent ne pas co√Øncider avec la position des d√©veloppeurs de React. </blockquote>  <b>Pourquoi faut-il des intercepteurs?</b> <br><br>  Il est connu que l'organisation des composants et un flux descendant de donn√©es aident √† organiser une grande interface utilisateur sous la forme de petits fragments ind√©pendants et r√©utilisables.  <b>Cependant, il n'est souvent pas possible de d√©composer des composants complexes au-del√† d'une certaine limite, car la logique pr√©serve l'√©tat et n'est pas extractible dans une fonction ou un autre composant</b> .  Parfois, ceux qui disent que React ne parvient pas √† une ¬´s√©paration des t√¢ches¬ª s'en plaignent. <br>  De tels cas sont tr√®s courants et sont associ√©s, par exemple, √† l'animation, au traitement des formulaires, √† la connexion √† des sources de donn√©es externes et √† de nombreuses autres op√©rations que nous pourrions avoir besoin d'effectuer avec nos composants.  En essayant de r√©soudre ces probl√®mes avec des composants seuls, nous obtenons g√©n√©ralement: <br><br><ul><li>  <b>Composants g√©ants</b> difficiles √† refactoriser et √† tester. </li><li> <b>Duplication de la logique</b> entre divers composants et m√©thodes de cycle de vie. </li><li>  <b>Mod√®les complexes</b> , en particulier, accessoires de rendu et composants d'ordre sup√©rieur. </li></ul><br>  Nous pensons que les intercepteurs sont les plus prometteurs pour r√©soudre tous ces probl√®mes.  <b>Les intercepteurs aident √† organiser la logique √† l'int√©rieur du composant sous la forme d'unit√©s isol√©es r√©utilisables</b> : <br><br><img src="https://habrastorage.org/webt/4g/xr/jw/4gxrjwrsbsq2o6nqjrcjvq8lifo.jpeg"><br><br><img src="https://habrastorage.org/webt/cs/sx/ac/cssxacn4rnmwuob4lhtqflnnyxw.jpeg"><br><br>  <b>Les intercepteurs sont conformes √† la philosophie React (flux de donn√©es explicite et composition) et au sein d'un composant, et pas seulement entre les composants</b> .  C'est pourquoi il me semble que les intercepteurs s'int√®grent naturellement dans le mod√®le de composant React. <br><br>  Contrairement aux mod√®les tels que les propri√©t√©s de rendu ou les composants d'ordre sup√©rieur, les renifleurs ne surchargent pas votre arborescence de composants avec des pi√®ces jointes inutilement profondes.  De plus, ils ne pr√©sentent pas les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">inconv√©nients</a> inh√©rents aux impuret√©s. <br><br>  M√™me si √† premi√®re vue les intercepteurs vous d√©forment (tout comme moi au d√©but!) Je recommande de donner une chance √† cette option et de l'exp√©rimenter.  Je pense que vous l'aimerez. <br><br>  <b>Le gonflement de React est-il d√ª aux intercepteurs?</b> <br><br>  Jusqu'√† ce que nous ayons couvert les intercepteurs en d√©tail, vous pouvez craindre que l'ajout d'intercepteurs dans React ne soit qu'une multiplication d'entit√©s.  C'est une critique juste.  Je pense ceci: bien qu'√† court terme, vous ressentiez vraiment une charge cognitive suppl√©mentaire (pour les √©tudier), au final vous vous sentirez mieux. <br><br>  <b>Si les intercepteurs prennent racine dans la communaut√© React, alors en fait le nombre d'entit√©s √† g√©rer lors de l'√©criture d'applications React <i>sera r√©duit</i></b> .  √Ä l'aide d'intercepteurs, vous pouvez constamment utiliser des fonctions, plut√¥t que de basculer entre les fonctions, les classes, les composants d'ordre sup√©rieur et le rendu des composants. <br><br>  Quant √† l'augmentation de la taille de l'impl√©mentation, l'application React avec le support des intercepteurs n'augmente que d'environ ~ 1,5 Ko (min + gzip).  Bien que cela ne soit pas trop en soi, il est tr√®s probable que <b>lorsque vous utilisez des intercepteurs, la taille de votre assembly diminue m√™me</b> , car le code d'intercepteur est g√©n√©ralement mieux minifi√© qu'un code √©quivalent utilisant des classes.  L'exemple suivant est l√©g√®rement extr√™me, mais il montre clairement pourquoi tout est ainsi ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://twitter.com/jamiebuilds/status/1056015484364087297/photo/1%3Fref_src%3Dtwsrc%255Etfw%257Ctwcamp%255Etweetembed%257Ctwterm%255E1056015484364087297%26ref_url%3D">cliquez</a> pour d√©velopper le fil entier): <br><br><img src="https://habrastorage.org/webt/_z/zp/7k/_zzp7ky6u-3dcsitdyla1mt-ive.jpeg"><br><br>  <b>Il n'y a aucun changement r√©volutionnaire √† la proposition d'intercepteur</b> .  Votre code fonctionnera correctement m√™me si vous commencez √† utiliser des intercepteurs dans de nouveaux composants.  En fait, c'est exactement ce que nous recommandons: ne r√©√©crivez rien au niveau mondial!  Il serait sage d'attendre que l'utilisation d'intercepteurs soit √©tablie dans tout le code critique.  N√©anmoins, nous serons reconnaissants si vous pouvez exp√©rimenter avec la version alpha 16.7 et nous laisser des commentaires sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">proposition d'intercepteurs</a> , ainsi que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://github.com/login%3Freturn_to%3D">signaler tout bogue</a> . <br><br>  <b>Qu'est-ce que c'est - les intercepteurs?</b> <br><br>  Pour comprendre ce que sont les intercepteurs, vous devez revenir en arri√®re et r√©fl√©chir √† la r√©utilisation du code. <br><br>  Il existe de nombreuses fa√ßons de r√©utiliser la logique dans les applications React aujourd'hui.  Donc, pour calculer quelque chose, vous pouvez √©crire des fonctions simples, puis les appeler.  Vous pouvez √©galement √©crire des composants (qui peuvent eux-m√™mes √™tre des fonctions ou des classes).  Les composants sont plus puissants, mais lorsque vous travaillez avec eux, vous devez afficher une interface utilisateur.  Par cons√©quent, l'utilisation de composants n'est pas pratique pour transmettre une logique non visuelle.  Nous arrivons donc √† des motifs complexes comme les propri√©t√©s de rendu et les composants d'ordre sup√©rieur.  <b>React ne faciliterait-il pas la t√¢che s'il n'y avait qu'une seule fa√ßon g√©n√©rale de r√©utiliser le code, et pas tant?</b> <br><br>  Les fonctions semblent √™tre parfaites pour le code r√©utilisable.  Passer la logique entre les fonctions est le moins cher.  Cependant, l'√©tat local de React ne peut pas √™tre stock√© dans les fonctions.  Vous ne pouvez pas extraire un comportement comme ¬´suivre la taille de la fen√™tre et l'√©tat de mise √† jour¬ª ou ¬´animer une valeur pendant un certain temps¬ª √† partir d'un composant de classe sans restructurer le code ou sans introduire d'abstractions telles que Observables.  Les deux approches ne font que compliquer le code, et React est gentil avec notre simplicit√©. <br><br>  Les intercepteurs r√©solvent ce probl√®me.  Gr√¢ce aux intercepteurs, vous pouvez utiliser les fonctionnalit√©s React (par exemple, state) √† partir d'une fonction - en l'appelant une seule fois.  React fournit plusieurs intercepteurs int√©gr√©s qui correspondent aux briques React: √©tat, cycle de vie et contexte. <br><br>  <b>√âtant donn√© que les intercepteurs sont des fonctions JavaScript normales, vous pouvez combiner les intercepteurs int√©gr√©s fournis dans React pour cr√©er des ¬´intercepteurs natifs¬ª</b> .  Ainsi, des probl√®mes complexes peuvent √™tre r√©solus avec une seule ligne de code, puis le multiplier dans votre application ou le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://twitter.com/seldo/status/1057030727512911874%3Fref_src%3Dtwsrc%255Etfw%257Ctwcamp%255Etweetembed%257Ctwterm%255E1057030727512911874%26ref_url%3D">partager dans la communaut√© React</a> <br><br>  Attention: √† proprement parler, vos propres intercepteurs ne font pas partie des fonctionnalit√©s de React.  La capacit√© d'√©crire vos propres intercepteurs d√©coule naturellement de leur organisation tr√®s interne. <br><br>  <b>Montrez-moi le code!</b> <br><br>  Supposons que nous voulons abonner un composant √† la largeur de la fen√™tre actuelle (par exemple, pour afficher un autre contenu ou une zone de visualisation plus √©troite). <br>  Un code similaire peut √™tre √©crit aujourd'hui de plusieurs mani√®res.  Par exemple, pour cr√©er une classe, cr√©er plusieurs m√©thodes de cycle de vie, ou peut-√™tre m√™me recourir √† des propri√©t√©s de rendu ou appliquer un composant d'ordre sup√©rieur si vous recherchez une r√©utilisation.  Cependant, je pense que rien ne se compare √† cela: <br><br><img src="https://habrastorage.org/webt/it/yg/sm/itygsmtcllercyaret5qvglik7u.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gist.github.com/gaearon/cb5add26336003ed8c0004c4ba820eae</a> <br><br>  <b>Si vous lisez ce code, cela signifie qu'il fait exactement ce qu'il dit</b> .  Nous utilisons la largeur de la fen√™tre √† l'int√©rieur de notre composant et React redessine votre composant s'il change.  C'est pr√©cis√©ment pour cela que les intercepteurs sont n√©cessaires - pour rendre les composants vraiment d√©claratifs, m√™me s'ils contiennent des √©tats et des effets secondaires. <br><br>  Consid√©rez comment ce propre intercepteur pourrait √™tre impl√©ment√©.  Nous pourrions utiliser l'√©tat React local pour y conserver la largeur actuelle de la fen√™tre et d√©finir l'√©tat lorsque la fen√™tre est redimensionn√©e √† l'aide d'un effet secondaire: <br><br><img src="https://habrastorage.org/webt/9t/wf/rx/9twfrxgngukwpy1geu5m8hvcqjk.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gist.github.com/gaearon/cb5add26336003ed8c0004c4ba820eae</a> <br><br>  Comme illustr√© ci-dessus, les intercepteurs <code>useState</code> comme <code>useState</code> et <code>useEffect</code> servent de briques.  Nous pouvons les utiliser directement √† partir de nos composants, ou assembler nos propres intercepteurs √† partir d'eux, par exemple, <code>useWindowWidth</code> .  Utiliser vos propres intercepteurs ne semble pas moins idiomatique que de travailler avec l'API React int√©gr√©e. <br><br>  En savoir plus sur les intercepteurs int√©gr√©s dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette revue</a> . <br><br>  <b>Les intercepteurs sont encapsul√©s - chaque fois que l'intercepteur est appel√©, il re√ßoit un √©tat local isol√© √† l'int√©rieur du composant en cours d'ex√©cution</b> .  Dans cet exemple particulier, ce n'est pas important (la largeur de la fen√™tre est la m√™me pour tous les composants!), Mais c'est justement l√† que r√©side la puissance des intercepteurs!  Ils sont destin√©s √† s√©parer non pas la logique, mais la conservation de l'√©tat.  <b>Nous ne voulons pas interrompre le flux de donn√©es en aval!</b> <br><br>  Chaque intercepteur peut contenir certains √©tats locaux et effets secondaires.  Vous pouvez transf√©rer des donn√©es entre plusieurs intercepteurs, comme cela se fait habituellement entre les fonctions.  Ils peuvent prendre des arguments et renvoyer des valeurs car ce sont des fonctions JavaScript. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici un exemple de</a> biblioth√®que d'animation React o√π nous exp√©rimentons avec des intercepteurs: <br>  Remarquez comment une animation √©poustouflante est impl√©ment√©e dans le code source illustr√©: nous transmettons des valeurs entre plusieurs intercepteurs natifs au sein de la m√™me fonction de rendu. <br><br><img src="https://habrastorage.org/webt/uc/h_/fs/uch_fszu4xmd8xnegfqvwz-flzc.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">codesandbox.io/s/ppxnl191zx</a> <br><br>  (Cet exemple est trait√© plus en d√©tail dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce guide</a> .) <br><br>  En raison de la possibilit√© de transf√©rer des donn√©es entre les intercepteurs, ils sont tr√®s pratiques pour impl√©menter des animations, s'abonner aux donn√©es, g√©rer des formulaires et travailler avec d'autres abstractions avec √©tat.  <b>Contrairement aux propri√©t√©s de rendu ou aux composants d'ordre sup√©rieur, les intercepteurs ne cr√©ent pas de ¬´fausse hi√©rarchie¬ª dans votre arborescence de rendu</b> .  Ils ressemblent plus √† une liste bidimensionnelle de "cellules de m√©moire" attach√©es √† un composant.  Pas de niveaux suppl√©mentaires. <br><br>  <b>Et les cours?</b> <br><br>  √Ä notre avis, nos propres intercepteurs sont le d√©tail le plus int√©ressant de toute l'offre.  Mais pour que ses propres intercepteurs soient fonctionnels, React doit fournir au niveau des fonctions la capacit√© de d√©clarer l'√©tat et les effets secondaires.  C'est exactement ce qui nous permet de faire des intercepteurs <code>useState</code> comme <code>useState</code> et <code>useEffect</code> .  En savoir plus √† ce sujet dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> . <br><br>  Il s'av√®re que de tels intercepteurs int√©gr√©s sont pratiques non seulement lors de la cr√©ation de vos propres intercepteurs.  Ils sont √©galement suffisants pour d√©terminer les composants dans leur ensemble, car ils nous fournissent les capacit√©s n√©cessaires - par exemple, l'√©tat.  C'est pourquoi nous souhaitons que les intercepteurs deviennent le principal moyen de d√©finir les composants React √† l'avenir. <br>  Non, nous ne pr√©voyons pas d'abolir progressivement les cours.  Nous utilisons des dizaines de milliers de composants de classe sur Facebook et nous (tout comme vous) ne voulons absolument pas les r√©√©crire.  Mais, si la communaut√© React commence √† utiliser des intercepteurs, il deviendra inappropri√© de conserver les deux fa√ßons recommand√©es d'√©crire des composants.  Les intercepteurs couvrent tous les cas pratiques dans lesquels les classes sont utilis√©es, mais offrent une plus grande flexibilit√© lors de l'extraction, du test et de la r√©utilisation du code.  C'est pourquoi nous connectons les intercepteurs √† nos id√©es sur l'avenir de React. <br><br>  <b>Et si les intercepteurs sont magiques?</b> <br><br>  Peut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-</a> √™tre que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les r√®gles d'interception</a> vous d√©routeront. <br><br>  <b>Bien qu'il ne soit pas habituel d'appeler un intercepteur au niveau sup√©rieur, vous ne voudriez probablement pas d√©terminer vous-m√™me la condition dans la condition, m√™me si vous le pouviez</b> .  Par exemple, un √©tat li√© √† une condition ne peut pas √™tre d√©termin√© en classe, et pendant quatre ans de communication avec les utilisateurs de React, je n'ai entendu aucune plainte √† ce sujet. <br><br>  Une telle conception est essentielle pour introduire vos propres intercepteurs sans introduire de bruit de syntaxe excessif ou cr√©er des pi√®ges.  Nous comprenons que par habitude, c'est difficile, mais nous pensons que ce compromis est acceptable, compte tenu des opportunit√©s qu'il offre.  Si vous n'√™tes pas d'accord, je vous sugg√®re de vous exp√©rimenter et d'essayer comment vous aimez cette approche. <br><br>  Nous utilisons des hooks de production depuis un mois maintenant pour voir si les nouvelles r√®gles vont d√©router les programmeurs.  La pratique montre qu'une personne ma√Ætrise les intercepteurs en quelques heures.  J'avoue que ces r√®gles me semblaient √† premi√®re vue une h√©r√©sie, mais ce sentiment s'est rapidement dissip√©.  C'est l'impression que j'ai eue lors de ma premi√®re rencontre avec React.  (Vous n'aimiez pas React? Et je ne l'ai aim√© que pour la deuxi√®me fois.) <br><br>  Attention: au niveau de l'impl√©mentation des intercepteurs, il n'y a pas de magie non plus.  Selon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jamie</a> , elle obtient quelque chose comme √ßa: <br><br><img src="https://habrastorage.org/webt/cf/xl/zt/cfxlztqheooupmcgmecqjp1kk2g.jpeg"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gist.github.com/gaearon/62866046e396f4de9b4827eae861ff19</a> <br><br>  Nous maintenons une liste √©clat√©e d'intercepteurs et passons au composant suivant de la liste chaque fois que vous utilisez un intercepteur.  Gr√¢ce aux r√®gles des intercepteurs, leur ordre est le m√™me dans n'importe quel moteur de rendu, donc √† chaque appel, nous pouvons fournir au composant l'√©tat correct. <br><br>  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dans cet article de Rudy Yardley,</a> tout est magnifiquement expliqu√© sur les photos!) <br><br>  Vous vous √™tes peut-√™tre demand√© o√π React stocke l'√©tat des intercepteurs.  Au m√™me endroit que l'√©tat des cours.  React dispose d'une file d'attente de mise √† jour interne qui contient la v√©rit√© ultime pour chaque √©tat, quelle que soit la fa√ßon dont vous d√©finissez vos composants. <br><br>  Les intercepteurs sont ind√©pendants des proxys et des getters, qui sont si courants dans les biblioth√®ques JavaScript modernes.  Par cons√©quent, on peut affirmer qu'il y a moins de magie dans les intercepteurs que dans d'autres approches populaires pour r√©soudre de tels probl√®mes.  Pas plus que dans <code>array.push</code> et <code>array.pop</code> (dans le cas o√π l'ordre des appels est √©galement important!) <br><br>  La conception de l'intercepteur n'est pas li√©e √† React.  En fait, quelques jours apr√®s la publication de la proposition, diverses personnes nous ont montr√© des impl√©mentations exp√©rimentales de la m√™me API d'intercepteur pour Vue, des composants Web et m√™me des fonctions JavaScript ordinaires. <br>  Enfin, si vous √™tes fanatiquement d√©vou√© √† la programmation fonctionnelle et que vous n'√™tes pas √† l'aise lorsque React commence √† s'appuyer sur un √©tat modifiable dans le cadre d'une impl√©mentation.  Mais, cela peut vous rassurer que le traitement des intercepteurs peut √™tre impl√©ment√© dans sa forme pure, se limitant aux effets alg√©briques (s'ils √©taient pris en charge en JavaScript).  Naturellement, au niveau intra-syst√®me, React s'est toujours appuy√© sur un √©tat mutable - et c'est exactement ce que vous souhaitez √©viter. <br><br>  Quel que soit le point de vue le plus proche de vous - pragmatique ou dogmatique - j'esp√®re qu'au moins une de ces options vous semble logique.  Plus important encore, √† mon avis, les intercepteurs simplifient notre travail et il devient plus pratique pour les utilisateurs de travailler.  C'est ce que les intercepteurs me soudoient comme √ßa. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428632/">https://habr.com/ru/post/fr428632/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428620/index.html">Comment cr√©er Roguelike</a></li>
<li><a href="../fr428624/index.html">Jeffrey Richter, Pavel Yosifovich, Greg Young et tout-tout. Hardcore et architecture √† DotNext 2018 Moscou</a></li>
<li><a href="../fr428626/index.html">Comment rendre l'extension en PHP7 plus difficile que "bonjour, monde", et ne pas devenir aux yeux rouges. Partie 1</a></li>
<li><a href="../fr428628/index.html">Travailler avec des arbres de syntaxe JavaScript abstraits</a></li>
<li><a href="../fr428630/index.html">Non, le Bitcoin ne d√©truira pas notre climat d'ici 2033.</a></li>
<li><a href="../fr428634/index.html">Portage de Quake3</a></li>
<li><a href="../fr428636/index.html">Roskomnadzor va r√©cup√©rer une amende de Google</a></li>
<li><a href="../fr428638/index.html">Hearts Flame Motor: examen du moniteur cardiaque QardioCore</a></li>
<li><a href="../fr428640/index.html">Avec le combin√© dans votre poche: √©quipement Snom DECT pour r√©seaux t√©l√©phoniques sans fil</a></li>
<li><a href="../fr428644/index.html">Brainfuck de bas niveau</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>