<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõÄ üë®üèª‚Äçüíº üé¶ Tecnologias WDM: combine data centers em clusters √† prova de desastres üë©üèª‚Äçü§ù‚Äçüë®üèΩ üò∑ üíú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apesar da confiabilidade dos data centers modernos, √© necess√°rio outro n√≠vel cr√≠tico de redund√¢ncia para instala√ß√µes cr√≠ticas, porque toda a infraestr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tecnologias WDM: combine data centers em clusters √† prova de desastres</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/huawei/blog/428249/">  Apesar da confiabilidade dos data centers modernos, √© necess√°rio outro n√≠vel cr√≠tico de redund√¢ncia para instala√ß√µes cr√≠ticas, porque toda a infraestrutura de TI pode falhar devido a um desastre causado pelo homem ou natural.  Para garantir a toler√¢ncia a desastres, √© necess√°rio construir data centers de backup.  Sob o corte, nossa hist√≥ria sobre os problemas decorrentes de sua combina√ß√£o (DCI - Data Center Interconnection). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/937/746/a45/937746a45dffd4b89d499868cbbfa0c3.png"><br><a name="habracut"></a><br><br>  Os volumes de dados processados ‚Äã‚Äãpela humanidade cresceram para valores incr√≠veis, e o papel da infraestrutura de TI nos processos de neg√≥cios √© t√£o grande que mesmo falhas de curto prazo podem paralisar completamente a empresa.  As tecnologias digitais est√£o sendo introduzidas em todos os lugares e o setor financeiro, telecomunica√ß√µes ou, por exemplo, o grande varejo da Internet, depende especialmente delas.  A confiabilidade dos datacenters n√£o √© suficiente para um grande provedor de nuvem, banco ou grande operadora de telecomunica√ß√µes: as perdas resultantes de pequenos per√≠odos de inatividade podem ser calculadas em quantidades astron√¥micas e, para evit√°-las, √© necess√°ria uma infraestrutura resistente a desastres.  Voc√™ pode cri√°-lo apenas aumentando a redund√¢ncia - voc√™ precisa criar data centers de backup. <br><br><h2>  Separando alta disponibilidade da recupera√ß√£o de falhas </h2><br>  Os data centers ou equipamentos corporativos instalados nas instala√ß√µes alugadas podem ser combinados.  A toler√¢ncia a falhas das solu√ß√µes distribu√≠das geograficamente √© alcan√ßada por meio da arquitetura de software, e os propriet√°rios podem economizar em suas pr√≥prias instala√ß√µes: eles n√£o precisam construir um data center, por exemplo, um n√≠vel de N√≠vel III ou mesmo N√≠vel II.  Voc√™ pode abandonar os geradores a diesel, usar servidores de estrutura aberta, brincar com condi√ß√µes extremas de temperatura e fazer outros truques interessantes.  H√° menos graus de liberdade nas √°reas alugadas, aqui o provedor determina as regras do jogo, mas os princ√≠pios da unifica√ß√£o s√£o os mesmos.  Antes de falar sobre servi√ßos de TI resistentes a desastres, vale lembrar tr√™s abrevia√ß√µes m√°gicas: RTO, RPO e RCO.  Esses principais indicadores de desempenho determinam a capacidade da infraestrutura de TI de suportar interrup√ß√µes. <br><br>  RTO (objetivo do tempo de recupera√ß√£o) - tempo permitido para recuperar um sistema de TI ap√≥s um incidente; <br>  RPO (objetivo do ponto de recupera√ß√£o) - perda de dados aceit√°vel durante a recupera√ß√£o de desastres.  Geralmente √© medido como o per√≠odo m√°ximo durante o qual os dados podem ser perdidos; <br>  O RCO (objetivo de capacidade de recupera√ß√£o) faz parte da carga de TI que o sistema de backup pode suportar.  O √∫ltimo indicador pode ser medido em porcentagens, transa√ß√µes e outros "papagaios". <br><br>  √â importante distinguir entre as solu√ß√µes de Alta Disponibilidade (HA) e Disaster Recovery (DR).  A diferen√ßa entre eles pode ser visualizada na forma de um diagrama com RPO e RTO como eixos de coordenadas: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c5/bbb/4da/2c5bbb4daabfdc172b8ca889ef9059e5.png"></div><br>  Idealmente, n√£o perdemos dados e n√£o perdemos tempo recuperando de uma falha, e o site de backup garantir√° a funcionalidade completa dos servi√ßos, mesmo que o principal seja destru√≠do.  Zero RTO e RPO s√≥ podem ser alcan√ßados com a opera√ß√£o s√≠ncrona de data centers: na verdade, √© um cluster tolerante a falhas distribu√≠do geograficamente, com replica√ß√£o de dados em tempo real e outras alegrias.  No modo ass√≠ncrono, a integridade dos dados n√£o √© mais garantida: como a replica√ß√£o √© feita em intervalos regulares, algumas informa√ß√µes podem ser perdidas.  O tempo para mudar para o site de backup, neste caso, √© de alguns minutos a v√°rias horas, quando se trata do chamado  reserva de frio, quando a maioria dos equipamentos de backup est√° desligada e n√£o consome eletricidade. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1e/236/80d/f1e23680d51bbaae909b4079f7d369f3.jpg"></div><br><h2>  Detalhes t√©cnicos </h2><br>  As dificuldades t√©cnicas que surgem ao combinar dois ou mais data centers s√£o divididas em tr√™s categorias: atrasos na transmiss√£o de dados, largura de banda insuficiente dos canais de comunica√ß√£o e problemas de seguran√ßa da informa√ß√£o.  A comunica√ß√£o entre os datacenters geralmente √© fornecida por linhas de comunica√ß√£o de fibra √≥ptica pr√≥prias ou alugadas, portanto, falaremos sobre eles mais tarde.  Para DPCs operando no modo s√≠ncrono, o principal problema s√£o os atrasos.  Para garantir a replica√ß√£o dos dados em tempo real, eles n√£o devem exceder 20 milissegundos e, √†s vezes, 10 milissegundos - depende do tipo de aplicativo ou servi√ßo. <br><br>  Caso contr√°rio, por exemplo, a fam√≠lia de protocolos Fibre Channel n√£o funcionar√°, o que √© quase imposs√≠vel sem sistemas de armazenamento modernos.  L√°, quanto maior a velocidade, menor o atraso.  √â claro que existem protocolos que permitem trabalhar com redes de armazenamento via Ethernet, mas aqui depende muito dos aplicativos e equipamentos instalados usados ‚Äã‚Äãno data center.  A seguir, exemplos de requisitos de lat√™ncia para aplicativos Oracle e VMware comuns: <br><br>  Requisitos de atraso do Oracle Extended Distance Cluster: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/021/5e0/196/0215e0196a54fa72e31ab4b7937801af.png"><br>  <i>A partir dos dados oficiais da Oracle: Como saber se o IO do banco de dados est√° lento [ID 1275596.1]</i> <br><br>  Requisitos de atraso do VMware: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a6d/c7c/12e/a6dc7c12eec0f4dd3fb281bac0a9b8b9.png"><br>  <i>Estudo de caso do VMware vSphere Metro Storage Cluster (VMware vSphere 5.0)</i> <i><br></i> <br><br>  Ao transmitir dados, o atraso do sinal pode ser representado na forma de dois componentes: T <sub>total</sub> = T <sub>equip.</sub>  + T <sub>s</sub> onde T <sub>equ.</sub>  - o atraso causado pela passagem do sinal atrav√©s do equipamento e <sub>Ts</sub> - o atraso causado pela passagem do sinal atrav√©s da fibra √≥ptica.  O atraso causado pela passagem do sinal atrav√©s do equipamento (equipamento T) depende da arquitetura do equipamento e do m√©todo de encapsulamento de dados durante a convers√£o do sinal optoel√©trico.  Nos equipamentos DWDM, essa funcionalidade √© atribu√≠da aos m√≥dulos transponder ou muxponder.  Portanto, ao organizar a comunica√ß√£o entre dois data centers, eles s√£o especialmente cuidadosos ao escolher o tipo de transponder (muxponder), para que o atraso no transponder (muxponder) seja menor. <br><br>  No modo s√≠ncrono, a velocidade de propaga√ß√£o do sinal na fibra √≥ptica ( <sub>Ts</sub> ) desempenha um papel importante.  Sabe-se que a velocidade de propaga√ß√£o da luz em uma fibra √≥ptica padr√£o (por exemplo, G.652) depende do √≠ndice de refra√ß√£o de seu n√∫cleo e √© aproximadamente igual a 70% da velocidade da luz no v√°cuo (~ 300.000 km / s).  N√£o vamos nos aprofundar nos fundamentos f√≠sicos, mas √© f√°cil calcular que o atraso nesse caso √© de cerca de 5 microssegundos por quil√¥metro.  Portanto, dois data centers podem operar de forma s√≠ncrona a uma dist√¢ncia de apenas cerca de 100 quil√¥metros. <br><br>  No modo ass√≠ncrono, os requisitos de atraso n√£o s√£o t√£o rigorosos, mas se a dist√¢ncia entre os objetos for aumentada, a atenua√ß√£o do sinal √≥ptico na fibra come√ßar√° a afetar.  O sinal deve ser amplificado e regenerado, ou seja, voc√™ deve criar seu pr√≥prio sistema de transmiss√£o ou conceder canais de comunica√ß√£o de tronco.  Os volumes de tr√°fego que passam entre os dois data centers s√£o bastante grandes e tendem a crescer constantemente.  Os principais fatores de crescimento do tr√°fego entre os data centers: virtualiza√ß√£o, servi√ßos em nuvem, migra√ß√£o e conex√£o de novos servidores e sistemas de armazenamento.  Aqui voc√™ pode encontrar o problema de largura de banda insuficiente dos canais de transmiss√£o de dados.  Aument√°-lo para o infinito n√£o funcionar√° devido √† falta de suas pr√≥prias fibras livres ou ao alto custo do aluguel.  O √∫ltimo ponto importante est√° relacionado √† seguran√ßa da informa√ß√£o: os dados em execu√ß√£o entre os data centers devem ser criptografados, o que tamb√©m aumenta os atrasos.  Existem outros pontos, como a complexidade de administrar um sistema distribu√≠do, mas a influ√™ncia deles n√£o √© t√£o grande e todos os obst√°culos t√©cnicos est√£o relacionados principalmente √†s caracter√≠sticas dos canais de comunica√ß√£o e equipamentos terminais. <br><br><h2>  Dois ou tr√™s s√£o dificuldades econ√¥micas </h2><br>  Ambos os modos de combinar data centers t√™m desvantagens significativas.  Os objetos em opera√ß√£o s√≠ncrona devem estar localizados pr√≥ximos um do outro, o que n√£o garante a sobreviv√™ncia de pelo menos um deles no caso de um desastre em larga escala.  Sim, esta op√ß√£o √© protegida de maneira confi√°vel contra erros humanos, inc√™ndio, destrui√ß√£o da casa das m√°quinas como resultado de um acidente de avi√£o ou de outra emerg√™ncia local, mas est√° longe de ser fato que os dois data centers possam suportar, por exemplo, um terremoto catastr√≥fico.  No modo ass√≠ncrono, os objetos podem ser espa√ßados a milhares de quil√¥metros, mas garantir√° que os valores aceit√°veis ‚Äã‚Äãde RTO e RPO falhem.  Uma solu√ß√£o ideal seria um circuito com tr√™s centros de dados, dois dos quais funcionam de forma s√≠ncrona, e o terceiro est√° localizado o mais longe poss√≠vel deles e desempenha o papel de uma reserva ass√≠ncrona. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a83/1ca/3c2/a831ca3c234618eb52a30fc8dc190b35.jpg"><br><br>  O √∫nico problema com os tr√™s data centers √© seu custo extremamente alto.  A organiza√ß√£o de at√© um site de backup n√£o √© barata e poucos podem se dar ao luxo de manter dois data centers inativos.  Uma abordagem semelhante √†s vezes √© usada no setor financeiro se o custo da transa√ß√£o for muito alto: uma grande bolsa de valores pode lan√ßar um esquema com tr√™s pequenos datacenters, mas no setor banc√°rio eles preferem usar uma combina√ß√£o s√≠ncrona dos dois.  Outras ind√∫strias geralmente combinam dois data centers operando no modo s√≠ncrono ou ass√≠ncrono. <br><br><h2>  DWDM - Solu√ß√£o ideal para DCI </h2><br>  Se o cliente precisar combinar os dois data centers, ele inevitavelmente encontrar√° os problemas acima.  Para resolv√™-los, usamos a tecnologia de multiplexa√ß√£o espectral DWDM, que permite a multiplexa√ß√£o de v√°rios sinais portadores em uma fibra √≥ptica usando diferentes comprimentos de onda (Œª, isto √©, lambda).  Al√©m disso, em um par √≥ptico, pode haver at√© 80 (96) comprimentos de onda de acordo com a grade de frequ√™ncia ITU-T G.694.1.  A taxa de transfer√™ncia de dados de cada comprimento de onda √© de 100 Gbit / s, 200 Gbit / s ou 400 Gbit / s, e a capacidade de um par √≥ptico pode atingir 80 Œª * 400 Gbit / s = 32 Tbit / s.  J√° existem projetos prontos que fornecem 1 Tbit / s por comprimento de onda: eles fornecer√£o uma largura de banda ainda maior no futuro pr√≥ximo.  Hoje, ele resolve completamente o problema de largura de banda do canal: em vez de fibras adicionais, o cliente usar√° as dispon√≠veis com mais efici√™ncia - a utiliza√ß√£o do tr√°fego alcan√ßar√° valores fant√°sticos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ec8/518/9f9/ec85189f99bcf33fd6ace02068999328.png"><br><br>  A multiplexa√ß√£o espectral permite resolver problemas de largura de banda e, para data centers que operam no modo s√≠ncrono, isso √© suficiente, porque os atrasos na transmiss√£o de dados entre eles s√£o pequenos devido √† pequena dist√¢ncia e dependem mais do tipo de transponder (ou muxponder) usado no sistema DWDM.  Vale ressaltar uma das principais caracter√≠sticas da tecnologia de compress√£o espectral DWDM: transfer√™ncia de tr√°fego completamente transparente, devido ao fato de que a tecnologia funciona no primeiro n√≠vel f√≠sico do modelo OSI de sete n√≠veis.  Se assim posso dizer, o sistema DWDM √© "transparente" para as conex√µes do cliente, como se estivessem conectados por um cabo de conex√£o direto.  Se falamos sobre o modo ass√≠ncrono, a principal quantidade de atraso depende da dist√¢ncia entre os data centers (lembramos que no OB h√° um atraso de 5 microssegundos por quil√¥metro), mas n√£o h√° requisitos estritos para atrasos.  Portanto, o alcance da transmiss√£o √© determinado pelas capacidades do sistema DWDM e √© limitado por tr√™s fatores: atenua√ß√£o do sinal, raz√£o sinal-ru√≠do e dispers√£o de luz no modo de polariza√ß√£o. <br><br>  Ao calcular a parte √≥ptica da linha DWDM, todos esses fatores s√£o levados em considera√ß√£o e, com base nos c√°lculos, s√£o selecionados os tipos de transponders (ou muxponders), o n√∫mero e o tipo de amplificadores necess√°rios, al√©m de outros componentes do caminho √≥ptico.  Com o desenvolvimento de sistemas DWDM e o surgimento de transponders em sua composi√ß√£o que suportam recep√ß√£o coerente a velocidades de 40 Gbit / se 100 Gbit / s e superiores, a dispers√£o da luz no modo de polariza√ß√£o como fator limitador deixou de ser levada em considera√ß√£o.  A quest√£o de calcular a linha √≥ptica e escolher o tipo de amplificador √© um t√≥pico separado e amplo que requer que o leitor conhe√ßa o b√°sico da √≥ptica f√≠sica, e n√£o a discutiremos em detalhes neste artigo. <br><br>  A tecnologia WDM pode resolver problemas de seguran√ßa da informa√ß√£o.  Obviamente, a criptografia n√£o precisa ser realizada no n√≠vel √≥ptico, mas essa abordagem tem v√°rias vantagens ineg√°veis.  A criptografia em n√≠veis mais altos geralmente requer dispositivos aut√¥nomos para diferentes fluxos de tr√°fego e contribui para atrasos significativos.  Com o aumento do n√∫mero desses dispositivos, os atrasos tamb√©m aumentam e a complexidade do gerenciamento de rede tamb√©m aumenta.  A criptografia √≥ptica OTN (G.709 - recomenda√ß√£o ITU-T que descreve o formato do quadro nos sistemas DWDM) n√£o depende do tipo de servi√ßo, n√£o requer dispositivos separados e √© muito r√°pida - a diferen√ßa entre o fluxo de dados criptografado e n√£o criptografado geralmente n√£o excede 10 milissegundos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2c8/e93/8ec/2c8e938eced56099c92e94049f3864b5.png"><br><br>  Sem o uso da tecnologia de multiplexa√ß√£o espectral DWDM, √© quase imposs√≠vel combinar grandes data centers e criar um cluster distribu√≠do √† prova de desastres.  Os volumes de informa√ß√µes transmitidas pela rede est√£o crescendo exponencialmente e, mais cedo ou mais tarde, as possibilidades das linhas de comunica√ß√£o de fibra √≥ptica existentes ser√£o esgotadas.  Colocar ou alugar outros itens custar√° ao cliente muito mais do que comprar equipamentos; na verdade, hoje, a veda√ß√£o √© a √∫nica op√ß√£o economicamente vi√°vel.  A curtas dist√¢ncias, as tecnologias DWDM tornam poss√≠vel o uso mais eficiente das fibras √≥pticas existentes, aumentando a utiliza√ß√£o do tr√°fego para o c√©u e, a longas dist√¢ncias, elas tamb√©m minimizam os atrasos na transmiss√£o de dados.  Hoje √© talvez a melhor tecnologia dispon√≠vel no mercado e vale a pena dar uma olhada mais de perto. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428249/">https://habr.com/ru/post/pt428249/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428233/index.html">Cinco raz√µes para amar as partes regionais de TI</a></li>
<li><a href="../pt428235/index.html">Por que eles me ligaram da NSA no meio da noite e pediram a fonte</a></li>
<li><a href="../pt428237/index.html">Scrum-mitap com jogo de tabuleiro: convide para o Scrum Values ‚Äã‚ÄãGame</a></li>
<li><a href="../pt428239/index.html">Drives flash √† beira de 2019 - uma rel√≠quia do passado ou ainda uma necessidade?</a></li>
<li><a href="../pt428243/index.html">GeekBrains vai ensinar linguagem de programa√ß√£o C ++</a></li>
<li><a href="../pt428251/index.html">Vulnerabilidade est√∫pida no aplicativo "My Beeline"</a></li>
<li><a href="../pt428253/index.html">Idiomas incorporados: Por que Lua?</a></li>
<li><a href="../pt428255/index.html">Transfer√™ncia de aprendizado: como treinar rapidamente uma rede neural em seus dados</a></li>
<li><a href="../pt428257/index.html">Pesquisa: 95% dos aplicativos infantis t√™m an√∫ncios</a></li>
<li><a href="../pt428259/index.html">O livro ‚ÄúPor que estamos errados? Armadilhas para o pensamento em a√ß√£o. ‚Äù Trechos - Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>