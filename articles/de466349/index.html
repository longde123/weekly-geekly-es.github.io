<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêÜ üë©üèø‚Äç‚öñÔ∏è üåè So f√ºhren Sie A / B-Tests in 15.000 Offline-Stores durch üê¶ ‚õπÔ∏è üë©üèª‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! Verbundenes Big-Data-Ad-hoc-Analyseteam der X5 Retail Group. 

 In diesem Artikel werden wir √ºber unsere A / B-Testmethode und die Herausforder...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So f√ºhren Sie A / B-Tests in 15.000 Offline-Stores durch</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/466349/">  Hallo!  Verbundenes Big-Data-Ad-hoc-Analyseteam der X5 Retail Group. <br><br>  In diesem Artikel werden wir √ºber unsere A / B-Testmethode und die Herausforderungen sprechen, denen wir t√§glich gegen√ºberstehen. <br><br>  Big Data X5 besch√§ftigt etwa 200 Mitarbeiter, darunter 70 Mitarbeiter und Wissenschaftler.  Unser Hauptteil befasst sich mit bestimmten Produkten - Nachfrage, Sortiment, Werbekampagnen usw.  Dar√ºber hinaus gibt es unser separates Ad-hoc-Analyseteam. <br><br><img src="https://habrastorage.org/webt/fc/ab/by/fcabbyvlt69yxmfimt4iidjbsze.png"><br><a name="habracut"></a><br>  Wir sind: <br><br><ul><li>  Wir unterst√ºtzen Gesch√§ftsbereiche bei Datenanalyseanfragen, die nicht in vorhandene Produkte passen. </li><li>  Wir helfen Produktteams, wenn sie zus√§tzliche H√§nde ben√∂tigen. </li><li>  Wir besch√§ftigen uns mit A / B-Tests - und dies ist die Hauptfunktion des Teams. </li></ul><br>  Die Situation, in der wir arbeiten, unterscheidet sich stark von typischen A / B-Tests.  In der Regel wird die Technik mit Online- und Online-Metriken verkn√ºpft: Auswirkungen von √Ñnderungen auf Conversion, Aufbewahrung, Klickrate usw.  Die meisten Experimente beziehen sich auf √Ñnderungen an der Benutzeroberfl√§che: Neuanordnen des Banners, Neulackieren der Schaltfl√§che, Ersetzen des Texts usw. <br><br>  Das X5-Gesch√§ft ist anders - es handelt sich um 15.000 Live-Offline-Gesch√§fte in verschiedenen Formaten, die im ganzen Land verteilt sind.  Diese Funktion unterliegt bestimmten Einschr√§nkungen.  Erstens variiert der Satz von Metriken, die getestet werden k√∂nnen, stark, und zweitens wird die Beschr√§nkung f√ºr Experimente auferlegt.  Die Aufgabe, das Design einer Storefront eines Online-Shops zu √§ndern, ist in Bezug auf die Arbeit nicht mit der Aufgabe vergleichbar, die Reihenfolge der Abteilungen in Offline-Stores zu √§ndern. <br><br>  Das Unternehmen verf√ºgt √ºber ein Team, das an einem Treueprogramm beteiligt ist, und seine Piloten sind der klassischen Idee des A / B-Testens am n√§chsten.  Die Fragen, die uns gestellt werden, sind f√ºr ‚Äûnormale‚Äú A / B-Tests sehr untypisch.  Zum Beispiel: <br><br><ul><li>  Wie wird sich die finanzielle Leistung des Gesch√§fts √§ndern, wenn ich die Reihenfolge der Abteilungen Wurst und Kuchen √§ndere? </li><li>  Wie wird sich das Modell der Kundenabwanderung auf das Finanzergebnis auswirken? </li><li>  Wie wirkt sich das Festlegen von Postamaten auf die Leistung des Gesch√§fts aus? </li></ul><br>  Kunden glauben, dass sich eine bestimmte √Ñnderung positiv auf einen der Indikatoren auswirkt (wir werden sp√§ter dar√ºber sprechen).  Unsere Aufgabe ist es, ihnen zu helfen, ihre Hypothesen anhand von Daten zu validieren. <br><br><h3>  Metriken </h3><br>  Welche Indikatoren testen wir?  <b>RTO</b> , <b>durchschnittlicher Check</b> und <b>Verkehr</b> sind die am h√§ufigsten verwendeten W√∂rter in unserem Open Space-Fl√ºgel. <br><br><ul><li>  <b>RTO</b> (Einzelhandelsumsatz) - der Geldbetrag, den das Gesch√§ft verdient. </li></ul><br>  Eine der wichtigsten Kennzahlen f√ºr Unternehmen und die am schwierigsten zu testenden. <br><br>  Der t√§gliche Umsatz des Gesch√§fts wird in Millionen Rubel gemessen.  Dementsprechend wird die Ausbreitung des Indikators in mindestens Tausenden von Rubel gemessen.  Die komplexe und lange Formel zur Bestimmung der Stichprobengr√∂√üe besagt, dass je gr√∂√üer die Varianz ist, desto mehr Daten f√ºr aussagekr√§ftige Schlussfolgerungen ben√∂tigt werden.  Um den Effekt selbst im zehnten Prozent bei einer so gro√üen Streuung der Zapfwelle zu erfassen, m√ºssen Piloten in Gesch√§ften sechs Monate verbringen. <br><br>  Stellen Sie sich die Reaktion des Vorstands vor, wenn der Pilot bei einem Treffen mit ihm sagt, dass er sechs Monate oder sogar ein Jahr in allen Gesch√§ften verbringen muss?  =) <br><br>  Wir haben zwei Standardans√§tze. <br><br>  Der erste Ansatz: Wir betrachten nicht die RTO des gesamten Gesch√§fts, sondern eine Art Produktkategorie.  Beispielsweise wird aufgrund der Neuordnung von zwei Abschnitten im Gesch√§ft (‚ÄûKuchen‚Äú und ‚ÄûW√ºrste‚Äú) eine Erh√∂hung der Zapfwelle in beiden Kategorien erwartet.  Die RTO einer Kategorie ist viel kleiner als die RTO des gesamten Gesch√§fts, daher ist die Streuung geringer.  In diesem Fall hoffen wir, dass der Pilot in diesen Kategorien von den √ºbrigen Kategorien isoliert ist. <br><br>  Zweiter Ansatz: Wir probieren die Zeit.  Die Beobachtungseinheit ist nicht die Zapfwelle des Gesch√§fts f√ºr den gesamten Piloten, sondern die Zapfwelle pro Woche oder Tag.  Somit erh√∂hen wir die Anzahl der Beobachtungen, w√§hrend die Varianz der Rohdaten beibehalten wird. <br><br><img src="https://habrastorage.org/webt/kw/b_/w1/kwb_w1jmlkx4rynvidf5cfqvkny.jpeg"><br><br><ul><li>  <b>Durchschnittlicher Scheck</b> oder <b>RTO / Anzahl der Schecks</b> - der durchschnittliche Geldbetrag in einem Scheck. </li></ul><br>  Ein Teil der √Ñnderungen zielt darauf ab, die Leute dazu zu bringen, mehr zu kaufen. Daher testen wir die RTO / Anzahl der Schecks oder den durchschnittlichen Scheck, wenn wir Analogien zu den √ºblichen Metriken ziehen. <br><br>  Die Schwierigkeit beim Testen dieser Metrik h√§ngt mit den Besonderheiten des Einzelhandels zusammen.  Mit dem Pilotstart der Aktion ‚Äû3 zum Preis von 2‚Äú w√ºrde beispielsweise eine Person, die ein Produkt kaufen wollte, drei kaufen, und der Scheckbetrag erh√∂ht sich.  Aber was ist, wenn er sp√§ter weniger wahrscheinlich in den Laden geht und der Pilot tats√§chlich nicht so erfolgreich ist? <br><br><ul><li>  <b>Verkehr</b> - Die Anzahl der Schecks im Gesch√§ft f√ºr einen bestimmten Zeitraum. </li></ul><br>  Um falsche Schlussfolgerungen beim Testen von Hypothesen zu vermeiden, die sich auf die durchschnittliche √úberpr√ºfung auswirken, betrachten wir gleichzeitig Verkehrs√§nderungen.  Wir k√∂nnen nicht direkt verfolgen, wie viele Leute in den Laden gekommen sind  Nicht alle Besucher sind Kunden des Treueprogramms. Daher ist jeder Scheck f√ºr A / B-Tests ein ‚Äûeinzigartiger Besuch‚Äú f√ºr den Kunden.  In Analogie zur Zapfwelle betrachten wir den Verkehr in verschiedenen Zeitintervallen: Verkehr pro Tag, Verkehr pro Stunde. <br><br>  Das Verh√§ltnis zwischen durchschnittlicher Kontrolle und Verkehr ist sehr wichtig: K√∂nnte der Pilot die durchschnittliche Kontrolle erh√∂hen, aber den Verkehr verringern und letztendlich nicht zu einer Erh√∂hung der Zapfwelle f√ºhren, sondern zu deren Verringerung?  K√∂nnte der Pilot dazu beitragen, den Verkehr zu erh√∂hen, ohne die durchschnittliche Rechnung zu √§ndern? <br><br><ul><li>  <b>Margin</b> - die Differenz zwischen dem Preis eines Produkts und seinen Kosten </li></ul><br>  Es gibt Piloten, in deren Rahmen wir die Warenpreise √§ndern - f√ºr einige ist der Preis gestiegen, f√ºr andere im Gegenteil.  Da wir die Produktionskosten nicht beeinflussen, √§ndern wir durch Preis√§nderungen die Warenmarge.  Ein solcher Pilot kann zu erh√∂htem Verkehr und zu einer Erh√∂hung der durchschnittlichen Kontrolle f√ºhren.  Aber bedeutet dies, dass der Pilot erfolgreich ist und es wert ist, die Preise in allen Filialen des Netzwerks zu √§ndern?  Nein, es k√∂nnte sehr gut passieren, dass Menschen h√§ufiger Waren mit einer negativen oder kleinen Marge kauften und Waren mit einer hohen Marge aufgaben.  Auf eine Erh√∂hung der RTO folgt daher nicht immer eine Erh√∂hung der Gesamtmarge. Daher lohnt es sich, diese Indikatoren separat zu testen. <br><br>  Nehmen wir an, wir haben uns f√ºr die Zielmetriken entschieden.  Folgende Fragen: <br><br><ul><li>  Welchen Gr√∂√üeneffekt plant der Kunde zu erhalten? </li><li>  Welcher Effekt kann im Experiment tats√§chlich festgestellt werden? </li><li>  Wie lange dauert das Experiment? </li><li>  Welche Gruppen? </li></ul><br><h3>  Versuchszusammenfassung </h3><br>  A / B-Tests, die an Online-Benutzern durchgef√ºhrt wurden, haben einen erheblichen Vorteil - sie verf√ºgen √ºber eine hohe Generalisierungsf√§higkeit.  Mit anderen Worten, die w√§hrend des Experiments erhaltenen Schlussfolgerungen k√∂nnen auf alle Benutzer skaliert werden.  Die Verallgemeinerungsf√§higkeit wird durch die Einstellung des Experiments garantiert: Die Kontroll- und Testgruppen werden zuf√§llig gebildet, fast genau beide Gruppen aus derselben Verteilung, Sie k√∂nnen in beiden Gruppen viel Verkehr fangen - es w√ºrde ein Budget geben. <br><br>  Im Offline-Einzelhandel funktioniert keine dieser Einstellungen.  Erstens ist die Anzahl der Gesch√§fte begrenzt.  Zweitens unterscheiden sich die Gesch√§fte stark voneinander.  Das Perekrestok-Gesch√§ft in der Wohngegend und das Perekrestok-Gesch√§ft in der N√§he des Gesch√§ftszentrums sind in der Tat sehr unterschiedliche Objekte aus verschiedenen Distributionen. <br><br><img src="https://habrastorage.org/webt/-8/o_/so/-8o_sonaxffqinwcofkoegbxw58.jpeg"><br><br>  In der Grafik sehen wir, dass sich die Gesch√§fte aus der Testgruppe von den Gesch√§ften des gesamten Netzwerks unterscheiden.  Dies ist eine ziemlich typische Situation: In Pyaterochka befinden sich Filialisten nicht nur in St√§dten, sondern auch in kleinen Siedlungen.  Gro√üe Piloten werden meist in St√§dten gehalten.  Unabh√§ngig davon, welchen Effekt wir erzielen, ist es falsch, ihn √ºber das gesamte Netzwerk zu skalieren. <br><br>  Die Gesamtwirkung <b>–Ñ des</b> Piloten bewerten wir anhand der Formel: <br><br><img src="https://habrastorage.org/webt/0p/t7/-w/0pt7-w_eyalkcs_fafhwwgqzjx0.png"><br><br>  a ist der Schnittpunkt der Verteilungen der Pilotgruppe und aller Filialen im Netzwerk. <br><br>  Beachten Sie, dass dies keine Folge statistischer Gesetze ist, sondern unsere Annahme, wie logisch es ist, den kumulativen Effekt zu ber√ºcksichtigen. <br><br>  Die ideale Option besteht darin, eine repr√§sentative Stichprobe f√ºr die Testgruppe zu rekrutieren, dh die Gesch√§fte, die wirklich den gesamten Status des Netzwerks widerspiegeln.  Repr√§sentativit√§t f√ºhrt jedoch zu Stichprobenheterogenit√§t, weil  Gesch√§fte mit niedriger oder hoher Zapfwelle werden beprobt. <br><br><h3>  Gruppengr√∂√üe, Pilotdauer und minimaler nachweisbarer Effekt </h3><br>  Und jetzt zum Wichtigsten - der Gr√∂√üe des Effekts und der Dauer des Piloten.  In der Regel stehen wir vor einer von drei Situationen: <br><br><ol><li>  Der Kunde hat ein Zeitlimit f√ºr den Piloten und die Anzahl der Gesch√§fte, mit denen Sie arbeiten k√∂nnen. </li><li>  Der Kunde wei√ü, welche Effektgr√∂√üe er erwartet, und fragt nach der Anzahl der Gesch√§fte, die der Pilot ben√∂tigt (und dann nach den Gesch√§ften selbst). </li><li>  Der Kunde ist offen f√ºr unsere Angebote. </li></ol><br>  Es kann nicht gesagt werden, dass eines der Szenarien einfacher ist, da wir auf jeden Fall eine Tabelle des Effektfehlers erstellen. <br><br><img src="https://habrastorage.org/webt/tl/rb/dc/tlrbdcloe-j79-o-2rygs4aqira.png"><br><br>  Wichtig f√ºr sie: <br><br><ol><li>  ein Fehler der ersten Art - die Wahrscheinlichkeit, den Effekt zu sehen, wenn er nicht da ist; </li><li>  ein Fehler der zweiten Art - die Wahrscheinlichkeit, den Effekt zu √ºberspringen, wenn er ist; </li><li>  die Gr√∂√üe des Effekts, der bei einem erfolgreichen Piloten erwartet wird. </li></ol><br>  Durch die Kombination dieser drei Parameter k√∂nnen Sie die erforderliche Dauer des Piloten berechnen.  Der Wert in der Tabelle ist die Stichprobengr√∂√üe - in diesem Fall die Anzahl der Belege oder die durchschnittliche Metrik im Gesch√§ft pro Tag, die f√ºr die Durchf√ºhrung des Pilotprojekts erforderlich sind.  Wenn wir √ºber die reale Welt sprechen, betr√§gt die Wahrscheinlichkeit von Fehlern der ersten und zweiten Art normalerweise 5 bis 10 Prozent.  Wie aus der Tabelle hervorgeht, ben√∂tigen wir bei solchen festen Fehlern 421 Pyaterochka-Tage, um den Effekt von einem Prozent zu erfassen.  Es scheint, dass die Zahl ziemlich gut ist - schlie√ülich ist 421 Pyaterochka-Tag ein Pilot in 40 Gesch√§ften f√ºr 10 Tage.  Es gibt jedoch ein ‚ÄûAber‚Äú - es gibt nur sehr wenige Piloten, die wirklich einen Ein-Prozent-Effekt erwarten.  Normalerweise sprechen wir √ºber Zehntel Prozent.  Angesichts der Tatsache, dass RTO in Milliarden gemessen wird, kann ein Zehntel Prozent der Wirkung eines erfolgreichen Piloten zu einer starken Umsatzsteigerung f√ºhren.  Aus diesem Grund m√∂chte ich auch den kleinsten Effekt messen.  Aber je kleiner die Effektgr√∂√üe ist, desto h√∂her ist der Fehler der zweiten Art.  Dies ist verst√§ndlich: Der kleine Effekt √§hnelt dem zuf√§lligen Rauschen und wird selten als echte Abweichung von der Norm angesehen.  Dies ist in der folgenden Grafik deutlich zu sehen, in der wir einen kleinen Effekt in Daten mit gro√üer Varianz erfassen m√∂chten. <br><br><img src="https://habrastorage.org/webt/vr/na/lw/vrnalwenskdfrb2xpenvbhgq23o.jpeg"><br><br><h3>  A / A-Tests </h3><br>  Bevor der Pilot startet, m√ºssen Sie sich f√ºr die Test- und Kontrollgruppe entscheiden.  Der Kunde kann eine Pilotgruppe haben oder nicht.  Wir sind bereit, ihm in beiden F√§llen zu helfen, indem wir Einschr√§nkungen beantragen - zum Beispiel sollten Gesch√§fte ausschlie√ülich aus drei bestimmten Regionen bestehen. <br><br>  Angenommen, wir haben in irgendeiner Weise eine Test- und Kontrollgruppe ausgew√§hlt.  Wie k√∂nnen Sie sicher sein, dass die ausgew√§hlten Gruppen gut sind und Sie wirklich A / B-Tests an ihnen durchf√ºhren k√∂nnen?  Es scheint, dass alles harmonisch klingt: Wir haben die erforderliche Anzahl von Beobachtungen erzielt, gem√§√ü der Formel, mit der wir den Effekt von 0,7% erfassen k√∂nnen, haben wir √§hnliche Gesch√§fte gefunden.  Was passt jetzt nicht zu uns? <br><br>  Leider viele ernste Fakten: <br><br><ul><li>  Elemente der Stichprobe stammen nicht aus derselben Verteilung - unsere Stichprobe ist eine Mischung aus Beobachtungen aus verschiedenen Gesch√§ften, und jedes Gesch√§ft hat seine eigene Verteilung. </li><li>  Die Elemente der Stichprobe sind nicht unabh√§ngig. In der Stichprobe gibt es viele Beobachtungen aus einem Gesch√§ft, und es besteht eine Verbindung zwischen ihnen. </li><li>  Die Gleichheit der Mittel ist in Abwesenheit eines Piloten nicht garantiert - d. h.  Wir sind uns √ºberhaupt nicht sicher, ob sich die Statistiken des Gesch√§fts nicht unterscheiden w√ºrden, wenn es keinen Piloten g√§be. </li></ul><br>  All diese Probleme werden bei der Berechnung der Formel zur Auswahl der Anzahl der Beobachtungen in Abh√§ngigkeit von Fehlern und Auswirkungen nicht ber√ºcksichtigt.  Um das Ausma√ü der Auswirkungen der oben genannten Probleme zu verstehen, f√ºhren wir A / A-Tests durch.  Tats√§chlich ist dies eine Simulation des gesamten Piloten in Gesch√§ften zu einem Zeitpunkt, an dem sich kein Pilot in Gesch√§ften befindet.  Dieser Zeitraum wird als Vorpilot bezeichnet. <br><img src="https://habrastorage.org/webt/rf/zd/vz/rfzdvzpvmqlff2x6ed2bzeqtuxy.png"><br>  W√§hrend der Vorpilotperiode wiederholen wir drei Schritte viele Male: <br><br><ol><li>  Auswahl √§hnlicher Gruppen; </li><li>  Gleichheitspr√ºfung in zwei Gruppen; </li><li>  Hinzuf√ºgen von Effekten zur Testgruppe und Testen der Mittel auf Gleichheit. </li></ol><br><img src="https://habrastorage.org/webt/ri/ti/eg/ritieghfygj6kgxfyedloba-irk.png"><br><br><h3>  Zu √§hnlichen Gruppen passen </h3><br>  Wir erfinden kein Fahrrad, deshalb suchen wir nach √§hnlichen Gruppen mit der guten alten Methode der n√§chsten Nachbarn.  Die Strategie, Features f√ºr das Gesch√§ft zu generieren, ist eine separate Kunst.  Wir haben drei Arbeitsmethoden gefunden: <br><br><ul><li>  Jedes Gesch√§ft wird durch einen Merkmalsvektor gem√§√ü der von uns getesteten Metrik beschrieben.  Wenn wir beispielsweise den durchschnittlichen Scheck untersuchen, beschreiben wir die t√§glichen durchschnittlichen Schecks f√ºr 8 Wochen - wir erhalten 56 Schilder f√ºr das Gesch√§ft.  Dann nehmen wir den euklidischen Abstand zwischen den Zeichen eines Paares von Gesch√§ften. </li></ul><br><img src="https://habrastorage.org/webt/ra/nq/sy/ranqsy12gvkgu2tgk1lsocvbwcu.jpeg"><br><br><ul><li>  Finden Sie Gesch√§fte mit √§hnlicher Dynamik.  Speicher k√∂nnen sich in absoluten Werten von Metriken unterscheiden, stimmen jedoch in Trends √ºberein - und bei bestimmten mathematischen Manipulationen k√∂nnen diese Speicher als gleich angesehen werden. </li></ul><br><img src="https://habrastorage.org/webt/gw/pz/99/gwpz99ikylr7lyv7nyteclwdk8y.jpeg"><br><br><ul><li>  Prognostizieren Sie die Leistung des Gesch√§fts √ºber den Zeitraum des Piloten (in der Zukunft) und w√§hlen Sie √§hnliche basierend darauf aus - aber hier brauchen wir ein Orakel, das die Leistung f√ºr den Piloten ziemlich genau vorhersagen kann. </li></ul><br>  Wir halten an einer sehr einfachen Hypothese fest: Wenn die Gesch√§fte vor dem Piloten √§hnlich gewesen w√§ren, w√§ren sie √§hnlich geblieben, wenn es keinen Pilotenwechsel gegeben h√§tte. <br><br>  Sie k√∂nnen feststellen, dass selbst bei diesen drei Arbeitsmethoden viele Aspekte variiert werden k√∂nnen: die Anzahl der Tage / Wochen, anhand derer ein Merkmal ber√ºcksichtigt wird, eine Methode zur Bewertung der Dynamik eines Indikators usw. <br><br>  Es gibt keine universelle Pille. In jedem Experiment gehen wir je nach Ziel verschiedene Optionen durch.  Aber es ist sehr einfach: Finden Sie eine Methode zur Auswahl der n√§chsten Nachbarn, die vern√ºnftige Fehler der ersten und zweiten Art ergibt.  Woher sie kommen, erz√§hlen wir weiter. <br><br><h3>  Pr√ºfung auf Gleichheit der Mittel oder auf einen Fehler der ersten Art von Methode </h3><br>  Denken Sie daran, dass wir an dieser Stelle: <br><br><ol><li>  bestimmt mit dem Kunden die Gr√∂√üe des Effekts und die Dauer des Piloten </li><li>  erkl√§rte das Wesen von Fehlern der ersten und zweiten Art </li><li>  baute eine Methode zur Auswahl √§hnlicher Gruppen </li></ol><br>  Ziel dieser Phase ist es sicherzustellen, dass die in Abschnitt 3 ausgew√§hlte Methode solche Gruppen findet, dass sich der Indikator (RTO, durchschnittlicher Check, Verkehr) in diesen Filialen statistisch nicht unterscheidet, bevor der Pilot startet. <br><br>  Im Zyklus w√§hlen wir die ausgew√§hlten Gruppen wiederholt durch einen statistischen Test und einen Bootstrap aus, um die Gleichheit zu gew√§hrleisten.  Wenn der Fehleranteil (d. H. Die Gruppen sind nicht gleich) h√∂her als der Schwellenwert ist, wird das Verfahren zur√ºckgewiesen und ein neues ausgew√§hlt.  Also bis wir die gew√ºnschte Fehlerschwelle erreichen. <br><br><img src="https://habrastorage.org/webt/-r/wn/sg/-rwnsgtq1jyngzxrsdm446piem0.png"><br><br>  Es ist wichtig herauszufinden, wie oft wir den Effekt bemerken, wenn er nicht vorhanden ist, d. H.  ob unsere Auswahlmethode auf zuf√§llige Unterschiede zwischen Gesch√§ften reagiert oder nicht. <br><br><h3>  Hinzuf√ºgen eines Effekts oder eines Fehlers der zweiten Art von Methode </h3><br>  Eine vern√ºnftige Frage, aber bilden wir uns nicht so um, dass wir auch die tats√§chlichen Auswirkungen als L√§rm wahrnehmen und ignorieren?  Mit anderen Worten, k√∂nnen wir einen Effekt erkennen, wenn er vorliegt? <br><br>  Nachdem wir im letzten Schritt sichergestellt haben, dass die Gruppen zusammenfallen, f√ºgen wir einer der Gruppen einen k√ºnstlichen Effekt hinzu, d. H.  Wir garantieren, dass der Pilot erfolgreich ist und die Wirkung sein sollte. <br><br>  Dieses Mal besteht das Ziel darin herauszufinden, wie oft die Gleichheitshypothese verworfen wird, d.h.  Der Test konnte zwischen zwei Gruppen unterscheiden.  Der Fehler in diesem Fall ist anzunehmen, dass die Gruppen gleich sind.  Wir nennen diesen Fehler einen Fehler der zweiten Art. <br><br>  Wieder im Zyklus testen wir die Kontrollgruppe und die "laute" Testgruppe auf Gleichheit.  Wenn wir selten genug Fehler machen, glauben wir, dass die Methode zur Auswahl von Gruppen die Validierung bestanden hat.  Es kann verwendet werden, um Gruppen in der Pilotperiode auszuw√§hlen und sicherzustellen, dass wir den Effekt erkennen k√∂nnen, wenn der Pilot einen Effekt erzielt. <br><br><img src="https://habrastorage.org/webt/bw/gh/vw/bwghvwsqzs2uaxq81gf06e1z2zo.png"><br><br><h3>  √úber Heterogenit√§t </h3><br>  Wir haben bereits erw√§hnt, dass Datenheterogenit√§t einer der schlimmsten Feinde ist, gegen die wir k√§mpfen.  Inhomogenit√§ten entstehen durch verschiedene Ursachen: <br><br><ul><li>  Einkaufsheterogenit√§t - jedes Gesch√§ft hat seinen eigenen Durchschnittswert (in Moskauer RTO-Gesch√§ften ist der Verkehr viel gr√∂√üer als in Dorfgesch√§ften). </li><li>  Heterogenit√§t nach Wochentag - unterschiedliche Verkehrsverteilung und unterschiedliche durchschnittliche Kontrolle an verschiedenen Wochentagen: Der Verkehr am Dienstag sieht nicht wie der Verkehr am Freitag aus </li><li>  Heterogenit√§t im Wetter - Menschen gehen bei unterschiedlichen Wetterbedingungen unterschiedlich einkaufen </li><li>  Heterogenit√§t in der Jahreszeit - der Verkehr in den Wintermonaten unterscheidet sich vom Verkehr im Sommer - dies muss ber√ºcksichtigt werden, wenn der Pilot mehrere Wochen dauert. </li></ul><br>  Inhomogenit√§t erh√∂ht die Varianz, die, wie oben erw√§hnt, bei der Bewertung von Zapfwellenlagern bereits eine enorme Bedeutung hat.  Die Gr√∂√üe des erfassten Effekts h√§ngt direkt von der Varianz ab.  Wenn Sie beispielsweise die Dispersion um den Faktor vier reduzieren, k√∂nnen Sie einen halben Effekt feststellen. <br><br>  Im einfachsten Fall k√§mpfen wir mit der Heterogenit√§t der Linearisierung. <br>  Angenommen, wir hatten drei Tage lang einen Piloten in zwei Filialen (ja, dies widerspricht allen vorgeschriebenen Formeln √ºber die Gr√∂√üe des Effekts, aber dies ist ein Beispiel).  Die durchschnittlichen <b>RTOs</b> in Gesch√§ften betragen <b>200.000</b> bzw. <b>500.000</b> , w√§hrend die Varianz in beiden Gruppen 10.000 und nach allen Beobachtungen 35.000 betr√§gt <br>  Nach dem Piloten liegen die Durchschnittswerte in den Gruppen 300 und 600, die Abweichungen bei 10.000 bzw. 22.500 und die gesamte Gruppe bei 40.000. <br><br><img src="https://habrastorage.org/webt/om/yn/pb/omynpbpgftr7lsoa7bl6rubjos0.png"><br><br>  Ein einfacher und eleganter Schritt besteht darin, die Daten zu linearisieren, d.h.  subtrahieren Sie von jedem Periodenwert den Durchschnitt f√ºr den vorherigen. <br><br><img src="https://habrastorage.org/webt/3t/xf/9t/3txf9tustucss6vaj6ydnkxnct8.png"><br><br>  Am Ausgang die Probe: 100, 0, 200, -50, 100, 250. Die Dispersion in der Pilotperiode wurde um das Dreifache auf 13000 reduziert. <br><br>  Dies bedeutet, dass wir einen viel subtileren Effekt sehen k√∂nnen als bei den urspr√ºnglichen absoluten Werten. <br><br>  Dies ist nicht der einzige Weg, um mit Heterogenit√§t umzugehen.  Wir werden im n√§chsten Artikel √ºber andere sprechen. <br><br><h3>  Allgemeiner Ansatz f√ºr A / B-Tests </h3><br>  Die Vorbereitung f√ºr gro√üe Piloten und deren Bewertung durchlaufen unser Team und werden gr√ºndlich getestet. <br><br>  Unser Protokoll: <br><br><ol><li>  vom Kunden Informationen √ºber die Metrik und den erwarteten Effekt erhalten; </li><li>  Bestimmen Sie die Gr√∂√üe der Gruppen und die Dauer des Piloten. </li><li>  Entwicklung eines Algorithmus zur Verteilung von Gesch√§ften nach Gruppen; </li><li>  F√ºhren Sie einen A / A-Test zwischen Gruppen durch und validieren Sie diesen Algorithmus. </li><li>  Warten Sie, bis der Pilot fertig ist, und berechnen Sie den Effekt. </li></ol><br>  Keine dieser Stufen verl√§uft ohne Schwierigkeiten, jede hat Merkmale.  Wie wir mit einigen von ihnen umgehen, haben wir in diesem Artikel beschrieben.  Im n√§chsten werden wir dar√ºber sprechen ... <br><br><h3>  Das Team </h3><br>  Am Ende m√∂chte ich alle Schauspieler erw√§hnen: <br><br><ul><li>  Valery Babushkin </li><li>  Alexander Sachnow </li><li>  Denis Ivanov </li><li>  Sergey Demchenko </li><li>  Nikolay Nazarov </li><li>  Sergey Kabanov </li><li>  Yuri Galimullin </li><li>  Helen Tevanyan </li><li>  Vladislav Ladenkov </li><li>  Sergey Zakharov </li><li>  Vasily Geschichten </li><li>  Alexander Belyaev </li><li>  Kismat Magomedov </li><li>  Egor Krashennikov </li><li>  Egor Karnaukh </li><li>  Svyatoslav Oreshin </li><li>  Yuri Trubitsyn </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466349/">https://habr.com/ru/post/de466349/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466335/index.html">Erstellen einer Slack-Anwendung mit 8base-Funktionen</a></li>
<li><a href="../de466337/index.html">Welche Farbe hat deine Funktion?</a></li>
<li><a href="../de466339/index.html">Wie in Microsoft SQL Server Daten von Google Analytics mit R abrufen</a></li>
<li><a href="../de466341/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 33. Vorbereitung auf die ICND1-Pr√ºfung</a></li>
<li><a href="../de466347/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 34. Erweitertes VLAN-Konzept</a></li>
<li><a href="../de466355/index.html">Krokodile fliegen, aber niedrig-niedrig (√ºber Ekranoplans ohne Emotionen, aber mit Abschweifungen)</a></li>
<li><a href="../de466359/index.html">Warum der Welttag der √∂kologischen Schulden und der √∂kologische Fu√üabdruck pseudowissenschaftlicher Unsinn sind</a></li>
<li><a href="../de466361/index.html">Wie Kosaken GICSP-Zertifikat erhalten</a></li>
<li><a href="../de466363/index.html">Slurm DevOps. Erster Tag. Git, CI / CD, IaC und der Gr√ºne Dinosaurier</a></li>
<li><a href="../de466365/index.html">Entwicklung eines monolithischen Unix-√§hnlichen Betriebssystems - Erste Schritte (1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>