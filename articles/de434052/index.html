<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïï üõ¥ üë®‚Äç‚öïÔ∏è Konferenz BLACK HAT. Wie man ein Spionagetelefon macht. Teil 1 üìµ üôÇ üë©üèº‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Moderator: Kevin McNami ist Direktor des Bell Labs Security Research Laboratory, das Teil von Alcatel-Lucent ist. Seine Pr√§sentation hei√üt "Wie man ei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Konferenz BLACK HAT. Wie man ein Spionagetelefon macht. Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/434052/"> <b>Moderator:</b> Kevin McNami ist Direktor des Bell Labs Security Research Laboratory, das Teil von Alcatel-Lucent ist.  Seine Pr√§sentation hei√üt "Wie man ein Spionagetelefon herstellt". Wenn Sie Fragen haben, speichern Sie diese bitte bis zum Ende der Rede, damit wir wissen, dass wir genug Zeit f√ºr sie haben. <br><br>  <b>Kevin McNami: Ich</b> begr√º√üe alle, ich bin froh, dass ich heute hier <b>spreche</b> .  Ich werde dar√ºber sprechen, wie man ein gutes Spionagetelefon herstellt, aber ich denke, dass das Hauptinteresse f√ºr Sie darin besteht, wie Sie dieses SpyPhone-Spionagetelefonmodul in eine Android-Anwendung integrieren k√∂nnen. <br><br><img src="https://habrastorage.org/webt/dr/hx/-2/drhx-2kmcqms3gbkq7b132fjxly.jpeg"><br><br>  Meine Pr√§sentation besteht aus 3 Teilen.  Das erste ist eine Demonstration von SpyPhone in Aktion, dann werden wir ein wenig √ºber das spezielle Design des ‚ÄûSpionagetelefons‚Äú sprechen.  Der dritte Teil des Gespr√§chs befasst sich mit der Frage, wie Sie den SpyPhone-Dienst in die Anwendung einbinden k√∂nnen. Am Ende werden mir die Ergebnisse gefallen und die Fragen beantwortet. <a name="habracut"></a><br><br>  Die n√§chste Folie zeigt, wie Menschen das ‚ÄûSpionagetelefon‚Äú wahrgenommen haben.  Grunds√§tzlich glaubten sie, dass man mit einem solchen Telefon andere Leute ausspionieren kann. <br><br><img src="https://habrastorage.org/webt/hg/ak/j_/hgakj_n3t3xngdbjcz_y2qkh4oe.jpeg"><br><br>  Ein modernes Spionagetelefon sieht anders aus: Es ist ein normales Smartphone mit dem Android-Betriebssystem.  Android ist eine sehr flexible Plattform, mit der man leicht arbeiten kann, die sehr offen ist und die es Ihnen erm√∂glicht, viele Dinge zu tun.  So sieht also ein modernes SpyPhone aus.  Ich denke, dass das Gleiche mit Handys mit iOS m√∂glich ist, aber ich habe mich auf Android konzentriert. <br><br><img src="https://habrastorage.org/webt/cc/kj/9j/cckj9juwbf-6zfxflyuldvv2kgk.jpeg"><br><br>  Fr√ºher ben√∂tigten Sie f√ºr die Organisation der √úberwachung im Freien eine Vielzahl von Ger√§ten, die von Tonbandger√§ten √ºber die Aufzeichnung von Telefongespr√§chen bis hin zu Tonb√§ndern reichten und mit Autos mit Ger√§ten f√ºr die verdeckte √úberwachung endeten.  Heute brauchen Sie nur noch ein Android-Handy.  Sie verwenden ein solches Telefon mit einer darauf installierten speziellen Software und k√∂nnen die Person verfolgen, der dieses Telefon geh√∂rt.  Sie k√∂nnen seine Telefonanrufe steuern, Sie k√∂nnen seinen Standort steuern, Sie k√∂nnen sogar Nachrichten vom Telefon dieser Person senden, eine Kontaktliste anzeigen usw. <br><br><img src="https://habrastorage.org/webt/5p/yz/4m/5pyz4m9usmzfr0w0eparr6k6jj4.jpeg"><br><br>  Dies ist eine sehr leistungsf√§hige Form von Cyber-√úberwachungsger√§ten.  Wenn jemandes Telefon mit dieser Spyware-Anwendung infiziert ist und diese Person es ins B√ºro bringt, k√∂nnen Sie dieser Person bei der Arbeit folgen, Gesch√§ftstreffen ansehen und so weiter.  Die Verwaltung und Kontrolle des Spionageger√§ts erfolgt √ºber das Internet.  Das Spionagemodul ben√∂tigt keine spezielle Zusatzausr√ºstung, alles befindet sich im Telefon.  Wenn er etwas Interessantes zu vermitteln hat, kontaktiert er Sie √ºber die Command &amp; Control-Website und √ºbertr√§gt Informationen.  Sp√§ter werde ich Ihnen eine Demo zeigen, wie das funktioniert. <br><br>  Betrachten Sie nun die Gegenma√ünahmen.  In der Antike wurde der sogenannte ‚ÄûStillekegel‚Äú verwendet, um das Abh√∂ren zu verhindern.  Wenn Sie jemand ausspioniert hat, k√∂nnen Sie jederzeit in den ‚ÄûKegel der Stille‚Äú eintreten und v√∂llig frei mit Ihrem Gespr√§chspartner kommunizieren. <br><br><img src="https://habrastorage.org/webt/vh/5y/_e/vh5y_en9esxra-bn-sze6liqtac.jpeg"><br><br>  Der heutige "Kegel der Stille" sieht etwas anders aus.  Das Unternehmen, f√ºr das ich arbeite, hat eine Technologie entwickelt, die im Netzwerk platziert werden kann und die automatisch Datenverkehr wie Command &amp; Control erkennt, der von einem Android-Telefon vermittelt wird. <br><br><img src="https://habrastorage.org/webt/kw/ac/kf/kwackfpsxr5969mwjrmcsshtpbw.jpeg"><br><br>  Aus diesem Grund haben wir das SpyPhone-Modul erstellt, das wir als Demonstration verwenden, wenn wir zu unseren Kunden gehen, die haupts√§chlich Mobilfunkdienste und mobiles Internet anbieten.  Wir zeigen ihnen ein ‚ÄûSpionagetelefon‚Äú, um zu zeigen, dass es im Mobilfunknetz ein gro√ües Sicherheitsproblem gibt.  Diese Bedrohung steckt noch in den Kinderschuhen, k√∂nnte aber in Zukunft m√∂glicherweise gro√üen Schaden anrichten.  Wir verwenden dieses Modul, um unsere Kunden √ºber Gefahren aufzukl√§ren. Daher ist es selbstverst√§ndlich, dass der zweite Teil der Demonstration die Pr√§sentation unseres Produkts ist, das diesen Gefahren standh√§lt. <br><br>  Das Smartphone ist ein sehr leistungsf√§higes Ger√§t.  Es bietet Zugriff auf Ihren Standort, stellt von fast √ºberall eine Verbindung zum Internet her, verf√ºgt √ºber ein Mikrofon und eine Kamera, stellt √ºber WLAN eine Verbindung zu lokalen Netzwerken her und ist somit eine ideale Spionageplattform. <br><br>  Ich w√ºrde sagen, dass ein Smartphone ein ideales Cyberspionagetool ist, mit dem der Standort des Opfers verfolgt, pers√∂nliche Informationen heruntergeladen, Nachrichten abgefangen und gesendet, Gespr√§che aufgezeichnet und Fotos ohne Wissen des Besitzers aufgenommen werden k√∂nnen.  Im Kontext von BYOD und APT ist es die ideale Plattform, um interne Angriffe auf Unternehmens- oder Regierungsnetzwerke zu starten. <br><br>  Ich glaube, ich habe genug dar√ºber gesprochen, also fahren wir mit der Demonstration fort.  Links sehen Sie einen Screenshot vom Bildschirm des Telefons, der bald zu Spyware wird. Dies ist das Telefon, das ich derzeit verwende.  Rechts sehen Sie die Befehls- und Steuerkonsole, die von der Person verwendet wird, die dieses Telefon verfolgt. <br><br><img src="https://habrastorage.org/webt/_4/6a/jg/_46ajgs8j-rdxilitp23c6gtauw.jpeg"><br><br>  Also haben wir Malware, das SpyPhone-Modul, in eine Kopie des sehr beliebten Spiels Angry Birds implementiert.  Dann haben wir einem Mann eine E-Mail geschickt, in der er sagte, er k√∂nne dieses coole Spiel herunterladen und spielen.  Wir k√∂nnen dieses infizierte Spiel auch auf Websites von Drittanbietern platzieren, von denen der Benutzer es herunterladen kann.  Jetzt gehe ich auf meinem Handy zu meinem Browser, um den empfangenen Brief anzuzeigen. <br><br>  Wenn dieser Typ den Brief erh√§lt, klickt er auf den Link und gelangt auf der Seite mit unserem Spiel in den eigentlichen Arbeitsspeicher f√ºr Anwendungen f√ºr ‚ÄûAndroid‚Äú.  Wir haben beschlossen, es Very Angry Birds zu nennen, da es das SpyPhone-Modul enth√§lt. <br><br><img src="https://habrastorage.org/webt/kj/ou/aw/kjouawinr68g9gmqxjkvt4ownem.jpeg"><br><br>  Der Benutzer l√§dt dieses Spiel herunter.  Wenn Sie die Anwendung auf Ihrem Android-Telefon installieren, erhalten Sie eine Liste aller Berechtigungen, die f√ºr die Arbeit erforderlich sind. <br><br><img src="https://habrastorage.org/webt/ho/pr/6g/hopr6ggpo_asy9ahqwnolkca1fu.jpeg"><br><br>  Es hei√üt, dass die Anwendung Zugriff auf Ihren Standort, pers√∂nliche Informationen, Netzwerkkommunikation, Datenspeicherung, kostenpflichtige Dienste und Telefonanrufe ben√∂tigt.  Da der Benutzer die Anwendung installieren m√∂chte, beachtet er normalerweise nicht alle diese Berechtigungen, die bei der Installation von Programmen st√§ndig angezeigt werden, und klickt einfach auf die Schaltfl√§che ‚ÄûInstallieren‚Äú.  Der Bildschirm zeigt nun, wie der Installationsprozess der Anwendung abl√§uft.  Als n√§chstes starten wir die installierte Anwendung.  Jetzt sehen Sie links das laufende Spiel und rechts die Informationen der Command &amp; Control-Website, √ºber die das Smartphone die Kontrolle hat, und Sie k√∂nnen die Ger√§usche h√∂ren, die das Spiel begleiten. <br><br><img src="https://habrastorage.org/webt/uj/2l/qg/uj2lqgnuqhkbagarhwtw-79kgsi.jpeg"><br><br>  Ich werde den Ton stumm schalten, weil er mich nervt.  Beachten Sie also, dass das Spiel wie gewohnt gespielt wird. Es gibt nichts Au√üergew√∂hnliches, das die Aufmerksamkeit des Benutzers auf sich ziehen k√∂nnte.  Es gibt keine Hinweise darauf, dass mit dem Telefon etwas Seltsames passiert. <br><br>  Der Benutzer spielt, das ist sehr cool, aber selbst wenn er aufh√∂rt zu spielen und das Spiel schlie√üt, arbeitet das Spionagemodul im Hintergrund weiter.  Selbst wenn Sie das Telefon neu starten, wird der SpyPhone-Dienst neu gestartet. Jetzt ist er auf diesem Smartphone st√§ndig vorhanden.  Dieses Telefon ist also mit Cyberspion infiziert und wird jetzt hier in der Konsole der Command &amp; Control-Website angezeigt.  Wenn ich auf diese Zeile klicke, werden auf der Website Informationen angezeigt, die auf diesem Ger√§t gespeichert sind.  Wir k√∂nnen eine Karte mit dem Standort dieses Ger√§ts erhalten - dies ist Las Vegas. <br><br><img src="https://habrastorage.org/webt/pc/7n/jb/pc7njbtwgwmbhm1sm7t_raj_weg.jpeg"><br><br>  Lassen Sie mich betonen, dass hier die Verbindung zwischen Telefon und Computer nicht direkt, sondern √ºber das Internet √ºber einen Webserver in Ottawa erfolgt, auf dem ich arbeite.  Der einzige Grund, warum ich dieses Telefon mit einem Kabel an meinen Computer angeschlossen habe, ist die Notwendigkeit, Screenshots zu machen.  Die Konsole zeigt, dass andere Telefone gleichzeitig funktionieren.  Hier ist einer von ihnen in China, sodass Sie ein internationales Netzwerk von ‚ÄûSpionagetelefonen‚Äú erstellen und diese st√§ndig √ºberwachen k√∂nnen, w√§hrend sie online sind. <br><br>  Also zur√ºck zu unserem Telefon in Las Vegas.  Hier sehen Sie die E-Mail-Adresse des Kontos des Telefonbesitzers, die Telefonnummer, den CDMA-Kommunikationsstandard, den Netzwerktyp, die IMEI, das Land des Mobilfunkbetreibers, seinen Namen, den SIM-Kartenstatus, die Standortkoordinaten und die Kontakte des Telefonbesitzers.  Alle diese Informationen werden auf den Befehls- und Steuerungsserver hochgeladen. Wir k√∂nnen den Besitzer dieses Telefons 24 Stunden am Tag, 7 Tage die Woche verfolgen und alle vom Telefon bereitgestellten Informationen verwenden, einschlie√ülich des Herunterladens der Kontaktliste dieser bestimmten Person.  Dies gibt uns eine Liste anderer potenzieller Ziele, wenn wir eine Art industrielle Cyberspionage einsetzen, um herauszufinden, mit wem der Telefonbesitzer spricht und mit wem er Gesch√§fte macht.  Wir k√∂nnten diese Kontaktliste verwenden, um bestimmte Personen anzusprechen. <br><br>  Man kann sich vorstellen, dass ein Angreifer dieses Spiel an alle Android-App-Stores verteilt. Nachdem die Benutzer es heruntergeladen haben, konzentrieren Sie sich auf einen Mitarbeiter eines bestimmten Unternehmens, auf seine Kontaktliste usw. <br><br>  Sie k√∂nnen auch die installierte Spyware aktualisieren und Nachrichten an das infizierte Telefon senden.  Sie k√∂nnen es f√ºr andere Zwecke verwenden, um beispielsweise Personen mit solchen Nachrichten zu erschrecken.  Wir k√∂nnen auf SMS-Nachrichten und E-Mails zugreifen und den Standort des Telefons bestimmen.  Alle diese Vorg√§nge werden im oberen Teil der Konsole zur Verwaltung des erfassten Telefons angezeigt und blau hervorgehoben.  Sie k√∂nnen auch die Kamera des Telefons einschalten. Ich werde es jetzt versuchen.  Ich nehme das Telefon in die Hand und klicke in der Steuerkonsole auf die Funktion ‚ÄûPeep‚Äú. Es wird einige Zeit dauern, da Sie ein Foto aufnehmen und an die Command &amp; Control-Website senden m√ºssen.  Wie Sie sehen k√∂nnen, erscheint zun√§chst mein Foto, das mit der Frontkamera aufgenommen wurde. Dahinter befindet sich ein Foto dieses Raums, das mit der R√ºckkamera aufgenommen wurde.  Auf diese Weise kann ich auf einem infizierten Telefon aus der Ferne fotografieren und diese Fotos empfangen. <br><br>  Wenn Sie bemerken, l√§uft das Spiel immer noch auf dem Bildschirm, so dass die Person nicht einmal bemerkt, dass das Foto aufgenommen wurde.  Dies erfolgt im Hintergrund ohne Wissen des Benutzers.  Wir k√∂nnen dieselbe Technologie verwenden, um Videos aufzunehmen.  Das Letzte, was ich demonstrieren m√∂chte, ist die H√∂rfunktion.  Also sage ich am Telefon: "Dies ist ein Test, eins, zwei, drei, dies ist ein Test, eins, zwei, drei."  Dann klicke ich auf die Schaltfl√§che ‚ÄûAudio abspielen‚Äú, die Verbindung dauert etwas, und jetzt h√∂ren Sie die Wiederholung meiner Worte. <br><br><img src="https://habrastorage.org/webt/up/3d/tj/up3dtj_py5rll1icl17ltkdhsek.jpeg"><br><br>  Also habe ich das Gespr√§ch √ºber das Mikrofon des Telefons aufgezeichnet und auf die Command &amp; Control-Website hochgeladen. Es ist also alles ziemlich cool.  Es war also eine Demonstration dessen, was die SpyPhone-Technologie leisten kann. <br><br>  Lassen Sie uns nun ein wenig dar√ºber sprechen, wie wir das Design und die Technologie unserer Software entwickelt haben und warum wir solche Designentscheidungen getroffen haben.  Ich werde zu den vorherigen Folien zur√ºckkehren. <br><br><img src="https://habrastorage.org/webt/nz/dn/fb/nzdnfbiuj4adzssaa23fhdeojwo.jpeg"><br><br>  Zun√§chst wollten wir unsere Malware mit den urspr√ºnglichen Telefonfunktionen kombinieren und ein Spyware-Programm vom Typ Trojaner mit Fernzugriff erstellen, das mit einem Android-Telefon funktioniert.  Wir haben eine Demo-Anwendung namens "Searchable Dictionary" als Grundlage genommen und sie so modifiziert, dass ein Spyware-Modul eingef√ºgt werden kann, und sie als regul√§re Anwendung f√ºr Android implementiert. <br><br>  Das hei√üt, wir haben uns an das Design der urspr√ºnglichen Android-Programme mit Java gehalten.  Wir brauchten es, um alle notwendigen Komponenten in sich zu enthalten und im Hintergrund zu arbeiten. Selbst wenn die Anwendung gestoppt wurde, wurde sie beim Laden des Telefons gestartet.  Unsere zweite Aufgabe bestand darin, SpyPhone einfach in offizielle Anwendungen zu integrieren.  Dies funktionierte und unsere Malware st√∂rte den Betrieb anderer auf dem Telefon installierter Anwendungen nicht.  Als Command &amp; Control Server Command &amp; Control haben wir den NodJS-Webserver mit Daten√ºbertragung √ºber HTTP ausgew√§hlt.  F√ºr die Steuerbefehle unseres Programms haben wir die JS-Schnittstelle verwendet, und die Befehle selbst sahen folgenderma√üen aus: <br><br>  Update - Informationen an den Server senden, <br>  Toast - Anzeige einer Meldung auf dem Bildschirm, <br>  Herunterfahren - SpyPhone stoppen, <br>  SMS - Senden Sie eine SMS an einen Kontakt, <br>  Standort - Senden Sie Informationen zum Telefonstandort an den Server. <br>  Peep - mach ein Foto und sende es an den Server, <br>  H√∂ren - Ton aufnehmen und an den Server senden. <br><br>  All dies war recht einfach zu programmieren, da die Entwickler von Android ihrem System einen ziemlich leistungsstarken Satz von SDK-Entwicklungstools zur Verf√ºgung stellten.  Dieses Kit bietet eine Schnittstelle f√ºr alles, was Sie wollen.  Wir haben nie Android-Programme entwickelt, aber dank dieses SDK mussten wir nicht einmal etwas lernen und haben dieses Ding in ein paar Wochen entwickelt. <br><br>  Die n√§chste Folie zeigt das urspr√ºngliche Design des durchsuchbaren W√∂rterbuchs, auf dessen Grundlage wir SpyPhone mit den hier angezeigten Java-Codes erstellt haben.  Wir haben dieser Anwendung einen Teil namens droidwhisper hinzugef√ºgt. <br><br><img src="https://habrastorage.org/webt/x1/kj/xb/x1kjxbeuhd0hdapmjaljlqlxl2c.jpeg"><br><br>  Dies ist der Teil, den wir sp√§ter ausschneiden und in eine geeignete Anwendung einf√ºgen wollten.  Wir hatten keine Erfahrung mit der Erstellung spezieller Exploits, die Anwendungsschwachstellen ausnutzen w√ºrden. Daher haben wir die von Android bereitgestellte Standard-API importiert: <br><br>  Benutzerinformationen <br>  - android.accounts.Account importieren; <br>  - android.accounts.AccountManager importieren. <br>  Telefon und SMS <br>  ‚ÄìImport android.telephony.SmsManager; <br>  ‚ÄìImport android.telephony.TelephonyManager. <br>  Lage <br>  ‚ÄìImport android.location.Location; <br>  ‚ÄìImport android.location.LocationListener; <br>  ‚ÄìImport android.location.LocationManager; <br>  Aufzeichnen von Mediendateien (Audio und Video) <br>  - android.media.MediaRecording importieren. <br>  Kamera <br>  ‚ÄìImport android.hardware.Camera; <br>  ‚ÄìImport android.hardware.Camera.PictureCallback; <br>  ‚ÄìImport android.hardware.Camera.PreviewCallback; <br>  ‚ÄìImport android.hardware.Camera.Size; <br>  ‚ÄìImport android.media.AudioManager; <br>  ‚ÄìImport android.view.SurfaceHolder; <br>  ‚ÄìImport android.view.SurfaceView. <br>  Das Internet <br>  ‚ÄìImport org.apache.http.HttpResponse; <br>  ‚ÄìImport org.apache.http.NameValuePair; <br>  ‚ÄìImport org.apache.http.client.ClientProtocolException; <br>  ‚ÄìImportiere org.apache.http.client.HttpClient. <br><br>  Jemand sagte, dass das Aufnehmen von Videos und das Aufnehmen von Bildern, wenn sich das Telefon in der Tasche des Benutzers befindet, nicht sehr gut ist.  Wenn Sie also ein gutes Foto machen m√∂chten, senden Sie die SMS an den Eigent√ºmer, da wir seine Telefonnummer haben.  Er erh√§lt eine Nachricht, h√§lt das Telefon vor sich, um sie zu lesen, und zu diesem Zeitpunkt machen Sie ein Foto mit der Frontkamera.  Wenn Sie ihn nur anrufen, bringt er das Telefon an sein Ohr, und in diesem Moment k√∂nnen Sie mit der R√ºckkamera ein Bild aufnehmen. <br><br><img src="https://habrastorage.org/webt/6z/_2/gs/6z_2gsau6ryamdbty0z1ahrzdbm.jpeg"><br><br>  Die Kamera zum Laufen zu bringen ist etwas komplizierter, daher haben wir eine ganze Reihe von Klassen verwendet, zum Beispiel AudioManager, SurfaceHolder und dergleichen.  Wir mussten daf√ºr sorgen, dass der Klick-Sound beim Aufnehmen eines Fotos vor√ºbergehend ausgeschaltet wird, um die Aufmerksamkeit des Benutzers nicht auf sich zu ziehen, wenn diese Funktion in den Einstellungen seiner Kamera aktiviert ist.  Dar√ºber hinaus haben wir uns vorgenommen, die aufgenommenen Spionagefotos oder -videos in der Telefongalerie als Miniaturansichten mit einer Gr√∂√üe von 1 Pixel anzuzeigen, damit der Benutzer sie nicht sehen kann.  Wir mussten also ein paar Tricks anwenden, um den unauff√§lligen Betrieb unseres Spionagemoduls sicherzustellen.  Wie ich bereits bemerkt habe, ist fast alles f√ºr die Kommunikation mit dem Befehls- und Steuerungsserver im Telefon selbst enthalten.  Wir haben auch einige der Sicherheitsl√ºcken in Android verwendet. <br><br>  Wie Sie wissen, m√ºssen diese Anwendungen signiert sein, um auf dem Telefon installiert zu werden. Dies ist jedoch kein Problem, da Sie jedes alte Zertifikat zum Signieren verwenden k√∂nnen, da die Anwendung im Allgemeinen √ºber ein Zertifikat verf√ºgt, unabh√§ngig davon, welches.  Sp√§ter werde ich mehr dar√ºber sprechen. <br><br>  Dies war also eine kurze Beschreibung des Designs, das wir beim Erstellen der Anwendung verwendet haben.  Jetzt werde ich Ihnen √ºber den Implementierungsprozess berichten, dh wie wir unser sch√§dliches Modul in die Anwendung eingef√ºgt haben. <br><br>  Als erstes haben wir uns f√ºr das Spiel Angry Birds entschieden.  Wir haben es nicht gew√§hlt, weil es ein sehr gutes Spiel ist, sondern wegen seiner Beliebtheit.  Unser SpyPhone-Modul kann in absolut jede Anwendung eingegeben werden.  Zun√§chst ben√∂tigen wir eine Kopie der urspr√ºnglichen APK-Datei.  Dies ist ein Archiv, das alle Anwendungskomponenten enth√§lt.  In der Anwendungsdatei befindet sich Java-Code oder nicht ganz Java - dies ist der Code f√ºr die virtuelle Dalvik-Maschine.  Dieser Code kann durch andere Inhalte ersetzt werden. Dies wird als Sicherheitsanf√§lligkeit "Hauptschl√ºssel" bezeichnet.  Wir m√ºssen also diese APK-Datei √∂ffnen und zerlegen, dh eine Liste aller zu zerlegenden Komponenten haben. <br>  Zun√§chst extrahieren wir alle Komponenten der Angry Birds 2000-Anwendung. <br><br><img src="https://habrastorage.org/webt/jn/-q/hr/jn-qhrdpn4wnuagyq5qc9e3ijhu.jpeg"><br><br>  Dann f√ºgen wir im smali-Verzeichnis unser Beispielverzeichnis / android / droidwhisper ein, und im letzten droidwhisper-Ordner befinden sich die ge√§nderten Searchable Dictionary-Anwendungsdateien, die unser Spionagemodul enthalten. <br><br><img src="https://habrastorage.org/webt/yw/ia/tz/ywiatzuo8p6m4ljxd-w62lqbkz4.jpeg"><br><br>  Wir haben das Spiel Angry Birds vom Google Play Market heruntergeladen und eine Kopie davon erstellt.  Das n√§chste, wor√ºber wir uns Sorgen machen, sind die Signaturschl√ºssel.  Sie sehen alle diese Dateien in unserem Verzeichnis namens inj. <br><br>  Beim Zerlegen haben wir das Programm Apk_tools verwendet, ein Tool zum Verwalten von APK-Dateien.  Jetzt zeige ich √ºber die Befehlszeile, wie wir angefangen haben, Angry Birds zu zerlegen. <br><br><img src="https://habrastorage.org/webt/lr/nl/ez/lrnlezy_e4ablfcgfp3akq8oyrw.jpeg"><br><br>  Als n√§chstes fuhren wir direkt mit dem Zerlegen der Anwendung fort.  Wir haben den Angry Birds-Katalog erstellt, in den wir alle Anwendungskomponenten eingef√ºgt haben.  Da dies eine Demo ist, m√ºssen Sie etwas warten, bis der Demontageprozess abgeschlossen ist.  Sie sehen also eine Vielzahl von Verzeichnissen, der Assets-Ordner befindet sich zuerst, Dinge wie Sounds sind darin, dann gibt es Ressourcenordner, lib-Bibliotheken, aber der Schl√ºssel f√ºr uns ist das smali-Verzeichnis, das den Code und das Assembler-Format enth√§lt. <br><br>  23:00 min <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konferenz BLACK HAT.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie man ein Spionagetelefon macht.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/h98KtUgUOsg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Januar kostenlos,</b> wenn Sie f√ºr einen Zeitraum von sechs Monaten bezahlen, k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434052/">https://habr.com/ru/post/de434052/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434040/index.html">ITMO University Digest: Sprechen Sie √ºber Universit√§tsprojekte, Erfolge und Erfolge unserer Absolventen</a></li>
<li><a href="../de434044/index.html">Zwei-Faktor-Authentifizierung (2FA) Phishing-resistent</a></li>
<li><a href="../de434046/index.html">GLSL: Zentrum oder Schwerpunkt? Oder wenn die Shader angreifen</a></li>
<li><a href="../de434048/index.html">Facebook entwickelt Kryptow√§hrung f√ºr WhatsApp</a></li>
<li><a href="../de434050/index.html">Java Enterprise gegen Android im Jahr 2019 - was f√ºr einen Neuling zu w√§hlen?</a></li>
<li><a href="../de434054/index.html">Konferenz BLACK HAT. Wie man ein Spionagetelefon macht. Teil 2</a></li>
<li><a href="../de434056/index.html">Sie m√ºssen wissen, wo Sie die Null setzen sollen</a></li>
<li><a href="../de434058/index.html">Die technische Pr√§sentation des neuen StarsX / BFS von SpaceX ist f√ºr M√§rz bis April 2019 geplant.</a></li>
<li><a href="../de434060/index.html">Lohnt es sich, die L√§nge eines Arrays in einer lokalen Variablen in C # zu speichern?</a></li>
<li><a href="../de434062/index.html">Amazon hat 1700 Alexa-Benutzer-Audio an eine zuf√§llige Person gesendet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>