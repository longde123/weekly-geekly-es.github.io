<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тШФя╕П ЁЯТЖЁЯП╜ тЫО рдХреИрд╕реЗ рдкрд╛рдпрдерди, Django рдФрд░ webhook рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ VKontakte рдХреЗ рд▓рд┐рдП рдПрдХ рдЪреИрдЯ рдмреЙрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП ЁЯИпя╕П ЁЯЦея╕П ЁЯжБ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЪреИрдЯ рдмреЙрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдФрд░ рд▓реЗрдЦ рдХреНрдпреЛрдВ? 
 рд╢рд╛рдпрдж рдореИрдВрдиреЗ рдЦрд░рд╛рдм рддрд░реАрдХреЗ рд╕реЗ рдЦреЛрдЬрд╛, рд▓реЗрдХрд┐рди рдореБрдЭреЗ Django рдврд╛рдВрдЪреЗ рдФрд░ рд╡реЗрдмрд╣реВрдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдЕрдЬрдЧрд░ рдмреЙрдЯ рдмрдирд╛рди...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдХреИрд╕реЗ рдкрд╛рдпрдерди, Django рдФрд░ webhook рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ VKontakte рдХреЗ рд▓рд┐рдП рдПрдХ рдЪреИрдЯ рдмреЙрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429628/"><h3>  рдЪреИрдЯ рдмреЙрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдФрд░ рд▓реЗрдЦ рдХреНрдпреЛрдВ? </h3><br>  рд╢рд╛рдпрдж рдореИрдВрдиреЗ рдЦрд░рд╛рдм рддрд░реАрдХреЗ рд╕реЗ рдЦреЛрдЬрд╛, рд▓реЗрдХрд┐рди рдореБрдЭреЗ Django рдврд╛рдВрдЪреЗ рдФрд░ рд╡реЗрдмрд╣реВрдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдЕрдЬрдЧрд░ рдмреЙрдЯ рдмрдирд╛рдиреЗ рдкрд░ рдПрдХ рд╡рд┐рд╕реНрддреГрдд рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛ рдирд╣реАрдВ рдорд┐рд▓ рдкрд╛рдИ, рдЬрд┐рд╕реЗ рдПрдХ рд░реВрд╕реА рдХрдВрдкрдиреА рджреНрд╡рд╛рд░рд╛ рд╣реЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕рд╛рдордЧреНрд░реА рдлреНрд▓рд╛рд╕реНрдХ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдФрд░ рд╣рд░реЛрдХреВ рдФрд░ рдкрд╛рдпрдердирдСрдирдПрдм рдХреА рдореБрдлреНрдд рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреА рд╣реИрдВред  рд╣реИрдмрд░ рд╕рдореБрджрд╛рдп рдХрд╛ рдЕрдиреБрднрд╡ рдореЗрд░реА рдорджрдж рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЗрд╕ рд▓реЗрдЦ рдХреЛ рд▓рд┐рдЦрдиреЗ рдореЗрдВ рд╕рдордп рдмрд┐рддрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреГрддрдЬреНрдЮрддрд╛ рдХреЗ рдПрдХ рдЯреЛрдХрди рдХреЗ рд░реВрдк рдореЗрдВ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред  рдореИрдВ рд╣рд░ рдХрд┐рд╕реА рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдкреНрдд рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЕрдиреБрднрд╡ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реВрдВрдЧрд╛ рдЬреЛ рд╕рдордп рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдЪреНрдЫреБрдХ рд╣реИрдВ рдФрд░ рдмреЗрд╣рддрд░ рддрд░реАрдХреЗ рд╕реЗ рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рд╡реЗрдмрд╣реБрдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреА рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдкрд░ Django рдврд╛рдВрдЪреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд╛рдпрдерди рдореЗрдВ рдПрдХ рдмреЙрдЯ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред <br><a name="habracut"></a><br><h3>  рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдХреНрдпреЛрдВ рджреА? </h3><br>  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдмреЙрдЯ рдХрд╛ рдПрдХ рд╡реНрдпрд╡рд╣рд╛рд░реНрдп рд╕рдВрд╕реНрдХрд░рдг рддрдм рд╣реИ рдЬрдм рдпрд╣ рдЖрдкрдХреЗ рд╕реНрдерд╛рдиреАрдп рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рд╣реИ рдФрд░ 24/7 рдЙрдкрд▓рдмреНрдз рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬрд┐рд╕ рдкрд░: рдПрдХ рд╡реЗрдм рд╕рд░реНрд╡рд░, рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд░рдмрдВрдзрди рдкреНрд░рдгрд╛рд▓реА (рдмреЙрдЯ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП), рдПрдХ рдбреЛрдореЗрди рдирд╛рдо рдХрд╛ рдкрдВрдЬреАрдХрд░рдг, рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдПрд╕рдПрд╕рдПрд▓ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдФрд░ рдЗрд╕ рд╕рднреА рдЕрд░реНрдерд╡реНрдпрд╡рд╕реНрдерд╛ рдХреЗ рд▓рд┐рдП рддрдХрдиреАрдХреА рд╕рд╣рд╛рдпрддрд╛ред  рдРрд╕реА рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рдкреИрд╕рд╛ рдЦрд░реНрдЪ рд╣реЛрддрд╛ рд╣реИред  рдореИрдВ рдмреЙрдЯ рдХреЛ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдорд╣реАрдиреЗ рдореЗрдВ 138 рд░реВрдмрд▓ рдХреА рдореЗрдЬрдмрд╛рдиреА рдХрд╛ рднреБрдЧрддрд╛рди рдХрд░рддрд╛ рд╣реВрдВ: рдкрд╛рдпрдерди + Django, MySQL DBMS 25 рдЬреАрдмреА рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди, рдПрд╕рдПрд╕рдПрдЪ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдердиред <br>  рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд╛рдареЛрдВ рдореЗрдВ рдореИрдВрдиреЗ рджреЗрдЦрд╛ рдХрд┐ рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдХрдВрдкреНрдпреВрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рд░реНрд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдпрд╛ рдХрд╛рдо рдХреЗ рдШрдВрдЯреЛрдВ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рдХреЗ рд╕рд╛рде рдореБрдлреНрдд рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдЖрджрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ, рдмреЙрдЯ рд╕рдордп-рд╕рдордп рдкрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рдирдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдореИрд╕реЗрдВрдЬрд░ рд╕рд░реНрд╡рд░ рдХрд╛ рдЪреБрдирд╛рд╡ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдореИрд╕реЗрдВрдЬрд░ рд╕рд░реНрд╡рд░ рдкрд░ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рднрд╛рд░ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмреЙрдЯ рдХреЛ рдереЛрдбрд╝реА рджреЗрд░ рдХреЗ рд▓рд┐рдП "рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд" рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рд╕рдм, рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдЙрддреНрдкрд╛рджрдХ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИред  рд▓реЗрдХрд┐рди рдкрд░реАрдХреНрд╖рдг рдФрд░ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдХрд╛рдлреА рд╕рдВрднрд╡ рд╣реИред <br><br><h3>  Webhook рдХреНрдпрд╛ рд╣реИ рдФрд░ рдпрд╣ рдХреНрдпреЛрдВ рд╣реИ? </h3><br>  рдЙрддреНрдкрд╛рдж рдХреЗ рд▓рд┐рдП, рдореИрдВ рдПрдХ webhook рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдирд┐рд░реНрдгрдп рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рддрд╛ рд╣реВрдВ, рдЕрд░реНрдерд╛рддреН, рдПрдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЬрд┐рд╕рдореЗрдВ рд╣рдорд╛рд░реЗ рдмреЙрдЯ рдореИрд╕реЗрдВрдЬрд░ рд╕рд░реНрд╡рд░ рд╕реЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЖрд╡рдзрд┐рдХ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд╕рд╛рде рдЗрд╕реЗ "рд╣рдереМрдбрд╝рд╛" рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ: рдирдП рд╕рдВрджреЗрд╢ рд╣реИрдВ рдпрд╛ рдирд╣реАрдВред  рдПрдХ webhook рдХреЗ рд╕рд╛рде, рдпрд╣ рдЗрд╕ рддрд░рд╣ рд╣реЛрдЧрд╛: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдПрдХ рд╕рдВрджреЗрд╢ рд▓рд┐рдЦрд╛, рд╕рдВрджреЗрд╢рд╡рд╛рд╣рдХ рд╕рд░реНрд╡рд░ рдиреЗ рдЗрд╕реЗ рдЖрдкрдХреЗ рдмреЙрдЯ рдореЗрдВ рднреЗрдЬрд╛, рдЙрд╕рдиреЗ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛, рдЗрд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдФрд░ рдЙрддреНрддрд░ рджрд┐рдпрд╛ред <br><br><h3>  рдХреНрдпреЛрдВ django </h3><br>  рдореИрдВрдиреЗ рдЕрдЬрдЧрд░ рдореЗрдВ рдПрдХ рдмреЙрдЯ рдмрдирд╛рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдкрд░ рдЕрдЬрдЧрд░ рдХреЗ рд╕рдорд░реНрдерди рдХреЛ рдЬреЛрдбрд╝рд╛ред  рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдкрд╛рд╕ рдПрдХ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рдирд╣реАрдВ рд╣реИ - рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдореЗрдВ рдХреЗрд╡рд▓ Django рд╣реИред  рд╡реЗ рдХрд╣рддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ Instagram, Pinterest, Bitbucket рдФрд░ Mozilla рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рд╢рд╛рдпрдж рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br><br><h3>  рдХреНрдпреЛрдВ VKontakte, рддрд╛рд░ рдпрд╛ Viber рдирд╣реАрдВ? </h3><br>  рд╕рд░рд▓ рд╕реЗ рдЬрдЯрд┐рд▓ рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореЗрд░реЗ рд▓рд┐рдП рдПрдХ рд╡реЗрдмрд╣реВрдХ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рдФрд░ рд╕рдмрд╕реЗ рд╕рд╣рдЬ рддрд░реАрдХрд╛ рдЦреЛрдЬрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдерд╛ред  "рдкреНрд░рдмрдВрдзрди - рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдХрдореНрдпреБрдирд┐рдЯреА рдХрдВрдЯреНрд░реЛрд▓ рдкреИрдирд▓ рдореЗрдВ рд╡реЗрдмрд╣реВрдХ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рдорджрдж рдФрд░ рдЖрд╕рд╛рдиреА рдХреЗ рдХрд╛рд░рдг рд╡реАрдХреЗрдХрдВрдЯреЗ рдореЗрд░реЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдордЭ рдореЗрдВ рдЖрдпрд╛ред  рдореИрдВрдиреЗ рдХреИрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдФрд░ рд╕рдм рдХреБрдЫ рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛, рдЗрд╕рдХрд╛ рд╡рд┐рд╡рд░рдг рдЖрдЧреЗ рд╣реЛрдЧрд╛ред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдореИрдВ рдЕрдкрдиреЗ рдмреЙрдЯ рдХреЛ рд╡рд╛рдЗрдмрд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рдХрд░рд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред  рд▓реЗрдХрд┐рди рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдХреЗ рд╕рд╛рде, рдпрд╣ рдЕрднреА рддрдХ рд░рд╛рд╕реНрддреЗ рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдореЗрд░реА рдореЗрдЬрдмрд╛рдиреА рд░реВрд╕ рдореЗрдВ рд╣реИ, рдФрд░ рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд░реВрд╕ рд╕реЗ рдЕрд╡рд░реБрджреНрдз рд╣реИред  рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рд╡рд┐рджреЗрд╢ рдореЗрдВ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдЦрд░реАрдж рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рд╡реАрдХреЗ рдмреЙрдЯ рдХреЗ рд▓рд┐рдП рд╡реЗрдмрд╣реВрдХ рдХреИрд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ? </h3><br>  <strong>рдбреЛрдореЗрди рдирд╛рдо https: //</strong> ред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рд╕рд╛рдЗрдЯ рдХреЗ рдбреЛрдореЗрди рдирд╛рдо рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдПрд╕рдПрд╕рдПрд▓ рдкреНрд░рдорд╛рдг рдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдореИрдВ рдЪреИрдЯрдмреЛрдЯ рдХреЗ рд▓рд┐рдП рд░реВрдЯ рдбреЛрдореЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рдЗрд╕рд▓рд┐рдП рдбреЛрдореЗрди рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдПрдХ рдЙрдкрдбреЛрдореЗрди рдмрдирд╛рдпрд╛ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдПрд╕рдПрд╕рдПрд▓ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ред <br><br>  рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рдореЗрдВ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рд╕рд╛рдЗрдЯ рдкрд░ рдЗрди рд╕рднреА рдЬреЛрдбрд╝рддреЛрдбрд╝ рдХреЛ рдХрд┐рдпрд╛ред <br>  рдирддреАрдЬрддрди, рдореБрдЭреЗ рд╕рд╛рдЗрдЯ mybot.mysite.ru рдХрд╛ рдкрддрд╛ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрд╕рдПрд╕рдПрд▓ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкреНрд░рд╛рдкреНрдд рд╣реБрдЖред <br><br>  <strong>рд╣рдореЗрдВ рдмреЙрдЯ рдХреЗ рд▓рд┐рдП рд╡реАрдХреЗ рдХреБрдВрдЬреА (рдЯреЛрдХрди) рдорд┐рд▓рддрд╛ рд╣реИред</strong>  рдкрд╣рд▓реЗ рдореИрдВрдиреЗ рдПрдХ рдмрдВрдж рд╕рдореВрд╣ рдмрдирд╛рдпрд╛, рдлрд┐рд░ "рдПрдкреАрдЖрдИ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ, рд╕рдореВрд╣ рдХреЗ "рдкреНрд░рдмрдВрдзрди" рдореЗрдВ рдЪрд▓рд╛ рдЧрдпрд╛ред  рдЯреИрдм рдореЗрдВ "рдПрдХреНрд╕реЗрд╕ рдХреАрдЬрд╝" рдПрдХ рдЯреЛрдХрди рд╣реИ, рдФрд░ рдЯреИрдм рдореЗрдВ "рдХреЙрд▓рдмреИрдХ рдПрдкреАрдЖрдИ" рд╡реЗрдмрд╣реВрдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ред <br><br><img src="https://habrastorage.org/webt/in/46/po/in46po1vy4iq3vcdnezwpp5okg8.png"><br><br>  <strong>Django рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</strong> ред  рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЕрдЬрдЧрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП Django рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛ, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рд╣реИред <br><br>  PuTTY рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдореИрдВ SSH рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд░реНрд╡рд░ рд╕реЗ рдЬреБрдбрд╝рд╛, рд╡рд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдФрд░ рд╕рдХреНрд░рд┐рдп рдХрд┐рдпрд╛ред <br><br>  SSH: <br><pre><code class="bash hljs">virtualenv-2.7 virtualenv/myEnv . virtualenv/myEnv/bin/activate</code> </pre> <br>  рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐ рдореЗрдВ рдХрдорд╛рдВрдб рдПрдХ рдЖрднрд╛рд╕реА рд╡рд╛рддрд╛рд╡рд░рдг рдмрдирд╛рддрд╛ рд╣реИ, рдФрд░ рджреВрд╕рд░реА рдкрдВрдХреНрддрд┐ рдореЗрдВ рдХрдорд╛рдВрдб рдЗрд╕реЗ рд╕рдХреНрд░рд┐рдп рдХрд░рддрд╛ рд╣реИ (рдЕрд╡рдзрд┐ рдХреЗ рдмрд╛рдж рд╕реНрдерд╛рди рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ)ред  рд╕рдВрд╕реНрдХрд░рдг 2.7 рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рджреНрд╡рд╛рд░рд╛ рддрдп рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЖрдкрдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рд╕рд╣рд╛рдпрддрд╛ рдкрдврд╝реЗрдВред <br><br>  рдЕрдЧрд▓рд╛ Django рд╕реНрдерд╛рдкрд┐рдд <br>  SSH: <br><pre> <code class="bash hljs">pip install <span class="hljs-string"><span class="hljs-string">'django&lt;2'</span></span></code> </pre><br>  рдореИрдВрдиреЗ Django рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдкрд╣рд▓реЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рджреВрд╕рд░реЗ рдирдВрдмрд░ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдкрд░ рдкрд╛рдпрдерди 2.7 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдХреЗрд╡рд▓ Django рд╕рдВрд╕реНрдХрд░рдг рдЗрд╕рдХреЗ рд╕рд╛рде 2 рд╕реЗ рдХрдо рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br>  рдФрд░ VKontakte API рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЬрдЧрд░ рдореЙрдбреНрдпреВрд▓ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ <br>  SSH: <br><pre> <code class="bash hljs">pip install vk</code> </pre><br><br>  рдПрдлрд╝рдЯреАрдкреА: <br>  рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдкрд░ рд░реВрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ django-Projects рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ред  рд╡рд╣ рдЙрд╕реЗ django рдмреБрд▓рд╛рдпрд╛ред <br><br>  SSH: <br>  рдПрдХ рдирдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдпрд╛ред <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> django/ django-admin.py startproject mybot</code> </pre><br>  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдирд╛рдо рд╡рд╛рд▓рд╛ рдПрдХ рдлреЛрд▓реНрдбрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ (рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ "mybot") / dosango рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВред  рдЗрд╕рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдмрдирд╛рдИ рдЧрдИ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдлрд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреА: <br>  / django <br>  / mybot - рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝реЛрд▓реНрдбрд░ <br>  / mybot - рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреА рд╕реЗрдЯрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдореЙрдбреНрдпреВрд▓ <br>  __init__.py <br>  settings.py <br>  urls.py <br>  wsgi.py <br>  manage.py <br><br>  Django рдореЗрдВ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХрд╛ рдПрдХ рд╕рдореВрд╣ рд╣реИред  Django рдореЗрдВ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╣реИ рдЬреЛ рдбреЗрд╡рд▓рдкрд░ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рддрд╛ рд╣реИред <br><br>  SSH: <br>  рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдпрд╛ рдЧрдпрд╛ред <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> mybot python manage.py startapp vk_bot</code> </pre><br>  рдореИрдВ <i>/ django / mybot рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдЧрдпрд╛</i> рдФрд░ "vk_bot" рдирд╛рдордХ рдПрдХ рдирдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдпрд╛ред <br>  рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдирд╛рдо рд╡рд╛рд▓рд╛ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕рдореЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдмрдирд╛рдИ рдЧрдИ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдлрд╛рдЗрд▓реЗрдВ рдереАрдВ: <br><br>  / django <br>  / mybot - рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝реЛрд▓реНрдбрд░ <br>  / mybot - рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреА рд╕реЗрдЯрд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдореЙрдбреНрдпреВрд▓ <br>  __init__.py <br>  settings.py <br>  urls.py <br>  wsgi.py <br>  manage.py <br>  / vk_bot - рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдлрд╝реЛрд▓реНрдбрд░ <br>  __init__.py <br>  admin.py <br>  apps.py <br>  models.py <br>  tests.py <br>  views.py <br><br>  рдПрдлрд╝рдЯреАрдкреА: <br>  рдореИрдВрдиреЗ рдХреЛрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд▓реИрдкрдЯреЙрдк рдкрд░ рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ред <br>  рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдПрдЯрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред <br><br>  рдПрдЯрдо: <br>  рдлрд╝рд╛рдЗрд▓ <i>/django/mybot/mybot/settings.py</i> рдореЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span>DEBUG = <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> ... ALLOWED_HOSTS = [ <span class="hljs-string"><span class="hljs-string">u'mybot.mysite.ru'</span></span>, ] ...</code> </pre><br>  рдПрдЯрдо: <br>  рдлрд╝рд╛рдЗрд▓ <i>/django/mybot/mybot/urls.py</i> рдореЗрдВ рд╕рдВрдкрд╛рджрд┐рдд url рд░реВрдЯрд┐рдВрдЧ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span>urlpatterns = [ url(<span class="hljs-string"><span class="hljs-string">r'^vk_bot/'</span></span>, include(<span class="hljs-string"><span class="hljs-string">'vk_bot.urls'</span></span>)), ] ...</code> </pre><br>  рдПрдлрд╝рдЯреАрдкреА: <br>  <i>рдирд┐рдореНрди</i> рд╕рд╛рдордЧреНрд░реА рдХреЗ <i>рд╕рд╛рде</i> рдПрдХ рдлрд╝рд╛рдЗрд▓ <i>/django/mybot/vk_bot/urls.py</i> рдмрдирд╛рдпрд╛ <i>рдЧрдпрд╛</i> : <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.conf.urls <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> url <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> . <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> views app_name = <span class="hljs-string"><span class="hljs-string">'vk_bot'</span></span> urlpatterns = [ url(<span class="hljs-string"><span class="hljs-string">r'^$'</span></span>, views.index, name=<span class="hljs-string"><span class="hljs-string">'index'</span></span>), ]</code> </pre><br>  рдПрдЯрдо: <br>  рдлрд╝рд╛рдЗрд▓ <i>/django/mybot/vk_bot/views.py</i> рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ - рдЗрд╕рдореЗрдВ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛, рдЬрд┐рд╕реЗ рдЕрдиреБрдХреНрд░рдордгрд┐рдХрд╛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдкрддрд╛ рдорд╛рдВрдЧреЗ рдЬрд╛рдиреЗ рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ <br><pre>  https://mybot.mysite.ru/vk_bot/ </pre><br><br>  views.py <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- from __future__ import unicode_literals from django.views.decorators.csrf import csrf_exempt from django.shortcuts import render from django.http import HttpResponse from bot_config import * # import token, confirmation_token and over constants from bot_config.py import json, vk # vk is library from VK """ Using VK Callback API version 5.5 For more ditalies visit https://vk.com/dev/callback_api """ """ From Django documentation (https://docs.djangoproject.com/en/1.11/ref/request-response/) When a page is requested, Django automatically creates an HttpRequest object that contains metadata about the request. Then Django loads the appropriate view, passing the HttpRequest as the first argument to the view function. This argiment is &lt;request&gt; in def index(request): Decorator &lt;@csrf_exempt&gt; marks a view as being exempt from the protection ensured by the Django middleware. For cross site request protection will be used secret key from VK """ @csrf_exempt #exempt index() function from built-in Django protection def index(request): #url: https://mybot.mysite.ru/vk_bot/ if (request.method == "POST"): data = json.loads(request.body)# take POST request from auto-generated variable &lt;request.body&gt; in json format if (data['secret'] == secret_key):# if json request contain secret key and it's equal my secret key if (data['type'] == 'confirmation'):# if VK server request confirmation """ For confirmation my server (webhook) it must return confirmation token, whitch issuing in administration web-panel your public group in vk.com. Using &lt;content_type="text/plain"&gt; in HttpResponse function allows you response only plain text, without any format symbols. Parametr &lt;status=200&gt; response to VK server as VK want. """ # confirmation_token from bot_config.py return HttpResponse(confirmation_token, content_type="text/plain", status=200) if (data['type'] == 'message_new'):# if VK server send a message session = vk.Session() api = vk.API(session, v=5.5) user_id = data['object']['user_id'] # token from bot_config.py api.messages.send(access_token = token, user_id = str(user_id), message = "Hello, I'm bot!") return HttpResponse('ok', content_type="text/plain", status=200) else: return HttpResponse('see you :)')</span></span></code> </pre><br>  рд╡рд┐рдЪрд╛рд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ, <i>рдЗрдВрдбреЗрдХреНрд╕ (рдЕрдиреБрд░реЛрдз)</i> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ, рдореБрдЭреЗ Django CSRF рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рдкрдбрд╝рд╛, рдХреНрдпреЛрдВрдХрд┐  рдореБрдЭреЗ "403 рдирд┐рд╖рд┐рджреНрдз" рддреНрд░реБрдЯрд┐ рдорд┐рд▓ рд░рд╣реА рдереАред  CSRF - рдХреНрд░реЙрд╕ рд╕рд╛рдЗрдЯ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдлреЛрд░реНрдЬрд░реА рдкреНрд░реЛрдЯреЗрдХреНрд╢рди - рдХреНрд░реЙрд╕-рд╕рд╛рдЗрдЯ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдлрд░реНрдЬреА рдХреЗ рдЦрд┐рд▓рд╛рдл рд╕реБрд░рдХреНрд╖рд╛ред  CSRF рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдЖрдк рдЗрд╕ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред <br>  рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ <i>@csrf_exempt</i> рдбреЗрдХреЛрд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред  рд▓реЗрдХрд┐рди рд╕рднреА рдХреЛ рдпрд╣ рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд▓реЗрдХрд┐рди рдПрдХ рд╕рд░рд▓ рддрд░реАрдХреЗ рд╕реЗ, рдореИрдВрдиреЗ рдПрдХ рдЧреБрдкреНрдд рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛, рдЬреЛ рдХрд┐ VKontakte рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд╕рдореВрд╣ рдкреНрд░рдмрдВрдзрди рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рд╣реИред <br><br>  рдХреЛрдб рдХрд╛ рдпрд╣ рдЯреБрдХрдбрд╝рд╛ рд╕рд░реНрд╡рд░ рд╕реЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдЬреЛ рдпрд╣ рд╣рдорд╛рд░реЗ рд╡реЗрдмрд╣реВрдХ рдХреЛ рдЗрд╡реЗрдВрдЯ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреЗрдЬреЗрдЧрд╛ред  рдЖрдЗрдП рд╣рдорд╛рд░реЗ рд╡реЗрдмрд╣реБрдХ рдХреЗ "рдкреБрд╖реНрдЯрд┐" рдХреЛ рдмрд╕ рдХрд╣рддреЗ рд╣реИрдВред <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'confirmation'</span></span>):<span class="hljs-comment"><span class="hljs-comment"># if VK server request confirmation """ For confirmation my server (webhook) it must return confirmation token, whitch issuing in administration web-panel your public group in vk.com. Using &lt;content_type="text/plain"&gt; in HttpResponse function allows you response only plain text, without any format symbols. Parametr &lt;status=200&gt; response to VK server as VK want. """ # confirmation_token from bot_config.py return HttpResponse(confirmation_token, content_type="text/plain", status=200)</span></span></code> </pre><br>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдореИрдВ рд╕рднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдПрдХ рдЕрд▓рдЧ рдмреЙрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ <i>bot_config.py рдореЗрдВ рд░рдЦрддрд╛ рд╣реВрдВ</i> рдФрд░ рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ <i>рд╣реВрдВ</i> : <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bot_config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-comment"><span class="hljs-comment"># import token, confirmation_token and over constants from bot_config.py</span></span></code> </pre><br>  bot_config.py <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- """ Configuration file for VK bot """ # token issued on the VK group web-administration page token = '...' # confirmation token issued on the VK group web-administration page in "Callback API" section confirmation_token = '...' # secret key for cross site request forgery protection. It will be in each VK server request secret_key = '...'</span></span></code> </pre><br>  рдФрд░ рдХреЛрдб рдХреЗ рдЗрд╕ рдЯреБрдХрдбрд╝реЗ рдореЗрдВ рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИ: <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'message_new'</span></span>):<span class="hljs-comment"><span class="hljs-comment"># if VK server send a message session = vk.Session() api = vk.API(session, v=5.5) user_id = data['object']['user_id'] # token from bot_config.py api.messages.send(access_token = token, user_id = str(user_id), message = "Hello, I'm bot!") return HttpResponse('ok', content_type="text/plain", status=200)</span></span></code> </pre><br>  рдЕрдЧрд░ рдХреБрдЫ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╣рд▓реЗ Django рд╕реЗрдЯрдЕрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд▓реЗрдЦ</a> рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  <strong>рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдЬрд╛рджреВ</strong> ред  рд╡реЗрдм рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдкрддреЗ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдПрдлрд╝рдЯреАрдкреА рдХреНрд▓рд╛рдЗрдВрдЯ <i>рдлрд╝рд╛рдЗрд▓рдЬрд╝рд┐рд▓рд╛ рдХреЗ</i> рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЛрдореЗрди рдХреЗ рд╕рд╛рде рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕рд░реНрд╡рд░ рдкрд░ рдЧрдпрд╛ рдФрд░ рд╡рд╣рд╛рдВ " <i>mybot.mysite.ru</i> " рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рдпрд╛, рдЗрд╕рдореЗрдВ рддреАрди рдлрд╛рдЗрд▓реЗрдВ <i>рд░рдЦреАрдВ</i> , рдЬрд┐рдирдореЗрдВ рд╕реЗ рд╕рд╛рдордЧреНрд░реА рдХреЛ рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдкрд░ рдорджрдж рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: <br><br>  .htaccess <br><pre> <code class="python hljs">AddHandler wsgi-script .wsgi RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-f RewriteRule ^(.*)$ /django.wsgi/$<span class="hljs-number"><span class="hljs-number">1</span></span> [QSA,PT,L] RewriteCond %{HTTP:X-Forwarded-Protocol} !=https RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=<span class="hljs-number"><span class="hljs-number">301</span></span>,L]</code> </pre><br>  django.wsgi <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os, sys virtual_env = os.path.expanduser(<span class="hljs-string"><span class="hljs-string">'~/virtualenv/myEnv'</span></span>) activate_this = os.path.join(virtual_env, <span class="hljs-string"><span class="hljs-string">'bin/activate_this.py'</span></span>) execfile(activate_this, dict(__file__=activate_this)) sys.path.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, os.path.join(os.path.expanduser(<span class="hljs-string"><span class="hljs-string">'~'</span></span>), <span class="hljs-string"><span class="hljs-string">'django/mybot'</span></span>)) os.environ[<span class="hljs-string"><span class="hljs-string">'DJANGO_SETTINGS_MODULE'</span></span>] = <span class="hljs-string"><span class="hljs-string">'mybot.settings'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.core.wsgi <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> get_wsgi_application application = get_wsgi_application()</code> </pre><br>  рдпрд╣рд╛рдВ "myEnv" рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рд╡рд░реНрдЪреБрдЕрд▓ рд╡рд╛рддрд╛рд╡рд░рдг рдХрд╛ рдирд╛рдо рд╣реИ, "django" рд╣реЛрд╕реНрдЯрд┐рдВрдЧ рдкрд░ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд░реВрдЯ рд╕реЗрдХреНрд╢рди рдореЗрдВ рдлрд╝реЛрд▓реНрдбрд░ рд╣реИ, "mybot" рдЙрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд╛ рдирд╛рдо рд╣реИ рдЬрд┐рд╕реЗ рд╣рдордиреЗ Django рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдпрд╛ рдерд╛ред <br><br>  index.html <br><pre> <code class="python hljs">  </code> </pre><br>  <strong>"Bind" рд╣рдорд╛рд░реЗ Webhook рдХреЛ рдмрдирд╛рдП рдЧрдП VKontakte рд╕рдореВрд╣ рдореЗрдВ рд╕рдВрджреЗрд╢ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдПред</strong> <br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо VKontakte рд╡реЗрдмрд╕рд╛рдЗрдЯ (рдКрдкрд░ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рджреЗрдЦреЗрдВ) рдкрд░ рдЕрдкрдиреЗ рд╕рдореВрд╣ рдХреЗ рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП рдЕрдиреБрднрд╛рдЧ рдкрд░ рд▓реМрдЯ рдЖрдПрдВрдЧреЗред  рд╣рдо "рдкрддрд╛" рдлрд╝реАрд▓реНрдб рдореЗрдВ рдЕрдкрдирд╛ рд╡реЗрдмрд╣реВрдХ рдкрддрд╛ рджрд░реНрдЬ рдХрд░реЗрдВрдЧреЗ <pre>  https://mybot.mysite.ru/vk_bot/ </pre>  рдФрд░ "рдкреБрд╖реНрдЯрд┐" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  рдпрджрд┐ рд╣рдорд╛рд░реА <i>рдЗрдВрдбреЗрдХреНрд╕ (рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ)</i> рдлрд╝рдВрдХреНрд╢рди, <i>/django/mybot/vk_bot/views.py</i> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦреА рдЧрдИ рд╣реИ, рддреЛ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ, <i>рдЕрд░реНрдерд╛рдд</i> рдЗрд╕рдореЗрдВ <i>рдЯрд╛рдЗрдкреЛрд╕</i> рдФрд░ рддреНрд░реБрдЯрд┐рдпрд╛рдБ рдирд╣реАрдВ рд╣реИрдВ, рдПрдХ рд╣рд░реЗ рд░рдВрдЧ рдХрд╛ рдЪреЗрдХрдорд╛рд░реНрдХ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛, рдЬреЛ рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИред <br><br>  VKontakte рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рд╣рдорд╛рд░реЗ рд╕рдореВрд╣ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, "рдЗрд╡реЗрдВрдЯ рдкреНрд░рдХрд╛рд░" рдЯреИрдм рдореЗрдВ, "рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрджреЗрд╢реЛрдВ" рдмреЙрдХреНрд╕ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреБрднрд╛рдЧ рдореЗрдВ VKontakte рд╕рд░реНрд╡рд░ рд╕реЗ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реЗ webhook рдХреЗ рд▓рд┐рдПред <br><br>  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдорд╛рд░реА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдпреЗ рд╕рдВрджреЗрд╢ <i>json</i> рд╕реНрд╡рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдВрдЧреЗ: <br><br><pre> <code class="python hljs">{<span class="hljs-string"><span class="hljs-string">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"message_new"</span></span>,<span class="hljs-string"><span class="hljs-string">"object"</span></span>:{<span class="hljs-string"><span class="hljs-string">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">891</span></span>,<span class="hljs-string"><span class="hljs-string">"date"</span></span>:<span class="hljs-number"><span class="hljs-number">1541599508</span></span>,<span class="hljs-string"><span class="hljs-string">"out"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">"user_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1.</span></span>.<span class="hljs-number"><span class="hljs-number">.1</span></span>,<span class="hljs-string"><span class="hljs-string">"read_state"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"body"</span></span>:<span class="hljs-string"><span class="hljs-string">"  "</span></span>},<span class="hljs-string"><span class="hljs-string">"group_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1.</span></span>.<span class="hljs-number"><span class="hljs-number">.4</span></span>,<span class="hljs-string"><span class="hljs-string">"secret"</span></span>:<span class="hljs-string"><span class="hljs-string">"uxSBw"</span></span>}</code> </pre><br>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <i>json</i> рд╕рдВрджреЗрд╢ рдореЗрдВ рдПрдХ "рдЧреБрдкреНрдд" рдлрд╝реАрд▓реНрдб рд╣реИред  рдпрд╣ рд╡рд╣реА рдЧреБрдкреНрдд рдХреБрдВрдЬреА рд╣реИ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ Django CSRF рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдмрдЬрд╛рдп VKontakte рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рд╕рдореВрд╣ рдкреНрд░рдмрдВрдзрди рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рдХрд┐рдпрд╛ рдерд╛, рдЬрд┐рд╕реЗ рдореБрдЭреЗ рдЕрдХреНрд╖рдо рдХрд░рдирд╛ рдерд╛ред <br><br><h3>  рдмреЙрдЯ рдХреЛ рд╕реНрдорд╛рд░реНрдЯ рдФрд░ рдмреЗрд╣рддрд░ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП? </h3><br>  рдЖрдк рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдЙрддреНрддрд░ рдХреЗ рд╕рд╛рде рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкреНрд░рд╢реНрди рдХреЗ рдЕрд░реНрде рдореЗрдВ рдирд┐рдХрдЯрддрдо рдЙрддреНрддрд░ рдХреЛ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рдмреЙрдЯ рдХреЛ рд╕рд┐рдЦрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдореИрдВ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рд▓реЗрдЦ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред <br>  рд╡рд╛рд░реНрддрд╛рд▓рд╛рдк рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмреЛрд▓рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br>  рдЖрдкрдХреЗ рд░рдЪрдирд╛рддреНрдордХ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рд╢реБрднрдХрд╛рдордирд╛рдПрдБ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi429628/">https://habr.com/ru/post/hi429628/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi429618/index.html">рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдЦреЗрд▓ XO</a></li>
<li><a href="../hi429620/index.html">рдореИрдВрдиреЗ рдЕрдкрдиреЗ рдЦреЗрд▓ рдХреЗ рд▓рд┐рдП рдорд╣рд╛рджреНрд╡реАрдкреЛрдВ рдХреЗ рдирдХреНрд╢реЗ рдХреИрд╕реЗ рдмрдирд╛рдП</a></li>
<li><a href="../hi429622/index.html">20,000 рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЗ рд╕рд╛рде рд░реЛрдмреЛрдЯ рдиреЗ рдЕрдореЗрдЬрд╝реЕрди рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛</a></li>
<li><a href="../hi429624/index.html">рдирд╛рд╕рд╛ рдХреИрд╕реЗ рд░реЛрдмреЛрдЯреЛрдВ рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░рдХреЗ рдорд╛рд░реНрдЯрд┐рдпрди рдорд┐рдЯреНрдЯреА рд╕реЗ рд░реЙрдХреЗрдЯ рдИрдВрдзрди рдмрдирд╛рдПрдЧрд╛</a></li>
<li><a href="../hi429626/index.html">рдЬреАрдиреЛрдо рдкрдЯрд╛рдЦреЗ рд╕реЗ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЕрдм рдХреЛрдИ рднреА рдбреАрдПрдирдП рдЧреБрдордирд╛рдо рдирд╣реАрдВ рд╣реЛрдЧрд╛</a></li>
<li><a href="../hi429630/index.html">"рдЦреЗрд▓ рдореЗрдВ рд░рд╛рдХреНрд╖рд╕ рдпрд╛ рдбрд░ рдХреЛ рд╡рд┐рд╡рд┐рдз рдмрдирд╛рдирд╛"</a></li>
<li><a href="../hi429632/index.html">рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЬреЛрдбрд╝рддреЗ рд╕рдордп рд╣реЛрд╕реНрдЯрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдордирд╛ рдХрд░рдиреЗ рдХреЗ рдХрд╛рд░рдг</a></li>
<li><a href="../hi429634/index.html">рдЗрд╕ рддрд░рд╣ рд╕реЗ рдПрдВрдЯреА-рдкреНрд▓рд╛рдЬрд┐рд░рд┐рдЬрд╝реНрдо рдореЗрдВ рдЛрдг рдХреА рдЦреЛрдЬ рдХрд╛рдо рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi429636/index.html">рдЕрдореЗрдЬрд╝рди рд▓рд╛рдЗрдЯреНрд╕ рдХреНрд▓рд╛рдЙрдб рдореЗрдВ 3CX PBX рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ</a></li>
<li><a href="../hi429638/index.html">рдЪреИрдЯ, рдЕрд░реНрдХ: рдЬрдЯрд┐рд▓ рдЪреИрдЯрдмреЙрдЯреНрд╕ рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>