<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ö üëÇüèΩ üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë© Informationen zum Speichern von Passw√∂rtern in der Datenbank üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ üßòüèª üà∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute werden wir sehen, wie Passw√∂rter am besten in einer Datenbank gespeichert werden und wie bekannte Plattformen dieses Problem l√∂sen. 

 Klartext ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Informationen zum Speichern von Passw√∂rtern in der Datenbank</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acribia/blog/413157/"><img src="https://habrastorage.org/webt/5m/il/hx/5milhxdjp-qtujnj6mfodpirgem.jpeg"><br><br>  Heute werden wir sehen, wie Passw√∂rter am besten in einer Datenbank gespeichert werden und wie bekannte Plattformen dieses Problem l√∂sen. <br><a name="habracut"></a><br><h3>  Klartext </h3><br>  Wenn sich die Frage nach dem Speichern von Passw√∂rtern stellte, bestand die erste Idee nat√ºrlich darin, sie einfach offen in das entsprechende Typenschild in der Datenbank zu schreiben.  Und alles w√§re in Ordnung, wenn die Kunden nicht direkt darauf zugreifen k√∂nnten.  Leider funktioniert eine solche bekannte SQL-Injection manchmal immer noch in verschiedenen Webanwendungen, ganz zu schweigen von anderen potenziellen Schwachstellen.  In Sicherheitsfragen ist es allgemein anerkannt, das Schlimmste anzunehmen und auch in einem solchen Fall einen Aktionsplan und Schutz zu erstellen.  Wir gehen davon aus, dass der Angreifer auf die eine oder andere Weise eine L√ºcke in der Webanwendung gefunden hat, indem er eine Tabelle mit den Namen und Passw√∂rtern der Benutzer entl√§dt und diese nach Belieben weiter entsorgt.  Im Allgemeinen k√∂nnen seine weiteren Aktionen wie folgt sein: <br><br><ul><li>  Ausf√ºhren unzul√§ssiger Aktionen im Namen von Benutzern, die ihre Anmeldeinformationen f√ºr eine anf√§llige Ressource verwenden: Beispielsweise ist eine Bankkarte an ein Konto gebunden, und jetzt kann ein Angreifer sie verwenden. </li><li>  ein Versuch, das empfangene Passwort f√ºr andere Ressourcen zu verwenden: Weit davon entfernt, dass Benutzer nach den Anweisungen jedes Mal neue Passw√∂rter f√ºr verschiedene Dienste entwickeln; </li><li>  ein Versuch, eine Regel zum Generieren eines Passworts zu identifizieren und zum zweiten Punkt √ºberzugehen: Einige bilden eine Regel zum Generieren eines Passworts. Infolgedessen sind die Passw√∂rter auf verschiedenen Ressourcen unterschiedlich, sie befolgen jedoch dieselbe Regel, die erkannt werden kann. </li><li>  Eskalation von Berechtigungen: Das Administratorkennwort kann auch in derselben Tabelle gespeichert werden, mit deren Wissen Sie manchmal die volle Kontrolle √ºber den Server erhalten k√∂nnen. </li></ul><br><h3>  <s>Verschl√ºsselungs-</s> Hashing </h3><br>  Die Idee stellt sich sofort als nicht so gut heraus.  Was zu tun ist?  Es w√§re toll, Passw√∂rter in verschl√ºsselter Form zu speichern.  Selbst wenn sie entfernt werden, k√∂nnen sie sich nicht erholen oder verbringen zumindest zu viel Zeit damit.  Hier besteht die Wahl zwischen zwei Entwicklungszweigen: Verschl√ºsselung von Passw√∂rtern oder Hash.  Die Entwickler haben sich f√ºr die zweite entschieden, und im Prinzip ist klar, warum.  Vergleichen Sie unsere Bewerber f√ºr verschiedene Merkmale: <br><br><ol><li>  Arbeitseinsatz.  Die Verschl√ºsselung ben√∂tigt mehr Zeit und muss unabh√§ngig von der gew√§hlten Konvertierung bei jeder Kennwortpr√ºfung durchgef√ºhrt werden.  Eine der Anforderungen f√ºr Hash-Funktionen ist die Ausf√ºhrungsgeschwindigkeit. </li><li>  Die L√§nge der Ausgabewerte.  Das Verschl√ºsselungsergebnis ist variabel lang, das Hash-Ergebnis ist immer das gleiche und das Speichern einheitlicher Daten in einer Datenbank ist sehr praktisch.  Ganz zu schweigen von der Tatsache, dass die L√§nge des Passworts in verschl√ºsselter Form einige Informationen √ºber die L√§nge des urspr√ºnglichen Passworts liefert.  Die gleiche L√§nge f√ºhrt jedoch zu Kollisionen, mehr dazu weiter unten. </li><li>  Schl√ºsselverwaltung.  F√ºr die Verschl√ºsselung ist ein Schl√ºssel erforderlich, der ebenfalls irgendwo gespeichert werden muss, und ich hoffe, dass niemand ihn findet.  In jedem Fall ist die Schl√ºsselgenerierung und -verwaltung eine separate Geschichte (sie sollten nicht schwach sein, sie m√ºssen regelm√§√üig ge√§ndert werden usw.). </li><li>  Die M√∂glichkeit eines Konflikts.  Bei der Verschl√ºsselung ist auch die Ausgabe von verschiedenen Eingabedaten immer unterschiedlich.  Beim Hashing ist dies nicht immer der Fall.  Eine konstante Hash-L√§nge bedeutet, dass der Satz von Ausgabewerten der Hash-Funktion begrenzt ist, was zu einer Kollision f√ºhrt.  Nehmen wir an, der Benutzer war wirklich verwirrt und hat sich ein wirklich cooles langes Passwort ausgedacht, das Sonderzeichen, Zahlen und Buchstaben in Klein- und Gro√übuchstaben enth√§lt.  Der Angreifer gibt das nicht weniger coole Passwort "admin" in das Passwortfeld ein.  Der Server hat es gehasht, um Hashes zu √ºberpr√ºfen und zu vergleichen.  Hashes abgestimmt.  Es ist eine Schande. </li></ol><br>  Mit einer Punktzahl von 3: 1 gewinnt das Hashing.  Aber ist es m√∂glich, dort anzuhalten? <br>  Die Antwort ist nein. <br><br><h3>  Hashed Password Attacks </h3><br>  Also bekam der Angreifer unsere Tabelle mit Benutzernamen und Passw√∂rtern.  Passw√∂rter werden jetzt gehasht, aber dies h√§lt unseren Angreifer nicht auf und er beabsichtigt ernsthaft, sie wiederherzustellen.  Seine m√∂glichen Aktionen: <br><br><ul><li>  dictionary bruteforce: Wenn der Angreifer mit dem Referenzkennwort des Administrators keinen Erfolg hatte, greift er zum W√∂rterbuch der g√§ngigen Kennw√∂rter und versucht sein Gl√ºck mit deren Hashes. </li><li>  Regenbogentabellen: Im Allgemeinen muss er heute vielleicht nichts berechnen und das W√∂rterbuch sortieren.  Es wird ausreichen, sich an die im Netzwerk liegenden Regenbogentische zu wenden.  Regenbogentabellen enthalten Hash-Werte, die bereits zuvor von jemandem berechnet wurden, und die entsprechenden Eingabedaten.  Es ist wichtig zu beachten, dass aufgrund von Kollisionen das Kennwort, das die Regenbogentabelle bietet, nicht unbedingt das Kennwort ist, das der Benutzer verwendet.  Die berechneten Werte gelten bereits f√ºr MD5, SHA1, SHA256, SHA512 sowie f√ºr deren Modifikationen und einige andere.  Sie k√∂nnen beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> versuchen, den Hash umzukehren. </li><li>  Umfassende Suche: Wenn dies nicht hilft, m√ºssen Sie auf Brute Force zur√ºckgreifen und alle m√∂glichen Passw√∂rter hintereinander durchlaufen, bis die berechneten Hashes endg√ºltig √ºbereinstimmen. </li></ul><br>  Im allgemeinsten Fall muss ein Angreifer Passw√∂rter knacken.  Und hier h√§ngt sein Erfolg unter anderem von der Geschwindigkeit ab, mit der die Hash-Funktion berechnet wird.  Einen Vergleich der Zeit der Hashes finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Beispielsweise wurden Java-implementierte Hash-Funktionen unter 64-Bit-Windows 10 mit 1 Core Intel i7 2,60 GHz und 16 GB RAM millionenfach ausgef√ºhrt, um einen 36-Zeichen-Hash zu berechnen.  Sie zeigten die folgenden Ergebnisse: <br><br>  MD5 - 627 ms <br>  SHA-1 - 604 ms <br>  SHA-256 - 739 ms <br>  SHA-512 - 1056 ms <br><br>  Heute kann Bruteforce auf der GPU (sowie auf APU, DSP und FPGA) parallelisiert und um ein Vielfaches schneller ausgef√ºhrt werden.  Zus√§tzlich zur Auswahl eines l√§ngeren Algorithmus und einer l√§ngeren Ausgabe k√∂nnen Sie jedoch noch etwas anderes tun. <br><br><h3>  Hash Hash </h3><br>  Um zu verhindern, dass ein Angreifer vorgefertigte Regenbogentabellen verwendet, gibt es eine Technik, mit der ein Kennwort mehrmals gehasht werden kann.  Das hei√üt, wir berechnen den Hash aus dem Hash aus dem Hash aus dem Hash ... und so n-mal (es ist jedoch notwendig, sich nicht zu sehr darauf einzulassen, da der Server dies auch w√§hrend der regelm√§√üigen √úberpr√ºfung des Benutzerpassworts tun muss).  Jetzt ist es laut Regenbogentabelle so einfach, dass er das Passwort nicht findet und die Zeit f√ºr rohe Gewalt erheblich l√§nger wird.  Nichts hindert den Angreifer jedoch daran, eine Regenbogentabelle aus dem Kennwortw√∂rterbuch zu generieren, wenn er den Hashing-Algorithmus kennt.  Dar√ºber hinaus wurden f√ºr die beliebtesten Kombinationen dieser Methode bereits solche Tabellen generiert: <br><br><img src="https://habrastorage.org/webt/wr/la/gr/wrlagrdaz9zpo8gm4lku4s7wvvc.jpeg">  "" <br><br><h3>  Nach Geschmack Salz hinzuf√ºgen </h3><br>  Damit er dies nicht tun konnte, werden heute Passw√∂rter mit Salzzusatz gehasht. <br>  Ein Salt ist eine zus√§tzliche zuf√§llige Zeichenfolge, die einem Kennwort zugewiesen und damit gehasht wird.  Sie k√∂nnen das Passwort nicht aus dem so erhaltenen Hash aus der Regenbogentabelle wiederherstellen.  Wenn der Angreifer das Salz und den Ausgabe-Hash kennt, ist er zu brutaler Gewalt verurteilt, und keine vorberechneten Tabellen werden ihm h√∂chstwahrscheinlich helfen. <br>  Passwort-Salztaxonomie: <br><br>  1. Nach dem Prinzip des Salzens: <br><br><ul><li>  Ein einzigartiges Salz f√ºr jeden Benutzer: Individuell f√ºr jeden Benutzer. Auf diese Weise muss jedes Passwort gel√∂scht werden, wenn das Salz dem Angreifer bekannt wird.  Und selbst wenn zwei Benutzer gleich denken und identische Passw√∂rter finden, sind die Hashes in der Ausgabe immer noch unterschiedlich. </li><li>  globales Salz: f√ºr alle gleich, f√ºr alle Hashes verwendet; </li><li>  beide. </li></ul><br>  2. Nach der Art der Salzlagerung: <br><br><ul><li>  in der Datenbank: In der Regel werden einzelne Salze in derselben Datenbank gespeichert wie Passwort-Hashes;  oft sogar auf derselben Linie; </li><li>  im Code (lesen: in der Konfiguration): Das globale Salt wird normalerweise nicht in der Datenbank gespeichert, sondern beispielsweise in der Konfiguration, so dass der √úbertreter Zeit f√ºr seine Auswahl aufwenden m√ºsste. </li></ul><br>  Wir gehen davon aus, dass die einzelnen Benutzersalze in der Datenbank gespeichert sind, das globale Salz in der Konfiguration.  Der Angreifer hat Zugriff auf die Datenbank erhalten und kennt alle Hashes und die entsprechenden Salze (das globale Salz ist nicht in der Datenbank gespeichert und er kennt es nicht).  Wenn alle Methoden kombiniert werden, um Passw√∂rter in klarer Form zu erhalten, wie dies bei den ersten Systemen der Fall war, st√∂√üt er als √§u√üerst zielstrebig auf die folgenden Hindernisse: <br><br><ol><li>  Er kennt das globale Salz nicht, deshalb muss es brutalisiert werden. </li><li>  Er kennt die Salze der Benutzer, hat jedoch keine Tabellen mit diesen Salzen vorbereitet, sodass er Passw√∂rter knacken muss. </li><li>  Dieser Vorgang dauert noch l√§nger, da Sie n-mal Hashes ausf√ºhren m√ºssen. </li></ol><br><h3>  Wie speichern Passw√∂rter verschiedene CMS? </h3><br><h4>  Wordpress </h4><br>  Vor Version 3.x wurden Passw√∂rter einfach mit MD5 gehasht.  Jetzt wird die Phpass-Bibliothek verwendet.  Standardm√§√üig wird dem vorangestellten Kennwort Salt zugewiesen und die resultierende Zeichenfolge wird 2 ^ 8 Mal mit MD5 gehasht. <br><br><h4>  Joomla </h4><br>  Vor Version 1.0.12 wurde nur MD5 verwendet.  Die Phpass-Bibliothek wird standardm√§√üig mit Salz und 2 ^ 10 Wiederholungen bcrypt verwendet. <br><br><h4>  Drupal </h4><br>  Bis zur Version 6 md5 ohne Salz.  Die Phpass-Bibliothek wird verwendet.  Die Standardeinstellung ist gesalzen sha512 mit 2 ^ 16 Wiederholungen. <br><br><h4>  Silberstreifen </h4><br>  Verwendet salzigen Blowfish mit 2 ^ 10 Wiederholungen. <br><br><h4>  Umbraco </h4><br>  Verwendet HMACSHA256 mit Salz.  Verwendet das zweite in der Konfiguration angegebene globale Salt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413157/">https://habr.com/ru/post/de413157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413145/index.html">Analyst hilft Unternehmen, Geld zu verdienen</a></li>
<li><a href="../de413147/index.html">Ist es m√∂glich, Tibero anstelle von Oracle zu verwenden? Und ist es notwendig</a></li>
<li><a href="../de413149/index.html">Verteiltes Data Warehouse im Data Lake-Konzept: Wo soll ich anfangen?</a></li>
<li><a href="../de413151/index.html">Die NSA schlug einen Verschl√ºsselungsstandard f√ºr IoT-Ger√§te vor, der von ISO jedoch abgelehnt wurde</a></li>
<li><a href="../de413155/index.html">Googles Shell Style Guide (auf Russisch)</a></li>
<li><a href="../de413159/index.html">Dunkle oder helle Benutzeroberfl√§che? Tipps zur Auswahl eines Farbschemas f√ºr Ihre Benutzeroberfl√§che</a></li>
<li><a href="../de413161/index.html">Git Gedicht</a></li>
<li><a href="../de413163/index.html">HTTPS-Schw√§chen. Teil 2</a></li>
<li><a href="../de413165/index.html">SRTP-Erkl√§rung</a></li>
<li><a href="../de413167/index.html">Wie kann ich Zimbra in ein DLP-System integrieren?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>