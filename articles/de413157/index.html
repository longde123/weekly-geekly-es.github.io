<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥅 👂🏽 👩‍❤️‍💋‍👩 Informationen zum Speichern von Passwörtern in der Datenbank 👩‍👩‍👦‍👦 🧘🏻 🈺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute werden wir sehen, wie Passwörter am besten in einer Datenbank gespeichert werden und wie bekannte Plattformen dieses Problem lösen. 

 Klartext ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Informationen zum Speichern von Passwörtern in der Datenbank</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acribia/blog/413157/"><img src="https://habrastorage.org/webt/5m/il/hx/5milhxdjp-qtujnj6mfodpirgem.jpeg"><br><br>  Heute werden wir sehen, wie Passwörter am besten in einer Datenbank gespeichert werden und wie bekannte Plattformen dieses Problem lösen. <br><a name="habracut"></a><br><h3>  Klartext </h3><br>  Wenn sich die Frage nach dem Speichern von Passwörtern stellte, bestand die erste Idee natürlich darin, sie einfach offen in das entsprechende Typenschild in der Datenbank zu schreiben.  Und alles wäre in Ordnung, wenn die Kunden nicht direkt darauf zugreifen könnten.  Leider funktioniert eine solche bekannte SQL-Injection manchmal immer noch in verschiedenen Webanwendungen, ganz zu schweigen von anderen potenziellen Schwachstellen.  In Sicherheitsfragen ist es allgemein anerkannt, das Schlimmste anzunehmen und auch in einem solchen Fall einen Aktionsplan und Schutz zu erstellen.  Wir gehen davon aus, dass der Angreifer auf die eine oder andere Weise eine Lücke in der Webanwendung gefunden hat, indem er eine Tabelle mit den Namen und Passwörtern der Benutzer entlädt und diese nach Belieben weiter entsorgt.  Im Allgemeinen können seine weiteren Aktionen wie folgt sein: <br><br><ul><li>  Ausführen unzulässiger Aktionen im Namen von Benutzern, die ihre Anmeldeinformationen für eine anfällige Ressource verwenden: Beispielsweise ist eine Bankkarte an ein Konto gebunden, und jetzt kann ein Angreifer sie verwenden. </li><li>  ein Versuch, das empfangene Passwort für andere Ressourcen zu verwenden: Weit davon entfernt, dass Benutzer nach den Anweisungen jedes Mal neue Passwörter für verschiedene Dienste entwickeln; </li><li>  ein Versuch, eine Regel zum Generieren eines Passworts zu identifizieren und zum zweiten Punkt überzugehen: Einige bilden eine Regel zum Generieren eines Passworts. Infolgedessen sind die Passwörter auf verschiedenen Ressourcen unterschiedlich, sie befolgen jedoch dieselbe Regel, die erkannt werden kann. </li><li>  Eskalation von Berechtigungen: Das Administratorkennwort kann auch in derselben Tabelle gespeichert werden, mit deren Wissen Sie manchmal die volle Kontrolle über den Server erhalten können. </li></ul><br><h3>  <s>Verschlüsselungs-</s> Hashing </h3><br>  Die Idee stellt sich sofort als nicht so gut heraus.  Was zu tun ist?  Es wäre toll, Passwörter in verschlüsselter Form zu speichern.  Selbst wenn sie entfernt werden, können sie sich nicht erholen oder verbringen zumindest zu viel Zeit damit.  Hier besteht die Wahl zwischen zwei Entwicklungszweigen: Verschlüsselung von Passwörtern oder Hash.  Die Entwickler haben sich für die zweite entschieden, und im Prinzip ist klar, warum.  Vergleichen Sie unsere Bewerber für verschiedene Merkmale: <br><br><ol><li>  Arbeitseinsatz.  Die Verschlüsselung benötigt mehr Zeit und muss unabhängig von der gewählten Konvertierung bei jeder Kennwortprüfung durchgeführt werden.  Eine der Anforderungen für Hash-Funktionen ist die Ausführungsgeschwindigkeit. </li><li>  Die Länge der Ausgabewerte.  Das Verschlüsselungsergebnis ist variabel lang, das Hash-Ergebnis ist immer das gleiche und das Speichern einheitlicher Daten in einer Datenbank ist sehr praktisch.  Ganz zu schweigen von der Tatsache, dass die Länge des Passworts in verschlüsselter Form einige Informationen über die Länge des ursprünglichen Passworts liefert.  Die gleiche Länge führt jedoch zu Kollisionen, mehr dazu weiter unten. </li><li>  Schlüsselverwaltung.  Für die Verschlüsselung ist ein Schlüssel erforderlich, der ebenfalls irgendwo gespeichert werden muss, und ich hoffe, dass niemand ihn findet.  In jedem Fall ist die Schlüsselgenerierung und -verwaltung eine separate Geschichte (sie sollten nicht schwach sein, sie müssen regelmäßig geändert werden usw.). </li><li>  Die Möglichkeit eines Konflikts.  Bei der Verschlüsselung ist auch die Ausgabe von verschiedenen Eingabedaten immer unterschiedlich.  Beim Hashing ist dies nicht immer der Fall.  Eine konstante Hash-Länge bedeutet, dass der Satz von Ausgabewerten der Hash-Funktion begrenzt ist, was zu einer Kollision führt.  Nehmen wir an, der Benutzer war wirklich verwirrt und hat sich ein wirklich cooles langes Passwort ausgedacht, das Sonderzeichen, Zahlen und Buchstaben in Klein- und Großbuchstaben enthält.  Der Angreifer gibt das nicht weniger coole Passwort "admin" in das Passwortfeld ein.  Der Server hat es gehasht, um Hashes zu überprüfen und zu vergleichen.  Hashes abgestimmt.  Es ist eine Schande. </li></ol><br>  Mit einer Punktzahl von 3: 1 gewinnt das Hashing.  Aber ist es möglich, dort anzuhalten? <br>  Die Antwort ist nein. <br><br><h3>  Hashed Password Attacks </h3><br>  Also bekam der Angreifer unsere Tabelle mit Benutzernamen und Passwörtern.  Passwörter werden jetzt gehasht, aber dies hält unseren Angreifer nicht auf und er beabsichtigt ernsthaft, sie wiederherzustellen.  Seine möglichen Aktionen: <br><br><ul><li>  dictionary bruteforce: Wenn der Angreifer mit dem Referenzkennwort des Administrators keinen Erfolg hatte, greift er zum Wörterbuch der gängigen Kennwörter und versucht sein Glück mit deren Hashes. </li><li>  Regenbogentabellen: Im Allgemeinen muss er heute vielleicht nichts berechnen und das Wörterbuch sortieren.  Es wird ausreichen, sich an die im Netzwerk liegenden Regenbogentische zu wenden.  Regenbogentabellen enthalten Hash-Werte, die bereits zuvor von jemandem berechnet wurden, und die entsprechenden Eingabedaten.  Es ist wichtig zu beachten, dass aufgrund von Kollisionen das Kennwort, das die Regenbogentabelle bietet, nicht unbedingt das Kennwort ist, das der Benutzer verwendet.  Die berechneten Werte gelten bereits für MD5, SHA1, SHA256, SHA512 sowie für deren Modifikationen und einige andere.  Sie können beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> versuchen, den Hash umzukehren. </li><li>  Umfassende Suche: Wenn dies nicht hilft, müssen Sie auf Brute Force zurückgreifen und alle möglichen Passwörter hintereinander durchlaufen, bis die berechneten Hashes endgültig übereinstimmen. </li></ul><br>  Im allgemeinsten Fall muss ein Angreifer Passwörter knacken.  Und hier hängt sein Erfolg unter anderem von der Geschwindigkeit ab, mit der die Hash-Funktion berechnet wird.  Einen Vergleich der Zeit der Hashes finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Beispielsweise wurden Java-implementierte Hash-Funktionen unter 64-Bit-Windows 10 mit 1 Core Intel i7 2,60 GHz und 16 GB RAM millionenfach ausgeführt, um einen 36-Zeichen-Hash zu berechnen.  Sie zeigten die folgenden Ergebnisse: <br><br>  MD5 - 627 ms <br>  SHA-1 - 604 ms <br>  SHA-256 - 739 ms <br>  SHA-512 - 1056 ms <br><br>  Heute kann Bruteforce auf der GPU (sowie auf APU, DSP und FPGA) parallelisiert und um ein Vielfaches schneller ausgeführt werden.  Zusätzlich zur Auswahl eines längeren Algorithmus und einer längeren Ausgabe können Sie jedoch noch etwas anderes tun. <br><br><h3>  Hash Hash </h3><br>  Um zu verhindern, dass ein Angreifer vorgefertigte Regenbogentabellen verwendet, gibt es eine Technik, mit der ein Kennwort mehrmals gehasht werden kann.  Das heißt, wir berechnen den Hash aus dem Hash aus dem Hash aus dem Hash ... und so n-mal (es ist jedoch notwendig, sich nicht zu sehr darauf einzulassen, da der Server dies auch während der regelmäßigen Überprüfung des Benutzerpassworts tun muss).  Jetzt ist es laut Regenbogentabelle so einfach, dass er das Passwort nicht findet und die Zeit für rohe Gewalt erheblich länger wird.  Nichts hindert den Angreifer jedoch daran, eine Regenbogentabelle aus dem Kennwortwörterbuch zu generieren, wenn er den Hashing-Algorithmus kennt.  Darüber hinaus wurden für die beliebtesten Kombinationen dieser Methode bereits solche Tabellen generiert: <br><br><img src="https://habrastorage.org/webt/wr/la/gr/wrlagrdaz9zpo8gm4lku4s7wvvc.jpeg">  "" <br><br><h3>  Nach Geschmack Salz hinzufügen </h3><br>  Damit er dies nicht tun konnte, werden heute Passwörter mit Salzzusatz gehasht. <br>  Ein Salt ist eine zusätzliche zufällige Zeichenfolge, die einem Kennwort zugewiesen und damit gehasht wird.  Sie können das Passwort nicht aus dem so erhaltenen Hash aus der Regenbogentabelle wiederherstellen.  Wenn der Angreifer das Salz und den Ausgabe-Hash kennt, ist er zu brutaler Gewalt verurteilt, und keine vorberechneten Tabellen werden ihm höchstwahrscheinlich helfen. <br>  Passwort-Salztaxonomie: <br><br>  1. Nach dem Prinzip des Salzens: <br><br><ul><li>  Ein einzigartiges Salz für jeden Benutzer: Individuell für jeden Benutzer. Auf diese Weise muss jedes Passwort gelöscht werden, wenn das Salz dem Angreifer bekannt wird.  Und selbst wenn zwei Benutzer gleich denken und identische Passwörter finden, sind die Hashes in der Ausgabe immer noch unterschiedlich. </li><li>  globales Salz: für alle gleich, für alle Hashes verwendet; </li><li>  beide. </li></ul><br>  2. Nach der Art der Salzlagerung: <br><br><ul><li>  in der Datenbank: In der Regel werden einzelne Salze in derselben Datenbank gespeichert wie Passwort-Hashes;  oft sogar auf derselben Linie; </li><li>  im Code (lesen: in der Konfiguration): Das globale Salt wird normalerweise nicht in der Datenbank gespeichert, sondern beispielsweise in der Konfiguration, so dass der Übertreter Zeit für seine Auswahl aufwenden müsste. </li></ul><br>  Wir gehen davon aus, dass die einzelnen Benutzersalze in der Datenbank gespeichert sind, das globale Salz in der Konfiguration.  Der Angreifer hat Zugriff auf die Datenbank erhalten und kennt alle Hashes und die entsprechenden Salze (das globale Salz ist nicht in der Datenbank gespeichert und er kennt es nicht).  Wenn alle Methoden kombiniert werden, um Passwörter in klarer Form zu erhalten, wie dies bei den ersten Systemen der Fall war, stößt er als äußerst zielstrebig auf die folgenden Hindernisse: <br><br><ol><li>  Er kennt das globale Salz nicht, deshalb muss es brutalisiert werden. </li><li>  Er kennt die Salze der Benutzer, hat jedoch keine Tabellen mit diesen Salzen vorbereitet, sodass er Passwörter knacken muss. </li><li>  Dieser Vorgang dauert noch länger, da Sie n-mal Hashes ausführen müssen. </li></ol><br><h3>  Wie speichern Passwörter verschiedene CMS? </h3><br><h4>  Wordpress </h4><br>  Vor Version 3.x wurden Passwörter einfach mit MD5 gehasht.  Jetzt wird die Phpass-Bibliothek verwendet.  Standardmäßig wird dem vorangestellten Kennwort Salt zugewiesen und die resultierende Zeichenfolge wird 2 ^ 8 Mal mit MD5 gehasht. <br><br><h4>  Joomla </h4><br>  Vor Version 1.0.12 wurde nur MD5 verwendet.  Die Phpass-Bibliothek wird standardmäßig mit Salz und 2 ^ 10 Wiederholungen bcrypt verwendet. <br><br><h4>  Drupal </h4><br>  Bis zur Version 6 md5 ohne Salz.  Die Phpass-Bibliothek wird verwendet.  Die Standardeinstellung ist gesalzen sha512 mit 2 ^ 16 Wiederholungen. <br><br><h4>  Silberstreifen </h4><br>  Verwendet salzigen Blowfish mit 2 ^ 10 Wiederholungen. <br><br><h4>  Umbraco </h4><br>  Verwendet HMACSHA256 mit Salz.  Verwendet das zweite in der Konfiguration angegebene globale Salt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413157/">https://habr.com/ru/post/de413157/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413145/index.html">Analyst hilft Unternehmen, Geld zu verdienen</a></li>
<li><a href="../de413147/index.html">Ist es möglich, Tibero anstelle von Oracle zu verwenden? Und ist es notwendig</a></li>
<li><a href="../de413149/index.html">Verteiltes Data Warehouse im Data Lake-Konzept: Wo soll ich anfangen?</a></li>
<li><a href="../de413151/index.html">Die NSA schlug einen Verschlüsselungsstandard für IoT-Geräte vor, der von ISO jedoch abgelehnt wurde</a></li>
<li><a href="../de413155/index.html">Googles Shell Style Guide (auf Russisch)</a></li>
<li><a href="../de413159/index.html">Dunkle oder helle Benutzeroberfläche? Tipps zur Auswahl eines Farbschemas für Ihre Benutzeroberfläche</a></li>
<li><a href="../de413161/index.html">Git Gedicht</a></li>
<li><a href="../de413163/index.html">HTTPS-Schwächen. Teil 2</a></li>
<li><a href="../de413165/index.html">SRTP-Erklärung</a></li>
<li><a href="../de413167/index.html">Wie kann ich Zimbra in ein DLP-System integrieren?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>