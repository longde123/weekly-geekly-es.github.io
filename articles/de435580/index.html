<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☣️ 🚣🏽 ☁️ Java, Spring, Kurento und Media Services 🏙️ 🎉 👨🏽‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt bereits viele Mediendienste, aber die Leute erstellen sie weiterhin. Ich beschloss, die Erfindung meines Fahrrads aufzugreifen. 

 Nachdem ich...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java, Spring, Kurento und Media Services</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435580/"><img src="https://habrastorage.org/webt/ap/xa/rv/apxarv_-q_ih1dky7ej145gk2xu.png"><br><br>  Es gibt bereits viele Mediendienste, aber die Leute erstellen sie weiterhin.  Ich beschloss, die Erfindung meines Fahrrads aufzugreifen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nachdem ich auf das Kurento-</a> Projekt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gestoßen war</a> , wurde mir klar, dass ich das brauche.  Dieser Artikel ist teilweise eine Übersetzung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kurento-Dokumentation</a> , teilweise Anmerkungen zu meinen Experimenten mit dem KurentoTutorial.  Ich hoffe, dass die Entwickler, die mit der Untersuchung dieses Problems beginnen, dieses Material dazu beitragen, das Thema der Erstellung von Mediendiensten schnell zu beherrschen. <br><a name="habracut"></a><br>  Kurento c Esperanto bedeutet "Stream".  Entworfen von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rey</a> Spanish University <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Juan Carlos Universidad</a> .  Kurento ist WebRTC Media Server und eine Reihe von Client-APIs, die die Erstellung von Anwendungen für das Web und Smartphones vereinfachen.  Dies kann Videotelefonie, Videokonferenzdienste, das Überwachen von Bildern von Kameras mit Bewegungserkennung, das Abspielen von Audio-Video-Inhalten aus einer Datei oder einem Netzwerk, das Erkennen von Personen- oder Autonummern und vieles mehr sein.  Der Kurento-Code ist Open Source, wird unter den Bedingungen der <a href="">Apache License Version 2.0 vertrieben</a> und ist auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> verfügbar.  Laut den Machern von Kurento ähnelt es Lego, viele nützliche Anwendungen können aus seinen Programmblöcken erstellt werden.  Blöcke können direkt "out of the box" verwendet werden, aber Sie können auch Ihre eigenen Plugins entwickeln, wenn Sie dies wünschen. <br><br>  Beispiele für Webanwendungen finden sich in Java, Node.js und JavaScript. Obwohl es in jeder Sprache entwickelt werden kann, sollte der Austausch mit Kurento Media Server hauptsächlich über das Kurento-Protokoll erfolgen, das es versteht.  Es stimmt, Bibliotheken wurden bereits für die oben genannten Sprachen erfunden, sodass es weniger Probleme gibt.  Und da ich Java und Spring lerne, werden meine Kommentare für diese Beispiele sein. <br><br>  Jedes Tutorial mit Selbstachtung beginnt mit der HelloWorld-App.  Dies war keine Ausnahme.  Bevor Sie jedoch die erste Anwendung schreiben, müssen Sie KMS - Kurento Media Server installieren, der in C ++ geschrieben und nur unter Ubuntu oder Linux Mint installiert ist. Die Version (zum Zeitpunkt des Schreibens) sollte zwischen 14 und 18 liegen. Ich habe sofort die Linux Mint 19-Version installiert und KMS wurde nicht installiert, ich musste auf den 18. zurückrollen. <br><br>  Nun, wir haben das System Intellij Idea installiert, das Kurento-Repository hinzugefügt und KMS installiert: <br><br><pre><code class="plaintext hljs">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 5AFA7A83</code> </pre> <br><pre> <code class="plaintext hljs">sudo tee "/etc/apt/sources.list.d/kurento.list" &gt;/dev/null &lt;&lt;EOF # Kurento Media Server - Release packages deb [arch=amd64] http://ubuntu.openvidu.io/6.7.1 $DISTRO kms6 EOF</code> </pre> <br><pre> <code class="plaintext hljs">sudo apt-get update</code> </pre> <br><pre> <code class="plaintext hljs">sudo apt-get install kurento-media-server</code> </pre> <br>  Wir starten das KMS-Team: <br><br><pre> <code class="plaintext hljs">sudo service kurento-media-server start</code> </pre> <br>  Klonen Sie das gesamte Tutorial für Java: <br><br><pre> <code class="plaintext hljs">git clone https://github.com/Kurento/kurento-tutorial-java.git</code> </pre> <br>  Gehen Sie zum gewünschten Verzeichnis <br><br><pre> <code class="plaintext hljs">cd kurento-tutorial-java/kurento-hello-world</code> </pre> <br>  Wir starten die Anwendung unter Maven oder, wie in meinem Fall, über die Idee.  Nach dem Starten der Webanwendung gehen wir durch den Firefox-Browser unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">localhost</a> : 8443 / Wir sehen eine Seite, auf der wir nach dem Klicken auf die Schaltfläche "Start" etwas Ähnliches erhalten <br><br><img src="https://habrastorage.org/webt/am/y3/kh/amy3kh704muxyrcjrygs3u8ht9k.png" alt="Bild"><br><br>  Im linken Videoelement wird ein Bild von der Webkamera angezeigt, und im rechten das gleiche Bild, aber das Bild wird durch den KMS-Loopback zurückgeleitet. <br><br>  Basierend auf dieser Erfahrung kommen wir zu dem Schluss: HelloWorld läuft fast immer. <br>  Nun wollen wir sehen, wie es funktioniert.  Diese Abbildung zeigt das Verbindungsdiagramm von Teilen unserer Erfahrung. <br><br><img src="https://habrastorage.org/webt/ed/cp/lr/edcplrji_bsnvkaj6b1h9osrsx0.png" alt="Bild"><br><br>  Sieht schematisch so aus, wie ich es beschrieben habe.  Unsere Erfahrung besteht logischerweise aus drei Hauptteilen: im JavaScript-Client-Browser gehostet, nur der Anwendungsserver kompiliert und ganz am Anfang von Kurento Media Server installiert.  Das Zusammenspiel dieser Teile ist in der folgenden Abbildung dargestellt. <br><br><img src="https://habrastorage.org/webt/rc/00/6p/rc006pdrgdwmtnkruidskchsxp8.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/fm/ds/-o/fmds-ok0in-3y3jvdqg4jo1bui4.png" alt="Bild"><br><br>  Der JavaScript-Client sendet dem Anwendungsserver eine Start-Textnachricht.  Application Server führt in dieser Anwendung drei Hauptaktionen aus: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> MediaPipeline pipeline = kurento.createMediaPipeline(); user.setMediaPipeline(pipeline); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> WebRtcEndpoint webRtcEp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebRtcEndpoint.Builder(pipeline).build(); user.setWebRtcEndpoint(webRtcEp); webRtcEp.connect(webRtcEp);</code> </pre> <br>  Erstellt eine MediaPipeline, über die der Medienverkehr übertragen wird, erstellt ein WebRtcEndpoint-Objekt, das den Medienverkehr verarbeitet, und verpackt die Übertragung dieses Blocks zum Empfang in sich selbst. <br><br>  Damit ist meine kurze Einführung in die HelloWorld-Anwendung mit Kurento abgeschlossen.  Ich wünsche Ihnen die erfolgreiche Erstellung von Mediendiensten. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nächster Artikel</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435580/">https://habr.com/ru/post/de435580/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435568/index.html">VyOS OpenSource Router</a></li>
<li><a href="../de435572/index.html">Anycubic i3 Mega: Qualitäts-Remake von Prusa i3</a></li>
<li><a href="../de435574/index.html">Wie funktioniert Zickzack?</a></li>
<li><a href="../de435576/index.html">1C, keine Schmerzen</a></li>
<li><a href="../de435578/index.html">Weltraumspaziergang zu Weihnachten</a></li>
<li><a href="../de435582/index.html">Wie füge ich einen Index auf einem geladenen System rund um die Uhr ohne Ausfallzeiten hinzu?</a></li>
<li><a href="../de435584/index.html">Slush 2018. Erster Tag, Zweiter Tag</a></li>
<li><a href="../de435586/index.html">Die Kunst des Schamanismus oder der benutzerdefinierten Firmware für Olinuxino. Kernel und Ubuntu Teil 3</a></li>
<li><a href="../de435588/index.html">Förderung einer mobilen Anwendung mit echter Erfahrung in Zahlen</a></li>
<li><a href="../de435590/index.html">Erneute Prognose, Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>