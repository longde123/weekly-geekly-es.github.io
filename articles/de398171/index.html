<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôåüèø üë©üèª‚Äçüîß üßñüèª Speedran Legend of Zelda durch Manipulation des Spielspeichers üò† ü•í üëµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der erste Teil von Legend of Zelda ist ein unsterblicher Klassiker. Ein gew√∂hnlicher Spieler braucht ein paar Tage, um es zu beenden, aber f√ºr die erf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Speedran Legend of Zelda durch Manipulation des Spielspeichers</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/398171/"><img src="https://habrastorage.org/files/701/c03/116/701c03116f934cefae40e022f041694b.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Teil von Legend of Zelda ist ein unsterblicher Klassiker. </font><font style="vertical-align: inherit;">Ein gew√∂hnlicher Spieler braucht ein paar Tage, um es zu beenden, aber f√ºr die erfahrensten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speedrunner ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dies eine halbst√ºndige Frage. </font><font style="vertical-align: inherit;">Der sehr verwirrende und komplexe Fehler, der von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sockfolder</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ge√∂ffnet wurde, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">erm√∂glicht</font></a><font style="vertical-align: inherit;"> es dem Benutzer jedoch, beliebigen Code direkt aus dem Spiel auszuf√ºhren, um das Spiel in weniger als drei Minuten abzuschlie√üen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kurz gesagt geschieht dies wie folgt:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie den Code auf dem Bildschirm zur Namenseingabe ein.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir betreten den zweiten Kerker und pfeifen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir gehen zum Friedhof, wir nennen zehn Geister.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir warten auf die notwendigen Bedingungen, pausieren das Spiel, wenn sich die Kreaturen an bestimmten Orten befinden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Machen Sie eine Pause, dr√ºcken Sie gleichzeitig A und B und fertig!</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, das ist gro√üartig. </font><font style="vertical-align: inherit;">Schauen wir uns nun genauer an, was im Spiel passiert und wie dieser erstaunliche Legend of Zelda-Fehler ausgef√ºhrt wird.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/files/e6c/f8f/4a2/e6cf8f4a2d224bf7aa42b38aa3eb5f35.jpg"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So verursachen Sie einen Fehler</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also geben wir zuerst den Code auf dem Namenseingabebildschirm ein. </font><font style="vertical-align: inherit;">Dateinamen werden im Speicher gespeichert, und jedes Zeichen entspricht einem bestimmten Byte im Speicher. </font><font style="vertical-align: inherit;">Wir geben Dateien seltsame Namen, weil wir tats√§chlich die erforderlichen Bytes in den Speicher schreiben, der dann zu Assembler-Code wird. </font><font style="vertical-align: inherit;">Es gibt nur zwei Einschr√§nkungen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir k√∂nnen mit nur drei Dateien arbeiten, dh das Programm kann nur 3 * 8 Zeichen = 24 Bytes enthalten.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir m√ºssen als erste f√ºnf Zeichen einer der ZELDA-Dateien eingeben, wenn wir mit der zweiten Quest beginnen m√∂chten.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/files/d13/582/f86/d13582f8628f4c6791a8ee3e6a9df874.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir m√ºssen mit der zweiten Suche aus einem Grund beginnen, den ich sp√§ter erl√§utern werde. Wir rufen die erste ZELDA-Datei auf, da dieser Name am besten geeignet ist. Jetzt starten wir das Spiel. Bevor wir zum Friedhof kommen, unterscheidet sich unser Verhalten praktisch nicht vom √ºblichen Spiel. Die Hauptsache, die wir tun m√ºssen, ist zu versuchen, nicht zweimal zu sterben. Mit "sterben" ist sowohl der Tod selbst als auch der h√§ufige √úbergang zum Men√º gemeint. Sie werden anhand weiterer Erkl√§rungen verstehen, warum dies so ist.</font></font><br>
<br>
<img src="https://habrastorage.org/files/3ff/108/e9c/3ff108e9cef14482b369868acd4dd11b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die Pfeife bekommen haben, gehen wir zu diesem Friedhofsbildschirm, um den Fehler zu beheben. Der Fehler wird hier ausgel√∂st, da bei Verwendung der Pfeife aus dem Grabstein ein Objekt erstellt wird, das eine versteckte Treppe √∂ffnet. Dies ist f√ºr das Auftreten eines Fehlers erforderlich. Und das alles ist auf die Einschr√§nkungen von Sprites zur√ºckzuf√ºhren. In Legend of Zelda kann der Bildschirm bis zu 11 Sprites gleichzeitig enthalten. Wenn Sie versuchen, ein 12. Sprite zu erstellen, k√∂nnen Sie dies im Spiel nicht tun. Um den Fehler zu reproduzieren, brechen wir die √úberlaufgrenze und erstellen das 12. Sprite. </font></font><br>
<br>
<img src="https://habrastorage.org/files/ae4/55b/976/ae455b97608e4b89b6c3aa31230bc126.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie das Pfeifobjekt erstellen, vergisst das Spiel zu √ºberpr√ºfen, wie viele Sprites zuvor auf dem Bildschirm waren. Wenn wir die maximale Anzahl von Sprites erstellt haben, wird daher ein Sprite au√üerhalb der Sprite-Tabelle erstellt, der Speicher wird √ºberschrieben und es tritt ein unerwarteter Status auf.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ab dem Offset 350 befindet sich ein kleines Fragment im Speicher, in dem die Kennungen von elf Sprites gespeichert sind. Beim Laden des Bildschirms wird ein Sprite erstellt, beginnend mit einer Position mit dem kleinstm√∂glichen Versatz des Sprites. Dies bedeutet, dass Sprites nach einer Position mit einem minimalen Versatz suchen, beginnend mit dem Versatz 350 und dar√ºber hinaus. Wenn ein Sprite erstellt werden soll, sucht das Spiel nach einem leeren Wert in der Sprite-Tabelle, um ihn durch die Sprite-ID zu ersetzen, und erstellt ihn so. Im Gegensatz zum Erstellen von Sprites beim Laden des Bildschirms sucht das Spiel beim Erstellen eines Sprites nach einer Position mit einem maximalen Versatz f√ºr das Sprite. Dies bedeutet, dass sie zun√§chst pr√ºft, ob es m√∂glich ist, an Position 10 (0A) ein Sprite zu erstellen. Wenn nicht, √ºberpr√ºft sie Position 9 (09), d.h. Offset 359 und so weiter. Wenn alle Sprite-Positionen besetzt sind, gibt das Spiel auf und erstellt kein Sprite.</font></font><br>
<br>
<img src="https://habrastorage.org/files/2bd/a89/ca6/2bda89ca604647a7ad65f130afd841f7.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Entwickler verga√üen jedoch, Grenzpr√ºfungen durchzuf√ºhren, damit das Spiel beim Versuch, ein "Pfeif" -Objekt zu erstellen, "aufgeben" konnte, und das Spiel sucht weiterhin nach Bytes mit dem Wert 00 an einer Stelle au√üerhalb der Sprite-Tabelle, um dort die Objektkennung aufzuschreiben. Aber wo sucht sie zuerst nach dieser Bedeutung? Tats√§chlich ist diese Tabelle Teil eines gr√∂√üeren Arrays, in dem Informationen zu Sprites gespeichert sind. Wenn die Pfeife am Anfang der Tabelle einen Platz zum Erstellen findet, beginnt sie am Ende des Arrays mit der Suche nach Positionen mit dem Wert 00.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf dem Friedhofsbildschirm enth√§lt dieses Fragment des Arrays Informationen zum aktuellen Status von Geisteraktionen. Lassen Sie uns nun √ºber die Zust√§nde von Geisteraktionen sprechen. Die auf dem Friedhof geschaffenen Geister bewegen sich zuf√§llig. Dies liegt daran, dass ihre Handlungen durch Verhalten gesteuert werden, das durch ihren Handlungszustand bestimmt wird. Diese Aktionszust√§nde k√∂nnen abh√§ngig von den Aktionen des Geistes einen beliebigen Wert von 0 (00) bis 5 (05) haben. Sie werden am Ende eines Arrays geschrieben, das Informationen zu Sprites enth√§lt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen entsprechen alle diese Aktionszust√§nde einer Position in der Funktionstabelle, die die Aktionen von Geistern definiert. Da Zust√§nde nur 6 Werte haben k√∂nnen, hat die Tabelle die Gr√∂√üe, die zum Speichern aller sechs Aktionen erforderlich ist. Hier entspricht der Aktionszustand 0 (00) der Beschleunigung des Geistes. Dies ist wichtig, da die Pfeife, wenn sie nach einem Ort sucht, an dem sie ihr Sprite erstellen kann, die erste im Speicher gefundene Position mit dem Wert 00 ausf√ºllt. Die Geisterbeschleunigung entspricht der Aktion 0, die im Code mit dem Wert 00 aufgezeichnet ist. Das Spiel betrachtet sie daher als leere Position und schreibt die Kennung darauf pfeifen 5E.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a66/b0b/338/a66b0b33886142cdb68b035318a742d8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann versucht das Spiel, den Code an Position 5E der Tabelle auszuf√ºhren. Da die Tabelle jedoch nur Werte bis 05 enth√§lt, f√ºhrt das Spiel Junk-Daten als Code weit √ºber die Tabelle hinaus aus. </font><font style="vertical-align: inherit;">Wenn Sie alles richtig machen, f√ºhren uns die Junk-Daten zu dem Code, den wir mit den Dateisymbolen aufgezeichnet haben. Das Spiel geht an Zelda und wir gehen das Spiel durch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit der Fehler funktioniert, m√ºssen wir jedoch den dritten Status der Aktion in der Tabelle besch√§digen. </font><font style="vertical-align: inherit;">Der dritte erstellte Geist muss also beschleunigt werden, und alle nachfolgenden Geister m√ºssen andere Aktionen ausf√ºhren (deren Code nicht gleich 00 ist). </font><font style="vertical-align: inherit;">Dies ist eine wichtige Information. </font><font style="vertical-align: inherit;">Nun wollen wir sehen, was passiert, wenn wir einen Fehler ausf√ºhren.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fehlerausf√ºhrung</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir alles richtig gemacht haben, versucht das Spiel, die Daten auf Position 5E der Tabelle auszuf√ºhren. Es beginnt ab dem Offset 602 als Codedaten zu lesen. Informationen, die mit dem Status der Link-Aktion verkn√ºpft sind, werden im Offset 602 und 603 gespeichert, damit wir sie steuern k√∂nnen. Wenn Link steht, sind die Werte an den Offsets 602 und 603 00. Wenn wir jedoch die Taste B dr√ºcken, um die Pfeife zu verwenden, ist der Wert bei 602 10, und wenn wir A dr√ºcken, um das Schwert zu verwenden, ist der Wert bei 603 01.</font></font><br>
<br>
<img src="https://habrastorage.org/files/70f/db8/afa/70fdb8afafeb4a0da50b16d5b18ea403.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir beide Tasten gleichzeitig dr√ºcken, sind die benachbarten Daten 10 01. Das Spiel interpretiert diese Daten als BPL-Verzweigungsbefehl, um zum Offset 605 zu gehen und die darin enthaltenen Daten als Code auszuf√ºhren. Die Werte 605 und 606 sind 00, wenn unsere Gesundheit nicht zu niedrig ist, und 40, wenn unsere Gesundheit niedrig ist. Um das Spiel schnell zu bestehen, m√ºssen diese Werte gleich 00 sein. Sie m√ºssen also versuchen, die Gesundheit aufrechtzuerhalten, bis der Fehler behoben ist. Der Wert 00 entspricht dem BRK-Befehl (break). Da es hier nichts tut, m√ºssen die Werte 00 sein und das Spiel, um den Code weiter auszuf√ºhren.</font></font><br>
<br>
<img src="https://habrastorage.org/files/6da/549/8cb/6da5498cbfb1481aa243bf1dfa7bfc88.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da wir das Schwert verwendet haben, f√ºhrt das Spiel weiterhin Anweisungen im n√§chsten ungeraden Byte aus. Die n√§chste Anweisung, die nicht BRK ist, befindet sich am Offset 08, aber da wir das Schwert verwendet haben, springt das Spiel dar√ºber und f√ºhrt den Code bei 09 und 0A aus. Der Wert in Byte 09 ist immer 10, was bedeutet, dass wir uns wieder mit dem BPL-Verzweigungsbefehl befassen. Bytes am Offset 623 (62E) beziehen sich auf Musik. Sie versucht, das Abspielen von Musik zu beschleunigen, springt aber manchmal zu niedrigeren Werten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet, dass wir den Fehler auf ein bestimmtes Musikst√ºck anwenden m√ºssen, um ihn zu beheben. Wenn der Wert klein ist, haben wir die M√∂glichkeit, im Speicher in einen Bereich mit sich erheblich √§ndernden Werten zu springen. Sie √§ndern sich so zuf√§llig, dass wir sie nicht in Echtzeit steuern k√∂nnen, um Anweisungen zu erhalten, denen das Spiel folgen muss. Daher wird der √úbergang hier wahrscheinlich zu einem Stillstand des Spiels f√ºhren.</font></font><br>
<br>
<img src="https://habrastorage.org/files/d2c/07d/e94/d2c07de947d649ef8804edf104e81ef1.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach diesen chaotischen Daten gibt es jedoch einen Bereich sicherer Daten. </font><font style="vertical-align: inherit;">Deshalb werden wir versuchen, dorthin zu springen. </font><font style="vertical-align: inherit;">Wir ben√∂tigen mehr Daten im 60A, um den unsicheren Bereich genau zu √ºberspringen und zu den permanenten, sicheren Daten zu gelangen. </font><font style="vertical-align: inherit;">Wenn wir dorthin gingen, ist alles in Ordnung. </font><font style="vertical-align: inherit;">Bei Offset 630 gibt es jedoch einen Z√§hler f√ºr Links Tod. </font><font style="vertical-align: inherit;">Wenn Link zweimal gestorben ist, ist dieser Wert 02, was eine Anweisung bildet und das Spiel stoppt. </font><font style="vertical-align: inherit;">Deshalb ist es wichtig, dass Sie nicht zweimal sterben. </font><font style="vertical-align: inherit;">Infolgedessen fahren wir mit dem Offset 638 fort, dem Anfang der Tabelle, in der die Dateinamen gespeichert sind. </font><font style="vertical-align: inherit;">Wenn wir hier ankommen, f√ºhrt das Spiel den Code aus, den wir auf dem Dateibildschirm eingegeben haben. </font><font style="vertical-align: inherit;">Und hier beginnt ...</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dateinamen werden der Reihe nach im Speicher gespeichert. Dies bedeutet, dass die ersten Bytes, die wir ausf√ºhren, eine Datei namens ZELDA sind. Gl√ºcklicherweise ist der von diesen Bytes ausgef√ºhrte Code sicher, so dass wir zum Rest √ºbergehen k√∂nnen. Da der Name ZELDA nicht wichtig ist, schauen wir uns an, was der Rest des Codes tut. Zuerst f√ºhren wir drei PLP-Befehle aus (vom Stapel ziehen, vom Stapel ziehen). Wenn wir eine Funktion aufrufen, schreibt sie zwei Werte in den Stapel. Diese Werte entsprechen der Position, an der Sie sich im Code befanden, als Sie die Funktion ausgef√ºhrt haben. So kann das Spiel herausfinden, wo es nach Ausf√ºhrung der Funktion zur√ºckkehren kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir beginnen mit dem Extrahieren von drei Werten aus dem Stapel und f√ºhren dann die R√ºckgabefunktion aus. Wir tun dies, um an den Ort zur√ºckzukehren, an dem wir uns vor der Ausf√ºhrung des Fehlers befanden. Andernfalls beendet das Spiel die Ausf√ºhrung der Daten als Code nicht und friert infolgedessen ein. Bevor wir jedoch zu dem Code gelangen, der das Ged√§chtnis besch√§digt und das Spiel beendet, m√ºssen wir √ºber einige weitere Werte sprechen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Werte am Speicheroffset 10 entsprechen der Nummer der Welt, in der wir uns befinden. Wenn wir uns in der oberirdischen Welt befinden, ist der Wert 00. F√ºr den ersten Dungeon ist der Wert 01, f√ºr den zweiten - 02 und so weiter. Da sich Zelda im neunten Dungeon befindet, muss dieser Wert 09 sein. Wir machen jedoch einen Fehler in der oberirdischen Welt und der Wert ist 00. Wir m√ºssen also einen Weg finden, ihn mit 09 gleichzusetzen. Der Wert bei Offset 11 entspricht einigen Daten √ºber den Stand des Spiels. Wenn das Spiel geladen wird, ist der Wert 00, wenn das Spiel nicht geladen wird - 01. Wir m√ºssen den neunten Dungeon laden, daher sollte dieser Wert 00 sein.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Wert bei Offset 12 entspricht einem Teil des Zustands. Wenn der Bildschirm geladen wird, ist der Wert normalerweise 02, wenn er nicht geladen wird - normalerweise 05. Da wir den Dungeon laden m√∂chten, sollte dieser Wert 02 sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der letzte Wert, den wir √§ndern m√∂chten, entspricht der Quest, in der wir uns befinden. Der Wert bei Offset 62D entspricht der ersten oder zweiten Quest und hat den Wert 00 oder 01. Wir haben mit der zweiten Quest begonnen, m√∂chten aber mit der ersten Quest enden, da wir das Spiel auf diese Weise verwirren. Daher m√ºssen wir diesen Wert auf 00 √§ndern. Dies versetzt uns in eine seltsame Mischung aus erster und zweiter Quest. Wir ben√∂tigen diesen Hybridzustand, um Code f√ºr einen bestimmten Zweck auszuf√ºhren. Wir werden es uns ansehen, wenn wir erkl√§ren, was der Code tut.</font></font><br>
<br>
<img src="https://habrastorage.org/files/c88/682/03d/c8868203deac4c1e9d23b52a2e4fa6f2.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, wir setzen uns Ziele, gehen wir zum Code √ºber. Erstens haben wir die LSR-Funktion (logische Verschiebung nach rechts) f√ºr Offset 11. Diese Funktion teilt den Wert in zwei H√§lften und schreibt den Rest in den √úbertrag. 11 ist eine Stelle im Speicher, die den Wert speichert, der dem Status des Spiels entspricht, und vor dieser Anweisung ist sein Wert 01. Wenn wir durch zwei teilen, erhalten wir 00 mit dem Rest 01, da die Division eine ganze Zahl ist. Bei Offset 11 wird der Wert 00 geschrieben und bei der √úbertragung 01.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann haben wir die ROX-Funktion zum Verschieben von 0D (links, links drehen) mit dem Index X. Da wir den Aktionsstatus des dritten von uns erstellten Geistes √ºberschrieben haben, ist X gleich drei. 0D + X ist 0D + 03, was hexadezimal 10 ist. Daher dreht sich diese Funktion bei Offset 10 nach links. Diese Funktion multipliziert den Wert bei Offset 10 mit 2 und addiert die Silbentrennung. Der Wert beginnt bei 0. Null mal 2 ist gleich 0 und 0 + 1 ist gleich 1, daher wird der Wert auf Offset 10 geschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt wird die ROX-Operation erneut wiederholt, um 0D mit Index X zu versetzen. Der Wert von X hat sich nicht ge√§ndert, er ist immer noch drei. Daher ist dies eine weitere Drehung nach links bei Offset 10. 1 * 2 = 2, und da wir die √úbertragung bereits verwendet haben, ist ihr Wert 0. 2 + 0 = 2, sodass der Wert 2 in Offset 2 geschrieben wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als n√§chstes haben wir die dritte ROX-Operation f√ºr den Offset 0D. 2 * 2 = 4 und 4 + 0 = 4, also wird der Wert 4 bei Offset 10 geschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der n√§chste Befehl ist LSR bei Offset 12. Wir beginnen mit dem Wert 5, also ergibt das Teilen durch zwei den Rest 1. 2 wird bei Offset 12 geschrieben und 1 - in der √úbertragung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann dreht sich der letzte ROX bei Offset 10 nach links. 4 * 2 = 8. Der √úbertragungswert ist 1, wir addieren ihn zum Produkt und erhalten 9. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die letzte Anweisung vor der R√ºckkehr ist eine logische Rechtsverschiebung bei Offset 62D. Der Wert hier ist 1, weil wir uns in der zweiten Quest befinden. Und da wir durch 2 geteilt haben, ist der Wert gleich 0. Also sind wir in den Hybrid-Quest-Modus gekommen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt f√ºhren wir die R√ºckgabefunktion aus und das Spiel aktualisiert die Werte seines Status mit den in unserem Code aufgezeichneten Werten. </font><font style="vertical-align: inherit;">Damit ist der Fehler behoben und wir betreten Zeldas Zimmer. </font><font style="vertical-align: inherit;">Wir kommen dorthin, weil die Hybridquest das Spiel verwirrt. </font><font style="vertical-align: inherit;">Sie wei√ü nicht genau, wo sie Link platzieren soll. </font><font style="vertical-align: inherit;">Und so befinden wir uns in Zeldas Zimmer, nachdem wir das Spiel bestanden haben. </font></font><br>
<br>
<img src="https://habrastorage.org/files/700/fc3/4fb/700fc34fbe9e4701ad6e918329b55e52.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe, dies hilft Ihnen zu verstehen, was im Legend of Zelda-Spiel vor sich geht, wenn Sie beliebigen Code ausf√ºhren und einen schnellen Spielfehler ausf√ºhren.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de398171/">https://habr.com/ru/post/de398171/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de398161/index.html">Mozilla und Apple werden die Zertifizierungsstellen von WoSign und StartCom verbieten</a></li>
<li><a href="../de398163/index.html">Pimax P1 4K VR Helm - mehr als nur ein Bild</a></li>
<li><a href="../de398165/index.html">Anleitung zum Erstellen mechanischer Tentakel zu Hause: Teil 1</a></li>
<li><a href="../de398167/index.html">3D-Druck als Werkzeug f√ºr Prototyping und Modellierung</a></li>
<li><a href="../de398169/index.html">Physiker haben den weltweit ersten "Kristall der Zeit" geschaffen.</a></li>
<li><a href="../de398173/index.html">SHENZHEN I / O - ein neuer Mikrocontroller-Programmiersimulator</a></li>
<li><a href="../de398175/index.html">75.000 Futures</a></li>
<li><a href="../de398177/index.html">Neuauflage eines Budget-Mikrofons f√ºr den professionellen Einsatz</a></li>
<li><a href="../de398181/index.html">Adafruit und Russland - warum ein Kauf ohne Zwischenh√§ndler unm√∂glich ist</a></li>
<li><a href="../de398183/index.html">Boeing ist sich sicher, dass es Ilon Mask auf dem Weg zum Mars √ºberholen wird</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>