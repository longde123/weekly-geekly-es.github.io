<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🤝‍👨🏿 🙅🏼 🔏 Bagaimana saya mengajar Yandex. Baik untuk berbicara tentang mainan seks 😮 🦅 🍥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami mengintegrasikan Yandex.Alisa dan toko seks melalui boot Musim Semi. 

 Topik asisten suara mendapatkan momentum, dan saya memutuskan untuk berga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana saya mengajar Yandex. Baik untuk berbicara tentang mainan seks</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466021/">  Kami mengintegrasikan Yandex.Alisa dan toko seks melalui boot Musim Semi. <br><br>  Topik asisten suara mendapatkan momentum, dan saya memutuskan untuk bergabung dengan tren ini dengan mengintegrasikan pemasok grosir terbesar barang-barang intim dan Yandex.Alisa. <br><a name="habracut"></a><br>  <b>Ide</b> : pemasok memiliki akun pribadi pemilik toko online, dan perlu memberikan data analitik dari pemasok melalui saluran suara Alice. <br><br>  Integrasi terdiri dari dua bagian: <br><br><ul><li>  Integrasi layanan web dan REST API dari pemasok barang. </li><li>  Integrasi Yandex.Alice dan layanan web untuk memproses permintaan pengguna. </li></ul><br><h2>  Integrasi layanan web dan REST API pemasok barang </h2><br>  Layanan harus memahami apa yang sebenarnya diminta pengguna dan meminta data ini dari server pemasok.  Kami memutuskan untuk menulis layanan di Spring Boot. <br><br><h3>  Penyiapan proyek </h3><br>  Kami membuat repositori di Git dan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spring initializr, kami</a> menyebarkan proyek pada spring boot (kami menentukan web dalam dependensi). <br><br>  Permintaan ke layanan datang dalam format JSON.  Ini memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">struktur yang terdokumentasi dengan baik</a> , sehingga menghasilkan kelas cukup sederhana: <br><br><img src="https://imageshack.com/i/plcr0ysAp" alt="gambar"><br><br>  Mudahnya, kata kunci disorot dalam permintaan, seperti alamat yang dikenal.  Mereka terletak di blok <code>“entities”</code> : <br><br><img src="https://imageshack.com/i/pm0Cso3Sp" alt="gambar"><br><br>  Tetapi dalam kasus kami, lebih nyaman menggunakan bidang <code>Command</code> .  Ini berisi teks yang ditentukan oleh pengguna.  Karena layanan integrasi terlibat dalam pengenalan makna, kami perlu menguraikan permintaan.  Mereka terpisah satu sama lain (permintaan untuk pesanan yang ditempatkan, permintaan untuk pesanan dalam pemrosesan), jadi kami memutuskan untuk menggunakan ekspresi reguler untuk menguraikannya. <br><br>  Integrasi dengan penyedia diimplementasikan melalui perpustakaan Apache httpclients, dan deserialisasi respons XML melalui jaxb. <br><br>  Jadi, kami memilah permintaan dan meminta data dari pemasok.  Tetapi Alice adalah gadis yang keras, dan karenanya tidak akan menerima jawaban kami selambat-lambatnya tiga detik kemudian.  Dan pengguna mungkin ingin mendapatkan deskripsi komparatif dari tokonya selama dua tahun terakhir, yang akan membutuhkan lebih banyak waktu.  Untuk mengatasi masalah ini, kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengaktifkan</a> caching melalui pustaka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ehCache</a> dan mengonfigurasi pemuatan data pengguna.  Menghadapi nuansa baru: Alice tidak memberikan hampir semua data pengguna yang dipersonalisasi.  Artinya, Anda bahkan tidak melihat email dalam permintaan yang masuk.  Hanya ada userId yang menampilkan pengidentifikasi unik perangkat.  Itu dibuat kunci untuk mengidentifikasi pengguna. <br><br>  Kuncinya ada di sana, cache itu, masih harus mengerti kapan memuat informasi ke dalamnya.  Pengguna tidak langsung meminta data, tetapi pertama-tama meluncurkan skill (ini adalah istilah yang digunakan di Alice, saya akan membicarakannya lebih lanjut di bawah).  Untuk server, ini terlihat seperti permintaan dengan tag <code>Command</code> kosong.  Pada titik ini, Anda dapat mulai mengunduh data klien, dan kemudian pada saat permintaan pengguna pertama dikirim, semua data telah diunggah ke layanan kami. <br><br>  Untuk pengujian penuh dan pekerjaan lebih lanjut di prod, kami memutuskan untuk menyebarkan aplikasi di cloud di Heroku.  Untuk melakukan ini, buka situs web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Heroku</a> , daftar, unduh heroku cli dan instal.  Kemudian buka konsol dan masukkan <code>heroku login</code> .  Pergi ke direktori dengan proyek cd ~ / myapp dan jalankan <code>heroku create</code> . <br><br>  Saat Anda membuat aplikasi, Git membuat repositori jarak jauh yang disebut heroku, yang dikaitkan dengan repositori Git lokal Anda.  Secara default, Heroku membuat nama acak di server untuk proyek Anda.  Anda dapat menggantinya dengan mengirimkan nama aplikasi menggunakan <code>heroku create myapp</code> . <br><br>  Untuk memeriksa peluncuran aplikasi, jalankan perintah. <br><br> <code>heroku ps:scale web=1</code> <br> <br>  Dan jika Anda harus mengikuti jalur “/“, maka kami mengeksekusi <code>heroku open</code> . <br>  Titik integrasi pertama siap. <br><br><h2>  Integrasi Yandex.Alice dan layanan pemrosesan permintaan </h2><br>  Kami menerapkan integrasi melalui penciptaan keterampilan yang disebut pada platform Yandex.  Pertama, daftar di Yandex, dan kemudian pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">halaman pengembang</a> .  Klik "buat dialog" dan pilih jenis dialog: <br><br><img src="https://imageshack.com/i/pldC2gG5p" alt="gambar"><br><br>  Pada tab "Pengaturan" dan Anda harus mengisi kolom: <br><br><img src="https://imageshack.com/i/poWuOxHUp" alt="gambar"><br><br><ul><li>  Nama <b>keterampilan</b> - nama yang akan ditampilkan di katalog Alice.  Dengan itu, pengguna akan dapat mengaktifkan skill, misalnya, "Luncurkan skill [Nama Skill]". </li><li>  <b>Nama aktivasi</b> - di sini Anda dapat menentukan berbagai opsi untuk mengakses skill.  Secara default, satu opsi untuk nama aktivasi adalah nama skill. </li><li>  <b>Contoh permintaan</b> adalah ungkapan yang digunakan Alice untuk mengaktifkan keterampilan ini.  Permintaan akan disajikan sebagai tombol di direktori setelah publikasi. </li><li>  <b>URL Webhook</b> - Anda harus menentukan URL layanan web kami yang akan memproses permintaan pengguna. </li><li>  Yandex.Cloud - Yandex dapat memberikan hibah ke cloud-nya, tetapi kami akan menyebarkan layanan pada heroku, jadi kami tidak mencentangnya. </li><li>  <b>Suara</b> - di sini Anda dapat memilih suara yang keterampilan Anda akan ucapkan.  Ada berbagai variasi pria dan wanita.  Tetapi perlu mempertimbangkan bahwa pengguna kemungkinan besar akan mengatakan: "Alice, luncurkan skill", dan jika Alice menjawab dengan bariton jantan, ini bisa agak membingungkan. </li><li>  <b>Keterbatasan pada platform yang digunakan</b> - apakah layar diperlukan saat bekerja dengan skill.  Dalam kasus kami, tidak, jadi jangan beri tanda centang. </li><li>  <b>Privasi</b> - centang kotak jika Anda tidak ingin keterampilan tercermin dalam katalog. </li><li>  <b>Situs Verifikasi Merek</b> - Alamat situs untuk keterampilan.  Keterampilan yang Anda isi bidang ini hanya akan dimoderasi jika Anda telah mengkonfirmasi hak untuk situs yang ditentukan di Yandex.Webmaster. </li><li>  <b>Kategori</b> - dalam kasus kami, ini adalah "bisnis dan keuangan". </li><li>  <b>Deskripsi</b> - mengapa Anda membutuhkan keahlian Anda.  Deskripsi keterampilan akan ditampilkan dalam katalog keterampilan dan akan tersedia untuk pengguna. </li><li>  <b>Catatan untuk moderator</b> - mungkin bidang yang paling menarik.  Untuk masuk ke katalog, keterampilan harus dimoderasi, yang berarti harus mematuhi aturan tertentu yang dijelaskan di sini.  Di bidang ini, Anda dapat menjelaskan proses pengujian.  Misalnya, cara melalui otorisasi dan satu skenario pengguna yang khas. </li><li>  <b>Batasan usia</b> - terlepas dari subjek keterampilan, kami akan mengirimkan data yang cocok untuk semua kelompok umur.  Karena itu, jangan beri tanda centang. </li><li>  <b>Ikon</b> adalah suatu keharusan :) </li></ul><br>  Simpan dialognya.  Semua perubahan pada pengaturan keterampilan hanya berlaku setelah mengklik tombol "simpan". <br><br>  Kami mengkonfigurasi integrasi, menulis layanan, sekarang Anda dapat mengujinya. <br><br>  Buka tab "Pengujian". <br><br><img src="https://imageshack.com/i/plnhhATFp" alt="gambar"><br><br>  Di sini Anda dapat memeriksa kinerja keterampilan.  Demi kenyamanan, kami telah menambahkan akses cepat ke tombol fungsi ke skill. <br><br>  Ada beberapa batasan: Anda tidak dapat memeriksa ketrampilan untuk frasa awal dan Anda tidak dapat memeriksa input / output suara.  Dan jika seharusnya tidak ada masalah dengan frasa, maka pelafalan jawaban yang benar akan diperiksa hanya setelah publikasi keterampilan. <br>  Setelah semua tes, skill dapat dikirim dengan moderasi.  Untuk melakukan ini, buka tab "Informasi Umum" dan klik "Moderasi". <br><br><img src="https://imageshack.com/i/pmBBZRvtp" alt="gambar"><br><br>  Setelah moderasi, tombol Publikasikan akan muncul sebagai ganti tombol ini.  Setelah publikasi, keterampilan akan muncul di katalog Yandex resmi. <br><br><h2>  Fitur dan batasan </h2><br>  Pada saat ini, keterampilannya agak terpisah dari Alice sendiri (saya harus mengatakan "meluncurkan keterampilan"), yang membuatnya sulit untuk menganggap Alice sebagai asisten suara yang lengkap.  Akan sangat bagus untuk membentuk konteks keahlian Anda dan mengajukan pertanyaan langsung kepada Alice.  Tidak ada cara untuk mendapatkan informasi pengguna selain dari userId, yang merupakan pengidentifikasi perangkat.  Oleh karena itu, setiap perangkat harus diotorisasi ulang, yang membuatnya sulit untuk menyimpan sesi pengguna tunggal.  Selain itu, skill tidak dapat mengirim pesan push, jadi tidak akan berhasil untuk membuat skill pengingat. <br><br>  Di sisi lain, keterampilan dapat menjadi platform yang baik untuk menerapkan kontrol suara, misalnya, peralatan rumah tangga.  Selain itu, keterampilan dapat berguna dalam pelatihan atau melakukan percobaan, dalam mengklarifikasi informasi tentang pesanan, harga, dll.  Secara umum, di mana pengguna dapat mengajukan pertanyaan singkat yang tepat atau memberikan perintah singkat. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id466021/">https://habr.com/ru/post/id466021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id465995/index.html">LDC - Ekskursi</a></li>
<li><a href="../id466001/index.html">Feng Shui "Bergerak", atau kita tidur dengan benar (kopi, kecoak, dan intoleransi terhadap Habré)</a></li>
<li><a href="../id466015/index.html">Sedikit lagi tentang trigonometri dalam komputasi</a></li>
<li><a href="../id466017/index.html">Livy - tautan yang hilang dalam rantai Python Hadoop Spark Airflow</a></li>
<li><a href="../id466019/index.html">ABBYY Mobile Web Capture: Foto dokumen berkualitas tinggi tepat di browser ponsel cerdas Anda</a></li>
<li><a href="../id466027/index.html">Buku "The Way of Python. Sabuk hitam untuk pengembangan, penskalaan, pengujian dan penyebaran ”</a></li>
<li><a href="../id466029/index.html">Cara mengubah komputer kuantum menjadi generator angka acak sempurna</a></li>
<li><a href="../id466031/index.html">Misi epik DeepMind untuk memecahkan masalah sains yang paling kompleks</a></li>
<li><a href="../id466033/index.html">Bagaimana cara melibatkan tim dalam pencarian ide dan mendapatkan lebih banyak daripada ide</a></li>
<li><a href="../id466039/index.html">Perpustakaan PHP untuk e-commerce: bekerja dengan ATOL dan Payture, parsing kode GS1 dan tugas lainnya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>