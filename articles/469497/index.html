<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîπ üë®üèø‚Äçüíº üìß Crea niveles isom√©tricos en 2D con el sistema Tilemap „ÄΩÔ∏è üåº üç¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Unity 2018.3 introdujo soporte para mapas de mosaicos isom√©tricos, muy similar a los mapas de mosaicos hexagonales, que se agreg√≥ en la versi√≥n 2018.2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Crea niveles isom√©tricos en 2D con el sistema Tilemap</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469497/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abe/6f3/004/abe6f3004d910b9ff91386b4bde99205.png" alt="imagen"></div><br>  Unity 2018.3 introdujo soporte para mapas de mosaicos isom√©tricos, muy similar a los mapas de mosaicos hexagonales, que se agreg√≥ en la versi√≥n 2018.2.  Las nuevas caracter√≠sticas de Tilemap le permiten crear de manera r√°pida y eficiente entornos 2D basados ‚Äã‚Äãen las cuadr√≠culas isom√©tricas y hexagonales que se usaron en muchos juegos cl√°sicos, incluidas las primeras partes de Diablo y Fallout, Civilization, Age of Empires y muchos otros. <br><br>  Ambos sistemas se basan en el sistema Tilemap ya existente, que apareci√≥ en Unity 2017.2, ¬°y hoy es tan f√°cil trabajar con ellos!  Adem√°s, tienen integraci√≥n nativa con el Editor.  En futuras versiones de Unity, se pueden portar al administrador de paquetes. <br><br>  Si est√° interesado en experimentar con estos sistemas, creamos un proyecto de Kit de inicio isom√©trico preparado previamente con un personaje animado y varios mosaicos de entorno.  Puedes descargarlo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer">aqu√≠</a> . <a name="habracut"></a><br><br><h2>  Configuraci√≥n del proyecto para el mapa de mosaico isom√©trico </h2><br>  Antes de comenzar con Tilemap, es importante configurar el proyecto correctamente.  El mapa de mosaico isom√©trico funciona con sprites bidimensionales y utiliza la clasificaci√≥n correcta de la representaci√≥n para crear la ilusi√≥n de un mapa isom√©trico con una vista superior.  Necesitamos hacer que los mosaicos m√°s alejados del espectador dibujen primero, y m√°s cerca de ellos. <br><br>  Puede usar la funci√≥n Unity llamada Custom Axis Sort para ajustar el orden de representaci√≥n de los objetos 2D en la pantalla.  Este par√°metro se puede configurar para la c√°mara (actualmente este m√©todo es est√°ndar para las tuber√≠as de renderizado programables, incluidos LWRP y HDRP), o globalmente, a nivel de proyecto. <br><br>  Para establecer la clasificaci√≥n personalizada del eje en el nivel del proyecto, vaya a <i>Edici√≥n&gt; Configuraci√≥n del proyecto&gt; Gr√°ficos</i> .  En la secci√≥n Configuraci√≥n de la c√°mara, ver√° el men√∫ desplegable Modo de clasificaci√≥n de transparencias, as√≠ como las opciones X, YZ para Eje de clasificaci√≥n de transparencias. <br><br>  De forma predeterminada, el eje de clasificaci√≥n de transparencia establece los ejes XYZ en (0, 0, 1).  Sin embargo, todos nuestros mosaicos 2D est√°n realmente en el mismo plano Z. Por lo tanto, para determinar qu√© mosaicos est√°n adelante o atr√°s, no debes usar la profundidad, sino la altura.  Los mosaicos ubicados m√°s arriba en la pantalla se ordenar√°n por los m√°s bajos.  Para ordenar los mosaicos por altura, cambie el valor del Modo de clasificaci√≥n de transparencias a Personalizado y establezca el Eje de clasificaci√≥n de transparencias en (0, 1, 0). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/77f/fb4/5f7/77ffb45f77020bf6af96f3542964561a.png"></div><br>  Para obtener m√°s informaci√≥n sobre c√≥mo funciona esto, puede leer la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer">p√°gina</a> correspondiente sobre ordenaci√≥n 2D en la documentaci√≥n de Unity. <br><br>  En algunos casos, es posible que tambi√©n necesite cambiar el valor del Eje de clasificaci√≥n de transparencia a Z. Hablaremos m√°s sobre esto a continuaci√≥n. <br><br><h2>  Tipos de tarjetas de mosaico </h2><br>  El sistema Tilemap consta de varios componentes que interact√∫an.  Los dos primeros son los objetos del juego Grid y Tilemap.  Para crear una cuadr√≠cula, simplemente haga clic con el bot√≥n derecho en cualquier lugar de la jerarqu√≠a, vaya al objeto 2D y seleccione el tipo de mapa de mosaico que desea usar.  Por defecto, cada nueva cuadr√≠cula se crea con un objeto de juego Tilemap secundario del tipo correspondiente.  Actualmente existen los siguientes tipos de Tilemap: <br><br>  <i>Mapa de mosaico</i> : crea cuadr√≠cula rectangular y mapa de mosaico.  Se puede ver un ejemplo del uso de este Tilemap en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer">Kit de juego 2D del</a> motor de Unity. <br><br>  <i>Mapa de mosaico superior del punto hexagonal</i> : crea una cuadr√≠cula y un mapa de mosaico a partir de hex√°gonos, en los que uno de los v√©rtices de cada hex√°gono se dirige hacia arriba. <br><br>  <i>El mapa de mosaico plano superior hexagonal</i> es otro tipo de cuadr√≠cula de hex√°gonos, en el que en la parte superior del hex√°gono hay una cara paralela al borde superior de la pantalla. <br><br>  Los dos √∫ltimos tipos, <i>Isom√©trico</i> e <i>Isom√©trico Z como Y</i> , crean dos implementaciones diferentes de la cuadr√≠cula isom√©trica.  La diferencia entre ellos aparece cuando se simulan diferentes niveles de altura de mosaico, por ejemplo, cuando hay una plataforma alta en el nivel isom√©trico. <br><br>  Si desea crear objetos de juego de Tilemap separados para cada nivel de altura de mosaico, entonces es mejor usar el tipo de <i>mapa de mosaico isom√©trico</i> habitual.  Simplifica el proceso de creaci√≥n de formas autom√°ticas de colisiones, pero tiene menos flexibilidad cuando se trabaja con elevaciones entre mosaicos, porque todos los mosaicos en la misma capa deben estar en el mismo "plano". <br><br>  En el caso de <i>Z isom√©trica como mapa de mosaicos Y, el</i> valor de la posici√≥n Z de cada mosaico funciona junto con el par√°metro Clasificaci√≥n de eje de transparencia, haciendo que los mosaicos aparezcan apilados uno encima del otro.  Al dibujar en un mapa de mosaico Z como Y, cambiamos din√°micamente el par√°metro Z del pincel para cambiar entre diferentes alturas.  Para representar <i>Z como mapa de mosaico Y correctamente</i> , se requiere un valor Z adicional en el eje de clasificaci√≥n de transparencias con el modo personalizado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b9a/5cb/677/b9a5cb6779c1984cb82aa805663e73af.gif"></div><br>  <i>Nota: Los activos que se muestran en las capturas de pantalla se tomaron del mosaico Temple del proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><i>Isometric Starter Kit</i></a> .</i>  <i>¬°Son completamente gratuitos, por lo que puede usarlos para crear sus propios entornos!</i> <br><br>  Piense en la cuadr√≠cula como un "caballete" en el que residen todos los objetos del juego Tilemap.  Y ellos, a su vez, son esencialmente un lienzo en el que dibujaremos mosaicos.  Para comenzar a dibujar en Tilemap, tambi√©n necesitamos un pincel y una paleta.  Todos los activos de mosaico se encuentran en la Paleta de mosaico, desde la cual se pueden seleccionar con la herramienta Pincel y comenzar a dibujar. <br><br>  Para crear una paleta de mosaicos, elija Ventana&gt; 2D&gt; Paleta de mosaicos.  En el men√∫ desplegable superior izquierdo, seleccione "Crear nueva paleta".  Aseg√∫rese de seleccionar el tipo de malla apropiado.  En el ejemplo, usar√© el mapa de mosaico isom√©trico habitual, as√≠ como los recursos del proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer">Isometric Starter Kit</a> .  Especificaremos Manual como el tama√±o de celda de la paleta (tama√±o de celda) para poder cambiar el tama√±o de los mosaicos isom√©tricos.  En este caso, s√© que los tama√±os de mis mosaicos corresponden a una cuadr√≠cula con un tama√±o de celda de 1 por X y 0.5 por Y;  sin embargo, dependen de la resoluci√≥n seleccionada al importar los valores de p√≠xeles por unidad y el tama√±o de los activos; de hecho, del √°ngulo isom√©trico en el que se rotan los mosaicos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/797/673/805/79767380522e8028ecb0760888589d12.png"></div><br><h2>  Nota sobre la importaci√≥n de activos </h2><br>  Es posible que no sepa qu√© opciones de importaci√≥n y qu√© tama√±o de tarjeta de mosaico son los mejores para sus activos.  Hay una regla general que puedes seguir: primero debes mirar la resoluci√≥n de los mosaicos.  T√≠picamente, los bloques de mosaicos isom√©tricos son m√°s grandes en altura que en ancho;  Las baldosas "planas" (que se parecen m√°s a un plano que a un cubo) son m√°s anchas que altas.  Sin embargo, el ancho entre ellos siempre ser√° el mismo.  Por lo tanto, si desea que los mosaicos ocupen exactamente una unidad de medida de Unity, configure los <i>P√≠xeles por unidad</i> en la configuraci√≥n de importaci√≥n de mosaicos a un valor igual a su ancho en p√≠xeles.  En algunos casos, este valor tendr√° que cambiarse, generalmente en la direcci√≥n de disminuir (o aumentar la resoluci√≥n de los activos);  Esto puede ser √∫til si desea recrear un efecto en el que algunos mosaicos parecen ocupar m√°s de una celda de cuadr√≠cula y superponer mosaicos adyacentes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/140/aba/539140abad90bb2fe03e911eed9c8675.gif"></div><br>  Para determinar el valor correcto de la cuadr√≠cula por Y para los mosaicos, tome la altura de la base (o v√©rtice) de un mosaico y div√≠dala por el ancho.  Esto le dar√° un valor de Y en relaci√≥n con X, dado que X es 1. Veamos algunos ejemplos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/86a/5b8/234/86a5b823465588ce10010011b3ae2b85.png"></div><br>  En los activos de pixel art que utilizamos para este proyecto, todos los mosaicos base tienen 32 p√≠xeles de alto y 64 p√≠xeles de ancho.  Por lo tanto, el tama√±o de la cuadr√≠cula en Y ser√° igual a 0,5.  El segundo bloque de la imagen est√° tomado del paquete de activos de Golden Skull Studios;  Puedes verlo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer">aqu√≠</a> .  El mosaico de ejemplo se ha reducido, pero los activos originales tienen 128 p√≠xeles de ancho.  La base del mosaico es de aproximadamente 66 p√≠xeles, lo que da un tama√±o de cuadr√≠cula Y de 66/128, es decir, aproximadamente 0,515 unidades. <br><br><h2>  El proceso b√°sico de trabajar con Tilemap </h2><br>  Una vez decidido el tama√±o correcto de la cuadr√≠cula, agregue algunos mosaicos a nuestra paleta.  Simplemente tome uno de los sprites de mosaico y arr√°strelo a la ventana Paleta de mosaico.  Esto crear√° el activo de mosaico.  Contiene informaci√≥n sobre el mosaico en s√≠, por ejemplo, los sprites que usa, el tono y el tipo del colisionador generado.  Si necesita ver informaci√≥n detallada sobre el mosaico de la paleta, seleccione la herramienta Seleccionar (S) en la parte superior de la ventana Paleta de mosaico y haga clic en este mosaico.  Observe que el Inspector puede ver a qu√© activo de mosaico se refiere. <br><br>  Para dibujar un nuevo mosaico por mapa de mosaico, seleccione la herramienta Pincel (B) y haga clic en el mosaico en la paleta.  Despu√©s de eso, puede dibujar con el mosaico seleccionado en la ventana de escena.  Existen otras herramientas de dibujo como Borrador (D), Relleno de caja (U), Relleno de inundaci√≥n (G) y Selector de mosaico (I). <br><br>  A veces necesita cambiar la ubicaci√≥n de los mosaicos en la paleta misma.  Justo debajo de la barra de herramientas hay un bot√≥n Editar.  Si hace clic en √©l, se activar√° el modo de edici√≥n de paleta, en el que las herramientas afectar√°n a la paleta de mosaico.  No olvide salir de este modo despu√©s de hacer los cambios necesarios. <br><br><h3>  Modos de representaci√≥n del mapa de mosaico </h3><br>  En algunos casos, los mosaicos de diferentes tipos pueden no ordenarse correctamente, a pesar de estar en el mismo mapa de mosaicos, como en este ejemplo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ea/a2e/878/6eaa2e878effb4b905e7bb3e27a1bbe1.png"></div><br>  Esto est√° determinado por el par√°metro Modo del componente Renderizador de Tilemap.  Por defecto, el Modo es Chunk. <br><br>  <i>El</i> modo fragmentado es efectivo para reducir el consumo de activos de Tilemap.  En lugar de renderizar cada mosaico individualmente, los renderiza en una sola pasada como un bloque grande.  Sin embargo, este modo tiene dos desventajas principales.  Primero, no admite la ordenaci√≥n din√°mica con otros objetos 2D en la escena.  Esto significa que si el Tilemap est√° en modo Chunk, no podr√° ordenar din√°micamente delante o detr√°s de otros objetos, por ejemplo, caracteres, solo uno u otro ser√° visible a la vez, y esto depende del par√°metro Orden en la capa.  Sin embargo, sigue siendo extremadamente efectivo para optimizar el juego y puede usarse para renderizar por lotes grandes √°reas de terreno. <br><br>  Sin embargo, esto no nos salva del problema de la clasificaci√≥n incorrecta de diferentes mosaicos.  Para la representaci√≥n por lotes de mosaicos tomados de dos o m√°s sprites diferentes (por ejemplo, texturas), los sprites deben combinarse en un solo activo Sprite Atlas. <br><br>  Para crear Sprite Atlas, seleccione <i>Activos&gt; Crear&gt; Sprite Atlas</i> .  Sprite Atlas tiene una lista de <i>objetos para empacar</i> .  Simplemente arrastre y suelte en √©l todos los mosaicos que deben procesarse en lotes, y especifique los par√°metros de importaci√≥n apropiados, generalmente coinciden con los par√°metros de sprites individuales. <br><br>  Despu√©s de eso, las fichas se ordenar√°n correctamente;  pero solo ser√°n visibles en el modo Jugar o durante la ejecuci√≥n del juego. <br><br>  Por lo tanto, durante el proceso de edici√≥n, es mejor seleccionar el modo <i>Individual</i> para el Renderizador de Tilemap.  En este modo, cada sprite se ordenar√° por separado;  Esto significa que se renderizar√°n correctamente incluso fuera del modo Play, lo cual es muy √∫til al editar un nivel.  Despu√©s de completar la creaci√≥n de la estructura de niveles, puede cambiar el modo Renderizador de Tilemap a Chunk nuevamente en cualquier momento. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/689/b8f/0e9/689b8f0e92a40d0f0093bb5f762999fa.png"></div><br>  El modo de representaci√≥n individual tambi√©n es √∫til cuando necesita agregar objetos tales como √°rboles, objetos y terrenos m√°s altos que deben clasificarse din√°micamente con caracteres o entre s√≠.  En esta publicaci√≥n habilitaremos el modo Individual para todos los Tilemap. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/268/978/3ef/2689783eff96afb9bc21905444f7f060.png"></div><br><h2>  Usando M√∫ltiples Tilemap </h2><br>  A veces es necesario usar varios Tilemap en una cuadr√≠cula.  En el caso del mapa de mosaico isom√©trico y hexagonal, es √∫til poder agregar al nivel del elemento alineado en la cuadr√≠cula o mosaicos que parecen m√°s altos que la primera capa. <br><br>  Para conectar otro Tilemap a la cuadr√≠cula, haga clic derecho en el objeto del juego Grid y cree un nuevo Tilemap del tipo apropiado. <br><br>  Para comenzar a dibujar en el nuevo Tilemap, regrese a la ventana Tile Palette y cambie Active Tilemap debajo de la barra de herramientas principal. <br><br><h2>  Agregar √°reas elevadas </h2><br>  Hay dos formas principales de agregar √°reas elevadas a los niveles.  Elegir el correcto generalmente depende del tipo de Tilemap que seleccione.  Consideraremos cada uno de los casos. <br><br>  Adem√°s, hemos preparado un video corto sobre este tema, que demuestra estos enfoques utilizando el mapa de mosaico isom√©trico habitual, as√≠ como la adici√≥n de √°reas de colisi√≥n a los mosaicos.  Mire el video si desea comprender brevemente ambas formas: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2DsKCJsEzSA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Usando un mapa de mosaico isom√©trico regular </h3><br>  Para el mapa de mosaico isom√©trico normal, simplemente puede crear un nuevo mapa de mosaico con la misma cuadr√≠cula y asignar un valor m√°s alto a la orden en la capa.  Luego puede cambiar el par√°metro Tile Anchor para que la nueva capa est√© anclada a un punto m√°s alto en la misma cuadr√≠cula. <br><br>  Mi mapa de mosaico de nivel inferior para X e Y tiene el anclaje de mosaico establecido en (0, 0).  Quiero que la nueva capa se dibuje una unidad m√°s arriba, por lo que cambiar√© el punto de anclaje del nuevo Tilemap a (1, 1).  Tambi√©n establecer√© Order in Layer en 1, uno m√°s que el nivel base. <br><br>  Ahora puede cambiar el mapa de mosaico activo a un segundo nivel de altura y comenzar a dibujar. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c38/091/eb0/c38091eb0600f78c47de390d339ae8c3.gif"></div><br><br><h3>  Usar Z como mapa de mosaico isom√©trico Y </h3><br>  A veces puede ser √∫til simular diferentes alturas con un solo mapa de mosaico.  En tal caso, se pueden utilizar Z como Y Isometric Tilemap and Grid. <br><br>  En el caso de Z como mapa de mosaico Y, el valor Z de cada mosaico tiene un efecto adicional en el orden en que se representan los mosaicos.  Podemos cambiar el valor de los mosaicos Z al dibujarlos utilizando el par√°metro de pincel de Posici√≥n Z en la parte inferior de la Paleta de mosaicos (as√≠ como utilizando las teclas de acceso r√°pido "+" y "-"): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a28/1ab/3f8/a281ab3f8dd22f84b274ddbb3bf40a81.png"></div><br>  Sin embargo, para que el valor Z influya correctamente y los mosaicos se ordenen correctamente, debe volver al valor Ordenar por eje personalizado y agregar la influencia Z. El n√∫mero utilizado aqu√≠ est√° directamente relacionado con la forma en que Unity convierte las posiciones de las celdas de la cuadr√≠cula isom√©trica en valores en el espacio mundial. <br><br>  Por ejemplo, una cuadr√≠cula con dimensiones seg√∫n XYZ de (1, 0.5, 1) - est√°ndar para isometr√≠a - tendr√° un valor de clasificaci√≥n a lo largo del eje Z igual a -0.26.  Si est√° interesado en c√≥mo se calcula este n√∫mero, o si usa una cuadr√≠cula con un tama√±o de celda diferente, contin√∫e leyendo para descubrir c√≥mo encontrar el valor Z correcto para su caso. <br><br>  Al establecer el valor correcto para la Clasificaci√≥n del eje personalizado, puede comenzar a dibujar mosaicos con diferentes valores Z. Tambi√©n puede configurar los incrementos con los que el valor Z mueve los mosaicos elevados hacia arriba o hacia abajo, cambiando el tama√±o Z de la cuadr√≠cula, que es 1 de forma predeterminada. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4cf/1ce/9c2/4cf1ce9c2e97c429620b3e096349a9b0.gif"></div><br><h3>  C√°lculo del valor Z </h3><br>  Hay una f√≥rmula general que se puede usar para determinar el valor Z de la clasificaci√≥n de ejes.  Primero, toma el tama√±o Y de la cuadr√≠cula.  Si a√∫n no ha decidido el tama√±o de Y, consulte la nota sobre la importaci√≥n de activos m√°s arriba.  Multiplique este valor por -0.5 y reste otro 0.01. <br><br>  De acuerdo con esta f√≥rmula, una cuadr√≠cula que tenga un tama√±o de (1, 0.5, 1) nos dar√° un valor de clasificaci√≥n por Z de -0.26.  Con este valor de clasificaci√≥n, los mosaicos de cualquier cuadr√≠cula (1, 0.5, 1) se ordenar√°n correctamente. <br><br>  Si desea saber m√°s sobre este valor y sobre los c√°lculos, estudie la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer">documentaci√≥n</a> .  Explica en detalle el trabajo de los renderizadores 2D y lo que sucede cuando las celdas isom√©tricas se convierten en valores del espacio mundial. <br><br><h2>  Agregar colisiones </h2><br>  Ahora que hemos colocado algunas de las fichas sobre las otras, con la ayuda de colisiones podemos controlar las √°reas que el jugador puede alcanzar y las transiciones entre ellas. <br><br>  Hay muchas formas de agregar colisiones, pero en nuestro caso se requiere que el jugador se levante y caiga a lo largo de la pendiente, por lo que no es tan obvio qu√© objetos deber√≠an tener colisionadores.  Podemos establecer conflictos manualmente usando el Tilemap opcional. <br><br>  En este proyecto, creamos varios sprites correspondientes a varias formas que definir√°n √°reas de colisiones.  Podemos dibujar estas formas en el tercer mapa de mosaico en lugares donde el jugador no puede pasar.  Por ejemplo, queremos que un jugador pueda escalar una roca solo a lo largo de una pendiente y no subir directamente sobre ella. <br><br>  Tambi√©n podemos agregar material √∫nico a Tilemap Renderer para darles a los azulejos un tono diferente y distinguirlos del resto del nivel. <br><br>  Al colocar mosaicos de colisi√≥n, puede agregar el componente Collider de Tilemap a las colisiones de Tilemap.  En este caso, para cada mosaico individual, los colisionadores se crean autom√°ticamente, determinados por la forma del sprite. <br><br>  Para optimizar el rendimiento, tambi√©n puede agregar el componente 2D Composite Collider y marcar la casilla de verificaci√≥n Utilizado por Composite para Tilemap Collider.  Esto combinar√° todos los colisionadores individuales en una forma grande. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0a/37d/0d7/a0a37d0d790cdd5bcea7687004cf5d18.gif"></div><br><h2>  Agregar elementos </h2><br>  Agregar elementos a un nivel es bastante simple.  Puede colocar manualmente sprites de elementos en cualquier punto deseado de la escena o adjuntar elementos a la cuadr√≠cula de Tilemap, convirti√©ndolos en mosaicos separados.  Elija qu√© soluci√≥n es mejor para usted. <br><br>  En este proyecto, colocamos manualmente varios √°rboles en el nivel.  Los √°rboles y el personaje tienen el mismo orden en la capa, lo que le permite ordenar din√°micamente el personaje delante y detr√°s de los √°rboles. <br><br>  Usando el colisionador, puedes especificar el punto en el que el jugador puede acercarse al √°rbol.  Esto tambi√©n se puede hacer de varias maneras. <br><br>  El primero se muestra en el video: simplemente adjunte un colisionador secundario al objeto y cambie su forma seg√∫n sea necesario. <br><br>  La segunda forma es establecer la <i>Forma de f√≠sica personalizada</i> para el objeto en el Editor de Sprite.  Para abrir el Editor de Sprite, seleccione el objeto de Sprite y busque el bot√≥n del Editor de Sprite en el Inspector.  En el men√∫ desplegable superior izquierdo, cambie al editor de formas de f√≠sica personalizadas.  Aqu√≠ puede crear formas poligonales que definen los bordes del colisionador.  Una vez establecida la forma f√≠sica, puede adjuntar el componente Polygon Collider al objeto, y corresponder√° a esta forma. <br><br>  Si usa objetos como mosaicos en Tilemap, tambi√©n puede usar el colisionador de Cuadr√≠cula.  Elija el activo de mosaico que coincida con el mosaico del elemento (si no recuerda d√≥nde encontrarlo, consulte la secci√≥n "Proceso b√°sico del mapa de mosaico").  Ver√° el men√∫ Tipo de colisionador.  Por defecto, un sprite se establece como el tipo, es decir, el colisionador generado autom√°ticamente usar√° la Forma F√≠sica, de la que hablamos anteriormente.  Si el tipo se establece en cuadr√≠cula.  entonces siempre coincidir√° exactamente con la forma de la celda de malla a la que est√° unido el elemento.  Quiz√°s esta no sea la forma m√°s precisa de implementar colisionadores, pero para algunos tipos de juegos puede ser √∫til. <br><br>  Para usar colisionadores para estos mosaicos, seleccione el mapa de mosaico con objetos y agregue el componente Collider de mosaico. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e3/98e/cc5/3e398ecc5b71b09f5179ce93956f1b9a.gif"></div><br><h2>  Usar mosaicos de reglas </h2><br>  Los mosaicos de reglas son extremadamente √∫tiles para automatizar el proceso de dibujo con mosaicos.  Rule Tile funciona como un mosaico normal, pero tiene una lista adicional de opciones de mosaico.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando estos par√°metros (reglas), un mosaico puede elegir autom√°ticamente qu√© sprite dibujar dependiendo de los mosaicos vecinos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los mosaicos de reglas son √∫tiles cuando no desea seleccionar manualmente mosaicos con diferentes giros, por ejemplo, al crear una roca o plataforma. Tambi√©n se pueden usar para aleatorizar entre diferentes variaciones del mismo mosaico, para evitar patrones repetitivos e incluso para crear mosaicos animados. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los mosaicos de reglas isom√©tricas y hexagonales est√°n disponibles en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el repositorio 2D Extras</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unity en GitHub. Tambi√©n tiene muchos otros activos √∫tiles de Tilemap que vale la pena explorar. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;">Agregamos el kit de inicio isom√©trico</font></a></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> al proyecto.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regla Azulejos para cada juego de fichas. </font><font style="vertical-align: inherit;">Aqu√≠ hay algunos ejemplos de mosaicos de proyectos con los que puede experimentar:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/186/ac1/31d/186ac131d5b332dd0e7091a71569ff48.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24a/eaf/d22/24aeafd227b8c539c6a4b077406d94b3.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/966/48d/15d/96648d15de848c73803c614a1173cbd6.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a9/f3b/d11/4a9f3bd113e3763a58d63924542ba360.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/80f/087/1a6/80f0871a6b4c0df7b40ecac46bba4ba1.png"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trabajo adicional </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora que ha aprendido sobre el dispositivo de las tarjetas de fichas isom√©tricas en Unity, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">descargue el proyecto del kit de inicio isom√©trico</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e intente trabajar con ellas usted mismo. </font><font style="vertical-align: inherit;">Si eres un programador, entonces tienes la oportunidad de interactuar con Tilemap a trav√©s de scripts, puedes usarlo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por ejemplo, al ver este video, puede aprender c√≥mo implementar un controlador de caracteres simple compatible con Isometric Tilemap:</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tywt9tOubEY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los gr√°ficos para este proyecto fueron creados para Unity por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@castpixel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">Sus otros trabajos se pueden ver </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si desea obtener m√°s informaci√≥n sobre la creaci√≥n de juegos 2D en Unity, debe aprender algunos cursos excelentes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en el sitio web de Learn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si est√° buscando recursos adicionales para experimentar con mapas en mosaico, consulte la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tienda de activos de Unity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øEs la primera vez que creas niveles con Tilemap? </font><font style="vertical-align: inherit;">Aprende a construir mundos bidimensionales en este </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial para principiantes de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unity Learn.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469497/">https://habr.com/ru/post/469497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469477/index.html">Es hora de que Apple deje de comparar iPad con PC</a></li>
<li><a href="../469479/index.html">¬øDe d√≥nde viene la probabilidad cu√°ntica?</a></li>
<li><a href="../469491/index.html">Interacci√≥n con el servidor Asterisk desde una aplicaci√≥n Java</a></li>
<li><a href="../469493/index.html">¬°Haga que C ++ sea genial otra vez! .. en Tula</a></li>
<li><a href="../469495/index.html">Nuevos enfoques para construir ACS usando tecnolog√≠as WEB</a></li>
<li><a href="../469499/index.html">C√≥mo conquistamos Parallels Inicie sesi√≥n con Apple</a></li>
<li><a href="../469503/index.html">Ciberseguridad: protegemos los datos de suscriptores de fugas en 2019</a></li>
<li><a href="../469505/index.html">3 formas pr√°cticas de llevar negocios a los mercados extranjeros: enfoques y t√©cnicas de compa√±√≠as reales</a></li>
<li><a href="../469507/index.html">Tercera vulnerabilidad del cliente de Windows Steam, pero no 0 d√≠as</a></li>
<li><a href="../469509/index.html">Esquemas angulares, o c√≥mo escrib√≠ mi plantilla para cli angular</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>