<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ô¶Ô∏è üëü üå¨Ô∏è Introdu√ß√£o ao SSD. Parte 2. Interface üò¢ üí• üßëüèΩ‚Äçü§ù‚ÄçüßëüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na √∫ltima parte da s√©rie Introdu√ß√£o √† SSD, falamos sobre a hist√≥ria da apar√™ncia de discos. A segunda parte mostrar√° as interfaces de intera√ß√£o com os...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introdu√ß√£o ao SSD. Parte 2. Interface</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/478684/"><img src="https://habrastorage.org/webt/vr/ba/g-/vrbag-e8pmb7zmqe_-x677wrf1e.jpeg"><br><br>  Na <a href="https://habr.com/ru/company/selectel/blog/475304/">√∫ltima parte</a> da s√©rie Introdu√ß√£o √† SSD, falamos sobre a hist√≥ria da apar√™ncia de discos.  A segunda parte mostrar√° as interfaces de intera√ß√£o com os drives. <br><br>  A comunica√ß√£o entre o processador e os perif√©ricos ocorre de acordo com as conven√ß√µes predefinidas chamadas interfaces.  Esses acordos regem o n√≠vel de intera√ß√£o f√≠sico e de software. <br><a name="habracut"></a><br><blockquote>  <b>Interface - um conjunto de ferramentas, m√©todos e regras de intera√ß√£o entre elementos do sistema.</b> </blockquote><br>  A implementa√ß√£o f√≠sica da interface afeta os seguintes par√¢metros: <br><br><ul><li>  largura de banda do canal de comunica√ß√£o; </li><li>  n√∫mero m√°ximo de dispositivos conectados simultaneamente; </li><li>  o n√∫mero de erros que ocorrem. </li></ul><br>  As interfaces de disco s√£o criadas nas <b>portas de E / S</b> , que s√£o o oposto da <b>E / S</b> na mem√≥ria e n√£o ocupam espa√ßo no espa√ßo de endere√ßo do processador. <br><br><h2>  Portas paralelas e seriais </h2><br>  De acordo com o m√©todo de troca de dados, as portas de entrada e sa√≠da s√£o divididas em dois tipos: <br><br><ul><li>  paralelo; </li><li>  consecutivo. </li></ul><br>  Como o nome indica, a porta paralela envia uma palavra de m√°quina que consiste em v√°rios bits de cada vez.  Uma porta paralela √© a maneira mais f√°cil de trocar dados, pois n√£o requer solu√ß√µes de circuitos complexas.  No caso mais simples, cada bit de uma palavra de m√°quina √© enviado em sua pr√≥pria linha de sinal e duas linhas de sinal de servi√ßo s√£o usadas para feedback: Os <b>dados est√£o prontos</b> e os <b>dados s√£o recebidos</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aw/vl/x7/awvlx7u8hes2fu-ib5-w98dblnk.gif" title="Transfer√™ncia de dados paralela (fonte cabledepot.com)"></div><br>  As portas paralelas, √† primeira vista, s√£o dimensionadas perfeitamente: mais linhas de sinal - mais bits s√£o transmitidos ao mesmo tempo e, portanto, maior rendimento.  No entanto, devido a um aumento no n√∫mero de linhas de sinal, surge uma intera√ß√£o de interfer√™ncia entre elas, levando a uma distor√ß√£o das mensagens transmitidas. <br><br>  As portas seriais s√£o o oposto do paralelo.  Os dados s√£o enviados um bit de cada vez, o que reduz o n√∫mero total de linhas de sinal, mas complica o controlador de E / S.  O controlador do transmissor recebe a palavra da m√°quina de cada vez e deve transmitir um bit de cada vez, e o controlador do receptor, por sua vez, deve receber bits e armazenar na mesma ordem. <br><br><div style="text-align:center;"> <a href="http://www.cabledepot.com/05DTSERPAR.html"><img src="https://habrastorage.org/webt/ig/s4/uf/igs4ufoggnv0q-xklo0ijmnwgk0.gif" title="Transfer√™ncia de dados serial (fonte cabledepot.com)"></a> </div><br>  Um pequeno n√∫mero de linhas de sinal permite aumentar a frequ√™ncia de transmiss√£o de mensagens sem interfer√™ncia. <br><br><h2>  SCSI </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2m/de/3d/2mde3ddb9zgmspzj5cxksmloc74.png" title="Pinagem de um conector SC50 CN50 de 50 pinos"></div><br>  A Interface SCSI (Small Computer Systems Interface) apareceu em 1978 e foi originalmente projetada para integrar dispositivos de v√°rios perfis em um √∫nico sistema.  A especifica√ß√£o SCSI-1 previa a conex√£o de at√© 8 dispositivos (junto com o controlador), como: <br><br><ul><li>  scanners </li><li>  unidades de fita (serpentinas); </li><li>  drives √≥pticos; </li><li>  unidades de disco e outros dispositivos. </li></ul><br><blockquote>  <b>O SCSI foi originalmente chamado de Shugart Associates System Interface (SASI), mas o comit√™ de padroniza√ß√£o n√£o teria aprovado o nome da empresa e, ap√≥s um dia de brainstorming, o nome SCSI (Small Computer Systems Interface) apareceu.</b>  <b>O "pai" da SCSI, Larry Boucher, implicava que a abrevia√ß√£o seria pronunciada "sexy", mas <a href="http://www.endl.com/ida.htm">Dal Allan</a> dizia "ssuzzy".</b>  <b>Posteriormente, a pron√∫ncia de "contos" firmemente enraizada neste padr√£o.</b> </blockquote><br>  Na terminologia SCSI, os dispositivos conectados s√£o divididos em dois tipos: <br><br><ul><li>  iniciadores; </li><li>  dispositivos de destino. </li></ul><br>  O iniciador envia um comando ao dispositivo de destino, que envia uma resposta ao iniciador.  Os iniciadores e os dispositivos de destino est√£o conectados a um barramento SCSI comum, cuja taxa de transfer√™ncia no padr√£o SCSI-1 √© de 5 MB / s. <br><br>  A topologia de barramento comum usada imp√µe v√°rias limita√ß√µes: <br><br><ul><li>  nas extremidades do barramento s√£o necess√°rios dispositivos especiais - terminadores; </li><li>  a largura de banda do barramento √© compartilhada entre todos os dispositivos; </li><li>  o n√∫mero m√°ximo de dispositivos conectados simultaneamente √© limitado. </li></ul><br><div style="text-align:center;"> <a href="https://www.cablesdirect.com/store/p/2877.aspx"><img src="https://habrastorage.org/webt/os/87/o_/os87o_fcexnab0i41iz_c2re_4i.png" title="Terminador SCSI (fonte cablesdirect.com)"></a> </div><br><br>  Os dispositivos no barramento s√£o identificados por um n√∫mero exclusivo chamado <b>ID de destino SCSI</b> .  Cada unidade SCSI no sistema √© representada por pelo menos um dispositivo l√≥gico, cujo endere√ßamento ocorre de acordo com um n√∫mero de unidade l√≥gica (LUN) exclusivo dentro do dispositivo f√≠sico. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ex/lw/z0/exlwz0jj-vvnsfne-_53u9ft4gk.png" title="Exemplo de organiza√ß√£o de barramento SCSI"></div><br>  Os comandos no SCSI s√£o enviados como CDBs (Command Descriptor <b>Blocks</b> ), consistindo no c√≥digo de opera√ß√£o e nos par√¢metros de comando.  O padr√£o descreve mais de 200 equipes, divididas em quatro categorias: <br><br><ul><li>  <b>Obrigat√≥rio</b> - deve ser suportado pelo dispositivo; </li><li>  <b>Opcional</b> - pode ser implementado; </li><li>  <b>Espec√≠fico do fornecedor</b> - usado por um fabricante espec√≠fico; </li><li>  <b>Obsoleto</b> - comandos obsoletos. </li></ul><br>  Entre as muitas equipes, apenas tr√™s s√£o obrigat√≥rias para dispositivos: <br><br><ul><li>  <b>UNIDADE DE TESTE PRONTA</b> - verifica√ß√£o de prontid√£o do dispositivo; </li><li>  <b>REQUEST SENSE</b> - solicita o c√≥digo de erro do comando anterior; </li><li>  <b>INQU√âRITO</b> - solicita√ß√£o das principais caracter√≠sticas do dispositivo. </li></ul><br>  Ap√≥s receber e processar o comando, o dispositivo de destino envia ao iniciador um c√≥digo de status que descreve o resultado da execu√ß√£o. <br><br>  Melhorias adicionais no SCSI (especifica√ß√µes SCSI-2 e Ultra SCSI) expandiram a lista de comandos usados ‚Äã‚Äãe aumentaram o n√∫mero de dispositivos conectados para 16, e a velocidade de troca de dados no barramento em at√© 640 MB / s.  Como o SCSI √© uma interface paralela, um aumento na frequ√™ncia da troca de dados foi associado a uma diminui√ß√£o no comprimento m√°ximo do cabo e levou a inconveni√™ncia no uso. <br><br>  Come√ßando com o padr√£o Ultra-3 SCSI, o suporte para "hot plug" apareceu - conectando dispositivos quando a energia est√° ligada. <br><br>  O primeiro SSD SCSI conhecido √© o M-Systems FFD-350, lan√ßado em 1995.  O disco era de alto custo e n√£o generalizado. <br><br>  Atualmente, o SCSI paralelo n√£o √© uma interface popular de montagem em disco, mas o conjunto de comandos ainda √© muito usado nas interfaces USB e SAS. <br><br><h2>  ATA / PATA </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8u/ud/ym/8uudymbhrnkcnha40ygpsr8vani.png" title="Pinagem de um conector ATA de 40 fios"></div><br>  A <b>interface ATA</b> (Advanced Technology Attachment), tamb√©m conhecida como <b>PATA</b> (Parallel ATA), foi desenvolvida pela Western Digital em 1986.  O nome de marketing do padr√£o IDE (Integrated Drive Electronics - ‚Äúeletr√¥nica integrada na unidade‚Äù) enfatizou uma inova√ß√£o importante: o controlador da unidade foi incorporado √† unidade, e n√£o em uma placa de expans√£o separada. <br><br>  A decis√£o de colocar o controlador dentro da unidade resolveu v√°rios problemas ao mesmo tempo.  Em primeiro lugar, a dist√¢ncia do inversor ao controlador diminuiu, o que afetou positivamente as caracter√≠sticas do inversor.  Em segundo lugar, o controlador interno foi "afiado" apenas para um determinado tipo de unidade e, consequentemente, era mais barato. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ez/1i/fr/ez1ifri1naerqkwcfdlemazormo.jpeg" title="Conectores PATA na placa-m√£e"></div><br>  O ATA, como o SCSI, usa um m√©todo de E / S paralela, que afeta os cabos usados.  Para conectar discos usando a interface IDE, s√£o necess√°rios cabos de 40 n√∫cleos, tamb√©m chamados de loops.  Especifica√ß√µes posteriores usam loops de 80 n√∫cleos: mais da metade dos quais est√£o ligados √† terra para reduzir a interfer√™ncia em altas frequ√™ncias. <br><br>  No cabo ATA, existem de dois a quatro conectores, um dos quais est√° conectado √† placa-m√£e e o restante √†s unidades.  Ao conectar dois dispositivos com um loop, um deles deve ser configurado como <b>mestre</b> e o segundo como <b>escravo</b> .  O terceiro dispositivo pode ser conectado apenas no modo somente leitura. <br><br><div style="text-align:center;"> <a href="http://www.informit.com/articles/article.aspx%3Fp%3D2028834%26seqNum%3D3"><img src="https://habrastorage.org/webt/sn/_z/8y/sn_z8y4bqwgz1euvany7h1mhdia.jpeg" title="Posi√ß√µes do jumper (fonte informit.com)"></a> </div><br>  A posi√ß√£o do jumper define a fun√ß√£o de um dispositivo espec√≠fico.  Os termos Mestre e Escravo em rela√ß√£o aos dispositivos n√£o est√£o totalmente corretos, pois em rela√ß√£o ao controlador todos os dispositivos conectados s√£o Escravos. <br><br>  Uma inova√ß√£o especial no ATA-3 √© a introdu√ß√£o da <b>tecnologia de automonitoramento</b> , <b>an√°lise e gera√ß√£o de relat√≥rios (SMART)</b> .  Cinco empresas (IBM, Seagate, Quantum, Conner e Western Digital) uniram for√ßas para padronizar a tecnologia de avalia√ß√£o de integridade de unidades. <br><br>  O suporte para unidades de estado s√≥lido veio com a quarta vers√£o do padr√£o, lan√ßada em 1998.  Esta vers√£o do padr√£o fornecia taxas de troca de dados de at√© 33,3 MB / s. <br><br>  O padr√£o apresenta requisitos rigorosos para os loops ATA: <br><br><ul><li>  o loop deve ser plano; </li><li>  comprimento m√°ximo do loop de 18 polegadas (45,7 cent√≠metros). </li></ul><br>  O loop curto e largo era desconfort√°vel e interferia no resfriamento.  Tornou-se cada vez mais dif√≠cil aumentar a frequ√™ncia de transmiss√£o com cada pr√≥xima vers√£o do padr√£o, e o ATA-7 resolveu o problema radicalmente: a interface paralela foi substitu√≠da pela serial.  Depois disso, o ATA adquiriu a palavra Parallel e ficou conhecido como PATA, e a s√©tima vers√£o do padr√£o recebeu um nome diferente - Serial ATA.  O controle de vers√£o SATA come√ßou com um. <br><br><h2>  SATA </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hh/x7/fh/hhx7fhb7fyjbm-tzka-i5huxaiy.png" title="Pinagem de conectores SATA"></div><br>  O padr√£o Serial ATA (SATA) foi introduzido em 7 de janeiro de 2003 e resolveu os problemas de seu antecessor pelas seguintes altera√ß√µes: <br><br><ul><li>  a porta paralela √© substitu√≠da por uma serial; </li><li>  amplo loop de 80 n√∫cleos substitu√≠do por 7 n√∫cleos; </li><li>  a topologia de barramento comum foi substitu√≠da por uma conex√£o ponto a ponto. </li></ul><br>  Apesar do fato do padr√£o SATA 1.0 (SATA / 150, 150 MB / s) ser um pouco mais r√°pido que o ATA-6 (UltraDMA / 130, 130 MB / s), a transi√ß√£o para um m√©todo seq√ºencial de troca de dados foi "preparar o solo" para aumentar velocidades. <br><br>  Dezesseis linhas de sinal para transmiss√£o de dados no ATA foram substitu√≠das por dois pares tran√ßados: um para transmiss√£o e outro para recep√ß√£o.  Os conectores SATA foram projetados para serem mais resilientes a v√°rias reconex√µes, e a especifica√ß√£o SATA 1.0 torna poss√≠vel o Hot Plug. <br><br><blockquote>  <b>Alguns pinos nas unidades s√£o mais curtos que todos os outros.</b>  <b>Isso √© feito para dar suporte ao Hot Swap.</b>  <b>Durante o processo de substitui√ß√£o, o dispositivo "perde" e "encontra" as linhas em uma ordem predeterminada.</b> </blockquote><br>  Pouco mais de um ano depois, em abril de 2004, a segunda vers√£o da especifica√ß√£o SATA foi lan√ßada.  Al√©m de acelerar at√© 3 Gb / s, o SATA 2.0 introduziu a tecnologia <b>Native Command Queuing</b> (NCQ).  Os dispositivos com suporte ao NCQ s√£o capazes de organizar independentemente a ordem de execu√ß√£o dos comandos recebidos para alcan√ßar o desempenho m√°ximo. <br><br><div style="text-align:center;"> <a href="https://www.newegg.com/red-rocstor-6-data-transfer-cable/p/0ZF-00S7-00004"><img src="https://habrastorage.org/webt/nm/vv/ti/nmvvtibxrbmvf0jw2xx0bnr-ujg.png" title="Adaptador SATA para SATA Slimline (fonte newegg.com)"></a> </div><br>  Nos tr√™s anos seguintes, o Grupo de Trabalho SATA trabalhou para melhorar a especifica√ß√£o existente e os conectores compactos Slimline e micro SATA (uSATA) apareceram na vers√£o 2.6.  Esses conectores s√£o uma c√≥pia pequena do conector SATA original e foram projetados para unidades √≥pticas e pequenos discos em laptops. <br><br>  Apesar do fato de a largura de banda da segunda gera√ß√£o SATA ser suficiente para discos r√≠gidos, os SSDs exigiam mais.  Em maio de 2009, a terceira vers√£o da especifica√ß√£o SATA foi lan√ßada com maior largura de banda de at√© 6 Gb / s. <br><br><div style="text-align:center;"> <a href="https://windowstips.ru/chto-takoe-msata-ssd-i-chem-on-mozhet-byt-polezen-osobenno-esli-vy-ne-udovletvoreny-obshhej-skorostyu-vashego-noutbuka"><img src="https://habrastorage.org/webt/ik/ds/jb/ikdsjbffnpaub2yik4nurrrvaqu.png" title="Unidade mSATA Samsung em uma unidade de 2,5 ‚Äù(fonte windowstips.ru)"></a> </div><br>  Aten√ß√£o especial foi dada aos SSDs na edi√ß√£o SATA 3.1.  Um conector Mini-SATA (mSATA) foi adicionado para conectar unidades de estado s√≥lido a laptops.  Ao contr√°rio do Slimline e do uSATA, o novo conector parecia um PCIe Mini, embora n√£o fosse eletricamente compat√≠vel com o PCIe.  Al√©m do novo conector, o SATA 3.1 ostentava a capacidade de enfileirar comandos TRIM com comandos de leitura e grava√ß√£o. <br><br><blockquote>  <b>O comando TRIM notifica o SSD de blocos de dados que n√£o carregam uma carga √∫til.</b>  <b>Antes do SATA 3.1, a execu√ß√£o desse comando fazia com que o cache fosse liberado e a opera√ß√£o de E / S fosse interrompida, seguida pela execu√ß√£o do comando TRIM.</b>  <b>Essa abordagem prejudicou o desempenho do disco durante as opera√ß√µes de exclus√£o.</b> </blockquote><br>  A especifica√ß√£o SATA n√£o acompanhou o r√°pido aumento na velocidade de acesso a unidades de estado s√≥lido, o que levou ao surgimento em 2013 de um compromisso chamado SATA Express no padr√£o SATA 3.2.  Em vez de dobrar novamente a largura de banda SATA, os desenvolvedores usaram o amplo barramento PCIe, cuja velocidade excede 6 Gb / s.  As unidades habilitadas para SATA Express adquiriram seu pr√≥prio fator de forma chamado M.2. <br><br><h2>  SAS </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uh/jm/te/uhjmtehxaxtdwnjunjis5efv7jc.png" title="Pinagem SFF-8482"></div><br>  O padr√£o SCSI rival com o ATA tamb√©m n√£o ficou parado e, apenas um ano ap√≥s o surgimento do Serial ATA, em 2004, ele degenerou em uma interface serial.  O nome da nova interface √© <b>Serial Attached SCSI</b> (SAS). <br><br>  Embora o SAS tenha herdado o conjunto de instru√ß√µes SCSI, as altera√ß√µes foram significativas: <br><br><ul><li>  interface serial </li><li>  Cabo de for√ßa de 29 n√∫cleos; </li><li>  conex√£o ponto a ponto </li></ul><br>  A terminologia SCSI tamb√©m foi herdada.  O controlador ainda √© chamado de iniciador e os dispositivos conectados s√£o o alvo.  Todos os dispositivos de destino e o iniciador formam o dom√≠nio SAS.  No SAS, a largura de banda da conex√£o n√£o depende do n√∫mero de dispositivos no dom√≠nio, pois cada dispositivo usa seu pr√≥prio canal dedicado. <br><br>  De acordo com a especifica√ß√£o, o n√∫mero m√°ximo de dispositivos conectados simultaneamente no dom√≠nio SAS excede 16 mil e, em vez do ID SCSI, o identificador de <b>nome mundial</b> (WWN) √© usado para endere√ßamento. <br><br><blockquote>  <b>O WWN √© um identificador exclusivo com um comprimento de 16 bytes, um an√°logo do endere√ßo MAC para dispositivos SAS.</b> </blockquote><br><div style="text-align:center;"> <a href="https://ru.wikipedia.org/wiki/Serial_Attached_SCSI"><img src="https://habrastorage.org/webt/pv/qu/g-/pvqug-tr0ojc-jrysslw-hwj46c.png" title="A diferen√ßa entre unidades SAS e SATA (source.wikipedia.org)"></a> </div><br>  Apesar das semelhan√ßas entre os conectores SAS e SATA, esses padr√µes n√£o s√£o totalmente compat√≠veis.  No entanto, uma unidade SATA pode ser conectada ao conector SAS, mas n√£o vice-versa.  A compatibilidade entre discos SATA e o dom√≠nio SAS √© fornecida usando o STP (SATA Tunneling Protocol). <br><br>  A primeira vers√£o do padr√£o SAS-1 possui uma largura de banda de 3 Gb / s, e a mais moderna, SAS-4, melhorou esse n√∫mero em 7 vezes: 22,5 Gb / s. <br><br><h2>  PCIe </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/_m/g_/xh_mg_vuctqfbmfdn7ehsmvbjqu.png" title="Pinagem do slot PCIe x8"></div><br>  Peripheral Component Interconnect Express (PCI Express, PCIe) - uma interface serial para transfer√™ncia de dados, que apareceu em 2002.  O desenvolvimento foi iniciado pela Intel e posteriormente transferido para uma organiza√ß√£o especial - PCI Special Interest Group. <br><br>  A interface serial PCIe n√£o foi exce√ß√£o e tornou-se uma continua√ß√£o l√≥gica do PCI paralelo, projetado para conectar placas de expans√£o. <br><br>  O PCI Express √© significativamente diferente do SATA e SAS.  A interface PCIe possui um n√∫mero vari√°vel de linhas.  O n√∫mero de linhas √© igual √† pot√™ncia de duas e varia de 1 a 16. <br><br>  O termo "linha" no PCIe n√£o significa uma linha de sinal espec√≠fica, mas um canal de comunica√ß√£o full-duplex separado, consistindo nas seguintes linhas de sinal: <br><br><ul><li>  recep√ß√£o + e recep√ß√£o-; </li><li>  transmiss√£o + e transmiss√£o-; </li><li>  quatro condutores de terra. </li></ul><br>  O n√∫mero de linhas PCIe afeta diretamente a largura de banda m√°xima da conex√£o.  O moderno padr√£o PCI Express 4.0 permite atingir 1,9 GB / s em uma √∫nica linha e 31,5 GB / s ao usar 16 linhas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kq/km/m6/kqkmm6t8ub9mimbjdjgbj_hevui.jpeg" title="PCIe x8 NVMe"></div><br>  Os "apetites" dos SSDs est√£o crescendo muito r√°pido.  Tanto o SATA quanto o SAS n√£o t√™m tempo para aumentar sua largura de banda para acompanhar os SSDs, o que levou ao surgimento de SSDs com conex√£o PCIe. <br><br><blockquote>  <b>Embora as placas de expans√£o PCIe estejam aparafusadas, o PCIe suporta troca a quente.</b>  <b>Os pinos curtos do PRSNT (presente - presente) permitem garantir que o cart√£o esteja totalmente inserido no slot.</b> </blockquote><br>  Os SSDs conectados via PCIe s√£o regulados por um padr√£o de <b>especifica√ß√£o de interface de controlador de host de mem√≥ria n√£o vol√°til</b> e est√£o incorporados em muitos fatores de forma, mas falaremos sobre eles na pr√≥xima parte. <br><br><h2>  Drives remotos </h2><br>  Ao criar grandes data warehouses, havia a necessidade de protocolos que permitissem conectar unidades localizadas fora do servidor.  A primeira solu√ß√£o nessa √°rea foi o <b>Internet SCSI</b> (iSCSI), desenvolvido pela IBM e Cisco em 1998. <br><br>  A id√©ia do iSCSI √© simples: os comandos SCSI s√£o agrupados em pacotes TCP / IP e enviados √† rede.  Apesar da conex√£o remota, a ilus√£o √© criada para os clientes de que a unidade est√° conectada localmente.  Uma rede de √°rea de armazenamento (SAN) baseada em iSCSI pode ser constru√≠da na infraestrutura de rede existente.  O uso do iSCSI reduz significativamente o custo de organiza√ß√£o de uma SAN. <br><br>  O ISCSI possui uma op√ß√£o "premium" - FCP ( <b>Fibre Channel Protocol</b> ).  SAN usando FCP √© constru√≠do em links de fibra √≥ptica dedicados.  Essa abordagem requer equipamento de rede √≥ptica adicional, mas difere em estabilidade e alto rendimento. <br><br><blockquote>  <b>Existem muitos protocolos para o envio de comandos SCSI atrav√©s de redes de computadores.</b>  <b>No entanto, existe apenas um padr√£o que resolve o problema oposto e permite o envio de pacotes IP no barramento SCSI - <a href="https://www.rfc-editor.org/rfc/rfc2143.txt">IP sobre SCSI</a> .</b> </blockquote><br>  A maioria dos protocolos SAN usa o conjunto de comandos SCSI para gerenciar unidades, mas h√° exce√ß√µes, como o simples <b>ATA over Ethernet</b> (AoE).  O protocolo AoE envia comandos ATA em pacotes Ethernet, mas as unidades s√£o exibidas como SCSI no sistema. <br><br>  Com o advento das unidades NVM Express, o iSCSI e o FCP deixaram de atender √†s crescentes demandas dos SSDs.  Duas solu√ß√µes apareceram: <br><br><ul><li>  remo√ß√£o do barramento PCI Express fora do servidor; </li><li>  Cria√ß√£o do protocolo NVMe over Fabrics. </li></ul><br>  A remo√ß√£o do barramento PCIe est√° associada √† cria√ß√£o de equipamentos de comuta√ß√£o complexos, mas n√£o faz altera√ß√µes no protocolo. <br><br>  O NVMe over Fabrics se tornou uma boa alternativa ao iSCSI e FCP.  O NVMe-oF usa links de fibra √≥tica e o conjunto de comandos do NVM Express. <br><br><h2>  DDR-T </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9c/ps/yu/9cpsyuqvnb7c05g7saqjtjgovwi.jpeg" title="Mem√≥ria persistente Intel Optane DC"></div><br>  Os padr√µes iSCSI e NVMe-oF resolvem o problema de conectar unidades remotas como locais, enquanto a Intel seguiu o caminho contr√°rio e aproximou a unidade o mais poss√≠vel do processador.  A escolha caiu nos slots DIMM nos quais a RAM est√° conectada.  A largura de banda m√°xima do canal DDR4 √© de 25 GB / s, o que excede significativamente a velocidade do barramento PCIe.  Foi assim que surgiu o SSD de mem√≥ria persistente Intel¬Æ Optane ‚Ñ¢ DC. <br><br>  Para conectar a unidade aos slots DIMM, o protocolo <b>DDR-T</b> foi inventado, f√≠sica e eletricamente compat√≠vel com DDR4, mas exigindo um controlador especial que veja a diferen√ßa entre a barra de mem√≥ria e a unidade.  A velocidade de acesso √† unidade √© menor que a RAM, mas maior que o NVMe. <br><br>  O DDR-T est√° dispon√≠vel apenas nos processadores Intel¬Æ Cascade Lake ou posterior. <br><br><h2>  Conclus√£o </h2><br>  Quase todas as interfaces percorreram um longo caminho desde a transfer√™ncia de dados serial at√© a paralela.  A velocidade dos SSDs est√° crescendo rapidamente: ontem, os SSDs eram uma novidade, mas hoje o NVMe n√£o √© mais uma surpresa. <br><br><blockquote>  <b>No nosso <a href="https://selectel.ru/lab/">laborat√≥rio Selectel,</a> voc√™ pode testar os SSDs e as unidades NVMe.</b> </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt478684/">https://habr.com/ru/post/pt478684/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt478658/index.html">Como acordar tipo? Novo alarme Dawn Plus Light</a></li>
<li><a href="../pt478660/index.html">Engenheiros otimizam a captura de part√≠culas no CERN</a></li>
<li><a href="../pt478666/index.html">Placa de som USB no YM3812</a></li>
<li><a href="../pt478672/index.html">Teste e inicializa√ß√£o da IA: Entrevista com Adam Carmi (Applitools)</a></li>
<li><a href="../pt478680/index.html">Por que, e mais importante, para onde as pessoas v√£o da TI?</a></li>
<li><a href="../pt478688/index.html">Como foi estudar Ci√™ncia de Dados em 2019</a></li>
<li><a href="../pt478690/index.html">Montagem din√¢mica e implanta√ß√£o de imagens do Docker com werf usando o site de exemplo da documenta√ß√£o com vers√£o</a></li>
<li><a href="../pt478692/index.html">Como o Java 8 √© suportado no Android</a></li>
<li><a href="../pt478694/index.html">Como recomendamos os cat√°logos mais recentes no cinema online ivi (+ c√≥digo Python)</a></li>
<li><a href="../pt478696/index.html">Como visitei o Urban Tech 2019. Relat√≥rio de eventos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>