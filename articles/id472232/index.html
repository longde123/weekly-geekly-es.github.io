<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💅🏿 🍙 😾 Dari "Color Extender untuk ZX-Spectrum" ke ZX-Poly 🌆 🥀 🐕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Color Extender for ZX-Spectrum" - ini adalah judul artikel yang diterbitkan dalam echo fido7.zx.spectrum pada 3 Agustus 1997. Artikel tersebut mengga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dari "Color Extender untuk ZX-Spectrum" ke ZX-Poly</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472232/"><p>  "Color Extender for ZX-Spectrum" - ini adalah <em>judul</em> artikel yang diterbitkan dalam echo <em>fido7.zx.spectrum</em> pada 3 Agustus 1997.  Artikel tersebut menggambarkan ide untuk menyelesaikan salah satu masalah utama platform ZX-Spectrum - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">atribut clash</a> .  Publikasi membangkitkan minat pada waktu itu, dan saya ingin menceritakan tentang rincian teknis dan sejarah masalah ini. </p><br><p><img src="https://habrastorage.org/webt/ft/at/_v/ftat_vfl5fato4m_aobobohxfhm.png" alt="ZX-Poly logo"></p><br><p>  Saya tidak akan masuk jauh ke detail teknis dan hanya secara struktural menggambarkan ide dan solusi. </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Bagian non-teknis dari cerita ini, Anda bisa lewati</b> <div class="spoiler_text"><p>  Kisah pembangunan dimulai pada awal musim semi 1994, ketika negara itu masih mengalami "perubahan dalam rancangan", yang menyebabkan penutupan besar-besaran penangguhan dan daya tarik siswa sekolah kejuruan dan sekolah teknik.  Saya beruntung - saya berada di tahun terakhir saya di Leningrad Radiotechnical College dan sedemikian rupa negara setuju untuk memberikan penundaan jangka pendek untuk percepatan penerimaan diploma dengan penggantian desain diploma dengan ujian dalam semua mata pelajaran.  Dia meninggalkan tentara pada 1 Maret 1994, sebagai teknisi radio bersertifikat. </p><br><p>  Di angkatan bersenjata pada waktu itu ada gelombang yang belum pernah terjadi sebelumnya dari spesialis yang sama dari tingkat teknis menengah, meskipun ini sedikit merusak sistem wajib militer musim gugur-musim semi di kepala "kakek" yang sudah memiliki gradasi yang jelas dalam nama-nama, mereka menjuluki panggilan ini "goblin" non-standar.  Di antara "booming" ada cukup banyak orang yang menyukai ZX-Spectrum dan Alexander Gumin ada di unit saya (ia menulis game di ZX-Spectrum di bawah label ANCCAN dengan Denis Markelov dan menjadi terkenal karena adaptasi Mortal Kombat untuk platform ini pada tahun 1997), siapa yang berbicara tentang pemrograman dan perangkat keras. </p><br><p>  Lebih dekat ke pertengahan April 1994, di akhir "jalur pejuang muda," Alexander dan saya dipindahkan ke batalion konstruksi yang terletak di Strelna, pinggiran kota St. Petersburg.  Di sana, kami harus menguasai spesialisasi splicer kabel yang sulit selama beberapa bulan.  Kehidupan di bagian ini mengalir dengan santai dan belajar bergantian dengan pakaian, yang sebagian besar tegang tangan, tetapi memberi waktu otak untuk refleksi.  Jadi, di salah satu pakaian di dapur, lantai saya dan berpikir tentang ZX-Spectrum dan kemampuannya, saya datang dengan ide - bagaimana mengatasi "konflik atribut." </p><br><p>  Saya merenungkan ide ini sampai akhir kebaktian dan semakin yakin bahwa "itu bisa berhasil."  Sayangnya, gagasan tentang keberlangsungan platform itu sendiri, di mana saya akan menerapkan ide ini, jarang mengunjungi saya.  Namun, di Rusia, ZX-Spectrum menyala paling jelas di langit dari sekitar 1991 hingga 1996.  Beberapa produsen klon Rusia telah meningkat pesat sehingga mereka mensponsori program di TV (misalnya, perusahaan BiM telah mensponsori program "The Jungle's Name" untuk beberapa waktu).  Tetapi selama layanan ada masalah lain, jadi saya memutuskan untuk menunda semua masalah yang berkaitan dengan perdagangan sampai saya dikirim ke cadangan.  Secara berkala dan tanpa mengungkapkan detail, saya tertarik pada berbagai pakar tentang topik kelayakan teknis dan validitas pendekatan.  Dia menyimpan ide itu secara rahasia dan bahkan tidak membaginya dengan Alexander Gumin, hanya secara samar menunjukkan kepadanya bahwa dia telah menemukan solusi yang sangat sederhana untuk meningkatkan jumlah warna sambil mempertahankan kompatibilitas ke belakang. </p><br><p>  Setelah memasuki "warga negara" pada tahun 1997 dan mendapat pekerjaan sebagai insinyur perangkat lunak dari kategori kedua di perusahaan "Teknologi dan Model Informasi" St. Petersburg, saya mulai tertarik pada pertanyaan tentang mengkomersilkan solusi.  Untuk beberapa alasan, saya yakin bahwa jika saya hanya mengisyaratkan solusi yang saya temukan, semua orang akan mulai merobek dengan tangan mereka dan uang akan mengalir.  Saya mulai menelepon yang terkenal, pada waktu itu di bidang "Spectrum Engineering" produsen dan pedagang, seperti Sergey Zonov, Vyacheslav Skutin (Nemo) dan lainnya.  Sergey Zonov hanya mengatakan kepada saya bahwa "kereta sudah pergi" dan tidak ada lagi pengertian komersial dalam usaha ini.  Vyacheslav Skutin, sebagai seorang spektrumist ortodoks, mengambil permusuhan dengan ide di mana mereka mencoba untuk mengubah sesuatu di platform dan ini juga merupakan versi yang benar-benar mati.  Saya memutuskan bahwa ada sedikit pembicaraan dan setidaknya sesuatu harus dilakukan dan yang terbaik adalah memulai dengan emulator untuk mendapatkan materi promosi dan data eksperimen. </p><br><p>  Pada tahun 1998, dengan mengambil basis dari emulator ZX-Spectrum open-source yang ada saat itu yang ditulis dalam Pascal, saya membuat emulator primitif dari empat komputer yang bekerja secara paralel.  Saya sebagian mengadaptasi permainan After The War 2 untuknya, mewarnai beberapa sprite-nya.  Sistem bekerja dan, selain menikmati ide yang berfungsi, saya dapat screenshot saya mengkonfirmasi ide mewarnai game yang ada. </p><br><p>  Pada tahun 1998, saya mengunjungi perusahaan Peters, yang sedang mengembangkan platform Sprinter baru pada waktu itu.  Dia berusaha menarik minat sutradara mereka Nikolai Noskov.  Mereka banyak berinvestasi dalam pengembangan baru dan, menurut hukum kekejaman, arsitektur super-fleksibel Sprinter, yang mampu meniru hampir semua platform prosesor tunggal pada Z80, tidak dapat memperpanjang empat prosesor.  Namun, kunjungan ke perusahaan ini sangat berguna, ketika ia bertemu dengan penulis platform Sprinter Ivan Makarchenko dan belajar tentang peluang baru di bidang pengembangan FPGA. </p><br><p>  Segera krisis 1998 "layu" dan ada harapan naif bahwa minat terhadap ZX-Spectrum bisa hidup kembali.  Pada awal tahun 1999, kami (bersama pasangan saya saat itu, Andrei Savichev) bahkan mempunyai rencana untuk menciptakan "Dana Spektrum Nasional" dan satu pertemuan diadakan tentang topik ini di kantor baru dari perusahaan Peters yang sama.  Tetapi mereka tidak memasuki sungai yang sama dua kali dan tentu saja tidak ada yang datang darinya.  Sudah pada tahun 1999, semua ide tentang topik implementasi perangkat keras dari platform tersebut dibuang (kami bekerja pada pengembangan ini dengan Sergey Egorov, tetapi kami tidak melangkah lebih jauh dari skema).  Sampai 2007, saya praktis tidak berurusan dengan platform, tetapi ada waktu dan memutuskan untuk menulis ulang emulator dan mengerjakan rincian platform, memeriksa pendekatan dan membiarkan mereka "secara virtual". </p></div></div><br><p>  Mode video standar ZX-Spectrum, menampilkan 256 x 192 piksel.  Dalam mode monokrom, ini hanya membutuhkan 6144 byte, yaitu sekitar 10% dari total bidang memori (terhadap 50% pada BK-0010).  Informasi warna disimpan dalam 768 byte tambahan yang terletak tepat setelah data piksel.  Palet terdiri dari delapan warna dan dua warna.  Warna piksel yang menyala dan dibuang segera ditentukan untuk blok 8 oleh 8 piksel, dan rona ditentukan segera untuk warna piksel yang menyala dan dibuang. </p><br><p>  Itu terlihat penuh warna dan jumlah data yang relatif kecil dikirimkan dengan sangat cepat, tetapi itu membutuhkan usaha dan seni yang luar biasa dari para seniman dan programmer ketika mengembangkan permainan warna dan screensaver.  Inkonsistensi sekecil apa pun dalam grafik menyebabkan konflik atribut.  Sebagian besar pengembang melakukan pekerjaannya dengan baik dengan latar belakang BK-0010, dengan hanya empat warna (tetapi untuk setiap titik!), Warna semu Spectrum tampak sangat menguntungkan dan segar. </p><br><p><img src="https://habrastorage.org/webt/rb/wz/qv/rbwzqvjgroepwudiddfwnl9vhsi.png" alt="Contoh atribut ZX-Spectrum"></p><br><p>  Dengan pengembangan platform ke ZX-Spectrum 128, kemampuan untuk beralih perangkat keras antara dua halaman memori video ditambahkan.  Pemrogram dengan cepat menemukan cara untuk mendapatkan multi-warna menggunakan perubahan sangat cepat dari halaman video yang ditampilkan dan perubahan atribut warna yang dinamis. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_aeNtFCaYt8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Karena ini, bahkan mungkin untuk secara terprogram menaikkan resolusi layar (yang ditunjukkan dengan sempurna, misalnya, dalam demo "Dead Morose", di mana pada saat yang sama teks berjalan dengan resolusi 256, 512, dan 768 poin secara horizontal). </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/WHj4gBB612U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Tetapi setiap solusi perangkat lunak yang membutuhkan peningkatan aliran informasi video menyebabkan peningkatan konsumsi prosesor, yang sangat penting dalam kasus permainan yang dinamis.  Tidak ada sumber cadangan daya komputasi yang tidak digunakan dalam sistem.  Semuanya tergantung pada prosesor di ZX-Spectrum dan memberikannya sedikit, kecuali mungkin prosesor musik di bidang efek suara. </p><br><p>  Ide saya adalah Anda dapat menambahkan tiga prosesor lagi, masing-masing memproses komponen warna mereka.  Data yang diterima dari masing-masing memori video prosesor harus diintegrasikan, membentuk nilai YRGB <strong>untuk setiap piksel</strong> .  Atribut warna standar diabaikan.  Pemrosesan informasi yang paralel harus memastikan bahwa tidak ada kinerja yang kendur. </p><br><p><img src="https://habrastorage.org/webt/fs/g3/yc/fsg3ycbdz2wwt7ysrtsfpeyms1a.png" alt="Skema Warna dalam ZX-Poly 256x192"></p><br><p>  Saya tidak bisa mengatakan bahwa itu asli dalam ide, karena terinspirasi oleh pembacaan buku terjemahan "The Computer Gain Mind" (Mir Publishing House, 1990), yang menggambarkan platform grafis Pixar tertentu yang dikembangkan di Lucasfilm.  Dan menurut <abbr title="Teori pemecahan masalah inventif, atau TRIZ, adalah seperangkat metode untuk memecahkan masalah teknis dan meningkatkan sistem teknis">TRIZ,</abbr> ini hanya transisi dari sistem tunggal menjadi sistem tunggal. </p><br><p><img src="https://habrastorage.org/webt/lg/7d/1k/lg7d1ktwhzyxrnzzwt2yljv8qaw.png" alt="bagian halaman dari buku &quot;The Computer Gain Mind&quot;"></p><br><p>  Pertanyaan yang sangat menyakitkan untuk pengembangan apa pun - dan siapa yang akan menulis program?  (khususnya, platform <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sprinter</a> menemukan "perangkap" ini).  Dalam kasus saya, masalah dengan perangkat lunak secara otomatis diselesaikan oleh fakta bahwa sangat jarang ada program memeriksa jenis data apa yang mereka rekam dalam memori video dan hanya bekerja dengan mereka "seperti tukang pos dengan surat yang disegel".  Menurut perhitungan saya, ternyata sebagian besar program game yang ada dapat dengan mudah bertahan adaptasi data video mereka tanpa perubahan dalam kode yang dapat dieksekusi.  Tentu saja, game dengan paket grafik atau optimisasi internal dalam outputnya ke layar terputus.  Mengadaptasi program semacam itu akan membutuhkan penelitian dan perubahan kode yang dapat dieksekusi.  Pengembangan ROM khusus tidak diperlukan sama sekali. </p><br><p>  Saya pikir konsep ini berlaku untuk platform rumah tangga lama (misalnya, AGAT, Radio86RK, BK-0010, dll.), Di mana tidak ada akselerator video khusus dan prosesor bekerja langsung dengan memori video untuk membentuk gambar. </p><br><p>  Pada versi pertama dari emulator, saya baru saja membuat empat ZX-Spectrum 48s bekerja secara serempak. Tetapi apa yang mudah disimulasikan pada emulator sangat sulit untuk diulang pada perangkat keras nyata.  Sangat sulit untuk memastikan pemuatan data ke dalam empat modul komputasi dan untuk memulai secara sinkron dari alamat yang sama.  Solusi serupa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Spec256</a> memperkenalkan untuk <abbr title="Instruksi Tunggal, Banyak Data - aliran instruksi tunggal, banyak aliran data">SIMD</abbr> Z80 64-bit virtual khusus ini, yang tidak ada di alam.  Sebagai bagian dari solusi yang lebih realistis (dan lebih kompleks) untuk masalah ini, platform ZX-Poly dibentuk. </p><br><h1 id="ot-cvetorasshiritelya-k-zx-poly">  Dari "Color Extender" ke ZX-Poly </h1><br><h2 id="processornye-moduli">  Modul prosesor </h2><br><p>  ZX-Poly adalah platform komputasi berbasis pada ZX-Spectrum 128 yang berisi empat modul prosesor.  Setiap modul memiliki port IO sistem addressable yang terlihat secara eksternal.  Meskipun modul prosesor berbagi sinyal kontrol sistem (RESET, NMI, CLK, dan INT), mereka bekerja secara independen. </p><br><p><img src="https://habrastorage.org/webt/9r/na/nt/9rnantil7npmty1cnmtip6hdxvg.png" alt="Diagram blok"></p><br><p>  Ada peringkat tertentu tergantung pada indeks modul - semakin kecil indeks, semakin tinggi peringkat, masing-masing, "modul 0" adalah master dalam sistem.  Akses tulis ke port sistem dari modul hanya diperbolehkan ke modul dengan peringkat yang sama atau lebih tinggi, tidak ada batasan membaca.  Ini dilakukan karena ada pemikiran tentang pengembangan OS khusus. </p><br><p><img src="https://habrastorage.org/webt/hz/wg/l9/hzwgl9ajm1vcyx_cycpsmh8c3uk.png" alt="Modul pemeringkatan"></p><br><p>  Detail yang sangat penting adalah bahwa semua perangkat prosesor yang digunakan harus dari pabrikan yang sama (dan alangkah baiknya memiliki satu seri produksi), karena perbedaan sekecil apa pun dalam organisasi internal atau pengoptimalannya dapat melanggar konsistensi sistem. </p><br><p>  Segera setelah dimulainya sistem, hanya modul master (CPU0) yang diluncurkan, modul yang tersisa dalam mode WAIT, sehingga bagi pengguna semuanya berjalan tanpa disadari. </p><br><p>  Di ruang IO, ZX-Poly menambahkan port berikut yang tersedia untuk menulis dan membaca: </p><br><ul><li>  port konfigurasi utama $ 3D00 </li><li>  modul 0 - $ 00FF, $ 10FF, $ 20FF, $ 30FF </li><li>  modul 1 - $ 01FF, $ 11FF, $ 21FF, $ 31FF </li><li>  modul 2 - $ 02FF, $ 12FF, $ 22FF, $ 32FF </li><li>  modul 3 - $ 03FF, $ 13FF, $ 23FF, $ 33FF </li></ul><br><p>  Port konfigurasi ZX-Poly utama adalah $ 3D00.  Hanya modul master yang dapat menulisnya, tetapi tersedia untuk membaca ke semua modul dan masing-masing informasi khususnya dikembalikan.  Secara khusus, modul dapat mengetahui indeksnya, apakah memorinya dipetakan ke port IO modul utama, offset ingatannya di heap, dll.  Juga, port konfigurasi platform dasar $ 7FFD telah mengalami perubahan kecil, yang menggunakan bit yang tidak digunakan dalam aslinya. </p><br><h2 id="pamyat">  Memori </h2><br><p>  Seperti dalam arsitektur asli ZX-Spectrum 128, ada ROM dan RAM.  Jika organisasi dan bekerja dengan ROM praktis tidak berubah, maka RAM berubah menjadi "tumpukan" umum dari 512 KB di mana setiap prosesor bekerja dengan jendela 128 KB khusus (ini adalah 8 halaman 16 KB dalam ZX-Spectrum 128).  Offset jendela dapat diubah dengan peningkatan 64 Kb dan semua modul prosesor dapat diproyeksikan untuk bekerja dengan sepotong memori yang penuh atau sebagian tumpang tindih di tumpukan.  ROM dapat dinonaktifkan dan halaman RAM RAM0 akan terhubung pada tempatnya (ini memungkinkan Anda untuk membuat versi "penuh warna" dari OS dasar, misalnya, juru bahasa dasar).  Setelah perangkat keras RESET, semua modul menerima offset otomatis untuk memisahkan jendela memori di heap. </p><br><p>  Master modul prosesor (CPU0), memiliki kemampuan untuk memetakan ruang alamat modul lain (CPU1-3) ke area port IO-nya.  Yaitu  ia dapat menulis ke port, mengubah keadaan sel memori dari modul yang diberikan, dan pada saat yang sama, dimungkinkan untuk menghasilkan sinyal NMI pada modul yang dipetakan.  Saat membaca dari sel memori dari modul yang dipetakan, pembuatan INT dimungkinkan.  Ini dilakukan untuk meniru perangkat virtual menggunakan modul 1-3. </p><br><h2 id="video-kontroller">  Pengontrol video </h2><br><p>  "Ceri" utama adalah tentu saja pengontrol video, semuanya dimulai untuk itu.  Secara total, platform ini mendukung lima mode video. </p><br><h3 id="video-rezhimy-zx-spectrum-128-mode-0123">  ZX-Spectrum 128 Mode Video (mode 0,1,2,3) </h3><br><p>  Mode video ini biasa-biasa saja dan tidak berbeda sama sekali dari mode video standar ZX-Spectrum 128. Halaman video saat ini dari modul prosesor yang dipilih dengan pewarnaan atribut ditampilkan.  Segera setelah dimulainya sistem, mode 0 diaktifkan, mis.  Halaman video modul master (CPU0) ditampilkan. </p><br><p><img src="https://habrastorage.org/webt/1f/lk/vn/1flkvncwify4gom7fmw2zp-i77c.png" alt="ATW2 dalam mode ZX standar"></p><br><h3 id="zx-poly-256x192-mode-4">  ZX-Poly 256x192 (mode 4) </h3><br><p>  Mode video ini tidak menggunakan data apa pun dari area atribut sama sekali.  Bit piksel dari setiap modul dikombinasikan dengan data piksel dari modul lain dan empat bit yang dihasilkan digunakan untuk menghasilkan sinyal YRGB-kecerahan warna. </p><br><p>  Setiap modul bertanggung jawab atas komponennya: </p><br><ul><li>  modul 0 (master) untuk Hijau (hijau). </li><li>  modul 1 untuk Merah (merah) </li><li>  modul 2 untuk Biru (biru) </li><li>  modul 3 untuk kecerahan </li></ul><br><p><img src="https://habrastorage.org/webt/gy/kw/jx/gykwjxvnd5r_4967oxnlgo2z8gs.gif" alt="versi berwarna"></p><br><p>  Jika Anda memulai gim yang tidak diadaptasi dalam mode ini, itu hanya akan menjadi hitam dan putih. <br><img src="https://habrastorage.org/webt/jt/_i/s4/jt_is4xsowghhld2aimz0dnpplc.png" alt="game tidak diadaptasi"></p><br><h3 id="zx-poly-256x192-s-maskirovaniem-po-inkpaper-mode-6">  ZX-Poly 256x192 dengan masking oleh INK + PAPER (mode 6) </h3><br><p>  Seperti yang sebelumnya, ia menyediakan 16 warna untuk setiap titik, tetapi ada satu "trik".  Dalam beberapa program ZX-Spectrum, elemen grafis disembunyikan menggunakan nilai TIN dan KERTAS identik dalam atribut, terutama dalam permainan scroller.  Jika Anda menghapus peluang ini, maka elemen grafis mulai menumpuk di layar, memecahkan gambar.  Oleh karena itu, status TINTA dan KERTAS dianalisis dari atribut modul master yang dibaca dari memori video (CPU0) dan jika mereka identik, maka semua titik disorot dengan warna yang diambil dari TINTA / KERTAS (tentu saja, dengan mempertimbangkan kecerahan). </p><br><p><img src="https://habrastorage.org/webt/ol/sy/26/olsy265bag3_dg_bnxl-grzsjlq.gif"></p><br><h3 id="zx-poly-256x192-s-maskirovaniem-po-flashinkpaper-mode-7">  ZX-Poly 256x192 dengan masking oleh FLASH + INK + PAPER (mode 7) </h3><br><p>  Mode adalah kombinasi dari mode 4 dan mode 6. Untuk atribut yang dapat dibaca dari modul master (CPU0), bit FLASH dianalisis dan jika sudah diatur (yang jarang terjadi dalam permainan dinamis di lapangan bermain), maka blok 8 oleh 8 piksel ditampilkan dalam mode mode 6 ( dengan masking dengan TINTA dan KERTAS identik).  Jika FLASH diatur ulang, blok ditampilkan seperti pada ZX-Spectrum biasa.  Bit FLASH tidak dipraktikkan dalam peran langsungnya dan tidak akan ada berkedip. <br>  Mode ini sangat nyaman untuk menghindari pengecatan ulang panel informasi gim dan beberapa efek dalam gim (misalnya, ketika pengembang gim melakukan flash pada bidang permainan melalui atribut). </p><br><p><img src="https://habrastorage.org/webt/cs/fr/cv/csfrcvh0rtury8g_9g20t1xoecm.gif" alt="Animasi Hiu Terbang yang diadaptasi"></p><br><h3 id="zx-poly-512x384-s-atributami-mode-5">  ZX-Poly 512x384 dengan atribut (mode 5) </h3><br><p>  Atribut digunakan dalam cara yang hampir sama seperti pada platform asli, tanpa perubahan apa pun (bahkan bit FLASH).  Data piksel video dari masing-masing modul diwarnai dengan atribut dari memori video modul ini dan, setelah melewati pewarnaan, ditampilkan dalam pola kotak-kotak, karena satu blok keakraban 16 dengan 16 poin. </p><br><p><img src="https://habrastorage.org/webt/5i/gv/cl/5igvcljru-gbuybss377ujcbbr0.png" alt="formasi catur"></p><br><p>  Mode ini memungkinkan Anda untuk menggandakan resolusi aplikasi, tanpa mengubah kode yang dapat dieksekusi.  Benar, percobaan dengan game yang sama "Pinocchio" menunjukkan bahwa dalam game yang cerah dengan detail besar, efeknya akan kurang terlihat.  Karena ini adalah jenis piksel virtual, gim tidak tahu apa-apa tentang ini dan gerakan minimum yang mungkin dari elemen gim adalah pada tingkat dua piksel virtual.  Saya pikir mode ini bagus untuk gim dengan objek gim kecil di tempat yang akrab. </p><br><p><img src="https://habrastorage.org/webt/o4/25/hk/o425hkbmpkl00uju8aaon-_siui.png" alt="contoh permainan &quot;Pinocchio&quot;"></p><br><p>  Efek yang jauh lebih baik dalam mode video ini diperoleh pada aplikasi teks, misalnya, pada editor teks ZX-Word, di mana font diproses tanpa perubahan dalam kode yang dapat dieksekusi. </p><br><p><img src="https://habrastorage.org/webt/xd/ol/li/xdollinm5mle6snma7prgemgyyw.gif" alt="diadaptasi ZX-Word"></p><br><h2 id="mnogozadachnost">  Multitasking </h2><br><p>  Terlepas dari kenyataan bahwa prosesor dalam sistem menggunakan sumber sinyal kontrol yang sama, mereka bekerja secara independen.  Sistem tidak dapat disebut <abbr title="Single Instruction, Multiple Data -   ,   ">SIMD</abbr> penuh, karena setiap prosesor memproses instruksi dari blok memorinya sendiri, ia hanya mengambil keuntungan dari kemampuan untuk "membuka" instruksi yang sama.         ,  "  "        —  . </p><br><p><img src="https://habrastorage.org/webt/gp/yg/5k/gpyg5khuq7hn9jvvbgny5hddqrs.png" alt="Contoh tidak sinkron"></p><br><p>          ,     ,         "".  ,     . </p><br><h2 id="mehanizmy-sinhronizacii">   </h2><br><h3 id="lokalnyy-reset">  RESET </h3><br><p>       RESET    ,            .     JP ADDR          . </p><br><h3 id="stop-adres"> - </h3><br><p>       master- (CPU0).       ,      (   M1),      <strong></strong>  WAIT,                RESET.       ,   ,   16     . </p><br><h1 id="emulyator-sistemy">   </h1><br><p>  2007  JavaSE     .        Z80 (      -)  FDD  181893.     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">JDK 1.8+</a> . </p><br><p><img src="https://habrastorage.org/webt/0m/qa/rp/0mqarpebzf0p9ewtwkojknscb_u.png" alt="Jendela emulator"></p><br><p>            ZX-Spectrum        ,  80%   ,    .         ZX-Spectrum 128,      <strong>Options-&gt;ZX 128 Mode</strong> ,    ZX-Poly      . </p><br><p>       -,    ZX-Spectrum —   .      ,    <strong>File-&gt;Options</strong> </p><br><p><img src="https://habrastorage.org/webt/re/3a/er/re3aerw3r_zksnkvghxn35u3n2w.gif" alt="ROM tes ZX-Poly"></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika gim tidak menggunakan paket sprite, maka mewarnai cukup sederhana. </font><font style="vertical-align: inherit;">Kehati-hatian harus diambil ketika ada optimasi dalam kode yang dapat dieksekusi output sprite, karena ini dapat menyebabkan desinkronisasi modul prosesor.</font></font></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bootloader dikembangkan untuk memuat data ke dalam modul dari disk dan secara bersamaan mulai secara bersamaan. </font><font style="vertical-align: inherit;">Kode untuk TAP dan TR-DOS disajikan dalam proyek.</font></font></p><br><p><img src="https://habrastorage.org/webt/_o/py/bv/_opybvhjgijkprgwb2lyaipdpy4.gif" alt="Contoh operasi bootloader"></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bersama dengan emulator, utilitas kecil (juga ditulis dalam Java) untuk aplikasi pewarnaan dikembangkan. </font></font></p><br><p><img src="https://habrastorage.org/webt/3b/dg/fa/3bdgfacgkovaenmlf1ewkcoiriw.png" alt="ZX-Poly Sprite Corrector"></p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seluruh proyek diterbitkan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub di</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bawah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lisensi GNU GPLv3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br><p> <a href=""><img src="https://habrastorage.org/webt/xr/1n/zx/xr1nzxg1xx9xmbv0hzgdas_dmu4.png"></a> <br></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id472232/">https://habr.com/ru/post/id472232/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id472222/index.html">“Baca jika Anda suka mendengarkan”: buku-buku untuk mereka yang tidak acuh pada musik - dari klasik hingga hip-hop</a></li>
<li><a href="../id472224/index.html">Menggunakan NVMe SSD baru sebagai disk boot pada sistem lama dengan Legacy BIOS (untuk OS apa pun)</a></li>
<li><a href="../id472226/index.html">Meningkatkan kontrol formulir di Microsoft Edge dan Chromium</a></li>
<li><a href="../id472228/index.html">9 Trik untuk Bekerja dengan Visual Studio Code</a></li>
<li><a href="../id472230/index.html">Chips untuk ML - bicarakan produk baru</a></li>
<li><a href="../id472234/index.html">Cryptocurrency: apakah masih freeloader, atau partner?</a></li>
<li><a href="../id472240/index.html">Tentang gamification. Apa itu, mengapa dan bagaimana melakukannya? Tampilan Pengembang</a></li>
<li><a href="../id472242/index.html">Kami telah mempercepat penjadwal Tokio sepuluh kali</a></li>
<li><a href="../id472246/index.html">Bereaksi + IndexDb + pembaruan otomatis = hampir AsyncRedux</a></li>
<li><a href="../id472248/index.html">Bagaimana kami menggabungkan pemrograman IT-Planet final</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>