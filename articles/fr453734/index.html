<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÖüèø üç¥ üé© Pr√©sentation de Helm 3 üóúÔ∏è ‚ôøÔ∏è üéë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque perev. : Le 16 mai de cette ann√©e est une √©tape importante dans le d√©veloppement du gestionnaire de packages pour Kubernetes - Helm. Ce jour-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√©sentation de Helm 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/453734/"><img src="https://habrastorage.org/webt/bb/nh/vx/bbnhvxg0izlu9z_txy0y-ntmeje.png"><br><br>  <i><b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: Le 16 mai de cette ann√©e est une √©tape importante dans le d√©veloppement du gestionnaire de packages pour Kubernetes - Helm.</i>  <i>Ce jour-l√†, la premi√®re version alpha de la future version majeure du projet a √©t√© introduite - 3.0.</i>  <i>Sa lib√©ration apportera des changements importants et attendus √† Helm, pour lesquels de nombreux membres de la communaut√© de Kubernetes ont de grands espoirs.</i>  <i>Nous les traitons nous-m√™mes, car nous utilisons activement Helm pour d√©ployer des applications: nous l'avons int√©gr√© √† notre outil de mise en ≈ìuvre de CI / CD <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">werf</a> et nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">apportons</a> de temps en temps une contribution possible au d√©veloppement en amont.</i>  <i>Cette traduction rassemble 7 notes du blog officiel de Helm, qui sont synchronis√©es avec la premi√®re version alpha de Helm 3 et racontent l'histoire du projet et les principales caract√©ristiques de Helm 3. Leur auteur est Matt "bacongobbler" Fisher, un employ√© de Microsoft et l'un des principaux responsables de Helm.</i> <a name="habracut"></a><br><br>  Le 15 octobre 2015, le projet est n√©, maintenant connu sous le nom de Helm.  Un an seulement apr√®s sa fondation, la communaut√© Helm a rejoint Kubernetes, tout en travaillant activement sur Helm 2. En juin 2018, Helm a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rejoint CNCF en</a> tant que projet d'incubation.  Avance rapide vers le pr√©sent - et maintenant la premi√®re version alpha du nouveau Helm 3 est en route <i>(cette version a <a href="">d√©j√† eu lieu</a> √† la mi-mai - environ la traduction)</i> . <br><br>  Dans cet article, je vais vous expliquer comment tout a commenc√©, comment nous sommes arriv√©s au stade actuel, pr√©senter quelques fonctionnalit√©s uniques disponibles dans la premi√®re version alpha de Helm 3 et expliquer comment nous pr√©voyons de continuer √† d√©velopper. <br><br>  R√©sum√©: <br><br><ul><li>  histoire de la cr√©ation de Helm; </li><li>  adieu √† Tiller; </li><li>  d√©p√¥ts de cartes; </li><li>  gestion des versions; </li><li>  changements dans les d√©pendances des graphiques; </li><li>  cartes de biblioth√®que; </li><li>  quelle est la prochaine √©tape? </li></ul><br><h2>  Histoire de Helm </h2><br><h3>  Naissance </h3><br>  Helm 1 a commenc√© comme un projet open source cr√©√© par Deis.  Nous √©tions une petite startup <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">absorb√©e par</a> Microsoft au printemps 2017.  Notre autre projet Open Source, √©galement appel√© Deis, avait un outil <code>deisctl</code> qui a √©t√© utilis√© (entre autres) pour installer et faire fonctionner la plate-forme Deis dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le cluster Fleet</a> .  √Ä l'√©poque, Fleet √©tait l'une des premi√®res plates-formes d'orchestration de conteneurs. <br><br>  √Ä la mi-2015, nous avons d√©cid√© de changer de cap et transf√©r√© Deis (√† l'√©poque renomm√© Deis Workflow) de Fleet √† Kubernetes.  L'un des premiers √† repenser l' <code>deisctl</code> installation <code>deisctl</code> .  Nous l'avons utilis√© pour installer et g√©rer Deis Workflow dans un cluster Fleet. <br><br>  Helm 1 a √©t√© cr√©√© √† l'image de gestionnaires de packages bien connus tels que Homebrew, apt et yum.  Sa t√¢che principale √©tait de simplifier des t√¢ches telles que l'empaquetage et l'installation d'applications dans Kubernetes.  Helm a √©t√© officiellement pr√©sent√© en 2015 lors de la conf√©rence KubeCon √† San Francisco. <br><br>  Notre premi√®re tentative avec Helm a fonctionn√©, mais il y avait de s√©rieuses restrictions.  Il a pris un ensemble de manifestes Kubernetes, aromatis√©s avec des g√©n√©rateurs comme blocs <i>frontaux</i> * YAML, et a t√©l√©charg√© les r√©sultats sur Kubernetes. <br><br>  <i>* <b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: √Ä partir de la premi√®re version de Helm, la syntaxe YAML a √©t√© choisie pour d√©crire les ressources Kubernetes, et les mod√®les Jinja et les scripts Python ont √©t√© pris en charge lors de l'√©criture des configurations.</i>  <i>Nous avons √©crit plus √† ce sujet et sur le dispositif de la premi√®re version de Helm dans le chapitre ¬´Une br√®ve histoire de Helm¬ª de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce mat√©riel</a> .</i> <br><br>  Par exemple, pour remplacer un champ dans un fichier YAML, vous avez d√ª ajouter la construction suivante au manifeste: <br><br><pre> <code class="plaintext hljs">#helm:generate sed -i -es|ubuntu-debootstrap|fluffy-bunny| my/pod.yaml</code> </pre> <br>  C'est cool qu'il y ait des moteurs de mod√®les aujourd'hui, n'est-ce pas? <br><br>  Pour de nombreuses raisons, ce premier programme d'installation de Kubernetes n√©cessitait une liste cod√©e en dur de fichiers manifestes et n'ex√©cutait qu'une petite s√©quence fixe d'√©v√©nements.  Il √©tait si difficile √† utiliser que l'√©quipe R&amp;D de Deis Workflow a eu du mal √† transf√©rer son produit sur cette plate-forme - cependant, les germes de l'id√©e √©taient d√©j√† sem√©s.  Notre premi√®re tentative a √©t√© une excellente opportunit√© d'apprentissage: nous avons r√©alis√© que nous √©tions vraiment passionn√©s par la cr√©ation d'outils pragmatiques qui r√©solvent les probl√®mes quotidiens pour nos utilisateurs. <br><br>  Sur la base de l'exp√©rience des erreurs pass√©es, nous avons commenc√© √† d√©velopper Helm 2. <br><br><h3>  Heaume de cr√©ation 2 </h3><br>  Fin 2015, l'√©quipe Google nous a contact√©s.  Ils ont travaill√© sur un outil similaire pour Kubernetes.  Le gestionnaire de d√©ploiement pour Kubernetes √©tait le port de l'outil existant utilis√© pour la plate-forme Google Cloud.  "Aurions-nous," ont-ils demand√©, "pass√© quelques jours √† discuter des similitudes et des diff√©rences?" <br><br>  En janvier 2016, les √©quipes Helm et Deployment Manager se sont r√©unies √† Seattle pour √©changer des id√©es.  Les n√©gociations se sont termin√©es sur un plan ambitieux: combiner les deux projets pour cr√©er Helm 2. Avec Deis et Google, les gars de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SkippBox</a> <i>(qui font maintenant partie de Bitnami - environ Transl.) Ont</i> rejoint l'√©quipe de d√©veloppement et nous avons commenc√© √† travailler sur Helm 2. <br><br>  Nous voulions maintenir la facilit√© d'utilisation de Helm, mais ajoutons ce qui suit: <br><br><ul><li>  mod√®les de graphiques pour la personnalisation; </li><li>  gestion intracluster pour les √©quipes; </li><li>  D√©p√¥t de cartes de premi√®re classe </li><li>  format de package stable avec la possibilit√© de signer; </li><li>  Engagement fort envers le versionnage s√©mantique et le maintien de la compatibilit√© descendante entre les versions. </li></ul><br>  Pour atteindre ces objectifs, un deuxi√®me √©l√©ment a √©t√© ajout√© √† l'√©cosyst√®me Helm.  Ce composant intracluster s'appelait Tiller et a √©t√© impliqu√© dans l'installation des cartes Helm et leur gestion. <br><br>  Depuis la sortie de Helm 2 en 2016, Kubernetes a gagn√© un certain nombre d'innovations majeures.  Le contr√¥le d'acc√®s bas√© sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√¥les</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RBAC</a> ) a √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">introduit</a> , qui a finalement remplac√© le contr√¥le d'acc√®s bas√© sur les attributs (ABAC).  De nouveaux types de ressources ont √©t√© introduits (les d√©ploiements √† cette √©poque restaient toujours en version b√™ta).  Des d√©finitions de ressources personnalis√©es (√† l'origine appel√©es ressources tierces ou TPR) ont √©t√© invent√©es.  Et surtout, un ensemble de meilleures pratiques est apparu. <br><br>  Au milieu de tous ces changements, Helm a continu√© de servir fid√®lement les utilisateurs de Kubernetes.  Apr√®s trois ans et de nombreux nouveaux ajouts, il est devenu clair qu'il √©tait temps d'apporter des modifications importantes √† la base de code afin que Helm puisse continuer √† r√©pondre aux besoins croissants d'un √©cosyst√®me en d√©veloppement. <br><br><h2>  Adieu √† Tiller </h2><br>  Pendant le d√©veloppement de Helm 2, nous avons introduit Tiller dans le cadre de notre int√©gration avec le gestionnaire de d√©ploiement de Google.  Tiller a jou√© un r√¥le important pour les √©quipes travaillant au sein d'un cluster commun: il a permis √† divers sp√©cialistes exploitant l'infrastructure d'interagir avec le m√™me ensemble de versions. <br><br>  Le contr√¥le d'acc√®s bas√© sur les r√¥les (RBAC) √©tant activ√© par d√©faut dans Kubernetes 1.6, il est devenu plus difficile de travailler avec Tiller en production.  En raison du grand nombre de politiques de s√©curit√© possibles, notre position a √©t√© de proposer des autorisations par d√©faut.  Cela a permis aux d√©butants d'exp√©rimenter avec Helm et Kubernetes sans avoir √† plonger dans les param√®tres de s√©curit√© au pr√©alable.  Malheureusement, cette configuration permissive pouvait conf√©rer √† l'utilisateur un √©ventail trop large d'autorisations dont il n'avait pas besoin.  Les ing√©nieurs DevOps et SRE ont d√ª apprendre des √©tapes op√©rationnelles suppl√©mentaires en installant Tiller dans un cluster multi-locataire. <br><br>  Apr√®s avoir appris comment les membres de la communaut√© utilisent Helm dans des situations sp√©cifiques, nous avons r√©alis√© que le syst√®me de gestion des versions de Tiller n'avait pas besoin de s'appuyer sur un composant intra-cluster pour maintenir l'√©tat ou fonctionner comme un hub central avec des informations sur les versions.  Au lieu de cela, nous pourrions simplement obtenir des informations du serveur API Kubernetes, g√©n√©rer un graphique c√¥t√© client et enregistrer l'enregistrement d'installation dans Kubernetes. <br><br>  La t√¢che principale de Tiller pourrait √™tre effectu√©e sans Tiller, donc l'une de nos premi√®res d√©cisions concernant Helm 3 a √©t√© un rejet complet de Tiller. <br><br>  Avec le d√©part de Tiller, le mod√®le de s√©curit√© Helm a √©t√© radicalement simplifi√©.  Helm 3 prend d√©sormais en charge toutes les m√©thodes modernes de s√©curit√©, d'identification et d'autorisation des Kubernetes d'aujourd'hui.  Les autorisations de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">barre</a> sont d√©termin√©es √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'</a> aide <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">du fichier kubeconfig</a> .  Les administrateurs de cluster peuvent restreindre les droits des utilisateurs avec n'importe quel niveau de granularit√©.  Les versions sont toujours stock√©es dans le cluster, le reste de la fonctionnalit√© Helm est conserv√©. <br><br><h2>  R√©f√©rentiels de graphiques </h2><br>  √Ä un niveau √©lev√©, le r√©f√©rentiel de graphiques est un endroit o√π vous pouvez stocker et partager des graphiques.  Le client Helm emballe et envoie les graphiques au r√©f√©rentiel.  Autrement dit, le r√©f√©rentiel de graphiques est un serveur HTTP primitif avec un fichier index.yaml et des graphiques compress√©s. <br><br>  Bien qu'il existe certains avantages dans la mesure o√π l'API du r√©f√©rentiel de graphiques satisfait aux exigences les plus √©l√©mentaires du r√©f√©rentiel, elle pr√©sente √©galement plusieurs inconv√©nients: <br><br><ul><li>  Les r√©f√©rentiels de graphiques sont peu compatibles avec la plupart des impl√©mentations de s√©curit√© requises dans un environnement de production.  La possession d'une API standard pour l'authentification et l'autorisation est cruciale dans les sc√©narios de production. </li><li>  Les outils de Helm pour suivre l'origine du graphique, utilis√©s pour signer, v√©rifier l'int√©grit√© et l'origine du graphique, sont une partie facultative du processus de publication du graphique. </li><li>  Dans les sc√©narios multi-utilisateurs, le m√™me graphique peut √™tre charg√© par un autre utilisateur, doublant la quantit√© d'espace requis pour stocker le m√™me contenu.  Des r√©f√©rentiels plus intelligents ont √©t√© d√©velopp√©s pour r√©soudre ce probl√®me, mais ils ne font pas partie de la sp√©cification formelle. </li><li>  L'utilisation d'un seul fichier d'index pour rechercher, stocker des m√©tadonn√©es et obtenir des graphiques a compliqu√© le d√©veloppement d'impl√©mentations multi-utilisateurs s√©curis√©es. </li></ul><br>  Le projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Docker Distribution</a> (√©galement connu sous le nom de Docker Registry v2) est le successeur du Docker Registry et agit en fait comme un ensemble d'outils pour l'empaquetage, l'envoi, le stockage et la livraison d'images Docker.  De nombreux grands services cloud proposent des produits bas√©s sur la distribution.  Gr√¢ce √† une attention accrue, le projet Distribution a b√©n√©fici√© de nombreuses ann√©es d'am√©liorations, de meilleures pratiques dans le domaine de la s√©curit√© et de tests en conditions de ¬´combat¬ª, qui en ont fait l'un des h√©ros m√©connus les plus r√©ussis du monde Open Source. <br><br>  Mais saviez-vous que le projet Distribution a √©t√© con√ßu pour distribuer n'importe quelle forme de contenu, pas seulement des images de conteneurs? <br><br>  Gr√¢ce aux efforts de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Open Container Initiative</a> (ou OCI), les graphiques Helm peuvent √™tre plac√©s sur n'importe quelle instance de Distribution.  Jusqu'√† pr√©sent, ce processus est exp√©rimental.  Les travaux sur le support des connexions et autres fonctions n√©cessaires √† un Helm 3 √† part enti√®re ne sont pas encore termin√©s, mais nous sommes tr√®s heureux d'apprendre des d√©couvertes faites par les √©quipes OCI et Distribution au fil des ans.  Et gr√¢ce √† leur mentorat et √† leur leadership, nous apprenons ce qu'est le fonctionnement d'un service hautement accessible √† grande √©chelle. <br><br>  Une description plus d√©taill√©e de certaines des modifications √† venir des r√©f√©rentiels Helm-charts est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h2>  Gestion des versions </h2><br>  Dans Helm 3, l'√©tat d'une application est surveill√© au sein d'un cluster par deux objets: <br><br><ul><li>  objet de lib√©ration - repr√©sente une instance de l'application; </li><li>  release version secret - repr√©sente l'√©tat souhait√© de l'application √† un moment donn√© (par exemple, la sortie d'une nouvelle version). </li></ul><br>  L'appel √† l' <code>helm install</code> cr√©e un objet de version et une version secr√®te.  L'appel de <code>helm upgrade</code> n√©cessite un objet de version (qu'il peut changer) et cr√©e un nouveau secret de version de version contenant de nouvelles valeurs et un manifeste pr√©par√©. <br><br>  L'objet release contient des informations de release, o√π release est une installation sp√©cifique d'un graphique nomm√© et de valeurs.  Cet objet d√©crit les m√©tadonn√©es de niveau sup√©rieur sur la version.  L'objet Release est conserv√© tout au long du cycle de vie de l'application et agit en tant que propri√©taire de tous les secrets de version Release, ainsi que de tous les objets cr√©√©s directement par le graphique Helm. <br><br>  La version secr√®te de la version associe une version √† une s√©rie de r√©visions (installation, mises √† jour, annulations, d√©sinstallation). <br><br>  Dans Helm 2, les r√©visions √©taient extr√™mement coh√©rentes.  L'appel d' <code>helm install</code> cr√©√© la v1, la mise √† niveau de mise √† niveau suivante v2, etc.  La version et la version secr√®te de la version ont √©t√© regroup√©es en un seul objet, appel√© r√©vision.  Les r√©visions √©taient stock√©es dans le m√™me espace de noms que Tiller, ce qui signifiait que chaque version √©tait ¬´globale¬ª en termes d'espace de noms;  par cons√©quent, une seule instance du nom a pu √™tre utilis√©e. <br><br>  Dans Helm 3, chaque version est associ√©e √† un ou plusieurs secrets de version de version.  L'objet Release d√©crit toujours la version actuelle d√©ploy√©e dans Kubernetes.  Chaque version secr√®te de version ne d√©crit qu'une seule version de cette version.  Une mise √† niveau, par exemple, cr√©era un nouveau secret de version de version, puis modifiera l'objet de version pour pointer vers cette nouvelle version.  Dans le cas d'une restauration, vous pouvez utiliser les secrets de la version pr√©c√©dente pour restaurer la version √† son √©tat pr√©c√©dent. <br><br>  Apr√®s avoir abandonn√© Tiller, Helm 3 stocke les donn√©es de version dans un seul espace de noms avec la version.  Une telle modification vous permet d'installer un graphique avec le m√™me nom de version dans un espace de noms diff√©rent, et les donn√©es sont enregistr√©es entre les mises √† jour / red√©marrages de cluster dans etcd.  Par exemple, vous pouvez installer Wordpress dans l'espace de noms ¬´foo¬ª puis dans l'espace de noms ¬´bar¬ª, et les deux versions peuvent √™tre appel√©es ¬´wordpress¬ª. <br><br><h2>  Modifications des d√©pendances de graphique </h2><br>  Les graphiques emball√©s (√† l'aide du <code>helm package</code> ) pour une utilisation avec Helm 2 peuvent √™tre install√©s avec Helm 3, mais le flux de travail de d√©veloppement de graphiques a √©t√© compl√®tement r√©vis√©, donc certaines modifications doivent √™tre apport√©es pour continuer √† d√©velopper des graphiques avec Helm 3. En particulier, le syst√®me de gestion a chang√© d√©pendances de graphique. <br><br>  Le syst√®me de gestion des d√©pendances des graphiques est pass√© de <code>requirements.yaml</code> et <code>requirements.lock</code> √† <code>Chart.yaml</code> et <code>Chart.lock</code> .  Cela signifie que les graphiques qui utilisent la <code>helm dependency</code> n√©cessitent une configuration pour fonctionner dans Helm 3. <br><br>  Regardons un exemple.  Ajoutez une d√©pendance au graphique dans Helm 2 et voyez ce qui change lorsque vous passez √† Helm 3. <br><br>  Dans Helm 2 <code>requirements.yaml</code> ressemblait √† ceci: <br><br><pre> <code class="plaintext hljs">dependencies: - name: mariadb version: 5.xx repository: https://kubernetes-charts.storage.googleapis.com/ condition: mariadb.enabled tags: - database</code> </pre> <br>  Dans Helm 3, la m√™me d√©pendance se refl√©tera dans votre <code>Chart.yaml</code> : <br><br><pre> <code class="plaintext hljs">dependencies: - name: mariadb version: 5.xx repository: https://kubernetes-charts.storage.googleapis.com/ condition: mariadb.enabled tags: - database</code> </pre> <br>  Les <code>charts/</code> sont toujours charg√©s et plac√©s dans le r√©pertoire <code>charts/</code> , de sorte que les sous- <code>charts/</code> dans le r√©pertoire <code>charts/</code> continueront de fonctionner sans modifications. <br><br><h2>  Pr√©sentation des graphiques de biblioth√®que </h2><br>  Helm 3 prend en charge une classe de graphique appel√©e <i>graphique de biblioth√®que</i> .  Ce graphique est utilis√© par d'autres graphiques, mais ne cr√©e pas √† lui seul d'artefacts de version.  Les mod√®les de graphiques de biblioth√®que ne peuvent d√©clarer que des √©l√©ments de <code>define</code> .  Tout autre contenu est simplement ignor√©.  Cela permet aux utilisateurs de r√©utiliser et de partager des fragments de code qui peuvent √™tre utilis√©s sur de nombreux graphiques, √©vitant ainsi la duplication et adh√©rant au principe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DRY</a> . <br><br>  Les graphiques de biblioth√®que sont d√©clar√©s dans la section des <code>dependencies</code> du fichier <code>Chart.yaml</code> .  Leur installation et leur gestion ne sont pas diff√©rentes des autres cartes. <br><br><pre> <code class="plaintext hljs">dependencies: - name: mylib version: 1.xx repository: quay.io</code> </pre> <br>  Nous attendons avec impatience les cas d'utilisation que ce composant ouvrira aux d√©veloppeurs de graphiques, ainsi que les meilleures pratiques pouvant d√©couler des graphiques de biblioth√®que. <br><br><h2>  Et ensuite? </h2><br>  Helm 3.0.0-alpha.1 - la base sur laquelle nous commen√ßons √† cr√©er une nouvelle version de Helm.  Dans l'article, j'ai d√©crit quelques fonctionnalit√©s int√©ressantes de Helm 3. Beaucoup d'entre elles en sont encore aux premiers stades de d√©veloppement et c'est normal;  L'essence de la version alpha est de tester l'id√©e, de recueillir les commentaires des premiers utilisateurs et de confirmer nos hypoth√®ses. <br><br>  D√®s que la version alpha sera publi√©e <i>(rappelez-vous que cela <a href="">s'est d√©j√† produit</a> - environ la traduction)</i> , nous commencerons √† recevoir des correctifs pour Helm 3 de la communaut√©.  Il est n√©cessaire de cr√©er une base solide qui vous permettra de d√©velopper et d'adopter de nouvelles fonctionnalit√©s, et les utilisateurs pourront se sentir impliqu√©s dans le processus, ouvrir des tickets et apporter des corrections. <br><br>  Dans l'article, j'ai essay√© de mettre en √©vidence de s√©rieuses am√©liorations qui appara√Ætront dans Helm 3, mais cette liste n'est en aucun cas exhaustive.  Le plan √† grande √©chelle pour Helm 3 comprend des innovations telles que des strat√©gies de mise √† jour am√©lior√©es, une int√©gration plus approfondie avec les registres OCI et l'utilisation de sch√©mas JSON pour v√©rifier les valeurs des graphiques.  Nous pr√©voyons √©galement d'effacer la base de code et de mettre √† jour les parties de celui-ci qui ont √©t√© n√©glig√©es au cours des trois derni√®res ann√©es. <br><br>  Si vous sentez que nous avons manqu√© quelque chose, nous serons heureux d'entendre vos pens√©es! <br><br>  Rejoignez la discussion sur nos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">canaux Slack</a> : <br><br><ul><li>  <code>#helm-users</code> de <code>#helm-users</code> pour des questions et une communication facile avec la communaut√©; </li><li>  <code>#helm-dev</code> pour discuter des pull pulls, du code et des bugs. </li></ul><br>  Vous pouvez √©galement discuter dans nos appels hebdomadaires publics pour d√©veloppeurs le jeudi √† 19h30 MSK.  Les r√©unions sont consacr√©es √† la discussion des t√¢ches sur lesquelles travaillent les d√©veloppeurs cl√©s et la communaut√©, ainsi qu'aux sujets de discussion de la semaine.  Tout le monde peut se joindre et participer √† la r√©union.  Le lien est disponible dans le canal Slack <code>#helm-dev</code> . <br><br><h2>  PS du traducteur </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Gestionnaire de packages pour Kubernetes - Helm: Past, Present, Future</a> ¬ª; </li><li>  "Un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">regard sobre sur Helm 2:" C'est ce que c'est ... "</a> "; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Une introduction pratique au gestionnaire de paquets pour Kubernetes - Helm</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trucs et astuces de Kubernetes: transfert de ressources d'un cluster vers Helm 2</a> ¬ª; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pratique avec dapp.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2. D√©ploiement d'images Docker dans Kubernetes avec Helm</a> . " </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr453734/">https://habr.com/ru/post/fr453734/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr453720/index.html">Subtilit√©s d'expressions lambda en C #</a></li>
<li><a href="../fr453722/index.html">√Ä propos de la recherche de processus non stationnaires</a></li>
<li><a href="../fr453728/index.html">Bataille des hyperstars</a></li>
<li><a href="../fr453730/index.html">Dentisterie moderne: implantation dentaire simultan√©e et extension de l'os de la m√¢choire √† travers les yeux du directeur technique</a></li>
<li><a href="../fr453732/index.html">Je viens de Moreinis. Vues obliques ou respect?</a></li>
<li><a href="../fr453742/index.html">Plugin Memcached: NoSQL dans MySQL</a></li>
<li><a href="../fr453744/index.html">Nous √©tudions le principe de la pseudo-classe: not () en utilisant l'exemple de la t√¢che "Mise en √©vidence de la ligne active d'une table en CSS pur"</a></li>
<li><a href="../fr453748/index.html">Prototypage d'un jeu mobile, par o√π commencer et comment le faire. Partie 3 (finale)</a></li>
<li><a href="../fr453750/index.html">√Ä propos de la r√©cente cyberattaque de Baltimore</a></li>
<li><a href="../fr453756/index.html">Probl√®mes de la m√©thodologie actuelle pour d√©terminer les menaces actuelles du FSTEC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>