<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüè´ üëâüèº üöΩ 3. Pile √©lastique: analyse du journal de s√©curit√©. Tableaux de bord ‚ö∞Ô∏è üë©üèæ‚Äçüè´ üë©üèø‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans les articles pr√©c√©dents, nous nous sommes un peu familiaris√©s avec la pile elk et la configuration du fichier de configuration Logstash pour l'an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3. Pile √©lastique: analyse du journal de s√©curit√©. Tableaux de bord</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tssolution/blog/482054/"><img src="https://habrastorage.org/webt/1h/r_/da/1hr_dazcr60epg8j9trtakaflhq.png"><br><br>  Dans les articles pr√©c√©dents, nous nous sommes un peu familiaris√©s avec la pile elk et la configuration du fichier de configuration Logstash pour l'analyseur de journal, dans cet article, nous allons passer √† la chose la plus importante du point de vue analytique, ce que vous voulez voir du syst√®me et pour tout ce qui a √©t√© cr√©√© - ce sont des graphiques et des tableaux combin√©s en <b>tableaux de bord</b> .  Aujourd'hui, nous allons examiner de plus pr√®s le <b>syst√®me de</b> visualisation <b>Kibana</b> , examiner comment cr√©er des graphiques, des tableaux et, par cons√©quent, cr√©er un tableau de bord simple bas√© sur les journaux du pare-feu Check Point. <br><a name="habracut"></a><br>  La premi√®re √©tape du travail avec kibana est de cr√©er un <b>mod√®le d'index</b> , logiquement, c'est une base de donn√©es d'indices qui sont unifi√©s selon un certain principe.  Bien s√ªr, ce n'est qu'un param√®tre pour que Kibana recherche plus commod√©ment des informations sur tous les indices en m√™me temps.  Il est sp√©cifi√© en faisant correspondre la cha√Æne, par exemple, ¬´checkpoint- *¬ª et le nom de l'index.  Par exemple, ¬´checkpoint-2019.12.05¬ª s'adaptera au mod√®le, mais simplement ¬´checkpoint¬ª n'est plus l√†.  Il convient de mentionner s√©par√©ment que vous ne pouvez pas rechercher des informations sur diff√©rents mod√®les d'index en m√™me temps, un peu plus loin dans les articles suivants, nous verrons que les demandes d'API sont effectu√©es soit par le nom de l'index, soit par une seule ligne du mod√®le, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/64/nm/tb/64nmtbsfwl-qfysx5n6km6iwr3m.png"></a> <br><br>  Apr√®s cela, nous v√©rifions dans le menu D√©couvrir que tous les journaux sont index√©s et que le bon analyseur est configur√©.  Si des incoh√©rences sont d√©tect√©es, par exemple, en changeant le type de donn√©es d'une cha√Æne en un entier, vous devez modifier le fichier de configuration Logstash, par cons√©quent, les nouveaux journaux seront enregistr√©s correctement.  Pour que les anciens journaux prennent la forme souhait√©e avant le changement, seul le processus de r√©indexation aide, dans les articles suivants, cette op√©ration sera examin√©e plus en d√©tail.  Assurez-vous que tout est en ordre, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/y1/-h/jk/y1-hjkcxrtdpuufzqxqdpqhlvha.png"></a> <br><br>  Les journaux √©taient en place, ce qui signifie que vous pouvez commencer √† cr√©er des tableaux de bord.  Sur la base des analyses de tableau de bord des produits de s√©curit√©, vous pouvez comprendre l'√©tat de la s√©curit√© des informations dans une organisation, voir clairement les vuln√©rabilit√©s de la politique actuelle et d√©velopper davantage les moyens de les √©liminer.  Construisons un petit tableau de bord √† l'aide de plusieurs outils de visualisation.  Le tableau de bord comprendra 5 composants: <br><br><ol><li>  tableau de calcul du nombre total de b√ªches par lames </li><li>  Table de signature critique IPS </li><li>  Graphique circulaire d'√©v√©nement de pr√©vention des menaces </li><li>  tableau des sites les plus visit√©s </li><li>  sch√©ma d'utilisation des applications les plus dangereuses </li></ol><br>  Pour cr√©er des formes de visualisation, vous devez aller dans le menu <b>Visualiser</b> et s√©lectionner la forme souhait√©e que nous voulons construire!  Allons dans l'ordre. <br><br><h3>  Tableau de calcul du nombre total de b√ªches par lames </h3><br>  Pour ce faire, s√©lectionnez la forme du <b>tableau de donn√©es</b> , d√©posez-la dans le composant logiciel enfichable pour cr√©er des graphiques, placez les param√®tres de forme √† gauche et √† droite √† quoi ils ressembleront dans les param√®tres actuels.  Tout d'abord, je vais montrer √† quoi ressemblera le tableau fini, puis passer par les param√®tres, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/h6/qh/zs/h6qhzsfawr4qslqtdfybm3zvzsw.png"></a> <br><br>  Param√®tres de forme plus d√©taill√©s, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/pe/2j/d2/pe2jd28os3xkfs70wi9jl--0kcc.png"></a> <br><br>  Analysons les param√®tres. <br><br>  La <b>m√©trique est</b> initialement configur√©e, c'est la valeur par laquelle tous les champs seront agr√©g√©s.  Les m√©triques sont calcul√©es en fonction des valeurs extraites d'une mani√®re ou d'une autre des documents.  Les valeurs sont g√©n√©ralement extraites des <b>champs</b> du document, mais peuvent √©galement √™tre g√©n√©r√©es √† l'aide de scripts.  Dans ce cas, entrez <b>Agr√©gation: Nombre</b> (le nombre total de journaux). <br><br>  Apr√®s cela, nous divisons la table en segments (champs) selon lesquels la m√©trique sera prise en compte.  Le r√©glage des godets remplit cette fonction, qui √† son tour se compose de 2 options de r√©glage: <br><br><ol><li>  diviser les lignes - ajouter des colonnes et ensuite diviser le tableau en lignes </li><li>  split table - division en plusieurs tables en fonction des valeurs d'un champ sp√©cifique. </li></ol><br>  Dans les <b>compartiments,</b> vous pouvez ajouter plusieurs divisions pour cr√©er plusieurs colonnes ou tables, les limitations ici sont plus logiques.  Dans l'agr√©gation, vous pouvez choisir par quelle m√©thode la segmentation se produira: plage ipv4, plage de dates, termes, etc.  Le choix le plus amusant est pr√©cis√©ment les <b>termes</b> et les <b>termes</b> <b>significatifs</b> , la division en segments est effectu√©e en fonction des valeurs d'un certain champ d'index, la diff√©rence entre eux est le nombre de valeurs renvoy√©es et leur affichage.  Puisque nous voulons diviser le tableau par le nom des lames, s√©lectionnez le champ - <b>product.keyword</b> et d√©finissez la taille au montant de 25 valeurs renvoy√©es. <br><br>  Au lieu de cha√Ænes, elasticsearch utilise 2 types de donn√©es - <b>texte</b> et <b>mot</b> - <b>cl√©</b> .  Si vous souhaitez effectuer une recherche en texte int√©gral, vous devez utiliser le type de texte, une chose tr√®s pratique lors de l'√©criture de votre service de recherche, par exemple, vous recherchez la mention d'un mot dans une valeur de champ sp√©cifique (texte).  Si vous ne voulez qu'une correspondance exacte, vous devez utiliser le type de mot cl√©.  En outre, le type de donn√©es de mot cl√© doit √™tre utilis√© pour les champs qui n√©cessitent un tri ou une agr√©gation, c'est-√†-dire dans notre cas. <br><br>  En cons√©quence, Elasticsearch consid√®re le nombre de journaux pendant un certain temps avec une agr√©gation par valeur dans le champ produit.  Dans l'√©tiquette personnalis√©e, nous d√©finissons le nom de la colonne qui sera affich√©e dans le tableau, d√©finissons la dur√©e pendant laquelle nous collectons les journaux, commen√ßons √† dessiner - Kibana envoie une demande √† elasticsearch, attend une r√©ponse, puis visualise les donn√©es re√ßues.  La table est pr√™te! <br><br><h3>  Graphique circulaire d'√©v√©nement de pr√©vention des menaces </h3><br>  Les informations sont particuli√®rement int√©ressantes et combien, en g√©n√©ral, dans le pourcentage de <b>d√©tecter</b> et de <b>pr√©venir les</b> r√©actions aux incidents de s√©curit√© des informations dans la politique de s√©curit√© actuelle.  Dans ce cas, un graphique √† secteurs est bien adapt√©.  S√©lectionnez dans Visualiser - <b>Graphique √† secteurs</b> .  Toujours dans la m√©trique, nous d√©finissons l'agr√©gation par le nombre de journaux.  Dans les compartiments, d√©finissez Termes =&gt; action. <br><br>  Il semble que tout soit correct, mais en cons√©quence, les valeurs de toutes les lames sont affich√©es, vous devez filtrer uniquement pour les lames qui fonctionnent sous la pr√©vention des menaces.  Par cons√©quent, nous devons configurer le <b>filtre</b> afin de rechercher des informations uniquement sur les lames responsables des incidents de s√©curit√© des informations - produit: (¬´Anti-Bot¬ª OU ¬´Nouvel Anti-Virus¬ª OU ¬´DDoS Protector¬ª OU ¬´SmartDefense¬ª OU ¬´√âmulation de menace¬ª).  L'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/te/1p/wo/te1pwo7es8c1nnssm5tuhtdfxog.png"></a> <br><br>  Et des param√®tres plus d√©taill√©s, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/20/yf/xs/20yfxs1tflzd3ja05bulm9s8pco.png"></a> <br><br><h3>  Table d'√©v√©nements IPS </h3><br>  De plus, il est tr√®s important, du point de vue de la s√©curit√© des informations, d'afficher et de v√©rifier les √©v√©nements sur les lames <b>IPS</b> et <b>Threat Emulation</b> , qui <b>ne</b> sont <b>pas bloqu√©es par la</b> strat√©gie actuelle, afin de basculer ult√©rieurement la signature pour emp√™cher, ou si le trafic est valide, de ne pas v√©rifier la signature.  Nous cr√©ons la table comme pour le premier exemple, √† la diff√©rence pr√®s que nous cr√©ons plusieurs colonnes: protections.keyword, severity.keyword, product.keyword, originsicname.keyword.  Veillez √† configurer le filtre afin de rechercher des informations uniquement sur les lames responsables des incidents de s√©curit√© des informations - produit: (¬´SmartDefense¬ª OU ¬´Emulation de menace¬ª).  L'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/gu/pt/q_/guptq_dmmsig3ueo2xoahhgh_ts.png"></a> <br><br>  Param√®tres plus d√©taill√©s, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/7h/va/ma/7hvamanbqtsl3vvkbk_r_wgpu4e.png"></a> <br><br><h3>  Graphiques des sites les plus visit√©s </h3><br>  Pour ce faire, cr√©ez une forme - <b>Barre verticale</b> .  Nous utilisons √©galement le nombre de m√©triques (l'axe Y), et sur l'axe X, nous utiliserons le nom des sites visit√©s comme nom_appi comme valeurs.  Il y a une petite astuce ici, si vous ex√©cutez les param√®tres dans la version actuelle, alors tous les sites seront marqu√©s sur le graphique en une seule couleur, afin de les rendre color√©s, nous utilisons le param√®tre suppl√©mentaire - "split series", qui vous permet de diviser la colonne finie en quelques valeurs suppl√©mentaires, selon du domaine s√©lectionn√© bien s√ªr!  Cette division peut √™tre utilis√©e soit comme une colonne multicolore selon les valeurs en mode empil√© ou en mode normal afin de cr√©er plusieurs colonnes selon une certaine valeur √† partir de l'axe X. Dans ce cas, nous utilisons la m√™me valeur que l'axe X, ce permet de rendre toutes les colonnes multicolores, en haut √† droite elles seront indiqu√©es par des couleurs.  Dans le filtre que nous avons d√©fini - produit: "Filtrage d'URL" afin de ne voir que les informations sur les sites visit√©s, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/mm/7z/eu/mm7zeuhxbi7mycsbe9iwhfvj-pi.png"></a> <br><br>  Param√®tres: <br><br> <a href=""><img src="https://habrastorage.org/webt/ab/fq/s8/abfqs80dexym6ks4kt_ktyzzzzk.png"></a> <br><br><h3>  Tableau d'utilisation des applications les plus dangereuses </h3><br>  Pour ce faire, cr√©ez une forme - Barre verticale.  Nous utilisons √©galement le nombre de m√©triques (l'axe Y) et sur l'axe X, nous utiliserons le nom des applications utilis√©es, ¬´appi_name¬ª, comme valeurs.  Le plus important est la t√¢che de filtrage - produit: "Application Control" AND app_risk: (4 OR 5 OR 3) AND action: "accept".  Nous filtrons les journaux par la lame de contr√¥le des applications, nous prenons uniquement les sites class√©s comme sites √† risque critique, √©lev√©, moyen et uniquement si l'acc√®s √† ces sites est autoris√©.  L'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/2q/nz/82/2qnz82z39bhtf-eohfvqcfqae-0.png"></a> <br><br>  Param√®tres, cliquables: <br><br> <a href=""><img src="https://habrastorage.org/webt/pb/aj/6s/pbaj6sk3l1qbc8cgluy4yiaj1qy.png"></a> <br><br><h3>  Tableau de bord </h3><br>  L'affichage et la cr√©ation de tableaux de bord se trouvent dans un √©l√©ment de menu distinct - <b>Tableau de bord</b> .  Ici, tout est simple, un nouveau tableau de bord est cr√©√©, la visualisation y est ajout√©e, tout est mis √† sa place! <br><br>  Nous cr√©ons un tableau de bord, selon lequel il sera possible de comprendre la situation de base de l'√©tat de la s√©curit√© de l'information dans l'organisation, bien s√ªr, uniquement au niveau de Check Point, l'image est cliquable: <br><br> <a href=""><img src="https://habrastorage.org/webt/ct/9p/lv/ct9plv4cwbpt6ammjhqmn6x76fe.png"></a> <br><br>  Sur la base de ces graphiques, nous pouvons comprendre quelles signatures critiques ne sont pas bloqu√©es sur le pare-feu, o√π vont les utilisateurs, quelles sont les applications les plus dangereuses qu'ils utilisent. <br><br><h3>  Conclusion </h3><br>  Nous avons examin√© les possibilit√©s de visualisation de base dans Kibana et construit un tableau de bord, mais ce n'est qu'une petite partie.  Plus loin dans le cours, nous examinerons s√©par√©ment la configuration des cartes, travaillerons avec le syst√®me elasticsearch, nous familiariserons avec les requ√™tes API, l'automatisation et bien plus encore! <br><br>  Alors restez √† l'√©coute ( <a href="https://t.me/tssolution">Telegram</a> , <a href="https://www.facebook.com/groups/tssolution.info/">Facebook</a> , <a href="https://vk.com/ts_solution">VK</a> , <a href="https://tssolution.ru/blog">TS Solution Blog</a> ), <a href="https://zen.yandex.ru/id/5c7d2162fa818600ae386a52">Yandex.Zen</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr482054/">https://habr.com/ru/post/fr482054/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr482040/index.html">Caract√©ristiques des programmes de profilage en C ++</a></li>
<li><a href="../fr482042/index.html">Travailler avec la biblioth√®que Newtonsoft.Json avec un exemple r√©el. 2e partie</a></li>
<li><a href="../fr482044/index.html">10 meilleures pratiques pour s√©curiser les images Docker. 2e partie</a></li>
<li><a href="../fr482050/index.html">Technique de r√©duction du r√©seau de convolution Jedi - √©lagage</a></li>
<li><a href="../fr482052/index.html">Jeu de donn√©es du Nouvel An 2019: dictionnaire tonal ouvert de la langue russe</a></li>
<li><a href="../fr482058/index.html">Pr√©dateur ou proie? Qui prot√©gera les autorit√©s de certification</a></li>
<li><a href="../fr482060/index.html">Mod√®le de mandat de contr√¥le d'acc√®s (MAC): pr√©sentation et applications</a></li>
<li><a href="../fr482064/index.html">Facilit√© de d√©veloppement de sites multilingues sur CMS Umbraco 8</a></li>
<li><a href="../fr482066/index.html">Remplacer la User Story par la Job Story</a></li>
<li><a href="../fr482068/index.html">Dois-je cr√©er une matrice RAID √† partir d'un SSD et quels contr√¥leurs sont n√©cessaires pour cela</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>