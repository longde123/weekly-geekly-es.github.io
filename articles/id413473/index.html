<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¼ğŸ¼ ğŸ‘¬ ğŸ‘ğŸ» Pengembangan saklar sentuh Z-Wave pada baterai dengan tombol bercahaya ğŸ§˜ğŸ¼ ğŸ† ğŸ•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tahun kedua saya telah mengembangkan saklar Z-Wave unik saya dengan tombol sentuh yang akan memuaskan saya dalam hal fungsionalitas, desain dan biaya ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengembangan saklar sentuh Z-Wave pada baterai dengan tombol bercahaya</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413473/"><img src="https://habrastorage.org/webt/8u/uo/9w/8uuo9wx7pyclsobv4bqkxrrokgw.jpeg"><br><br>  Tahun kedua saya telah mengembangkan saklar Z-Wave unik saya dengan tombol sentuh yang akan memuaskan saya dalam hal fungsionalitas, desain dan biaya pembuatan. <br><br>  Sejak awal, tujuannya adalah untuk membuat tombol 4 tombol pada baterai dengan ukuran 80x80 mm setipis mungkin, tombol sentuh harus besar dan menyala saat disentuh, bukan hanya lingkaran kecil seperti orang lain.  Hasilnya adalah saklar tipis bergaya yang dapat mengontrol perangkat rumah pintar. <br><br>  Selama pengembangan, saya menyelesaikan banyak tugas dalam bidang sirkuit, desain kasus dan pemilihan bahan.  Yang sangat menarik adalah penciptaan tombol sentuh itu sendiri, yang bersinar secara keseluruhan, tetapi hal pertama yang pertama. <br><br><ul><li>  Fungsional </li><li>  Desain kasing </li><li>  Desain PCB </li><li>  Studi diffuser cahaya </li><li>  Pemilihan bahan diffuser </li><li>  Gunakan </li></ul><br>  Video pengoperasian sakelar sentuh di bagian akhir. <br><a name="habracut"></a><br><h3>  Fungsional </h3><br>  Kemampuan pemutus sirkuit berikut diperlukan: <br><br><ul><li>  Hidupkan / matikan lampu </li><li>  Sesuaikan kecerahan pencahayaan </li></ul><br>  4 tombol mengontrol 2 kelompok pencahayaan.  Tombol-tombol atas, sambil menahan, secara bertahap meningkatkan kecerahan, dengan sedikit tekan menyalakan lampu.  Tombol-tombol yang lebih rendah, sambil menahan, secara bertahap mengurangi kecerahan, dengan menekan sebentar mematikan lampu. <br><br>  <b>Todo</b> <br><br>  <i>Jadikan setiap tombol berfungsi dalam mode switching, tekan - on, tekan - off.</i>  <i>Ini akan memungkinkan Anda untuk mengontrol 4 grup pencahayaan.</i> <br><br><h3>  Desain kasing </h3><br>  Saya menyukai ide itu dengan 4 tombol sentuh besar dari Basalte, dan saya memutuskan untuk mengembangkannya ke arah saya. <br><br><img src="https://habrastorage.org/webt/46/to/au/46toau4idmg_1rgrvhjhelnwxda.jpeg"><br>  <i>Fig.</i>  <i>1 - KNX beralih Basalte</i> <br><br>  Saya ingin tombol untuk menyala secara keseluruhan ketika disentuh, daripada LED yang terpisah.  Oleh karena itu, casing adalah bingkai sempit dengan guntingan untuk 4 tombol sentuh.  Kunci untuk memasang penutup belakang dan ceruk untuk memasang magnet dipikirkan.  Pelat pemasangan dilekatkan ke dinding pada pita perekat dua sisi dan sakelar itu sendiri sudah terpasang padanya menggunakan magnet.  Lebih mudah menggunakan sakelar ini sebagai remote control portabel dan nyaman untuk mengisi baterai. <br><br><img src="https://habrastorage.org/webt/gk/tp/hu/gktphux0nepum4fhx7qhpm2ln2y.jpeg"><br>  <i>Fig.</i>  <i>2 - Rumah saklar sentuh</i> <br><br>  Semua bagian tubuh dirancang dalam Blender dan dicetak pada printer 3D dengan plastik ABS putih. <br><br><img src="https://habrastorage.org/webt/wd/k0/39/wdk039ulydrgq1ajgrklzvajixw.png"><br>  <i>Fig.</i>  <i>3 - Pengembangan rumah sakelar sentuh di Blender</i> <br><br><h3>  Desain PCB </h3><br>  Papan sirkuit dirancang oleh Proteus.  Ini adalah versi kedua, ia menggunakan satu chip sensor TTP224 untuk 4 saluran.  Versi pertama menggunakan 4 pcs.  single-channel TTP223, tidak ada perbedaan dalam operasi, tetapi ketika menggunakan TTP224 ada lebih sedikit komponen solder. <br><br><img src="https://habrastorage.org/webt/lv/g7/f5/lvg7f5dfflj7omp_jviy39ro-pc.png"><br>  <i>Fig.</i>  <i>4 - Desain papan sirkuit sakelar sentuh di Proteus</i> <br><br>  Komponen utama di papan tulis adalah: <br><br><ol><li>  Chip Radio Z-Wave </li><li>  Baterai Robiton 800mAh </li><li>  Regulator Tegangan Step-Up / Step-Down 3.3V S7V8F3 </li><li>  Pengisian Daya Baterai TP4056 </li><li>  Diagram untuk mengalihkan daya dari baterai ke USB </li><li>  Tombol kalibrasi </li><li>  TTP224 Tombol Sentuh IC </li></ol><br>  Chip Z-Wave beroperasi pada kisaran 2.7V - 3.6V, baterainya menghasilkan hingga 4.7V, jadi saya menggunakan konverter boost-down Pololu S7V8F3 3.3V.  Untuk mengisi baterai, saya menggunakan chip TP4056 yang murah dan terkenal, saya mengatur arus muatan menjadi setengah dari kapasitas baterai 400mA.  Ketika pengisian terhubung, daya perangkat beralih ke USB dan baterai diam-diam mengisi, skema switching daya diterapkan pada satu transistor dan dioda.  Tombol, ketika ditekan, mengatur ulang daya regulator dan seluruh rangkaian dinyalakan kembali, ini diperlukan untuk mengkalibrasi TTP224.  Di bagian depan papan ada 4 pad tombol sentuh 40 x 40 mm dan 4 LED.  Produksi dipesan oleh Seeedstudio, sangat puas dengan kualitas dan harga. <br><br><img src="https://habrastorage.org/webt/at/_f/nd/at_fndbfqwwo250irzbq5wcmmhs.jpeg"><br>  <i>Fig.</i>  <i>5 - Sentuh papan switch</i> <br><br>  Komponen terpenting dalam sakelar sentuh adalah pengontrol tombol sentuh.  Saya menguji 3 pengendali dan masing-masing ternyata memiliki pro dan kontra.  Hasil pengujian untuk 3 pengontrol tombol sentuh: <br><br>  <b>TTP224</b> <br><br>  <b>Pro:</b> Murah, pada PCB di satu sisi mungkin ada bantalan sensor, di sisi belakang komponen lain, tetapi sensitivitasnya sangat berkurang.  Pengaturan sinyal output: tinggi / rendah, pengaturan mode tombol: switching / on.  4 saluran. <br><br>  <b>Cons:</b> Jika ada lagu di bagian belakang touch pad, itu tidak bekerja dengan baik melalui Plexiglas lebih dari 3 mm dan bahkan lebih buruk jika film terpaku pada kaca, itu tidak menanggapi sedikit sentuhan, hanya menekan dengan seluruh jari, bahkan dengan set sensitivitas maksimum (Cs = 1pF, kisaran 0-50pF, semakin kecil semakin sensitif). <br><br><img src="https://habrastorage.org/webt/tf/st/xe/tfstxe1azi2w6cir_s-wsliguzy.jpeg"><br>  <i>Fig.</i>  <i>6 - TTP224 di papan yang sudah jadi</i> <br><br>  <b>AT42QT1011</b> <br><br>  <b>Kelebihan:</b> Bereaksi terhadap sentuhan kecil melalui 3 mm (atau lebih) Plexiglas, jika Anda menyesuaikan sensitivitas pada tingkat rata-rata (Cs = 22nF, kisaran 2-50nF, semakin besar semakin sensitif).  Secara otomatis menyesuaikan dengan ketebalan kaca. <br><br>  <b>Cons:</b> Di bawah touch pad, seharusnya tidak ada trek, tidak ada daya, tidak ada ground, jika sensitivitas berkurang.  Outputnya hanya level tinggi.  1 saluran saja. <br><br><img src="https://habrastorage.org/webt/t6/s9/is/t6s9is4fxztieihcctdlgvatnyw.jpeg"><br>  <i>Fig.</i>  <i>7 - Papan uji AT42QT1011</i> <br><br>  <b>MTCH105</b> <br><br>  <b>Pro:</b> Bereaksi dengan sedikit sentuhan hingga 3 mm (atau lebih) Plexiglas.  Anti-macet dengan bantuan tanah di sekitar dan di bawah sensor, secara otomatis menyesuaikan dengan ketebalan kaca.  5 saluran. <br><br>  <b>Cons:</b> Ini bereaksi untuk waktu yang lama untuk menekan dan untuk waktu yang lama menyadari bahwa jari dilepaskan, sekitar 0,5 detik.  Jika Anda memegang jari Anda pada platform sensor, maka setelah 9 detik LED mati, kalibrasi dilakukan.  Panel sentuh harus ditutup dengan tanah dari semua sisi, termasuk di bawah panel, jika tidak berfungsi pada setiap titik kontak PCB. <br><br><img src="https://habrastorage.org/webt/ch/oj/l1/chojl19iuyjiyy0xa8fdq3ze7ni.jpeg"><br>  <i>Fig.</i>  <i>8 - MTCH105 pada papan tempat memotong roti</i> <br><br>  Saya memilih TTP224 (4 saluran), karena pada satu PCB, di satu sisi, semua komponen dapat ditempatkan, dan di sisi lain, bantalan sensor.  Dia mengorbankan sensitivitas, setelah 3 mm plexiglass berfungsi jika Anda menyentuh keseluruhan dengan ujung jari, meskipun ini dapat diartikan sebagai perlindungan terhadap kontak yang tidak disengaja :).  Jika tidak ada trek di bawah area sensor, ia bereaksi melalui Plexiglas 4 mm dengan sedikit sentuhan. <br><br>  <b>Todo</b> <br><br>  <i>Untuk membuat sakelar sentuh dengan dua PCB, yang pertama untuk bantalan sentuh, yang kedua untuk semua komponen.</i>  <i>Tambahkan getaran motor dan booster.</i>  <i>Terapkan fungsi lampu latar rendah ketika sensor gerak bawaan dipicu.</i> <br><br><h3>  Studi diffuser cahaya </h3><br>  Tugasnya adalah untuk menerangi platform 40x40mm secara merata, yang menyentuh jari.  Karena batasan ukuran perumahan, dimungkinkan untuk mendorong hanya satu LED untuk setiap situs. <br><br>  Saya mempelajari perangkat beberapa sakelar sentuh: Livolo, Vitrum, tombol sentuh HTTM.  Masing-masing menggunakan pendekatannya sendiri untuk menyebarkan cahaya secara seragam. <br><br>  <b>Vitrum</b> <br><br>  Switch Z-Wave Italia dengan kaca dekoratif yang mahal.  Reflektor-diffuser diimplementasikan sebagai berikut: pada plexiglass transparan, pelek dicat dengan cat reflektif, diterangi dari samping dengan satu LED.  Di sisi LED, lebih sedikit cat diterapkan, sehingga mencapai cahaya seragam di seluruh pelek.  Kaca dekoratif dipasang di atas. <br><br><img src="https://habrastorage.org/webt/_b/og/i8/_bogi8lb0y03la15h3pgcneyhcy.jpeg"><br>  <i>Fig.</i>  <i>9 - Gambar pelek reflektif pada plexiglass</i> <br><br>  <b>Livolo</b> <br><br>  Sakelar sentuh anggaran Cina.  Ada 2 LED di papan: merah dan biru, LED bersinar di dalam plastik tembus mendung, karena sering dibiaskannya cahaya di dalam, diperoleh cahaya seragam dari seluruh permukaan, cat reflektif diaplikasikan pada textolite. <br><br><img src="https://habrastorage.org/webt/z-/zx/lq/z-zxlqsxt9w_pgqirlbbdz7p0rs.jpeg"><br>  <i>Fig.</i>  <i>10 - Sentuh bagian dari sakelar Livolo</i> <br><br>  <b>HTTM - HelTec Touch Model</b> <br><br>  Modul sentuh siap dengan chip Noname.  Reflektor-diffuser terdiri dari 3 bagian: textolite dengan pad timah, plexiglass untuk penerangan ujung dengan banyak lubang mikro, film putih keruh. <br><br><img src="https://habrastorage.org/webt/wl/es/8e/wles8ecf6zki98-ijs2qmcsnjay.jpeg"><br>  <i>Fig.</i>  <i>10 - Modul Sentuh HTTM Dibongkar</i> <br><br><h3>  Pemilihan bahan diffuser </h3><br>  <b>Diffuser plexiglass buram</b> <br><br>  Plexiglass transparan 3 mm yang biasa dirawat dengan amplas halus di kedua sisi untuk membuatnya kusam.  Kaca plexiglass yang merata menyebarkan cahaya ke seluruh permukaan.  Ketebalan material memungkinkan Anda bekerja dengan nyaman dengan chip sensor apa pun.  Tapi goresan kecil terlihat di permukaan, yang mempengaruhi penampilan estetika. <br><br><img src="https://habrastorage.org/webt/oy/1r/_s/oy1r_sgdofrsgu0ez0apiut8kde.jpeg"><br>  <i>Fig.</i>  <i>11 - kaca akrilik buram</i> <br><br>  <b>Diffuser plexiglass untuk penerangan depan (LGP) dan plexiglass susu</b> <br>  Digunakan 2 plexiglas berbeda 2 mm, sandwich dua elemen ternyata 4 mm.  Kaca plexiglass bawah untuk penerangan ujung, berkat titik-titik putih yang diterapkan, meratakan cahaya secara merata ke seluruh permukaan.  Kaca susu atas memberikan cahaya lembut dan tampilan yang indah, sementara kecerahannya terasa lebih rendah dan berat sakelar meningkat. <br><br><img src="https://habrastorage.org/webt/4i/tk/5r/4itk5r5llm-ib540ozewsylnrye.jpeg"><br>  <i>Fig.</i>  <i>12 - Plexiglass untuk penerangan akhir dan plexiglass opal</i> <br><br>  <b>Panel Lampu Ledison</b> <br>  Perusahaan Rusia Ledison menyediakan panel lightbox yang terdiri dari 3 komponen untuk pengujian: substrat reflektif, Plexiglas 3 mm hamburan cahaya khusus (terlihat transparan, tetapi struktur kasar terlihat di dalam), sebuah film pelindung transparan.  Saya mengganti film teratas dengan matte Oracal 8500 dan mendapatkan dispersi yang baik.  Tetapi ketika bekerja dengan sakelar, film tidak terlihat kokoh, dapat tergores dan sulit untuk menempelnya tanpa gelembung. <br><br><img src="https://habrastorage.org/webt/la/zc/_s/lazc_slqs6olk8jbxkat3xmqooi.jpeg"><br>  <i>Fig.</i>  <i>13 - Ledison Lightbox Sandwich</i> <br><br>  Setelah semua tes di saklar, saya menggunakan substrat reflektif dari Ledison, dan plexiglass mereka membuat matte.  Saat ini, ini adalah pilihan terbaik bagi saya, dan tersebar merata, dan kecerahannya tidak berkurang, dan ketebalannya cocok. <br><br><img src="https://habrastorage.org/webt/kx/vx/th/kxvxthptvnmgjvch7jg-vaaht30.jpeg"><br>  <i>Fig.</i>  <i>14 - Kasing, papan, dan diffuser</i> <br><br><h3>  Gunakan </h3><br>  Saya membuat versi uji pertama sakelar 2 tahun yang lalu dan sudah memiliki pengalaman dalam menggunakannya, satu dipasang di dekat kamar mandi pada ketinggian 120 cm dan nyaman untuk anak-anak, yang kedua terletak di dekat tempat tidur dan mengontrol lampu malam, lampu gantung, dan lampu latar LED.  Karena  semua tombol dipisahkan oleh crosshair, mudah ditemukan dalam gelap dan tekan yang diinginkan.  Umpan balik cahaya mengatakan dengan tepat tombol mana yang ditekan.  Dibandingkan dengan switch tombol, saya tidak menemukan minus. <br><br><img src="https://habrastorage.org/webt/_7/dy/g9/_7dyg9axf4nwgvs8jv-h5nmzlrs.jpeg"><br>  <i>Fig.</i>  <i>15 - Sakelar sentuh baterai bekerja</i> <br><br>  Saya perhatikan efek samping yang menyenangkan, saklar di dekat tempat tidur dapat digunakan untuk menerangi lemari, jika Anda menekan tombol yang lebih rendah. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/oHex7dVJEbo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  PS </h3><br>  Saat ini, chip Z-Wave menggunakan firmware dari fob Z -Wave 4-tombol. Kunci Fob saya, nyaman karena sudah dibuat dan berfungsi dengan baik, tidak nyaman karena tidak semua fungsi yang Anda inginkan.  Satu-satunya masalah yang belum terselesaikan adalah iluminasi sudut-sudut di tengah, perlu untuk menutupinya dengan film foil, tetapi untuk saat ini saya pikir jauh lebih baik untuk memahat foil pada case di dalam atau pada plexiglass. <br><br>  Lebih lanjut, rencana untuk beralih ke Modul Z-Uno yang dapat diprogram secara bebas untuk implementasi semua Daftar Keinginan perangkat lunak. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id413473/">https://habr.com/ru/post/id413473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id413463/index.html">API Magento 2 REST menggunakan modul sederhana sebagai contoh</a></li>
<li><a href="../id413465/index.html">AMD mengumumkan Threadripper 2 32-core</a></li>
<li><a href="../id413467/index.html">Backup data yang cepat dan andal ke cloud</a></li>
<li><a href="../id413469/index.html">Tes memori membunuh laptop hampir merupakan cerita detektif</a></li>
<li><a href="../id413471/index.html">Friday Mini Tomy Fancy Toy Retrospective</a></li>
<li><a href="../id413479/index.html">Kami menulis protokol kami di atas UDP</a></li>
<li><a href="../id413481/index.html">Ekspor pohon uji dari JMeter ke teks</a></li>
<li><a href="../id413485/index.html">GitLab 10.8 dirilis: mirroring open-source push dan penyebaran tambahan</a></li>
<li><a href="../id413487/index.html">Apa yang seharusnya seorang pengembang harapkan dalam bidang keuangan: kondisi kerja, proyek, dan keterampilan yang diperlukan</a></li>
<li><a href="../id413489/index.html">Bagaimana memilih messenger yang benar-benar aman dan apa hubungannya dengan blockchain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>