<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏇🏻 🚵🏽 🌅 Recomendaciones API REST: ejemplos de diseño de servicios web en Java y Spring 👨🏿‍🏭 🎓 💂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En el último artículo de esta serie, aprenderá sobre las recomendaciones de API REST y ejemplos de desarrollo de Java y Spring Web Services. 

 Al des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recomendaciones API REST: ejemplos de diseño de servicios web en Java y Spring</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483374/">  En el último artículo de esta serie, aprenderá sobre las recomendaciones de API REST y ejemplos de desarrollo de Java y Spring Web Services. <br><br>  Al desarrollar una buena API REST, es importante tener buenos microservicios. <br>  ¿Cómo desarrollas tu API REST?  ¿Cuáles son las mejores prácticas? <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/2l/pg/rq/2lpgrq94xumpddkf6ivlt3ekkgu.png"><br><h3>  Aprenderás: </h3><br><ul><li>  ¿Cómo desarrollar una buena API REST? </li><li>  ¿En qué debo pensar al desarrollar una API REST? </li><li>  ¿Cuáles son las mejores prácticas para desarrollar servicios web RESTful? </li></ul><br><h3>  API REST </h3><br>  Este es el último artículo de una serie de artículos sobre la API REST: <br><br><ul><li>  <a href="https://habr.com/ru/post/483202/">Introducción a la API REST - Servicios web RESTful</a> </li><li>  <a href="https://habr.com/ru/post/483204/">Diferencias entre REST y SOAP</a> </li><li>  <a href="https://habr.com/ru/post/483206/">Desarrollo de API REST: ¿qué es Contract First (contrato primero)?</a> </li><li>  <a href="https://habr.com/ru/post/483322/">Desarrollo de API REST: ¿qué es Code First (código primero)?</a> </li><li>  <a href="https://habr.com/post/483328/">API REST - ¿Qué es HATEOAS?</a> </li><li>  Recomendaciones API REST: ejemplos de diseño de servicios web en Java y Spring </li></ul><br><h3>  Utilice el primer enfoque del consumidor </h3><br>  ¿Quién usará su servicio?  Servicios al consumidor. <br><br>  ¿Miras el servicio desde la perspectiva del consumidor? <br><br><ul><li>  Si está desarrollando una API, ¿puede su consumidor comprender su API? </li><li>  Si publica sus recursos, ¿puede el consumidor encontrarlos y acceder a ellos? </li><li>  ¿Puede el consumidor entender sus URI? </li><li>  ¿Qué tipo de servicio brindan? </li><li>  ¿Es esta una aplicación móvil o una aplicación web? </li><li>  ¿Qué consumidores espera, y pueden estos tipos de consumidores cambiar en el futuro? </li><li>  Si está implementando algo como HATEOAS, piense en cómo lo usarán sus clientes antes de implementarlo. </li></ul><br><blockquote><ul><li>  <b>Lo más importante es tener una excelente documentación.</b> </li><li>  <b>Facilite las cosas a sus clientes para ahorrarle tiempo.</b> </li><li>  <b>Cuantos más consumidores puedan hacer solos, menos trabajo tendrá para usted.</b> </li></ul><br></blockquote><br>  Siempre que tenga una discusión o revisión de servicio, ponga los requisitos del cliente en primer lugar. <br><br><h3>  Utilice el primer enfoque del contrato </h3><br>  ¿Qué es un contrato? <br><br>  El creador del servicio web se considera <b>un proveedor de servicios</b> .  Una aplicación que utiliza un servicio web es un <b>consumidor del servicio</b> .  <b>Un contrato</b> es un acuerdo entre un proveedor y un consumidor sobre un servicio. <br><br><img src="https://habrastorage.org/webt/d-/5f/on/d-5fon8kmzaf6f_7g-bn7fsbofe.png"><br><br>  Para utilizar el servicio correctamente, el consumidor del servicio debe comprender completamente el contrato.  El contrato incluye detalles de muchos aspectos del servicio, tales como: <br><br><ul><li>  ¿Cómo llamar a un servicio web? </li><li>  ¿Qué tipo de transporte se utiliza? </li><li>  ¿Cuáles son las estructuras de solicitud y respuesta? </li></ul><br>  Esto también se llama <b>definición de servicio</b> . <br><br>  En el primer enfoque del contrato, primero define un contrato de servicio y luego solo implementa el servicio. <br><br><h3>  Contrato primero con WSDL </h3><br>  Por ejemplo, cuando define servicios web SOAP, utiliza WSDL para definir el contrato. <br><br><img src="https://habrastorage.org/webt/ou/st/86/oust86bvzc87vsg-k229x1ujl14.png"><br><br>  El WSDL determina cuáles son los puntos finales del servicio, las operaciones que publica y las estructuras de solicitud y respuesta. <br><br><h3>  Contrato primero con Swagger / API abierta </h3><br>  Cuando utiliza los servicios web RESTful, Swagger es una herramienta popular para documentar sus servicios web. <br><br><img src="https://habrastorage.org/webt/we/tc/3x/wetc3x4x6unbgve0wcaxdjdbkp8.png"><br><img src="https://habrastorage.org/webt/l-/2m/h_/l-2mh_uh6txdtyekd1xn585mmvw.png"><br>  Swagger le permite determinar qué recursos proporciona como parte de su API.  Incluye los detalles de cada operación, por ejemplo, si utiliza XML, JSON o ambos.  Un esquema de respuesta también está allí. <br><br><img src="https://habrastorage.org/webt/9e/px/uh/9epxuhh57oelrv-dupcqib0t6ho.png"><br><br>  También proporciona información detallada sobre los códigos de respuesta que admite.  También puede ver que este recurso en particular, <b>/ jpa / users</b> : <br><br><img src="https://habrastorage.org/webt/gi/ig/pk/giigpknfhlsy8qiscbblp_eigdw.png"><br><br>  Admite la operación GET.  De hecho, también es compatible con la operación POST: <br><br><img src="https://habrastorage.org/webt/ox/9o/ch/ox9ochxtkao2ghxalyyi_o6oy4m.png"><br><br>  El esquema de respuesta, si este recurso está disponible, será: <br><br><img src="https://habrastorage.org/webt/lf/gq/xo/lfgqxoi0txeqlqyg8vmblmppwdq.png"><br><br>  La definición del objeto Usuario está presente en el acuerdo Swagger como: <br><br><img src="https://habrastorage.org/webt/d3/s0/nm/d3s0nmktz3so7vqye4t8vqizwm4.png"><br><br>  Incluye atributos: <b>birthDate</b> , <b>id</b> , <b>name</b> y una variedad de mensajes <b>publicados</b> .  Algunos campos también incluyen un campo de descripción dentro de ellos. <br><br>  En el primer enfoque del contrato, antes de implementar el servicio, usted manualmente o usando la aplicación crea la definición que creó Swagger. <br><br><h3>  Beneficios del contrato Primer enfoque </h3><br>  Usando el primer enfoque del contrato, piensa en sus clientes y cómo pueden usar este servicio.  Inicialmente no le preocupan los detalles de implementación. <br><br>  Si en la etapa inicial le da gran importancia a la implementación, los detalles técnicos penetran en la definición de su servicio. <br><br>  Debe asegurarse de que la definición de su servicio no dependa de la plataforma que esté utilizando, ya sea Java, .NET o cualquier otra. <br><br><h3>  Definir estándares de organización para la API REST </h3><br>  Una directriz importante para sus estándares organizacionales es YARAS. <br><br><img src="https://habrastorage.org/webt/bu/9e/9s/bu9e9sa0bryvgm6g8yhhtabcdf0.png"><br><br>  YARAS significa <b>Yet Another RESTful API Standard</b> .  YARAS proporciona los estándares, pautas y convenciones que deben seguirse al desarrollar servicios web RESTful.  Él da recomendaciones para las siguientes cosas: <br><br><ul><li>  ¿Cómo debe nombrar sus servicios? </li><li>  Cómo debe estructurar su solicitud y respuesta </li><li>  Cómo debe implementar el filtrado, la ordenación, la paginación y otras acciones </li><li>  Cómo debe abordar el versionado </li><li>  ¿Cómo necesita acercarse a la documentación de la API? </li></ul><br><h3>  Enfoque unificado para el desarrollo de servicios </h3><br>  Debe resolver muchos problemas complejos antes de comenzar a diseñar servicios web RESTful.  Todo lo anterior, debe averiguarlo. <br><br>  El liderazgo de su organización no querrá que los equipos que manejan diferentes recursos tengan enfoques diferentes para estas cosas. <br><br>  Por ejemplo, no es deseable que el Equipo A organice el control de versiones basado en parámetros de consulta y que el Equipo B use el control de versiones basado en URI. <br><br>  Por lo tanto, es importante que haya definido claramente los estándares organizacionales para su enfoque de los servicios web RESTful. <br><br><h3>  Personalización de YARAS BAJO necesidades organizacionales </h3><br>  Lo bueno de YARAS es que se puede personalizar para satisfacer las necesidades específicas de la organización.  Por ejemplo, puedes: <br><br><ul><li>  Configure el aspecto de los cuerpos de solicitud y respuesta. </li><li>  Elija un sistema de control de versiones específico </li></ul><br>  Dado que YARAS tiene una cobertura bastante completa, puede estar seguro de que no se ha perdido una sola decisión importante. <br><br><h3>  Elegir un marco empresarial estándar REST API framework </h3><br>  Los marcos típicos utilizados para crear servicios web RESTful en el mundo Java son Spring MVC, Spring REST y JAX-RS. <br><br>  Si crea una aplicación de marco / arquetipo / referencia específica de la organización que se adhiere a los estándares comunes de la organización además de la plataforma API REST preferida, esto permitirá a los equipos adherirse fácilmente a los estándares comunes. <br><br>  Las características típicas incluyen: <br><br><ul><li>  Estructuras de solicitud y respuesta </li><li>  Manejo de errores </li><li>  filtrado </li><li>  Buscar </li><li>  Versionado </li><li>  Soporte de respuesta falsa </li><li>  Hateoas </li></ul><br>  El marco estándar proporciona un enfoque unificado para diseñar e implementar servicios en toda la organización. <br><br><h3>  Gestión descentralizada de API REST </h3><br>  Cree un grupo de expertos de los equipos que crean la API REST y forme un equipo de administración.  El equipo es responsable de <br><br><ul><li>  Mejora de los estándares API REST </li><li>  Creación / diseño de su marco API REST </li></ul><br><h3>  Uso generalizado de HTTP </h3><br>  Siempre que piense en servicios web RESTful, piense en HTTP. <br><br>  HTTP tiene todas las características que lo ayudan a crear excelentes servicios web. <br><br><h4>  Utilice los métodos de solicitud HTTP correctos </h4><br>  Piense en los métodos de solicitud HTTP que necesita usar.  Cuando piense en implementar una operación, determine el recurso en el que debe realizarse y luego encuentre el método de solicitud HTTP adecuado.  ¿Recuperas detalles, creas algo, actualizas algo existente o eliminas uno existente? <br><br>  Usando métodos HTTP: <br><br><ul><li>  OBTENER para obtener </li><li>  Publicar para crear </li><li>  PONER para actualizar </li><li>  BORRAR para borrar </li><li>  PARCHE para actualizaciones parciales </li></ul><br><h4>  Use el estado de respuesta HTTP apropiado </h4><br>  Al realizar la operación, asegúrese de devolver el estado de respuesta correcto. <br><br>  Por ejemplo, cuando no se encuentra un recurso específico, no arroje una excepción de servidor.  En su lugar, envíe el código de respuesta apropiado en un mensaje de respuesta, como <b>404</b> . <br><br>  Si realmente hay una excepción de servidor, envíe el código <b>500 de</b> regreso. <br><br>  Si la validación falla, envíe el código para la solicitud no válida. <br><br><h3>  Centrarse en el rendimiento </h3><br>  Cada recurso puede tener varias representaciones, en formato XML o JSON.  El consumidor del servicio puede elegir la presentación que prefiera. <br><br>  El servicio devuelve 3 usuarios cuando enviamos una solicitud GET.  En este caso, obtenemos la representación JSON del recurso <b><i>/ users</i></b> . <br><br><img src="https://habrastorage.org/webt/gq/qn/jq/gqqnjqeoz1e_lo1vftv0qymzdje.png"><br><br>  Cuando el consumidor no indica una vista preferida, usamos JSON. <br><br><img src="https://habrastorage.org/webt/ox/fr/b-/oxfrb-45qiilzqpul45nbdpqk6a.png"><br><br>  El consumidor puede enviar un encabezado Aceptar para indicar la vista. <br><br><img src="https://habrastorage.org/webt/df/tz/0t/dftz0teguhajcobfnjsgs-elmhk.png"><br><br>  El cuerpo de respuesta ahora tiene contenido XML: <br><br><img src="https://habrastorage.org/webt/bw/ct/io/bwctiow8vaxwy2sik1-awmyhar0.png"><br><br><h3>  Usa el plural </h3><br>  Siempre use el plural cuando nombre los recursos. <br><br>  Veamos un ejemplo simple.  Supongamos que tenemos un servicio que aloja un recurso de usuario.  A continuación se describe cómo acceder a ellos: <br><br><ul><li>  Crear usuario: <b>POST / usuarios</b> </li><li>  Eliminar usuario: <b>ELIMINAR / usuarios / 1</b> </li><li>  Obtenga todos los usuarios: <b>GET / usuarios</b> </li><li>  Obtenga un usuario: <b>GET / users / 1</b> </li></ul><br>  La preferencia de múltiples usuarios sobre el usuario usuario hace que el URI sea más legible. <br><br><ul><li>  Por ejemplo, si usamos <b>/ user en</b> lugar de <b>/ users</b> para obtener, <b>GET / user</b> no pasa el mensaje correcto al lector. </li></ul><br><h3>  Crea buena documentación </h3><br>  Los consumidores necesitan entender cómo hacer el mejor uso del servicio, y la mejor manera de ayudarlos es crear una buena documentación. <br><br>  Los servicios web SOAP pueden usar la funcionalidad WSDL, mientras que los servicios web RESTful tienen opciones Swagger (ahora el estándar de documentación Open API). <br><br>  Elegir un formato es solo una parte de la creación de buena documentación.  Lo que también es importante es proporcionar la cantidad correcta de información para ayudar al consumidor. <br><br>  La documentación debe estar completa e incluir los siguientes puntos: <br><br><ul><li>  ¿Qué es una estructura de solicitud y respuesta? </li><li>  ¿Cómo debe autenticarse un consumidor? </li><li>  ¿Cuáles son los límites de uso? </li><li>  Indique todos los tipos de mensajes de respuesta y los códigos de estado correspondientes que se pueden esperar del servicio. </li></ul><br><h3>  Crear un portal de documentación de API REST común </h3><br>  Sería útil tener un portal de documentación REST API común para toda la organización.  Eche un vistazo a uno de esos portales: <br><br><img src="https://habrastorage.org/webt/3j/vm/bo/3jvmbovqx_sikaedwbkgzxe80yc.png"><br><br>  Dicho portal reúne todos los recursos disponibles en la organización.  Tener una interfaz de usuario como la interfaz de usuario Swagger tendrá sus beneficios adicionales.  Con la interfaz de usuario de Swagger, puede ver la documentación con más detalle: <br><br><img src="https://habrastorage.org/webt/xp/io/ox/xpiooxhstlexwhwjxqk9umd6yye.png"><br><br>  Esto puede ser utilizado incluso por usuarios no técnicos.  La información proporcionada aquí incluye: <br><br><ul><li>  Formato de respuesta esperado </li><li>  Tipo de contenido </li><li>  Códigos de respuesta admitidos </li></ul><br>  El formato de documentación en el estilo de una solicitud / respuesta en vivo también puede ser de interés. <br><br><h3>  Soporte de la versión </h3><br>  El control de versiones conlleva una gran complejidad para un servicio web.  Mantener varias versiones diferentes del mismo servicio web es muy difícil.  Intenta evitar esto siempre que sea posible. <br><br>  Sin embargo, en ciertos escenarios, el control de versiones es inevitable. <br><br>  Comencemos mirando un ejemplo de servicio.  Supongamos que inicialmente definimos un servicio que tiene la clase <b>PersonV1 de</b> la siguiente manera: <br><br>  Esta versión de la clase no tiene en cuenta que un nombre puede tener muchas subsecciones, como nombre y apellido.  Mira esto: <br><br>  La segunda versión de la clase fuente se ha actualizado para corregir esta anomalía: <br><br>  ¡No podemos transferir de inmediato todo el servicio para usar <b>PersonV2</b> !  Puede haber otros consumidores que estén esperando respuestas en formato <b>PersonV1</b> . <br><br>  Aquí es donde se requiere el control de versiones. <br><br>  Veamos ahora las opciones que tenemos para el control de versiones de estos dos recursos. <br><br><h3>  Usando diferentes URI </h3><br>  Tenemos una opción: usar diferentes URI para estos diferentes recursos.  En el código del examen a continuación, utilizamos los URI <b>v1 / persona</b> y <b>v2 / persona</b> para distinguirlos: <br><br>  Si ejecuta una solicitud GET para el recurso <b>v1 / persona</b> : <br><br><img src="https://habrastorage.org/webt/ro/xv/go/roxvgoo6pek2xv4wokws2zivir4.png"><br><br>  Recibirá la información correspondiente a <b>v1</b> .  Para otro recurso: <br><br><img src="https://habrastorage.org/webt/hn/yn/vh/hnynvhniet9iacsxsrikaa9pxj8.png"><br><br><h3>  Usando el parámetro de consulta </h3><br>  El segundo método de control de versión utiliza el parámetro de consulta: <br><br>  En el URI <b>/ person / param</b> , si enviamos el parámetro con <b>version = 1</b> , devolvemos un recurso de tipo <b>PersonV1</b> : <br><br><img src="https://habrastorage.org/webt/sp/qe/1g/spqe1gs9bksyba0pmidzsndo1fm.png"><br><br>  Para el mismo URI, el parámetro con <b>versión = 2</b> devuelve un recurso de tipo <b>PersonV2</b> : <br><br><img src="https://habrastorage.org/webt/2q/qt/q1/2qqtq1ci6j_pg4bc6brglrj4z88.png"><br><br>  Este método se llama versionado usando parámetros de consulta. <br><br><h3>  Usar un encabezado (encabezado) </h3><br>  Otra forma de hacerlo es mediante el control de versiones especificando un título.  Aquí usamos un encabezado llamado <b>X-API-VERSION</b> y marcamos el URI como <b>/ person / header</b> .  Cuando el valor del encabezado es <b>1</b> , <b>se devuelve</b> un recurso de tipo <b>PersonV1</b> : <br><br><img src="https://habrastorage.org/webt/d-/0b/ww/d-0bwwbim3yedwkmreql8hancrg.png"><br><br>  Cuando su valor es <b>2</b> , se recupera un recurso de tipo <b>PersonV2</b> : <br><br><img src="https://habrastorage.org/webt/yz/_q/1-/yz_q1-fcemb3sqptsk4cd5p8kno.png"><br><br>  Usamos el atributo en el encabezado de solicitud para realizar el control de versiones para nosotros. <br><br><h3>  Usar Aceptar encabezado </h3><br>  El método final para crear versiones utiliza el Encabezado de aceptación.  Si el consumidor incluye la información de la primera versión en el Encabezado de aceptación de la solicitud GET, se devuelve el siguiente recurso: <br><br><img src="https://habrastorage.org/webt/dz/yw/54/dzyw5423iw2i6ogaiund7wpl1wo.png"><br><br>  De lo contrario, <b>se devuelve</b> un recurso de tipo <b>PersonV2</b> : <br><br><img src="https://habrastorage.org/webt/3i/a4/wl/3ia4wlgl4dbx9fvpxvz3ho8ihxc.png"><br><br>  Este método de control de versiones se denomina <b>Aceptar versiones de encabezado</b> o <b>Versiones de</b> <b>tipo de medio</b> , ya que los tipos MIME suelen ser el contenido del encabezado Aceptar. <br><br><h3>  Comparación de métodos de control de versiones </h3><br>  Hasta ahora, hemos visto cuatro tipos de métodos en las versiones: <br><br><ul><li>  Usando diferentes URI </li><li>  Usando el parámetro de consulta </li><li>  Uso de encabezado </li><li>  Uso de aceptar encabezado / tipo de medio </li></ul><br>  Cual es el mejor?  La verdad es que no hay una respuesta única para esta pregunta.  El hecho del asunto es que diferentes gigantes de Internet patrocinan diferentes tipos de versiones. <br><br><ul><li>  Uso de diferentes URI - Twitter </li><li>  Usar el parámetro de consulta - Amazon </li><li>  Usando un encabezado - Microsoft </li><li>  Uso de aceptar encabezado / tipo de medio - GitHub </li></ul><br><br>  Debe evaluar estas cuatro opciones según sus necesidades específicas.  Hay una serie de factores importantes a considerar: <br><br><ul><li>  <b>Contaminación de URI</b> : al controlar las versiones con URI y parámetros de consulta, terminamos contaminando el espacio de URI.  Esto se debe a que agregamos prefijos y sufijos a las cadenas principales del URI.  El control de versiones usando un encabezado evita esto. </li><li>  <b>Uso indebido de los encabezados HTTP</b> .  En el caso del control de versiones que usa encabezados y Tipo de medio, los encabezados HTTP se usan incorrectamente porque no estaban destinados originalmente para el control de versiones. </li><li>  <b>Almacenamiento en caché</b> : un recurso se identifica por su URI.  Sin embargo, si no utiliza un URI para determinar su versión, sino que utiliza un mecanismo basado en encabezado, la información de la versión no se puede almacenar en caché.  Si el almacenamiento en caché HTTP es importante para usted, use el control de versiones basado en un URI o parámetro de solicitud. </li><li>  <b>Ejecutabilidad de solicitud del navegador</b> : el control de versiones basado en el título y el tipo de medio requiere herramientas como Postman.  Sin embargo, si los consumidores de servicios no tienen conocimientos técnicos, es preferible utilizar el control de versiones basado en un URI o parámetro de consulta. </li><li>  <b>Documentación de API</b> : también debe pensar cómo desea documentar sus API.  El control de versiones basado en el URI y el parámetro de consulta es más fácil de documentar que los otros dos tipos de control de versiones. </li></ul><br>  ¡Comprenda que no existe una solución ideal única! <br><br><h3>  Piensa en el manejo de errores </h3><br>  Cuando un consumidor envía una solicitud a un servicio, es importante que reciba la respuesta correcta.  Cada vez que algo sale mal, es importante enviar una respuesta adecuada. <br><br><h3>  Cuando un consumidor solicita un recurso inexistente </h3><br>  Si enviamos una solicitud GET para buscar un usuario existente, obtenemos la siguiente respuesta: <br><br><img src="https://habrastorage.org/webt/uv/dl/9j/uvdl9jri5sd_xafc-fog6acw0rm.png"><br><br>  Si está buscando un usuario inexistente: <br><br><img src="https://habrastorage.org/webt/9z/kq/je/9zkqjeitglkibqhxszf-4_qr9xk.png"><br><br>  Lo que obtienes es el estado <b>404 No encontrado</b> .  Este es un buen manejo de errores porque determina correctamente que no se encontró el recurso y no devuelve un error del servidor. <br><br>  Ahora enviemos una solicitud GET a un URI inexistente: <br><br><img src="https://habrastorage.org/webt/gp/b9/ch/gpb9ch3b9ochiotgxppztr4zyb4.png"><br><br>  Como puede ver, obtiene <b>404</b> estados de respuesta <b>No encontrado</b> .  Una URL no válida indica un recurso que no existe. <br><br><h3>  Importantes estados de respuesta </h3><br><ul><li>  200 - éxito </li><li>  404 - recurso no encontrado </li><li>  400 - solicitud no válida (por ejemplo, error de validación) </li><li>  201 - creado </li><li>  401 - no autorizado (si falla la autenticación) </li><li>  500 - error del servidor </li></ul><br><h3>  Detalles del error en el cuerpo de respuesta </h3><br>  Esto ayuda si tiene una estructura de excepción estándar al desarrollar su servicio. <br><br><img src="https://habrastorage.org/webt/fd/ds/vd/fddsvdk0uirskh9ubp4oprwdcd8.png"><br><br>  Para errores específicos, las estructuras de respuesta específicas pueden devolverse al consumidor, y este puede ser el estándar en toda la organización.  Asegúrese de que la respuesta de error también sea legible para los consumidores, sin confusión. <br><br><h3>  Usando Swagger o Open API Documentation </h3><br>  Swagger proporciona uno de los formatos de documentación más populares para los servicios web RESTful.  Hoy cuenta con el respaldo de varias organizaciones y se utiliza en una gran cantidad de servicios.  Aquí nos fijamos en dos aspectos principales de Swagger: <br><br><ul><li>  Formato de documentación de Swagger </li><li>  Swagger UI, que le permite ver la documentación de Swagger de una manera visualmente conveniente </li></ul><br><h3>  Documentación Swagger </h3><br>  Eche un vistazo al siguiente Swagger JSON: <br><br><img src="https://habrastorage.org/webt/76/da/mo/76damom8ezs7j-5amuzvwfxrh6q.png"><br><br>  En el nivel superior, esto se parece mucho a la definición de WSDL.  Tiene varios atributos importantes: <br><ul><li>  <b>host</b> : donde se encuentra el servicio </li><li>  <b>basePath</b> : la ruta donde se encuentra el servicio </li><li>  <b>consume</b> : qué solicitudes son aceptadas </li></ul><br><img src="https://habrastorage.org/webt/em/iz/q0/emizq09g1kavjozxl2-dnasjuum.png"><br><br><ul><li>  <b>produce</b> : qué tipos de respuestas se generan </li></ul><br><img src="https://habrastorage.org/webt/eu/5w/wg/eu5wwgbarvmsawqrqslbu3ps9oa.png"><br><br><ul><li>  <b>rutas</b> : varios recursos disponibles En este caso, tiene varios tipos de recursos en la lista: </li></ul><br><img src="https://habrastorage.org/webt/j0/y7/9d/j0y79dcqh83k2kak44d7te-fb3q.png"><br><br>  Cuando mira la documentación de Swagger, puede identificar rápidamente los recursos disponibles, las operaciones compatibles y las operaciones relacionadas con cada recurso: <br><br><img src="https://habrastorage.org/webt/bx/dx/5c/bxdx5cazvuaggiwdhkqrxcwp1es.png"><br><br>  El recurso <b>/ users</b> admite operaciones <b>GET</b> y <b>POST</b> .  Para <b>GET,</b> puede ver los tipos de solicitud y respuesta admitidos.  También ve varios tipos de respuestas: <br><br><img src="https://habrastorage.org/webt/_1/gk/p6/_1gkp6wgcm4_lql3lnlrt49okvg.png"><br><br>  Tenga en cuenta que para la respuesta <b>200, el</b> circuito también se conoce como una matriz de <b>usuario</b> .  <b>El usuario</b> es parte de la sección de <b>definiciones</b> en la parte inferior del documento: <br><br><img src="https://habrastorage.org/webt/wa/-4/9o/wa-49o7ao-f8_lpf-ifh4zptvks.png"><br><br>  Swagger es completamente independiente de la tecnología que utiliza para implementar un servicio web RESTful.  Oh, todo está basado en JSON. <br><br><h3>  Introduciendo Swagger UI </h3><br>  La interfaz de usuario de Swagger es una excelente interfaz de usuario que es muy útil para visualizar la documentación de Swagger para el servicio web RESTful.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eche un vistazo a la siguiente captura de pantalla: </font></font><br><br><img src="https://habrastorage.org/webt/8_/up/yn/8_upynbqoldixni50vm45okd39c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tenga en cuenta que hemos seleccionado una versión específica del servicio web para ver su documentación. </font><font style="vertical-align: inherit;">Aquí está la misma pantalla con más detalle: </font></font><br><br><img src="https://habrastorage.org/webt/ex/qu/4i/exqu4ioa6t5fai0zagud42n8w_k.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cuando vamos a la página de inicio, describe los recursos enumerados: </font></font><br><br><img src="https://habrastorage.org/webt/or/df/3-/ordf3-wrutjlzbey_oxfudbydcm.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">También puede ver el conjunto de operaciones admitidas para las URL de recursos: </font></font><br><br><img src="https://habrastorage.org/webt/3z/8m/6q/3z8m6qrd6sgoyteluxobp7duiim.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cuando hace clic en la operación GET de un recurso específico, obtiene sus detalles: </font></font><br><br><img src="https://habrastorage.org/webt/sw/rg/ps/swrgpsafvap9hwycxgqkphfkds0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puede ver que el esquema Los modelos se describen visualmente. </font><font style="vertical-align: inherit;">También se </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muestran los</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atributos </font><b><font style="vertical-align: inherit;">birthDate</font></b><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enlaces</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombre</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicaciones</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">También puede ejecutar una consulta de ejemplo y ver la respuesta:</font></font><br><br><img src="https://habrastorage.org/webt/xb/np/ec/xbnpec9iiud7vdkdqok6scnu-uc.png"><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uso de herramientas Swagger (Open API Standard) </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lo mejor de Swagger son las muchas herramientas disponibles a su alrededor. </font><font style="vertical-align: inherit;">Eche un vistazo al siguiente servicio que utilizamos anteriormente para explicar el control de versiones: Aquí hay un vistazo a la documentación generada automáticamente para este servicio: </font></font><br><br><img src="https://habrastorage.org/webt/vi/el/hn/vielhn-jq9zvj5ql30hgnu0kzme.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger tiene soporte para el enfoque de primer contrato y el enfoque de primer código. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre este tema hay un </font></font><a href="https://youtu.be/-jwd-9PKr5Y" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del autor </font><font style="vertical-align: inherit;">.</font></font><br><br><h3>  Resumen </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En este artículo, analizamos las mejores prácticas para crear y diseñar servicios web RESTful. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lectura adicional </font></font></h3><br> <a href="https://dzone.com/articles/be-the-best-api-you-can-be" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¡Sé el MEJOR en tu API REST! </font></font></a> <br><br> <a href="https://dzone.com/articles/developing-rest-apis" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desarrollando API REST</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/483374/">https://habr.com/ru/post/483374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../483360/index.html">Control de accionamiento eléctrico de potencia. Experiencia amateur</a></li>
<li><a href="../483364/index.html">Puede escribir código en el trabajo para ahorrar su tiempo libre.</a></li>
<li><a href="../483366/index.html">Historial de Internet: redes</a></li>
<li><a href="../483368/index.html">Crear el paquete de archivos x86_64 ELF para Linux</a></li>
<li><a href="../483372/index.html">Cómo entrenar una red neuronal DeepPavlov en una computadora portátil usando una GPU</a></li>
<li><a href="../483376/index.html">En la superficie de un agujero negro</a></li>
<li><a href="../483378/index.html">Trabajo de tipo seguro con registros sin sobrecarga en C ++ 17: metaprogramación basada en valores</a></li>
<li><a href="../483380/index.html">Microservicios: cómo cumplir con el contrato</a></li>
<li><a href="../483382/index.html">Kali Linux 2020.1</a></li>
<li><a href="../483384/index.html">¿Qué palabras en inglés del léxico informático pronunciamos incorrectamente con mayor frecuencia?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>