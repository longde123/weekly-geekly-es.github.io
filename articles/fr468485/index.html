<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§”ğŸ¼ ğŸ‘°ğŸ¿ ğŸ„ Lorsque vous voulez une belle interface graphique, mais le GPU n'est pas ğŸ¤– ğŸ”¯ ğŸ”…</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En rÃ¨gle gÃ©nÃ©rale, les utilitaires de travail ne nÃ©cessitent pas une interface utilisateur saine, avec des boutons, des listes, des fenÃªtres, la prise...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lorsque vous voulez une belle interface graphique, mais le GPU n'est pas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468485/">  En rÃ¨gle gÃ©nÃ©rale, les utilitaires de travail ne nÃ©cessitent pas une interface utilisateur saine, avec des boutons, des listes, des fenÃªtres, la prise en charge de la souris et d'autres petites choses, la plupart des listes de souhaits peuvent Ãªtre regroupÃ©es dans des scripts et parfois les exÃ©cuter avec le paramÃ¨tre --help, et cela sera encore plus correct du point de vue de la configuration et mise Ã  l'Ã©chelle.  Tout empire lorsque non seulement l'Ã©quipe de dÃ©veloppement, mais aussi des tiers commencent Ã  utiliser les outils.  Et ils ne sont pas toujours prÃªts Ã  se plonger dans les pensÃ©es harmonieuses Ã©noncÃ©es dans les lignes de code.  Et puis vous devez faire toute une histoire avec l'interface utilisateur, et les dÃ©veloppeurs l'obtiennent gÃ©nÃ©ralement simple, carrÃ©, fonctionnel et complÃ¨tement ennuyeux.  Il y a quelque temps, je travaillais sur un petit systÃ¨me de contrÃ´le de ventilation / chauffage / camÃ©ra et aussi Â«ce que l'oncle dans un casque jaune va trouverÂ» pour un parking souterrain. <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/la/mh/qc/lamhqcsmhwd6aqcypqlumod45ry.png"></div><br><a name="habracut"></a><br>  (Voici une image du systÃ¨me d'interface utilisateur, mais le dÃ©veloppeur a demandÃ© de la supprimer. Si vous ne voulez pas lire les promenades sur le champ de rÃ¢teau, puis des liens vers le github Ã  la fin de l'article) <br><br>  Le systÃ¨me a Ã©tÃ© construit sur le SoC chinois non nominatif, pour lequel le fabricant a dÃ©cidÃ© de porter le cadre SDL de la premiÃ¨re version.  Les outils et scripts internes ont Ã©tÃ© finalisÃ©s Ã  un point tel qu'ils se sont transformÃ©s en une mise en page lourde et Â«belleÂ» avec des onglets, des listes, des popups, des ombres, un dÃ©gradÃ©, la transparence et d'autres goodies. <br><br>  Pour rÃ©aliser toutes les beautÃ©s, nanogui a Ã©tÃ© choisie, simple et sans prÃ©tention, et en mÃªme temps Â«puissanteÂ» tout ce qu'il fallait.  C'Ã©tait exactement sur papier, mais les <s>ravins ont</s> oubliÃ© OpenGL.  Les systÃ¨mes de contrÃ´le d'interface utilisateur presque complÃ¨tement implÃ©mentÃ©s ont commencÃ© Ã  fonctionner sur le matÃ©riel, et lÃ  un Ã©cran noir, toutes les initialisations OpenGL3 se passent sans erreurs, les tampons sont dÃ©finis et les shaders sont compilÃ©s, mais pas ... d'Ã©cran noir, sous quel angle ne pas regarder. <br><br>  Au dÃ©but, ils ont pÃ©chÃ© sur mes mains tordues, puis sur les mains du dÃ©veloppeur Antokha responsable du pilote et du matÃ©riel, puis ils ont lancÃ© un exemple de test de rendu triangulaire Ã  partir du SDC SoC, et encore l'Ã©cran noir, la documentation et les exemples sont gÃ©nÃ©ralement lus en dernier. <br><br>  Mon collÃ¨gue et moi avons pensÃ© que quelque chose n'allait pas et nous sommes d'abord rendus sur le forum chinois, et n'ayant pas encore trouvÃ© de rÃ©ponses claires pour le dÃ©veloppeur, la rÃ©ponse Ã©tait dÃ©cevante, il n'y avait pas d'implÃ©mentation opengl, et trÃ¨s probablement pas, car la ligne Ã©tait interrompue. <br>  - Mais qu'en est-il du cadre SDL?  - nous avons demandÃ© <br>  - Nous attirons pixel par pixel dans la mÃ©moire vidÃ©o.  - Nos amis chinois nous ont rÃ©pondu. <br><br>  Ce jour-lÃ , j'ai vu les yeux tristes d'un programmeur qui calcule la quantitÃ© de LoC qu'il enverra Ã  / dev / null.  Mais lancer une solution prÃªte Ã  l'emploi a Ã©tÃ© trÃ¨s dÃ©cevant <s>(sur Internet, il y a tout),</s> il s'avÃ¨re que vous pouvez vivre sans OpenGL dans nanogui sur un logiciel de rendu. <br><br>  Seule la vie se rÃ©vÃ¨le trÃ¨s lentement, sur un grand PC quelques secondes par image, dans le miracle de l'ingÃ©nierie chinoise, il faut dÃ©jÃ  environ 20-25 secondes pour dessiner.  Ensuite, ils ont dÃ©cidÃ© de ne pas rendre l'intÃ©gralitÃ© de l'interface utilisateur Ã  la fois, mais uniquement les parties nÃ©cessaires (modifiÃ©es) des widgets, mais mÃªme dans ce mode, avec tous les hacks et optimisations, cela a pris plus de 10 secondes par image, non viable ... <br><br>  AprÃ¨s avoir fumÃ© quelques exemples de SDK, nous avons dÃ©couvert que la copie de textures prÃªtes Ã  l'emploi dans la mÃ©moire vidÃ©o est "instantanÃ©e" (par rapport Ã  10 secondes bien sÃ»r), et cela prend environ 1 ms Ã  512 x 512 sans transparence et 2 ms pour la mÃªme chose avec transparence, si vous copiez plusieurs de ces textures l'une aprÃ¨s l'autre, puis le temps augmente de faÃ§on non linÃ©aire catastrophique, cela s'est avÃ©rÃ© Ãªtre dÃ» Ã  la quantitÃ© limitÃ©e de tampon de mÃ©moire vidÃ©o, dont le dÃ©bordement a conduit Ã  vider le tampon et Ã  rendre ce qui Ã©tait Ã  l'Ã©cran (pas le mien, il Ã©tait dÃ©jÃ  lÃ ), c'est-Ã -dire  pour une interface pas tout Ã  fait morte, nous ne pouvons pas copier plus de 50-100 textures par image et pas immÃ©diatement, mais seulement aprÃ¨s avoir attendu que le pilote vidÃ©o collecte les donnÃ©es du tampon. <br><br>  L'itÃ©ration suivante a Ã©tÃ© le rendu du widget dans sa propre texture dans le flux, et au moment oÃ¹ la texture a Ã©tÃ© crÃ©Ã©e, le widget Ã©tait dessinÃ© Ã  peu prÃ¨s de la mÃªme maniÃ¨re que le rÃ©sultat final, uniquement de maniÃ¨re carrÃ©e, pour dessiner toutes sortes de lignes, les formes pouvaient Ãªtre immÃ©diatement dans la mÃ©moire vidÃ©o gratuitement. <br><br>  Vaincre presque le miracle de la pensÃ©e chinoise Â«sansÂ» un GPU, vous ne pouvez toujours pas appeler les 20 FPS un rÃ©sultat dÃ©cent, et aprÃ¨s avoir presque terminÃ© le projet, j'ai demandÃ© au client la permission de reprendre une partie de l'expÃ©rience en open source.  Le premier SDL n'est plus trÃ¨s Ã  la mode maintenant, il a donc Ã©tÃ© dÃ©cidÃ© d'utiliser le rendu nanogui en mode logiciel sur SDL2 et de le mettre sur le github.  Peut-Ãªtre que quelqu'un aura besoin :) <br><br>  AprÃ¨s avoir lu l'article jusqu'au bout,% habruiser% a le droit de se demander pourquoi il Ã©tait nÃ©cessaire de bloquer ce tas de code <br>  pour les coins arrondis et les ombres?  PremiÃ¨rement, c'est beau (s), deuxiÃ¨mement, Â«cet oncle dans un casque jauneÂ» a dÃ©jÃ  payÃ© pour le dÃ©veloppement du systÃ¨me et les coins arrondis lÃ -bas, malheureusement (ou heureusement) ont fini dans la liste des tÃ¢ches, il reste Ã  les faire avec un dÃ©gradÃ© et Ã  ajouter des ombres. <br><br>  C'Ã©tait l'Ã©tÃ© original de 2017 sous le soleil de Sotchi. <br><br>  <b>Voici comment OpenGL rend</b> <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/07/fn/gp/07fngpg0alfxkwm_uyaasgepssa.png"></div><br><br>  <b>Voici comment le logiciel s'affiche sur un PC</b> <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/ni/sg/a2/nisga2_fzvja7pmnfci5qja-xqk.png"></div><br><br>  <b>RÃ©fÃ©rences</b> : <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Original wjakob / nanogui</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rendu logiciel NanoVG</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Rendu logiciel NanoGUI + SDL +</a> <br><br>  PS Ne croyez pas que les dÃ©veloppeurs <s>chinois</s> parlent de la prÃ©sence d'OpenGL dans le systÃ¨me, vÃ©rifiez les performances de tous les composants, pour savoir comment :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468485/">https://habr.com/ru/post/fr468485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468463/index.html">AmÃ©lioration des performances de Zabbix + PostgreSQL avec le partitionnement et l'indexation</a></li>
<li><a href="../fr468465/index.html">Le point de vue d'un avocat: comment les sociÃ©tÃ©s informatiques peuvent-elles rÃ©silier un contrat avec un client gouvernemental toxique</a></li>
<li><a href="../fr468471/index.html">PrÃ©sentation d'AngularConnect 2019. Partie 1</a></li>
<li><a href="../fr468479/index.html">Â«Les gens pensent que la gratuitÃ© ne vaut rien. Il m'a semblÃ© que je pouvais les convaincre Â»- Yuri Yartsev Ã  propos de l'Ã©cole Russol</a></li>
<li><a href="../fr468481/index.html">Comment S7 a Ã©tÃ© le premier en Russie Ã  vendre des billets d'avion en ligne</a></li>
<li><a href="../fr468487/index.html">Que peut-il arriver (vecteurs d'attaque typiques)</a></li>
<li><a href="../fr468489/index.html">Contrebande de requÃªtes HTTP - nouvelles approches</a></li>
<li><a href="../fr468491/index.html">MalÃ©diction karmique d'Habra</a></li>
<li><a href="../fr468493/index.html">La structure de la vue aÃ©rienne du projet Data Science</a></li>
<li><a href="../fr468497/index.html">Minuterie de brossage minutÃ©e de 3 minutes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>