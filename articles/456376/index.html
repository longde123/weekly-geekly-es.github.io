<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úîÔ∏è üöÑ üë° Not One Spring Boot: una descripci√≥n general de alternativas üë®üèø‚Äçü§ù‚Äçüë®üèæ üêÄ üññüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Actualmente no hay escasez de marcos para crear microservicios en Java y Kotlin. El art√≠culo discute lo siguiente: 
 Titulo  Versi√≥n  A√±o de primer la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Not One Spring Boot: una descripci√≥n general de alternativas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/raiffeisenbank/blog/456376/"><img src="https://habrastorage.org/webt/al/mw/1g/almw1ghoqrvuf2nbw_awcwqvqe4.png"><br><br>  Actualmente no hay escasez de marcos para crear microservicios en Java y Kotlin.  El art√≠culo discute lo siguiente: <br><div class="scrollable-table"><table><tbody><tr><th>  Titulo </th><th>  Versi√≥n </th><th>  A√±o de primer lanzamiento </th><th>  Desarrollador </th></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Helidon se</a> </td><td>  1.1.1 </td><td>  2019 </td><td>  Or√°culo </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ktor</a> </td><td>  1.2.1 </td><td>  2018 </td><td>  Jetbrains </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Micronaut</a> </td><td>  1.1.3 </td><td>  2018 </td><td>  Inform√°tica de objetos </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bota de primavera</a> </td><td>  2.1.5 </td><td>  2014 </td><td>  Pivotal </td></tr></tbody></table></div><a name="habracut"></a><br>  En base a ellos, se han creado cuatro servicios que pueden interactuar entre s√≠ a trav√©s de la API HTTP utilizando el patr√≥n de descubrimiento de servicios implementado mediante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Consul</a> .  Por lo tanto, forman una arquitectura de microservicio heterog√©nea (a nivel de marco) (en lo sucesivo, ISA): <br><br><img src="https://habrastorage.org/webt/tv/mv/kp/tvmvkpurtljgpl3yhxhtpmse4_g.png"><br><br>  Defina un conjunto de requisitos para cada servicio: <br><br><ul><li>  pila de tecnolog√≠a: <br><ul><li>  JDK 12; </li><li>  Kotlin </li><li>  Gradle (Kotlin DSL); </li><li>  JUEGO 5. </li></ul><br></li><li>  funcionalidad (API HTTP): <br><ul><li><code>GET /application-info{?request-to=some-service-name}</code> <br>  Devuelve informaci√≥n b√°sica sobre el microservicio (nombre, marco, a√±o de lanzamiento del marco);  al especificar el nombre de uno de los cuatro microservicios en el par√°metro de <code>request-to</code> a su API HTTP, se ejecuta una solicitud similar que devuelve informaci√≥n b√°sica; </li><li> <code>GET /application-info/logo</code> <br>  Devuelve la imagen. </li></ul><br></li><li>  implementaci√≥n: <br><ul><li>  configuraci√≥n utilizando el archivo de configuraci√≥n; </li><li>  Usando inyecci√≥n de dependencia </li><li>  pruebas que verifican la funcionalidad de la API HTTP. </li></ul><br></li><li>  ISA <br><ul><li>  usando el patr√≥n de Descubrimiento de Servicio (registr√°ndose con Consul, accediendo a la API HTTP de otro microservicio por su nombre usando el equilibrio de carga del cliente); </li><li>  Formaci√≥n de artefactos uber-jar. </li></ul><br></li></ul><br>  A continuaci√≥n, consideramos la implementaci√≥n de un microservicio en cada uno de los marcos y comparamos los par√°metros de las aplicaciones recibidas. <br><br><h1>  Servicio de Helidon </h1><br>  El marco de desarrollo se cre√≥ en Oracle para uso interno, y luego se convirti√≥ en c√≥digo abierto.  Hay dos modelos de desarrollo basados ‚Äã‚Äãen este marco: Standard Edition (SE) y MicroProfile (MP).  En ambos casos, el servicio ser√° un programa Java SE normal.  Obtenga m√°s informaci√≥n sobre las diferencias en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta</a> p√°gina. <br><br>  En resumen, Helidon MP es una de las implementaciones de Eclipse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MicroProfile</a> , que permite utilizar muchas API, ambas conocidas anteriormente por los desarrolladores de Java EE (por ejemplo, JAX-RS, CDI) y las m√°s nuevas (Health Check, Metrics, Fault Tolerance). etc.)  En la variante Helidon SE, los desarrolladores se guiaron por el principio de "Sin magia", que se expresa, en particular, en menos o ninguna anotaci√≥n necesaria para crear la aplicaci√≥n. <br><br>  Helidon SE fue seleccionado para el desarrollo de microservicios.  Entre otras cosas, carece de herramientas para implementar la inyecci√≥n de dependencias, por lo que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Koin se</a> usa para implementar dependencias.  La siguiente es una clase que contiene el m√©todo principal.  Para implementar la inyecci√≥n de dependencia, la clase hereda de <i>KoinComponent</i> .  Koin comienza primero, luego se inicializan las dependencias requeridas y se llama al m√©todo <code>startServer()</code> , donde se crea un objeto del tipo <i>WebServer</i> , al que se transfieren previamente la configuraci√≥n de la aplicaci√≥n y la configuraci√≥n de enrutamiento;  despu√©s de comenzar la aplicaci√≥n se registra en Consul: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">object</span></span> HelidonServiceApplication : KoinComponent { <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> startTime = System.currentTimeMillis() startKoin { modules(koinModule) } <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> consulClient: Consul <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoProperties: ApplicationInfoProperties <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serviceName = applicationInfoProperties.name startServer(applicationInfoService, consulClient, serviceName, startTime) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startServer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( applicationInfoService: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ApplicationInfoService</span></span></span></span><span class="hljs-function"><span class="hljs-params">, consulClient: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Consul</span></span></span></span><span class="hljs-function"><span class="hljs-params">, serviceName: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, startTime: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span></span>: WebServer { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serverConfig = ServerConfiguration.create(Config.create().<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"webserver"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> server: WebServer = WebServer .builder(createRouting(applicationInfoService)) .config(serverConfig) .build() server.start().thenAccept { ws -&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> durationInMillis = System.currentTimeMillis() - startTime log.info(<span class="hljs-string"><span class="hljs-string">"Startup completed in </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$durationInMillis</span></span></span><span class="hljs-string"> ms. Service running at: http://localhost:"</span></span> + ws.port()) <span class="hljs-comment"><span class="hljs-comment">// register in Consul consulClient.agentClient().register(createConsulRegistration(serviceName, ws.port())) } return server }</span></span></code> </pre> <br>  El enrutamiento se configura de la siguiente manera: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createRouting</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(applicationInfoService: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ApplicationInfoService</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> = Routing.builder() .register(JacksonSupport.create()) .<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"/application-info"</span></span>, Handler { req, res -&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> requestTo: String? = req.queryParams() .first(<span class="hljs-string"><span class="hljs-string">"request-to"</span></span>) .orElse(<span class="hljs-literal"><span class="hljs-literal">null</span></span>) res .status(Http.ResponseStatus.create(<span class="hljs-number"><span class="hljs-number">200</span></span>)) .send(applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo)) }) .<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"/application-info/logo"</span></span>, Handler { req, res -&gt; res.headers().contentType(MediaType.create(<span class="hljs-string"><span class="hljs-string">"image"</span></span>, <span class="hljs-string"><span class="hljs-string">"png"</span></span>)) res .status(Http.ResponseStatus.create(<span class="hljs-number"><span class="hljs-number">200</span></span>)) .send(applicationInfoService.getLogo()) }) .error(Exception::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span></span>{ req, res, ex -&gt; log.error(<span class="hljs-string"><span class="hljs-string">"Exception:"</span></span>, ex) res.status(Http.Status.INTERNAL_SERVER_ERROR_500).send() } .build()</code> </pre> <br>  La aplicaci√≥n usa la configuraci√≥n en el formato <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><u>HOCON</u></a> : <br><br><pre> <code class="json hljs">webserver { port: <span class="hljs-number"><span class="hljs-number">8081</span></span> } application-info { name: <span class="hljs-string"><span class="hljs-string">"helidon-service"</span></span> framework { name: <span class="hljs-string"><span class="hljs-string">"Helidon SE"</span></span> release-year: <span class="hljs-number"><span class="hljs-number">2019</span></span> } }</code> </pre> <br>  Tambi√©n es posible usar archivos en JSON, YAML y formatos de propiedades para la configuraci√≥n (m√°s detalles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ). <br><br><h1>  Servicio de Ktor </h1><br>  El marco est√° escrito en Kotlin.  Se puede crear un nuevo proyecto de varias maneras: usando el sistema de compilaci√≥n, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">start.ktor.io</a> o el complemento para IntelliJ IDEA (m√°s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ). <br><br>  Al igual que Helidon SE, Ktor no tiene una DI lista para usar, por lo que las dependencias se implementan utilizando Koin antes de iniciar el servidor: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> koinModule = module { single { ApplicationInfoService(<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(), <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>()) } single { ApplicationInfoProperties() } single { ServiceClient(<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>()) } single { Consul.builder().withUrl(<span class="hljs-string"><span class="hljs-string">"http://localhost:8500"</span></span>).build() } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> { startKoin { modules(koinModule) } <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> server = embeddedServer(Netty, commandLineEnvironment(args)) server.start(wait = <span class="hljs-literal"><span class="hljs-literal">true</span></span>) }</code> </pre> <br>  Los m√≥dulos requeridos por la aplicaci√≥n se especifican en el archivo de configuraci√≥n (es posible usar solo el formato HOCON; m√°s sobre la configuraci√≥n del servidor Ktor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ), cuyo contenido se presenta a continuaci√≥n: <br><br><pre> <code class="kotlin hljs">ktor { deployment { host = localhost port = <span class="hljs-number"><span class="hljs-number">8082</span></span> watch = [io.heterogeneousmicroservices.ktorservice] } application { modules = [io.heterogeneousmicroservices.ktorservice.module.KtorServiceApplicationModuleKt.module] } } application-info { name: <span class="hljs-string"><span class="hljs-string">"ktor-service"</span></span> framework { name: <span class="hljs-string"><span class="hljs-string">"Ktor"</span></span> release-year: <span class="hljs-number"><span class="hljs-number">2018</span></span> }</code> </pre> <br>  Ktor y Koin usan el t√©rmino "m√≥dulo", que tiene diferentes significados.  En Koin, un m√≥dulo es un an√°logo del contexto de la aplicaci√≥n en Spring Framework.  El m√≥dulo Ktor es una funci√≥n definida por el usuario que acepta un objeto de tipo <i>Aplicaci√≥n</i> y puede configurar una tuber√≠a, establecer caracter√≠sticas, registrar rutas, procesar <br>  solicitudes, etc .: <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> Application.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">module</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isTest()) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> consulClient: Consul <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() registerInConsul(applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-literal"><span class="hljs-literal">null</span></span>).name, consulClient) } install(DefaultHeaders) install(Compression) install(CallLogging) install(ContentNegotiation) { jackson {} } routing { route(<span class="hljs-string"><span class="hljs-string">"application-info"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> requestTo: String? = call.parameters[<span class="hljs-string"><span class="hljs-string">"request-to"</span></span>] call.respond(applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo)) } static { resource(<span class="hljs-string"><span class="hljs-string">"/logo"</span></span>, <span class="hljs-string"><span class="hljs-string">"logo.png"</span></span>) } } } }</code> </pre> <br>  En este fragmento de c√≥digo, el enrutamiento de solicitudes se configura, en particular, el recurso est√°tico <code>logo.png</code> . <br><br>  El servicio de Ktor puede contener funciones.  Una caracter√≠stica es una funcionalidad que est√° incrustada en una <i>tuber√≠a de</i> solicitud-respuesta ( <i>DefaultHeaders, Compression</i> y otros en el ejemplo de c√≥digo anterior).  Es posible implementar sus propias caracter√≠sticas, por ejemplo, el siguiente c√≥digo implementa el patr√≥n de Descubrimiento de Servicio en combinaci√≥n con el equilibrio de carga del cliente basado en el algoritmo Round-robin: <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConsulFeature</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> consulClient: Consul) { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Config</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> consulClient: Consul } <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> Feature : HttpClientFeature&lt;Config, ConsulFeature&gt; { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serviceInstanceIndex: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> key = AttributeKey&lt;ConsulFeature&gt;(<span class="hljs-string"><span class="hljs-string">"ConsulFeature"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(block: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Config</span></span></span></span><span class="hljs-function"><span class="hljs-params">.()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>) = ConsulFeature(Config().apply(block).consulClient) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">install</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(feature: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ConsulFeature</span></span></span></span><span class="hljs-function"><span class="hljs-params">, scope: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">HttpClient</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { scope.requestPipeline.intercept(HttpRequestPipeline.Render) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serviceName = context.url.host <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serviceInstances = feature.consulClient.healthClient().getHealthyServiceInstances(serviceName).response <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> selectedInstance = serviceInstances[serviceInstanceIndex] context.url.apply { host = selectedInstance.service.address port = selectedInstance.service.port } serviceInstanceIndex = (serviceInstanceIndex + <span class="hljs-number"><span class="hljs-number">1</span></span>) % serviceInstances.size } } } }</code> </pre> <br>  La l√≥gica principal est√° en el m√©todo de <code>install</code> : durante la fase de solicitud de <i>Render</i> (que se ejecuta antes de la fase de <i>env√≠o</i> ), primero se determina el nombre del servicio que se llama, luego se solicita una lista de instancias de este servicio a <code>consulClient</code> , despu√©s de lo cual se determina la instancia utilizando el algoritmo Round-robin.  Por lo tanto, se hace posible la siguiente llamada: <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getApplicationInfo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(serviceName: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: ApplicationInfo = runBlocking { httpClient.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>&lt;ApplicationInfo&gt;(<span class="hljs-string"><span class="hljs-string">"http://</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$serviceName</span></span></span><span class="hljs-string">/application-info"</span></span>) }</code> </pre> <br><br><h1>  Servicio de Micronaut </h1><br>  Micronaut est√° desarrollado por los creadores del marco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Grails</a> y est√° inspirado en la experiencia de crear servicios utilizando Spring, Spring Boot y Grails.  El marco es un pol√≠glota que admite Java, Kotlin y Groovy;  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tal vez</a> habr√° soporte para Scala.  La inyecci√≥n de dependencia se lleva a cabo en la etapa de compilaci√≥n, lo que conduce a un menor consumo de memoria y un inicio de aplicaci√≥n m√°s r√°pido en comparaci√≥n con Spring Boot. <br><br>  La clase principal tiene la siguiente forma: <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">object</span></span> MicronautServiceApplication { <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> { Micronaut.build() .packages(<span class="hljs-string"><span class="hljs-string">"io.heterogeneousmicroservices.micronautservice"</span></span>) .mainClass(MicronautServiceApplication.javaClass) .start() } }</code> </pre> <br>  Algunos componentes de una aplicaci√≥n basada en Micronaut son similares a sus contrapartes en una aplicaci√≥n Spring Boot, por ejemplo, el c√≥digo del controlador es el siguiente: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Controller( value = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/application-info"</span></span></span><span class="hljs-meta">, consumes = [MediaType.APPLICATION_JSON], produces = [MediaType.APPLICATION_JSON] )</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationInfoController</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService ) { <span class="hljs-meta"><span class="hljs-meta">@Get</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(requestTo: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: ApplicationInfo = applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo) <span class="hljs-meta"><span class="hljs-meta">@Get(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/logo"</span></span></span><span class="hljs-meta">, produces = [MediaType.IMAGE_PNG])</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLogo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: ByteArray = applicationInfoService.getLogo() }</code> </pre> <br>  El soporte de Kotlin en Micronaut se basa en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">complemento del</a> compilador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">kapt</a> (m√°s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">informaci√≥n</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ).  El script de ensamblaje se configura de la siguiente manera: <br><br><pre> <code class="kotlin hljs">plugins { ... kotlin(<span class="hljs-string"><span class="hljs-string">"kapt"</span></span>) ... } dependencies { kapt(<span class="hljs-string"><span class="hljs-string">"io.micronaut:micronaut-inject-java"</span></span>) ... kaptTest(<span class="hljs-string"><span class="hljs-string">"io.micronaut:micronaut-inject-java"</span></span>) ... }</code> </pre> <br>  El siguiente es el contenido del archivo de configuraci√≥n: <br><br><pre> <code class="json hljs">micronaut: application: name: micronaut-service server: port: <span class="hljs-number"><span class="hljs-number">8083</span></span> consul: client: registration: enabled: <span class="hljs-literal"><span class="hljs-literal">true</span></span> application-info: name: ${micronaut.application.name} framework: name: Micronaut release-year: <span class="hljs-number"><span class="hljs-number">2018</span></span></code> </pre> <br>  La configuraci√≥n de microservicio tambi√©n es posible con JSON, propiedades y formatos de archivo Groovy (m√°s detalles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ). <br><br><h1>  Servicio de arranque de primavera </h1><br>  El marco fue creado para simplificar el desarrollo de aplicaciones utilizando el ecosistema Spring Framework.  Esto se logra a trav√©s de mecanismos de autoconfiguraci√≥n al conectar bibliotecas.  El siguiente es el c√≥digo del controlador: <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping(path = [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"application-info"</span></span></span><span class="hljs-meta">], produces = [MediaType.APPLICATION_JSON_UTF8_VALUE])</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationInfoController</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService ) { <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-meta"><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta">@RequestParam(</span></span></span><span class="hljs-meta-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta"><span class="hljs-meta-string">"request-to"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta">)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> requestTo: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: ApplicationInfo = applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo) <span class="hljs-meta"><span class="hljs-meta">@GetMapping(path = [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/logo"</span></span></span><span class="hljs-meta">], produces = [MediaType.IMAGE_PNG_VALUE])</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLogo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: ByteArray = applicationInfoService.getLogo() }</code> </pre> <br>  El microservicio est√° configurado con un archivo YAML: <br><br><pre> <code class="json hljs">spring: application: name: spring-boot-service server: port: <span class="hljs-number"><span class="hljs-number">8084</span></span> application-info: name: ${spring.application.name} framework: name: Spring Boot release-year: <span class="hljs-number"><span class="hljs-number">2014</span></span></code> </pre> <br>  Tambi√©n es posible usar archivos de formato de propiedades para la configuraci√≥n (m√°s detalles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ). <br><br><h1>  Lanzamiento </h1><br>  El proyecto funciona en JDK 12, aunque es probable que tambi√©n est√© en la versi√≥n 11, solo necesita cambiar el par√°metro <code>jvmTarget</code> en los scripts de ensamblaje en <code>jvmTarget</code> : <br><br><pre> <code class="kotlin hljs">withType&lt;KotlinCompile&gt; { kotlinOptions { jvmTarget = <span class="hljs-string"><span class="hljs-string">"12"</span></span> ... } }</code> </pre> <br>  Antes de iniciar microservicios, debe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">instalar</a> Consul e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">iniciar el</a> agente, por ejemplo, as√≠: <code>consul agent -dev</code> . <br><br>  Es posible iniciar microservicios desde: <br><br><ul><li>  IDE <br>  Los usuarios de IntelliJ IDEA pueden ver algo como lo siguiente: <br><img src="https://habrastorage.org/webt/n3/u_/hy/n3u_hy7_z5ut65ryaetvsw2znci.png"><br></li><li>  la consola <br>  Para hacer esto, vaya a la carpeta del proyecto y ejecute secuencialmente: <br><br><pre> <code class="plaintext hljs">java -jar helidon-service/build/libs/helidon-service-all.jar java -jar ktor-service/build/libs/ktor-service-all.jar java -jar micronaut-service/build/libs/micronaut-service-all.jar java -jar spring-boot-service/build/libs/spring-boot-service.jar</code> </pre> <br></li></ul><br>  Despu√©s de iniciar todos los microservicios en <code>http://localhost:8500/ui/dc1/services</code> ver√°: <br><br><img src="https://habrastorage.org/webt/qi/lm/bv/qilmbv1op4a6xgy6b31tnsfjpmm.png"><br><br><h1>  Prueba de API </h1><br>  Los resultados de probar la API del servicio Helidon se dan como ejemplo: <br><br><ol><li> <code>GET http://localhost:8081/application-info</code> <br> <br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"helidon-service"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"framework"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Helidon SE"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"releaseYear"</span></span>: <span class="hljs-number"><span class="hljs-number">2019</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"requestedService"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }</code> </pre> </li><li> <code>GET http://localhost:8081/application-info?request-to=ktor-service</code> <br> <br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"helidon-service"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"framework"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Helidon SE"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"releaseYear"</span></span>: <span class="hljs-number"><span class="hljs-number">2019</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"requestedService"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"ktor-service"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"framework"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ktor"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"releaseYear"</span></span>: <span class="hljs-number"><span class="hljs-number">2018</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"requestedService"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }</code> </pre> </li><li> <code>GET http://localhost:8081/application-info/logo</code> <br> <br>  Devuelve la imagen. </li></ol><br>  Puede probar una API de microservicio arbitraria utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Postman</a> (una <a href="">colecci√≥n de</a> solicitudes), el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://www.jetbrains.com/help/idea/">cliente</a> IntelliJ IDEA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://www.jetbrains.com/help/idea/">HTTP</a> (una <a href="https://github.com/rkudryashov/heterogeneous-microservices/blob/master/_misc/api_testing/idea_http_client/http-request.">colecci√≥n de</a> solicitudes), un navegador u otra herramienta.  Si usa los dos primeros clientes, debe especificar el puerto del microservicio llamado en la variable correspondiente (en Postman est√° en el <i>men√∫ de colecci√≥n -&gt; Editar -&gt; Variables</i> , y en el Cliente HTTP est√° en la variable de entorno especificada en <a href="https://github.com/rkudryashov/heterogeneous-microservices/blob/master/_misc/api_testing/idea_http_client/">este</a> archivo), y al probar el m√©todo 2) La API tambi√©n necesita especificar el nombre del microservicio "bajo el cap√≥" solicitado.  Las respuestas ser√°n similares a las dadas anteriormente. <br><br><h1>  Comparaci√≥n de configuraciones de aplicaciones </h1><br><br><h3>  Tama√±o del artefacto </h3><br>  Para preservar la simplicidad de configurar y ejecutar aplicaciones en scripts de ensamblaje, no se excluyeron las dependencias transitivas, por lo que el tama√±o del servicio uber-JAR en Spring Boot excede significativamente el tama√±o de los an√°logos en otros marcos (porque cuando se usan iniciadores, no solo se importan las dependencias necesarias; si lo desea, el tama√±o puede reducirse significativamente): <br><div class="scrollable-table"><table><tbody><tr><th>  Microservicio </th><th>  Tama√±o de artefacto, MB </th></tr><tr><td>  Servicio de Helidon </td><td align="right">  16,6 </td></tr><tr><td>  Servicio de Ktor </td><td align="right">  20,9 </td></tr><tr><td>  Servicio de Micronaut </td><td align="right">  16,5 </td></tr><tr><td>  Servicio de arranque de primavera </td><td align="right">  42,7 </td></tr></tbody></table></div><br><br><h3>  Tiempo de lanzamiento </h3><br>  El tiempo de inicio de cada aplicaci√≥n es inconsistente y cae en alguna "ventana";  La siguiente tabla muestra el tiempo de lanzamiento del artefacto sin especificar ning√∫n par√°metro adicional: <br><div class="scrollable-table"><table><tbody><tr><th>  Microservicio </th><th>  Hora de inicio, segundos </th></tr><tr><td>  Servicio de Helidon </td><td align="right">  2.2 2.2 </td></tr><tr><td>  Servicio de Ktor </td><td align="right">  1.4 </td></tr><tr><td>  Servicio de Micronaut </td><td align="right">  4.0 4.0 </td></tr><tr><td>  Servicio de arranque de primavera </td><td align="right">  10,2 </td></tr></tbody></table></div><br>  Vale la pena se√±alar que si "limpia" la aplicaci√≥n Spring Boot de dependencias innecesarias y presta atenci√≥n a la configuraci√≥n de la aplicaci√≥n para que se inicie (por ejemplo, escanee solo los paquetes necesarios y use la inicializaci√≥n de bin diferido), puede reducir significativamente el tiempo de inicio. <br><br><h3>  Prueba de carga </h3><br>  Para las pruebas, se utilizaron <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gatling</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un script</a> Scala.  El generador de carga y el servicio bajo prueba se ejecutaron en la misma m√°quina (Windows 10, un procesador quad-core de 3.2 GHz, 24 GB de RAM, SSD).  El puerto de este servicio se indica en el script Scala. <br><br>  Para cada microservicio se determina: <br><br><ul><li>  la cantidad m√≠nima de memoria de almacenamiento <code>-Xmx</code> ( <code>-Xmx</code> ) requerida para ejecutar un microservicio de trabajo (que responde a las solicitudes) </li><li>  memoria m√≠nima necesaria para pasar la prueba de carga 50 usuarios * 1000 solicitudes </li><li>  memoria de almacenamiento din√°mico m√≠nima requerida para pasar la prueba de carga 500 usuarios * 1000 solicitudes </li></ul><br>  Pasar una prueba de carga significa que el microservicio respondi√≥ a todas las solicitudes en cualquier momento. <br><div class="scrollable-table"><table><tbody><tr><th rowspan="2">  Microservicio </th><th colspan="3">  La cantidad m√≠nima de memoria de almacenamiento din√°mico, MB </th></tr><tr><th>  Para iniciar el servicio </th><th>  Para carga 50 * 1000 </th><th>  Para carga 500 * 1000 </th></tr><tr><td>  Servicio de Helidon </td><td align="right">  9 9 </td><td align="right">  9 9 </td><td align="right">  11 </td></tr><tr><td>  Servicio de Ktor </td><td align="right">  11 </td><td align="right">  11 </td><td align="right">  13 </td></tr><tr><td>  Servicio de Micronaut </td><td align="right">  13 </td><td align="right">  13 </td><td align="right">  17 </td></tr><tr><td>  Servicio de arranque de primavera </td><td align="right">  22 </td><td align="right">  23 </td><td align="right">  25 </td></tr></tbody></table></div><br>  Vale la pena se√±alar que todos los microservicios usan el servidor Netty HTTP. <br><br><h1>  Conclusi√≥n </h1><br>  La tarea, la creaci√≥n de un servicio simple con HTTP API y la capacidad de funcionar en el ISA, se pudo completar en todos los marcos en cuesti√≥n.  Es hora de hacer un balance y considerar sus ventajas y desventajas. <br><br>  <i><b>Helidon</b></i> <br><br>  <font color="#808080">Edici√≥n est√°ndar</font> <br><ul><li>  ventajas <br><ul><li>  configuraci√≥n de la aplicaci√≥n <br>  En todos los aspectos mostr√≥ buenos resultados; </li><li>  "Sin magia" <br>  El marco justific√≥ el principio establecido por los desarrolladores: solo se necesit√≥ una anotaci√≥n para crear la aplicaci√≥n ( <code>@JvmStatic</code> - para la interoperaci√≥n Java-Kotlin). </li></ul></li><li>  contras <br><ul><li>  microframework <br>  Faltan algunos componentes necesarios para el desarrollo industrial, por ejemplo, la inyecci√≥n de dependencias y la implementaci√≥n de Service Discovery. </li></ul></li></ul><br>  <font color="#808080">Microperfil</font> <br>  El microservicio no se implement√≥ en este marco, por lo que solo notar√© un par de puntos que conozco: <br><br><ul><li>  ventajas <br><ul><li>  Implementaci√≥n de Eclipse MicroProfile <br>  En esencia, MicroProfile es Java EE optimizado para ISA.  Por lo tanto, en primer lugar, obtiene acceso a toda la variedad de API Java EE, incluidas las dise√±adas espec√≠ficamente para el ISA, y en segundo lugar, puede cambiar la implementaci√≥n de MicroProfile a cualquier otra (Open Liberty, WildFly Swarm, etc.) . </li></ul></li><li>  adicionalmente <br><ul><li>  en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MicroProfile Starter</a> puede crear un proyecto desde cero con los par√°metros necesarios por analog√≠a con herramientas similares para otros marcos (por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Spring Initializr</a> ).  En el momento de la publicaci√≥n del art√≠culo, Helidon implementa MicroProfile 1.2, mientras que la √∫ltima versi√≥n de la especificaci√≥n es 3.0. </li></ul></li></ul><br><br>  <i><b>Ktor</b></i> <br><br><ul><li>  ventajas <br><ul><li>  ligereza <br>  Le permite conectar solo aquellas funciones que se necesitan directamente para completar la tarea; </li><li>  configuraci√≥n de la aplicaci√≥n <br>  Buenos resultados en todos los aspectos. </li></ul></li><li>  contras <br><ul><li>  "Afilado" bajo Kotlin, es decir, es posible, pero no necesario, desarrollarse en Java; </li><li>  microframework (ver art√≠culo similar para Helidon SE). </li></ul></li><li>  adicionalmente <br>  Por un lado, el concepto de desarrollo de marco no est√° incluido en los dos modelos de desarrollo de Java m√°s populares (Spring-like (Spring Boot / Micronaut) y Java EE / MicroProfile), lo que puede conducir a: <br><br><ul><li>  un problema con encontrar especialistas; </li><li>  m√°s tiempo para completar tareas en comparaci√≥n con Spring Boot debido a la necesidad de configurar expl√≠citamente la funcionalidad requerida. </li></ul><br>  Por otro lado, la diferencia con respecto a los "cl√°sicos" Spring y Java EE le permite ver el proceso de desarrollo desde un √°ngulo diferente, tal vez de manera m√°s consciente. </li></ul><br><br>  <i><b>Micronaut</b></i> <br><br><ul><li>  ventajas <br><ul><li>  Mucho <br>  Como se se√±al√≥ anteriormente, AOT le permite reducir el tiempo de inicio y la memoria consumida por la aplicaci√≥n en comparaci√≥n con su contraparte en Spring Boot; </li><li>  Modelo de desarrollo primaveral <br>  Los programadores con experiencia en desarrollo en primavera no tardar√°n mucho en dominar este marco; </li><li>  configuraci√≥n de la aplicaci√≥n <br>  Buenos resultados en todos los aspectos; </li><li>  pol√≠glota <br>  Apoyo ciudadano de primera clase para Java, Kotlin, Groovy;  tal vez habr√° soporte para Scala.  En mi opini√≥n, esto puede afectar positivamente el crecimiento de la comunidad.  Por cierto, en junio de 2019 Groovy en el ranking de la popularidad de los lenguajes de programaci√≥n, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TIOBE</a> ocupa el 14 ¬∞ lugar, despegando del 60 ¬∞ a√±o anterior, por lo que se encuentra en un honorable segundo lugar entre los idiomas JVM; </li><li>  El proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Micronaut for Spring tambi√©n le</a> permite cambiar el tiempo de ejecuci√≥n de su aplicaci√≥n Spring Boot existente a Micronaut (con restricciones). </li></ul></li></ul><br><br>  <i><b>Bota de primavera</b></i> <br><br><ul><li>  ventajas <br><ul><li>  madurez de la plataforma y ecosistema <br>  El marco "todos los d√≠as".  Para la mayor√≠a de las tareas cotidianas, ya existe una soluci√≥n en el paradigma de programaci√≥n Spring, es decir, de una manera familiar para muchos programadores.  El desarrollo se simplifica por los conceptos de iniciadores y configuraciones autom√°ticas; </li><li>  la presencia de una gran cantidad de especialistas en el mercado laboral, as√≠ como una importante base de conocimiento (que incluye documentaci√≥n y respuestas a Stack Overflow); </li><li>  perspectiva <br>  Creo que muchos estar√°n de acuerdo en que en el futuro cercano, Spring seguir√° siendo el marco de desarrollo l√≠der. </li></ul></li><li>  contras <br><ul><li>  configuraci√≥n de la aplicaci√≥n <br>  La aplicaci√≥n en este marco no estaba entre los l√≠deres, sin embargo, algunos par√°metros, como se se√±al√≥ anteriormente, se pueden optimizar de forma independiente.  Tambi√©n vale la pena recordar la presencia del proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Spring Fu</a> , que se encuentra en desarrollo activo, cuyo uso permite reducir estos par√°metros. </li></ul></li></ul><br>  Tambi√©n puede resaltar los problemas generales asociados con los nuevos marcos que faltan en Spring Boot: <br><br><ul><li>  ecosistema menos desarrollado; </li><li>  un peque√±o n√∫mero de especialistas con experiencia en estas tecnolog√≠as; </li><li>  mayor tiempo para completar tareas; </li><li>  perspectivas oscuras </li></ul><br>  Los marcos considerados pertenecen a diferentes categor√≠as de peso: Helidon SE y Ktor son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">microframes</a> , Spring Boot es un marco de pila completa, Micronaut es m√°s probable que tambi√©n sea de pila completa;  otra categor√≠a es MicroProfile (por ejemplo, Helidon MP).  En microframes, la funcionalidad es limitada, lo que puede ralentizar la ejecuci√≥n de tareas;  Para aclarar la posibilidad de implementar esta o aquella funcionalidad sobre la base de cualquier marco de desarrollo, le recomiendo que se familiarice con su documentaci√≥n. <br><br>  No me atrevo a juzgar si este o aquel marco se "disparar√°" en el futuro cercano, por lo tanto, en mi opini√≥n, es mejor continuar monitoreando el desarrollo de eventos usando el marco de desarrollo existente para resolver tareas de trabajo. <br><br>  Al mismo tiempo, como se mostr√≥ en el art√≠culo, los nuevos marcos superan a Spring Boot en los par√°metros considerados de las aplicaciones recibidas.  Si alguno de estos par√°metros es cr√≠tico para cualquiera de sus microservicios, es posible que deba prestar atenci√≥n a los marcos que mostraron los mejores resultados en ellos.  Sin embargo, no olvide que Spring Boot, en primer lugar, contin√∫a mejorando y, en segundo lugar, tiene un ecosistema enorme y un n√∫mero significativo de programadores de Java est√°n familiarizados con √©l.  Hay otros marcos que no est√°n cubiertos en este art√≠culo: Javalin, Quarkus, etc. <br><br>  Puede ver el c√≥digo del proyecto en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> .  Gracias por su atencion! <br><br>  PD: Gracias a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">artglorin</a> por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">ayudarme</a> con este art√≠culo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456376/">https://habr.com/ru/post/456376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456366/index.html">C√≥mo dise√±√© la caja LED HEART</a></li>
<li><a href="../456368/index.html">Realizaci√≥n de transacciones p√∫blicas y privadas en la cadena de bloques JPMorgan Quorum usando Web3</a></li>
<li><a href="../456370/index.html">Implemente QoS en Qsan Storage</a></li>
<li><a href="../456372/index.html">SimbirSoft invita a profesionales de TI al verano intensivo 2019</a></li>
<li><a href="../456374/index.html">Estructuras de datos de estado de blockchain de Plasma Cash</a></li>
<li><a href="../456380/index.html">Jornada de puertas abiertas de la Facultad de Programaci√≥n en Netolog√≠a</a></li>
<li><a href="../456382/index.html">Colaboraci√≥n y automatizaci√≥n en la interfaz. Lo que aprendimos de 13 escuelas</a></li>
<li><a href="../456384/index.html">PVS-Studio Gr√°fico de desarrollo de habilidades de diagn√≥stico</a></li>
<li><a href="../456386/index.html">Bibliotecas abiertas para la visualizaci√≥n de contenido de audio.</a></li>
<li><a href="../456388/index.html">Cuadro de desarrollo de diagn√≥stico en PVS-Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>