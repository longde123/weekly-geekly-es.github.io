<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔫 🔕 👒 Servidor Minecraft: Windows vs Linux 🥗 🤳🏾 😅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuando con la serie de artículos contra algo contra algo, finalmente miramos algo útil, a saber, el servidor de Minecraft. Considere qué sistema ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Servidor Minecraft: Windows vs Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ultravds/blog/485624/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/201/5f5/289/2015f5289c7b97565da4163f42cdb6ca.png"></div><br>  Continuando con la serie de artículos contra algo contra algo, finalmente miramos algo útil, a saber, el servidor de Minecraft.  Considere qué sistema operativo y qué Java es aún mejor para albergar el mejor juego de la humanidad.  Para la comparación, se tomaron Ubuntu 18.04 LTS y Server Core 2019. OpenJDK se instaló en Ubuntu, y Oracle Java y AdoptOpenJDK se instalaron en Windows. <br><a name="habracut"></a><br>  Como en todas las otras pruebas comparativas, las máquinas virtuales no tenían vecinos; solo una VM siempre se estaba ejecutando en el host. <br><br>  Los servidores comenzaron con argumentos: <br><br><pre><code class="plaintext hljs">-Xmx8G -server</code> </pre> <br>  El componente de Windows Defender se eliminó en Windows Server Core, como en nuestra imagen con <a href="https://ultravds.com/">Windows VDS</a> por 99 rublos.  En comparación, esto es lo que pierde cuando lo deja encendido. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8c/0e0/dae/c8c0e0daed7a87d3b8b61701657830d2.png"></div><br><br>  Para cada una de las distribuciones de Java, se instalaron las últimas versiones disponibles públicamente, a saber: <br><br>  Oracle: "1.8.0_241" <br>  AdoptOpenJDK: "1.8.0_242" <br>  OpenJDK: "1.8.0_232" <br><br><h3>  Ronda número 1, la generación del mundo </h3><br>  En esta prueba, generamos el mundo.  El generador fue Geographicraft con Biomes'O'Plenty, Dynamic Trees, PVG, worley caves, IC y BC instalados. <br><br>  El mundo no es en absoluto un clásico y se genera notablemente más lento de lo habitual. <br><br>  Se generó un mundo de 2,704 trozos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/819/5a5/df8/8195a5df875106600abe1d6e7473041c.png"></div><br>  Windows con AdoptOpenJDK se separa de sus competidores durante 5 segundos. <br><br><h3>  Ronda número 2, inicio del servidor </h3><br>  La medición se realizó en tres pasadas para cada máquina virtual.  Cada vez, cada uno de los servidores completó la descarga del mundo segundo por segundo en comparación con el resultado anterior. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/74f/2df/22f/74f2df22ffbed6476b690b1965935b33.png"></div><br>  OpenJDK en Windows y OpenJDK en Linux muestran los mismos resultados. <br><br><h3>  Ronda número 3, memoria ocupada </h3><br>  El proceso comienza a consumir más memoria, más núcleos están instalados en él.  A continuación se muestra una tabla de la memoria ocupada de un proceso de servidor vacío sin el mundo cargado en él. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e3/bbc/879/2e3bbc879f56dca57f398043e73016c7.png"></div><br>  Oracle JRE consumió un promedio de 80-100 megabytes más en un número par de núcleos.  Lo mismo ocurre con AdoptOpenJDK, solo en un número impar de núcleos. <br><br>  Linux no mostró tanta rareza. <br><br><h3>  Ronda No. 4, 32 pollos en una caja de 2 por 2 </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/585/f50/d71/585f50d714dacf0941d8775269980edb.png"></div><br>  La escena es un cálculo de la colisión de 32 gallinas en una caja de 2 por 2. La escena se preparó de antemano y el mismo mundo se dispersó por los servidores para que todo fuera honesto. <br><br>  Se instaló un núcleo para esta prueba, y el proceso se estableció en prioridad en tiempo real. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/ba6/336/539ba6336fea3a3d74cb797710444fd9.png"></div><br>  El conjunto de trabajo OpenJDK en esta escena fue 40 megabytes más que sus rivales. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5fd/404/749/5fd40474995d4f2e03ec31772b6185e6.png"></div><br>  El consumo promedio de procesador para Oracle y AdoptOpenJDK es el mismo, pero la basura de Oracle se recolecta con mayor frecuencia y más intensidad, lo que a menudo conduce a explosiones de actividad del procesador. <br><br>  Para extrapolar cuántas escenas de este tipo podemos procesar, aumentemos la tasa de tics del servidor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/577/4e1/43a/5774e143addca3617705e0ac3e87b875.png"></div><br>  En la prueba de alta carga, Ubuntu c OpenJDK se puso al día con Windows c AdoptOpenJDk, y Oracle se está poniendo al día. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4f/eec/aac/e4feecaac9abe940c6e1fde6950d5a74.png"></div><br>  Bajo una carga mayor, OpenJDK en Windows dio mejores resultados que en Ubuntu. <br><br>  El servidor OpenJDK en Ubuntu se borró constantemente y la escena se congeló.  Windows fue un poco peor en el mismo OpenJDK.  Oracle, sin embargo, manejó lo mejor con la menor cantidad de congelaciones. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c54/0c2/07a/c540c207a6b149def6a1cdf6f480b649.png"></div><br>  Entre otros, Oracle SE mantuvo la misma cantidad de RAM que OpenJDK. <br><br><h3>  Ronda No. 5, trozo 64 * 64 y árboles dinámicos </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd3/30c/372/cd330c372cf714780246e41cf364cebb.png"></div><br>  Esta escena contiene un bosque y varias docenas de mobs.  Kilómetros de árboles crecen constantemente y actualizan la posición de sus bloques. <br><br>  Cada árbol es un mosaico separado, pero inicialmente tiene una baja tasa de tics, marcando solo 1 vez en 20 ticks de juego.  A continuación se muestra un gráfico de la utilización del procesador por tickrate del servidor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fd/9b5/702/8fd9b57021e0ce111fc5de6c81f0ef96.png"></div><br>  Ubuntu + OpenJDK y Windows Server con Oracle a bordo no pudieron iniciar el servidor en los argumentos discutidos anteriormente, por lo que no entraron en el programa. <br><br>  Para iniciar el servidor, tuve que cambiar las banderas a: <br><br><pre> <code class="plaintext hljs">-Xms4g -Xmx8G -server -XX:+UseCompressedOops -XX:+AggressiveOpts</code> </pre> <br>  Las tres instancias inicialmente descansaban en el 100% del procesador, pero solo Windows Server + AdoptOpenJDK no soltó el servidor.  Después de la recolección de basura, todo volvió al horario a continuación. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/e53/719/029e53719194f1edd567591f747088ed.png"></div><br>  Al cambiar de una tasa de tics de 60 a 70, en Ubuntu, el programa de carga de la CPU comenzó a comportarse como una onda sinusoidal, por lo que la utilización promedio de la CPU de repente comenzó a caer debido a la creciente complejidad de la tarea.  Debido a esto, el horario tuvo que detenerse donde está ahora. <br><br>  Esta es probablemente la diferencia entre el planificador de Linux y Windows. <br><br>  Conclusiones: <br><br>  A pesar de la diferencia objetiva en las distribuciones de OS y JRE, es imposible dar una recomendación específica, que es objetivamente mejor para mantener el servidor en él. <br><br>  En este caso, probablemente valga la pena elegir el sistema operativo con el que está más familiarizado. <br><br> <a href="https://ultravds.com/"><img src="https://habrastorage.org/webt/ww/d4/ro/wwd4ro5_5a28hvdxyazf3enjxou.png"></a> </div></div><p>Source: <a href="https://habr.com/ru/post/485624/">https://habr.com/ru/post/485624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../485612/index.html">¿Qué me enseñó un accidente espacial como desarrollador?</a></li>
<li><a href="../485614/index.html">La cultura corporativa roja es el principal problema de los negocios rusos (Parte 3)</a></li>
<li><a href="../485618/index.html">Automatización para los más pequeños. Notas API RESTful</a></li>
<li><a href="../485620/index.html">¿Yoshkar-Ola, en general, una ciudad de TI?</a></li>
<li><a href="../485622/index.html">Herramientas de respaldo de PostgreSQL. Andrey Salnikov (Garceta de datos)</a></li>
<li><a href="../485630/index.html">Cosmonáutica de África: de la basura a la realidad</a></li>
<li><a href="../485632/index.html">Monitoreo de la calificación crediticia en Power BI</a></li>
<li><a href="../485634/index.html">El tablero de Dungeons and Dragons me ayudó a aprender inglés</a></li>
<li><a href="../485636/index.html">Los virus resistentes a CRISPR construyen refugios para proteger los genomas de las enzimas que penetran el ADN</a></li>
<li><a href="../485640/index.html">Métodos de ocultamiento de páginas web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>