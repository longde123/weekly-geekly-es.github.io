<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèæ üë† üèáüèº Lo que puede y no puede exprimir de los componentes web üßìüèª üõãÔ∏è üòà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esto no es un tutorial o una revisi√≥n completa, sino notas de sangre caliente despu√©s de compilar una biblioteca de componentes. Todo comenz√≥ con la h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lo que puede y no puede exprimir de los componentes web</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467403/"> Esto no es un tutorial o una revisi√≥n completa, sino notas de sangre caliente despu√©s de compilar una biblioteca de componentes.  Todo comenz√≥ con la historia cotidiana habitual: hay un c√≥digo heredado, necesita sujetar pipmochek y peque√±os palos al legado, no puede reescribir nada, una vez, y no toque nada aqu√≠ con las manos;  no toques los paquetes grandes y aterradores por si acaso, y de hecho, ¬øpor qu√© no tomas el mejor marco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vanilla JS</a> y comienzas a escribir en √©l, como legaron tus abuelos? <br><a name="habracut"></a><br>  Pero como se preve√≠a que el volumen de trabajo fuera muy notable, por alguna raz√≥n nadie experiment√≥ ning√∫n impulso creativo por la idea de escribir todo en JS desnudo.  Fuimos a mirar las herramientas y elegir entre ellas aquellas que no asustar√≠an a los consumidores de nuestros componentes hasta que les temblaran las rodillas. <br><br><h2>  Las herramientas </h2><br>  Aunque ya he echado a perder toda esta secci√≥n, hay que decir algo aqu√≠.  En primer lugar, los componentes web se volvieron absolutamente incontestables: cuando el resultado de la creatividad es una biblioteca de componentes, y no se puede arrastrar un gran monstruo a la Angular, que se modularizar√° por completo, lo que queda es que no es necesario arrastrar el c√≥digo de la biblioteca, y funciona "as√≠" en los navegadores modernos.  Los componentes web en s√≠ mismos siguen siendo el mismo incre√≠ble marco Vanilla JS, con solo un poco de modularidad resuelta.  Todav√≠a queda mucho para escribir con sus propias manos: necesita un contenedor con estandarizaci√≥n, y tambi√©n es deseable que haya un m√≠nimo de repetitivo para cada componente. <br><br>  No hay muchos envoltorios de este tipo, e incluso lo suficientemente maduros para su uso en un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">producto</a> serio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">H√≠bridos,</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LitElement,</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Stencil.</a>  Y todos hacen lo mismo de la misma manera, la diferencia est√° en las peque√±as cosas.  Hybrids est√° tratando de estar a la moda y sin clases, Stencil est√° de moda y reacciona, LitElement ni siquiera parece estar esforz√°ndose.  Y de acuerdo con los resultados de elegir entre insignificantes insignificancias, LitElement se mantuvo en la salida: OOPshniki apart√≥ la nariz de los h√≠bridos y los no aficionados de la reacci√≥n, de Stencil, en el que JSX generalmente sinti√≥ una repetici√≥n de las ideas no indiscutibles de la reacci√≥n. <br><br><h2>  A la batalla? </h2><br>  No es tan interesante hablar sobre lo que puede, est√° todo en la documentaci√≥n, por lo que continuar√© hablando principalmente sobre lo que no puede: por lo general, no escriben sobre esto en la documentaci√≥n. <br><br><h3>  Patrones </h3><br>  En t√©rminos de plantillas, LitElement utiliza lit-html, que es perfectamente minimalista: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> template = html<span class="hljs-string"><span class="hljs-string">` &lt;div attr=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${a}</span></span></span><span class="hljs-string"> .property=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${b}</span></span></span><span class="hljs-string"> ?booleanAttr=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${c}</span></span></span><span class="hljs-string"> @click=</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${handleClick}</span></span></span><span class="hljs-string"> &gt;&lt;/div&gt; `</span></span>;</code> </pre> <br>  Esto no es html, pero debe recordar exactamente tres construcciones en un s√≠mbolo aqu√≠: ".", "?", Y "@".  Todo lo dem√°s es html.  Con respecto a JSX, con su className y el resto, es un poco mejor y est√° legalmente separado del c√≥digo JS / TS.  Pero, por cierto, el primer "imposible" se sigue a partir de aqu√≠: vincular algo horrible no funciona, solo se puede vincular en los valores de atributos y propiedades, y en el contenido del texto.  Por supuesto, en los literales de plantilla etiquetados no hay magia, y a costa de una cierta cantidad de perversiones, puede juntar una cadena en tiempo de ejecuci√≥n y adjuntar carpetas de lit-html, pero esto en realidad est√° entrando en el render con sus manos, y con el mismo √©xito puede recopilar l√≠neas y enviarlas en innerHTML.  De la manera normal, todo esto se hace a trav√©s de la composici√≥n de las plantillas y el desglose de componentes complejos en componentes m√°s simples.  La plantilla es bastante peque√±a: el enlace de la plantilla est√° pr√°cticamente ausente, porque es solo una variable, y para crear un componente, necesita cinco l√≠neas "adicionales". <br><br><h3>  Componentes </h3><br>  El √∫nico (pero significativo) problema de los componentes es que para "mezclar" completamente los componentes con el renderizado de los hijos, en alg√∫n lugar dentro de la plantilla del padre se necesita el DOM DOM.  Que, por supuesto, est√° incluido en LitElement de forma predeterminada, y en general parece no estar mal.  Pero el DOM de sombra actualmente tiene un gran problema con los estilos, similar a los m√≥dulos css: para aislar estilos, a√≠sla perfectamente, pero en el camino esto reduce toda la cascada.  Es simplemente imposible entrar en estilos aislados desde el exterior.  Generalmente (casi) nada. <br><br>  Esto interfiere enormemente, por ejemplo, con la capacidad de rodar componentes de diferentes temas.  Todo lo que se puede hacer con el DOM de sombra es empaquetar todas las opciones de estilo dentro del componente o tratar de hacer que el tema sea completamente dependiente de las variables css: esta es la "casi" con la que puedes cambiar los estilos aislados.  Pero con lo cual es necesario proporcionar variables literalmente para cualquier estilizaci√≥n razonable y, con una alta probabilidad, a√∫n se agrega m√°s. <br><br>  Afortunadamente, Shadow DOM en LitElement simplemente se puede deshabilitar en el componente.  Desafortunadamente, esto tambi√©n deshabilitar√° la capacidad de apuntar a elementos secundarios del elemento en los lugares correctos de la plantilla a trav√©s de &lt;slot&gt;.  Afortunadamente, habiendo pervertido un poco, puede obtener tanto el primero como el segundo: para esto, <i>solo</i> necesita poner una ra√≠z de sombra en cada ranura necesaria, y no tener nada en ella excepto, de hecho, &lt;slot&gt;.  Por lo tanto, la estilizaci√≥n del componente estar√° abierta y las ranuras estar√°n presentes.  Quer√≠a dar un breve ejemplo, pero desafortunadamente el c√≥digo para manipular las tragamonedas no funciona brevemente de todos modos; las personas muy interesadas pueden leer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este problema aqu√≠.</a>  Me inspiraron las ideas de all√≠. <br><br>  Bueno, tambi√©n vale la pena mencionar que en el futuro previsible, el soporte para navegadores y los polyfills <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">:: part</a> y :: theme probablemente desaparecer√°n, y con ellos, el DOM DOM se convertir√° finalmente en la soluci√≥n que todos han estado esperando durante muchos a√±os, por lo que est√° aislado y extensible / mutable  Pero hasta ahora esto todav√≠a no est√° all√≠. <br><br><h3>  Implementar </h3><br>  En este punto, ya no se escribe sobre "lo que es imposible", porque todo puede ser m√°s avanzado: existen bibliotecas iluminadas en forma de m√≥dulos ES y, por lo tanto, sin ning√∫n problema, son recogidas por cualquier cosa (incluso con un navegador simple que pueda manejar m√≥dulos) )  Para IE y el Edge actual, necesita conectar un polyfill de componentes web, para m√≥dulos, si desea levantarlos directamente desde el navegador, necesita algo que alivie el dolor de las importaciones del navegador, por ejemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">es-module-shims.</a>  Bueno, o un paquete. <br><br>  Los componentes web conectados a la aplicaci√≥n son simples y curiosos de usar, puede comenzar a usarlos en html y extraer sus m√©todos y propiedades en el c√≥digo.  Puede ver qu√© tan bien se puede adjuntar todo esto a otra biblioteca o marco <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> (la reacci√≥n ha sobresalido, pero en promedio todo es muy bueno).  Nos aferramos a AngularJS, y todo fue trivial: ng-prop le permite transferir algo al componente, y ng-on le permite escuchar eventos. <br><br><h2>  Resumen </h2><br>  Si necesita construir una interfaz de usuario de componentes y fijarla a algo en lo que absolutamente no desea entrar (c√≥digo heredado, marco de miedo pasado de moda y otros lugares malos), los componentes web ayudan muy bien.  Las principales bibliotecas "maduras" que se administran con ellas son de tama√±o peque√±o, no hay problemas t√©cnicos serios de modularidad y dise√±o, y puede simplemente tomarlo y hacerlo.  Qu√© tipo de biblioteca tomas, aunque no sea tan importante, hay muy pocas diferencias entre ellos en este momento;  Espec√≠ficamente, el LitElement que tomamos no cre√≥ un problema adicional para nosotros y funcion√≥ de la manera esperada en todos los casos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/467403/">https://habr.com/ru/post/467403/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../467391/index.html">Yandex presenta RPKI</a></li>
<li><a href="../467393/index.html">NX Bootcamp comienza en octubre</a></li>
<li><a href="../467395/index.html">Habr Weekly # 18 / New Apple Gadgets, un tel√©fono inteligente completamente modular, el pueblo de programadores en Bielorrusia, el fen√≥meno XY</a></li>
<li><a href="../467399/index.html">No puede prohibir traer: c√≥mo implementar el concepto BYOD y no da√±ar la seguridad de la informaci√≥n</a></li>
<li><a href="../467401/index.html">Comparaci√≥n de Tesla Model S y Porsche Taycan</a></li>
<li><a href="../467405/index.html">Lyft lanza concurso de reconocimiento de objetos 3D</a></li>
<li><a href="../467407/index.html">Trabajamos con el cobot Dobot M1</a></li>
<li><a href="../467409/index.html">Para hacer negocios en Silicon Valley, debe comportarse bien.</a></li>
<li><a href="../467413/index.html">PHP microservice framework - `Hola mundo` de Swoft</a></li>
<li><a href="../467415/index.html">Mercado de divisas moderno</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>