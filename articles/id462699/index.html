<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐧 🛰️ 🙅🏼 Service mesh, "Data plane" dan "Control plane" (Layanan data mesh vs bidang kendali) 😡 🤳🏿 👨‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Saya hadir untuk Anda terjemahan artikel "Pesawat data layanan mesh vs pesawat kontrol" oleh Matt Klein . 



 Kali ini saya ingin dan men...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Service mesh, "Data plane" dan "Control plane" (Layanan data mesh vs bidang kendali)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462699/">  Halo, Habr!  Saya hadir untuk Anda terjemahan artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Pesawat data layanan mesh vs pesawat kontrol"</a> oleh <b>Matt Klein</b> . <br><br><img src="https://habrastorage.org/webt/oa/ar/bu/oaarbu82bai5hzqqe0l2f-qeupg.png"><br><br>  Kali ini saya ingin dan menerjemahkan deskripsi dari kedua komponen service mesh, data plane, dan control plane.  Deskripsi ini bagi saya tampaknya yang paling dapat dimengerti dan menarik, dan yang paling penting mengarah pada pemahaman "Apakah itu perlu?" <br><br>  Ketika ide "Service mesh" telah menjadi semakin populer selama dua tahun terakhir (Artikel asli 10 Oktober 2017) dan jumlah peserta di ruang angkasa telah meningkat, saya telah melihat peningkatan yang sepadan dalam kebingungan di antara seluruh komunitas teknis mengenai bagaimana membandingkan dan membandingkan berbagai solusi. <br><a name="habracut"></a><br>  Situasi ini paling baik dijelaskan dalam serangkaian tweet yang saya tulis pada bulan Juli: <br><blockquote>  Kebingungan dengan service mesh (service mesh) No. 1: Linkerd ~ = Nginx ~ = Haproxy ~ = Utusan.  Tak satu pun dari mereka yang setara dengan Istio.  Istio adalah sesuatu yang sangat berbeda.  1 / </blockquote><blockquote>  Yang pertama hanya pesawat data.  Mereka sendiri tidak melakukan apa pun.  Mereka perlu disetel untuk sesuatu yang lebih.  2 / </blockquote><blockquote>  Istio adalah contoh dari bidang kontrol yang menghubungkan bagian bersama-sama.  Ini adalah lapisan yang berbeda.  / akhir </blockquote>  Dalam tweet sebelumnya, beberapa proyek berbeda disebutkan (Linkerd, NGINX, HAProxy, Utvoy dan Istio), tetapi, yang lebih penting, konsep umum pesawat data, layanan mesh dan pesawat kontrol diperkenalkan.  Dalam posting ini, saya akan mengambil langkah mundur dan memberi tahu apa yang saya maksud dengan istilah "data plane" dan "control plane" pada tingkat yang sangat tinggi, dan kemudian saya akan memberi tahu bagaimana istilah itu terkait dengan proyek yang disebutkan dalam tweet. <br><br><h1>  Apa yang dimaksud dengan service mesh? </h1><br><img src="https://habrastorage.org/webt/3q/gw/dd/3qgwdd_ljaphirr4nlb9bdcghmc.png"><br>  <b>Gambar 1: Ikhtisar jala layanan</b> <br><br>  <b>Gambar 1</b> mengilustrasikan konsep service mesh pada level paling dasar.  Ada empat kelompok layanan (AD).  Setiap instance layanan dikaitkan dengan server proxy lokal.  Semua lalu lintas jaringan (HTTP, REST, gRPC, Redis, dll.) Dari satu instance aplikasi ditransmisikan melalui server proxy lokal ke kelompok layanan eksternal yang sesuai.  Dengan demikian, contoh aplikasi tidak tahu tentang jaringan secara keseluruhan dan hanya tahu tentang proksi lokalnya.  Bahkan, jaringan sistem terdistribusi jauh dari layanan. <br><br><h1>  Pesawat data </h1><br>  Dalam layanan mesh, server proxy yang terletak secara lokal untuk aplikasi melakukan tugas-tugas berikut: <br><br><ul><li>  <b>Penemuan layanan</b>  Layanan / layanan / aplikasi apa yang tersedia untuk aplikasi Anda? </li><li>  <b>Pemeriksaan kesehatan</b>  Apakah instance layanan dikembalikan oleh penemuan layanan operasional dan siap untuk menerima lalu lintas jaringan?  Ini dapat mencakup pemeriksaan kesehatan aktif (mis., Memeriksa / cek kesehatan) atau pasif (mis., Menggunakan 3 kesalahan 5xx berturut-turut sebagai indikasi status layanan yang tidak sehat). </li><li>  <b>Routing</b>  Setelah menerima permintaan untuk "/ foo" dari layanan REST, ke gugus layanan mana seharusnya permintaan dikirim? </li><li>  <b>Load balancing</b>  Setelah sebuah kluster layanan telah dipilih selama perutean, ke instance layanan mana seharusnya permintaan dikirim?  Batas waktu apa?  Pengaturan apa untuk memutuskan sirkuit?  Jika permintaan gagal, haruskah itu diulang? </li><li>  <b>Otentikasi dan otorisasi</b>  Untuk permintaan yang masuk, bisakah layanan panggilan dikenali / disahkan secara kriptografis menggunakan mTLS atau mekanisme lain?  Jika teridentifikasi / diotorisasi, apakah diizinkan untuk memanggil operasi yang diminta (titik akhir) dalam layanan atau haruskah respons yang tidak diautentikasi dikembalikan? </li><li>  <b>Observabilitas</b>  Untuk setiap permintaan, statistik terperinci, log / log, dan data jejak terdistribusi harus dihasilkan sehingga operator dapat memahami arus lalu lintas terdistribusi dan masalah debugging saat mereka muncul. </li></ul><br>  Untuk semua poin sebelumnya dalam jaringan layanan (service mesh), bidang data bertanggung jawab.  Bahkan, proksi lokal ke layanan (sespan) adalah bidang data.  Dengan kata lain, pesawat data bertanggung jawab atas penyiaran bersyarat, penerusan dan pemantauan setiap paket jaringan yang dikirim ke atau dikirim dari layanan. <br><br><h1>  Pesawat kontrol </h1><br>  Abstraksi jaringan yang disediakan oleh proxy lokal di data plane ajaib (?).  Namun, bagaimana proksi benar-benar tahu tentang rute "/ foo" ke layanan B?  Bagaimana layanan data penemuan yang diisi dengan permintaan proxy dapat digunakan?  Bagaimana pengaturan penyeimbangan beban, batas waktu, pemutusan sirkuit, dll.?  Bagaimana cara menyebarkan aplikasi menggunakan metode biru / hijau (biru / hijau) atau metode transfer lalu lintas bertahap?  Siapa yang mengatur pengaturan otentikasi dan otorisasi seluruh sistem? <br><br>  Semua item di atas dikelola oleh bidang kontrol jala servis.  <i>Pesawat kontrol menerima satu set server proxy terisolasi stateless dan mengubahnya menjadi sistem terdistribusi</i> . <br><br>  Saya pikir alasan banyak teknolog menemukan konsep yang terpisah dari bidang data dan bidang kontrol menjadi bingung adalah karena bagi kebanyakan orang bidang data sudah dikenal, sedangkan bidang kontrol adalah asing / tidak dapat dipahami.  Kami telah bekerja dengan router dan switch jaringan fisik untuk waktu yang lama.  Kami memahami bahwa paket / permintaan harus beralih dari titik A ke titik B, dan bahwa kami dapat menggunakan perangkat keras dan perangkat lunak untuk ini.  Proksi perangkat lunak generasi baru hanyalah versi trendi dari alat yang telah kami gunakan sejak lama. <br><br><img src="https://habrastorage.org/webt/ty/xa/re/tyxareqql4_ndfv1unsjrh0fx78.png"><br>  <b>Gambar 2: Pesawat kendali manusia</b> <br><br>  Namun, kami telah lama menggunakan bidang kontrol, meskipun sebagian besar operator jaringan mungkin tidak mengaitkan bagian sistem ini dengan komponen teknologi apa pun.  Alasannya sederhana: <br>  <b>Sebagian besar pesawat kontrol yang digunakan saat ini adalah ... kita</b> . <br><br>  <b>Gambar 2</b> menunjukkan apa yang saya sebut "Pesawat kendali manusia."  Dalam jenis penyebaran ini, yang masih sangat umum, operator manusia, mungkin galak, membuat konfigurasi statis - berpotensi menggunakan skrip - dan menyebarkannya menggunakan semacam proses khusus pada semua proxy.  Kemudian proksi mulai menggunakan konfigurasi ini dan mulai memproses data pesawat menggunakan pengaturan yang diperbarui. <br><br><img src="https://habrastorage.org/webt/nm/tj/dt/nmtjdtcwt4e22o_ow0gjns7sv9c.png"><br>  <b>Gambar 3: Bidang kontrol mesh layanan lanjutan</b> <br><br>  <b>Gambar 3</b> menunjukkan bidang kontrol "extended" dari mesh layanan.  Ini terdiri dari bagian-bagian berikut: <br><br><ul><li>  <b>Manusia</b> : Masih ada seseorang (semoga tidak terlalu marah) yang membuat keputusan tingkat tinggi mengenai keseluruhan sistem. </li><li>  <b>UI bidang kontrol</b> : Seseorang berinteraksi dengan beberapa jenis antarmuka pengguna untuk mengontrol sistem.  Ini bisa berupa portal web, aplikasi baris perintah (CLI), atau antarmuka lain.  Menggunakan antarmuka pengguna, operator memiliki akses ke parameter konfigurasi sistem global seperti: <br><ul><li>  Manajemen penempatan, biru / hijau dan / atau dengan transfer lalu lintas bertahap </li><li>  Pengaturan Otentikasi dan Otorisasi </li><li>  Spesifikasi tabel perutean, misalnya, ketika aplikasi A meminta informasi tentang "/ foo", apa yang terjadi </li><li>  Memuat pengaturan penyeimbang, seperti batas waktu, coba lagi, parameter pemutus sirkuit, dll. </li></ul></li><li>  <b>Penjadwal beban kerja</b> : Layanan diluncurkan dalam infrastruktur melalui jenis perencanaan / sistem orkestrasi tertentu, seperti Kubernetes atau Nomad.  Penjadwal bertanggung jawab untuk memuat layanan bersama dengan server proxy lokalnya. </li><li>  <b>Penemuan layanan</b>  Ketika penjadwal memulai dan menghentikan instance layanan, ia melaporkan status kesehatan ke sistem penemuan layanan. </li><li>  <b>API konfigurasi proxy sespan</b> : Proksi lokal secara dinamis mengekstrak status dari berbagai komponen sistem sesuai dengan model "akhirnya konsisten" tanpa intervensi operator.  Seluruh sistem, yang terdiri dari semua instance layanan yang sedang berjalan dan server proxy lokal, pada akhirnya menyatu menjadi satu ekosistem.  API bidang data Utusan adalah salah satu contoh cara kerjanya dalam praktik. </li></ul><br>  Pada dasarnya, tujuan dari bidang kontrol adalah untuk menetapkan kebijakan yang pada akhirnya akan diadopsi oleh bidang data.  Pesawat kontrol yang lebih maju akan menghapus lebih banyak bagian dari beberapa sistem dari operator dan memerlukan lebih sedikit kontrol manual, asalkan bekerja dengan benar! .. <br><br><h1>  Bidang data dan bidang kontrol.  Data plane vs ringkasan plane control </h1><br><ul><li>  <b>Bidang data layanan mesh</b> : memengaruhi setiap paket / permintaan dalam sistem.  Bertanggung jawab untuk penemuan aplikasi / layanan, pemeriksaan kesehatan, perutean, penyeimbangan muatan, otentikasi / otorisasi, dan kemampuan observasi. </li><li>  <b>Bidang kendali jala layanan</b> : memberikan kebijakan dan konfigurasi untuk semua pesawat data yang bekerja dalam jaringan layanan.  Tidak menyentuh paket / permintaan apa pun dalam sistem.  Pesawat kontrol mengubah semua pesawat data menjadi sistem terdistribusi. </li></ul><br><h1>  Lansekap proyek saat ini </h1><br>  Setelah menemukan penjelasan di atas, mari kita lihat status proyek "service mesh" saat ini. <br><br><ul><li>  <b>Pesawat data</b> : Linkerd, NGINX, HAProxy, Utusan, Traefik </li><li>  <b>Pesawat kontrol</b> : Istio, Nelson, SmartStack </li></ul><br>  Alih-alih melakukan analisis mendalam dari masing-masing solusi di atas, saya akan membahas secara singkat beberapa poin yang, menurut pendapat saya, menyebabkan sebagian besar kebingungan dalam ekosistem saat ini. <br><br>  Pada awal 2016, Linkerd adalah salah satu server proxy pertama untuk pesawat data untuk layanan mesh dan melakukan pekerjaan yang fantastis untuk meningkatkan kesadaran dan meningkatkan perhatian pada model desain layanan mesh.  Sekitar 6 bulan setelah ini, Utusan bergabung dengan Linkerd (meskipun ia telah bersama Lyft sejak akhir 2015).  Linkerd dan Utusan adalah dua proyek yang paling sering disebutkan ketika membahas jaringan layanan. <br><br>  Istio diumumkan pada Mei 2017.  Tujuan proyek Istio sangat mirip dengan bidang kontrol yang diperluas yang ditunjukkan pada <b>Gambar 3</b> .  Utusan untuk Istio adalah server proxy standar.  Dengan demikian, Istio adalah bidang kontrol, dan Utusan adalah bidang data.  Dalam waktu singkat, Istio menyebabkan banyak kerusuhan, dan pesawat data lainnya mulai berintegrasi sebagai pengganti Utusan (baik Linkerd dan NGINX menunjukkan integrasi dengan Istio).  Fakta bahwa Anda dapat menggunakan bidang data yang berbeda dalam bidang kontrol yang sama berarti bahwa bidang kontrol dan bidang data tidak selalu terkait erat.  API seperti API pesawat data universal Utusan dapat membentuk jembatan antara dua bagian sistem. <br><br>  Nelson dan SmartStack membantu menggambarkan lebih lanjut pemisahan bidang kontrol dan bidang data.  Nelson menggunakan Utusan sebagai proxy dan membangun bidang kontrol yang andal dari service mesh berdasarkan tumpukan HashiCorp, yaitu.  Perantau dll  SmartStack mungkin adalah yang pertama dari gelombang baru jaringan layanan.  SmartStack membentuk bidang kendali di sekitar HAProxy atau NGINX, menunjukkan kemampuan untuk memisahkan bidang kendali dari jala servis dan bidang data. <br><br>  Arsitektur microservice dengan mesh layanan menarik lebih banyak perhatian (kanan!), Dan semakin banyak proyek dan vendor mulai bekerja ke arah ini.  Selama beberapa tahun ke depan, kita akan melihat banyak inovasi di bidang data dan bidang kontrol, serta pencampuran lebih lanjut dari berbagai komponen.  Pada akhirnya, arsitektur layanan mikro harus menjadi lebih transparan dan magis (?) Untuk operator. <br>  Harapan semakin tidak terganggu. <br><br><h1>  Poin-poin penting (Key takeaways) </h1><br><ul><li>  Jaring servis (service mesh) terdiri dari dua bagian yang berbeda: bidang data dan bidang kontrol.  Kedua komponen diperlukan, dan tanpa mereka sistem tidak akan berfungsi. </li><li>  Semua orang akrab dengan bidang kendali, dan saat ini Anda bisa menjadi bidang kendali! </li><li>  Semua pesawat data bersaing satu sama lain dalam fungsi, kinerja, konfigurasi, dan ekstensibilitas. </li><li>  Semua pesawat kontrol bersaing dalam fungsi, konfigurasi, ekstensibilitas, dan kegunaan. </li><li>  Satu bidang kontrol tunggal dapat berisi abstraksi dan API yang benar sehingga beberapa bidang data dapat digunakan. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id462699/">https://habr.com/ru/post/id462699/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id462689/index.html">DISKOBALL: Kompetisi melempar HDD, 23 Agustus, Moskow</a></li>
<li><a href="../id462691/index.html">Cara bermigrasi dari AD ke LDAP saat menggunakan Zimbra</a></li>
<li><a href="../id462693/index.html">Dalam perjalanan ke aplikasi tahan lama dengan generator situs statis PSKOV sebagai contoh</a></li>
<li><a href="../id462695/index.html">Materi sebagai WebComponents</a></li>
<li><a href="../id462697/index.html">uWSGI untuk membantu metrik. Laporan Yandex</a></li>
<li><a href="../id462701/index.html">Perpustakaan generator kode assembler untuk mikrokontroler AVR. Bagian 2</a></li>
<li><a href="../id462703/index.html">Pintu putar "termurah" di Rusia dikendalikan dari smartphone</a></li>
<li><a href="../id462705/index.html">5 bug teratas dalam aplikasi ReactJS saya</a></li>
<li><a href="../id462707/index.html">Kubernetes Meluncurkan Alat Pengembang Aplikasi</a></li>
<li><a href="../id462709/index.html">Pengujian mutasi dalam PHP: pengukuran kualitatif untuk cakupan kode</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>