<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘µ ğŸ‘¨ğŸ» ğŸ Myapp memperpanjang liburan ğŸ¤µğŸ¾ ğŸ‘µğŸ½ ğŸ˜ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya yakin bahwa akan ada orang-orang di antara hadirin yang dihormati yang akan mengerti saya. Faktanya adalah bahwa di semua banyaknya perpustakaan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Myapp memperpanjang liburan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485688/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/a1/gq/coa1gqqaalmvaklsbnzj_d69vc0.png"></div><br>  Saya yakin bahwa akan ada orang-orang di antara hadirin yang dihormati yang akan mengerti saya.  Faktanya adalah bahwa di semua banyaknya perpustakaan dan kerangka kerja populer untuk web frontend, saya pribadi <b>tidak menyukai</b> hampir <b>semua</b> alternatif.  Dalam setiap opsi yang saya temukan sendiri kerugian yang signifikan yang mencegah saya menggunakannya dengan tenang.  Semuanya selalu dimulai dengan cara yang indah: konsep yang menarik, suara, pada pandangan pertama, alasan dalam poin "untuk" ... Tapi kemudian, semuanya, lagi dan lagi, mulai mengalami ketergantungan yang berlebihan, entitas yang berlebihan dan upaya untuk menyelesaikan masalah yang dibuat oleh pengembang sendiri.  Kami ditawari untuk mempelajari sintaks baru, menerima ide-ide baru, mempelajari banyak kata kunci, menginstal banyak paket "yang diperlukan".  Oke, saya suka semua yang baru, dan saya suka kata-kata pintar.  Tetapi saya sangat berkecil hati ketika apa yang bisa dilakukan secara sederhana, orang-orang mulai mengalami keruwetan.  Anda mungkin sudah membaca pengakuan orang-orang yang, seperti saya, putus asa mencari akal sehat dalam semua ini dan memutuskan untuk pergi ke ekstrem yang lain - untuk menulis segala sesuatu "dalam vanila".  Ini terjadi pada saya ketika saya kecewa dengan proyek <a href="https://www.polymer-project.org/">Polymer</a> , dibuat dengan partisipasi aktif dari pengembang dari Google.  Pada awalnya saya sangat menyukai semuanya, moto gerakan ini adalah frase "Gunakan platform!", Yang berarti bagi saya: "Anda tidak boleh melakukan dalam kode apa browser itu sendiri akan melakukan lebih efisien".  Tim Polymer telah melakukan banyak hal untuk memperkenalkan standar dan kemampuan baru di tingkat platform, dan banyak <b>terima kasih kepada</b> mereka untuk itu.  Tetapi ketika tujuan ini <a href="https://caniuse.com/">tercapai</a> , mereka sendiri mulai melanggar prinsip mereka sendiri.  Dan sekarang perpustakaan baru mereka ( <a href="https://lit-element.polymer-project.org/">LitElement</a> ) sudah menolak untuk bekerja secara langsung di browser tanpa menginstal lingkungan khusus, karena mereka tidak mengikuti standar ... Saya terus mengamati pengembangan LitElement, dan bahkan melihat tanda-tanda yang jelas bahwa orang-orang yang tersesat ini kembali ke jalan yang benar, tetapi saya sendiri sudah Saya tidak akan menggunakannya, karena sekarang saya memiliki sesuatu yang lebih baik. <br><a name="habracut"></a><br><h3>  Apa? </h3><br>  <a href="https://github.com/foxeyes/holiday">Holiday.js</a> adalah perpustakaan untuk mereka yang membutuhkan semua yang mereka butuhkan dan tidak perlu tambahan apa pun.  Liburan - karena bekerja dengannya untuk saya adalah hari libur.  Dan juga karena saya menulisnya, terutama pada hari libur atau berlibur.  Namun demikian, ini adalah proyek yang sangat serius, dengan bantuan serangkaian aplikasi kompleks sedang dikembangkan untuk "perusahaan berdarah" yang sangat disukai orang-orang untuk menakuti para pemula membangun sepeda.  Saya juga menulis semua proyek pribadi saya di Holiday.js. <br><br>  Semuanya didasarkan pada <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">elemen</a> standar dan <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">Shadow DOM</a> standar grup, seperti yang Anda duga, dan jika Anda sudah terbiasa dengan mereka, akan sangat mudah bagi Anda untuk mengetahuinya. <br><br><div class="spoiler">  <b class="spoiler_title">Sedikit tentang diriku</b> <div class="spoiler_text">  Umur saya 40 tahun.  Saat ini, saya adalah pengembang web dan insinyur R&amp;D terkemuka di sebuah perusahaan Belanda yang berspesialisasi dalam solusi integrasi dari IBM.  Pelanggan kami adalah perusahaan besar: minyak, gas, tanker, kereta api - itu saja.  Inti dari pekerjaan saya adalah untuk memperluas kemampuan standar untuk sistem perusahaan besar dan lambat dan meningkatkan pengalaman pengguna ketika bekerja dengan mereka.  Di satu sisi, saya memiliki paman dalam ikatan, di sisi lain - angin segar kebebasan pengembangan web modern.  Ini adalah kombinasi yang menarik, memungkinkan Anda untuk melihat banyak hal dari sudut pandang baru.  Dan saya menyukainya.  Sebelumnya, saya mencoba peran sebagai startup, insinyur ux, art director dari studio desain kecil, dan banyak lainnya, sehingga "pengalaman" saya secara keseluruhan seperti selimut kain perca.  Tapi ini tidak berarti bahwa saya berhubungan dengan semuanya secara dangkal, saya hanya menemukan dalam banyak jenis kegiatan prinsip-prinsip teknik serupa yang menarik minat saya pertama-tama. <br></div></div><br><h3>  Apa gunanya </h3><br>  Jika saya sendiri membaca artikel serupa agar tidak kehilangan minat lebih lanjut, saya ingin melihat contoh kode komponen.  Ini dia: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">imageURL</span></span>: <span class="hljs-string"><span class="hljs-string">'images/photo.jpg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-attr"><span class="hljs-attr">secondName</span></span>: <span class="hljs-string"><span class="hljs-string">'Snow'</span></span>, }; } } MyComponent.template = <span class="hljs-comment"><span class="hljs-comment">/*html*/</span></span> <span class="hljs-string"><span class="hljs-string">` &lt;style&gt; :host { display: block; padding: 10px; background - color: #fff; color: #000; } &lt;/style&gt; &lt;img bind="src: imageURL" /&gt; &lt;div bind="textContent: firstName"&gt;&lt;/div&gt; &lt;div bind="textContent: secondName"&gt;&lt;/div&gt; `</span></span>; MyComponent.is = <span class="hljs-string"><span class="hljs-string">'my-component'</span></span>;</code> </pre> <br>  Di sini kita melihat bahwa komponen memiliki keadaan dan templat tertentu dengan atribut aneh dari elemen " <b>bind</b> ".  Atribut-atribut ini adalah keajaiban utama: mereka memungkinkan Anda untuk mem-parsing templat dan menyimpan salinan hasil dalam memori untuk digunakan lebih lanjut (kloning) TANPA pemrosesan tambahan dari string templat di runtime JS, yang memberikan kinerja tinggi selama rendering awal ketika setiap komponen dipakai.  Tidak seperti banyak perpustakaan modern di mana bagian DOM yang menjadi tanggung jawab komponen ditentukan oleh fungsi negara, di Holiday.js templat adalah produk setengah jadi yang mendefinisikan struktur awal dan memungkinkan untuk mengikat data nanti, menggunakan DOM API biasa, dan ini bekerja sangat cepat.  Kami akan kembali ke masalah kecepatan. <br><br>  Saya akan mencantumkan keuntungan lainnya: <br><br><ul><li>  Kedekatan maksimum dengan API asli, abstraksi tambahan minimum </li><li>  Sintaks templat asli: Anda tidak perlu mempelajari HTML dan CSS baru </li><li>  Untuk memulai, Anda tidak perlu menginstal tambahan apa pun, proyek Anda mungkin tidak memiliki folder node_modules sama sekali </li><li>  Kemudahan: Anda tidak akan memaksa pengguna untuk menunggu lama untuk mengunduh </li><li>  Kit ini termasuk manajemen keadaan global, perutean, perpustakaan UI: Anda tidak akan merasa di gurun </li></ul><br>  Dokumentasi proyek utama: <a href="https://holiday-js.web.app/">https://holiday-js.web.app/</a> <br><br><h3>  Siklus hidup </h3><br>  Mari kita lihat tahapan siklus hidup komponen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleExample</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//   : this.state = { name: '', bigName: '', }; /*   ,      DOM  "   ",       .    ,      "defineAccessor": */ this.defineAccessor('name', (name) =&gt; { // Some accessor code: this.setStateProperty('name', name); }); /*    ,      DOM               . */ } connectedCallback() { super.connectedCallback(); /*  .    DOM.               . */ } stateUpdated(path) { /*        : */ if (path === 'name') { this.setStateProperty('bigName', this.state.name.toUpperCase()); } } attributeChangedCallback(attributeName, oldValue, newValue) { /*  .      . */ super.attributeChangedCallback(attributeName, oldValue, newValue); } disconnectedCallback() { /*  .    DOM.              */ } } LifecycleExample.template = /*html*/ ` &lt;div bind="textContent: name"&gt;&lt;/div&gt; &lt;div bind="textContent: bigName"&gt;&lt;/div&gt; `; /*  HTML-,     : */ LifecycleExample.logicAttributes = [ //   ,         'name', ]; /*     CustomElements: */ LifecycleExample.is = 'lifecycle-example';</span></span></code> </pre><br><h3>  Pola </h3><br>  Karena templat di Holiday.js hanyalah <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">literal templat</a> standar, Anda memiliki kebebasan penuh dalam cara menempatkannya dalam proyek dan cara membentuk kontennya.  Anda dapat menempatkannya dalam modul terpisah, Anda dapat mendefinisikannya bersama-sama dengan kode komponen, atau Anda dapat membuatnya dengan cepat dari data.  Anda dapat menggunakan ekspresi dan hasil fungsi dalam template.  Semua ini memberi peluang besar dan kebebasan berekspresi.  Misalnya, Anda dapat mengimpor gaya umum ke templat, menggunakan variabel dan menghitung nilai dalam CSS tanpa menggunakan preprosesor dan dengan sangat mudah, merakit templat dari potongan yang sudah jadi. <br><br>  Bagian penting dari templat komponen web adalah <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots">slot</a> .  Slot memungkinkan Anda untuk menunjuk tempat-tempat khusus di "bayangan" DOM â€‹â€‹komponen Anda, di mana turunan langsungnya akan ditampilkan di pohon DOM umum.  Contoh: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Penempatan dalam slot: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>Header content<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Content of the default slot...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span>Footer content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Seperti yang sudah Anda tebak, ini memungkinkan Anda untuk membuat tata letak komponen, di mana modul yang diinginkan dapat dengan mudah diurutkan ke dalam sel. <br><br>  Seperti disebutkan di atas, untuk mengikat data dan penangan secara dinamis, atribut "bind" digunakan: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textContent: content; onclick: on.clicked"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Untuk mengikat nilai atribut, gunakan simbol "@" di awal nama properti: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style: style"</span></span></span><span class="hljs-tag">&gt;</span></span>Content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Anda dapat menemukan detail lebih lanjut di bagian yang sesuai dari dokumentasi: <a href="https://holiday-js.web.app/%3Ftemplates">https://holiday-js.web.app/?templates</a> <br><br><h3>  Manajemen negara </h3><br>  Di dalam komponen: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//        : this.state = { content: 'Initial Content', style: 'color: #f00', on: { clicked: () =&gt; { console.log('Clicked!'); }, }, }; //       "setStateProperty": window.setTimeout(() =&gt; { //   : this.setStateProperty('content', 'Updated Content'); //   : this.setStateProperty({ 'content': 'Updated Content', 'style': 'color: #00f', }); }, 1000); } }</span></span></code> </pre><br>  Untuk mengontrol keadaan di level seluruh aplikasi, modul HdState digunakan. <br>  Contoh penggunaan: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdState} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-state.js'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   : HdState.subscribe('ui.loading', (val) =&gt; { console.log(val); }); //   : HdState.publish('ui.loading', true); // : HdState.publish({ 'ui.loading': true, 'ui.sidePanelActive': true, });</span></span></code> </pre><br>  Untuk bekerja dengan negara global, pertama-tama Anda perlu menentukan skema umumnya: <br><br><pre> <code class="javascript hljs">HdState.applyScheme({ <span class="hljs-attr"><span class="hljs-attr">ui</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: { <span class="hljs-comment"><span class="hljs-comment">/*      ,       : */</span></span> type: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    : value: false, }, sidePanelActive: { type: Boolean, value: false, }, }, user: { authorized: { type: Boolean, value: false, }, name: { type: String, value: null, //          : cache: true, }, }, });</span></span></code> </pre><br>  Rangkaian juga dapat dengan mudah dibagi menjadi blok logis yang terpisah. <br><br>  Untuk menghindari kebocoran memori, langganan yang tidak relevan harus dibuang: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subscription = HdState.subscribe(<span class="hljs-string"><span class="hljs-string">'ui.loading'</span></span>, (val) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(val); }); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Unsubscribe: subscription.remove(); }, 10000);</span></span></code> </pre><br>  Dokumentasi negara: <a href="https://holiday-js.web.app/%3Fstate">https://holiday-js.web.app/?state</a> <br><br><h3>  Alat pengembangan </h3><br>  Set terkecil untuk memulai adalah editor teks dan browser.  Ya, itu sudah cukup untuk mencoba.  Perlu dicatat bahwa dalam konfigurasi ini, browser harus persis Firefox.  Itu dapat memuat modul ES <b>tanpa</b> menggunakan server lokal. <br><br>  Untuk pekerjaan yang lebih lengkap, Anda perlu git dan server web apa pun yang Anda sukai (untuk bekerja dengan modul-ES di browser lain). <br><br>  Untuk menyoroti sintaks HTML dan pelengkapan otomatis dalam literal templat, saya menggunakan ekstensi untuk Kode VS, yang awalnya dirancang untuk bekerja dengan html-lit: <a href="https://github.com/pushqrdx/vscode-inline-html">https://github.com/pushqrdx/vscode-inline-html</a> <br><br>  Untuk membuat kode sebelum diterbitkan, Anda dapat menggunakan <a href="https://webpack.js.org/">kompiler</a> populer apa saja, seperti <a href="https://webpack.js.org/">webpack</a> atau <a href="https://rollupjs.org/guide/en/">rollup</a> . <br><br><h3>  Performa </h3><br>  Tolok ukur untuk kerangka kerja tidak mudah untuk ditulis.  Untuk perbandingan yang representatif, Anda harus memastikan bahwa Anda membandingkan hal-hal yang sebanding dan, sejauh mungkin, meminimalkan efek efek samping.  Jadi, mereka harus memiliki gagasan yang jelas tentang apa yang terjadi "di bawah tenda" dalam setiap kasus.  Pertama, Anda perlu memutuskan parameter mana yang akan kami ukur.  Untuk kasus kami, penting bagi kami: <br><br><ol><li>  Saatnya memulai eksekusi program utama (unduh) </li><li>  Waktu rendering awal komponen </li><li>  Saatnya memperbarui komponen-komponen ini dan menggambarnya kembali </li></ol><br>  Sayangnya, kami tidak memiliki cara yang andal untuk mencari tahu saat ketika browser menjalankan program dan sepenuhnya selesai merender.  Pada tingkat browser, ada banyak optimasi kami sendiri, yang bagi kami adalah sesuatu seperti "kotak hitam" dan mungkin berbeda di mesin yang berbeda.  Apa yang bisa kita gunakan: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance">API Kinerja</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a> , dan metode <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback">requestIdleCallback</a> non-standar, yang hanya berfungsi di Chrome dan Firefox.  Cukup untuk pertama kalinya. <br><br>  Dengan apa kita akan membandingkan Holiday.js?  Saya mulai dengan dua perpustakaan: Bereaksi (di mana tanpanya) dan LitElement (teknologi serupa pada intinya).  Anda dapat menemukan kode tolok ukur dalam repositori berikut: <br><br>  <a href="https://github.com/foxeyes/holiday-benchmark">https://github.com/foxeyes/holiday-benchmark</a> <br>  <a href="https://github.com/foxeyes/lit-benchmark">https://github.com/foxeyes/lit-benchmark</a> <br>  <a href="https://github.com/foxeyes/react-benchmark">https://github.com/foxeyes/react-benchmark</a> <br><br>  Sayangnya, saya belum menyelesaikan pengujian otomatisasi sejauh ini, dan ini juga tidak mudah, karena otomatisasi seharusnya tidak menciptakan efek samping dengan sendirinya.  Saat ini, saya terus bekerja pada masalah ini dan saya sedang mempersiapkan alat yang tepat menggunakan <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> (hal yang sangat berguna, saya sarankan).  Sementara itu, Anda dapat mencoba tes dalam mode manual (Chrome / Firefox) dan memeriksa hasilnya di konsol browser.  Anda akan melihat bahwa Holiday.js adalah <b>pemimpin yang percaya diri dalam semua kasus</b> . <br><br>  Anda mungkin memperhatikan bahwa dalam kasus React, wadah div tambahan dibuat ketika komponen ditampilkan, yang berfungsi untuk meratakan jumlah elemen DOM yang dibuat.  Saya memutuskan bahwa ini akan benar, karena komponen web selalu merupakan elemen DOM dan wadah, dan korespondensi struktur pohon DOM dalam pengujian yang berbeda sangat penting.  Selain itu, dimungkinkan untuk menyingkirkan sarang yang tidak perlu di Holiday.js dan menampilkan data dengan cara yang sama seperti di React.  Namun, jika masalah ini tampaknya dapat diperdebatkan bagi Anda, perhatikan terlebih dahulu kecepatan pembaruan. <br><br><h3>  Dukungan browser </h3><br>  Tidak, Internet Explorer tidak didukung.  Ini bisa dicapai dengan upaya tertentu (untuk versi ke-11), tetapi penolakan terhadap dukungan adalah posisi yang berprinsip.  Pertama, saya percaya bahwa IE harus mati untuk waktu yang lama, dan dalam kekuatan kita untuk berkontribusi dalam hal ini.  Kedua, orang yang menganjurkan dukungan untuk IE sering membuat kesalahan logis yang serius: pangsa IE dalam lalu lintas total, menurut data caniuse saat ini, adalah ~ 1,6% untuk <b>semua</b> versi yang ditemukan.  Dan browser yang paling populer, yang berada di depan sisanya dengan margin lebar, adalah <b>mobile</b> Chrome (~ 35%).  Jadi, mendukung IE, Anda secara sadar menolak untuk menggunakan sejumlah besar teknologi yang hanya diperlukan untuk mengimplementasikan kemampuan beradaptasi penuh dan mobilitas dalam aplikasi Anda, yaitu, demi minoritas kecil, mempersulit kehidupan sebagian besar penggunanya.  Atau <b>secara signifikan</b> meningkatkan biaya pengembangan dan pemeliharaan produk Anda.  Ketiga, Microsoft, dalam beberapa waktu terakhir, telah secara aktif memaksa pengguna untuk meninggalkan Windows 7, sehingga proporsi lalu lintas IE dalam waktu dekat akan berkurang lebih cepat.  Saya akui bahwa ada kasus-kasus ketika dukungan IE tidak dapat dilewati, tetapi kasus-kasus seperti itu jauh lebih jarang daripada yang kita pikirkan sebelumnya. <br><br>  15 Januari tahun ini, Microsoft merilis versi rilis <a href="https://www.microsoft.com/en-us/edge">Edge</a> baru, di mesin Chromium.  Mulai saat ini, kita dapat mengasumsikan bahwa Holiday.js didukung secara native di <b>semua</b> versi browser populer saat ini.  Untuk Edge yang lebih lama, <a href="https://github.com/webcomponents/polyfills/tree/master/packages/webcomponentsjs">polyfill</a> diperlukan.  Kemampuan untuk bekerja dengan polyfill diimplementasikan di Holiday.js, tetapi skrip itu sendiri perlu dihubungkan secara terpisah. <br><br><h3>  Minimalisme </h3><br>  Konsep Holiday.js didasarkan pada kesederhanaan dan minimalis.  Salah satu tahap penting dalam pekerjaan pada proyek ini bagi saya adalah <b>penghapusan fungsi</b> , yang saya buru-buru terapkan, tetapi kemudian menyadari bahwa saya dapat melakukannya tanpa itu.  Karena itu, jika Anda merasa ada sesuatu yang hilang, tanyakan pada diri sendiri, apakah ini benar-benar begitu?  Saya menjawabnya untuk diri saya sendiri seperti ini: jika ada hal lain yang sangat dibutuhkan, lebih baik membuat kelas tambahan secara terpisah, dengan warisan dari yang utama.  Sejauh ini pendekatan ini tidak mengecewakan saya.  Holiday.js, dalam kondisi saat ini, telah diuji dalam pertempuran dan telah menunjukkan dirinya sangat positif di tempat kerja. <br><br><h3>  Paket </h3><br>  Jika Anda membaca ke tempat ini, maka usaha saya sudah dihabiskan tidak sia-sia.  Bahkan jika Anda tidak ingin menggunakan Holiday.js, Anda setidaknya bisa mendapatkan sesuatu yang menarik untuk diri sendiri ketika bekerja dengan komponen web.  Saya akan sangat senang jika materi ini menandai awal pembangunan komunitas.  Saya akan sangat senang memiliki diskusi yang konstruktif, kritik, laporan bug, pullrequests dan, tentu saja, bintang di GitHub.  Tentu saja, saya tidak bisa menyentuh semua aspek, dan saya akan dengan senang hati menjawab pertanyaan Anda.  Harap perhatikan bahwa sampai sekarang, saya mengerjakan perpustakaan ini <b>sendirian</b> , dan melakukan semuanya sendiri, termasuk dokumentasi, tes, dan alat terkait, bersamaan dengan pekerjaan utama dan proyek kesayangan, sulit. <br><br>  Namun, dalam waktu dekat: <br><br><ul><li>  Lebih banyak perbandingan dengan perpustakaan dan kerangka kerja populer lainnya. </li><li>  Alat pengujian PingPong yang minimalis dan fleksibel berdasarkan Puppeteer </li><li>  Generator proyek dasar dengan contoh (Starter Kit) </li><li>  Pengembangan dokumentasi lebih lanjut </li></ul><br>  Saya menyilangkan jari saya, tekan "Terbitkan" ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id485688/">https://habr.com/ru/post/id485688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id485654/index.html">Sebuah ide yang diambil dari fisika membantu AI bekerja dalam dimensi yang lebih tinggi.</a></li>
<li><a href="../id485660/index.html">Perusahaan perlindungan DDoS sendiri meluncurkan serangan DDoS, diakui pendirinya</a></li>
<li><a href="../id485664/index.html">Membuat parameter dinamis dalam pekerjaan Jenkins, atau cara membuat tugas Anda lebih mudah digunakan</a></li>
<li><a href="../id485672/index.html">Redis Praktik Terbaik, Bagian 1</a></li>
<li><a href="../id485682/index.html">Manajemen waktu tidak akan membantu: penundaan adalah masalah mengatur emosi, bukan waktu</a></li>
<li><a href="../id485692/index.html">Saran spesialis TI kepada pelanggan, atau cara mengotomatisasi kekacauan</a></li>
<li><a href="../id485694/index.html">Embox pada prosesor Elbrus. Atau jangan pernah melupakan kecerdasan Anda</a></li>
<li><a href="../id485702/index.html">Pertemuan FunCorp iOS # 2</a></li>
<li><a href="../id485704/index.html">Seni pixel untuk pemula: memperbaiki kesalahan umum</a></li>
<li><a href="../id485706/index.html">Kami mengundang Anda ke pertemuan "Transformasi Digital dan Peran Baru dalam Ilmu Data"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>