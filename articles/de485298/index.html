<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👨‍👧 🍲 🦏 Das mysteriöse LyX-Programm. Teil 4 👨🏿 ⚙️ 🤳🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kopiert aus meinem Blog , um eine weitere russischsprachige Informationsquelle zu diesem Thema zu erstellen. 

 Dieser Artikel ist eine Fortsetzung de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Das mysteriöse LyX-Programm. Teil 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485298/">  Kopiert aus <a href="https://matematikaandinformatika.blogspot.com/p/blog-page_83.html" rel="nofollow">meinem Blog</a> , um eine weitere russischsprachige Informationsquelle zu diesem Thema zu erstellen. <br><br>  Dieser Artikel ist eine Fortsetzung der folgenden Artikel in einem einzigen Zyklus: <br><br>  <a href="https://habr.com/ru/post/466423/">Artikel 1</a> <br>  <a href="https://habr.com/ru/post/482550/">Artikel 2</a> <br>  <a href="https://habr.com/ru/post/484282/">Artikel 3</a> <br><br><h3>  LyX: \\. \ Pipe \ lyxpipe </h3><br>  Im Allgemeinen wird diese Funktion benötigt, um die LyX-Interaktion mit anderen Programmen zu organisieren.  Insbesondere stellt sich heraus, dass Sie Befehle über die Befehlszeile in einem geöffneten LyX-Programmfenster eingeben können!  Dazu geben Sie zunächst unter <b>Extras&gt; Einstellungen&gt; Pfade</b> im Textfeld <i>LyX-Serverkanal</i> Folgendes ein: <br><br><pre><code class="plaintext hljs">\\.\pipe\lyxpipe</code> </pre> <br>  , und weder <code>.in</code> noch <code>.out</code> werden der Lyxpipe bis zum Ende zugeordnet.  Natürlich klicken Sie auf <code></code> .  Außerdem muss das LyX-Programmfenster, in das Befehle über das Eingabeaufforderungsfenster eingegeben werden mussten, vor dieser Befehlszeile gestartet werden, über die Befehle in dieses LyX-Programmfenster eingegeben werden, da sonst nichts funktioniert.  Hier sind Beispiele, wie Sie Befehle in die Befehlszeile schreiben, um dies zu erreichen: <br><br><pre> <code class="plaintext hljs">echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in echo LYXCMD:formula:math-mode:\alpha&gt; \\.\pipe\lyxpipe.in echo LYXCMD:vstgrafiki:inset-apply:graphics filename zdes kujut hip-hop.png&gt; \\.\pipe\lyxpipe.in</code> </pre> <br>  Meiner Meinung nach verdient das letzte Team Interesse.  Dieser Befehl fügt ein Foto <i>zdes kujut hip-hop.png</i> )) ein, das sich in dem Ordner <i>befindet, der unter Extras</i> <b>&gt; Einstellungen ...&gt; Pfade</b> im Textfeld <i>Benutzerverzeichnis</i> im LyX-Programmfenster geöffnet ist (bevor die Befehlszeile geöffnet wird). <a name="habracut"></a><br><br><h3>  LyX: Vorwärts- und Rückwärtssuche </h3><br>  Wie dies konfiguriert ist, wird <a href="https://tex.stackexchange.com/questions/473572/lyx-2-3-how-can-i-successfully-set-up-the-forward-and-inverse-search" rel="nofollow">hier</a> beschrieben.  Ich sage Ihnen nur, wie ich es auf Russisch gemacht habe.  Also  Wir verwenden eine unsortierbare Version von SumatraPDF.  Also haben wir es heruntergeladen, installiert.  Stellen Sie als Nächstes unter „Start&gt; Standardprogramme&gt; Dateitypen oder Protokolle einzelnen Programmen zuordnen“ sicher, dass <code>.pdf</code> Dateien mit SumatraPDF geöffnet werden.  Dann gehen wir zum Ordner <code>C:\Users\\AppData\Roaming\SumatraPDF</code> .  Kopieren Sie von dort aus die <i>SumatraPDF-settings.txt-</i> Datei an einen <i>beliebigen</i> Ort. <br><br>  Als nächstes musste der Pfad zu dem Ordner hinzugefügt werden, der die SumatraPDF-Datei enthält, die das Programm öffnet (ich habe diesen Ordner <code>C:\Program Files\SumatraPDF</code> ).  Aus irgendeinem Grund habe ich dies zu den <i>Benutzerumgebungsvariablen für IVAN</i> hinzugefügt.  Außerdem muss der Pfad zu dem Ordner, der die Datei enthält, die das LyX-Programm startet (für mich <code>C:\Program Files\LyX 2.0\bin</code> ), ebenfalls in PATH enthalten sein.  <code>C:\Program Files\SumatraPDF</code> Sie anschließend in den Ordner <code>C:\Program Files\SumatraPDF</code> , und öffnen Sie die Datei <i>SumatraPDF.exe</i> .  Klicken Sie im angezeigten Fenster des SumatraPDF-Programms mit der linken Maustaste auf die 3 horizontalen Balken in der oberen linken Ecke (oder möglicherweise in der Ecke)) und <b>wählen Sie Einstellungen&gt; Erweiterte Einstellungen</b> .  Gleichzeitig wird dieselbe <i>SumatraPDF-settings.txt-</i> Datei im <i>Editor</i> geöffnet, von der wir eine Kopie an einem abgelegenen Ort abgelegt haben. Jetzt können wir mit dieser Datei tun, was wir wollen.  Und wir werden das Folgende mit ihm machen.  Hier ist eine Liste einiger Variablen mit ihren Werten: <br><br><pre> <code class="plaintext hljs">ReuseInstance = true ReloadModifiedDocuments = true InverseSearchCmdLine = lyxeditor.cmd "%f" %l EnableTeXEnhancements = true UseTabs = true</code> </pre><br>  Also.  In der <i>SumatraPDF-settings.txt-</i> Datei prüfen wir das Vorhandensein dieser Variablen (Wörter links vom Gleichheitszeichen). Wenn sie vorhanden sind, prüfen wir die Übereinstimmung des Werts (Wörter rechts vom Gleichheitszeichen) der in dieser Datei gefundenen Variablen aus der obigen Liste mit den Werten von z gleiche Variablen aus dieser Liste.  Wenn in der obigen Liste der Wert einer Variablen vom Wert der entsprechenden Variablen in der Datei abweicht, muss der Wert dieser Variablen auf den gleichen Wert wie in der obigen Liste zurückgesetzt werden.  Wenn eine Variable aus der Liste zusammen mit ihrem Wert nicht in der Datei wäre, müssten wir nur die Variable zusammen mit ihrem Wert in die Datei kopieren.  Nun, persönlich habe ich an dieser Datei nichts geändert: Alle in der Liste aufgeführten Variablen waren bereits in der Datei vorhanden, und all diesen Variablen in der Datei wurden die entsprechenden in der Liste aufgeführten Werte direkt bei der Installation von SumatraPDF zugewiesen.  Schließen Sie, speichern Sie die Änderungen.  Das war's, SumatraPDF wird danach konfiguriert.  Wir fahren mit der Konfiguration von LyX fort.  Öffnen Sie das LyX-Programm, wenn es noch nicht geöffnet oder aus irgendeinem Grund geschlossen wurde.  Gehen Sie zu <b>Extras&gt; Einstellungen ...&gt; Pfade</b> .  <i>Geben Sie in das</i> Textfeld <i>des LyX-Serverkanals Folgendes</i> ein <br><br><pre> <code class="plaintext hljs">\\.\pipe\lyxpipe</code> </pre> <br>  Gehen Sie dann zu <b>Extras&gt; Einstellungen ...&gt; Dateiverarbeitung&gt; Konverter</b> .  <i>Wählen Sie dort</i> mit der linken Maustaste im Bereich unter dem Begriff <i>Definitionen der Konverter</i> <i>LaTeX (pdflatex) -&gt; PDF (pdflatex)</i> aus.  Als Nächstes löschen wir seinen Inhalt aus dem <i>Konverter-</i> Textfeld und fügen Folgendes ein (oder geben es von Hand ein): <br><br><pre> <code class="plaintext hljs">pdflatex -interaction=nonstopmode -synctex=1 $$i</code> </pre> <br>  Löschen Sie außerdem den Inhalt aus dem Textfeld.  Klicken Sie auf die Schaltfläche <i>Ändern</i> .  Dann <i>speichere</i> .  Gehen Sie zurück zu <b>Extras&gt; Einstellungen ...&gt; Dateiverarbeitung&gt; Konverter</b> .  Überprüfen Sie, ob die Einstellungen gespeichert sind.  Wenn ich jetzt dorthin gehe und in beide Richtungen <i>suche</i> , gebe ich nach dem Klicken mit der linken Maustaste <i>LaTeX (pdflatex) -&gt; PDF (pdflatex) Folgendes ein</i> : <br><br><img src="https://habrastorage.org/webt/z-/kp/cj/z-kpcjome5wv5rlqqxawtywxizm.jpeg"><br><br>  Gehen Sie dann zu <b>Extras&gt; Einstellungen ..&gt; Ausgabe&gt; Allgemein</b> .  Geben Sie dort im Textfeld <i>PDF-Befehl</i> den folgenden Befehl ein: <br><br><pre> <code class="plaintext hljs">SumatraPDF -forward-search "$$t" $$n "$$o"</code> </pre> <br>  Klicken Sie auf <i>Übernehmen</i> .  So wird dieser Ort so aussehen: <br><br><img src="https://habrastorage.org/webt/ie/_o/fa/ie_ofa-dota4jjaf13n49wzftye.jpeg"><br><br>  Gehen Sie zu <b>Extras&gt; Einstellungen ..&gt; Dateihandhabung&gt; Dateiformate</b> .  Dort legen wir die Dropdown-Liste <i>Format</i> fest, indem wir den <i>PDF-</i> Wert <i>(pdflatex)</i> mit der linken Maustaste und den <i>benutzerdefinierten</i> Wert in der Dropdown-Liste <i>Viewer</i> auswählen und in das Textfeld rechts von dieser Liste eingeben <br><br><pre> <code class="plaintext hljs">SumatraPDF</code> </pre> <br>  Derzeit gibt es: <br><br><img src="https://habrastorage.org/webt/km/lu/ci/kmlucijdrj323mb-hazjfv02cnm.jpeg"><br><br>  Und schließlich erstellen Sie im <code>C:\Program Files\LyX 2.0\bin</code> eine Datei mit dem Namen <i>lyxeditor</i> und der Erweiterung <code>.cmd</code> (es stellt sich heraus, dass dies dieselbe Batchdatei ist) mit folgendem Inhalt: <br><br><pre> <code class="plaintext hljs"> @echo off SETLOCAL enabledelayedexpansion set file=%1 set row=%2 REM remove quotes from variables set file=!file:"=! set row=!row:"=! %comspec% /q /c (@echo LYXCMD:revdvi:server-goto-file-row:%file% %row%)&gt; \\.\pipe\lyxpipe.in&amp;&amp;type \\.\pipe\lyxpipe.out endlocal</code> </pre><br>  Ich habe den Code für diese Batch-Datei <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">von hier genommen,</a> als ich auf den Link auf der englischen Seite geklickt habe, dessen Inhalt ich hier nacherzähle (der Link zu dieser Seite wurde von mir hier nur oben angegeben).  Ehrlich gesagt, über das Erstellen einer Batch-Datei auf einer Seite in Englisch wurde schon viel früher gesagt, als dies für mich getan wurde, aber was ist der Unterschied?  Übrigens hat mich der Code dieser Batch-Datei dazu veranlasst, über die Eingabe von Befehlen in der Befehlszeile nachzudenken, damit diese von dieser Zeile aus in das geöffnete LyX-Programmfenster eingegeben werden, das als Grundlage für das Schreiben des <i>LyX-</i> Absatzes diente <i>: \\. \ Pipe \ lyxpipe</i> dieses Artikels.  Davor habe ich versucht, Befehle von der Befehlszeile in das LyX-Programmfenster einzufügen, wobei ich diese Befehle aus dem Handbuch übernommen habe. Ich habe beispielsweise versucht, den folgenden Befehl von der Befehlszeile aus auszuführen: <br><br><pre> <code class="plaintext hljs">echo "LYXCMD:test:get-xy:" &gt;~/.lyxpipe.in</code> </pre> <br>  aber für mich hat nichts geklappt.  Nun, und jetzt kehren wir zu der Suche im Zusammenhang mit LyX zurück.  Wie benutzt man es?  Aber sehr einfach.  Wenn wir nun eine Vorschau der geöffneten <code>.lyx</code> Datei erstellt haben, werden, wenn Sie im entsprechenden SumatraPDF-Fenster kurz auf <b>Navigation&gt; Vorwärtssuche</b> klicken, mehrere Zeilen, die dasselbe Wort enthalten, (zumindest für mich) neben dem entsprechenden Wort im LyX-Fenster in lila hervorgehoben momentan blinkender Cursor.  Wenn Sie in das SumatraPDF-Fenster doppelklicken, wird der Fokus auf das LyX-Fenster übertragen und der Cursor beginnt dort zu blinken. Wenn Sie an verschiedenen Stellen des SumatraPDF-Fensters klicken, beginnt der Cursor an verschiedenen Stellen des LyX-Fensters zu blinken.  Ich kann nichts spezifischeres über die Beziehung der Cursorposition in LyX zu den in SumatraPDF hervorgehobenen Zeilen sowie die Beziehung der Doppelklickposition in SumatraPDF zu der Stelle im LyX-Fenster sagen, an der der Cursor zu blinken beginnt.  Die Aufgabe ist also ziemlich kompliziert. Lassen Sie mich Ihnen eine Übersetzung dieser Seite geben, deren Inhalt ich hier nacherzähle und die mit dem Google-Browser erstellt wurde: Ich habe plötzlich etwas übersehen.  Also <br><br><hr><br>  Aus MyNotes <br>  Aktualisiert auf die neueste Version 2.3.32019 <br>  MiKTeX-Benutzer sollten vor der Installation von LyX 2.3.3+ für Windows ein Upgrade auf die neueste Version durchführen.  Wenn Sie eine permanente Installation von <i>SumatraPDF haben</i> , müssen Sie <i>-inverse-search</i> nur <i>EINMAL</i> installieren, genau wie bei der Verwendung von Registerkarten. Wir müssen keine Zeit damit verbringen, zu entscheiden, welche Sitzung <i>angesprochen werden soll</i> .  Beachten Sie, dass SumatraPDF mehrere Fenster und Sitzungen haben kann, dies geht jedoch über den Rahmen dieser Antwort hinaus.  InverseSearchCmdLine = dauerhaft in SumatraPDF-settings.txt gespeichert.  Es sollte nicht vom Editor angepasst werden, es sei denn, Sie müssen SumatraPDF-settings.txt neu installieren oder auf andere Weise ersetzen (Backup erstellen!) <br><br><h4>  Einstellungen in SumatraPDF </h4><br>  Der bemerkenswerte Unterschied besteht darin, dass wir zur stabileren <i>Okular-</i> Cmd-Datei zurückkehren ( <i>Okular</i> verwendet genau dasselbe Aufrufsystem wie <i>SumatraPDF</i> ), wodurch unnötige Aufrufe vermieden werden.  <i>SumatraPDF</i> muss so installiert sein, dass es von jedem Systemaufruf wie <i>SumatraPDF</i> aus funktioniert. <i>Dies</i> bedeutet, dass es "on the way" sein muss (wenn die portable Version verwendet wird, muss <i>SumatraPDF.exe</i> vorübergehend bis zum ersten Lyx-Aufruf zum Pfad des Benutzers hinzugefügt werden). Starten Sie <i>SumatraPDF</i> und gehen Sie zu <b>Einstellungen&gt; Erweiterte Optionen</b> .  Dadurch wird die Datei <i>SumatraPDF-settings.txt</i> in <i>NotePad geöffnet</i> . Nachdem Sie die Einträge überprüft haben, können Sie Folgendes überprüfen oder ändern. <br><br><pre> <code class="plaintext hljs">ReuseInstance = true ReloadModifiedDocuments = true InverseSearchCmdLine = lyxeditor.cmd "%f" %l EnableTeXEnhancements = true UseTabs = true</code> </pre> <br>  Denken Sie daran, dass <code>%l</code> ein Kleinbuchstabe L ist, und drücken Sie <i>STRG</i> + <i>S</i> (Datei speichern).  Wenn Sie <code>c: ... LyX \ bin \</code> zu dieser <i>InverseSearchCmdLine hinzufügen müssen</i> , haben Sie LyX falsch installiert.  Die <code>.cmd</code> Datei befindet sich im Ordner bin, der sich im Systempfad befinden MUSS. <br><br><h4>  Einstellungen in LyX </h4><br>  Folgen Sie den <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">SyncTex-</a> Anweisungen auf <a href="https://wiki.lyx.org/LyX/SyncTeX" rel="nofollow">wiki.lyx.org/LyX/SyncTex</a> . <br><br>  "(Hinweis: Die umgekehrte Suche nach .lyx-Dateien mit Leerzeichen oder anderen Sonderzeichen im Dateinamen funktioniert auf einigen Windows-Systemen nicht immer mit dieser Methode.)" <br><br>  Meine Notizen: Aufgrund dieser einzigartigen Methode zum Aufrufen des von LyX unter Windows verwendeten Kanals [1] ist es manchmal erforderlich, dass die Arbeitsdatei und ihr Pfad KEIN LEERZEICHEN ENTHALTEN. Wenn dies nicht funktioniert, müssen Sie Probleme mit der LyX-Unterstützung melden .  Wenn Sie eine aktive <i>LyXserver-</i> Sitzung mit dem Remote-Pfad in Anführungszeichen einfacher aufrufen können, geben Sie unten einen Kommentar ein.  Das Problem ist, dass <i>LyXserver</i> zwei aufeinander folgende Werte erwartet: <br><br>  1) <i>SyncTeX</i> hat den Dateinamen <code>.tex</code> 2) gefolgt von einer Zeilennummer. Wenn der Dateiname Leerzeichen enthält, ist der erste Teil möglicherweise ungültig, da der Dateiname und der zweite Teil eindeutig keine Zahl ist. Dies funktioniert möglicherweise, wenn die Dateinamen analysiert werden Wie das ältere 8.3-Format, aber die meisten modernen Windows-Dateien verwenden das LFN-Format.  Die <i>lyxeditor.cmd-</i> Datei versucht, diese Probleme <i>umzugehen</i> .  Auffällige Unterschiede zu anderen Ansätzen <i>Fügen</i> Sie keine unnötigen und veralteten Optionen / Direktiven für die <i>Wiederverwendung von Instanzen</i> oder die <i>umgekehrte Suche hinzu</i> (sie werden nicht benötigt und verlangsamen die korrekte <i>Anforderung für</i> die <i>Vorwärtssuche</i> .) <br><br>  Extras → Einstellungen → Pfad <br><br><ul><li>  Fügen Sie das Verzeichnis, in dem sich SumatraPDF.exe befindet, der PATH-Präfix-Zeile hinzu.  (Dies ist für eine permanente Installation nicht erforderlich, kann jedoch für den portablen Einsatz hilfreich sein.) </li><li>  Setze die Zeile LyXServer pipe \\. \ Pipe \ lyxpipe (benutze NICHT die Browse-Taste). </li></ul><br>  Extras → Einstellungen → Dateiverarbeitung → Konverter <br><br><ul><li>  Wähle das LaTeX (pdflatex) Format -&gt; PDF (pdflatex) </li><li>  Setzen Sie den Eingabekonverter auf pdflatex -interaction = nonstopmode -synctex = 1 $$ i </li></ul><br><img src="https://habrastorage.org/webt/4r/ls/gj/4rlsgjeapgfczwfhld9ymsji824.png"><br><br><ul><li>  Klicken Sie auf "Ändern" (andernfalls wird die Änderung abgebrochen). </li><li>  Diese Änderung erfordert, dass MikTeX oder TeX Live die Datei FILE.synctex.gz erstellen. </li></ul><br>  Gehen Sie raus und gehen Sie zurück, um zu überprüfen, ob es geändert wurde. Ich habe ein paar Änderungen vorgenommen, um es zurückzusetzen und von einer Sitzung zur nächsten zu pinnen. <br><br>  Extras → Einstellungen → Ausgabe → Allgemein. <br>  Setzen Sie im Abschnitt Direkte Suche den PDF-Eingabebefehl auf SumatraPDF -forward-search "$$ t" $$ n "$$ o". <br><br>  Extras → Einstellungen → Dateiverarbeitung → Dateiformate <br><br><ul><li>  Wählen Sie das PDF-Format (pdflatex) </li><li>  Setzen Sie das Feld Ansicht mit dem Befehl SumatraPDF auf Benutzerdefiniert </li><li>  Möglicherweise müssen Sie alle SumatraPDF-Fenster schließen und Dokument → Ansicht verwenden. </li><li>  Sie können den Befehl für die Rückwärtssuche direkt in SumatraPDF einstellen, indem Sie wie oben beschrieben zu „Einstellungen → Erweiterte Optionen“ gehen und die Rückwärtssuche einstellen.  In diesem Fall reduzieren Sie den Befehl Ansicht auf </li></ul><br><pre> <code class="plaintext hljs">SumatraPDF</code> </pre> <br><img src="https://habrastorage.org/webt/uj/5d/hq/uj5dhqgkebeuvnherusk3mypiwk.png"><br><br>  JEGLICHE Probleme mit diesem Inverse Search-Aufruf sollten mit Lyx-Unterstützung einhergehen, da dies die empfohlene Methode ist, nicht meine! <br><br>  [1] Die Verwendung von Named Pipes im Speicher beschleunigt und verringert die Notwendigkeit, eine Anwendung über Shell-Optionen aufzurufen. Wie bei DDE- oder D-Bus-Methoden ist sie jedoch für die meisten Benutzer ungewohnt und kann zur Behebung von Problemen problematisch sein. <br><br>  Hinweis  Stellen Sie sicher, dass lyx die Datei geöffnet hat. Die Schaltfläche Vorwärts / Rückwärts aktivieren ist aktiv. Kompilieren Sie die Datei und zeigen Sie sie an. Klicken Sie anschließend mit der rechten Maustaste und wählen Sie etwa 6 Optionen aus <br><br>  Die Plätze sind nicht 1 zu 1 (Seiten scheinen möglicherweise "aus" zu sein).  Dies kann helfen, eine direkte Suche zu sehen, indem Sie SumatraPDF-settings.txt einstellen <br><br>  HighlightPermanent = true <br><br>  Um zur entsprechenden Seite zurückzukehren, doppelklicken Sie einfach auf eine beliebige Stelle in SumatraPDF, um lyxeditor.cmd aufzurufen. <br><hr><br>  Wie Sie sehen, gibt es noch einige Nuancen, die von mir nicht erwähnt werden.  Als ich alles eingerichtet habe, habe ich diese Nuancen einfach nicht gebraucht. <br><br><h3>  LyX;  Verwendung von .bat-Dateien </h3><br>  Obwohl es auf den ersten Blick nicht möglich ist, neue Exportformate zu LyX hinzuzufügen (soweit ich zum Beispiel in TeXworks verstehe, besteht ein Analogon für eine solche Möglichkeit des Hinzufügens in der Möglichkeit, ein neues Layout-Tool zu erstellen), hat dieses Programm eine solche Möglichkeit.  Versuchen wir zunächst, das folgende Exportformat zu erstellen, das auf den ersten Blick nachsichtig erscheint.  Die folgenden PATH-Variablen sind im LyX-Programm definiert: <br><br><pre> <code class="plaintext hljs">$$s The LyX system directory (eg /usr/share/lyx). $$i The input file $$o The output file $$b The base name (without filename extension) in the LyX temporary directory $$p The full directory path of the LyX temporary directory $$r The full pathname to the original LyX file being processed $$f The filename (without any directory path) of the LyX file. $$l The `LaTeX name'</code> </pre><br>  Dies ist ein Auszug aus einem Teil des LyX-Programmhandbuchs.  Wir werden keine Erklärungen der Bedeutungen und Bedeutungen dieser Variablen übersetzen, sondern versuchen, ein neues Exportformat zu erstellen (mit dem Erscheinen einer neuen Schaltfläche unter <b>Datei&gt; Exportieren nach</b> , einschließlich durch Klicken auf, in das wir in das Format dieser <code>.lyx</code> Datei <code>.lyx</code> , aus dessen Fenster dieser Klick gemacht wurde), während des Exports, in welches in dem temporären Verzeichnis (in dem zum Beispiel beim Export nach <i>PDF {pdflatex}</i> zusätzlich zu der erzeugten <code>.pdf</code> Datei Dateien erzeugt werden) die <i>puti.txt-</i> Datei erzeugt wird, in der ( alle) die Werte dieser Variablen  .  Erstellen Sie dazu in dem Ordner, der PATH hinzugefügt wurde, eine <i>puti.bat-</i> Datei <i>mit dem</i> folgenden Inhalt: <br><br><pre> <code class="plaintext hljs">chcp 1251 cd /d %0\.. echo %1 &gt;puti.txt echo %2 &gt;&gt;puti.txt echo %3 &gt;&gt;puti.txt echo %4 &gt;&gt;puti.txt echo %5 &gt;&gt;puti.txt echo %6 &gt;&gt;puti.txt echo %7 &gt;&gt;puti.txt echo %8 &gt;&gt;puti.txt echo %1/%~2 &gt;&gt;puti.txt</code> </pre><br>  Als nächstes befinden sich in der Datei <code>C:\Users\\AppData\Roaming\LyX2.0\lyxrc.defaults</code> die Zeilen <br><br><pre> <code class="plaintext hljs">.................................... \Format pdf4 pdf "PDF (XeTeX)" X "pdfview" "" "document,vector,menu=export" \Format pdf5 pdf "PDF (LuaTeX)" u "pdfview" "" "document,vector,menu=export"</code> </pre><br>  füge eine solche Zeile hinzu <br><br><pre> <code class="plaintext hljs">\Format pdf6 txt "puti" F "pdfview" "" "document,vector,menu=export"</code> </pre><br>  Hier gibt das Wort <i>puti</i> nicht <i>die</i> Datei mit dem Code an, der die Engine des erstellten Exportformats ist, sondern unter welchem ​​Namen und wo die Schaltfläche zum Aufrufen dieses Exportformats zu <b>Datei&gt; Exportieren nach</b> angezeigt wird <br><br><pre> <code class="plaintext hljs">.................................... \converter pdflatex pdf2 "pdflatex $$i" "latex=pdflatex" \converter xetex pdf4 "xelatex $$i" "latex=xelatex" \converter luatex pdf5 "lualatex" "latex=lualatex"</code> </pre><br>  Nach der Zeile, die das pdf5-Format definiert, wird die folgende Zeile eingefügt: <br><br><pre> <code class="plaintext hljs">\converter pdflatex pdf6 "puti.bat $$b $$f $$i $$l $$o $$p $$r $$s" ""</code> </pre> <br>  Und hier definiert das Wort <i>puti</i> eine Datei mit Code, die die Engine des erstellten Exportformats ist.  Und an dieser Stelle in der Datei <i>lyxrc.defaults</i> müssen Sie bereits die Erweiterung dieser Datei mit dem Code (in diesem Fall <code>.bat</code> ) angeben, sonst funktioniert es nicht! .. Und dann werden, wie Sie vielleicht vermuten, zum einen die Parameter angegeben, mit denen Diese Datei mit dem Code wird gestartet, wenn der Export in das erstellte Format gestartet wird. Andererseits werden diese Parameter in der Form aufgerufen, die das LyX-Programm kennt, und wenn Sie diese Datei daher mit dem Code aus der in LyX geöffneten Datei aufrufen, bevor LyX geöffnet wird Datei mit dem Code des entsprechenden Programms mit Parametern, einigen und  Von denen sie aus Teilen des vollständigen Pfads zur exportierten Datei und aus anderen Teilen des vollständigen Pfads zu einigen wichtigen Ordnern des Systems gebildet werden, ersetzt sie diese in dieser Form genannten Parameter sozusagen durch beinahe reale Werte, die für die Verwendung im Befehl nahezu geeignet sind Linie.  Warum "fast" wird später klar.  Das ist alles, <i>Sie</i> müssen nichts anderes in der <i>lyxrc.defaults-</i> Datei tun: <i>Fügen Sie dort</i> weder neue <i>\ editor_alternatives</i> oder <i>\ viewer_alternatives hinzu</i> , noch ähnliches ... Nachdem Sie die <i>lyxrc.defaults-</i> Datei auf diese Weise gespeichert und neu <i>gestartet haben</i> , haben Sie sie geändert Bei LyX-Programmen unter <b>Datei&gt; Exportieren nach</b> wird eine neue Schaltfläche angezeigt: <br><br><img src="https://habrastorage.org/webt/ha/g1/mv/hag1mvk10k_q8ql6nvpeb4zbpms.jpeg"><br><br>  Bevor Sie darauf klicken, klicken Sie auf " <b>Ansicht"&gt; "Nachrichten anzeigen"</b> (wenn ich LyX aus einer von einer anderen Quelle heruntergeladenen ausführbaren Datei installiert habe, wurde diese Schaltfläche " <i>Nachrichten anzeigen" genannt</i> , da für diese Kopie des Programms eine andere Lokalisierungsdatei " <code>.mo</code> ) Normalerweise wird am unteren Rand des LyX-Programmfensters ein Bereich mit dem Namen <i>Progress / Debug Messages</i> angezeigt.  Nun können Sie auf den von uns erstellten Button klicken.  Gleichzeitig flackern im <i>Bereich Meldungen zum Fortschritt / Debugging</i> Informationen zum Exportvorgang und scrollen nach unten.  Nach dem Ende eines solchen Flimmerns suchen wir den Pfad zum temporären Ordner, in dem die Vorfalldateien abgelegt sind, zusätzlich zu der Datei des Typs, den Sie im selben Ordner wie die exportierte <code>.lyx</code> Datei empfangen <code>.lyx</code> .  Alle diese Pfade sind einander mehr oder weniger ähnlich, so dass es keinen Fehler geben kann.  Hier ist zum Beispiel eine dieser Möglichkeiten: <br><br><pre> <code class="plaintext hljs">D:\1-kat-LyX\lyx_tmpdir.gq2748\lyx_tmpbuf2</code> </pre><br>  Gehe in diesen Ordner.  Es wird unter anderem die Datei <i>puti.txt geben</i> , die wir als Ausgabe für dieses Exportformat festlegen.  Wenn Sie es öffnen, sehen Sie etwa Folgendes: <br><br><pre> <code class="plaintext hljs">D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/newfile2 newfile2.lyx newfile2.tex $$l newfile2.txt D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/ C:/DocLyX/ $$s D:/1-kat-LyX/lyx_tmpdir.gq2748/lyx_tmpbuf2/newfile2/newfile2.lyx</code> </pre><br>  Eine Datei mit diesem Inhalt wurde beim Export in das von mir erstellte <code>C:\DocLyX\newfile2.lyx</code> .  Wie Sie sehen, haben nicht einmal alle Parameter ihre Werte erweitert, was jedoch die Erstellung einiger anderer von mir konzipierter Exportformate nicht beeinträchtigt.  Hier wird jedoch ein solches Problem entdeckt, das in der "fast" Kompatibilität mit der oben erwähnten Befehlszeile besteht.  Das heißt: Das Trennzeichen in den Pfaden, die auf diese Weise in der <code>.txt</code> Ausgabedatei erhalten werden, ist das Zeichen <code>/</code> anstelle des herkömmlichen, zumindest für Windows. <code>\</code> . Um den auf diese Weise erhaltenen Pfad verwenden zu können, müssen Sie höchstwahrscheinlich eine Datei erstellen Fügen Sie mit dem Code, der als Engine für das erstellte Exportformat verwendet werden soll, den Abschnitt zum Ersetzen von <code>/</code> durch <code>\</code> .  Wir werden dies in Zukunft berücksichtigen.  Vergleicht man die Reihenfolge, in der die Parameter in der Datei <i>lyxrc.defaults</i> aufgelistet sind, mit der ich das <i>Starten</i> erzwinge (und es kann gestartet werden))), die Datei <i>puti.bat, die</i> Datei <i>puti.bat selbst</i> mit dem Inhalt der Datei <i>puti.txt</i> , so kommt man zu dem Schluss, dass andere erstellt werden  ,  ,  ,  ,       ,  LyX.  <i>$$i</i> — ,       <i>puti.txt</i>    <i>.tex</i> ,           <i>.lyx</i> ,  ,      ,             MiKTeX,          —          ,   , .             - .  <i>$$r</i> —       LyX       <i>.lyx</i> ,             <i>.tex</i> ,      .          <b></b> ,            <i>puti</i> .        .     - «»   LyX         LyX    .     ,              <i>.lyx</i> . ,    <i>lyxrc.defaults</i>     ,          <i>puti</i> .         : <br><br><pre> <code class="plaintext hljs">\Format pdf7 pdf "pdflatex v papke" F "pdfview" "" "document,vector,menu=export"</code> </pre><br>  und <br><br><pre> <code class="plaintext hljs">\converter pdflatex pdf7 "pdflatex-v-papke.bat $$r $$i" ""</code> </pre> <br> ,   .         <i>puti</i>   ,  ,     (     <code>.bat</code> ),              . ,          <i>pdflatex-v-papke.bat</i>  : <br><br><pre> <code class="plaintext hljs">cd /d %0\.. chcp 1251 echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in if exist perehod.bat (goto :vyhod3) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt;&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1 echo chcp 1251 &gt; perehod.bat echo cd /D^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo del %~n2.tex&gt;&gt; perehod.bat echo :vhod2 &gt;&gt; perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod2) else (goto :vhod2) &gt;&gt; perehod.bat echo :vyhod2 &gt;&gt; perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo taskkill /f /im pdflatex.exe &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat echo :vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3 start perehod.bat pdflatex %1 rem            exit.bat exit</code> </pre><br>    ?  ,   ,          LyX,     <i>lyxrc.defaults</i> ,  ,      «  ,       LyX »  «  ,    .tex»,    . ,        ,      - « »   . ,        <i>pdflatex-v-papke.bat</i>  ,     ,      ,    <i>windows 1251</i> . ,    LyX       ,   ()    , ,       ,      ,     <code>.lyx</code>  <br><br><pre> <code class="plaintext hljs">echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in</code> </pre> <br> ,       .  <br><br><pre> <code class="plaintext hljs">if exist perehod.bat (goto :vyhod3) else (goto :vhod)</code> </pre><br>      <code>:vyhod3</code>  <code>:vhod</code> ,      ,      ,    .  ,          <i>pdflatex-v-papke.bat</i> ,  (  )  <i>put0.txt</i> , <i>pereim.bat</i> , <i>put.txt</i> , <i>perehod.bat</i> ,    , ,   ,         <code>.lyx</code> ,  ,      .             <i>perehod.bat</i> , 3          ,         . -   <code>if</code>      . ,   <i>pdflatex-v-papke.bat</i>  ,        ,  <i>pdflatex-v-papke.bat</i>   ,      4  — <i>put0.txt</i> , <i>pereim.bat</i> , <i>put.txt</i> , <i>perehod.bat</i>      .    4      ,      ,       .      . . .  ,    LyX   <i>pdflatex-v-papke.bat</i> ,  «  ,       LyX »,    <i>put0.txt</i>    ,    .            ( ,  ,       <code>/</code>      <code>\</code> ).        <i>pdflatex-v-papke.bat</i>         <i>pereim.bat</i> ,     ,     <i>put0.txt</i> ,     <code>/</code>  <code>\</code>      <i>put1.txt</i> .   <i>pdflatex-v-papke.bat</i>    <i>pereim.bat</i> .            ,   ,   ,   <code>/b</code> .   ( , )  <i>pereim.bat</i>      . - ,     <i>put1.txt</i> ,    <i>pdflatex-v-papke.bat</i>    ,           <i>put1.txt</i> .        <i>pdflatex-v-papke.bat</i>   .    ,      <i>pereim.bat</i>        : <br><br><pre> <code class="plaintext hljs">:vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1</code> </pre><br>       <i>put.txt</i>   ,   .       ,     <code>:vhod1</code>      <i>put.txt</i>   ,        ,        .      ,          <i>pdflatex-v-papke.bat</i> .              <i>perehod.bat</i> ,     (     <br><br><pre> <code class="plaintext hljs">:vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3</code> </pre><br>  <i>pdflatex-v-papke.bat</i> )    <i>perehod.bat</i> .  <i>perehod.bat</i>      ,          ,      <i>put.txt</i>         ,     <br><br><pre> <code class="plaintext hljs">more &lt; put.txt</code> </pre><br>  ,  ,   <i>perehod.bat</i>  (   <code>C:\DocLyX\newfile2.lyx</code> ): <br><br><pre> <code class="plaintext hljs">chcp 1251 cd /D^ C:\DocLyX\ del newfile2.tex :vhod2 lyx -e latex newfile2.lyx if exist newfile2.tex (goto :vyhod2) else (goto :vhod2) :vyhod2 pdflatex newfile2.tex taskkill /f /im pdflatex.exe exit</code> </pre><br>     ? ,           ,   ,      <i>perehod.bat</i> ,   <i>windows 1251</i> .    2 ,      .         <code>^</code>    .      ,    perehod.bat       <code>.lyx</code> .   <code>/D</code>  ,      LyX  <b>&gt;...&gt;</b>    <i> </i>  ,     LyX      ,   ,        .        <code>.lyx</code> ,    <code>.tex</code> , ,  ,         <code>.lyx</code>     <code>.lyx</code> ,  .        <code>.lyx</code> ,     ,   <code>.tex</code>     <i>pdflatex-v-papke.bat</i>       ,     <code>.lyx</code> ,    <code>.tex</code> . ,        ()  <i>pdflatex-v-papke.bat</i> ,       <code>.lyx</code> ,    <code>.tex</code>    .     <code>.tex</code>     ,             <code>.lyx</code> ,     <code>.lyx</code> ,    <code>.tex</code> . ,    .   pdflatex' ,     <code>.lyx</code> ,    <code>.tex</code> ,      <i>pdflatex</i> , ,      ( )    <i>perehod.bat</i> .    <i>pdflatex-v-papke.bat</i> .  ,    <i>perehod.bat</i> ,  ,        .             <i>exit.bat</i> (  -    )      <br><br><pre> <code class="plaintext hljs">date /t exit</code> </pre><br>    ?   , ,       <i>puti.bat</i> , ,   ,          <i>puti1.bat</i> ,  ,        ,    ,     ,  ,     LyX      ,    : <br><br><img src="https://habrastorage.org/webt/js/vj/2a/jsvj2agjdh1wf-i9npjku8posbc.jpeg"><br><br>      ,    . ,  ,     <i>puti1.bat</i>      - .    .   ,       - .     .         -     .  . : ,   ,  .   . ,  ,  ,   ,  ,   ,   . ,       <i>pdflatex-v-papke.bat</i> .   .  Usw.  TeXworks    : <br><br><img src="https://habrastorage.org/webt/xp/pt/ry/xpptry-ieqblgtxi2-ihwataxc0.jpeg"><br><br>   LyX  ,       <code>.lyx</code>  <code>.tex</code> ,      <code>.tex</code>   <i>xelatex.exe</i>   <code>-undump=xelatex</code> .    ,        -  <code>.lyx</code> ,        . ,    .      <b>&gt; ...</b>   <i>xelatex v papke</i> ,       <i>xelatex-v-papke.bat</i>  : <br><br><pre> <code class="plaintext hljs">cd /d %0\.. chcp 1251 echo LYXCMD:sohranenie:buffer-write&gt; \\.\pipe\lyxpipe.in if exist perehod.bat (goto :vyhod3) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt;&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.tex (goto :vyhod1) else (goto :vhod1) :vyhod1 echo chcp 1251 &gt; perehod.bat echo cd /D^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo del %~n2.tex&gt;&gt; perehod.bat echo :vhod2 &gt;&gt; perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod2) else (goto :vhod2) &gt;&gt; perehod.bat echo :vyhod2 &gt;&gt; perehod.bat echo miktex-xetex.exe -undump=xelatex %2 &gt;&gt; perehod.bat echo taskkill /f /im pdflatex.exe &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat :vhod3 if exist perehod.bat (goto :vyhod3) else (goto :vhod3) :vyhod3 start perehod.bat pdflatex %1 rem            exit.bat exit</code> </pre><br>  ,       ,    <i>pdflatex-v-papke.bat</i> .    -  <code>miktex-xetex.exe -undump=xelatex %2</code> ,             <code>.tex</code> ,         .       <i>lyxrc.defaults</i>  ,   <code>xelatex-v-papke.bat</code>    <code>$$r $$i</code> ,    <i>lyxrc.defaults</i>    . , ,        <code>.lyx</code> ,     ,       <code>.tex</code>     <code>utf8</code>  <code>\usepackage[utf8]{inputenc}</code> ,     .  (,   :         <code>inputenc</code>   <b>&gt;&gt; LaTeX</b>  ,     )    <b>&gt;&gt;</b>  <i></i>    <i></i> (        <code>.mo</code> )  <code> (XeTeX) (utf8)</code> .        ,    ,    /      Asymptote,       (pdflatex+asymptote+pdflatex   pdflatex).  ,   ,         Asymptote,  ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>T</mi><mspace width=&quot;-.14em&quot; /><mpadded height=&quot;-.5ex&quot; depth=&quot;+.5ex&quot; voffset=&quot;-.5ex&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>E</mi></mrow></mpadded><mspace width=&quot;-.115em&quot; /><mi>X</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.8ex" height="2.539ex" viewBox="0 -780.1 2066.5 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700021,15700186,15700190,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhg9ta11GxQGeoYnjcyUEZduToYXsw#MJMATHI-54" x="0" y="0"></use><g transform="translate(564,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700021,15700186,15700190,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhg9ta11GxQGeoYnjcyUEZduToYXsw#MJMATHI-45" x="0" y="-216"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/485298/&amp;xid=17259,15700021,15700186,15700190,15700256,15700259,15700262,15700265,15700271&amp;usg=ALkJrhg9ta11GxQGeoYnjcyUEZduToYXsw#MJMATHI-58" x="1214" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>T</mi><mspace width="-.14em"></mspace><mpadded height="-.5ex" depth="+.5ex" voffset="-.5ex"><mrow class="MJX-TeXAtom-ORD"><mi>E</mi></mrow></mpadded><mspace width="-.115em"></mspace><mi>X</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">\TeX</script> ,       ,       <code>.lyx</code> .  ,     <code>.lyx</code> -    Asymptote,   <code>.pdf</code>  ,     Asymptote,      .     <code>.lyx</code>  Asymptote        <i> TeX</i> (Ctrl+L),      - -,          .lyx    —     -  ,       .   -  ovols.   -     TeX,     TeX   ,           <i>ovols</i> .      ovols'  <code>\begin{asy}</code> , 2         <code>\end{asy}</code> .            <code>.js</code>  .  ,      . , ,    asy    .  , ,   : <br><br><img src="https://habrastorage.org/webt/o4/d4/cx/o4d4cxbhi-d4tezhveichzcevg0.jpeg"><br><br> -  , ,      ,         pdflatex  <code>.tex</code>      ,      asy, ,      <code>.pdf</code> ,   ,   . , ,     asymptote  <b>&gt;...&gt; LaTeX</b> .   <i>lyxrc.defaults</i>           <code>$$r $$i</code> .        .  ,  ,  <code>.bat</code> .   <i>pdflatex+asymptote+pdflatex-v-lyx.bat</i> .  ,      ,   .    : <br><br><pre> <code class="plaintext hljs">cd /d %0\.. if exist perehod.bat (goto :vyhod6) else (goto :vhod) :vhod echo %1 &gt; put0.txt echo cd /d %%0\..&gt; pereim.bat echo SetLocal EnableExtensions EnableDelayedExpansion&gt;&gt; pereim.bat echo Set infile=put0.txt&gt;&gt; pereim.bat echo Set outFile=put.txt&gt;&gt; pereim.bat echo Set find=/&gt;&gt;pereim.bat echo Set replace=\&gt;&gt;pereim.bat echo for /F "UseBackQ delims=" %%%%n in ("%%infile%%") do (&gt;&gt; pereim.bat echo set "LINE=%%%%n"&gt;&gt; pereim.bat echo set "LINE=!LINE:%%find%%=%%replace%%!"&gt;&gt; pereim.bat echo echo.!LINE!^&gt;^&gt;%%outFile%%&gt;&gt; pereim.bat echo )&gt;&gt; pereim.bat echo exit&gt;&gt; pereim.bat start /b pereim.bat :vhod1 if exist put.txt (goto :vyhod1) else (goto :vhod1) :vyhod1 echo echo LYXCMD:sohranenie:buffer-write^&gt; \\.\pipe\lyxpipe.in &gt;perehod.bat echo cd /D ^^&gt;&gt;perehod.bat more &lt; put.txt &gt;&gt; perehod.bat echo :vhod1&gt;&gt;perehod.bat echo lyx -e latex %~n2.lyx&gt;&gt; perehod.bat echo if exist %~n2.tex (goto :vyhod1) else (goto :vhod1)&gt;&gt;perehod.bat echo :vyhod1&gt;&gt;perehod.bat echo echo cd /d %%%%0\..^&gt; zamena.bat&gt;&gt;perehod.bat echo echo chcp 65001^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo SetLocal EnableExtensions EnableDelayedExpansion^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set infile=%~n2.tex^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set outFile=zameneno.tex^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo Set find=ovols^&gt;^&gt;zamena.bat&gt;&gt;perehod.bat echo echo Set replace=^&gt;^&gt;zamena.bat&gt;&gt;perehod.bat echo echo for /F "UseBackQ delims=" %%%%%%%%n in ("%%%%infile%%%%") do (^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo set "LINE=%%%%%%%%n"^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo set "LINE=!LINE:%%%%find%%%%=%%%%replace%%%%!"^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo echo.!LINE!^^^&gt;^^^&gt;%%%%outFile%%%%^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo )^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo echo exit^&gt;^&gt; zamena.bat&gt;&gt;perehod.bat echo :vhod2&gt;&gt;perehod.bat echo if exist zamena.bat (goto :vyhod2) else (goto :vhod2)&gt;&gt;perehod.bat echo :vyhod2&gt;&gt;perehod.bat echo start zamena.bat&gt;&gt;perehod.bat echo :vhod3&gt;&gt;perehod.bat echo if exist zameneno.tex (goto :vyhod3) else (goto :vhod3)&gt;&gt;perehod.bat echo :vyhod3&gt;&gt;perehod.bat echo del %~n2.tex&gt;&gt;perehod.bat echo rename zameneno.tex %~n2.tex&gt;&gt;perehod.bat echo del %~n2.aux&gt;&gt;perehod.bat echo if exist %~n2-*.asy (goto :vhod4) else (goto :vhod5)&gt;&gt;perehod.bat echo :vhod4&gt;&gt;perehod.bat echo del %~n2-*.*&gt;&gt;perehod.bat echo :vhod5&gt;&gt;perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo for %%%%f in (%~n2-*.asy) do asy %%%%f &gt;&gt; perehod.bat echo pdflatex %2 &gt;&gt; perehod.bat echo exit &gt;&gt; perehod.bat :vhod6 if exist perehod.bat (goto :vyhod6) else (goto :vhod6) :vyhod6 start perehod.bat</code> </pre><br>  ,     .   <i>zamena.bat</i>    ovols , . .    -.  ,    <br><br><pre> <code class="plaintext hljs">:vhod « - » If exist «- »... :vyhod «   - »</code> </pre><br>  ,  ,        «- »     ,       . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de485298/">https://habr.com/ru/post/de485298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de485284/index.html">Funktionen von SPIKE ™ Prime LEGO® Education</a></li>
<li><a href="../de485286/index.html">Wie wir Waren oder eine kleine Automatisierungs-Ode gewogen haben</a></li>
<li><a href="../de485288/index.html">Liebe es, Indie Gamedev'a zu hassen</a></li>
<li><a href="../de485290/index.html">Einfache BERT-Destillationsanleitung</a></li>
<li><a href="../de485294/index.html">Moderner Kurs auf Node.js im Jahr 2020</a></li>
<li><a href="../de485300/index.html">Neuer Ausbruch von H2Miner-Würmern, die Redis RCE ausnutzen, entdeckt</a></li>
<li><a href="../de485304/index.html">Ein paar Tricks mit Iframe-Elementen</a></li>
<li><a href="../de485312/index.html">DevOps für Mobile Apps</a></li>
<li><a href="../de485316/index.html">Alle Google-SERPs sehen jetzt wie Anzeigen aus</a></li>
<li><a href="../de485318/index.html">Hinzufügen von Schönheit und Interaktivität zu Jupyter Notebooks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>