<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>◽️ 🧙🏽 ⛩️ IVR di Webhook 📫 👩🏼‍🌾 🔍</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chatbot online adalah tren terbaru di pasar. Tetapi bagaimana cara berinteraksi dengan klien yang sedang offline? Sebagian besar orang lebih suka beri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IVR di Webhook</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zadarma/blog/474178/"><img src="https://habrastorage.org/webt/6i/wc/yt/6iwcytdcaivt0kpvrob20iahmsm.png"><br><br>  Chatbot online adalah tren terbaru di pasar.  Tetapi bagaimana cara berinteraksi dengan klien yang sedang offline?  Sebagian besar orang lebih suka berinteraksi melalui telepon.  Dan bisnis ini membutuhkan banyak staf operator atau solusi otomatisasi komunikasi suara.  Kami menawarkan solusi untuk mengurangi beban kerja dan biaya (dan hampir tidak akan mempengaruhi kesibukan pengembang Anda). <br><a name="habracut"></a><br>  Bagaimana cara cepat dan mudah memprogram menu suara, informan otomatis, sekretaris robot dengan database klien yang terlampir? <br><br>  Peringatan spoiler: semuanya dilakukan dengan mengimplementasikan webhooks dan kami menggunakan contoh PHP. <br><br>  <b>Apa dan mengapa?</b> <br><br>  Misalnya, Anda memiliki layanan pengiriman atau toko online dengan logistiknya sendiri.  Beberapa pelanggan menelepon untuk melihat ada apa dengan paket mereka dan yang dapat dengan mudah diotomatisasi.  Hal yang sama berlaku untuk geolokasi kabin, beberapa pengumpulan data, atau informasi individual apa pun yang dapat dilaporkan kepada klien tanpa membuang tenaga manusia. <br><br>  Dapat dengan mudah diotomatisasi, kami akan memberikan contoh di bawah ini.  Oh, dan itu bisa dilakukan sepenuhnya gratis. <br><br>  <b>Mengapa bukan tanda bintang Anda sendiri?</b> <br><br>  Tentu saja, itu semua bisa dilakukan dengan Asterisk, tetapi selain dari pengembang, Anda juga akan memerlukan administrator, yang juga akrab dengan keamanan komunikasi suara (karena mereka sering diretas). <br>  Jadi kita akan membahas cara paling sederhana untuk menyelesaikan tugas - dengan webhooks. <br><br>  <b>Daftar metode</b> <br><br>  Anda hanya perlu dua metode baru untuk pekerjaan itu, tetapi masing-masingnya memberi Anda banyak kemungkinan, dan yang paling penting - siklus tak terbatas.  Dengan bantuan siklus ini, Anda bisa mendapatkan menu suara bertingkat dan informan untuk subjek apa pun. <br><br>  <b>Metode utama:</b> <br><br><ul><li>  NOTIFY_START - awal dari panggilan masuk di PBX </li><li>  NOTIFY_IVR - respons penelepon terhadap tindakan yang diberikan </li></ul><br>  Deskripsi metode terperinci tersedia untuk disalin-tempel dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">deskripsi API</a> . <br><br>  Untuk permintaan NOTIFY_START dan NOTIFY_IVR Anda dapat mengubah skenario selama panggilan dengan merespons dengan salah satu opsi: <br><br><img src="https://habrastorage.org/webt/o-/qb/2j/o-qb2j_sbansavtyv9ozmcepotw.png"><br><img src="https://habrastorage.org/webt/km/jz/g9/kmjzg91272jweekf2s1mwv6g-re.png"><br><img src="https://habrastorage.org/webt/er/u4/kf/eru4kf3bhtepzadbkqjgwsk8oic.png"><br><img src="https://habrastorage.org/webt/_y/fg/7a/_yfg7akgztm3m-9nxqcqpowpcvo.png"><br><img src="https://habrastorage.org/webt/da/xh/d-/daxhd-p3c1f2ewcljo4xg-o85qu.png"><br><img src="https://habrastorage.org/webt/nj/rd/o3/njrdo3kqwruuctzcogbjdrw3vh0.png"><br><br>  Jadi, klien memanggil dan mendengar salam, lalu memanggil nomor tertentu (misalnya, kode pelacakan), kami mengirim pemberitahuan dengan digit yang dimasukkan, skrip memeriksa dengan database dan mengirimkan respons kepada kami.  Respons dapat berisi id file suara atau balasan suara standar. <br><br>  Kami memiliki sistem permainan angka standar, jadi Anda tidak perlu merekam tanggapan di depan;  artinya, notifikasi yang sesuai dipilih dari basis data dan dimainkan sebagai angka oleh robot.  Atau Anda dapat membuat hingga seratus pesan suara default dan menggunakannya untuk membalas klien (mis. “Pengiriman Anda ada di gudang”, “Anda dapat menerima paket Anda setiap hari antara jam 9 pagi dan 10 malam). <br><br>  <b>Minimal implementasi</b> <br><br>  Agar responden dapat menjawab, Anda memerlukan minimal nomor telepon dan PBX.  Anda juga harus mengunggah atau memasukkan tanggapan yang memungkinkan. <br><br>  <b>Siapkan</b> <br><br><img src="https://habrastorage.org/webt/nr/wc/u_/nrwcu_blznq1tjzmncdz3i4s_fy.png"><br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PBX gratis</a> untuk tugas ini dapat diatur dalam tiga klik (pilih jumlah karyawan dan menu suara dapat diatur kemudian) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Nomor</a> telepon untuk PBX dapat dihubungkan dari 100 negara di seluruh dunia.  Nomor terhubung secara otomatis setelah verifikasi ID selesai (jika diperlukan untuk negara pilihan Anda).  Anda juga dapat menghubungkan salah satu nomor Anda sendiri secara gratis </li><li>  Untuk mengatur menu suara, buka halaman "Panggilan masuk dan IVR" dan pilih opsi yang paling cocok untuk Anda.  Atau Anda dapat mengunggah file Anda, atau mengetik teks dan robot akan membacanya secara otomatis.  Ada 16 bahasa yang tersedia dengan beberapa suara untuk masing-masing (14 suara dalam bahasa Inggris).  Anda dapat menyimpan hingga 100 salam di akun pribadi Anda. </li></ol><br><img src="https://habrastorage.org/webt/fi/om/f_/fiomf_rhb6i5kneddqae5pxj_uy.png"><br><br>  <b>Contoh PHP</b> <br><br>  Untuk menunjukkan opsi yang berbeda, kami telah membuat 4 contoh kinerja IVR di PHP. <br><br><ol><li>  Sistem memberi tahu 3 digit terakhir dari CallerID (contoh bekerja dengan info tentang angka dan mengucapkan angka) </li><li>  Pengguna memasukkan tanggal lahir mereka di DTMF dan sistem memberi tahu berapa hari lagi hingga ulang tahun (bekerja dengan DTMF dan mengucapkan angka) </li><li>  Menu bertingkat tak berujung: pengguna dapat memasukkan angka dan sampai ke menu berikutnya / sebelumnya (contoh bagaimana dengan siklus sederhana Anda dapat membuat sejumlah menu suara) </li><li>  Contoh otorisasi untuk menerima status keseimbangan (berguna untuk banyak situasi kehidupan) </li></ol><br>  Tiga contoh pertama tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> .  Di sana Anda memiliki semua elemen yang diperlukan, Anda hanya perlu memasukkan file dengan isian (yang harus sebelum diunggah atau dibaca di PBX). <br><br>  <b>Tugas 4</b> : penelepon mendengar salam dan diminta untuk memasukkan nomor identifikasi, setelah memasuki sistem memberitahu keseimbangan, mengucapkan selamat tinggal menggunakan frasa populer dari daftar dan mengakhiri panggilan. <br><br>  Berikut adalah contoh kode untuk tugas yang dijelaskan. <br>  <b>Kode PHP</b> <br><br><pre><code class="php hljs">$request = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Request(); $notify = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::getEvent([AbstractNotify::EVENT_START, AbstractNotify::EVENT_IVR]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$notify) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> ($notify-&gt;event){ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> AbstractNotify::EVENT_START: $request -&gt;setIvrPlay(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::INFO_FILE_ID) -&gt;setWaitDtmf(TIMEOUT , ATTEMPTS, MAXDIGITS, DTMF_NAME, DEFAULT_BEHAVIOUR); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> AbstractNotify::EVENT_IVR: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($notify-&gt;wait_dtmf-&gt;digits)) { $balance = getBalance($notify-&gt;wait_dtmf-&gt;digits); $request-&gt;setIvrSayNumber($balance, <span class="hljs-string"><span class="hljs-string">'en'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($notify-&gt;ivr_saynumber)) { $request-&gt;setIvrSayPopular(POPULAR_PHRASE_NUM, <span class="hljs-string"><span class="hljs-string">'en'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $request-&gt;setHangup(); } } $request-&gt;send();</code> </pre> <br>  Kami ingin memperluas fitur metode kami lebih lanjut dan mengumpulkan umpan balik dalam komentar di bawah.  Kami juga memiliki metode webhook dan API lain yang tersedia, Anda dapat melihat daftar lengkap <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di situs web</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id474178/">https://habr.com/ru/post/id474178/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id474164/index.html">Zimbra adalah segalanya bagi kami</a></li>
<li><a href="../id474166/index.html">Tutup Indeks untuk GiST</a></li>
<li><a href="../id474170/index.html">Pengakuan Desain - 15 November, Moscow, DI Telegraph</a></li>
<li><a href="../id474172/index.html">Denda 30 ribu euro untuk penggunaan cookie ilegal</a></li>
<li><a href="../id474176/index.html">11 video dari hari pertama DevFest 2019 di Kaliningrad</a></li>
<li><a href="../id474180/index.html">Bagaimana arsitektur web toleran-kesalahan diimplementasikan di platform Mail.ru Cloud Solutions</a></li>
<li><a href="../id474184/index.html">Kami melewati tantangan dari Callum Macrae 100%</a></li>
<li><a href="../id474186/index.html">Menyangkal Mitos: Praktek IT Nyata di Armenia</a></li>
<li><a href="../id474192/index.html">Mengapa saya beralih dari UX ke PM lalu ke Lead PM dan apa yang telah berubah?</a></li>
<li><a href="../id474194/index.html">Tim kompas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>