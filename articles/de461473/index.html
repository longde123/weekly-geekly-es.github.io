<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚è≥ üóæ üßõüèº Debugging-Algorithmen f√ºr Grafiken - jetzt mit Bildern üõèÔ∏è üßõüèæ üíÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Stellen Sie sich eine typische Situation im ersten Jahr vor: Sie haben √ºber den Dinits-Algorithmus gelesen, ihn implementiert, aber er hat nicht funkt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Debugging-Algorithmen f√ºr Grafiken - jetzt mit Bildern</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hsespb/blog/461473/">  Stellen Sie sich eine typische Situation im ersten Jahr vor: Sie haben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√ºber den Dinits-Algorithmus</a> gelesen, ihn implementiert, aber er hat nicht funktioniert, und Sie wissen nicht warum.  Die Standardl√∂sung besteht darin, das Debuggen schrittweise zu starten und jedes Mal den aktuellen Status des Diagramms auf ein Blatt Papier zu zeichnen. Dies ist jedoch √§u√üerst unpraktisch.  Ich habe versucht, die Situation im Rahmen eines Semesterprojekts zum Thema Software Engineering zu korrigieren, und in einem Beitrag werde ich Ihnen erz√§hlen, wie ich zu einem Plug-In f√ºr Visual Studio gekommen bin.  Sie k√∂nnen es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> herunterladen, den Quellcode und die Dokumentation finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Hier ist ein Screenshot des Diagramms, das f√ºr den Dinits-Algorithmus erhalten wurde. <br><br><img src="https://habrastorage.org/webt/mq/m_/bg/mqm_bgawuvqn8v0wwqb9-jgm4cm.png"><a name="habracut"></a><br><br><h2>  √úber mich </h2><br>  Mein Name ist Olga, ich habe das dritte Jahr der Richtung ‚ÄûAngewandte Mathematik und Informatik‚Äú an der HSE in St. Petersburg mit einem Abschluss in Software Engineering abgeschlossen.  Vor dem Eintritt in die Universit√§t war ich nicht in die Programmierung involviert. <br><br><h2>  Forschung: Anforderungen </h2><br>  An unserer Fakult√§t Praxis Semester Forschungsarbeit.  Normalerweise geschieht dies so: Zu Beginn des Semesters findet eine Pr√§sentation der Forschungsarbeiten statt - Vertreter verschiedener Unternehmen bieten alle Arten von Projekten an.  Dann w√§hlen die Sch√ºler ihre Lieblingsprojekte aus, die Betreuer w√§hlen ihre Lieblingssch√ºler aus und so weiter.  Am Ende findet jeder Sch√ºler ein Projekt f√ºr sich. <br><br>  Es gibt aber noch einen anderen Weg: Sie k√∂nnen unabh√§ngig voneinander einen Supervisor und ein Projekt finden und dann den Kurator davon √ºberzeugen, dass dieses Projekt wirklich eine vollwertige F &amp; E sein kann.  Beweisen Sie dazu Folgendes: <br><br><ol><li>  Du wirst etwas Neues machen.  Nat√ºrlich kann das Projekt Analoga haben, aber Ihre Option sollte einige Vorteile gegen√ºber ihnen haben. <br></li><li>  Die Aufgabe sollte ziemlich schwierig sein, dh die Arbeit dort sollte f√ºr ein Semester und nicht f√ºr einen Tag sein.  Gleichzeitig ist es notwendig, dass das Projekt wirklich in einem Semester durchgef√ºhrt wurde. <br></li><li>  Ihr Projekt sollte f√ºr die Welt n√ºtzlich sein.  Das hei√üt, wenn Sie gefragt werden, warum dies notwendig ist, sollten Sie nicht antworten: "Nun, ich muss irgendeine Art von Forschung betreiben." <br></li></ol><br>  Ich habe den zweiten Weg gew√§hlt.  Das erste, was ich tun musste, nachdem ich mit dem Betreuer einverstanden war, war, das Thema des Projekts zu finden.  Die Liste der Ideen enthielt: Code Style Checker f√ºr Lua, einen Debugger, mit dem Sie Ausdr√ºcke in Teilen berechnen k√∂nnen, und ein Tool f√ºr Olympiaden / Programmiertraining, mit dem Sie visualisieren k√∂nnen, was im Code passiert.  Das hei√üt, ein Visualisierer f√ºr beliebige Datenstrukturen in Kombination mit einem Debugger.  Beispielsweise schreibt eine Person einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kartesischen Baum</a> , und dabei werden Scheitelpunkte, Kanten, der aktuelle Scheitelpunkt usw. gezeichnet.  Am Ende habe ich mich entschlossen, √ºber diese Option nachzudenken. <br><br><h2>  Projektarbeitsplan </h2><br>  Meine Arbeit an dem Projekt bestand aus folgenden Phasen: <br><br><ol><li>  <b>Das Studium des Themenbereichs war</b> erforderlich, um zu verstehen, ob dieses Problem bereits gel√∂st war (dann m√ºsste das Projektthema ge√§ndert werden), welche Analoga sie haben, welche Vor- und Nachteile sie bei meiner Arbeit ber√ºcksichtigen k√∂nnten. <br></li><li>  <b>Definieren der spezifischen Funktionalit√§t</b> , √ºber die das erstellte Tool verf√ºgt.  Das Thema des Projekts wurde ziemlich abstrakt formuliert, und dies war notwendig, um sicherzustellen, dass die Aufgabe ziemlich kompliziert ist, aber gleichzeitig in einem Semester abgeschlossen werden kann. <br></li><li>  <b>Das Erstellen einer Prototyp-Benutzeroberfl√§che war</b> erforderlich, um zu demonstrieren, wie das erstellte Tool verwendet werden kann.  Es f√ºgte noch mehr Spezifit√§t hinzu als eine Reihe von Merkmalen, die durch W√∂rter beschrieben werden. <br></li><li>  <b>Auswahl der Abh√§ngigkeiten</b> - Sie m√ºssen verstehen, wie alles aus Sicht des Entwicklers angeordnet wird, und sich f√ºr die Tools entscheiden, die beim Schreiben von Code verwendet werden. <br></li><li>  <b>Erstellen eines Prototyps (Proof-of-Concept)</b> , dh eines minimalen Beispiels, in dem die meisten fest codiert w√§ren.  In diesem Beispiel musste ich mich mit allen Tools befassen, die ich verwenden wollte, und auch lernen, wie man alle dabei auftretenden Schwierigkeiten l√∂st, sodass die endg√ºltige Version bereits ‚Äûsauber‚Äú geschrieben war. <br></li><li>  <b>Arbeiten Sie am Inhaltsteil</b> , <b>dh an der</b> Entwicklung und Implementierung der Logik des Tools. <br></li><li>  <b>Projektschutz ist</b> erforderlich, um schnell √ºber die geleistete Arbeit zu sprechen und die M√∂glichkeit zu geben, sie allen zu bewerten, auch Personen, die sich nicht mit dem Thema besch√§ftigen.  Es ist eine Ausbildung vor dem Abschluss.  Gleichzeitig garantiert ein gut gemachtes Projekt nicht, dass sich der Bericht als gut herausstellt, da andere F√§higkeiten erforderlich sind, beispielsweise die F√§higkeit, mit der √ñffentlichkeit zu sprechen. <br></li></ol><br>  Ich habe immer mit meinem Vorgesetzten geplant.  Wir haben uns auch immer alle Ideen ausgedacht und diskutiert, die auf dem Weg entstanden sind.  Au√üerdem gab mir der Supervisor Ratschl√§ge zum Code und half beim Zeitmanagement.  √úber alle technischen Probleme (unverst√§ndliche Fehler usw.) habe ich auch immer berichtet, aber meistens habe ich es geschafft, sie selbst zu l√∂sen. <br><br><h2>  Fachforschung </h2><br>  F√ºr den Anfang h√§tte unsere F√ºhrung davon √ºberzeugt sein m√ºssen, dass dieses Thema meine Forschungsarbeit verdient.  Und um mit dem ersten Punkt zu beginnen: der Suche nach Analoga. <br><br>  Wie sich herausstellte, gibt es viele Analoga.  Die meisten von ihnen wurden jedoch zur Visualisierung des Ged√§chtnisses entwickelt.  Das hei√üt, sie h√§tten bei der Visualisierung des kartesischen Baums gro√üartige Arbeit geleistet, aber sie k√∂nnen nicht verstehen, dass der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Heap auf dem Array</a> nicht als Array, sondern als Baum gezeichnet werden sollte.  Dazu geh√∂rten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gdbgui</a> , ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Data Display Debugger</a> , ein Plug-In f√ºr Eclipse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jGRASP</a> und ein Plug-In f√ºr Visual Studio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Data Structures Visualizer</a> .  Letzteres wurde auch f√ºr die Probleme der Olympiadenprogrammierung erstellt, konnte jedoch nur Datenstrukturen auf Zeigern visualisieren. <br><br>  Es gab noch ein paar weitere Tools: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Algojammer</a> f√ºr Python (und wir wollten Pluspunkte als beliebteste Sprache unter Olympiadniki) und das 1994 entwickelte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lens-</a> Tool.  Letzteres hat nach der Beschreibung fast das getan, was es brauchte, aber leider wurde es unter Sun OS 4.1.3 (einem Betriebssystem von 1992) erstellt.  Trotz der Verf√ºgbarkeit von Quellcodes wurde beschlossen, keine Zeit mit dieser zweifelhaften Arch√§ologie zu verschwenden. <br><br>  Nach einigen Recherchen stellte sich heraus, dass Tula, die genau das tun w√ºrde, was wir wollten, und gleichzeitig an modernen Maschinen arbeitet, noch nicht in der Natur liegt. <br><br><h2>  Funktionsdefinition </h2><br>  Der zweite Schritt bestand darin zu beweisen, dass diese Aufgabe ziemlich kompliziert, aber machbar ist.  Dazu musste etwas Spezifischeres vorgeschlagen werden als ‚ÄûIch m√∂chte ein sch√∂nes Bild, und dass daraus sofort alles klar wird‚Äú. <br><br>  In diesem Projekt haben wir uns darauf konzentriert, nur Diagramme zu visualisieren: Es gibt viele Algorithmen f√ºr Diagramme, die auf unterschiedliche Weise implementiert werden k√∂nnen, und selbst wenn sie eingegrenzt werden, bleibt die Aufgabe nicht trivial. <br><br>  Es ist auch mehr oder weniger offensichtlich, dass das Tool irgendwie in den Debugger integriert werden muss.  Wir m√ºssen in der Lage sein, die Werte von Variablen und Ausdr√ºcken anzuzeigen und aus diesen Werten ein fertiges Bild zu zeichnen. <br><br>  Danach musste eine bestimmte Sprache entwickelt werden, mit der wir ein Diagramm erstellen k√∂nnen, das dem aktuellen Status des Programms entspricht.  Zus√§tzlich zum Diagramm selbst musste die M√∂glichkeit bereitgestellt werden, die Farbe der Scheitelpunkte und Kanten zu √§ndern, ihnen beliebige Beschriftungen hinzuzuf√ºgen und andere Eigenschaften zu √§ndern.  Dementsprechend war die erste Idee: <br><br><ol><li>  Bestimmen Sie, welche Eckpunkte wir haben, zum Beispiel Zahlen von 0 bis n. <br></li><li>  Bestimmen Sie das Vorhandensein einer Kante zwischen den Scheitelpunkten mithilfe der Booleschen Bedingung.  In diesem Fall sind die Kanten von unterschiedlichem Typ, und jeder Typ hat seine eigenen Eigenschaften. <br></li><li>  Au√üerdem k√∂nnen wir Scheitelpunkteigenschaften wie Farbe definieren, auch unter Verwendung der Booleschen Bedingung. <br></li><li>  Gehen Sie mit dem Debugger die Schritte durch: Alle Ausdr√ºcke werden berechnet, alle Bedingungen √ºberpr√ºft und abh√§ngig davon ein Diagramm gezeichnet. <br></li></ol><br><h2>  Prototyping der Benutzeroberfl√§che </h2><br>  Ich habe den Prototyp der Benutzeroberfl√§che in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NinjaMock gezeichnet</a> .  Dies war erforderlich, um besser zu verstehen, wie die Benutzeroberfl√§che aus Sicht des Benutzers aussehen wird und welche Aktionen er ausf√ºhren muss.  Wenn es Probleme mit dem Prototyp g√§be, w√ºrden wir verstehen, dass es einige logische Inkonsistenzen gibt, und diese Idee sollte verworfen werden.  Aus Gr√ºnden der Wiedergabetreue habe ich einige Algorithmen verwendet.  Das Bild unten zeigt Beispiele, wie ich mir die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DFS-</a> Visualisierungseinstellungen und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Floyd-Algorithmus vorgestellt habe</a> . <br><br><img src="https://habrastorage.org/webt/_c/kw/q9/_ckwq9qv_z5-4_wayyxxb0m8sro.png"><br><br>  <i>Wie ich mir Einstellungen f√ºr DFS vorgestellt habe.</i>  <i>Der Graph wird als Adjazenzliste gespeichert, daher wird die Kante zwischen den Eckpunkten i und j durch die Bedingung <code>g[i].find() != g[i].end()</code> (um die Kanten nicht zu duplizieren, muss <code>i &lt;= j</code> √ºberpr√ºft werden <code>i &lt;= j</code> ).</i>  <i>Der DFS-Pfad wird separat angezeigt: <code>p[j] == i</code> .</i>  <i>Diese Kanten werden ausgerichtet.</i> <i><br><br><img src="https://habrastorage.org/webt/1n/rv/28/1nrv283bilq1cslyq9urbrymgzm.png"><br><br></i>  <i>Ich nahm an, dass es f√ºr Floyds Algorithmus notwendig w√§re, die in Array <code>c</code> gespeicherten realen Kanten schwarz und Grau zu zeichnen - die k√ºrzesten in dieser Phase gefundenen Pfade, die in Array <code>d</code> gespeichert sind.</i>  <i>F√ºr jede Kante und jeden k√ºrzesten Weg wird das Gewicht geschrieben.</i> <br><br><h2>  Abh√§ngigkeitsauswahl </h2><br>  F√ºr den n√§chsten Schritt musste man verstehen, wie man das alles macht.  Zun√§chst war die Integration mit einem Debugger erforderlich.  Das erste, was mir einf√§llt, wenn das Wort "Debugger" gdb ist, aber dann m√ºsste man die gesamte grafische Oberfl√§che von Grund auf neu erstellen, was f√ºr einen Studenten in einem Semester wirklich schwierig ist.  Die zweite offensichtliche Idee ist, ein Plugin f√ºr eine vorhandene Entwicklungsumgebung zu erstellen.  Als Optionen habe ich QTCreator, CLion und Visual Studio in Betracht gezogen. <br><br>  Die CLion-Option wurde fast sofort verworfen, da zum einen der Quellcode geschlossen ist und zum anderen die Dokumentation sehr schlecht ist (und niemand zus√§tzliche Schwierigkeiten ben√∂tigt).  QTCreator ist im Gegensatz zu Visual Studio plattform√ºbergreifend und Open Source. Daher haben wir uns zun√§chst entschlossen, darauf einzugehen. <br><br>  Es stellte sich jedoch heraus, dass QTCreator f√ºr die Erweiterung mit Plugins schlecht geeignet ist.  Der erste Schritt beim Erstellen eines Plugins f√ºr QTCreator besteht darin, aus dem Quellcode zu erstellen.  Ich habe anderthalb Wochen gebraucht.  Am Ende habe ich zwei Fehlerberichte ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">da</a> ) zum Montageprozess gesendet.  Ja, so viel Aufwand wurde in die Erstellung von QTCreator gesteckt, um festzustellen, dass der Debugger in QTCreator keine √∂ffentliche API hat.  Ich kehrte zu einer anderen Option zur√ºck, n√§mlich Visual Studio. <br><br>  Und dies stellte sich als die richtige Entscheidung heraus: Visual Studio verf√ºgt nicht nur √ºber eine gro√üartige API, sondern auch √ºber eine hervorragende Dokumentation.  Die Ausdrucksauswertung <code>_debugger.GetExpression(...).Value</code> durch Aufrufen von <code>_debugger.GetExpression(...).Value</code> vereinfacht.  Visual Studio bietet auch die M√∂glichkeit, die Frames zu durchlaufen und den Ausdruck im Kontext eines beliebigen Frames auszuwerten.  √Ñndern Sie dazu die Eigenschaft <code>CurrentStackFrame</code> in die gew√ºnschte.  Sie k√∂nnen auch Aktualisierungen des Debugger-Wettbewerbs verfolgen, um das Bild beim √Ñndern neu zu zeichnen. <br><br>  Nat√ºrlich sollte ich mich nicht mit der Visualisierung von Graphen von Grund auf besch√§ftigen - daf√ºr gibt es viele spezielle Bibliotheken.  Der bekannteste von ihnen ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Graphviz</a> , und wir hatten vor, es zuerst zu verwenden.  F√ºr ein Plug-In f√ºr Visual Studio w√§re es jedoch logischer, die Bibliothek f√ºr C # zu verwenden, da ich darauf schreiben wollte.  Ich habe ein wenig gegoogelt und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MSAGL-</a> Bibliothek gefunden: Sie hatte alle erforderlichen Funktionen und eine einfache und intuitive Benutzeroberfl√§che. <br><br><h2>  Proof-of-Concept </h2><br>  Mit einem Mechanismus zur Berechnung beliebiger Ausdr√ºcke einerseits und einer Bibliothek zur Visualisierung von Graphen andererseits musste nun ein Prototyp erstellt werden.  Der erste Prototyp wurde f√ºr DFS erstellt, dann wurden der Dinits- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Algorithmus</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Kuhn-Algorithmus</a> , die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Suche nach doppelt verbundenen Komponenten</a> , der kartesische Baum und das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SNM</a> als Beispiele genommen.  Ich habe meine alten Implementierungen dieser Algorithmen vom ersten bis zum zweiten Jahr √ºbernommen, ein neues Plug-In erstellt und ein Diagramm erstellt, das dieser Aufgabe entspricht (alle Variablennamen wurden fest codiert).  Hier ist ein Beispiel eines Diagramms, das ich f√ºr den Kuhn-Algorithmus erhalten habe: <br><br><img src="https://habrastorage.org/webt/dr/bz/c1/drbzc1kb3yf0d2vkesimolwhhda.png"><br>  <i>In diesem Diagramm werden die aktuellen √úbereinstimmungskanten in lila angezeigt, der aktuelle dfs-Scheitelpunkt in rot, die besuchten Scheitelpunkte in grau und die Kanten einer alternierenden Kette, die nicht aus der √úbereinstimmung stammen, in rot.</i> <br><br>  Ich hielt es f√ºr zul√§ssig, den Algorithmuscode geringf√ºgig zu √§ndern, um die Visualisierung zu vereinfachen.  Im Fall des kartesischen Baums stellte sich beispielsweise heraus, dass es einfacher ist, alle erstellten Knoten zu einem Vektor hinzuzuf√ºgen, als den Baum im Plugin zu umgehen. <br><br>  Eine unangenehme Entdeckung war, dass der Debugger in Visual Studio das Aufrufen von Methoden und Funktionen aus der STL nicht unterst√ºtzt.  Dies bedeutete, dass es nicht m√∂glich war, das Vorhandensein eines Elements im Container mit <code>std::find</code> zu √ºberpr√ºfen, wie urspr√ºnglich angenommen.  Dieses Problem kann entweder durch Erstellen einer benutzerdefinierten Funktion oder durch Duplizieren der Eigenschaft "Das Element ist im Container enthalten" in einem Booleschen Array gel√∂st werden. <br><br>  In meinen Test-Plugins ist Folgendes passiert (wenn das Diagramm als Adjazenzliste gespeichert wurde): <br><br><ol><li>  Zuerst kommt die <code>for</code> Schleife von <code>0</code> nach <code>_debugger.GetExpression("n").Value</code> , der alle Scheitelpunkte zum Diagramm hinzuf√ºgt, jeder mit seiner eigenen Nummer. <br></li><li>  Dann gibt es zwei verschachtelte <code>for</code> <code>_debugger.GetExpression($"g[{i}].size()").Value</code> , die erste f√ºr <code>i</code> - von <code>0</code> bis <code>n</code> , die zweite f√ºr <code>j</code> - von <code>0</code> bis <code>_debugger.GetExpression($"g[{i}].size()").Value</code> und die Kante <code>{i, _debugger.GetExpression($"g[{i}][{j}]").Value}</code> . <br></li><li>  Bei Bedarf wurden den Beschriftungen der Scheitelpunkte und Kanten einige zus√§tzliche Informationen hinzugef√ºgt.  Zum Beispiel der Wert des Arrays <code>d</code> , der f√ºr den Abstand zum ausgew√§hlten Scheitelpunkt verantwortlich ist. <br></li><li>  Wenn der Algorithmus auf dfs basierte, durchlief eine Schleife alle Frames und alle Scheitelpunkte im Stapel ( <code>stackFrame.FunctionName.Equals("dfs") &amp;&amp; stackFrame.Arguments.Item(1) == v</code> ) wurden grau hervorgehoben. <br></li><li>  Dann wurden f√ºr jedes <code>i</code> von <code>0</code> bis <code>n</code> , das die Anzahl der Scheitelpunkte bezeichnet, einige Bedingungen √ºberpr√ºft, und wenn sie erf√ºllt waren, √§nderten sich einige Eigenschaften am Scheitelpunkt, meistens die Farbe. <br></li></ol><br>  Zu dieser Zeit schrieb ich den Code "nach Bedarf", ohne zu versuchen, ein allgemeines Schema f√ºr alle Algorithmen zu entwickeln oder den Code zumindest irgendwie sch√∂n zu schreiben.  Die Erstellung jedes neuen Plugins begann mit dem Kopieren und Einf√ºgen des vorherigen Plugins. <br><br><h2>  Diagrammkonfiguration </h2><br>  Nach der Untersuchung musste ein allgemeines Schema erstellt werden, das auf alle Algorithmen angewendet werden konnte.  Als erstes wurden die Indizes f√ºr die Eckpunkte und Kanten eingef√ºhrt.  Jeder Index hat einen eindeutigen Namen und Bereichsenden, die mit <code>_debugger.GetExpression</code> berechnet werden.  Verwenden Sie den von __ umgebenen Namen (d. H. __x__), um auf den Wert des Index zuzugreifen.  Ausdr√ºcke mit Stellen zum Ersetzen von Indexwerten sowie der Name der aktuellen Funktion (__CURRENT_FUNCTION__) und die Werte ihrer Argumente (__ARG1__, __ARG2__, ...) werden als Vorlagen bezeichnet. <br><br>  Indizes werden f√ºr jeden Scheitelpunkt oder jede Kante ersetzt und danach im Debugger berechnet.  Die Vorlagen wurden verwendet, um einige Indexwerte herauszufiltern (wenn der Graph als Adjazenzmatrix <code>c</code> gespeichert ist, sind die Indizes a und b von 0 bis n, und die Vorlage f√ºr die Validierung ist <code>c[__a__][__b__]</code> ).  Die Grenzen des Indexbereichs sind ebenfalls Vorlagen, da sie m√∂glicherweise fr√ºhere Indizes enthalten. <br><br>  Ein Diagramm kann verschiedene Arten von Scheitelpunkten und Kanten haben.  Beispielsweise kann bei der Suche nach der maximalen √úbereinstimmung in einem zweigeteilten Diagramm jeder Bruch separat indiziert werden.  Daher wurde das Konzept einer Familie f√ºr Eckpunkte und Kanten eingef√ºhrt.  F√ºr jede Familie werden die Indizierung und alle Eigenschaften unabh√§ngig voneinander bestimmt.  In diesem Fall k√∂nnen Kanten Scheitelpunkte aus verschiedenen Familien verbinden. <br><br>  Sie k√∂nnen einer Scheitelpunkt- oder Kantenfamilie bestimmte Eigenschaften zuweisen, die selektiv auf Elemente in der Familie angewendet werden.  Die Eigenschaft wird angewendet, wenn die Bedingung erf√ºllt ist.  Die Bedingung besteht aus einer Vorlage, die als <code>true</code> oder <code>false</code> ausgewertet wird, und einem regul√§ren Ausdruck f√ºr den Funktionsnamen.  Die Bedingung wird entweder nur f√ºr den aktuellen Glasrahmen oder f√ºr alle Glasrahmen gepr√ºft (und gilt dann als erf√ºllt, wenn sie f√ºr mindestens einen erf√ºllt ist). <br><br>  Die Eigenschaften sind sehr unterschiedlich.  F√ºr Scheitelpunkte: Beschriftung, F√ºllfarbe, Rahmenfarbe, Rahmenbreite, Form, Rahmenstil (z. B. gepunktete Linie).  F√ºr Kanten: Beschriftung, Farbe, Breite, Stil, Ausrichtung (Sie k√∂nnen zwei Pfeile angeben - von Anfang bis Ende oder umgekehrt; in diesem Fall k√∂nnen zwei Pfeile gleichzeitig vorhanden sein). <br><br>  Es ist wichtig, dass jedes Mal, wenn das Diagramm von Grund auf neu gezeichnet wird, der vorherige Status in keiner Weise ber√ºcksichtigt wird.  Dies kann ein Problem sein, wenn sich der Graph w√§hrend des Algorithmus dynamisch √§ndert - die Eckpunkte und Kanten k√∂nnen ihre Position dramatisch √§ndern, und dann ist es schwierig zu verstehen, was passiert. <br><br>  Eine detaillierte Beschreibung der Grafikkonfiguration finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h2>  Benutzeroberfl√§che </h2><br>  Mit der Schnittstelle habe ich beschlossen, nicht viel zu st√∂ren.  Das Hauptfenster mit den Einstellungen ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ToolWindow</a> ) enth√§lt einen Textbereich f√ºr die in JSON serialisierte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konfiguration</a> sowie eine Liste der Scheitelpunkt- und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kantenfamilien</a> .  Jede Familie hat ein eigenes Fenster mit Einstellungen, und jede Eigenschaft in der Familie hat ein weiteres Fenster (es werden drei Verschachtelungsebenen erhalten).  Das Diagramm selbst wird in einem separaten Fenster gezeichnet.  Es hat nicht funktioniert, es in ToolWindow einzuf√ºgen, daher habe ich einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fehlerbericht</a> an die MSAGL-Entwickler gesendet, aber sie haben geantwortet, dass dies nicht der Zielanwendungsfall ist.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein weiterer Fehlerbericht</a> wurde an Visual Studio gesendet, da TextBoxen manchmal in den zus√§tzlichen Einstellungsfenstern h√§ngen blieben. <br><br><img src="https://habrastorage.org/webt/n2/jo/-b/n2jo-buqxeq40a03zs0wochfrl0.png"><br><br><h2>  Plugin </h2><br>  Um das Diagramm zu konfigurieren, verf√ºgt das Plugin √ºber eine Benutzeroberfl√§che und die M√∂glichkeit, die Konfiguration in JSON (de) zu serialisieren.  Das allgemeine Wechselwirkungsschema aller Komponenten lautet wie folgt: <br><br><img src="https://habrastorage.org/webt/yv/kz/rx/yvkzrx4fglqdelkutvbdqzgqlj0.png"><br><br>  Blau zeigt die urspr√ºnglich vorhandenen Komponenten, grau - die ich erstellt habe.  Beim Start von Visual Studio wird die Erweiterung initialisiert (hier wird die Hauptkomponente als Hauptkomponente bezeichnet).  Der Benutzer hat die M√∂glichkeit, die Konfiguration √ºber die Schnittstelle festzulegen.  Jedes Mal, wenn der Debugger-Kontext ge√§ndert wird, wird die Hauptkomponente benachrichtigt.  Wenn die Konfiguration definiert und das zu debuggende Programm ausgef√ºhrt wird, wird GraphRenderer gestartet.  Er erh√§lt eine Konfigurationseingabe und erstellt mit Hilfe eines Debuggers ein Diagramm darauf, das dann in einem speziellen Fenster angezeigt wird. <br><br><h2>  Beispiele </h2><br>  Als Ergebnis habe ich ein Tool erstellt, mit dem Sie Diagrammalgorithmen visualisieren k√∂nnen und das kleine √Ñnderungen im Code erfordert.  Es wurde an acht verschiedenen Aufgaben getestet.  Hier sind einige resultierende Bilder: <br><br><img src="https://habrastorage.org/webt/a1/lw/z6/a1lwz6jlyloms0dfmzddoxx9gxk.png"><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ford-Bellman-Algorithmus</a> : Der Scheitelpunkt, zu dem wir die k√ºrzesten Wege z√§hlen, wird durch ein Haus angezeigt. Der aktuell k√ºrzeste Abstand f√ºr die Scheitelpunkte ist d. Rot gibt die Kante an, entlang der die Relaxation verl√§uft.</i> <br><br><img src="https://habrastorage.org/webt/5k/5h/rk/5k5hrko_liqr2kgbctgdeznbc44.gif"><br>  <i>Animation mit DFS - Der aktuelle Scheitelpunkt wird rot angezeigt, die Scheitelpunkte im Stapel sind grau und die anderen besuchten Scheitelpunkte sind gr√ºn.</i>  <i>Himbeerrippen geben die Richtung des Bypasses an.</i> <br><br>  Weitere Beispielalgorithmen finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier.</a> <br><br><h2>  NIR-Schutz </h2><br>  Um die Forschungsarbeit zu sch√ºtzen, m√ºssen die Studierenden innerhalb von sieben Minuten ein Semester lang √ºber ihre Arbeit berichten.  Unabh√§ngig davon, ob das Thema im Rahmen der Pr√§sentation der Forschungsarbeit vorgeschlagen wurde oder der Student es selbst gefunden hat, m√ºssen Sie in der Lage sein zu antworten, um zu begr√ºnden, warum das Thema des Projekts unter die zu Beginn beschriebenen Anforderungen f√§llt.  In der Regel ist ein Bericht wie folgt aufgebaut: Zuerst gibt es Motivation, dann eine √úberpr√ºfung der Analoga, es wird gesagt, warum sie nicht zu uns passen, dann werden Ziele und Vorgaben formuliert, und dann wird jede der Aufgaben beschrieben, wie sie gel√∂st wurden.  Am Ende gibt es eine Folie mit den Ergebnissen, die erneut besagt, dass das Ziel erreicht wurde und alle Aufgaben gel√∂st sind. <br><br>  Da ich mich bereits in der Anfangsphase f√ºr die Motivation und √úberpr√ºfung von Analoga entschieden hatte, musste ich nur alle Informationen zusammen sammeln und auf sieben Minuten komprimieren.  Am Ende gelang es mir, die Verteidigung verlief reibungslos, ich erhielt die maximale Punktzahl f√ºr die Forschung. <br><br><h2>  Referenzen </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub-Repository</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Visual Studio Marktplatz</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Post auf Codeforces</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de461473/">https://habr.com/ru/post/de461473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de461463/index.html">Gesch√§ftsprozesse in Unternehmen: Spekulation und Realit√§t. Licht mit R.</a></li>
<li><a href="../de461465/index.html">Messanleitung</a></li>
<li><a href="../de461467/index.html">Ein Beispiel f√ºr das Erstellen eines Makefile f√ºr Go-Anwendungen</a></li>
<li><a href="../de461469/index.html">Wie ist es, Code mit 1000 W√∂rtern pro Minute zu h√∂ren?</a></li>
<li><a href="../de461471/index.html">.NET - Tools zum Arbeiten mit Multithreading und Asynchronit√§t - Teil 2</a></li>
<li><a href="../de461475/index.html">AMA mit Habr. 1011</a></li>
<li><a href="../de461483/index.html">Openstack Load Balancing</a></li>
<li><a href="../de461487/index.html">Mini-CTF-Aufgaben</a></li>
<li><a href="../de461493/index.html">Django 3.0 wird asynchron sein</a></li>
<li><a href="../de461497/index.html">Modernes Text-Rendering unter Linux: Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>