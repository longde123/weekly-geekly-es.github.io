<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚Äçüßëüèª üí™üèæ üï∫ Como criar um tema sombrio sem interromper as coisas: aprendendo com a equipe do Yandex Mail üëÇüèº üòé üÜë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Meu nome √© Vladimir e desenvolvo front-end m√≥vel para o Yandex Mail. Nossos aplicativos t√™m um tema sombrio h√° algum tempo, mas estava incompleto: ape...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como criar um tema sombrio sem interromper as coisas: aprendendo com a equipe do Yandex Mail</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/450032/"><p><img src="https://habrastorage.org/webt/ji/4q/pr/ji4qprfkpuotssmzabus4cjflrq.png"></p><br><p>  Meu nome √© Vladimir e desenvolvo front-end m√≥vel para o Yandex Mail.  Nossos aplicativos t√™m um tema sombrio h√° algum tempo, mas estava incompleto: apenas a interface e os e-mails comuns estavam sombrios.  As mensagens com formata√ß√£o personalizada permaneciam leves e se destacavam na interface escura, ferindo os olhos dos usu√°rios √† noite. </p><br><p>  Hoje vou contar como solucionamos esse problema.  Voc√™ aprender√° sobre duas t√©cnicas simples que n√£o funcionaram para n√≥s e o m√©todo que finalmente fez o truque - a recolora√ß√£o adaptativa da p√°gina.  Tamb√©m vou compartilhar algumas id√©ias sobre como adaptar imagens a um tema sombrio.  Para ser justo, escurecer as p√°ginas com CSS personalizado √© uma tarefa bastante peculiar, mas acredito que alguns de voc√™s podem achar √∫til a nossa experi√™ncia. </p><a name="habracut"></a><br><h2 id="simple-methods">  M√©todos simples </h2><br><p>  Antes de decidirmos nossa t√©cnica m√°gica de flex√£o de cores, testamos duas op√ß√µes realmente b√°sicas: aplicar estilo escuro adicional ou um filtro CSS aos elementos.  Nenhuma op√ß√£o funcionou para n√≥s, mas elas podem ser mais adequadas em outros casos (simples √© legal, certo?). </p><br><h3 id="overriding-styles">  Substituindo estilos </h3><br><p>  Essa √© uma op√ß√£o simples, que estende logicamente o pr√≥prio tema escuro do CSS do aplicativo.  Voc√™ acabou de colocar estilos escuros extras em um cont√™iner de email (ou, em geral, em um cont√™iner para o conte√∫do gerado pelo usu√°rio escurecer): </p><br><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.message--dark</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: black; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: white; }</code> </pre> <br><p>  No entanto, qualquer estilo nos elementos contidos no email substituir√° nosso estilo raiz.  E n√£o <code>!important</code> n√£o ajuda aqui.  A id√©ia pode dar um passo adiante, impedindo a heran√ßa: </p><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.message--dark</span></span> * { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: black <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: white <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: <span class="hljs-number"><span class="hljs-number">#333</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; }</code> </pre> <br><p>  Nesse caso, voc√™ n√£o pode prescindir <code>!important</code> , pois o seletor em si n√£o √© muito espec√≠fico.  Isso tamb√©m substitui a maioria dos estilos inline (aqueles com inline <code>!important</code> ainda encontrar√£o seu caminho, e n√£o h√° muito o que fazer sobre isso). </p><br><p>  Nosso estilo pinta avidamente tudo da mesma cor, introduzindo outro problema.  H√° uma chance de o designer querer dizer algo com a maneira como organizam as cores (voc√™ sabe, prioridades, combina√ß√µes, todo esse material de designer), e apenas pegamos a ideia e jogamos pela janela.  N√£o √© uma coisa agrad√°vel de se fazer. </p><br><p><img src="https://habrastorage.org/webt/cu/-1/ka/cu-1kav8ydvyjxlobshlklgio9u.png"></p><br><p>  Se voc√™ n√£o respeita tanto os designers quanto eu e decide seguir esse m√©todo, n√£o se esque√ßa de lidar com as coisas n√£o t√£o √≥bvias: </p><br><ul><li>  <code>box-shadow</code> .  No entanto, voc√™ n√£o poder√° substituir apenas a cor.  Ou livre-se das sombras ou fa√ßa as pazes com as claras. </li><li>  As cores dos elementos sem√¢nticos, como links ou entradas. </li><li>  SVG embutido.  Use <code>fill</code> vez de <code>background</code> de <code>background</code> e <code>stroke</code> vez de <code>color</code> , mas voc√™ nunca pode ter certeza, pode ser o contr√°rio. </li></ul><br><p>  Do ponto de vista t√©cnico, esse √© um m√©todo s√≥lido: s√£o necess√°rias tr√™s linhas de c√≥digo (OK, trinta para uma vers√£o pronta para produ√ß√£o com todos os casos de borda resolvidos), √© compat√≠vel com todos os navegadores do mundo, funciona em p√°ginas din√¢micas prontas para uso, e a maneira como o CSS √© anexado ao documento √© completamente irrelevante.  H√° tamb√©m um b√¥nus interessante: voc√™ pode facilmente ajustar as cores no estilo para corresponder √†s cores principais do aplicativo (por exemplo, torne o plano de fundo <code>#bbbbb8</code> vez de preto). </p><br><p>  A prop√≥sito, √© assim que costum√°vamos escurecer os e-mails antes.  Se um e-mail tivesse estilos pr√≥prios, desistir√≠amos e deixar√≠amos claro, apenas por precau√ß√£o. </p><br><h3 id="using-a-css-filter">  Usando um filtro CSS </h3><br><p>  Este √© um m√©todo inteligente e elegante.  Voc√™ pode escurecer uma p√°gina usando um filtro CSS: </p><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.message--dark</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">filter</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">invert</span></span>(100) <span class="hljs-built_in"><span class="hljs-built_in">hue-rotate</span></span>(180deg); <span class="hljs-comment"><span class="hljs-comment">/* hue-rotate    */</span></span> }</code> </pre> <br><p>  As imagens ficam assustadoras, mas podemos facilmente corrigir isso: </p><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.message-dark</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">img</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">filter</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">invert</span></span>(100) <span class="hljs-built_in"><span class="hljs-built_in">hue-rotate</span></span>(180deg); }</code> </pre> <br><p><img src="https://habrastorage.org/webt/dr/3a/ix/dr3aix8opihd2nlq6oqzjfbdtvs.png"></p><br><p>  No entanto, isso n√£o resolve o problema das imagens de conte√∫do anexadas por meio da propriedade background (claro, √© √∫til para ajustar a propor√ß√£o, mas e a sem√¢ntica?).  OK, vamos supor que podemos encontrar todos esses elementos, marc√°-los explicitamente e mudar suas cores tamb√©m. </p><br><p>  O bom desse m√©todo √© que ele preserva o brilho original e o equil√≠brio do contraste.  Por outro lado, est√° cheio de problemas que superam as vantagens: </p><br><p><img src="https://habrastorage.org/webt/ed/qe/h1/edqeh1dpkqv-w2gydobzojuaia0.png" width="300"></p><br><ol><li>  P√°ginas escuras tornam-se brilhantes. </li><li>  Voc√™ n√£o pode controlar as cores finais.  Que filtro voc√™ aplica ao plano de fundo para que ele corresponda √† sua marca <code>#bbbbb8</code> ?  Isso √© um arranh√£o de cabe√ßa real. </li><li>  A invers√£o dupla torna as imagens desbotadas. </li><li>  O desempenho √© lento, especialmente em dispositivos m√≥veis - faz sentido, em vez de simplesmente renderizar a p√°gina, o navegador executa transforma√ß√µes de Fourier a cada empate. </li></ol><br><p>  Esse m√©todo funcionaria para emails com texto em cores neutras, mas nunca conheci algu√©m com uma caixa de entrada cheia desse conte√∫do.  Por outro lado, os filtros s√£o a √∫nica maneira de escurecer os elementos sem acessar seu conte√∫do - quadros, componentes da Web ou imagens. </p><br><h2 id="adaptive-dark-theme">  Tema escuro adapt√°vel </h2><br><p>  E agora √© hora de m√°gica!  Com base nas desvantagens das duas primeiras abordagens, fizemos uma lista de verifica√ß√£o do que devemos cuidar: </p><br><ol><li>  Torne o fundo escuro, o texto claro e as bordas em algum ponto intermedi√°rio. </li><li>  Detecte p√°ginas escuras e preserve suas cores. </li><li>  Mantenha o equil√≠brio original de brilho e contraste. </li><li>  Controle as cores resultantes. </li><li>  Deixe os tons inalterados. </li></ol><br><p>  Portanto, voc√™ precisa alterar as cores dos estilos para tornar o fundo escuro.  Por que n√£o fazer isso literalmente?  Pegue todos os estilos, extraia as regras relacionadas √† <code>color</code> ( <code>color</code> , <code>background</code> , <code>border</code> , <code>box-shadow</code> e suas subpropriedades) e substitua-as por suas vers√µes "escuras": escure√ßa o fundo e as bordas (mas n√£o tanto quanto as fundo), ilumine o texto etc. </p><br><p>  Este m√©todo tem uma vantagem incr√≠vel que aquecer√° o cora√ß√£o de qualquer desenvolvedor.  Voc√™ pode configurar regras de convers√£o de cores para cada propriedade - sim, usando o c√≥digo!  Com um pouco de imagina√ß√£o, voc√™ pode ajustar as cores a qualquer tema externo, executar qualquer corre√ß√£o de cor desejada (por exemplo, fazer um tema claro em vez de escuro, ou um tema de qualquer cor que voc√™ quiser) e at√© adicionar um um pouco de contextualidade - por exemplo, trate as margens amplas e estreitas de maneira diferente. </p><br><p>  As desvantagens s√£o o que voc√™ esperaria de uma abordagem "tudo em js".  Executamos scripts, bagun√ßamos o encapsulamento de estilo e analisamos CSS com regex.  O √∫ltimo, no entanto, n√£o √© t√£o humilhante quanto o HTML, porque a gram√°tica CSS √© regular (pelo menos no n√≠vel em que estamos trabalhando). </p><br><p>  Aqui est√° o nosso plano sombrio: </p><br><ol><li>  Normalize as propriedades do estilo herdado ( <code>bgcolor</code> e outros) e mova-as para <code>style="..."</code> . </li><li>  Encontre todos os estilos em linha. </li><li>  Encontre todas as regras relacionadas a cores em cada estilo ( <code>background-color</code> , <code>color</code> , <code>box-shadow</code> e outras). </li><li>  Pegue as cores das propriedades relacionadas √† cor e combine-as com o conversor correto (escurecer o fundo, clarear o texto). </li><li>  Ligue para o conversor. </li><li>  Coloque as propriedades convertidas novamente no CSS. </li></ol><br><p>  O c√≥digo do wrapper - normaliza√ß√£o, localiza√ß√£o de estilos, an√°lise - √© bastante trivial.  Vamos ver como exatamente nosso conversor m√°gico funciona. </p><br><h3 id="hsl-conversions">  Convers√µes HSL </h3><br><p>  Escurecer uma cor n√£o √© t√£o simples quanto parece, especialmente se voc√™ deseja preservar a tonalidade (por exemplo, transformar azul em azul escuro, n√£o laranja).  Voc√™ pode fazer isso em RGB comum, mas √© problem√°tico.  Se voc√™ gosta de design algor√≠tmico, sabe que em RGB, mesmo os gradientes est√£o quebrados.  Enquanto isso, trabalhar com cores no HSL √© um verdadeiro prazer: em vez de vermelho, verde e azul, com os quais voc√™ n√£o tem id√©ia do que fazer, voc√™ tem os tr√™s canais a seguir: </p><br><ul><li>  Matiz - o que estamos procurando preservar. </li><li>  Satura√ß√£o, que n√£o √© muito importante para n√≥s no momento. </li><li>  Leveza, que estaremos mudando. </li></ul><br><p>  Voc√™ pode pensar nisso como um cilindro.  Precisamos virar esse cilindro de cabe√ßa para baixo.  A corre√ß√£o de cores faz algo assim: <code>(h, s, l) =&gt; [h, s, 1-l]</code> . </p><br><h3 id="colors-that-are-already-ok">  Cores que j√° est√£o OK </h3><br><p>  √Äs vezes, temos sorte e o design personalizado do email (ou parte dele) j√° est√° escuro.  Isso significa que n√£o precisamos mudar nada - o designer provavelmente fez um trabalho melhor ao escolher as cores do que o nosso algoritmo jamais poderia sonhar.  No HSL, voc√™ s√≥ precisa considerar o L - Lightness.  Se o seu valor for maior ou menor (para o texto e o plano de fundo, respectivamente) que o limite (que voc√™ pode definir), deixe-o em paz. </p><br><h3 id="dynamic-circus">  Circo din√¢mico </h3><br><p>  Mesmo que n√£o precis√°ssemos disso (muito obrigado, desinfetante, voc√™ salvou meu dia aqui), vou listar os recursos extras que um tema adapt√°vel precisa para escurecer as p√°ginas inteiras e n√£o apenas os e-mails est√°ticos engra√ßados dos anos 90.  Aviso justo: esta tarefa n√£o √© para todos. </p><br><h4 id="dynamic-inline-styles">  Estilos inline din√¢micos </h4><br><p>  Alterar estilos embutidos √© o caso mais simples que atrapalha nossas p√°ginas escuras.  √â comum, mas h√° uma corre√ß√£o simples: adicione <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>MutationObserver</code></a> e corrija estilos embutidos assim que as altera√ß√µes ocorrerem. </p><br><h4 id="external-styles">  Estilos externos </h4><br><p>  Trabalhar com estilos referenciados por um elemento <code>&lt;link&gt;</code> de dentro da p√°gina pode ser angustiante devido √† ass√≠ncronia e √†s instru√ß√µes <code>@import</code> .  E o CORS n√£o melhora as coisas.  Parece que esse problema pode ser resolvido com bastante eleg√¢ncia com um trabalhador da Web (proxying all <code>*.css</code> ). </p><br><h4 id="dynamic-styles">  Estilos din√¢micos </h4><br><p>  Para piorar as coisas, os scripts podem adicionar, remover ou reorganizar os elementos <code>&lt;style&gt;</code> e <code>&lt;link&gt;</code> conforme desejarem, e at√© alterar as regras em <code>&lt;style&gt;</code> .  Aqui voc√™ tamb√©m precisar√° usar o <code>MutationObserver</code> , mas todas as altera√ß√µes ter√£o mais processamento. </p><br><h4 id="css-variables">  Vari√°veis ‚Äã‚ÄãCSS </h4><br><p>  As coisas ficam realmente loucas quando vari√°veis ‚Äã‚ÄãCSS entram em jogo.  Voc√™ n√£o pode escurecer as vari√°veis: mesmo que voc√™ ache que uma vari√°vel cont√©m uma cor com base em seu formato (embora eu recomendo isso), voc√™ ainda n√£o sabe qual √© o seu papel - plano de fundo, texto, borda ou tudo de uma vez?  Al√©m disso, os valores das vari√°veis ‚Äã‚ÄãCSS s√£o herdadas; portanto, √© necess√°rio rastrear n√£o apenas os estilos, mas os elementos aos quais s√£o aplicados, e isso rapidamente sai de controle. </p><br><p>  Depois que as vari√°veis ‚Äã‚ÄãCSS chegam ao mainstream, estamos com problemas.  Por outro lado, <code>color()</code> ser√° suportado at√© ent√£o, permitindo substituir todas as nossas convers√µes JS por uma <code>color(var(--bg) lightness(-50%))</code> . </p><br><h3 id="summary">  Sum√°rio </h3><br><p><img src="https://habrastorage.org/webt/46/rl/mz/46rlmzxvgus52n7_77t3ydz2ms0.png"></p><br><p>  No nosso caso, quando o desinfetante deixa apenas estilos embutidos, o escurecimento adapt√°vel no n√≠vel CSS funciona como um encanto: oferece um escurecimento de melhor qualidade, n√£o atrapalha a estrutura original e √© relativamente simples e r√°pido.  Mas estend√™-lo para lidar com p√°ginas din√¢micas provavelmente n√£o vale a pena.  Felizmente, se voc√™ estiver trabalhando com conte√∫do gerado pelo usu√°rio e n√£o estiver desenvolvendo um navegador, provavelmente o seu desinfetante funcionar√° da mesma maneira. </p><br><p>  Na pr√°tica, o modo adapt√°vel deve ser pareado com substitui√ß√µes de estilo, pois elementos padr√£o como <code>&lt;input&gt;</code> ou <code>&lt;a&gt;</code> costumam usar os estilos de luz padr√£o. </p><br><h2 id="how-to-darken-images">  Como escurecer imagens </h2><br><p>  O escurecimento da imagem √© uma quest√£o separada que me incomoda pessoalmente.  √â desafiador e me d√° uma desculpa para finalmente usar a frase "an√°lise espectral".  Existem v√°rios problemas t√≠picos com imagens em um tema sombrio. </p><br><p>  Algumas imagens s√£o muito claras.  Isso nos d√° o mesmo problema que os e-mails brilhantes com os quais come√ßamos nossa busca.  Esse problema geralmente surge em fotos comuns, mas n√£o √© exclusivo delas.  Como escrever CSS para boletins informativos n√£o √© muito divertido, algumas pessoas gostam de pular cantos, inserindo um layout complexo como imagem, o que evita o escurecimento.  Quando vejo isso, meu perfeccionista interior geme de frustra√ß√£o.  Essas imagens devem estar esmaecidas, mas n√£o invertidas, a menos que voc√™ queira assustar seus usu√°rios. </p><br><p><img src="https://habrastorage.org/webt/6-/zz/nx/6-zznxvkap9ywdvgjpglm5v6wqc.png"></p><br><p>  Depois, h√° imagens escuras com transpar√™ncia real.  Esse √© um problema t√≠pico dos logotipos - eles s√£o projetados com um plano de fundo claro em mente e, quando o substitu√≠mos por um plano de fundo escuro, o logotipo desaparece nele.  Essas imagens precisam ser invertidas. </p><br><p><img src="https://habrastorage.org/webt/xo/at/cc/xoatcc7dg3nhb_ufdoyye4hxsoo.png"></p><br><p>  Em algum lugar no meio h√° imagens que usam um fundo branco que deve representar transpar√™ncia.  No tema sombrio, eles simplesmente terminam em um estranho tri√¢ngulo branco.  Em um mundo perfeito, poder√≠amos mudar o fundo branco para um transparente, mas se voc√™ j√° usou uma ferramenta de varinha m√°gica, sabe como √© dif√≠cil fazer isso automaticamente. </p><br><p><img src="https://habrastorage.org/webt/fi/o4/v9/fio4v9n1lcpve_wa1jhj5usj4yo.png"></p><br><p>  Curiosamente, algumas imagens n√£o t√™m significado algum.  Geralmente, eles est√£o rastreando pixels ou "suportes de formato" em layouts particularmente bizarros.  Voc√™ pode torn√°-los invis√≠veis com seguran√ßa (digamos, com <code>opacity: 0</code> ). </p><br><p><img src="https://habrastorage.org/webt/5y/ba/tu/5ybatucrfhczsgc_aqykbgtnop0.png"></p><br><h3 id="analyzing-whats-inside">  Analisando o que est√° dentro </h3><br><p>  Para descobrir como ajustar uma imagem para um tema escuro, precisamos olhar para dentro e analisar seu conte√∫do, de prefer√™ncia com um m√©todo r√°pido e simples.  Aqui est√° a primeira vers√£o de um algoritmo que resolve isso. </p><br><p>  Primeiro conte os pixels escuros, claros e transparentes da imagem.  Como uma otimiza√ß√£o √≥bvia, apenas um pequeno subconjunto de pixels pode ser considerado.  Em seguida, determine o brilho geral da imagem (claro, escuro ou m√©dio) e se h√° alguma transpar√™ncia.  Inverta imagens escuras com transpar√™ncia, ofusque imagens brilhantes e opacas e deixe o restante inalterado. </p><br><p>  Fiquei muito feliz com essa descoberta, at√© encontrar um boletim de caridade com uma foto de uma li√ß√£o em uma escola africana.  O designer centralizou-o adicionando pixels transparentes nas laterais.  Como n√£o quer√≠amos nos envolver em uma hist√≥ria sobre reconhecimento ofensivo de imagens, decidimos deixar a manipula√ß√£o de imagens fora de nossa primeira itera√ß√£o. </p><br><p>  No futuro, podemos evitar esses problemas empregando a heur√≠stica que chamo de "an√°lise espectral".  Ou seja, contando o n√∫mero de matizes diferentes na imagem e apenas invertendo se n√£o houver muitos deles.  Voc√™ pode usar o mesmo m√©todo para reconhecer imagens esbo√ßadas brilhantes e invert√™-las tamb√©m. </p><br><p><img src="https://habrastorage.org/webt/sj/c1/di/sjc1diiz68fpljjzii64f9j7nrq.png"></p><br><h2 id="conclusion">  Conclus√£o </h2><br><p>  Para criar um tema escuro completo, tivemos que encontrar uma maneira de escurecer os emails que cont√™m formata√ß√£o personalizada - e foi o que fizemos.  Primeiro, tentamos duas solu√ß√µes CSS simples e puras - substituindo estilos e usando um filtro CSS.  Nenhum deles atingiu a marca: o primeiro foi muito duro com o design original e o outro simplesmente n√£o funcionou bem.  No final, decidimos usar o escurecimento adapt√°vel.  Separamos os estilos, substitu√≠mos as cores e as juntamos novamente.  No momento, estamos trabalhando para aplicar o tema sombrio √†s imagens.  Para fazer isso, precisamos analisar o conte√∫do deles e depois ajustar apenas alguns deles. </p><br><p>  Se voc√™ precisar alterar a cor dos snipets HTML personalizados para ajust√°-los a um tema sombrio, lembre-se de tr√™s m√©todos: </p><br><ul><li>  Substituindo estilos.  √â um m√©todo sem confus√£o, sem confus√£o, e voc√™ precisar√° dele para a sua aplica√ß√£o de qualquer maneira.  A m√° not√≠cia √© que destr√≥i todas as cores originais. </li><li>  Filtro CSS.  √â divertido, mas deixa muito a desejar.  Reserve-o para elementos que n√£o s√£o f√°ceis de acessar, como quadros ou componentes da web. </li><li>  Reescrita de estilo.  Esse m√©todo faz um √≥timo trabalho no escurecimento, mas √© mais complexo. </li></ul><br><p>  Mesmo se voc√™ nunca tentar isso, espero que voc√™ tenha se divertido ao ler este artigo! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt450032/">https://habr.com/ru/post/pt450032/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt450020/index.html">O Vale do Sil√≠cio chegou √†s crian√ßas do Kansas. Isso levou a protestos.</a></li>
<li><a href="../pt450024/index.html">Sobre implementa√ß√µes de c√≥digo aberto da fun√ß√£o de hash GOST R 34.11-2012 e seu impacto na assinatura eletr√¥nica do GOST R 34.10-2012</a></li>
<li><a href="../pt450026/index.html">Cifra de acelera√ß√£o: estudamos o aceler√¥metro de um dispositivo Android usando o exemplo da tarefa NeoQUEST-2019</a></li>
<li><a href="../pt450028/index.html">Construindo uma arquitetura orientada a servi√ßos no Rails + Kafka</a></li>
<li><a href="../pt450030/index.html">N√£o posso usar o Rift S e voc√™ tamb√©m n√£o ter√° sucesso</a></li>
<li><a href="../pt450034/index.html">Por que voc√™ deve participar de hackathons</a></li>
<li><a href="../pt450036/index.html">Summ3r 0f h4ck: est√°gio Digital Security 2019</a></li>
<li><a href="../pt450040/index.html">Nova empresa dar√° suporte ao OpenJDK 8 e 11 - entendemos a situa√ß√£o</a></li>
<li><a href="../pt450042/index.html">Layout de teclado estendido russo</a></li>
<li><a href="../pt450044/index.html">Procurando um problema no lugar errado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>