<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôéüèæ üë©üèø‚Äçüè≠ üôáüèæ C√≥mo salir de la sala de escape üñïüèΩ üèÇüèæ üö¥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El art√≠culo es en parte una advertencia de suposiciones, sin excluir que el desarrollador pueda sentir todas sus desventajas, en parte un intento de e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo salir de la sala de escape</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/406235/"> El art√≠culo es en parte una advertencia de suposiciones, sin excluir que el desarrollador pueda sentir todas sus desventajas, en parte un intento de explicar lo que el cliente podr√≠a querer de usted, en parte el trabajo sobre errores o el reconocimiento de "enga√±arse a s√≠ mismo".  Precauci√≥n: DotA jerga adelante, "¬°No soy un geek!", As√≠ como una presentaci√≥n h√°bil sin la ayuda de esteras.  Si contin√∫a leyendo, se arriesga a formarse la opini√≥n de que el autor es un animal absolutamente rechazado que no conoce la piedad, el miedo y la misericordia ¬©.  Simplemente d√© por sentado que todos tienen derecho a ser imperfectos, y todo estar√° bien con nosotros.  Por favor y gracias. <br><a name="habracut"></a><br>  Se trabaj√≥ en la automatizaci√≥n de la sala de escape, cuyos detalles, como es habitual, se omitir√°n.  Este trabajo dur√≥ m√°s de un a√±o, e inicialmente hubo defectos realmente tangibles en vista de la falta de experiencia banal, pero luego todo se convirti√≥ en una gesti√≥n no √≥ptima.  Los clientes (llam√©mosles, por ejemplo, Goodwin y Urfin) se dedicaron principalmente al componente cosm√©tico del proyecto, trabajaron desde y hacia, despu√©s de que nos centramos en la l√≥gica y la implementaci√≥n en s√≠, porque las puertas y los objetos estaban listos, y ten√≠amos que asegurarnos de que Se mudaron.  El tiempo comenz√≥ a aplastarse, y en alg√∫n momento dormimos 5 horas al d√≠a. <br><br>  Por supuesto, es necesario difuminar los detalles para mantener el secreto, pero es demasiado concreto para que lo recuerde y no tendr√° √©xito, porque detuve cualquier trabajo en √©l hace m√°s de 5 meses.  Todos los d√≠as hab√≠a suficiente trabajo para permitirme abrir una lata con un poco de saurio con un cuchillo sin filo, y las bolsas de t√© eran tan compactas que el basurero estaba feliz de verme cada dos semanas.  Mi habitaci√≥n se convirti√≥ en un conducto de ventilaci√≥n, en el que viv√≠a Rebecca de la pel√≠cula Aliens.  O "Alien 2", como quieras.  Si alguien no recuerda, entonces aqu√≠ hay una pantalla con un mont√≥n de basura: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/248/206/110/248206110be3ae359e2af2cda0c7df10.jpg" alt="Rebecca la tritona"><br><br>  El evento que sirvi√≥ como desencadenante;  algo que me hizo escribir "gg" en el chat y ducharme, ya que no fue as√≠.  Me acaba de visitar un pensamiento claro y claro: necesito un largo descanso.  El transmisor de mi tel√©fono celular entr√≥ en modo avi√≥n durante 4 meses.  Los mismos 4 meses en las estad√≠sticas de solicitudes de cara, contacto, foros en los que mis datos de cookies podr√≠an aparecer de alguna manera fueron marcados por tal agujero.  Nadie, a trav√©s de ning√∫n canal, podr√≠a contactarme.  Simplemente me sent√© en una habitaci√≥n en un zumbido, como estofado y rodar en un dothan.  Ocupaci√≥n asquerosa, lo s√©, pero tuve tiempo para alcanzar la perfecci√≥n al menos en alg√∫n lugar. <br><br>  Resumiendo todo el proyecto, puedo nombrar inmediatamente su principal error: la falta de un enfoque sistem√°tico.  S√© que Space Odyssey utiliz√≥ una placa de interfaz especial que proporciona interacci√≥n perif√©rica con TCP / IP.  No ten√≠a tales tablas, solo un pu√±ado de Arduino, que al final eran necesarias para algunas cosas completamente simples.  Intentamos reducir todo lo posible a la gesti√≥n de un simple 0 o 1, derribo, como dicen los microcontroladores.  Esto redujo la carga en el servidor central ensamblado en el Mega2560 para recibir y emitir informaci√≥n en la web con la menor demora.  La l√≥gica de la b√∫squeda se reescribi√≥ de Wiring a JavaScript, pero esto provoc√≥ frenos, porque JS se ejecuta en un sistema que no es RTOS, como resultado, la l√≥gica se reescribi√≥ a su propio formato (xml, que gui√≥ la aplicaci√≥n Java), aunque generalmente es ingenuo creer que Esto dio algo, porque todav√≠a se est√° ejecutando en el entorno de Windows.  En general, algo aparentemente ya depurado a menudo se rehizo en este trabajo, donde de repente salieron algunas jambas, e inicialmente se escribi√≥ el art√≠culo sobre esto;  pero ahora se trata del hecho de que la implementaci√≥n de la l√≥gica la lleva a cabo la aplicaci√≥n en Java, m√°s precisamente, acerca de las razones y requisitos previos para esto. <br><br>  ¬øPor qu√© Java y no JS?  No tengo idea, fue escrito por otra persona, aparentemente este instrumento le es m√°s familiar.  Despu√©s de haber recibido un mensaje del grupo de Whatsapp sobre mi falta de presentaci√≥n para aclarar los detalles, este hombre envi√≥ una foto de Picard al grupo con la mano en la cabeza, pero si sab√≠a que en ese momento no me importaba en absoluto, creo que podr√≠a entenderlo.  E intentaremos descubrir c√≥mo sucedi√≥.  Ahora, los posibles ladridos entre s√≠ ya no son molestos: "son inadecuados, no obedecen los requisitos, no cumplen con los est√°ndares y reglas de operaci√≥n, ponen el equipo en modos inaceptables, cuestionan mis calificaciones con cada frase", "√©l es inadecuado, incompetente, para completar el proyecto no es tal vez rompa los plazos, alteraciones constantes, alg√∫n tipo de fabricaci√≥n propia que no sea como la de los dem√°s ", etc., etc. <br><br>  Enfurecido y suficiente.  Goodwin y Urfin siguen siendo demonios, pero lo √∫ltimo que me habr√≠a pasado por la cabeza es arruinar intencionalmente sus negocios.  No obtendr√© ning√∫n beneficio, pero a pesar del da√±o, as√≠ de simple, no por el bien com√∫n.  Entonces, ¬øpor qu√© empeorar el mundo?  Creo que su prioridad no es particularmente alta para la tarea de encantarme y organizar la anti-publicidad para que nadie me contacte.  Es poco probable que tal tarea se haya establecido.  La experiencia es una maestra severa, y necesitas encontrar la fuerza en ti mismo para seguir adelante.  Y lo m√°s importante es usar esta experiencia.  Parte de esta experiencia, al menos la que recuerdo, me atrevo a esperar, te la transmitir√©, querido lector. <br><br>  Con poca frecuencia nos cubrimos con obscenidades, pero a√∫n as√≠ el estado de √°nimo era regular.  Para no volverme loco, tuve que usar lo m√°s dif√≠cil de todo lo que pod√≠a encontrar en el trabajo: gu√≠as VJLink y transmisiones de Karina.  S√≠, s√≠, te recuerdo: no soy un geek, solo soy un animal.  Por supuesto, soy consciente de que estos dos son imb√©ciles cl√≠nicos: no piense que uno de ellos es un maestro espiritual para m√≠;  itpedia es mucho m√°s adecuado para este rol.  Pero de alguna manera nos distrajimos de la b√∫squeda, los pensamientos a lo largo del camino se redujeron a "s√≠, lo volvimos a ver, tanto como sea posible, cuando termina".  En general, la falta de entusiasmo en cualquier proyecto se refleja de la manera m√°s desagradable.  ¬øQui√©n necesita sudar cuando Slark en tu equipo tiene 0-7?  Por lo tanto, est√° aqu√≠: si cada tarea, cada soluci√≥n implementada se encuentra con una falla en una falla, toda esperanza se derrite.  Si√©ntese y compartir√© algunas ideas sobre c√≥mo prevenir esto.  Adem√°s, me gustar√≠a ver m√°s de estos trucos en los comentarios.  Cualquier experiencia es subjetiva, pero es un gran volumen de precedentes lo que les permite generalizar y analizar.  Para estudiar  Comet√≠ muchos errores, pero a√∫n no todos los posibles.  Probablemente, uno de los lectores encontr√≥ algo m√°s, pero en general algo similar.  Comparta su experiencia, todos se lo agradecer√°n. <br><br><h3>  Mis reglas </h3><br><ul><li>  Todos los sensores deben tener una indicaci√≥n. </li><li>  Todos los comparadores deben tener hist√©resis. </li><li>  Todos los giros deben estar soldados. </li><li>  Todos los cables de alimentaci√≥n deben ser gruesos. </li><li>  Todos los cables de se√±al deben estar apantallados. </li><li>  Todos los cables con voltajes superiores a 40 V deben tener un mejor aislamiento que un par romo.  220 sobre par trenzado o fideos - Moveton. </li><li>  Todas las salidas deben tener un colector abierto / drenaje abierto. </li><li>  Todas las entradas deben recibir se√±ales a trav√©s del bucle / optoacopladores actuales. </li><li>  Todos los dispositivos que realizan recepci√≥n y transmisi√≥n as√≠ncronas deben tener un modelador de pulsos de reinicio y un temporizador de vigilancia para estar listos para recibir en cualquier momento. </li><li>  Todos los dispositivos de conmutaci√≥n deben tener circuitos de supresi√≥n de chispas.  Los rel√©s especialmente, los contactos adhesivos no son divertidos. </li><li>  Cualquier mec√°nico m√°s pesado que un kilogramo ama una caja de cambios.  Las personas que ponen el motor directamente en el ladrillo, sin una caja de cambios, saben: la mano de Satan√°s alcanzar√° a cualquiera.  Solo maldita sea: 3 </li><li>  Todas las cargas inductivas deben tener un diodo antiparalelo para suprimir el EMF de autoinducci√≥n.  Si la corriente puede fluir en ambas direcciones (cerraduras de apertura / cierre desde el actuador autom√°tico, motor, etc.), en lugar del diodo, el capacitor es de 0.1 ŒºF. </li><li>  Las resistencias, transistores y optoacopladores no son superfluos. </li><li>  Las resistencias en especie no son superfluas, especialmente cuando hay un conector ISP. </li><li>  El conector ISP debe ser tal que no pueda insertarse al rev√©s. </li><li>  A las bater√≠as no les gusta la descarga profunda.  No importa qu√©, ninguno. </li><li>  Bater√≠as usadas, especialmente. </li><li>  La estabilizaci√≥n de cuarzo es buena y positiva, como Sergei Simonov.  Agitar 555 en aplicaciones de tiempo cr√≠tico es malo y negativo. </li><li>  Un cable siempre es mejor que una radio. </li></ul><br><h3>  Los sensores de movimiento, tel√©metros, interruptores de l√°minas y sensores no son sensores de presencia </h3><br>  Aunque est√° escrito en la descripci√≥n del producto HC-SR501, pero no.  NO detecta presencia.  Determina las perturbaciones en el patr√≥n de interferencia, que el sensor ve a trav√©s de la lente Fresnel.  La presencia de una persona en un √°rea determinada est√° determinada por la interrupci√≥n del haz infrarrojo, adem√°s, con un enfoque estrecho y luego con reservas.  Originalmente estaba destinado a usar un tel√©metro ultras√≥nico.  Desafortunadamente para el tel√©metro, las paredes de la habitaci√≥n estaban hechas de poliestireno pintado con una imprimaci√≥n.  Los reflejos eran monstruosos, adem√°s, en el extremo opuesto, hab√≠a un segundo buscador de rango a la vuelta de la esquina (s√≠, lector, nos quedamos atrapados con el uso del sistema de banderas y prohibimos el funcionamiento simult√°neo de ambos sensores, pero a√∫n as√≠).  En general, las lecturas de estos sensores resultaron ser cercanas a la verdad solo por casualidad, bueno, o gracias a las condiciones de "invernadero", cuando los emisores no fueron dirigidos al taller sino a un lado, donde en el fondo hab√≠a una mesa de madera, un trapo suave o algo no brillante, efectivamente absorbente. <br><br>  Desafortunadamente, no hubo tiempo para comprar un tel√©metro infrarrojo ni para comprarlo ni para probarlo (aunque a qui√©n se lo dijeron, en ese momento).  Por lo tanto, los receptores IR en una pared y los LED en otra estaban amurallados alrededor de los bordes de la habitaci√≥n.  No hab√≠a broma para hacerlos visibles, porque destruir√≠a la atm√≥sfera, y es por eso que no se usaron sensores de obst√°culos, tan amarillos, con una resistencia variable en la parte posterior: funcionaban bien, pero en el frente hab√≠a una luz roja rojiza, del LED que es como IR, pero no completamente, m√°s corto que 808 nm.  Tal vez 780. En general, puedes verlos como la luz de fondo de las c√°maras.  Adem√°s, no hab√≠a suficiente alcance, normalmente solo determinaban a las personas dentro de los 45 cm. Por lo tanto, tuve que hacer mi camino. <br><br>  A esto asistieron VS1838 (por cierto, algo universal, todav√≠a se necesitaban) y TSAL6200, insertado en tubos hechos de tacos de pl√°stico.  No funcion√≥.  En robocraft (lo siento, no lo considere para publicidad) se venden fototransistores IR con dos salidas, se ven como un LED transparente, cuestan 15 rublos m√°s o menos, su resistencia disminuye bruscamente cuando se ilumina con luz estable no modulada de 780-1000 nm, y fue necesario usar ellos.  Pero no han sido comprados por un a√±o.  Pero ten√≠a un mont√≥n de VS1838, arrancado de los accesorios dom√©sticos chinos para cuartos de servicio, que no lo saben: este es un an√°logo tan peque√±o, menos sensible y m√°s barato de TSOP1738.  Como todos sabemos, 1738 contiene un demodulador, un filtro y un AGC.  Por lo tanto, en ellos es imposible brillar con luz no modulada, para el sensor ser√° solo una iluminaci√≥n de fondo.  En general, enviar r√°fagas de pulsos de la frecuencia requerida a los LED no fue dif√≠cil, solo necesita usar la salida directa al puerto (porque digitalWrite () es demasiado lento para tales cosas) y retrasar los microsegundos (27).  27 Œºs es alrededor de la mitad de la portadora de 38 kHz transportada por el sensor.  Sin embargo, uno no puede simplemente captar y brillar a 38 kHz, tal se√±al AGC se considera ruido, por lo tanto, era necesario dividir 38 kHz en r√°fagas de pulsos para que la se√±al no se cortara.  Por extra√±o que parezca, no se observ√≥ iluminaci√≥n par√°sita de los sensores vecinos (hab√≠a seis en total, la distancia entre ellos era de unos 35 cm), no hubo ca√≠das especiales en el brillo, lo que condujo a la sensibilidad subestimada de algunos sensores individuales, pero no obstante.  No  Ra  Bo.  Ese  Lo. <br><br>  Podr√≠amos estar confundidos con este tema, discutir la falta de optimizaci√≥n del programa (porque ¬øpor qu√© entonces el programa de diagn√≥stico en el que se seleccion√≥ el sensor separado que interfiere funcion√≥ perfectamente y perfectamente?), Pero esto est√° m√°s all√° del alcance del tema.  Solo puedo decir que rara vez cometo errores.  Si giro seis cables de se√±al en un paquete, lo s√©: tienen una salida de colector abierto, en el paquete no se influir√°n entre s√≠ <b>de ninguna manera</b> .  S√© que cada sensor tiene su propio condensador de 0.1 ŒºF en paralelo con la fuente de alimentaci√≥n, que cada LED tiene su propia resistencia separada, y que varios LED est√°n colgados en paralelo en una resistencia, solo terminada.  As√≠ que no nos detendremos en esto, era necesario usar fototransistores y aplicar corriente continua a los LED.  Eso es todo.  Adem√°s, cada uno en un tubo para evitar brotes espurios.  Podr√≠a funcionar, solo en cierta etapa no se tom√≥ la decisi√≥n necesaria. <br><br><h3>  RFId no es eterno, en el pensamiento no es infinito </h3><br>  El receptor RFId tiene su propia √°rea de lectura muy peque√±a.  Para los buenos receptores, es de aproximadamente 7 cm. Para los peores, es de 4 cm. La bobina se puede rebobinar (lo principal a considerar es que la frecuencia de resonancia no va demasiado lejos de 125 kHz), pero de nuevo, no a ning√∫n tama√±o.  Sin embargo, es posible aumentar su di√°metro en 2-2.5 veces.  La acci√≥n involucr√≥ tres objetos aut√≥nomos que podr√≠an estar en cualquier lugar que necesitaran ser identificados.  El tama√±o de dos de estos elementos estaba cerca de las dimensiones de la fuente de alimentaci√≥n ATX, respectivamente, el di√°metro de la bobina se calcul√≥ en decenas de cent√≠metros, por lo que tuve que rechazar la opci√≥n con RFId. <br><br>  Una vez m√°s, el canal infrarrojo ayud√≥, no solo con LED tan potentes, sino m√°s d√©biles (por el contrario, era necesario que la se√±al se recibiera solo en las inmediaciones de los receptores).  En uno de los objetos, 11 LED est√°n amurallados, brillando en todo tipo de √°ngulos, porque el objeto es redondo.  El otro tiene un mango de madera, por lo que solo hay tres LED, ya que no hay necesidad de brillar en la direcci√≥n del mango, todav√≠a se adhiere, donde no hay receptor.  El tercer tema es lo suficientemente peque√±o, y tal vez en su caso uno podr√≠a prestar atenci√≥n a RFId nuevamente, pero las dimensiones a√∫n eran incomparables con el √°rea de lectura. <br><br>  Todos los art√≠culos funcionan con bater√≠as 18650 con una capacidad de 2000 a 3400 mAh.  Donde 2000, usado.  El principio con IR es simple: esperamos un largo per√≠odo de tiempo (segundos), emitimos una se√±al cuadrada de 38 kHz un poco m√°s de milisegundos, para que el receptor funcione y d√© un cero claro en la salida.  Repita al gusto.  Inicialmente, esto fue hecho por dos temporizadores 555x, por supuesto, el tiempo se arrastr√≥ a la mitad de la nada, por supuesto, olvidaron apagarlo, y el temporizador <b>siempre</b> quiere comer, y no necesita usar 20 mA de todos modos, naturalmente, a dos bancos usados ‚Äã‚Äãno les gust√≥. <br><br>  Los elementos ten√≠an que abrirse (s√≠, las extremidades de silicona de un zombie, una granada F1 hecha de hierro fundido sin una sola costura, piense por usted mismo), aunque no tom√≥ tanto tiempo.  Bueno, se transport√≥ un total de una semana.  Los temporizadores fueron reemplazados por atmega8, el c√≥digo IRRemote no encajaba all√≠ (aunque es gracioso, despu√©s de un tiempo logr√© armar un boceto para enviar, y el compilador no mostr√≥ ning√∫n error con el atmega8 seleccionado; tal vez ya ten√≠a una nueva versi√≥n de la biblioteca).  ¬øPor qu√© 8?  Bueno, barato, m√°s 328 no estaba disponible.  El programa simplemente emiti√≥ r√°fagas de pulsos con la pausa requerida, y despu√©s de 7000 segundos se qued√≥ dormido, poniendo todas las salidas en un estado de alta impedancia y apagando todo lo posible para reducir el consumo de corriente a decenas de microamperios.  Funciona y el problema est√° resuelto. <br><br>  En el lado receptor, tres sensores activan tres condiciones.  Al llegar el impulso, se inicia el contador y se guarda la marca de tiempo (millis).  Si el siguiente pulso lleg√≥ al mismo sensor y el contador alcanz√≥ n1, el primer elemento, n2, el segundo, etc.  Si n es lo suficientemente grande y a√∫n falta la se√±al, aparentemente la se√±al fue aleatoria y el contador se reiniciar√°.  No creo que este sea alg√∫n tipo de mega super algoritmo, pero resuelve algunos problemas: <br><br><ol><li>  Adjuntar un lote (es decir, m√°s de uno) de un receptor IR a un controlador no es una tarea para novatos.  S√≠, incluso en mega2560.  S√≠, hay una bifurcaci√≥n multisensor de IRRemote.  Sensores individuales y un sistema de condiciones hecho a s√≠ mismo: m√°s f√°cil. </li><li>  Hubo algunos problemas al escribir el c√≥digo IRRemote en atmega8.  S√≠, podr√≠a escribir un paquete RAW, formar una matriz a partir de √©l y luego emitir funciones de bajo nivel y retrasos de microsegundos, pero hab√≠a algo demasiado vago. </li><li>  Los sensores tienen cables largos, nunca se sabe.  Largo es m√°s de dos metros. </li></ol><br>  El conector DC-05 (conector de alimentaci√≥n Arduino) le permite restablecer el tiempo de cuenta regresiva; si inserta un conector en √©l, dos de los tres contactos se abren, cortando la alimentaci√≥n.  El tercer elemento no tiene un conector (es demasiado aut√©ntico para esto), pero all√≠, tambi√©n, el reinicio no caus√≥ problemas: la bater√≠a se carga desde TP4056, tiene una salida CH, un cero en el que indica el proceso de carga, est√° conectado al reinicio.  TP4056 recibe energ√≠a de forma inal√°mbrica a trav√©s de una bobina, la colocamos en la base de carga, es lo mismo que insertar el conector, todo se reinicia.  Eliminado: la descarga no se tira al suelo, se pueden considerar los impulsos.  Contado: conciliar el sue√±o, profundamente y durante mucho tiempo;  para deshabilitar la bater√≠a, debes olvidarte de cargarla durante un a√±o.  Y luego, es plegable.  Estos art√≠culos fueron la soluci√≥n m√°s exitosa, que lleg√≥ casi de inmediato, aunque con algunos bailes. <br><br><h3>  ¬°Ay!  Firma de dispositivo no v√°lida  Verifique las conexiones e intente nuevamente o use -F para ignorar ... </h3><br>  El error m√°s vil de toda mi pr√°ctica.  No tienes idea de lo que pasa.  Aqu√≠ est√°n las situaciones que surgieron en m√≠: <br><br><ol><li>  El orden de los cables MOSI (D11), MISO (D12), SCK (D13) est√° mezclado. </li><li>  En lugar de condensadores de 22 pF, algo m√°s se suelda cerca del cuarzo.  Una vez, en lugar de uno de ellos, result√≥ ser una resistencia de 1k.  Inscripci√≥n soldada abajo. </li><li>  Los seis cables deben estar intactos.  Siempre lleve el probador (tal conector), siempre toque desde el conector hasta los pies del controlador (nadie cancel√≥ los defectos de la carretera en el tablero).  O incluso desde los pies del controlador maestro (en el programador) hasta los pies del esclavo. </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supongamos que la placa funciona con 12 a 7805. Las desventajas del programador y 7805 deben estar conectadas. </font><font style="vertical-align: inherit;">S√≠, los 6 cables est√°n en contacto, pero verifique nuevamente.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Controlador no v√°lido seleccionado. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se selecciona el controlador correcto, pero su firma sigue siendo diferente. </font><font style="vertical-align: inherit;">Esto es lo que escrib√≠ para mega328 en hardware \ tools \ avr \ etc \ avrdude.conf:</font></font><br><br><pre><code class="hljs smalltalk"># signature = <span class="hljs-number"><span class="hljs-number">0x1e</span></span> <span class="hljs-number"><span class="hljs-number">0x95</span></span> <span class="hljs-number"><span class="hljs-number">0x0f</span></span>; <span class="hljs-symbol"><span class="hljs-symbol">#tqfp32</span></span> # signature = <span class="hljs-number"><span class="hljs-number">0x1e</span></span> <span class="hljs-number"><span class="hljs-number">0x95</span></span> <span class="hljs-number"><span class="hljs-number">0x14</span></span>; <span class="hljs-symbol"><span class="hljs-symbol">#dip28</span></span></code> </pre> <br>  Con lo que trabajamos, luego descomentamos. </li><li>  Los fusibles est√°n montados en cuarzo externo (m√°s de 8 MHz), que de hecho falta.  Aqu√≠ siempre tiene una bufanda con cuarzo y dos condensadores y tres cables.  Adem√°s, <b>siempre</b> incluya pads en el tablero que vayan a XTAL1 y XTAL2.  Incluso si definitivamente ser√° a 8 MHz, de las bater√≠as.  Incluso si "solo parpadea una vez, simplemente no puedes olvidarlo".  Tanto como sea posible. </li><li>  Pura magia f‚ñà‚ñà‚ñàing?  Otro, exactamente el mismo tablero, ensamblado nuevamente, funcion√≥. </li></ol><br><h3>  La credibilidad de la luz. </h3><br>  No use cinta tricolor para efectos de llama.  Las llamas contienen luz amarilla o roja en varias proporciones.  Eso es todo.  Intente usar la combinaci√≥n R + G para lograr el amarillo: la llama ser√° verde.  Intente aumentar el brillo agregando azul ‚Äúblanco‚Äù: la llama ser√° azul, azul o violeta, si el amarillo es suficiente.  No es necesario aplicar colores fr√≠os como componentes de los colores primarios, en general, f√≠sicamente no debe haber LED verde y azul en esta cinta.  En absoluto de la palabra en absoluto.  Esta decisi√≥n es la m√°s infructuosa.  Lo m√°s probable es que la cinta en los partidos Goodwin y Urfin a√∫n decidan cambiar.  Hay suficientes canales all√≠, esto tambi√©n es controlado por el autopropulsor atmega8, de hecho, la mini placa Pro, que al mismo tiempo tiene tres transistores de potencia para salidas compatibles con PWM.  Dos cintas amarillas y una roja ser√°n lo m√°ximo.  Los tres son al azar.  Es una l√°stima que un circuito RNG tolerante en un diodo de ruido no me haya llamado la atenci√≥n, aunque las opciones pseudoaleatorias atmega8 parecen tolerantes.  Pero no con verde en la cinta. <br><br><h3>  Luz estrobosc√≥pica </h3><br>  El rayo es un fen√≥meno noble, en cualquier caso para aumentar la presi√≥n atmosf√©rica, pero no es tan exigente como parece.  Es m√°s f√°cil conmutar un cuadrado de 1x1 m pegado con cinta adhesiva (80 metros, 96 amperios a 12 voltios, casi 1.2 kW) que encender una sola l√°mpara de flash de 10 kV con un pulso a una corriente de miliamperios.  Por qu√©  Porque la interferencia es de banda ancha.  La luz estrobosc√≥pica en el momento del flash parpadea en gris siempre que sea posible, una banda clara ser√° visible en todo el espectro.  Flash  C√≥mo eliminarlo no est√° claro.  Una luz estrobosc√≥pica conectada a trav√©s de un protector contra sobretensiones cuelga de forma segura tanto el W5100 como el arduino.  El √∫nico experimento exitoso sobre este tema se realiz√≥ con la bater√≠a.  Hay dos formas de desatar la luz estrobosc√≥pica de la red principal. <br><br>  <b>M√©todo uno:</b> <br><br><ol><li>  Encendemos la luz estrobosc√≥pica para cargar el condensador de trabajo.  Dos rel√©s, ser√° necesario cortar ambos cables de alimentaci√≥n de la toma de corriente. </li><li>  Nos desconectamos </li><li>  Aplicamos voltaje a la bobina de encendido, por radio o por un optoacoplador. </li></ol><br>  <b>La segunda forma:</b> <br><br><ol><li>  Remodelamos la potencia de la luz estrobosc√≥pica a bajo voltaje para que no se conecte a la toma de corriente. </li><li>  Aplicamos voltaje a la bobina de encendido, por radio o por un optoacoplador. </li></ol><br>  El estoroboscopio debe estar cuidadosamente protegido.  Alrededor del transformador de encendido es generalmente √∫til para soldar una caja de material de aluminio, por lo que, por si acaso.  Y no es un hecho que, nuevamente, algo no depender√° de ti.  Mientras tanto, los trabajadores de campo potentes trabajan con bastante frecuencia a frecuencias de hasta 100 kHz, encienden 80 metros de cinta a 100 ¬µs - no, eh, como dos dedos sobre ..., bueno, en general, no puedo elegir la expresi√≥n correcta, lo principal es abastecerse condensadores para que la fuente de alimentaci√≥n no maldiga.  Y la interferencia ser√° de baja frecuencia, y es mucho m√°s f√°cil de filtrar.  Choques, electrolitos, bueno, en general lo entiendes.  Entiendo que este no es un ejemplo m√°s caro que una l√°mpara de flash, pero es m√°s f√°cil de trabajar. <br><br><h3>  Dimmers 220 </h3><br>  Tal vez los creadores no se encontraron con esto, o tal vez solo hicieron un canal, y en la Red de alguna manera olvidaron mencionar que el voltaje del regulador de una fase puede fluir hacia el segundo si est√°n cerca.  Es tratado por un filtro de red.  En las microondas es tan hierro, en el caso est√° escrito Filtro EMI. <br><br><h3>  Sensor de aire de carga </h3><br>  El sensor es simple, es una cortina m√≥vil hecha de l√°mina de fibra de vidrio esta√±ada, cuyo movimiento est√° limitado por la goma de pescar.  ¬øPor qu√© no goma el√°stica por dinero?  - La pesca es m√°s duradera.  El aire ingresa a trav√©s de un tubo con un di√°metro de aproximadamente 2 cm. Quiz√°s, un impulsor con un codificador / imanes + sensores Hall, un sensor de presi√≥n, etc., habr√≠a ingresado aqu√≠, pero esto no estaba disponible (risas, <b>ha</b> pasado un <b>a√±o</b> , hasta ahora estoy quemando esto excusas sobre la disponibilidad), bueno, quer√≠a que el sensor fuera lo m√°s roble posible para que los cables largos pudieran llegar a √©l.  No es muy agradable, ya sabes, en la lecci√≥n "arrastrar SPI o i2c a 7 metros de las arduins, 7 (siete) metros, Karl". <br><br>  Generalmente considero que el sensor es exitoso, pero tiene un inconveniente.  Esta desventaja radica en el perfil temporal especial (es decir, temporal) de la se√±al, la envolvente ADSR, por as√≠ decirlo.  Hay varias opciones, c√≥mo entrar√° exactamente el aire en el sensor, c√≥mo soplarlo.  Puedes volar por mucho tiempo, puedes hacerlo brevemente, a menudo / raramente, etc.  Por lo tanto, necesitamos un marco de tiempo preciso que limite la activaci√≥n del sensor a esos y solo aquellos casos en que el cero proviene de √©l, por alg√∫n tiempo, y despu√©s de este tiempo, el cero deber√≠a convertirse en una unidad, nuevamente no menos de un tiempo.  Parecen un par de condiciones, pero de hecho, result√≥ dif√≠cil seleccionar estos cuadros, y una diferencia de unos 100 ms cambi√≥ diametralmente la l√≥gica de respuesta del sensor.  Por supuesto, no hab√≠a osciloscopio para tomar las lecturas necesarias durante una explosi√≥n de modelo, y luego ajustar el sistema de condiciones para ellos.  De una forma u otra, la configuraci√≥n se redujo a dos o tres semanas de trabajo y no hubo trucos especiales all√≠.  Incluso los cables no se rasgaron. <br><br><h3>  Hablando de cables </h3><br>  Esto, en su mayor parte, es un STP de par trenzado de aluminio chapado en cobre, con una pantalla de aluminio.  Anteriormente, hab√≠a un par UTP de cobre, pero casi todo fue reemplazado por uno blindado.  En primer lugar, la fuga se detuvo por alguna raz√≥n en los sensores, lo que anteriormente provoc√≥ falsas alarmas, y en segundo lugar, es m√°s tranquilo.  Verdadero bimetal, pero bueno.  El t√©cnico que trabaj√≥ con el proyecto antes que yo permiti√≥ la estupidez la cantidad de veces que pas√≥ <b>todo con</b> su par UTP.  Incluyendo los cables de las l√°mparas, que originalmente eran 220. Luego colocaron l√°mparas con un hilo largo all√≠, consumiendo corriente insignificante, y esto, en principio, en general, si no le importa la seguridad, era permisible.  Pero la luz de las l√°mparas de Goodwin con Urfin no funcion√≥, y las reemplazamos con cinta adhesiva, suministrando 12 en lugar de 220. Como las l√°mparas ya estaban instaladas, hab√≠a un cartucho E27, y acabamos de hacer un par de bufandas en mega8, a las que se soldaron esos z√≥calos que se arrancaron con l√°mparas de bajo consumo.  Todo parece ser el camino, pero en una pared del cartucho hab√≠a una polaridad, y en la otra pared, otra polaridad, y fue divertido cambiar el fallido 7805 cuando las l√°mparas se mezclaron.  Desde entonces, se han quemado inscripciones en ellos con un soldador, de donde proviene.  Entonces Urfin y Goodwin quisieron controlar estas l√°mparas, y fue fascinante y entretenido explicarles exactamente c√≥mo y qu√© opciones de control tienen cu√°ntos canales tienen, en dos cables, dos de los cuales son cables de alimentaci√≥n.  De alguna manera se rieron, pero no discutieron, esto es una ventaja para ellos en el karma.  Volveremos a este aspecto, pero por ahora continuemos con los cables. <br><br>  En general, muchas decisiones interesantes est√°n conectadas con ellos, porque todo fue construido y conectado al mismo tiempo, entiendo que todo fue por el bien del pintor de casas Petya, que no deber√≠a fumar y ser est√∫pido, esperando al alba√±il Vasya, pero un poco m√°s hipot√©ticamente podr√≠a responder a un poco m√°s de preguntas.  Los t√©rminos de referencia como tales nacieron en el curso del trabajo, pero atribuiremos esto a la nobleza y la falta de experiencia.  Las consecuencias de esto son: 8 metros de cinta, esto es un minuto, casi 10 amperios, alimentado por <b>un</b> n√∫cleo de un par UTP.  Para el cr√©dito de este n√∫cleo, puede soportar tal corriente (spoiler: no todos) y ni siquiera c√°lida, sino solo gracias a la modulaci√≥n, as√≠ como al cobre monol√≠tico real, sin bimetal.  Sin embargo, si la modulaci√≥n se detiene y hay una en el obturador de campo, al campo no le importa.  Despu√©s de una hora de este r√©gimen, el aislamiento se derretir√°, y los muchachos de la Tierra M√°gica de Oz se divertir√°n eligiendo el cable, porque es concreto en el piso.  Bueno, no sab√≠an que en el futuro decidir√≠an pegar <b>tanta</b> cinta all√≠, bueno, con qui√©n no sucede.  Por supuesto, todo ser√° necesario sacar de la fuerza de 70 cent√≠metros, pero no obstante ... <br><br>  Algunos de los cables m√°s tarde resultaron innecesarios.  Parte de los cables es un cable de TV coaxial para c√°maras (por supuesto, no IP) y micr√≥fonos.  Cuando decidimos arrastrar un poco el DVR, result√≥ que era necesario aumentar los cables de las c√°maras y los micr√≥fonos.  Luego result√≥ que los cables que intentan empujarlos con fuerza hacia la corrugaci√≥n generalmente se rompen en el lugar de la soldadura.  Algunos de los pares trenzados se divorciaron antes que yo, y el entonces Dr. Emmett Brown decidi√≥ que ser√≠a genial hacer que las desventajas en un cable fueran un par azul y marr√≥n, en el otro azul y verde.  Estaba acostumbrado a desenredar pares y hacer que todos los cables blancos fueran un signo negativo, y un plus, todos los cables de colores.  Bueno, ya ves, es m√°s dif√≠cil mezclar la polaridad.  Para descubrir m√°s tarde esta polaridad de cables colgantes y mordidos, ¬°era solo una canci√≥n!  Especialmente cuando un motor con una resistencia de un par de ohmios est√° conectado en el otro extremo, y es imposible distinguir un cortocircuito de un no cortocircuito por resistencia ... En general, un mes despu√©s, fue posible realizar una prueba oral de acuerdo con las resistencias de todos los cables en el sistema, as√≠ como los circuitos de los colores que est√°n conectados dentro de giros juntos  Esto ni siquiera estaba escrito en las tablas, se introduce en la subcorteza, ya que conducen soldados y luego, a media noche, preguntan el n√∫mero de serie de la m√°quina. <br><br><h3>  Subsistema de sonido </h3><br>  WTV-020SD16P no ha iniciado sesi√≥n.  √âl no lee ninguna tarjeta TF, no hay signos claros de que funcione en absoluto, los ejemplos de resultados inteligibles no dan.  Una alternativa era la pistola autopropulsada atmega328 con la biblioteca TMRpcm.  No me gust√≥ la amplitud de la se√±al, intentaron reducir la resistencia en la salida PWM, reducida-disminuida, 328 y s√≠, ladren.  Cambiado, conectado a dicho amplificador, a dicho amplificador, en general, en silencio, dicen.  No satisfecho  Incluso uno de estos chelniks expres√≥ una idea mega brillante de conectar un amplificador (un altavoz chino) en serie, y a su salida, donde hay dos cables para el altavoz, hay un segundo amplificador, y esta fue una tarea tit√°nica: traer a la mente un mensaje simple que dice "Amigo, acabas de quemar la entrada".  En las noches oscuras, las pesadillas me atormentan y me despierto en un sudor fr√≠o y pegajoso con un solo pensamiento: ¬øy si √©l no me creyera?  Un cubo de humor, no me importa. <br><br>  Hay 6 fuentes de sonido en total, de las cuales hay un woofer y sonido est√©reo en una de las habitaciones, por lo que podemos llamar arbitrariamente a estas 4 zonas desde las cuales se escucha el sonido.  Los primeros tres simplemente representan varios canales 5.1 y se expresan desde una computadora; el √∫ltimo canal del woofer no fue suficiente.  Hay una computadora, un altavoz peque√±o y un altavoz grande, espaciados en diferentes canales 2.0 (est√©reo). <br><br>  Cuando se inicia la computadora, Firefox se inicia en ella, en ella, la p√°gina, en la p√°gina, un bucle sin fin con una solicitud AJAX al script PHP servido por el servidor en la misma computadora.  A pedido de PHP desde el exterior, escribe un n√∫mero en el archivo, a pedido de AJAX desde la p√°gina; dice el n√∫mero, si el n√∫mero es diferente del anterior; AJAX, m√°s precisamente howler.js, reproduce un sonido.  Donde depende del sonido, en algunos sonidos en el canal derecho hay un silencio completo, son para un altavoz, en otros sonidos hay silencio a la izquierda, son para otro altavoz. <br><br>  La computadora es vieja y olvida algo que hizo posible despertarlo sobre WOL en unas pocas horas.  Es decir, si lo apaga, e incluso desde el tel√©fono, al menos desde otra computadora, env√≠a un paquete WOL por el tiempo previsible, la computadora se iniciar√°.  Pasa un d√≠a y ya no hace esto. Por lo tanto, dos cables tuvieron que ser arrastrados a su bot√≥n de encendido. <br><br>  El resto del sonido segu√≠a siendo un misterio para m√≠, antes tambi√©n se reproduc√≠a desde HTML usando howler.js, luego una nueva persona adapt√≥ la biblioteca del reproductor VLC a su aplicaci√≥n Java, ahora no lo s√©.  Entiendo los comentarios en el esp√≠ritu de "un servidor con aullador, una soluci√≥n de muleta, ¬ød√≥nde est√° el escudo de mp3?", Explico de inmediato, para ese momento no ten√≠a una idea para comprar, adem√°s de "aqu√≠ tenemos 5 jugadores en WTV020, aqu√≠ est√°n las unidades flash".  Result√≥ ser una soluci√≥n de trabajo, y no creo que sea peor que el escudo mp3. <br><br><h3>  Subsistema de comando </h3><br>  Ahora representa dos procesadores centrales a los que los sensores / artistas est√°n conectados a trav√©s de cables largos.  Largo: esto significa m√°s de dos metros.  Si el contratista - a trav√©s de IRFZ48N o una placa de rel√©, o un rel√© m√°s potente (60A) si el motor o regulador de fase en el triac + moc3021 / 3051.  Si el sensor es a trav√©s de un optoacoplador, de modo que la tierra del sensor se desata de la tierra Arduino.  La longitud de los cables es de hasta 20 m, de todos modos se trata de bucles de corriente o cables trenzados para cargas potentes.  ¬øPor qu√© no separarse de ellos DMX / RS-485 de inmediato, para m√≠ es un misterio?  Pero, hay lo que es.  Anteriormente, eran controlados remotamente por la red de transceptor nRF24L01 +.  El protocolo del transceptor inclu√≠a un c√≥digo de dispositivo, un c√≥digo de operaci√≥n e incluso una maldita abuela, y ni siquiera hubo colisiones, pero funcion√≥ as√≠ con el bucle Ethernet.  Las solicitudes llegan con frecuencia, porque Urfin y Goodwin quieren ver un estado en la computadora del operador, preferiblemente en tiempo real, por lo que primero se coloc√≥ un bucle sin fin en la interfaz HTML y luego en el servicio Java, sondeando continuamente el estado desde ambos controladores .  Naturalmente, en esos 150 milisegundos que el controlador estaba involucrado en la red, no estaba interesado en los transceptores. <br><br>  <b>Hay dos formas de mejorar este subsistema.</b> <br>  En primer lugar, puede detener el ciclo de sondeo y enviar el estado solo cambiando las lecturas del sensor.  Para hacer esto, necesita un transmisor que pueda dar una se√±al a la computadora (por ejemplo, un wifi serie ESP8266 que env√≠a una solicitud de PHP). <br>  En segundo lugar, es posible dividir el sistema en dispositivos separados, cada uno de los cuales podr√° comunicarse directamente con una computadora, pero esto requerir√° una interfaz de red en <b>todos los</b> dispositivos, desde sensores hasta motores.  Supongamos que varios dispositivos se concentran geogr√°ficamente cerca de alguna puerta y, sin embargo, necesitar√°n m√°s de 2. En general, haga una tarjeta perif√©rica TCP / IP de la b√∫squeda sobre Space Odyssey.  Tal tablero es la mejor soluci√≥n posible. <br><br><h3>  Proceso orientado </h3><br>  Esta teor√≠a no me pertenece, no insisto en nada.  Y en mi opini√≥n, no hay dudas sobre las cualidades comerciales de Goodwin y Urfin, pero la cantidad de decisiones que tomaron indicaron espec√≠ficamente su intenci√≥n de retrasar la entrega del proyecto en la medida de lo posible.  Se refiere principalmente a la implementaci√≥n.  Lo m√°s √©pico, esta es quiz√°s una indicaci√≥n directa para hacer todas las conexiones al arduino mec√°nico, estos son los pasadores de acero de 40x2.54 en pl√°stico.  Por qu√© esto se hizo cuando la soldadura a la placa es m√°s confiable, no est√° claro.  Les recuerdo que el par trenzado estaba soldado.  Lo cual es realmente dif√≠cil y puede salirse del conector.  Que no suelde al pin en un hisopo, de lo contrario se caer√°, el √°cido de soldadura es obligatorio.  Que luego en el lugar de la soldadura debe cerrarse con termocontracci√≥n, nunca se sabe qu√©. <br><br>  Anteriormente, todo, bien o casi todos los dispositivos se ubicaban junto con conectores y optoacopladores en el tablero.  Fue la tabla m√°s grande que jam√°s haya hecho, su tama√±o es de 305x405 mm.  Desafortunadamente, el papel de aluminio era chino y, por lo tanto, la capa de papel de aluminio ten√≠a solo 18 micras, y el esta√±ado era simplemente una ocupaci√≥n infernal.  Debido al gran tama√±o, cualquier alteraci√≥n necesaria para levantarlo por completo, ya que hab√≠a m√°s de 40 conectores, cada uno de los cuales ten√≠a al menos tres cables, y desconectarlos todos para quitarlo, fue mejor morderse la cabeza de inmediato.  Soldar cualquier cosa all√≠ era muy inc√≥modo, porque la placa estaba por <b>encima del</b> soldador.  Adem√°s, a pesar de todo el cableado verificado, todav√≠a hab√≠a errores en los conectores.  Menos de un mes, y este crossboard fue finalmente abandonado, aunque era m√°s conveniente conectar artistas con sensores.  Esta es la segunda soluci√≥n m√°s infructuosa, los primeros fueron y siguen siendo LED verdes en la cinta que simulan la luz de la llama. <br><br>  Si supi√©ramos de inmediato que era m√°s l√≥gico colocar toda la l√≥gica en la vecindad inmediata del enrutador / computadora y arrastrar solo los cables a los dispositivos finales, que no deber√≠an haberse previsto para prever los controladores en el campo, ser√≠a posible terminar el trabajo mucho antes.  Sin embargo, no ten√≠amos experiencia, y muy probablemente nos centramos en el proceso, algo que se deduce l√≥gicamente de esto.  No comparto este punto de vista y creo que todas las opciones probadas fueron una m√°s u otra, ya que revelaron muchas soluciones fallidas.  Si sigo involucrado en la sala de escape de la sala de descanso, nuestra experiencia ser√° √∫til para alguien m√°s que lea este art√≠culo. <br><br>  Por un lado, no tengo ning√∫n derecho a hablar sobre este tema en absoluto: el trono de nuestro enemigo se est√° rompiendo sin m√≠.  Pero algunas de sus decisiones me molestaron espec√≠ficamente, lo que va en contra del sentido com√∫n y minimiza los costos.  Si me contrat√≥ para tomar algunas decisiones, no discuta ni dude.  Si digo que la se√±al del altavoz de un amplificador no se puede alimentar a la entrada de otro, entonces tengo raz√≥n.  Si digo que el √°rea de lectura de RFId no es suficiente, entonces tuve tiempo de verificarlo, no estoy diciendo nada desde el techo. <br><br><h3>  El hombre en el que mi trabajo fue abandonado </h3><br>  En el octavo mes, otro personaje se uni√≥ a nuestro proyecto, a quien llamaremos el le√±ador.  Ten√≠a a su disposici√≥n algunos sensores industriales, y algunos de los dispositivos sufrieron cambios tanto en dise√±o como en l√≥gica.  En ese momento, ya me estaba comenzando a dar a fondo, y su intervenci√≥n, en general, fue requerida por m√≠.  Algo que claramente no funcionaba, los mismos 6 per√≠metros infrarrojos, que realizaban la funci√≥n de un sensor de presencia.  Al menos se pod√≠an entablar conversaciones con √©l, a diferencia de Urfin y Goodwin, ya que distingu√≠a el obturador de la resistencia, los mismos dos a veces me instaban a sacar todos sus dientes, uno tras otro, sin anestesia.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El Le√±ador inmediatamente propuso varias soluciones que podr√≠an afectar la confiabilidad, pero pocas de ellas dieron resultados. </font><font style="vertical-align: inherit;">Sin embargo, m√°s recientemente, fue √©l quien plante√≥ la cuesti√≥n del uso del c√≥digo IRRemote en los objetos. </font><font style="vertical-align: inherit;">Es decir, esta cosa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ya</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estaba </font><font style="vertical-align: inherit;">completamente depurada, y todav√≠a les sucedi√≥ algo all√≠. </font><font style="vertical-align: inherit;">Oorfene subi√≥ para desmontar uno de ellos y organiz√≥ un corto circuito; tuve que cambiar el transistor. </font><font style="vertical-align: inherit;">Sin embargo, este es solo el momento en el que no debes volver a subir.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El desarrollo √∫nico del Lumberjack es un sensor de √°ngulo, era necesario para, por ejemplo, un volante con pedales. Para determinar d√≥nde se gir√≥, el codificador KY040 con el controlador estaba originalmente all√≠, la versi√≥n alfa incluso ten√≠a activadores Schmitt y un contador del circuito PighiXXX, que suprime el parloteo y convierte que no est√° claro qu√© fase cambi√≥ a se√±ales de paso / direcci√≥n. Pero no fue posible obtener un trabajo responsable de √©l, luego comenz√≥ a cometer errores, luego se desmoron√≥ por completo, por lo que se decidi√≥ reemplazarlo con un disco con un agujero y dos interruptores fotogr√°ficos, que consisten en el antiguo fotodiodo sovi√©tico FD265 con un comparador y LED blancos. Cuando se gir√≥ el disco, el orificio apareci√≥ debajo de los LED, se obtuvo cero en los comparadores, el orden en que proven√≠an los ceros de los dos comparadores permiti√≥ estimar la direcci√≥n y la posici√≥n aproximada. No solo un codificador, sino que no requiere interrupciones,lo que significa que se puede conectar a trav√©s de cables largos. Largo significa m√°s de dos metros. Vamos, seamos honestos: los optoacopladores, un diodo antiparalelo, cer√°mica de 0.1 microfaradios se instalan f√°cilmente en el KY040, y obtienes un codificador normal que se puede conectar durante al menos cien metros. Adem√°s, estaban dispersos en una bolsa a granel. Pero el precipitado permaneci√≥, ya no quer√≠a comunicarme, y el c√≥digo ya fue reescrito y funcion√≥ con mayor precisi√≥n.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las fallas que surgieron posteriormente probablemente estaban relacionadas con un mal funcionamiento en la l√≠nea, con alg√∫n tipo de se√±ales fantasmales que fueron inducidas, pero al final funcion√≥. Su √∫nico inconveniente era que funcionaba lentamente y pod√≠a perder algo a altas velocidades (recuerdo que el ciclo de sondeo todav√≠a estaba all√≠, en el controlador central, que al mismo tiempo tambi√©n atend√≠a las solicitudes HTTP del panel de control). El ciclo de sondeo, con algunos otros sensores, se reubic√≥ en pro mini, que transmiti√≥ informaci√≥n al controlador principal a trav√©s de Serial0. ¬°Qu√© emocionante fue adivinar por qu√© no funcion√≥ en Serial1! Sin embargo, esto no se trata de eso. El sensor de √°ngulo ten√≠a algunos defectos mec√°nicos, y el Le√±ador lo reemplaz√≥ con un complejo de algo que determina el movimiento en general (¬ømotor? ¬øCodificador? ¬øPero cu√°l es la diferencia?), Y dos sensores Hall,averiguar exactamente d√≥nde va el movimiento. As√≠ naci√≥ una nueva versi√≥n, ya tercera, del c√≥digo que determina el n√∫mero de revoluciones.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adem√°s de reelaborar algunos sensores, tambi√©n se ocupa de la adaptaci√≥n de hardware restante del proyecto. </font><font style="vertical-align: inherit;">No le atribuyo ning√∫n m√©rito especial, pero el oro para el asqueroso ir√° a aquel cuyo golpe sea el √∫ltimo. </font><font style="vertical-align: inherit;">El proyecto ser√° completado por esta persona, pero obtendr√© los laureles de los bastardos, quienes anotaron una gran cantidad de personas que necesitan mi ayuda. </font><font style="vertical-align: inherit;">Por un lado, mi acto es desagradable, y lo admito. </font><font style="vertical-align: inherit;">Por otro lado, se me proporcionaron ciertas condiciones: cuando estas condiciones dejaron de satisfacerme, mi persona divina dej√≥ de estar en estas condiciones.</font></font> Eso es todo.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero asqueroso, no asqueroso, para m√≠ de alguna manera indiferente. </font><font style="vertical-align: inherit;">Al le√±ador, le expreso mi gratitud: tom√≥ lo que ya no ten√≠a fuerzas para hacer.</font></font><br><br><h3>  Manejo de errores </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El primer y principal paso hacia una gesti√≥n transparente y libre de errores es la junta de Space Odyssey. </font><font style="vertical-align: inherit;">Esto es </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">necesario</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le permite resolver un mont√≥n de problemas a la vez:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si el contratista no tiene consumidores poderosos, todo el dispositivo (la placa en s√≠ y, por ejemplo, un par de metros de cinta conectados a la placa) puede funcionar con PoE. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No tendr√° colisiones de tr√°fico. </font><font style="vertical-align: inherit;">No tendr√° ninguna solicitud repetida sistem√°ticamente, lo que significa que tiene diez veces menos probabilidades de desconectar una red, perder una respuesta o cualquier otra cosa. </font><font style="vertical-align: inherit;">Todo el control puede hacerse </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">completamente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as√≠ncrono: el ejecutor necesitaba algo, enviaron una solicitud, se complet√≥. </font><font style="vertical-align: inherit;">Todo, repetir la solicitud ya no es necesario.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tendr√° acceso a informaci√≥n sobre el artista en general. </font><font style="vertical-align: inherit;">Sensores? </font><font style="vertical-align: inherit;">S√≠, incluso una docena, conectamos el registro multiplexor / desplazamiento y vemos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cada uno</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , en qu√© y cu√°nto. </font><font style="vertical-align: inherit;">El motor? </font><font style="vertical-align: inherit;">No solo puede encenderlo, sino tambi√©n asegurarse de que realmente se encienda con un sensor de corriente.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un ejemplo t√≠pico de "c√≥mo no hacerlo" - hacemos una imitaci√≥n de una llama en el octavo mega, de manera barata y elemental - ¬øqu√© hay para ofrecer? </font><font style="vertical-align: inherit;">aleatorio () y solo.</font></font> No importa como. <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Te lo aseguro, razonando de esa manera, te encontrar√°s exactamente en la misma situaci√≥n. Luego debe cambiar el color de la llama, luego apagar / encender suavemente, luego la l√≠nea con cuernos, y no hay cables de control, de la palabra en absoluto. Y no colgar√°s la radio porque el SPI est√° ocupado. O algo mas. Y lo que quieras, genial, pero </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">da a luz</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> una decisi√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, lo m√°s importante es proporcionar acceso directo de los artistas a la computadora y viceversa. Quiz√°s a trav√©s de Modbus. Quiz√°s DMX. Pero cuanto m√°s cerca est√© la interfaz, menos hemorroides habr√° en el futuro. El m√°s nativo es TCP / IP. Le aconsejo que no abuse del ESP8266, incluso si realmente lo desea. Existe la oportunidad de tender un cable: use un cable.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A continuaci√≥n, de vuelta a las reglas. Trabajamos a trav√©s de los sensores desde y hacia, para que el estado actual se eval√∫e de un vistazo, para que todo funcione de manera clara y sin ambig√ºedades. Si el sensor es discreto (cero o uno), el nivel en el medio no deber√≠a aparecer en √©l. Soldamos los giros o nada, distribuyendo todo en escudos / tableros. No ahorramos en cables. No confundimos la polaridad. Lo sabemos con certeza: si olvida algo, enci√©ndalo incorrectamente, solo un tonto puede romperlo; s√≠, es cierto, se puede encontrar a ese tonto. Enciende, olvida, rompe. Por lo tanto, protecci√≥n, protecci√≥n e incluso toneladas de protecci√≥n.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluso uno mismo debe considerarse un tonto. Sol√≠a ‚Äã‚Äãsentirme c√≥modo con el conector arduino ISP habitual, pero un d√≠a lleg√≥ el d√≠a en que el puerto MOSI / D12 muri√≥ en mi programador. El programador, por supuesto, tengo uno diferente, pero el conector es diferente: una sola fila. Y tiene siete cables, no seis. Primero, m√°s, luego vac√≠o, luego menos y todo lo dem√°s. Pegarlo al contrario era generalmente imposible. Usted dice, y ¬ød√≥nde est√°n las resistencias de 100-300 ohmios para cada uno de estos cables? Y funcionar√≠a con el est√°ndar, y al rev√©s nada se quemar√≠a. As√≠ es, y ahora tambi√©n tengo resistencias. Pero nunca har√© un conector sim√©trico.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otro punto son los sensores de corriente. Son baratos, es una potente resistencia de baja resistencia, una resistencia de recorte y la mitad de un LM393. Pero se ver√° que la puerta ya se ha abierto, pero el motor que la est√° tirando todav√≠a est√° encendido, y sus devanados no les gusta. Recomiendo ponerlos en todo lo que se puede encender de forma remota. No es necesario para LED / cinta, pero si realmente hay muchos LED, entonces es deseable. Un mont√≥n de cinta carga la fuente de alimentaci√≥n y los motores. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si no necesita hacer un temporizador adicional desde watchdog, lo usamos para su prop√≥sito previsto. De modo que cualquier dispositivo que cuelgue despu√©s de un m√°ximo de 4 segundos ya no cuelga. Por cierto, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , absolutamente </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la informaci√≥n que determina el modo de operaci√≥n de la b√∫squeda (inaccesibilidad de abrir puertas, cerraduras cerradas / abiertas, etc., inmunidad de los sensores) </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no debe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> almacenarse en la RAM. Debemos partir del supuesto de que absolutamente todo puede colgar, en cualquier momento. Esto no debe distorsionar / violar la l√≥gica de las tareas y decisiones, asignar la responsabilidad del estado del sistema solo es posible en un dispositivo: la computadora del operador, para que siempre tenga una imagen completa del estado ante sus ojos. </font></font><br><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si est√°</font></font></u> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> construyendo una </font><u><font style="vertical-align: inherit;">pistola autopropulsada, entonces esto es lo principal:</font></u><font style="vertical-align: inherit;"> cada caja debe tener un condensador de cer√°mica de 0.1 ŒºF. Cada registro de desplazamiento, cada comparador. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por otra parte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en el microcontrolador. Adem√°s, dicho condensador, m√°s un electrolito uF, por lo que 100 debe soldarse a nRF24L01 +, ESP8266, ENC28J60. Directamente en los pines de la placa, o en cables en las inmediaciones de la placa. La tierra en el √°rea libre del tablero no es superflua. El t√≥ner es barato, pero es m√°s r√°pido. Adem√°s, hipot√©ticamente, algo protege en el tablero. El cuarzo se necesita en todas partes. Sin cuarzo, puede hacer arduino en atmega8, siempre que no cuente intervalos con mayor precisi√≥n que cientos de microsegundos. Atmega8 es m√°s barato que Attiny85 / 2313. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si puede elegir entre bater√≠as LiIon y NiMH, es m√°s f√°cil cargar litio: puede tomar y untar las placas TP4056, como sol√≠a decir Banana, todav√≠a no puede ver ning√∫n controlador especial para el n√≠quel.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si hay actores en el sistema que no pueden soportar el encendido a largo plazo (cerraduras, solenoides, calentadores, posiblemente algunos motores potentes, motores con tracci√≥n final que pueden romper / romper algo accidentalmente), tambi√©n deben protegerse contra el cambio a largo plazo. Por ejemplo, si enciende el actuador de la cerradura del autom√≥vil durante mucho tiempo, el devanado del motor generar√° calor, el motor se calentar√° y derretir√° la caja de cambios, ya que es de pl√°stico. Todos sabemos que un segundo es suficiente para que √©l abra / cierre. Acabamos de hacer un segundo moldeador de pulso, todo lo que necesitamos es 555 y un mont√≥n de flejes. O una cadena RC con un disparador CMOS. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El cargador es, como regla general, malvado. Escriba a trav√©s de ISP, o al menos cambie el est√°ndar a optiboot.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino de repente es capaz de ser un dispositivo MIDI. </font><font style="vertical-align: inherit;">Si necesita sonido en una computadora, ser√≠a mejor que apareciera en un reproductor o instrumento VST, y no en un navegador debajo de Javascript. </font><font style="vertical-align: inherit;">Esto es as√≠ si el sonido local no es posible / no es c√≥modo. </font><font style="vertical-align: inherit;">VST arados y anfitriones ahora al infierno, incluido gratis.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aspecto psicologico </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los contratistas m√°s inteligentes de nuestro mundo son prostitutas. Puede y debe tomar un ejemplo de ellos: le dicen clara y claramente al cliente qu√© puede hacer y qu√© evitar√° de cualquier manera. Mi error no fue participar en el proyecto en una posici√≥n espec√≠fica, sino en varias: esto llev√≥ a una responsabilidad innecesaria y a un gasto de tiempo sub√≥ptimo. Por ejemplo, se dedicaron dos semanas a una cosa, que en esencia era solo un bot√≥n / interruptor / par de contactos. Aunque podr√≠a abrir la boca y decir: "Como lo desee, h√°galo, necesito un cable para conectarlo al otro cuando est√© expuesto a esta cosa". Y soy responsable del programa y de cu√°l de estos cables se conectar√° a tierra y qu√© entrada digital.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se dedicaron cuatro semanas a la configuraci√≥n del color del brillo de la cinta, y luego el resultado est√° lejos de ser ideal. Y esto es imposible de controlar. Simplemente podr√≠a hacer una radio / cable y emitir el color completamente a la computadora, bueno, o al menos algunos factores. O brutalmente, para proporcionar un √°rea en la EEPROM, que puede ser controlada por un par√°sito externo con una pantalla 1602 y un bot√≥n, porque no ser√≠a dif√≠cil hacer tal par√°sito. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tres semanas atraparon una jamba en la mec√°nica de las puertas, aunque se rompi√≥ mi flequillo, un par de rodillos se desprendieron de ellos. Pues lo es, nada especial. A este reclamo lo llamamos quejas ordinarias.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y te te y te pe. </font><font style="vertical-align: inherit;">Estas personas intentaron mover una carga de 100 libras con un motor de 40 vatios. </font><font style="vertical-align: inherit;">Cuarenta vatios, Carl. </font><font style="vertical-align: inherit;">Estas personas sistem√°ticamente me hicieron una pregunta por qu√© no hacerlo, absolutamente sin profundizar en las sutilezas de esta opci√≥n. </font><font style="vertical-align: inherit;">S√≠, algunas de sus decisiones fueron sensatas. </font><font style="vertical-align: inherit;">Pero algunos me hicieron arder y preguntarse ferozmente: ¬øpor qu√© ladrarme despu√©s de comprar un perro? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En general, en este aspecto, solo se pueden distinguir dos principios:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conoce tu insistencia e insiste en ello. </font><font style="vertical-align: inherit;">¬øCrees que un compresor puede bombear aire? </font><font style="vertical-align: inherit;">No dejes que suban con tu bomba de acuario.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rotula las reglas. </font><font style="vertical-align: inherit;">Solo con una banda el√°stica, solo en una pose cl√°sica, ya sabes, espero. </font><font style="vertical-align: inherit;">Perd√≥n por la vulgaridad, pero no hay otras met√°foras para recoger.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre esto, creo, he proporcionado suficiente informaci√≥n. </font><font style="vertical-align: inherit;">Piensa, recuerda, comparte experiencias. </font><font style="vertical-align: inherit;">El m√≠o no fue el mejor, pero es valioso, y el resto ser√° m√°s f√°cil, cuanto m√°s experiencia pasemos en los comentarios. </font><font style="vertical-align: inherit;">As√≠ que adelante. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FYI: el art√≠culo carece de ilustraciones, porque no veo el punto de dibujar dos conectores ISP, uno es est√°ndar, el otro es m√≠o y firmar correctamente / incorrectamente. </font><font style="vertical-align: inherit;">Todas las soluciones descritas anteriormente son f√°cilmente google, sin embargo, si es necesario, escriba los comentarios. </font><font style="vertical-align: inherit;">Las opciones de edici√≥n est√°n disponibles y se pueden agregar todas las ilustraciones de inter√©s.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es406235/">https://habr.com/ru/post/es406235/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es406225/index.html">Utilizamos el programa Androzic: los mapas gps sin conexi√≥n siguen siendo relevantes</a></li>
<li><a href="../es406227/index.html">Nuevos trajes espaciales para naves nuevas</a></li>
<li><a href="../es406229/index.html">Claude Shannon, tibur√≥n de Las Vegas</a></li>
<li><a href="../es406231/index.html">Personalidad y sonido: Akio Morita: la historia del sakezukuri hereditario, el camino del creador de SONY</a></li>
<li><a href="../es406233/index.html">Dilaci√≥n desde el punto de vista de un programador en un sitio remoto</a></li>
<li><a href="../es406237/index.html">La NASA propone librar al mundo de la amenaza del supervolc√°n de Yellowstone por $ 3 mil millones</a></li>
<li><a href="../es406239/index.html">Los nanotubos de carbono retorcidos entregan hasta 250 vatios por kilogramo</a></li>
<li><a href="../es406241/index.html">El siguiente truco de Andrew Eun: entrenar a un mill√≥n de expertos en inteligencia artificial</a></li>
<li><a href="../es406243/index.html">BBC Micro: bit: microordenador de aprendizaje para ni√±os: capacidades de E / S</a></li>
<li><a href="../es406245/index.html">Versi√≥n sin conexi√≥n de playphrase.me</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>