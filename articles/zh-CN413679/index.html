<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›¥ï¸ ğŸ‘£ ğŸ® è§’åº¦6ã€‚ PWAã€‚ å»¶è¿ŸåŠ è½½æ¨¡å—ã€‚ åœ¨Firebaseä¸­è‡ªåŠ¨éƒ¨ç½² ğŸ˜½ ğŸ—ºï¸ ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Angular 6å®é™…ä¸Šå…è®¸ä½¿ç”¨ä¸€äº›å‘½ä»¤æ¥åˆ›å»ºæ¸è¿›å¼Webåº”ç”¨ç¨‹åºï¼ˆPWAï¼‰çš„åŸºç¡€ï¼Œä¸ºå¯¼èˆªé¡µé¢ï¼Œè¡¨æ ¼ï¼Œä»ªè¡¨æ¿åˆ›å»ºå¸ƒå±€ã€‚ 



 æˆ‘ä»¬éœ€è¦ä¸ä½äº6.0.0çš„angular-cliç‰ˆæœ¬ï¼Œå› æ­¤è¯·æ£€æŸ¥å·²å®‰è£…è½¯ä»¶åŒ…çš„ç‰ˆæœ¬ï¼š 


ng --version  


 å¹¶æ ¹æ®éœ€è¦å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š 


 npm ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è§’åº¦6ã€‚ PWAã€‚ å»¶è¿ŸåŠ è½½æ¨¡å—ã€‚ åœ¨Firebaseä¸­è‡ªåŠ¨éƒ¨ç½²</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413679/"><p>  Angular 6å®é™…ä¸Šå…è®¸ä½¿ç”¨ä¸€äº›å‘½ä»¤æ¥åˆ›å»ºæ¸è¿›å¼Webåº”ç”¨ç¨‹åºï¼ˆPWAï¼‰çš„åŸºç¡€ï¼Œä¸ºå¯¼èˆªé¡µé¢ï¼Œè¡¨æ ¼ï¼Œä»ªè¡¨æ¿åˆ›å»ºå¸ƒå±€ã€‚ <br><img src="https://habrastorage.org/webt/zg/2w/rc/zg2wrcvcxd2b2ytvs5uu_x3qxiq.png"></p><a name="habracut"></a><br><p> æˆ‘ä»¬éœ€è¦ä¸ä½äº6.0.0çš„angular-cliç‰ˆæœ¬ï¼Œå› æ­¤è¯·æ£€æŸ¥å·²å®‰è£…è½¯ä»¶åŒ…çš„ç‰ˆæœ¬ï¼š </p><br><pre><code class="bash hljs">ng --version</code> </pre> <br><p> å¹¶æ ¹æ®éœ€è¦å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š </p><br><pre> <code class="bash hljs">npm i -g @angular/cli</code> </pre> <br><p> æˆ‘ä»¬è¦åšæ‰€æœ‰è¿™ä¸€åˆ‡ï¼Œå› ä¸ºåœ¨angular-cli 6ç‰ˆæœ¬åˆ›å»ºçš„é¡¹ç›®å’Œæ—©æœŸç‰ˆæœ¬åˆ›å»ºçš„é¡¹ç›®çš„ç»“æ„ä¸Šå­˜åœ¨å·®å¼‚ã€‚ åŠŸèƒ½ä¸Šä¹Ÿæœ‰å·®å¼‚ã€‚ æœ¬æ–‡ä»…ä»‹ç»å…¶ä¸­ä¸€äº›åŠŸèƒ½ã€‚ </p><br><p> å› æ­¤ï¼Œæˆ‘ä»¬å°†ç«‹å³åˆ›å»ºå…·æœ‰è·¯ç”±åŠŸèƒ½çš„å…¸å‹é¡¹ç›®ï¼Œå› ä¸ºè¿˜è®¡åˆ’å®æ–½è¯¥ç¤ºä¾‹æ¥æ¼”ç¤ºå»¶è¿ŸåŠ è½½æ¨¡å—çš„åŠŸèƒ½ï¼š </p><br><pre> <code class="bash hljs">ng new angular-pwa-ci --routing</code> </pre> <br><p> ä¸ºäº†ä½¿è·Ÿè¸ªé¡¹ç›®ä¸­å‘ç”Ÿçš„æ›´æ”¹æ›´åŠ æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°†è¿›è¡Œç¬¬ä¸€æ¬¡æäº¤ã€‚ </p><br><pre> <code class="bash hljs">git init git add . git commit -m <span class="hljs-string"><span class="hljs-string">"Initial commit"</span></span></code> </pre> <br><p> ä»¥ä¸‹å›¢é˜Ÿå°†æŠŠæˆ‘ä»¬çš„é¡¹ç›®å˜æˆä¸€ä¸ªæ¸è¿›å¼Webåº”ç”¨ç¨‹åºï¼ˆPWAï¼‰ </p><br><pre> <code class="bash hljs">ng add @angular/pwa --project <span class="hljs-string"><span class="hljs-string">"angular-pwa-ci"</span></span></code> </pre> <br><p> å‘å‡ºå‘½ä»¤çš„ç»“æœåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">æ‰°æµæ¿æ–¹å‘</b> <div class="spoiler_text"><pre> <code class="hljs sql">Installed packages for tooling via yarn. <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> ngsw-config.json (<span class="hljs-number"><span class="hljs-number">392</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-128</span></span>x128.png (<span class="hljs-number"><span class="hljs-number">1253</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-144</span></span>x144.png (<span class="hljs-number"><span class="hljs-number">1394</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-152</span></span>x152.png (<span class="hljs-number"><span class="hljs-number">1427</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-192</span></span>x192.png (<span class="hljs-number"><span class="hljs-number">1790</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-384</span></span>x384.png (<span class="hljs-number"><span class="hljs-number">3557</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-512</span></span>x512.png (<span class="hljs-number"><span class="hljs-number">5008</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-72</span></span>x72.png (<span class="hljs-number"><span class="hljs-number">792</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/assets/icons/icon<span class="hljs-number"><span class="hljs-number">-96</span></span>x96.png (<span class="hljs-number"><span class="hljs-number">958</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> src/manifest.json (<span class="hljs-number"><span class="hljs-number">1085</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> angular.json (<span class="hljs-number"><span class="hljs-number">3571</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> package.json (<span class="hljs-number"><span class="hljs-number">1389</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> src/app/app.module.ts (<span class="hljs-number"><span class="hljs-number">605</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> src/index.html (<span class="hljs-number"><span class="hljs-number">390</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bytes</span></span>)</code> </pre> </div></div><br><p> è®©æˆ‘ä»¬å†æ¬¡æäº¤ã€‚ </p><br><p> æˆ‘ä»¬å°†æ€¥ç€çœ‹çœ‹æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç°åœ¨å¦‚ä½•æ»¡è¶³PWAçš„è¦æ±‚ã€‚ </p><br><p> ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code>lighthouse</code>å®ç”¨ç¨‹åºï¼Œè¯¥å®ç”¨ç¨‹åºå°†å®¡æ ¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¹¶ç”Ÿæˆæœ‰å…³å…¶ç»“æœçš„è¯¦ç»†æŠ¥å‘Šã€‚ </p><br><p> å¦‚æœå°šæœªå®‰è£…æ­¤å®ç”¨ç¨‹åºï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š </p><br><pre> <code class="bash hljs">npm i -g lighthouse</code> </pre> <br><p> å½“åœ¨æµè§ˆå™¨ä¸­ç¦ç”¨javascriptæ—¶ï¼Œè¯¥å®ç”¨ç¨‹åºè¿˜å°†æ£€æŸ¥æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ˜¯å¦æ˜¾ç¤ºå†…å®¹ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬æ£€æŸ¥è¯¥è¡Œçš„<code>src/index.html</code>æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨ </p><br><pre> <code class="html hljs xml"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">noscript</span></span></span><span class="hljs-tag">&gt;</span></span>Please enable JavaScript to continue using this application.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">noscript</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨<code>production</code>æ¨¡å¼ä¸‹æ„å»ºé¡¹ç›®ï¼Œå› ä¸ºé»˜è®¤è®¾ç½®ä»…é€‚ç”¨äºæœåŠ¡äººå‘˜åœ¨<code>production</code>æ¨¡å¼ä¸‹å·¥ä½œã€‚ </p><br><pre> <code class="bash hljs">ng build --prod</code> </pre> <br><p> åœ¨æœ¬æ–‡çš„ç¨åéƒ¨åˆ†ï¼Œå°†ä»‹ç»firebaseæœåŠ¡æä¾›çš„å…è´¹æ‰˜ç®¡çš„è‡ªåŠ¨éƒ¨ç½²è¿‡ç¨‹ï¼Œä½†æ˜¯ç°åœ¨å‡ºäºå¼€å‘ç›®çš„ï¼Œå¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œæœ¬åœ°æœåŠ¡å™¨å°±è¶³å¤Ÿäº†ï¼Œæˆ‘ä»¬ç°åœ¨å¼€å§‹ç¼–å†™ã€‚ åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º<code>server.js</code>æ–‡ä»¶ <br> å¦‚æœæ‚¨ä½¿ç”¨Visual Studio Codeä½œä¸ºç¼–è¾‘å™¨ï¼Œå»ºè®®æ‚¨å®‰è£…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Angular Essential</a>æ‰©å±•ï¼Œå…¶ä¸­åŒ…æ‹¬<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Angular v6 Snippetsæ‰©å±•</a> ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¯¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰©å±•å</a>å¼€å§‹è¾“å…¥ï¼š </p><br><pre> <code class="hljs powershell">ex<span class="hljs-literal"><span class="hljs-literal">-node</span></span>-</code> </pre> <br><p><img src="https://habrastorage.org/webt/qq/nx/px/qqnxpxy1fg2x543ojpwrypsyasc.gif"></p><br><p> åŒæ„å»ºè®®çš„ä»£ç æ®µï¼ŒæŒ‡å®šè¦æ˜¾ç¤ºçš„æ–‡ä»¶æ‰€åœ¨çš„ç«¯å£å’Œæ–‡ä»¶å¤¹ã€‚ ä»…æ­¤è€Œå·²ã€‚ æ‚¨å¯ä»¥è¿è¡Œï¼š </p><br><pre> <code class="bash hljs">node server.js</code> </pre> <br><p> æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä½äºï¼š <code>http://localhost:8080</code> ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å®¡æ ¸ </p><br><pre> <code class="bash hljs">lighthouse http://localhost:8080</code> </pre> <br><p> è¯¥å®ç”¨ç¨‹åºå°†åœ¨æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ ¼å¼ä¸º<code>localhost_2018-06-08_23-42-21.report.html</code> ã€‚ åœ¨æµè§ˆå™¨ä¸­å°†å…¶æ‰“å¼€ï¼Œç„¶åæŸ¥çœ‹å®¡æ ¸ç»“æœã€‚ æˆ‘ä»¬æ²¡æœ‰å¾—åˆ†100ï¼…ï¼Œä½†ä»ç„¶é¢†å…ˆã€‚ </p><br><p> ä¸ºäº†åœ¨Firebaseä¸Šç»„ç»‡æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨è½¬å‚¨ï¼Œæ‚¨éœ€è¦åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://firebase.comä¸Š</a>æ‹¥æœ‰ä¸€ä¸ªå¸æˆ·ã€‚ </p><br><p> ä¹‹åï¼Œå®‰è£…<code>firebase-tools</code> ã€‚ æˆ‘ä»¬å°†åœ¨æœ¬åœ°å®‰è£…å®ƒï¼Œå› ä¸ºæ­¤è½¯ä»¶åŒ…å°†åœ¨ä»¥åç”¨äºè‡ªåŠ¨è€—å°½ã€‚ </p><br><pre> <code class="bash hljs">npm i -D firebase-tools</code> </pre> <br><p> å¹¶ä¸”ä¸ºäº†ä¸æ¯æ¬¡éƒ½å†™é•¿è·¯å¾„<code>node_models/firebase-tools/bin/firebase</code>æˆ‘ä»¬è¿˜å°†åœ¨å…¨å±€å®‰è£…å®ƒã€‚ </p><br><pre> <code class="bash hljs">npm i -g firebase-tools</code> </pre> <br><p> ç™»å½•åˆ°FirebaseæœåŠ¡ï¼š </p><br><pre> <code class="bash hljs">firebase login</code> </pre> <br><p> æ­¤å‘½ä»¤å°†å¯¼è‡´é»˜è®¤æµè§ˆå™¨åœ¨è¦æ±‚æ‚¨æˆäºˆåº”ç”¨ç¨‹åºæƒé™çš„é¡µé¢ä¸Šæ‰“å¼€ã€‚ æˆ‘ä»¬åŒæ„ã€‚ æ‚¨å¯ä»¥ç»§ç»­ã€‚ </p><br><p> ä»…åœ¨Firebaseæ§åˆ¶å°ä¸­æ‰èƒ½åˆ›å»ºæ–°é¡¹ç›®ï¼Œå› æ­¤è¯·è½¬åˆ°<code>https://console.firebase.google.com</code>å¹¶åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸º<code>angular-pwa-ci</code> ã€‚ </p><br><p> ä¸‹ä¸€æ¡å‘½ä»¤å°†åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚ </p><br><pre> <code class="bash hljs">./node_modules/firebase-tools/bin/firebase init</code> </pre> <br><p> æ­¤å‘½ä»¤å°†æ‰“å¼€ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œåœ¨å…¶ä¸­æˆ‘ä»¬ï¼š </p><br><ul><li> é€‰æ‹©<code>angular-pwa-ci</code>é¡¹ç›®ï¼› </li><li> æˆ‘ä»¬å°†åªä½¿ç”¨<code>hosting</code> ; </li><li> æˆ‘ä»¬å°†<code>dist/angular-pwa-ci/</code>æŒ‡å®šä¸ºåŒæ­¥æ–‡ä»¶å¤¹ï¼› </li><li> å°†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé…ç½®ä¸ºSPAï¼ˆå°†æ‰€æœ‰è¯·æ±‚é‡å®šå‘åˆ°index.htmlï¼‰ï¼› </li><li> æ‹’ç»é‡å†™index.htmlã€‚ </li></ul><br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä»¥æ‰‹åŠ¨æ¨¡å¼å¸ƒç½®ç”¨äºæ‰˜ç®¡çš„åº”ç”¨ç¨‹åº </p><br><pre> <code class="bash hljs">./node_modules/firebase-tools/bin/firebase deploy --only hosting</code> </pre> <br><p> åœ¨å‘å‡ºæ­¤å‘½ä»¤æ—¶ï¼Œå°†æŒ‡å‡ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå¯ç”¨çš„åœ°å€ã€‚ ä¾‹å¦‚ï¼Œ <code>https://angular-pwa-ci.firebaseapp.com</code> ã€‚ </p><br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†å†æ¬¡å®¡æ ¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ </p><br><pre> <code class="bash hljs">lighthouse https://angular-pwa-ci.firebaseapp.com</code> </pre> <br><p><img src="https://habrastorage.org/webt/wg/sn/qv/wgsnqvw-8vqssjbvajlxef_f8vc.png"></p><br><p> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå·²æˆä¸ºPWA 100ï¼…ã€‚ </p><br><h2 id="lazy-loading-modules"> å»¶è¿ŸåŠ è½½æ¨¡å— </h2><br><p> è®©æˆ‘ä»¬æ¥è£…é¥°ä¸€ä¸‹æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ åŒæ—¶ï¼Œæˆ‘ä»¬æ­£åœ¨æ¢ç´¢è§’åº¦6çš„å¦ä¸€ä¸ªåŠŸèƒ½ã€‚ <br> ä¸ºæˆ‘ä»¬çš„é¡¹ç›®æ·»åŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">è§’åº¦</a> /ææ–™æ”¯æŒã€‚ </p><br><pre> <code class="bash hljs">ng add @angular/material@6.2.1 @angular/cdk</code> </pre> <br><p>  UPDï¼šç”±äºæœ€åçš„6.3ä¼šå¼•å‘é”™è¯¯ï¼Œå› æ­¤æˆ‘ä»¬æŒ‡ç¤º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">è§’é’¢</a> /ææ–™çš„ç‰ˆæœ¬ã€‚ </p><br><p> ç°åœ¨åˆ›å»ºæˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å¯¼èˆªé¡µé¢ </p><br><pre> <code class="bash hljs">ng g @angular/material:material-nav --name=nav -m app</code> </pre> <br><p> ç°åœ¨æ˜¯æ—¶å€™æ‰‹åŠ¨æ›´æ”¹æˆ‘ä»¬çš„é¡¹ç›®ä»£ç äº†ã€‚ </p><br><pre> <code class="html hljs xml">// src/app/app.component.html <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-nav</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-nav</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="diff hljs"> // src/app/nav/nav.component.ts @Component({ - selector: 'nav', + selector: 'app-nav', templateUrl: './nav.component.html', styleUrls: ['./nav.component.css'] })</code> </pre> <br><p> åˆ›å»ºä¸€ä¸ªæ¨¡å— </p><br><pre> <code class="bash hljs">ng gm table --routing</code> </pre> <br><p> åœ¨åˆ›å»ºçš„<code>table</code>æ¨¡å—ä¸­ï¼Œåˆ›å»ºå…·æœ‰ç°æˆçš„æ ‡è®°å’Œæ ·å¼çš„ç»„ä»¶ã€‚ </p><br><pre> <code class="bash hljs">ng g @angular/material:material-nav --name=table --flat=table -m table</code> </pre> <br><pre> <code class="diff hljs"> // src/app/app-routing.module.ts -const routes: Routes = []; +const routes: Routes = [ + { + path: 'table', + loadChildren: './table/table.module#TableModule' + }, + { + path: '', + redirectTo: '', + pathMatch: 'full' + } +];</code> </pre> <br><pre> <code class="diff hljs"> // src/app/table/table-routing.module.ts -const routes: Routes = []; +const routes: Routes = [ + { + path: '', + component: TableComponent + } +];</code> </pre> <br><p>  <code>routerLink</code>åˆ°<code>routerLink</code>é“¾æ¥å¹¶æ·»åŠ <code>router-outlet</code> </p><br><pre> <code class="diff hljs"> // src/app/app.component.html &lt;mat-toolbar color="primary"&gt;Menu&lt;/mat-toolbar&gt; &lt;mat-nav-list&gt; - &lt;a mat-list-item href="#"&gt;Link 1&lt;/a&gt; + &lt;a mat-list-item routerLink="/table"&gt;Table&lt;/a&gt; &lt;a mat-list-item href="#"&gt;Link 2&lt;/a&gt; &lt;a mat-list-item href="#"&gt;Link 3&lt;/a&gt; &lt;/mat-nav-list&gt; @@ -25,5 +25,6 @@ &lt;/button&gt; &lt;span&gt;Application Title&lt;/span&gt; &lt;/mat-toolbar&gt; + &lt;router-outlet&gt;&lt;/router-outlet&gt; &lt;/mat-sidenav-content&gt; &lt;/mat-sidenav-container&gt;</code> </pre> <br><p> ä¹‹åï¼Œä»¥<code>ng serve</code>å¼€å‘æ¨¡å¼è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚ æ³¨æ„ä¸€ä¸‹ å¦‚æœæ‚¨ä»¥å‰å¤„äºæ­¤æ¨¡å¼ï¼Œåˆ™éœ€è¦é‡æ–°å¯åŠ¨å®ƒã€‚ <br> æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å·²ç»åˆ›å»ºäº†å¦ä¸€ä¸ªå—ã€‚ <br> å¹¶ä¸”åœ¨â€œç½‘ç»œâ€æ ‡ç­¾ä¸Šçš„å¼€å‘äººå‘˜é¢æ¿ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å•å‡»é“¾æ¥æ—¶ï¼Œè¡¨æ ¼æ¨¡å—ä¼šåŠ¨æ€åŠ è½½ã€‚ </p><br><p><img src="https://habrastorage.org/webt/06/cz/zh/06czzhh_-fbhg-oyieow8cnciom.png"></p><br><p> è®©æˆ‘ä»¬ä½¿ç”¨ä»ªè¡¨æ¿çš„æ ‡è®°åˆ›å»ºå¦ä¸€ä¸ªåŠŸèƒ½æ¨¡å—å’Œç»„ä»¶ </p><br><pre> <code class="bash hljs">ng gm dashboard --routing ng g @angular/material:material-dashboard --flat=dashboard --name=dashboard -m dashboard</code> </pre> <br><p> æ›´æ”¹ä»£ç çš„æ“ä½œç±»ä¼¼äºè¡¨æ¨¡å—ã€‚ </p><br><p> ç»“æœï¼Œæˆ‘ä»¬è·å¾—äº†å¸¦æœ‰ä¸¤ä¸ªåŠ¨æ€åŠ è½½çš„åŠŸèƒ½æ¨¡å—çš„PWAåº”ç”¨ç¨‹åºã€‚ <br> ç°åœ¨è¯¥ç»§ç»­åœ¨Firebaseä¸Šå®æ–½æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨éƒ¨ç½²äº†ã€‚ </p><br><h2 id="cd-dlya-firebase">  Firebase CD </h2><br><p> æˆ‘ä»¬å°†éœ€è¦ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://travis-ci.org</a>å¸æˆ·å’Œä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://github.com</a>å¸æˆ·ã€‚ <br> è®©æˆ‘ä»¬åœ¨githubä¸­åˆ›å»º<code>angular-pwa-ci</code>å­˜å‚¨åº“å¹¶å°†æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä»£ç æ”¾å…¥å…¶ä¸­ </p><br><pre> <code class="bash hljs">git remote add https://github.com/&lt; &gt;/angular-pwa-ci.git git push -u origin master</code> </pre> <br><p> ä¹‹åï¼Œæˆ‘ä»¬å°†æŠŠ<code>angular-pws-ci</code>å­˜å‚¨åº“<code>angular-pws-ci</code>æœåŠ¡ã€‚ ä¸ºæ­¤ï¼Œè¯·åœ¨é¡µé¢<code>https://travis-ci.org/profile/</code>å•å‡»â€œåŒæ­¥â€æŒ‰é’®ï¼Œç„¶ååœ¨å¸¦æœ‰å­˜å‚¨åº“çš„åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬è¿æ¥<code>angular-pwa-ci</code> <br><img src="https://habrastorage.org/webt/_g/xe/aw/_gxeawynszn-yzeqjiyyeaxdgyg.png"></p><br><p> è¦éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯†é’¥ï¼Œæ‰§è¡Œå‘½ä»¤ </p><br><pre> <code class="bash hljs">firebase login:ci</code> </pre> <br><p> è¯¥å‘½ä»¤çš„å‘å¸ƒå°†åŒ…å«å¯†é’¥ã€‚ å¤åˆ¶å…¶å€¼å¹¶å°†å…¶æ·»åŠ åˆ°åä¸ºFIREBASE_TOKENçš„travis-ciç¯å¢ƒå˜é‡ä¸­ <br><img src="https://habrastorage.org/webt/z8/0h/xe/z80hxebfqenhfesm0znit3ua06a.png"></p><br><p> ä»ç„¶éœ€è¦å°†.travis.ymlæ–‡ä»¶æ·»åŠ åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ </p><br><pre> <code class="hljs powershell">language: node_js node_js: - <span class="hljs-string"><span class="hljs-string">"node"</span></span> before_script: - npm i <span class="hljs-literal"><span class="hljs-literal">-g</span></span> firebase<span class="hljs-literal"><span class="hljs-literal">-tools</span></span> script: - npm install - npm run build - firebase use -<span class="hljs-literal"><span class="hljs-literal">-token</span></span> <span class="hljs-variable"><span class="hljs-variable">$FIREBASE_TOKEN</span></span> angular<span class="hljs-literal"><span class="hljs-literal">-pwa</span></span><span class="hljs-literal"><span class="hljs-literal">-ci</span></span> - firebase deploy <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-string"><span class="hljs-string">"build </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$TRAVIS_BUILD_ID</span></span></span><span class="hljs-string">"</span></span> -<span class="hljs-literal"><span class="hljs-literal">-non</span></span><span class="hljs-literal"><span class="hljs-literal">-interactive</span></span> -<span class="hljs-literal"><span class="hljs-literal">-token</span></span> <span class="hljs-variable"><span class="hljs-variable">$FIREBASE_TOKEN</span></span> cache: directories: - <span class="hljs-string"><span class="hljs-string">"node_modules"</span></span></code> </pre> <br><p> è®©æˆ‘ä»¬æäº¤å¹¶å‘é€ç»™githubã€‚ ç»“æœï¼Œè§¦å‘å™¨å°†è§¦å‘ï¼Œè¿™å°†åœ¨travis-ciä¸Šå¯åŠ¨ä½œä¸šã€‚ æœ€åï¼Œæˆ‘ä»¬æœ‰å…³Firebaseæ‰˜ç®¡çš„é¡¹ç›®å°†è¢«æ›´æ–°ã€‚ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æä¾›é¡¹ç›®æºä»£ç </a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é¡¹ç›®æ¼”ç¤º</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½ å¯ä»¥ç©ä»£ç </a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN413679/">https://habr.com/ru/post/zh-CN413679/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN413667/index.html">Kaggleï¼šæ¥è‡ªå¤ªç©ºçš„äºšé©¬é€Š-è®­ç»ƒç¥ç»ç½‘ç»œçš„æŠ€å·§å’ŒæŠ€å·§</a></li>
<li><a href="../zh-CN413669/index.html">ä¸‰æ˜ŸITå­¦æ ¡ï¼šæ•™å­¦ç”Ÿå¦‚ä½•å¼€å‘ç§»åŠ¨åº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN413673/index.html">å…³äºèŠ‚ç‚¹æ–°æ—§ç‰ˆæœ¬çš„æ€§èƒ½é—®é¢˜</a></li>
<li><a href="../zh-CN413675/index.html">å°ä¸‘2018ï¼šåŒ¿åJavaå¼€å‘äººå‘˜ä¿±ä¹éƒ¨</a></li>
<li><a href="../zh-CN413677/index.html">ROSåœ¨EduMIPè‡ªå¹³è¡¡æœºå™¨äººä¸Šå¯åŠ¨</a></li>
<li><a href="../zh-CN413681/index.html">åœ¨Goä¸Šå¼€å‘é«˜åº¦å¯é çš„æœåŠ¡å™¨çš„æŠ€æœ¯</a></li>
<li><a href="../zh-CN413683/index.html">ILVå·²è§£é”700ä¸‡ä¸ªIPåœ°å€ã€‚ ä¿æŒé”å®š400ä¸‡</a></li>
<li><a href="../zh-CN413689/index.html">Debian + Postfix + Dovecot +å¤šåŸŸ+ SSL + IPv6 + OpenVPN +å¤šæ¥å£+ SpamAssassin-learn +ç»‘å®š</a></li>
<li><a href="../zh-CN413691/index.html">å¼€å§‹</a></li>
<li><a href="../zh-CN413693/index.html">æ‰‹å·¥åˆ¶ä½œï¼šå¯è‡ªè¡Œå®Œæˆç½‘ä¸Šäº¤æ˜“çš„å¯ç¼–ç¨‹é”®ç›˜</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>