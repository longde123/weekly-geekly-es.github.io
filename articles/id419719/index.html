<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍⚕️ 👩‍⚕️ 💀 [bookmark] 23 rekomendasi untuk melindungi aplikasi Node.js 🔲 🔅 🖖🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saat ini, layanan web terus-menerus terkena berbagai serangan. Oleh karena itu, keamanan adalah sesuatu yang perlu diingat pada semua tahap siklus hid...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>[bookmark] 23 rekomendasi untuk melindungi aplikasi Node.js</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/419719/">  Saat ini, layanan web terus-menerus terkena berbagai serangan.  Oleh karena itu, keamanan adalah sesuatu yang perlu diingat pada semua tahap siklus hidup proyek.  Para penulis materi, terjemahan yang kami terbitkan hari ini, mengelola <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori</a> di GitHub yang berisi sekitar 80 rekomendasi untuk mengamankan aplikasi yang berjalan pada platform Node.js.  Materi ini, berdasarkan banyak publikasi keamanan, memiliki lebih dari dua lusin rekomendasi mengenai Node.js dan beberapa tips umum.  Selain itu, materi ini mencakup 10 kerentanan teratas dari daftar proyek OWASP. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/un/rv/yq/unrvyqhru9dijyht3zx9k9x4tlg.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Gunakan aturan untuk linter, yang bertujuan memeriksa keamanan kode</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Rekomendasi </h3><br>  Selama pengembangan, gunakan plug-in berorientasi keamanan untuk linter, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">eslint-plugin-security</a> .  Ini memungkinkan Anda mengidentifikasi kerentanan dan masalah keamanan sangat dini - pada saat penulisan kode yang sesuai.  Pendekatan ini membantu menemukan kelemahan dalam keamanan program.  Di antara mereka adalah penggunaan perintah <code>eval</code> , doa proses anak, impor modul dengan transfer ke perintah yang sesuai dari sesuatu yang berbeda dari string literal (katakanlah, string tertentu dibentuk berdasarkan data yang dikirim ke server oleh pengguna). <br><br>  → <a href="">Berikut adalah beberapa</a> bahan yang berguna tentang aturan linter <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Adam Baldwin</a> mengatakan hal berikut tentang linting: “Linter seharusnya bukan hanya alat yang dengan cermat mengikuti aturan mengenai jumlah ruang yang digunakan, titik koma, dan penggunaan perintah eval.  ESLint menyediakan pengembang dengan platform yang kuat yang dapat mendeteksi dan menghilangkan berbagai pola yang berpotensi berbahaya dalam kode.  Kami berbicara, misalnya, tentang ekspresi reguler, tentang memeriksa input pengguna, dan sebagainya.  Saya percaya bahwa linter memberikan pengembang yang peduli tentang masalah keamanan alat baru yang kuat dan layak untuk diperhatikan. ” <br><br><h3>  Kemungkinan masalah </h3><br>  Apa yang tampak seperti cacat keamanan kecil selama pengembangan menjadi kerentanan serius dalam produksi.  Selain itu, jika semua pengembang proyek tidak mengikuti aturan keamanan yang seragam ketika bekerja dengan kode, ini dapat menyebabkan kerentanan di dalamnya, atau, misalnya, penetrasi data rahasia ke dalam repositori publik. <br><br><h2>  <font color="#3AC1EF">2. Batasi jumlah permintaan server simultan</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Rekomendasi </h3><br>  Serangan DoS sangat populer di kalangan penjahat dunia maya, dan itu relatif mudah dilakukan.  Anda dapat menerapkan sistem untuk membatasi jumlah permintaan ke aplikasi menggunakan layanan eksternal, seperti penyeimbang beban cloud, firewall cloud, server nginx, atau, untuk aplikasi kecil yang tidak kritis, menggunakan middleware untuk membatasi jumlah permintaan seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tarif kilat -batas</a> . <br><br>  → <a href="">Berikut ini adalah</a> materi tentang implementasi sistem untuk membatasi frekuensi permintaan ke server <br><br><h3>  Kemungkinan masalah </h3><br>  Aplikasi yang tidak menyediakan sistem untuk membatasi jumlah permintaan simultan dapat diserang, yang akan mengarah pada kegagalannya.  Ini dinyatakan dalam kenyataan bahwa pengguna aplikasi semacam itu akan mengalami kesulitan bekerja dengannya atau tidak akan dapat berinteraksi dengannya sama sekali. <br><br><h2>  <font color="#3AC1EF">3. Hapus informasi rahasia dari file konfigurasi atau mengenkripsi mereka</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Rekomendasi </h3><br>  Jangan pernah menyimpan data sensitif dalam teks biasa dalam file konfigurasi atau dalam kode.  Sebagai gantinya, gunakan sistem manajemen data sensitif seperti produk Vault atau sistem Kubernetes / Docker Secrets, atau gunakan variabel lingkungan untuk menyimpan data tersebut.  Data rahasia yang disimpan dalam sistem kontrol versi harus dienkripsi, tindakan harus diambil untuk penyimpanan dan penggunaannya yang aman.  Di antara langkah-langkah tersebut adalah penggunaan kunci dinamis, penggunaan tanggal kedaluwarsa kata sandi, audit keamanan, dan sebagainya.  Gunakan sistem untuk memverifikasi kode sebelum melakukan atau sebelum mengirimnya ke repositori untuk mencegah pengiriman data sensitif secara tidak sengaja ke repositori publik. <br><br>  → <a href="">Berikut ini</a> materi tentang mengelola data sensitif <br><br><h3>  Kemungkinan masalah </h3><br>  Bahkan jika kode disimpan dalam repositori tertutup, suatu hari, secara tidak sengaja, kode tersebut mungkin tersedia untuk umum.  Pada titik ini, semua data rahasia yang disimpan di dalamnya akan menjadi domain publik.  Akibatnya, akses pihak ketiga ke repositori dengan kode secara tidak sengaja akan menyebabkan mereka mendapatkan akses ke sistem yang terkait dengannya (database, API, layanan, dan sebagainya). <br><br><h2>  <font color="#3AC1EF">4. Mencegah kerentanan injeksi kode</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Rekomendasi </h3><br>  Untuk mencegah injeksi SQL / NoSQL dan serangan serupa lainnya, selalu gunakan perpustakaan ORM / ODM atau mekanisme DBMS yang ditujukan untuk pembersihan data, atau mendukung kueri parameterisasi yang dinamai atau diindeks, dan memeriksa apa yang datang dari pengguna.  Jangan pernah gunakan, untuk menyematkan nilai-nilai tertentu dalam teks kueri, hanya templat string JavaScript, atau penggabungan string, karena pendekatan ini membuka aplikasi Anda ke berbagai kerentanan.  Semua pustaka terhormat untuk Node.js yang digunakan untuk bekerja dengan data (misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sequelize</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Knex</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">luwak</a> ) mengandung perlindungan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bawaan</a> terhadap serangan dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menyuntikkan</a> kode. <br><br>  → <a href="">Ini adalah</a> materi tentang pencegahan injeksi menggunakan perpustakaan ORM / ODM <br><br><h3>  Kemungkinan masalah </h3><br>  Penggunaan data yang tidak diverifikasi dan tidak bersih yang diterima dari pengguna dalam kueri dapat menyebabkan serangan dengan memperkenalkan operator ketika bekerja dengan database NoSQL seperti MongoDB.  Jika Anda tidak menggunakan sistem pembersihan data atau pustaka ORM saat bekerja dengan database SQL, ini akan mengarah pada kemungkinan serangan oleh injeksi SQL, yang menciptakan lubang keamanan besar dalam aplikasi. <br><br><h2>  <font color="#3AC1EF">5. Hindari serangan DoS dengan secara eksplisit mengatur kondisi untuk penghentian proses yang abnormal</font> </h2><br><h3>  Rekomendasi </h3><br>  Proses Node macet ketika terjadi kesalahan yang tidak ditangani.  Tetapi dalam banyak rekomendasi yang mencerminkan praktik terbaik untuk Node, direkomendasikan agar proses dihentikan bahkan ketika kesalahan telah dicegat dan diproses.  Express, misalnya, akan macet ketika kesalahan asinkron terjadi - kecuali jika rute dibungkus dengan ekspresi <code>catch</code> .  Fakta ini menawarkan penyerang peluang yang sangat menarik.  Mereka, setelah menemukan bahwa ketika permintaan tertentu tiba, proses macet, mulai mengirimkan permintaan seperti itu ke sana.  Tidak ada rekomendasi yang akan menyelesaikan masalah ini dalam satu kali kejadian, namun, beberapa trik dapat mengatasinya.  Jadi, pada akhir proses karena kesalahan tidak tertangani, Anda harus memberi tahu administrator, memberikan pemberitahuan semacam itu prioritas tertinggi yang penting.  Penting untuk memeriksa apa yang datang ke proses dalam permintaan dan untuk menghindari situasi penghentian proses yang tidak normal karena permintaan yang, secara tidak sengaja atau sengaja, terbentuk secara tidak benar.  Semua rute harus dibungkus dengan ekspresi <code>catch</code> dan sistem harus dikonfigurasi sehingga, jika permintaan adalah penyebab kesalahan, proses tidak akan macet (sebagai lawan dari apa yang terjadi di tingkat aplikasi global). <br><br><h3>  Kemungkinan masalah </h3><br>  Mari kita menganalisis situasi berikut ini.  Ada banyak aplikasi Node.js.  Apa yang terjadi jika kami mulai mengirimi mereka permintaan POST dengan JSON kosong sebagai badan permintaan?  Ini akan menyebabkan banyak aplikasi ini macet. <br><br>  Sekarang, jika kita memainkan peran penjahat dunia maya, agar kita menjaga aplikasi agar tidak macet, itu akan cukup untuk terus mengirimi mereka permintaan yang sama. <br><br><h2>  <font color="#3AC1EF">6. Konfigurasikan header respons HTTP untuk meningkatkan keamanan proyek</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Rekomendasi </h3><br>  Aplikasi harus menggunakan header HTTP yang berorientasi keamanan untuk mencegah penyerang menggunakan teknik serangan umum seperti cross-site scripting (XSS), clickjacking, dan lainnya.  Menyesuaikan header mudah menggunakan modul khusus seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">helm</a> . <br><br>  → <a href="">Ini adalah</a> materi tentang menggunakan header yang aman <br><br><h3>  Kemungkinan masalah </h3><br>  Jika header HTTP aman tidak digunakan, penyerang akan dapat melakukan serangan terhadap pengguna aplikasi Anda, yang mengarah pada kerentanan besar. <br><br><h2>  <font color="#3AC1EF">7. Terus menerus, secara otomatis, periksa proyek Anda untuk penggunaan dependensi rentan di dalamnya</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/810/c93/fcf/810c93fcf88a0b68e15d345fccc1b597.png"></div><br><h3>  Rekomendasi </h3><br>  Dalam ekosistem NPM, proyek dengan banyak dependensi sangat umum.  Dependensi harus selalu dikontrol, mengingat ditemukannya kerentanan baru.  Gunakan alat seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">npm audit</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nsp,</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">snyk</a> untuk mendeteksi, memantau, dan memperbaiki dependensi yang rentan.  Sematkan alat ini di sistem integrasi berkelanjutan Anda.  Ini akan memungkinkan Anda untuk mendeteksi dependensi yang rentan sebelum mereka mulai berproduksi. <br><br>  → <a href="">Ini adalah</a> materi tentang keamanan ketergantungan proyek <br><br><h3>  Kemungkinan masalah </h3><br>  Seorang penyerang dapat menentukan kerangka kerja web yang digunakan dalam proyek dan melakukan serangan terhadap semua kerentanan yang diketahui. <br><br><h2>  <font color="#3AC1EF">8. Cobalah untuk tidak menggunakan modul crypto Node.js standar untuk pemrosesan kata sandi, gunakan Bcrypt sebagai gantinya</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Rekomendasi </h3><br>  Kata sandi atau data sensitif lainnya (misalnya, kunci API) harus disimpan dengan memprosesnya dengan fungsi kriptografis menggunakan "garam", seperti Bcrypt.  Layak untuk menggunakan sesuatu yang persis sama, dan bukan modul <code>crypto</code> Node.js standar untuk alasan keamanan dan kinerja. <br><br>  → <a href="">Ini adalah</a> materi tentang Bcrypt <br><br><h3>  Kemungkinan masalah </h3><br>  Kata sandi atau beberapa data rahasia yang disimpan tanpa penerapan langkah-langkah yang sesuai untuk melindunginya rentan terhadap serangan brute force dan serangan kamus, yang, sebagai akibatnya, mengarah pada pengungkapan data tersebut. <br><br><h2>  <font color="#3AC1EF">9. Gunakan sistem pelarian karakter dalam data HTML, JS dan CSS yang dikirim ke pengguna</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b7/846/638/0b7846638c9f820198235d61d8a2d0f0.png"></div><br><h3>  Rekomendasi </h3><br>  Jika beberapa data dikirim ke browser pengguna dari sumber yang tidak dipercaya, maka bahkan jika mereka hanya ditampilkan, data tersebut dapat menjadi kode yang dapat dieksekusi.  Ini biasanya disebut sebagai cross-site scripting (XSS).  Anda dapat mengurangi risiko serangan seperti itu dimungkinkan menggunakan perpustakaan khusus yang memproses data sehingga tidak dapat dieksekusi.  Ini disebut pengodean atau perisai data. <br><br>  → <a href="">Ini adalah</a> materi tentang melindungi output <br><br><h3>  Kemungkinan masalah </h3><br>  Jika Anda tidak peduli tentang pelindung data, penyerang dapat, misalnya, menyimpan kode JavaScript berbahaya di basis data Anda, yang dapat dikirim ke klien tanpa perubahan dan diluncurkan. <br><br><h2>  <font color="#3AC1EF">10. Periksa data JSON yang datang ke server</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Rekomendasi </h3><br>  Kontrol isi badan permintaan masuk, periksa apakah mereka sesuai dengan apa yang Anda harapkan dalam permintaan tersebut.  Jika permintaan tidak seperti yang diharapkan, cepat hentikan memprosesnya.  Untuk menghindari operasi yang memakan waktu dari penulisan kode verifikasi permintaan untuk setiap rute, Anda dapat menggunakan alat JSON ringan untuk validasi data, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jsonschema</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">joi</a> . <br><br>  → <a href="">Ini adalah</a> bahan untuk memeriksa data JSON yang masuk <br><br><h3>  Kemungkinan masalah </h3><br>  Jika server menerima permintaan apa pun dengan ramah tanpa memeriksa mereka dengan saksama, ini sangat meningkatkan permukaan serangan aplikasi dan menginspirasi penyerang untuk mencoba menemukan banyak dari mereka yang mengarah pada "crash" sistem. <br><br><h2>  <font color="#3AC1EF">11. Pertahankan token JWT yang masuk daftar hitam</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Rekomendasi </h3><br>  Saat menggunakan token JWT (misalnya, jika Anda bekerja dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Passport.js</a> ), secara default, tidak ada mekanisme standar untuk mencabut hak akses sistem untuk token yang sudah dikeluarkan.  Bahkan jika Anda menemukan bahwa pengguna tertentu melakukan sesuatu yang jelas-jelas tidak normal, Anda tidak dapat, melalui mekanisme token, untuk memblokir aksesnya ke sistem, selama ia memiliki token yang valid.  Masalah ini dapat dikurangi dengan menerapkan daftar hitam dari token yang tidak dipercaya, yang validasinya dilakukan pada setiap permintaan. <br><br>  → <a href="">Ini adalah</a> materi tentang token JWT yang masuk daftar hitam <br><br><h3>  Kemungkinan masalah </h3><br>  Token yang jatuh ke tangan yang salah dapat digunakan oleh penyerang.  Dia akan dapat mengakses aplikasi dan menyamar sebagai pengguna biasa - pemilik token. <br><br><h2>  <font color="#3AC1EF">12. Batasi jumlah upaya login</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Rekomendasi </h3><br>  Dalam aplikasi berbasis express, untuk melindungi dari serangan brute force dan serangan kamus, ada baiknya menggunakan middleware yang sesuai, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">express-brute</a> .  Demikian juga, Anda perlu melindungi rute penting seperti <code>/admin</code> atau <code>/login</code> .  Perlindungan harus didasarkan pada analisis properti kueri, seperti nama pengguna yang digunakan dalam kueri atau pengidentifikasi lainnya, seperti parameter badan permintaan. <br><br>  → <a href="">Ini adalah</a> bahan untuk membatasi jumlah upaya login <br><br><h3>  Kemungkinan masalah </h3><br>  Jika aplikasi tidak membatasi jumlah upaya login, penyerang dapat secara otomatis mengirim permintaan login yang tidak terbatas ke sistem Anda, misalnya, mencoba untuk mendapatkan akses ke akun istimewa. <br><br><h2>  <font color="#3AC1EF">13. Jalankan Node.js sebagai pengguna non-root</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c0/dca/b4d/4c0dcab4d9a0d1fce8fcaf8b6abbdcce.png"></div><br><h3>  Rekomendasi </h3><br>  Skenario yang sangat umum adalah ketika Node.js dijalankan sebagai pengguna root dengan hak istimewa yang tidak terbatas.  Sebagai contoh, ini adalah bagaimana semuanya dikonfigurasi secara default di wadah Docker.  Disarankan agar Anda membuat pengguna yang tidak memiliki hak akses root, dan menanamkannya dalam gambar Docker, atau memulai proses atas nama pengguna itu dengan memanggil wadah dengan bendera <code>-u username</code> . <br><br>  → <a href="">Ini adalah</a> materi tentang meluncurkan Node.js sebagai pengguna non-root <br><br><h3>  Kemungkinan masalah </h3><br>  Jika Node.js dijalankan di bawah akun pengguna root, maka penyerang yang bisa menjalankan skrip di server mendapat kemungkinan tak terbatas di mesin lokal.  Katakanlah itu dapat mengubah pengaturan <code>iptable</code> dan mengarahkan lalu lintas ke komputernya sendiri. <br><br><h2>  <font color="#3AC1EF">14. Batasi jumlah data yang dikirim dalam permintaan menggunakan server proxy terbalik atau middleware</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Rekomendasi </h3><br>  Semakin besar jumlah data dalam badan permintaan, semakin sulit bagi server berulir tunggal untuk memproses permintaan tersebut.  Penggunaan permintaan besar memberi penyerang kesempatan untuk membanjiri server dengan pekerjaan yang tidak perlu tanpa mengirimnya sejumlah besar permintaan (yaitu, tanpa melakukan serangan DoS / DDoS).  Anda dapat mengurangi risiko serangan semacam itu dengan membatasi ukuran isi permintaan yang masuk pada sistem perbatasan tertentu (pada firewall atau pada penyeimbang beban), atau dengan menyetel express <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">body-parser</a> untuk menerima hanya paket yang berisi sejumlah kecil data. <br><br>  → <a href="">Berikut ini</a> materi tentang membatasi jumlah data yang dikirim dalam permintaan <br><br><h3>  Kemungkinan masalah </h3><br>  Jika Anda tidak membatasi jumlah data yang dikirim dalam permintaan, penyerang dapat memuat aplikasi dengan memproses permintaan besar.  Pada saat ini, ia tidak akan dapat menyelesaikan tugas yang memang dirancang.  Hal ini menyebabkan kinerja yang buruk dan membuat aplikasi rentan terhadap serangan DoS. <br><br><h2>  <font color="#3AC1EF">15. Hindari menggunakan fungsi eval dalam JavaScript</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  Rekomendasi </h3><br>  Fungsi <code>eval</code> jahat karena memungkinkan Anda untuk mengeksekusi kode JS sewenang-wenang yang diberikan selama eksekusi program.  Selain itu, ini jauh dari hanya bahwa kode ini dapat memperlambat aplikasi.  Fungsi ini menimbulkan risiko keamanan yang serius, karena kode JS berbahaya yang dikirim ke server oleh penyerang bisa masuk ke dalamnya. <br><br>  Selain itu, Anda harus menghindari Konstruktor <code>new Function</code> .  Fungsi <code>setTimeout</code> dan <code>setInterval</code> tidak perlu melewati kode JS yang dihasilkan secara dinamis. <br><br>  → <a href="">Ini adalah</a> hal <a href="">-</a> hal tentang eval <br><br><h3>  Kemungkinan masalah </h3><br>  Jika seseorang menemukan cara untuk mentransfer kode JS berbahaya, dalam bentuk teks, fungsi <code>eval</code> , atau mesin JS serupa lainnya, ia akan memiliki akses penuh ke halaman, ke segala sesuatu yang dapat dilakukan menggunakan JavaScript.  Kerentanan ini sering dikaitkan dengan serangan XSS. <br><br><h2>  <font color="#3AC1EF">16. Jangan membebani aplikasi Node.js single-threaded dengan ekspresi reguler berbahaya</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Rekomendasi </h3><br>  Ekspresi reguler, meskipun mudah, menimbulkan ancaman bagi aplikasi JavaScript secara umum, dan khususnya pada platform Node.js.  Memproses dengan ekspresi reguler apa yang datang dari pengguna dapat membuat beban besar pada prosesor.  Misalnya, memproses ekspresi reguler bisa sangat tidak efisien sehingga memeriksa sepuluh kata dapat memblokir siklus peristiwa selama beberapa detik dan membebani prosesor.  Oleh karena itu, yang terbaik adalah menggunakan paket pihak ketiga untuk memeriksa data string, seperti <a href="">validator.js</a> , daripada menulis ekspresi reguler Anda sendiri.  Anda dapat menggunakan paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">safe-regex</a> untuk mendeteksi pola <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">regex yang</a> rentan. <br><br>  → <a href="">Ini adalah</a> materi regex anti-malware <br><br><h3>  Kemungkinan masalah </h3><br>  Ekspresi reguler yang ditulis dengan buruk dapat dikenakan jenis serangan DoS khusus, di mana loop peristiwa sepenuhnya diblokir.  Misalnya, pada November 2017, ditemukan bahwa paket <code>moment</code> populer rentan terhadap serangan semacam itu. <br><br><h2>  <font color="#3AC1EF">17. Hindari memuat modul menggunakan variabel</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Rekomendasi </h3><br>  Hindari mengimpor file yang jalurnya ditentukan sebagai parameter, berdasarkan pertimbangan yang dengannya parameter ini dapat ditetapkan berdasarkan data dari pengguna.  Aturan ini dapat diperluas untuk memasukkan di sini dan, secara umum, akses ke file (menggunakan <code>fs.readFile()</code> ), dan akses ke sumber daya penting lainnya menggunakan parameter yang diterima dari pengguna.  Menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">eslint-plugin-security</a> memungkinkan untuk mendeteksi pola tidak aman tersebut sangat awal. <br><br>  → <a href="">Ini adalah</a> materi tentang memuat modul yang aman <br><br><h3>  Kemungkinan masalah </h3><br>  Data yang dikirim ke server oleh penyerang mungkin ada di pengaturan yang bertanggung jawab untuk mengimpor file tertentu, di antaranya mungkin file berbahaya yang sebelumnya diunggah ke server.  Data ini juga dapat digunakan untuk mengakses file sistem yang sudah ada di komputer. <br><br><h2> <font color="#3AC1EF">18.     </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  </h3><br>      ,        (,  ),  «»,         .    ,    ( <code>cluster.fork()</code> ),     npm-,   . <br><br> → <a href=""></a>        <br><br><h3>   </h3><br>  ,   ,      .   —  ,  ,    ,      . <br><br><h2> <font color="#3AC1EF">19.        </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  </h3><br> ,   ,   .      ,     ,          ,       .      <code>child_process.execFile</code> , ,  ,    ,        ,  . <br><br> → <a href=""></a>    ,       <br><br><h3>   </h3><br>                ,  ,    ,   ,   . <br><br><h2> <font color="#3AC1EF">20.      </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>    express,  ,    . ,   ,       ,    <code>Error</code> (    ).    , ,        ,      -  ,       . <br><br> → <a href=""></a>         <br><br><h3>   </h3><br>  ,    , ,      ,            ,    ,      . <br><br><h2> <font color="#3AC1EF">21.     npm  Yarn</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>     ,      -,      (MFA, multi-factor authentication).   npm  Yarn     ,      .  ,      ,       ,       .        ,      .   , ,  npm,                   . <br><br><h3>   </h3><br>  ,        ? <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>    eslint,     . <br><br><h2> <font color="#3AC1EF">22.   ,   </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>   -       .    ,      —     ,   -  .   ,   ,      <code>X-Powered-By</code> ,          ,      .   ,        ( , , Node.js  express). <br><br> → <a href=""></a>   -    <br><br><h3>   </h3><br> -     .  ,         ,  -,   —    .            . <br><br><h2> <font color="#3AC1EF">23.     </font> </h2><br>           ,      .  —  ,     Node.js. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>     ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> OWASP</a> . <br><br><ul><li>      root-      . </li><li>        ( SSH-). </li><li>  ,      ,   ,   . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>  OWASP,  . </li><li>       ,     .  ,      . <br></li><li>       OAuth, OpenID,   .     Basic Authentication. <br></li><li>    .      ,    (   —       ),   X   ,  Y . <br></li><li>        —     ,    —   .     ,      . <br></li><li>    ,  ,    .             ( —     GitHub, AWS, Jenkins,   ). <br></li></ul><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>      . ,        Node.js-. <br><br>  <b>Pembaca yang budiman!</b>       -,        ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ft/qm/bo/ftqmbopklpm88ixbi5vqyx2zcb8.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id419719/">https://habr.com/ru/post/id419719/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id419707/index.html">Gamifikasi aplikasi - 5 hal yang perlu diingat</a></li>
<li><a href="../id419711/index.html">IT Bike Quest pertama di St. Petersburg. Bagaimana itu?</a></li>
<li><a href="../id419713/index.html">Mail.Ru Design Conference + Dribbble Meetup 2018</a></li>
<li><a href="../id419715/index.html">Anda tidak tahu cara bekerja dengan transaksi</a></li>
<li><a href="../id419717/index.html">Merancang arsitektur aplikasi yang tertanam</a></li>
<li><a href="../id419721/index.html">Biomarker penuaan. Panel Frailty. Bagian 1</a></li>
<li><a href="../id419725/index.html">Darts, Dice, and Coins: Algoritma Distribusi Terpisah</a></li>
<li><a href="../id419727/index.html">Harbor - registri untuk keluar dari wadah Docker kotak</a></li>
<li><a href="../id419729/index.html">Acara amal "Berikan sayap kepada anak-anak"</a></li>
<li><a href="../id419731/index.html">Mini-review dari printer 3D photopolymer gigi MoonRay S</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>