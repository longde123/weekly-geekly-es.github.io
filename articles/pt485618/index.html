<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüé§ ü§¶üèª üéì Automa√ß√£o para os mais pequenos. Notas. API RESTful üßîüèø üïñ ‚ùÑÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo √© uma das notas curtas prometidas durante a s√©rie de artigos Automation For The Menorest . 
 Como a principal maneira de interagir com o s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automa√ß√£o para os mais pequenos. Notas. API RESTful</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485618/">  Este artigo √© uma das notas curtas prometidas durante a s√©rie de artigos <a href="https://habr.com/ru/search/%3Fq%3D%255B%25D0%25B0%25D0%25B2%25D1%2582%25D0%25BE%25D0%25BC%25D0%25B0%25D1%2582%25D0%25B8%25D0%25B7%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F%2520%25D0%25B4%25D0%25BB%25D1%258F%2520%25D1%2581%25D0%25B0%25D0%25BC%25D1%258B%25D1%2585%2520%25D0%25BC%25D0%25B0%25D0%25BB%25D0%25B5%25D0%25BD%25D1%258C%25D0%25BA%25D0%25B8%25D1%2585%255D%26target_type%3Dposts">Automation For The Menorest</a> . <br>  Como a principal maneira de interagir com o sistema IPAM √© a API RESTful, decidi falar sobre isso separadamente. <br><br><hr><br>  Elogio os arquitetos do mundo moderno - temos interfaces padronizadas.  Sim, existem muitos deles - isso √© um sinal de menos, mas eles s√£o - isso √© uma vantagem. <br><br>  Essas interfaces ganharam o nome API - Application Programming Interface. <br><br>  Uma dessas interfaces √© a API RESTful, usada para trabalhar com o NetBox. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/639/c1e/e86/639c1ee8692aed286b99deeb01796e89.svg" width="800"><br><br>  Se for muito simples, a API fornece ao cliente um conjunto de ferramentas por meio das quais ele pode gerenciar o servidor.  E o cliente pode ser essencialmente qualquer coisa: um navegador da Web, um console de comando, um aplicativo desenvolvido pelo fabricante ou qualquer outro aplicativo que tenha acesso √† API. <br><br>  Por exemplo, no caso da NetBox, voc√™ pode adicionar um novo dispositivo a ele das seguintes maneiras: por meio de um navegador da Web, enviando uma solicita√ß√£o para o console, use o Postman, acesse a biblioteca de solicita√ß√µes em python, use o pynetbox SDK ou v√° para o Swagger. <br><br>  Assim, depois de escrever uma √∫nica interface, o fabricante se livra para sempre da necessidade de concordar com cada novo cliente como conect√°-la (embora isso seja apenas um pouco astuto). <br><a name="habracut"></a><br><h1>  Conte√∫do </h1><br><ul><li>  REST, RESTful, API </li><li>  Estrutura de mensagens HTTP <br><ul><li>  Linha de partida </li><li>  Cabe√ßalhos </li><li>  O corpo da mensagem HTTP </li></ul><br></li><li>  M√©todos <br><ul><li>  HTTP GET </li><li>  HTTP POST </li><li>  HTTP PUT </li><li>  PATCH HTTP </li><li>  HTTP DELETE </li></ul><br></li><li>  Maneiras de trabalhar com a API RESTful <br><ul><li>  Enrolar </li><li>  Carteiro </li><li>  Solicita√ß√µes Python + </li><li>  Pynebtbox SDK </li><li>  Swagger </li></ul><br></li><li>  Cr√≠ticas ao REST e alternativas </li><li>  Links √∫teis </li></ul><br><h1>  REST, RESTful, API </h1><br>  Abaixo, darei uma descri√ß√£o muito simplificada do que √© REST. <br><br>  Para come√ßar, a <b>API RESTful</b> √© exatamente a <b>interface de</b> intera√ß√£o baseada em REST, enquanto a pr√≥pria <b>REST</b> ( <b>REpresentational State Transfer</b> ) √© um conjunto de restri√ß√µes usadas para criar servi√ßos WEB. <br><br>  √â poss√≠vel ler sobre exatamente quais limita√ß√µes podem ser encontradas no <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm" rel="nofollow">cap√≠tulo 5 da disserta√ß√£o de Roy Fielding, Estilos arquitet√¥nicos e Design de arquiteturas de software baseadas em rede</a> .  Deixe-me dar apenas os tr√™s mais significativos (do meu ponto de vista) deles: <br><br><ol><li>  A arquitetura REST usa o modelo de intera√ß√£o cliente-servidor. </li><li>  Cada solicita√ß√£o REST cont√©m todas as informa√ß√µes necess√°rias para sua execu√ß√£o.  Ou seja, o servidor n√£o deve se lembrar de nada sobre solicita√ß√µes de clientes anteriores, que, como voc√™ sabe, s√£o caracterizadas pela palavra Stateless - n√£o armazenam informa√ß√µes de status. </li><li>  Interface unificada.  A implementa√ß√£o do aplicativo √© separada do servi√ßo que ele fornece.  Ou seja, o usu√°rio sabe o que faz e como interagir com ele, mas como faz isso n√£o importa.  Quando voc√™ altera o aplicativo, a interface permanece a mesma e os clientes n√£o precisam se ajustar. </li></ol><br>  Os servi√ßos WEB que atendem a todos os princ√≠pios do REST s√£o chamados de <b>servi√ßos WEB RESTful</b> . <br><br>  E a API que fornece servi√ßos RESTful WEB √© chamada API RESTful. <br><br>  O REST n√£o √© um protocolo, mas o chamado estilo de arquitetura (um dos).  Desenvolvido com HTTP por Roy Fielding, o REST pretendia usar o <b>HTTP 1.1</b> como transporte. <br><br>  Endere√ßo de destino (ou em outras palavras - um objeto ou de outra maneira - um ponto final) - esse √© o nosso <a href="https://ru.wikipedia.org/wiki/URI" rel="nofollow"><b>URI</b></a> usual. <br><br>  O formato dos dados transmitidos √© <b>XML</b> ou <b>JSON</b> . <br><blockquote>  Para esta s√©rie de artigos sobre o linkmeup, foi implantada uma implanta√ß√£o somente leitura (para voc√™s, queridos leitores) Instala√ß√£o do <a href="http://netbox.linkmeup.ru/" rel="nofollow">NetBox</a> : <a href="http://netbox.linkmeup.ru/" rel="nofollow">netbox.linkmeup.ru</a> : 45127. <br><br>  Os direitos de leitura n√£o s√£o necess√°rios, mas se voc√™ quiser tentar ler com um token, poder√° usar este: <i>API de Token: 90a22967d0bc4bdcd8ca47ec490bbf0b0cb2d9c8</i> . <br></blockquote>  Vamos fazer um pedido de divers√£o: <br><br><pre><code class="bash hljs">curl -X GET -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN 90a22967d0bc4bdcd8ca47ec490bbf0b0cb2d9c8"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> \ http://netbox.linkmeup.ru:45127/api/dcim/devices/1/</code> </pre> <br>  Ou seja, com o utilit√°rio <b>curl</b> , criamos um objeto <b>GET</b> em <b><a href="http://netbox.linkmeup.ru/" rel="nofollow">netbox.linkmeup.ru</a> : 45127 / api / dcim / devices / 1 /</b> com uma resposta no <b>formato JSON</b> e um recuo de <b>4</b> espa√ßos. <br><br>  Ou um pouco mais academicamente: GET retorna o objeto de <b>dispositivos</b> digitados, que √© um par√¢metro do objeto <b>DCIM</b> . <br><br>  Voc√™ tamb√©m pode atender a essa solicita√ß√£o - basta copi√°-la para o seu terminal. <br><blockquote>  O URL ao qual estamos nos referindo na solicita√ß√£o √© chamado de <b>Terminal</b> .  De certa forma, este √© o objeto final com o qual interagiremos. <br>  Por exemplo, no caso de netbox, uma lista de todos os pontos de extremidade pode ser obtida <a href="http://netbox.linkmeup.ru:45127/api/docs/" rel="nofollow">aqui</a> . <br></blockquote><blockquote>  E preste aten√ß√£o ao sinal <b>/</b> no final da URL - √© <b>necess√°rio</b> . <br></blockquote>  Aqui est√° o que obtemos em resposta: <br><br><pre> <code class="bash hljs">{ <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"mlg-host-0"</span></span>, <span class="hljs-string"><span class="hljs-string">"display_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"mlg-host-0"</span></span>, <span class="hljs-string"><span class="hljs-string">"device_type"</span></span>: { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 4, <span class="hljs-string"><span class="hljs-string">"url"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru/api/dcim/device-types/4/"</span></span>, <span class="hljs-string"><span class="hljs-string">"manufacturer"</span></span>: { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 4, <span class="hljs-string"><span class="hljs-string">"url"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru/api/dcim/manufacturers/4/"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hypermacro"</span></span>, <span class="hljs-string"><span class="hljs-string">"slug"</span></span>: <span class="hljs-string"><span class="hljs-string">"hypermacro"</span></span> }, <span class="hljs-string"><span class="hljs-string">"model"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server"</span></span>, <span class="hljs-string"><span class="hljs-string">"slug"</span></span>: <span class="hljs-string"><span class="hljs-string">"server"</span></span>, <span class="hljs-string"><span class="hljs-string">"display_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hypermacro Server"</span></span> }, <span class="hljs-string"><span class="hljs-string">"device_role"</span></span>: { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"url"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru/api/dcim/device-roles/1/"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Server"</span></span>, <span class="hljs-string"><span class="hljs-string">"slug"</span></span>: <span class="hljs-string"><span class="hljs-string">"server"</span></span> }, <span class="hljs-string"><span class="hljs-string">"tenant"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"platform"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"serial"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"asset_tag"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"site"</span></span>: { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 6, <span class="hljs-string"><span class="hljs-string">"url"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru/api/dcim/sites/6/"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"slug"</span></span>: <span class="hljs-string"><span class="hljs-string">"mlg"</span></span> }, <span class="hljs-string"><span class="hljs-string">"rack"</span></span>: { <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"url"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru/api/dcim/racks/1/"</span></span>, <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"A"</span></span>, <span class="hljs-string"><span class="hljs-string">"display_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"A"</span></span> }, <span class="hljs-string"><span class="hljs-string">"position"</span></span>: 41, <span class="hljs-string"><span class="hljs-string">"face"</span></span>: { <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"front"</span></span>, <span class="hljs-string"><span class="hljs-string">"label"</span></span>: <span class="hljs-string"><span class="hljs-string">"Front"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 0 }, <span class="hljs-string"><span class="hljs-string">"parent_device"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"status"</span></span>: { <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"active"</span></span>, <span class="hljs-string"><span class="hljs-string">"label"</span></span>: <span class="hljs-string"><span class="hljs-string">"Active"</span></span>, <span class="hljs-string"><span class="hljs-string">"id"</span></span>: 1 }, <span class="hljs-string"><span class="hljs-string">"primary_ip"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"primary_ip4"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"primary_ip6"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"cluster"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"virtual_chassis"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"vc_position"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"vc_priority"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"comments"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"local_context_data"</span></span>: null, <span class="hljs-string"><span class="hljs-string">"tags"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"custom_fields"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"config_context"</span></span>: {}, <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-string"><span class="hljs-string">"2020-01-14"</span></span>, <span class="hljs-string"><span class="hljs-string">"last_updated"</span></span>: <span class="hljs-string"><span class="hljs-string">"2020-01-14T18:39:01.288081Z"</span></span> }</code> </pre><br>  Este √© JSON (como solicitamos), descrevendo o dispositivo com o ID 1: como √© chamado, com qual fun√ß√£o, qual modelo, onde est√°, etc. <br><br>  Isso parecer√° uma solicita√ß√£o HTTP: <br><br><pre> <code class="bash hljs"> GET /api/dcim/devices/1/ HTTP/1.1 Host: netbox.linkmeup.ru:45127 User-Agent: curl/7.54.0 Accept: application/json; indent=4</code> </pre> <br><br>  Portanto, a resposta ser√°: <br><pre> <code class="bash hljs"> HTTP/1.1 200 OK Server: nginx/1.14.0 (Ubuntu) Date: Tue, 21 Jan 2020 15:14:22 GMT Content-Type: application/json Content-Length: 1638 Connection: keep-alive Data</code> </pre> <br>  <a href="http_get_devices.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br>  Agora vamos descobrir o que fizemos. <br><br><hr><br><h1>  Estrutura de mensagens HTTP </h1><br>  Uma mensagem HTTP consiste em tr√™s partes, somente a primeira delas √© necess√°ria. <br><br><ul><li>  Linha de partida </li><li>  Cabe√ßalhos </li><li>  Corpo da mensagem </li></ul><br><h2>  Linha de partida </h2><br>  As linhas de in√≠cio da solicita√ß√£o e resposta HTTP parecem diferentes. <br><br><h4>  Solicita√ß√£o HTTP </h4><br><pre> <code class="bash hljs">METHOD URI HTTP_VERSION</code> </pre> <br><blockquote>  <b>O m√©todo</b> determina qual a√ß√£o o cliente deseja executar: receber dados, criar um objeto, atualiz√°-lo, exclu√≠-lo. <br>  <b>URI</b> - o identificador do recurso em que o cliente acessa ou, em outras palavras, o caminho para o recurso / documento. <br>  <b>HTTP_VERSION</b> √© a vers√£o HTTP, respectivamente.  Hoje, para o REST, √© sempre 1.1. <br></blockquote>  Um exemplo: <br><br><pre> <code class="bash hljs">GET /api/dcim/devices/1/ HTTP/1.1</code> </pre> <br><br><h4>  Resposta HTTP </h4><br><pre> <code class="bash hljs">HTTP_VERSION STATUS_CODE REASON_PHRASE</code> </pre> <br><blockquote>  <b>HTTP_VERSION</b> - vers√£o HTTP (1.1). <br>  <b>STATUS_CODE</b> - tr√™s d√≠gitos do c√≥digo de status (200, 404, 502, etc.) <br>  <b>REASON_PHRASE</b> - Explica√ß√£o (OK, N√ÉO ENCONTRADO, MATE GATEWAY, etc.) <br></blockquote><br>  Um exemplo: <br><br><pre> <code class="bash hljs">HTTP/1.1 200 OK</code> </pre> <br><h2>  Cabe√ßalhos </h2><br>  Os cabe√ßalhos passam os par√¢metros para esta transa√ß√£o HTTP. <br><br>  Por exemplo, no exemplo acima na solicita√ß√£o HTTP, eles foram: <br><br><pre> <code class="bash hljs"> Host: netbox.linkmeup.ru:45127 User-Agent: curl/7.54.0 Accept: application/json; indent=4</code> </pre> <br>  Eles indicam que <br><br><ol><li>  Nos <b>voltamos</b> para o host <b>netbox.linkmeup.ru:45127</b> , </li><li>  A solicita√ß√£o foi gerada em <b>curl</b> , </li><li>  E aceitamos dados no <b>formato JSON</b> com recuo de <b>4</b> . </li></ol><br>  E aqui est√£o os cabe√ßalhos da resposta HTTP: <br><br><pre> <code class="bash hljs"> Server: nginx/1.14.0 (Ubuntu) Date: Tue, 21 Jan 2020 15:14:22 GMT Content-Type: application/json Content-Length: 1638 Connection: keep-alive</code> </pre> <br>  Eles indicam que <br><br><ol><li>  Tipo de servidor: <b>nginx no Ubuntu</b> , </li><li>  Tempo de resposta </li><li>  Formato dos dados de resposta: <b>JSON</b> </li><li>  Comprimento dos dados de resposta: <b>1638 bytes</b> </li><li>  A conex√£o n√£o precisa ser fechada - ainda haver√° dados. </li></ol><br>  Os cabe√ßalhos, como voc√™ j√° notou, se parecem com pares nome: valor, separados por um sinal ":". <br><br>  <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields" rel="nofollow">Uma lista completa de poss√≠veis cabe√ßalhos</a> . <br><br><h2>  O corpo da mensagem HTTP </h2><br>  O corpo √© usado para transferir os dados reais. <br><br>  Na resposta HTTP, isso pode ser uma p√°gina HTML ou, no nosso caso, um objeto JSON. <br><br>  Deve haver pelo menos uma linha em branco entre os cabe√ßalhos e o corpo. <br><br>  Ao usar o m√©todo GET em uma solicita√ß√£o HTTP, geralmente n√£o h√° corpo porque n√£o h√° nada a transmitir.  Mas o corpo est√° na resposta HTTP. <br><br>  Mas, por exemplo, com o POST, o corpo j√° estar√° na solicita√ß√£o.  Vamos falar sobre os m√©todos e conversar agora. <br><br><hr><br><h1>  M√©todos </h1><br>  Como voc√™ j√° entendeu, o HTTP usa m√©todos para trabalhar com servi√ßos WEB.  O mesmo vale para a API RESTful. <br><br>  Os cen√°rios poss√≠veis da vida real s√£o descritos pelo termo <b>CRUD - Criar, Ler, Atualizar, Excluir</b> . <br>  Aqui est√° uma lista dos m√©todos HTTP mais populares que implementam CRUD: <br><br><ul><li>  HTTP GET </li><li>  HTTP POST </li><li>  HTTP PUT </li><li>  HTTP DELETE </li><li>  PATCH HTTP </li></ul><br>  Os m√©todos tamb√©m s√£o chamados de <b>verbos</b> , porque indicam qual a√ß√£o √© executada. <br><br>  <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" rel="nofollow">Lista completa de m√©todos</a> . <br><br>  Vejamos cada um deles usando o exemplo NetBox. <br><br><h2>  HTTP GET </h2><br>  Este √© um m√©todo para obter informa√ß√µes. <br><br>  Por exemplo, retiramos a lista de dispositivos: <br><br><pre> <code class="bash hljs">curl -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> \ http://netbox.linkmeup.ru:45127/api/dcim/devices/</code> </pre> <br>  O m√©todo GET √© <b>seguro</b> porque n√£o altera os dados, mas apenas pede. <br><br>  √â <b>idempotente</b> do ponto de vista que a mesma consulta sempre retorne o mesmo resultado (at√© que os dados em si sejam alterados). <br><br>  No GET, o servidor retorna uma mensagem com o c√≥digo HTTP e o corpo da <b>resposta</b> ( <b>c√≥digo de</b> <b>resposta</b> e <b>corpo da resposta</b> ). <br><br>  Ou seja, se tudo estiver OK, o c√≥digo de resposta ser√° 200 (OK). <br>  Se o URL n√£o for encontrado, 404 (N√ÉO ENCONTRADO). <br>  Se algo estiver errado com o servidor ou os componentes, ele pode ser 500 (ERRO DE SERVIDOR) ou 502 (BAD GATEWAY). <br>  <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" rel="nofollow">Todos os c√≥digos de resposta poss√≠veis</a> . <br><br>  O corpo √© retornado no formato JSON ou XML. <br><br>  <a href="http_get_all_devices.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br>  Vamos dar mais alguns exemplos.  Agora, solicitaremos informa√ß√µes sobre um dispositivo espec√≠fico por seu nome. <br><br><pre> <code class="bash hljs">curl -X GET -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> \ <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?name=mlg-leaf-0"</span></span></code> </pre> <br>  Aqui, para definir as condi√ß√µes de pesquisa no URI, tamb√©m especifiquei o atributo do objeto (o par√¢metro <b>name</b> e seu valor <b>mlg-leaf-0</b> ).  Como voc√™ pode ver, antes da condi√ß√£o e ap√≥s a barra, existe um <b>"?"</b>  , e o nome e o valor s√£o separados por um sinal <b>"="</b> . <br><br>  √â assim que a solicita√ß√£o se parece. <br><br><pre> <code class="bash hljs"> GET /api/dcim/devices/?name=mlg-leaf-0 HTTP/1.1 Host: netbox.linkmeup.ru:45127 User-Agent: curl/7.54.0 Accept: application/json; indent=4</code> </pre> <br>  <a href="http_get_device_by_name.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br>  Se voc√™ precisar especificar algumas condi√ß√µes, a consulta ter√° a seguinte apar√™ncia: <br><br><pre> <code class="bash hljs">curl -X GET -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> \ <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?role=leaf&amp;site=mlg"</span></span></code> </pre> <br>  Aqui solicitamos todos os dispositivos em <b>folha</b> localizados no site da <b>mlg</b> . <br>  Ou seja, as duas condi√ß√µes s√£o separadas uma da outra pelo sinal <b>"&amp;"</b> . <br><br>  <a href="http_get_device_with_double_conditions.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br>  Do curioso e agrad√°vel - se atrav√©s de "&amp;" voc√™ define duas condi√ß√µes com o mesmo nome, ent√£o entre elas n√£o haver√° realmente um "AND" l√≥gico, mas um "OR" l√≥gico. <br><br>  Ou seja, essa consulta realmente retornar√° dois objetos: mlg-leaf-0 e mlg-spine-0 <br><br><pre> <code class="bash hljs">curl -X GET -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> \ <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?name=mlg-leaf-0&amp;name=mlg-spine-0"</span></span></code> </pre> <br>  <a href="http_get_device_with_or_operand.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br>  Vamos tentar acessar um URL inexistente. <br><br><pre> <code class="bash hljs">curl -X GET -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> \ <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/IDGAF/"</span></span></code> </pre> <br>  <a href="http_get_not_found.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br><hr><br><h2>  HTTP POST </h2><br>  POST √© usado para criar um novo objeto em uma cole√ß√£o de objetos.  Ou em uma linguagem mais complexa: para criar um novo recurso subordinado. <br><br><blockquote>  Esclarecimentos da <a href="https://habr.com/ru/users/arthuriantech/" class="user_link">arthuriantech</a> : <br>  Incluindo, mas n√£o limitado a.  O m√©todo POST foi projetado para transferir dados para o servidor para processamento adicional - √© usado para todas as a√ß√µes que n√£o precisam ser padronizadas no HTTP.  Antes da <a href="https://tools.ietf.org/html/rfc5789" rel="nofollow">RFC 5789,</a> era a √∫nica maneira legal de fazer altera√ß√µes parciais. <br>  <a href="https://roy.gbiv.com/untangled/2009/it-is-okay-to-use-post" rel="nofollow">roy.gbiv.com/untangled/2009/it-is-okay-to-use-post</a> <br>  <a href="https://tools.ietf.org/html/rfc7231" rel="nofollow">tools.ietf.org/html/rfc7231#section-4.3.3</a> </blockquote><br><br>  Ou seja, se houver um conjunto de dispositivos, o POST permitir√° criar um novo objeto de dispositivo dentro dos dispositivos. <br><br>  Selecione o mesmo ponto de extremidade e use o POST para criar um novo dispositivo. <br><br><pre> <code class="bash hljs">curl -X POST <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span>\ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{ \"name\": \"just a simple russian girl\", \"device_type\": 1, \"device_role\": 1, \"site\": 3, \"rack\": 3, \"position\": 5, \"face\": \"front\"}"</span></span></code> </pre> <br>  Um cabe√ßalho de <b>autoriza√ß√£o</b> j√° aparece aqui, contendo um token que autoriza a solicita√ß√£o de grava√ß√£o e, ap√≥s a diretiva <b>-d,</b> existe JSON com os par√¢metros do dispositivo criado: <br><br><pre> <code class="bash hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"just a simple russian girl"</span></span>, <span class="hljs-string"><span class="hljs-string">"device_type"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"device_role"</span></span>: 1, <span class="hljs-string"><span class="hljs-string">"site"</span></span>: 3, <span class="hljs-string"><span class="hljs-string">"rack"</span></span>: 3, <span class="hljs-string"><span class="hljs-string">"position"</span></span>: 5, <span class="hljs-string"><span class="hljs-string">"face"</span></span>: <span class="hljs-string"><span class="hljs-string">"front"</span></span>}</code> </pre> <br><blockquote>  Sua solicita√ß√£o n√£o funcionar√°, porque o token n√£o √© mais v√°lido - n√£o tente gravar no NetBox. <br></blockquote>  A resposta vem com uma resposta HTTP com o c√≥digo 201 (CREATED) e JSON no corpo da mensagem, em que o servidor retorna todos os par√¢metros sobre o dispositivo criado. <br><br><pre> <code class="bash hljs"> HTTP/1.1 201 Created Server: nginx/1.14.0 (Ubuntu) Date: Sat, 18 Jan 2020 11:00:22 GMT Content-Type: application/json Content-Length: 1123 Connection: keep-alive JSON</code> </pre> <br>  <a href="http_post_new_device.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br>  Agora, com uma nova solicita√ß√£o com o m√©todo GET, voc√™ pode v√™-lo na sa√≠da: <br><br><pre> <code class="bash hljs">curl -X GET -H <span class="hljs-string"><span class="hljs-string">"Accept: application/json; indent=4"</span></span> \ <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/?q=russian"</span></span></code> </pre> <br><blockquote>  "Q" no NetBox permite encontrar todos os objetos que cont√™m em seu nome uma linha que vai al√©m. <br></blockquote>  O POST, obviamente, <b>n√£o</b> √© <b>seguro nem idempotente</b> - provavelmente altera os dados, e uma solicita√ß√£o executada duas vezes levar√° √† cria√ß√£o do segundo mesmo objeto ou a um erro. <br><br><hr><br><h2>  HTTP PUT </h2><br>  Este √© um m√©todo para modificar um objeto existente.  O terminal para PUT parece diferente do POST - agora ele cont√©m um objeto espec√≠fico. <br><br>  PUT pode retornar os c√≥digos 201 ou 200. <br><br>  Um ponto importante com esse m√©todo: voc√™ deve passar todos os atributos necess√°rios, pois PUT substitui o objeto antigo. <br><br>  Portanto, se, por exemplo, apenas tentar adicionar o atributo asset_tag ao nosso novo dispositivo, receberemos um erro: <br><br><pre> <code class="bash hljs">curl -X PUT <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/18/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{ \"asset_tag\": \"12345678\"}"</span></span></code> </pre> <br><pre> <code class="bash hljs">{<span class="hljs-string"><span class="hljs-string">"device_type"</span></span>:[<span class="hljs-string"><span class="hljs-string">"This field is required."</span></span>],<span class="hljs-string"><span class="hljs-string">"device_role"</span></span>:[<span class="hljs-string"><span class="hljs-string">"This field is required."</span></span>],<span class="hljs-string"><span class="hljs-string">"site"</span></span>:[<span class="hljs-string"><span class="hljs-string">"This field is required."</span></span>]}</code> </pre> <br>  Mas se voc√™ adicionar os campos ausentes, tudo funcionar√°: <br><br><pre> <code class="bash hljs">curl -X PUT <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/18/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{ \"name\": \"just a simple russian girl\", \"device_type\": 1, \"device_role\": 1, \"site\": 3, \"rack\": 3, \"position\": 5, \"face\": \"front\", \"asset_tag\": \"12345678\"}"</span></span></code> </pre> <br>  <a href="http_put_asset_tag.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><blockquote>  Preste aten√ß√£o ao URL aqui - agora ele inclui o ID do dispositivo que queremos alterar ( <b>18</b> ). <br></blockquote><br><hr><br><h2>  PATCH HTTP </h2><br>  Este m√©todo √© usado para modificar parcialmente o recurso. <br>  Wat?  Voc√™ pergunta, mas e o PUT? <br><br>  PUT √© um m√©todo que existia originalmente no padr√£o, envolvendo a substitui√ß√£o completa de um objeto mut√°vel.  Assim, no m√©todo PUT, como escrevi acima, voc√™ precisar√° especificar at√© mesmo os atributos do objeto que n√£o s√£o alterados. <br><br>  E PATCH foi adicionado posteriormente e permite especificar apenas os atributos que realmente mudam. <br><br>  Por exemplo: <br><br><pre> <code class="bash hljs">curl -X PATCH <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/18/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{ \"serial\": \"BREAKINGBAD\"}"</span></span></code> </pre> <br>  Aqui, o ID do dispositivo tamb√©m √© especificado no URL, mas h√° apenas um atributo <b>serial</b> para alterar. <br><br>  <a href="http_patch_serial.pcapng" rel="nofollow">Despejar a transa√ß√£o</a> . <br><br><hr><br><h2>  HTTP DELETE </h2><br>  Obviamente, exclui o objeto. <br><br>  Um exemplo <br><br><pre> <code class="bash hljs">curl -X DELETE <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/21/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span></code> </pre> <br>  O m√©todo DELETE √© idempotente do ponto de vista de que uma consulta repetida n√£o altera mais nada na lista de recursos (mas retornar√° o c√≥digo 404 (NOT FOUND). <br><br><pre> <code class="bash hljs">curl -X DELETE <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127/api/dcim/devices/21/"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Authorization: TOKEN a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span></code> </pre> <br><pre> <code class="bash hljs">{<span class="hljs-string"><span class="hljs-string">"detail"</span></span>:<span class="hljs-string"><span class="hljs-string">"Not found."</span></span>}</code> </pre> <br><hr><br><h1>  Maneiras de trabalhar com a API RESTful </h1><br>  Naturalmente, o Curl √© muito conveniente para os valentes guerreiros da CLI, mas existem ferramentas melhores. <br><br><h2>  Carteiro </h2><br>  O Postman permite formar consultas na interface gr√°fica, selecionando m√©todos, cabe√ßalhos, corpo e exibe o resultado em um formato leg√≠vel por humanos. <br><br>  Al√©m disso, as consultas e os URIs podem ser salvos e retornados a eles posteriormente. <br><br>  <a href="https://www.getpostman.com/downloads/" rel="nofollow">Fa√ßa o download do Postman no site oficial</a> . <br><br>  Para que possamos fazer um GET: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b00/869/169/b00869169e3e64b427e224587da49e12.png" width="800"><br>  <i>Aqui, o token √© indicado no GET apenas como exemplo.</i> <br><br>  E ent√£o POST: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1b/91f/655/f1b91f655182e7780ee62d44e8e25ae9.png" width="800"><br><br>  O Postman deve ser usado apenas com a API RESTful. <br><blockquote>  Por exemplo, n√£o tente enviar o NETCONF XML atrav√©s dele, como fiz no in√≠cio da minha carreira em automa√ß√£o. <br></blockquote>  Um dos b√¥nus interessantes da API especificada √© que voc√™ pode importar todos os pontos de extremidade e seus m√©todos para o Postman como uma cole√ß√£o. <br><br>  Para fazer isso, na janela <b>Importar</b> (Arquivo-&gt; Importar), selecione <b>Importar do link</b> e cole na janela <a href="http://netbox.linkmeup.ru/" rel="nofollow">netbox.linkmeup.ru</a> URL: 45127 / api / docs /? Format = openapi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f9f/48e/2d1/f9f48e2d1923e88995301379e4888b6c.png" width="400"><br><br>  Al√©m disso, tudo o que voc√™ pode encontrar nas cole√ß√µes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eaa/616/c1a/eaa616c1adfcfacbaf164ea95531fd4e.png" width="200"><br><br><hr><br><br><h2>  Solicita√ß√µes Python + </h2><br>  Mas mesmo atrav√©s do Postman, voc√™ provavelmente n√£o estar√° gerenciando seus sistemas de produ√ß√£o.  Certamente, voc√™ ter√° aplicativos externos que desejam interagir com eles sem a sua participa√ß√£o. <br><br>  Por exemplo, um sistema de gera√ß√£o de configura√ß√£o deseja pegar uma lista de interfaces IP da NetBox. <br>  O Python possui uma maravilhosa biblioteca de <b>solicita√ß√µes</b> que implementa o trabalho por meio de HTTP. <br>  Um exemplo de solicita√ß√£o de uma lista de todos os dispositivos: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests HEADERS = {<span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>, <span class="hljs-string"><span class="hljs-string">'Accept'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>} NB_URL = <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127"</span></span> request_url = <span class="hljs-string"><span class="hljs-string">f"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{NB_URL}</span></span></span><span class="hljs-string">/api/dcim/devices/"</span></span> devices = requests.get(request_url, headers = HEADERS) print(devices.json())</code> </pre> <br>  Adicione um novo dispositivo novamente: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests API_TOKEN = <span class="hljs-string"><span class="hljs-string">"a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span> HEADERS = {<span class="hljs-string"><span class="hljs-string">'Authorization'</span></span>: <span class="hljs-string"><span class="hljs-string">f'Token </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{API_TOKEN}</span></span></span><span class="hljs-string">'</span></span>, <span class="hljs-string"><span class="hljs-string">'Content-Type'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>, <span class="hljs-string"><span class="hljs-string">'Accept'</span></span>: <span class="hljs-string"><span class="hljs-string">'application/json'</span></span>} NB_URL = <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127"</span></span> request_url = <span class="hljs-string"><span class="hljs-string">f"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{NB_URL}</span></span></span><span class="hljs-string">/api/dcim/devices/"</span></span> device_parameters = { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"just a simple REQUESTS girl"</span></span>, <span class="hljs-string"><span class="hljs-string">"device_type"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"device_role"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"site"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, } new_device = requests.post(request_url, headers = HEADERS, json=device_parameters) print(new_device.json())</code> </pre> <br><hr><br><h3>  Python + NetBox SDK </h3><br>  No caso do NetBox, tamb√©m existe um Python SDK - <a href="https://github.com/digitalocean/pynetbox" rel="nofollow">Pynetbox</a> , que representa todos os pontos de extremidade do NetBox como um objeto e seus atributos, fazendo todo o trabalho sujo para gerar URIs e analisar a resposta, embora n√£o de gra√ßa, √© claro. <br><br>  Por exemplo, vamos fazer o mesmo que acima, usando o pynetbox. <br>  Lista de todos os dispositivos: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pynetbox NB_URL = <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127"</span></span> nb = pynetbox.api(NB_URL) devices = nb.dcim.devices.all() print(devices)</code> </pre> <br>  Adicionar novo dispositivo: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pynetbox API_TOKEN = <span class="hljs-string"><span class="hljs-string">"a9aae70d65c928a554f9a038b9d4703a1583594f"</span></span> NB_URL = <span class="hljs-string"><span class="hljs-string">"http://netbox.linkmeup.ru:45127"</span></span> nb = pynetbox.api(NB_URL, token = API_TOKEN) device_parameters = { <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"just a simple PYNETBOX girl"</span></span>, <span class="hljs-string"><span class="hljs-string">"device_type"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"device_role"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"site"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, } new_device = nb.dcim.devices.create(**device_parameters) print(new_device)</code> </pre> <br>  <a href="https://pynetbox.readthedocs.io/en/latest/" rel="nofollow">Documenta√ß√£o do Pynetbox</a> <br><br><hr><br><h2>  Swagger </h2><br>  O que mais vale a pena gra√ßas √† d√©cada passada s√£o as especifica√ß√µes da API.  Se voc√™ seguir <a href="http://netbox.linkmeup.ru:45127/api/docs/" rel="nofollow">esse caminho</a> , ser√° direcionado para a documenta√ß√£o da API Swagger UI - Netbox. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c5c/ec6/1db/c5cec61db67db108cc2fce2ba0492d3b.png" width="800"><br><br>  Esta p√°gina lista todos os pontos de extremidade, m√©todos de trabalho com eles, poss√≠veis par√¢metros e atributos e indica quais deles s√£o necess√°rios.  Al√©m disso, as respostas esperadas s√£o descritas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4bc/886/8e6/4bc8868e6cfae94427e648abd0a1cd7b.png" width="800"><br><br>  Na mesma p√°gina, voc√™ pode executar consultas interativas clicando em <b>Experimente</b> . <br><blockquote>  Por alguma raz√£o, o swagger usa o nome do servidor sem porta como o URL base, portanto, a fun√ß√£o Experimentar n√£o funciona nos meus exemplos do Swagger.  Mas voc√™ pode experiment√°-lo em sua pr√≥pria instala√ß√£o. <br></blockquote>  Quando voc√™ clica em <b>Executar</b> Swagger, a interface do usu√°rio gera uma sequ√™ncia de curvatura que pode ser usada para fazer uma solicita√ß√£o semelhante na linha de comando. <br><br>  Na interface do usu√°rio do Swagger, voc√™ pode at√© criar um objeto: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47b/311/74f/47b31174f7b1b8564b2aadea91db89bb.png" width="800"><br><br>  Para fazer isso, basta ser um usu√°rio autorizado com os direitos necess√°rios. <br><br>  O que vemos nesta p√°gina √© a interface do usu√°rio do Swagger, uma documenta√ß√£o gerada com base na especifica√ß√£o da API. <br><br>  Com as tend√™ncias na arquitetura de microsservi√ßo, est√° se tornando cada vez mais importante ter uma API padronizada para intera√ß√£o entre componentes, cujos pontos de extremidade e m√©todos s√£o f√°ceis de determinar para a pessoa e o aplicativo sem vasculhar o c√≥digo-fonte ou a documenta√ß√£o em PDF. <br><br>  Portanto, os desenvolvedores hoje est√£o cada vez mais seguindo o paradigma da <a href="https://medium.com/adobetech/three-principles-of-api-first-design-fa6666d9f694" rel="nofollow">API First</a> quando pensam pela primeira vez na API e somente ent√£o na implementa√ß√£o. <br>  A API √© especificada primeiro neste design e, em seguida, a documenta√ß√£o, o aplicativo cliente, a parte do servidor s√£o <b>gerados a</b> partir dele e s√£o necess√°rios testes. <br><br>  O Swagger √© uma linguagem de estrutura e especifica√ß√£o (que agora foi renomeada para OpenAPI 2.0), permitindo implementar esta tarefa. <br>  Eu n√£o vou me aprofundar nisso. <br><br>  Para mais detalhes aqui: <br><br><ul><li>  <a href="https://swagger.io/docs/specification/" rel="nofollow">Site do Swagger</a> </li><li>  <a href="https://justcodeit.ru/swagger-docs-dlya-api-na-laravel/" rel="nofollow">Exemplo de uso</a> </li><li>  <a href="https://en.wikipedia.org/wiki/OpenAPI_Specification" rel="nofollow">Wiki sobre API aberta</a> </li></ul><br><hr><br><h1>  Cr√≠ticas ao REST e alternativas </h1><br>  Existe um sim.  Nem tudo nesse mundo do ano 2000 j√° √© t√£o otimista. <br><br>  N√£o sendo um especialista, n√£o pretendo divulgar substancialmente a quest√£o, mas darei um link para um <a href="https://habr.com/ru/post/265845/">artigo</a> incontest√°vel <a href="https://habr.com/ru/post/265845/">sobre Habr√©</a> . <br><br>  Uma interface alternativa para a intera√ß√£o dos componentes do sistema hoje √© o gRPC.  Ele tamb√©m profetizou um grande futuro no campo de novas abordagens para trabalhar com equipamentos de rede.  Mas falaremos sobre ele em algum momento no futuro, quando chegar a sua vez. <br><br>  Voc√™ tamb√©m pode dar uma olhada no <a href="https://habr.com/ru/post/326986/">GraphQL</a> promissor, mas, novamente, n√£o precisamos trabalhar com ele por enquanto, ent√£o ele permanece para estudo independente. <br><br><hr><br><blockquote>  <b>√â importante</b> <br>  O token a9aae70d65c928a554f9a038b9d4703a1583594f foi usado apenas para fins de demonstra√ß√£o e n√£o funciona mais. <br><br>  A indica√ß√£o direta de tokens no c√≥digo do programa √© inaceit√°vel e eu fiz aqui apenas no interesse de simplificar os exemplos. <br></blockquote><br><hr><br><h1>  Links √∫teis </h1><br><ul><li>  <a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm" rel="nofollow">Relat√≥rio original de Roy Fielding</a> </li><li>  <a href="https://medium.com/adobetech/three-principles-of-api-first-design-fa6666d9f694" rel="nofollow">API primeiro</a> </li><li>  <a href="http-methods/" rel="nofollow">M√©todos HTTP</a> </li><li>  <a href="https://restfulapi.net/rest-architectural-constraints/" rel="nofollow">Princ√≠pios REST</a> </li><li>  <a href="https://swagger.io/docs/specification/" rel="nofollow">Site do Swagger</a> </li><li>  <a href="https://justcodeit.ru/swagger-docs-dlya-api-na-laravel/" rel="nofollow">Exemplo do Swagger</a> </li><li>  <a href="https://en.wikipedia.org/wiki/OpenAPI_Specification" rel="nofollow">Wiki sobre OpenAPI</a> </li><li>  <a href="https://habr.com/ru/post/265845/">Cr√≠ticas ao REST</a> </li></ul><br><h1>  Obrigado </h1><br><ul><li>  Andrei Panfilov pela revis√£o e edi√ß√£o </li><li>  Alexander Fatin para revis√£o e edi√ß√£o </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485618/">https://habr.com/ru/post/pt485618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485606/index.html">Opera√ß√µes de filtro de driver no registro. Pr√°tica</a></li>
<li><a href="../pt485608/index.html">Microsservi√ßos com Spring Boot. Parte 4. Usando a faixa de op√ß√µes para balanceamento de carga</a></li>
<li><a href="../pt485610/index.html">Criar um aplicativo Qt no WebAssembly no Windows</a></li>
<li><a href="../pt485612/index.html">O que um acidente espacial me ensinou como desenvolvedor</a></li>
<li><a href="../pt485614/index.html">A cultura corporativa vermelha √© o principal problema dos neg√≥cios na R√∫ssia (parte 3)</a></li>
<li><a href="../pt485620/index.html">Yoshkar-Ola, em geral, uma cidade de TI?</a></li>
<li><a href="../pt485622/index.html">Ferramentas de backup do PostgreSQL. Andrey Salnikov (Gar√ßa de Dados)</a></li>
<li><a href="../pt485624/index.html">Servidor Minecraft: Windows vs Linux</a></li>
<li><a href="../pt485630/index.html">Cosmon√°utica da √Åfrica: do lixo √† realidade</a></li>
<li><a href="../pt485632/index.html">Monitorando a pontua√ß√£o de cr√©dito no Power BI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>