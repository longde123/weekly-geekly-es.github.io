<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤›ğŸ» ğŸ¤° ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ½ Ã€ quoi penser lors d'une entrevue NALSD ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘©ğŸ¼ ğŸ‘¶ğŸ» ğŸ‘©ğŸ¿â€ğŸš’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'ai dÃ©crit une interview de codage typique plus tÃ´t. En plus du codage, il y a presque toujours une question sur la conception du systÃ¨me. (Large) Co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ã€ quoi penser lors d'une entrevue NALSD</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/google/blog/435898/">  J'ai dÃ©crit une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interview de codage</a> typique plus tÃ´t.  En plus du codage, il y a presque toujours une question sur la conception du systÃ¨me.  (Large) Conception du systÃ¨me.  Dans le cas des interviews sur SRE, c'est une bÃªte encore plus intÃ©ressante (pour moi) - NALSD.  Conception de grands systÃ¨mes non abstraite.  La principale diffÃ©rence entre SWE et SRE rÃ©side prÃ©cisÃ©ment dans ces lettres Â«NAÂ». <br><br><img src="https://habrastorage.org/webt/zr/dx/lz/zrdxlzdyc1xmixaibmzonhnkup0.jpeg" align="right" width="400" title="BibliothÃ¨que chez Google Zurich">  Quelle est la diffÃ©rence et comment s'y prÃ©parer?  Regardons un exemple.  Ã€ titre d'exemple, nous prendrons quelque chose de trÃ¨s matÃ©riel, quelque chose que personne ne demandera jamais pour une vraie interview (dans Google) :) <br><br>  Par exemple - concevons une bibliothÃ¨que.  Pour les livres papier, l'habituel.  Le texte ci-dessous a Ã©tÃ© Ã©crit en une seule sÃ©ance en une heure environ pour montrer Ã  peu prÃ¨s ce que vous pouvez faire et ce qui est important Ã  faire.  Alors pardonnez-moi pour la confusion, mais je pense que oui (et donc existe). <br><a name="habracut"></a><blockquote><h4>  Question NALSD: Concevoir une bibliothÃ¨que publique. </h4><br>  PremiÃ¨rement, nous nous intÃ©ressons aux caractÃ©ristiques de la charge, ou nous faisons nous-mÃªmes une hypothÃ¨se raisonnable.  Ã‰tant donnÃ© qu'il s'agit d'un systÃ¨me Ã©volutif, il s'agit d'une ville d'au moins un million d'habitants.  Cela vaut la peine dâ€™envisager des options: un grand bÃ¢timent ou des bibliothÃ¨ques de quartier plus un espace de stockage.  Il me semble que ce dernier est plus raisonnable.  Surtout si ce n'est une ville, mais une ville. <br><br>  Ainsi, nous nous concentrerons pour le moment sur le systÃ¨me d'une ville (avec quelques rÃ©serves, nous pouvons appliquer un mÃ©canisme similaire Ã  un niveau supÃ©rieur pour l'adaptation Ã  de nombreuses villes).  Ainsi, la ville compte un million d'habitants.  Nous arrondissons les chiffres pour la commoditÃ© des estimations - qu'il y ait 1 million de lecteurs probables.  Les lecteurs vont lire Ã  tout moment indÃ©pendamment les uns des autres.  Nous pouvons donc le comprendre comme un processus de Poisson simple.  Mais il sera difficile de compter Â«sur le pouceÂ» normalement, alors prenez une autre Ã©tape de simplification et prenez simplement que 1% des lecteurs voudront prendre un livre par jour.  Au total, pour d'autres calculs, nous prenons 10 000 livres par jour. <br><br>  Notre tÃ¢che est de fournir la possibilitÃ© de publier 10 000 livres par jour (et de retourner les mÃªmes 10 000 tous les autres jours Ã  l'avenir, soit dit en passant) dans la ville d'un million et plus.  Ã€ ce stade, la question de la mono-bibliothÃ¨que ou du quartier est dÃ©jÃ  en train de disparaÃ®tre (en passant, pour que le million entier soit des lecteurs potentiels, ils doivent pouvoir accÃ©der Ã  la bibliothÃ¨que dans un dÃ©lai raisonnable, sinon le dÃ©sir de prendre le livre tombera sÃ»rement avec le temps mort).  Nous devons donc Ã©valuer la capacitÃ© de chaque bibliothÃ¨que locale.  Il est juste de le faire en tenant compte de la densitÃ© de population et de l'accessibilitÃ©, mais comme cela n'affecte pas beaucoup le systÃ¨me lui-mÃªme, pour simplifier les calculs, imaginons que nous les plaÃ§ons uniformÃ©ment.  Mais cela ne signifie toujours pas comment nous pouvons les partager.  De toute Ã©vidence, mettre 10 000 bibliothÃ¨ques avec un livre uniformÃ©ment dans la ville n'a pas de sens, vous devez donc comprendre ce qui a du sens.  Nous partons au niveau infÃ©rieur. <br><br>  Donc, une bibliothÃ¨que.  Pour que cela ait du sens, la plupart de ceux qui viennent doivent trouver le livre dont ils ont besoin.  Cela signifie que nous devrons conserver un enregistrement et des prÃ©visions des requÃªtes les plus populaires et garder ces livres prÃªts.  Ensuite, nous devons conserver l'assortiment en principe.  D'un cÃ´tÃ©, je dirais qu'une bibliothÃ¨que locale devrait avoir au moins 1000 articles, les tout premiers en une multitude d'exemplaires, plus de haut, moins de queue.  Le livre moyen dans notre bibliothÃ¨que est lu de 3 jours Ã  2 semaines (en fait, la caractÃ©ristique dÃ©pend du livre, une analyse sÃ©parÃ©e est requise ici), nous le prenons Ã©gal Ã  la semaine moyenne et passons.  Autrement dit, le livre pris est manquant pendant environ une semaine, donc les meilleurs livres doivent Ãªtre stockÃ©s pendant une semaine (puis ils commenceront Ã  se remettre des retours). <br><br>  Prenons un facteur d'inflation moyen de 6. La capacitÃ© de stockage commence donc Ã  6 000 livres.  Moins signifie que ce n'est qu'un petit sommet, ce qui peut encore aider dans certains cas (par exemple, une Ã®le avec Â«crÃ©pusculeÂ» dans un supermarchÃ© prÃ¨s de la salle de jeux pour enfants), mais nous allons le laisser dehors pour l'instant. <br><br>  Dans l'Ã©tat Â«d'Ã©quilibreÂ», ils reviennent et prennent environ Ã©galement une journÃ©e, plus ou moins la dispersion, mais nous avons encore besoin de la capacitÃ© d'accepter un nombre accru de pics de retours (par exemple, en raison d'une synchronisation externe comme les vacances ou un changement de mode).  C'est vrai - pour simuler.  Mais ici et maintenant, nous en prendrons un troisiÃ¨me comme tampon.  Au total, nous soutenons 6 000 livres disponibles pour publication, plus une place pour 2 000 autres livres en rÃ©serve. <br><br>  Nous avons donc besoin d'une unitÃ© pouvant stocker 8 000 livres.  Le rÃ©approvisionnement quotidien est trÃ¨s coÃ»teux, ce qui signifie qu'il dure une semaine ou deux.  Deux semaines, 6 000 livres, avec un biais dans les retours, c'est environ 300 par jour.  Au moment de l'ouverture, nous pouvons marquer les 8000 livres afin de crÃ©er les 2000 premiers en circulation avant les premiers retours.  2000 pendant 3 jours = environ 600 livres par jour, plus tampon = 800 livres par jour. <br><br>  Estimons la bande passante et les limites de stockage.  Un livre prend en moyenne 2 centimÃ¨tres d'espace linÃ©aire, 8000 livres - 160 mÃ¨tres.  tourner 4 fois verticalement, 40 mÃ¨tres.  On se divise mÃªme en racks de 5 mÃ¨tres, on obtient 8 racks de 4 Ã©tagÃ¨res de 5 mÃ¨tres de long.  Un bibliothÃ©caire (ou un robot-bibliothÃ©caire) pourra travailler avec deux racks, l'extraction d'un livre prendra jusqu'Ã  5 secondes pour l'atteindre, 5 secondes pour sortir ou mettre le livre, 5 secondes en arriÃ¨re, pour un total de 15 secondes.  4 bibliothÃ©caires nous fourniront environ 15 livres par minute maximum, soit 900 livres par heure environ depuis l'entrepÃ´t. <br><br>  Nous ajoutons du temps pour traiter la demande (10s), rechercher (5s), entrer dans le systÃ¨me de rÃ©ception et d'Ã©mission (2s) =&gt; 400 livres par heure.  Ainsi, le stockage Ã  son apogÃ©e peut Ã©mettre-accepter 400 livres par heure, donc 800 livres par jour sont accessibles en 2 heures de travail. <br><br>  Maintenant, nous considÃ©rons d'autres caractÃ©ristiques: pour distribuer 400 livres par heure Ã  4 personnes, il est nÃ©cessaire d'accueillir 100 personnes dans la salle d'attente dans une file d'attente devant la fenÃªtre de traitement, et pour que ces personnes ne crÃ©ent pas de foule Ã  l'entrÃ©e et Ã  la sortie.  Autrement dit, le groupe d'entrÃ©e doit passer 400 personnes par heure dans les deux sens.  Il s'avÃ¨re que le limiteur principal ne sera mÃªme pas le stockage, mais la capacitÃ© du hall et du groupe d'entrÃ©e. <br><br>  Cela signifie qu'il sera possible de trouver le ratio optimal de stockage et de hall avec des calculs plus prÃ©cis. <br><br>  Ainsi, avec l'unitÃ© triÃ©e, nous revenons au niveau supÃ©rieur.  Nous avons estimÃ© la charge totale de la bibliothÃ¨que Ã  environ 10 000 livres par jour, nous avons comptÃ© une unitÃ© Ã  800 livres par jour, c'est-Ã -dire que nous avons besoin de 12,5 unitÃ©s.  Avec la gÃ©o-distribution autour de la ville, une ou deux unitÃ©s alternatives (aux frontiÃ¨res de la ville) ou mÃªme 3-4 (Ã  l'intÃ©rieur) seront accessibles Ã  chaque lecteur, ce qui vous permet de lisser lÃ©gÃ¨rement les pics de trafic et / ou la demande accrue pour des positions spÃ©cifiques. <br><br>  Nous savons Ã©galement qu'Ã  tout moment, toute bibliothÃ¨que peut Ãªtre fermÃ©e (incendie, inspection sanitaire, peinture des poignÃ©es des rÃ©frigÃ©rateurs ou autre), avec une augmentation du nombre d'entre eux, la probabilitÃ© que deux tombent en panne coÃ¯ncide, nous avons donc besoin d'une unitÃ© de rechange pour toutes les 5-6 unitÃ©s.  Au total, 15 unitÃ©s doivent assurer les performances requises, Ã  condition de maintenir le stock estimÃ© dans leurs entrepÃ´ts. <br><br>  Pour maintenir le stock estimÃ©, nous devrons mettre Ã  jour une fois par semaine ou deux (nous pensions plus de deux) environ la moitiÃ© de l'assortiment pour suivre les tendances et ainsi de suite.  Cela signifie que chaque unitÃ© doit transporter et exporter 4 000 livres toutes les deux semaines.  Ã€ chaque importation et exportation, ces mÃªmes 4 000 livres doivent Ãªtre retirÃ©s du rÃ©fÃ©rentiel, puis d'autres y sont placÃ©s.  Ã€ 400 livres par heure, la mise Ã  jour de l'assortiment prendra 10 heures Ã  pleine charge.  Ce qui, semble-t-il, n'est toujours pas si mal, encore une fois, avec le chargement en masse, beaucoup de choses iront plus vite, cependant, maintenir l'assortiment prend 5 fois plus que de travailler avec la population. <br><br>  Le livre moyen (2 cm * 20 cm * 30 cm) est d'environ 1,5 l, soit 4000 livres = 6 mÃ¨tres cubes.  Il s'insÃ¨re facilement dans une gazelle.  Le poids d'un mÃ¨tre cube de papier est de 600 kg, soit 6 mÃ¨tres cubes soit 3,6 tonnes.  La capacitÃ© de charge de la gazelle est d'une tonne et demie, donc trois gazelles seront nÃ©cessaires.  Plus une sauvegarde.  Nous avons 15 unitÃ©s, mises Ã  jour toutes les 2 semaines, avec une distribution uniforme nous sommes Ã  la limite, nous devons ajouter une autre gazelle. <br><br>  <i>Et nous n'avons pas eu le temps de rÃ©flÃ©chir d'oÃ¹ et d'oÃ¹ ces gazelles Ã©taient transportÃ©es, donc les entrepÃ´ts des fournisseurs et les points de dÃ©chargement des livres qui ont perdu leur pertinence apparaissent sur le schÃ©ma ...</i> <br></blockquote><br>  Le temps est donc Ã©coulÃ©.  Qu'est-ce qui est si anormal dans la question NALSD?  Ã‰volutivitÃ©, il doit Ãªtre dans n'importe quelle conception de grand systÃ¨me.  L'essentiel est le <b>concret</b> . <br><br>  J'ai fait beaucoup d'hypothÃ¨ses et d'hypothÃ¨ses ci-dessus, mais toutes les estimations ultÃ©rieures Ã©taient basÃ©es sur les prÃ©cÃ©dentes.  Pour les chiffres, jâ€™ai aussi essayÃ© de donner Â«comment Ã©valuer correctementÂ», cependant, il est trÃ¨s facile dâ€™oublier de le faire, on se fatigue et on lâ€™oublie.  Il est encore trÃ¨s facile de s'en tenir Ã  un certain nombre de la mÃ©moire, sans explication ... Mais puisque la conception est concrÃ¨te, si l'une des hypothÃ¨ses se rÃ©vÃ¨le erronÃ©e, elle peut Ãªtre corrigÃ©e et juste racontÃ©e plus tard. <br><br>  <i>Si je me souviens bien, dans mon entretien avec les estimations, j'ai pris un IOPS d'un disque de 600, simplement parce que je l'ai rÃ©cemment optimisÃ© et travaillÃ© avec un tableau, oÃ¹ _array_ a donnÃ© 600 IOPS ... L'interviewÃ© m'a alors demandÃ© un peu de surprise - 600 IOPS sur disque?</i>  <i>: D</i> <br><br>  Pendant l'entretien, l'intervieweur peut corriger n'importe laquelle de vos hypothÃ¨ses.  Ou ajoutez une sorte de restriction (que vous ne connaissiez pas, Ã  laquelle vous n'avez pas pensÃ©, que vous n'avez pas demandÃ©, ou simplement le changement habituel de savoirs traditionnels Ã  la volÃ©e).  Dans le mÃªme temps, puisque vous travaillez exclusivement avec des numÃ©ros spÃ©cifiques, ce ne sera qu'une mise Ã  jour triviale des numÃ©ros. <br><br>  Si l'ajustement de l'hypothÃ¨se entraÃ®ne une refonte du systÃ¨me, il s'agit soit d'une erreur de conception, soit d'un ajustement incorrect, soit d'aller au-delÃ  de l'applicabilitÃ© du systÃ¨me, ce qui n'est pas non plus une situation rare dans la vie rÃ©elle.  Il est important de ne pas manquer de tels moments et d'Ã©valuer les chiffres reÃ§us pour la rÃ©alitÃ© Ã  la fois pendant la phase de conception et avec tous les ajustements. <br><br>  En tant que SRE, nous sommes obligÃ©s de penser en termes de mise Ã  l'Ã©chelle de systÃ¨mes rÃ©els dans les limites rÃ©elles d'un matÃ©riel rÃ©el.  Il existe peut-Ãªtre un merveilleux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">algorithme</a> qui Ã©change d'Ã©normes coÃ»ts de temps pour une petite quantitÃ© de mÃ©moire ... Mais tout de mÃªme, vous ne pouvez pas mettre un pÃ©taoctet de RAM sur un cÅ“ur de processeur dans des conditions rÃ©elles.  Donc, si nous avons un pÃ©taoctet de RAM, nous avons au moins dix mille processeurs.  Ou vingt.  Ou trente.  Et nous devons chercher l'optimum, non pas global, mais ici et maintenant, dans les conditions donnÃ©es. <br><br>  Vous n'avez pas besoin de vous souvenir des chiffres exacts, mais vous devez avoir une idÃ©e de l'ordre: le mÃªme IOPS, que le disque dur a environ une centaine, et le SSD a des centaines de milliers.  Mais ces centaines de milliers vont de pair avec un rapport du coÃ»t d'un tÃ©raoctet de disque dur au coÃ»t d'un tÃ©raoctet de SSD de un sur trois Ã  quatre.  Et cela ne compte pas le harnais - une place dans le rack, des lames pour eux, des ports sur les commutateurs et d'autres choses qui cessent d'Ãªtre un sou lorsque la facture passe Ã  des pÃ©taoctets. <br><br>  DÃ©tendez-vous un peu sur votre chaise, dÃ©tendez-vous et essayez de concevoir un systÃ¨me pour fournir des Å“ufs de poule frais par abonnement. <br><br>  S'il y a un dÃ©sir de partager avec des collÃ¨gues anglophones, il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">option en anglais</a> (ainsi qu'en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">anglais hub</a> ). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr435898/">https://habr.com/ru/post/fr435898/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr435886/index.html">SpaceX a prÃ©sentÃ© un prototype de vaisseau spatial et rÃ©duira 10% du personnel</a></li>
<li><a href="../fr435890/index.html">Les cÃ´tÃ©s sombres d'une personne active</a></li>
<li><a href="../fr435892/index.html">Le condensÃ© de matÃ©riaux intÃ©ressants pour le dÃ©veloppeur mobile # 281 (du 7 au 13 janvier)</a></li>
<li><a href="../fr435894/index.html">Cours privÃ©s. Se cacher dans php</a></li>
<li><a href="../fr435896/index.html">Utilisation de DiagnosticSource dans .NET Core: thÃ©orie</a></li>
<li><a href="../fr435900/index.html">L'encapsuler</a></li>
<li><a href="../fr435902/index.html">Vous ne pouvez pas simplement prendre et Ã©crire SELECT si le fournisseur ne le permet pas ... mais nous Ã©crirons</a></li>
<li><a href="../fr435904/index.html">L'IA a traduit l'activitÃ© cÃ©rÃ©brale en discours</a></li>
<li><a href="../fr435906/index.html">Stockage en cluster de pacemaker + DRBD (double primaire) + ctdb</a></li>
<li><a href="../fr435908/index.html">Web ascÃ©tique: prototypes de marchÃ©s aux puces on go et js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>