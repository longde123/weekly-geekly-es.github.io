<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòº üåÜ üç£ Fonctionnement de la composition alpha ü•ê üë®üèΩ‚Äçü§ù‚Äçüë®üèª üåì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La transparence peut ne pas sembler √™tre un sujet int√©ressant. Le format GIF, qui permettait √† certains pixels de briller √† l'arri√®re-plan, a √©t√© publ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fonctionnement de la composition alpha</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468067/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/fd/bw/7x/fdbw7xdswtd_k6crz13wprtqbtm.gif" alt="image"></div><br>  La transparence peut ne pas sembler √™tre un sujet int√©ressant.  Le format GIF, qui permettait √† certains pixels de briller √† l'arri√®re-plan, a √©t√© publi√© il y a plus de 30 ans.  Presque toutes les applications de conception graphique publi√©es au cours des deux derni√®res d√©cennies prennent en charge la cr√©ation de contenu translucide.  Ces concepts ont depuis longtemps cess√© d'√™tre quelque chose de nouveau. <br><br>  Dans mon article, je veux montrer qu'en fait, la transparence dans les images num√©riques est beaucoup plus int√©ressante qu'il n'y para√Æt - dans ce que nous tenons pour acquis, il y a une profondeur et une beaut√© invisibles. <br><a name="habracut"></a><br><h1>  L'opacit√© </h1><br>  Si vous avez d√©j√† regard√© √† travers des lunettes roses, vous pouvez voir quelque chose de similaire √† ce qui est illustr√© dans la figure ci-dessous.  [Dans l'article d'origine, de nombreuses images sont interactives.] Essayez de d√©placer les lunettes pour voir comment elles affectent ce qui est visible √† travers elles: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tu/zo/mz/tuzomzqhbl9mcfzbxxcaneot3aq.png"></div><br>  Ces lunettes fonctionnent comme suit: il leur manque beaucoup de rouge, une quantit√© d√©cente de bleu et tr√®s peu de vert.  Les math√©matiques de ces points peuvent √™tre √©crites dans un ensemble de trois √©quations.  La lettre <strong>R</strong> indique le r√©sultat de l'op√©ration, et la lettre <strong>D</strong> d√©crit le point que nous regardons.  Les indices RVB indiquent les composantes rouge, verte et bleue: <br><br><blockquote><code>R <sub>R</sub> = D <sub>R</sub> √ó 1.0 <br> R <sub>G</sub> = D <sub>G</sub> √ó 0.7 <br> R <sub>B</sub> = D <sub>B</sub> √ó 0.9</code> </blockquote> <br>  Ce vitrail transmet les composants rouges, verts et bleus de l'arri√®re-plan avec des forces variables.  En d'autres termes, la <em>transparence des</em> verres roses d√©pend de la couleur de la lumi√®re incidente.  En g√©n√©ral, la transparence peut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">varier en fonction de la longueur d'onde de la lumi√®re</a> , mais dans cet exemple simplifi√©, nous nous int√©ressons uniquement √† la fa√ßon dont les lunettes affectent les composants RVB classiques. <br><br>  La simulation du comportement des lunettes de soleil ordinaires est beaucoup plus simple, elles att√©nuent g√©n√©ralement la lumi√®re incidente d'une certaine mani√®re: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qf/lq/8k/qflq8kkgpnh__pk8lpv5rx6txya.png"></div><br>  Ces verres ne laissent passer que 30% de la lumi√®re.  Leur comportement peut √™tre d√©crit par les √©quations suivantes: <br><br><blockquote> <code>R <sub>R</sub> = D <sub>R</sub> √ó 0.3 <br> R <sub>G</sub> = D <sub>G</sub> √ó 0.3 <br> R <sub>B</sub> = D <sub>B</sub> √ó 0.3</code> </blockquote> <br>  Les trois composantes de couleur sont r√©duites de la m√™me valeur - l'absorption de la lumi√®re incidente est la m√™me.  On peut dire que les verres noirs sont 30% transparents (opaques) ou 70% opaques.  <em>L'opacit√© d'un</em> objet d√©termine la quantit√© de couleur qu'il bloque.  En infographie, nous avons g√©n√©ralement affaire √† un mod√®le simplifi√© dans lequel une seule valeur est n√©cessaire pour d√©crire cette propri√©t√©.  L'opacit√© peut varier spatialement.  comme, par exemple, une colonne de fum√©e qui devient plus haute et plus transparente. <br><br>  Dans le monde r√©el, les objets avec une opacit√© de 100% sont simplement opaques et ne transmettent pas du tout la lumi√®re.  Le monde des images num√©riques est un peu diff√©rent.  Il y a des cas limites lorsque m√™me des objets opaques solides passent une certaine quantit√© de lumi√®re. <br><br><h1>  Couverture </h1><br>  Les graphiques vectoriels traitent de descriptions claires et infiniment pr√©cises de formes d√©finies √† l'aide de points, de segments de ligne, de courbes de B√©zier et d'autres primitives math√©matiques.  Lorsque vous devez afficher des figures sur un √©cran d'ordinateur, ces entit√©s impeccables doivent √™tre pixellis√©es en un bitmap: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ebc/a01/6ed/ebca016ed191611e29f68dfca5aebe62.svg" width="492" height="202"></div><br>  <i>Rast√©risation d'une forme vectorielle en bitmap</i> <br><br>  La fa√ßon la plus primitive de pixelliser est de v√©rifier o√π se trouve l'√©chantillon de pixels - √† l'int√©rieur ou √† l'ext√©rieur de la forme vectorielle.  Dans les exemples ci-dessous, vous pouvez faire glisser le triangle, dans une vue agrandie, les mouvements seront plus pr√©cis.  Un contour bleu indique la g√©om√©trie vectorielle d'origine.  Comme vous pouvez le voir, l'√©chelle sur les bords du triangle a l'air moche et scintille beaucoup lors du d√©placement de la g√©om√©trie: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mp/kn/pg/mpknpgk1lauj0ruzaobm6azr2wy.png"></div><br>  L'inconv√©nient de cette approche est que nous n'effectuons qu'une seule v√©rification pour chaque pixel affich√©, et les r√©sultats sont discr√©tis√©s √† l'une des deux valeurs possibles - √† l'int√©rieur ou √† l'ext√©rieur. <br><br>  Vous pouvez √©chantillonner la g√©om√©trie vectorielle plusieurs fois par pixel pour obtenir une grande gradation des √©tapes et d√©cider que certains pixels ne sont que <em>partiellement</em> ferm√©s.  Une solution possible consiste √† utiliser quatre points d'√©chantillonnage pour repr√©senter cinq niveaux de couverture: 0, <sup>1</sup> ‚ÅÑ <sub>4</sub> , <sup>2</sup> ‚ÅÑ <sub>4</sub> , <sup>3</sup> ‚ÅÑ <sub>4</sub> et 1: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hi/uu/pw/hiuupwrv88cjcfjxv5_f-b1hege.png"></div><br>  La qualit√© des bords du triangle s'est am√©lior√©e, mais seulement cinq niveaux de couverture possibles ne sont souvent pas suffisants et nous pouvons facilement obtenir un bien meilleur r√©sultat.  Bien que la vue d'un pixel comme un petit carr√© dans le monde du traitement du signal soit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">consid√©r√©e avec d√©sapprobation</a> , dans certains contextes, c'est un mod√®le utile qui nous permet de calculer la couverture exacte en pixels par g√©om√©trie vectorielle.  L'intersection d'une ligne et d'un carr√© peut toujours √™tre d√©compos√©e en un <i>trap√®ze</i> et un <i>rectangle</i> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24e/b9f/494/24eb9f494ab4259257189da367efef01.svg" alt="image"></div><br>  <i>Un segment de ligne divise un carr√© en un trap√®ze et un rectangle</i> <br><br>  Vous pouvez facilement calculer l'aire des deux parties, et leur somme divis√©e par l'aire du carr√© d√©termine le pourcentage de couverture en pixels.  Ainsi, la couverture est calcul√©e comme un nombre exact avec une pr√©cision arbitraire.  Dans la d√©monstration ci-dessous, cette m√©thode est utilis√©e pour rendre de bien meilleurs bords qui restent lisses m√™me lorsque vous faites glisser un triangle: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xj/pd/fw/xjpdfwcvkdgujdwittnyzxan6ce.png"></div><br>  Lorsqu'il s'agit de formes plus complexes, par exemple des ellipses ou des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">B√©ziers</a> , elles sont souvent divis√©es en simples segments de ligne droite qui vous permettent de calculer la couverture avec la bonne pr√©cision. <br><br>  Le concept de couverture partielle est essentiel pour un rendu de haute qualit√© des graphiques vectoriels et, plus important encore, pour le rendu du texte.  Si vous prenez une capture d'√©cran de cet article et l'examinez attentivement, vous remarquerez que presque tous les bords des glyphes ne couvrent que partiellement les pixels: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/69a/b93/1ef/69ab931ef9b9eeb4f669f29652044c0d.png" height="50%" width="50%"></div><br>  <i>La couverture partielle est activement utilis√©e dans le rendu de texte</i> <br><br>  Ayant l'opacit√© de l'objet et le couvrant avec des pixels individuels, vous pouvez les combiner en une seule valeur. <br><br><h1>  Alpha </h1><br>  Le produit de l'opacit√© d'un objet et de sa couverture en pixels est appel√© <em>alpha</em> : <br><br><blockquote> <code> =  √ó </code> </blockquote> <br>  Un objet avec une opacit√© de 60%, couvrant 30% de la zone de pixels, a une valeur alpha de 18% dans ce pixel.  Naturellement, lorsque l'objet est transparent ou ne couvre pas compl√®tement le pixel, la valeur alpha dans ce pixel est 0. Apr√®s multiplication, les diff√©rences entre l'opacit√© et le rev√™tement disparaissent, ce qui justifie en quelque sorte le fait que les concepts d '"alpha" et "d'opacit√©" sont utilis√©s comme synonymes. <br><br>  Alpha est souvent repr√©sent√© comme un quatri√®me canal d'une image bitmap.  Les valeurs habituelles de rouge, vert et bleu sont compl√©t√©es par une valeur alpha, formant quatre valeurs RGBA. <br><br>  Lorsqu'il s'agit de stocker des valeurs alpha en m√©moire, il y a une tentation d'utiliser seulement quelques bits pour cela.  Dans le cas du recouvrement des pixels des bords d'objets opaques, il semble que 4 voire 3 bits suffiront, en fonction de la densit√© de pixels de l'√©cran: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qr/xt/pr/qrxtpr2tyhpn1znd0brdi8ehhns.png"></div><br>  Cependant, l'opacit√© affecte √©galement la valeur alpha, de sorte qu'une faible profondeur de bits peut √™tre catastrophique dans certains cas de changement de transparence en douceur.  L'image ci-dessous montre un d√©grad√© du noir opaque au blanc, ce qui d√©montre qu'une faible profondeur de bits entra√Æne de tr√®s fortes variations de couleur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jm/8a/bv/jm8abvbbl5mejxely1nbhefyv8u.png"></div><br>  De toute √©vidence, plus il y a de bits, mieux c'est, et le plus souvent pour l'alpha, une profondeur de 8 bits est utilis√©e pour correspondre √† la pr√©cision des composantes de couleur, c'est pourquoi de nombreux tampons RGBA occupent 32 bits par pixel.  Il convient √©galement de noter que, contrairement aux composants de couleur, qui sont souvent cod√©s √† l'aide d'une transformation non lin√©aire, l'alpha est stock√© lin√©airement - la valeur cod√©e de 0,5 correspond √† une valeur alpha de 0,5. <br><br>  En parlant d'alpha, nous avons compl√®tement ignor√© toutes les autres composantes de couleur, mais en plus de bloquer la couleur d'arri√®re-plan, le pixel lui-m√™me peut ajouter un peu de couleur.  L'id√©e est assez simple - un objet rose translucide bloque une partie de l'√©clairage de fond entrant et √©met ou r√©fl√©chit un peu de lumi√®re rose: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tc/_w/kf/tc_wkf6dtsblbjvxx1nslytlu2u.gif"></div><br>  Notez qu'il ne <em>se</em> comporte <em>pas</em> comme un vitrail.  Le verre bloque simplement une partie de l'√©clairage de fond avec une luminosit√© diff√©rente.  Si vous regardez un objet compl√®tement noir √† travers du verre rose, sa noirceur restera, car l'objet noir n'√©met pas et ne r√©fl√©chit aucune lumi√®re.  Cependant, l'objet rose translucide <em>ajoute</em> sa propre lumi√®re.  Si vous le placez sur un objet noir, le r√©sultat sera ros√¢tre.  Un bon analogue de ce comportement est un mat√©riau fin en suspension dans l'air, comme de la brume, de la fum√©e, du brouillard ou de la poudre color√©e. <br><br>  Le rendu d'un canal alpha est un peu plus difficile - un objet parfaitement transparent est invisible par d√©finition, donc pour distinguer les objets, nous devons utiliser deux astuces.  Un arri√®re-plan en damier montre quelles parties de l'image sont transparentes;  Ce mod√®le est utilis√© dans de nombreuses applications graphiques: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6b4/ff5/064/6b4ff5064b6cd9262e4d381125b406c4.svg" width="280" height="144"></div><br>  <i>Le motif d'√©checs montre des pi√®ces transparentes.</i> <br><br>  Les quatre petits carr√©s sous l'image nous indiquent que nous voyons les composantes rouge, verte, bleue et alpha de l'image.  Dans certains cas, il est utile de voir directement les valeurs du canal alpha, et la fa√ßon la plus simple de les afficher consiste √† utiliser des nuances de gris: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c9a/c12/c33/c9ac12c335263552b56dda8f3bd35262.svg" width="280" height="306"></div><br>  <i>Afficher les valeurs RVB et A sur diff√©rentes surfaces</i> <br><br>  Plus la nuance de gris est brillante, plus la valeur alpha est √©lev√©e, c'est-√†-dire que le noir pur correspond √† 0% alpha et le blanc pur √† 100% alpha.  Les petits carr√©s indiquent que les composants RVB et A de l'image sont divis√©s en deux parties. <br><br>  Le composant alpha lui-m√™me n'est pas particuli√®rement utile, mais il devient tr√®s important lorsque nous parlons de compositing. <br><br><h1>  Compositing simple </h1><br>  Tr√®s peu d'effets de rendu 2D peuvent √™tre impl√©ment√©s en une seule op√©ration, et pour cr√©er un r√©sultat final, nous utilisons un processus de <em>composition</em> qui combine diff√©rentes images.  Par exemple, un simple bouton ¬´Annuler¬ª peut √™tre cr√©√© en composant cinq √©l√©ments distincts: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd5/2d1/80f/cd52d180f6aba101c8fd2bf95bd721fe.svg" width="318" height="328"></div><br>  <i>√âl√©ments de composition pour le bouton Annuler</i> <br><br>  Le compositing est souvent r√©alis√© en plusieurs √©tapes, √† chacune desquelles deux images sont combin√©es.  L'image de premier plan utilis√©e en compositing est commun√©ment appel√©e <em>source</em> .  L'image d'arri√®re-plan utilis√©e en compositing, sur laquelle la source est superpos√©e, est g√©n√©ralement appel√©e <em>destination</em> . <br><br>  Nous commencerons par composer sur un fond opaque, car c'est un cas tr√®s courant.  Tout ce que vous voyez √† l'√©cran est finalement superpos√© par la composition sur une destination opaque. <br><br>  Lorsque la valeur alpha de la source est de 100%, la source est opaque et doit couvrir compl√®tement la destination.  Si la valeur alpha est de 0%, la source est compl√®tement transparente et n'affecte en aucune fa√ßon la destination.  Une valeur alpha de 25% permet √† l'objet d'√©mettre 25% de sa lumi√®re et passe 75% de la lumi√®re de l'arri√®re-plan, etc.: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/985/719/921/985719921b6dc06496caba46db08a5c5.svg" width="520" height="248"></div><br>  <i>Composition d'une source violette avec diff√©rentes valeurs alpha vers une destination jaune</i> <br><br>  Vous pouvez d√©j√† comprendre ce que tout va faire - un cas simple de composition alpha sur un fond opaque - c'est juste une interpolation lin√©aire entre les couleurs de destination et source.  Dans le graphique ci-dessous, le curseur contr√¥le la valeur alpha de la source et les graphiques rouge, vert et bleu affichent les valeurs des composants RVB.  Le r√©sultat de <strong>R</strong> est juste un m√©lange entre la source <strong>S</strong> et la destination <strong>D</strong> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fd/bw/7x/fdbw7xdswtd_k6crz13wprtqbtm.gif"></div><br>  Ce qui se passe ici peut √™tre d√©crit par les √©quations ci-dessous.  Comme pr√©c√©demment, l'index d√©note le composant, c'est-√†-dire que S <sub>A</sub> est la valeur alpha dans la source et D <sub>G</sub> est la valeur verte dans la destination: <br><br><blockquote> <code>R <sub>R</sub> = S <sub>R</sub> √ó S <sub>A</sub> + D <sub>R</sub> √ó (1 ‚àí S <sub>A</sub> ) <br> <br> R <sub>G</sub> = S <sub>G</sub> √ó S <sub>A</sub> + D <sub>G</sub> √ó (1 ‚àí S <sub>A</sub> ) <br> <br> R <sub>B</sub> = S <sub>B</sub> √ó S <sub>A</sub> + D <sub>B</sub> √ó (1 ‚àí S <sub>A</sub> )</code> </blockquote> <br>  Les √©quations des composants rouge, vert et bleu ont la m√™me apparence, vous pouvez donc simplement utiliser l'index <sub>RVB</sub> et les combiner en une seule ligne: <br><br><blockquote> <code>R <sub>RGB</sub> = S <sub>RGB</sub> √ó S <sub>A</sub> + D <sub>RGB</sub> √ó (1 ‚àí S <sub>A</sub> )</code> </blockquote> <br>  De plus, comme la destination est opaque et bloque d√©j√† toute la lumi√®re de fond, nous savons que la valeur alpha du r√©sultat est toujours 1: <br><br><blockquote> <code>R <sub>A</sub> = 1</code> </blockquote> <br>  Compositer sur un fond opaque est simple, mais ses capacit√©s sont assez limit√©es.  Dans de nombreux cas, une solution plus fiable est requise. <br><br><h1>  Tampons interm√©diaires </h1><br>  L'image ci-dessous montre le processus en deux √©tapes de composition de trois couches diff√©rentes, √©tiquet√©es A, B et C. Le symbole ‚á® signifie "superpos√© par composition sur": <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a9/fb8/ca5/6a9fb8ca58b71a7327785e10b54ef8da.svg" width="620" height="310"></div><br>  <i>Le r√©sultat du compositing en deux √©tapes de trois couches</i> <br><br>  D'abord, nous superposons B √† C en composant, puis superposons A √† eux pour obtenir l'image finale.  Dans l'exemple suivant, nous ferons les choses un peu diff√©remment.  Tout d'abord, nous allons connecter les deux couches sup√©rieures par compositing, puis superposer le r√©sultat sur la derni√®re destination: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a99/a10/e40/a99a10e409562f903fa7e66b4a363706.svg" width="620" height="310"></div><br>  <i>Le r√©sultat du compositing en deux √©tapes de trois couches dans un ordre diff√©rent</i> <br><br>  Vous vous demandez probablement si une telle situation se pr√©sente dans la pratique, mais en fait, elle est tr√®s courante.  De nombreuses op√©rations de composition et effets de rendu non triviaux, tels que le masquage et le flou, n√©cessitent de passer par un tampon interm√©diaire contenant uniquement des r√©sultats de composition partiels.  Ce concept a des noms diff√©rents: passes hors √©cran, couches de transparence ou tampons lat√©raux, mais ils sont g√©n√©ralement bas√©s sur la m√™me id√©e. <br><br>  Ce qui est plus important pour nous, c'est que presque <em>toutes les</em> images transparentes peuvent √™tre per√ßues comme le r√©sultat partiel d'un certain rendu, qui sera ensuite superpos√© par la composition sur la derni√®re destination: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/862/2cc/804/8622cc804d280c508244ccfc60c0e461.svg" width="128" height="48"></div><br>  <i>Compositing partiel d'un bouton dans un presse-papiers</i> <br><br>  Nous devons comprendre comment remplacer la composition d'images translucides A et B par une image (A‚á®B) ayant la m√™me couleur et l'opacit√©.  Commen√ßons par calculer la valeur alpha du tampon final. <br><br><h1>  Combinaison de valeurs alpha </h1><br>  Vous ne savez peut-√™tre pas comment combiner l'opacit√© de deux objets, mais il est plus facile de parler de cette t√¢che si nous parlons plut√¥t de transparence. <br><br>  Supposons qu'une certaine quantit√© de lumi√®re passe √† travers le premier objet, puis √† travers le deuxi√®me objet.  Si la transparence du premier objet est de 80%, il passera alors 80% de la lumi√®re incidente.  De m√™me, un deuxi√®me objet avec 60% de transparence permettra √† 60% de la lumi√®re de le traverser, ce qui nous donne 60% √ó 80% = 48% de la lumi√®re d'origine.  Vous pouvez exp√©rimenter la transparence dans l'article d'origine;  n'oubliez pas que les curseurs contr√¥lent la <em>transparence</em> et non l'opacit√© des objets sur le chemin de la lumi√®re: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/av/f5/lv/avf5lvv7kve1zkgnztkd_i_hylq.png"></div><br>  Naturellement, lorsque le premier ou le deuxi√®me objet est opaque, aucune lumi√®re ne les traverse, m√™me un autre est compl√®tement transparent. <br><br>  Si l'objet D a la transparence D <sub>T</sub> , et l'objet S a la transparence S <sub>T</sub> , alors la transparence g√©n√©rale finale R <sub>T de</sub> ces deux objets est √©gale √† leur produit: <br><br><blockquote>  R <sub>T</sub> = D <sub>T</sub> √ó S <sub>T</sub> </blockquote><br>  Cependant, la transparence est juste une unit√© moins alpha, donc la substitution nous donne ce qui suit: <br><br><blockquote>  1 - R <sub>A</sub> = (1 - D <sub>A</sub> ) √ó (1 - S <sub>A</sub> ) </blockquote><br>  Cette expression peut √™tre d√©velopp√©e en: <br><br><blockquote>  1 - R <sub>A</sub> = 1 - D <sub>A</sub> - S <sub>A</sub> + D <sub>A</sub> √ó S <sub>A</sub> </blockquote><br>  Et simplifiez comme ceci: <br><br><blockquote>  R <sub>A</sub> = D <sub>A</sub> + S <sub>A</sub> - D <sub>A</sub> √ó S <sub>A</sub> </blockquote><br>  Il peut √™tre r√©duit √† l'un des deux types similaires: <br><br><blockquote>  R <sub>A</sub> = S <sub>A</sub> + D <sub>A</sub> √ó (1 - S <sub>A</sub> ) <br><br>  R <sub>A</sub> = D <sub>A</sub> + S <sub>A</sub> √ó (1 - D <sub>A</sub> ) </blockquote><br>  Bient√¥t, nous verrons que le second est le plus souvent utilis√©.  Il est √©galement int√©ressant de noter que la valeur alpha r√©sultante ne d√©pend pas de l'ordre relatif des objets - l'opacit√© des pixels r√©sultants est la m√™me, m√™me si vous √©changez la source et la destination.  C'est tr√®s logique.  La lumi√®re traversant deux objets devrait s'estomper de la m√™me mani√®re, de n'importe quel c√¥t√© de l'√©toile, de l'avant ou de l'arri√®re. <br><br><h1>  Combinaison de couleurs </h1><br>  Le calcul de l'alpha n'a pas √©t√© si difficile, alors essayons de comprendre les calculs des composants RVB.  L'image source a la couleur S <sub>RGB</sub> , mais son opacit√© S <sub>A</sub> force uniquement le produit de ces deux valeurs √† prendre en compte dans le r√©sultat final: <br><br><blockquote>  S <sub>RVB</sub> √ó S <sub>A</sub> </blockquote><br>  L'image de destination a la couleur D <sub>RGB</sub> , l'opacit√© lui fait √©mettre de la lumi√®re D <sub>RGB</sub> √ó D <sub>A</sub> , cependant, une partie de la lumi√®re est bloqu√©e par l'opacit√© de l'image S, donc tout l'effet de destination est <br><br><blockquote>  D <sub>RVB</sub> √ó D <sub>A</sub> √ó (1 - S <sub>A</sub> ) </blockquote><br>  L'apport total de lumi√®re de S et D est √©gal √† leur somme: <br><br><blockquote>  S <sub>RVB</sub> √ó S <sub>A</sub> + D <sub>RVB</sub> √ó D <sub>A</sub> √ó (1 - S <sub>A</sub> ) </blockquote><br>  De m√™me, la contribution des couches fusionn√©es est √©gale √† leur couleur multipli√©e par leur opacit√©: <br><br><blockquote>  R <sub>RVB</sub> √ó R <sub>A</sub> </blockquote><br>  Nous voulons que ces deux valeurs correspondent: <br><br><blockquote>  R <sub>RGB</sub> √ó R <sub>A</sub> = S <sub>RGB</sub> √ó S <sub>A</sub> + D <sub>RGB</sub> √ó D <sub>A</sub> √ó (1 - S <sub>A</sub> ) </blockquote><br>  Ce qui nous donne les √©quations finales: <br><br><blockquote>  R <sub>A</sub> = S <sub>A</sub> + D <sub>A</sub> √ó (1 - S <sub>A</sub> ) <br><br>  R <sub>RGB</sub> = (S <sub>RGB</sub> √ó S <sub>A</sub> + D <sub>RGB</sub> √ó D <sub>A</sub> √ó (1 - S <sub>A</sub> )) / R <sub>A</sub> </blockquote><br>  Voyez comme la deuxi√®me √©quation est compliqu√©e!  Notez que pour obtenir les valeurs RVB du r√©sultat, nous devons diviser par la valeur alpha.  Cependant, pour la prochaine √©tape de la compositine, la multiplication par la valeur alpha sera √† nouveau n√©cessaire, car le r√©sultat de l'op√©ration en cours deviendra la nouvelle source ou destination de la prochaine op√©ration.  C'est tout simplement moche. <br><br>  Revenons √† la forme presque finale de R <sub>RGB</sub> pendant une seconde: <br><br><blockquote>  R <sub>RGB</sub> √ó R <sub>A</sub> = S <sub>RGB</sub> √ó S <sub>A</sub> + D <sub>RGB</sub> √ó D <sub>A</sub> √ó (1 - S <sub>A</sub> ) </blockquote><br>  La source, la destination <em>et le</em> r√©sultat sont multipli√©s par leurs composants alpha.  Cela nous fait comprendre que la couleur et l'alpha du pixel ¬´aiment¬ª √™tre ensemble, nous devons donc prendre du recul et repenser la fa√ßon dont nous stockons les informations sur les couleurs. <br><br><h1>  Alpha pr√©multipli√© </h1><br>  Rappelons que nous avons parl√© d'opacit√© - si l'objet est partiellement opaque, sa contribution au r√©sultat sera √©galement partielle.  Le concept d'alpha pr√©multipli√© (¬´pr√©-multiplication par alpha¬ª) met en ≈ìuvre cette id√©e.  Les valeurs des composants RVB, comme leur nom l'indique, sont pr√©-multipli√©es par le composant alpha.  Commen√ßons par la couleur sans multiplication pr√©alable: <br><br><blockquote>  (1,00, 0,80, 0,30, 0,40) </blockquote><br>  La multiplication pr√©liminaire par alpha nous donne ce qui suit: <br><br><blockquote>  (0,40, 0,32, 0,12, 0,40) </blockquote><br>  Jetons un coup d'≈ìil √† plusieurs pixels √† la fois.  La figure ci-dessous montre comment les informations de couleur sont stock√©es sans multiplier d'abord l'alpha: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e20/ba7/338/e20ba7338feb27cdf22f3c25d3afa697.svg" width="440" height="262"></div><br>  <i>Informations RVB et A dans l'image sans multiplication pr√©alable</i> <br><br>  Notez que les zones o√π alpha est 0 peuvent avoir des valeurs RVB arbitraires, comme le montrent les p√©pins vert et bleu de l'image.  Dans le cas d'une multiplication pr√©liminaire par alpha, les informations de couleur stockent √©galement les valeurs d'opacit√© des pixels: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/613/5d9/ede/6135d9ede6ea6789bbcd979e48a2cce0.svg" width="440" height="262"></div><br>  <i>Informations RVB et A dans une image pr√©-multipli√©e</i> <br><br>  L'alpha pr√©multipli√© est parfois appel√© alpha associ√©, et l'alpha non pr√©multipli√© est parfois appel√© alpha droit ou non associ√©. <br><br>  Lorsque le composant alpha de la couleur est 0, la multiplication pr√©liminaire r√©initialise tous les autres composants, quelles que soient leurs valeurs: <br><br><blockquote>  (0,0, 0,0, 0,0, 0,0) </blockquote><br>  Dans le cas de l'alpha pr√©multipli√©, il n'y a qu'une <em>seule</em> couleur compl√®tement transparente, et c'est charmant. <br><br>  Les avantages de ce traitement des composants de couleur deviendront progressivement clairs pour vous, mais avant de revenir √† l'exemple de la composition, voyons comment l'alpha pr√©multipli√© aide √† r√©soudre certains autres probl√®mes de rendu. <br><br><h2>  Filtrage </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le flou gaussien</a> est un moyen populaire de cr√©er un arri√®re-plan d√©focalis√© int√©ressant ou de r√©duire la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fr√©quence √©lev√©e de l'</a> arri√®re <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-</a> plan du contenu de certains √©l√©ments de l'interface utilisateur.  Comme nous le verrons, la pr√©-multiplication de l'alpha est essentielle pour cr√©er le flou parfait. <br><br>  L'image que nous analyserons est cr√©√©e en remplissant l'arri√®re-plan avec 1% de bleu opaque, sur lequel un cercle rouge opaque est dessin√©.  Voyons d'abord un exemple sans multiplication pr√©alable.  J'ai s√©par√© les canaux RVB du canal alpha pour comprendre ce qui se passait.  La fl√®che indique l'op√©ration de flou: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ce/0eb/7f9/1ce0eb7f9342c4d90ca7c18bb827afba.png" width="530" height="264"></div><br>  <i>Flou du contenu sans multiplication pr√©alable</i> <br><br>  Le r√©sultat final a un laid halo bleu.  Cela s'est produit parce que le fond bleu s'est infiltr√© dans la zone rouge pendant le flou, et seulement <em>ensuite</em> , pendant le compositing, le poids alpha y a √©t√© ajout√©. <br><br>  Lorsque les couleurs sont pr√©-multipli√©es par alpha, le r√©sultat est correct: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c6/9f8/aa9/2c69f8aa9cba7a689eb2094d89661576.png" width="530" height="264"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flou du contenu pr√©-multipli√©</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En raison de la pr√©-multiplication, la couleur bleue de l'image est r√©duite √† 1% de sa force d'origine, de sorte que son effet sur les couleurs du cercle flou est extr√™mement faible.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Interpolation </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le rendu d'une image dont les pixels correspondent parfaitement √† la destination est une t√¢che simple car nous devons effectuer un mappage univoque trivial entre les √©chantillons. </font><font style="vertical-align: inherit;">Un probl√®me survient lorsqu'il n'y a pas de mappage simple, par exemple, en raison de la rotation, de la mise √† l'√©chelle ou de la c√©sure. </font><font style="vertical-align: inherit;">La figure ci-dessous montre que les pixels de l'image pivot√©e indiqu√©s par le contour rouge ne correspondent plus √† la destination:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7c/55c/d9d/a7c55cd9d320d2fc5b8b4dd80622b54c.svg" width="596" height="290"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientation relative de l'image et pixels de destination avant et apr√®s rotation</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il existe de nombreuses fa√ßons de s√©lectionner une couleur de l'image √† √©crire sur le pixel de destination, et la plus simple d'entre elles est l'interpolation dite du plus proche voisin, dans laquelle comme pixel final, l'√©chantillon le plus proche dans la texture est simplement s√©lectionn√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans la d√©monstration ci-dessous, le contour rouge montre la position de l'image dans la destination. Le c√¥t√© droit montre les positions des √©chantillons du point de vue de l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">image</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En faisant glisser le curseur (dans l'article d'origine), vous pouvez faire pivoter le quadrilat√®re et observer comment les √©chantillons s√©lectionnent les couleurs du bitmap. J'ai mis en √©vidence un pixel dans la source et la destination, afin que leur relation soit plus claire:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zd/0v/if/zd0vifjvna1jjf_apdomph8bmd0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette solution est assez fonctionnelle et les pixels ont une couleur holistique, mais la qualit√© est inacceptable. Il serait pr√©f√©rable d'utiliser une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interpolation bilin√©aire</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui calcule la moyenne pond√©r√©e des quatre pixels les plus proches de l'image √©chantillonn√©e:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s0/fy/qi/s0fyqirq3p9cpyfb5vl4gxzsz0q.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela fonctionne mieux, mais les bords autour des rectangles ne semblent pas corrects, le contenu des pixels fusionne sans multiplication, car l'alpha est "appliqu√©" apr√®s l'interpolation. Parfois, la solution recommand√©e pour fusionner la couleur du bon contenu, qui est montr√©e dans l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article √©tonnant d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Adrian Correger [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traduction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur Habr√©], est loin d'√™tre id√©ale - pas une seule couleur dans l'espace entre les rectangles rouges et bleus ne semblera droite. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voyons √† quoi tout ressemblera dans l‚Äôimage avec de l‚Äôalpha pr√©multipli√© et du compositing avec une formule avanc√©e, que nous allons bient√¥t d√©river:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/to/ax/zy/toaxzyjkgdouyossh7kzgkgudyi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout simplement parfait - nous nous sommes d√©barrass√©s de toutes les fusions de couleurs et les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dents sont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> introuvables </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En fin de compte, les probl√®mes associ√©s au flou et √† l'interpolation sont √©troitement li√©s. </font><font style="vertical-align: inherit;">Toute op√©ration qui n√©cessite une combinaison de couleurs translucides, sans d'abord multiplier les couleurs par alpha, est susceptible de donner des r√©sultats incorrects.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le bon compositing </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revenons au compositing. </font><font style="vertical-align: inherit;">Nous nous sommes install√©s sur une √©quation presque d√©riv√©e:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RGB</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó R </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RGB</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RGB</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous imaginez des couleurs utilisant l'alpha pr√©multipli√©, toutes ces multiplications inconfortables dispara√Ætront, car l'alpha fera d√©j√† partie des valeurs de couleur. </font><font style="vertical-align: inherit;">Ensuite, nous obtenons ce qui suit:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RGB</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RGB</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RGB</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Regardons l'√©quation alpha: </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les coefficients pour les canaux rouge, vert, bleu et alpha sont les m√™mes, nous pouvons donc exprimer l'expression enti√®re avec une √©quation et nous rappeler juste que chaque composant subit la m√™me op√©ration: </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S + D √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©couvrez comment l'alpha pr√©multipli√© a facilit√© les choses. </font><font style="vertical-align: inherit;">Lorsque nous analysons les composants de l'√©quation, ils sont tous en place. </font><font style="vertical-align: inherit;">L'op√©ration </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masque une</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> partie de la lumi√®re d'arri√®re-plan et ajoute une nouvelle lumi√®re:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S + D √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette op√©ration de mixage est appel√©e source over, sover ou tout simplement normale, et c'est sans aucun doute le mode de composition le plus courant. </font><font style="vertical-align: inherit;">Presque tout ce que vous voyez sur mon site Web est m√©lang√© dans ce mode.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Associativit√© </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une propri√©t√© source-over importante r√©alis√©e sur des couleurs pr√©-alpha-multipli√©es est l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">associativit√© de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cette op√©ration. </font><font style="vertical-align: inherit;">Gr√¢ce √† lui, dans l'√©quation de m√©lange complexe, nous pouvons placer les parenth√®ses de mani√®re compl√®tement arbitraire. </font><font style="vertical-align: inherit;">Toutes les compositions pr√©sent√©es ci-dessous sont √©quivalentes:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = (((A‚á®B) ‚á®C) ‚á®D) ‚á®E </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = (A‚á®B) ‚á® (C‚á® (D‚á®E)) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = A‚á® (B‚á® (C‚á® (D‚á®E)) )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La preuve en est assez simple, mais je ne vous encombrerai pas de manipulations alg√©briques. </font><font style="vertical-align: inherit;">Dans la pratique, cela signifie que nous pouvons rendre partiellement des dessins complexes sans craindre que la composition finale soit incorrecte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans la grande majorit√© des cas, l'alpha n'est utilis√© que pour la composition en utilisant la source-over, mais ses avantages ne s'arr√™tent pas l√†. </font><font style="vertical-align: inherit;">Les valeurs alpha peuvent √©galement √™tre utilis√©es pour d'autres op√©rations de rendu utiles.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Porter-Duff Compositing </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En juillet 1984, Thomas Porter et Tom Duff ont publi√© l'article original, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Compositing Digital Images¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les auteurs ont non seulement introduit le concept d'alpha pr√©multipli√© et d√©riv√© de l'√©quation de composition source sur over, mais ont √©galement pr√©sent√© toute une famille d'op√©rations de composition alpha, dont beaucoup sont peu connues, bien que tr√®s utiles. </font><font style="vertical-align: inherit;">Les nouvelles fonctions sont √©galement appel√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√©rateurs</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , car, comme l'ajout ou la multiplication, elles effectuent des actions sur les valeurs d'entr√©e pour cr√©er une valeur de sortie.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Plus </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans de futurs exemples, nous utiliserons des d√©mos interactives montrant les op√©rations de divers modes de fusion. </font><font style="vertical-align: inherit;">L'image de destination sera le symbole ¬´club¬ª noir et l'image source sera le symbole ¬´vers¬ª rouge. </font><font style="vertical-align: inherit;">Vous pouvez faire glisser le c≈ìur sur l'image et observer le comportement des formes qui se chevauchent sous diff√©rents op√©rateurs de composition. </font><font style="vertical-align: inherit;">Faites attention √† la petite minicarte dans le coin. </font><font style="vertical-align: inherit;">Certains modes de fusion sont tr√®s destructeurs et faciles √† confondre. </font><font style="vertical-align: inherit;">La mini-carte montre toujours le r√©sultat d'un simple compositing source-over, ce qui simplifie la compr√©hension:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vx/nb/n3/vxnbn3qhwfuiobes7rws0ardxtq.gif"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S + D √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S √ó (1 - D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) + D</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous passez √† destination-over, vous vous rendrez imm√©diatement compte qu'il ¬´retourne¬ª simplement la source-over - destination et source sont √©chang√©es dans l'√©quation et le r√©sultat est √©quivalent √† ce que nous consid√©rerons comme destination comme image source. </font><font style="vertical-align: inherit;">Bien qu'il semble redondant, l'op√©rateur destination-over est extr√™mement utile car il vous permet de composer des objets qui se trouvent </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un contenu existant.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Out </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les instructions source-out et destination-out sont id√©ales pour percer des trous dans la source ou la destination: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/c1/pn/ou/c1pnoudiz66kdmddiaqkmdxcyuq.gif"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S √ó (1 - D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = D √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Parmi ces deux op√©rateurs, Destination-out est plus pratique car il utilise le canal alpha pour percer des trous dans le formulaire de destination. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les op√©rateurs source-in et destination-in sont essentiellement des op√©rateurs de masquage: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/je/jc/fxjejc-my5ewd7otz8_r2ylueas.gif"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S √ó D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub> </blockquote><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = D √ó S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ils permettent de cr√©er assez facilement des intersections complexes de g√©om√©trie non triviale sans r√©soudre les intersections relativement difficiles √† calculer des contours vectoriels. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Au sommet </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les op√©rateurs </font></font><code>source-atop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>destination-atop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous permettent de superposer du nouveau contenu sur ceux existants, tout en le masquant le long du chemin de destination:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/js/f-/2o/jsf-2on9uxoowdzpk73ugiadypw.gif"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S √ó D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + D √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S √ó (1 - D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) + D √ó S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub> </blockquote><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Xor </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'op√©rateur OU exclusif ( </font></font><code>xor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) enregistre </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> source ou la destination, et leurs zones correspondantes disparaissent:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bm/i6/uo/bmi6uoidqbrytp4e4gbmy6afvck.png"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S √ó (1 - D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) + D √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Source, destination, effacer </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les trois derniers modes de composition classiques sont assez ennuyeux. </font></font><code>Source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, √©galement appel√© </font></font><code>copy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, prend simplement la source de couleur. </font><font style="vertical-align: inherit;">De m√™me, il </font></font><code>destination</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ignore la source de couleur et revient simplement </font></font><code>destination</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">L'op√©rateur </font></font><code>clear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">efface simplement tout:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fw/li/mo/fwlimouoegmu9ff1r1tqno-uags.gif"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R = S </font></font></blockquote><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R = D </font></font></blockquote><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R = 0 </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'applicabilit√© de ces modes est limit√©e. </font><font style="vertical-align: inherit;">En l'utilisant </font></font><code>clear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez vider un tampon rempli, mais cette op√©ration peut √™tre optimis√©e en remplissant simplement la m√©moire avec des z√©ros. </font><font style="vertical-align: inherit;">De plus, dans certains cas, il </font></font><code>source</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut √™tre</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plus √©conomique dans les calculs, car il ne n√©cessite aucun m√©lange, mais remplace simplement le contenu du tampon par les informations source.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Porter Duff en action </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s avoir trait√© avec des op√©rateurs individuels, voyons comment vous pouvez les combiner. </font><font style="vertical-align: inherit;">Dans l'exemple ci-dessous, nous allons dessiner un logo marin sans utiliser de masquage ou de formes g√©om√©triques complexes. </font><font style="vertical-align: inherit;">Les contours bleus montrent la g√©om√©trie simple en cours de cr√©ation. </font><font style="vertical-align: inherit;">Vous pouvez parcourir les √©tapes en cliquant sur le c√¥t√© droit de l'image, et revenir en arri√®re en cliquant sur la gauche:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qf/-l/ct/qf-lctetuaygx6y7nwxhl95breu.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bien s√ªr, nous ne sommes en aucun cas oblig√©s d'abandonner les masques et les contours de d√©coupe, mais nous oublions souvent un outil comme les modes de composition Porter-Duff, bien qu'il soit beaucoup plus facile de cr√©er des effets visuels avec leur aide. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les op√©rateurs </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous regardez attentivement les op√©rateurs Porter-Duff, vous remarquerez qu'ils ont tous le m√™me formulaire. </font><font style="vertical-align: inherit;">La source est toujours multipli√©e par un certain coefficient F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et ajout√©e √† la destination multipli√©e par un coefficient F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S √ó F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + D √ó F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></sub> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut prendre les valeurs 0, 1, D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + 1 - D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , F et </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peuvent √™tre √©gales √† 0, 1, S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou 1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cela n'a aucun sens de multiplier la source ou la destination par leur propre alpha, car ils sont d√©j√† pr√©-multipli√©s, et nous obtenons juste l'effet fantaisiste, mais pas tr√®s utile, de l'alpha quadratique. </font><font style="vertical-align: inherit;">Tous les op√©rateurs peuvent √™tre repr√©sent√©s sous la forme d'un tableau:</font></font><br><br><div class="scrollable-table"><table><tbody><tr><td></td><td>  0 </td><td>  1 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 - D </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub> </td></tr><tr><td>  0 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> clair </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> source </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> source-in </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> source-out </font></font></td></tr><tr><td>  1 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> destination </font></font></td><td></td><td></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> destination </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> destination </font></font></td><td></td><td></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> destination au sommet </font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> destination-out </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> source-over </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> source-au sommet </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> xor </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faites attention √† la sym√©trie des op√©rateurs sur la diagonale. </font><font style="vertical-align: inherit;">Les quatre √©l√©ments centraux du tableau sont manquants et c'est arriv√© parce qu'ils sont diff√©rents des autres.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √âclairage additif </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans son article, Porter et Duff a </font><font style="vertical-align: inherit;">pr√©sent√© un autre op√©rateur, dans lequel les </font><font style="vertical-align: inherit;">deux F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et F </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©gal √† 1. Il est connu sous le nom </font></font><code>plus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>lighter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>plus-lighter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R = S + D </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette op√©ration </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ajoute</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> essentiellement </font><em><font style="vertical-align: inherit;">un</font></em><font style="vertical-align: inherit;"> √©clairage source √† la destination:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a2f/a9b/31c/a2fa9b31c91913bc0445b91ea8217670.png" width="488" height="226"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'√©clairage additif mis en ≈ìuvre avec l'op√©rateur</font></font><code><em>plus</em></code></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vert et rouge forme correctement le jaune, tandis que le vert et le bleu forment le cyan. </font><font style="vertical-align: inherit;">Le noir est l'absence d'op√©ration; il ne change en rien les valeurs de couleur, car l'ajout de z√©ro √† un nombre ne change rien. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les trois op√©rateurs restants n'ont pas re√ßu de nom car ils ne sont pas particuli√®rement utiles. </font><font style="vertical-align: inherit;">Ils sont juste une combinaison de masquage et de m√©lange. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient √©galement de noter que l'alpha pr√©multipli√© nous permet d'utiliser l'op√©rateur de </font></font><code>source-over</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mani√®re inattendue. </font><font style="vertical-align: inherit;">Jetons √† nouveau un coup d'oeil √† l'√©quation:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R = S + D √ó (1 - S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si nous parvenons √† rendre la valeur alpha de la source √©gale √† z√©ro, alors s'il y a des valeurs non nulles dans les canaux RVB, nous pouvons obtenir un √©clairage additif sans utiliser l'op√©rateur </font></font><code>plus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/400/42b/fbf/40042bfbf25d98ec04a5609fcf828f39.png" width="488" height="290"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âclairage additif impl√©ment√© √† l'aide de l'op√©rateur</font></font><code><em>source-over</em></code></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Notez que vous devez faire attention ici - les valeurs ne sont plus correctement multipli√©es par alpha. Dans certains programmes, il peut y avoir une optimisation qui √©vite compl√®tement de m√©langer les couleurs avec z√©ro alpha, tandis que d'autres programmes peuvent inverser la pr√©-multiplication par des valeurs alpha, effectuer certaines op√©rations de couleur, puis pr√©-multiplier √† nouveau par alpha, ce qui d√©truit compl√®tement les canaux de couleur. Il peut √©galement √™tre difficile d'exporter des ressources dans ce format, donc si vous n'avez pas un contr√¥le total sur le pipeline de rendu, vous devez vous en tenir √† l'op√©rateur </font></font><code>plus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jusqu'√† pr√©sent, tous les √©l√©ments dont nous discutons ont √©t√© bien combin√©s. </font><font style="vertical-align: inherit;">Maintenant, retirons nos lunettes roses et discutons de certaines questions qui doivent √™tre prises en compte lors de l'utilisation de la composition alpha.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Opacit√© du groupe </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jetons un coup d'≈ìil √† ce dessin de pilule simple compos√© de seulement six primitives: </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e7/b44/c84/6e7b44c84ff94dfbe3e0f2943cd44b89.png" width="512" height="208"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dessiner une pilule √† l'aide de formes simples</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si on nous demandait de rendre une pilule avec une opacit√© de 50%, nous pourrions √™tre tent√©s de simplement diviser l'opacit√© en deux √† chaque op√©ration de dessin, mais cela se r√©v√©lerait √™tre une d√©cision erron√©e:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/13a/63a/26b/13a63a26b176861264010a8d43aefb7a.png" width="160" height="96"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultat inattendu du rendu d'une pilule avec une demi-opacit√©.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour obtenir le r√©sultat correct, nous ne pouvons pas simplement r√©partir l'opacit√© d'un objet sur chacun de ses composants individuels. </font><font style="vertical-align: inherit;">Il faut d' </font><font style="vertical-align: inherit;">abord cr√©er un objet pour le </font><font style="vertical-align: inherit;">rendre dans un bitmap, et seulement </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ensuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> modifier l'opacit√© du bitmap, et √† la fin de compositing effectuer:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/798/7d0/708/7987d07084e48d8b3a51e99111c8a3ae.png" width="512" height="96"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultat attendu du rendu d'une pilule avec une demi-opacit√©</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il s'agit d'un autre cas qui d√©montre l'utilit√© du concept de rendu dans un tampon lat√©ral.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Couverture de compositing </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La conversion d'une couverture g√©om√©trique en une seule valeur alpha a des cons√©quences inconfortables. </font><font style="vertical-align: inherit;">Consid√©rons le cas o√π deux bords parfaitement adapt√©s de figures de g√©om√©trie vectorielle, illustr√©s dans la figure ci-dessous avec des contours orange et bleu, sont rendus dans une image bitmap. </font><font style="vertical-align: inherit;">Dans un monde id√©al, les r√©sultats devraient ressembler √† ceci, car chaque pixel est compl√®tement ferm√©:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45d/728/ca1/45d728ca1d4b35c64a2a3b1499930353.svg" width="555" height="255"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un r√©sultat de rendu id√©al avec une couverture correcte.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cependant, si nous rendons d'abord la g√©om√©trie orange puis le bleu, puis dans l'image finale un petit fond blanc fuira toujours dans les pixels de la bordure:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/cdd/66f/f2fcdd66f6b53504a36c5db42c17bfc5.svg" width="555" height="255"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le r√©sultat d'un compositing en deux √©tapes</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√®s que le rev√™tement est stock√© dans le canal alpha, toutes ses informations g√©om√©triques sont perdues, et nous ne pouvons en aucun cas les restaurer. La g√©om√©trie bleue se m√©lange simplement avec une </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie du</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contenu du tampon, mais ne sait pas que la g√©om√©trie repr√©sent√©e par les pixels rouge√¢tres doit y correspondre. Ce probl√®me est particuli√®rement visible lorsque les g√©om√©tries sont pr√©cis√©ment superpos√©es les unes aux autres. Dans l'image ci-dessous, un cercle blanc est dessin√© au-dessus d'un noir. Les bords sombres sont visibles, bien que les deux cercles aient </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exactement le m√™me</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rayon et </font><em><font style="vertical-align: inherit;">la m√™me</font></em><font style="vertical-align: inherit;"> position:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a8/33f/e2c/9a833fe2c9881ed7c89ece47c0984f38.svg" width="180" height="180"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un cercle blanc dessin√© au-dessus d'un cercle noir</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Une fa√ßon de r√©soudre ce probl√®me est de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne pas</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> calculer la couverture partielle des pixels et d'utiliser des tampons beaucoup plus grands. En pixellisant la g√©om√©trie vectorielle avec un simple rev√™tement d'entr√©e / sortie, puis en r√©duisant l'√©chelle du r√©sultat √† la taille de l'image d'origine, vous pouvez obtenir le r√©sultat attendu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cependant, pour une comparaison parfaite de la qualit√© de rendu des bords du canal alpha 8 bits, les tampons doivent √™tre 256 fois plus grands dans les </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deux</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sens, c'est-√†-dire que le nombre de pixels doit augmenter de 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fois. </font><font style="vertical-align: inherit;">Comme nous l'avons vu ci-dessus, tout en r√©duisant la profondeur de bits pour les valeurs de couverture, vous pouvez toujours obtenir des r√©sultats satisfaisants, donc en pratique, vous pouvez utiliser une √©chelle plus petite. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient √©galement de noter que de tels probl√®mes peuvent souvent √™tre √©vit√©s relativement facilement sans l'utilisation d'√©normes bitmaps. </font><font style="vertical-align: inherit;">Par exemple, au lieu de dessiner deux cercles superpos√©s, vous pouvez simplement dessiner deux carr√©s l'un sur l'autre, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puis</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> masquer le r√©sultat pour former un cercle.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Valeurs lin√©aires </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez actualis√© vos connaissances sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les espaces colorim√©triques</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vous vous souvenez que la plupart d'entre eux codent les valeurs chromatiques de mani√®re non lin√©aire et qu'une lin√©arisation pr√©liminaire est n√©cessaire pour effectuer les op√©rations math√©matiques correctes. </font><font style="vertical-align: inherit;">Une fois cette √©tape termin√©e, le r√©sultat du compositing est le suivant; </font><font style="vertical-align: inherit;">attention √† la belle teinte jaun√¢tre des pi√®ces superpos√©es les unes aux autres:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb0/24f/14d/bb024f14d3ede0fe13e72eb1de4a115a.png" width="280" height="300"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cercles rouges flous superpos√©s par compositing sur un fond vert √† l'aide de valeurs lin√©aires</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais dans la plupart des cas, la compositing </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne l'</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><em><font style="vertical-align: inherit;">pas</font></em><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La m√©thode standard pour le Web et la plupart des logiciels graphiques consiste √† m√©langer directement des valeurs non lin√©aires:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/245/77c/a2e/24577ca2e1dd42a2ef6c2ef1d33884d9.png" width="280" height="300"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cercles rouges flous superpos√©s par un compositeur sur un fond vert en utilisant des valeurs non lin√©aires</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Notez que les zones o√π le rouge sur le vert se superposent sont beaucoup plus sombres. </font><font style="vertical-align: inherit;">Ils sont loin d'√™tre id√©aux, mais dans certains cas, des op√©rations incorrectes sont profond√©ment enracin√©es dans la compr√©hension de la fa√ßon dont nous percevons la couleur. </font><font style="vertical-align: inherit;">Par exemple, le gris opaque √† 50% de l'espace sRGB ressemble exactement au noir pur avec une opacit√© de 50% m√©lang√©e √† un fond blanc:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/366/ca1/573/366ca1573d720de845ce276d7ef0d5b4.svg" width="405" height="133"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Composition de deux couleurs sur un fond blanc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lin√©arisation</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans la figure ci-dessous, les couleurs sRGB des images source et de destination sont lin√©aris√©es puis reconverties en encodage non lin√©aire pour l'affichage. </font><font style="vertical-align: inherit;">Voici √† quoi devraient ressembler ces couleurs:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ae/c74/90a/1aec7490a8fdf2a096f5e4c8f2b56cdc.svg" width="405" height="133"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Composition de deux couleurs sur fond blanc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lin√©arisation</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous avons un √©cart qui ne correspond pas √† nos attentes. </font><font style="vertical-align: inherit;">La seule fa√ßon d'obtenir l'uniformit√© visuelle √† l'aide de cette m√©thode est de s√©lectionner toutes les couleurs √† l'aide de valeurs lin√©aires, mais cela est tr√®s diff√©rent de ce √† quoi tout le monde est habitu√©. </font><font style="vertical-align: inherit;">50% de gris avec des valeurs lin√©aires ressemble √† du gris sur 73,5% de l'espace sRGB. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De plus, vous devez √™tre particuli√®rement prudent lorsque vous travaillez avec un alpha pr√©multipli√©. </font><font style="vertical-align: inherit;">La pr√©-multiplication doit √™tre effectu√©e avec </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> valeurs </font><em><font style="vertical-align: inherit;">lin√©aires</font></em><font style="vertical-align: inherit;"> , c'est-√†-dire </font><font style="vertical-align: inherit;">avant de coder en non lin√©aire. </font><font style="vertical-align: inherit;">Pour cette raison, l'√©tape de lin√©arisation se terminera correctement avec les valeurs lin√©aires correctes, pr√©c√©demment multipli√©es par alpha.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Profondeur Alpha et Bit pr√©multipli√©e </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malgr√© sa grande utilit√© pour la composition, le filtrage et l'interpolation, l'alpha pr√©multipli√© n'est pas une ¬´solution miracle¬ª et a ses inconv√©nients. </font><font style="vertical-align: inherit;">Le plus s√©rieux d'entre eux est la r√©duction de la profondeur de bits des couleurs imaginables. </font><font style="vertical-align: inherit;">Imaginez un encodage 8 bits d'une valeur de 150, qui est pr√©-multipli√© par alpha 20%. </font><font style="vertical-align: inherit;">Apr√®s une multiplication pr√©liminaire par alpha, on obtient</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rond (150 √ó 0,2) = 30 </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si nous r√©p√©tons la m√™me proc√©dure avec une valeur de 151, nous obtenons: </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rond (151 √ó 0,2) = 30 </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La valeur cod√©e sera la m√™me, malgr√© la diff√©rence des valeurs initiales. </font><font style="vertical-align: inherit;">En fait, apr√®s multiplication par alpha, les valeurs de 148, 149, 150, 151 et 152 sont cod√©es en 30, et la diff√©rence d'origine entre ces cinq couleurs uniques est perdue:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af3/a80/76c/af3a8076caef4fdae6146e6d503ea639.svg" width="560" height="203"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La pr√©-multiplication par alpha de 20% r√©duit les diff√©rentes valeurs de 8 bits √†</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1. Naturellement, plus l'alpha est petit, plus son effet est destructeur. Sur la plage possible de 256 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (environ 4,3 milliards) de diverses combinaisons de valeurs RGBA 8 bits, apr√®s multiplication pr√©liminaire par alpha, seulement 25,2% conservent une repr√©sentation unique; en fait, nous perdons pr√®s de 2 bits de la plage 32 bits.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour convertir les couleurs entre diff√©rents espaces colorim√©triques, il est parfois n√©cessaire d'inverser la multiplication pr√©liminaire, c'est-√†-dire de diviser les valeurs dans le composant alpha pour obtenir la luminosit√© des couleurs d'origine. Cette √©tape est n√©cessaire car, comme mentionn√© ci-dessus, le codage est effectu√© de mani√®re non lin√©aire. L'existence d'une pr√©-multiplication r√©duit la pr√©cision de la repr√©sentation des couleurs et les conversions entre les espaces colorim√©triques peuvent √™tre imparfaites. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En pratique, la r√©duction de la profondeur de bits est rarement importante, en particulier dans la composition. Plus la valeur alpha est faible, moins la couleur est visible et moins elle a d'influence sur la composition. En fin de compte, si vous vous efforcez de r√©aliser des op√©rations chromatiques pr√©cises, vous n'utiliserez pas leur repr√©sentation 8 bits - √† cette fin, les formats sont beaucoup mieux adapt√©s</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">virgule flottante</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture compl√©mentaire </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le concept du canal alpha a √©t√© cr√©√© par les co-fondateurs du studio Pixar </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Elvy </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smith</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ed Catmell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'article de Smith </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Alpha et l'histoire de la composition num√©rique¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©crit l'histoire de l'invention et les sources du nom ¬´alpha¬ª, ainsi que la fa√ßon dont ces concepts ont √©volu√© et ont progressivement remplac√© le concept de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masques</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans la production cin√©matographique </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour comprendre le sens de l'alpha, je vous recommande fortement de lire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Interpreting Alpha¬ª d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Andrew Glassner </font><font style="vertical-align: inherit;">. Cet article fournit une d√©rivation math√©matique rigoureuse mais tr√®s accessible de l'alpha comme mesure de l'interaction entre l'opacit√© et la couverture. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une discussion d√©taill√©e de l'alpha pr√©multipli√© peut √™tre explor√©e dans</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Les GPU pr√©f√®rent la pr√©multiplication¬ª par</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eric Haines. </font><font style="vertical-align: inherit;">L'article fournit non seulement un excellent aper√ßu des probl√®mes caus√©s par le </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manque de</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> multiplication pr√©liminaire, en particulier dans le rendu 3D, mais fournit √©galement des liens vers de nombreux autres articles sur ce sujet.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En conclusion </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Initialement, cet article √©tait destin√© √† expliquer les op√©rateurs de composition de Porter-Duff, mais tous les autres concepts li√©s √† la composition alpha se sont av√©r√©s si int√©ressants que je ne pouvais pas les manquer. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce que j'aime le plus √† propos de l'alpha, c'est que c'est juste un nombre suppl√©mentaire qui accompagne les composants RVB, mais en m√™me temps, il cr√©e de nombreuses capacit√©s de rendu uniques. </font><font style="vertical-align: inherit;">Alpha a litt√©ralement cr√©√© un nouveau changement d'opportunit√© dans l'ancien monde ennuyeux de la composition et du rendu 2D. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La prochaine fois que vous verrez les bords lisses des formes vectorielles ou remarquerez une superposition sombre qui assombrit certaines parties de l'interface utilisateur, pensez √† un composant petit mais puissant qui a rendu tout cela possible.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468067/">https://habr.com/ru/post/fr468067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468053/index.html">Apprentissage automatique pour votre chasse √† plat. Partie 1</a></li>
<li><a href="../fr468057/index.html">D√©veloppement de syst√®me d'exploitation de type Unix - Multit√¢che et appels syst√®me (7)</a></li>
<li><a href="../fr468059/index.html">Ma deuxi√®me semaine avec Haiku: beaucoup de diamants cach√©s et d'agr√©ables surprises, ainsi que quelques probl√®mes</a></li>
<li><a href="../fr468061/index.html">Cron sur Linux: historique, utilisation et appareil</a></li>
<li><a href="../fr468063/index.html">Angulareact</a></li>
<li><a href="../fr468071/index.html">Eduard Medvedev, CTO chez Tungsten Labs: ¬´Nous avons grandi au point o√π la technologie peut causer des dommages consid√©rables¬ª</a></li>
<li><a href="../fr468073/index.html">Andrei Terekhov: "Vous pouvez dire autant que vous le souhaitez que l'Am√©ricain est meilleur, mais notre voiture ne tombe jamais en panne"</a></li>
<li><a href="../fr468075/index.html">L'utilisation des r√©seaux de neurones siamois dans la recherche</a></li>
<li><a href="../fr468077/index.html">Posit les tests de fa√ßon adulte. Analyse spectrale</a></li>
<li><a href="../fr468079/index.html">Dimensions personnalis√©es dans Google Analytics qui nous ont fait √©conomiser plus d'une fois</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>