<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😚 🤼 🐕 Faux, faux, FAUX! méthodes d'atténuation des DDoS 🚟 🤶 🤲🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, ceci est une transcription des performances de CTO Qrator Labs Tyoma ximaera Gavrichenkova au RIPE77 à Amsterdam. Nous n'avons pas pu traduire s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Faux, faux, FAUX! méthodes d'atténuation des DDoS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qrator/blog/427889/"><blockquote>  Habr, ceci est une transcription des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">performances de</a> CTO Qrator Labs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Tyoma ximaera</a> Gavrichenkova au RIPE77 à Amsterdam.  Nous n'avons pas pu traduire son nom en russe tout en conservant le sens, et avons donc décidé d'aider Habr à entrer sur le marché anglophone et à tout laisser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tel quel.</a> </blockquote><img src="https://habrastorage.org/webt/fp/9z/e-/fp9ze-92xtogelu516pk48mp_5u.png"><br><br>  Ceci est une citation d'un de mes groupes préférés.  Dave Gahan de Depeche Mode est la preuve vivante que vous pouvez dire le mot «mauvais» 65 fois en 5 minutes tout en restant une rock star.  Voyons voir si je réussis. <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/we/va/x8/wevax8efvzvuroig-swl_rq4-3o.png"><br><br>  Savez-vous que les gens adorent la géographie? <br><br><img src="https://habrastorage.org/webt/ea/fv/vk/eafvvksk3wibq7g46m5z_nfk684.png"><br><br>  Tout cela, vous savez, des cartes à la mode et des plans architecturaux. <br><br>  C'est peut-être la principale raison pour laquelle, en lisant la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">section sur la sécurité de</a> StackExchange, je rencontre constamment la même approche pour prévenir les cyberattaques. <br><br><img src="https://habrastorage.org/webt/co/us/pr/couspr0q1taydn6egsicb33mqic.png"><br><br>  Supposons que nous, en tant qu'entreprise, n'attendions pas les utilisateurs chinois de l'Inquisition, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pah</a> .  Pourquoi ne restreignons-nous pas simplement l'accès à partir de leurs adresses IP?  Nous ne sommes finalement pas Facebook et nos services ne sont disponibles que dans un nombre limité de régions.  Et, en fait, Facebook n'est pas non plus disponible en Chine, pourquoi devrions-nous nous inquiéter? <br><br><img src="https://habrastorage.org/webt/tp/hy/hd/tphyhdr4rbwdrnj9pk1q1n6nl9u.png"><br><br>  En dehors du monde des technologies de l'information, une technique similaire est parfois appelée <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">redlining</a> .  L'essence de ce phénomène est la suivante. <br><br>  Supposons que vous soyez le directeur d'une flotte de taxis ou d'une pizzeria.  Vous avez accumulé certaines statistiques selon lesquelles, dans certaines zones de la ville, votre courrier pourrait être volé, ou il est fort probable que votre voiture soit rayée.  Eh bien, vous rassemblez tous les employés, tracez une ligne rouge épaisse sur le plan de la ville et annoncez que vous ne fournissez plus de services en dehors de la frontière rouge.  (En raison des caractéristiques structurelles de la plupart des villes américaines, cela équivaut d'ailleurs à un déni de services sur une base ethnique et est considéré comme un gros problème.) <br><br>  Nous pouvons faire de même avec les adresses IP, non?  Toute adresse IP appartient à n'importe quel pays, par conséquent, il existe une base de données officielle gérée par l'IETF et RIPE, confirmant l'attribution de chaque adresse IP. <br><br>  Faux! <br><br><img src="https://habrastorage.org/webt/1b/3h/yr/1b3hyrmcivcy43z0fzkm6y-hjvw.png"><br><br>  Si nous nous limitons uniquement aux aspects techniques, alors, pour le moment, la première chose qui me vient à l'esprit est que les géobases sont des produits commerciaux de sociétés commerciales, chacune collectant des données de sa propre manière, souvent pas complètement claire.  Ces produits peuvent être utilisés pour des études statistiques ou autres, cependant, fournir un large public d'un service de production basé sur un tel produit est une idiotie absolue pour d'innombrables raisons. <br><br>  Le concept de «propriété» d'une adresse IP n'existe pas du tout.  Une adresse IP n'est pas un numéro de téléphone; un registraire régional ne les transfère pas à la propriété, ce qui est explicitement écrit dans ses politiques.  S'il existe une entité dans le monde à laquelle les adresses IP «appartiennent», c'est bien l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IANA</a> , pas un pays ou une entreprise. <br><br>  En guise de remarque, le processus de protection de (votre) droit d'auteur est devenu parfois compliqué. <br><br><img src="https://habrastorage.org/webt/xo/_p/dx/xo_pdxwdjlnelmbykat9s8ws_d4.png"><br><br>  Bien sûr, une partie de cela (bien que pas du tout) pourrait s'améliorer avec l'avènement d'IPv6.  Cependant, nous parlons maintenant d'attaques DDoS;  l'ère des vrais DDoS IPv6 n'est pas encore arrivée et, à mesure que nous acquérons de l'expérience, des situations complètement différentes peuvent survenir.  En général, il est encore trop tôt pour y penser. <br><br>  Mais revenons à DDoS: que faire si nous savons avec certitude que le côté éloigné fait quelque chose de clairement malveillant? <br><br><img src="https://habrastorage.org/webt/vy/6w/fz/vy6wfzr1n6liqmn7znsfrmr4l5m.png"><br><br>  Notre configuration: trafic 40G, probablement du trafic DNS, car il provient du port 53. <br><br>  Comme nous le savons, ce comportement est typique des attaques DDoS d'amplification DNS.  Les attaques d'amplification utilisent un serveur vulnérable afin, vous savez ... d'augmenter le trafic, et l'adresse IP source en eux sera ce même serveur vulnérable. <br><br><img src="https://habrastorage.org/webt/9y/ct/k1/9yctk1lasa2p9aapwhbvcw29pdw.png"><br><br>  Et si nous utilisons la technologie dont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nous disposons</a> pour restreindre l'accès à ces serveurs vulnérables?  Que tous ces réflecteurs DNS soient finalement corrigés afin qu'ils cessent d'être une menace, non? <br><br>  Non, pas comme ça! <br><br><img src="https://habrastorage.org/webt/z6/hl/aj/z6hlajigelwyicqylgcxit_oee0.png"><br><br>  Ceci est une vraie histoire.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les événements décrits se sont produits au Minnesota en 1987</a> .  À la demande des survivants, tous les noms ont été changés.  Par respect pour les morts, les autres événements ont été affichés exactement comme ils se sont produits. <br><br>  La société a reçu des gigaoctets face à face de trafic DNS et a décidé de les traiter en utilisant des adresses IP sur liste noire. <br><br>  Après deux heures, les attaquants l'ont remarqué et ont immédiatement changé le schéma d'attaque.  Leur capacité à mener des attaques d'amplification avant cela était basée sur leur capacité à générer des paquets avec de fausses adresses IP source, ils ont donc continué à le faire, mais d'une manière légèrement différente. <br><br><img src="https://habrastorage.org/webt/to/d9/ef/tod9efspvvpyjarwjibaxqbkoio.png"><br><br>  Ils ont commencé à inonder la victime directement avec du trafic UDP avec le port source 53 et de fausses adresses IP de l'ensemble du pool d'adresses IPv4.  Le script NetFlow utilisé par la société a décidé que l'attaque d'amplification était en cours et a commencé à interdire les sources. <br><br><img src="https://habrastorage.org/webt/hx/cj/le/hxcjlefpjwcitbj3dpa5oxwggls.png"><br><br>  Comme vous pouvez deviner tout l'espace d'adressage IPv4 en quelques heures, comme vous l'avez peut-être deviné, il a fallu un certain temps pour que l'équipement réseau manque de mémoire et s'arrête complètement. <br><br>  Pour aggraver la situation, les attaquants ont commencé par trier les préfixes d'utilisateur final des fournisseurs de large bande les plus populaires et les plus importants de ce pays, de sorte que le site était inaccessible aux visiteurs bien avant le déni de service complet. <br><br><img src="https://habrastorage.org/webt/nt/80/gg/nt80ggdl2uvvjiccltepih23hww.png"><br><br>  Une leçon suit: ne générez pas automatiquement de listes noires si vous n'avez pas vérifié l'adresse IP de la source d'attaque.  Surtout lorsqu'il s'agit d'attaques comme l'amplification / réflexion.  Ils peuvent ne pas sembler ce qu'ils sont vraiment. <br><br>  Après cela, la question demeure. <br><br><img src="https://habrastorage.org/webt/td/mu/gi/tdmugigmusv1fscksxz8xqmndj4.png"><br><br>  Et si nous confirmons au moins le fait qu'un amplificateur malveillant se trouve réellement sur la ressource distante?  Analysons Internet et collectons les adresses IP avec tous les amplificateurs potentiels.  Ensuite, si nous voyons l'un d'eux dans le champ source du package, nous les bloquons simplement - ce sont des amplificateurs de toute façon, non? <br><br>  Devinez quoi?  Pas comme ça! <br><br><img src="https://habrastorage.org/webt/ki/rq/6k/kirq6kdzivfqttkpfv0i7on0vho.png"><br><br>  Il existe un certain nombre de raisons, chacune faisant valoir que cela ne devrait jamais être fait.  Il existe des millions d'amplificateurs potentiels partout sur Internet, et vous pouvez être trompé extrêmement facilement en bloquant une fois de plus un nombre excessif d'adresses IP.  Internet IPv6 n'est généralement pas si facile à analyser. <br><br>  Mais ce qui est vraiment drôle ici, c'est que dans une telle situation, le potentiel de réponses non seulement fausses positives mais également fausses négatives augmente.  Merci à quoi? <br><br><img src="https://habrastorage.org/webt/mn/zg/bf/mnzgbfp8pwegi6hw3kgsticd1gy.png"><br><br>  Redlining sur d'autres réseaux! <br><br>  Les gens détestent les scanners réseau.  Ils les bloquent, car leur équipement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IDS</a> glamour marque les scanners comme une menace directe.  Ils bloquent les scanners de mille façons différentes, et un attaquant peut avoir accès à des amplificateurs avec lesquels vous ne pouvez rien faire.  Personne ne vous demandera à l'avance à quel point votre scanner est doux et moelleux.  IDS n'a pas de concept de «bon scanner externe». <br><br><img src="https://habrastorage.org/webt/cg/oj/iq/cgojiqcnfeuc9s4vpe0jcibuv0s.png"><br><br>  Voici les principales conclusions: <br><ul><li>  N'essayez pas d'utiliser des listes noires sans être sûr que le côté distant n'est pas faux; </li><li>  N'utilisez pas de listes noires lorsque cela ne peut pas être fait ou lorsqu'il existe une meilleure solution; </li><li>  Enfin, arrêtez de briser Internet d'une manière pour laquelle il n'est pas conçu! </li></ul><br>  Et rappelez-vous: une décision complexe est généralement meilleure qu'une simple, car les décisions simples ont tendance à avoir des conséquences complexes. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427889/">https://habr.com/ru/post/fr427889/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427873/index.html">Imprimante de construction 3D pour College of Modern Technology</a></li>
<li><a href="../fr427875/index.html">Contexte: «Internet Archive» - historique de la création, mission et projets subsidiaires</a></li>
<li><a href="../fr427877/index.html">Langage de programmation Rockstar: quand le code ressemble à du texte rock hit</a></li>
<li><a href="../fr427879/index.html">Comment je suis passé de Python à Julia (et pourquoi)</a></li>
<li><a href="../fr427883/index.html">Présentation de la virtualisation, des conteneurs et de Kubernetes: 18 ressources cloud</a></li>
<li><a href="../fr427891/index.html">Des millions de personnes peuvent être attaquées par une vulnérabilité dans la plate-forme de conférence Cisco WebEx</a></li>
<li><a href="../fr427893/index.html">Bloody Lola sur Omega 2 ou Python étouffant à l'Halloween</a></li>
<li><a href="../fr427895/index.html">Suppression de données d'une base de données partageable</a></li>
<li><a href="../fr427897/index.html">Analyser un imageur à résonance magnétique II: les métamatériaux en IRM</a></li>
<li><a href="../fr427899/index.html">JsonWriterSax - une bibliothèque pour créer JSON</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>