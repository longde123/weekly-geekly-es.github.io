<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñäÔ∏è üë®üèø‚Äçüè´ ü§í 3. Projeto de rede corporativa em switches extremos üì© ü§ù ‚ú®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Boa tarde amigos! Hoje, continuarei a s√©rie Extreme Switches com um artigo sobre Enterprise Network Design. 

 No artigo, tentarei o mais brevemente p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3. Projeto de rede corporativa em switches extremos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tssolution/blog/475332/"><img src="https://habrastorage.org/webt/sc/fz/ym/scfzymaxf1bd2nzondzwa-_q_uq.png"><br><br>  Boa tarde amigos!  Hoje, continuarei a s√©rie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Extreme Switches com um</a> artigo sobre Enterprise Network Design. <br><br>  No artigo, tentarei o mais brevemente poss√≠vel: <br><br><ul><li>  descrever uma abordagem modular para o design de rede da Etnterprise </li><li>  considerar os tipos de constru√ß√£o de um dos m√≥dulos mais importantes da rede corporativa - a rede de backbone (ip-campus) </li><li>  descrever as vantagens e desvantagens das op√ß√µes de backup para n√≥s cr√≠ticos da rede </li><li>  em um exemplo abstrato, projete / atualize uma pequena rede corporativa </li><li>  Escolha switches extremos para implementar sua rede projetada </li><li>  trabalhar com fibras e endere√ßamento IP </li></ul><br>  Este artigo ser√° de maior interesse para engenheiros de rede e administradores de rede que est√£o iniciando sua carreira como profissional de rede, em vez de engenheiros experientes que trabalham h√° muitos anos em operadoras de telecomunica√ß√µes ou em grandes corpora√ß√µes com redes geograficamente distribu√≠das. <br><br>  Em qualquer caso, interessado por favor, pergunte para o gato. <a name="habracut"></a><br><br><h2>  Abordagem de design de rede modular </h2><br>  Iniciarei meu artigo com uma abordagem modular bastante popular para o design de rede, que permite montar um quebra-cabe√ßa a partir de pe√ßas da rede em uma imagem completa. <br><br>  Primeiro, um pouco de abstra√ß√£o - muitas vezes apresento essa abordagem como um zoom em mapas geogr√°ficos, quando em uma primeira aproxima√ß√£o um pa√≠s √© vis√≠vel, na segunda regi√£o, na terceira cidade etc. <br><br>  Como um exemplo, considere este exemplo: <br><br><ul><li>  1¬™ aproxima√ß√£o - toda a rede corporativa √© um conjunto de n√≠veis diferentes: <br><ul><li>  rede principal ou campus </li><li>  n√≠vel limite </li><li>  n√≠vel de operadoras de telecomunica√ß√µes </li><li>  √°reas remotas </li></ul><br></li><li>  2¬™ aproxima√ß√£o - cada um desses n√≠veis √© detalhado em m√≥dulos separados <br><ul><li>  rede principal ou campus consiste em: <br><ul><li>  M√≥dulo de 3 ou 2 n√≠veis que descreve a rede da empresa e seus n√≠veis - acesso, distribui√ß√£o e / ou n√∫cleo </li><li>  um m√≥dulo que descreve um data center - um data center (essencialmente a parte do servidor da infraestrutura) </li></ul><br></li><li>  o n√≠vel do limite, por sua vez, consiste em: <br><ul><li>  m√≥dulo de conex√£o √† internet </li><li>  M√≥dulo WAN e MAN, respons√°vel por conectar objetos da empresa distribu√≠dos geograficamente </li><li>  m√≥dulo para constru√ß√£o de t√∫neis VPN e acesso remoto </li><li>  Muitas vezes, muitas pequenas empresas t√™m v√°rios desses m√≥dulos, ou mesmo todos, combinados em um </li></ul><br></li><li>  n√≠vel de provedor: <br><ul><li>  Esse n√≠vel inclui comunica√ß√µes ‚Äúpara o mundo exterior‚Äù - fibras √≥pticas escuras (aluguel de fibras dos operadores), canais de comunica√ß√£o (Ethernet, G.703 etc.), acesso √† Internet. </li></ul><br></li><li>  n√≠vel remoto: <br><ul><li>  na maior parte, s√£o filiais de uma empresa que s√£o distribu√≠das dentro de uma cidade, regi√£o, pa√≠s ou at√© mesmo continentes. </li><li>  Essa zona tamb√©m pode incluir um data center de backup, que duplica o trabalho dos principais </li><li>  e, √© claro, teletrabalhadores (esta√ß√µes de trabalho remotas) que v√™m ganhando popularidade ultimamente </li></ul><br></li></ul><br></li><li>  3¬™ aproxima√ß√£o - cada um dos m√≥dulos √© dividido em m√≥dulos ou n√≠veis menores.  Por exemplo, em uma rede do campus: <br><ul><li>  A rede de tr√™s n√≠veis √© dividida em: <br><ul><li>  n√≠vel de acesso </li><li>  n√≠vel de distribui√ß√£o </li><li>  n√≠vel central </li></ul><br></li><li>  O data center em casos mais complexos pode ser dividido em: <br><ul><li>  Parte da rede de 2 ou 3 n√≠veis </li><li>  lado do servidor </li></ul><br></li></ul><br>  Vou tentar exibir todas as op√ß√µes acima na figura simplificada a seguir: <br><br><img src="https://habrastorage.org/webt/po/dm/f5/podmf5lt2ah-gbr5qmf1zwcs2dy.png"><br><br>  Como pode ser visto na figura acima, a abordagem modular ajuda a detalhar e estruturar a imagem geral nos elementos constituintes que podem ser trabalhados no futuro. <br><br>  Neste artigo, vou focar no n√≠vel do Campus Enterprise e descrev√™-lo em mais detalhes. <br><br><h2>  Tipos de redes IP-Campus </h2><br>  Quando eu trabalhava em um provedor e, especialmente, mais tarde, no trabalho de um integrador, me deparei com diferentes "maturidade" de redes de clientes.  N√£o uso o termo maturidade √† toa, porque muitas vezes h√° casos em que a estrutura da rede cresce com o crescimento da pr√≥pria empresa e isso, em princ√≠pio, √© l√≥gico. <br><br>  Em uma pequena empresa localizada no mesmo pr√©dio, uma rede corporativa pode consistir em apenas um roteador de borda que atua como um firewall, v√°rios comutadores de acesso e alguns servidores. <br><br>  Eu chamo essa rede de rede de uma camada - n√£o h√° absolutamente nenhum n√≠vel expl√≠cito de n√∫cleo de rede, o n√≠vel de distribui√ß√£o √© transferido para o roteador de borda (com firewall, VPN e possivelmente fun√ß√µes de proxy), e os switches de acesso atendem aos computadores e servidores dos funcion√°rios. <br><br><img src="https://habrastorage.org/webt/g-/we/gk/g-wegktxmswx0q0xzakmxr_jc0m.png"><br><br>  No caso de crescimento da empresa - um aumento no n√∫mero de funcion√°rios, servi√ßos e servidores, muitas vezes voc√™ precisa: <br><br><ul><li>  aumentar o n√∫mero de comutadores de rede e portas de acesso </li><li>  aumentar a capacidade do servidor </li><li>  combater dom√≠nios de broadcast - implementar segmenta√ß√£o de rede e roteamento entre segmentos </li><li>  lide com falhas de rede que causam tempo de inatividade do funcion√°rio, pois isso implica despesas financeiras adicionais para a ger√™ncia (o funcion√°rio est√° ocioso, o sal√°rio √© pago, mas o trabalho n√£o est√° conclu√≠do) </li><li>  no processo de lidar com falhas, pense em fazer backup de n√≥s cr√≠ticos da rede - roteadores, comutadores, servidores e servi√ßos </li><li>  refor√ßar a pol√≠tica de seguran√ßa, pois podem surgir riscos comerciais e, novamente, para uma opera√ß√£o de rede mais est√°vel </li></ul><br>  Tudo isso leva ao fato de que o engenheiro (administrador da rede), mais cedo ou mais tarde, pensa na constru√ß√£o correta da rede e chega a um modelo de dois n√≠veis. <br><br>  Esse modelo j√° se distingue claramente de dois n√≠veis - o n√≠vel de acesso e o n√≠vel de distribui√ß√£o, que em combina√ß√£o tamb√©m √© o n√≠vel principal (n√∫cleo recolhido). <br><br>  A distribui√ß√£o combinada e o n√≠vel do kernel desempenham as seguintes fun√ß√µes: <br><br><ul><li>  agrega links de switches de acesso </li><li>  introduz o roteamento de segmentos de rede - existem tantos usu√°rios e dispositivos que eles n√£o cabem em uma rede / 24 e, se colocados, tempestades de transmiss√£o causam falhas permanentes (especialmente se os usu√°rios os ajudarem criando loops) </li><li>  fornece comunica√ß√£o entre segmentos de switch vizinhos (via links mais r√°pidos) </li><li>  Ele fornece comunica√ß√£o entre os usu√°rios e seus dispositivos e o farm de servidores, que tamb√©m j√° come√ßa a se destacar em um segmento de rede separado - o data center. </li><li>  come√ßa a fornecer, em conjunto com os switches de acesso, em um grau ou outro, a pol√≠tica de seguran√ßa que come√ßa a aparecer na empresa nesse momento.  A empresa est√° crescendo, os riscos comerciais tamb√©m est√£o crescendo (aqui, quero dizer n√£o apenas disposi√ß√µes sobre segredos comerciais, diferencia√ß√£o de pol√≠ticas de acesso etc.), mas tamb√©m sobre per√≠odos de inatividade elementares da rede e dos funcion√°rios. </li></ul><br>  Portanto, mais cedo ou mais tarde, a rede cresce para um modelo de dois n√≠veis: <br><br><img src="https://habrastorage.org/webt/ee/xt/sj/eextsjmbifs_1fsblasr2mgsf-q.png"><br><br>  Nesse modelo, requisitos especiais aparecem para os comutadores de n√≠vel de acesso que agregam links de usu√°rios e dispositivos de rede (impressoras, pontos de acesso, dispositivos VoIP, telefones IP, c√¢meras IP, etc.) e comutadores de n√≠vel de distribui√ß√£o e gr√£os. <br><br>  Os comutadores de acesso j√° devem ser mais inteligentes e funcionais para atender aos requisitos de desempenho, seguran√ßa e flexibilidade da rede e devem: <br><br><ul><li>  t√™m diferentes tipos de portas de acesso e portas de tronco - de prefer√™ncia com a possibilidade de uma margem para o crescimento do tr√°fego e o n√∫mero de portas </li><li>  ter capacidade de comuta√ß√£o e largura de banda suficientes </li><li>  ter a funcionalidade de seguran√ßa necess√°ria para satisfazer a pol√≠tica de seguran√ßa atual (e, idealmente, o crescimento de seus requisitos adicionais) </li><li>  poder alimentar dispositivos de rede de dif√≠cil acesso com a capacidade de reinici√°-los remotamente na energia (PoE, PoE +) </li><li>  poder reservar sua pr√≥pria energia el√©trica para us√°-la nos locais onde for necess√°rio </li><li>  ter (se poss√≠vel) um potencial de crescimento adicional de uma funcionalidade √© um exemplo frequente quando um switch de acesso se transforma em um switch de distribui√ß√£o ao longo do tempo </li></ul><br>  Os comutadores de distribui√ß√£o, por sua vez, tamb√©m est√£o sujeitos aos seguintes requisitos: <br><br><ul><li>  tanto em termos de portas de tronco a jusante para os comutadores de acesso quanto para as interfaces de pares dos comutadores de distribui√ß√£o vizinhos (e posteriormente poss√≠veis interfaces de liga√ß√£o ascendente para o n√∫cleo) </li><li>  em termos de L2 e L3 funcional </li><li>  em termos de funcionalidade de seguran√ßa </li><li>  em termos de garantia de toler√¢ncia a falhas (redund√¢ncia, clustering e redund√¢ncia da fonte de alimenta√ß√£o) </li><li>  sobre flexibilidade no balanceamento de tr√°fego </li><li>  ter (se poss√≠vel) potencial de crescimento funcional adicional (transforma√ß√£o ao longo do tempo do dispositivo de agrega√ß√£o no n√∫cleo) </li><li>  em alguns casos em comutadores de distribui√ß√£o, pode ser apropriado usar portas PoE, PoE +. </li></ul><br>  Al√©m disso, mais: se a empresa seguir uma pol√≠tica de crescimento e desenvolvimento ativo da empresa, a rede tamb√©m continuar√° se desenvolvendo no futuro - a empresa pode come√ßar a alugar edif√≠cios vizinhos, construir seus pr√≥prios edif√≠cios ou absorver concorrentes menores, aumentando assim o n√∫mero de empregos para os funcion√°rios.  Ao mesmo tempo, a rede tamb√©m est√° crescendo, o que exige: <br><br><ul><li>  fornecendo empregos aos funcion√°rios - s√£o necess√°rios novos comutadores de acesso com portas de acesso </li><li>  disponibilidade de novos comutadores de distribui√ß√£o para agrega√ß√£o de link dos comutadores de acesso </li><li>  constru√ß√£o de novas linhas e moderniza√ß√£o de linhas de comunica√ß√£o existentes </li></ul><br>  Como resultado, h√° um aumento no tr√°fego pelos seguintes motivos: <br><br><ul><li>  devido ao aumento das portas de acesso e, consequentemente, dos usu√°rios da rede </li><li>  devido ao aumento do tr√°fego de subsistemas relacionados que escolhem a rede corporativa como transporte - telefonia, seguran√ßa, sistemas de engenharia, etc. </li><li>  devido √† introdu√ß√£o de servi√ßos adicionais - com o crescimento da equipe, novos departamentos parecem exigir certos softwares </li><li>  capacidade de computa√ß√£o do data center para atender aos requisitos de infraestrutura e aplicativos </li><li>  os requisitos de seguran√ßa para rede e informa√ß√µes est√£o crescendo - a famosa tr√≠ade da CIA (apenas brincando), mas, s√©rio, a CIA - Confidencialidade, Integridade e Disponibilidade: <br><br><ul><li>  Nesse sentido, para os n√≠veis cr√≠ticos da rede - distribui√ß√£o e data center, existem requisitos adicionais para toler√¢ncia a falhas e redund√¢ncia. </li><li>  Novamente, h√° um aumento no tr√°fego devido √† introdu√ß√£o de novos sistemas de seguran√ßa - por exemplo, RKVI, etc. </li></ul><br></li></ul><br>  Cedo ou tarde, o crescimento do tr√°fego, dos servi√ßos e do n√∫mero de usu√°rios levar√° √† necessidade de introduzir um n√≠vel adicional da rede - o kernel, que executar√° comuta√ß√£o / roteamento de pacotes de alta velocidade usando links de comunica√ß√£o de alta velocidade. <br><br>  Nesse ponto, a empresa pode migrar para um modelo de rede de tr√™s camadas: <br><br><img src="https://habrastorage.org/webt/md/4j/dv/md4jdvjrtwwlogj7gcpjv78seme.png"><br><br>  Como voc√™ pode ver na figura acima - em uma rede como essa h√° um n√≠vel central que agrega links de velocidade dos comutadores de distribui√ß√£o.  Portanto, os switches do kernel tamb√©m t√™m requisitos para: <br><br><ul><li>  largura de banda da interface - 1GE, 2.5GE, 10GE, 40GE, 100GE </li><li>  desempenho do comutador (capacidade de comuta√ß√£o e desempenho de encaminhamento) </li><li>  tipos de interface - 1000BASE-T, SFP, SFP +, QSFP, QSFP + </li><li>  n√∫mero e conjunto de interfaces </li><li>  op√ß√µes de redund√¢ncia (empilhamento, agrupamento, redund√¢ncia de placas de controle (relevantes para comutadores modulares), fonte de alimenta√ß√£o redundante etc.) </li><li>  funcional </li></ul><br>  Nesse n√≠vel da rede, √© definitivamente necess√°ria como sua modifica√ß√£o t√©cnica: <br><br><ul><li>  Reserva de n√≥s e links do kernel (muito, muito, muito desej√°vel) </li><li>  reserva de n√≥s e links de links de n√≠vel de distribui√ß√£o (dependendo da criticidade) </li><li>  reserva de links de comunica√ß√£o entre comutadores de acesso e n√≠vel de distribui√ß√£o (se necess√°rio) </li><li>  entrada de protocolo de roteamento din√¢mico </li><li>  equilibrando o tr√°fego no kernel e nos n√≠veis de distribui√ß√£o e acesso (se necess√°rio) </li><li>  introdu√ß√£o de servi√ßos adicionais - servi√ßos de transporte e seguran√ßa (se necess√°rio) </li></ul><br>  e legal, definindo a pol√≠tica de seguran√ßa de rede da empresa, que complementa a pol√≠tica geral de seguran√ßa em termos de: <br><br><ul><li>  requisitos para a implementa√ß√£o e configura√ß√£o de certas fun√ß√µes de seguran√ßa nos comutadores de acesso e distribui√ß√£o </li><li>  requisitos para acesso, monitoramento e gerenciamento de equipamentos de rede (protocolos de acesso remoto permitidos para gerenciar segmentos de rede, configura√ß√µes de registro etc.) </li><li>  requisitos de reserva </li><li>  requisitos para a forma√ß√£o do conjunto m√≠nimo necess√°rio de pe√ßas sobressalentes </li></ul><br>  Nesta se√ß√£o, descrevi brevemente a evolu√ß√£o da rede e da empresa de v√°rios comutadores e algumas dezenas de funcion√°rios para v√°rias dezenas (ou talvez centenas de comutadores) e v√°rias centenas (ou milhares) apenas dos funcion√°rios que trabalham diretamente na rede corporativa (e, afinal, tamb√©m existem departamentos de produ√ß√£o e redes de engenharia). <br>  √â claro que, na realidade, esse desenvolvimento "maravilhoso" e r√°pido da empresa n√£o ocorre. <br>  Geralmente, leva anos para que uma empresa e uma rede cres√ßam do seu primeiro n√≠vel inicial para o terceiro descrito por mim. <br><br>  Por que estou escrevendo todas essas verdades comuns?  Ent√£o, o que quero mencionar aqui √© um termo como ROI - retorno do investimento (retorno / retorno do investimento) e considere o lado que se relaciona diretamente √† escolha do equipamento de rede. <br><br>  Ao escolher o equipamento, os engenheiros de rede e seus gerentes geralmente escolhem o equipamento com base em 2 fatores - o pre√ßo atual do equipamento e a funcionalidade t√©cnica m√≠nima atualmente necess√°ria para resolver uma tarefa ou tarefas espec√≠ficas (discutirei a compra de equipamentos para backup posteriormente). <br><br>  Ao mesmo tempo, as possibilidades de "crescimento" adicional de equipamentos raramente s√£o consideradas.  Se surgir uma situa√ß√£o em que o equipamento se esgota em termos de funcionalidade ou produtividade, mais poderosas e funcionais ser√£o adquiridas no futuro, e a antiga ser√° entregue no armaz√©m, ou em algum lugar da rede com o princ√≠pio de ‚Äúficar de p√©‚Äù (isso, ali√°s, tamb√©m causa o aparecimento de um grande zool√≥gico de equipamentos) e adquirir v√°rios sistemas de informa√ß√£o que trabalham com ele). <br><br>  Assim, em vez de comprar parte das licen√ßas para adicionar.  funcionalidade e desempenho, que s√£o muito mais baratos que os equipamentos novos e com mais desempenho, voc√™ precisa comprar um novo hardware e pagar em excesso pelos seguintes motivos: <br><br><ul><li>  a rede geralmente cresce lentamente e a expans√£o da funcionalidade ou o desempenho do comutador da sua rede pode durar muito tempo </li><li>  N√£o √© segredo que o equipamento de fornecedores estrangeiros est√° atrelado a moeda estrangeira (d√≥lar ou euro).  Para ser sincero - o crescimento do d√≥lar ou do euro (ou a mini-desvaloriza√ß√£o peri√≥dica do rublo, eis como olhar) leva ao fato de que o d√≥lar h√° 10 anos e o d√≥lar agora s√£o coisas completamente diferentes do ponto de vista do rublo </li></ul><br>  Resumindo tudo isso, quero observar que a compra de equipamentos de rede com funcionalidades mais amplas agora pode gerar economia no futuro. <br>  Aqui, considero os custos de compra de equipamentos no contexto de investimento em minha rede e infraestrutura. <br><br>  Assim, muitos fornecedores (n√£o apenas a Extreme) aderem ao princ√≠pio do pagamento √† medida que crescem, oferecendo ao equipamento v√°rias funcionalidades e oportunidades para aumentar a produtividade das interfaces, que s√£o posteriormente ativadas pela compra de licen√ßas individuais.  Eles tamb√©m oferecem comutadores modulares com uma ampla variedade de placas de interface e de processador, e a capacidade de aumentar gradualmente seu n√∫mero e desempenho. <br><br><h2>  Reserva de N√≥ Cr√≠tico </h2><br>  Nesta parte do artigo, gostaria de descrever brevemente os princ√≠pios b√°sicos de redund√¢ncia de n√≥s de rede importantes, como comutadores principais, datacenters ou distribui√ß√µes.  E quero come√ßar analisando tipos comuns de redund√¢ncia - empilhamento e cluster. <br><br>  Cada um dos m√©todos tem seus pr√≥s e contras, sobre os quais gostaria de falar. <br><br>  Abaixo est√° uma tabela de resumo geral comparando 2 m√©todos: <br><br><img src="https://habrastorage.org/webt/st/le/5n/stle5ndurtkamw0gpcy4zztqcw0.png"><br><br><ul><li>  <b>gerenciamento</b> - como pode ser visto na tabela, o empilhamento √© uma vantagem nesse sentido, pois, do ponto de vista do gerenciamento de uma pilha de v√°rios comutadores, parece ser um comutador com um grande n√∫mero de portas.  Em vez de gerenciar, por exemplo, 8 switches diferentes durante o armazenamento em cluster, voc√™ pode gerenciar apenas um ao empilhar. </li><li>  <b>dist√¢ncia</b> - no momento, estritamente falando, a vantagem do clustering n√£o √© t√£o √≥bvia, pois existem tecnologias para empilhar switches atrav√©s de portas de empilhamento ou portas de uso duplo (por exemplo, SummitStack-V com Extreme, VSS com Cisco, etc.), que tamb√©m dependem dos tipos de transceptores.  Aqui, a vantagem √© dada ao agrupamento, com o princ√≠pio de que, ao empilhar, existem op√ß√µes nas quais voc√™ deve usar as portas de empilhamento usuais, que geralmente s√£o conectadas com cabos especiais de comprimento limitado - 0,5, 1, 1,5, 3 ou 5 metros. </li><li>  <b>atualiza√ß√£o de software</b> - aqui vemos que o cluster tem uma vantagem sobre o empilhamento e o seguinte √© o seguinte - ao atualizar a vers√£o do software do equipamento durante o empilhamento, voc√™ atualiza o software no comutador principal, que mais tarde assume o papel de colocar novo software nos comutadores da pilha em espera.  Por um lado, isso facilita o seu trabalho, mas as atualiza√ß√µes de software geralmente exigem uma reinicializa√ß√£o de hardware do equipamento, o que leva a uma reinicializa√ß√£o de toda a pilha e, portanto, √† interrup√ß√£o de seu trabalho e de todos os servi√ßos associados por um tempo = tempo de reinicializa√ß√£o.  Isso geralmente √© muito cr√≠tico para o n√∫cleo e o data center.  No cluster - voc√™ tem 2 dispositivos independentes um do outro, nos quais √© poss√≠vel atualizar o software sequencialmente, um ap√≥s o outro.  Ao mesmo tempo, interrup√ß√µes de servi√ßo podem ser evitadas. </li><li>  <b>configura√ß√£o das configura√ß√µes</b> - aqui, obviamente, a vantagem est√° no empilhamento, pois no caso e no gerenciamento voc√™ precisa editar as configura√ß√µes de apenas um dispositivo e seu arquivo de configura√ß√£o.  No armazenamento em cluster, o n√∫mero de arquivos de configura√ß√£o ser√° igual ao n√∫mero de n√≥s do cluster. </li><li>  <b>toler√¢ncia a falhas</b> - aqui as duas tecnologias s√£o aproximadamente iguais, mas o clustering, no entanto, tem uma pequena vantagem.  O motivo aqui est√° o seguinte - se considerarmos a pilha do ponto de vista da execu√ß√£o de processos e protocolos, veremos o seguinte: <br><ul><li>  existe um switch mestre no qual todos os principais processos e protocolos est√£o em execu√ß√£o (por exemplo, o protocolo de roteamento din√¢mico - OSPF) </li><li>  existem outros comutadores slave-switch que executam os principais processos necess√°rios para trabalhar na pilha e atender ao tr√°fego que passa por eles </li><li>  se o comutador mestre do comutador falhar, o pr√≥ximo comutador escravo priorit√°rio detecta um erro mestre </li><li>  ele se inicia como mestre e inicia todos os processos que funcionaram no mestre (incluindo o protocolo OSPF que observamos) </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ap√≥s algum tempo de inicializa√ß√£o dos processos (geralmente bem pequenos), o pr√≥prio protocolo OSPF come√ßa a funcionar. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portanto, o OSPF, quando um dos n√≥s falhar durante o armazenamento em cluster, funcionar√° um pouco mais r√°pido do que no empilhamento (pelo tempo necess√°rio para iniciar e inicializar processos e protocolos no comutador escravo da pilha). </font><font style="vertical-align: inherit;">Embora eu deva dizer que os protocolos e switches modernos de empilhamento funcionam muito rapidamente, geralmente a dura√ß√£o de uma interrup√ß√£o de tr√°fego ao trocar uma pilha leva menos de um segundo, mas ainda assim o clustering nominal vence com esse par√¢metro.</font></font></li></ul><br></li><li> <b></b> ‚Äî    ,     .     ¬´¬ª  ¬´ ¬ª.          .               ‚Äî VRRP, HSRP  . </li><li> <b> </b> ‚Äî     .             , : <br><ul><li>         (         ) </li><li>       (         ) </li><li>          </li><li>     </li></ul><br></li><li> <b></b> ‚Äî         .      ,    -            .             4:3     .     . -,   ‚Äî     ,   ,         ,      . </li></ul><br>      IT      (           ,   ),              /o      ,          .      Putty  Windows (      ). <br><br>        (     )         ,            -  . <br><br>     .   ,          ,        ‚Äî       . <br><br>       ,             : <br><br>       : <br><br><ul><li>    ‚Äî  2-  ,    (     1-  )     . </li><li>    ‚Äî       ,          . </li><li>    ‚Äî        . </li></ul><br>   /          (     ) : <br><br><ul><li>          </li><li>       2-   , ,    (   ) </li></ul><br>             : <br><br><ul><li>       ,    ,      ‚Äî           . </li><li>      (LACP, MLT, PAgP  ..)          . </li><li>     ECMP (Equal-Cost-Multi-Path) ‚Äî               best path ( )     best-path (  ),       ,          . </li></ul><br>  ,   ,             ,     : <br><br><ul><li>   ,   X,   3-   : <br><ul><li>    </li><li>    </li><li>     </li><li>     </li></ul><br></li><li>     : <br><br><ul><li>        ‚Äî OSPF, MP-BGP, MPLS, PIM, IGMP, IPv6  .. </li><li>   ‚Äî   , L2  L3 VPN, VoIP, IPTV,    .. </li></ul><br></li><li>        ‚Äî  ,      BGP-      </li><li> ,      (  ) </li><li> ,                 </li><li> ,       ‚Äî    MTBF </li><li> ,    4  ,    22       . </li></ul><br>       ,       . <br><br>   ,               (   ,   -    .   ,      2-           RP    ,        ). <br><br>   ‚Äî RP       ,                NBD. <br><br>             ,     RP,       ( 3 ). <br><br>         (       )     : <br><br><ul><li>   ,      ,   60-70% </li><li>    ,     900 .  ()    </li><li>    3          1  620 .   1  890 .  </li></ul><br>     ,            ,    ,     : <br><br><ul><li>     </li><li>     ,     3-4     ‚Äî ,  ,    .. </li><li>  ,     </li><li>    ‚Äî ,    ,    </li></ul><br>      : <br><br><ul><li>       NBD </li><li>     </li><li>      1 ‚Äî 1.3     90%   </li></ul><br>                ,   ,         . <br><br><h2>    Enterprise </h2><br>              .        PPDIOO (Prepare-Planning-Design-Implement-Operate-Optimize),      : <br><br><ul><li> <b>Prepare/</b> ‚Äî         ,     ‚Äî  ,     .   ‚Äî      ,   ,              .     . </li><li> <b>Planning/</b> ‚Äî           (     ), ..      : <br><br><ul><li>     </li><li>     </li><li>            </li><li>   </li><li> L2  L3  </li><li>    Wi-Fi c      </li><li>     </li><li>          </li><li>                       </li><li>  ,   ,        ,       ,    (   ).   -     .             ,      .                              .       operate. </li></ul><br></li><li> <b>Design/</b> ‚Äî      ,    ,  -       .        . </li></ul><br>         ,          . <br><br>   Prepare    ,          : <br><br><ul><li>         ,  700-800  (     ,      ) </li><li>   -     : </li><li> <b> :</b> <br><br><ul><li>   ‚Äî 2  </li><li>     ‚Äî 7  </li><li>         ‚Äî 3 ( 21)  </li><li>     =~ 250  </li></ul><br></li><li> <b> :</b> <br><br><ul><li>   ‚Äî 10  </li><li>    / ‚Äî 2  </li><li>      ‚Äî 3  </li><li>     =~ 20  </li></ul><br></li><li> <b>    (   ,             ) :</b> <br><ul><li> 2-  L2: <br><br><ul><li> 1Gb   RJ-45 ‚Äî 24  </li><li> 1Gb SFP  ‚Äî 4  </li></ul></li><li> 1-  L2: <br><br><ul><li> 1Gb SFP  ‚Äî 24  </li></ul></li><li>   ‚Äî  </li><li> peer-to-peer         </li><li>         </li></ul></li><li> <b>  :</b> <ul><li>             </li><li> L3      /   </li></ul></li><li> <b>  :</b> <br><br><ul><li>  L2  16 x 100 Mb   RJ-45  2-   combo- RJ-45/SFP </li><li>       </li><li>   : <br><br><ul><li>  (hub-and-spoke ‚Äî   )   /   </li><li> /spoke        ‚Äî 3    </li></ul></li><li>     </li><li>   9      (    ) </li></ul></li><li> <b>  :</b> <br><br><ul><li>    : <br><ul><li>     2-    8  </li><li>   1-        (   )       8   </li><li>   1-    .         4  (     ) </li><li>      ‚Äî /SMF </li><li>  2-   SFP  </li><li>       (ODF)    (-/),       </li></ul><br></li><li>    : <br><br><ul><li>            : </li><li>   Cat5e ‚Äî 10  ( 100  ) </li><li>  /MMF   4  8  ‚Äî 1  </li><li>  /MMF   4     </li><li>   Cat5e       </li></ul></li><li> <b> :</b> <br><br><ul><li>   ,  6  </li><li>  1Gb      1-   </li><li>       </li></ul></li><li> <b> L2, L3  :</b> <br><ul><li>     VLAN ‚Äî 2,3    </li><li>     /24  </li><li>        B,    ‚Äî 172.16.0.0/16 </li><li> L3      /    </li><li>    </li></ul></li><li> <b> :</b> <br><br><ul><li> : <br><ul><li>               ( IP-) </li><li>    ,                   </li><li>     IP-    ,    CRM-       </li></ul></li><li> <b> :</b> <br><br><ul><li>         ,     25-30%    </li><li>           </li><li>   PoE/PoE+        ‚Äî    </li></ul></li><li> <b>:</b> <br><ul><li>           </li><li>    PoE     </li></ul></li><li> <b> :</b> <br><br><ul><li>          </li><li>    PoE     </li></ul></li><li> <b>,     :</b> <br><br><ul><li>      </li><li>           N   </li><li>         ‚Äî   ,   port-security        802.1. </li><li>         ‚Äî   ,        ‚Äî   </li><li>          </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> valor do or√ßamento - aqui, cada empresa j√° determina por si mesma, guiada por seus indicadores financeiros </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prazos - no caso mais ideal, n√£o haver√° prazos claros, pois esse √© um projeto interno da empresa, implementado pelas for√ßas de seus funcion√°rios ou que ser√£o relativamente confort√°veis ‚Äã‚Äã- por exemplo, 1 ano (ou mais). </font><font style="vertical-align: inherit;">Na pior das hip√≥teses, pode levar de 3 a 6 meses.</font></font></li></ul></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corrija os problemas atuais da rede:</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> perda de pacotes </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> problemas com o DHCP em comutadores de acesso mais ou menos inteligentes associados ao uso da fam√≠lia de protocolos STP para combater loops nas portas de acesso. </font></font></li><li> livrar-se da presen√ßa de uma interface de servidor DHCP em cada VLAN de funcion√°rios </li><li>  a ocorr√™ncia de loops de comuta√ß√£o associados √† inclus√£o n√£o autorizada de comutadores gerenciados / n√£o gerenciados nos gabinetes e conectando v√°rios dispositivos a eles </li><li>  a lista continua e continua ... </li></ul></li></ul><br>  A etapa de planejamento - uma caracter√≠stica do estado da sua rede atual, como j√° escrevi, depende da disponibilidade de um sistema de monitoramento de alta qualidade e do grau de sua documenta√ß√£o.  Nesta etapa, voc√™ ter√° que: <br><br><ul><li>  pelo menos esbo√ßar uma rede existente para an√°lise posterior </li><li>  coletar dados do equipamento: <br><br><ul><li>  tr√°fego de porta tronco </li><li>  erros de porta </li><li>  Utiliza√ß√£o da CPU e consumo de mem√≥ria em switches e roteadores </li><li>  pinte esquemas L2-L3 de endere√ßos VLAN e IP </li></ul></li><li>  levantar diagramas de rota de cabo: <br><br><ul><li>  diagramas de fia√ß√£o cruzada √≥ptica e de fibra </li><li>  esquemas de distribui√ß√£o de cabos de cobre entre servidor e piso </li><li>  esquemas de distribui√ß√£o de cabos de cobre entre pisos e arm√°rios </li><li>  verifique se h√° crossovers √≥pticos e pain√©is de conex√µes em servidores e gabinetes </li></ul></li><li>  verificar esquemas de energia em servidores e arm√°rios de piso </li><li>  verifique se h√° no-break e bateria em locais cr√≠ticos </li><li>  analisar todos os dados </li></ul><br>  Guiado pelos dados da fase de prepara√ß√£o, obtive um diagrama l√≥gico aproximado: <br><br><img src="https://habrastorage.org/webt/nb/t6/pp/nbt6pprmgsmsrvz5lq7mmmzg3lw.png"><br><br>  Al√©m disso, seguindo a abordagem modular, √© necess√°rio destacar os n√≠veis e m√≥dulos da empresa: <br><br><img src="https://habrastorage.org/webt/nx/dw/yo/nxdwyorkk_dzdd_h2exvfv818xa.png"><br><br>  N√£o abordarei as fronteiras deste artigo, mas lembro brevemente as teses b√°sicas de cada um dos m√≥dulos do Campus: <br><br><ul><li>  <b>Acesso - nesse n√≠vel deve fornecer:</b> <br><ul><li>  o n√∫mero necess√°rio de portas para acesso do usu√°rio √† rede </li><li>  aplica√ß√£o de pol√≠ticas de seguran√ßa - filtragem de tr√°fego e protocolos </li><li>  transmiss√£o de compress√£o de dom√≠nio e segmenta√ß√£o de rede usando VLAN </li><li>  implementa√ß√£o de VLANs separadas para tr√°fego de voz </li><li>  Suporte de QoS </li><li>  suporte para portas de acesso PoE </li><li>  Suporte multicast IP </li><li>  toler√¢ncia a falhas de links de uplink em conjunto com o n√≠vel de distribui√ß√£o (desej√°vel) </li></ul></li><li>  <b>Distribui√ß√£o - nesse n√≠vel deve ser fornecido:</b> <br><br><ul><li>  o n√∫mero necess√°rio de portas para conectar comutadores de acesso </li><li>  agrega√ß√£o e reserva de links de chave de acesso </li><li>  Roteamento IP </li><li>  filtragem de pacotes </li><li>  Suporte de QoS </li><li>  toler√¢ncia a falhas no n√≠vel de links, equipamentos e fonte de alimenta√ß√£o (muito desej√°vel) </li></ul></li><li>  <b>O n√∫cleo - deve fornecer:</b> <br><br><ul><li>  alta velocidade de comuta√ß√£o e roteamento de pacotes </li><li>  n√∫mero necess√°rio de portas para conectar comutadores de distribui√ß√£o </li><li>  suporte para roteamento IP e protocolos de roteamento din√¢mico com r√°pida converg√™ncia de rede </li><li>  Suporte de QoS </li><li>  funcionalidade de seguran√ßa para proteger o acesso ao equipamento e ao plano de controle </li><li>  toler√¢ncia a falhas no n√≠vel do equipamento e da fonte de alimenta√ß√£o (obrigat√≥rio) </li></ul></li><li>  <b>DPC - o n√≠vel da rede deste m√≥dulo deve fornecer:</b> <br><br><ul><li>  links de comunica√ß√£o de alta velocidade </li><li>  o n√∫mero necess√°rio de portas para conectar servidores </li><li>  reserva de links de comunica√ß√£o entre servidores e comutadores de datacenter e entre comutadores de datacenter e o n√∫cleo da rede (obrigat√≥rio) </li><li>  redund√¢ncia de equipamentos e energia (obrigat√≥rio) </li><li>  Suporte de QoS </li></ul></li></ul><br>  Em seguida, precisamos calcular nossas portas e links de comunica√ß√£o e determinar os requisitos. <br>  <a href="">N√≠vel de acesso - Gr√°fico de c√°lculo de portas</a> <br><br>  Ent√£o, obtivemos os dados sobre a distribui√ß√£o de portas de acesso para edif√≠cios.  Agora voc√™ precisa analisar os requisitos para n√≠vel de acesso e coment√°rios e descrever as solu√ß√µes. <br>  <a href="">N√≠vel de acesso - requisitos e op√ß√µes de solu√ß√£o</a> <br><br>  Em seguida, calculamos as portas e os links de comunica√ß√£o para os seguintes n√≠veis: <br><br>  <a href="">N√≠vel de distribui√ß√£o</a> <br><br>  <a href="">N√∫cleo</a> <br><br>  <a href="">N√≠vel do data center</a> <br><br>  No c√°lculo, obtivemos o seguinte: <br><br><ul><li>  <b>n√≠vel de acesso</b> - requer comutadores de acesso de 24 e 48 portas, de prefer√™ncia com portas de acesso de 1Gb e portas SFP de uplink √≥ptico com suporte a PoE e ampla funcionalidade: <br><br><ul><li>  no total, eles fornecer√£o 504 portas de acesso, que, em princ√≠pio, atender√£o aos requisitos de portas sobressalentes, se for decidido usar 2 portas por esta√ß√£o de trabalho - um telefone IP e uma porta de dados. </li><li>  √© poss√≠vel usar em cada andar um switch de 48 portas com funcionalidade PoE, fornecendo portas de acesso para os requisitos: <br><br><ul><li>  reserva - aproximadamente 102 portos sobressalentes (22%) nos principais edif√≠cios.  Para edif√≠cios adicionais um pouco mais - 25%. </li><li>  vigil√¢ncia por v√≠deo </li><li>  rede sem fio </li></ul></li></ul></li><li>  <b>n√≠vel de distribui√ß√£o</b> - requer switches com um conjunto de portas SFP de 12 a 48 portas com pelo menos 2 portas SFP +, com recursos de empilhamento e funcionalidade avan√ßada, al√©m de fontes de alimenta√ß√£o redundantes. </li><li>  <b>n√≠vel de kernel</b> - requer switches de alta velocidade de 12 a 24 portas SFP / SFP + com suporte para empilhamento e clustering com suporte para MC-LAG.  Devo dizer que √© poss√≠vel usar ferramentas de roteamento para equilibrar o tr√°fego.  As gera√ß√µes recentes de switches e roteadores L3 oferecem suporte ao ECMP com balanceamento de tr√°fego em 4 ou mais rotas com a mesma m√©trica. </li><li>  <b>n√≠vel do datacenter</b> - requer switches de 8 a 24 portas SFP / SFP + com suporte para empilhamento e clustering com suporte para MC-LAG. </li></ul><br>  O diagrama da rede de destino acabou <a href="">sendo</a> <br><br><h2>  Escolhendo op√ß√µes extremas para um projeto </h2><br>  Bem, aqui chegamos √† quest√£o principal - o momento de escolher op√ß√µes para a implementa√ß√£o do nosso projeto.  Os seguintes switches Extreme s√£o adequados para o circuito de destino resultante: <br><div class="scrollable-table"><table><tbody><tr><th>  N√≠vel </th><th>  Modelo </th><th>  Portas </th><th>  Descri√ß√£o do produto </th></tr><tr><td>  n√∫cleo </td><td>  x620-16x-Base * <br><br>  x670-G2-48x-4q-Base * </td><td>  16 x 10GE SFP + <br><br><br><br>  48x10GE SFP + e 4x40 GE QSFP + </td><td>  Para as necessidades b√°sicas do kernel: <br><ul><li>  links de alta velocidade </li><li>  recursos avan√ßados de roteamento e seguran√ßa </li><li>  backup de energia vermelho.  fontes de alimenta√ß√£o </li><li>  suporte de empilhamento e cluster </li></ul><br>  Com requisitos m√≠nimos, o comutador da s√©rie x620 √© adequado. <br>  No caso de requisitos estendidos para o n√∫mero de portas e funcionalidade mais ampla, vale a pena considerar os comutadores da s√©rie x670-G2. </td></tr><tr><td>  Data center <br></td><td>  x620-16x-Base * <br><br>  x590-24x-1q-2c * <br><br>  x670-G2-48x-4q-Base * <br></td><td>  16 x 10GE SFP + <br><br><br><br>  SFP de 24x10GE, 1xQSFP +, 2xQSFP28 <br><br><br>  48x10GE SFP + e 4x40 GE QSFP + <br></td><td>  Para necessidades b√°sicas de data center: <br><ul><li>  links de alta velocidade </li><li>  backup de energia vermelho.  fontes de alimenta√ß√£o </li><li>  suporte de empilhamento e cluster </li></ul><br>  Com requisitos m√≠nimos, o comutador da s√©rie x620 √© adequado. <br>  No caso de requisitos expandidos para o n√∫mero de portas e funcionalidade mais ampla, vale a pena considerar os comutadores das s√©ries x670-G2 e x590-24x-1q-2c. <br></td></tr><tr><td>  distribui√ß√£o <br></td><td>  X460-G2-24x-10GE4-Base * <br><br>  X460-G2-48x-10GE4-Base * <br></td><td>  SFP 24x1GE, 8x1000 RJ-45, 4x10GE SFP + <br><br><br><br>  SFP 48x1GE, 4x10GE SFP + <br></td><td>  Para necessidades b√°sicas de distribui√ß√£o: <br><ul><li>  n√∫mero necess√°rio de portas √≥pticas </li><li>  backup de energia vermelho.  fontes de alimenta√ß√£o </li><li>  suporte de empilhamento e cluster </li><li>  funcionalidade L3 necess√°ria </li></ul><br>  Os comutadores da s√©rie x460-G2 s√£o ideais.  A disponibilidade de fontes de alimenta√ß√£o redundantes com a capacidade de expandir e adicionar portas 10G, CX (para empilhamento) e QSFP + os torna switches ideais para o n√≠vel de distribui√ß√£o com portas de at√© 1 Gb. <br></td></tr><tr><td>  acesso <br></td><td>  X440-G2-24p-10GE4 * <br><br>  X440-G2-24t-10GE4 * <br><br>  X440-G2-48t-10GE4 * <br><br>  X440-G2-48p-10GE4 * <br></td><td>  24x1000BASE-T (4x SFP combo), 4x10GE SFP + (PoE budget 380 W) <br><br>  24x1000BASE-T (4x SFP combo), 4x10GE SFP + <br><br><br>  Portas combinadas 24x1000BASE-T (4 x SFP combo), 4x10GE SFP + <br><br>  48x1000BASE-T (4 x SFP combo), portas combo 4x10GE SFP + (PoE budget 740 W) <br></td><td>  Para necessidades de acesso: <br><ul><li>  n√∫mero necess√°rio de portas de acesso </li><li>  Suporte para PoE / PoE + </li><li>  funcionalidade e capacidade de expans√£o de portas </li><li>  b√¥nus adicional na forma de suporte para empilhar portas de 10Gb imediatamente </li></ul><br>  Eu recomendo prestar aten√ß√£o a esta linha na forma de sua flexibilidade em termos de portas, desempenho e funcionalidade. <br></td></tr></tbody></table></div><br>  * As especifica√ß√µes dos switches selecionados podem ser encontradas no primeiro artigo da s√©rie - uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vis√£o geral dos switches Extreme</a> <br><br>  Nisso eu poderia terminar o artigo, mas gostaria de destacar dois aspectos adicionais que qualquer engenheiro enfrentar√° ao desenvolver ou atualizar sua rede: <br><br><ul><li>  trabalhar com rotas de cabos - linhas de fibras e cobre </li><li>  Endere√ßamento IP </li></ul><br><h2>  Manuseio de fibras </h2><br>  Acima, conduzi o esquema de metas para o qual √© necess√°rio chegar.  Para sua implementa√ß√£o, √© necess√°rio o seguinte n√∫mero de conex√µes para o equipamento: <br><br>  <a href="">n√∫mero de links</a> <br><br>  Como pode ser visto na tabela, o n√∫mero m√≠nimo de fibras necess√°rias para garantir a toler√¢ncia a falhas dos n√≠veis da rede (m√≥dulo principal, data center e distribui√ß√µes em 2 edif√≠cios) √© de 10 unidades. <br><br>  Na fase de caracteriza√ß√£o da rede, descobrimos que existem apenas 8 fibras no cabo entre os pr√©dios.  O que fazer nesta situa√ß√£o? <br><br>  Vou dar algumas solu√ß√µes: <br><br><ul><li>  o primeiro passo √≥bvio √© usar fibras livres no cabo entre o edif√≠cio 1 - edif√≠cio 1 e o edif√≠cio 1 - edif√≠cio 2 (como pode ser visto na tabela - apenas 2 de 8 fibras em cada cabo s√£o usadas).  Para fazer isso, basta colocar cruzamentos √≥pticos entre os cruzamentos no caso 1 e, se necess√°rio, usar m√≥dulos SFP com uma margem de or√ßamento √≥ptico. </li><li>  o segundo passo √© o uso da tecnologia CWDM - compacta√ß√£o dos comprimentos de onda da transportadora em uma √∫nica fibra.  Essa tecnologia √© muito mais barata que a DWMD e bastante simples de implementar.  Basicamente, os requisitos s√£o impostos √† qualidade das fibras √≥pticas e dos transceptores SFP / SFP + de um determinado comprimento e or√ßamento.  Como eu disse em um artigo anterior, a capacidade dos comutadores de reconhecer transceptores de terceiros pode simplificar bastante nossas vidas e reduzir o custo de capital da constru√ß√£o de cabos √≥pticos adicionais. </li><li>  O terceiro passo √© considerar a possibilidade de aumentar as fibras colocando cabos √≥pticos adicionais. </li></ul><br>  A seguir, examinamos o n√∫mero de fibras entre edif√≠cios com comutadores de distribui√ß√£o instalados e outros.  edif√≠cios 2-10.  Aqui tamb√©m, longe de tudo, √© t√£o simples: <br><br><ul><li>  Em primeiro lugar, n√£o h√° fibras suficientes para implementar nosso esquema de destino - duas fibras para cada switch (como lembramos, temos cabos com 4 OV para cada caso) </li><li>  em segundo lugar, mesmo se houver um n√∫mero suficiente de fibras entre os edif√≠cios, as fibras MMF s√£o usadas dentro dos edif√≠cios, o que n√£o nos permitir√° unir as fibras SMF e MMF (estou falando de dist√¢ncias entre edif√≠cios acima de 300-400 metros) </li></ul><br>  Nesses casos, as seguintes op√ß√µes podem ser consideradas: <br><br><ul><li>  fornecimento de cada comutador com fibras SMF: <br><br><ul><li>  se a dist√¢ncia permitir, voc√™ poder√° estender cabos de conex√£o longos adicionais entre os comutadores.  Ao mesmo tempo, usamos cabos de conex√£o de 30 a 50 m de comprimento. </li><li>  executar cabos SMF de capacidade pequena e relativamente baratos entre os arm√°rios </li><li>  como √∫ltimo recurso, use v√°rios conversores SMF-MMF </li></ul></li><li>  Para minimizar as fibras usadas entre os edif√≠cios, voc√™ pode: <br><br><ul><li>  use a funcionalidade de empilhamento dos comutadores de acesso x440-G2 - ao mesmo tempo, use 1 fibra SMF para cada comutador no ch√£o, o que permite que, em vez de 6 fibras e portas, use 3 fibras e portas de cada lado </li><li>  use 2 fibras para conectar o primeiro comutador no ramo e o √∫ltimo.  Agregue os links nos switches de acesso √† borda e use os protocolos STP no anel resultante. </li></ul></li></ul><br><h2>  Endere√ßamento IP </h2><br>  Aqui darei um c√°lculo aproximado de endere√ßamento para o nosso circuito. <br><br>  No momento, temos v√°rias redes de classe B - 172.16.0.0/16.  Ao calcular o espa√ßo de endere√ßo IP, serei guiado pelas seguintes considera√ß√µes: <br><br><ul><li>  4 bits do segundo octeto indicar√£o edif√≠cios - 172.16.0.0/12. </li><li>  Um octeto de 3 indica o n√∫mero do andar do edif√≠cio. </li><li>  3 octetos = 255 ser√£o alocados para links ponto a ponto do equipamento e da rede de controle. </li><li>  um gerenciamento de VLAN por andar para gerenciamento de switches. </li><li>  uma VLAN de usu√°rio por switch (24 portas em m√©dia). </li><li>  uma VLAN de voz por switch (24 portas em m√©dia). </li><li>  uma VLAN para sistema de vigil√¢ncia por v√≠deo por andar. </li><li>  uma vlan para dispositivos Wi-Fi por andar. </li></ul><br>  Eu recebi algo como as seguintes tabelas: <br>  <a href="">rede 172.16.0.0/14</a> <br>  <a href="">rede 172.20.0.0/14</a> <br><br>  Na tabela acima, eu fiz uma separa√ß√£o aproximada de redes entre pr√©dios e pisos, por um lado, e redes (usu√°rio, gerenciamento e servi√ßo), por outro. <br><br>  De fato, a escolha da rede cinza 172.16.0.0/12 n√£o √© a mais ideal, pois nos limita no n√∫mero de redes (de 16 a 31) para edif√≠cios, e tamb√©m h√° escrit√≥rios remotos que tamb√©m precisam cortar blocos de rede, possivelmente mais ideais. haver√° uma op√ß√£o usando redes 10.0.0.0/8 ou compartilhando redes 172.16.0.0/12 (por exemplo, para necessidades e servidores de escrit√≥rio) e 10.0.0.0/8 (para redes de usu√°rios). <br><br>  Em geral, a abordagem para a aloca√ß√£o de redes IP tamb√©m √© modular e √© aconselh√°vel aderir √†s regras para somar sub-redes em uma rede de resumo nos n√≠veis de distribui√ß√£o, bem como em roteadores de borda em filiais remotas.  Isso √© feito por v√°rios motivos: <br><br><ul><li>  minimizar tabelas de roteamento em roteadores </li><li>  para minimizar a sobrecarga dos protocolos de roteamento (todos os tipos de mensagens de atualiza√ß√£o, se as sub-redes estiverem indispon√≠veis) </li><li>  simplificar a administra√ß√£o e melhor legibilidade das redes L3 </li></ul><br>  Embora nos dois primeiros pontos, vale a pena notar que o poder dos roteadores modernos √© muito maior do que os de 15 a 20 anos atr√°s e permite que voc√™ contenha grandes tabelas de roteamento em sua RAM, e a propor√ß√£o de pre√ßo e largura de banda dos canais de comunica√ß√£o diminuiu em compara√ß√£o com com pre√ßos de √©pocas de uso geral dos fluxos E1 / T1 (G.703). <br><br><h2>  Conclus√£o </h2><br>  Amigos, neste artigo, tentei falar brevemente sobre os princ√≠pios b√°sicos do design de redes de campus.  Sim, havia bastante material, e isso apesar do fato de eu n√£o ter tocado em t√≥picos como: <br><br><ul><li>  organiza√ß√£o da fronteira da empresa (e essa √© outra hist√≥ria com seus switches, bordas, firewall, sistemas IPS / IDS, DMZ, VPN e outras coisas) </li><li>  organiza√ß√£o de redes Wi-Fi </li><li>  organiza√ß√£o de redes VoIP </li><li>  organiza√ß√£o do data center </li><li>  seguran√ßa (e esse tamb√©m √© seu pr√≥prio mundo separado, que em termos de volume e requisitos n√£o √© inferior ao design de uma infraestrutura de rede limpa e, √†s vezes, supera-a) </li><li>  engenharia de energia </li><li>  a lista continua e continua </li></ul><br>  De fato, projetar e construir uma rede corporativa √© uma tarefa bastante trabalhosa, exigindo muito tempo e recursos. <br><br>  Mas espero que meu artigo o ajude a avaliar e entender, no n√≠vel inicial, como abordar esta tarefa. <br><br>  Isso est√° longe de ser o √∫ltimo artigo da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Extreme Networks</a> , portanto, fique atento ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telegram</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Facebook</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">VK</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TS Solution Blog</a> )! </li></ul></li></ul></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt475332/">https://habr.com/ru/post/pt475332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt475322/index.html">Osso de pr√≥ximo n√≠vel - Sound Aftershokz Aeropex Review</a></li>
<li><a href="../pt475324/index.html">Programa√ß√£o funcional do ponto de vista do EcmaScript. Composi√ß√£o, Caril, Aplica√ß√£o Parcial</a></li>
<li><a href="../pt475326/index.html">Como os golpistas fazem isso. Ferramentas de trapa√ßa</a></li>
<li><a href="../pt475328/index.html">Opera√ß√£o TA505, parte quatro. G√™meos</a></li>
<li><a href="../pt475330/index.html">Concurso de plug-ins da plataforma Miro com pr√™mio de US $ 21.000</a></li>
<li><a href="../pt475338/index.html">Se voc√™ n√£o possui Python, mas existe um modelo Keras e Java</a></li>
<li><a href="../pt475340/index.html">A AMD apresentou os processadores Threadripper - as CPUs de desktop mais r√°pidas</a></li>
<li><a href="../pt475342/index.html">Andrey Sebrant (Yandex): Neg√≥cios na era da intelig√™ncia artificial</a></li>
<li><a href="../pt475346/index.html">Enquanto o ex√©rcito dos EUA tenta ler mentes</a></li>
<li><a href="../pt475354/index.html">Feliz dia do especialista em seguran√ßa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>