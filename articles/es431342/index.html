<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¢ üßòüèæ üëµüèø Pr√©stamo de auto usado en 1 minuto üíÖüèΩ üç± üåë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En lugar de presentar 


 Como todas las historias interesantes, esta comenz√≥ hace mucho tiempo e inesperadamente. Una vez que nuestro banco asociado ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pr√©stamo de auto usado en 1 minuto</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kolesa/blog/431342/"><p><img src="https://habrastorage.org/webt/sb/mw/tr/sbmwtrme9nvzfag22j8cxpouqzk.jpeg"></p><br><h2 id="vmesto-vvedeniya">  En lugar de presentar </h2><br><p>  Como todas las historias interesantes, esta comenz√≥ hace mucho tiempo e inesperadamente.  Una vez que nuestro banco asociado se nos acerc√≥ y dijo: ‚ÄúChicos, aprendimos a hacer puntajes en nuestro sistema en un minuto.  ¬øQu√© hay de unir fuerzas e integrar proyectos?  Con nosotros, una decisi√≥n y un cr√©dito, con usted, autom√≥viles ".  Decir que fuimos inspirados, ¬°sin decir nada!  ¬°Tuvimos todas las posibilidades de convertirnos en los primeros casi en el mundo que pueden otorgar un pr√©stamo en l√≠nea para un autom√≥vil usado en un minuto (UN MINUTO, CARL)!  A continuaci√≥n, le dir√© lo que surgi√≥, pero primero le dir√© qui√©nes somos, de hecho, NOSOTROS. <a name="habracut"></a></p><br><p><img src="https://habrastorage.org/webt/n7/t5/sl/n7t5sljpvereqprdx0rbocrdm84.jpeg"></p><br><p>  Somos "Ruedas |  Techo |  Market "es la mayor empresa de TI con sede en Kazajst√°n.  Todos los d√≠as, nuestros productos ayudan a seis millones de kazajos a comprar y vender autom√≥viles, apartamentos, cunas y miles de otras cosas.  Kolesa.kz es el recurso y la aplicaci√≥n automotriz m√°s grande; ya lleva varios a√±os ocupando el primer lugar en la calificaci√≥n m√≥vil de Kazajst√°n. </p><br><h2 id="chto-iz-sebya-predstavlyaet-proekt-avtokredit">  ¬øQu√© es el proyecto "Pr√©stamo de autom√≥vil"? </h2><br><p>  Por el momento, la base de autos usados ‚Äã‚Äães 103,400 autos, ¬°m√°s del 60% de ellos est√°n disponibles a cr√©dito! </p><br><div class="spoiler">  <b class="spoiler_title">Como se ve en las fotos</b> <div class="spoiler_text"><h3 id="1-vybiraem-mashinu-kotoruyu-hotim-vzyat-v-kredit">  1. Elija el auto que queremos llevar a cr√©dito </h3><br><p><img src="https://habrastorage.org/webt/j6/ft/id/j6ftidhsd9nk8dsrqghfo5jyfes.png"></p><br><p>  <em>Figura 1. Resultados de b√∫squeda de autom√≥viles disponibles a cr√©dito</em> </p><br><h3 id="2-na-stranice-obyavleniya-vidim-formu-dlya-podachi-zayavki-na-kredit">  2. En la p√°gina de anuncios, vemos un formulario para solicitar un pr√©stamo. </h3><br><p><img src="https://habrastorage.org/webt/qo/ja/cr/qojacrzpfgmut_8xd7-nlbcr-1s.png">  <em>Figura 2. Pantalla de la p√°gina de anuncios</em> </p><br><h3 id="3-vybiraem-period-i-pervonachalnyy-vznos-i-nazhimaem-poluchit-odobrenie">  3. Seleccione el per√≠odo y el pago inicial y haga clic para obtener la aprobaci√≥n </h3><br><p><img src="https://habrastorage.org/webt/yd/ve/ol/ydveol7jxtupaoguc81pyowbsmc.png"><br>  <em>Figura 3. Calculadora de cr√©dito para el anuncio.</em> </p><br><h3 id="4-popadaem-na-formu-gde-nam-nuzhno-vvesti-svoi-kontaktnye-dannye">  4. Llegamos al formulario donde necesitamos ingresar nuestros datos de contacto </h3><br><p><img src="https://habrastorage.org/webt/sq/sk/zj/sqskzj6wk-zophmc7dibyd1teys.png"><br>  <em>Figura 4. Formulario de inicializaci√≥n de una solicitud de pr√©stamo</em> </p><br><p>  Aqu√≠ ingresamos su n√∫mero de tel√©fono m√≥vil Nombre e IIN (en Rusia ser√≠a un TIN) </p><br><h3 id="5-dalee-vam-neobhodimo-vvesti-kod-sms-kotoryy-pridyot-na-ukazannyy-vami-nomer">  5. Luego, debe ingresar el c√≥digo de SMS que llegar√° a su n√∫mero </h3><br><p><img src="https://habrastorage.org/webt/od/ey/kc/odeykcr1vtkveylifnf6oza8xxm.png"><br>  <em>Figura 5. Formulario de confirmaci√≥n de n√∫mero de tel√©fono ingresando SMS</em> </p><br><h3 id="6-posle-etogo-nachinaetsya-sam-process-skoringa-kotoryy-dlitsya-ne-bolee-1-minuty">  6. Despu√©s de eso, comienza el proceso de puntuaci√≥n en s√≠, que no dura m√°s de 1 minuto </h3><br><p><img src="https://habrastorage.org/webt/9s/po/6s/9spo6soaw7vjupijhkpfnehkdyq.png">  <em>Figura 6. Pantalla para el proceso de puntuaci√≥n de la aplicaci√≥n</em> </p><br><h3 id="7-est-neskolko-variantov-rezultata-skoringa">  7. Hay varias opciones para calificar resultados: </h3><br><ol><li>  Apruebas un pr√©stamo </li><li>  Se le niega un pr√©stamo. </li><li>  Se le ofrecen condiciones alternativas. </li><li>  Se le solicita informaci√≥n adicional, despu√©s de lo cual recibe una de las opciones anteriores (a, b, c) </li></ol><br><p><img src="https://habrastorage.org/webt/7s/ba/d_/7sbad_bmbosrd4kcgdt4wa65884.png"><br>  <em>Figura 7. Ejemplo de una pantalla de aprobaci√≥n de pr√©stamo autom√°tico</em> </p><br><p>  Despu√©s de que una persona recibe la aprobaci√≥n de su solicitud, el gerente del banco le devuelve la llamada dentro de los 10 minutos y le informa qu√© medidas debe tomar a continuaci√≥n para obtener un pr√©stamo.  Conveniente, ¬øno es as√≠?  Veamos c√≥mo se implement√≥ todo. </p></div></div><br><h2 id="ty-pomnish-kak-vsyo-nachinalos">  ¬øRecuerdas c√≥mo empez√≥ todo ... </h2><br><p>  ¬°Todo fue por primera vez y otra vez!  Si antes ten√≠amos un formulario de comentarios como un formulario de cr√©dito, entonces nuestra nueva idea era algo completamente nuevo e incomprensible.  Porque  No ten√≠amos an√°logos, ten√≠amos una tarea muy emocionante por delante: planificar, dise√±ar, distribuir e implementar.  Para empezar, dividimos todo el proceso de nuestra integraci√≥n conjunta en 2 bloques, que se llevaron a cabo en paralelo, a saber: </p><br><ul><li>  Integraci√≥n de infraestructura </li><li><p>  Integraci√≥n de software </p><br><p>  Inicialmente, acordamos con el banco asociado que √©l (el banco asociado) nos proporcionar√° alg√∫n tipo de API, a la que enviaremos algunos datos y recibiremos algunas respuestas.  Se decidieron por eso.  ¬°Comenzamos a esperar la documentaci√≥n API del banco, reunimos a nuestros ingenieros de red y a nosotros!  En t√©rminos de integraci√≥n de software, surgi√≥ un esquema bastante simple, enviamos datos al banco, el banco los desplaza en su sistema y nos los devuelve, y todo esto durante 60 segundos garantizados.  En caso de un tiempo de espera (donde podr√≠a ser sin esto), acordamos mostrar un cuestionario de emergencia, en el que obtenemos datos que el banco puede necesitar adicionalmente. </p><br></li></ul><br><h3 id="seti">  Redes </h3><br><p>  En ese momento, mientras los desarrolladores eleg√≠an las herramientas para la implementaci√≥n, dise√±aban su sistema y esperaban la documentaci√≥n del sistema asociado, ¬°el trabajo en el departamento de infraestructura ya estaba en su apogeo!  Mi banco asociado y yo ten√≠amos dos: 2 cisi uno al lado del otro en un DC, un cable que conectaba tsiska, t√∫nel VPN, certificados de seguridad y pribludy para trabajar con ellos de todos los colores y tama√±os ... El plan era el siguiente, reenviamos el canal VPN cifrado entre nuestros servidores, y construir integraci√≥n directa entre nuestros servicios.  Esquem√°ticamente, esto se puede representar de la siguiente manera: </p><br><p><img src="https://habrastorage.org/webt/hl/oy/wn/hloywn-uxue8ceolpvmdodhla5w.png"></p><br><h3 id="pogovorim-pro-kod">  Hablemos del c√≥digo. </h3><br><p>  A continuaci√≥n, hablaremos sobre c√≥mo y qu√© organiza nuestro servicio.  Entonces, despu√©s de recibir un documento que describe el servicio del socio listo para la integraci√≥n, descubrimos que, a diferencia de nosotros, el banco solo trabaja con solicitudes SOAP y no quiere escuchar sobre ning√∫n servicio RESTful.  Y dado que en nuestros servicios usamos SOAP con un poco menos de frecuencia que nunca, tuvimos muchos descubrimientos maravillosos sobre c√≥mo aprender a preparar SOAP en nuestro nuevo producto.  Por lo tanto, necesit√°bamos ense√±ar nuestro servicio para analizar solicitudes SOAP y convertir nuestras respuestas nuevamente a SOAP. </p><br><h4 id="vybora-freymvorka">  Selecci√≥n de marco </h4><br><p>  Para empezar, ten√≠a que elegir al menos un lenguaje de implementaci√≥n, hab√≠a muchas ideas, comenzando con C y C # terminando con golang y erlang.  Decidimos seguir un camino simple.  El sistema deber√° ser compatible, y para no encontrarse con el factor del bus con la falta de especialistas en el mercado, decidimos centrarnos en la tecnolog√≠a m√°s com√∫n en nuestra empresa: PHP.  Gracias a Dios que fuera de la ventana ya no era 2001, sino 2017 y hay tantos frameworks de php que pueden satisfacer las necesidades de incluso ingenieros muy sofisticados.  Despu√©s de pasar por un mont√≥n, elegimos uno de los m√°s simples y al mismo tiempo compatibles: Yii 2. </p><br><p>  <strong>Por esta decisi√≥n fue:</strong> </p><br><ul><li>  F√°cil de dominar, un mont√≥n de literatura; </li><li>  Es bastante f√°cil crear formularios y validadores; </li><li>  Hay un registro activo y un autom√≥vil listo para trabajar con todo tipo de herramientas; </li><li>  El es realmente r√°pido; </li><li>  En base a esto, una API se construye simplemente, es conveniente escribir comandos de consola. </li></ul><br><p>  <strong>Contra fue:</strong> </p><br><ul><li>  El marco se basa en m√©todos est√°ticos; esto es muy inconveniente, incluso al escribir pruebas </li><li>  No estaba claro qu√© herramientas adicionales necesitar√≠amos en el futuro cercano despu√©s del lanzamiento y, como resultado, exist√≠a el riesgo de no encontrar las bibliotecas necesarias ... </li></ul><br><h4 id="vybor-hranilisch">  Selecci√≥n de almacenamiento </h4><br><p>  Se eligi√≥ el marco, ahora es el momento de elegir un repositorio para aplicaciones.  Hab√≠a varias opciones, MySQL, mongoDB, postgreSQL ... Por un lado, una aplicaci√≥n es un documento, lo m√°s probable es que su estructura pueda cambiar, complementada de vez en cuando por nuevos campos y deshacerse de los irrelevantes.  Por otro lado, el uso de bases de datos no relacionales impondr√° sus limitaciones.  Despu√©s de sopesar todos los pros y los contras, decidimos sentarnos en 2 sillas y usar MySQL para iniciar, y despu√©s del lanzamiento migrar a un mont√≥n de mongoDB + ElasticSearch.  Como resultado, 2 r√©plicas de MySQL se generaron como almacenamiento y se atornillaron a la aplicaci√≥n usando ActiveRecord.  Cuando comenzamos la transici√≥n a mongoDB, la cantidad de datos creci√≥ mucho y tom√≥ una tasa de crecimiento tal que hubo otra necesidad de dividir las aplicaciones en repositorios condicionales.  Como una herramienta para la indexaci√≥n de documentos casi en tiempo real, ElasticSearch decidi√≥ utilizar un servicio escrito en Golang - monstache. </p><br><h4 id="stroim-infrastrukturu">  Construyendo infraestructura </h4><br><p>  Decidimos hacer la siguiente infraestructura: 10 backends con la aplicaci√≥n por parte del procesador de la aplicaci√≥n, 2 equilibradores, 2 r√©plicas MySQL, 3 fragmentos el√°sticos de b√∫squeda, 3 r√©plicas mongoDB y 2 r√©plicas de servicio monstache. <img src="https://habrastorage.org/webt/n4/c4/gz/n4c4gzsszplllqrpbxxgd4uhnkw.png"></p><br><h2 id="process">  El proceso </h2><br><p>  En general, el proceso de pr√©stamo de autom√≥vil se puede dividir en 2 partes: </p><br><ol><li>  Para comenzar, necesita encontrar un autom√≥vil adecuado, disponible a cr√©dito.  Lo m√°s probable es que se gu√≠e por su condici√≥n y los t√©rminos del pr√©stamo. </li><li>  Despu√©s de seleccionar un autom√≥vil, debe obtener una aprobaci√≥n de pr√©stamo, para ello deber√° completar una solicitud </li></ol><br><p>  Sobre la implementaci√≥n de la segunda parte, m√°s o menos lo describimos anteriormente, hablemos sobre la implementaci√≥n de la primera parte.  La implementaci√≥n de la primera parte consta de varias subpartes: </p><br><ol><li>  Al buscar un autom√≥vil, una persona debe poder centrarse, adem√°s de los par√°metros t√©cnicos, en la disponibilidad de un autom√≥vil para comprar a cr√©dito y en el pago m√≠nimo mensual.  Para hacer esto, necesitamos saber en el momento del anuncio que el autom√≥vil est√° disponible a cr√©dito y cu√°l ser√° el pago m√≠nimo por √©l. </li><li>  Despu√©s de que una persona haya elegido un autom√≥vil, debemos proporcionarle una calculadora de pr√©stamos, donde pueda elegir el monto del pago inicial y el plazo del pr√©stamo, eligiendo as√≠ el monto de pago mensual m√°s c√≥modo. </li></ol><br><p>  Para este prop√≥sito, se desarroll√≥ un microservicio especial en el lenguaje go.  Su esencia era la siguiente: cuando se env√≠a un anuncio al microservicio, se env√≠a un objeto con todos los datos sobre el autom√≥vil, el microservicio, basado en las reglas que se escriben por separado para √©l, devuelve el pago mensual m√≠nimo para la indexaci√≥n en la b√∫squeda, y tambi√©n devuelve el anticipo m√≠nimo y los plazos aceptables pr√©stamos, que son la base para construir una calculadora de pr√©stamos. </p><br><p><img src="https://habrastorage.org/webt/v3/3s/oj/v33sojevpnsmwuqh8il4vhciili.png"></p><br><p>  Almacenamos las opciones de c√°lculo err√≥neo por adelantado para el pago inicial est√°ndar y los valores de pago mensual.  Esto se hace para cada uno de los per√≠odos de cr√©dito disponibles.  Si una persona cambia el pago inicial (dentro del rango aceptable), el microservicio volver√° a calcular todos los datos.  Si el pago inicial se especifica por debajo de lo permitido, la calculadora mostrar√° un error de validaci√≥n. </p><br><p><img src="https://habrastorage.org/webt/o0/0o/vv/o00ovv3safkjazq87fpkhqvvp2o.png"></p><br><p>  Debido a la alta carga de nuestro servicio, la calculadora de pr√©stamos tiene 2 grados de almacenamiento en cach√©: la primera se realiza en el backend, donde los clientes inicialmente van por la calculadora, la segunda en el microservicio. </p><br><h2 id="tak-chto-v-itoge">  Entonces, ¬øcu√°l es el resultado final? </h2><br><p>  Lanzamos el proyecto el 11 de septiembre de 2017.  Desde ese momento, hasta la fecha (4 de diciembre de 2018), se han presentado 2.973.868 solicitudes.  Estamos en un proceso continuo para mejorar nuestro servicio y simplificar el viaje del usuario.  ¬°Lo hacemos m√°s r√°pido, m√°s f√°cil y m√°s estable!  El tiempo de actividad del proyecto para todo el per√≠odo desde el lanzamiento fue del 99,99%. </p><br><p>  Como resultado, tenemos los siguientes resultados: </p><br><ol><li>  Ruta de usuario significativamente reducida </li><li>  Ampliamos el volumen de autom√≥viles disponibles para pr√©stamos al 60% de toda la base </li><li>  ¬°Hasta la fecha, el n√∫mero de aplicaciones ha crecido m√°s de 7 veces! </li></ol><br><h2 id="vmesto-zaklyucheniya">  En lugar de una conclusi√≥n </h2><br><p>  En 3 meses logramos construir un proyecto verdaderamente sorprendente y √∫nico.  Su objetivo principal era dar a nuestros clientes la oportunidad de comprar autos usados ‚Äã‚Äãsin salir de nuestra plataforma.  En solo 1 minuto, el usuario puede tomar una decisi√≥n sobre su aplicaci√≥n, llamar al vendedor y redactar todos los documentos necesarios el mismo d√≠a. <br>  A juzgar por la cantidad de solicitudes para el a√±o y 2 meses, podemos concluir que podemos hacer que el servicio sea realmente conveniente y demandado. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es431342/">https://habr.com/ru/post/es431342/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es431330/index.html">Fin de semana m√≥vil: transmisi√≥n gratuita de Mobius</a></li>
<li><a href="../es431332/index.html">Descripci√≥n general de los informes DotNext 2018 m√°s interesantes: versi√≥n de EastBanc Technologies</a></li>
<li><a href="../es431334/index.html">Huawei: protecci√≥n del plano de control</a></li>
<li><a href="../es431338/index.html">El libro "ADN. La historia de la revoluci√≥n gen√©tica "</a></li>
<li><a href="../es431340/index.html">Su selecci√≥n de 11 pol√≠gonos, nada que ver con el presente.</a></li>
<li><a href="../es431344/index.html">Ac√∫stica incorporada: qu√© es y c√≥mo funciona</a></li>
<li><a href="../es431346/index.html">Desarrollando una aplicaci√≥n de acci√≥n para Slack</a></li>
<li><a href="../es431348/index.html">Anycubic Photon: una mini descripci√≥n de una impresora 3D de fotopol√≠mero econ√≥mica</a></li>
<li><a href="../es431350/index.html">Planes de desarrollo de procesadores electr√≥nicos Baikal</a></li>
<li><a href="../es431354/index.html">El primer c√≥dec de video de aprendizaje autom√°tico super√≥ dram√°ticamente todos los c√≥decs existentes, incluidos H.265 y VP9</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>