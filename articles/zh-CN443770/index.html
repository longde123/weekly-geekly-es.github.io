<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘‹ğŸ¾ ğŸ•’ ğŸ›ŒğŸ¼ åŸŸé©±åŠ¨è®¾è®¡ï¼šå®è·µä¸­çš„ä»·å€¼å¯¹è±¡å’Œå®ä½“æ¡†æ¶æ ¸å¿ƒ ğŸ‘¼ğŸ¼ ğŸ‘¨ğŸ½â€ğŸ¤ ğŸ“°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨HabrÃ©ä¸Šï¼Œä¸ä»…æ’°å†™äº†å¾ˆå¤šæœ‰å…³åŸŸé©±åŠ¨è®¾è®¡çš„æ–‡ç« ï¼ŒåŒ…æ‹¬æœ‰å…³ä½“ç³»ç»“æ„çš„ä¸€èˆ¬æ€§æ–‡ç« ï¼Œä»¥åŠæœ‰å…³.Netçš„ç¤ºä¾‹ã€‚ ä½†æ˜¯ä¸æ­¤åŒæ—¶ï¼Œç»å¸¸å¾ˆå°‘æåŠè¯¥ä½“ç³»ç»“æ„ä¸­åƒValue Objectsè¿™æ ·é‡è¦çš„éƒ¨åˆ†ã€‚ 

 åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•å‘ç°ä½¿ç”¨å®ä½“æ¡†æ¶æ ¸å¿ƒåœ¨.Net Coreä¸­å®ç°å€¼å¯¹è±¡çš„ç»†å¾®å·®åˆ«ã€‚ 

 åœ¨çŒ«ä¸‹ï¼Œæœ‰å¾ˆ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>åŸŸé©±åŠ¨è®¾è®¡ï¼šå®è·µä¸­çš„ä»·å€¼å¯¹è±¡å’Œå®ä½“æ¡†æ¶æ ¸å¿ƒ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443770/"> åœ¨HabrÃ©ä¸Šï¼Œä¸ä»…æ’°å†™äº†å¾ˆå¤šæœ‰å…³åŸŸé©±åŠ¨è®¾è®¡çš„æ–‡ç« ï¼ŒåŒ…æ‹¬æœ‰å…³ä½“ç³»ç»“æ„çš„ä¸€èˆ¬æ€§æ–‡ç« ï¼Œä»¥åŠæœ‰å…³.Netçš„ç¤ºä¾‹ã€‚ ä½†æ˜¯ä¸æ­¤åŒæ—¶ï¼Œç»å¸¸å¾ˆå°‘æåŠè¯¥ä½“ç³»ç»“æ„ä¸­åƒValue Objectsè¿™æ ·é‡è¦çš„éƒ¨åˆ†ã€‚ <br><br> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å°è¯•å‘ç°ä½¿ç”¨å®ä½“æ¡†æ¶æ ¸å¿ƒåœ¨.Net Coreä¸­å®ç°å€¼å¯¹è±¡çš„ç»†å¾®å·®åˆ«ã€‚ <br><br> åœ¨çŒ«ä¸‹ï¼Œæœ‰å¾ˆå¤šä»£ç ã€‚ <br><a name="habracut"></a><br><h2> ä¸€ç‚¹ç†è®º </h2><br> åŸŸé©±åŠ¨è®¾è®¡çš„ä½“ç³»ç»“æ„çš„æ ¸å¿ƒæ˜¯<b>åŸŸ</b> -è¦å¼€å‘çš„è½¯ä»¶æ‰€åº”ç”¨çš„ä¸»é¢˜é¢†åŸŸã€‚ è¿™æ˜¯åº”ç”¨ç¨‹åºçš„æ•´ä¸ªä¸šåŠ¡é€»è¾‘ï¼Œé€šå¸¸ä¸å„ç§æ•°æ®äº¤äº’ã€‚ æ•°æ®å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼š <br><br><ul><li> å®ä½“å¯¹è±¡ </li><li> å€¼å¯¹è±¡ï¼ˆä»¥ä¸‹ç§°ä¸ºVOï¼‰ </li></ul><br>  <b>å®ä½“å¯¹è±¡</b>åœ¨ä¸šåŠ¡é€»è¾‘ä¸­å®šä¹‰ä¸€ä¸ªå®ä½“ï¼Œå¹¶ä¸”å§‹ç»ˆå…·æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œé€šè¿‡è¯¥æ ‡è¯†ç¬¦å¯ä»¥æ‰¾åˆ°è¯¥å®ä½“æˆ–å°†å…¶ä¸å¦ä¸€ä¸ªå®ä½“è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœä¸¤ä¸ªå®ä½“å…·æœ‰ç›¸åŒçš„æ ‡è¯†ç¬¦ï¼Œåˆ™è¿™æ˜¯ç›¸åŒçš„å®ä½“ã€‚ å‡ ä¹æ€»æ˜¯åœ¨å˜åŒ–ã€‚ <br>  <b>å€¼å¯¹è±¡</b>æ˜¯ä¸€ç§ä¸å¯å˜çš„ç±»å‹ï¼Œå…¶å€¼åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­è®¾ç½®ï¼Œå¹¶ä¸”åœ¨å¯¹è±¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½ä¸ä¼šæ”¹å˜ã€‚ å®ƒæ²¡æœ‰æ ‡è¯†ç¬¦ã€‚ å¦‚æœä¸¤ä¸ªVOåœ¨ç»“æ„ä¸Šç›¸åŒï¼Œåˆ™å®ƒä»¬æ˜¯ç­‰æ•ˆçš„ã€‚ <br><br> å®ä½“å¯ä»¥åŒ…å«å…¶ä»–å®ä½“å’ŒVOã€‚  VOå¯ä»¥åŒ…æ‹¬å…¶ä»–VOï¼Œä½†ä¸åŒ…æ‹¬å®ä½“ã€‚ <br><br> å› æ­¤ï¼ŒåŸŸé€»è¾‘åº”ä»…ä¸Entityå’ŒVOé…åˆä½¿ç”¨-è¿™ä¿è¯äº†å…¶ä¸€è‡´æ€§ã€‚ åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ï¼Œæ•´æ•°ç­‰ã€‚ é€šå¸¸ï¼Œå®ƒä»¬ä¸èƒ½å……å½“VOï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç®€å•åœ°è¿ååŸŸçš„çŠ¶æ€-è¿™åœ¨DDDæ¡†æ¶ä¸­å‡ ä¹æ˜¯ä¸€åœºç¾éš¾ã€‚ <br><br> ä¸€ä¸ªä¾‹å­ã€‚ åœ¨å„ç§æ‰‹å†Œä¸­ï¼Œç»å¸¸è®©æ¯ä¸ªäººéƒ½è®¨åŒçš„Personç±»å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Person</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Name { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Age { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br> ç®€å•æ˜äº†-æ ‡è¯†ç¬¦ï¼Œåç§°å’Œå¹´é¾„ï¼Œæ‚¨åœ¨å“ªé‡Œå¯ä»¥çŠ¯é”™è¯¯ï¼Ÿ <br><br> è€Œä¸”è¿™é‡Œå¯èƒ½å­˜åœ¨ä¸€äº›é”™è¯¯-ä¾‹å¦‚ï¼Œä»ä¸šåŠ¡é€»è¾‘çš„è§’åº¦æ¥çœ‹ï¼Œåç§°æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œåç§°ä¸èƒ½ä¸ºé›¶é•¿åº¦æˆ–è¶…è¿‡100ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”ä¸åº”åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œæ ‡ç‚¹ç¬¦å·ç­‰ã€‚ å¹´é¾„ä¸èƒ½å°äº10æˆ–å¤§äº120å²ã€‚ <br><br> ä»ç¼–ç¨‹è¯­è¨€çš„è§’åº¦æ¥çœ‹ï¼Œ5æ˜¯ä¸€ä¸ªå®Œå…¨æ­£å¸¸çš„æ•´æ•°ï¼Œç±»ä¼¼åœ°æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚ ä½†æ˜¯åŸŸå·²ç»å¤„äºé”™è¯¯çŠ¶æ€ã€‚ <br><br><h2> è®©æˆ‘ä»¬ç»§ç»­ç»ƒä¹  </h2><br> è‡³æ­¤ï¼Œæˆ‘ä»¬çŸ¥é“VOå¿…é¡»æ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”åŒ…å«å¯¹ä¸šåŠ¡é€»è¾‘æœ‰æ•ˆçš„å€¼ã€‚ <br><br> é€šè¿‡åœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–readonlyå±æ€§æ¥å®ç°å…ç–«ã€‚ <br> å€¼çš„éªŒè¯å‘ç”Ÿåœ¨æ„é€ å‡½æ•°ï¼ˆGuardå­å¥ï¼‰ä¸­ã€‚ å¸Œæœ›ä½¿éªŒè¯æœ¬èº«å¯ä»¥å…¬å¼€ä½¿ç”¨-ä»¥ä¾¿å…¶ä»–å±‚å¯ä»¥éªŒè¯ä»å®¢æˆ·ç«¯ï¼ˆåŒä¸€æµè§ˆå™¨ï¼‰æ¥æ”¶åˆ°çš„æ•°æ®ã€‚ <br><br> è®©æˆ‘ä»¬ä¸ºå§“åå’Œå¹´é¾„åˆ›å»ºä¸€ä¸ªVOã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä»»åŠ¡å¤æ‚åŒ–äº†-æ·»åŠ ä¸€ä¸ªå°†FirstNameå’ŒLastNameç»„åˆåœ¨ä¸€èµ·çš„PersonalNameï¼Œå¹¶å°†å…¶åº”ç”¨äºPersonã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">åç§°</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Name</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Regex ValidationRegex = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Regex( <span class="hljs-string"><span class="hljs-string">@"^[\p{L}\p{M}\p{N}]{1,100}\z"</span></span>, RegexOptions.Singleline | RegexOptions.Compiled); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Name</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!IsValid(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Name is not valid"</span></span>); } Value = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsValid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">String </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> !String.IsNullOrWhiteSpace(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>) &amp;&amp; ValidationRegex.IsMatch(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> Boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Object obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Name other &amp;&amp; StringComparer.Ordinal.Equals(Value, other.Value); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> Int32 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> StringComparer.Ordinal.GetHashCode(Value); } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">äººå</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PersonalName</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PersonalName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PersonalName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Name firstName, Name lastName</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (firstName == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(firstName)); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lastName == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(lastName)); } FirstName = firstName; LastName = lastName; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Name FirstName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Name LastName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String FullName =&gt; <span class="hljs-string"><span class="hljs-string">$"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{FirstName}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{LastName}</span></span></span><span class="hljs-string">"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> Boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Object obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> PersonalName personalName &amp;&amp; EqualityComparer&lt;Name&gt;.Default.Equals(FirstName, personalName.FirstName) &amp;&amp; EqualityComparer&lt;Name&gt;.Default.Equals(LastName, personalName.LastName); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> Int32 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HashCode.Combine(FirstName, LastName); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToString</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> FullName; } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">å¹´é¾„</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Age</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Age</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Int32 </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!IsValid(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Age is not valid"</span></span>); } Value = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Int32 Value { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IsValid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Int32 </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">value</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> &lt;= <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> &lt;= <span class="hljs-number"><span class="hljs-number">120</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> Boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Equals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Object obj</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> obj <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Age other &amp;&amp; Value == other.Value; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> Int32 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetHashCode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Value.GetHashCode(); } }</code> </pre> <br></div></div><br> æœ€åæ˜¯äººï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Person</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Person</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PersonalName personalName, Age age</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (personalName == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(personalName)); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (age == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(age)); } Id = Guid.NewGuid(); PersonalName= personalName; Age = age; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Guid Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> PersonalName PersonalName{ <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Age Age { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br> å› æ­¤ï¼Œæˆ‘ä»¬æ— æ³•åˆ›å»ºæ²¡æœ‰å…¨åæˆ–å¹´é¾„çš„äººã€‚ åŒæ ·ï¼Œæˆ‘ä»¬ä¸èƒ½åˆ›å»ºâ€œé”™è¯¯â€åç§°æˆ–â€œé”™è¯¯â€å¹´é¾„ã€‚ ä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜è‚¯å®šä¼šä½¿ç”¨Name.IsValidï¼ˆâ€œ Johnâ€ï¼‰å’ŒAge.IsValidï¼ˆ35ï¼‰æ–¹æ³•åœ¨æ§åˆ¶å™¨ä¸­æ£€æŸ¥æ¥æ”¶åˆ°çš„æ•°æ®ï¼Œå¹¶åœ¨æ•°æ®ä¸æ­£ç¡®çš„æƒ…å†µä¸‹å°†è¿™ä¸€æƒ…å†µé€šçŸ¥å®¢æˆ·ã€‚ <br><br> å¦‚æœæˆ‘ä»¬åœ¨æ¨¡å‹ä¸­çš„ä»»ä½•åœ°æ–¹åˆ¶å®šä¸€æ¡ä»…ä½¿ç”¨å®ä½“å’ŒVOçš„è§„åˆ™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¿æŠ¤è‡ªå·±å…å—å¤§é‡é”™è¯¯çš„ä¾µå®³-é”™è¯¯çš„æ•°æ®æ ¹æœ¬ä¸ä¼šè¿›å…¥æ¨¡å‹ã€‚ <br><br><h2> åšæŒä¸æ‡ˆ </h2><br> ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„æ•°æ®ä¿å­˜åœ¨æ•°æ®ä»“åº“ä¸­ï¼Œå¹¶æ ¹æ®éœ€è¦è·å–å®ƒã€‚ æˆ‘ä»¬å°†ä½¿ç”¨å®ä½“æ¡†æ¶æ ¸å¿ƒä½œä¸ºORMï¼Œæ•°æ®ä»“åº“ä¸ºMS SQL Serverã€‚ <br><br>  DDDæ˜ç¡®å®šä¹‰ï¼šæŒä¹…æ€§æ˜¯åŸºç¡€ç»“æ„å±‚çš„ä¸€ä¸ªå­ç±»ï¼Œå› ä¸ºå®ƒéšè—äº†æ•°æ®è®¿é—®çš„ç‰¹å®šå®ç°ã€‚ <br><br> è¯¥åŸŸä¸éœ€è¦äº†è§£æœ‰å…³æŒä¹…æ€§çš„ä»»ä½•ä¿¡æ¯ï¼Œè¿™ä»…å†³å®šå­˜å‚¨åº“çš„æ¥å£ã€‚ <br><br> æŒä¹…æ€§åŒ…å«ç‰¹å®šçš„å®ç°ï¼Œæ˜ å°„é…ç½®ä»¥åŠUnitOfWorkå¯¹è±¡ã€‚ <br><br> æ˜¯å¦å€¼å¾—åˆ›å»ºå­˜å‚¨åº“å’Œå·¥ä½œå•å…ƒæœ‰ä¸¤ç§æ„è§ã€‚ <br><br> ä¸€æ–¹é¢-ä¸ï¼Œæ²¡æœ‰å¿…è¦ï¼Œå› ä¸ºåœ¨Entity Framework Coreä¸­ï¼Œè¿™å·²ç»å…¨éƒ¨å®ç°ã€‚ å¦‚æœæˆ‘ä»¬å…·æœ‰åŸºäºæ•°æ®å­˜å‚¨çš„DAL-&gt;ä¸šåŠ¡é€»è¾‘-&gt;è¡¨ç¤ºå½¢å¼çš„å¤šçº§ä½“ç³»ç»“æ„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨EF Coreçš„åŠŸèƒ½ã€‚ <br><br> ä½†æ˜¯DDDä¸­çš„åŸŸå¹¶ä¸ä¾èµ–äºæ•°æ®å­˜å‚¨å’Œæ‰€ç”¨çš„ORMï¼Œè¿™äº›éƒ½æ˜¯å®ç°çš„ç²¾å¦™ä¹‹å¤„ï¼Œå®ƒä»¬å°è£…åœ¨Persistenceä¸­ï¼Œå…¶ä»–ä»»ä½•äººéƒ½ä¸ä¼šæ„Ÿå…´è¶£ã€‚ å¦‚æœæˆ‘ä»¬å°†DbContextæä¾›ç»™å…¶ä»–å±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ç«‹å³å…¬å¼€å®ç°ç»†èŠ‚ï¼Œå°†å…¶ç´§å¯†ç»‘å®šåˆ°æ‰€é€‰çš„ORMå¹¶è·å¾—DAL-ä½œä¸ºæ‰€æœ‰ä¸šåŠ¡é€»è¾‘çš„åŸºç¡€ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚ ç²—ç•¥åœ°è¯´ï¼ŒåŸŸä¸åº”æ³¨æ„åˆ°ORMå‘ç”Ÿäº†å˜åŒ–ï¼Œç”šè‡³ä¸åº”æ³¨æ„åˆ°æŒä¹…æ€§ä¸§å¤±äº†ä¸€å±‚ã€‚ <br><br> å› æ­¤ï¼ŒåŸŸä¸­çš„äººå‘˜å­˜å‚¨åº“æ¥å£ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">IPersons</span></span> { <span class="hljs-function"><span class="hljs-function">Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Person person</span></span></span><span class="hljs-function">)</span></span>; Task&lt;IReadOnlyList&lt;Person&gt;&gt; GetList(); }</code> </pre> <br> åŠå…¶åœ¨æŒä¹…æ€§ä¸­çš„å®ç°ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">EfPersons</span></span> : <span class="hljs-title"><span class="hljs-title">IPersons</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> PersonsDemoContext _context; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EfPersons</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">UnitOfWork unitOfWork</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (unitOfWork == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(unitOfWork)); } _context = unitOfWork.Context; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Person person</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (person == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(person)); } <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _context.Persons.AddAsync(person); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> Task&lt;IReadOnlyList&lt;Person&gt;&gt; GetList() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _context.Persons.ToListAsync(); } }</code> </pre> <br> ä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆå¤æ‚çš„ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ã€‚ å¼€ç®±å³ç”¨çš„Entity Framework Coreä»…é€‚ç”¨äºåŸºæœ¬ç±»å‹ï¼ˆå­—ç¬¦ä¸²ï¼Œæ•´æ•°ï¼Œæ—¥æœŸæ—¶é—´ç­‰ï¼‰ï¼Œå¹¶ä¸”å¯¹PersonalNameå’ŒAgeä¸äº†è§£ã€‚ è®©æˆ‘ä»¬æ•™EF Coreäº†è§£æˆ‘ä»¬çš„ä»·å€¼ç›®æ ‡ã€‚ <br><br><h2> æ„å‹ </h2><br>  Fluent APIæœ€é€‚åˆåœ¨DDDä¸­é…ç½®å®ä½“ã€‚ å±æ€§ä¸åˆé€‚ï¼Œå› ä¸ºåŸŸä¸éœ€è¦äº†è§£æœ‰å…³æ˜ å°„ç»†å¾®å·®åˆ«çš„ä»»ä½•ä¿¡æ¯ã€‚ <br><br> ä½¿ç”¨åŸºæœ¬é…ç½®PersonConfigurationåœ¨Persistenceä¸­åˆ›å»ºä¸€ä¸ªç±»ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PersonConfiguration</span></span> : <span class="hljs-title"><span class="hljs-title">IEntityTypeConfiguration</span></span>&lt;<span class="hljs-title"><span class="hljs-title">Person</span></span>&gt; { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Configure</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">EntityTypeBuilder&lt;Person&gt; builder</span></span></span><span class="hljs-function">)</span></span> { builder.ToTable(<span class="hljs-string"><span class="hljs-string">"Persons"</span></span>); builder.HasKey(p =&gt; p.Id); builder.Property(p =&gt; p.Id).ValueGeneratedNever(); } }</code> </pre> <br> å¹¶å°†å…¶æ’å…¥DbContextä¸­ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnModelCreating</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ModelBuilder builder</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.OnModelCreating(builder); builder.ApplyConfiguration(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PersonConfiguration()); }</code> </pre> <br><h2> åˆ¶å›¾ </h2><br> ç¼–å†™æœ¬ææ–™çš„éƒ¨åˆ†ã€‚ <br><br> ç›®å‰ï¼Œæœ‰ä¸¤ç§æˆ–å¤šæˆ–å°‘çš„ä¾¿æ·æ–¹æ³•å¯å°†éæ ‡å‡†ç±»æ˜ å°„åˆ°åŸºæœ¬ç±»å‹-å€¼è½¬æ¢å’Œæ‹¥æœ‰çš„ç±»å‹ã€‚ <br><br><h3> ä»·å€¼è½¬æ¢ </h3><br> æ­¤åŠŸèƒ½å‡ºç°åœ¨Entity Framework Core 2.1ä¸­ï¼Œä½¿æ‚¨å¯ä»¥ç¡®å®šä¸¤ç§æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚ <br><br> è®©æˆ‘ä»¬ä¸ºAgeç¼–å†™è½¬æ¢å™¨ï¼ˆåœ¨æœ¬èŠ‚ä¸­ï¼Œæ‰€æœ‰ä»£ç éƒ½åœ¨PersonConfigurationä¸­ï¼‰ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ageConverter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ValueConverter&lt;Age, Int32&gt;( v =&gt; v.Value, v =&gt; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Age(v)); builder .Property(p =&gt; p.Age) .HasConversion(ageConverter) .HasColumnName(<span class="hljs-string"><span class="hljs-string">"Age"</span></span>) .HasColumnType(<span class="hljs-string"><span class="hljs-string">"int"</span></span>) .IsRequired();</code> </pre><br> ç®€å•ç®€æ´çš„è¯­æ³•ï¼Œä½†å¹¶éæ²¡æœ‰ç¼ºé™·ï¼š <br><br><ol><li> æ— æ³•è½¬æ¢ä¸ºnullï¼› </li><li> æ— æ³•å°†å•ä¸ªå±æ€§è½¬æ¢ä¸ºè¡¨ä¸­çš„å¤šä¸ªåˆ—ï¼Œåä¹‹äº¦ç„¶ï¼› </li><li>  EF Coreæ— æ³•å°†å…·æœ‰æ­¤å±æ€§çš„LINQè¡¨è¾¾å¼è½¬æ¢ä¸ºSQLæŸ¥è¯¢ã€‚ </li></ol><br> æˆ‘å°†æ›´è¯¦ç»†åœ°è®¨è®ºæœ€åä¸€ç‚¹ã€‚ å‘å­˜å‚¨åº“ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ç»™å®šå¹´é¾„çš„Personåˆ—è¡¨ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> Task&lt;IReadOnlyList&lt;Person&gt;&gt; GetOlderThan(Age age) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (age == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(age)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _context.Persons .Where(p =&gt; p.Age.Value &gt; age.Value) .ToListAsync(); }</code> </pre> <br> å¹´é¾„æ˜¯æœ‰æ¡ä»¶çš„ï¼Œä½†æ˜¯EF Coreå°†æ— æ³•å°†å…¶è½¬æ¢ä¸ºSQLæŸ¥è¯¢ï¼Œå¹¶ä¸”åˆ°è¾¾Whereï¼ˆï¼‰æ—¶ï¼Œå®ƒå°†æŠŠæ•´ä¸ªè¡¨åŠ è½½åˆ°åº”ç”¨ç¨‹åºå†…å­˜ä¸­ï¼Œåªæœ‰ä½¿ç”¨LINQï¼Œå®ƒæ‰èƒ½æ»¡è¶³æ¡ä»¶p.Age.Value&gt; age.Valueã€‚ ã€‚ <br><br> é€šå¸¸ï¼Œâ€œå€¼è½¬æ¢â€æ˜¯ä¸€ä¸ªç®€å•è€Œå¿«é€Ÿçš„æ˜ å°„é€‰é¡¹ï¼Œä½†æ‚¨éœ€è¦è®°ä½EF Coreçš„æ­¤åŠŸèƒ½ï¼Œå¦åˆ™ï¼Œåœ¨æŸäº›æ—¶å€™ï¼ŒæŸ¥è¯¢å¤§è¡¨æ—¶ï¼Œå†…å­˜å¯èƒ½ä¼šç”¨å®Œã€‚ <br><br><h3> æ‰€å±ç±»å‹ </h3><br> æ‹¥æœ‰çš„ç±»å‹å‡ºç°åœ¨Entity Framework Core 2.0ä¸­ï¼Œå¹¶å–ä»£äº†å¸¸è§„Entity Frameworkä¸­çš„â€œå¤æ‚ç±»å‹â€ã€‚ <br><br> è®©æˆ‘ä»¬å°†å¹´é¾„è®¾ç½®ä¸ºæ‹¥æœ‰ç±»å‹ï¼š <br><br><pre> <code class="cs hljs">builder.OwnsOne(p =&gt; p.Age, a =&gt; { a.Property(u =&gt; u.Value).HasColumnName(<span class="hljs-string"><span class="hljs-string">"Age"</span></span>); a.Property(u =&gt; u.Value).HasColumnType(<span class="hljs-string"><span class="hljs-string">"int"</span></span>); a.Property(u =&gt; u.Value).IsRequired(); });</code> </pre> <br> è¿˜ä¸é”™ æ‹¥æœ‰ç±»å‹ä¸å…·æœ‰å€¼è½¬æ¢çš„æŸäº›ç¼ºç‚¹ï¼Œå³ç¬¬2ç‚¹å’Œç¬¬3ç‚¹ã€‚ <br><br>  2. <u>å¯ä»¥</u>å°†ä¸€ä¸ªå±æ€§è½¬æ¢ä¸ºè¡¨ä¸­çš„å‡ åˆ—ï¼Œåä¹‹äº¦ç„¶ <br><br> æ‚¨éœ€è¦çš„PersonalNameï¼Œå°½ç®¡è¯­æ³•å·²ç»æœ‰ç‚¹é‡è½½äº†ï¼š <br><br><pre> <code class="cs hljs">builder.OwnsOne(b =&gt; b.PersonalName, pn =&gt; { pn.OwnsOne(p =&gt; p.FirstName, fn =&gt; { fn.Property(x =&gt; x.Value).HasColumnName(<span class="hljs-string"><span class="hljs-string">"FirstName"</span></span>); fn.Property(x =&gt; x.Value).HasColumnType(<span class="hljs-string"><span class="hljs-string">"nvarchar(100)"</span></span>); fn.Property(x =&gt; x.Value).IsRequired(); }); pn.OwnsOne(p =&gt; p.LastName, ln =&gt; { ln.Property(x =&gt; x.Value).HasColumnName(<span class="hljs-string"><span class="hljs-string">"LastName"</span></span>); ln.Property(x =&gt; x.Value).HasColumnType(<span class="hljs-string"><span class="hljs-string">"nvarchar(100)"</span></span>); ln.Property(x =&gt; x.Value).IsRequired(); }); });</code> </pre> <br>  3. EF Core <u>å¯ä»¥</u>å°†å…·æœ‰æ­¤å±æ€§çš„LINQè¡¨è¾¾å¼è½¬æ¢ä¸ºSQLæŸ¥è¯¢ã€‚ <br> åŠ è½½åˆ—è¡¨æ—¶æ·»åŠ æŒ‰å§“æ°å’Œåå­—æ’åºï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> Task&lt;IReadOnlyList&lt;Person&gt;&gt; GetList() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _context.Persons .OrderBy(p =&gt; p.PersonalName.LastName.Value) .ThenBy(p =&gt; p.PersonalName.FirstName.Value) .ToListAsync(); }</code> </pre> <br> è¿™æ ·çš„è¡¨è¾¾å¼å°†æ­£ç¡®åœ°è½¬æ¢ä¸ºSQLæŸ¥è¯¢ï¼Œå¹¶ä¸”åœ¨SQL Serverç«¯è€Œä¸æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­æ‰§è¡Œæ’åºã€‚ <br><br> å½“ç„¶ï¼Œä¹Ÿæœ‰ç¼ºç‚¹ã€‚ <br><br><ol><li>  nullçš„é—®é¢˜å°šæœªæ¶ˆå¤±ã€‚ </li><li>  â€œæ‹¥æœ‰çš„ç±»å‹â€å­—æ®µä¸èƒ½ä¸ºåªè¯»ï¼Œå¹¶ä¸”å¿…é¡»å…·æœ‰å—ä¿æŠ¤çš„æˆ–ç§æœ‰çš„è®¾ç½®å™¨ã€‚ </li><li> æ‹¥æœ‰çš„ç±»å‹è¢«å®ç°ä¸ºå¸¸è§„å®ä½“ï¼Œè¿™æ„å‘³ç€ï¼š <br><ul><li> å®ƒä»¬æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ˆä¾‹å¦‚shadowå±æ€§ï¼Œå³å®ƒä¸å‡ºç°åœ¨domainç±»ä¸­ï¼‰ï¼› </li><li>  EF Coreè·Ÿè¸ªæ‹¥æœ‰ç±»å‹ä¸­çš„æ‰€æœ‰æ›´æ”¹ï¼Œä¸å¸¸è§„å®ä½“å®Œå…¨ç›¸åŒã€‚ </li></ul></li></ol><br> ä¸€æ–¹é¢ï¼Œè¿™æ ¹æœ¬ä¸æ˜¯å€¼å¯¹è±¡åº”å…·æœ‰çš„åŠŸèƒ½ã€‚ å®ƒä»¬ä¸èƒ½æœ‰ä»»ä½•æ ‡è¯†ç¬¦ã€‚ ä¸åº”è·Ÿè¸ªVOçš„æ›´æ”¹-å› ä¸ºå®ƒä»¬æœ€åˆæ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤åº”è·Ÿè¸ªçˆ¶å®ä½“çš„å±æ€§ï¼Œè€Œä¸æ˜¯VOçš„å±æ€§ã€‚ <br><br> å¦ä¸€æ–¹é¢ï¼Œè¿™äº›æ˜¯å¯ä»¥çœç•¥çš„å®ç°ç»†èŠ‚ï¼Œä½†åŒæ ·ï¼Œè¯·ä¸è¦å¿˜è®°ã€‚ è·Ÿè¸ªæ›´æ”¹ä¼šå½±å“æ€§èƒ½ã€‚ å¦‚æœåœ¨é€‰æ‹©å•ä¸ªå®ä½“ï¼ˆä¾‹å¦‚ï¼ŒæŒ‰IDï¼‰æˆ–è¾ƒå°åˆ—è¡¨æ—¶ä¸æ˜æ˜¾ï¼Œç„¶åå¯¹â€œé‡â€å®ä½“çš„å¤§åˆ—è¡¨ï¼ˆè®¸å¤šVOå±æ€§ï¼‰è¿›è¡Œé‡‡æ ·ï¼Œåˆ™ç”±äºè·Ÿè¸ªï¼Œæ€§èƒ½ä¸‹é™å°†éå¸¸æ˜æ˜¾ã€‚ <br><br><h2> ç®€æŠ¥ </h2><br> æˆ‘ä»¬å¼„æ¸…æ¥šäº†å¦‚ä½•åœ¨åŸŸå’Œå­˜å‚¨åº“ä¸­å®ç°å€¼å¯¹è±¡ã€‚ ç°åœ¨è¯¥ä½¿ç”¨æ‰€æœ‰å†…å®¹äº†ã€‚ è®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªç®€å•çš„é¡µé¢-å¸¦æœ‰â€œäººâ€åˆ—è¡¨å’Œç”¨äºæ·»åŠ â€œäººâ€çš„è¡¨å•ã€‚ <br><br> æ²¡æœ‰Actionæ–¹æ³•çš„æ§åˆ¶å™¨ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">HomeController</span></span> : <span class="hljs-title"><span class="hljs-title">Controller</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> IPersons _persons; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> UnitOfWork _unitOfWork; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HomeController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IPersons persons, UnitOfWork unitOfWork</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (persons == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(persons)); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (unitOfWork == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(unitOfWork)); } _persons = persons; _unitOfWork = unitOfWork; } <span class="hljs-comment"><span class="hljs-comment">// Actions private static PersonModel CreateModel(Person person) { return new PersonModel { FirstName = person.PersonalName.FirstName.Value, LastName = person.PersonalName.LastName.Value, Age = person.Age.Value }; } }</span></span></code> </pre> <br> æ·»åŠ æ“ä½œä»¥è·å–â€œäººå‘˜â€åˆ—è¡¨ï¼š <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">HttpGet</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;IActionResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> persons = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _persons.GetList(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PersonsListModel { Persons = persons .Select(CreateModel) .ToArray() }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(result); }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">æ£€è§†</b> <div class="spoiler_text"><pre> <code class="xml hljs">@model PersonsListModel @{ ViewData["Title"] = "Persons List"; } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-center"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span>Persons<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"table"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">thead</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>Last name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>First name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>Age<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">thead</span></span></span><span class="hljs-tag">&gt;</span></span> @foreach (var p in Model.Persons) { <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>@p.LastName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>@p.FirstName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span>@p.Age<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> } <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br> æ²¡ä»€ä¹ˆå¤æ‚çš„-æˆ‘ä»¬åŠ è½½äº†åˆ—è¡¨ï¼Œä¸ºæ¯ä¸ªåˆ—è¡¨åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆPersonModelï¼‰ <br><br> äººå‘˜å¹¶å‘é€åˆ°ç›¸åº”çš„è§†å›¾ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ç»“æœ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/-j/n0/qu/-jn0qugs50smvtry852ljdmedte.png"><br></div></div><br> æ›´æœ‰è¶£çš„æ˜¯Personçš„æ·»åŠ ï¼š <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">HttpPost</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">async</span></span></span><span class="hljs-function"> Task&lt;IActionResult&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddPerson</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">PersonModel model</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (model == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BadRequest(); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Name.IsValid(model.FirstName)) { ModelState.AddModelError(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(model.FirstName), <span class="hljs-string"><span class="hljs-string">"FirstName is invalid"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Name.IsValid(model.LastName)) { ModelState.AddModelError(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(model.LastName), <span class="hljs-string"><span class="hljs-string">"LastName is invalid"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Age.IsValid(model.Age)) { ModelState.AddModelError(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(model.Age), <span class="hljs-string"><span class="hljs-string">"Age is invalid"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ModelState.IsValid) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Name(model.FirstName); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastName = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Name(model.LastName); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> person = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PersonalName(firstName, lastName), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Age(model.Age)); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _persons.Add(person); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _unitOfWork.Commit(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> persons = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> _persons.GetList(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PersonsListModel { Persons = persons .Select(CreateModel) .ToArray() }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(<span class="hljs-string"><span class="hljs-string">"Index"</span></span>, result); }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">æ£€è§†</b> <div class="spoiler_text"><pre> <code class="xml hljs">@model PersonDemo.Models.PersonModel @{ ViewData["Title"] = "Add Person"; } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span>Add Person<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"row"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"col-md-4"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AddPerson"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-validation-summary</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModelOnly"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-danger"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-group"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FirstName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FirstName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-validation-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"FirstName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-danger"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-group"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LastName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LastName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-validation-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LastName"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-danger"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-group"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Age"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">label</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Age"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-control"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">asp-validation-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Age"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-danger"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"form-group"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Create"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn btn-primary"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> @section Scripts { @{await Html.RenderPartialAsync("_ValidationScriptsPartial");} }</code> </pre> <br></div></div><br> å¿…é¡»å¯¹ä¼ å…¥æ•°æ®è¿›è¡ŒéªŒè¯ï¼š <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Name.IsValid(model.FirstName)) { ModelState.AddModelError(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(model.FirstName), <span class="hljs-string"><span class="hljs-string">"FirstName is invalid"</span></span>); }</code> </pre> <br> å¦‚æœä¸è¿™æ ·åšï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºå…·æœ‰é”™è¯¯å€¼çš„VOæ—¶ï¼Œå°†å¼•å‘ArgumentExceptionï¼ˆè®°ä½VOæ„é€ å‡½æ•°ä¸­çš„Guardå­å¥ï¼‰ã€‚ é€šè¿‡éªŒè¯ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å‘ç”¨æˆ·å‘é€ä¸€ä¸ªå€¼ä¸æ­£ç¡®çš„æ¶ˆæ¯ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ç»“æœ</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ej/8m/kr/ej8mkr_4de2x23avg5mezwb6gzg.png"><br></div></div><br> åœ¨è¿™é‡Œï¼Œæ‚¨éœ€è¦åšä¸€ä¸ªå°é¢˜å¤–è¯-åœ¨Asp Net Coreä¸­ï¼Œä½¿ç”¨å±æ€§æ˜¯ä¸€ç§å¸¸è§„çš„æ•°æ®éªŒè¯æ–¹æ³•ã€‚ ä½†æ˜¯åœ¨DDDä¸­ï¼Œç”±äºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼Œè¿™ç§éªŒè¯æ–¹æ³•ä¸æ­£ç¡®ï¼š <br><br><ul><li> å±æ€§åŠŸèƒ½å¯èƒ½ä¸è¶³ä»¥è¿›è¡ŒéªŒè¯é€»è¾‘ï¼› </li><li> ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…æ‹¬ç”¨äºéªŒè¯å‚æ•°çš„è§„åˆ™ï¼Œéƒ½æ˜¯ç”±åŸŸä¸“é—¨è®¾ç½®çš„ã€‚ ä»–å¯¹æ­¤æ‹¥æœ‰å„æ–­æƒï¼Œæ‰€æœ‰å…¶ä»–å±‚é¢éƒ½å¿…é¡»è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ã€‚ å¯ä»¥ä½¿ç”¨å±æ€§ï¼Œä½†æ‚¨ä¸åº”ä¾èµ–å®ƒä»¬ã€‚ å¦‚æœå±æ€§è·³è¿‡ä¸æ­£ç¡®çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºVOæ—¶æˆ‘ä»¬å°†å†æ¬¡è·å¾—å¼‚å¸¸ã€‚ </li></ul><br> è¿”å›AddPersonï¼ˆï¼‰ã€‚ æ•°æ®éªŒè¯ä¹‹åï¼Œå°†åˆ›å»ºPersonalNameï¼ŒAgeå’ŒPersonã€‚ æ¥ä¸‹æ¥ï¼Œå°†å¯¹è±¡æ·»åŠ åˆ°å­˜å‚¨åº“å¹¶ä¿å­˜æ›´æ”¹ï¼ˆæäº¤ï¼‰ã€‚ åœ¨EfPersonsä¿¡æ¯åº“ä¸­ä¸è¦è°ƒç”¨Commitéå¸¸é‡è¦ã€‚ å­˜å‚¨åº“çš„ä»»åŠ¡æ˜¯ä»…å¯¹æ•°æ®æ‰§è¡ŒæŸäº›æ“ä½œã€‚ æäº¤ä»…åœ¨å¤–éƒ¨ï¼ˆç¡®åˆ‡åœ°è¯´æ˜¯ç¨‹åºå‘˜å†³å®šï¼‰æ—¶è¿›è¡Œã€‚ å¦åˆ™ï¼Œå½“åœ¨æŸä¸ªä¸šåŠ¡è¿­ä»£çš„ä¸­é—´å‘ç”Ÿé”™è¯¯æ—¶ï¼Œå°±æœ‰å¯èƒ½å‡ºç°è¿™ç§æƒ…å†µ-ä¸€äº›æ•°æ®è¢«ä¿å­˜è€Œå¦ä¸€äº›åˆ™æ²¡æœ‰ã€‚ æˆ‘ä»¬æ”¶åˆ°çš„åŸŸåå¤„äºâ€œæŸåâ€çŠ¶æ€ã€‚ å¦‚æœCommitåœ¨æœ€åå®Œæˆï¼Œé‚£ä¹ˆå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œäº‹åŠ¡å°†ç®€å•åœ°å›æ»šã€‚ <br><br><h2> ç»“è®º </h2><br> æˆ‘ä¸¾ä¾‹è¯´æ˜äº†å€¼å¯¹è±¡çš„å®ç°ï¼Œä»¥åŠå®ä½“æ¡†æ¶æ ¸å¿ƒä¸­æ˜ å°„çš„ç»†å¾®å·®åˆ«ã€‚ æˆ‘å¸Œæœ›è¿™äº›ææ–™å°†æœ‰åŠ©äºç†è§£å¦‚ä½•åœ¨å®è·µä¸­åº”ç”¨åŸŸé©±åŠ¨è®¾è®¡çš„å…ƒç´ ã€‚ <br><br>  Complete PersonsDemoé¡¹ç›®æºä»£ç -GitHub <br><br> å¦‚æœPersonalNameæˆ–Ageä¸æ˜¯Personçš„å¿…éœ€å±æ€§ï¼Œåˆ™è¯¥ææ–™æ²¡æœ‰å…¬å¼€ä¸å¯é€‰ï¼ˆå¯ç©ºï¼‰å€¼å¯¹è±¡è¿›è¡Œäº¤äº’çš„é—®é¢˜ã€‚ æˆ‘æƒ³åœ¨æœ¬æ–‡ä¸­å¯¹æ­¤è¿›è¡Œæè¿°ï¼Œä½†æ˜¯å®ƒå·²ç»æœ‰äº›è¿‡è½½äº†ã€‚ å¦‚æœå¯¹æ­¤é—®é¢˜æ„Ÿå…´è¶£ï¼Œè¯·åœ¨è¯„è®ºä¸­å†™ï¼Œç»§ç»­ã€‚ <br><br> å¯¹äºä¸€èˆ¬â€œç¾ä¸½çš„ä½“ç³»ç»“æ„â€çš„çˆ±å¥½è€…ï¼Œå°¤å…¶æ˜¯â€œé¢†åŸŸé©±åŠ¨çš„è®¾è®¡â€çš„çˆ±å¥½è€…ï¼Œæˆ‘å¼ºçƒˆæ¨è<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¼ä¸šå·¥è‰º</a>èµ„æºã€‚ <br><br> å…³äº.Netçš„æ­£ç¡®ä½“ç³»ç»“æ„æ„å»ºå’Œå®ç°ç¤ºä¾‹ï¼Œæœ‰å¾ˆå¤šæœ‰ç”¨çš„æ–‡ç« ã€‚ é‚£é‡Œå€Ÿé‰´äº†ä¸€äº›æƒ³æ³•ï¼Œå¹¶åœ¨â€œæˆ˜æ–—â€é¡¹ç›®ä¸­æˆåŠŸå®æ–½ï¼Œå¹¶åœ¨æœ¬æ–‡ä¸­å¾—åˆ°äº†éƒ¨åˆ†ä½“ç°ã€‚ <br><br> è¿˜ä½¿ç”¨äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰€æœ‰æƒç±»å‹</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å€¼è½¬æ¢</a>çš„å®˜æ–¹æ–‡æ¡£ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN443770/">https://habr.com/ru/post/zh-CN443770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN443756/index.html">è¯¾å ‚è®¾è®¡ï¼šä»€ä¹ˆæ˜¯å¥½ï¼Ÿ</a></li>
<li><a href="../zh-CN443758/index.html">å¿«é€Ÿç»˜ç”»Doodleè¯†åˆ«ï¼šå¦‚ä½•ç»“äº¤Rï¼ŒC ++å’Œç¥ç»ç½‘æ ¼</a></li>
<li><a href="../zh-CN443764/index.html">è®¾è®¡å¸ˆå¸çƒŸçš„ä¸œè¥¿ï¼šä¸å¯»å¸¸çš„æªæ”¯</a></li>
<li><a href="../zh-CN443766/index.html">ç«‹å³å°è¯•C ++ 20 Contractç¼–ç¨‹</a></li>
<li><a href="../zh-CN443768/index.html">ç”¨äºæ•°ç™¾ç§å®¢æˆ·ç«¯ç‰ˆæœ¬çš„Monolithï¼šæˆ‘ä»¬å¦‚ä½•ç¼–å†™å’Œæ”¯æŒæµ‹è¯•</a></li>
<li><a href="../zh-CN443772/index.html">ä¸Šå¤ï¼šIBM ThinkPad T40ï¼Œç¬¬ä¸€ä¸ªæ— çº¿è®¾å¤‡</a></li>
<li><a href="../zh-CN443774/index.html">ç¥ç»ç”Ÿç‰©å­¦å¦‚ä½•å¹²é¢„ç¾å›½æ€»ç»Ÿå¤§é€‰</a></li>
<li><a href="../zh-CN443776/index.html">ä¸­å›½åœ¨è´­ä¹°åœ°é“æ—¶å¼•å…¥äº†å®éªŒæ€§é¢éƒ¨è¯†åˆ«ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN443780/index.html">MCDMé¡¹ç›®ã€‚ ç¬¬1éƒ¨åˆ†ã€‚æ¦‚å¿µ</a></li>
<li><a href="../zh-CN443782/index.html">å¼€å‘äººå‘˜ç°åœ¨å¯ä»¥åœ¨ä»–ä»¬çš„Steamæ¸¸æˆä¸­ä½¿ç”¨Valveçš„ç½‘ç»œAPI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>