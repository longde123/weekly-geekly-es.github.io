<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé∞ üíÉüèΩ üöû Analisis kode Platform CUBA menggunakan PVS-Studio ‚ûñ ü¶î ‚úçüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Untuk programmer Java, ada alat yang berguna untuk membantu Anda menulis kode berkualitas tinggi, misalnya, lingkungan pengembangan IntelliJ IDEA yang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Analisis kode Platform CUBA menggunakan PVS-Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/449022/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89f/a3b/650/89fa3b6506fd8962c8996579f4dcc460.png" alt="Gambar 2"></div><br>  Untuk programmer Java, ada alat yang berguna untuk membantu Anda menulis kode berkualitas tinggi, misalnya, lingkungan pengembangan IntelliJ IDEA yang kuat, SpotBugs gratis, analisis PMD, dan lainnya.  Semua ini sudah digunakan dalam pengembangan proyek Platform CUBA, dan dalam ulasan tentang cacat kode yang ditemukan ini, saya akan memberi tahu Anda bagaimana cara lain Anda dapat meningkatkan kualitas proyek menggunakan penganalisis kode statis PVS-Studio. <br><a name="habracut"></a><br><h2>  Tentang proyek dan penganalisa </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Platform CUBA</a> adalah kerangka kerja Java tingkat tinggi untuk membuat aplikasi perusahaan dengan cepat dengan antarmuka web penuh.  Platform ini mengabstraksi pengembang dari teknologi heterogen sehingga Anda dapat fokus pada penyelesaian masalah bisnis, pada saat yang sama, tanpa membuatnya mustahil untuk bekerja dengan mereka secara langsung.  Kode sumber diambil dari repositori di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio</a> adalah alat untuk mendeteksi kesalahan dan kerentanan potensial dalam kode sumber program yang ditulis dalam C, C ++, C # dan Java.  Ini bekerja pada sistem 64-bit pada Windows, Linux dan macOS.  Untuk kenyamanan programmer Java, kami telah mengembangkan plugin untuk Maven, Gradle, dan IntelliJ IDEA.  Proyek Platform CUBA mudah diverifikasi menggunakan plugin Gradle. <br><br><h2>  Kesalahan dalam kondisi </h2><br>  <b>Peringatan 1</b> <br><br>  Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6007</a> 'StringUtils.isNotEmpty ("handleTabKey")' selalu benar.  SourceCodeEditorLoader.java (60) <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadComponent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... String handleTabKey = element.attributeValue(<span class="hljs-string"><span class="hljs-string">"handleTabKey"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StringUtils.isNotEmpty(<span class="hljs-string"><span class="hljs-string">"handleTabKey"</span></span>)) { resultComponent.setHandleTabKey(Boolean.parseBoolean(handleTabKey)); } .... }</code> </pre> <br>  Setelah mengambil nilai atribut dari suatu elemen, verifikasi nilai ini tidak dilakukan.  Sebagai gantinya, string konstan diteruskan ke fungsi <i>isNotEmpty</i> , tetapi kami harus melewati variabel <i>handleTabKey</i> . <br><br>  Ada kesalahan serupa lainnya di file AbstractTableLoader.java: <br><br><ul><li>  Ekspresi V6007 'StringUtils.isNotEmpty ("dapat diedit")' selalu benar.  AbstractTableLoader.java (596) </li></ul><br>  <b>Peringatan 2</b> <br><br>  Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6007</a> 'previousMenuItemFlatIndex&gt; = 0' selalu benar.  CubaSideMenuWidget.java (328) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> MenuItemWidget </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findNextMenuItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MenuItemWidget currentItem)</span></span></span><span class="hljs-function"> </span></span>{ List&lt;MenuTreeNode&gt; menuTree = buildVisibleTree(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); List&lt;MenuItemWidget&gt; menuItemWidgets = menuTreeToList(menuTree); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> menuItemFlatIndex = menuItemWidgets.indexOf(currentItem); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> previousMenuItemFlatIndex = menuItemFlatIndex + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (previousMenuItemFlatIndex &gt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> menuItemWidgets.get(previousMenuItemFlatIndex); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }</code> </pre> <br>  Fungsi <i>indexOf</i> dapat mengembalikan <i>-1</i> jika item tidak ditemukan dalam daftar.  Kemudian satu ditambahkan ke indeks, sehingga menyembunyikan situasi ketika elemen yang diinginkan hilang.  Masalah potensial lainnya mungkin adalah fakta bahwa variabel <i>beforeMenuItemFlatIndex</i> akan selalu lebih besar atau sama dengan nol.  Jika, misalnya, daftar <i>menuItemWidgets</i> kosong, maka menjadi mungkin untuk melampaui batas array. <br><br>  <b>Peringatan 3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6009</a> Fungsi 'delete' dapat menerima nilai '-1' sementara nilai non-negatif diharapkan.  Periksa argumen: 1. AbstractCollectionDatasource.java (556) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> DataLoadContextQuery </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createDataQuery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... StringBuilder orderBy = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StringBuilder(); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (orderBy.length() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { orderBy.delete(orderBy.length() - <span class="hljs-number"><span class="hljs-number">2</span></span>, orderBy.length()); orderBy.insert(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">" order by "</span></span>); } .... }</code> </pre> <br>  Dalam <i>pesanan</i> buffer karakter <i>Dengan</i> 2 karakter terakhir dihapus jika jumlah totalnya lebih besar dari nol, yaitu.  string berisi satu karakter atau lebih.  Tetapi posisi awal untuk menghapus karakter diatur dengan offset 2 karakter.  Jadi, jika <i>orderBy</i> tiba-tiba terdiri dari 1 karakter, upaya untuk menghapus akan melempar <i>StringIndexOutOfBoundsException</i> . <br><br>  <b>Peringatan 4</b> <br><br>  Objek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6013</a> 'masterCollection' dan 'entitas' dibandingkan dengan referensi.  Mungkin perbandingan kesetaraan dimaksudkan.  CollectionPropertyContainerImpl.java (81) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setItems</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Nullable Collection&lt;E&gt; entities)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.setItems(entities); Entity masterItem = master.getItemOrNull(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (masterItem != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { MetaProperty masterProperty = getMasterProperty(); Collection masterCollection = masterItem.getValue(masterProperty.getName()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (masterCollection != entities) { updateMasterCollection(masterProperty, masterCollection, entities); } } }</code> </pre> <br>  Dalam fungsi <i>updateMasterCollection,</i> nilai dari <i>entitas</i> disalin ke <i>masterCollection</i> .  Sebelum ini, koleksi dibandingkan dengan referensi, tetapi mungkin mereka direncanakan untuk dibandingkan dengan nilai. <br><br>  <b>Peringatan 5</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6013</a> Objek 'nilai' dan 'nilai lama' dibandingkan dengan referensi.  Mungkin perbandingan kesetaraan dimaksudkan.  WebOptionsList.java (278) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isCollectionValuesChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collection&lt;I&gt; value, Collection&lt;I&gt; oldValue)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value != oldValue; }</code> </pre> <br>  Contoh ini mirip dengan yang sebelumnya.  Inilah <i>isCollectionValuesChanged</i> untuk membandingkan koleksi.  Mungkin perbandingan dengan referensi juga bukan cara yang diharapkan. <br><br><h2>  Kelebihan kondisi </h2><br>  <b>Peringatan 1</b> <br><br>  Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6007</a> 'mask.charAt (i + offset)! = PlaceHolder' selalu benar.  DatePickerDocument.java (238) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculateFormattedString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offset, String text)</span></span></span><span class="hljs-function"> .... </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((mask.charAt(i + offset) == placeHolder)) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... } else if ((mask.charAt(i + offset) != placeHolder) &amp;&amp; // &lt;= (Character.isDigit(text.charAt(i)))) { .... } .... }</span></span></code> </pre> <br>  Dalam perbandingan kedua, ekspresi yang berlawanan dengan yang pertama diperiksa.  Pemeriksaan kedua dapat dihapus untuk menyederhanakan kode. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Konektor V6007</a> Ekspresi '== null' selalu salah.  HTML5Support.java (169) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(NativeEvent event)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (connector == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { widget = widget.getParent(); connector = Util.findConnectorFor(widget); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.connector == connector) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (connector == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= return false; } else if (connector.getWidget() instanceof VDDHasDropHandler) { return false; } return true; }</span></span></code> </pre> <br>  Setelah <i>loop sementara</i> selesai, nilai variabel <i>konektor</i> tidak akan <i>nol</i> , oleh karena itu, pemeriksaan redundan dapat dihapus. <br><br>  Tempat mencurigakan lain yang harus diperhatikan pengembang: <br><br><ul><li>  Ekspresi V6007 'StringUtils.isBlank (strValue)' selalu benar.  Param.java (818) </li></ul><br><h2>  Kode yang tidak terjangkau dalam tes </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6019</a> Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  TransactionTest.java (283) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">throwException</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RuntimeException(TEST_EXCEPTION_MSG); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testSuspendRollback</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Transaction tx = cont.persistence().createTransaction(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { .... Transaction tx1 = cont.persistence().createTransaction(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { EntityManager em1 = cont.persistence().getEntityManager(); assertTrue(em != em1); Server server1 = em1.find(Server.class, server.getId()); assertNull(server1); throwException(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= tx1.commit(); // &lt;= } catch (Exception e) { // } finally { tx1.end(); } tx.commit(); } finally { tx.end(); } }</span></span></code> </pre> <br>  Fungsi <i>throwException</i> melempar pengecualian yang <i>mencegah</i> panggilan ke fungsi <i>tx1.commit.</i>  Mungkin garis-garis ini harus dipertukarkan. <br><br>  Beberapa tempat serupa di tes lain: <br><br><ul><li>  V6019 Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  TransactionTest.java (218) </li><li>  V6019 Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  TransactionTest.java (163) </li><li>  V6019 Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  TransactionTest.java (203) </li><li>  V6019 Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  TransactionTest.java (137) </li><li>  V6019 Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  UpdateDetachedTest.java (153) </li><li>  V6019 Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  EclipseLinkDetachedTest.java (132) </li><li>  V6019 Kode tidak terjangkau terdeteksi.  Mungkin saja ada kesalahan.  PersistenceTest.java (223) </li></ul><br><h2>  Argumen Fungsi Mencurigakan </h2><br>  <b>Peringatan 1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6023</a> Parameter 'garam' selalu ditulis ulang dalam tubuh metode sebelum digunakan.  BCryptEncryptionModule.java (47) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHash</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String content, String salt)</span></span></span><span class="hljs-function"> </span></span>{ salt = BCrypt.gensalt(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BCrypt.hashpw(content, salt); }</code> </pre> <br>  Dalam kriptografi, <i>garam</i> adalah serangkaian data yang diteruskan ke fungsi hash bersama dengan kata sandi.  Ini terutama digunakan untuk perlindungan terhadap pencarian dan serangan kamus menggunakan tabel pelangi, serta menyembunyikan kata sandi yang sama.  Baca lebih lanjut: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Garam (kriptografi)</a> . <br><br>  Dalam fungsi ini, garis digosok segera setelah memasuki fungsi.  Mungkin mengabaikan nilai yang diteruskan merupakan kerentanan potensial. <br><br>  <b>Peringatan 2</b> <br><br>  Untuk fungsi yang dipertimbangkan, penganalisa segera memberikan dua peringatan: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6023</a> Parameter 'offsetWidth' selalu ditulis ulang dalam tubuh metode sebelum digunakan.  CubaSuggestionFieldWidget.java (433) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6023</a> Parameter 'offsetHeight' selalu ditulis ulang dalam tubuh metode sebelum digunakan.  CubaSuggestionFieldWidget.java (433) </li></ul><br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setPosition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offsetWidth, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> offsetHeight)</span></span></span><span class="hljs-function"> </span></span>{ offsetHeight = getOffsetHeight(); .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (offsetHeight + getPopupTop() &gt; ....)) { .... } .... offsetWidth = containerFirstChild.getOffsetWidth(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (offsetWidth + getPopupLeft() &gt; ....)) { .... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { left = getPopupLeft(); } setPopupPosition(left, top); }</code> </pre> <br>  Kode lucu.  Fungsi hanya mengambil dua variabel: <i>offsetWidth</i> dan <i>offsetHeight</i> , keduanya ditimpa sebelum digunakan. <br><br>  <b>Peringatan 3</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6022</a> 'Pintasan' Parameter tidak digunakan di dalam badan konstruktor.  DeclarativeTrackingAction.java (47) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DeclarativeTrackingAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id, String caption, String description, String icon, String enable, String visible, String methodName, @Nullable String shortcut, ActionsHolder holder)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(id); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.caption = caption; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.description = description; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.icon = icon; setEnabled(enable == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || Boolean.parseBoolean(enable)); setVisible(visible == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || Boolean.parseBoolean(visible)); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.methodName = methodName; checkActionsHolder(holder); }</code> </pre> <br>  Nilai parameter <i>pintasan</i> tidak digunakan dalam fungsi.  Antarmuka fungsi mungkin kedaluwarsa atau peringatan ini bukan kesalahan. <br><br>  Beberapa tempat serupa: <br><br><ul><li>  V6022 'Jenis' Parameter tidak digunakan di dalam tubuh konstruktor.  QueryNode.java (36) </li><li>  V6022 Parameter 'text2' tidak digunakan di dalam tubuh konstruktor.  MarkerAddition.java (22) </li><li>  V6022 'Pemilihan' Parameter tidak digunakan di dalam tubuh konstruktor.  AceEditor.java (114) </li><li>  V6022 'Opsi' Parameter tidak digunakan di dalam tubuh konstruktor.  EntitySerialization.java (379) </li></ul><br><h2>  Fungsi berbeda dengan kode yang sama </h2><br>  <b>Peringatan 1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6032</a> Aneh bahwa tubuh metode 'firstItemId' sepenuhnya setara dengan tubuh metode lain 'lastItemId'.  ContainerTableItems.java (213), ContainerTableItems.java (219) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstItemId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ List&lt;E&gt; items = container.getItems(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> items.isEmpty() ? <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : items.get(<span class="hljs-number"><span class="hljs-number">0</span></span>).getId(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastItemId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ List&lt;E&gt; items = container.getItems(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> items.isEmpty() ? <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : items.get(<span class="hljs-number"><span class="hljs-number">0</span></span>).getId(); }</code> </pre> <br>  Fungsi <i>firstItemId</i> dan <i>lastItemId</i> memiliki implementasi yang sama.  Kemungkinan besar, dalam yang terakhir itu perlu untuk mendapatkan elemen bukan dengan indeks <i>0</i> , tetapi untuk menghitung indeks elemen terakhir. <br><br>  <b>Peringatan 2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6032</a> Aneh bahwa tubuh metode sepenuhnya setara dengan tubuh metode lain.  SearchComboBoxPainter.java (495), SearchComboBoxPainter.java (501) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">paintBackgroundDisabledAndEditable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Graphics2D g)</span></span></span><span class="hljs-function"> </span></span>{ rect = decodeRect1(); g.setPaint(color53); g.fill(rect); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">paintBackgroundEnabledAndEditable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Graphics2D g)</span></span></span><span class="hljs-function"> </span></span>{ rect = decodeRect1(); g.setPaint(color53); g.fill(rect); }</code> </pre> <br>  Dua fungsi lagi dengan implementasi yang mencurigakan identik.  Saya berani menyarankan bahwa di salah satu dari mereka perlu menggunakan warna yang berbeda dari <i>color53</i> . <br><br><h2>  Referensi kosong </h2><br>  <b>Peringatan 1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6060</a> Referensi 'descriptionPopup' digunakan sebelum diverifikasi terhadap nol.  SuggestPopup.java (252), SuggestPopup.java (251) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateDescriptionPopupPosition</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = getAbsoluteLeft() + WIDTH; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = getAbsoluteTop(); descriptionPopup.setPopupPosition(x, y); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (descriptionPopup!=<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { descriptionPopup.setPopupPosition(x, y); } }</code> </pre> <br>  Hanya dalam dua baris, penulis berhasil menulis kode yang sangat mencurigakan.  Pertama, metode <i>setPopupPosition</i> dipanggil pada objek <i>descriptionPopup</i> , dan kemudian objek tersebut dibandingkan dengan <i>nol</i> .  Kemungkinan besar, panggilan pertama ke fungsi <i>setPopupPosition</i> berlebihan dan berbahaya.  Sepertinya konsekuensi dari kegagalan refactoring. <br><br>  <b>Peringatan 2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6060</a> Referensi 'tableModel' digunakan sebelum diverifikasi terhadap nol.  DesktopAbstractTable.java (1580), DesktopAbstractTable.java (1564) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Column </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addRuntimeGeneratedColumn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String columnId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// store old cell editors / renderers TableCellEditor[] cellEditors = new TableCellEditor[tableModel.getColumnCount() + 1]; // &lt;= TableCellRenderer[] cellRenderers = new TableCellRenderer[tableModel.getColumnCount() + 1]; // &lt;= for (int i = 0; i &lt; tableModel.getColumnCount(); i++) { // &lt;= Column tableModelColumn = tableModel.getColumn(i); if (tableModel.isGeneratedColumn(tableModelColumn)) { // &lt;= TableColumn tableColumn = getColumn(tableModelColumn); cellEditors[i] = tableColumn.getCellEditor(); cellRenderers[i] = tableColumn.getCellRenderer(); } } Column col = new Column(columnId, columnId); col.setEditable(false); columns.put(col.getId(), col); if (tableModel != null) { // &lt;= tableModel.addColumn(col); } .... }</span></span></code> </pre> <br>  Situasi serupa ada dalam fungsi ini.  Setelah banyak panggilan ke objek <i>tableModel</i> , pemeriksaan dilakukan apakah itu <i>nol</i> atau tidak. <br><br>  Contoh lain: <br><br><ul><li>  V6060 Referensi 'tableModel' digunakan sebelum diverifikasi terhadap nol.  DesktopAbstractTable.java (596), DesktopAbstractTable.java (579) </li></ul><br><h2>  Mungkin kesalahan logis </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6026</a> Nilai ini sudah ditetapkan ke variabel 'sortAscending'.  CubaScrollTableWidget.java (488) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sortColumn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortAscending) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sortClickCounter &lt; <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// special case for initial revert sorting instead of reset sort order if (sortClickCounter == 0) { client.updateVariable(paintableId, "sortascending", false, false); } else { reloadDataFromServer = false; sortClickCounter = 0; sortColumn = null; sortAscending = true; // &lt;= client.updateVariable(paintableId, "resetsortorder", "", true); } } else { client.updateVariable(paintableId, "sortascending", false, false); } } else { if (sortClickCounter &lt; 2) { // special case for initial revert sorting instead of reset sort order if (sortClickCounter == 0) { client.updateVariable(paintableId, "sortascending", true, false); } else { reloadDataFromServer = false; sortClickCounter = 0; sortColumn = null; sortAscending = true; client.updateVariable(paintableId, "resetsortorder", "", true); } } else { reloadDataFromServer = false; sortClickCounter = 0; sortColumn = null; sortAscending = true; client.updateVariable(paintableId, "resetsortorder", "", true); } } .... }</span></span></code> </pre> <br>  Dalam kondisi pertama, variabel <i>sortAscending sudah</i> <i>benar</i> , tetapi masih diberi nilai yang sama.  Mungkin ini adalah kesalahan dan ingin menugaskan <i>salah</i> . <br><br>  Contoh serupa dari file lain: <br><br><ul><li>  V6026 Nilai ini sudah ditetapkan ke variabel 'sortAscending'.  CubaTreeTableWidget.java (444) </li></ul><br><h2>  Nilai pengembalian fungsi aneh </h2><br>  <b>Peringatan 1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6037</a> ' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengembalian</a> ' tanpa syarat dalam satu lingkaran.  QueryCacheManager.java (128) <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSingleResultFromCache</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(QueryKey queryKey, List&lt;View&gt; views)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Object id : queryResult.getResult()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (T) em.find(metaClass.getJavaClass(), id, views.toArray(....)); } .... }</code> </pre> <br>  Penganalisis mendeteksi panggilan tanpa syarat ke <i>pernyataan kembali</i> pada iterasi pertama dari <i>for</i> loop.  Mungkin ini kesalahan, atau Anda perlu menulis ulang kode untuk menggunakan <i>pernyataan if</i> . <br><br>  <b>Peringatan 2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6014</a> Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  DefaultExceptionHandler.java (40) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ErrorEvent event, App app)</span></span></span><span class="hljs-function"> </span></span>{ Throwable t = event.getThrowable(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> SocketException || ExceptionUtils.getRootCause(t) <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> SocketException) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ExceptionUtils.getThrowableList(t).stream() .anyMatch(o -&gt; o.getClass().getName().equals(<span class="hljs-string"><span class="hljs-string">"...."</span></span>))) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StringUtils.contains(ExceptionUtils.getMessage(t), <span class="hljs-string"><span class="hljs-string">"...."</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } AppUI ui = AppUI.getCurrent(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ui == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (app.getConnection().getSession() != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { showDialog(app, t); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { showNotification(app, t); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }</code> </pre> <br>  Fungsi ini dalam semua kasus mengembalikan <i>true</i> .  Tapi di sini, di baris terakhir meminta kembalinya yang <i>salah</i> .  Mungkin ada kesalahan. <br><br>  Seluruh daftar fungsi mencurigakan dengan kode yang serupa: <br><br><ul><li>  V6014 Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  ErrorNodesFinder.java (31) </li><li>  V6014 Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  FileDownloadController.java (69) </li><li>  V6014 Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  IdVarSelector.java (73) </li><li>  V6014 Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  IdVarSelector.java (48) </li><li>  V6014 Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  IdVarSelector.java (67) </li><li>  V6014 Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  IdVarSelector.java (46) </li><li>  V6014 Aneh bahwa metode ini selalu mengembalikan satu dan nilai yang sama.  JoinVariableNode.java (57) </li></ul><br>  <b>Peringatan 3</b> <br><br>  Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6007</a> 'needReload' selalu salah.  WebAbstractTable.java (2702) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleSpecificVariables</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map&lt;String, Object&gt; variables)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> needReload = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isUsePresentations() &amp;&amp; presentations != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { Presentations p = getPresentations(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (p.getCurrent() != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; p.isAutoSave(p.getCurrent()) &amp;&amp; needUpdatePresentation(variables)) { Element e = p.getSettings(p.getCurrent()); saveSettings(e); p.setSettings(p.getCurrent(), e); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> needReload; }</code> </pre> <br>  Fungsi mengembalikan variabel <i>needReload</i> , yang nilainya selalu <i>salah</i> .  Kemungkinan besar, di salah satu kondisi mereka lupa menambahkan kode untuk mengubah nilai variabel. <br><br>  <b>Peringatan 4</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6062</a> Kemungkinan rekursi tak terbatas di dalam metode 'isFocused'.  GwtAceEditor.java (189), GwtAceEditor.java (190) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">focus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">/*-{ this.focus(); }-*/</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isFocused</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.isFocused(); }</code> </pre> <br>  Penganalisa mendeteksi suatu fungsi yang disebut rekursif tanpa syarat untuk menghentikan rekursi.  File ini memiliki banyak fungsi yang ditandai dengan kata kunci <i>asli</i> dan berisi kode komentar.  Kemungkinan besar, file saat ini sedang ditimpa dan segera pengembang akan memperhatikan fungsi <i>isFocused</i> . <br><br><h2>  Peringatan lain-lain </h2><br>  <b>Peringatan 1</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6002</a> Pernyataan beralih tidak mencakup semua nilai dari 'Operasi' enum: ADD.  DesktopAbstractTable.java (665) <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Operation which caused the datasource change. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Operation { REFRESH, CLEAR, ADD, REMOVE, UPDATE } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setDatasource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> CollectionDatasource datasource)</span></span></span><span class="hljs-function"> </span></span>{ .... collectionChangeListener = e -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (e.getOperation()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> CLEAR: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> REFRESH: fieldDatasources.clear(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> UPDATE: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> REMOVE: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Object entity : e.getItems()) { fieldDatasources.remove(entity); } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }; .... }</code> </pre> <br>  <i>Pernyataan beralih</i> tidak membahas nilai <i>ADD</i> .  Ini adalah satu-satunya yang belum ditinjau, jadi ada baiknya memeriksa apakah itu kesalahan atau tidak. <br><br>  <b>Peringatan 2</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6021</a> 'Sumber' variabel tidak digunakan.  DefaultHorizontalLayoutDropHandler.java (177) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handleHTML5Drop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DragAndDropEvent event)</span></span></span><span class="hljs-function"> </span></span>{ LayoutBoundTransferable transferable = (LayoutBoundTransferable) event .getTransferable(); HorizontalLayoutTargetDetails details = (HorizontalLayoutTargetDetails) event .getTargetDetails(); AbstractOrderedLayout layout = (AbstractOrderedLayout) details .getTarget(); Component source = event.getTransferable().getSourceComponent(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= int idx = (details).getOverIndex(); HorizontalDropLocation loc = (details).getDropLocation(); if (loc == HorizontalDropLocation.CENTER || loc == HorizontalDropLocation.RIGHT) { idx++; } Component comp = resolveComponentFromHTML5Drop(event); if (idx &gt;= 0) { layout.addComponent(comp, idx); } else { layout.addComponent(comp); } if (dropAlignment != null) { layout.setComponentAlignment(comp, dropAlignment); } }</span></span></code> </pre> <br>  Variabel sumber dideklarasikan dan tidak digunakan dalam kode.  Mungkin, seperti variabel <i>comp</i> lain dari jenis yang sama, mereka lupa untuk menambahkan <i>sumber</i> ke <i>tata letak</i> . <br><br>  Lebih banyak fungsi dengan variabel yang tidak digunakan: <br><br><ul><li>  V6021 'Sumber' variabel tidak digunakan.  DefaultHorizontalLayoutDropHandler.java (175) </li><li>  V6021 Nilai ini diberikan ke variabel 'r' tetapi tidak digunakan.  ExcelExporter.java (262) </li><li>  V6021 Variabel 'over' tidak digunakan.  DefaultCssLayoutDropHandler.java (49) </li><li>  V6021 Variabel 'dapat ditransfer' tidak digunakan.  DefaultHorizontalLayoutDropHandler.java (171) </li><li>  V6021 Variabel 'dapat ditransfer' tidak digunakan.  DefaultHorizontalLayoutDropHandler.java (169) </li><li>  V6021 'beanLocator' Variabel tidak digunakan.  ScreenEventMixin.java (28) </li></ul><br>  <b>Peringatan 3</b> <br><br>  Kelas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V6054</a> tidak boleh dibandingkan dengan namanya.  MessageTools.java (283) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hasPropertyCaption</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MetaProperty property)</span></span></span><span class="hljs-function"> </span></span>{ Class&lt;?&gt; declaringClass = property.getDeclaringClass(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (declaringClass == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; String caption = getPropertyCaption(property); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = caption.indexOf(<span class="hljs-string"><span class="hljs-string">'.'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; declaringClass.getSimpleName().equals(caption.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, i))) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; }</code> </pre> <br>  Penganalisa mendeteksi suatu situasi ketika membandingkan kelas dilakukan dengan nama.  Perbandingan semacam itu tidak benar, karena, sesuai dengan spesifikasi, kelas JVM memiliki nama unik hanya di dalam paket.  Ini dapat menyebabkan perbandingan yang salah dan eksekusi kode yang salah yang telah direncanakan. <br><br><h2>  Umpan Balik Pengembang Platform CUBA </h2><br>  <i>Tentu saja, dalam setiap proyek besar ada bug.</i>  <i>Itulah sebabnya kami dengan senang hati menyetujui proposal tim PVS-Studio untuk memeriksa proyek kami.</i>  <i>Repositori CUBA termasuk fork dari beberapa perpustakaan OSS pihak ketiga di bawah lisensi Apache 2, dan tampaknya kita perlu lebih memperhatikan kode ini, penganalisa menemukan beberapa masalah dalam sumber-sumber ini.</i>  <i>Sekarang kami menggunakan SpotBugs sebagai analis utama, dan tidak menemukan beberapa masalah signifikan yang ditemukan oleh PVS-Studio.</i>  <i>Sudah waktunya untuk pergi dan menulis cek tambahan sendiri.</i>  <i>Banyak terima kasih kepada tim PVS-Studio untuk pekerjaan yang dilakukan.</i> <br><br>  Pengembang juga mencatat bahwa peringatan V6013 dan V6054 salah.  Kode itu ditulis dengan sengaja.  Analis statis dirancang untuk mendeteksi fragmen kode yang mencurigakan dan kemungkinan menemukan kesalahan berbeda untuk semua inspeksi.  Namun demikian, mudah untuk bekerja dengan peringatan semacam itu menggunakan mekanisme yang nyaman untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">penindasan massal terhadap penganalisa</a> tanpa memodifikasi file kode sumber. <br><br>  Tim PVS-Studio lain tidak dapat mengabaikan frasa ‚Äúsaatnya untuk pergi dan menulis cek tambahan sendiri‚Äù dan tidak meninggalkan gambar ini :) <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e2e/319/50d/e2e31950d545befb04ba1f2546583b8c.png" alt="Gambar 1"></div><br><h2>  Kesimpulan </h2><br>  PVS-Studio akan menjadi tambahan yang bagus untuk proyek Anda saat ini untuk meningkatkan alat kualitas kode.  Apalagi jika ada puluhan, ratusan dan ribuan karyawan.  PVS-Studio dirancang tidak hanya untuk menemukan kesalahan, tetapi juga untuk memperbaikinya.  Selain itu, kami tidak berbicara tentang pengeditan kode otomatis, tetapi tentang kontrol kualitas kode yang andal.  Dalam sebuah perusahaan besar, tidak mungkin untuk membayangkan situasi di mana benar-benar semua pengembang akan secara independen memverifikasi kode mereka dengan berbagai alat, jadi alat seperti PVS-Studio lebih cocok untuk perusahaan seperti itu, di mana kontrol kualitas kode disediakan pada semua tahap pengembangan, tidak hanya untuk programmer biasa. <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br><br>  Jika Anda ingin berbagi artikel ini dengan audiens yang berbahasa Inggris, silakan gunakan tautan ke terjemahan: Svyatoslav Razmyslov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menganalisis Kode Platform CUBA dengan PVS-Studio</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id449022/">https://habr.com/ru/post/id449022/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id449006/index.html">Kompleksitas tersembunyi dari slot video game</a></li>
<li><a href="../id449008/index.html">Mencatat permintaan HTTP di Spring Boot menggunakan Bobbins</a></li>
<li><a href="../id449012/index.html">Dunia! Buruh! iOS! Hidupkan penawaran selama 1 hari</a></li>
<li><a href="../id449014/index.html">Advance Ethereum DAPP</a></li>
<li><a href="../id449016/index.html">Steganografi dalam sistem file cakram optik</a></li>
<li><a href="../id449024/index.html">"Rahasia Planet Ketiga" dengan grafik jaringan saraf yang ditingkatkan</a></li>
<li><a href="../id449026/index.html">Sistem Operasi: Tiga Potongan Mudah. Bagian 4: Pengantar Penjadwal (terjemahan)</a></li>
<li><a href="../id449028/index.html">Kemarahan, tawar-menawar, dan depresi saat bekerja dengan InfluxDB</a></li>
<li><a href="../id449032/index.html">Kami merancang sistem pemadam api sprinkler</a></li>
<li><a href="../id449034/index.html">Citymobil - manual untuk meningkatkan ketersediaan di tengah pertumbuhan bisnis untuk startup. Bagian 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>