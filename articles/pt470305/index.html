<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÉ üòö üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ Preparando-se para a certifica√ß√£o profissional da Spring. Container, IoC, Feij√£o üëö ‚úèÔ∏è üëÉüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bom dia, Habr. 


 Hoje decidi apresentar uma tradu√ß√£o de uma s√©rie de artigos em prepara√ß√£o para a certifica√ß√£o profissional da Spring . 


 Esta tra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Preparando-se para a certifica√ß√£o profissional da Spring. Container, IoC, Feij√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470305/"><p>  Bom dia, Habr. </p><br><p>  Hoje decidi apresentar uma tradu√ß√£o de uma <a href="">s√©rie de artigos</a> em prepara√ß√£o para a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">certifica√ß√£o profissional da Spring</a> . </p><br><p>  Esta tradu√ß√£o √© apenas o primeiro artigo; se for para o p√∫blico, continuarei a publicar tradu√ß√µes. </p><br><div class="spoiler">  <b class="spoiler_title">Por que estou fazendo isso, porque j√° existem v√°rios materiais especializados?</b> <div class="spoiler_text"><ol><li>  Frequentemente, as informa√ß√µes nelas n√£o s√£o estruturadas, n√£o s√£o coletadas ou n√£o s√£o relevantes <br></li><li>  Jovens desenvolvedores podem n√£o saber ingl√™s.  Este ciclo pode ser usado n√£o apenas para certifica√ß√£o, mas tamb√©m para auto-treinamento / repeti√ß√£o de materiais. <br></li><li>  Esses materiais podem ser utilizados na prepara√ß√£o da entrevista, como  eles s√£o organizados na forma de perguntas e respostas. <br></li><li> Uma vantagem importante e mais importante, esse controle de qualidade √© feito de perguntas do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia</a> Pivotal Oficial de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Estudo</a> . <br></li></ol><br><ul><li>  Eu deliberadamente perdi algumas perguntas que me pareciam sup√©rfluas ou que n√£o estavam no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">guia</a> . </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Sum√°rio</b> <div class="spoiler_text"><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Inje√ß√£o de depend√™ncia, cont√™iner, IoC, feij√£o</a> </li><li>  AOP (programa√ß√£o orientada a aspectos) </li><li>  JDBC, Transa√ß√µes, JPA, Dados da Primavera </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bota de mola</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring mvc</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Seguran√ßa de primavera</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">REST</a> </li><li>  Teste </li></ol></div></div><br><img src="https://habrastorage.org/webt/r4/jl/yi/r4jlyi8dwzp-e9xvywevoicmwsg.jpeg"><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Vou escrever uma lista de fontes das quais o autor tirou materiais</b> <div class="spoiler_text"><ul><li>  Primavera 5 padr√µes de design <br></li><li>  Primavera em A√ß√£o 4¬™ edi√ß√£o <br></li><li>  Spring Security - Terceira Edi√ß√£o <br></li><li>  Certifica√ß√£o Core Spring 5 em detalhes por Ivan Krizsan <br></li><li>  Documenta√ß√£o do Spring e javadocs da API do Spring <br></li></ul></div></div><br><p>  Ent√£o, vamos come√ßar. </p><br><div class="spoiler">  <b class="spoiler_title">O que √© inje√ß√£o de depend√™ncia (DI) e quais s√£o seus benef√≠cios?</b> <div class="spoiler_text"><p>  A inje√ß√£o de depend√™ncia √© um padr√£o especial que reduz a comunica√ß√£o entre os componentes do Spring.  Assim, ao aplicar o DI, seu c√≥digo fica mais limpo, mais simples, fica mais f√°cil de entender e testar. <br>  De acordo com o padr√£o de DI, a cria√ß√£o de objetos para depend√™ncias √© transferida para a f√°brica ou fornecida a terceiros.  Isso significa que podemos nos concentrar no uso desses objetos em vez de cri√°-los. </p><br><div class="spoiler">  <b class="spoiler_title">Benef√≠cios DI</b> <div class="spoiler_text"><ul><li>  Comunica√ß√£o reduzida entre partes do aplicativo <br></li><li>  Teste aprimorado <br></li><li>  Arquitetura de aplicativos aprimorada <br></li><li>  Reduz o c√≥digo padr√£o <br></li><li>  Padroniza o desenvolvimento de aplicativos <br></li></ul></div></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Por que as interfaces s√£o recomendadas para a cria√ß√£o de Spring beans?</b> <div class="spoiler_text"><ul><li>  Teste aprimorado.  Nos testes, o bean pode ser substitu√≠do por um objeto especial (mock ou stub) que implementa a interface do bean. <br></li><li>  Permite usar o mecanismo de proxy din√¢mico do JDK (por exemplo, ao criar um reposit√≥rio via Spring Data) <br></li><li>  Permite ocultar a implementa√ß√£o <br></li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">O que √© o contexto do aplicativo?</b> <div class="spoiler_text"><p> No Spring Framework, a interface <code>org.springframework.factory.BeanFactory</code> fornece uma f√°brica de <code>org.springframework.factory.BeanFactory</code> , que ao mesmo tempo √© um cont√™iner de aplicativo de IoC.  O gerenciamento de bean √© baseado em configura√ß√£o (java ou xml). </p><br><p>  A interface <code>org.springframework.context.ApplicationContext</code> √© um inv√≥lucro em uma f√°brica de beans que fornece alguns recursos adicionais, como AOP, transa√ß√µes, seguran√ßa, i18n etc. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">O que √© um cont√™iner e qual √© o seu ciclo de vida?</b> <div class="spoiler_text"><p>  A base do Spring Framework √© um cont√™iner e nossos objetos "vivem" nesse cont√™iner. <br>  Um cont√™iner normalmente cria muitos objetos com base em suas configura√ß√µes e gerencia seu ciclo de vida desde a cria√ß√£o de um objeto at√© a destrui√ß√£o. </p><br><p>  Um cont√™iner √© um objeto que implementa a interface <b>ApplicationContext</b> . </p><br><div class="spoiler">  <b class="spoiler_title">Ciclo de vida do cont√™iner</b> <div class="spoiler_text"><ol><li>  O cont√™iner √© criado quando o aplicativo √© iniciado. <br></li><li>  O cont√™iner l√™ dados de configura√ß√£o <br></li><li>  A descri√ß√£o dos compartimentos √© criada a partir dos dados de configura√ß√£o <br></li><li>  BeanFactoryPostProcessors manipula a descri√ß√£o do bean <br></li><li>  O cont√™iner cria beans usando sua descri√ß√£o <br></li><li>  Beans s√£o inicializados - valores e depend√™ncias de propriedades s√£o incorporados no bean <br></li><li>  M√©todos de retorno de chamada de in√≠cio BeanPostProcessor <br></li><li>  O aplicativo est√° em funcionamento <br></li><li>  Fechamento de aplicativo inicializado <br></li><li>  O cont√™iner fecha <br></li><li>  Os m√©todos de retorno de chamada s√£o chamados <br></li></ol></div></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Como criar uma inst√¢ncia do ApplicationContext?</b> <div class="spoiler_text"><p>  A primavera fornece v√°rias varia√ß√µes de contexto. </p><br><p>  Existem v√°rias implementa√ß√µes b√°sicas da interface ApplicationContext: </p><br><ul><li>  FileSystemXmlApplicationContext <br></li><li>  ClassPathXmlApplicationContext <br></li><li>  AnnotationConfigApplicationContext <br></li><li>  XmlWebApplicationContext <br></li><li>  AnnotationConfigWebApplicationContext <br></li></ul><br><p>  Exemplos de cria√ß√£o de um contexto: </p><br><pre> <code class="java hljs">ApplicationContext ctx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileSystemXmlApplicationContext(                                     <span class="hljs-string"><span class="hljs-string">"c:/bean_properties.xml"</span></span>); ApplicationContext ctx = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AnnotationConfigApplicationContext(                            <span class="hljs-string"><span class="hljs-string">"com.springdemoapp.JavaConfig.class"</span></span>);</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Voc√™ pode descrever o ciclo de vida de um feij√£o em um recipiente?</b> <div class="spoiler_text"><ol><li>  Carregando descri√ß√µes de compartimento, criando um gr√°fico de depend√™ncia (entre beans) </li><li>  Criando e <code>BeanFactoryPostProcessors</code> </li><li>  Criar Beans </li><li>  Spring injeta valores e depend√™ncias nas propriedades do bean </li><li>  Se o bean implementar o m√©todo <code>setBeanName()</code> na interface NameBeanAware, o ID do bean ser√° passado para o m√©todo </li><li>  Se o bean implementar o BeanFactoryAware, o Spring estabelecer√° uma refer√™ncia para a f√°brica do bean via <code>setBeanFactory()</code> nessa interface. </li><li>  Se o bean implementar a interface ApplicationContextAware, o Spring estabelecer√° uma refer√™ncia ao ApplicationContext por meio de <code>setApplicationContext()</code> . </li><li>  <code>BeanPostProcessor</code> √© uma interface especial (sobre isso abaixo), e o Spring permite que os compartimentos implementem essa interface.  Ao implementar o m√©todo <code>postProcessBeforeInitialization()</code> , voc√™ pode alterar a inst√¢ncia do bean antes de inicializ√°-lo (o bean) (definir propriedades, etc.) </li><li>  Se os m√©todos de retorno de chamada estiverem definidos, o Spring os chamar√°.  Por exemplo, este √© um m√©todo anotado por <code>@PostConstruct</code> ou o m√©todo <code>initMethod</code> de uma anota√ß√£o <code>@Bean</code> . </li><li>  O feij√£o est√° pronto para uso.  Pode ser obtido usando o m√©todo <code>ApplicationContext#getBean()</code> . </li><li>  Depois que o contexto √© fechado ( <code>close()</code> do ApplicationContext), o bean √© destru√≠do. </li><li>  Se o bean tiver um m√©todo anotado por <code>@PreDestroy</code> , esse m√©todo ser√° chamado antes da destrui√ß√£o.  Se o bean implementar DisposibleBean, o Spring chamar√° o m√©todo <code>destroy()</code> para limpar recursos ou eliminar processos no aplicativo.  Se o m√©todo <code>@Bean</code> for definido na <code>destroyMethod</code> , tamb√©m ser√° chamado. <br><img src="https://habrastorage.org/webt/kx/at/5e/kxat5ery0dcq_sujzijmiqyutda.png"></li></ol></div></div><br><div class="spoiler">  <b class="spoiler_title">Como obter o ApplicationContext no teste de integra√ß√£o?</b> <div class="spoiler_text"><p>  Se voc√™ estiver usando o JUnit 5, precisar√° especificar duas anota√ß√µes: </p><br><ul><li>  @ExtendWith (TestClass.class) - usado para indicar uma classe de teste <br></li><li>  @ContextConfoguration (classes = JavaConfig.class) - carrega a configura√ß√£o java / xml para criar contexto no teste <br></li></ul><br><p>  Voc√™ pode usar a anota√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>@SpringJUnitConfig</code></a> , que combina essas duas anota√ß√µes. <br>  Voc√™ pode usar a anota√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>@SpringJUnitWebConfig</code></a> para testar a camada da web. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Como desligar o contexto em um aplicativo?</b> <div class="spoiler_text"><p>  Se este n√£o √© um aplicativo da web, existem duas maneiras: </p><br><ul><li>  Registre o shutdown-hook usando a chamada do m√©todo <code>registerShutdownHook()</code> , ela tamb√©m √© implementada na classe AbstractApplicationContext.  Este √© o m√©todo preferido. </li><li>  Voc√™ pode chamar o m√©todo <code>close()</code> da classe AbstractApplicationContext. </li></ul><br><p>  No aplicativo Spring Boot: </p><br><ul><li>  O Spring Boot registrar√° o gancho de desligamento para voc√™ sozinho. </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">O que √© a configura√ß√£o Java?</b>  <b class="spoiler_title">Como √© aplicado?</b> <div class="spoiler_text"><p>  Para criar uma classe com configura√ß√£o baseada no c√≥digo Java, √© necess√°rio anot√°-la com <br>  <code>@Configuration</code> . <br>  Esta classe conter√° m√©todos de f√°brica para criar gr√£os no cont√™iner. <br>  Esses m√©todos devem ser anotados com a anota√ß√£o <code>@Bean</code> . </p><br><p>  Um exemplo: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DSConfig</span></span></span><span class="hljs-class"> </span></span>{  <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span>  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dataSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataSourceBuilder          .create()          .username(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .password(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .url(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .driverClassName(<span class="hljs-string"><span class="hljs-string">""</span></span>)          .build();  } }</code> </pre> <br><p>  Essa classe colocar√° uma inst√¢ncia da classe DataSource no cont√™iner.  Posteriormente, pode ser usado ao acessar o banco de dados. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">DI usando anota√ß√µes, varredura de classe</b> <div class="spoiler_text"><p>  Varredura de componentes - o Spring detecta automaticamente os gr√£os que estar√£o no cont√™iner.  Estes s√£o compartimentos com estere√≥tipos de anota√ß√µes. </p><br><p>  No entanto, a verifica√ß√£o de componentes n√£o est√° ativada por padr√£o. <br>  Para ativar a varredura, anote a classe @ Configuration com a anota√ß√£o <code>@ComponentScanning</code> .  O Spring verificar√° automaticamente o pacote que cont√©m essa classe e todos os seus subpacotes. <br>  Voc√™ pode especificar outros pacotes para verifica√ß√£o e at√© classes: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// 2  @Configuration(basePackages = {"soundsystem", "video"})</span></span></code> </pre> <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  @Configuration(basePackageClasses = "MyClass.class")</span></span></code> </pre> <br><p>  Fia√ß√£o autom√°tica - O Spring injeta automaticamente depend√™ncias ao digitalizar ou colocar uma bandeja em um cont√™iner. <br>  A inje√ß√£o de depend√™ncia usa a anota√ß√£o <code>@Autowire</code> . </p></div></div><br><div class="spoiler">  <b class="spoiler_title">O que s√£o estere√≥tipos (anota√ß√µes-estere√≥tipos)?</b> <div class="spoiler_text"><p>  Estere√≥tipos s√£o anota√ß√µes que indicam funcionalidade especial. <br>  Todos os estere√≥tipos incluem anota√ß√£o <code>@Component</code> . </p><br><div class="scrollable-table"><table><tbody><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Componente</a> </td><td>  A anota√ß√£o raiz que marca uma classe como candidata √† implementa√ß√£o autom√°tica </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Controlador</a> </td><td>  Indica que a classe √© o controlador para enviar dados para a frente. <br></td></tr><tr><td>  @RestController </td><td>  Indica que a classe √© o controlador para o REST. <br>  Cont√©m anota√ß√µes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Controller</a> e @ResponseBody </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Servi√ßo</a> </td><td>  Indica que a classe √© um servi√ßo para executar a l√≥gica de neg√≥cios. </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Reposit√≥rio</a> </td><td>  Indica que a classe √© um reposit√≥rio para trabalhar com o banco de dados. </td></tr><tr><td>  @Configuration </td><td>  Indica que a classe cont√©m uma configura√ß√£o Java (m√©todos @ Bean) </td></tr></tbody></table></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Quais s√£o os escopos da lixeira?</b>  <b class="spoiler_title">Qual √© a visibilidade padr√£o deles?</b> <div class="spoiler_text"><p>  Escopo - escopo.  Existem 2 escopos padr√£o. </p><br><div class="scrollable-table"><table><tbody><tr><td>  Singleton <br></td><td>  O escopo padr√£o.  H√° apenas 1 inst√¢ncia de bean no cont√™iner <br></td></tr><tr><td>  Prot√≥tipo <br></td><td>  Qualquer n√∫mero de inst√¢ncias de posi√ß√£o pode estar no cont√™iner <br></td></tr></tbody></table></div><br><p>  E 4 escopos em um aplicativo da web. </p><br><div class="scrollable-table"><table><tbody><tr><td>  Pedido <br></td><td>  Escopo - 1 solicita√ß√£o HTTP.  Um novo bean √© criado para cada solicita√ß√£o. <br></td></tr><tr><td>  Sess√£o <br></td><td>  Escopo - 1 sess√£o.  Um novo bean √© criado para cada sess√£o. <br></td></tr><tr><td>  Aplica√ß√£o <br></td><td>  Escopo - Ciclo de Vida do ServletContext <br></td></tr><tr><td>  Soquete da Web <br></td><td>  Escopo - Ciclo de vida do WebSocket <br></td></tr></tbody></table></div><br><p>  O escopo √© indicado usando a anota√ß√£o <code>@Bean</code> nos m√©todos <code>@Bean</code> . </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Como os v√°rios escopos e multithreading est√£o relacionados?</b> <div class="spoiler_text"><p>  O escopo do prot√≥tipo n√£o √© seguro para threads porque  n√£o garante que a mesma inst√¢ncia ser√° chamada apenas em 1 thread. </p><br><p>  O Singleton Scope, por outro lado, √© seguro para threads. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Como os beans s√£o criados: instant√¢nea ou pregui√ßosamente?</b>  <b class="spoiler_title">Como mudar esse comportamento?</b> <div class="spoiler_text"><p>  Os beans Singleton geralmente s√£o criados imediatamente ap√≥s a varredura. <br>  Os prot√≥tipos de feij√£o geralmente s√£o criados somente mediante solicita√ß√£o. </p><br><p>  Voc√™ pode usar a anota√ß√£o <code>@Lazy</code> para indicar como inicializar. <br>  Ele √© colocado nos m√©todos @ Bean, nas classes @ Configuration ou nas classes @ Component. <br>  Dependendo do par√¢metro (verdadeiro ou falso) que a anota√ß√£o aceita, a inicializa√ß√£o ser√° lenta ou ocorrer√° imediatamente.  Por padr√£o (ou seja, sem especificar um par√¢metro), true √© usado. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">O que acontece se um compartimento com um escopo for incorporado em um compartimento com outro escopo?</b> <div class="spoiler_text"><p>  O feij√£o Singleton pode ser incorporado em qualquer outro feij√£o. </p><br><p>  Somente <em><code>prototype</code></em> ou <em><code>singleton</code></em> pode ser incorporado no <em><code>singleton</code></em> . <br>  Se voc√™ implementar o prot√≥tipo, ser√° criado um prot√≥tipo exclusivo para cada singleton. </p><br><p>  O prot√≥tipo pode ser uma depend√™ncia para qualquer bean. <br>  Voc√™ pode implementar apenas singleton ou prot√≥tipo. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">O que √© um BeanFactoryPostProcessor e quando √© usado?</b> <div class="spoiler_text"><ul><li>  <code>BeanFactoryPostProcessor</code> trabalha nas descri√ß√µes de bin ou metadados de configura√ß√£o antes que o bin seja criado. </li><li>  O Spring fornece v√°rias implementa√ß√µes √∫teis do <code>BeanFactoryPostProcessor</code> , por exemplo, lendo arquivos de propriedades e obtendo propriedades de <code>BeanFactoryPostProcessor</code> deles. </li><li>  Voc√™ pode escrever sua pr√≥pria implementa√ß√£o do BFPP. </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Por que voc√™ precisa do m√©todo static @ Bean?</b> <div class="spoiler_text"><p>  Para usar o BFPP personalizado.  Voc√™ pode substituir o mecanismo para obter dados de metarquivos. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> PropertySourcesPlaceholderConfigurer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pspc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{    <span class="hljs-comment"><span class="hljs-comment">//,    pspc }</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Descreva as propriedades da anota√ß√£o @Bean</b> <div class="spoiler_text"><ul><li>  <code>destroyMethod</code> - aponta para um m√©todo de retorno de chamada.  O m√©todo est√° na lixeira. </li><li>  <code>initMethod</code> - aponta para um m√©todo de retorno de chamada.  O m√©todo est√° na lixeira. </li><li>  <code>name</code> - o nome do bean.  Por padr√£o, o nome do bean √© o nome do m√©todo. </li><li>  <code>value</code> - alias para name () </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">O que √© um BeanPostProcessor e como ele √© diferente de um BeanFactoryPostProcessor?</b> <div class="spoiler_text"><p>  O Spring usa v√°rios BeanPostProcessors. <br>  Por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>CommonAnnotationPostProcessor</code></a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>AutowiredAnnotationBeanPostProcessor</code></a> . <br>  O BPP funciona com inst√¢ncias de bean, ou seja,  o cont√™iner cria a bandeja e, em seguida, o BPP √© iniciado. </p><br><img src="https://habrastorage.org/webt/7u/-v/bt/7u-vbtqvcgkoscws4xca3e90yrw.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">O que s√£o m√©todos de retorno de chamada e como us√°-los?</b> <div class="spoiler_text"><p>  Existem 3 op√ß√µes para criar esses m√©todos: </p><br><ul><li>  <code>@PreDestroy</code> e <code>@PostConstruct</code> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Os</a> <code>destroyMethod</code> e <code>destroyMethod</code> na anota√ß√£o <code>destroyMethod</code> que apontam para m√©todos na classe de bean </li><li>  <code>InitializingBean#afterPropertiesSet()</code> e <code>DisposableBean#destroy()</code> .  Para substituir esses m√©todos, voc√™ precisa implementar as interfaces correspondentes. </li></ul><br><img src="https://habrastorage.org/webt/y6/yz/yx/y6yzyxkd94o9omsqbjimep2fowg.png"></div></div><br><div class="spoiler">  <b class="spoiler_title">Como posso usar a anota√ß√£o @Autowire e qual a diferen√ßa entre as maneiras?</b> <div class="spoiler_text"><p>  A seguir est√£o os tipos de DI que podem ser usados ‚Äã‚Äãno seu aplicativo: </p><br><ul><li>  Constructor DI </li><li>  Setter di </li><li>  Campo di </li></ul><br><p>  A DI atrav√©s do construtor √© considerada a melhor maneira, porque  para ele, n√£o h√° necessidade de usar a reflex√£o, e ele tamb√©m n√£o tem as desvantagens da DI atrav√©s do levantador. <br>  DI atrav√©s do campo n√£o √© recomendado, porque  Para isso, √© utilizada a reflex√£o que reduz a produtividade. <br>  A DI atrav√©s do construtor pode levar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">depend√™ncias circulares</a> .  Para evitar isso, voc√™ pode usar a inicializa√ß√£o lenta de beans ou DI atrav√©s do configurador. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Descreva o comportamento da anota√ß√£o @Autowired</b> <div class="spoiler_text"><ol><li>  O cont√™iner determina o tipo de objeto a ser incorporado. </li><li>  Um cont√™iner procura beans em um contexto (tamb√©m conhecido como cont√™iner) que corresponde ao tipo desejado </li><li>  Se houver v√°rios candidatos, e um deles estiver marcado como <code>@Primary</code> , ser√° implementado </li><li>  Se as anota√ß√µes do <code>@Autowire</code> + <code>Qualifier</code> forem usadas, o cont√™iner usar√° as informa√ß√µes do <code>@Qualifier</code> para descobrir qual componente implantar </li><li>  Caso contr√°rio, o cont√™iner tentar√° injetar o componente com base em seu nome ou ID. </li><li>  Se nenhum dos m√©todos funcionou, uma exce√ß√£o ser√° lan√ßada </li></ol><br><p>  O cont√™iner lida com a DI usando um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AutowiredAnnotationBeanPostProcessor</a> .  Nesse sentido, a anota√ß√£o n√£o pode ser usada em nenhum BeanFactoryPP ou BeanPP. </p><br><p>  Se o objeto injetado for uma matriz, cole√ß√£o ou mapa com um gen√©rico, o Spring incorporar√° todos os beans do tipo nessa matriz (ou outra estrutura de dados).  No caso do mapa, a chave ser√° o nome do bean. </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// ,   DI @Authowired(required = true/false)</span></span></code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Como fazer DI em um campo privado?</b> <div class="spoiler_text"><p>  Voc√™ pode usar diferentes tipos de implementa√ß√£o: </p><br><ul><li>  Construtor </li><li>  Setter </li><li>  Inje√ß√£o em campo </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Valor</a> </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Como o uso do @Qualifier complementa o @Autowired?</b> <div class="spoiler_text"><p>  O Spring fornece anota√ß√µes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Qualificador</a> para superar o problema de ambiguidade de DI. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span> <span class="hljs-meta"><span class="hljs-meta">@Qualifier</span></span>(<span class="hljs-string"><span class="hljs-string">"SomeClass1"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> SomeClass </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getField</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-comment"><span class="hljs-comment">//‚Ä¶ @Autowire @Qualifier("SomeField1") public SomeClass someField;</span></span></code> </pre> <br><p>  Se houver v√°rios compartimentos do mesmo tipo no cont√™iner (SomeClass), o cont√™iner implementar√° o bean com o qualificador correspondente acima do m√©todo @ Bean.  Voc√™ tamb√©m n√£o pode colocar um qualificador em um m√©todo, mas use o nome do bean como um par√¢metro de qualificador. <br>  O nome do bean pode ser especificado atrav√©s do par√¢metro de anota√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Bean</a> e, por padr√£o, este √© o nome do m√©todo de f√°brica. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">O que s√£o objetos proxy e que tipos de objetos proxy o Spring pode criar?</b> <div class="spoiler_text"><p>  Um proxy √© um objeto especial que possui os mesmos m√©todos p√∫blicos que o bean, mas que possui funcionalidade adicional. <br>  Dois tipos de proxies: </p><br><ul><li>  JDK-proxy - proxy din√¢mico.  APIs s√£o constru√≠das no JDK.  Precisa de uma interface </li><li>  Proxy CGLib - n√£o incorporado ao JDK.  Usado quando a interface do objeto est√° indispon√≠vel. </li></ul><br><p>  Pr√≥s de objetos proxy: </p><br><ul><li>  Permitir adicionar extra.  l√≥gica - gerenciamento de transa√ß√µes, seguran√ßa, registro </li><li>  Separa algum c√≥digo (log etc.) da l√≥gica principal </li></ul></div></div><br><div class="spoiler">  <b class="spoiler_title">Como um bean singleton √© implementado?</b> <div class="spoiler_text"><p>  Se n√£o houver inst√¢ncia de bean no cont√™iner, o m√©todo @ Bean ser√° chamado.  Se houver uma inst√¢ncia de bean, o bean j√° criado ser√° retornado. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">O que s√£o perfis?</b>  <b class="spoiler_title">Quais s√£o os motivos deles para usar?</b> <div class="spoiler_text"><p>  Ao usar a configura√ß√£o Java, voc√™ pode usar a anota√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><code>@Profile</code></a> . <br>  Ele permite que voc√™ use configura√ß√µes diferentes para o Spring, dependendo do perfil especificado. <br>  Ele pode ser colocado nas classes @Configuration e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Component</a> , bem como nos m√©todos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Bean</a> . </p><br><pre> <code class="java hljs">Profile(<span class="hljs-string"><span class="hljs-string">"!test"</span></span>) <span class="hljs-comment"><span class="hljs-comment">//   ,  </span></span></code> </pre> <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Bean</span></span>(<span class="hljs-string"><span class="hljs-string">"dataSource"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Profile</span></span>(<span class="hljs-string"><span class="hljs-string">"production"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jndiDataSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{...} <span class="hljs-meta"><span class="hljs-meta">@Bean</span></span>(<span class="hljs-string"><span class="hljs-string">"dataSource"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@Profile</span></span>(<span class="hljs-string"><span class="hljs-string">"development"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DataSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">standaloneDataSource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{...}</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Como incorporar valores simples em propriedades no Spring?</b> <div class="spoiler_text"><p>  Voc√™ pode usar a anota√ß√£o <code>@Value</code> para <code>@Value</code> . <br>  Esses valores podem ser obtidos em arquivos de propriedades, em compartimentos etc. </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span>(<span class="hljs-string"><span class="hljs-string">"$some.key"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String stringWithDefaultValue;</code> </pre> <br><p>  Uma sequ√™ncia ser√° incorporada nessa vari√°vel, por exemplo, da propriedade ou da visualiza√ß√£o. </p></div></div><br><blockquote>  Como sempre, envie corre√ß√µes ou erros encontrados no PM. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt470305/">https://habr.com/ru/post/pt470305/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt470287/index.html">Migrant</a></li>
<li><a href="../pt470289/index.html">A linguagem de programa√ß√£o dos meus sonhos</a></li>
<li><a href="../pt470293/index.html">Como a vulnerabilidade no Yandex.Stations me inspirou no projeto: transfer√™ncia de dados de m√∫sica</a></li>
<li><a href="../pt470301/index.html">√Årvore de palavras-chave: an√°lise gr√°fica para extra√ß√£o sem√¢ntica</a></li>
<li><a href="../pt470303/index.html">Instale o servidor tftp no CentOS 8 ou RedHat 8</a></li>
<li><a href="../pt470311/index.html">Brinquedos de madeira, parte sete - 1993</a></li>
<li><a href="../pt470313/index.html">Brinquedos de madeira, parte oito - 1994</a></li>
<li><a href="../pt470317/index.html">Folha de dicas da abrevia√ß√£o de C ++ e muito mais. Parte 2: "e n√£o apenas"</a></li>
<li><a href="../pt470321/index.html">Brinquedos de madeira, parte nove - 1995</a></li>
<li><a href="../pt470323/index.html">DIY DeepFake [Parte 1]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>