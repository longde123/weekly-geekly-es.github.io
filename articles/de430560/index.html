<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíáüèΩ üêö üèéÔ∏è Frontend, Algorithmen und Opossum Frederick. Wir analysieren die Aufgaben des Yandex-Wettbewerbs üõ†Ô∏è üßõüèª üïµüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mit diesem Beitrag schlie√üen wir eine Reihe von Ver√∂ffentlichungen √ºber Yandex.Blitz-Wettbewerbe im Jahr 2018 ab. Wir hoffen, dass Sie die Gelegenheit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Frontend, Algorithmen und Opossum Frederick. Wir analysieren die Aufgaben des Yandex-Wettbewerbs</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/430560/">  Mit diesem Beitrag schlie√üen wir eine Reihe von Ver√∂ffentlichungen √ºber Yandex.Blitz-Wettbewerbe im Jahr 2018 ab.  Wir hoffen, dass Sie die Gelegenheit hatten, teilzunehmen oder zumindest zu sehen, welche Art von Aufgaben wir in der N√§he der Produktion vorschlagen.  Der letzte Wettbewerb war der Verwendung von Algorithmen im Frontend gewidmet.  Heute ver√∂ffentlichen wir detaillierte Analysen von 12 Problemen: Die ersten 6 wurden in der Qualifikationsrunde und die Probleme 7‚Äì12 im Finale vorgeschlagen.  Wir haben versucht zu erkl√§ren, wie sich Bedingungen gebildet haben, auf welche F√§higkeiten wir geachtet haben.  Vielen Dank an alle Teilnehmer f√ºr ihr Interesse! <br><br><img src="https://habrastorage.org/webt/qs/lc/ea/qslceahk05pazepzdxsboshaqrg.jpeg"><br><br><h2>  Aufgabe 1 </h2><br>  Die erste Aufgabe bestand darin, sich 20 Minuten lang aufzuw√§rmen, und wir beschlossen, den Zustand so zu gestalten, dass er mit regul√§ren Ausdr√ºcken leicht gel√∂st werden konnte. <br><a name="habracut"></a><br>  Alle Optionen f√ºr die Aufgabe sind auf √§hnliche Weise aufgebaut - es gibt eine Aufteilung in Punkte, von denen jeder durch die Gruppe im endg√ºltigen regul√§ren Ausdruck dargestellt werden kann. <br><br>  Betrachten Sie eine der Optionen: Post. <br><br><h4>  Zustand </h4><br>  Auf dem Planeten Jopan-14-53 wollen sich die Einheimischen gegenseitig Briefe schicken, aber die Taubenroboter, die sie ausliefern sollen, sind in den Adressen verwirrt.  Sie m√ºssen ihnen beibringen, Buchstaben zu analysieren und ihre G√ºltigkeit zu √ºberpr√ºfen. <br><br>  Die Struktur des grundlegenden Teils der Adresse besteht aus der Region, der Gemeinde, dem Vor- und Nachnamen des Empf√§ngers.  Die Gemeinde kann in Landkreise und Post√§mter unterteilt werden.  Alle Teile sind durch ein Komma getrennt. <br><br>  Die Namen von Regionen, Gemeinden und Bezirken sind W√∂rter, der erste Buchstabe in jedem Wort ist gro√ü, der Rest ist klein.  Es sind Namen mit zwei W√∂rtern m√∂glich, die durch ein Leerzeichen oder ein Minuszeichen getrennt sind.  In jedem Wort drei bis acht Buchstaben AZ. <br><br>  Die Bewohner haben 6 Finger in der Hand, im Alltag das Duodezimalsystem.  Die Zahlen 0‚Äì9 werden unver√§ndert verwendet, und 10 und 11 werden durch die Zeichen <code>~</code> und <code>‚âà</code> angezeigt. <br><br>  Die Postnummer in der Komposition besteht entweder aus 3 Ziffern in einer Reihe oder aus 4 Ziffern, die in 2 Gruppen zu je 2 Ziffern mit einem Minuszeichen unterteilt sind.  Beispiele: <code>300</code> , <code>44-99</code> . <br><br>  Manchmal schicken die Bewohner auf Anfrage Briefe an die Gemeinde.  In diesem Fall gibt es keine Adresse: nur die Gemeinde und den Namen des Empf√§ngers. <br><br>  Es ist lustig, aber die Menschen auf dem Planeten hei√üen nur sechs Namen und neun Nachnamen.  Namen: Shob, Ryob, Mob, Xiang, Ryan, Mans.  Nachnamen: Sho, Ryo, Mo, Xia, Rya, Ma, Syu, Ryu, Mu.  Die Bewohner dieses Planeten sind √ºberhaupt keine Tr√§umer. <br><br><h4>  Parsen </h4><br><blockquote>  Die Struktur des grundlegenden Teils der Adresse besteht aus der Region, der Gemeinde, dem Vor- und Nachnamen des Empf√§ngers.  Die Gemeinde kann in Landkreise und Post√§mter unterteilt werden.  Alle Teile sind durch ein Komma getrennt. </blockquote><br>  In den ersten Abs√§tzen erfahren wir, wie Region, Gemeinde, Bezirk, Post, Name und Nachname angegeben werden und in welcher Reihenfolge sie in der getesteten Zeile folgen sollen. <br><br><blockquote>  Die Namen von Regionen, Gemeinden und Bezirken sind W√∂rter, der erste Buchstabe in jedem Wort ist gro√ü, der Rest ist klein.  Es sind Namen mit zwei W√∂rtern m√∂glich, die durch ein Leerzeichen oder ein Minuszeichen getrennt sind.  In jedem Wort drei bis acht Buchstaben AZ. </blockquote><br>  Aus diesem Absatz geht hervor, dass die Gruppe den W√∂rtern entspricht <code>([-][-]{2,7})</code> .  Und die Namen <code>([-][-]{2,7}(?:[- ][-][-]{2,7}))</code> . <br><br><blockquote>  Die Bewohner haben 6 Finger in der Hand, im Alltag das Duodezimalsystem.  Die Zahlen 0‚Äì9 werden unver√§ndert verwendet, und 10 und 11 werden durch die Zeichen <code>~</code> und <code>‚âà</code> angezeigt. </blockquote><br>  Hier erfahren wir, dass es nicht ausreicht, <code>\d</code> f√ºr Zahlen zu verwenden - Sie m√ºssen <code>[0-9~‚âà]</code> . <br><br><blockquote>  Die Postnummer in der Komposition besteht entweder aus 3 Ziffern in einer Reihe oder aus 4 Ziffern, die in 2 Gruppen zu je 2 Ziffern mit einem Minuszeichen unterteilt sind.  Beispiele: <code>300</code> , <code>44-99</code> . </blockquote><br>  Somit entspricht die Gruppe den Postnummern <code>([0-9~‚âà]{3}|[0-9~‚âà]{2}-[0-9~‚âà]{2})</code> . <br><br><blockquote>  Manchmal schicken die Bewohner auf Anfrage Briefe an die Gemeinde.  In diesem Fall gibt es keine Adresse: nur die Gemeinde und den Namen des Empf√§ngers. </blockquote><br>  Wir verstehen, erinnern uns und ber√ºcksichtigen bei der Versammlung der endg√ºltigen Funktion, dass der Bezirk und das Postamt gleichzeitig abwesend sein k√∂nnen. <br><br><blockquote>  Es ist lustig, aber die Menschen auf dem Planeten hei√üen nur sechs Namen und neun Nachnamen.  Namen: Shob, Ryob, Mob, Xiang, Ryan, Mans.  Nachnamen: Sho, Ryo, Mo, Xia, Rya, Ma, Syu, Ryu, Mu.  Die Bewohner dieses Planeten sind √ºberhaupt keine Tr√§umer. </blockquote><br>  Dies ist der letzte Teil der Bedingung.  Hier brauchten wir eine andere einfache Gruppe <code>(||||||||) (|||||)</code> oder ihr k√ºrzeres Gegenst√ºck <code>([][]|[]) ([C]|[]||)</code> . <br><br>  Der Einfachheit halber speichern wir die Gruppen in Variablen und verwenden sie im resultierenden regul√§ren Ausdruck. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> w = <span class="hljs-string"><span class="hljs-string">'[-][-]{2,7}'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// word const d = '[0-9~‚âà]'; // digit const name = `(?:${w}(?:[- ]${w})?)`; const number = `(?:${d}{3}|${d}{2}-${d}{2})`; const person = '(?:[][]|[]) (?:|||||)'; // , , (,  , )?  const re = new RegExp(`^(${name}),\\s*(${name}),\\s*(?:(${name}),\\s*(${number}),\\s*)?(${person})$`); module.exports = function(str) { //      if (typeof str !== 'string') return null; const res = str.match(re); //   -   if (!res) return null; //    //    ,     return res.slice(1); };</span></span></code> </pre> <br><h2>  Aufgabe 2. Code, in dem ein Fehler vorliegt </h2><br><h4>  Zustand </h4><br>  Tags√ºber hat das Entwicklungsteam mehrere neue Funktionen entwickelt.  Bei der Vorbereitung des Releases traten jedoch Zusammenf√ºhrungskonflikte auf, und nachdem sie gel√∂st wurden, wurde das Layout getrennt.  Es ist dringend erforderlich, Fehler aufgrund der minimalen Anzahl von Korrekturen im Code zu beseitigen, damit die Version Zeit hat, in Produktion zu gehen. <br><br>  Sie erhalten eine HTML-Seite mit fehlerhaften Stilen und einem PNG-Format (mit dem erwarteten Ergebnis).  Sie m√ºssen die Fehler beheben, damit das Ergebnis beim Anzeigen in Chrome dem urspr√ºnglichen Screenshot entspricht.  Senden Sie die korrigierte Seite als L√∂sung f√ºr das Problem. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HTML-Seite</a> mit defekten Stilen.  Layout: <br><br><img src="https://habrastorage.org/webt/on/3k/pu/on3kpuxrurmtfvpllwopkxd7j7e.png"><br><br><h4>  Parsen </h4><br>  In dieser Aufgabe haben wir versucht, die Situation nachzuahmen, auf die Yandex-Entwickler regelm√§√üig sto√üen: Finden Sie in der riesigen Codebasis die wenigen einfachen Codezeilen, deren Korrektur zum gew√ºnschten Ergebnis f√ºhrt.  Das hei√üt, die Schwierigkeit bestand nicht darin, den Code zu schreiben, sondern zu verstehen, wo genau er geschrieben (oder gel√∂scht) werden soll. <br><br>  Wir haben den echten Suchmaschinencode genommen und nur ein paar Korrekturen vorgenommen, die das Layout besch√§digt haben.  Die Teilnehmer des Wettbewerbs hatten weniger als eine Stunde Zeit, um mit ungef√§hr 250 Kilobyte Layout fertig zu werden und den Code in einen Zustand zu bringen, der dem Layout entspricht. <br><br>  Es ist klar, dass das Zeitlimit f√ºr den Wettbewerb nicht das Lesen des gesamten Codes erlaubte, daher sollten die Teilnehmer die Tools f√ºr Entwickler im Browser verwenden. <br><br>  Um eine der vier Aufgabenoptionen zu korrigieren, waren die folgenden √Ñnderungen ausreichend: <br><br><pre>  diff --git a / blitz.html b / blitz.html </pre><pre>  Index 36b9af8..1e30545 100644 </pre><pre>  <font color="#cc0000">--- a / blitz.html</font> </pre><pre>  <font color="#0fc000">+++ b / blitz.html</font> </pre><pre>  <b>@@ -531.10 +531.6 @@</b> </pre><pre>  iframe [src $ = 'ext-analysis.html'] { </pre><pre>  H√∂he: Auto; </pre><pre>  }} </pre><pre>  <font color="#cc0000">-.search2__button .suggest2-form__button: n-tes Kind (1) {</font> </pre><pre>  <font color="#cc0000">- Hintergrund: # ff0! wichtig;</font> </pre><pre>  <font color="#cc0000">-}</font> </pre><pre>  <font color="#cc0000">- -</font> </pre><pre>  / * ../../blocks-desktop/input/__control/input__control.styl end * / </pre><pre>  / * ../../node_modules/islands/common.blocks/input/__clear/input__clear.css begin * / </pre><pre>  / * Positioniert relativ zu input__box. </pre><pre>  <b>-744.10 +740.6 @@</b> </pre><pre>  iframe [src $ = 'ext-analysis.html'] { </pre><pre>  Hintergrundclip: Polsterbox; </pre><pre>  }} </pre><pre>  .input_theme_websearch .input__clear { </pre><pre>  Hintergrundbild: URL ("/ static / web4 / node_modules / Islands / common.blocks / input / _theme / input_theme_websearch.assets / clear.svg"); </pre><pre>  Hintergrundgr√∂√üe: 16px; </pre><pre>  <b>@@ -857.6 +849.7 @@</b> </pre><pre>  iframe [src $ = 'ext-analysis.html'] { </pre><pre>  Hintergrundfarbe: # f2cf46; </pre><pre>  }} </pre><pre>  .websearch-button__text: vor { </pre><pre>  <font color="#0fc000">+ Position: absolut;</font> </pre><pre>  oben: -6px; </pre><pre>  rechts: -9px; </pre><pre>  Breite: 0; </pre><pre>  <b>@@ -866.8 +859.6 @@</b> </pre><pre>  iframe [src $ = 'ext-analysis.html'] { </pre><pre>  Randstil: fest; </pre><pre>  Randfarbe: rgba (255,219,76,0); </pre><pre>  Rand-links-Farbe: erben; </pre><pre>  <font color="#cc0000">- Position: relativ;</font> </pre><pre>  <font color="#cc0000">- Z-Index: -1000;</font> </pre><pre>  }} </pre><pre>  / * ../../blocks-deskpad/websearch-button/websearch-button.styl end * / </pre><pre>  <b>@@ -1349.6 +1340.7 @@</b> </pre><pre>  iframe [src $ = 'ext-analysis.html'] { </pre><pre>  Schriftgr√∂√üe: 14px; </pre><pre>  Zeilenh√∂he: 40px; </pre><pre>  Position: relativ; </pre><pre>  <font color="#0fc000">+ Anzeige: Inline-Block;</font> </pre><pre>  H√∂he: Auto; </pre><pre>  Polsterung: 0; </pre><pre>  vertikal ausrichten: Mitte; </pre><br><br><h2>  Aufgabe 3. Ein Bild mit einer bestimmten Variabilit√§t </h2><br><h4>  Zustand </h4><br><img src="https://habrastorage.org/webt/5z/mg/w8/5zmgw8gjtcs5o-01l9ic8atnusy.png"><br><br>  Der Designer hat das Logo entworfen.  Es muss unter verschiedenen Bedingungen verwendet werden.  Um es so bequem wie m√∂glich zu gestalten, erstellen Sie ein HTML-Element in reinem CSS. <br><br>  Sie k√∂nnen keine Bilder verwenden (auch nicht durch Daten: uri). <br><br><h4>  Parsen </h4><br>  Da die Aufgabe darin bestand, nur ein Div zu verwenden, haben wir nur das Div selbst und die Pseudoelemente :: vorher und :: nachher. <br><br>  Das Bild auf dem Layout besteht gl√ºcklicherweise nur aus drei Bereichen unterschiedlicher Farbe.  Wir erstellen unseren eigenen Hintergrund f√ºr jedes zug√§ngliche Element, die richtige Position und die runden Ecken.  Es gibt einen Schatten auf dem grauen Bereich des Layouts - wir machen es mit einem Farbverlauf. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#0C0C0C</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">10px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: relative; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">9px</span></span> <span class="hljs-number"><span class="hljs-number">9px</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-number"><span class="hljs-number">#F8E34B</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">div</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">linear-gradient</span></span>(178deg, #C8C8C8 0px , transparent 7px), <span class="hljs-number"><span class="hljs-number">#EEEDEF</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>: absolute; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bottom</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9px</span></span>; }</code> </pre><br><h2>  Aufgabe 4 </h2><br><h4>  Zustand </h4><br>  Petja arbeitet als leitender Schriftsetzer in der Zeitung Moscow Frontender.  F√ºr das Layout der Zeitung verwendet Petya einen Stapel von Webtechnologien.  Die schwierigste Aufgabe f√ºr Petya war die Anordnung der √úberschriften in Zeitungsartikeln: Die Zeitungsspalten in jeder Ausgabe haben unterschiedliche Breiten, und die √úberschriften haben eine andere Schriftart und eine unterschiedliche Anzahl von Zeichen. <br><br>  Petya muss f√ºr jede √úberschrift seine eigene Schriftgr√∂√üe ausw√§hlen, damit die Schriftgr√∂√üe maximal ist. Gleichzeitig passt der gesamte √úberschriftentext in den ihm zugewiesenen Bereich. <br><br>  Hilfe Petya: Implementieren Sie die Funktion calcFontSize, mit der Sie den √ºbertragenen Text so in den Container eingeben k√∂nnen, dass er in den gesamten Container passt und die maximal m√∂gliche Gr√∂√üe hat.  Wenn dies fehlschl√§gt, sollte die L√∂sung null zur√ºckgeben.  Die maximale L√§nge der Eingabezeile betr√§gt 100 Zeichen.  Die Eingabezeichenfolge darf nicht leer sein.  Ihre L√∂sung sollte den gesamten Funktionscode enthalten und keine externen Abh√§ngigkeiten verwenden, damit Petja ihn in sein Projekt kopieren und in seinem Code aufrufen kann. <br><br>  Wir werden pr√ºfen, wie optimal Ihre L√∂sung funktioniert, und sie optimieren, wenn sie zu viele DOM-Manipulationen hervorruft. <br><br><h4>  Parsen </h4><br>  Als Erstes m√ºssen Sie lernen, wie Sie feststellen, ob der Text in den Container passt, da der Text im Container mehrere Zeilen umfassen kann.  Der einfachste Weg, dies zu tun, ist die Verwendung der Funktion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">element.getBoundingClientRect ()</a> , mit der Sie die Abmessungen des Elements <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">abrufen</a> k√∂nnen. <br><br>  Sie k√∂nnen Text mit einem separaten Span-Element im Container zeichnen und pr√ºfen, ob die Breite oder H√∂he dieses Elements die Gr√∂√üe des Containers √ºberschreitet.  Wenn ja, passt der Text nicht in den Container. <br><br>  √úberpr√ºfen Sie als n√§chstes die Randbedingungen.  Wenn der Text trotz einer Mindestschriftgr√∂√üe nicht in den Container passt, kann er nicht eingegeben werden.  Wenn der Text mit der maximal zul√§ssigen Gr√∂√üe unterbrochen wird, ist max die richtige Antwort.  In anderen F√§llen liegt die gew√ºnschte Schriftgr√∂√üe irgendwo im Intervall [min, max]. <br><br>  Um eine L√∂sung zu finden, m√ºssen Sie diese gesamte L√ºcke sortieren und einen Wert f√ºr die Schriftgr√∂√üe finden, bei dem der Text in den Container eingef√ºgt wird. Wenn Sie ihn jedoch um 1 ‚Äì‚Äì erh√∂hen, passt er nicht mehr. <br><br>  Sie k√∂nnen dies mit einer einfachen for-Schleife √ºber den Bereich [min, max] tun, aber die L√∂sung f√ºhrt viele √úberpr√ºfungen und Neuzeichnungen der Seite durch - mindestens eine f√ºr jeden Wert, der im Bereich √ºberpr√ºft werden soll.  Die algorithmische Komplexit√§t einer solchen L√∂sung ist linear. <br><br>  Um die Anzahl der √úberpr√ºfungen zu minimieren und eine L√∂sung zu erhalten, die f√ºr O (log n) funktioniert, m√ºssen Sie den bin√§ren Suchalgorithmus verwenden.  Die Idee des Algorithmus ist, dass bei jeder Iteration der Suche der Wertebereich in zwei H√§lften geteilt wird und die Suche in der H√§lfte, in der sich die L√∂sung befindet, rekursiv fortgesetzt wird.  Die Suche wird beendet, wenn der Bereich auf einen einzelnen Wert reduziert wird.  Weitere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Informationen</a> zum bin√§ren Suchalgorithmus finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im Wikipedia-Artikel</a> . <br><br>  Wir haben die algorithmische Komplexit√§t der L√∂sung mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MutationObserver</a> √ºberpr√ºft: Wir haben sie auf der Seite platziert und berechnet, wie viele Mutationen das DOM bei der Suche nach der Antwort trifft.  Bei einigen Tests war die Anzahl der Mutationen von oben streng begrenzt, so dass nur eine auf bin√§rer Suche basierende L√∂sung diese Einschr√§nkung bestehen konnte. <br><br>  Um die volle Punktzahl f√ºr die Aufgabe zu erhalten, mussten auch die verschiedenen Randbedingungen (√úbereinstimmung von min und max, eine leere Textzeile an der Eingabe) sorgf√§ltig √ºberpr√ºft und verschiedene Umgebungsbedingungen angegeben werden, unter denen der Code ausgef√ºhrt wird (z. B. behoben mit! Wichtige Schriftgr√∂√üe auf der CSS-Seite ) <br><br><h2>  Aufgabe 5. Kommunikationsschwierigkeiten </h2><br>  In jeder der Qualifizierungsoptionen gab es eine Aufgabe, bei der eine HTML-Seite mit einer Schnittstelle als Eingabe angeboten wurde.  Die Aufgaben hatten eine andere Legende, aber sie alle liefen darauf hinaus, dass es notwendig war, einige Daten von der Seite zu extrahieren und mithilfe dieser Daten irgendwie mit der Benutzeroberfl√§che zu interagieren. <br><br>  Lassen Sie uns die L√∂sung f√ºr eine der Aufgaben dieser Reihe analysieren, die als "Kommunikationsschwierigkeiten" bezeichnet wurde. <br><br><h4>  Zustand </h4><br>  Pferd Adolf liebt es, mit Freunden am Telefon zu sprechen.  Dies ist leider selten.  Jedes Mal, wenn Adolf anrufen m√∂chte, ben√∂tigt er mehr als eine Stunde, um die Nummer eines Freundes zu w√§hlen.  Dies liegt daran, dass es f√ºr ihn sehr schwierig ist, mit seinen dicken Hufen die richtigen Tasten zu treffen. <br><br>  Gl√ºcklicherweise unterst√ºtzt Adolfs Handy JavaScript.  Bitte schreiben Sie ein Programm, das Adolfs Freunde w√§hlt, indem Sie auf die Tastatur klicken.  Alle notwendigen Nummern werden in einem Notizbuch festgehalten.  Das ungl√ºckliche Pferd wird Ihnen sehr dankbar sein! <br><br><h4>  Parsen </h4><br>  Hier ist die Seite, die als Eingabe angeboten wurde: <br><br><img src="https://habrastorage.org/webt/tz/b-/eb/tzb-ebphwda4nx25n2dlforpplo.png"><br><br>  <b>Der erste Teil der L√∂sung ist das Abrufen von Daten</b> <br>  Jede der Ziffern der Telefonnummer wird durch ein Bild √ºber das Hintergrundbild gesetzt.  Gleichzeitig werden die Zahlen w√§hrend der √úberpr√ºfung dynamisch ersetzt.  Wenn Sie den Debugger in einem Browser √∂ffnen und den DOM-Baum der Seite anzeigen, werden Sie feststellen, dass jedes DOM-Element eindeutige Klassen verwendet: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"game"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"target"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"line"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol nine"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol eight"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol five"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol separator"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol four"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol one"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol two"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"symbol separator"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  In diesem Fall reichte es aus, nur ein W√∂rterbuch zu erstellen, CSS-Klassen zu extrahieren und sie in eine Zeichenfolge mit einer dem W√∂rterbuch entsprechenden Zahl ohne Trennzeichen (CSS-Klassentrennzeichen) zu konvertieren.  Zum Beispiel so: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> digits = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.game .target .symbol:not(.separator)'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dict = { <span class="hljs-string"><span class="hljs-string">'one'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'two'</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'three'</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'four'</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'five'</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'six'</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'seven'</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-string"><span class="hljs-string">'eight'</span></span>: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-string"><span class="hljs-string">'nine'</span></span>: <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">'zero'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> phoneNumber = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(digits).reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res, elem</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> className <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> elem.classList) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (className <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dict) { res.push(dict[className]); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res; }, []);</code> </pre> <br>  Als Ergebnis erhalten wir das folgende Array: [9, 8, 5, 4, 1, 2, 8, 0, 9, 0]. <br><br>  <b>Der zweite Teil der L√∂sung besteht in der Interaktion mit der Schnittstelle</b> <br>  Zu diesem Zeitpunkt haben wir bereits ein Array mit allen Ziffern der Nummer, und wir m√ºssen verstehen, welche Tasten auf der Tastatur welcher Ziffer entsprechen.  Wenn wir uns den HTML-Code ansehen, werden wir feststellen, dass es keine speziellen Hinweisklassen gibt, die eine Zahl auf der Tastatur angeben: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"keys"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"key"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ‚Ä¶ --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Man k√∂nnte einfach manuell ein anderes W√∂rterbuch nach Index erstellen, aber es gibt einen einfacheren Weg.  Wenn Sie sich die Stile im Webinspektor genau ansehen, werden Sie feststellen, dass die Nummer auf der Schaltfl√§che √ºber den Inhalt der CSS-Eigenschaft f√ºr das Pseudoelement: before festgelegt wird.  F√ºr die Taste ‚Äû3‚Äú sehen die Stile beispielsweise folgenderma√üen aus: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.key</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:nth-child(3)</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:before</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">'3'</span></span>; }</code> </pre><br>  Um den Wert dieser Eigenschaft abzurufen, verwenden wir die window.getComputedStyle-Methode: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> keys = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'.game .key'</span></span>)).reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res, elem</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> key = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> <span class="hljs-comment"><span class="hljs-comment">//  CSSStyleDeclaration  - .getComputedStyle(elem, ':before') //    .getPropertyValue('content') //     ,      .replace(/"/g, ''); res[key] = elem; return res; }, {});</span></span></code> </pre> <br>  Als Ergebnis erhalten wir ein Objekt, bei dem die Schl√ºsseltexte die Texte auf den Schaltfl√§chen (Nummer oder "Anruf") sind und die Werte DOM-Knoten sind. <br><br>  Es bleibt nur, die Werte aus dem ersten Array (phoneNumber) zu √ºbernehmen, sie durchzugehen und mit unserem Schl√ºsselw√∂rterbuch auf die entsprechenden Schaltfl√§chen zu klicken: <br><br><pre> <code class="javascript hljs">phoneNumber.push(<span class="hljs-string"><span class="hljs-string">'call'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> call = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> event = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Event(<span class="hljs-string"><span class="hljs-string">'click'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> next = phoneNumber.shift(); keys[next].dispatchEvent(event); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (phoneNumber.length) { setTimeout(call, <span class="hljs-number"><span class="hljs-number">100</span></span>); } } call();</code> </pre> <br>  Bitte beachten Sie: Vor dem W√§hlen f√ºgen wir am Ende des Arrays einen Aufrufwert hinzu.  Dies ist f√ºr die Bedingungen der Aufgabe erforderlich, da die L√∂sung den Test nicht besteht, wenn Sie die Nummer w√§hlen und nicht auf "Anrufen" klicken. <br><br>  Ein weiteres Merkmal ist das asynchrone Dr√ºcken der Tastaturtasten.  Wenn das Zeitintervall zwischen den Tastenanschl√§gen beim W√§hlen weniger als 50 ms betr√§gt, besteht diese L√∂sung den Test ebenfalls nicht.  Diese Funktion wurde in den Bedingungen des Problems nicht explizit beschrieben, und wir erwarteten, dass der Teilnehmer dies durch Lesen des Quellcodes der Seite herausfindet.  √úbrigens erwartete die Teilnehmer des Quellcodes eine kleine √úberraschung.  ;) <br><br><h2>  Aufgabe 6 </h2><br><h4>  Zustand </h4><br>  Fedor Rakushkin verwaltet das Task-Management-System in seinem Unternehmen.  Der Server, auf dem sich das System befindet, ist ausgefallen (und Fedor hat keine Sicherungen durchgef√ºhrt). <br><br>  Im Speicher des Servers befand sich noch ein Cache mit Strukturen, die Aufgaben, Ausf√ºhrende und Beobachter sowie die Beziehungen zwischen diesen Strukturen beschreiben.  Au√üerdem wurde die Cache-Verkn√ºpfung zur zuletzt ge√§nderten Struktur beibehalten. <br><br>  Helfen Sie Fedor, eine Funktion zu schreiben, mit der alle m√∂glichen Verbindungen zwischen Aufgaben und Benutzern wiederhergestellt und in einem Dokument im Markdown-Format gespeichert werden k√∂nnen, von dem aus Fedor die Datenbank auf einem neuen Server wiederherstellt. <br><br>  Das Abschriften-Dokument sollte das folgende Format haben: <br><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section">##  - %  1%,  %username1%, : %username2% - %  2%,  %username1%, : %username2%, %username3% - %  3%,  %username1% //     - %  4%, : %username1%, %username2% //     - %  5% //       - %  6%, : %username1% - %  1%,  %username1% //  - %  2% - %  3%, : %username1% ##  - %username1% * %  1% // ,    * %  2% * %  3% * %  1% - %username2% * %  3%</span></span></code> </pre> <br>  Die Liste der Aufgaben, die Liste der Ausf√ºhrenden in der Aufgabe, die Liste der Beobachter in der Aufgabe, die Liste der Benutzer und die Liste der Aufgaben, die der Benutzer ausf√ºhrt, sollten lexikografisch sortiert werden. <br><br><h4>  Beschreibung der Strukturen im Cache </h4><br>  Benutzer werden im Cache als Struktur vom Typ "Benutzer" gespeichert: <br><br><pre> <code class="javascript hljs">type User = { <span class="hljs-attr"><span class="hljs-attr">login</span></span>: string; tasks: Task[]; spectating: Task[]; };</code> </pre> <br>  Aufgaben werden im Cache als Struktur vom Typ "Aufgabe" gespeichert: <br><br><pre> <code class="javascript hljs">type Task = { <span class="hljs-attr"><span class="hljs-attr">title</span></span>: string; assignee: User; spectators: User[]; subtasks: Task[]; parent: Task | <span class="hljs-literal"><span class="hljs-literal">null</span></span>; };</code> </pre> <br><h4>  L√∂sungsvorlage </h4><br>  Ihre L√∂sung sollte ein CommonJS-Modul enthalten, das eine Funktion exportiert, die der folgenden Signatur entspricht: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @param {User|Task} data -     , *        (User  Task) * @return {string} */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   return '‚Ä¶'; }</span></span></code> </pre> <br><h4>  Beispiele </h4><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    const User1 = { type: 'user', login: 'fedor', tasks: [], spectating: [] }; const User2 = { type: 'user', login: 'arkady', tasks: [], spectating: [] }; //    const Task1 = { type: 'task', title: 'Do something', assignee: null, spectators: [], subtasks: [], parent: null }; const Task2 = { type: 'task', title: 'Something else', assignee: null, spectators: [], subtasks: [], parent: null }; const Task3 = { type: 'task', title: 'Sub task', assignee: null, spectators: [], subtasks: [], parent: null }; //    : //      Task1.assignee = User1; User1.tasks.push(Task1); // ...    ‚Äî  Task1.spectators.push(User2); User2.spectating.push(Task1); //      , //       Task2.spectators.push(User1); User1.spectating.push(Task2); //      Task3.parent = Task2; Task2.subtasks.push(Task3); // ,     ‚Äî  3 const lastEdited = Task3;</span></span></code> </pre> <br>  Wenn Sie einen Link zu "lastEdited" anzeigen, erhalten Sie die folgende Struktur: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Sub task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">assignee</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">spectators</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">subtasks</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">parent</span></span>: { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Something else'</span></span>, <span class="hljs-attr"><span class="hljs-attr">assignee</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-attr"><span class="hljs-attr">spectators</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span>, <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'fedor'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tasks</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'task'</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">'Do something'</span></span>, <span class="hljs-attr"><span class="hljs-attr">assignee</span></span>: [Circular], <span class="hljs-attr"><span class="hljs-attr">spectators</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'user'</span></span>, <span class="hljs-attr"><span class="hljs-attr">login</span></span>: <span class="hljs-string"><span class="hljs-string">'arkady'</span></span>, <span class="hljs-attr"><span class="hljs-attr">tasks</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">spectating</span></span>: [ [Circular] ] } ], <span class="hljs-attr"><span class="hljs-attr">subtasks</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">parent</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">spectating</span></span>: [ [Circular] ] } ], <span class="hljs-attr"><span class="hljs-attr">subtasks</span></span>: [ [Circular] ], <span class="hljs-attr"><span class="hljs-attr">parent</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }</code> </pre> <br>        Markdown      ,    : <br><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section">##  - Do something,  fedor, : arkady - Something else, : fedor - Sub task ##  - arkady - fedor * Do something</span></span></code> </pre> <br><h4>  </h4><br>     ,             . <br><br>   , ,        .        ,    : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *  ,     * @param {{ref: object, visited: ?boolean}} ctx * @param {object} handlers ‚Äî     */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">traverse</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx, handlers</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    ,  ctx.ref , ‚Äî ,     task.parent if (!ctx.ref) { return; } //   ,    ,       const visited = ctx.visited || new Set(); if (visited.has(ctx.ref)) { return; } visited.add(ctx.ref); //       handlers[ctx.ref.type](ctx.ref, goDeeper); //  ,       function goDeeper(subrefs) { //       for (const subref of [].concat(subrefs)) { traverse({ visited, ref: subref }, handlers); } } } //      const users = []; const tasks = []; // ref   ‚Äî     traverse({ ref }, { user(user, deeper) { users.push(user); deeper(user.tasks); // to task.assignee deeper(user.spectating); // to task.spectators }, task(task, deeper) { tasks.push(task); deeper(task.assignee); // to user.tasks deeper(task.spectators); // to user.spectating deeper(task.parent); // to task.subtasks deeper(task.subtasks); // to task.parent } );</span></span></code> </pre><br>       . ,   ,    ‚Ä¶ <br><br><pre> <code class="javascript hljs">users.sort(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">u1, u2</span></span></span><span class="hljs-function">) =&gt;</span></span> u1.login &lt; u2.login ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">u1.login &gt; u2.login ? </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> : </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">)); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tasks</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">sort</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t1, t2</span></span></span><span class="hljs-function">) =&gt;</span></span> t1.title &lt; t2.title ? <span class="hljs-number"><span class="hljs-number">-1</span></span> : (t1.title &gt; t2.title ? <span class="hljs-number"><span class="hljs-number">1</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre> <br> ‚Ä¶   ‚Äî     : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    const taskLine = t =&gt; `${ t.title }${ t.assignee ? `,  ${t.assignee.login}` : '' }${ t.spectators.length ? `, : ${t.spectators.map(u =&gt; u.login).join(', ')}` : '' }`; function renderTasks (parent = null, indent = 0) { return tasks .filter(t =&gt; t.parent === parent) .map(t =&gt; [ '\n', ' '.repeat(indent), //  '- ', taskLine(t), //    t.subtasks.length ? printTasks(t, indent + 2) : '' //   ].join('')) .join(''); } function renderUsers () { return ${users.map(u =&gt; `\n- ${u.login}${ u.tasks.map(t =&gt; `\n * ${t.title}`).join('') }`).join('')} } const result = ` ##  ${renderTasks()} ##  ${renderUsers()} `.trim();</span></span></code> </pre><br><h2>  7.      </h2><br><h4>  </h4><br> ,          ..      : <br><br><img src="https://habrastorage.org/webt/3k/if/tx/3kiftxvr-zioqome_lll3jtsirg.png"><br><br>      ,    .       ,                  ¬´¬ª. <br><br><img src="https://habrastorage.org/webt/gd/kk/cq/gdkkcqwr9zs3qa2ta2_oyz1e9o0.png"><br><br>         . <br><br><img src="https://habrastorage.org/webt/zb/yx/gz/zbyxgz3jdls7g5iu-yro6jxp7xy.png"><br><br>   ,     . ,       .          .     .      HTML  CSS.  JavaScript   . <br><br> ,      ,  -     .    ,        . <br><br><h4>  </h4><br>         HTML/CSS,  ,  ,  - . <br><br>   CSS,     , ‚Äî  float,      .  float   ,    ,        . <br><br>    ‚Äî      ,    . ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  jsfiddle.net</a> .) <br><br>    ‚Äî         padding-top,                 margin-top (  ).       DOM- (). ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> .) <br><br><h2>  8.   </h2><br><h4>  </h4><br>   HTML-.     ,   .      ,       .     . <br><br>      <a href="">   </a> (pixel perfect).     . <br><br>       .           . <br><br>     ,     ,    .   ,        .  ,    :    -  ,   ,    . <br><br> ,    .  ,    ,   . <br><br><h4>  </h4><br>           ,     ‚Äî    .    ‚Äî CSS- border (  ), background (      )  box-shadow (     ). <br><br> -        ¬´ ¬ª (         )    .  ,        ,        . <br><br>   ‚Äî ,       70  70 .     : ,   .  CSS-     ,   CSS-   ,       . <br><br><img src="https://habrastorage.org/webt/hw/fh/ko/hwfhko2djj5sbammehzss2qkkhm.png"><br><br>     ‚Äî      210  210 ,        70  70 . <br><br><img src="https://habrastorage.org/webt/qy/qp/el/qyqpelprwqkmw_ka5io82h_vk2e.png"><br><br><h2>  9.   </h2><br><h4>  </h4><br>   ‚Äî     ,   -.           JavaScript,       .        ,     . <br><br>   :       .     ,  ,     .      . <br><br>       ,     ‚Äî .       ‚Äî  .   ,     JavaScript API     .    ,   -,  ,     .        10   ,    HTTP-    . <br><br>           ‚Äî     .    ,       ,     ,    . <br><br>        -. <br><br>  Anmerkungen: <br> ‚Äî API  npm- @yandex-blitz/phone. <br> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  API</a> . <br> ‚Äî  -,  : <a href="">task.js</a> . <br> ‚Äî     -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">runkit-</a> . <br><br>        -,    . <br><br><h4>  </h4><br>        ‚Äî     GET- return       connect. <br><br>     :   - .       ,         ,      .           . <br><br>   ,    :    ,        .      : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeQueue = []; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processQueue = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (writeQueue.length) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fn = writeQueue.shift(); fn().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { processQueue(); }); } }</code> </pre> <br>      ,   ¬´    ¬ª. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeQueue = []; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processQueue = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isWriteInProgress) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (writeQueue.length) { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fn = writeQueue.shift(); fn().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; processQueue(); }); } }</code> </pre> <br> ,   POST-          .  ,    ,    . <br><br><pre> <code class="javascript hljs">app.post(<span class="hljs-string"><span class="hljs-string">"/speeddial/:digit/:phonenumber"</span></span>, (req, res) =&gt; { writeQueue.push(makeWriteJob(phone, req, res)); processQueue(); });</code> </pre> <br>   : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { BEEP_CODES } = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'@yandex-blitz/phone'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> writeQueue = []; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processQueue = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isWriteInProgress) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (writeQueue.length) { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fn = writeQueue.shift(); fn().then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { isWriteInProgress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; processQueue(); }); } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> makeWriteJob = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">phone, req, res</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> phone.getData() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> speeddialDict = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(value); speeddialDict[req.params.digit] = <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>(req.params.phonenumber); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> phone .setData(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(speeddialDict)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> phone.beep(BEEP_CODES.SUCCESS)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.sendStatus(<span class="hljs-number"><span class="hljs-number">200</span></span>); }) }) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> { phone.beep(BEEP_CODES.ERROR).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.sendStatus(<span class="hljs-number"><span class="hljs-number">500</span></span>); }) }) } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> createApp = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ phone }</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express(); <span class="hljs-comment"><span class="hljs-comment">//   ,   ¬´ ¬ª   digit app.get("/speeddial/:digit", (req, res) =&gt; { phone.getData().then(value =&gt; { const speeddialDict = JSON.parse(value); return phone.connect() .then(async () =&gt; { await phone.dial(speeddialDict[req.params.digit]); res.sendStatus(200); }, async() =&gt; { await phone.beep(BEEP_CODES.FATAL); res.sendStatus(500); }); }).catch(async (e) =&gt; { await phone.beep(BEEP_CODES.ERROR); res.sendStatus(500); }); }); //   ¬´ ¬ª   digit  phonenumber app.post("/speeddial/:digit/:phonenumber", (req, res) =&gt; { writeQueue.push(makeWriteJob(phone, req, res)); processQueue(); }); return app; }; exports.createApp = createApp;</span></span></code> </pre> <br><h2>  10.  </h2><br><h4>  </h4><br>       .        ,        ¬´¬ª. <br><br>   : <br> ‚Äî    ,    . <br> ‚Äî    ,      ,     . <br> ‚Äî             ,     ,  . <br> ‚Äî   ,    : ‚Üê ‚Üì ‚Üë ‚Üí. <br> ‚Äî       ‚Äî  ,          . <br><br>       ,      ,   ,   ,        . <br><br>    . <br><br>             . <br><br>       HTML- (       ). <br><br>      ,     window.onMazeReady().         .        2 ,   . <br><br>       CSS- map. <br><br>       click    CSS-: <br> ‚Äî  ‚Äî control_direction_left, <br> ‚Äî  ‚Äî control_direction_down, <br> ‚Äî  ‚Äî control_direction_up, <br> ‚Äî  ‚Äî control_direction_right. <br><br> CSS-    : <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">radial-gradient</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">circle</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> 5<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> 5<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#eee</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#000</span></span>);</code> </pre> <br>        25    ,   500 .  Zum Beispiel: <br><br><img src="https://habrastorage.org/webt/of/ho/_4/ofho_49u3jdimgdt1befkrkxcxs.png" width="400"><br><br><img src="https://habrastorage.org/webt/ug/vy/7f/ugvy7fgr1bh7cqbpwlzfmsyofeu.png" width="400"><br><br><img src="https://habrastorage.org/webt/2z/u1/nr/2zu1nroaxbrg_zcft6lb3hp6rzg.png" width="400"><br><br><img src="https://habrastorage.org/webt/6n/pr/md/6nprmdy2_skg53_cesb3c4rftvi.png" width="400"><br><br>      window.map  String.    : <br> # ‚Äî  <br>  . ‚Äî   <br> o ‚Äî  <br> x ‚Äî  <br><br>  ,      ,   ,    ‚Äî  .             . <br><br> ,   <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">window</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.map</span></span> = ` ##### <span class="hljs-selector-id"><span class="hljs-selector-id">#o</span></span><span class="hljs-selector-id"><span class="hljs-selector-id">#x</span></span># #.#.# #...# ##### `;</code> </pre> <br>    : <br><br><img src="https://habrastorage.org/webt/fm/ca/o1/fmcao1hhm8qxfwhfgd2zib1ijew.png" width="400"><br><br>    : <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ru/</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">body</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">100px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">100px</span></span></span><span class="css">; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.game-box</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">perspective</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">500px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">perspective-origin</span></span></span><span class="css">: center; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform-style</span></span></span><span class="css">: preserve-</span><span class="hljs-number"><span class="css"><span class="hljs-number">3</span></span></span><span class="css">d; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_left</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateY</span></span></span><span class="css">(-25deg); } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_down</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateX</span></span></span><span class="css">(-25deg); } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_up</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateX</span></span></span><span class="css">(25deg); } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.map__tilt_right</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transform</span></span></span><span class="css">: </span><span class="hljs-built_in"><span class="css"><span class="hljs-built_in">rotateY</span></span></span><span class="css">(25deg); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"game-box"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// JavaScript </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4>  </h4><br>         (HTML, CSS, JS).            ,  ¬´¬ª . <br><br>             .          (     ),  ,        . <br><br>  ,       ,           . <br><br> ,        : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map map__tilt_none"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_wall"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_empty"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_ball"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_exit"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"map__cell map__cell_content_wall"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ... --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">table</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> : <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.map</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-spacing</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-collapse</span></span>: separate; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#ccc</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">transform-style</span></span>: preserve-<span class="hljs-number"><span class="hljs-number">3</span></span>d; } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">1px</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: <span class="hljs-number"><span class="hljs-number">#9b9b9b</span></span> <span class="hljs-number"><span class="hljs-number">#575757</span></span> <span class="hljs-number"><span class="hljs-number">#575757</span></span> <span class="hljs-number"><span class="hljs-number">#9b9b9b</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">30px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">30px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">text-align</span></span>: center; <span class="hljs-attribute"><span class="hljs-attribute">vertical-align</span></span>: middle; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#707070</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell_content_ball</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:after</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">content</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: inline-block; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">20px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border-radius</span></span>: <span class="hljs-number"><span class="hljs-number">50%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">radial-gradient</span></span>(circle at 5px 5px, #eee, #000); } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell_content_wall</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">border-width</span></span>: <span class="hljs-number"><span class="hljs-number">4px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.map__cell_content_exit</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#000</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: <span class="hljs-number"><span class="hljs-number">5px</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">border-color</span></span>: <span class="hljs-number"><span class="hljs-number">#222</span></span> <span class="hljs-number"><span class="hljs-number">#555</span></span> <span class="hljs-number"><span class="hljs-number">#555</span></span> <span class="hljs-number"><span class="hljs-number">#222</span></span>; }</code> </pre> <br>    ‚Äî       ‚Äî       . <br><br>        ,        . <br><br>   ¬´¬ª  ,       .     ,     . ,        : <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">window</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.map</span></span> = ` ####### ##.#### #.<span class="hljs-selector-class"><span class="hljs-selector-class">.o</span></span>..# #<span class="hljs-selector-id"><span class="hljs-selector-id">#x</span></span>.#.# ###...# ####### `;</code> </pre> <br>               : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertMap</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mapInput</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mapInput .trim() .split(<span class="hljs-regexp"><span class="hljs-regexp">/\n\s*/</span></span>) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">row</span></span></span><span class="hljs-function"> =&gt;</span></span> row.split(<span class="hljs-string"><span class="hljs-string">''</span></span>)); }</code> </pre> <br>   ,   HTML    : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CELL_CONTENT = { <span class="hljs-string"><span class="hljs-string">'#'</span></span>: <span class="hljs-string"><span class="hljs-string">'wall'</span></span>, <span class="hljs-string"><span class="hljs-string">'o'</span></span>: <span class="hljs-string"><span class="hljs-string">'ball'</span></span>, <span class="hljs-string"><span class="hljs-string">'.'</span></span>: <span class="hljs-string"><span class="hljs-string">'empty'</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>: <span class="hljs-string"><span class="hljs-string">'exit'</span></span> }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildGameBoxHtml</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">map</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">` &lt;div class="game-box"&gt; &lt;table class="map map__tilt_none"&gt; </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${map.map(row =&gt; </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` &lt;tr&gt; </span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${row.map(cell =&gt; </span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` &lt;td class="map__cell map__cell_content_</span></span></span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${CELL_CONTENT[cell]}</span></span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">"&gt;&lt;/td&gt; `</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">).join(</span></span></span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">)}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"> &lt;/tr&gt; `</span></span></span></span><span class="hljs-string"><span class="hljs-subst">).join(</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)}</span></span></span><span class="hljs-string"> &lt;/table&gt; &lt;!--      --&gt; &lt;div class="controls"&gt; &lt;button class="control control_direction_left"&gt;‚Üê&lt;/button&gt; &lt;button class="control control_direction_down"&gt;‚Üì&lt;/button&gt; &lt;button class="control control_direction_up"&gt;‚Üë&lt;/button&gt; &lt;button class="control control_direction_right"&gt;‚Üí&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; `</span></span>; }</code> </pre> <br>    ,         : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gameBox = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'.game-box'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> map = gameBox.querySelector(<span class="hljs-string"><span class="hljs-string">'.map'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//           gameBox.addEventListener('click', ({ target }) =&gt; { //      if (!target.classList.contains('control')) { return; }; //      - const direction = target.className.match(/\bcontrol_direction_(\w+)/)[1]; //  ,   - map.className = map.className.replace(/\bmap__tilt_\w+/, `map__tilt_${direction}`); //  ,     let ball = map.querySelector('.map__cell_content_ball'); //       let nextBall = getNextCell(map, ball, direction); //      ball.classList.remove('map__cell_content_ball'); ball.classList.add('map__cell_content_empty'); //     ,            while ( !nextBall.classList.contains('map__cell_content_wall') &amp;&amp; !ball.classList.contains('map__cell_content_exit') ) { ball = nextBall; nextBall = getNextCell(map, ball, direction); } //      ball.classList.remove('map__cell_content_empty'); ball.classList.add('map__cell_content_ball'); }); const DIRECTIONS = { 'left': [-1, 0], 'up': [0, -1], 'down': [0, 1], 'right': [1, 0] }; //  DOM API ,        function getNextCell(map, cell, direction) { const directionDiff = DIRECTIONS[direction]; return map.rows[cell.parentNode.rowIndex + directionDiff[1]].cells[cell.cellIndex + directionDiff[0]]; }</span></span></code> </pre> <br>    ‚Äî      callback   : window.onMazeReady().           . <br><br>       ,     .    ,      ,    .         HTML, CSS  JS     ‚Äî   ,       . <br><br>  , : <br> ‚Äî    , <br> ‚Äî    ,     , <br> ‚Äî     ,   , <br> ‚Äî     ,            , <br> ‚Äî         ,      , <br> ‚Äî      ,     . <br><br>  ,        : <br> ‚Äî     , <br> ‚Äî , <br> ‚Äî  DOM API    , <br> ‚Äî    . <br><br><h2>  11.  </h2><br><h4>  </h4><br> ,    ,        .        ,     .    ,    . <br><br>    ,      .       ,      .        .        .js,   : <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">solveCaptcha</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">captcha</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br>     .                 . <br>       : <br><br><pre> <code class="javascript hljs">captcha = <span class="hljs-string"><span class="hljs-string">' TRABWARH THSCAHAW WWBSCWAA CACACHCR '</span></span></code> </pre> <br>  : <br> ‚Äî S ‚Äî   (sign) <br> ‚Äî T ‚Äî  (tree) <br> ‚Äî R ‚Äî  (road) <br> ‚Äî‚Ä¶ <br><br>      : <br><br><pre> <code class="javascript hljs">[ <span class="hljs-string"><span class="hljs-string">'TRABWARH THSCAHAW'</span></span> , <span class="hljs-string"><span class="hljs-string">'WWBSCWAA CACACHCR'</span></span> ]</code> </pre> <br>   : <br> ‚Äî        1   10. <br> ‚Äî     . <br> ‚Äî        ,    . <br> ‚Äî            (   ). <br> ‚Äî     ,       ,        . <br> ‚Äî    ,    . <br><br>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cut the cake</a>   codewars.com. <br><br><h4>  </h4><br>   ,       10.   ,      .   ,         .      : <br> ‚Äî         ; <br> ‚Äî                    ,    . <br><br>          ,            .    : ¬´‚Ä¶   ,        ¬ª.         .       . <br><br><img src="https://habrastorage.org/webt/b2/i8/ns/b2i8nsoxflarw85le1qblpiskze.png"><br><br>     .          .   ,    .             . <br><br>            .       ¬´¬ª,          . <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">solveCaptcha</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">captcha</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> n = <span class="hljs-comment"><span class="hljs-comment">//     const sizes = getAllSizes(); //      // board ‚Äî    //   ‚Äî   ,   //  ,    const board = []; //    function placeNext(remains) { //    ... if (remains === 0) { // ... ,   ,   return board; } else { // ... //         // ,     const pos = getEmptyPos(); //        for (let i = 0; i &lt; sizes.length; i++) { //  ,    const size = sizes[i]; //          //     (      //     !== 1),  null const layer = getLayer(pos, size); //     if (layer) { //     board.push(layer); //     const res = placeNext(remains - 1); //  ,  if (res) return res; //      //    board.pop(); } } } } //   return placeNext(n); }</span></span></code> </pre> <br><h2>  12.   - </h2><br><h4>  </h4><br>   X     .  VCS            ,           . <br><br>     ,      -.   ‚Äî    ,              . <br><br>      ,    .        ,    ,    .          . <br><br>          ,     .        (  )       . <br><br>    . <br><br> <b> </b> <br><br>     .   ‚Äî   1000,     - ‚Äî   20. <br><br>     : <br><br><pre> <code class="javascript hljs">type PullRequest = { <span class="hljs-comment"><span class="hljs-comment">/** *     ( ) *   N: 1 &lt;= N &lt;= 1000 */</span></span> files: string[], <span class="hljs-comment"><span class="hljs-comment">/** *     VCS */</span></span> id: string, <span class="hljs-comment"><span class="hljs-comment">/** * Unix-timestamp  - */</span></span> created: number, }</code> </pre> <br>   (created)   (id)   ‚Äì . <br><br> <b> </b> <br><br>       CommonJS- : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @param {PullRequest[]} pullRequests  PR,     * @returns {string[]}      */</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pullRequests</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br>  <b>Anmerkungen</b> <br><br>      NodeJS  v9.11.2.      . <br><br> <b>    </b> <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mergeAllPRs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prs</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* solution */</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert( mergeAllPRs([ { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077100</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.gitignore'</span></span>, <span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#2'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077700</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'index.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'package-lock.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'package.json'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#3'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077800</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.pnp.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'yarn.lock'</span></span>] } ]) .join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [ <span class="hljs-string"><span class="hljs-string">"#1"</span></span>, <span class="hljs-string"><span class="hljs-string">"#2"</span></span>, <span class="hljs-string"><span class="hljs-string">"#3"</span></span> ].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert( mergeAllPRs([ { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536074100</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#2'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536078700</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#3'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536097800</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] } ]).join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [ <span class="hljs-string"><span class="hljs-string">"#1"</span></span> ].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert( mergeAllPRs([ { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#1'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077100</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.gitignore'</span></span>, <span class="hljs-string"><span class="hljs-string">'README.md'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#2'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077700</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'index.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'package-lock.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'package.json'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#3'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077800</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'.pnp.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'package-lock.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'yarn.lock'</span></span>] }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-string"><span class="hljs-string">'#4'</span></span>, <span class="hljs-attr"><span class="hljs-attr">created</span></span>: <span class="hljs-number"><span class="hljs-number">1536077900</span></span>, <span class="hljs-attr"><span class="hljs-attr">files</span></span>: [<span class="hljs-string"><span class="hljs-string">'index.spec.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'index.spec.ts'</span></span>, <span class="hljs-string"><span class="hljs-string">'index.ts'</span></span>] } ]) .join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [ <span class="hljs-string"><span class="hljs-string">"#1"</span></span>, <span class="hljs-string"><span class="hljs-string">"#2"</span></span>, <span class="hljs-string"><span class="hljs-string">"#4"</span></span> ].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) );</code> </pre> <br><h4>  </h4><br>      ‚Äî , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a> . <br><br>     ,      ¬´ ¬ª  (,            ). <br><br>   ,    ,    ,   .        (   some  includes).     ‚Äî O(n <sup>2</sup> ). <br><br>        ,     ,          ( . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a> ).      ‚Äî  O(n). <br><br>    : <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">conflicts</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &lt; a.length &amp;&amp; j &lt; b.length) {      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a[i] === b[j]) {          <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (a[i] &gt; b[j]) {          j++;      } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {          i++;      }  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mergeAllPrs</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">input</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mergedFiles = [];  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> mergedPrs = [];  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &lt; input.length) {      <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pr = input[i];      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!conflicts(mergedFiles, pr.files)) {          mergedPrs.push(pr);          mergedFiles.push(...pr.files);      }      i++;  }  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mergedPrs.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> x.id); };</code> </pre> <br>  ,       ,       . ,       : <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.assert(  mergeAllPrs([      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538179200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"b"</span></span>, <span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-string"><span class="hljs-string">"d"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"2"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538189200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"a"</span></span>, <span class="hljs-string"><span class="hljs-string">"x"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"3"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538199200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"b"</span></span>, <span class="hljs-string"><span class="hljs-string">"g"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538209200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"c"</span></span>,  <span class="hljs-string"><span class="hljs-string">"f"</span></span> ]      },      {          <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"5"</span></span>,          <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1538219200</span></span>,          <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"d"</span></span>, <span class="hljs-string"><span class="hljs-string">"w"</span></span> ]      }  ])  .join(<span class="hljs-string"><span class="hljs-string">','</span></span>) === [<span class="hljs-string"><span class="hljs-string">'2'</span></span>, <span class="hljs-string"><span class="hljs-string">'3'</span></span>, <span class="hljs-string"><span class="hljs-string">'4'</span></span>, <span class="hljs-string"><span class="hljs-string">'5'</span></span>].join(<span class="hljs-string"><span class="hljs-string">','</span></span>) );</code> </pre> <br>    ,        ( ,      ). <br><br>         : ¬´¬ª   -,  ¬´¬ª ‚Äî       (   ).          (   ). <br><br>  : <br><br><pre> <code class="javascript hljs">[  {      <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"#1"</span></span>,      <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1536077100</span></span>,      <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">".gitignore"</span></span>, <span class="hljs-string"><span class="hljs-string">"README.md"</span></span> ]  },  {      <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"#2"</span></span>,      <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1536077700</span></span>,      <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"package-lock.json"</span></span>, <span class="hljs-string"><span class="hljs-string">"package.json"</span></span> ]  },  {      <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"#3"</span></span>,      <span class="hljs-string"><span class="hljs-string">"created"</span></span>: <span class="hljs-number"><span class="hljs-number">1536077800</span></span>,      <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"index.js"</span></span> ]  } ]</code> </pre> <br>  #2  #3  ,     ["#1", "#2"].      . <br><br><img src="https://habrastorage.org/webt/jv/x5/d0/jvx5d0lupnrgvtpbnybvt5icb88.png"><br><br>        ,      . <br><br>   ,         ‚Äî O(n <sup>2</sup> ),        .   . <br><br>       ,      ,      .       ,      ,      . <br><br>  conflicts   ,   .     : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> conflictMatrix = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Uint8Array</span></span>(prs.length ** <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prToIndex = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">WeakMap</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; prs.length; i++) {  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pr1 = prs[i];  prToIndex.set(pr1, i);  conflictMatrix[i * prs.length + i] = <span class="hljs-number"><span class="hljs-number">0</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> j = i + <span class="hljs-number"><span class="hljs-number">1</span></span>; j &lt; prs.length; j++) {      <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pr2 = prs[j];      conflictMatrix[i * prs.length + j] = conflictMatrix[j * prs.length + i] = conflicts(pr1.files, pr2.files);  } } <span class="hljs-comment"><span class="hljs-comment">/** *     PR (    ) */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doPRsConflict</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pr1, pr2</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> i = prToIndex.get(pr1);  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> j = prToIndex.get(pr2);  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> conflictMatrix[i * prs.length + j] === <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre> <br>   ¬´¬ª     ,    .     (  )    ,     .   ,     ,   -   . <br><br>    ,      ,      . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *     prsSet,           */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNonConflictingPRs</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prsSet, mergedPrs</span></span></span><span class="hljs-function">) </span></span>{  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = [];  <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prsToTest = [...prsSet, ...mergedPrs];  prsSet.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pr</span></span></span><span class="hljs-function">) =&gt;</span></span> {      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!conflictsWithSomePR(pr, prsToTest)) {          result.push(pr);      }  });  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br>          . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fullSearch = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">prsSet, mergedPrs = [], mergedFilesCount = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> {  hits++;  <span class="hljs-comment"><span class="hljs-comment">//  ,            //   ,      const safeToMergePRs = getNonConflictingPRs(prsSet, mergedPrs);  mergedPrs = mergedPrs.concat(safeToMergePRs);  safeToMergePRs.forEach((pr) =&gt; {      prsSet.delete(pr);      mergedFilesCount += pr.files.length;  });  const pr = prsSet.values().next().value; // ...     </span></span></code> </pre> <br>    . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430560/">https://habr.com/ru/post/de430560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430550/index.html">Aufbau eines reaktiven Komponentensystems mit Kotlin</a></li>
<li><a href="../de430552/index.html">Start des Tages (September-Oktober 2018)</a></li>
<li><a href="../de430554/index.html">Google patentierte VR-Schuhe, die Sie f√ºr immer laufen k√∂nnen</a></li>
<li><a href="../de430556/index.html">GeekBrains startet Produktmanager-Schulungskurs</a></li>
<li><a href="../de430558/index.html">Wie das Scoring in der Carsharing-Branche funktioniert. Teil 1. √úberblick √ºber g√§ngige Tools f√ºr reale Daten</a></li>
<li><a href="../de430562/index.html">Validierung von Reaktionsformen. Teil 2</a></li>
<li><a href="../de430564/index.html">Wie √ºberpr√ºfe ich die Kompetenzen von PMa f√ºr ein IT-Projekt?</a></li>
<li><a href="../de430566/index.html">Das Pferd pfl√ºgte am meisten, aber der Vorsitzende der Kollektivfarm wurde nicht</a></li>
<li><a href="../de430568/index.html">Fintech Digest: Selbstst√§ndige Steuern, Investitionen in Fintech und institutionelle Investoren in der Krypta, das Gesetz √ºber die Krypta in der Russischen F√∂deration</a></li>
<li><a href="../de430570/index.html">Willkommen bei AppsConf: QualityApps Theme Meeting</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>