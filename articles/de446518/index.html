<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¢ üïì üçí Webanwendungs-Firewalls üöµüèº ‚Ü©Ô∏è üë©‚Äçüë©‚Äçüëß‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Webanwendungs-Firewall 
 Web Application Firewalls (WAFs) sind eine Art System zur Erkennung und Verhinderung von Eindringlingen und k√∂nnen entweder e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Webanwendungs-Firewalls</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446518/"><h4>  <font color="#cc0000">Webanwendungs-Firewall</font> </h4><br>  Web Application Firewalls (WAFs) sind eine Art System zur Erkennung und Verhinderung von Eindringlingen und k√∂nnen entweder eine Hardware- oder eine Softwarel√∂sung sein.  Es wurde speziell entwickelt, um HTTP (s) zu untersuchen und die GET- und POST-Anforderungen mithilfe der unten erl√§uterten entsetzlichen Erkennungslogik zu analysieren.  Webanwendungs-Firewall-Software ist im Allgemeinen als Webserver-Plugin verf√ºgbar. <br><br>  WAF ist sehr beliebt geworden und verschiedene Unternehmen bieten eine Vielzahl von L√∂sungen in verschiedenen Preiskategorien an, von kleinen Unternehmen bis zu gro√üen Unternehmen.  Das moderne WAF ist beliebt, da es eine Vielzahl von abgedeckten Aufgaben umfasst, sodass sich Webanwendungsentwickler bei verschiedenen Sicherheitsproblemen darauf verlassen k√∂nnen, jedoch mit der Annahme, dass diese L√∂sung keinen absoluten Schutz garantieren kann.  Ein grundlegender WAF-Workflow ist unten dargestellt. <br><br><img src="https://habrastorage.org/webt/cr/ld/1a/crld1a6qlyif0we0sfqrhjvkjzc.png"><br><br>  Seine Hauptfunktion ist das Erkennen und Blockieren von Abfragen, bei denen laut WAF-Analyse einige Anomalien vorliegen oder ein angreifender Vektor verfolgt wird.  Eine solche Analyse sollte es legitimen Benutzern nicht erschweren, mit einer Webanwendung zu interagieren, sondern gleichzeitig jeden versuchten Angriff genau und rechtzeitig erkennen.  Um diese Funktionalit√§t zu implementieren, verwenden WAF-Entwickler normalerweise regul√§re Ausdr√ºcke, Token, Verhaltensanalysen, Reputationsanalysen und maschinelles Lernen. Oft werden alle diese Technologien zusammen verwendet. <br><br><img src="https://habrastorage.org/webt/z-/jz/by/z-jzbyv0m-cblumcvxe-cow6z8o.png"><br><br>  Dar√ºber hinaus kann WAF auch andere Funktionen bereitstellen: Schutz vor DDoS, Blockierung von IP-Adressen von Angreifern, Verfolgung verd√§chtiger IP-Adressen, Hinzuf√ºgen eines Nur-HTTP-Flags zum Cookie oder Hinzuf√ºgen der Funktionalit√§t von CSRF-Token.  Jeder WAF ist individuell und hat eine einzigartige interne Anordnung, es gibt jedoch einige typische Methoden f√ºr die Analyse. <br><a name="habracut"></a><br><h3>  <font color="#cc0000">Regul√§rer Ausdruck</font> </h3><br>  Die meisten vorhandenen WAFs basieren auf Regeln, die auf regul√§ren Ausdr√ºcken basieren.  Um sie zu erstellen, werden einige bekannte S√§tze von Angriffen vom WAF-Entwickler untersucht und folglich werden wichtige syntaktische Konstruktionen bestimmt, deren Vorhandensein behauptet werden kann, um den Angriff auszuf√ºhren.  Basierend auf den erhaltenen Ergebnissen werden regul√§re Ausdr√ºcke geschrieben, die solche Konstruktionen finden k√∂nnen.  Durch die Analyse von HTTP-Headern wie Server: Apache Tomcat / 7.0.x kann WAF beispielsweise eine Antwort blockieren und so den Verlust von Serverinformationen verhindern oder alternativ eine Warnung ausl√∂sen. <br><br>  Dieser Ansatz weist jedoch eine Reihe von Nachteilen auf.  Der Anwendungsbereich eines regul√§ren Ausdrucks ist auf eine Abfrage und h√§ufig sogar auf einen bestimmten Abfrageparameter beschr√§nkt, was die Wirksamkeit solcher Anforderungen offensichtlich verringert.  Zweitens f√ºhren die Syntax regul√§rer Ausdr√ºcke, die komplexe Logik von Textprotokollen, die das Ersetzen √§quivalenter Konstrukte und die Verwendung unterschiedlicher Darstellungen von Symbolen erm√∂glicht, zu Fehlern beim Erstellen solcher Regeln.  Die folgende Tabelle zeigt die g√§ngigsten Bypass-Techniken. <br><br><img src="https://habrastorage.org/webt/nt/fm/0x/ntfm0xcoifqns397zknmrtxjj04.png"><br><br>  SQL-Verschleierung.  Es ist m√∂glich, den Ausdruck so zu √§ndern, dass mithilfe der Syntax der Sprache Leerzeichen entfernt werden.  In SQL k√∂nnen Sie beispielsweise Klammern und Sterne verwenden: <br><blockquote>  s / * / e / ** // * e * // * / l / * le * c * // * / ect ~~ / ** / 1 oder / id = 1 + un / ** / ion + sel / ** / ect + 1,2,3-- </blockquote><br>  Die andere basiert auf der Verwendung unterschiedlicher Codierungen, so dass die WAF die Daten an bestimmten Stellen nicht decodiert.  Nachdem WAF beispielsweise im Normalisierungsprozess ein Zeichen durch seinen URL-Code ersetzt hat, kann es nicht verstehen, dass die Daten dekodiert und die Anforderung √ºbersprungen werden m√ºssen, w√§hrend derselbe Parameter vom Web akzeptiert und erfolgreich dekodiert wird Anwendung. <br><br><img src="https://habrastorage.org/webt/9f/fs/fj/9ffsfjkccp4a6iqvbj7ppes996y.png"><br><br>  Suchen Sie nach atypischen √§quivalenten syntaktischen Konstruktionen.  Diese Methode wird verwendet, um eine Funktionsweise zu finden, die von WAF-Entwicklern nicht ber√ºcksichtigt werden konnte, oder der Vektor fehlte in der Stichprobe f√ºr maschinelles Lernen.  Eines dieser Konstrukte ist die nicht-alphanumerische Javascript-Codedarstellung, von der ein Beispiel unten gezeigt wird. <br><br><img src="https://habrastorage.org/webt/1-/os/-h/1-os-hs9dwq5_f01ici2-odymts.png"><br><cut><br><h3>  <font color="#cc0000">Score-Erstellungsmethode</font> </h3><br>  Dieser Ansatz erkennt keine Angriffe, erg√§nzt jedoch andere Methoden und macht sie pr√§ziser und flexibler.  Der Grund f√ºr die Einf√ºhrung des Tools ist, dass das Vorhandensein eines verd√§chtigen Entwurfs in der Abfrage nicht ausreicht, um einen Angriff zu erkennen, oder im Gegenteil, dass dies zu einer gro√üen Anzahl falsch positiver Fehler f√ºhren kann.  Dieses Problem wird durch die Einf√ºhrung eines Bewertungssystems gel√∂st.  Beispielsweise wird jede Regel, die auf regul√§ren Ausdr√ºcken basiert, mit Informationen √ºber die Kritikalit√§t ihrer Operation erg√§nzt.  Nachdem alle erarbeiteten Regeln identifiziert wurden, wird ihre Kritikalit√§t zusammengefasst.  Bei der √úberwindung eines bestimmten Schwellenwerts wird der Angriff erkannt und die Anforderung blockiert. <br><br><h3>  <font color="#cc0000">Verhaltensanalyse</font> </h3><br>  Das Erkennen von Versuchen, Schwachstellen in Abfrageparametern auszunutzen, ist nicht die einzige Aufgabe von WAF.  Es ist wichtig, das Verfahren zur Suche nach Sicherheitsl√ºcken selbst zu identifizieren, das sich in Scanversuchen, Brute Force-Verzeichnissen, Parameter-Fuzzing und anderen Methoden zur Erkennung von Sicherheitsl√ºcken manifestieren kann, die h√§ufig von automatisierten Tools verwendet werden, und entsprechend darauf zu reagieren.  Fortgeschrittenere WAFs k√∂nnen sogar eine XML-Datei mit Abfrageketten erstellen, die f√ºr das normale Benutzerverhalten typisch sind, und Versuche blockieren, Anforderungen in einer anderen Reihenfolge als das Standardverhalten zu senden.  Dieser Mechanismus wirkt nicht nur Angriffen entgegen, sondern erschwert auch das Auffinden einer Sicherheitsanf√§lligkeit. <br><br><h3>  <font color="#cc0000">Tokeniser-Parser-Analysatoren</font> </h3><br>  Dieser Ansatz zur Erkennung von Angriffen ist ein komplexes Konzept.  Es ist jedoch nicht einfach, es auf dem C ++ - Primer der Libinjection-Bibliothek zu zerlegen, wodurch SQL-Injection-Angriffe schnell und genau erkannt werden k√∂nnen.  Derzeit gibt es f√ºr die Libinjection-Bibliothek Ports f√ºr verschiedene Programmiersprachen, einschlie√ülich Java, C und Python.  Der Mechanismus beschr√§nkt sich auf die Suche nach Signaturen, die als Folge von Token dargestellt werden.  Einige der Signaturen werden der integrierten schwarzen Liste hinzugef√ºgt und gelten als inakzeptabel oder b√∂swillig.  Mit anderen Worten, bevor Sie eine Abfrage analysieren, f√ºhrt dies zun√§chst zu einer Reihe von Token.  Token werden in verschiedene Typen unterteilt: Zeichenfolge, Zeichen, regul√§rer Operator, Nummer, Kommentar, Variable usw. <br><br>  Einer der Hauptnachteile dieser Methode besteht darin, dass es m√∂glich ist, ein solches Design zu konstruieren, das zur falschen Bildung von Token f√ºhrt.  Daher unterscheidet sich die Signatur der Anfrage von der erwarteten. <br><br>  Angriffe auf Tokeniser sind mit Versuchen verbunden, die Logik zu unterbrechen, indem die Anforderung mithilfe von Token-Breakern in Token aufgeteilt wird.  Dies sind solche Symbole, mit denen Sie die Auswahl eines Zeichenfolgenelements f√ºr ein bestimmtes Token beeinflussen und so die Suche nach Signaturen umgehen k√∂nnen.  Im Open Access gibt es einige Spickzettel, die durch MySQL-Fuzzing und anschlie√üende Abfragepr√ºfung in Libinjection erhalten wurden. <br><br><h3>  <font color="#cc0000">Reputationsanalyse</font> </h3><br>  Der Reputationsmechanismus wird direkt von Firewalls und Antivirenprogrammen geerbt.  Heutzutage enth√§lt fast jede WAF Adresslisten von VPN-Diensten, Anonymisierern, Tor-Netzwerkknoten und Botnetz-Teilnehmern, mit denen Anfragen von verd√§chtigen Adressen blockiert werden k√∂nnen.  Fortgeschrittenere WAFs k√∂nnen ihre Datenbanken automatisch aktualisieren und basierend auf dem analysierten Datenverkehr zus√§tzliche Eintr√§ge vornehmen. <br><br><h3>  <font color="#cc0000">Zusammenfassung</font> </h3><br>  Im Allgemeinen ist die Webanwendungs-Firewall ein modernes und gutes Schutzwerkzeug, das f√ºr Webanwendungen niemals √ºberfl√ºssig wird.  Die Hauptidee, Wege zur Umgehung von WAF zu finden, besteht darin, die angeforderte Abfrage in eine Form zu bringen, in der sie f√ºr die angegriffene Webanwendung noch verst√§ndlich ist, f√ºr WAF jedoch nicht verst√§ndlich oder harmlos erscheint. <br><br>  Es gibt jedoch mehrere Klassen von Schwachstellen, die WAF nicht erkennen kann.  Dies kann eine logische Sicherheitsanf√§lligkeit sein. In diesem Fall gibt es keine abnormalen Verhaltensweisen in den Anforderungen.  Dar√ºber hinaus zeigen einige Studien, die zur Optimierung der WAF-Regeln durchgef√ºhrt wurden, auch Methoden zum Ausschluss legitimer Anfragen vom Inspektionsprozess, die m√∂glicherweise gef√§hrlich sein k√∂nnen.  WAF ist auch h√∂chstwahrscheinlich nicht hilfreich bei der Identifizierung von Konkurrenten, wie z. B. Rennbedingungen und unsichere Benutzerauthentifizierung. <br><cut><br><h3>  <font color="#cc0000">Referenz</font> </h3><br>  Vladimir Ivanov (2016) Tabellen zul√§ssiger Symbole in verschiedenen Eingaben des SQL-Ausdrucks, Ergebnis der Analyse von Fuzz-Tabellen.  Verf√ºgbar unter: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.blackhat.com/docs/us-16/materials/us-</a> 16-Ivanov-Webanwendung-Firewalls-Analyse-der-Erkennung-Logik.pdf <br><br>  Torrano-Gimenez, C., Perez-Villegas, A. und Alvarez, G. (2009) "Eine selbstlernende anomaliebasierte Webanwendungs-Firewall", Springer, Berlin, Heidelberg.  doi: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">doi.org/10.1007/978-3-642-04091-7_11</a> . <br><br>  Ramsingh, C. und Centonze, P. (2017) 'Programmanalyse f√ºr Datenbankinjektionen', INTERNATIONAL JOURNAL OF COMPUTERS &amp; TECHNOLOGY, 16 (6), pp.  6977‚Äì6986. Doi: 10.24297 / ijct.v16i6.6332. <br><br>  Prokhorenko, V., Choo, KKR und Ashman, H. (2016) 'Webanwendungsschutztechniken: Eine Taxonomie', Journal of Network and Computer Applications, 60, pp.  95-112.  doi: 10.1016 / j.jnca.2015.11.11.017. <br><br>  Prandl, S., Lazarescu, M. und Pham, D. (2015).  Eine Studie √ºber Firewall-L√∂sungen f√ºr Webanwendungen.  Information Systems Security, S. 501-510.  doi: 10.1007 / 978-3-319-26961-0_29. <br><br>  Positive-Technologies (2016a) 'Webanwendungs-Firewalls: Angriffe auf Erkennungslogikmechanismen'.  Verf√ºgbar unter: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.blackhat.com/docs/us-16/materials/us-16-Ivanov-</a> Webanwendungs-Firewalls-Analyse-der-Erkennung-Logik.pdf. <br><br>  OWASP (2017) SQL Injection Bypassing WAF.  Verf√ºgbar unter: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.owasp.org/index.php/SQL_Injection_Bypassing_WAF</a> . </cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de446518/">https://habr.com/ru/post/de446518/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de446506/index.html">F√ºnf Schl√ºsselfragen f√ºr den Einzelhandel bei der Migration in unsere Clouds</a></li>
<li><a href="../de446508/index.html">.NET Core Worker als Windows-Dienste</a></li>
<li><a href="../de446510/index.html">CLRium # 5: Garbage Collector. Gr√∂√üter .NET Workshop</a></li>
<li><a href="../de446512/index.html">.NET Core Worker als Windows-Dienste</a></li>
<li><a href="../de446514/index.html">Google Mail ist 15 Jahre alt</a></li>
<li><a href="../de446520/index.html">Wie alles begann: die Geschichte von fliegenden Drohnen</a></li>
<li><a href="../de446522/index.html">Swift 5.1 - was ist neu?</a></li>
<li><a href="../de446530/index.html">Word2vec in Bildern</a></li>
<li><a href="../de446532/index.html">Upwork f√ºhrt eine Geb√ºhr f√ºr das Recht ein, an einen potenziellen Kunden zu schreiben</a></li>
<li><a href="../de446534/index.html">Visual Studio 2019 ver√∂ffentlicht</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>