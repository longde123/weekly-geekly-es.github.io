<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍪 🐕 🏏 Lerne OpenGL. Lektion 6.3 - Bildbasierte Beleuchtung. Diffuse Bestrahlung 🆘 👌🏿 🕛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beleuchtung basierend auf dem Bild oder IBL ( Image Based Lighting ) ist eine Kategorie von Beleuchtungsmethoden, die nicht auf der Berücksichtigung a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lerne OpenGL. Lektion 6.3 - Bildbasierte Beleuchtung. Diffuse Bestrahlung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426987/"><img src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" alt="OGL3" align="left" width="300">  Beleuchtung basierend auf dem Bild oder <i>IBL</i> ( <i>Image Based Lighting</i> ) ist eine Kategorie von Beleuchtungsmethoden, die nicht auf der Berücksichtigung analytischer Lichtquellen (in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorherigen Lektion beschrieben</a> ) basieren, sondern die gesamte Umgebung beleuchteter Objekte als eine kontinuierliche Lichtquelle betrachten.  Im Allgemeinen liegt die technische Grundlage solcher Methoden in der Verarbeitung einer kubischen Karte der Umgebung (in der realen Welt erstellt oder auf der Grundlage einer dreidimensionalen Szene erstellt), sodass die in der Karte gespeicherten Daten direkt für Beleuchtungsberechnungen verwendet werden können: Tatsächlich wird jedes Texel der kubischen Karte als Lichtquelle betrachtet .  Im Allgemeinen können Sie so den Effekt der globalen Beleuchtung in der Szene erfassen. Dies ist eine wichtige Komponente, die den gesamten "Ton" der aktuellen Szene vermittelt und dazu beiträgt, dass die beleuchteten Objekte besser in sie "eingebettet" werden. <br><br>  Da IBL-Algorithmen die Beleuchtung aus einer bestimmten „globalen“ Umgebung berücksichtigen, wird ihr Ergebnis als genauere Simulation der Hintergrundbeleuchtung oder sogar als sehr grobe Annäherung an die globale Beleuchtung angesehen.  Dieser Aspekt macht IBL-Methoden im Hinblick auf die Integration in das PBR-Modell interessant, da die Verwendung von Umgebungslicht im Beleuchtungsmodell es Objekten ermöglicht, physikalisch viel korrekter auszusehen. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Inhalt</b> <div class="spoiler_text">  Teil 1. Erste Schritte <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Opengl</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fenstererstellung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hallo Fenster</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hallo Dreieck</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Shader</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Texturen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Transformationen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Koordinatensysteme</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kamera</a> </li></ol><br>  Teil 2. Grundbeleuchtung <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Farben</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grundlagen der Beleuchtung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Material</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Texturkarten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lichtquellen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mehrere Lichtquellen</a> </li></ol><br>  Teil 3. Laden Sie 3D-Modelle herunter <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Assimp-Bibliothek</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mesh-Polygon-Klasse</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3D-Modellklasse</a> </li></ol><br>  Teil 4. Erweiterte OpenGL-Funktionen <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tiefentest</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schablonentest</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Farbmischung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gesichter schneiden</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bildpuffer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubische Karten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erweiterte Datenverarbeitung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erweiterte GLSL</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Geometrischer Shader</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Instanz</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Glätten</a> </li></ol><br>  Teil 5. Erweiterte Beleuchtung <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erweiterte Beleuchtung.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blinn-Fong-Modell.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gammakorrektur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schattenkarten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Omnidirektionale Schattenkarten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Normale Zuordnung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Parallaxenabbildung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HDR</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blüte</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufgeschobenes Rendern</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SSAO</a> </li></ol><br>  Teil 6. Züchterrechte <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Theorie</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Analytische Lichtquellen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Diffuse Bestrahlung.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spiegelbelichtung.</a> </li></ol><br></div></div><br>  Um den Einfluss von IBL in das bereits beschriebene PBR-System einzubeziehen, kehren wir zur bekannten Reflexionsgleichung zurück: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">p</span><span class="MJXp-mo" id="MJXp-Span-7" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-8">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">g</span><span class="MJXp-msubsup" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-15" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-16" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-18">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">t</span><span class="MJXp-mtext" id="MJXp-Span-22">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">z</span><span class="MJXp-msubsup" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-32" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-33">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-39" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-40"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-42" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-43">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">c</span><span class="MJXp-mrow" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">c</span></span><span class="MJXp-mrow" id="MJXp-Span-50"><span class="MJXp-mtext" id="MJXp-Span-51">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">i</span></span><span class="MJXp-mo" id="MJXp-Span-54" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-55"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-57" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-58">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">c</span><span class="MJXp-mrow" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">G</span></span><span class="MJXp-mrow" id="MJXp-Span-67"><span class="MJXp-mn" id="MJXp-Span-68">4</span><span class="MJXp-mo" id="MJXp-Span-69" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-70">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">g</span><span class="MJXp-msubsup" id="MJXp-Span-75"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-77" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-78">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">n</span><span class="MJXp-mo" id="MJXp-Span-84" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-86">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">g</span><span class="MJXp-msubsup" id="MJXp-Span-91"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-93" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-94">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">n</span><span class="MJXp-mo" id="MJXp-Span-100" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-101" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-102"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-104" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-105" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">p</span><span class="MJXp-mo" id="MJXp-Span-107" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-108">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">g</span><span class="MJXp-msubsup" id="MJXp-Span-113"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-115" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-116" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">n</span><span class="MJXp-mtext" id="MJXp-Span-118">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">t</span><span class="MJXp-mtext" id="MJXp-Span-123">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">g</span><span class="MJXp-msubsup" id="MJXp-Span-128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-130" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">d</span><span class="MJXp-mtext" id="MJXp-Span-132">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">g</span><span class="MJXp-msubsup" id="MJXp-Span-137"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-139" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="136.229ex" height="2.78ex" viewBox="0 -832 58654 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="963" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="1124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-70" x="1514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-2C" x="2017" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="2712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="3198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="4076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="4543" y="0"></use><g transform="translate(5023,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="5996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-3D" x="6664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="7970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="8315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="8916" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-62" x="9527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="9957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="10423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-72" x="10904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="11355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="11822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-7A" x="12422" y="0"></use><g transform="translate(12891,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="2942" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="15807" y="0"></use><g transform="translate(16197,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-66" x="17439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-72" x="17989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="18441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="18970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="19404" y="0"></use><g transform="translate(19837,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="753" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-2B" x="21158" y="0"></use><g transform="translate(22159,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-73" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-66" x="23363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-72" x="23913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="24365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="24894" y="0"></use><g transform="translate(25328,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(27692,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-34" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="1140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="2504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="2970" y="0"></use><g transform="translate(3451,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="4673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="5107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="5630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="6116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="6477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="7078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="7467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="8107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="8592" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="9471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="9937" y="0"></use><g transform="translate(10418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="11542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="11975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="12499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="12984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="13346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="13946" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="42028" y="0"></use><g transform="translate(42418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="963" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="43443" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-70" x="43833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-2C" x="44336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="45032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="45517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="46396" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="46862" y="0"></use><g transform="translate(47343,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="48216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="48606" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="49456" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="49890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="50413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="50899" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="51510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="51996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="52874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="53341" y="0"></use><g transform="translate(53821,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="54695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="55469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="55954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="56833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="57299" y="0"></use><g transform="translate(57780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> L_o (p, \ omega_o) = \ int \ begrenzt _ {\ Omega} (k_d \ frac {c} {\ pi} + k_s \ frac {DFG} {4 (\ omega_o \ cdot n) (\ omega_i \ cdot n )}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br>  Wie bereits beschrieben, besteht das Hauptziel darin, das Integral für alle einfallenden Strahlungsrichtungen zu berechnen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-140"><span class="MJXp-msubsup" id="MJXp-Span-141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-143" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> w_i </script>  Hemisphäre <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-144"><span class="MJXp-mtext" id="MJXp-Span-145">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.824ex" height="2.419ex" viewBox="0 -780.1 3368.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-4F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="1013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="1892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="2358" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="2839" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ Omega </script>  .  In der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letzten Lektion war die</a> Berechnung des Integrals nicht lästig, da wir die Anzahl der Lichtquellen und damit all die verschiedenen Richtungen des Lichteinfalls, die ihnen entsprechen, im Voraus kannten.  Gleichzeitig kann das Integral nicht mit einem Schnappschuss gelöst werden: <u>einem</u> fallenden Vektor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-151"><span class="MJXp-msubsup" id="MJXp-Span-152"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-154" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> w_i </script>  aus der Umgebung kann Energie ungleich Null Helligkeit tragen.  Für die praktische Anwendbarkeit des Verfahrens ist es daher erforderlich, die folgenden Anforderungen zu erfüllen: <br><ul><li>  Sie müssen einen Weg finden, um die Energiehelligkeit der Szene für einen beliebigen Richtungsvektor zu erhalten <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-155"><span class="MJXp-msubsup" id="MJXp-Span-156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-158" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> w_i </script>  ;; </li><li>  Es ist notwendig, dass die Lösung des Integrals in Echtzeit erfolgen kann. </li></ul><br>  Nun, der erste Punkt ist von selbst gelöst.  Ein Hinweis auf eine Lösung ist hier bereits verrutscht: Eine der Methoden zur Darstellung der Bestrahlung einer Szene oder Umgebung ist eine kubische Karte, die einer speziellen Verarbeitung unterzogen wurde.  Jedes Texel in einer solchen Karte kann als separate emittierende Quelle betrachtet werden.  Durch Abtasten von einer solchen Karte gemäß einem beliebigen Vektor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-159"><span class="MJXp-msubsup" id="MJXp-Span-160"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-162" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> w_i </script>  Wir erhalten leicht die Energiehelligkeit der Szene in diese Richtung. <br><br>  Wir erhalten also die Energiehelligkeit der Szene für einen beliebigen Vektor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-163"><span class="MJXp-msubsup" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-166" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> w_i </script>  :: <br><br><pre><code class="plaintext hljs">vec3 radiance = texture(_cubemapEnvironment, w_i).rgb;</code> </pre> <br>  Bemerkenswerterweise müssen wir zum Lösen des Integrals jedoch Proben aus der Umgebungskarte nicht aus einer Richtung, sondern aus allen möglichen Bereichen der Hemisphäre erstellen.  Und so - für jedes schattierte Fragment.  Offensichtlich ist dies für Echtzeitaufgaben praktisch nicht praktikabel.  Eine effektivere Methode wäre, einen Teil der Integrandenoperationen auch außerhalb unserer Anwendung im Voraus zu berechnen.  Aber dafür müssen Sie die Ärmel hochkrempeln und tiefer in die Essenz des Ausdrucks des Reflexionsvermögens eintauchen: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-167"><span class="MJXp-msubsup" id="MJXp-Span-168"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-170" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">p</span><span class="MJXp-mo" id="MJXp-Span-173" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">g</span><span class="MJXp-msubsup" id="MJXp-Span-179"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-181" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-183" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-184">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">t</span><span class="MJXp-mtext" id="MJXp-Span-188">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">z</span><span class="MJXp-msubsup" id="MJXp-Span-196"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-198" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-199">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-205" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-206"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-208" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-209">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">c</span><span class="MJXp-mrow" id="MJXp-Span-214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">c</span></span><span class="MJXp-mrow" id="MJXp-Span-216"><span class="MJXp-mtext" id="MJXp-Span-217">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">i</span></span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-223" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-224">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">c</span><span class="MJXp-mrow" id="MJXp-Span-229"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">G</span></span><span class="MJXp-mrow" id="MJXp-Span-233"><span class="MJXp-mn" id="MJXp-Span-234">4</span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-236">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">g</span><span class="MJXp-msubsup" id="MJXp-Span-241"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-243" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-244">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">n</span><span class="MJXp-mo" id="MJXp-Span-250" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-251" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-252">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">g</span><span class="MJXp-msubsup" id="MJXp-Span-257"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-259" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-260">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">n</span><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-268"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-270" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">p</span><span class="MJXp-mo" id="MJXp-Span-273" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-274">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">g</span><span class="MJXp-msubsup" id="MJXp-Span-279"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-281" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">n</span><span class="MJXp-mtext" id="MJXp-Span-284">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">t</span><span class="MJXp-mtext" id="MJXp-Span-289">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">g</span><span class="MJXp-msubsup" id="MJXp-Span-294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-296" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">d</span><span class="MJXp-mtext" id="MJXp-Span-298">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">g</span><span class="MJXp-msubsup" id="MJXp-Span-303"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-305" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="136.229ex" height="2.78ex" viewBox="0 -832 58654 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="963" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="1124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-70" x="1514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-2C" x="2017" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="2712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="3198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="4076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="4543" y="0"></use><g transform="translate(5023,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="5996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-3D" x="6664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="7970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="8315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="8916" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-62" x="9527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="9957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="10423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-72" x="10904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="11355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="11822" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-7A" x="12422" y="0"></use><g transform="translate(12891,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="2942" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="15807" y="0"></use><g transform="translate(16197,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-66" x="17439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-72" x="17989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="18441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="18970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="19404" y="0"></use><g transform="translate(19837,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="753" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-2B" x="21158" y="0"></use><g transform="translate(22159,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-73" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-66" x="23363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-72" x="23913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="24365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="24894" y="0"></use><g transform="translate(25328,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(27692,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-34" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="1140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="2504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="2970" y="0"></use><g transform="translate(3451,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="4673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="5107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="5630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="6116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="6477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="7078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="7467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="8107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="8592" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="9471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="9937" y="0"></use><g transform="translate(10418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="11542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="11975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="12499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="12984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="13346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="13946" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="42028" y="0"></use><g transform="translate(42418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="963" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-28" x="43443" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-70" x="43833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-2C" x="44336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="45032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="45517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="46396" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="46862" y="0"></use><g transform="translate(47343,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMAIN-29" x="48216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6E" x="48606" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-63" x="49456" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="49890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="50413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-74" x="50899" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="51510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="51996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="52874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="53341" y="0"></use><g transform="translate(53821,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-64" x="54695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6F" x="55469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-6D" x="55954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-65" x="56833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-67" x="57299" y="0"></use><g transform="translate(57780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhEAFWnYN1fAZG-_yblXULOxpIPww#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> L_o (p, \ omega_o) = \ int \ begrenzt _ {\ Omega} (k_d \ frac {c} {\ pi} + k_s \ frac {DFG} {4 (\ omega_o \ cdot n) (\ omega_i \ cdot n )}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br><br>  Es ist ersichtlich, dass sich die Teile des Ausdrucks auf das Diffuse beziehen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-306"><span class="MJXp-msubsup" id="MJXp-Span-307"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-309" style="vertical-align: -0.4em;">d</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9"> k_d </script>  und Spiegel <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-310"><span class="MJXp-msubsup" id="MJXp-Span-311"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-313" style="vertical-align: -0.4em;">s</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> k_s </script>  BRDF-Komponenten sind unabhängig.  Sie können das Integral in zwei Teile teilen: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-314"><span class="MJXp-msubsup" id="MJXp-Span-315"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-317" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-318" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">p</span><span class="MJXp-mo" id="MJXp-Span-320" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-321">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">g</span><span class="MJXp-msubsup" id="MJXp-Span-326"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-328" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-329" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-330" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-331">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">t</span><span class="MJXp-mtext" id="MJXp-Span-335">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">e</span><span class="MJXp-msubsup" id="MJXp-Span-342"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-344" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-345">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-351" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-352"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-354" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-355">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">c</span><span class="MJXp-mrow" id="MJXp-Span-360"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">c</span></span><span class="MJXp-mrow" id="MJXp-Span-362"><span class="MJXp-mtext" id="MJXp-Span-363">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-365">i</span></span><span class="MJXp-mo" id="MJXp-Span-366" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-367"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-369" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-370" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">p</span><span class="MJXp-mo" id="MJXp-Span-372" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-373">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">g</span><span class="MJXp-msubsup" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-380" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-381" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">n</span><span class="MJXp-mtext" id="MJXp-Span-383">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">t</span><span class="MJXp-mtext" id="MJXp-Span-388">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">g</span><span class="MJXp-msubsup" id="MJXp-Span-393"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-395" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">d</span><span class="MJXp-mtext" id="MJXp-Span-397">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">g</span><span class="MJXp-msubsup" id="MJXp-Span-402"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-404" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-405" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-406">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">t</span><span class="MJXp-mtext" id="MJXp-Span-410">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-411">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">e</span><span class="MJXp-msubsup" id="MJXp-Span-417"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-419" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-420">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-425">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-426" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-427"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-429" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-430">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">c</span><span class="MJXp-mrow" id="MJXp-Span-435"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">G</span></span><span class="MJXp-mrow" id="MJXp-Span-439"><span class="MJXp-mn" id="MJXp-Span-440">4</span><span class="MJXp-mo" id="MJXp-Span-441" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-442">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">g</span><span class="MJXp-msubsup" id="MJXp-Span-447"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-449" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-450">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">n</span><span class="MJXp-mo" id="MJXp-Span-456" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-457" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-458">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">g</span><span class="MJXp-msubsup" id="MJXp-Span-463"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-465" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-466">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">n</span><span class="MJXp-mo" id="MJXp-Span-472" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-473" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-474"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-476" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-477" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">p</span><span class="MJXp-mo" id="MJXp-Span-479" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-480">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">g</span><span class="MJXp-msubsup" id="MJXp-Span-485"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-487" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-488" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">n</span><span class="MJXp-mtext" id="MJXp-Span-490">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-493">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">t</span><span class="MJXp-mtext" id="MJXp-Span-495">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">g</span><span class="MJXp-msubsup" id="MJXp-Span-500"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-501" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-502" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">d</span><span class="MJXp-mtext" id="MJXp-Span-504">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">g</span><span class="MJXp-msubsup" id="MJXp-Span-509"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-511" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> L_o (p, \ omega_o) = \ int \ Grenzen _ {\ Omega} (k_d \ frac {c} {\ pi}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i + \ int \ Grenzen_ { \ Omega} (k_s \ frac {DFG} {4 (\ omega_o \ cdot n) (\ omega_i \ cdot n)}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br><br>  Eine solche Aufteilung in Teile ermöglicht es uns, jeden einzelnen einzeln zu behandeln, und in dieser Lektion werden wir uns mit dem Teil befassen, der für die diffuse Beleuchtung verantwortlich ist. <br><br>  Nachdem wir die Form des Integrals über der diffusen Komponente analysiert haben, können wir schließen, dass die diffuse Lambert-Komponente im Wesentlichen konstant ist (Farbe) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-512"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> s </script>  Brechungsindex <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-514"><span class="MJXp-msubsup" id="MJXp-Span-515"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-517" style="vertical-align: -0.4em;">d</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> k_d </script>  und <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-518"><span class="MJXp-mtext" id="MJXp-Span-519">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> \ pi </script>  sind unter den Bedingungen des Integranden konstant) und hängen nicht von anderen Variablen ab.  Angesichts dieser Tatsache können wir die Konstanten über das Vorzeichen des Integrals hinaus setzen: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-522"><span class="MJXp-msubsup" id="MJXp-Span-523"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-525" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-526" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">p</span><span class="MJXp-mo" id="MJXp-Span-528" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-529">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">g</span><span class="MJXp-msubsup" id="MJXp-Span-534"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-536" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-537" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-538" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-539"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-541" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-542">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">c</span><span class="MJXp-mrow" id="MJXp-Span-547"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">c</span></span><span class="MJXp-mrow" id="MJXp-Span-549"><span class="MJXp-mtext" id="MJXp-Span-550">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">i</span></span><span class="MJXp-mtext" id="MJXp-Span-553">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-555">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">t</span><span class="MJXp-mtext" id="MJXp-Span-557">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">z</span><span class="MJXp-msubsup" id="MJXp-Span-565"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-567" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-568">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">a</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-574"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-576" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-577" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">p</span><span class="MJXp-mo" id="MJXp-Span-579" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-580">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">g</span><span class="MJXp-msubsup" id="MJXp-Span-585"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-587" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-588" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">n</span><span class="MJXp-mtext" id="MJXp-Span-590">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">t</span><span class="MJXp-mtext" id="MJXp-Span-595">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">g</span><span class="MJXp-msubsup" id="MJXp-Span-600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-602" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">d</span><span class="MJXp-mtext" id="MJXp-Span-604">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-605">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">g</span><span class="MJXp-msubsup" id="MJXp-Span-609"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-611" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-15"> L_o (p, \ omega_o) = k_d \ frac {c} {\ pi} \ int \ begrenzt _ {\ Omega} L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br><br>  So bekommen wir ein Integral nur abhängig von <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-612"><span class="MJXp-msubsup" id="MJXp-Span-613"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-614" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-615" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> w_i </script>  (Es wird angenommen, dass <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-616"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> p </script>  entspricht dem Zentrum der kubischen Karte der Umgebung).  Basierend auf dieser Formel können Sie eine neue kubische Karte berechnen oder noch besser vorberechnen, in der das Ergebnis der Berechnung des Integrals der diffusen Komponente für jede Richtung der Stichprobe (oder Texelkarte) gespeichert ist. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-618"><span class="MJXp-msubsup" id="MJXp-Span-619"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-621" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> w_o </script>  unter Verwendung der Faltungsoperation. <br><br>  Faltung ist die Operation, bei der auf jedes Element in einem Datensatz eine Berechnung angewendet wird, wobei die Daten aller anderen Elemente in dem Datensatz berücksichtigt werden.  In diesem Fall sind solche Daten die Energiehelligkeit der Szene oder der Umgebungskarte.  Um einen Wert in jeder Richtung der Probe in der kubischen Karte zu berechnen, müssen wir die Werte berücksichtigen, die aus allen anderen möglichen Richtungen der Probe in der um den Probenpunkt liegenden Halbkugel entnommen wurden. <br><br>  Um die Umgebungskarte zu falten, müssen Sie das Integral für jede resultierende Richtung der Probe lösen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-622"><span class="MJXp-msubsup" id="MJXp-Span-623"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-624" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-625" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> w_o </script>  durch Durchführen mehrerer diskreter Abtastwerte entlang von Richtungen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-626"><span class="MJXp-msubsup" id="MJXp-Span-627"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-629" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> w_i </script>  Zugehörigkeit zur Hemisphäre <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-630"><span class="MJXp-mtext" id="MJXp-Span-631">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-633">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ Omega </script>  und Mitteln der Gesamtenergiehelligkeit.  Die Hemisphäre, auf deren Grundlage die Probenahmerichtungen genommen werden <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-637"><span class="MJXp-msubsup" id="MJXp-Span-638"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-640" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> w_i </script>  entlang des Vektors orientiert <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-641"><span class="MJXp-msubsup" id="MJXp-Span-642"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-644" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> w_o </script>  Darstellen der Zielrichtung, für die die aktuelle Faltung berechnet wird.  Schauen Sie sich das Bild zum besseren Verständnis an: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pr/yl/ql/prylqltlmqjlvfhpaswbes8bmg8.png"></div><br><br>  Eine solche vorberechnete kubische Karte, die das Integrationsergebnis für jede Richtung der Probe speichert <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-645"><span class="MJXp-msubsup" id="MJXp-Span-646"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-648" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> w_o </script>  kann auch als Speicherung des Ergebnisses der Summierung der gesamten indirekten diffusen Beleuchtung in der Szene betrachtet werden, die auf eine bestimmte Oberfläche fällt, die entlang der Richtung ausgerichtet ist <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-649"><span class="MJXp-msubsup" id="MJXp-Span-650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-652" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> w_o </script>  .  Mit anderen Worten, solche kubischen Karten werden Bestrahlungsstärkenkarten genannt, da Sie mit der kubischen Umgebungskarte vor der Faltung die Bestrahlungsmenge der Szene aus einer beliebigen Richtung direkt abtasten können <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-653"><span class="MJXp-msubsup" id="MJXp-Span-654"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-656" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> w_o </script>  ohne zusätzliche Berechnungen. <br><blockquote>  Der Ausdruck, der die Energiehelligkeit bestimmt, hängt auch von der Position des Abtastpunkts ab <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-657"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> p </script>  was wir genau in der Mitte der Bestrahlungskarte liegend genommen haben.  Diese Annahme führt zu einer Einschränkung in dem Sinne, dass die Quelle aller indirekten diffusen Beleuchtung auch eine einzige Umgebungskarte sein wird.  In Szenen mit heterogener Beleuchtung kann dies die Illusion der Realität zerstören (insbesondere in Innenszenen).  Moderne Rendering-Engines lösen dieses Problem, indem sie spezielle Hilfsobjekte in die Szenenreflexionssonden <i>einfügen</i> .  Jedes dieser Objekte hat eine Aufgabe: Es bildet eine eigene Bestrahlungskarte für seine unmittelbare Umgebung.  Bei dieser Technik erfolgt die Bestrahlung (und Energiehelligkeit) an einem beliebigen Punkt <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-659"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-660">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> p </script>  wird durch einfache Interpolation zwischen den nächsten Reflexionsproben bestimmt.  Für aktuelle Aufgaben sind wir uns jedoch einig, dass die Umgebungskarte von ihrem Zentrum aus abgetastet wird, und wir werden in weiteren Lektionen Reflexionsmuster analysieren. </blockquote>  Unten finden Sie ein Beispiel für eine kubische Karte der Umgebung und eine daraus abgeleitete Bestrahlungskarte (basierend auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wellenmaschine</a> ), die die Energiehelligkeit der Umgebung für jede Ausgangsrichtung mittelt <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-661"><span class="MJXp-msubsup" id="MJXp-Span-662"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-664" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> w_o </script>  . <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8c/qz/yg/8cqzygcmwfdkdcadui_iqrtj4rw.png"></div><br>  Diese Karte speichert also das Faltungsergebnis in jedem Texel (entsprechend der Richtung) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-665"><span class="MJXp-msubsup" id="MJXp-Span-666"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-668" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> w_o </script>  ), und äußerlich sieht eine solche Karte so aus, als würde sie die durchschnittliche Farbe der Umgebungskarte speichern.  Eine Probe in einer beliebigen Richtung aus einer solchen Karte gibt den Wert der aus dieser Richtung ausgehenden Bestrahlung zurück. <br><br><h2>  PBR und HDR </h2><br>  In der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorherigen Lektion</a> wurde bereits kurz darauf hingewiesen, dass es für den korrekten Betrieb des PBR-Beleuchtungsmodells äußerst wichtig ist, den HDR-Helligkeitsbereich der vorhandenen Lichtquellen zu berücksichtigen.  Da das PBR-Modell am Eingang Parameter auf die eine oder andere Weise akzeptiert, die auf sehr spezifischen physikalischen Größen und Eigenschaften basieren, ist es logisch, dass die Energiehelligkeit der Lichtquellen mit ihren tatsächlichen Prototypen übereinstimmt.  Es spielt keine Rolle, wie wir den spezifischen Wert des Strahlungsflusses für jede Quelle rechtfertigen: Machen Sie eine grobe technische Schätzung oder wenden Sie sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">physikalischen Größen zu</a> - der Unterschied in den Eigenschaften zwischen einer Raumlampe und der Sonne wird in jedem Fall enorm sein.  Ohne die Verwendung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HDR-</a> Bereichs ist es einfach unmöglich, die relative Helligkeit einer Vielzahl von Lichtquellen genau zu bestimmen. <br><br>  PBR und HDR sind also für immer Freunde, das ist verständlich, aber wie hängt diese Tatsache mit bildbasierten Beleuchtungsmethoden zusammen?  In der letzten Lektion wurde gezeigt, dass die Konvertierung von PBR in den HDR-Rendering-Bereich einfach ist.  Es bleibt ein „aber“: Da die indirekte Beleuchtung aus der Umgebung auf einer kubischen Karte der Umgebung basiert, ist ein Weg erforderlich, um die HDR-Eigenschaften dieser Hintergrundbeleuchtung in der Umgebungskarte beizubehalten. <br><br>  Bisher haben wir Umgebungskarten verwendet, die im LDR-Format erstellt wurden (z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Skyboxes</a> ).  Wir haben das Farbmuster von ihnen beim Rendern so wie es ist verwendet und dies ist für die direkte Schattierung von Objekten durchaus akzeptabel.  Und es ist völlig ungeeignet, wenn Umgebungskarten als Quellen für physikalisch zuverlässige Messungen verwendet werden. <br><br><h4>  RGBE - HDR-Bildformat </h4><br>  Machen Sie sich mit dem RGBE-Bilddateiformat vertraut.  Dateien mit der Erweiterung " <i>.hdr</i> " werden zum Speichern von Bildern mit einem großen Dynamikbereich verwendet, wobei jedem Element der <i>Farbtriade</i> ein Byte und dem gemeinsamen Exponenten ein weiteres Byte zugewiesen wird.  Das Format ermöglicht es Ihnen auch, kubische Umgebungskarten mit einem Farbintensitätsbereich außerhalb des LDR-Bereichs [0., 1.] zu speichern.  Dies bedeutet, dass Lichtquellen ihre tatsächliche Intensität beibehalten können, die durch eine solche Umgebungskarte dargestellt wird. <br><br>  Das Netzwerk verfügt über eine Vielzahl kostenloser Umgebungskarten im RGBE-Format, die unter verschiedenen realen Bedingungen aufgenommen wurden.  Hier ist ein Beispiel von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sIBL-Archivseite</a> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fa/ua/aq/fauaaqkw63r9dnghjofu83o-h2i.png"></div><br>  Sie werden überrascht sein, was Sie gesehen haben: Schließlich sieht dieses verzerrte Bild überhaupt nicht aus wie eine normale kubische Karte mit ihrer ausgeprägten Aufteilung in 6 Gesichter.  Die Erklärung ist einfach: Diese Karte der Umgebung wurde von einer Kugel auf eine Ebene projiziert - ein <i>gleich rechteckiger Scan wurde</i> angewendet.  Dies geschieht, um in einem Format speichern zu können, das den Speichermodus von kubischen Karten nicht unterstützt.  Natürlich hat diese Projektionsmethode ihre Nachteile: Die horizontale Auflösung ist viel höher als die vertikale.  In den meisten Fällen der Anwendung beim Rendern ist dies ein akzeptables Verhältnis, da sich normalerweise interessante Details der Umgebung und der Beleuchtung genau in der horizontalen Ebene und nicht in der vertikalen Ebene befinden.  Nun, zu allem brauchen wir den Konvertierungscode zurück zur kubischen Karte. <br><br><h4>  Unterstützung für das RGBE-Format in stb_image.h </h4><br>  Das Herunterladen dieses Bildformats auf eigene Faust erfordert Kenntnisse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Formatspezifikation</a> , die nicht schwierig, aber dennoch mühsam ist.  Zum Glück unterstützt die in einer einzelnen Header-Datei implementierte Bildladebibliothek stb_image.h das Laden von RGBE-Dateien und die Rückgabe eines Arrays von Gleitkommazahlen - was wir für unsere Zwecke benötigen!  Das Hinzufügen einer Bibliothek zu Ihrem Projekt und das Laden von Bilddaten ist äußerst einfach: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"stb_image.h"</span></span></span><span class="hljs-meta"> [...] stbi_set_flip_vertically_on_load(true); int width, height, nrComponents; float *data = stbi_loadf(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"newport_loft.hdr"</span></span></span><span class="hljs-meta">, &amp;width, &amp;height, &amp;nrComponents, 0); unsigned int hdrTexture; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (data) { glGenTextures(1, &amp;hdrTexture); glBindTexture(GL_TEXTURE_2D, hdrTexture); glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB16F, width, height, 0, GL_RGB, GL_FLOAT, data); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR); stbi_image_free(data); } </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> { std::cout &lt;&lt; </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Failed to load HDR image."</span></span></span><span class="hljs-meta"> &lt;&lt; std::endl; }</span></span></code> </pre> <br>  Die Bibliothek konvertiert automatisch Werte aus dem internen HDR-Format in reguläre echte 32-Bit-Zahlen mit standardmäßig drei Farbkanälen.  Es reicht aus, die Daten des ursprünglichen HDR-Bildes in einer normalen 2D-Gleitkomma-Textur zu speichern. <br><br><h4>  Konvertieren Sie einen Scan mit gleichem Winkel in eine kubische Karte </h4><br>  Ein ebenso rechteckiger Scan kann verwendet werden, um Proben direkt aus der Umgebungskarte auszuwählen. Dies würde jedoch teure mathematische Operationen erfordern, während das Abrufen von einer normalen kubischen Karte praktisch frei von Leistung wäre.  Genau aus diesen Überlegungen heraus werden wir uns in dieser Lektion mit der Umwandlung eines ebenso rechteckigen Bildes in eine kubische Karte befassen, die später verwendet wird.  Hier wird jedoch auch die direkte Abtastmethode aus einer ebenso rechteckigen Karte unter Verwendung eines dreidimensionalen Vektors gezeigt, damit Sie die für Sie geeignete Arbeitsmethode auswählen können. <br><br>  Zum Konvertieren müssen Sie einen Würfel in Einheitsgröße zeichnen, ihn von innen betrachten, eine gleich rechteckige Karte auf seine Flächen projizieren und dann sechs Bilder aus den Flächen als Flächen der kubischen Karte extrahieren.  Der Scheitelpunkt-Shader dieser Stufe ist recht einfach: Er verarbeitet einfach die Scheitelpunkte des Würfels wie sie sind und übergibt ihre nicht reformierten Positionen zur Verwendung als dreidimensionaler Beispielvektor an den Fragment-Shader: <br><br><pre> <code class="plaintext hljs">#version 330 core layout (location = 0) in vec3 aPos; out vec3 localPos; uniform mat4 projection; uniform mat4 view; void main() { localPos = aPos; gl_Position = projection * view * vec4(localPos, 1.0); }</code> </pre> <br>  Im Fragment-Shader schattieren wir jede Seite des Würfels, als wollten wir den Würfel vorsichtig mit einem Blatt mit einer ebenso rechteckigen Karte umwickeln.  Dazu wird die auf den Fragment-Shader übertragene Abtastrichtung genommen, durch spezielle trigonometrische Magie verarbeitet, und schließlich wird die Auswahl aus einer gleich rechteckigen Karte getroffen, als wäre es tatsächlich eine kubische Karte.  Das Auswahlergebnis wird direkt als Farbe des Fragments der Würfelfläche gespeichert: <br><br><pre> <code class="plaintext hljs">#version 330 core out vec4 FragColor; in vec3 localPos; uniform sampler2D equirectangularMap; const vec2 invAtan = vec2(0.1591, 0.3183); vec2 SampleSphericalMap(vec3 v) { vec2 uv = vec2(atan(vz, vx), asin(vy)); uv *= invAtan; uv += 0.5; return uv; } void main() { // localPos   vec2 uv = SampleSphericalMap(normalize(localPos)); vec3 color = texture(equirectangularMap, uv).rgb; FragColor = vec4(color, 1.0); }</code> </pre> <br>  Wenn Sie mit diesem Shader und einer zugehörigen HDR-Umgebungskarte tatsächlich einen Würfel zeichnen, erhalten Sie Folgendes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wi/xl/u2/wixlu2m9jwpr9d6oakhw7_nqcqa.png"></div><br>  Das heißt,  Es ist zu sehen, dass wir tatsächlich eine rechteckige Textur auf einen Würfel projiziert haben.  Großartig, aber wie hilft uns das bei der Erstellung einer echten kubischen Karte?  Um diese Aufgabe zu beenden, muss derselbe Würfel sechsmal mit einer Kamera gerendert werden, die auf jedes der Gesichter schaut, während die Ausgabe in ein separates <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bildpufferobjekt geschrieben</a> wird: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> captureFBO, captureRBO; glGenFramebuffers(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;captureFBO); glGenRenderbuffers(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;captureRBO); glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); glBindRenderbuffer(GL_RENDERBUFFER, captureRBO); glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT24, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>); glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_DEPTH_ATTACHMENT, GL_RENDERBUFFER, captureRBO);</code> </pre> <br>  Natürlich werden wir nicht vergessen, den Speicher für die Speicherung der sechs Gesichter der zukünftigen kubischen Karte zu organisieren: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> envCubemap; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;envCubemap); glBindTexture(GL_TEXTURE_CUBE_MAP, envCubemap); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; ++i) { <span class="hljs-comment"><span class="hljs-comment">//  ,     // 16     glTexImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, GL_RGB16F, 512, 512, 0, GL_RGB, GL_FLOAT, nullptr); } glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MIN_FILTER, GL_LINEAR); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span></span></code> </pre><br>  Nach dieser Vorbereitung muss nur noch die Übertragung von Teilen einer gleich rechteckigen Karte direkt am Rande einer kubischen Karte durchgeführt werden. <br><br>  Wir werden nicht zu sehr ins Detail gehen, zumal der Code viel wiederholt, was in den Lektionen über den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bildspeicher</a> und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">omnidirektionalen Schatten zu sehen ist</a> .  Im Prinzip kommt es darauf an, sechs separate Ansichtsmatrizen vorzubereiten, die die Kamera streng auf jede der Würfelflächen ausrichten, sowie eine spezielle Projektionsmatrix mit einem Blickwinkel von 90 °, um die gesamte Fläche des Würfels zu erfassen.  Dann wird nur sechsmal gerendert und das Ergebnis in einem Gleitkomma-Framebuffer gespeichert: <br><br><pre> <code class="cpp hljs">glm::mat4 captureProjection = glm::perspective(glm::radians(<span class="hljs-number"><span class="hljs-number">90.0f</span></span>), <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.1f</span></span>, <span class="hljs-number"><span class="hljs-number">10.0f</span></span>); glm::mat4 captureViews[] = { glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)) }; <span class="hljs-comment"><span class="hljs-comment">//  HDR        equirectangularToCubemapShader.use(); equirectangularToCubemapShader.setInt("equirectangularMap", 0); equirectangularToCubemapShader.setMat4("projection", captureProjection); glActiveTexture(GL_TEXTURE0); glBindTexture(GL_TEXTURE_2D, hdrTexture); //         glViewport(0, 0, 512, 512); glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); for (unsigned int i = 0; i &lt; 6; ++i) { equirectangularToCubemapShader.setMat4("view", captureViews[i]); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, envCubemap, 0); glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); renderCube(); //    } glBindFramebuffer(GL_FRAMEBUFFER, 0);</span></span></code> </pre><br>  Hier wird die Farbe des Bildpuffers angehängt und abwechselnd die verbundene Fläche der kubischen Karte geändert, was zur direkten Ausgabe des Renderings auf eine der Flächen der Umgebungskarte führt.  Dieser Code muss nur einmal ausgeführt werden. Danach <i>haben</i> wir <i>noch eine</i> vollständige <i>envCubemap-</i> Umgebungskarte, die das Ergebnis der Konvertierung der ursprünglichen <i>gleichrechteckigen</i> Version der HDR-Umgebungskarte enthält. <br><br>  Wir werden die resultierende kubische Karte testen, indem wir den einfachsten Skybox-Shader skizzieren: <br><br><pre> <code class="plaintext hljs">#version 330 core layout (location = 0) in vec3 aPos; uniform mat4 projection; uniform mat4 view; out vec3 localPos; void main() { localPos = aPos; //         mat4 rotView = mat4(mat3(view)); vec4 clipPos = projection * rotView * vec4(localPos, 1.0); gl_Position = clipPos.xyww; }</code> </pre><br>  <i>Achten Sie</i> auf den Trick mit den Komponenten des <i>clipPos-</i> Vektors: Wir verwenden die <i>xyww-</i> Tetrade, wenn wir die transformierte Koordinate des Scheitelpunkts aufzeichnen, um sicherzustellen, dass alle Fragmente der Skybox eine maximale Tiefe von 1,0 haben (der Ansatz wurde bereits in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">entsprechenden Lektion verwendet</a> ).  Vergessen Sie nicht, die Vergleichsfunktion in <i>GL_LEQUAL</i> zu <i>ändern</i> : <br><br><pre> <code class="cpp hljs">glDepthFunc(GL_LEQUAL);</code> </pre> <br>  Der Fragment-Shader wählt einfach aus einer kubischen Karte aus: <br><br><pre> <code class="plaintext hljs">#version 330 core out vec4 FragColor; in vec3 localPos; uniform samplerCube environmentMap; void main() { vec3 envColor = texture(environmentMap, localPos).rgb; envColor = envColor / (envColor + vec3(1.0)); envColor = pow(envColor, vec3(1.0/2.2)); FragColor = vec4(envColor, 1.0); }</code> </pre> <br>  Die Auswahl aus der Karte basiert auf den interpolierten lokalen Koordinaten der Eckpunkte des Würfels, was in diesem Fall die richtige Richtung der Auswahl ist (wiederum in der Lektion über Skyboxen, <i>ca. Per.</i> ).  Da die Transportkomponenten in der Ansichtsmatrix ignoriert wurden, hängt das Rendern der Skybox nicht von der Position des Betrachters ab, wodurch die Illusion eines unendlich entfernten Hintergrunds entsteht.  Da wir hier Daten direkt von der HDR-Karte an den Standard-Framebuffer ausgeben, der der LDR-Empfänger ist, muss die Tonkomprimierung abgerufen werden.  Und schließlich werden fast alle HDR-Karten im linearen Raum gespeichert, was bedeutet, dass die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gammakorrektur</a> als endgültiger Verarbeitungsakkord angewendet werden muss. <br><br>  Wenn also die erhaltene Skybox zusammen mit der bereits bekannten Anordnung von Kugeln ausgegeben wird, wird etwas Ähnliches erhalten: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s8/-3/vx/s8-3vxu5dhzhrwm1adtb5uwffga.png"></div><br>  Nun, es wurde viel Aufwand betrieben, aber am Ende haben wir uns erfolgreich daran gewöhnt, die HDR-Umgebungskarte zu lesen, sie von einer gleichseitigen in eine kubische Karte zu konvertieren und die kubische HDR-Karte als Skybox in der Szene auszugeben.  Darüber hinaus ist der Code zum Konvertieren in eine kubische Karte durch Rendern auf sechs Seiten einer kubischen Karte für uns weiter nützlich bei der Aufgabe der <i>Faltung einer Umgebungskarte</i> .  Der Code für den gesamten Konvertierungsprozess ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h2>  Faltung einer kubischen Karte </h2><br>  Wie zu Beginn der Lektion gesagt wurde, besteht unser Hauptziel darin, das Integral für alle möglichen Richtungen indirekter diffuser Beleuchtung zu lösen, wobei die gegebene Bestrahlung der Szene in Form einer kubischen Karte der Umgebung berücksichtigt wird.  Es ist bekannt, dass wir den Wert der Energiehelligkeit der Szene erhalten können <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-669"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">L</span><span class="MJXp-mo" id="MJXp-Span-671" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">p</span><span class="MJXp-mo" id="MJXp-Span-673" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-674"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-676" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-677" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> L (p, w_i) </script>  für beliebige Richtung <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-678"><span class="MJXp-msubsup" id="MJXp-Span-679"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-681" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> w_i </script>  durch Abtasten einer kubischen Karte der Umgebung in dieser Richtung aus dem HDR.  Um das Integral zu lösen, muss die Energiehelligkeit der Szene aus allen möglichen Richtungen in der Hemisphäre abgetastet werden <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-682"><span class="MJXp-mtext" id="MJXp-Span-683">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-684">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> \ Omega </script>  jedes überprüfte Fragment. <br>  Offensichtlich ist die Aufgabe, Licht aus der Umgebung aus allen möglichen Richtungen in der Hemisphäre abzutasten <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-689"><span class="MJXp-mtext" id="MJXp-Span-690">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-691">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> \ Omega </script>  ist rechnerisch nicht praktikabel - es gibt unendlich viele solcher Richtungen.  Es ist jedoch möglich, die Näherung anzuwenden, indem eine endliche Anzahl von Richtungen gewählt wird, die zufällig ausgewählt werden oder sich gleichmäßig innerhalb der Halbkugel befinden.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auf diese Weise können wir eine ziemlich gute Annäherung an die tatsächliche Bestrahlung erhalten und das für uns interessante Integral im Wesentlichen in Form einer endlichen Summe lösen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber für Echtzeitaufgaben ist selbst ein solcher Ansatz immer noch unglaublich auferlegt, da die Proben für jedes Fragment entnommen werden und die Anzahl der Proben hoch genug sein muss, um ein akzeptables Ergebnis zu erzielen. </font><font style="vertical-align: inherit;">Daher wäre es schön, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Daten für diesen Schritt außerhalb des Renderprozesses </font><i><font style="vertical-align: inherit;">im Voraus vorzubereiten</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Da die Ausrichtung der Halbkugel bestimmt, aus welchem ​​Raumbereich wir die Bestrahlung erfassen, ist es möglich, die Bestrahlung für jede mögliche Ausrichtung der Halbkugel basierend auf allen möglichen Ausgangsrichtungen im Voraus zu berechnen</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-696"><span class="MJXp-msubsup" id="MJXp-Span-697"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-699" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">w_o</script>  :: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-700"><span class="MJXp-msubsup" id="MJXp-Span-701"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-703" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-704" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-706" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-707"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-709" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-710" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-711" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-712"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-714" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span></span><span class="MJXp-mfrac" id="MJXp-Span-715" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-718"><span class=""><span class="MJXp-mo" id="MJXp-Span-719" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ∫</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-720" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-721"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-722"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-724" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-725" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-727" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-728"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-730" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-731" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span><span class="MJXp-mo" id="MJXp-Span-733" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">⋅</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-734"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-736" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-738"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-739" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-740" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-36">L_o(p,\omega_o) = k_d\frac{c}{\pi} \int\limits_{\Omega} L_i(p,\omega_i) n \cdot \omega_i d\omega_i</script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Als Ergebnis für einen gegebenen beliebigen Vektor </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-741"><span class="MJXp-msubsup" id="MJXp-Span-742"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-744" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> können wir aus der berechneten Bestrahlungsstärkekarte abtasten, um die diffuse Bestrahlungsstärke in dieser Richtung zu erhalten. </font><font style="vertical-align: inherit;">Um die Größe der indirekten diffusen Strahlung am Punkt des aktuellen Fragments zu bestimmen, nehmen wir die Gesamtbestrahlung von einer Hemisphäre, die entlang der Normalen zur Fragmentoberfläche ausgerichtet ist. </font><font style="vertical-align: inherit;">Mit anderen Worten, um die Bestrahlung einer Szene zu erhalten, kommt es auf eine einfache Auswahl an:</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37">w_i</script><font style="vertical-align: inherit;"></font><br><br><pre> <code class="plaintext hljs"> vec3 irradiance = texture(irradianceMap, N);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um eine Bestrahlungskarte zu erstellen, muss die Umgebungskarte gefaltet und in eine kubische Karte konvertiert werden. </font><font style="vertical-align: inherit;">Wir wissen, dass für jedes Fragment seine Halbkugel als entlang der Normalen zur Oberfläche ausgerichtet betrachtet wird</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-745"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N.</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> N </script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In diesem Fall wird die Faltung der kubischen Karte auf die Berechnung der durchschnittlichen Menge an Energiehelligkeit aus allen Richtungen reduziert </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-747"><span class="MJXp-msubsup" id="MJXp-Span-748"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-750" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> innerhalb der Hemisphäre</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39">w_i</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-751"><span class="MJXp-mi" id="MJXp-Span-752"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entlang der Normalen ausgerichtet</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40">\Omega</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-753"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-754"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N.</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> N </script>  :: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yc/ip/a2/ycipa25cnkcvhxdqcvrfbqqozvg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glücklicherweise macht es die zeitaufwändige Vorarbeit, die wir zu Beginn der Lektion durchgeführt haben, jetzt ziemlich einfach, die Umgebungskarte in einem speziellen Fragment-Shader in eine kubische Karte umzuwandeln, deren Ausgabe zur Erstellung einer neuen kubischen Karte verwendet wird. </font><font style="vertical-align: inherit;">Hierfür ist genau der Code nützlich, mit dem eine gleich rechteckige Umgebungskarte in eine kubische Karte übersetzt wurde. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es bleibt nur ein weiterer Verarbeitungs-Shader:</font></font><br><br><pre> <code class="plaintext hljs">#version 330 core out vec4 FragColor; in vec3 localPos; uniform samplerCube environmentMap; const float PI = 3.14159265359; void main() { //       vec3 normal = normalize(localPos); vec3 irradiance = vec3(0.0); [...] //   FragColor = vec4(irradiance, 1.0); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier ist der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umgebungskarten-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sampler </font><font style="vertical-align: inherit;">eine kubische HDR-Karte der Umgebung, die zuvor aus einem Gleichseitigen abgeleitet wurde. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt viele Möglichkeiten, die Umgebungskarte zu falten. In diesem Fall werden für jedes Texel der kubischen Karte mehrere Hemisphären-Probenvektoren generiert</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-755"><span class="MJXp-mi" id="MJXp-Span-756"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , entlang der Richtung der Probe ausgerichtet, und mitteln Sie die Ergebnisse. </font><font style="vertical-align: inherit;">Die Anzahl der Probenvektoren wird festgelegt und die Vektoren selbst werden gleichmäßig innerhalb der Hemisphäre verteilt. </font><font style="vertical-align: inherit;">Ich stelle fest, dass der Integrand eine stetige Funktion ist und eine diskrete Schätzung dieser Funktion nur eine Annäherung ist. </font><font style="vertical-align: inherit;">Und je mehr Abtastvektoren wir nehmen, desto näher sind wir der analytischen Lösung des Integrals. </font><font style="vertical-align: inherit;">Der Integrand des Ausdrucks für das Reflexionsvermögen hängt vom Raumwinkel ab</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42">\Omega</script><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-757"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Werte, mit denen nicht sehr bequem gearbeitet werden kann. </font><font style="vertical-align: inherit;">Anstatt über einen Raumwinkel zu integrieren</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43">dw</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-760"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wir ändern den Ausdruck, was zur Integration über sphärische Koordinaten führt</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44">dw</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-763"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-764"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45">\theta</script>  und <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-765"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46">\phi</script>  :: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vx/8c/_r/vx8c_rphv4hhjo4xwhbduqhoslu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Der Winkel Phi repräsentiert den Azimut in der Ebene der Basis der Hemisphäre und variiert von 0 bis </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-767"><span class="MJXp-mn" id="MJXp-Span-768"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47">2\pi</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Winkel </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-770"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-771"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> repräsentiert den Höhenwinkel, der von 0 bis variiert</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48">\theta</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-772"><span class="MJXp-mfrac" id="MJXp-Span-773" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-774"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-775"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49">\frac{1}{2}\pi</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Der modifizierte Ausdruck für das Reflexionsvermögen in solchen Begriffen lautet wie folgt: </font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-777"><span class="MJXp-msubsup" id="MJXp-Span-778"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-780" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-781" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-783" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-784"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-785" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-786" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-787" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-788"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-790" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-791" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-792" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-793"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-795" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span></span><span class="MJXp-mfrac" id="MJXp-Span-796" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-799"><span class="MJXp-mo" id="MJXp-Span-800" style="margin-left: 0em; margin-right: 0.05em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ∫</font></font></span></span><span class="MJXp-script-box" style="height: 2.1em; vertical-align: -0.7em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-805"><span class="MJXp-mn" id="MJXp-Span-806"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-807"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π </font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-801"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ </font></font></span><span class="MJXp-mo" id="MJXp-Span-803"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mn" id="MJXp-Span-804"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-808"><span class="MJXp-mo" id="MJXp-Span-809" style="margin-left: 0em; margin-right: 0.05em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ∫</font></font></span></span><span class="MJXp-script-box" style="height: 2.66em; vertical-align: -0.7em;"><span class=" MJXp-script"><span><span style="margin-bottom: -1.05em;"><span class="MJXp-mrow" id="MJXp-Span-814"><span class="MJXp-mfrac" id="MJXp-Span-815" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-816"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-817"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> π</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -1.55em;"><span class="MJXp-mrow" id="MJXp-Span-810"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-811"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span><span class="MJXp-mo" id="MJXp-Span-812"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><span class="MJXp-mn" id="MJXp-Span-813"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-819"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-821" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-822" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-824" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-825"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-827" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-828" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-829"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-831" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-832" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><span class="MJXp-mi" id="MJXp-Span-833"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos</font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mo" id="MJXp-Span-835" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-837" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi" id="MJXp-Span-838"><font style="vertical-align: inherit;">sin</font></span><span class="MJXp-mo" id="MJXp-Span-840" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-842" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844"><font style="vertical-align: inherit;">ϕ</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846"><font style="vertical-align: inherit;">θ</font></span></font><span class="MJXp-mo" id="MJXp-Span-834" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-835" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-837" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi" id="MJXp-Span-838"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-839" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-840" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-842" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-50">L_o(p,\phi_o, \theta_o) = k_d\frac{c}{\pi} \int_{\phi = 0}^{2\pi} \int_{\theta = 0}^{\frac{1}{2}\pi} L_i(p,\phi_i, \theta_i) \cos(\theta) \sin(\theta) d\phi d\theta</script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Lösung eines solchen Integrals erfordert die Entnahme einer endlichen Anzahl von Proben in der Hemisphäre </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-847"><span class="MJXp-mi" id="MJXp-Span-848"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Mittelung der Ergebnisse. </font><font style="vertical-align: inherit;">Die Anzahl der Proben kennen</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51">\Omega</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-849"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-851"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52">n1</script>  und <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-852"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-853"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-854"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für jede der sphärischen Koordinaten können wir das Integral in die</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Riemannsche Summe übersetzen</font></a><font style="vertical-align: inherit;">:</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53">n2</script><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-855"><span class="MJXp-msubsup" id="MJXp-Span-856"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-858" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-859" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-861" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-862"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-864" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-865" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-866"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-868" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-869" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-870" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-871"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-873" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span></span><span class="MJXp-mfrac" id="MJXp-Span-874" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-877" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-878"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-879"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-880"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-881"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-882"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-883"><span><span class="MJXp-over"><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-889" style="margin-right: 0px; margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-890"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-891"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-884" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∑</font></font></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-885" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ϕ</font></font></span><span class="MJXp-mo" id="MJXp-Span-887"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><span class="MJXp-mn" id="MJXp-Span-888"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-892"><span><span class="MJXp-over"><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-898" style="margin-right: 0px; margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-899"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n </font></font></span><span class="MJXp-mn" id="MJXp-Span-900"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-893" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∑</font></font></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-894" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> θ</font></font></span><span class="MJXp-mo" id="MJXp-Span-896"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><span class="MJXp-mn" id="MJXp-Span-897"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-901"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-903" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-904" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-906" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-907"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-909" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-910" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-911"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-913" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-914" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><span class="MJXp-mi" id="MJXp-Span-915"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos</font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mo" id="MJXp-Span-917" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-919" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi" id="MJXp-Span-920"><font style="vertical-align: inherit;">sin</font></span><span class="MJXp-mo" id="MJXp-Span-922" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-924" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926"><font style="vertical-align: inherit;">ϕ</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-927"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928"><font style="vertical-align: inherit;">θ</font></span></font><span class="MJXp-mo" id="MJXp-Span-916" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-917" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-919" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi" id="MJXp-Span-920"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-921" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-922" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-924" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-927"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-54">L_o(p,\phi_o, \theta_o) = k_d\frac{c}{\pi} \frac{1}{n1 n2} \sum_{\phi = 0}^{n1} \sum_{\theta = 0}^{n2} L_i(p,\phi_i, \theta_i) \cos(\theta) \sin(\theta) d\phi d\theta</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da beide sphärischen Koordinaten zu jedem Zeitpunkt diskret variieren, wird die Abtastung mit einem bestimmten gemittelten Bereich in der Hemisphäre durchgeführt, wie in der obigen Abbildung zu sehen ist. </font><font style="vertical-align: inherit;">Aufgrund der Beschaffenheit der sphärischen Oberfläche nimmt die Größe des diskreten Abtastbereichs mit zunehmendem Elevationswinkel zwangsläufig ab</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-929"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Annäherung an den Zenit. </font><font style="vertical-align: inherit;">Um diesen Effekt der Flächenreduzierung zu kompensieren, haben wir dem Ausdruck einen Gewichtskoeffizienten hinzugefügt</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55">\theta</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-931"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56">sin\theta</script>  . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Infolgedessen ist die Implementierung einer diskreten Abtastung in der Hemisphäre basierend auf sphärischen Koordinaten für jedes Fragment in Form von Code wie folgt: </font></font><br><br><pre> <code class="plaintext hljs">vec3 irradiance = vec3(0.0); vec3 up = vec3(0.0, 1.0, 0.0); vec3 right = cross(up, normal); up = cross(normal, right); float sampleDelta = 0.025; float nrSamples = 0.0; for(float phi = 0.0; phi &lt; 2.0 * PI; phi += sampleDelta) { for(float theta = 0.0; theta &lt; 0.5 * PI; theta += sampleDelta) { //   .   (  -) vec3 tangentSample = vec3(sin(theta) * cos(phi), sin(theta) * sin(phi), cos(theta)); //      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * N; irradiance += texture(environmentMap, sampleVec).rgb * cos(theta) * sin(theta); nrSamples++; } } irradiance = PI * irradiance * (1.0 / float(nrSamples));</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Variable </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sampleDelta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bestimmt die Größe des diskreten Schritts entlang der Oberfläche der Hemisphäre. Durch Ändern dieses Werts können Sie die Genauigkeit des Ergebnisses erhöhen oder verringern. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Innerhalb beider Zyklen wird ein regulärer dreidimensionaler Probenvektor aus sphärischen Koordinaten gebildet, von der Tangente in den Weltraum übertragen und dann zum Abtasten einer kubischen Umgebungskarte aus dem HDR verwendet. Das Ergebnis der Proben wird in der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bestrahlungsstärkenvariablen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akkumuliert </font><font style="vertical-align: inherit;">, die am Ende der Verarbeitung durch die Anzahl der Proben dividiert wird, um einen durchschnittlichen Bestrahlungswert zu erhalten. Beachten Sie, dass das Ergebnis der Abtastung aus der Textur durch zwei Größen moduliert wird: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos (Theta)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um die Abschwächung des Lichts bei großen Winkeln zu berücksichtigen, und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin (Theta)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- um die Verringerung der Probenfläche bei Annäherung an den Zenit auszugleichen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es bleibt nur der Code zu behandeln, der die Ergebnisse der Faltung der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">envCubemap-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Umgebungskarte rendert und erfasst </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Erstellen Sie zunächst eine kubische Karte, um die Bestrahlung zu speichern (Sie müssen dies einmal tun, bevor Sie in den Haupt-Renderzyklus eintreten):</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> irradianceMap; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;irradianceMap); glBindTexture(GL_TEXTURE_CUBE_MAP, irradianceMap); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; ++i) { glTexImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB16F, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB, GL_FLOAT, <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>); } glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MIN_FILTER, GL_LINEAR); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da die Bestrahlungskarte durch Mittelung gleichmäßig verteilter Abtastwerte der Energiehelligkeit der Umgebungskarte erhalten wird, enthält sie praktisch keine hochfrequenten Teile und Elemente - eine Textur mit relativ kleiner Auflösung (hier 32 x 32) und eine aktivierte lineare Filterung reichen aus, um sie zu speichern. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stellen Sie als Nächstes den Capture-Framebuffer auf diese Auflösung ein:</font></font><br><br><pre> <code class="cpp hljs">glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); glBindRenderbuffer(GL_RENDERBUFFER, captureRBO); glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT24, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Der Code zum Erfassen der Faltungsergebnisse ähnelt dem Code zum Übertragen einer Umgebungskarte von einer gleichseitigen zu einer kubischen, es wird nur ein Faltungs-Shader verwendet: </font></font><br><br><pre> <code class="cpp hljs">irradianceShader.use(); irradianceShader.setInt(<span class="hljs-string"><span class="hljs-string">"environmentMap"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); irradianceShader.setMat4(<span class="hljs-string"><span class="hljs-string">"projection"</span></span>, captureProjection); glActiveTexture(GL_TEXTURE0); glBindTexture(GL_TEXTURE_CUBE_MAP, envCubemap); <span class="hljs-comment"><span class="hljs-comment">//        glViewport(0, 0, 32, 32); glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); for (unsigned int i = 0; i &lt; 6; ++i) { irradianceShader.setMat4("view", captureViews[i]); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, irradianceMap, 0); glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); renderCube(); } glBindFramebuffer(GL_FRAMEBUFFER, 0);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach Abschluss dieser Phase haben wir eine vorberechnete Bestrahlungskarte auf unseren Händen, die direkt zur Berechnung der indirekten diffusen Beleuchtung verwendet werden kann. </font><font style="vertical-align: inherit;">Um zu überprüfen, wie die Faltung verlaufen ist, versuchen wir, die Skybox-Textur aus der Umgebungskarte durch die Bestrahlungskarte zu ersetzen:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mt/gc/cs/mtgccsxl0h80cdo1gg8wgl3tp9m.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn Sie als Ergebnis etwas gesehen haben, das wie eine sehr verschwommene Karte der Umgebung aussah, war die Faltung höchstwahrscheinlich erfolgreich. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Züchterrechte und indirekte Beleuchtung </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die resultierende Bestrahlungskarte wird im diffusen Teil des geteilten Ausdrucks des Reflexionsvermögens verwendet und repräsentiert den akkumulierten Beitrag aus allen möglichen Richtungen der indirekten Beleuchtung. </font><font style="vertical-align: inherit;">Da in diesem Fall das Licht nicht aus bestimmten Quellen stammt, sondern aus der gesamten Umgebung, betrachten wir diffuse und spiegelnde indirekte Beleuchtung als Hintergrund ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umgebungslicht</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) und ersetzen den zuvor verwendeten konstanten Wert. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergessen Sie zunächst nicht, einen neuen Probenehmer mit einer Bestrahlungskarte hinzuzufügen:</font></font><br><br><pre> <code class="plaintext hljs">uniform samplerCube irradianceMap;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mit einer Bestrahlungskarte, die alle Informationen über indirekte diffuse Strahlung von der Szene und normal zur Oberfläche speichert, ist das Abrufen von Daten zur Bestrahlung eines bestimmten Fragments so einfach wie das Erstellen einer Probe aus der Textur: </font></font><br><br><pre> <code class="plaintext hljs">// vec3 ambient = vec3(0.03); vec3 ambient = texture(irradianceMap, N).rgb;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da indirekte Strahlung jedoch Daten sowohl für die diffuse als auch für die Spiegelkomponente enthält (wie wir in der Komponentenversion des Ausdrucks des Reflexionsvermögens gesehen haben), müssen wir die diffuse Komponente auf besondere Weise modulieren. </font><font style="vertical-align: inherit;">Wie in der vorherigen Lektion verwenden wir den Fresnel-Ausdruck, um den Reflexionsgrad des Lichts für eine bestimmte Oberfläche zu bestimmen, woher wir den Brechungsgrad des Lichts oder den diffusen Koeffizienten erhalten:</font></font><br><br><pre> <code class="plaintext hljs">vec3 kS = fresnelSchlick(max(dot(N, V), 0.0), F0); vec3 kD = 1.0 - kS; vec3 irradiance = texture(irradianceMap, N).rgb; vec3 diffuse = irradiance * albedo; vec3 ambient = (kD * diffuse) * ao;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Als Hintergrundbeleuchtung fällt aus allen Richtungen in der Hemisphäre basierend auf der Normalen zur Oberfläche </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-936"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es ist unmöglich, den einzigen Median (auf</font><i><font style="vertical-align: inherit;">halber Strecke)</font></i><font style="vertical-align: inherit;">zu bestimmen</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> N </script><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Vektor zur Berechnung des Fresnel-Koeffizienten. Um den Fresnel-Effekt unter solchen Bedingungen zu simulieren, muss der Koeffizient basierend auf dem Winkel zwischen der Normalen und dem Beobachtungsvektor berechnet werden. Zuvor verwendeten wir jedoch als Parameter für die Berechnung des Fresnel-Koeffizienten den Medianvektor, der auf der Grundlage des Modells der Mikrooberflächen und in Abhängigkeit von der Oberflächenrauheit erhalten wurde. Da in diesem Fall die Rauheit nicht in den Berechnungsparametern enthalten ist, wird der Reflexionsgrad des Lichts an der Oberfläche immer überschätzt. Indirekte Beleuchtung als Ganzes sollte sich genauso verhalten wie direkte Beleuchtung, d. H. Von rauen Oberflächen erwarten wir einen geringeren Reflexionsgrad an den Rändern. Da aber die Rauheit nicht berücksichtigt wird,dann erscheint der Grad der Spiegelreflexion nach Fresnel für indirekte Beleuchtung auf rauen nichtmetallischen Oberflächen unrealistisch (im Bild unten ist der beschriebene Effekt zur besseren Übersichtlichkeit übertrieben):</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q2/oc/ly/q2oclypt9x6lcg5yyaqr4d8hu9i.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie können dieses Ärgernis umgehen, indem Sie dem Fremlin-Schlick-Ausdruck, einem von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sébastien Lagarde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beschriebenen Prozess, Rauheit verleihen </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="plaintext hljs">vec3 fresnelSchlickRoughness(float cosTheta, vec3 F0, float roughness) { return F0 + (max(vec3(1.0 - roughness), F0) - F0) * pow(1.0 - cosTheta, 5.0); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Angesichts der Oberflächenrauheit bei der Berechnung des Fresnel-Sets hat der Code zur Berechnung der Hintergrundkomponente folgende Form: </font></font><br><br><pre> <code class="plaintext hljs">vec3 kS = fresnelSchlickRoughness(max(dot(N, V), 0.0), F0, roughness); vec3 kD = 1.0 - kS; vec3 irradiance = texture(irradianceMap, N).rgb; vec3 diffuse = irradiance * albedo; vec3 ambient = (kD * diffuse) * ao;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie sich herausstellte, läuft die Verwendung von bildbasierter Beleuchtung von Natur aus auf ein Beispiel aus einer kubischen Karte hinaus. </font><font style="vertical-align: inherit;">Alle Schwierigkeiten hängen hauptsächlich mit der vorläufigen Erstellung und Übertragung der Umgebungskarte auf die Bestrahlungskarte zusammen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie eine vertraute Szene aus einer Lektion über </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analytische</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lichtquellen mit einer Reihe von Kugeln mit unterschiedlicher Metallizität und Rauheit nehmen und diffuse Hintergrundbeleuchtung aus der Umgebung hinzufügen, erhalten Sie ungefähr Folgendes:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vd/b1/y1/vdb1y1xddczspcyl-7exei76lxw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es sieht immer noch seltsam aus, da Materialien mit einem hohen Grad an Metallizität immer </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noch</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> reflektiert werden müssen, um wirklich auszusehen, hmm, Metall (Metalle reflektieren schließlich kein diffuses Licht). </font><font style="vertical-align: inherit;">Und in diesem Fall die einzigen Reflexionen, die von punktanalytischen Lichtquellen erhalten werden. </font><font style="vertical-align: inherit;">Und doch können wir bereits sagen, dass die Kugeln stärker in die Umgebung eingetaucht aussehen (besonders beim Wechseln von Umgebungskarten), da die Oberflächen jetzt korrekt auf Hintergrundbeleuchtung aus der Szenenumgebung reagieren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der vollständige Quellcode für die Lektion ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In der nächsten Lektion werden wir uns schließlich mit der zweiten Hälfte des Ausdrucks des Reflexionsvermögens befassen, der für die indirekte Spiegelbeleuchtung verantwortlich ist. </font><font style="vertical-align: inherit;">Nach diesem Schritt werden Sie die Kraft des PBR-Ansatzes in der Beleuchtung wirklich spüren.</font></font><br><br><h2>  Zusätzliche Materialien </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coding Labs: Physikalisch basiertes Rendering</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Eine Einführung in das PBR-Modell sowie eine Erklärung, wie die Bestrahlungsstärkekarte aufgebaut ist und warum.</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Mathematik der Schattierung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Ein kurzer Überblick von ScratchAPixel über einige der in dieser Lektion verwendeten mathematischen Techniken, insbesondere über Polarkoordinaten und Integrale.</font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Wir haben ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegramm Conf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für die Koordination der Überweisungen. </font><font style="vertical-align: inherit;">Wenn Sie ernsthaft bei der Übersetzung helfen möchten, sind Sie herzlich willkommen!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426987/">https://habr.com/ru/post/de426987/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426977/index.html">LibreOffice: der Albtraum eines Buchhalters</a></li>
<li><a href="../de426979/index.html">So lernen Sie kostenlos Englisch: 3 gängige Tools und detaillierte Anweisungen für jedes</a></li>
<li><a href="../de426981/index.html">10 Tricks für erweitertes Dashboarding in Splunk. Teil 1</a></li>
<li><a href="../de426983/index.html">Neu in SObjectizer-5.5.23: Wunscherfüllung oder Pandoras Box?</a></li>
<li><a href="../de426985/index.html">Kubebox und andere Konsolen-Shells für Kubernetes</a></li>
<li><a href="../de426991/index.html">Startup Digest: 10 bevorstehende IT-Events in Moskau</a></li>
<li><a href="../de426993/index.html">Muss ich C lernen, um zu verstehen, wie ein Computer funktioniert?</a></li>
<li><a href="../de426995/index.html">Recycling schadet sowohl Produkten als auch Mitarbeitern</a></li>
<li><a href="../de426997/index.html">So erstellen Sie benutzerdefinierte Formen mit MaterialShapeDrawable</a></li>
<li><a href="../de426999/index.html">Den Trends folgen oder sich in Richtung RxJava und LiveData bewegen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>