<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº ü•ú üèÇüèæ Navigation in Projekten mit mehreren Modulen üôéüèº üè¨ ü§≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Navigation bei der Entwicklung von Android-Apps ist sehr wichtig, und Sie sollten sich zweimal √ºberlegen, welche Bibliothek (oder Ihre eigene L√∂su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Navigation in Projekten mit mehreren Modulen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443288/"><img src="https://habrastorage.org/webt/zq/oq/1z/zqoq1zjgp-cbjhrtwcaxhp0vb2w.jpeg"><br><br>  Die Navigation bei der Entwicklung von Android-Apps ist sehr wichtig, und Sie sollten sich zweimal √ºberlegen, welche Bibliothek (oder Ihre eigene L√∂sung) am besten geeignet ist und wie sie bequem zu verwenden ist, wenn die App gr√∂√üer wird.  Es kann auch sinnvoll sein, dar√ºber nachzudenken, wie einfach es sein wird, Ihre Implementierung auf eine andere zu √§ndern. <br><a name="habracut"></a><br>  Bevor wir anfangen, lassen Sie mich eine Geschichte erz√§hlen.  Nennen wir es so: "Wie wir das Projekt modular gemacht haben und warum ich unsere Navigation gehasst habe." <br><br>  Wir hatten ein einzelnes Modulprojekt und alles hat gut funktioniert, au√üer der Bauzeit. Das liegt daran, dass wir Dagger verwendet haben und es zu lange gedauert hat, eine einzelne Komponente zu generieren.  Daher haben wir beschlossen, das Projekt nach Funktionen in Module zu unterteilen, z. B. nach einer Anmeldefunktion, einer Hilfefunktion usw. <br><br>  Wir hatten viele Schwierigkeiten, weil wir die Netzwerklogik in ein eigenes Gradle-Modul verschieben mussten, uns die Domain in das Modul einloggen mussten und auch Probleme mit der Navigation hatten. <br><br>  In unserer Implementierung hatten wir einen Router, der √ºber jedes Fragment Bescheid wusste und f√ºr √úberg√§nge zwischen ihnen verantwortlich war.  Leider wusste jedes Fragment, dass es den Router gab, und wusste √ºber andere Fragmente Bescheid, da das Fragment dem Router sagte, welches Fragment ge√∂ffnet werden sollte, oder das Fragment auf die Ergebnisse eines anderen Fragments wartete.  Diese Dinge ruinierten die Idee, unabh√§ngige Funktionsmodule zu erstellen. <br><br>  Daher habe ich dar√ºber nachgedacht, wie ich es besser machen kann, wie ich diese Verbindungen zwischen Fragmenten unterbrechen kann, wie ich das Wissen loswerden kann, dass es einen Router gibt.  In diesem Artikel werde ich zeigen, was ich gemacht habe. <br><br><h2>  Was wir tun werden </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jh/6x/w5/jh6xw5oxcq3cwvdhmgndbn21ewy.gif"></div><br>  Die Anwendung wird sehr einfach, aber modular sein.  Es wird ein Anwendungsmodul und drei Funktionsmodule geben: <br><br><ul><li>  <b>App-</b> Modul - Dieses Modul wei√ü alles √ºber die App und dort implementieren wir unsere Navigation.  Wir werden die Navigationskomponente von JetPack verwenden. </li><li> <b>Fragenmodul</b> - Dieses Modul ist f√ºr die Fragenfunktion verantwortlich.  Das Modul wei√ü nichts √ºber das <b>App-</b> Modul oder ein anderes Modul.  Es wird eine <code>QuestionsFragment</code> und eine <code>QuestionsNavigation</code> Oberfl√§che geben. </li><li>  <b>Fragenmodul</b> - Es wird eine Fragenfunktion geben.  Wie das vorherige Modul kennt es keine anderen Module.  Dieses Modul enth√§lt ein <code>QuestionFragment</code> und eine <code>QuestionNavigation</code> Schnittstelle. </li><li>  <b>Ergebnismodul</b> - Dies ist eine Ergebnisfunktion.  Es ist auch ein v√∂llig unabh√§ngiges Modul.  Es wird ein <code>RightAnswerFragment</code> mit <code>RightAnswerNavigation</code> Schnittstelle und ein <code>WrongAnswerFragment</code> mit einer <code>WrongAnswerNavigation</code> Schnittstelle geben. </li></ul><br>  Den Quellcode f√ºr die App finden Sie hier: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> . <br><br><h2>  Implementierung </h2><br>  In diesem Artikel werde ich die <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ComponentsManager-</a></b> Bibliothek verwenden, um die Navigation der Funktion abzurufen.  In einem realen Projekt werde ich die Navigation des Features von <b>Dagger</b> bereitstellen, aber f√ºr dieses kleine Projekt ist dies nicht erforderlich.  Mit der <b>ComponentManager-</b> Bibliothek k√∂nnen Sie <b>Dagger auch</b> in Projekten mit mehreren Modulen verwenden. <br><br>  Bist du bereit  Lass uns gehen! <br><br><h3>  Fragenmodul </h3><br>  Erstellen Sie ein Android-Modul und nennen Sie es <b>Fragen</b> .  Stellen Sie anschlie√üend sicher, dass Kotlin im Modul konfiguriert ist und das <b>ConstraintLayout</b> und der <b>ComponentsManager</b> als Abh√§ngigkeiten hinzugef√ºgt werden. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//build.gradle (for the questions module) apply plugin: 'com.android.library' apply plugin: 'kotlin-android' apply plugin: 'kotlin-android-extensions' android { ... } dependencies { ... implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version" implementation 'androidx.appcompat:appcompat:1.1.0-alpha01' implementation 'androidx.constraintlayout:constraintlayout:1.1.3' implementation "com.github.valeryponomarenko.componentsmanager:androidx:2.0.1" ... }</span></span></code> </pre><br>  Anstatt <code>Route</code> oder <code>Navigator</code> im <code>Fragment</code> , erstellen wir eine Schnittstelle <code>QuestionsNavigation</code> , die die erforderlichen √úberg√§nge definiert.  F√ºr das Fragment spielt es also keine Rolle, wie diese √úberg√§nge implementiert werden. Es ben√∂tigt lediglich diese Schnittstelle und ist darauf angewiesen, dass beim Aufrufen der Methode der erforderliche Bildschirm ge√∂ffnet wird. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QuestionsNavigation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openQuestion</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(questionId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Long</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> }</code> </pre><br>  Um einen Bildschirm mit einer Frage zu √∂ffnen, rufen wir einfach die Methode <code>openQuestion(questionId: Long)</code> und <code>openQuestion(questionId: Long)</code> .  Es ist uns egal, wie der Bildschirm ge√∂ffnet wird, es ist uns egal, ob es sich um <code>Fragment</code> oder <code>Activity</code> oder etwas anderes handelt. <br><br>  Hier ist das <code>QuestionsFragment</code> und sein <a href="">Layout</a> . <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QuestionsFragment</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fragment</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigation: QuestionsNavigation <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { XInjectionManager.findComponent&lt;QuestionsNavigation&gt;() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inflater: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">LayoutInflater</span></span></span></span><span class="hljs-function"><span class="hljs-params">, container: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ViewGroup</span></span></span></span><span class="hljs-function"><span class="hljs-params">?, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: View? = inflater.inflate(R.layout.fragment_questions, container, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onViewCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(view: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onViewCreated(view, savedInstanceState) button_first_question.setOnClickListener { navigation.openQuestion(<span class="hljs-number"><span class="hljs-number">1</span></span>) } button_second_question.setOnClickListener { navigation.openQuestion(<span class="hljs-number"><span class="hljs-number">2</span></span>) } button_third_question.setOnClickListener { navigation.openQuestion(<span class="hljs-number"><span class="hljs-number">3</span></span>) } } }</code> </pre><br><h3>  Fragenmodul </h3><br>  Erstellen Sie zun√§chst ein Android-Bibliotheksmodul und nennen Sie es <b>Frage</b> .  Das build.gradle des Moduls muss dieselben Abh√§ngigkeiten enthalten wie die build.gradle-Datei des Fragemoduls. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//build.gradle (for the question module) apply plugin: 'com.android.library' apply plugin: 'kotlin-android' apply plugin: 'kotlin-android-extensions' android { ... } dependencies { ... implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version" implementation 'androidx.appcompat:appcompat:1.1.0-alpha01' implementation 'androidx.constraintlayout:constraintlayout:1.1.3' implementation "com.github.valeryponomarenko.componentsmanager:androidx:2.0.1" ... }</span></span></code> </pre><br>  Danach erstellen wir eine Schnittstelle, die die Navigation des Moduls definiert.  Die Navigationsidee in anderen Modulen ist dieselbe wie im vorherigen. <br><br>  √úber das <code>QuestionFragment</code> kann der Benutzer einen falschen oder einen richtigen Antwortbildschirm √∂ffnen, sodass die Benutzeroberfl√§che √ºber zwei Methoden verf√ºgt. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QuestionNavigation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openWrongAnswer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openRightAnswer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> }</code> </pre><br>  Das Letzte ist Fragment.  F√ºr dieses Fragment f√ºgen wir eine Begleitmethode hinzu, die ein <code>Bundle</code> zur√ºckgibt, damit wir die ID der Frage √ºbergeben und verwenden k√∂nnen.  Das <a href="">Layout</a> des Fragments. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QuestionFragment</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fragment</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> EXTRA_QUESTION_ID = <span class="hljs-string"><span class="hljs-string">"me.vponomarenko.modular.navigation.question.id"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createBundle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(questionId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Long</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> = Bundle().apply { putLong(EXTRA_QUESTION_ID, questionId) } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigation: QuestionNavigation <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { XInjectionManager.findComponent&lt;QuestionNavigation&gt;() } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> questionId: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { arguments?.getLong(EXTRA_QUESTION_ID) ?: <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> IllegalStateException(<span class="hljs-string"><span class="hljs-string">"no questionId"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inflater: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">LayoutInflater</span></span></span></span><span class="hljs-function"><span class="hljs-params">, container: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ViewGroup</span></span></span></span><span class="hljs-function"><span class="hljs-params">?, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: View? = inflater.inflate(R.layout.fragment_question, container, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onViewCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(view: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onViewCreated(view, savedInstanceState) text_question.text = getString(R.string.question, questionId) button_right_answer.setOnClickListener { navigation.openRightAnswer() } button_wrong_answer.setOnClickListener { navigation.openWrongAnswer() } } }</code> </pre><br><h3>  Ergebnismodul </h3><br>  Das letzte Funktionsmodul ist ein Ergebnismodul.  Es wird zwei Fragmente geben, die eine richtige und eine falsche Antwort zeigen.  Erstellen Sie ein Android-Bibliotheksmodul und rufen Sie es als <b>Ergebnis auf</b> . √Ñndern Sie dann das build.gradle des Moduls so, dass es dieselben Abh√§ngigkeiten wie die vorherigen Funktionsmodule aufweist. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//build.gradle (for the result module) apply plugin: 'com.android.library' apply plugin: 'kotlin-android' apply plugin: 'kotlin-android-extensions' android { ... } dependencies { ... implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version" implementation 'androidx.appcompat:appcompat:1.1.0-alpha01' implementation 'androidx.constraintlayout:constraintlayout:1.1.3' implementation "com.github.valeryponomarenko.componentsmanager:androidx:2.0.1" ... }</span></span></code> </pre><br>  Beginnen wir mit dem richtigen Antwortfragment.  Die Navigationsoberfl√§che verf√ºgt √ºber eine Methode, da der Benutzer nur einen Bildschirm mit allen Fragen √∂ffnen kann. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RightAnswerNavigation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openAllQuestions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> }</code> </pre><br>  Das <code>RightAnswerFragment</code> , sein <a href="">Layout</a> . <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RightAnswerFragment</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fragment</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigation: RightAnswerNavigation <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { XInjectionManager.findComponent&lt;RightAnswerNavigation&gt;() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inflater: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">LayoutInflater</span></span></span></span><span class="hljs-function"><span class="hljs-params">, container: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ViewGroup</span></span></span></span><span class="hljs-function"><span class="hljs-params">?, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: View? = inflater.inflate(R.layout.fragment_right, container, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onViewCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(view: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onViewCreated(view, savedInstanceState) button_all_questions.setOnClickListener { navigation.openAllQuestions() } } }</code> </pre><br>  Wie ich bereits sagte, hat dieses Modul zwei <code>Fragments</code> . Implementieren wir also einen falschen Antwortbildschirm. <br><br>  In meiner Implementierung kann der Benutzer vom falschen Antwortbildschirm aus nur zum Bildschirm der Frage zur√ºckkehren und versuchen, die Frage erneut zu beantworten, sodass die Navigationsoberfl√§che nur eine Methode hat. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WrongAnswerNavigation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tryAgain</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> }</code> </pre><br>  Und das WrongAnswerFragment, sein <a href="">Layout</a> . <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WrongAnswerFragment</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Fragment</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigation: WrongAnswerNavigation <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { XInjectionManager.findComponent&lt;WrongAnswerNavigation&gt;() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inflater: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">LayoutInflater</span></span></span></span><span class="hljs-function"><span class="hljs-params">, container: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ViewGroup</span></span></span></span><span class="hljs-function"><span class="hljs-params">?, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: View? = inflater.inflate(R.layout.fragment_wrong, container, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onViewCreated</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(view: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">View</span></span></span></span><span class="hljs-function"><span class="hljs-params">, savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onViewCreated(view, savedInstanceState) button_try_again.setOnClickListener { navigation.tryAgain() } } }</code> </pre><br><h3>  App-Modul </h3><br>  Wir haben die Module erstellt und es ist Zeit, sie zu verbinden und die App auszuf√ºhren. <br><br>  Als erstes m√ºssen wir das build.gradle des App-Moduls bearbeiten.  Es muss √ºber alle erstellten Module und eine Navigationskomponentenbibliothek mit dem Komponentenmanager verf√ºgen. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//build.gradle (for the app module) apply plugin: 'com.android.application' apply plugin: 'kotlin-android' apply plugin: 'kotlin-android-extensions' android { ... } dependencies { ... implementation project(':questions') implementation project(':question') implementation project(':result') implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version" implementation 'androidx.appcompat:appcompat:1.1.0-alpha01' implementation 'com.github.valeryponomarenko.componentsmanager:androidx:2.0.1' implementation 'android.arch.navigation:navigation-fragment-ktx:1.0.0-alpha11' ... }</span></span></code> </pre><br>  Vor der Implementierung der Klassen, die mit der Navigation arbeiten, m√ºssen wir die Navigation selbst hinzuf√ºgen.  Wir werden die Navigationskomponente verwenden, um sie zu erstellen. <br><br>  Erstellen Sie eine Navigationsressourcendatei und nennen Sie sie <b>nav_graph.xml</b> .  Es wird drei Verbindungen geben: <br><br><ul><li>  Das <code>QuestionsFragment</code> mit dem <code>QuestionFragment</code> </li><li>  Das <code>QuestionFragment</code> mit dem <code>WrongAnswerFragment</code> </li><li>  Das <code>QuestionFragment</code> mit dem <code>RightAnwerFragment</code> .  Diese Verbindung hat einen kleinen Unterschied.  Befindet sich der Benutzer im <code>RightAnswerFragment</code> und dr√ºckt er die Zur√ºck-Taste, wird er zum <code>QuestionsFragment</code> .  Wie kann das passieren?  <code>rightAnswerFragment</code> einfach den Pfeil aus, der das <code>questionFragment</code> mit <code>rightAnswerFragment</code> verbindet <code>questionFragment</code> und <code>rightAnswerFragment</code> dann in der Dropdown-Liste neben dem <b>Pop</b> das <code>questionsFragment</code> . </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2q/x_/ws/2qx_wszzc8f9enjktodzq0bveie.png"></div><br>  Hier ist die XML-Darstellung des Navigationsdiagramms. <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigation</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:app</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/nav_graph"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:startDestination</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@id/questionsFragment"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fragment</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/questionsFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.vponomarenko.modular.navigation.questions.QuestionsFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"QuestionsFragment"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/action_questionsFragment_to_questionFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:destination</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@id/questionFragment"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fragment</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fragment</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/questionFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.vponomarenko.modular.navigation.question.QuestionFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"QuestionFragment"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/action_questionFragment_to_wrongAnswerFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:destination</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@id/wrongAnswerFragment"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/action_questionFragment_to_rightAnswerFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:destination</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@id/rightAnswerFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:popUpTo</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/questionsFragment"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fragment</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fragment</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/wrongAnswerFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.vponomarenko.modular.navigation.result.wrong.WrongAnswerFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WrongAnswerFragment"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">fragment</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/rightAnswerFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.vponomarenko.modular.navigation.result.right.RightAnswerFragment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"RightAnswerFragment"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigation</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Erstellen Sie dann eine <code>Navigator</code> Klasse.  Offensichtlich ist die Klasse f√ºr √úberg√§nge zwischen Fragmenten verantwortlich.  Es implementiert alle Navigationsschnittstellen aus den Funktionsmodulen. Vergessen Sie nicht, Aufrufe der entsprechenden Aktionen hinzuzuf√ºgen, um den erforderlichen Bildschirm zu √∂ffnen.  Au√üerdem verf√ºgt die Klasse √ºber Methoden, um den <code>navController</code> zu binden und die <code>navController</code> aufzuheben. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Navigator</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">QuestionsNavigation</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">QuestionNavigation</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RightAnswerNavigation</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">WrongAnswerNavigation { private var navController: NavController? = null override fun openQuestion</span></span></span></span>(questionId: <span class="hljs-built_in"><span class="hljs-built_in">Long</span></span>) { navController?.navigate( R.id.action_questionsFragment_to_questionFragment, QuestionFragment.createBundle(questionId) ) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openWrongAnswer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { navController?.navigate(R.id.action_questionFragment_to_wrongAnswerFragment) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openRightAnswer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { navController?.navigate(R.id.action_questionFragment_to_rightAnswerFragment) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openAllQuestions</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { navController?.popBackStack() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tryAgain</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { navController?.popBackStack() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bind</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(navController: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">NavController</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.navController = navController } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unbind</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { navController = <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }</code> </pre><br>  In der 8. Zeile k√∂nnen Sie sehen, wie ich die ID der <code>QuestionFragment</code> an das <code>QuestionFragment</code> . <br><br>  Erstellen Sie anschlie√üend eine <code>NavApplication</code> Klasse.  Eigentlich musste ich diese Klasse hinzuf√ºgen, um <code>Navigator</code> f√ºr andere Klassen verf√ºgbar zu machen, sonst w√§re es schwieriger, den Navigator in die Funktionsmodule zu bekommen.  Vergessen Sie nicht, diese Klasse zu Manifest hinzuzuf√ºgen. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavApplication</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Application</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate() XInjectionManager.bindComponentToCustomLifecycle(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : IHasComponent&lt;Navigator&gt; { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getComponent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Navigator = Navigator() }) } }</code> </pre><br>  Mit der 4. <i>-</i> 6. Zeile w√§re es m√∂glich, die Implementierungen der Navigationsoberfl√§che von Features durch Aufrufen von XInjectionManager.findComponent () abzurufen. <br><br>  Zu <code>MainActivity</code> Letzt √§ndern Sie die <code>MainActivity</code> Klasse und ihr <a href="">Layout</a> . <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navigator: Navigator <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> lazy { XInjectionManager.findComponent&lt;Navigator&gt;() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Bundle</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) setContentView(R.layout.activity_main) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onResume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onResume() navigator.bind(findNavController(R.id.nav_host_fragment)) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPause</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onPause() navigator.unbind() } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSupportNavigateUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> = findNavController(R.id.nav_host_fragment).navigateUp() }</code> </pre><br>  Das ist alles, jetzt k√∂nnen Sie die App ausf√ºhren und sehen, wie es funktioniert. <br><br><h2>  Zusammenfassung </h2><br>  Gute Arbeit!  Wir haben ein Navigationssystem entwickelt, das: <br><br><ul><li>  unterbricht die Verbindungen zwischen Fragmenten in verschiedenen Funktionsmodulen, </li><li>  kann leicht ge√§ndert werden, </li><li>  ist leicht zu testen. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i>Crosspost</i></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443288/">https://habr.com/ru/post/de443288/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443278/index.html">Coinbase Crypto-Exchange verliert Benutzer aufgrund des Kaufs eines Startups f√ºr die Entwickler von Spyware vom Hacking-Team</a></li>
<li><a href="../de443280/index.html">Die Geschichte, wie ich ein 120-Zoll-Heimkino aus Rohren, Seilen, einem Paravent und schwarzem Samt zusammengebaut habe</a></li>
<li><a href="../de443282/index.html">Was sollen wir eine Blockchain bauen?</a></li>
<li><a href="../de443284/index.html">Indizes in PostgreSQL - 4 (Btree)</a></li>
<li><a href="../de443286/index.html">TDMS Fairway. Autofill-Mechanismus f√ºr die Hauptbeschriftungen auf den Zeichnungen und Details der Dokumente</a></li>
<li><a href="../de443290/index.html">Zen Erlang [und Elixier - ca. √úbersetzer]</a></li>
<li><a href="../de443292/index.html">Wir untersuchen das Funktionsprinzip von em-Einheiten am Beispiel der Aufgabe ‚ÄûAufbau eines flexiblen Vorladers‚Äú.</a></li>
<li><a href="../de443294/index.html">Was erlaubt Jupyter?</a></li>
<li><a href="../de443298/index.html">Drahtloses Laden. Wie funktioniert es in der Praxis?</a></li>
<li><a href="../de443300/index.html">Wie ist die Entwicklung bei United Traders?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>