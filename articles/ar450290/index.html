<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐ฟโ๐คโ๐จ๐ฝ ๐จโ๐ผ ๐๐ป ุฌูุฏ ุ ุณูุก ุ ุงุฎุชุจุงุฑ ุงูุดุฑ ูู ูุดุฑูุน ุงููุจุชุฏุฆูู ๐ ๐คณ ๐คถ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูููุฏูุฉ: ุชููุช ุงูุฌุงูุนุฉ ูููุฉ - ูุชุฌููุน ูุฑูู scrum ุ ูุงุฎุชูุงุฑ ูุดุฑูุน ูุงูุนูู ุนููู ููุตู ุฏุฑุงุณู. ุงุฎุชุงุฑ ูุฑูููุง ุชุทููุฑ ุชุทุจูู ุงูููุจ (ุฑุฏ ูุนู + ูุงุฑูุฑุฉ). ุณุฃุญุงูู ูู ูุฐู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฌูุฏ ุ ุณูุก ุ ุงุฎุชุจุงุฑ ุงูุดุฑ ูู ูุดุฑูุน ุงููุจุชุฏุฆูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450290/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <strong>ุงูููุฏูุฉ:</strong> ุชููุช ุงูุฌุงูุนุฉ ูููุฉ - ูุชุฌููุน ูุฑูู scrum ุ ูุงุฎุชูุงุฑ ูุดุฑูุน ูุงูุนูู ุนููู ููุตู ุฏุฑุงุณู.  ุงุฎุชุงุฑ ูุฑูููุง ุชุทููุฑ ุชุทุจูู ุงูููุจ (ุฑุฏ ูุนู + ูุงุฑูุฑุฉ).  ุณุฃุญุงูู ูู ูุฐู ุงูููุงูุฉ ุฅุฎุจุงุฑู ุนู ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ูุฌุจ ุฃู ุชููู ูุชุญููู ูุง ูููุง ุจู ุนูู ุงููุงุฌูุฉ ุงูุฎูููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/fb/z-/yc/fbz-ycgf0ewrp0logvj9mrosebi.png"></p><a name="habracut"></a><br><h1 id="ozhidaniya" style=";text-align:right;direction:rtl">  ุชููุนุงุช </h1><br><p style=";text-align:right;direction:rtl">  ุงูุงุฎุชุจุงุฑุงุช ุถุฑูุฑูุฉ ุ ุฃููุงู ููุจู ูู ุดูุก ุ ูู ุฃุฌู ุฅููุงุน ุงูุฌููุน (ุจูุง ูู ุฐูู ุฃููุณูุง) ุจุฃู ุงูุจุฑูุงูุฌ ูุชุตุฑู ููุง ููุจุบู <em>ูู ููุงูู ุงูุงุฎุชุจุงุฑ</em> .  ุซุงููุงู ุ ูุถูููู ุฃุฏุงุก ุงูููุฏ <em>ุงููุดููู ุจุงูุงุฎุชุจุงุฑุงุช</em> ูู ุงููุณุชูุจู.  ุชุนุฏ ุงุฎุชุจุงุฑุงุช ุงููุชุงุจุฉ ุนูููุฉ ูููุฏุฉ ุ ูุฃูู ูู ุบุงูุจ ุงูุฃุญูุงู ููููู ุงูุชุนุซุฑ ูู ููุงุทู ุงููุดููุงุช ุ ูุงุณุชุนุงุฏุฉ ุจุนุถ ุงูุญุงูุงุช ุงููุตูู ุ ููุดุงูุฏุฉ ุงููุดููุงุช ูุน ุงููุงุฌูุงุช ุ ุฅูุฎ. </p><br><p style=";text-align:right;direction:rtl"> ุนูุฏ ุชุทููุฑ ุฃู ุฃูุธูุฉ ุ ูุฌุจ ุฃู ุชุชุฐูุฑ ุซูุงุซุฉ ุฃููุงุน ูู ุงูุงุฎุชุจุงุฑุงุช ุนูู ุงูุฃูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ</em> ูู ุงุฎุชุจุงุฑุงุช ุชุชุญูู ูู ุฃู ุงููุธุงุฆู ุชููู ุจูุง ุชุญุชุงุฌ ุฅููู. </li><li style=";text-align:right;direction:rtl">  <em>ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู</em> ูู ุงุฎุชุจุงุฑุงุช ุชุชุญูู ูู ุฃู ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุชุนูู ูุนูุง ุนูู ุงููุญู ุงูุตุญูุญ. </li><li style=";text-align:right;direction:rtl">  <em>ุงุฎุชุจุงุฑุงุช ุงููุธุงู</em> ูู ุงุฎุชุจุงุฑุงุช ุชุชุญูู ูู ุฃู ุงููุธุงู ุจุฃูููู ูููู ุจูุง ููุฒู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุญุฏู ุงููุดุงุฑูุงุช</a> ูู google ุ ุชู ูุดุฑ ุฌุฏูู ูุชุถูู ูุตููุง ูุซูุงุซุฉ ุฃููุงุน ูู ุงูุงุฎุชุจุงุฑุงุช.  "ุตุบูุฑ" ู "ูุชูุณุท" ู "ูุจูุฑ". </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/sy/ho/zj/syhozj8ytslkmlaxxnockcwv3b4.png"></p><br><h2 id="modulnye-testy" style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุชุชูุงูู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ูุน ุงูุงุฎุชุจุงุฑุงุช ุงูุตุบูุฑุฉ - ูุฌุจ ุฃู ุชููู ุณุฑูุนุฉ ููุญุต ุตุญุฉ ุฃุฌุฒุงุก ูุนููุฉ ูู ุงูุจุฑูุงูุฌ ููุท.  ูุง ููุจุบู ููู ุงููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ููุฌุจ ุฃูุง ูุนูููุง ูู ุจูุฆุงุช ูุนูุฏุฉ ูุชุนุฏุฏุฉ ุงูุฎููุท.  ูุชุญูููู ูู ุงูุงูุชุซุงู ููููุงุตูุงุช / ุงููุนุงููุฑ ุ ูุบุงูุจูุง ูุง ูููู ูุฏููู ุฏูุฑ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุฎุชุจุงุฑุงุช ุงูุงูุญุฏุงุฑ</a> . </p><br><h2 id="integracionnye-testy" style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู </h2><br><p style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ูู ุชูู ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ูุฏ ุชุคุซุฑ ุนูู ุนุฏุฉ ูุญุฏุงุช ููุธุงุฆู.  ุชุชุทูุจ ูุซู ูุฐู ุงูุงุฎุชุจุงุฑุงุช ูุฒูุฏูุง ูู ุงูููุช ููุฏ ุชุชุทูุจ ุจูุฆุงุช ุฎุงุตุฉ.  ููู ุถุฑูุฑูุฉ ููุชุฃูุฏ ูู ุฃู ุงููุญุฏุงุช ูุงููุธุงุฆู ุงููุฑุฏูุฉ ูููู ุฃู ุชุนูู ูุน ุจุนุถูุง ุงูุจุนุถ.  ุฃู  ุชุญูู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ูู ูุทุงุจูุฉ ุงููุงุฌูุงุช ุงูุญููููุฉ ููุงุฎุชุจุงุฑุงุช ุงููุชููุนุฉ ุ ูุงูุชูุงูู - ุฃู ุงููุธุงุฆู ูุงููุญุฏุงุช ุงูููุทูุฉ ุชุชูุงุนู ุจุดูู ุตุญูุญ ูุน ุจุนุถูุง ุงูุจุนุถ. </p><br><h2 id="sistemnye-testy" style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุงููุธุงู </h2><br><p style=";text-align:right;direction:rtl">  ูุฐุง ูู ุฃุนูู ูุณุชูู ูู ุงูุงุฎุชุจุงุฑ ุงูุชููุงุฆู.  ุชุญูู ุงุฎุชุจุงุฑุงุช ุงููุธุงู ูู ุฃู ุงููุธุงู ุจุฃูููู ูุนูู ูุฃู ุฃุฌุฒุงุฆู ุชุคุฏู ููุงููุง ูุชููู ูุงุฏุฑุฉ ุนูู ุงูุชูุงุนู ุจุดูู ุตุญูุญ. </p><br><h2 id="zachem-sledit-za-tipami" style=";text-align:right;direction:rtl">  ููุงุฐุง ุชุชุจุน ุงูุฃููุงุน </h2><br><p style=";text-align:right;direction:rtl">  ุนุงุฏุฉ ุ ูุน ููู ุงููุดุฑูุน ุ ุณุชููู ูุงุนุฏุฉ ุงูููุฏ ุฃูุถูุง.  ุณุชุฒุฏุงุฏ ูุฏุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุชููุงุฆูุฉ ุ ูุณูุตุจุญ ุฏุนู ุนุฏุฏ ูุจูุฑ ูู ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ูุงููุธุงู ุฃูุซุฑ ุตุนูุจุฉ.  ูุฐูู ุ ูุฅู ุงูุชุญุฏู ูููุทูุฑูู ูู ุชูููู ุงูุงุฎุชุจุงุฑุงุช ุงููุงุฒูุฉ.  ููููุงู ุจุฐูู ุ ูุฌุจ ุฃู ุชุญุงูู ุงุณุชุฎุฏุงู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุญูุซูุง ุฃููู ุฐูู ูุชูููู ุงูุชูุงูู ุจุงุณุชุฎุฏุงู "mocks" (mocks). </p><br><h1 id="realnost" style=";text-align:right;direction:rtl">  ูุงูุน </h1><br><h2 id="tipichnyy-test-api" style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑ API ูููุฐุฌู </h2><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_user_reg</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(client)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> json.loads( client.post(url, json=data, content_type=<span class="hljs-string"><span class="hljs-string">'application/json'</span></span>).data ) response = client.post(<span class="hljs-string"><span class="hljs-string">'api/user.reg'</span></span>, json={ <span class="hljs-string"><span class="hljs-string">'email'</span></span>: <span class="hljs-string"><span class="hljs-string">'name@mail.ru'</span></span>, <span class="hljs-string"><span class="hljs-string">'password'</span></span>: <span class="hljs-string"><span class="hljs-string">'password1'</span></span>, <span class="hljs-string"><span class="hljs-string">'first_name'</span></span>: <span class="hljs-string"><span class="hljs-string">'Name'</span></span>, <span class="hljs-string"><span class="hljs-string">'last_name'</span></span>: <span class="hljs-string"><span class="hljs-string">'Last Name'</span></span> }) data = json.loads(response.data) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> data[<span class="hljs-string"><span class="hljs-string">'code'</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุซุงุฆู ุงูุฑุณููุฉ ูููุงุฑูุฑุฉ ุ</a> ูุญุตู ุนูู ูุตูุฉ ุฌุงูุฒุฉ ูุชููุฆุฉ ุงูุชุทุจูู ูุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ููุง ูู ุงูุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูุฐุง ููุณ ุงุฎุชุจุงุฑ ูุญุฏุฉ ุ ูููู ููุณ ุงุฎุชุจุงุฑ ูุธุงู.  ูุฐุง ุงุฎุชุจุงุฑ ุชูุงูู ูุณุชุฎุฏู ุชุทุจูู ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุงุฐุง ุงูุชูุงูู ุจุฏูุง ูู ูุญุฏุงุชุ  ูุฃูู ูู ูุนุงูุฌุฉ ุงูุงุณุชุนูุงู ุ ูุชู ุงูุชูุงุนู ูุน ูุงุฑูุฑุฉ ุ ูุน ORM ุ ูุน ููุทู ุฃุนูุงููุง.  ูุชุตุฑู ุงููุนุงูุฌูู ูุนูุตุฑ ููุญุฏ ูุฃุฌุฒุงุก ุฃุฎุฑู ูู ุงููุดุฑูุน ุ ูุฐุง ูุฅู ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ููู ููุณุช ุณููุฉ ููุบุงูุฉ (ุชุญุชุงุฌ ุฅูู ุงุณุชุจุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงูููุงุฑุงุช ูุงูููุทู ุงูุฏุงุฎูู) ูููุณุช ุนูููุฉ ููุบุงูุฉ (ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ุณุชูุญุต ุงูุฌูุงูุจ ุงููุชุดุงุจูุฉ - "ูู ูุงูุช ุงููุธุงุฆู ุงููุงุฒูุฉ ุชุณููุ" ุ " ูู ุชู ุงุณุชูุงู ุงูุจูุงูุงุช ุจุดูู ุตุญูุญุ "ุ ุฅูุฎ). </p><br><h2 id="nazvaniya-i-gruppirovka-testov" style=";text-align:right;direction:rtl">  ุฃุณูุงุก ูุชุฌููุน ุงูุงุฎุชุจุงุฑุงุช </h2><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_not_empty_errors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_not_empty(<span class="hljs-string"><span class="hljs-string">'email'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) == (<span class="hljs-string"><span class="hljs-string">'email is empty'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_not_empty(<span class="hljs-string"><span class="hljs-string">'email'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>) == (<span class="hljs-string"><span class="hljs-string">'email is empty'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_email_format(<span class="hljs-string"><span class="hljs-string">'email'</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>) == (<span class="hljs-string"><span class="hljs-string">'email is empty'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_password_format(<span class="hljs-string"><span class="hljs-string">'pass'</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>) == (<span class="hljs-string"><span class="hljs-string">'pass is empty'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is empty'</span></span>,)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงูุงุฎุชุจุงุฑ ุ ูุชู ุงุณุชููุงุก ุฌููุน ุงูุดุฑูุท ููุงุฎุชุจุงุฑุงุช "ุงูุตุบูุฑุฉ" - ูุชู ูุญุต ุณููู ุงููุธููุฉ ุฏูู ุงูุชุจุนูุงุช ููุชุฃูุฏ ูู ุชูุงูููุง ูุน ุงููุชููุน.  ููู ุงูุชุตููู ูุซูุฑ ุฃุณุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุงุฑุณุงุช ุงูุฌูุฏุฉ ูุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ุชุฑูุฒ ุนูู ุฌุงูุจ ูุนูู ูู ุงูุจุฑูุงูุฌ.  ูู ูุฐุง ุงููุซุงู ุ ููุงู ูุธุงุฆู ูุฎุชููุฉ - <code>validate_password_format</code> ุ <code>validate_password_format</code> ุ <code>validate_datetime</code> .  ูุง ุชุนุชูุฏ ุนูููุงุช ุชุฌููุน ุงูุชุฌููุน ุนูู ุงููุชูุฌุฉ ุ ูููู ุนูู ูุงุฆูุงุช ุงูุงุฎุชุจุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุตู ุงุณู ุงูุงุฎุชุจุงุฑ ( <code>test_not_empty_errors</code> ) ูุงุฆู ุงูุงุฎุชุจุงุฑ (ุงูุทุฑููุฉ ุงูุชู ูุชู ุงุฎุชุจุงุฑูุง) ุ ููู ูุตู ุงููุชูุฌุฉ ููุท (ุงูุฃุฎุทุงุก ููุณุช ูุงุฑุบุฉ).  ูุฌุจ ุฃู ุชุณูู ูุฐู ุงูุทุฑููุฉ <code>test__validate_not_empty__error_on_empty</code> .  ูุตู ูุฐุง ุงูุงุณู ูุง ูุชู ุงุฎุชุจุงุฑู ูุงููุชูุฌุฉ ุงููุชููุนุฉ.  ููุทุจู ูุฐุง ุนูู ูู ุงุณู ุงุฎุชุจุงุฑ ุชูุฑูุจูุง ูู ุงููุดุฑูุน ูุธุฑูุง ูุญูููุฉ ุฃูู ูู ูุชู ุชุฎุตูุต ููุช ูููุงูุดุฉ ุงุตุทูุงุญุงุช ุชุณููุฉ ุงูุงุฎุชุจุงุฑ. </p><br><h2 id="regressionnye-testy" style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑุงุช ุงูุงูุญุฏุงุฑ </h2><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_datetime_errors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'0123-24-31T;431'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2018-10-18T20:21:21+-23:1'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-13-20T20:20:20+20:20'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-02-29T20:20:20+20:20'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-12-20T25:20:20+20:20'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-12-20T20:61:20+22:20'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-12-20T20:20:61+20:20'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-12-20T20:20:20+25:20'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-12-20T20:20:20+20:61'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> validate_datetime(<span class="hljs-string"><span class="hljs-string">'datetime'</span></span>, <span class="hljs-string"><span class="hljs-string">'2015-13-35T25:61:61+61:61'</span></span>) == (<span class="hljs-string"><span class="hljs-string">'datetime is invalid'</span></span>,)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชุฃูู ูุฐุง ุงูุงุฎุชุจุงุฑ ูู ุงูุฃุตู ูู <code>assert</code> ุงูุฃูููู.  ุจุนุฏ ุฐูู ุ ุชู ุงูุชุดุงู "ุฎุทุฃ" - ุจุฏูุงู ูู ุงูุชุญูู ูู ุงูุชุงุฑูุฎ ุ ุชู ุงูุชุญูู ูู ุงูุชุนุจูุฑ ุงูุนุงุฏู ููุท ุ ุฃู  <code>9999-99-99</code> ูุงู ูุนุชุจุฑ ุงูุชุงุฑูุฎ ุงูุทุจูุนู.  ุงููุทูุฑ ุฅุตูุงุญู.  ุจุทุจูุนุฉ ุงูุญุงู ุ ุจุนุฏ ุฅุตูุงุญ ุงูุฎูู ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ูููุน ุงูุงูุญุฏุงุฑ ูู ุงููุณุชูุจู.  ุจุฏูุงู ูู ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุฌุฏูุฏ ููุชุงุจุฉ <em>ุณุจุจ</em> ูุฌูุฏ ูุฐุง ุงูุงุฎุชุจุงุฑ ุ ุชูุช ุฅุถุงูุฉ ุงูุงุฎุชุจุงุฑุงุช ุฅูู ูุฐุง ุงูุงุฎุชุจุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ูุฌุจ ุงุณุชุฏุนุงุก ุงุฎุชุจุงุฑ ุฌุฏูุฏ ูุฅุถุงูุฉ ุงูุชุญูู ูููุ  ุฑุจูุง <code>test__validate_datetime__error_on_bad_datetime</code> . </p><br><h2 id="ignorirovanie-instrumentov" style=";text-align:right;direction:rtl">  ุชุฌุงูู ุงูุฃุฏูุงุช </h2><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_get_providers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Tmp</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, id_external, token, username)</span></span></span><span class="hljs-function">:</span></span> self.id_external = id_external self.token = token self.username = username ...</code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>Tmp</code> ุ  ูุฐุง ุจุฏูู ููุงุฆู ุบูุฑ ูุณุชุฎุฏู ูู ูุฐุง ุงูุงุฎุชุจุงุฑ.  ูุง ูุจุฏู ุงููุทูุฑ ุนูู ุนูู ุจูุฌูุฏ <code>@patch</code> ู <code>MagicMock</code> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>unittest.mock</code></a> .  ูุง ุญุงุฌุฉ ูุชุนููุฏ ุงูููุฏ ุนู ุทุฑูู ุญู ุงููุดููุงุช ุจุณุฐุงุฌุฉ ุนูุฏูุง ุชููู ููุงู ุฃุฏูุงุช ุฃูุซุฑ ููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุงู ูุซู ูุฐุง ุงูุงุฎุชุจุงุฑ ุงูุฐู ุชููุฆุฉ ุงูุฎุฏูุงุช (ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช) ุ ูุณุชุฎุฏู ุณูุงู ุงูุชุทุจูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_get_posts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(client)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fake_request</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(*args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [one, two] handler = VKServiceHandler() handler.request = fake_request services_init() <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> app.app_context(): posts = handler.get_posts(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(posts) == <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุจุนุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุณูุงู ูู ุงูุงุฎุชุจุงุฑ ุนู ุทุฑูู ุฅุถุงูุฉ ูุงุญุฏุฉ <code>@patch</code> ูุงุญุฏุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@patch("mobius.services.service_vk.Service") def test_get_posts(mock): def fake_request(*args, **kwargs): return [one, two] handler = VKServiceHandler() handler.request = fake_request posts = handler.get_posts(None) assert len(posts) == 2</span></span></code> </pre> <br><h1 id="itogi" style=";text-align:right;direction:rtl">  ุงููุชุงุฆุฌ </h1><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชุทููุฑ ุงูุจุฑูุฌูุงุช ุนุงููุฉ ุงูุฌูุฏุฉ ุ ุชุญุชุงุฌ ุฅูู ูุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช.  ูุญุฏ ุฃุฏูู ุ ุชุฃูุฏ ูู ูุชุงุจุฉ ูุง ุชุญุชุงุฌู. </li><li style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ูุฃูุธูุฉ ุงููุนูููุงุช ุงููุจูุฑุฉ ุ ุชุนุชุจุฑ ุงูุงุฎุชุจุงุฑุงุช ุฃูุซุฑ ุฃูููุฉ - ููู ุชุณูุญ ูู ุจุชุฌูุจ ุชุบููุฑุงุช ุงููุงุฌูุฉ ุบูุฑ ุงููุฑุบูุจ ูููุง ุฃู ุฅุฑุฌุงุน ุงูุฃุฎุทุงุก. </li><li style=";text-align:right;direction:rtl">  ุญุชู ูุง ุชุชุญูู ุงูุงุฎุชุจุงุฑุงุช ุงูููุชูุจุฉ ุฅูู ุงููุซูุฑ ูู ุงูุฃุณุงููุจ ุงูุบุฑูุจุฉ ูุน ูุฑูุฑ ุงูููุช ุ ูุฌุจ ุนููู ุงูุงูุชุจุงู ุฅูู ุงุตุทูุงุญ ุชุณููุฉ ุงูุงุฎุชุจุงุฑุงุช ุ ูุงูุงูุชุฒุงู ุจุงูููุงุฑุณุงุช ุงูุฌูุฏุฉ ุ ูุชูููู ุงูุงุฎุชุจุงุฑุงุช. </li><li style=";text-align:right;direction:rtl">  ูููู ุฃู ุชููู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุฃุฏุงุฉ ุฑุงุฆุนุฉ ุฃุซูุงุก ุงูุชุทููุฑ.  ูููู ุชุดุบูููุง ุจุนุฏ ูู ุชุบููุฑ ุตุบูุฑ ููุชุฃูุฏ ูู ุนุฏู ูุณุฑ ุฃู ุดูุก. </li></ul><br><p style=";text-align:right;direction:rtl">  ููุทุฉ ูููุฉ ููุบุงูุฉ ูู ุฃู ุงูุงุฎุชุจุงุฑุงุช ูุง ุชุถูู ุชูุงูุฑ ุฃู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก.  ุชุถูู ุงูุงุฎุชุจุงุฑุงุช ุฃู ุชููู ุงููุชูุฌุฉ ุงูุญููููุฉ ููุจุฑูุงูุฌ (ุฃู ุฌุฒุก ููู) ูุชููุนุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุญุฏุซ ุงูุชุญูู ููุท ูุชูู ุงูุฌูุงูุจ ุงูุชู ุชูุช ูุชุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช ุนูููุง.  ูุฐูู ุ ุนูุฏ ุฅูุดุงุก ููุชุฌ ุนุงูู ุงูุฌูุฏุฉ ุ ูุฌุจ ุฃูุง ููุณู ุฃููุงุน ุงูุงุฎุชุจุงุฑุงุช ุงูุฃุฎุฑู. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar450290/">https://habr.com/ru/post/ar450290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar450272/index.html">ุงูููุฌุงู ุงูุจุฏูู</a></li>
<li><a href="../ar450274/index.html">ูุนูู ุงูุชุญุณุณ ุงูุฐูู ูู C ++ ูู Visual Studio ุงูุขู ุนูู ุฃุณุงุณ ุฃูุซูุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู</a></li>
<li><a href="../ar450278/index.html">ุดุจูุงุช ุชููุฒููู ุงููุงุจู ูุฃุตุบุฑูุง. ุงูุฌุฒุก 5: ุดุจูุฉ ุงูุชูุฒูุน ุงููุญูุฑูุฉ</a></li>
<li><a href="../ar450282/index.html">ููู ุชุนูู ุชุทุจููุงุช ุงูููุจ</a></li>
<li><a href="../ar450288/index.html">UML ู Enterprise Architect: ุชุตููู ุงูุนูููุฉ ุงููุณุชูุฏูุฉ ูุฅูุดุงุก ูุธุงู ุขูู</a></li>
<li><a href="../ar450292/index.html">ูุง ุงูุฌุฏูุฏ ูู ุงูุนูุฏุฉ 12</a></li>
<li><a href="../ar450294/index.html">ุฃุฑูุน ุงูุณููู</a></li>
<li><a href="../ar450298/index.html">ุงููุณุชูุจู ุงูููููู (ุชุงุจุน)</a></li>
<li><a href="../ar450300/index.html">ุงูุชููู ุนู ุงูุฌุฏู ุญูู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ู OOP</a></li>
<li><a href="../ar450302/index.html">ุชูููุฉ ุฑุงุฏูู ุงูููุงุฉ: ุชุตููุน ููุญุงุช ุงูุฏูุงุฆุฑ ุงูุฅููุชุฑูููุฉ ูู ูุตูุน ุตููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>