<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèöÔ∏è üë®üèª‚Äçüè´ üôéüèæ D√©tection et reconnaissance d'objets de la cam√©ra dans ROS √† l'aide du package find_object_2d üëäüèª üë≤üèø üíÜüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'un des avantages du Robot Operating System (ROS) est qu'il poss√®de de nombreux packages qui peuvent √™tre r√©utilis√©s dans nos applications. Dans notr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©tection et reconnaissance d'objets de la cam√©ra dans ROS √† l'aide du package find_object_2d</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414991/"><img src="https://habrastorage.org/webt/7q/zp/ph/7qzpphbikbtdljto9uy0xkyrkoe.png"><br><br>  L'un des avantages du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Robot Operating System (ROS)</a> est qu'il poss√®de de nombreux packages qui peuvent √™tre r√©utilis√©s dans nos applications.  Dans notre cas, nous voulons introduire un syst√®me de reconnaissance et de d√©tection d'objets.  Le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">find_object_2d</a> impl√©mente des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©tecteurs et descripteurs de fonctions SURF, SIFT, ORB, FAST et BRIEF pour d√©tecter des objets</a> .  En utilisant l'interface graphique fournie par ce package, nous pouvons marquer les objets que nous voulons d√©tecter et les enregistrer pour une d√©tection future.  Le n≈ìud d√©tecteur d√©tectera les objets dans les images de la cam√©ra et publiera les d√©tails de l'objet √† travers le sujet.  √Ä l'aide d'un capteur 3D, il peut √©valuer la profondeur et l'orientation d'un objet. <br><br>  A la fin de l'article, test vid√©o sur l'exemple des algorithmes ORB et SIFT. <br><a name="habracut"></a><br><h4>  D√©finition de find_object_2d </h4><br>  L'installation de ce package est assez simple.  Voici la commande pour l'installer sur Ubuntu 16.04 et ROS Kinetic: <br><br><pre><code class="bash hljs">$ sudo apt-get install ros-kinetic-find-object-2d</code> </pre> <br><h4>  Installer depuis la source </h4><br>  Basculez vers l'espace de travail ROS: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/catkin_ws/src</code> </pre> <br>  Copiez le code source dans le dossier src: <br><br><pre> <code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/introlab/find-object.git src/find_object_2d</code> </pre> <br>  Cr√©ez un espace de travail: <br><br><pre> <code class="bash hljs">$ catkin_make</code> </pre> <br><h4>  Ex√©cution de n≈ìuds find_object_2d √† l'aide de webcams </h4><br>  Voici la proc√©dure de d√©marrage des n≈ìuds de d√©tection pour une webcam.  Si nous voulons d√©tecter un objet √† l'aide d'une webcam, nous devons d'abord installer le package usb_cam (voir l'article pr√©c√©dent). <br><br>  1. Lancez roscore: <br><br><pre> <code class="bash hljs">$ roscore</code> </pre> <br>  2.1 Connectez la cam√©ra USB √† l'ordinateur et ex√©cutez le pilote usb_cam ROS: <br><br><pre> <code class="bash hljs">$ roslaunch usb_cam usb_cam-test.launch</code> </pre> <br>  Cela lancera le pilote ROS pour les webcams USB, et vous pouvez voir les rubriques de ce pilote √† l'aide de la commande rostopic list.  La liste des rubriques du pilote est affich√©e ici: <br><br><img src="https://habrastorage.org/webt/zs/vp/pm/zsvppmawbbqqmjbvbfwythvos0w.png"><br>  <i>Sujets publi√©s √† partir du pilote de l'appareil photo</i> <br><br>  2.2 Une autre fa√ßon de diffuser la vid√©o de la cam√©ra via uvc_camera: <br><br><pre> <code class="bash hljs">$ rosrun uvc_camera uvc_camera_node</code> </pre> <br>  3. Dans la liste des sujets, nous allons utiliser le th√®me de l'image brute de la cam√©ra, qui est publi√© dans le sujet / usb_cam / image_raw.  Si vous obtenez cette rubrique, l'√©tape suivante consiste √† lancer le n≈ìud de d√©couverte d'objets.  La commande suivante d√©marre le n≈ìud de d√©couverte d'objets: <br><br><pre> <code class="bash hljs">$ rosrun find_object_2d find_object_2d image:=/usb_cam/image_raw</code> </pre> <br>  Cette commande ouvrira la fen√™tre de d√©tection d'objet dans laquelle nous voyons le canal de la cam√©ra et les caract√©ristiques des objets. <br><br>  4. Alors, comment pouvons-nous l'utiliser pour d√©tecter un objet?  Les proc√©dures suivantes permettent d'effectuer une d√©couverte de base √† l'aide de cet outil: <br><br><img src="https://habrastorage.org/webt/lv/sn/yz/lvsnyzuixfcv144mlk-1z0vx6aa.png"><br>  <i>Fen√™tre de d√©tection d'objet</i> <br><br>  5. Vous pouvez cliquer avec le bouton droit sur le panneau de gauche (Objets) de cette fen√™tre et vous aurez la possibilit√© d'ajouter des objets de la sc√®ne.  Si vous s√©lectionnez cette option, il vous sera demand√© de marquer un objet de la sc√®ne actuelle, et une fois le marquage termin√©, l'objet marqu√© commencera √† √™tre suivi √† partir de la sc√®ne.  La capture d'√©cran pr√©c√©dente montre la premi√®re √©tape dans laquelle une sc√®ne avec un objet est captur√©e. <br><br>  6. Apr√®s avoir align√© l'objet vers la cam√©ra, cliquez sur le bouton "Prendre une photo" pour cliquer sur l'objet: <br><br><img src="https://habrastorage.org/webt/hl/za/ae/hlzaaepyjinuabd4fc4eqqlplci.png"><br>  <i>Assistant Ajouter un objet pour capturer un objet</i> <br><br>  7. La fen√™tre suivante sert √† marquer un objet √† partir de la liaison actuelle.  La figure suivante le montre.  Nous pouvons utiliser le curseur de la souris pour marquer un objet.  Cliquez sur le bouton "Suivant" pour rogner l'objet, et vous pouvez passer √† l'√©tape suivante: <br><br><img src="https://habrastorage.org/webt/l6/_g/gu/l6_gguvtcz0mizv8omso9isjgf8.png"><br>  <i>Assistant Ajouter un objet pour √©tiqueter un objet</i> <br><br>  8. Apr√®s avoir rogn√© l'objet, il vous montrera le nombre total de descripteurs de fonction pour l'objet, et vous pouvez cliquer sur le bouton "Fin" pour ajouter un mod√®le d'objet √† d√©tecter.  La figure suivante montre la derni√®re √©tape de l'ajout d'un mod√®le d'objet √† cette application de d√©tection: <br><br><img src="https://habrastorage.org/webt/g9/9-/qk/g99-qksfdknlh4-aj6r7buraefw.png"><br>  <i>Derni√®re √©tape de l'Assistant Ajout de fonctionnalit√©s</i> <br><br>  9. F√©licitations!  Vous avez ajout√© un objet √† d√©couvrir.  Vous pouvez maintenant voir la d√©tection montr√©e dans la photo suivante.  Vous pouvez voir le cadre de d√©limitation autour de l'objet d√©tect√©: <br><br><img src="https://habrastorage.org/webt/7t/qz/px/7tqzpxjvxjpoopnd17ok0-5zjpc.png"><br>  <i>Assistant de recherche d'objets lan√ßant la d√©couverte</i> <br><br>  10. Est-ce suffisant?  Et la position de l'objet?  Nous pouvons obtenir <br>  position de l'objet √† l'aide de la commande suivante: <br><br><pre> <code class="bash hljs">$ rosrun find_object_2d print_objects_detected</code> </pre> <br><img src="https://habrastorage.org/webt/yu/go/rg/yugorgxownwmuoh0znkplishewu.png"><br>  <i>D√©tails de la propri√©t√©</i> <br><br>  11. Vous pouvez √©galement obtenir des informations compl√®tes sur l'objet d√©tect√© <br>  / objet du sujet.  Cette rubrique publie un tableau de multidiffusion compos√© de la largeur et de la hauteur de l'objet et de la matrice d'homographie pour calculer la position et l'orientation de l'objet ainsi que ses valeurs d'√©chelle et de d√©calage.  Vous pouvez obtenir l'√©cho du sujet / objets comme ceci: <br><br><img src="https://habrastorage.org/webt/4m/q0/5n/4mq05nsif6cqsjum-uczmyroeuq.png"><br>  <i>Valeurs de th√®me / objet</i> <br><br>  12. Nous pouvons calculer la nouvelle position et l'orientation √† partir des √©quations suivantes: <br><br><img src="https://habrastorage.org/webt/m8/yz/ot/m8yzotihqpdze8ntccnrjiyrou0.png"><br>  <i>L'√©quation pour calculer la position de l'objet</i> <br><br>  Ici H est l'homographie d'une matrice 3 √ó 3, (x1, y1) est la position de l'objet dans l'image stock√©e, et (x2, y2) est la position calcul√©e de l'objet dans la trame courante. <br>  Vous pouvez v√©rifier le code source du n≈ìud print_objected_src pour obtenir une version en utilisant la matrice d'homographie. <br><br>  <a href="">Voici le code source de ce n≈ìud.</a> <br><br><h4>  Test de la vid√©o du package find_object_2d en utilisant l'exemple des algorithmes ORB et SIFT </h4><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0cJ2KRNjLC4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  R√©sum√© de l'algorithme: ORB est rapide, mais ne voit pas les objets distants et souvent ne d√©termine pas correctement la g√©om√©trie.  SIFT voit les objets distants, d√©termine avec pr√©cision la g√©om√©trie, par contre n√©cessite de grandes ressources informatiques et est pay√© pour une utilisation commerciale. <br><br>  <b>Questions √† r√©soudre par le robot <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">EduMIP</a></b> : <br><br><ol><li>  Recevez de la cam√©ra Logitech C920 sur BeagleBone Blue une vid√©o d√©j√† encod√©e et transf√©rez-la sous cette forme sur un grand ordinateur en ROS. </li><li>  Connectez les capteurs de distance VL6180X, Vl53l0x et le pare-chocs pour cr√©er une carte dans ROS. (Accessoires d√©j√† command√©s) </li><li>  √âcrivez un algorithme dans ROS qui traitera les donn√©es de la carte et les objets d√©tect√©s de la cam√©ra et construira un itin√©raire de mouvement bas√© sur eux. </li></ol><br>  S'il y a des passionn√©s de robotique comme moi qui sont pr√™ts √† rejoindre le projet, puis √©crivez dans un e-mail personnel, j'ai besoin d'aide sur les probl√®mes ci-dessus. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr414991/">https://habr.com/ru/post/fr414991/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr414977/index.html">Connaissance des expositions d'√©quipements audio et vid√©o: du grand √©cran au sp√©cialis√© - deuxi√®me partie</a></li>
<li><a href="../fr414979/index.html">Concept Bitcoin MAST</a></li>
<li><a href="../fr414981/index.html">Biblioth√®que non √©crite</a></li>
<li><a href="../fr414983/index.html">Alan Kay: Qu'est-ce qui a rendu Xerox PARC sp√©cial et qui leur ressemble encore aujourd'hui</a></li>
<li><a href="../fr414989/index.html">Lancement d'un satellite de d√©bris spatiaux depuis l'ISS</a></li>
<li><a href="../fr414993/index.html">Identification et classification des commentaires toxiques. Conf√©rence √† Yandex</a></li>
<li><a href="../fr414995/index.html">Notes amateurs, ou l'histoire de la configuration du d√©veloppeur Scala FPGA</a></li>
<li><a href="../fr414997/index.html">ML-Blitz: analyse des t√¢ches du premier tour de qualification</a></li>
<li><a href="../fr414999/index.html">Watchman 3D et testeur de thermistance</a></li>
<li><a href="../fr415001/index.html">L'op√©rateur de la voiture robotique Uber, qui a abattu un cycliste, a regard√© l'√©mission Voice au moment de la collision</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>