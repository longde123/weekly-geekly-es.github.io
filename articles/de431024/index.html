<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òéÔ∏è üçï üõåüèæ Alle Schnappsch√ºsse kommen in den Himmel üè§ üë®‚Äçüë®‚Äçüëß‚Äçüë¶ üè≥Ô∏è‚Äçüåà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jetzt verwenden wir alle Bankanwendungen. Es ist bequem, schnell und unserer Meinung nach sicher. Banken haben sogar zus√§tzliche PIN-Codes eingegeben,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Alle Schnappsch√ºsse kommen in den Himmel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431024/"><img src="https://habrastorage.org/webt/vq/xy/vn/vqxyvndjirfg6a4wgmmkmo57pho.jpeg" alt="Bild alt" align="left">  Jetzt verwenden wir alle Bankanwendungen.  Es ist bequem, schnell und unserer Meinung nach sicher.  Banken haben sogar zus√§tzliche PIN-Codes eingegeben, sodass Ihr Geld und Ihre vertraulichen Daten gesch√ºtzt sind, selbst wenn Sie Ihr Telefon verlieren oder es in die H√§nde eines Au√üenstehenden f√§llt.  Und es ist so cool!  Banken k√ºmmern sich um unsere Sicherheit! <br><br>  Wenn Sie jedoch dieselbe Bankanwendung im Task-Manager √∂ffnen, wird der gesamte Inhalt des Bildschirms angezeigt (z. B. Kontoinformationen, Bankkarte, Chat, in dem Sie etwas mit einem Bankangestellten besprochen haben).  Sie k√∂nnen dies in Ihren Bankanwendungen √ºberpr√ºfen.  Ich habe die ber√ºhmtesten studiert - und alle verbergen keine vertraulichen Informationen, wenn Sie im Hintergrund sind. <br><br>  Zum Beispiel habe ich abstrakte Dosen auf abstrakten Seiten geknarrt.  Und jetzt stelle ich Ihnen sofort eine Frage: Werden Sie Geld an Ihre Mutter / Freundin / Ihren Hund √ºberweisen, befinden Sie sich bereits auf der √úberweisungsseite und haben die Anwendung verlassen, um den Code aus der SMS zu kopieren (wenn Sie den Zugriff auf die Bankanwendung in einem Anfall von Paranoia verweigert haben), oder sehen Sie, welche Irgendwelche Informationen.  Aber wenn Sie sich erneut entscheiden, zu Ihrer Bankanwendung zur√ºckzukehren, welchen Bildschirm w√§hlen Sie? <br><br><a name="habracut"></a>  Wie wir sehen, werden Sie dies m√∂glicherweise nicht bemerken, bevor Sie zwei absolut identische Bildschirme haben und es eilig haben.  Sie klicken auf die letzte Bewerbung, gehen dorthin, geben die Daten ein und voila, Ihr Geld wurde √ºberwiesen.  Wohin wurden sie gebracht?  Zu wem? <br><br>  Und die Sache ist nicht nur in dieser abstrakten Bank, ich habe mir einige der beliebtesten Banken angesehen und sie alle leiden unter einem solchen Problem. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/se/bk/h4/sebkh4mqq6rzrrrpm2q-kmsz62o.jpeg" alt="Bild alt"></div><br>  Interessanterweise ist auf der iOS-Seite der Inhalt des Bildschirms im Task-Manager ausgeblendet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pv/n_/8k/pvn_8kfmmaod9tagt8z3knmlaku.jpeg" alt="Bild alt"></div><br>  Und daf√ºr gibt es eine Erkl√§rung.  Aber dazu sp√§ter mehr, jetzt sprechen wir √ºber Android.  Warum also den Inhalt des Bildschirms ausblenden, wenn der Benutzer die Anwendung verlassen hat? <br><br><h3>  Lassen Sie uns zun√§chst verstehen, wie der Bildschirmmanager funktioniert (Bildschirm "Letzte"). </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iz/6u/2z/iz6u2znbgtm1fmznzyo4emmg4na.jpeg" alt="Bild alt"></div><br>  Auf diesem Bildschirm sehen wir eine Liste unserer zuvor ge√∂ffneten Anwendungen.  Es wird uns sogar der Ort gezeigt, an dem wir unsere Interaktion mit einer bestimmten Anwendung gestoppt haben.  Tatsache ist jedoch, dass wir die Anwendung selbst nicht sehen, sondern einen Snapshot, der vor dem Beenden der Anwendung erstellt wird. <br><br><h4>  Was wirklich passiert (kurz): </h4><br><ul><li>  Die Anwendung ist in den Hintergrund gewechselt </li><li>  Window Manager f√ºgt einen Anwendungs-Snapshot in GraphicBuffer ein </li><li>  GraphicBuffer wird √ºber Binder an SystemUI gesendet, um eine Vorschau der Anwendung anzuzeigen. </li></ul><br>  Was wir hier sehen, ist also nicht der Inhalt der Anwendung, sondern nur eine Momentaufnahme, die im letzten Moment vor dem √úbergang einer bestimmten Anwendung in den Hintergrund aufgenommen wurde. <br><br>  Aber Sie haben es erraten, es ist nicht so einfach. Sie k√∂nnen auf diese Schnappsch√ºsse zugreifen und dem Benutzer beispielsweise auf dem Bildschirm "Letzte" eine andere Anwendung unter dem Deckmantel des Bankgesch√§fts anzeigen, die von Trojanern verwendet wird.  Der Benutzer kehrt zur Bankanwendung zur√ºck, gibt alle angeforderten Daten ein, das Geld wird √ºberwiesen, aber √ºberhaupt nicht, wo wir m√∂chten. <br><br>  Oder Sie k√∂nnen diese Bilder einfach nach China senden, wo die harten Chinesen Informationen √ºber alles und jeden sammeln.  Die Methoden zur Verwendung der erhaltenen Screenshots k√∂nnen endlos durchdacht werden. <br><br>  In den meisten F√§llen m√ºssen Bankanwendungen oder Anwendungen, die wichtige Informationen enthalten, die nicht f√ºr neugierige Blicke bestimmt sind, vertrauliche Daten verbergen. <br><br>  Das Erstellen oder L√∂schen von Schnappsch√ºssen ist nur innerhalb einer bestimmten Anwendung m√∂glich.  In der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> hei√üt es, dass nur Ger√§tehersteller die Klasse √§ndern k√∂nnen, die f√ºr den Mechanismus zum Empfangen und Speichern von Snapshots verantwortlich ist. <br><br><h3>  So verhindern Sie, dass das System Schnappsch√ºsse erstellt </h3><br>  Es gibt verschiedene M√∂glichkeiten, aber leider sind nicht alle recht optimistisch.  Wenn Sie eines davon in Ihrer Anwendung verwenden m√∂chten, stellen Sie sicher, dass auf allen Ger√§ten alles ordnungsgem√§√ü funktioniert. <br><br>  Sie k√∂nnen den Parameter f√ºr die Aktivit√§t einstellen: <br><br><pre><code class="xml hljs">android:excludeFromRecents = "true"</code> </pre> <br>  Diese Methode verst√∂√üt jedoch gegen die Logik der Benutzerinteraktion mit der Anwendung, da die Anwendung im Bildschirm "Letzte" √ºberhaupt nicht angezeigt wird. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.HONEYCOMB) { getWindow().setFlags(WindowManager.LayoutParams.FLAG_SECURE, WindowManager.LayoutParams.FLAG_SECURE); } setContentView()</code> </pre> <br>  Diese Methode verst√∂√üt nicht gegen die Interaktionslogik, aber das System beginnt, den Inhalt des Anwendungsbildschirms als gesch√ºtzt zu behandeln, sodass keine Schnappsch√ºsse erstellt werden k√∂nnen.  Das Folgende ist ein Beispiel daf√ºr, wie dies im Bildschirm "Letzte" aussehen wird. <br><br>  Dar√ºber hinaus gibt es eine M√∂glichkeit, onPause () zu verfolgen.  Hier m√ºssen Sie jedoch die vorbereitete Ansicht st√§ndig im Status View.GONE halten, damit Sie View.VISIBLE erstellen k√∂nnen, wenn die Anwendung in den Hintergrund tritt.  Dies funktioniert aber auch nicht sehr zuverl√§ssig, da es leider unm√∂glich ist, den Zeitpunkt der Schnappschussentfernung zu steuern. <br><br>  √úbrigens k√∂nnte der Wagen wohl wer es bezweifeln :) Auf dem Bildschirm ist ein geheimer Chat, in diesem Fall wird FLAG_SECURE verwendet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hr/br/hj/hrbrhj5wxj3gjyhxolgtt_qs5kc.jpeg" alt="Bild alt"></div><br>  Warum verstecken Banken den Inhalt einer Anwendung auf der iOS-Plattform, die daher als sicherer (was irref√ºhrend ist) angesehen wird, und belassen sie bei der Android-Plattform?  H√∂chstwahrscheinlich gef√§llt ihnen einfach nicht, wie die Anwendung im Bildschirm "Letzte" aussehen wird.  Das ist nur eine wei√üe Leinwand.  In iOS k√∂nnen Sie mit der Implementierung wunderbar arbeiten.  Infolgedessen erhalten wir Sicherheitssch√§den zum Wohle der Sch√∂nheit.  Vielleicht ist es Ihnen egal, solange Ihr Geld dort ist, wo Sie m√∂chten, und die Vertraulichkeit der Daten unersch√ºtterlich ist.  Aber sind Sie bereit zu zahlen? <br><br>  Um nicht mit einer so pessimistischen Bemerkung zu enden, werden wir die Frage aufwerfen: Kann es auch f√ºr Android wunderbar gemacht werden?  Tats√§chlich habe ich mir bereits einen Weg ausgedacht, aber zuerst m√ºssen Sie ihn testen. <br><br>  Wenn Sie sich f√ºr dieses Thema interessieren, kann ich beschreiben, wie alles von innen funktioniert.  Wie kann ich Schnappsch√ºsse bekommen, wie das Android-System funktioniert, √ºber die Schwachstellen mobiler Anwendungen. <br><br>  Ich beschloss, mich selbst herauszufordern und regelm√§√üig etwas N√ºtzliches zu schreiben.  Ich werde Skizzen in Telegrammen in meinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@ paradisecurity-</a> Kanal ver√∂ffentlichen und sie dann in vollst√§ndigen Beitr√§gen sammeln.  Tsch√ºss, tsch√ºss. <cut text=""></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de431024/">https://habr.com/ru/post/de431024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de431014/index.html">Flexbox Technologie-Infografiken</a></li>
<li><a href="../de431016/index.html">Die USA fordern die Partner auf, die Verwendung von Huawei-Ger√§ten einzustellen</a></li>
<li><a href="../de431018/index.html">Ein CRM-System implementieren? Nehmen Sie die rosa Brille ab</a></li>
<li><a href="../de431020/index.html">Bericht des Club of Rome 2018, Kapitel 1.7 ‚ÄûNicht nachhaltiges Bev√∂lkerungswachstum und Urbanisierung‚Äú</a></li>
<li><a href="../de431022/index.html">Sein oder Nichtsein ... Soll ich www auf meiner Domain verwenden?</a></li>
<li><a href="../de431028/index.html">Wie sich Fahrr√§der in den letzten 25 Jahren ver√§ndert haben</a></li>
<li><a href="../de431030/index.html">Neue Erkenntnisse belegen die Existenz von zwei Arten von unendlichen Kurven</a></li>
<li><a href="../de431032/index.html">Durch Fehler in Google Mail konnten Sie die Absenderadresse verbergen und den Brief an "gesendet" weiterleiten.</a></li>
<li><a href="../de431034/index.html">Digitale Veranstaltungen in Moskau vom 26. November bis 2. Dezember</a></li>
<li><a href="../de431036/index.html">"Die ganze Welt - Analyse" oder "Analyse"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>