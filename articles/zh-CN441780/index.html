<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⬛️ 🆚 💱 使用无共享架构降低停机风险 🤽🏼 👝 🤞🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="数据存储系统中的容错性主题始终是相关的，因为在我们无处不在的虚拟化和存储资源整合的世纪中，存储是其链接不仅会导致普通事故，而且会导致服务长时间停机的链接。 因此，现代存储系统包含许多重复的组件（直至控制器）。 但是这样的保护足够了吗？ 




 绝对所有列出存储系统特性的供应商，总是提到其解决方案...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>使用无共享架构降低停机风险</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/441780/"><p>数据存储系统中的容错性主题始终是相关的，因为在我们无处不在的虚拟化和存储资源整合的世纪中，存储是其链接不仅会导致普通事故，而且会导致服务长时间停机的链接。 因此，现代存储系统包含许多重复的组件（直至控制器）。 但是这样的保护足够了吗？ </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1u/br/ci/1ubrci6spo2hvlyiqydmcvjto4m.png"></div><br><a name="habracut"></a><br><p> 绝对所有列出存储系统特性的供应商，总是提到其解决方案的高容错能力，而必须添加“没有单点故障”这一术语。 仔细研究典型的存储系统。 为了消除服务停机时间，电源，冷却模块，I / O端口，驱动器（意味着RAID）以及控制器（当然是控制器）在存储系统中是重复的。 如果仔细研究此体系结构，您将注意到至少两个潜在的故障点，这些点对于以下内容略微保持沉默： </p><br><ol><li> 单个背板（背板）的存在 </li><li> 一份数据 </li></ol><br><p>  Backplein是一种技术复杂的设备，必须在生产中进行严格的测试。 因此，在极少数情况下会完全失败。 但是，即使在部分故障（例如驱动器插槽无法正常工作）的情况下，也必须通过完全关闭存储系统来替换它。 </p><br><p> 乍一看，创建数据的多个副本也不是问题。 因此，例如，存储系统中的“克隆”功能相当广泛，它允许以一定的周期更新数据的完整副本。 但是，如果同一底板有问题，则副本将与原始副本一样不可访问。 </p><br><p> 克服这些缺点的一个完全显而易见的解决方案是复制到另一个存储系统。 如果我们对预期的硬件成本翻番视而不见（尽管如此，我们假设选择这种解决方案的人已经事先充分考虑并接受了这一事实），以许可证，额外的软件和硬件的形式组织复制仍然会有可能的费用。 最重要的是-您需要以某种方式确保复制数据的一致性。 即 构建存储虚拟器/ vSAN /等，这也需要大量现金和时间资源。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AccelStor</a>在创建其高可用性系统时着手摆脱上述缺点。 因此，对“无共享”技术有了一种解释，即免费翻译的意思是“不使用通用设备”。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">无共享</a>架构的概念是使用两个独立的节点（控制器），每个节点都有自己的数据集。 在节点之间，通过InfiniBand 56G接口进行的同步复制对于在存储系统顶部运行的软件而言绝对透明。 结果，不需要使用存储虚拟器，软件代理等。 </p><br><p> 从物理上讲，AccelStor两种解决方案可以通过两种模型来实现： </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">H510-</a>基于2U封装中的Twin服务器，如果需要适度的性能和最大22TB的容量； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">H710-</a>基于单独的2U服务器，如果需要高性能和高容量（最高57TB）。 </li></ul><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/aw/qa/p3/awqap39a8w510jqbmeiqhvs-kau.png"></div><br><p>  <i>H510双服务器型号</i> </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yk/yz/g6/ykyzg6dc8wz0140mqurpsxuafa0.png"></div><br><p>  <i>基于单独服务器的H710模型</i> </p><br><p> 使用不同外形尺寸的原因是需要不同数量的SSD才能达到给定的体积和性能。 另外，Twin平台更便宜，并且允许您提供更实惠的解决方案，尽管以单个背板的形式存在一些有条件的“缺点”。 两种模式的其他所有内容，包括操作原理，都完全相同。 </p><br><p> 每个节点的数据集具有两个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FlexiRemap</a>组，外加2个热备用。 每个组都能够承受一个SSD的故障。 根据<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">意识形态，</a> FlexiRemap将所有传入请求重新构建，以将节点记录到具有4KB块的顺序链中，然后以最方便的方式将其写入SSD（顺序记录）。 此外，主机仅在将数据物理放置在SSD上后（即，在 无需在RAM中缓存。 结果是令人印象深刻的性能，高达600K IOPS的写入性能和1M + IOPS的读取性能（型号H710）。 </p><br><p> 如前所述，数据集同步通过具有高带宽和低延迟的InfiniBand 56G接口实时进行。 为了在传输小数据包时最大限度地利用通信信道。 因为 只有一个通信通道；为了进行额外的脉冲检查，使用了专用的1GbE链路。 仅通过它传送心跳，因此对速度特性没有要求。 </p><br><p> 如果由于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">扩展架</a>而导致系统容量增加（高达400 + TB） <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">，</a>它们也将成对连接，以符合“无单点故障”的概念。 </p><br><p> 为了提供额外的数据保护（除了AccelStor已经拥有两个副本的事实），在任何SSD发生故障的情况下，将使用特殊的行为算法。 如果SSD发生故障，则节点将开始在其中一个热备用驱动器上重建数据。 处于降级状态的FlexiRemap组将进入只读模式。 这样做是为了消除对备份磁盘的写入和重建操作的干扰，从而最终加快了恢复过程并减少了系统可能受到攻击的时间。 重建完成后，节点将切换回普通读写模式。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/mj/zl/nr/mjzlnrn1o4p80vkmbmffdnbvtoo.png"></div><br><p> 当然，与其他系统一样，在重建期间，整体性能会下降（毕竟，FlexiRemap组之一在记录时不起作用）。 但是恢复过程本身要尽可能快，这将AccelStor系统与其他供应商的解决方案区分开来。 </p><br><p>  Nothing Shared技术的另一个有用功能是节点在所谓的“真主动-主动”模式下的操作。 与“经典”架构不同，在“经典”架构中，只有一个控制器拥有特定的卷/池，而第二个控制器仅执行输入/输出操作，在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AccelStor</a>系统中，每个节点都使用自己的数据集，并且不会将请求传输到“邻居”。 结果，由于节点对输入/输出请求的并行处理以及对驱动器的访问，整体系统性能得以提高。 另外，实际上不存在故障转移之类的事情，因为在发生故障的情况下，您根本不需要将卷控制转移到另一个节点。 </p><br><p> 如果将Nothing Shared架构的技术与完全重复的存储进行比较，那么乍一看，它在灵活性方面将不如完全实施灾难恢复。 对于存储系统之间的通信线路的组织尤其如此。 因此，在H710模型中，由于使用了不太便宜的InfiniBand有源光缆，因此可以将节点扩展到100m的距离。 但是，即使与其他供应商通过可用的FibreChannel进行同步复制的通常实现方式相比，即使距离更远，AccelStor的解决方案也将更便宜且易于安装/操作，因为 无需安装存储虚拟器和/或与软件集成（从原则上讲，这始终是不可能的）。 另外，不要忘记，AccelStor解决方案是性能比仅带有SSD的“经典”存储系统更高的全闪存阵列。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/qy/fy/cgqyfyhtl0ts5988q_pszsfieyw.jpeg"></div><br><blockquote> 使用AccelStor的Nothing Shared技术时，以非常合理的成本获得99.9999％的存储系统可用性是现实的。 该解决方案的高可靠性（包括使用两个数据副本）以及专有的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FlexiRemap</a>算法可提供令人印象深刻的性能， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AccelStor</a>解决方案是构建现代数据中心的关键位置的绝佳候选者。 </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN441780/">https://habr.com/ru/post/zh-CN441780/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN441766/index.html">扑 利弊</a></li>
<li><a href="../zh-CN441768/index.html">面向企业和初创公司的十大移动应用开发公司</a></li>
<li><a href="../zh-CN441770/index.html">在哈萨克斯坦实施仅数字移动银行</a></li>
<li><a href="../zh-CN441772/index.html">英特尔PAC N3000-网络应用FPGA</a></li>
<li><a href="../zh-CN441774/index.html">服务器登录通知（SSH / TERMINAL）便宜而愉快</a></li>
<li><a href="../zh-CN441782/index.html">让我们来打Java EE越野拉力赛！ 雅加达EE专员Sebastian Dashner访谈</a></li>
<li><a href="../zh-CN441784/index.html">生物学家对衰老突变理论的看法</a></li>
<li><a href="../zh-CN441788/index.html">Ivideon视频监控系统如何工作：用户个人帐户概述</a></li>
<li><a href="../zh-CN441790/index.html">通过样式化系统高效创建组件</a></li>
<li><a href="../zh-CN441794/index.html">关于技术SEO的10件事，每个WordPress网站所有者都需要知道</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>