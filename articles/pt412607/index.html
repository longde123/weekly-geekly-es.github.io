<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õµÔ∏è ü§≠ ‚Ü™Ô∏è Esta√ß√£o de solda revers√≠vel classe HI-END ü§¥üèΩ üë©üèæ‚Äçüè≠ üèß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="T√≠nhamos v√°rias fotos da placa de circuito principal, um v√≠deo do YouTube com formas de onda de tens√£o no dreno de mosfets, um coment√°rio no f√≥rum lis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Esta√ß√£o de solda revers√≠vel classe HI-END</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412607/"><img src="https://habrastorage.org/webt/zy/do/hq/zydohqpxzvzoygol3o6ci9wkebw.jpeg"><br><br>  T√≠nhamos v√°rias fotos da placa de circuito principal, um v√≠deo do YouTube com formas de onda de tens√£o no dreno de mosfets, um coment√°rio no f√≥rum listando as capacit√¢ncias de capacitores ressonantes, al√©m de v√°rios v√≠deos da descompacta√ß√£o com as filmagens do processo de aquecimento das picadas.  De particular preocupa√ß√£o foi o v√≠deo com a medi√ß√£o do pico de consumo de energia durante o aquecimento.  N√£o h√° nada mais triste do que um cartucho queimado rec√©m comprado na Amazon no valor de quatro mil rublos.  Mas ... vamos come√ßar tudo de novo. <br><a name="habracut"></a><br><h4>  Introdu√ß√£o ao Curso </h4><br>  Para entender que tipo de dispositivo vamos construir hoje, primeiro vamos relembrar brevemente quais s√£o as esta√ß√µes de solda em geral e como elas diferem umas das outras. <br><br>  Todo o segmento de pre√ßo mais baixo desses equipamentos, como voc√™ pode imaginar, √© capturado por marcas chinesas, na maioria das vezes copiando a constru√ß√£o bastante bem-sucedida do ferro de solda japon√™s Hakko.  O princ√≠pio de opera√ß√£o das c√≥pias original e numerosa √© muito simples: um aquecedor de nicr√≥mio ou pel√≠cula fina transfere calor para uma picada remov√≠vel, cuja temperatura √© controlada por um termopar ou um termistor embutido no aquecedor.  Esta √© uma solu√ß√£o simples e barata, mas em c√≥pias chinesas a qualidade pode diminuir um pouco: o aquecedor √© um pouco do mesmo tamanho, um pouco de economia do material da ponta e, como resultado, a folha √© enrolada no aquecedor, a picada japonesa original √© encomendada do exterior, o conector mudando para um mais poderoso ... em geral, h√° algo a fazer. <br><br>  Em algum lugar no meio da escala de valor, existem esta√ß√µes de solda com marcas de marcas ocidentais famosas.  ERSA alem√£o, americano Weller, japon√™s Hakko, s√≥ isso.  O princ√≠pio de opera√ß√£o √© essencialmente o mesmo, mas nenhuma fazenda coletiva √© necess√°ria aqui, bolos agrad√°veis ‚Äã‚Äãsaem da caixa como um cabo de silicone macio que n√£o derrete com o menor toque de um ferro de solda e ... na verdade, n√£o h√° tantos bolos!  Pre√ßo?  Corresponde ao n√≠vel.  Dezenas de milhares de rublos denominados incomodar√£o n√£o apenas um humilde amante dom√©stico de passar a noite atr√°s da depura√ß√£o de hardware, mas tamb√©m uma entidade legal de m√©dio porte. <br><br>  No entanto, o t√≥pico do artigo de hoje n√£o √© sobre isso.  Vou falar sobre o verdadeiro HI-END no mundo das esta√ß√µes de solda, sobre ferros de solda por indu√ß√£o da empresa americana Metcal (a OK International agora est√° produzindo-os com esta marca).  De fato, existem v√°rios fabricantes desses dispositivos, al√©m do mencionado Metcal, eu tamb√©m conhe√ßo a Thermaltronics, JBC e at√© a Hakko tem um modelo semelhante.  O princ√≠pio de opera√ß√£o do aquecedor de indu√ß√£o em tais dispositivos √© muito elegante: <br><br> <a href=""><img src="https://habrastorage.org/webt/u_/zy/lj/u_zyljn2jccu9qkjsywbyn1w7ro.jpeg"></a> <br><br>  Como voc√™ pode ver, n√£o h√° nenhum sensor de temperatura aqui, o n√∫cleo da picada √© feito de cobre revestido com um material ferromagn√©tico, que √© aquecido pelo campo magn√©tico alternado de alta frequ√™ncia (13,56 MHz) e, em seguida, a uma certa temperatura, chamada ponto Curie, perde suas propriedades magn√©ticas e Como resultado, ele deixa de esquentar ainda mais.  Quando voc√™ toca no ponto de solda, o elemento ferromagn√©tico esfria um pouco e a energia do indutor come√ßa imediatamente a ser transmitida para a ponta do ferro de solda.  As pontas v√™m em quatro temperaturas fixas, das quais apenas duas s√£o essencialmente necess√°rias - para chumbo e solda sem chumbo.  Isso √© tudo. <br><br>  A OKI / Metcal produz diversas variedades de esta√ß√µes de solda por indu√ß√£o, com diferentes custos e com diferentes pot√™ncias de sa√≠da, no entanto, a ordem de valores na regi√£o de 60.000 rublos desencoraja qualquer desejo de tocar na bela, por mais bela que seja.  Bem, vamos tentar economizar um pouco? <br><br><h4>  Desafio </h4><br>  Formulamos da seguinte forma: usando apenas fontes abertas, realizando engenharia reversa virtual do dispositivo MX-5200 original e, como resultado, desenvolva uma fonte de canal √∫nico de tens√£o de RF sinusoidal adequada para a fabrica√ß√£o em casa com uma pot√™ncia de sa√≠da m√°xima de 80 W, repetindo o m√°ximo poss√≠vel a funcionalidade da solda original esta√ß√£o. <br><br>  Na Internet, voc√™ pode encontrar facilmente o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">diagrama de</a> circuitos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">da</a> esta√ß√£o Metcal MX-500 da gera√ß√£o anterior, cuidadosamente desenhada a partir do quadro.  O uso direto de solu√ß√µes de circuitos n√£o funcionar√° a partir daqui, uma vez que a pot√™ncia de sa√≠da deste dispositivo √© de apenas 40 W e, de maneira simples, n√£o √© dimension√°vel.  No entanto, esse antigo esquema nos ajudar√° a entender os princ√≠pios de opera√ß√£o dos principais componentes. <br><br>  Ent√£o, no documento, vemos: <br><br><ol><li>  Poderoso gerador de RF alimentado por quartzo com tr√™s circuitos ressonantes na sa√≠da; </li><li>  Conversor de pulso para alimenta√ß√£o do gerador (1), com tens√£o de sa√≠da variando de 17 a 21 V; </li><li>  Circuito de realimenta√ß√£o que regula a tens√£o do conversor buck (2), dependendo da tens√£o em um dos circuitos ressonantes de sa√≠da do gerador (1); </li><li>  O n√≥ de prote√ß√£o que desliga o gerador (1) ao desconectar o indutor; </li><li>  Fonte de alimenta√ß√£o do transformador com uma tens√£o de sa√≠da de 53 V. </li></ol><br>  Descubra imediatamente as solu√ß√µes gerais do circuito.  Para alimentar o circuito, por exemplo, um transformador toroidal de baixa frequ√™ncia √© perfeito.  Embora ... vamos aplicar, somos melhores em um conversor de resson√¢ncia LLC baseado em um chip HiperLCS raro fabricado pela Power Integrations: h√° muito tempo que eu queria trabalhar com ele.  O conversor step-down usado para ajustar a pot√™ncia de sa√≠da tamb√©m ser√° mais moderno, veja se √© realmente poss√≠vel extrair cinco amperes de um gabinete do tamanho de um SO-8.  Mas o que √© esse projeto sem arduino, esbo√ßo e LED?  Adicione o microcontrolador STM32 e uma tela pequena para exibir a pot√™ncia de sa√≠da atual.  Para simplificar, mediremos a energia na linha de energia do gerador de RF e consideraremos a efici√™ncia em software (ou n√£o).  Pegue uma caixa de metal de tamanho adequado, que servir√° tanto como tela quanto como radiador. <br><br><img src="https://habrastorage.org/webt/gc/u2/w1/gcu2w1dww-mhiyltoow_rpraa8c.jpeg"><br><br>  Para soldagem direta na Amazon, ser√° adquirido o kit de atualiza√ß√£o Metcal MX-UK1, que inclui um suporte e um ferro de soldar (isso √© essencialmente apenas uma caneta com um fio), bem como os cartuchos de solda reais.  Historicamente, √© mais conveniente trabalhar com pe√ßas pequenas com o chamado "casco" (um cone truncado a 30 ¬∞), e para soldar elementos maci√ßos √© melhor levar algo mais amplo, mais maci√ßo e mais quente, ent√£o aqui est√° minha escolha: Metcal SMTC-0167 para fino acabamento e Thermaltronics M7K100 para trabalhos com elementos de tamanho grande.  Sim, picadas mais baratas da Thermaltronics tamb√©m s√£o adequadas. <br><br><img src="https://habrastorage.org/webt/dt/go/ha/dtgohazuklmmwjlzrnkjeqatbrc.jpeg"><br><br>  Enquanto os detalhes estiverem a caminho, desenharemos um diagrama de blocos do dispositivo projetado.  Aqui est√°: <br><br><img src="https://habrastorage.org/webt/zl/uy/bh/zluybhztltpnmerd00thb0u5smo.png"><br><br>  √â muito importante dizer imediatamente algumas palavras sobre o feedback entre a sa√≠da do gerador de RF e a entrada de controle do conversor buck.  O fato √© que, ap√≥s a picada atingir a temperatura operacional, o gerador continua a gerar uma voltagem de amplitude bastante significativa (cerca de 100 V), e essa pot√™ncia come√ßa a se dissipar com a resist√™ncia ativa da bobina do indutor, que devido ao efeito de pele √© muito mais do que voc√™ pode imaginar mult√≠metro convencional.  Como resultado, a pequena bobina fica em brasa e queima.  Para impedir que isso aconte√ßa, as esta√ß√µes originais usam feedback negativo, o que reduz a tens√£o de alimenta√ß√£o do gerador com um aumento no coeficiente de onda estacion√°ria que acompanha a altera√ß√£o na imped√¢ncia do indutor.  A vers√£o de 40 watts usa o m√©todo bastante simples do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">US4626767A</a> , enquanto a vers√£o de 80 watts usa um sistema operacional mais sofisticado com um transformador de corrente.  Vejamos este v√≠deo retirado da Internet: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-55dR4yTJDQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  O feixe azul nele mostra a tens√£o de alimenta√ß√£o do est√°gio de sa√≠da do gerador de RF e, como vemos aqui, precisamos garantir que a tens√£o de alimenta√ß√£o mude pelo menos duas vezes (a pot√™ncia de sa√≠da nesse caso muda em propor√ß√£o ao quadrado da tens√£o, ou seja, quatro vezes).  Na vers√£o simples do SO modelado, simulada no LTSpice, n√£o consegui atingir esse n√≠vel de regulamenta√ß√£o; portanto, simplesmente extra√≠mos a cadeia de feedback da foto da placa de circuito impresso. <br><br><h4>  Gerador de alta frequ√™ncia </h4><br>  Iniciamos o projeto da parte de alta frequ√™ncia com os circuitos ressonantes de sa√≠da.  Vamos dar uma olhada nesta foto de alta resolu√ß√£o: <br><br> <a href=""><img src="https://habrastorage.org/webt/ng/9m/ia/ng9miake_7v8hi53skrpz8ko3lm.jpeg"></a> <br><br>  Aqui vemos tr√™s bobinas enroladas em torno dos n√∫cleos toroidais amarelos, o n√∫mero de voltas √© 4, 6 e 7, contando da esquerda para a direita.  De acordo com a classifica√ß√£o de Amidon, a cor amarela indica um n√∫cleo feito de ferro atomizado com uma permeabilidade magn√©tica de 8,5 (material n¬∫ 6).  Estimamos o tamanho dos an√©is medindo o tamanho do anel com uma r√©gua na tela e o tamanho de algum elemento conhecido, por exemplo, um transistor de sa√≠da no pacote TO-247.  Aparentemente, os n√∫cleos magn√©ticos T130-6 s√£o usados ‚Äã‚Äãaqui;  na minha opini√£o, isso √© algum tipo de exagero - esses an√©is grandes s√£o projetados para aumentar significativamente a pot√™ncia.  Mas n√£o tenho muita vontade de ser inteligente aqui: certamente n√£o usarei os an√©is americanos originais; em vez disso, pe√ßo c√≥pias chinesas baratas no AliExpress e vejo como elas funcionam (spoiler: est√° tudo bem com elas).  As indut√¢ncias calculadas foram de cerca de 180, 400 e 540 nH, respectivamente. <br><br>  Nos circuitos ressonantes, os capacitores tamb√©m dependem de indutores.  N√£o √© poss√≠vel determinar suas capacidades a partir da fotografia; no entanto, existe facilmente um post no qual o material el√©trico pedante mike (autor do v√≠deo anterior) compartilha suas observa√ß√µes (destacadas em amarelo): <br><br><img src="https://habrastorage.org/webt/hq/aq/md/hqaqmdiwweyahwjsjwp5ayrhqx0.png"><br><br>  Se substituirmos esses valores no modelo de especiaria, podemos ver que as frequ√™ncias ressonantes dos circuitos s√£o ligeiramente deslocadas de 13,56 MHz.  O fato √© que, quanto mais pr√≥xima a frequ√™ncia da resson√¢ncia, menor a tens√£o de alimenta√ß√£o do gerador de RF e mais corrente ele consome.  No original, um conversor abaixador com uma corrente m√°xima de 3A foi usado para alimentar o est√°gio de sa√≠da, de modo que os desenvolvedores alteraram um pouco os circuitos de sa√≠da para que fosse poss√≠vel aumentar a tens√£o de alimenta√ß√£o e reduzir o consumo de corrente.  Planejamos usar um microcircuito de cinco amperes; no entanto, essa corrente tamb√©m n√£o foi suficiente para trabalhar em resson√¢ncia, portanto perturbaremos ligeiramente o circuito de maneira semelhante.  Selecionaremos os valores exatos da capacit√¢ncia experimentalmente, com foco na tens√£o m√°xima de alimenta√ß√£o do est√°gio de sa√≠da 22 V e no consumo m√°ximo de corrente de 4 A. <br><br>  Noto que uma pot√™ncia bastante grande circula dentro dos circuitos ressonantes, que se esfor√ßam para serem liberados no ambiente na forma de calor.  Portanto, para aumentar o fator de qualidade das bobinas, usamos um fio esmaltado mais espesso - 1,25 mm e colocamos v√°rios capacitores em paralelo. <br><br>  A escolha do transistor de sa√≠da tamb√©m √© um t√≥pico dif√≠cil.  Ao substituir ou desconectar a picada, a sobretens√£o pode atingir valores bastante significativos (300-350 V), mas no original o desenvolvedor n√£o vaporizou muito com as prote√ß√µes e colocou no est√°gio de sa√≠da um transistor de RF IXYS IXFH12N50F RF bastante raro, r√°pido e caro com uma tens√£o de drenagem m√°xima 500 V. √â claro que n√£o podemos permitir esse luxo.  Pegue um transistor comum de efeito de campo de 200 volts STP19NF20 no valor de 34 rublos e, em paralelo, conectamos um supressor de 150 V. Ideal!  O limitador corta levemente as partes superiores das emiss√µes ressonantes, impedindo que os circuitos oscilem muito e, cerca de 10 milissegundos ap√≥s a perda de carga, a prote√ß√£o interrompe o gerador. <br><br><img src="https://habrastorage.org/webt/rf/tg/il/rftgil-a5rpht6bup_enjbtq8kk.jpeg"><br><br>  Devido √† grande capacit√¢ncia de entrada e alta frequ√™ncia, n√£o funcionar√° para controlar o obturador do transistor de sa√≠da diretamente usando um driver convencional.  Na foto da placa original entre os dois transistores de pot√™ncia, a indut√¢ncia sem moldura √© vis√≠vel.  Este √© um pequeno truque amplamente utilizado: a indut√¢ncia, juntamente com a capacit√¢ncia do gate, forma um circuito ressonante, que fornece recircula√ß√£o de energia no circuito do gate, como resultado do qual a efici√™ncia do pr√©-amplificador aumenta acentuadamente.  O mesmo circuito tamb√©m imp√µe uma limita√ß√£o n√£o √≥bvia ao modelo do transistor de sa√≠da: a resist√™ncia de sua porta deve ser m√≠nima para que o fator de qualidade do circuito permane√ßa aceit√°vel.  Sem entrar em muitos detalhes, repita a solu√ß√£o usada pelo fabricante.  Selecionamos o valor da indut√¢ncia para a efici√™ncia m√°xima do circuito real, comprimindo / esticando as voltas da bobina. <br><br>  Bem, ent√£o o circuito se torna mais trivial.  O pr√©-amplificador feito em um transistor com baixa capacit√¢ncia de entrada IRF510 ser√° abalado pelo driver duplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MAX17602</a> , suas caracter√≠sticas de velocidade s√£o muito boas.  MAX17600 ou MAX17601 s√£o ainda melhores, suas sa√≠das podem ser conectadas em paralelo, mas como eu n√£o tinha essas op√ß√µes, trabalharemos com o que temos. <br><br>  A frequ√™ncia de gera√ß√£o desejada √© definida por um ressonador de quartzo.  Infelizmente, tamb√©m n√£o consegui encontrar quartzo em 13,56 MHz para o oscilador principal.  Mas isso n√£o importa.  Pegue o ressonador mais comum de 27,12 MHz e divida a frequ√™ncia em dois.  Aqui o microcontrolador √© apenas √∫til, ou seja, um de seus temporizadores programados de acordo.  Tamb√©m quero observar que, para conex√£o direta ao MCU, apenas ressonadores de quartzo que operam no primeiro harm√¥nico s√£o adequados.  Os ressonadores russos difundidos a 27120 kHz operando no terceiro harm√¥nico s√≥ podem ser conectados com uma muleta na forma de um circuito ressonante adicional. <br><br><h4>  Nutri√ß√£o </h4><br>  Depois de longas e infrut√≠feras experi√™ncias com produtos chineses, decidiu-se que o est√°gio de sa√≠da de RF fosse alimentado por um conversor abaixador em um chip TI <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TPS54560</a> .  A frequ√™ncia do gerador interno para impedir a ocorr√™ncia de batidas ouvidas pelo ouvido √© ajustada para aproximadamente 450 kHz, longe da faixa de frequ√™ncia do conversor LLC.  H√° tamb√©m uma op√ß√£o para fazer o oposto, sincronizar o conversor de redu√ß√£o com o gerador de conversor LLC, mas a pregui√ßa j√° come√ßou a se fazer sentir.  N√≥s n√£o vamos fazer isso. <br><br>  O pr√≥prio conversor TPS54560, apesar de seu tamanho miniatura, possui uma corrente de sa√≠da bastante grande e, √†s vezes, pode parecer que esse √© um tipo de milagre sem precedentes na luta pela efici√™ncia energ√©tica ... Mas n√£o - o chip precisa de um resfriamento realmente bom.  A placa de demonstra√ß√£o baseada no Texas cont√©m dois grandes pol√≠gonos "t√©rmicos" com uma espessura de 2 oz em ambos os lados, e para a transfer√™ncia de calor entre as camadas, seis vias s√£o usadas localizadas diretamente abaixo da parte superior do microcircuito (l√° ele tem um contato com dissipador de calor).  Esse arranjo dificulta um pouco a fabrica√ß√£o de uma placa de circuito impresso em casa, portanto, aparentemente, voc√™ precisar√° solicitar a produ√ß√£o na China.  Eh. <br><br>  Para alimentar o driver e o pr√©-amplificador, usamos uma tens√£o de 12V n√£o estabilizada no segundo enrolamento do conversor LLC.  As correntes consumidas das partes restantes do circuito ser√£o muito pequenas, portanto, para o controlador de cinco volts e a luz de fundo do LCD, como parte da substitui√ß√£o de importa√ß√£o, instalaremos um estabilizador linear KP142EN5A, projetado especificamente para uso na economia nacional, e a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">goivagem LD2985</a> fornecer√° uma linha de 3,3 V para o MCU. <br><br>  O conversor LLC no chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">LCS708HG abaixar√° a</a> tens√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">da</a> rede el√©trica para os 30 e 12 volts necess√°rios. <br><br><img src="https://habrastorage.org/webt/65/l8/ed/65l8edk_ucvq50zsc5hf2jbxxp8.jpeg"><br><br>  Tenho certeza de que muitos leitores n√£o sabem que essa besta √© um conversor de LLC em geral, ent√£o vou me debru√ßar sobre o princ√≠pio de sua opera√ß√£o com um pouco mais de detalhes.  LLC n√£o √© uma abrevia√ß√£o, essas letras significam "indut√¢ncia-indut√¢ncia-capacit√¢ncia" e, em resumo, descrevem o circuito para conectar o enrolamento prim√°rio do transformador.  O fato √© que parte das linhas do campo magn√©tico do enrolamento prim√°rio n√£o "pega" nas curvas do secund√°rio, resultando na forma√ß√£o da chamada indut√¢ncia de espalhamento - uma indut√¢ncia parasit√°ria que n√£o √© capaz de transferir a energia armazenada em si para o circuito secund√°rio.  Nos conversores flyback convencionais, essa energia deve ser dissipada nos supressores ou resistores de amortecedor, para que os transformadores (ou, mais precisamente, as bobinas de enrolamento duplo) sejam geralmente projetados de forma a reduzir a indu√ß√£o de vazamento ao menor valor poss√≠vel.  Mas tudo muda quando voc√™ cria uma LLC. <br><br>  Em um conversor ressonante, a indut√¢ncia de vazamento, juntamente com um capacitor conectado em s√©rie ao enrolamento prim√°rio, forma um circuito oscilat√≥rio que executa duas tarefas importantes.  Em primeiro lugar, fornece comuta√ß√£o dos transistores de alta tens√£o de sa√≠da do conversor a uma voltagem pr√≥xima de zero (o chamado modo de comuta√ß√£o de voltagem zero), o que reduz drasticamente as perdas de comuta√ß√£o.  E segundo, a energia acumulada em uma indut√¢ncia desconectada retorna ao circuito: agora amortecedores n√£o s√£o necess√°rios e tamb√©m n√£o h√° perdas de energia.  O documento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AN-55 das</a> integra√ß√µes de energia detalha como projetar um transformador de forma a aumentar a indut√¢ncia de vazamento (isso √© necess√°rio para criar a caracter√≠stica de controle correta).  Por exemplo, enrolei os enrolamentos prim√°rio e secund√°rio um do outro, em duas se√ß√µes diferentes: <br><br><img src="https://habrastorage.org/webt/7i/iu/z-/7iiuz-igqg1rhgqisg31neowkm8.jpeg"><br><br>  No caso geral, o resultado de tais aprimoramentos de circuitos √© a obten√ß√£o de uma efici√™ncia bastante decente, em particular, o chip LCS708HG instalado sem radiador, com seu tamanho muito pequeno, fornece uma pot√™ncia de sa√≠da na regi√£o de 200W!  Este √© um resultado verdadeiramente not√°vel, mas s√≥ pode ser alcan√ßado trabalhando com precis√£o na frequ√™ncia de resson√¢ncia do circuito de sa√≠da.  E aqui estamos esperando uma emboscada. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O fato √© que a regula√ß√£o da tens√£o de sa√≠da aqui √© realizada alterando a frequ√™ncia, e n√£o o ciclo de trabalho dos pulsos, e essa regula√ß√£o √© limitada por uma faixa de tens√£o muito estreita - aproximadamente ¬± 15%. Al√©m disso, quando a tens√£o de entrada se desvia do nominal, a frequ√™ncia de convers√£o se afasta da resson√¢ncia e a troca de transistores dentro do microcircuito se torna "dif√≠cil", com a perda de ZVS, que √© acompanhada por um aquecimento significativo. De fato, podemos dizer que o conversor na entrada precisa de uma tens√£o j√° estabilizada!</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em produtos fabricados industrialmente, um corretor de pot√™ncia ativo (APFC) √© inclu√≠do na frente da entrada do conversor, que, al√©m da pr√≥pria corre√ß√£o de energia, tamb√©m mant√©m uma tens√£o de sa√≠da de aproximadamente 380-390 volts. No entanto, nosso desenvolvimento ainda √© amador, portanto, podemos fechar nossos olhos com seguran√ßa para uma pequena articula√ß√£o na forma de sensibilidade √† qualidade da energia da rede el√©trica. Os c√°lculos mostram que, considerando as ondula√ß√µes na capacidade do buffer, a faixa de tens√£o de entrada √© de aproximadamente 230 V ¬± 10%; portanto, se os par√¢metros da rede n√£o ultrapassarem o GOST, tudo funcionar√°. Vamos deixar assim por enquanto.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copie o restante do design do circuito do conversor da folha de dados. Talvez apenas um capacitor ressonante precisasse prestar aten√ß√£o - um elemento aparentemente muito simples. E se voc√™ j√° se perguntou como os capacitores de polipropileno e tereftalato de polietileno (poli√©ster) diferem entre si, ent√£o voc√™ saber√° a resposta agora: os primeiros t√™m uma perda tangente de dez vezes menos. √â por isso que uma tentativa de usar um poli√©ster K73-17 mais barato e mais compacto, em vez de um K78-2 de tamanho grande (sim, aqui tamb√©m √© substitui√ß√£o de importa√ß√£o) √© acompanhada por efeitos especiais interessantes: o condensador aquece muito e come√ßa a rachar de forma suspeita.</font></font> Interessante. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A s√©rie de chips HiperLCS requer uma fonte de alimenta√ß√£o separada de 12 volts. </font><font style="vertical-align: inherit;">Para n√£o mexer nas correntes adicionais de enrolamento, retificador e partida, vamos seguir o caminho mais can√¥nico. </font><font style="vertical-align: inherit;">Tomamos a voltagem necess√°ria de um conversor em miniatura separado no chip </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LNK304</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sua principal caracter√≠stica √© o design sem transformador; somente um estrangulamento de centavo feito de f√°brica ser√° necess√°rio a partir de elementos indutivos. </font><font style="vertical-align: inherit;">A corrente m√°xima de sa√≠da n√£o √© muito grande, da ordem de centenas de miliamperes, mas o m√≠nimo de detalhes e a simplicidade do design s√£o cativantes (e o n√∫mero de conversores por dec√≠metro quadrado da superf√≠cie come√ßa a diminuir. Mais conversores para o Deus dos conversores!)</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C√©rebros </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bem, apenas um pouco permaneceu. A esta√ß√£o original possui um LCD, que, para todo o dinheiro pago, mostra algo como uma pot√™ncia de sa√≠da. Vamos fazer uma coisa semelhante: pegue o controlador STM32F030 na configura√ß√£o mais m√≠nima (no pacote TSSOP-20), pendure uma linha ADC para medir a tens√£o de alimenta√ß√£o do est√°gio de sa√≠da do gerador de RF e outra linha para medir a corrente. Para n√£o romper o circuito "terra", colocaremos o sensor de corrente resistiva no fio positivo e, para a convers√£o de n√≠veis, usaremos o chip </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">INA138</font></a><font style="vertical-align: inherit;"> especialmente projetado para esses casos</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que, no seu melhor, foi desenvolvido pela Burr-Brown. Para exibir as informa√ß√µes, usamos uma tela OLED de texto 16x2 fabricada pela WinStar. Bem, isso √© tudo. Bem, uma perna do processador foi deixada ociosa. Bem, deixe o LED piscar. N√£o pergunte o porqu√™.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O firmware do controlador √© gravado no idioma "C" usando o STM32CubeMX e a vers√£o gratuita do IAR Embedded Workbench. O c√≥digo do programa √© muito trivial. O ciclo principal para interromper o timer do sistema uma vez a cada 300 milissegundos l√™ dados de dois canais ADC, multiplica-os e os exibe na forma de d√≠gitos de energia. Abaixo desse mesmo poder, √© visualizada uma faixa desenhada por fontes personalizadas. Quando a ponta √© desligada, o manipulador de interrup√ß√£o da sa√≠da do detector de carga para o temporizador principal do gerador de RF. No caso de congelamento ou falha do MCU, foram adicionados manipuladores de erro de hardware e watchdogs; O CSS tamb√©m est√° envolvido na tecnologia do firmware (Clock Security System), que permite, em caso de amortecimento das oscila√ß√µes do cristal de quartzo principal, mudar para o gerador RC interno e reiniciar o microcontrolador. A quantidade total de firmware √© 10 KB.O c√≥digo fonte do firmware, juntamente com todos os outros arquivos de projeto, publiquei em</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , os mais curiosos podem se familiarizar (mas n√£o espere nada muito interessante por l√°).</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Construtivo </font></font></h4><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O dispositivo cont√©m v√°rios produtos de bobinagem personalizados</font></font></b> <div class="spoiler_text"><ul><li>                  1686    50.   ¬´ ¬ª     :  , ,          .     0,6,   ‚Äì 15  ,  214   ; </li><li>       5    0,6.   10      10; </li><li>       -  EFD25   N87   Epcos.    ,            (  0,2).   (33 )    (26 )        100/46  175/46  (   ‚Äì   ,  ‚Äì     American Wire Gauge).  , 12-  ‚Äî     . </li></ul></div></div><br>  Todos os dados calculados de todos os elementos do conversor LLC, incluindo a indut√¢ncia dos enrolamentos do transformador, s√£o fornecidos no arquivo de design anexado ao projeto, que pode ser aberto usando o aplicativo PIXls Designer.  Al√©m disso, adicionei ao projeto toda a documenta√ß√£o usada para o desenvolvimento de componentes eletr√¥nicos usados ‚Äã‚Äãno desenvolvimento, enviei modelos LTspice de algumas partes do circuito e, √© claro, as fotos, agora sem elas. <br><br>  O resultado do desenvolvimento acima foi o seguinte diagrama de circuito el√©trico: <br><br> <a href=""><img src="https://habrastorage.org/webt/6a/bn/p0/6abnp0p3g-16iu0umf5eq4eo3zq.png"></a> <br><br>  O circuito e o layout da placa de circuito impresso s√£o desenhados no pacote DipTrace; para enviar para a f√°brica, os desenhos da placa de circuito foram convertidos para o formato Gerber.  A placa √© conectada exatamente ao tamanho da caixa usada. Para proteger delicados circuitos de baixa corrente, uma camada √© completamente fornecida sob o solo.  Essa fia√ß√£o simplifica bastante a fabrica√ß√£o da placa de circuito em casa, j√° que n√£o h√° necessidade de alinhamento preciso das m√°scaras fotogr√°ficas aqui: quase todo o verso da placa de circuito pode ser preenchido com um pol√≠gono s√≥lido e depois chanfrado com uma broca grossa nas aberturas dos terminais que n√£o exigem conex√£o ao terra. <br><br><img src="https://habrastorage.org/webt/py/hr/jg/pyhrjgytrdz7antf8jetd_xzu-4.jpeg"><br><br><img src="https://habrastorage.org/webt/rv/-a/nv/rv-anvkpggckyvycywv2kgr8bja.jpeg"><br><br>  O gerador HF do design decentemente assobia no ar, os elementos de pot√™ncia s√£o muito quentes, portanto a escolha do material da caixa √© evidente: √© claro que ser√° de alum√≠nio.  Selecionamos no cat√°logo Gainta um alojamento pronto para uso G0476 com tamanho aproximadamente adequado.  Cortaremos a janela da tela OLED no gabinete com um dremel, o gabinete ser√° conectado diretamente ao fio "terra" do cabo de alimenta√ß√£o juntamente com a blindagem do fio de ferro de solda e √† "massa" da placa de circuito impresso. <br><br>  Infelizmente, a id√©ia de conectar um OLED mais contrastante em vez de um LCD veio √† minha mente depois que o pedido das placas foi enviado √† f√°brica.  Os n√≠veis de CMOS de entrada da tela OLED <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WEH001602AGPP5N00001,</a> feitos pelo WinStar, diferem dos n√≠veis TTL padr√£o do LCD, de modo que finjam com os ouvidos quando + 5V √© fornecido ao controlador do monitor e sua luz de fundo, e os sinais l√≥gicos s√£o obtidos do microprocessador alimentado por + 3,3V, aqui n√£o rola.  Portanto, a energia da tela teve que ser conectada a partir de uma linha de 3,3 V. <br><br>  Para reduzir o n√≠vel de interfer√™ncia, um loop de ru√≠do com um valor nominal de 390 Ohms foi adicionado ao "cabo" que conecta a placa e a tela, e o microcontrolador √© coberto com uma tela de folha de cobre.  Durante a opera√ß√£o normal, uma parte correspondente √© colocada no conector de programa√ß√£o, que puxa os cabos de depura√ß√£o diretamente para o terra e o NRST - atrav√©s do capacitor. <br><br>  No final, o dispositivo desenvolvido assumiu uma apar√™ncia completa: <br><br><img src="https://habrastorage.org/webt/dp/pj/ay/dppjaykwjjd0xym_k3nxxe5n4g4.jpeg"><br><br>  Agora o aquecimento do ferro de soldar √© o seguinte: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/odTL6zllHzc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Banquete </h4><br>  Agora, vamos estimar aproximadamente o quanto esse entretenimento nos custa: <br><br>  Componentes de r√°dio - cerca de 3000 rublos (os elementos mais caros aqui s√£o o chip HiperLCS por 1000 rublos e a tela OLED - outros 600 rublos); <br>  Produ√ß√£o de placas de circuito impresso, custo para 10 pe√ßas - 2700 rublos; <br>  Caso - 500 rublos. <br><br>  <b>O</b> custo <b>total</b> da fonte de alimenta√ß√£o de alta frequ√™ncia foi de aproximadamente 6.200 rublos.  Eles tamb√©m pagaram dinheiro extra por um ferro de solda com um suporte (11.000 rublos) e por dois cartuchos (6.000 rublos). <br><br>  Obviamente, esses valores podem ser otimizados um pouco, por exemplo, no eBay, √© apresentada uma grande variedade de componentes Metcal usados. Nesse caso, podemos falar de algumas dezenas de d√≥lares, mas isso provavelmente √© uma quest√£o de prefer√™ncia pessoal. <br><br><h4>  Errata </h4><br><ol><li>  O circuito dos capacitores de carga do ressonador de quartzo est√° conectado incorretamente e coleta toda a interfer√™ncia.  √â certo fazer assim.  Agradecimentos a Alexander Chulkin pelo esclarecimento valioso; <br></li><li>  A desconex√£o do fio de ferro de solda em uma esta√ß√£o de trabalho n√£o √© suportada; algumas vezes, isso leva ao rein√≠cio do microcontrolador.  Precisamos pensar em blindagem adicional da parte de RF (mas isso n√£o √© preciso). <br></li></ol><br><h4>  Conclus√µes </h4><br>  Bem, agora a coisa mais importante era a emo√ß√£o de trabalhar com o dispositivo.  √â como trabalhar com um ferro de soldar muito poderoso e muito quente, enquanto segura uma ferramenta pequena e leve.  Vale a pena o dinheiro e o esfor√ßo?  Dif√≠cil dizer.  Vou deixar essa pergunta em aberto. <br><br><img src="https://habrastorage.org/webt/gy/uj/vn/gyujvninztoywjpa9ruzoae0dts.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt412607/">https://habr.com/ru/post/pt412607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt412593/index.html">Novos produtos, plataformas e tudo como servi√ßo: semin√°rios on-line da HPE</a></li>
<li><a href="../pt412595/index.html">Relat√≥rio do Clube de Roma de 2018, cap√≠tulo 1.1.2: ‚ÄúFinanciamento‚Äù</a></li>
<li><a href="../pt412597/index.html">Jeff Bezos vai construir uma col√¥nia na superf√≠cie da lua</a></li>
<li><a href="../pt412603/index.html">Instru√ß√µes php estranhas</a></li>
<li><a href="../pt412605/index.html">Batalha de MERGE. Cr√¥nica com conclus√µes e moralidade</a></li>
<li><a href="../pt412609/index.html">10 dicas para produtividade no CLion, um IDE C / C ++ multiplataforma</a></li>
<li><a href="../pt412611/index.html">O que a minera√ß√£o eficaz e a teoria dos jogos t√™m em comum</a></li>
<li><a href="../pt412613/index.html">Aritm√©tico inteiro. Divida arredondando o resultado. Parte 1</a></li>
<li><a href="../pt412615/index.html">Presen√ßa do alvo da rota nos an√∫ncios BGP entre PE e CE</a></li>
<li><a href="../pt412619/index.html">Meetup myDribbble 2017 em Moscou</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>