<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï§ üë©üèæ‚Äçüåæ üçí Microphones, captures d'√©cran et vid√©o locale: comment le Voximplant Web SDK contr√¥le les m√©dias dans un navigateur üë®üèæ‚Äçüé§ üë¶üèø üö†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, je vais parler du module Mat√©riel du Voximplant Web SDK. Ce module a remplac√© l'ancien syst√®me de gestion des p√©riph√©riques audio et vid√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microphones, captures d'√©cran et vid√©o locale: comment le Voximplant Web SDK contr√¥le les m√©dias dans un navigateur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/421481/"><br>  Aujourd'hui, je vais parler du module <b>Mat√©riel</b> du Voximplant Web SDK.  Ce module a remplac√© l'ancien syst√®me de gestion des p√©riph√©riques audio et vid√©o.  Mais d'abord, un peu sur la gestion des appareils dans la pile WebRTC et pourquoi tout cela est n√©cessaire. <br><br>  Les utilisateurs finaux ont rarement plusieurs microphones.  Ou il y a plusieurs haut-parleurs: par exemple, des haut-parleurs ordinaires et des √©couteurs Bluetooth;  ou haut-parleur de t√©l√©phone et haut-parleur pour smartphone. <br><br>  Mais deux cam√©ras dans le monde moderne sont tr√®s courantes.  Sur tablettes et t√©l√©phones: r√©gulier et frontal.  Sur les ordinateurs portables: int√©gr√© et mieux externe.  Et ainsi de suite et ainsi de suite.  L'utilisateur peut √™tre tr√®s contrari√© si, par d√©faut, le mauvais ensemble d'appareils est s√©lectionn√© et qu'il ne peut en aucun cas les modifier.  Il s'agit de la premi√®re application de gestion des m√©dias dans WebRTC. <br><br>  La deuxi√®me application est le r√©glage fin de l'audio et de la vid√©o.  Toutes sortes d'annulation d'√©cho, de r√©duction du bruit, de d√©finition de la r√©solution vid√©o, de la fr√©quence d'images, de la balance des blancs et d'autres √©l√©ments pris en charge sp√©cifiquement par votre navigateur. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_pf1VzvPABM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br>  Auparavant, pour la gestion des appareils, nous fournissions l'interface des <b>contraintes</b> , et le d√©veloppeur devait d√©finir toutes les restrictions et les param√®tres de la demande de m√©dia de mani√®re ind√©pendante.  Voici un petit exemple d'une demande audio et vid√©o enti√®rement personnalis√©e: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myConstraints = { <span class="hljs-attr"><span class="hljs-attr">audio</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">sampleSize</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-attr"><span class="hljs-attr">channelCount</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">noiseSuppression</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">echoCancellation</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">video</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">width</span></span>: { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-attr"><span class="hljs-attr">ideal</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span> }, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-attr"><span class="hljs-attr">ideal</span></span>: <span class="hljs-number"><span class="hljs-number">1080</span></span> }, <span class="hljs-attr"><span class="hljs-attr">aspectRatio</span></span>: <span class="hljs-number"><span class="hljs-number">1.777777778</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>: { <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> }, <span class="hljs-attr"><span class="hljs-attr">facingMode</span></span>: { <span class="hljs-attr"><span class="hljs-attr">exact</span></span>: <span class="hljs-string"><span class="hljs-string">"user"</span></span> } } };</code> </pre> <br>  Cela donne une flexibilit√© incroyable lors de la configuration audio et vid√©o, mais il y a toujours un ¬´MAIS¬ª.  Comme l'ont montr√© les statistiques de l'enqu√™te d'assistance, les clients n'ont pratiquement pas utilis√© cette option, car nous sommes une plateforme conviviale et nous habituons les utilisateurs √† la simplicit√©.  Ceux qui ont os√© l'utiliser, se sont souvent tir√© dessus juste au-dessus du genou, car les navigateurs ont une l√©g√®re incompatibilit√© √† ce stade de l'espace. <br><br>  Maintenant, il est clair comment nous sommes arriv√©s √† une telle vie.  Il est temps de passer aux choses s√©rieuses: un bref aper√ßu du module;  pour une lecture d√©taill√©e, je vais laisser un lien vers la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation sur notre site</a> . <br><br>  Le point d'entr√©e de ce module est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">StreamManager</a> .  Historiquement, [l'image avec elephant.jpg], de nombreuses parties de notre SDK Web sont singleton, et cette classe ne fait pas exception: vous pouvez obtenir une instance en utilisant la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get ()</a> .  Il y a une multitude de raisons √† cela, mais plus √† ce sujet une autre fois, peut-√™tre. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> streamManager = VoxImplant.Hardware.StreamManager.get();</code> </pre><br>  √Ä l'aide de StreamManager, vous pouvez activer ou d√©sactiver la vid√©o locale et <br>  pour obtenir des flux multim√©dias pour lui - en fait, c'est tout.  Le point d'entr√©e n'est pas tr√®s grand lorsque l'on regarde des interfaces externes. <br><br><pre> <code class="javascript hljs">(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]   '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.showLocalVideo(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]   '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.hideLocalVideo(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      !'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e){ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK] -   . ,    ?!'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(e); } })();</code> </pre><br>  Un fait int√©ressant sur la vid√©o locale: la vid√©o locale n'est en aucun cas transmise √† l'interlocuteur.  Par exemple, l'utilisateur peut voir une image en HD et transmettre 320 * 240, ou vice versa, si une vid√©o locale est cach√©e dans un coin.  Vous trouverez ci-dessous comment monter un tel tour. <br><br>  Il y a 3 √©v√©nements dans StreamManager: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DevicesUpdated</a> - appel√© lorsque l'utilisateur a connect√© / d√©connect√© le microphone ou la cam√©ra; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MediaRendererAdded</a> - a ajout√© une nouvelle vid√©o locale ou capture d'√©cran avec des aper√ßus; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MediaRendererRemoved</a> - vid√©o locale ou captures d'√©cran supprim√©es avec des aper√ßus. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√Ä l'aide de la fonction getLocalMediaRenderers ()</a> , il est utile d'obtenir des liens vers des √©l√©ments DOM avec une vid√©o locale si vous n'avez pas enregistr√© l'objet pour vous. <br><br><pre> <code class="javascript hljs">streamManager.getLocalMediaRenderers().forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">renderer</span></span></span><span class="hljs-function"> =&gt;</span></span> { cont elementOfDOM = renderer.element; elementOfDOM.addEventListener(<span class="hljs-string"><span class="hljs-string">'on42'</span></span>,doSomething,<span class="hljs-literal"><span class="hljs-literal">true</span></span>); });</code> </pre><br>  Passons aux param√®tres vid√©o (les plus d√©licieux, surveillez vos mains).  Soudainement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CameraManager</a> .  Encore une fois, un singleton avec la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get ()</a> ennuyeuse: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cameraManager= VoxImplant.Hardware.CameraManager.get();</code> </pre><br>  Quels param√®tres pouvons-nous d√©finir?  Regardons l'interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CameraParams</a> : <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">strict</a> - <b>true</b> dira litt√©ralement au navigateur: "Je sais ce que je fais, n'essayez pas de r√©parer quelque chose si tout va mal!"  S'il est <b>faux</b> , le navigateur corrigera humblement les courbes de param√®tres; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cameraId</a> - s√©lection du p√©riph√©rique de la cam√©ra.  Vous pouvez choisir dans la liste qui renvoie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getInputDevices ()</a> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> allMyDevices = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.CameraManager.getInputDevices();</code> </pre> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">frameRate</a> - directement responsable de la fr√©quence d'images.  Cette option permet soit d'√©conomiser du trafic, soit d'am√©liorer la qualit√©.  Je ne recommanderais pas de d√©finir cette valeur au-dessus de 30 et en dessous de 10 sans un test pr√©liminaire pour chaque utilisateur et un repli.  En dehors de cette plage, toutes les cam√©ras ne fonctionnent pas. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">faceMode</a> - <b>true</b> retourne l'image horizontalement.  L'option est assez niche, car  Pour afficher une vid√©o locale, nous faisons d√©j√† des images invers√©es. </li></ul><br>  Trois autres options sont responsables de la taille de la vid√©o: <br><br><ul><li>  vous pouvez utiliser soit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">videoQuality</a> (nous avons √©galement pr√©par√© une √©num√©ration <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VideoQuality</a> avec un ensemble d'autorisations √† la mode) </li><li>  ou vous pouvez dimensionner manuellement en pixels via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">frameHeight</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">frameWidth</a> </li></ul><br>  Revenons √† CameraManager et appliquons les param√®tres!  √Ä l'int√©rieur, il y a 2 getters et 2 setters de param√®tres: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getDefaultVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getCallVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">setDefaultVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">setCallVideoSettings</a> . </li></ul><br>  Tout ce qui avec "Default" est les param√®tres "par d√©faut", comme vous pouvez le deviner.  Ils seront utilis√©s pour recevoir des vid√©os locales, pour les nouveaux appels entrants et sortants. <br>  Et maintenant l'objectif promis: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]         .'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.setDefaultVideoSettings({ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">320</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.showLocalVideo(); cameraManager.setDefaultVideoSettings({ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">480</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newCall = client.call(<span class="hljs-string"><span class="hljs-string">'mySchoolFriendBoris'</span></span>);</code> </pre><br>  Le couplage avec <b>Call</b> dans le nom est un peu plus compliqu√©.  Ces fonctions sont con√ßues pour recevoir et d√©finir des pr√©f√©rences lors d'un appel d√©j√† en cours.  Lors de la modification des param√®tres, l'√©v√©nement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CallEvents.Updated</a> se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">produit</a> . <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      .'</span></span>); cameraManager.setCallVideoSettings(newCall,{ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">320</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> }); newCall.on(VoxImplant.CallEvents.Updated,e =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]    .'</span></span>); });</code> </pre><br>  Il reste deux fonctions de CameraManager.  Tr√®s puissant mais sophistiqu√©.  L' <b>√©num VideoQuality</b> a trois significations int√©ressantes: <br><br><ul><li>  VIDEO_QUALITY_HIGH; </li><li>  VIDEO_QUALITY_MEDIUM; </li><li>  VIDEO_QUALITY_LOW. </li></ul><br>  Une question logique: ¬´Igor!  Si le SDK Web conna√Æt la meilleure, la pire et la qualit√© moyenne, alors pourquoi n'y a-t-il pas de m√©thode pour r√©pertorier les r√©solutions prises en charge par la webcam?! ‚Äù  Tsimes ne sait pas. <br><br>  Et pour le savoir, vous devez litt√©ralement trier toutes les autorisations possibles.  Ce que j'ai r√©ussi √† obtenir est pris en charge.  Cela semble assez simple, mais en fait cela peut prendre plusieurs minutes.  Par cons√©quent, nous ne pouvons pas le faire dans l'initialisation de WebSDK, par exemple.  Pour que vous puissiez le faire au moment le plus confortable pour l'utilisateur - si vous voulez le faire - et il y a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">testResolutions</a> .  Il serait int√©ressant d'enregistrer le r√©sultat du travail de la fonction dans localStorage et de le charger ult√©rieurement via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">loadResolutionTestResult</a> lors du rechargement de la page: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      ,  WebSDK   .'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> testResults = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.testResolutions(); localStorage.setItem(<span class="hljs-string"><span class="hljs-string">'defaultCameraResolutionTestResults'</span></span>,<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(testResolutions));</code> </pre><br>  Enfin et surtout, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AudioDeviceManager</a> .  La classe est tr√®s similaire √† <b>CameraManager</b> .  Pour le son uniquement, vos param√®tres sont refl√©t√©s dans l'interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AudioParams</a> : <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">strict</a> - <b>true</b> est responsable de suivre strictement votre volont√©; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">inputId</a> - s√©lection du microphone.  Une liste de tous les microphones peut √™tre obtenue via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AudioDeviceManager.getInputDevices</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">outputId</a> - choix des enceintes.  Cette option ne fonctionne que dans Chrome, les autres navigateurs l'ignoreront.  Vous pouvez obtenir une liste de p√©riph√©riques via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getOutputDevices</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">noiseSuppression</a> - r√©duction du bruit.  Par d√©faut, la r√©duction du bruit est activ√©e et fonctionne tr√®s bien.  Mais une perte de voix partielle peut se produire si l'utilisateur travaille dans une pi√®ce o√π il parle beaucoup, par exemple dans un centre d'appels.  Le filtre peut simplement faire une petite erreur et couper l'exc√©dent.  Si vous rencontrez des probl√®mes de cette nature, il vaut la peine de d√©finir cette option sur <b>false</b> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">echoCancellation</a> - supprime l'√©cho du microphone.  Il doit √™tre d√©sactiv√© avec l'option pr√©c√©dente; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">autoGainControl</a> - comprend un m√©canisme pour ajuster automatiquement le gain du microphone int√©gr√© au syst√®me d'exploitation.  L'option n'a aucun effet secondaire, mais son fonctionnement d√©pend fortement du syst√®me d'exploitation et du mat√©riel.  Parfois, cela peut tout simplement ne pas fonctionner et le gain sera constant, ce qui est √©galement bon. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr421481/">https://habr.com/ru/post/fr421481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr421469/index.html">Telegram a accept√© de transf√©rer vers les services sp√©ciaux [mais pas le russe] les adresses IP et les num√©ros de certains utilisateurs</a></li>
<li><a href="../fr421471/index.html">Ad Exchange Server - contrairement √† d'autres</a></li>
<li><a href="../fr421473/index.html">Que sont les Coroutines √† Kotlin?</a></li>
<li><a href="../fr421475/index.html">OutOfLine - mod√®le en m√©moire pour les applications C ++ hautes performances</a></li>
<li><a href="../fr421477/index.html">Ce qui est √©crit dans le fichier .ssh / known_hosts</a></li>
<li><a href="../fr421485/index.html">Avis important pour les utilisateurs de Gitlab Pages</a></li>
<li><a href="../fr421487/index.html">Comment renforcer le support technique - 6 fa√ßons secr√®tes</a></li>
<li><a href="../fr421489/index.html">Grogner mais donner</a></li>
<li><a href="../fr421491/index.html">Comment √©crire un jeu pour un ordinateur dans lequel il n'y a pas de p√©riph√©riques d'entr√©e et de sortie</a></li>
<li><a href="../fr421493/index.html">Analyse du trafic r√©seau d'une application mobile sur iOS. Partie 1 - Procurations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>