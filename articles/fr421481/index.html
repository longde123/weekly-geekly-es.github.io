<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕤 👩🏾‍🌾 🍒 Microphones, captures d'écran et vidéo locale: comment le Voximplant Web SDK contrôle les médias dans un navigateur 👨🏾‍🎤 👦🏿 🚠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, je vais parler du module Matériel du Voximplant Web SDK. Ce module a remplacé l'ancien système de gestion des périphériques audio et vidé...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Microphones, captures d'écran et vidéo locale: comment le Voximplant Web SDK contrôle les médias dans un navigateur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/421481/"><br>  Aujourd'hui, je vais parler du module <b>Matériel</b> du Voximplant Web SDK.  Ce module a remplacé l'ancien système de gestion des périphériques audio et vidéo.  Mais d'abord, un peu sur la gestion des appareils dans la pile WebRTC et pourquoi tout cela est nécessaire. <br><br>  Les utilisateurs finaux ont rarement plusieurs microphones.  Ou il y a plusieurs haut-parleurs: par exemple, des haut-parleurs ordinaires et des écouteurs Bluetooth;  ou haut-parleur de téléphone et haut-parleur pour smartphone. <br><br>  Mais deux caméras dans le monde moderne sont très courantes.  Sur tablettes et téléphones: régulier et frontal.  Sur les ordinateurs portables: intégré et mieux externe.  Et ainsi de suite et ainsi de suite.  L'utilisateur peut être très contrarié si, par défaut, le mauvais ensemble d'appareils est sélectionné et qu'il ne peut en aucun cas les modifier.  Il s'agit de la première application de gestion des médias dans WebRTC. <br><br>  La deuxième application est le réglage fin de l'audio et de la vidéo.  Toutes sortes d'annulation d'écho, de réduction du bruit, de définition de la résolution vidéo, de la fréquence d'images, de la balance des blancs et d'autres éléments pris en charge spécifiquement par votre navigateur. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_pf1VzvPABM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="habracut"></a><br>  Auparavant, pour la gestion des appareils, nous fournissions l'interface des <b>contraintes</b> , et le développeur devait définir toutes les restrictions et les paramètres de la demande de média de manière indépendante.  Voici un petit exemple d'une demande audio et vidéo entièrement personnalisée: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myConstraints = { <span class="hljs-attr"><span class="hljs-attr">audio</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">sampleSize</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-attr"><span class="hljs-attr">channelCount</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">noiseSuppression</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">echoCancellation</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">video</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">width</span></span>: { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-attr"><span class="hljs-attr">ideal</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span>, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span> }, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: { <span class="hljs-attr"><span class="hljs-attr">min</span></span>: <span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-attr"><span class="hljs-attr">ideal</span></span>: <span class="hljs-number"><span class="hljs-number">1080</span></span> }, <span class="hljs-attr"><span class="hljs-attr">aspectRatio</span></span>: <span class="hljs-number"><span class="hljs-number">1.777777778</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>: { <span class="hljs-attr"><span class="hljs-attr">max</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span> }, <span class="hljs-attr"><span class="hljs-attr">facingMode</span></span>: { <span class="hljs-attr"><span class="hljs-attr">exact</span></span>: <span class="hljs-string"><span class="hljs-string">"user"</span></span> } } };</code> </pre> <br>  Cela donne une flexibilité incroyable lors de la configuration audio et vidéo, mais il y a toujours un «MAIS».  Comme l'ont montré les statistiques de l'enquête d'assistance, les clients n'ont pratiquement pas utilisé cette option, car nous sommes une plateforme conviviale et nous habituons les utilisateurs à la simplicité.  Ceux qui ont osé l'utiliser, se sont souvent tiré dessus juste au-dessus du genou, car les navigateurs ont une légère incompatibilité à ce stade de l'espace. <br><br>  Maintenant, il est clair comment nous sommes arrivés à une telle vie.  Il est temps de passer aux choses sérieuses: un bref aperçu du module;  pour une lecture détaillée, je vais laisser un lien vers la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation sur notre site</a> . <br><br>  Le point d'entrée de ce module est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">StreamManager</a> .  Historiquement, [l'image avec elephant.jpg], de nombreuses parties de notre SDK Web sont singleton, et cette classe ne fait pas exception: vous pouvez obtenir une instance en utilisant la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get ()</a> .  Il y a une multitude de raisons à cela, mais plus à ce sujet une autre fois, peut-être. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> streamManager = VoxImplant.Hardware.StreamManager.get();</code> </pre><br>  À l'aide de StreamManager, vous pouvez activer ou désactiver la vidéo locale et <br>  pour obtenir des flux multimédias pour lui - en fait, c'est tout.  Le point d'entrée n'est pas très grand lorsque l'on regarde des interfaces externes. <br><br><pre> <code class="javascript hljs">(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]   '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.showLocalVideo(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]   '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.hideLocalVideo(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      !'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e){ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK] -   . ,    ?!'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(e); } })();</code> </pre><br>  Un fait intéressant sur la vidéo locale: la vidéo locale n'est en aucun cas transmise à l'interlocuteur.  Par exemple, l'utilisateur peut voir une image en HD et transmettre 320 * 240, ou vice versa, si une vidéo locale est cachée dans un coin.  Vous trouverez ci-dessous comment monter un tel tour. <br><br>  Il y a 3 événements dans StreamManager: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DevicesUpdated</a> - appelé lorsque l'utilisateur a connecté / déconnecté le microphone ou la caméra; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MediaRendererAdded</a> - a ajouté une nouvelle vidéo locale ou capture d'écran avec des aperçus; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MediaRendererRemoved</a> - vidéo locale ou captures d'écran supprimées avec des aperçus. </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">À l'aide de la fonction getLocalMediaRenderers ()</a> , il est utile d'obtenir des liens vers des éléments DOM avec une vidéo locale si vous n'avez pas enregistré l'objet pour vous. <br><br><pre> <code class="javascript hljs">streamManager.getLocalMediaRenderers().forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">renderer</span></span></span><span class="hljs-function"> =&gt;</span></span> { cont elementOfDOM = renderer.element; elementOfDOM.addEventListener(<span class="hljs-string"><span class="hljs-string">'on42'</span></span>,doSomething,<span class="hljs-literal"><span class="hljs-literal">true</span></span>); });</code> </pre><br>  Passons aux paramètres vidéo (les plus délicieux, surveillez vos mains).  Soudainement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CameraManager</a> .  Encore une fois, un singleton avec la fonction <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">get ()</a> ennuyeuse: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> cameraManager= VoxImplant.Hardware.CameraManager.get();</code> </pre><br>  Quels paramètres pouvons-nous définir?  Regardons l'interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CameraParams</a> : <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">strict</a> - <b>true</b> dira littéralement au navigateur: "Je sais ce que je fais, n'essayez pas de réparer quelque chose si tout va mal!"  S'il est <b>faux</b> , le navigateur corrigera humblement les courbes de paramètres; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cameraId</a> - sélection du périphérique de la caméra.  Vous pouvez choisir dans la liste qui renvoie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getInputDevices ()</a> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> allMyDevices = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.CameraManager.getInputDevices();</code> </pre> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">frameRate</a> - directement responsable de la fréquence d'images.  Cette option permet soit d'économiser du trafic, soit d'améliorer la qualité.  Je ne recommanderais pas de définir cette valeur au-dessus de 30 et en dessous de 10 sans un test préliminaire pour chaque utilisateur et un repli.  En dehors de cette plage, toutes les caméras ne fonctionnent pas. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">faceMode</a> - <b>true</b> retourne l'image horizontalement.  L'option est assez niche, car  Pour afficher une vidéo locale, nous faisons déjà des images inversées. </li></ul><br>  Trois autres options sont responsables de la taille de la vidéo: <br><br><ul><li>  vous pouvez utiliser soit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">videoQuality</a> (nous avons également préparé une énumération <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VideoQuality</a> avec un ensemble d'autorisations à la mode) </li><li>  ou vous pouvez dimensionner manuellement en pixels via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">frameHeight</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">frameWidth</a> </li></ul><br>  Revenons à CameraManager et appliquons les paramètres!  À l'intérieur, il y a 2 getters et 2 setters de paramètres: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getDefaultVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getCallVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">setDefaultVideoSettings</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">setCallVideoSettings</a> . </li></ul><br>  Tout ce qui avec "Default" est les paramètres "par défaut", comme vous pouvez le deviner.  Ils seront utilisés pour recevoir des vidéos locales, pour les nouveaux appels entrants et sortants. <br>  Et maintenant l'objectif promis: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]         .'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.setDefaultVideoSettings({ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">320</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> streamManager.showLocalVideo(); cameraManager.setDefaultVideoSettings({ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">480</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newCall = client.call(<span class="hljs-string"><span class="hljs-string">'mySchoolFriendBoris'</span></span>);</code> </pre><br>  Le couplage avec <b>Call</b> dans le nom est un peu plus compliqué.  Ces fonctions sont conçues pour recevoir et définir des préférences lors d'un appel déjà en cours.  Lors de la modification des paramètres, l'événement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CallEvents.Updated</a> se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">produit</a> . <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      .'</span></span>); cameraManager.setCallVideoSettings(newCall,{ <span class="hljs-attr"><span class="hljs-attr">frameWidth</span></span>:<span class="hljs-number"><span class="hljs-number">320</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameHeight</span></span>:<span class="hljs-number"><span class="hljs-number">240</span></span>, <span class="hljs-attr"><span class="hljs-attr">frameRate</span></span>:<span class="hljs-number"><span class="hljs-number">12</span></span> }); newCall.on(VoxImplant.CallEvents.Updated,e =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]    .'</span></span>); });</code> </pre><br>  Il reste deux fonctions de CameraManager.  Très puissant mais sophistiqué.  L' <b>énum VideoQuality</b> a trois significations intéressantes: <br><br><ul><li>  VIDEO_QUALITY_HIGH; </li><li>  VIDEO_QUALITY_MEDIUM; </li><li>  VIDEO_QUALITY_LOW. </li></ul><br>  Une question logique: «Igor!  Si le SDK Web connaît la meilleure, la pire et la qualité moyenne, alors pourquoi n'y a-t-il pas de méthode pour répertorier les résolutions prises en charge par la webcam?! ”  Tsimes ne sait pas. <br><br>  Et pour le savoir, vous devez littéralement trier toutes les autorisations possibles.  Ce que j'ai réussi à obtenir est pris en charge.  Cela semble assez simple, mais en fait cela peut prendre plusieurs minutes.  Par conséquent, nous ne pouvons pas le faire dans l'initialisation de WebSDK, par exemple.  Pour que vous puissiez le faire au moment le plus confortable pour l'utilisateur - si vous voulez le faire - et il y a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">testResolutions</a> .  Il serait intéressant d'enregistrer le résultat du travail de la fonction dans localStorage et de le charger ultérieurement via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">loadResolutionTestResult</a> lors du rechargement de la page: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'[WebSDK]      ,  WebSDK   .'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> testResults = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> cameraManager.testResolutions(); localStorage.setItem(<span class="hljs-string"><span class="hljs-string">'defaultCameraResolutionTestResults'</span></span>,<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(testResolutions));</code> </pre><br>  Enfin et surtout, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AudioDeviceManager</a> .  La classe est très similaire à <b>CameraManager</b> .  Pour le son uniquement, vos paramètres sont reflétés dans l'interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AudioParams</a> : <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">strict</a> - <b>true</b> est responsable de suivre strictement votre volonté; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">inputId</a> - sélection du microphone.  Une liste de tous les microphones peut être obtenue via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AudioDeviceManager.getInputDevices</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">outputId</a> - choix des enceintes.  Cette option ne fonctionne que dans Chrome, les autres navigateurs l'ignoreront.  Vous pouvez obtenir une liste de périphériques via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getOutputDevices</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">noiseSuppression</a> - réduction du bruit.  Par défaut, la réduction du bruit est activée et fonctionne très bien.  Mais une perte de voix partielle peut se produire si l'utilisateur travaille dans une pièce où il parle beaucoup, par exemple dans un centre d'appels.  Le filtre peut simplement faire une petite erreur et couper l'excédent.  Si vous rencontrez des problèmes de cette nature, il vaut la peine de définir cette option sur <b>false</b> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">echoCancellation</a> - supprime l'écho du microphone.  Il doit être désactivé avec l'option précédente; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">autoGainControl</a> - comprend un mécanisme pour ajuster automatiquement le gain du microphone intégré au système d'exploitation.  L'option n'a aucun effet secondaire, mais son fonctionnement dépend fortement du système d'exploitation et du matériel.  Parfois, cela peut tout simplement ne pas fonctionner et le gain sera constant, ce qui est également bon. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr421481/">https://habr.com/ru/post/fr421481/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr421469/index.html">Telegram a accepté de transférer vers les services spéciaux [mais pas le russe] les adresses IP et les numéros de certains utilisateurs</a></li>
<li><a href="../fr421471/index.html">Ad Exchange Server - contrairement à d'autres</a></li>
<li><a href="../fr421473/index.html">Que sont les Coroutines à Kotlin?</a></li>
<li><a href="../fr421475/index.html">OutOfLine - modèle en mémoire pour les applications C ++ hautes performances</a></li>
<li><a href="../fr421477/index.html">Ce qui est écrit dans le fichier .ssh / known_hosts</a></li>
<li><a href="../fr421485/index.html">Avis important pour les utilisateurs de Gitlab Pages</a></li>
<li><a href="../fr421487/index.html">Comment renforcer le support technique - 6 façons secrètes</a></li>
<li><a href="../fr421489/index.html">Grogner mais donner</a></li>
<li><a href="../fr421491/index.html">Comment écrire un jeu pour un ordinateur dans lequel il n'y a pas de périphériques d'entrée et de sortie</a></li>
<li><a href="../fr421493/index.html">Analyse du trafic réseau d'une application mobile sur iOS. Partie 1 - Procurations</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>