<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🍳 🎱 👩🏾‍🤝‍👨🏽 Como publicar o utilitário do console no PyPI em 1 minuto 👩🏽‍🤝‍👩🏻 👨🏾‍🍳 ✋🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tendo desenvolvido um utilitário de console, você decide publicá-lo no PyPI. Bem, realmente, o que poderia ser melhor do que disponibilizá-lo através ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como publicar o utilitário do console no PyPI em 1 minuto</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456304/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb5/b6d/1ea/fb5b6d1ea304ce38d776e35db4804a8d.png"></div><br><p>  Tendo desenvolvido um utilitário de console, você decide publicá-lo no PyPI.  Bem, realmente, o que poderia ser melhor do que disponibilizá-lo através da <strong>instalação do pip</strong> ?  Pesquisando o que é necessário para isso, você pode se deparar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">com a única postagem que encontrei sobre um tópico</a> que, não apenas a partir de 2014, também exige que você crie um monte de pastas e arquivos para coisas completamente desnecessárias. </p><br><p>  Como resolver esse problema sem muita dor de cabeça em 2019?  Eu já fiz essa pergunta e, portanto, depois de ler uma tonelada de documentação, criei este tutorial para você.  Aqui está um guia passo a passo. </p><a name="habracut"></a><br><p>  1. Crie uma conta no PyPI ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link de registro</a> ) </p><br><p>  2. Crie um ponto de entrada para o aplicativo (por exemplo, um arquivo <strong>entry.py</strong> com o seguinte conteúdo) </p><br><pre><code class="plaintext hljs">def main(): print("It's alive!")</code> </pre> <br><p>  3. Instale <strong>poesia</strong> </p><br><pre> <code class="plaintext hljs">curl -sSL https://raw.githubusercontent.com/sdispater/poetry/master/get-poetry.py | python source $HOME/.poetry/env</code> </pre><br><p>  <em>(Você pode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">instalar a</a> <strong>poesia de maneira</strong> diferente, por exemplo, <strong>pip install --user poetry</strong> - approx. Transl.)</em> </p><br><p>  4. Crie um ambiente </p><br><pre> <code class="plaintext hljs">cd myproject #    ,    poetry init</code> </pre><br><p>  5. Configure o comando do console (para fazer isso, adicione as seguintes linhas ao arquivo <strong>pyproject.toml</strong> que <strong>aparece</strong> ) </p><br><pre> <code class="plaintext hljs">[tool.poetry.scripts] APPLICATION-NAME = 'entry:main'</code> </pre><br><p>  <strong>NOME DO APLICATIVO</strong> <em>&nbsp;</em>  deve ser alterado para o nome do comando do console. </p><br><p>  6. Publique o utilitário!  (use o nome de usuário e a senha da etapa 1) </p><br><pre> <code class="plaintext hljs">poetry publish --username PYPI_USERNAME --password PYPI_PASS --build</code> </pre> <br><p>  Feito!  Agora a outra pessoa precisa de apenas dois comandos para instalar: </p><br><pre> <code class="plaintext hljs">$ sudo pip install PROJECT-NAME $ APPLICATION-NAME</code> </pre><br><p>  Onde <strong>NOME DO PROJETO</strong> é o nome que você deu ao projeto na etapa 4 e <strong>NOME DO APLICATIVO</strong> <em>é</em> o nome da equipe da etapa 5. </p><br><hr><br><h2>  Atualização de versão </h2><br><p>  Sempre que você quiser atualizar um módulo, basta alterar o número da versão no arquivo <strong>pyproject.toml</strong> <em>:</em> </p><br><pre> <code class="plaintext hljs">version = "0.1.0"</code> </pre> <br><p>  E repita a etapa 6: </p><br><pre> <code class="plaintext hljs">poetry publish --username PYPI_USERNAME --password PYPI_PASS --build</code> </pre> <br><hr><br><h2>  Bônus: personalize o Travis para publicação automática </h2><br><p>  Adicione as seguintes linhas ao arquivo <strong>.travis.yml</strong> </p><br><pre> <code class="plaintext hljs">language: python dist: xenial before_install: - curl -sSL https://raw.githubusercontent.com/sdispater/poetry/master/get-poetry.py | python - source $HOME/.poetry/env install: - poetry install script: - poetry build deploy: - provider: script skip_cleanup: true script: poetry publish --username $PYPI_USER --password $PYPI_PASS on: branch: master python: '3.7' tags: true</code> </pre><br><p>  E defina as variáveis ​​de ambiente PYPI_USER e PYPI_PASS para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">travis-ci.com</a> .  Depois disso, você pode publicar o pacote usando os comandos: </p><br><pre> <code class="plaintext hljs">git tag -a v1.2 # Replace version number with yours git push --tags</code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt456304/">https://habr.com/ru/post/pt456304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt456294/index.html">Diferenças entre LabelEncoder e OneHotEncoder no SciKit Learn</a></li>
<li><a href="../pt456296/index.html">O mundo da hiperesfera tridimensional. Rastreamento de raios geodésicos em um universo fechado com geometria esférica</a></li>
<li><a href="../pt456298/index.html">Tecnologias de microeletrônica nos dedos: Lei de Moore, o marketing se move e por que os nanômetros não são os mesmos agora. Parte 2</a></li>
<li><a href="../pt456300/index.html">Encontrando zina</a></li>
<li><a href="../pt456302/index.html">Por que preferimos CSS (- variável) a SASS ($ variável)?</a></li>
<li><a href="../pt456306/index.html">Tecnologias de microeletrônica nos dedos: Lei de Moore, o marketing se move e por que os nanômetros não são os mesmos agora. Parte 3</a></li>
<li><a href="../pt456310/index.html">Logística da ação para coleta seletiva de materiais recicláveis</a></li>
<li><a href="../pt456314/index.html">Eu tenho razão</a></li>
<li><a href="../pt456316/index.html">Frontend Weekly Digest (10-16 junho 2019)</a></li>
<li><a href="../pt456318/index.html">Noções básicas sobre ponteiros para iniciantes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>