<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👼 👩‍✈️ 🏰 Mehrsprachige Apps in Angular 📪 🌠 👩🏼‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werden wir untersuchen, wie Sie Ihr Angular-Projekt schnell in einen mehrsprachigen Betrieb übertragen können und welche Dienstprogr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mehrsprachige Apps in Angular</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446402/"><p><img src="https://habrastorage.org/getpro/habr/post_images/754/11c/d80/75411cd8068a43ec7db6e321e2fb0356.png" alt="Bild"></p><br><p>  In diesem Artikel werden wir untersuchen, wie Sie Ihr Angular-Projekt schnell in einen mehrsprachigen Betrieb übertragen können und welche Dienstprogramme dafür verfügbar sind. </p><a name="habracut"></a><br><p>  <strong>Verwenden Sie ngx-translate nicht mehr!</strong> </p><br><p>  Die meisten Projekte, die ich zufällig getroffen habe, wurden mit dieser Bibliothek geschrieben, und es überrascht nicht, dass sie sehr einfach ist und vor der offiziellen Veröffentlichung von Angular erschien. </p><br><p>  <strong>Verwenden Sie den Standard i18n!</strong> </p><br><p>  Das Hinzufügen zu Ihrem Projekt ist noch einfacher als es sich anhört. </p><br><p>  Und so ist hier eine kurze Anweisung: </p><br><ul><li>  Fügen Sie dem Vorlagenelement das i18n-Attribut hinzu </li><li>  Verwenden Sie das Attribut i18n-, um Attribute des Elements selbst zu übersetzen </li><li>  Verwenden Sie ICU-Ausdrücke </li><li>  Registrieren Sie das gewünschte Gebietsschema für Pipe </li></ul><br><p>  <strong>Wir übersetzen die Hallo-Welt-App in 5 Minuten:</strong> </p><br><p>  In diesem Beispiel bestimmen wir das title-Attribut und den Inhalt selbst für die Übersetzung. </p><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n-title</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span>  {{name}}! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Wir können auch eine Beschreibung für unseren Übersetzer festlegen </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"   "</span></span></span><span class="hljs-tag">&gt;</span></span>  {{name}}! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Und natürlich können wir zum Wiederholen von Texten Bezeichner angeben: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@@HiId"</span></span></span><span class="hljs-tag">&gt;</span></span>!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Wir können Bezeichner auch mit einer Beschreibung kombinieren: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  |@@HiId"</span></span></span><span class="hljs-tag">&gt;</span></span>!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Wir legen den Ausdruck auf der Intensivstation dort offen, wo wir ihn gebraucht haben: </p><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i18n</span></span></span><span class="hljs-tag">&gt;</span></span>  { orders, plural, =0 {} =1 { } other {<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>{{orders}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>} } <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  In diesem Beispiel funktioniert es wie ein normaler Switch-Fall.  Es gibt jedoch verschiedene Anwendungsfälle. </p><br><p>  Fast alles ist fertig! </p><br><p>  Führen Sie den Befehl Angular CLI aus: </p><br><p> <code>ng xi18n</code> </p> <br><p>  Standardmäßig wird die Datei <code>messages.xlf</code> im XLIFF-Format erfasst.  Dies reicht aus, um weiter zu arbeiten. </p><br><p>  Kopieren Sie diese Datei in messages.fr.xlf (sagen wir, wir möchten eine Übersetzung ins Französische). </p><br><p>  Wir geben die Datei zur Übersetzung, zum Glück ist dieses Format sehr verbreitet und es gibt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">viele Dienstprogramme</a> , die es dem Übersetzer erleichtern, sie zu bearbeiten. </p><br><p>  Nun bearbeiten wir die angular.json-Konfigurationen: </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"configurations"</span></span>: { ... <span class="hljs-attr"><span class="hljs-attr">"fr"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"outputPath"</span></span>: <span class="hljs-string"><span class="hljs-string">"dist/my-project-fr/"</span></span>, //    <span class="hljs-attr"><span class="hljs-attr">"i18nFile"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/locale/messages.fr.xlf"</span></span>, //    <span class="hljs-attr"><span class="hljs-attr">"i18nFormat"</span></span>: <span class="hljs-string"><span class="hljs-string">"xlf"</span></span>, //   <span class="hljs-attr"><span class="hljs-attr">"i18nLocale"</span></span>: <span class="hljs-string"><span class="hljs-string">"fr"</span></span>, //   ... } }</code> </pre> <br><p>  Das ist alles! </p><br><p> <code>&gt; ng serve  - configuration=fr</code> <br> <code>&gt; ng build  - configuration=fr</code> </p> <br><hr><br><p>  Überlegen Sie nun, wie es von innen nach außen funktioniert: <br><img src="https://habrastorage.org/getpro/habr/post_images/c47/e4e/4a5/c47e4e4a558e8edd7fe5982579684b9e.png" alt="Bild"></p><br><p>  Aus dem Diagramm ist ersichtlich, dass die Dynamik einfach nicht möglich ist, so ist der Standard i18n im Moment angeordnet.  Für jede Änderung der Sprache muss ein neues Bundle heruntergeladen werden. </p><br><hr><br><p>  Tatsächlich wird in den meisten Fällen im Zusammenhang mit Mehrsprachigkeit kein Sprecher benötigt.  Meistens ist dies eine völlig andere Lokalisierung.  Fragen Sie sich einfach, wechseln Ihre Benutzer häufig die Sprache?  Aber was ist, wenn Sie Ihre Bewerbung ins Arabische übersetzen müssen?  Detaillierte Empfehlungen finden Sie auf der W3C-Website. </p><br><hr><br><p>  Man kann nur einen Link zu einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tabelle</a> einfügen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">, in der verschiedene i18n-Optionen für Angular verglichen werden</a> . </p><br><hr><br><p>  Für Liebhaber der Dynamik gibt es gute Nachrichten, zusammen mit Ivy wird Runtime Service erscheinen. </p><br><p>  <strong>18n und Efeu</strong> <br><img src="https://habrastorage.org/getpro/habr/post_images/f82/b8e/c94/f82b8ec940b9e082ff71912fd74c07e9.png" alt="Bild"></p><br><p>  Also, was wird es geben? </p><br><ul><li>  Es kann überall verwendet werden (React, Vue), zum Beispiel durch Angular Elements </li><li>  Baumschüttelbar </li><li>  Lazy-Loading-Unterstützung </li><li>  Unterstützung für verschiedene Gebietsschemas </li><li>  Volle Funktionalität ohne Kompilierung </li></ul><br><hr><br><p>  Nun, da es nie zu viele Dienstprogramme gibt, die das Leben besonders erleichtern, habe ich ein kleines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstprogramm</a> erstellt, mit dem Sie Ihre fertige Anwendung schnell in den mehrsprachigen Modus wechseln können: </p><br><pre> <code class="bash hljs">&gt; npx ngx-translate-all --format ngx-translate | i18n --<span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ru --out en,fr --outPath src/assets/i18n</code> </pre> <br><p>  Es unterstützt zwei Formate, sowohl Standard i18n als auch ngx-translate-all. <br>  Für Standard i18n ordnet das Dienstprogramm die erforderlichen Attribute an und fügt die gewünschte Beschreibung hinzu. </p><br><pre> <code class="plaintext hljs">--format i18n &lt;div i18n="AppModule.AppComponent"&gt; ! &lt;/div&gt;</code> </pre> <br><p>  Bei ngx-translate werden die Variablen zugewiesen, die Pipe platziert und in die gewünschte JSON-Datei exportiert. </p><br><pre> <code class="plaintext hljs">--format ngx-translate &lt;div&gt; {{AppModule.AppComponent[0] | translate}} &lt;div&gt;</code> </pre> <br><hr><br><p>  Außerdem möchte ich, dass Sie Ihre Projekte zumindest in den Vorlagen auf den Standard i18n übertragen.  Und bald werde ich ein spezielles Dienstprogramm veröffentlichen, das Ihr Projekt automatisch von ngx-translate auf i18n überträgt </p><br><pre> <code class="plaintext hljs">&gt; npx ngx-translate-migrate ngx-translate -&gt; i18n</code> </pre> <br><p>  Um das Projekt weiterzuverfolgen, können Sie meinen Twitter-, Github- oder Telegrammkanal für Angular abonnieren: </p><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://twitter.com/irustm</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://t.me/ngFanatic</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/irustm</a> </h2><br><p>  Wenn Sie noch Fragen haben, lade ich Sie zum Live-Video-Podcast ngRuAir ein: </p><br><table><tbody><tr><td><img src="https://habrastorage.org/getpro/habr/post_images/15c/315/ec9/15c315ec9b29b7d89d25821a38e0dbaf.png" width="120" height="120"><br></td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">7. April 2019 20.00 Uhr Moskauer Zeit</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Thema: Entwicklung mehrsprachiger Anwendungen auf Angular.</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><br></a> <br></td></tr></tbody></table></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de446402/">https://habr.com/ru/post/de446402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de446388/index.html">Öl- und Gasindustrie als Beispiel für periphere Cloud-Systeme</a></li>
<li><a href="../de446390/index.html">Memoization Vergissmeinnicht</a></li>
<li><a href="../de446394/index.html">5. Check Point Erste Schritte R80.20. Gaia & CLI</a></li>
<li><a href="../de446396/index.html">GPS-Wochenzähler zurückgesetzt</a></li>
<li><a href="../de446400/index.html">Dmitry Dumik, Chatfuel: Über Y Combinator, Technologie-Unternehmertum, Verhaltensänderung und Bewusstsein</a></li>
<li><a href="../de446404/index.html">Moderne Alternativen zu PGP</a></li>
<li><a href="../de446408/index.html">Universal DRO basierend auf Arduino Nano - shDRO</a></li>
<li><a href="../de446412/index.html">KDB + Datenbank: Von der Finanzierung zur Formel 1</a></li>
<li><a href="../de446414/index.html">Eine gute Sache heißt nicht Rost</a></li>
<li><a href="../de446418/index.html">Cloudflare führte einen eigenen VPN-Dienst ein, der auf der Anwendung 1.1.1.1 für mobile Geräte basiert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>