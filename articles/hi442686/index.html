<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЩНЁЯП╜ ЁЯзУ ЁЯзб рдбреЗрдЯрд╛рдкрд╛рд╡рд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ ЁЯЪР ЁЯТЖЁЯП┐ ЁЯПА</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕рд╛рдордЧреНрд░реА wedmeed рджреНрд╡рд╛рд░рд╛ рд╕рд╣-рд▓реЗрдЦрдХ 


 2017 рдореЗрдВ, рдЬрдм рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╡рд┐рдпрддрдирд╛рдо рдореЗрдВ рд╢реБрд░реВ рд╣реБрдИ, рддреЛ рд╣рдордиреЗ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдирдП рдЬрд╛рдирд╡рд░ рдЖрдИрдмреАрдПрдо рдбреЗрдЯрд╛рдкрд╛рд╡рд░ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд┐рдпрд╛ред IBM Dat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдбреЗрдЯрд╛рдкрд╛рд╡рд░ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/neoflex/blog/442686/"><p>  рд╕рд╛рдордЧреНрд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">wedmeed</a> рджреНрд╡рд╛рд░рд╛ рд╕рд╣-рд▓реЗрдЦрдХ </p><br><p> 2017 рдореЗрдВ, рдЬрдм рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╡рд┐рдпрддрдирд╛рдо рдореЗрдВ рд╢реБрд░реВ рд╣реБрдИ, рддреЛ рд╣рдордиреЗ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдирдП рдЬрд╛рдирд╡рд░ рдЖрдИрдмреАрдПрдо рдбреЗрдЯрд╛рдкрд╛рд╡рд░ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд┐рдпрд╛ред  IBM DataPower рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рдмреИрдХрдПрдВрдб рдХреЗ рдмреАрдЪ рдХрд╛ рдПрдХ рдЧреЗрдЯрд╡реЗ рдЙрддреНрдкрд╛рдж рд╣реИ, рдЬреЛ рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдлрд╝рд┐рд▓реНрдЯрд░рд┐рдВрдЧ, рд░рд╛рдЙрдЯрд┐рдВрдЧ, рд╕рдВрд╡рд░реНрдзрди рдпрд╛ рдЕрдиреНрдп рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдмрд╛рдж рдореЗрдВ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд)ред  рдпрд╣ рдЬрд▓реНрджреА рд╕реЗ рд╕реАрдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛, рдмрд┐рд▓реНрдбрдЕрдк рдХреЗ рд▓рд┐рдП рдХреЛрдИ рд╕рдордп рдирд╣реАрдВ рдерд╛, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдЗрд╕рдХреЗ рд╕рд╛рде рдЦреБрдж рдХреЛ рдкрд░рд┐рдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдореЙрд╕реНрдХреЛ рдХреЗ рд╣рдорд╛рд░реЗ рд╕рд╣рдпреЛрдЧреА рдХреЗ рд╕рд╛рде рдХрдИ рдШрдВрдЯреЛрдВ рдХреЗ рд╕реНрдХрд╛рдЗрдк рд╕рдореНрдореЗрд▓рди рдереЗ, рдЬреЛ рдЗрд╕ рдЙрддреНрдкрд╛рдж рдХреЗ рд╕рд╛рде рд╣рдорд╛рд░реЗ рдЬреНрдЮрд╛рди рдФрд░ рдЕрдиреБрднрд╡ рд╕реЗ рдЧреБрдЬрд░рддреЗ рдереЗред <br></p><br><p>  рд╕реНрд╡-рдЕрдзреНрдпрдпрди рдкреНрд░рд▓реЗрдЦрди рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░рдиреЗ рдФрд░ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд╡реАрдбрд┐рдпреЛ рджреЗрдЦрдиреЗ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдерд╛ - рдФрд░ рдпрд╣рд╛рдВ рдореИрдВ рдПрдХ рдкрдХрдбрд╝рдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣рд╛ рдерд╛ред  рдореИрдВ рд░реВрд╕реА рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рдЕрд╕рдорд░реНрде рдерд╛ред  рд╡реИрд╕реЗ, рдЙрд╕ рд╕рдордп рдЕрдВрдЧреНрд░реЗрдЬреА рднрд╛рд╖рд╛ рдХрд╛ рдореЗрд░рд╛ рдЬреНрдЮрд╛рди рдЙрдЪреНрдЪрддрдо рд╕реНрддрд░ рдкрд░ рдирд╣реАрдВ рдерд╛, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдпрд╣ рдореЗрд░реА рдкрд╣рд▓реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдереА рдФрд░ рд╢рд╛рдпрдж, рдЗрди рдХрд╛рд░рдХреЛрдВ рдиреЗ рдореЗрд░реЗ рдЬреАрд╡рди рдХреЛ рдЬрдЯрд┐рд▓ рдмрдирд╛ рджрд┐рдпрд╛ред  рдЗрд╕рдиреЗ рдореБрдЭреЗ рд░реВрд╕реА рдореЗрдВ рдПрдХ рдкреНрд░рд╢рд┐рдХреНрд╖рдг рд▓реЗрдЦ рд▓рд┐рдЦрд╛ рдФрд░ рд╢реБрд░реБрдЖрддреА рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рд╕рд░рд▓ рд╕рдВрднрд╡ рддрд░реАрдХреЗ рд╕реЗ рдЬреЛ рдЗрд╕ рдЙрддреНрдкрд╛рдж рдХреЗ рдкрд╛рд░ рдЖрдП рдФрд░ рдЕрдкрдиреА рдореВрд▓ рдмрд╛рддреЗрдВ рдЬрд▓реНрджреА рд╕реЗ рд╕рдордЭрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рд▓реЗрдЦ рдЖрдкрдХреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкрдврд╝рдиреЗ рд╕реЗ рдореБрдХреНрдд рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рд▓реЗрдХрд┐рди рдпрд╣ "рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ" рд╕рдордЭрдиреЗ рдХреЗ рд╢реБрд░реБрдЖрддреА рдЪрд░рдгреЛрдВ рдореЗрдВ рдЬреАрд╡рди рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛ рджреЗрдЧрд╛ред <br></p><br><p>  рдпрд╣ рднреА рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рджреА рдЧрдИ рд╕рдВрд░рдЪрдирд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдХрд░реАрдм рд╣реЛрдЧреА, рдЬреЛ рдЖрдкрдХреЛ рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рд╡рд┐рд╕реНрддрд╛рд░, рдФрд░ рдкреВрд░рдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред  рдирд┐рд╖реНрдХрд░реНрд╖ рдореЗрдВ, "рдереНрдпреЛрд░реА" рдЕрдиреБрднрд╛рдЧ рдкрд╣рд▓реЗ рд╕реЗ рд▓рд╛рдЧреВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд╢рдмреНрдж рджреЗрдЧрд╛, рд╕рд╛рде рд╣реА рдХреБрдЫ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдЬреЛ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИрдВред </p><br><img src="https://habrastorage.org/webt/rm/at/lk/rmatlkcfuvcjxvgireijushp7yc.jpeg"><br><a name="habracut"></a><br><h2>  рднрд╛рдЧ 1. рдбреЙрдХрдЯрд░ рдЯреВрд▓рдмреЙрдХреНрд╕ рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛рдкреЙрд╡рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h2><br><p>  рдбреЙрдХрд░ рдЯреВрд▓рдмреЙрдХреНрд╕ рдРрдк рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ рдФрд░ рдЪрд▓рд╛рдПрдВред  рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж, рдЖрдкрдХреЛ рдорд╢реАрди рдХрд╛ рдЖрдИрдкреА рдкрддрд╛ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛, рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдбреЗрдЯрд╛рдкреЙрд╡рд░ рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛: <br></p><br><img src="https://habrastorage.org/webt/zs/qa/wn/zsqawn2jksqp8j8gfl5gwslnks4.png"><br><br><p>  рдЫрд╡рд┐ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреА рдХреБрдЫ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдмрджрд▓рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ (рд╕рдВрд╕реНрдХрд░рдг IDG.2018.4.1.0 рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ) рдФрд░ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ: <br></p><br><ol><li>  рдЖрджреЗрд╢ рдХреЗ рд╕рд╛рде docker рдорд╢реАрди рдмрдВрдж рдХрд░реЛ: <br><br><pre><code class="plaintext hljs">docker-machine stop</code> </pre> </li><li>  рд╕рд┐рд╕реНрдЯрдо -&gt; рдорджрд░рдмреЛрд░реНрдб -&gt; рдореБрдЦреНрдп рдореЗрдореЛрд░реА: рдиреНрдпреВрдирддрдо 4096 рдПрдордмреА; <br></li><li>  рд╕рд┐рд╕реНрдЯрдо -&gt; рдкреНрд░реЛрд╕реЗрд╕рд░: рдиреНрдпреВрдирддрдо 2; <br></li><li>  рдкреНрд░рджрд░реНрд╢рди -&gt; рд╕реНрдХреНрд░реАрди -&gt; рд╡реАрдбрд┐рдпреЛ рдореЗрдореЛрд░реА: рдХрдо рд╕реЗ рдХрдо 128Mb; <br></li><li>  рд╣рдо рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде docker рдорд╢реАрди рд▓реЙрдиреНрдЪ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="plaintext hljs">docker-machine start</code> </pre> <br>  <i>рдиреЛрдЯред</i>  <i>рдпрджрд┐ docker- рдорд╢реАрди рдХреЛ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рдП, рддреЛ рдЪрд▓рд╛рдПрдБ:</i> <br><br><pre> <code class="plaintext hljs">docker-machine env</code> </pre> </li><li>  рдЕрдЧрд▓рд╛, рдЖрдкрдХреЛ рдЖрдИрдмреАрдПрдо рдбреЗрдЯрд╛рдкрд╛рд╡рд░ рдЫрд╡рд┐ рдХреЛ рдЕрдкрд╡рд┐рддреНрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><pre> <code class="plaintext hljs">docker pull ibmcom/datapower</code> </pre> </li><li>  рдлрд┐рд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдбреЙрдХ рдХрдВрдЯреЗрдирд░ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ: <br><br><pre> <code class="plaintext hljs">docker run -it \ -v $PWD/config:/drouter/config \ -v $PWD/local:/drouter/local \ -e DATAPOWER_ACCEPT_LICENSE=true \ -e DATAPOWER_INTERACTIVE=true \ -p 9090:9090 \ -p 3630:3630 \ -p 9022:22 \ -p 7170:7170 \ --name idg \ ibmcom/datapower</code> </pre></li><li>  рдХрдорд╛рдВрдб рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, Enter рджрдмрд╛рдПрдВ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рдХреЗ рд░реВрдк рдореЗрдВ <b>рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ / рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ</b> рджрд░реНрдЬ рдХрд░реЗрдВ <br></li><li>  рд╡реЗрдм рдкреНрд░рдмрдВрдзрди рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: <br><br><pre> <code class="plaintext hljs">co</code> </pre> <br>  рдФрд░ <br><br><pre> <code class="plaintext hljs">web-mgmt 0 9090</code> </pre> </li><li>  рдЗрди рд╕рднреА рдЪрд░рдгреЛрдВ рдХреЗ рдмрд╛рдж, рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://192.168.99.100:9090/</a> <br></li></ol><br><h2>  рднрд╛рдЧ 2. рдбреЛрдореЗрди </h2><br><h3>  2.1ред  рд╕рд┐рджреНрдзрд╛рдВрдд </h3><br><p>  DataPower рдореЗрдВ рдбреЛрдореЗрди рдЖрдкрдХреЛ рдкреНрд░рд╢рд╛рд╕рди рдФрд░ рд╡рд┐рдХрд╛рд╕ рдЙрдкрдХрд░рдг рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред <br></p><br><p>  рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рдмрд╛рдж, рдХреЗрд╡рд▓ рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдбреЛрдореЗрди рд╣реИ рдЬрд╣рд╛рдВ рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЛрдореЗрди рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдбреЛрдореЗрди рдореЗрдВ рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЕрдкрдирд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реЛрддрд╛ рд╣реИред <br></p><br><p>  рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдХреЗрд╡рд▓ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдбреЛрдореЗрди рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрдирдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЛрдореЗрди рдФрд░ рдЕрдиреНрдп рд╢рд╛рдорд┐рд▓ рд╣реИрдВред <br></p><br><p>  рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЛрдореЗрди рдЕрдиреБрд░реЛрдз рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рдХрд╛рд╕ рдЦрдВрдб рд╣реИред  рдЗрд╕рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдХрд┐рд╕реА рдЕрдиреНрдп рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЛрдореЗрди рдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдбреЗрдЯрд╛рдкреЙрд╡рд░ рдХреЗ рдкреВрд░реНрдг рдкреБрдирд░рд╛рд░рдВрдн рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЛрдореЗрди рдХреЛ рдЕрд▓рдЧ рдФрд░ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br></p><br><p>  рдЖрдк рдбреЛрдореЗрди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдкреБрдирд░рд╛рд░рдВрдн рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд░реАрд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд░реЛрдХ рд╕рдХрддреЗ рд╣реИрдВ, рдирд╡реАрдиреАрдХреГрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдк рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдореЗрдВ рд╕рднреА рдкреНрд░рд╢рд╛рд╕рди рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред <br></p><br><p>  рдереЛрдбрд╝рд╛ рдкреВрд░рд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред  рд╣рдордиреЗ 3 рдбреЛрдореЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛: <br></p><br><ul><li>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ - рд╕рд╛рдЭрд╛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдорд╛рдкрджрдВрдбреЛрдВ рд╡рд╛рд▓реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдбреЛрдореЗрди; </li><li>  рдЯреНрд░рдВрдХ - рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдм рдХреБрдЫ рдпреБрдХреНрдд рдореБрдЦреНрдп рдбреЛрдореЗрди; </li><li>  рд╕реЗрдЯрд┐рдВрдЧреНрд╕ - рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдбреЛрдореЗрди, рд╕реНрдерд╛рдиреАрдп рдлрд╝рд╛рдЗрд▓реЛрдВ рдореЗрдВ рд╕реЗрд╡рд╛ рд░реВрдЯрд┐рдВрдЧ рдирд┐рдпрдореЛрдВ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИред </li></ul><br><p>  рдПрдХ рд╕рд░рд▓ рддреИрдирд╛рддреА рдкрде рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рд╕рднреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЬреИрд╕рд╛ рдХрд┐ рдХрдИ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ, рджреЗрд╡, рдкрд░реАрдХреНрд╖рдг рдФрд░ рдареЗрд╕ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рдЕрд▓рдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдПрдХ рдЕрд▓рдЧ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдбреЛрдореЗрди рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдиреЗ рд╣рдореЗрдВ рдкрд░реНрдпрд╛рд╡рд░рдг рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдЦреЛрдиреЗ рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЗ рдмрд┐рдирд╛, рдирд┐рд░реНрдпрд╛рдд / рдЖрдпрд╛рдд рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдиреНрдп рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рджреЗрд╡ рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗ рд╕рднреА рдореБрдЦреНрдп рдбреЛрдореЗрди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреАред <br></p><br><h3>  2.2ред  рдЕрднреНрдпрд╛рд╕ </h3><br><ul><li>  рдЦреЛрдЬ рдлрд╝реАрд▓реНрдб рдореЗрдВ, "рдбреЛрдореЗрди" рджрд░реНрдЬ рдХрд░реЗрдВ, "рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЛрдореЗрди" рдЪреБрдиреЗрдВ рдФрд░ "рдЬреЛрдбрд╝реЗрдВ" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ <br><img src="https://habrastorage.org/webt/uo/k_/gs/uok_gsaxjifcklt56rs9wmiujhm.png"></li><li>  рдпрд╣рд╛рдВ рдЖрдкрдХреЛ рдбреЛрдореЗрди рдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЯрд┐рдкреНрдкрдгреА (рдпрджрд┐ рд╡рд╛рдВрдЫрд┐рдд рд╣реЛ) рдФрд░ рдСрдбрд┐рдЯрд┐рдВрдЧ рдФрд░ рд▓реЙрдЧрд┐рдВрдЧ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЦреЗрддреЛрдВ рдореЗрдВ рдкрд╛рдиреА рднрд░реЗрдВ рдФрд░ рдмрджрд▓рд╛рд╡ рд▓рд╛рдЧреВ рдХрд░реЗрдВ <br><img src="https://habrastorage.org/webt/3b/6w/ts/3b6wtsfrlvxcxgb7jgpkmm6u1rq.png"></li><li>  рдЗрд╕реА рддрд░рд╣ рдПрдХ рдФрд░ рдбреЛрдореЗрди "рдЯреНрд░рдВрдХ" рдЬреЛрдбрд╝реЗрдВ </li><li>  рдмрджрд▓рд╛рд╡реЛрдВ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдЬрд╛рдПрдВ <br><img src="https://habrastorage.org/webt/p-/nh/cp/p-nhcpeur45dhrzahmpffom9pq8.png"></li><li>  рдФрд░ рдбреЛрдореЗрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рд╕рд╣реЗрдЬреЗрдВ <br><img src="https://habrastorage.org/webt/1u/8n/si/1u8nsi-zblkkqdsrpa7lnqcgw8g.png"></li><li>  рдЖрдк рдиреИрд╡рд┐рдЧреЗрд╢рди рдЯреНрд░реА рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдХрд░ рд╕реНрдЯреЗрдЯрд╕ -&gt; рдореБрдЦреНрдп -&gt; тАЛтАЛрдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдЯреЗрдЯрд╕ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реНрдерд┐рддрд┐ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ <br><img src="https://habrastorage.org/webt/uz/qo/q4/uzqoq4kek4qdgkfkhovrjmiridm.png"></li><li>  рдЗрд╕рдХреЗ <b><i>рджреНрд╡рд╛рд░рд╛ рджреЗрдЦреЗрдВ: рдкреНрд░рдХрд╛рд░</i></b> рдЪреБрдиреЗрдВ <br><img src="https://habrastorage.org/webt/fj/5_/6z/fj5_6zg-kidxhkt5as0omzfvsiw.png"></li><li>  рд╕реВрдЪреА рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдбреЛрдореЗрди рдЦреЛрдЬреЗрдВ рдФрд░ рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ: рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЛ рд╕рд╣реЗрдЬрдирд╛, рдЪрд╛рд▓реВ рдХрд░рдирд╛ рдФрд░ рдЕрдк рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рдЕрдЧрд▓реЗ рдЕрдзреНрдпрд╛рдп рдХреЛ рдЬрд╛рд░реА рд░рдЦреЗрдВред </li></ul><br><img src="https://habrastorage.org/webt/xa/ii/kj/xaiikjxfdhsy19lez-rxo2xmeug.png"><br><br><h2>  рднрд╛рдЧ 3. рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ </h2><br><p>  рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдЖрдИрдмреАрдПрдо рдбреЗрдЯрд╛рдкрд╛рд╡рд░ рдХрд╛ рдЕрдирд┐рд╡рд╛рд░реНрдп рдШрдЯрдХ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдордХреНрдпреВ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕ рдЙрддреНрдкрд╛рдж рдХреА рдкреВрд░реА рд╢рдХреНрддрд┐ рджрд┐рдЦрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рдо IBM рд╕реЗ MQ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдЕрдзреНрдпрд╛рдп 6 рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдкрд░реАрдХреНрд╖рдг рдХреЗ рджреМрд░рд╛рди, рд╣рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдХреЛ рдПрдХ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ rfhutil рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдРрд╕рд╛ рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдЖрдк рдЕрдкрдиреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдХрд┐рд╕реА рднреА рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ MQ рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ DP рд╕реЗ рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред </p><br><cut></cut><br><h3>  3.1ред  рд╕рд┐рджреНрдзрд╛рдВрдд </h3><br><p>  рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдЧреЗрдЯрд╡реЗ рдФрд░ рджреВрд░рд╕реНрде рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рд╡рд┐рдирд┐рдордп рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЖрдк рдПрдордХреНрдпреВ рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рд╕рдореВрд╣ рдХреЛ рднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдХреА рдЧрд▓рддреА рд╕рд╣рдирд╢реАрд▓рддрд╛ рдмрдврд╝ рдЬрд╛рдПрдЧреАред  рдпрд╣ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХреЗ рдХрд┐рд╕реА рд╕реЗрдЯ рд╕реЗ рдФрд░ рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рдЖрдк рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдиреБрднрд╡ рд╕реЗ, рдХреЗрд╡рд▓ рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рдиреЛрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: рдПрдХ рд╕рдордп рдореЗрдВ рд╣рдо рдбреЗрдЯрд╛рдкрд╛рд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реЛрдб рд╕рдВрддреБрд▓рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рдереЗ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХреЗ рд╕рдореВрд╣реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд▓реЗрдХрд┐рди рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ рд╣рдореЗрдВ рдРрд╕рд╛ рдЕрд╡рд╕рд░ рдирд╣реАрдВ рдорд┐рд▓рд╛ред  рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рд╕рдорд╛рдзрд╛рди рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХреЛрдВ рдХрд╛ рдПрдХ рд╕рдореВрд╣ рдмрдирд╛рдирд╛ рд╣реИред </p><br><br><h3>  3.2ред  рдЕрднреНрдпрд╛рд╕ </h3><br><h4>  3.2.1ред  рдЯреНрд░реЗрдирд┐рдВрдЧ </h4><br><ol><li>  WebSphere MQ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ; </li><li>  рдкреЛрд░реНрдЯ 3630 рдкрд░ рд╕реБрд▓рдн рдПрдХ рд╕реНрдерд╛рдиреАрдп LOCAL_DP_QM рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдмрдирд╛рдПрдБ; </li><li>  DP.SVRCONN рдЪреИрдирд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ; <br><br><p>  рдЪреИрдирд▓ рдмрдирд╛рддреЗ рд╕рдордп, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">strmqm LOCAL_DP_QM /*  mq*/ runmqsc LOCAL_DP_QM /*   mq*/ DEFINE CHANNEL (DP.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('evlasenko') /* */ SET CHLAUTH('DP.SVRCONN') TYPE(USERMAP) CLNTUSER('evlasenko') USERSRC(channel) ADDRESS('*') ACTION(ADD) /*      */ SET CHLAUTH(DP.SVRCONN) TYPE(BLOCKUSER) USERLIST('nobody') /*   */ ALTER LISTENER (SYSTEM.DEFAULT.LISTENER.TCP) TRPTYPE(TCP) PORT(3630) control(QMGR) /*    3630*/ ALTER AUTHINFO (SYSTEM.DEFAULT.AUTHINFO.IDPWOS) AUTHTYPE(IDPWOS) CHCKCLNT(OPTIONAL) /* */ REFRESH SECURITY TYPE(CONNAUTH) /*  */ endmqm LOCAL_DP_QM /*  mq*/ strmqm LOCAL_DP_QM /*  mq*/ END</code> </pre><br></li><li>  рдХрддрд╛рд░ рдмрдирд╛рдПрдВ DP.IIB.REQIN рдФрд░ DP.IIB.RESIN </li><li>  рдЬрд┐рд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдЪреИрдирд▓ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ рдЙрд╕рдХреЗ рдирд╛рдо рдХреЗ рддрд╣рдд rfhutil рдЪрд▓рд╛рдПрдВред  рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдирд╛рдо рдореЗрдВ (рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП) рдкрдВрдХреНрддрд┐, рд▓рд┐рдЦреЗрдВ: <br><br><pre> <code class="plaintext hljs">DP.SVRCONN/TCT/127.0.0.1(3630)</code> </pre> <br></li><li>  рдХрддрд╛рд░ рдирд╛рдореЛрдВ рдХреА рд╕реВрдЪреА рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ; рд╕рдВрджреЗрд╢ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рдирд╣реАрдВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рдЪреИрдирд▓ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br></li></ol><br><h4>  3.2.2ред  IBM MQ рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдмрдирд╛рдПрдБ </h4><br><ol><li>  рдЯреНрд░рдВрдХ рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдПрдВред </li><li>  рдЦреЛрдЬ рдореЗрдВ, MQ рдЯрд╛рдЗрдк рдХрд░реЗрдВ, IBM MQ Queue Manager рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ, рдФрд░ Add рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред </li><li>  рдЖрдкрдХреЛ рдирд╛рдо (TEST_QM), рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рд╣реЛрд╕реНрдЯрдирд╛рдо, рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдирд╛рдо рдФрд░ рдЪреИрдирд▓ рдирд╛рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЯрд╛рдЗрдордЖрдЙрдЯ рднреАред  рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рдФрд░ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╣реЗрдЬреЗрдВред <br><img src="https://habrastorage.org/webt/di/sg/x1/disgx1dt8szkq9uoicnlepcn9lg.png"><br></li></ol><br><p>  рдбреЛрдореЗрди рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдБрдЪ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрд╕реА рддрд░рд╣ рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рд╡рд╕реНрддреБ рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдерд┐рддрд┐ рдФрд░ рджреГрд╢реНрдп рдЪреБрдиреЗрдВ: рдкреНрд░рдХрд╛рд░ рдЯреНрд░рдВрдХ рдбреЛрдореЗрди рд╕реЗ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░реЗрдВред  "рдЖрдИрдмреАрдПрдо рдПрдордХреНрдпреВ рдХреНрдпреВ рдкреНрд░рдмрдВрдзрдХ" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ, рдЙрдЪрд┐рдд рдСрдмреНрдЬреЗрдХреНрдЯ рдвреВрдВрдвреЗрдВ рдФрд░ рдЗрд╕рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред </p><br><h2>  рднрд╛рдЧ 4. рдорд▓реНрдЯреАрдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ </h2><br><h3>  4.1ред  рд╕рд┐рджреНрдзрд╛рдВрдд </h3><br><p>  рдорд▓реНрдЯреА-рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ (рдПрдордкреАрдЬреА) рдПрдХ рдорд▓реНрдЯреА-рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЧреНрд░рд╛рд╣рдХреЛрдВ рд╕реЗ рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдЙрдиреНрд╣реЗрдВ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рд░реНрд╡рд░реЛрдВ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдХреНрд▓рд╛рдЗрдВрдЯ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд░рд┐рдореЛрдЯ рдПрдХреНрд╕реЗрд╕ рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕реЗ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br>  рдореБрдЦреНрдп MPG рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ, рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдШрдЯрдХреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ul><li>  XML рдкреНрд░рдмрдВрдзрдХ - рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреЗ рдХреИрд╢рд┐рдВрдЧ, рд╕реНрдЯрд╛рдЗрд▓ рд╢реАрдЯ (xsl, xslt) рдХреЗ рд╕рдВрдХрд▓рди рдФрд░ рдХреИрд╢рд┐рдВрдЧ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  рдиреАрддрд┐ - рдЗрд╕рдореЗрдВ рдирд┐рдпрдо рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдЧреЗрдЯрд╡реЗ рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрджреЗрд╢ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдП рдЧрдП рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдПрдХ рд╕реЗрдЯ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  рдлреНрд░рдВрдЯ рдФрд░ рдмреИрдХ рд╕рд╛рдЗрдб рд╕реЗрдЯрд┐рдВрдЧ (url рд╕реЗрдЯ рдХрд░рдирд╛, рдЗрдирдХрдорд┐рдВрдЧ рдФрд░ рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рдореИрд╕реЗрдЬ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЯрд╛рдЗрдордЖрдЙрдЯ рдФрд░ рдмрд╣реБрдд рдХреБрдЫ)ред </li></ul><br><p>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рд╢рдмреНрдж: </p><br><p>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ 4 рдорд▓реНрдЯреА-рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ (рд░рд╛рдЙрдЯрд┐рдВрдЧ, рд╡рд┐рднрд┐рдиреНрди рдЕрдВрдд рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП 2 рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ рдФрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╕реЗ рдлрд╝рд╛рдЗрд▓реЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЖрд░реЗрдЦ рд╕рд╛рдорд╛рдиреНрдп рдЗрдВрдЯрд░реИрдХреНрд╢рди рд╕реНрдХреАрдо рдХреЛ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ: </p><br><img src="https://habrastorage.org/webt/p9/ea/yb/p9eayb25jpeoiazqjd0sitssuf4.png"><br><p>  рдПрдордкреАрдЬреА рдХреА рдорд╛рддреНрд░рд╛ рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдорд╛рдзрд╛рди рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреА рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдбреЗрдЯрд╛рдкреЙрд╡рд░ рдПрдХ рдПрдХреАрдХрд░рдг рдмрд╕ (IIB) рдФрд░ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрд╕ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЗрдВрдЯрд░рдлреЗрд╕ (json / http рдмрдирд╛рдо xml / mq) рдХреЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрдВрддрд░ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдмреИрдХреЗрдВрдб рдХреЗ рд▓рд┐рдП рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ MPGs рдмрдирд╛рдиреЗ рдФрд░ рдЙрд╕рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдирд╛рдо рд░рдЦрдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ред  рд╕рднреА рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд▓рд┐рдП, рд╣рдо json / http рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП MPG рдХреЛ рд░реВрдЯ рдХрд░рдирд╛ рдПрдХ рд╣реИред  рдореБрдЦреНрдп MPG рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП 3 рдирд┐рдпрдо рд╣реЛрддреЗ рд╣реИрдВ - рдЕрдиреБрд░реЛрдз, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдФрд░ рддреНрд░реБрдЯрд┐рдпрд╛рдВред  рдкреНрд░рддреНрдпреЗрдХ рдирд┐рдпрдо рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдХреНрд░рд┐рдпрд╛рдПрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдкрд░рд┐рд╡рд░реНрддрди, рд▓реЙрдЧрд┐рдВрдЧ, рд░реВрдЯрд┐рдВрдЧ рдФрд░ рдЕрдиреНрдпред </p><br><p>  рд╕реБрд╡рд┐рдзрд╛рдУрдВ рд╕реЗ - рдпрджрд┐ рдиреАрддрд┐ рдореЗрдВ рдЖрдк рдХреНрд░рд┐рдпрд╛ ConvertQueryParamToXML рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ InputConversion рдХреЗ рдкреНрд░рддрд┐ рдЪреМрдХрд╕ рд░рд╣реЗрдВред  рдпрджрд┐ рдЖрдк JSON рдкрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдПрдиреНрдХреЛрдбрд┐рдВрдЧ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ GET рдЕрдиреБрд░реЛрдз рднреЗрдЬрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдпрд╣ рдЬрд╛рдирдХрд░ рдЖрд╢реНрдЪрд░реНрдп рд╣реЛрдЧрд╛ рдХрд┐ рд╕рдВрджреЗрд╢ рдиреЗ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдП рдЧрдП рдХрд┐рд╕реА рднреА рдкрд░рд┐рд╡рд░реНрддрди рд╕реЗ рдирд╣реАрдВ рдЧреБрдЬрд░рд╛ рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдЗрд╕рдХрд╛ рдХреЛрдИ рдирд┐рд╢рд╛рди рдирд╣реАрдВ рдорд┐рд▓реЗрдЧрд╛ред  рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ GET рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдирд┐рдпрдо рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧреАред </p><br><h3>  4.2ред  рдЕрднреНрдпрд╛рд╕ </h3><br><h4>  4.2.1ред  рдЯреНрд░реЗрдирд┐рдВрдЧ </h4><br><p>  рдЖрдк рд▓рд┐рдВрдХ рдкрд░ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдлрд╛рдЗрд▓реЗрдВ <a href="">https://github.com/EvgenyaVlasenko/IBM_DataPl.it</a> рдкрд░ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ <br></p><h4>  4.2.1.1ред  рдбреЛрдореЗрди рдЯреНрд░рдВрдХ </h4><br><ol><li>  рдЯреНрд░рдВрдХ рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдПрдВред </li><li>  рдирд┐рдпрдВрддреНрд░рдг рдХрдХреНрд╖ рдореЗрдВ, рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдмрдВрдзрди рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред </li><li>  рд╕реНрдерд╛рдиреАрдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ, рдирд┐рдореНрди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рдВрд░рдЪрдирд╛ рдмрдирд╛рдПрдВ рдФрд░ рдЙрд╕рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд░рдЦреЗрдВ (рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдпрд╣ рдХреНрдпрд╛ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рд▓реЗрдЦ рдореЗрдВ рдмрд╛рдж рдореЗрдВ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддреГрдд рдЪрд░реНрдЪрд╛ рдХреА рдЧрдИ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг рд╢рд╛рдорд┐рд▓ рд╣реИ)ред <br><img src="https://habrastorage.org/webt/oj/am/i9/ojami90qdgg81ojuyr88pmeuzd0.png"><br></li></ol><br><h4>  4.2.1.2ред  рдбреЛрдореЗрди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ </h4><br><ol><li>  рд╕реЗрдЯрд┐рдВрдЧ рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдПрдВред </li><li>  рдирд┐рдпрдВрддреНрд░рдг рдХрдХреНрд╖ рдореЗрдВ, рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдмрдВрдзрди рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред </li><li>  рд╕реНрдерд╛рдиреАрдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ, рдирд┐рдореНрди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рдВрд░рдЪрдирд╛ рдмрдирд╛рдПрдВ рдФрд░ рдЙрд╕рдореЗрдВ рдЙрдкрдпреБрдХреНрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд░рдЦреЗрдВ (рдлрд╛рдЗрд▓реЛрдВ рдореЗрдВ рдЙрдирдХрд╛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг рднреА рд╣реЛрддрд╛ рд╣реИ)ред <br><img src="https://habrastorage.org/webt/mf/9r/ne/mf9rnemyu8mcb01ad_wi6__ozj0.png"><br></li></ol><br><h3>  4.2.2ред  GetFileMPG рдмрдирд╛рдПрдВ </h3><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╕рд╣рд╛рдпрдХ MPG рдмрдирд╛рдПрдВ рдЬреЛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдбреЛрдореЗрди рд╕реЗ рдлрд╛рдЗрд▓реЗрдВ рд▓реМрдЯрд╛рдПрдЧрд╛ред </p><br><ol><li>  рд╕реЗрдЯрд┐рдВрдЧ рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдПрдВред </li><li>  рдирд┐рдпрдВрддреНрд░рдг рдХрдХреНрд╖ рдореЗрдВ, рдорд▓реНрдЯреА-рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ рдЪреБрдиреЗрдВ рдФрд░ рдХреНрд░рд┐рдПрдЯ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред </li><li>  рдирд╛рдо (GetFileMPG), рд╡рд┐рд╡рд░рдг (рд╡реИрдХрд▓реНрдкрд┐рдХ), рдФрд░ рдмреИрдХреЗрдВрдб рдкреНрд░рдХрд╛рд░ (рдЧрддрд┐рд╢реАрд▓) рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдЪреВрдВрдХрд┐ рдмреИрдХрдПрдВрдб рдкрд░ рдХреЛрдИ рдХреЙрд▓ рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдФрд░ рдХреЗрд╡рд▓ рдлрд╝рд╛рдЗрд▓ рд╕реНрдерд╛рдиреАрдп рд╕рд┐рд╕реНрдЯрдо рд╕реЗ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рдПрдЧреА, рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдЖрдк рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдмреИрдХреЗрдВрдб рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><img src="https://habrastorage.org/webt/ds/g7/5g/dsg75gxvgo-7caldbmytubddg6i.png"><br></li><li>  рдЕрдиреБрд░реЛрдз рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рдХрд╛рд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред  рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдкреНрд░рдХрд╛рд░ рдЗрдирд▓рд╛рдЗрди рдЪреЗрдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдХрдо рдХрд░ рджреЗрдВрдЧреЗред  рдкрд╛рд╕ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рд╕реЗ рдЖрдк рдПрдХ рдирд┐рдпрдо рдирд╣реАрдВ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП)ред  рдпрджрд┐ рд╣рдо рдЕрдиреБрд░реЛрдз рдкреНрд░рдХрд╛рд░ рдХреЛ рднреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рд╕рдВрджреЗрд╢ рдХреЛ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗред  рдпрд╣ рд╡рд┐рдХрд▓реНрдк рд╣рдореЗрдВ рд╢реЛрднрд╛ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЧреИрд░-рдПрдХреНрд╕рдПрдордПрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд░реЛрдз рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/qx/nx/l_/qxnxl_j3ki9e8hcc215zropuix8.png"><br></li><li>  + рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдирдпрд╛ рдлреНрд░рдВрдЯ рд╕рд╛рдЗрдб рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП HTTP рд╣реИрдВрдбрд▓рд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред <br><br><img src="https://habrastorage.org/webt/dc/gq/pq/dcgqpqgpx284pxkoqdqhivwjbku.png"><br></li><li>  рдпрд╣рд╛рдВ рдЖрдкрдХреЛ рдПрдХ рдирд╛рдо, рдЖрдИрдкреА-рдкрддрд╛, рдкреЛрд░реНрдЯ рдФрд░ рдЕрдиреБрдордд рд╡рд┐рдзрд┐рдпреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред  рдЖрдИрдкреА тАЛтАЛрдкрддреЗ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред  рдпрджрд┐ рдЖрдк 0.0.0.0 рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рд░ рдХреЛрдИ рдЗрд╕ рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИред  рдпрджрд┐ 127.0.0.1 - рдПрдХ рд╣реА DataPower рдХреЗ рдЕрдВрджрд░ рдЕрдиреНрдп рдЧреЗрдЯрд╡реЗред  рдЪреВрдВрдХрд┐ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмреАрдЪ рд╕реБрд░рдХреНрд╖рд╛ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИрдВ, рд╣рдо рджреВрд╕рд░реЗ рд╡рд┐рдХрд▓реНрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдлрд╝реАрд▓реНрдб рднрд░реЗрдВ рдФрд░ "рд▓рд╛рдЧреВ рдХрд░реЗрдВ" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЧреЗрдЯрд╡реЗ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/xn/y5/-r/xny5-rfrolidwemexqwg25-tkec.png"><br></li><li>  рдирдИ рдиреАрддрд┐ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП + рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред <br><br><img src="https://habrastorage.org/webt/ju/y0/q6/juy0q6_osmjfnwd2v5xev97wvta.png"><br></li><li>  рдкреЙрд▓рд┐рд╕реА рдХрд╛ рдирд╛рдо "GetFilePolicy" рднрд░реЗрдВред <br></li><li>  рдПрдХ рдирдпрд╛ рдирд┐рдпрдо рдмрдирд╛рдПрдВ, рдирд┐рдпрдо рдХрд╛ рдирд╛рдо рдФрд░ рджрд┐рд╢рд╛ рднрд░реЗрдВред  рдЪреВрдВрдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХреЛрдИ рдмреИрдХрдПрдВрдб рдирд╣реАрдВ рд╣реИ, рдФрд░ рдХреЗрд╡рд▓ рд╡рд╛рдВрдЫрд┐рдд рдлрд╝рд╛рдЗрд▓ рд╡рд╛рдкрд╕ рдЖ рдЧрдИ рд╣реИ, рдХреЗрд╡рд▓ рдПрдХ рдирд┐рдпрдо (рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ рд╕рд░реНрд╡рд░) рд╣реЛрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/cv/4c/z_/cv4cz_dfzc5sjxu4i7as6iluzne.png"><br></li><li>  рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдЪ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдкрд░ рдбрдмрд▓-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдореМрдЬреВрджрд╛ рдирд┐рдпрдо рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдкрд░рд┐рд╡рд░реНрддрди рд▓рд╛рдЧреВ рдХрд░реЗрдВред  рдпрд╣ рдХреЗрд╡рд▓ рд╡реИрдЪрд╛рд░рд┐рдХ рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реИрдЪрд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рд╕рд╣реА рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдкреНрд░рд╢рд┐рдХреНрд╖рдг рдХрд╛рд░реНрдп рдХреЗ рдврд╛рдВрдЪреЗ рдХреЗ рднреАрддрд░, рдЖрдк рдореМрдЬреВрджрд╛ рдПрдХ рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br></li><li>  рдПрдХ рдФрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдЬреЛрдбрд╝реЗрдВ - рдЧреЗрдЯрд╡реЗрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рдпрдо рдкрд░ рдЦреАрдВрдЪрдХрд░ рдФрд░ рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред  рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдо рддреИрдпрд╛рд░ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, рдЬреЛ рдХрд┐ рд╕реНрдерд╛рдиреАрдп рдореЗрдВ: /// рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдз рдХреЗ рдпреВрдЖрд░рдЖрдИ рд╕реЗ рдирд╛рдо рд╕реЗ рдкрддрд╛ рдХрд░реЗрдЧрд╛ рдФрд░ рдЗрд╕реЗ рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдп рдореЗрдВ рд░рдЦреЗрдЧрд╛ред  рдСрдкрд░реЗрд╢рди рдХрд╛ рдкрд░рд┐рдгрд╛рдо рд╕реАрдзреЗ рдирд┐рдпрдо рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдмрдлрд░ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдкрд░рд┐рд╡рд░реНрддрди рд╕рд╣реЗрдЬреЗрдВред <br><br><img src="https://habrastorage.org/webt/ai/pr/va/aiprvaljftoye2gr5tf1xjf4s_u.png"><br></li><li>  рдЕрдВрддрд┐рдо рдиреАрддрд┐ рдкрд░рд┐рдгрд╛рдо рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/rm/q0/on/rmq0onkkkvygnyevy574vsgz3ns.png"><br></li><li>  MPG рдирд┐рд░реНрдорд╛рдг рдкреВрд░реНрдг рд╣реИ, рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╣реЗрдЬреЗрдВред <br></li><li>  рдЖрдк рдбреЛрдореЗрди рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рдХрддрд╛рд░ рдкреНрд░рдмрдВрдзрдХ рдХреА рдЬрд╛рдБрдЪ рдХреЗ рд╕рдорд╛рди рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдерд┐рддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рд╕рдлрд▓рддрд╛ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕реЗрдЯрд┐рдВрдЧ рдбреЛрдореЗрди рд╕реЗ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реНрдерд┐рддрд┐ рдФрд░ рджреГрд╢реНрдп рдЪреБрдиреЗрдВ: рд╕реЗрд╡рд╛рдПрдБ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░реЗрдВред  "рдорд▓реНрдЯреА-рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ, рд╕рдВрдмрдВрдзрд┐рдд рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдЦреЛрдЬреЗрдВ рдФрд░ рдЙрд╕рдХреА рд╕реНрдерд┐рддрд┐ рджреЗрдЦреЗрдВред <br></li><li>  рдЖрдк рдЗрд╕ MPG рдХреЛ рдмрд╛рд╣рд░ рд╕реЗ рдирд╣реАрдВ рдмреБрд▓рд╛ рд╕рдХрддреЗ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдиреЗ рдЗрд╕реЗ ip рд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИред  рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдЖрдИрдкреА рдХреЛ 127.0.0.1 рд╕реЗ 0.0.0.0 рддрдХ рдФрд░ рдкреЛрд░реНрдЯ рдХреЛ 7171 рд╕реЗ 7170 рддрдХ рдмрджрд▓ рджреЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреНрд╡реЗрд░реА рдЪрд▓рд╛рдПрдБ: <br><br><pre> <code class="plaintext hljs">curl -vv -k "http://192.168.99.100:7170/trunk/route/routeRules.xml"</code> </pre><br></li><li>  рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрддреНрддрд░ рдорд┐рд▓рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/e5/m8/3n/e5m83ngxz17e8lahsicaxs6lj5s.png"><br></li><li>  рджреЛрдмрд╛рд░рд╛, рдЖрдИрдкреА рдФрд░ рдкреЛрд░реНрдЯ рдХреЛ рдореВрд▓ 127.0.0.1:7171 рдкрд░ рдмрджрд▓реЗрдВред <br></li></ol><br><h4>  4.2.3ред  RoutingMPG рдмрдирд╛рдирд╛ </h4><br><p>  рдЕрдм RoutingMPG рдмрдирд╛рдПрдВред  рдЗрдирдкреБрдЯ рдЕрдиреБрд░реЛрдз рдФрд░ рд░реВрдЯрд┐рдВрдЧ рдирд┐рдпрдореЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рд╡рд╣ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдЧрд╛ рдХрд┐ рдЕрдиреБрд░реЛрдз рдХрд╣рд╛рдВ рдФрд░ рдХрд┐рди рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><ol><li>  рдЯреНрд░рдВрдХ рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдПрдВред </li><li>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдЦрдВрдб 4.2.2 рдХреЗ 2-10 рдЦрдВрдбреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдПрдХ рдирдпрд╛ рдорд▓реНрдЯреА-рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ рдмрдирд╛рдПрдВ: <br><ul><li>  3 - рдирд╛рдо: рд░реВрдЯрд┐рдВрдЧрдПрдордкреАрдЬреА, рдмреИрдХрдПрдВрдб рдкреНрд░рдХрд╛рд░: рдбрд╛рдпрдирд╛рдорд┐рдХ (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рд╡рд┐рднрд┐рдиреНрди рдПрдордкреАрдЬреА рдХреЗ рд▓рд┐рдП рдорд╛рд░реНрдЧ рдЕрдиреБрд░реЛрдз рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рд▓рд┐рдП)ред </li><li>  4 - Rq: рдЧреИрд░- xml, рд░реБ: рдЧреИрд░- xmlред </li><li>  6 - рдирд╛рдо: RoutingHTTP_FSH, ip: 0.0.0.0, port: 7170, + рдкреНрд░рд╛рдкреНрдд рд╡рд┐рдзрд┐ред </li><li>  8 - рдирд╛рдо: рд░реВрдЯрд┐рдВрдЧрдкреЙрд▓рд┐рд╢ред </li><li>  9 - рдирд╛рдо: RoutingPolicy_rule_req, рджрд┐рд╢рд╛: рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ рд╕рд░реНрд╡рд░ред </li></ul><br></li><li>  рдЕрдиреБрд░реЛрдз рдХреЛ рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдЬреЛрдбрд╝реЗрдВред рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдпрдо рдкрд░ "рд░реВрдЯ" рдХрд╛рд░реНрд░рд╡рд╛рдИ рдЦреАрдВрдЪреЗрдВ, рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрдмрд▓-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдлрд╝реАрд▓реНрдб рднрд░реЗрдВ рдФрд░ рдкрд░рд┐рд╡рд░реНрддрди рд▓рд╛рдЧреВ рдХрд░реЗрдВред  Path.xsl рдлрд╝рд╛рдЗрд▓ рдкрд╣рд▓реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЧрдП GetFileMPG рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реЗрдЯрд┐рдВрдЧ рдбреЛрдореЗрди рд╕реЗ рд░реВрдЯрд┐рдВрдЧ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред  рдЙрд╕рдХреЗ рдмрд╛рдж, рдпреВрдЖрд░рдЖрдИ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдЗрд╕ рдСрдкрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдЪреБрдиреА рдЧрдИ рд╣реИрдВред  рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдХрд╛ рдЙрдкрдпреЛрдЧ рд░реВрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдХреБрдЫ рдХреЛ рдЕрдиреНрдп рдПрдордкреАрдЬреА рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рд╣реЗрдбрд░ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрдирдкреБрдЯ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗрд╡рд▓ рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдп рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рд╣реЗрдбрд░ рдФрд░ рдЪрд░ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП: рдЕрд╢рдХреНрдд рд╕реЗ рдЗрдирдкреБрдЯ - рдЪреВрдВрдХрд┐ рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдп рд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рд░реВрдЯрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдЙрдЯрдкреБрдЯ рд╢реВрдиреНрдп рд╣реИ - рдЪреВрдВрдХрд┐ рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдХреЗрд╡рд▓ рд╕реЗрд╡рд╛ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдореЗрдВ рдмрджрд▓рд╛рд╡ рд╣реИред <br><br><img src="https://habrastorage.org/webt/bb/q0/nh/bbq0nh2dtogav5pyfoeneb3t66m.png"><br></li><li>  рдЗрд╕реА рддрд░рд╣, 2 рдФрд░ рдирд┐рдпрдо рдмрдирд╛рдПрдВ рдФрд░ рд╕рднреА рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╣реЗрдЬреЗрдВ: <br><ul><li>  рджрд┐рд╢рд╛: рд╕рд░реНрд╡рд░-рдХреНрд▓рд╛рдЗрдВрдЯ, рдирд╛рдо: RoutingPolicy_rule_resp; <br>  рдкрд░рд┐рд╡рд░реНрддрди: рдЗрдирдкреБрдЯ INPUT, рдЖрдЙрдЯрдкреБрдЯ NULL, рдкрд░рд┐рд╡рд░реНрддрди рдлрд╝рд╛рдЗрд▓ рд╕реНрдерд╛рдиреАрдп: ///RoutMPG/transform/resp.xsltред  Resp.xslt рдлрд╝рд╛рдЗрд▓ рдкрд░рд┐рд╡рд░реНрддрди MPG рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА http рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреА рд╣реИ рдФрд░ рдЗрд╕реЗ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ RoutingMPG рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкрд░ рд╕реЗрдЯ рдХрд░рддреА рд╣реИред  рдпрджрд┐ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХреЛрдб 200 рдореЗрдВ рд╕реЗрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рднрд▓реЗ рд╣реА рд░реВрдкрд╛рдВрддрд░рдг рдПрдордкреАрдЬреА рдореЗрдВ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╣реБрдИ рд╣реЛред <br></li><li>  рджрд┐рд╢рд╛: рддреНрд░реБрдЯрд┐, рдирд╛рдо: RoutingPolicy_rule_error; <br>  рдкрд░рд┐рд╡рд░реНрддрди: рдЗрдирдкреБрдЯ INPUT, рдЖрдЙрдЯрдкреБрдЯ PIPE (рдкреНрд░рд▓реЗрдЦрди рдХреЗ рдЕрдиреБрд╕рд╛рд░, INPUT рдФрд░ OUTPUT рдХреЗ рд░реВрдк рдореЗрдВ рджреЛ рдЖрд╕рдиреНрди рдХреНрд░рд┐рдпрд╛ рдиреЛрдбреНрд╕ рдХреЗ рдмреАрдЪ PIPE рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдореЗрдореЛрд░реА рдХреЛ рдХрдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ), рдкрд░рд┐рд╡рд░реНрддрди рдлрд╝рд╛рдЗрд▓ рд╕реНрдерд╛рдиреАрдп рд╣реИ ///RoutMPG/transform/errors.xslред  рддреНрд░реБрдЯрд┐рдпреЛрдВред Xsl рдлрд╝рд╛рдЗрд▓ рд░реВрдкрд╛рдВрддрд░рдг MPG рд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕реЗ рддреНрд░реБрдЯрд┐ рдХреЛрдб рдФрд░ рдкрд╛рда рдкреНрд░рд╛рдкреНрдд рдХрд░рддреА рд╣реИ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рджреНрд╡рд╛рд░рд╛ рдЕрдкреЗрдХреНрд╖рд┐рдд рдкреНрд░рд╛рд░реВрдк рдореЗрдВ JSON рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рдЙрддреНрдкрдиреНрди рдХрд░рддреА рд╣реИред <br></li></ul><br></li><li>  рдЕрдВрддрд┐рдо рдиреАрддрд┐ рдкрд░рд┐рдгрд╛рдо рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/um/kx/x-/umkxx-3kwx3hi1dzmc1e80ko-wa.png"><br></li><li>  MPG рдирд┐рд░реНрдорд╛рдг рдкреВрд░реНрдг рд╣реИ, рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╣реЗрдЬреЗрдВред <br></li><li>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд░реНрд▓ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреНрд╡реЗрд░реА рдЪрд▓рд╛рдПрдБ: <br><br><pre> <code class="plaintext hljs">curl -vv -k "http://192.168.99.100:7170/dp/test/transformMessage"</code> </pre> <br></li><li>  рдпрджрд┐ рдЖрдкрдХреЛ рдирд┐рдореНрди рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рд╕рдм рдХреБрдЫ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рддреНрд░реБрдЯрд┐ рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╕рдВрджреЗрд╢ рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдмреИрдХрдПрдВрдб (рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ IIBMPG) рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдЕрд╕рдлрд▓ рд░рд╣рд╛ред  рдЕрдЧрд▓реЗ рдЪрд░рдг рдкрд░ рдЬрд╛рдПрдВред <br><br><img src="https://habrastorage.org/webt/8g/iq/tl/8giqtlzspsyix66vnl7mkcxnelk.png"><br></li></ol><br><h4>  4.2.4ред  IIBMPG рдХрд╛ рдирд┐рд░реНрдорд╛рдг </h4><br><p>  рдЕрдЧрд▓рд╛ рдХрджрдо рдПрдХ рдкрд░рд┐рд╡рд░реНрддрдирдХрд╛рд░реА рдПрдордкреАрдЬреА рдмрдирд╛рдирд╛ рд╣реИред  рдорд╛рди рд▓реАрдЬрд┐рдП рдХрд┐ рдмрд╛рд╣рд░реА рд╕рд┐рд╕реНрдЯрдо JSON рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╣реИ рдФрд░ рдЖрдВрддрд░рд┐рдХ XML рд╣реИред  рд╣рдореЗрдВ рдЗрдирдкреБрдЯ рд╕рдВрджреЗрд╢ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдВрддрд░рд┐рдХ рдкреНрд░рдгрд╛рд▓реА рдЗрд╕реЗ рд╕рдордЭ рд╕рдХреЗред  рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдпрд╣ рд╣рдореЗрд╢рд╛ рдкреВрд░реЗ рд╕рдВрджреЗрд╢ рдХрд╛ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд░реВрдкрд╛рдВрддрд░рдг рдирд╣реАрдВ рд╣реИред  рдпрд╣ рдЕрдХреНрд╕рд░ рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреБрдирд░реНрдирд┐рд░реНрдорд┐рдд рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рд╛рде, рдХрднреА-рдХрднреА рдПрдХ рдЫрдВрдЯрдиреА рдпрд╛ рд╕рдВрд╡рд░реНрдзрд┐рдд рд╕рдВрджреЗрд╢ рдХреЛ рд╡реНрдпрдХреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛрддрд╛ рд╣реИред </p><br><ol><li>  рдЯреНрд░рдВрдХ рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдПрдВред </li><li>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдЦрдВрдб 4.2.2 рдХреЗ 2-10 рдЦрдВрдбреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдПрдХ рдирдпрд╛ рдорд▓реНрдЯреА-рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЧреЗрдЯрд╡реЗ рдмрдирд╛рдПрдВ: <br><ul><li>  3 - рдирд╛рдо: IIBMPG, рдмреИрдХрдПрдВрдб рдкреНрд░рдХрд╛рд░: рдЧрддрд┐рд╢реАрд▓ </li><li>  4 - Rq: JSON, рд░реБ: XML </li><li>  6 - рдирд╛рдо: IIBHTTP_FSH, рдЖрдИрдкреА: 127.0.0.1 (рдХреЗрд╡рд▓ рд╕рдорд╛рди рдбреЗрдЯрд╛рдкреЙрд╡рд░ рд╕реЗ рдЕрдиреБрд░реЛрдз), рдкреЛрд░реНрдЯ: 7172, + рдкреНрд░рд╛рдкреНрдд рд╡рд┐рдзрд┐ </li><li>  8 - рдирд╛рдо: IIBPolicy </li><li>  9 - рдирд╛рдо: IIBPolicy_rule_req, рджрд┐рд╢рд╛: рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ рд╕рд░реНрд╡рд░ </li></ul><br></li><li>  рд╡рд┐рд╡рд░рдг рдЬреЛрдбрд╝реЗрдВред  рдЕрдиреБрд░реЛрдз рд╢реАрд░реНрд╖рд▓реЗрдЦреЛрдВ рдореЗрдВ X-DP-Transform-Name рдХреЗ рдЖрдзрд╛рд░ рдкрд░, IIBRuleRoute.xsl рдлрд╝рд╛рдЗрд▓ рд╕реНрдерд╛рдиреАрдп рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреА рд╣реИ: ///IIB/route/IIBRouteRules.xml рдЗрд╕ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рдкрд░рд┐рд╡рд░реНрддрди, рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдФрд░ рддреНрд░реБрдЯрд┐ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдирд╛рдо рджрд░реНрдЬ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдХреЗ рдорд╛рдиреЛрдВ рдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрджрд░реНрдн рдЪрд░ рдореЗрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред var: // Reference / IIB / reqTransform, var: // reference / IIB / ansTransform, var: // рд╕рдВрджрд░реНрдн / IIB / рдЗрд░реЗрдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдоред  рд╣реЗрдбрд░ (url, uri, expire, timeout) рд╕реЗ рдЕрдиреНрдп рдорд╛рди рднреА рд╕рдВрджрд░реНрдн рдЪрд░ рдореЗрдВ рд░рдЦреЗ рдЧрдП рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/xo/6b/ek/xo6bekae8dsumpvosfe5xnbhneg.png"><br></li><li>  рдЕрдкрдиреЗ рдирд┐рдпрдо рдореЗрдВ рдЙрдиреНрдирдд рдЦреАрдВрдЪрдХрд░ рдФрд░ рд╕реВрдЪреА рд╕реЗ XML рдореЗрдВ рдХрдирд╡рд░реНрдЯ рдХреНрд╡реЗрд░реА рдкрд░рдо рдХрд╛ рдЪрдпрди рдХрд░рдХреЗ рдПрдХ рдФрд░ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдЬреЛрдбрд╝реЗрдВ, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред  рдЖрдкрдХреЛ рдПрдХ рдирдпрд╛ рдЗрдирдкреБрдЯ рд░реВрдкрд╛рдВрддрд░рдг рдорд╛рдирдЪрд┐рддреНрд░ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕реЗ рдПрдХ рдирд╛рдо (cmnJSONParseCNVM) рдФрд░ рдЖрд╡рд╢реНрдпрдХ рдкреНрд░рдХрд╛рд░ (JSON) рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/ir/az/gb/irazgbszkybdgjkor1otjvrllqc.png"><br><br><img src="https://habrastorage.org/webt/yd/tk/2x/ydtk2xhbveh4j6z1gsweidcyhak.png"><br></li><li>  рдорд╛рдирдХ рд░реВрдкрд╛рдВрддрд░рдг рдХреЗ рдмрд╛рдж рдкрд░рд┐рд╡рд░реНрддрди рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдкрд░рд┐рд╡рд░реНрддрди рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд┐рдЫрд▓реЗ рдкрд░рд┐рд╡рд░реНрддрди рдореЗрдВ рд╕реЗрдЯ рдЪрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдкрд░рд┐рд╡рд░реНрддрди рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╣реЛ, рдФрд░ рдЗрдирдкреБрдЯ рд╕рдВрджреЗрд╢ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдлрд╝рд╛рдЗрд▓ рдХреЛ "рдордХреНрдЦреА рдкрд░" рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред  рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдп рддреИрдпрд╛рд░ рд╣реИред  рдЕрдЧрд▓рд╛ рдХрджрдо рд╕рдВрджреЗрд╢ рдХреЛ рд░реВрдЯ рдХрд░рдирд╛ рд╣реИ, рдФрд░ рд╕рдВрджреЗрд╢ рдХрд╛ рд╢рд░реАрд░ рдирд╣реАрдВ рдмрджрд▓реЗрдЧрд╛, рдЗрд╕рд▓рд┐рдП рд╣рдо dpvar_1 рдЪрд░ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдкрд░рд┐рдгрд╛рдо рдХреЛ рдЙрд╕рдореЗрдВ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВред  рдпрд╣ рдЪрд░ рд╣реИ рдХрд┐ рд╣рдо рдкрд░рд┐рдгрд╛рдо рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рд▓рд┐рдП рдЗрдирдкреБрдЯ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдкрд░рд┐рд╡рд░реНрддрди рд╕рд╣реЗрдЬреЗрдВред <br><br><img src="https://habrastorage.org/webt/yz/cf/do/yzcfdogrjturkuvvmqx7bio_ex4.png"><br></li><li>  рдПрдХ рд░реВрдЯрд┐рдВрдЧ рдХреНрд░рд┐рдпрд╛ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдирд┐рдореНрди рдкреИрд░рд╛рдореАрдЯрд░ рд╕реЗрдЯ рдХрд░реЗрдВред  IIBURLRoute.xsl рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рдВрджрд░реНрдн рдЪрд░ рдХреЗ рдорд╛рди рдкреНрд░рд╛рдкреНрдд рд╣реЛрддреЗ рд╣реИрдВ, рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдХреЛ рд╕реЗрд╡рд╛ рдЕрдиреБрд░реЛрдз рдЪрд░ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдмрд╛рдХреА рд╕реЗ рдпрд╣ рдЧрдВрддрд╡реНрдп рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рдПрдХ рдпреВрдЖрд░рдЖрдИ рдмрдирд╛рддрд╛ рд╣реИ, рдЬреЛ рд╕реЗрд╡рд╛ рдЪрд░ рдореЗрдВ рднреА рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/kl/vk/cf/klvkcfgcro60wznqwo0ibxdncys.png"><br></li><li>  рдЗрд╕реА рддрд░рд╣, 2 рдФрд░ рдирд┐рдпрдо рдмрдирд╛рдПрдВ рдФрд░ рд╕рднреА рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╣реЗрдЬреЗрдВ: <br><ul><li>  рджрд┐рд╢рд╛: рд╕рд░реНрд╡рд░-рдХреНрд▓рд╛рдЗрдВрдЯ, рдирд╛рдо: IIBPolicy_rule_resp; <br>  рдкрд░рд┐рд╡рд░реНрддрди: рдЗрдирдкреБрдЯ INPUT, рдЖрдЙрдЯрдкреБрдЯ PIPE, рдкрд░рд┐рд╡рд░реНрддрди рдлрд╝рд╛рдЗрд▓ var: // рд╕рдВрджрд░реНрдн / IIB / ansTransform (рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрджрд░реНрдн рдЪрд░ "рдордХреНрдЦреА рдкрд░")ред </li><li>  рджрд┐рд╢рд╛: рддреНрд░реБрдЯрд┐, рдирд╛рдо: IIBPolicy_rule_error; <br>  рдкрд░рд┐рд╡рд░реНрддрди: рдЗрдирдкреБрдЯ NULL, рдЖрдЙрдЯрдкреБрдЯ PIPE, рдкрд░рд┐рд╡рд░реНрддрди рдлрд╝рд╛рдЗрд▓ var: // рд╕рдВрджрд░реНрдн / IIB / рдЗрд░реЗрдЯреНрд░рд╛рдВрд╕рдлрд╝реЙрд░реНрдо (рд╕рдВрджрд░реНрдн рдкрд░рд┐рд╡рд░реНрддрди рдордХреНрдЦреА рдкрд░ рддреНрд░реБрдЯрд┐ рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд▓рд┐рдП)ред </li></ul><br></li><li>  рдЕрдВрддрд┐рдо рдиреАрддрд┐ рдкрд░рд┐рдгрд╛рдо рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><img src="https://habrastorage.org/webt/qi/d9/7u/qid97ursvmwifemzxbfdtudjkjc.png"><br></li><li>  MPG рдирд┐рд░реНрдорд╛рдг рдкреВрд░реНрдг рд╣реИ, рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╣реЗрдЬреЗрдВред <br></li></ol><br><h2>  рднрд╛рдЧ 5. рдкрд░реАрдХреНрд╖рдг </h2><br><h3>  5.1ред  рдЯреНрд░реЗрдирд┐рдВрдЧ </h3><br><ol><li>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрддрд╛рд░ рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдкрдврд╝рдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП rfhutil рдЙрдкрдпреЛрдЧрд┐рддрд╛; </li><li>  рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓реЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рдорд╛рди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдкрд░реАрдХреНрд╖рдг рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИрдВред </li></ol><br><h3>  5.2ред  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреА рдЬрд╛рдБрдЪ </h3><br><ol><li>  рдХрд░реНрд▓ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд░реЛрдз рднреЗрдЬреЗрдВ (рдиреАрдЪреЗ рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП, рд╡рд░реНрддрдорд╛рди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ example.json рдХреЗ рд╕рдорд╛рди рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП)ред <br><br><pre> <code class="plaintext hljs">curl -vv -k "http://192.168.99.100:7170/dp/test/transformMessage" -H "Content-Type: application/json" --data-binary @example.json</code> </pre> <br></li><li>  Rfhutil рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ 2 рдЙрджрд╛рд╣рд░рдг рдЦреЛрд▓реЗрдВ рдФрд░ рдкрд╣рд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде DP.IIB.REQIN рдХрддрд╛рд░ рд╕реЗ рд╕рдВрджреЗрд╢ рдШрдЯрд╛рдПрдВ; <br></li><li>  MQMD рдЯреИрдм рдкрд░ рдЬрд╛рдПрдВ рдФрд░ MessageID рдХреЛ рдХреЙрдкреА рдХрд░реЗрдВ; <br></li><li>  рджреВрд╕рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, RQxml рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ, MQMD рдЯреИрдм рдореЗрдВ, CorrelID рдореЗрдВ рд╕рдВрджреЗрд╢ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдбрд╛рд▓реЗрдВ рдФрд░ DP.IIB.RESIN рдХрддрд╛рд░ рдореЗрдВ рд╕рдВрджреЗрд╢ рдбрд╛рд▓реЗрдВ; <br></li><li>  рдЖрдкрдХреЛ рдПрдХ рд╕рдорд╛рди рдЙрддреНрддрд░ рдорд┐рд▓рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/mn/kj/xj/mnkjxj0lyafkvo7hjgpyytuytee.png"><br></li><li>  рджреЛрд╣рд░рд╛рдПрдВ рдЪрд░рдг 1-3; <br></li><li>      rs_error.xml       correllId; <br></li><li>     <br><br><img src="https://habrastorage.org/webt/_y/i5/hb/_yi5hbw1lnrfwsuryyln9z3rdic.png"><br></li></ol><br><h2>  6.  </h2><br><h3>  6.1ред  рд╕рд┐рджреНрдзрд╛рдВрдд </h3><br><p> Log Targets   ,         . <br></p><br><p>     Log Targets    .     ,      4     1000Kb,      .              2-4    .       ,        .  , DataPower,  , ,   ,        ,      ,      -  MPG,     . <br></p><br><h3> 6.2.  </h3><br><ol><li>    trunk; </li><li>    Log Target   ; </li><li>      : <br><ul><li> (IIB_LOG); </li><li> (File); </li><li>  (Text); </li><li>  timestamp(zulu); </li><li>   (logtemp:///IIB.log тАФ  IIBMPG); </li><li>  (1000). <br><img src="https://habrastorage.org/webt/ev/sm/mj/evsmmjxy8m6suwkbaeojvgcudf8.png"><br></li></ul><br></li><li>   .        MPG   IIBMPG. <br><br><img src="https://habrastorage.org/webt/lq/vl/5l/lqvl5lvc_w8powdnufq6emgjgwc.png"><br></li><li>    ,     ,    (  ,        ). <br><br><img src="https://habrastorage.org/webt/ia/tu/98/iatu98v3l0fioelwktk8uwu-6fw.png"><br></li><li>         ; <br></li><li>    ; <br></li><li>          . <br></li><li>      Log Targets    MPG. <br></li><li>   : <br><ul><li>             , ,         . <br><br><img src="https://habrastorage.org/webt/z2/ix/vt/z2ixvtjk8eidxsfbbe6mmfcecnc.png"><br></li><li>        . <br><br><img src="https://habrastorage.org/webt/go/ik/wl/goikwl1pdvlzhiyd_d7gqpffzo8.png"><br></li></ul><br></li></ol><br><h2>  7.  -    </h2><br><ol><li>       тАУ  ,   .    тАУ  ,   ,     -    . <br></li><li>      .       View Logs.      ,  ┬л  ┬╗, ┬л   ┬╗     . <br></li><li>       .           .       MPG       Show Probe -&gt; Enable Probe.         .   ,        . <br><br><img src="https://habrastorage.org/webt/re/6s/mh/re6smhejkm-i8cdmmeky6ch6cmy.png"><br></li><li>   ,      . <br></li></ol><br><p>     тАУ    . <br></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi442686/">https://habr.com/ru/post/hi442686/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi442676/index.html">рдбреНрд░реАрдореНрд╕ рд▓реАрдб: рдЕрдВрдбрд░рдЧреНрд░рд╛рдЙрдВрдб</a></li>
<li><a href="../hi442678/index.html">рд╕реНрдЯреАрд░рд┐рдпреЛ рд▓рд┐рдереЛрдЧреНрд░рд╛рдлреА рдореЗрдВ рд╕рдмрд╕реЗ рдмрдбрд╝реА рдкрд░рд┐рдпреЛрдЬрдирд╛: рдПрдХ 3 рдбреА рдкреНрд░рд┐рдВрдЯрд░ рдкрд░ рдореБрджреНрд░рд┐рдд рдореИрдорде рдХрдВрдХрд╛рд▓</a></li>
<li><a href="../hi442680/index.html">рд╕рдВрд╡реЗрджреА рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХрд┐рдпрд╛рдВ рдЖрдкрдХреЛ рдзреНрд╡рдирд┐рдпреЛрдВ рдХреА рдорджрдж рд╕реЗ рджреБрдирд┐рдпрд╛ рдХреЛ рджреЗрдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдВрдЧреА: рдорд╛рдирд╡ рдорд╕реНрддрд┐рд╖реНрдХ рдХреА рддрдВрддреНрд░рд┐рдХрд╛-рддрдВрддреНрд░ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi442682/index.html">C ++ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдХреИрд╕реЗ рдЯрд╛рдЗрдк рдХрд░реЗрдВ рдФрд░ рдХреИрд╕реЗ рдЕрд╕реЗрдВрдмрд▓ рдХрд░реЗрдВ</a></li>
<li><a href="../hi442684/index.html">рд╕рдВрддреБрд▓рд┐рдд рд╕рд╛рдЗрдЯ рдкреНрд░рджрд░реНрд╢рдиред рднрд╛рдЧ 3: рд╕рд╛рдордЧреНрд░реА</a></li>
<li><a href="../hi442688/index.html">рд╕реНрдХрд╛рд▓рд╛ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг - рдПрдХ рддрддреНрдХрд╛рд▓ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдпрд╛ рдПрдХ рд╕реБрдЦрдж рдЕрд╡рд╕рд░?</a></li>
<li><a href="../hi442690/index.html">рдЪрдВрджреНрд░ рдорд┐рд╢рди "рдмреЗрд░реЗрд╢рд┐рдЯ" - рдкреГрдереНрд╡реА рдХреА рдкреГрд╖реНрдарднреВрдорд┐ рдкрд░ рд╕реЗрд▓реНрдлреА</a></li>
<li><a href="../hi442692/index.html">рдмрд┐рдЪреМрд▓рд┐рдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдмреНрд▓реЙрдХрдЪреИрди: рд╣рдордиреЗ рд╡рд┐рддрд░рд┐рдд рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рдкреНрд░рддрд┐рднреВрддрд┐рдпреЛрдВ рдХреЛ рдХреИрд╕реЗ рднреЗрдЬрд╛</a></li>
<li><a href="../hi442694/index.html">рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рджрд┐рдЧреНрдЧрдЬреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рднрд╛рд░рдд рдореЗрдВ рд▓реЙрдиреНрдЪ рд╣реБрдЖ рдФрд░ рдПрдХ рд╕рдкреНрддрд╛рд╣ рдореЗрдВ рдПрдХ рдорд┐рд▓рд┐рдпрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд┐рдпрд╛</a></li>
<li><a href="../hi442696/index.html">рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдПрд╕: рдЗрдВрдЯрд░рдиреЗрдЯ рдХреА рдЪреАрдЬреЗрдВ рдФрд░ рд░рд┐рдкреЛрд░реНрдЯ InoThings ++ 2019 рдкрд░</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>