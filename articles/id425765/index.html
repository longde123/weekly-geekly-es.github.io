<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â© ğŸš¤ ğŸ‘¨ğŸ¾ Mekanisme Penyerahan - Sihir Khusus Kuba ğŸ•• ğŸ•µğŸ¼ ğŸ‘©ğŸ»â€âš–ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tampilan, atau pandangan, adalah salah satu konsep platform CUBA, bukan yang paling umum di dunia kerangka kerja web. Untuk memahaminya berarti menyel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mekanisme Penyerahan - Sihir Khusus Kuba</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/425765/"><p><img src="https://habrastorage.org/webt/ro/89/bc/ro89bcf9p8amjxin9ca0ksoctf8.jpeg" alt="CPAP"></p><br><p>  Tampilan, atau pandangan, adalah salah satu konsep platform CUBA, bukan yang paling umum di dunia kerangka kerja web.  Untuk memahaminya berarti menyelamatkan diri dari kesalahan bodoh ketika, karena pemuatan data yang tidak lengkap, aplikasi tiba-tiba berhenti bekerja.  Mari kita lihat apa representasi (pun intended) dan mengapa itu sebenarnya nyaman. </p><br><h3 id="problema-nezagruzhennyh-dannyh">  Masalah data yang dibongkar </h3><br><p>  Mari kita mengambil area subjek yang lebih sederhana dan mempertimbangkan masalah menggunakan contohnya.  Misalkan kita memiliki entitas <em>Pelanggan</em> yang merujuk ke entitas <em>CustomerType</em> dalam hubungan banyak ke satu, dengan kata lain, pembeli memiliki tautan ke jenis tertentu yang menjelaskannya: misalnya, â€œuang tunai sapiâ€, â€œkakapâ€, dll.  Entitas <em>CustomerType</em> memiliki atribut <em>nama</em> tempat <em>nama</em> tipe disimpan. </p><br><p>  Dan, mungkin, semua pendatang baru (atau bahkan pengguna tingkat lanjut) di CUBA cepat atau lambat menerima kesalahan ini: </p><br><p><code>IllegalStateException: Cannot get unfetched attribute [type] from detached object com.rtcab.cev.entity.Customer-e703700d-c977-bd8e-1a40-74afd88915af [detached].</code> </p> <br><p><img src="https://habrastorage.org/webt/-x/ss/fm/-xssfm8nzwvf86jcicyrelm5nby.png" alt="Tidak bisa mendapatkan kesalahan atribut yang tidak dapat diambil di UI CUBA"></p><br><p>  Akui saja, Anda juga melihatnya dengan mata kepala sendiri?  Saya - ya, dalam seratus situasi yang berbeda.  Dalam artikel ini, kita akan memeriksa penyebab masalah ini, mengapa ada, dan bagaimana menyelesaikannya. <br>  Sebagai permulaan, pengantar kecil untuk konsep pandangan. </p><br><h3 id="chto-takoe-predstavlenie">  Apa itu pandangan? </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tampilan</a> di CUBA pada dasarnya adalah kumpulan kolom dalam database yang harus dimuat bersama dalam satu permintaan. </p><a name="habracut"></a><br><p>  Misalkan kita ingin membuat UI dengan tabel pelanggan, di mana kolom pertama adalah nama pelanggan, dan yang kedua adalah nama tipe dari atribut <em>customerType</em> (seperti pada tangkapan layar di atas).  Adalah logis untuk mengasumsikan bahwa dalam model data ini kita akan memiliki dua tabel terpisah dalam database, satu untuk entitas <em>Pelanggan</em> , yang lain untuk <em>CustomerType</em> .  <code>SELECT * from CEV_CUSTOMER</code> akan mengembalikan kami data hanya dari satu tabel ( <code>name</code> atribut, dll.).  Tentunya, untuk mendapatkan data juga dari tabel lain, kami akan menggunakan GABUNG. </p><br><p>  Dalam kasus menggunakan kueri SQL klasik menggunakan BERGABUNG, hierarki asosiasi (atribut referensi) berkembang dari grafik ke daftar datar. <br>  <em>Catatan Penerjemah:</em> dengan kata lain, hubungan antara tabel dihapus, dan hasilnya disajikan dalam array data tunggal yang mewakili gabungan tabel. </p><br><p>  Dalam kasus CUBA, ORM digunakan, yang tidak kehilangan informasi tentang hubungan antar entitas dan menyajikan hasil kueri dalam bentuk grafik integral dari data yang diminta.  Dalam hal ini, JPQL, objek analog dari SQL, digunakan sebagai bahasa query. </p><br><p>  Namun demikian, data masih perlu dibongkar dari database dan diubah menjadi entitas graph.  Untuk ini, mekanisme pemetaan objek-relasional (yang JPA) memiliki dua pendekatan utama untuk query ke database. </p><br><h3 id="lazy-loading-vs-eager-fetching">  Pemuatan malas vs  sangat ingin mengambil </h3><br><p>  Pemuatan malas dan pemuatan serakah adalah dua strategi yang memungkinkan untuk mendapatkan data dari database.  Perbedaan mendasar antara keduanya adalah ketika data dari tabel tertaut dimuat.  Contoh kecil untuk pemahaman yang lebih baik: </p><br><p>  Ingat adegan dari buku "The Hobbit, atau Round Trip," di mana sekelompok gnome di perusahaan Gandalf dan Bilbo mencoba untuk meminta menginap di rumah Beorn?  Gandalf memerintahkan para kurcaci untuk tampil ketat secara bergantian dan hanya setelah dia dengan hati-hati menyetujui Beorn dan mulai menyajikannya satu per satu agar tidak mengejutkan pemiliknya dengan kebutuhan menampung 15 tamu sekaligus. </p><br><p><img src="https://habrastorage.org/webt/ys/pm/ql/yspmqlsytd5vmefxszi9xeqqduc.jpeg" alt="Gandalf dan Kurcaci di Rumah Beorn"></p><br><p>  Jadi, Gandalf dan para gnome di rumah Beorn ... Ini mungkin bukan hal pertama yang terlintas dalam pikiran ketika berpikir tentang unduhan yang malas dan serakah, tetapi pasti ada kesamaan.  Gandalf bertindak dengan bijak di sini, karena ia menyadari keterbatasan.  Dia dapat dikatakan secara sadar memilih pemuatan malas dari gnome, karena dia mengerti bahwa mengunduh semua data sekaligus akan menjadi operasi yang terlalu berat untuk database ini.  Namun, setelah gnome ke-8, Gandalf beralih ke pemuatan serakah dan memuat banyak gnome yang tersisa, karena dia memperhatikan bahwa terlalu sering mengakses ke basis data mulai membuatnya gugup. </p><br><p>  Moralnya adalah bahwa pemuatan yang malas dan serakah memiliki pro dan kontra mereka.  Apa yang harus diterapkan dalam setiap situasi tertentu, Anda memutuskan. </p><br><h3 id="problema-zaprosa-n1">  Minta Masalah N +1 </h3><br><p>  Masalah permintaan N + 1 sering muncul jika Anda tanpa berpikir menggunakan pemuatan malas ke mana pun Anda pergi.  Untuk mengilustrasikannya, mari kita lihat sepotong kode Grails.  Ini tidak berarti bahwa di Grails semuanya memuat dengan malas (pada kenyataannya, Anda memilih sendiri metode boot).  Di Grails, kueri ke database secara default mengembalikan instance entitas dengan semua atribut dari tabelnya.  Intinya, <code>SELECT * FROM Pet</code> dieksekusi. </p><br><p>  Jika Anda ingin masuk lebih dalam ke hubungan antar entitas, Anda harus melakukannya post factum.  Berikut ini sebuah contoh: </p><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">function</span></span> getPetOwnerNamesForPets(String nameOfPet) { def pets = Pet.findAll(sort:"name") { <span class="hljs-type"><span class="hljs-type">name</span></span> == nameOfPet } def ownerNames = [] pets.<span class="hljs-keyword"><span class="hljs-keyword">each</span></span> { ownerNames &lt;&lt; it.<span class="hljs-keyword"><span class="hljs-keyword">owner</span></span>.name } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ownerNames.<span class="hljs-keyword"><span class="hljs-keyword">join</span></span>(", ") }</code> </pre> <br><p>  Grafik <code>it.owner.name</code> sini dengan satu baris: <code>it.owner.name</code> .  Pemilik adalah hubungan yang tidak dimuat dalam permintaan asli ( <code>Pet.findAll</code> ).  Jadi, setiap kali baris ini dipanggil, GORM akan melakukan sesuatu seperti <code>SELECT * FROM Person WHERE id='â€¦'</code> .  Pemuatan malas air murni. </p><br><p>  Jika Anda menghitung jumlah total kueri SQL, Anda mendapatkan N (satu pemilik untuk setiap panggilan <code>it.owner</code> ) +1 (untuk <code>Pet.findAll</code> asli).  Jika Anda ingin melihat lebih dalam grafik entitas terkait, kemungkinan database Anda akan dengan cepat menemukan batasnya. </p><br><p>  Sebagai pengembang, Anda tidak mungkin memperhatikan hal ini, karena dari sudut pandang Anda, Anda hanya melihat-lihat grafik objek.  Sarang tersembunyi ini dalam satu baris pendek menyebabkan database sangat menyakitkan dan membuat pemuatan malas terkadang berbahaya. </p><br><p>  Mengembangkan analogi hobi, masalah N + 1 dapat memanifestasikan dirinya sebagai berikut: bayangkan bahwa Gandalf tidak mampu menyimpan nama-nama gnome dalam ingatannya.  Karena itu, memperkenalkan kurcaci satu per satu, ia dipaksa untuk mundur ke kelompoknya dan meminta namanya kepada kurcaci.  Dengan informasi ini, dia kembali ke Beorn dan mewakili Thorin.  Kemudian ia mengulangi manuver ini untuk Bifur, Bofur, Fili, Kili, Dori, Nori, Ori, Oin, Gloyn, Balin, Dvalin dan Bombur. </p><br><p><img src="https://habrastorage.org/webt/fw/g_/vs/fwg_vscjob0zb0yzrn7dhrj2o_s.jpeg" alt="Katai N + 1 Masalah"></p><br><p>  Sangat mudah untuk membayangkan bahwa skenario seperti itu tidak akan mungkin terjadi: penerima apa yang ingin menunggu informasi yang diminta begitu lama?  Karena itu, Anda sebaiknya tidak menggunakan pendekatan ini tanpa berpikir dan bergantung secara buta pada pengaturan default mapper kegigihan Anda. </p><br><h3 id="reshaem-problemu-zaprosov-n1-s-pomoschyu-cuba-views">  Memecahkan masalah kueri N + 1 menggunakan tampilan CUBA </h3><br><p>  Di CUBA, Anda kemungkinan besar tidak akan pernah menemui masalah permintaan N + 1, karena platform memutuskan untuk tidak menggunakan pemuatan malas tersembunyi sama sekali.  Sebaliknya, CUBA memperkenalkan konsep representasi.  Tampilan adalah deskripsi atribut mana yang harus dipilih dan dimuat bersama dengan instance entitas.  Sesuatu seperti </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> pet.name, person.name <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Pet pet <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> Person person <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> pet.owner == person.id</code> </pre> <br><p>  Di satu sisi, tampilan menggambarkan kolom yang perlu dimuat dari tabel utama ( <em>Pet</em> ) (alih-alih memuat semua atribut melalui *), di sisi lain, itu menggambarkan kolom yang harus dimuat dari tabel c-JOIN. </p><br><p>  Anda dapat membayangkan tampilan CUBA sebagai tampilan SQL untuk OR-Mapper: prinsip operasi kira-kira sama. </p><br><p>  Di platform CUBA, Anda tidak bisa menjalankan kueri melalui DataManager tanpa menggunakan tampilan.  Dokumentasi memberikan contoh: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> DataManager dataManager; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Book </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadBookById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UUID bookId)</span></span></span><span class="hljs-function"> </span></span>{ LoadContext&lt;Book&gt; loadContext = LoadContext.create(Book.class) .setId(bookId).setView(<span class="hljs-string"><span class="hljs-string">"book.edit"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dataManager.load(loadContext); }</code> </pre> <br><p>  Di sini kami ingin mengunduh buku dengan ID-nya.  Metode <code>setView("book.edit")</code> , ketika membuat konteks Load, menunjukkan tampilan buku mana yang harus dimuat dari database.  Jika Anda tidak melewatkan tampilan apa pun, pengelola data menggunakan salah satu dari tiga tampilan standar yang dimiliki setiap entitas: tampilan <em>_local</em> .  Lokal di sini mengacu pada atribut yang tidak merujuk tabel lain, semuanya sederhana. </p><br><h3 id="reshenie-problemy-s-illegalstateexception-cherez-views">  Memecahkan masalah dengan IllegalStateException melalui tampilan </h3><br><p>  Sekarang kita memiliki sedikit pemahaman tentang konsep representasi, mari kita kembali ke contoh pertama dari awal artikel dan mencoba untuk mencegah melempar pengecualian. </p><br><p>  Pesan <em>IllegalStateException: Tidak dapat memperoleh atribut yang tidak dapat diambil [] dari objek terpisah</em> hanya berarti bahwa Anda mencoba untuk menampilkan beberapa atribut yang tidak termasuk dalam tampilan yang memuat entitas. </p><br><p>  Seperti yang Anda lihat, di deskriptor layar browse saya menggunakan tampilan <em>_local</em> , dan ini adalah seluruh masalahnya: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dsContext</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupDatasource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"customersDs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.rtcab.cev.entity.Customer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">view</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_local"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">query</span></span></span><span class="hljs-tag">&gt;</span></span> &lt;![CDATA[select e from cev$Customer e]]&gt; <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">query</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupDatasource</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dsContext</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Untuk menghilangkan kesalahan, pertama-tama Anda harus memasukkan jenis pelanggan dalam tampilan.  Karena kita tidak dapat mengubah tampilan default <em>_local</em> , kita dapat membuat milik kita sendiri.  Di Studio, ini bisa dilakukan, misalnya, sebagai berikut (klik kanan pada entitas&gt; buat tampilan): </p><br><p><img src="https://habrastorage.org/webt/ki/oz/vy/kiozvyydas04xj9ypswst8afvxo.png" alt="Membuat tampilan di Studio"></p><br><p>  baik secara langsung di deskriptor <a href="">views.xml</a> aplikasi kita: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.rtcab.cev.entity.Customer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">extends</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_local"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"customer-view"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">view</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_minimal"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Setelah itu, kami mengubah tautan ke tampilan di layar jelajahi, seperti ini: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupDatasource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"customersDs"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"com.rtcab.cev.entity.Customer"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">view</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"customer-view"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">query</span></span></span><span class="hljs-tag">&gt;</span></span> &lt;![CDATA[select e from cev$Customer e]]&gt; <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">query</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupDatasource</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ini sepenuhnya menyelesaikan masalah, dan sekarang data tautan ditampilkan di layar tampilan pelanggan. </p><br><h3 id="predstavlenie-_minimal-i-ponyatie-instance-name">  Tampilan _Minimal dan nama contoh </h3><br><p>  Apa lagi yang layak disebutkan dalam konteks tampilan adalah tampilan <em>_minimal</em> .  Pandangan lokal memiliki definisi yang sangat jelas: itu mencakup semua atribut entitas, yang merupakan atribut langsung dari tabel (yang bukan kunci asing). </p><br><p>  Definisi representasi minimal tidak begitu jelas, tetapi juga cukup jelas. </p><br><p>  CUBA memiliki konsep nama instance entitas - nama instance.  Nama instance adalah setara dengan metode <code>toString()</code> di Java lama yang baik.  Ini adalah representasi string entitas untuk ditampilkan pada UI dan untuk digunakan dalam tautan.  Nama instance diatur menggunakan anotasi entitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NamePattern</a> . </p><br><p>  Ini digunakan seperti ini: <code>@NamePattern("%s (%s)|name,code")</code> .  Kami memiliki dua hasil: </p><br><h4 id="imya-ekzemplyara-opredelyaet-otobrazhenie-suschnosti-v-ui">  Nama instance mendefinisikan pemetaan entitas ke UI </h4><br><p>  Pertama-tama, nama instance menentukan apa dan dalam urutan apa akan ditampilkan di UI jika entitas merujuk ke entitas lain (sebagaimana <em>Pelanggan</em> merujuk pada <em>CustomerType</em> ). </p><br><p>  Dalam kasus kami, tipe pelanggan akan ditampilkan sebagai nama instance <em>CustomerType</em> , di mana kode ditambahkan ke tanda kurung.  Jika nama instance tidak disetel, nama kelas entitas dan ID dari instance spesifik akan ditampilkan - setuju bahwa ini sama sekali bukan apa yang ingin dilihat pengguna.  Lihat tangkapan layar sebelum dan sesudah di bawah ini untuk contoh kedua kasus. </p><br><p><img src="https://habrastorage.org/webt/wa/gd/u8/wagdu8lfbckngwhi2swjhgj8mxe.png" alt="Referensi ke entitas yang tidak ditentukan nama contohnya"></p><br><p><img src="https://habrastorage.org/webt/uy/7f/ok/uy7fokvhqcl9m5jx0ui1ju2v4l0.png" alt="Referensi entitas dengan nama instance yang diberikan"></p><br><h4 id="imya-ekzemplyara-opredelyaet-atributy-minimalnogo-predstavleniya">  Nama instance mendefinisikan atribut tampilan minimum </h4><br><p>  Hal kedua yang dipengaruhi oleh anotasi NamePattern adalah: semua atribut yang ditentukan setelah bilah vertikal secara otomatis membentuk tampilan <em>_minimal</em> .  Sekilas, ini tampak jelas, karena data dalam beberapa bentuk perlu ditampilkan di UI, yang berarti bahwa Anda harus mengunduhnya terlebih dahulu dari database.  Meskipun, jujur â€‹â€‹saja, saya jarang memikirkan fakta ini. </p><br><p>  Penting untuk dicatat di sini bahwa representasi minimal, jika dibandingkan dengan yang lokal, dapat berisi referensi ke entitas lain.  Misalnya, untuk pembeli dari contoh di atas, saya menetapkan nama contoh, yang mencakup satu atribut lokal dari entitas <em>Pelanggan</em> ( <code>name</code> ) dan satu atribut referensi ( <code>type</code> ): </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@NamePattern</span></span>(<span class="hljs-string"><span class="hljs-string">"%s - %s|name,type"</span></span>)</code> </pre> <br><p>  Representasi minimum dapat digunakan secara rekursif: (Pelanggan [Nama Instance] -&gt; CustomerType [Instance Name]) </p><br><p>  <em>Catatan Penerjemah:</em> sejak publikasi artikel, tampilan sistem lainnya telah muncul - tampilan <code>_base</code> , yang mencakup semua atribut non-sistem lokal dan atribut yang ditentukan dalam anotasi @NamePattern (mis., Pada kenyataannya <code>_minimal</code> + <code>_local</code> ). </p><br><h3 id="zaklyuchenie">  Kesimpulan </h3><br><p>  Sebagai kesimpulan, kami merangkum topik yang paling penting.  Berkat pandangannya, dalam CUBA kami dapat secara eksplisit menunjukkan apa yang harus dimuat dari basis data.  Tampilan menentukan apa yang akan dimuat dengan rakus, sementara sebagian besar kerangka kerja lainnya diam-diam melakukan pemuatan malas. </p><br><p>  Representasi mungkin tampak seperti mekanisme yang rumit, tetapi dalam jangka panjang mereka membenarkan diri mereka sendiri. </p><br><p>  Saya harap saya berhasil menjelaskan dengan cara yang mudah diakses apa sebenarnya pandangan misterius ini.  Tentu saja, ada skenario yang lebih maju untuk penggunaannya, serta jebakan dalam bekerja dengan representasi secara umum dan dengan representasi minimal pada khususnya, tetapi saya akan menulis tentang ini di pos terpisah entah bagaimana. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id425765/">https://habr.com/ru/post/id425765/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id425753/index.html">Google+ RIP</a></li>
<li><a href="../id425755/index.html">Pengembangan: Messenger Generasi Baru (Bagian 3). Aplikasi desktop</a></li>
<li><a href="../id425759/index.html">Petualangan Cyborg Baru di Jerman</a></li>
<li><a href="../id425761/index.html">DevDay Pro Testing: Merekam Laporan</a></li>
<li><a href="../id425763/index.html">PHP Excel Templator (mesin templating PHP untuk Excel) atau cara kami menulis hardcode untuk Excel sebelumnya</a></li>
<li><a href="../id425767/index.html">Splunk 7.2 Apa yang Baru? SmartStore, manajemen beban, dan lainnya ...</a></li>
<li><a href="../id425769/index.html">Bagaimana cara mengajar MySQL untuk melihat ke masa lalu</a></li>
<li><a href="../id425771/index.html">Prinsip tindakan paling tidak dalam mekanika analitik</a></li>
<li><a href="../id425773/index.html">Bagaimana kami mengontrol karyawan jarak jauh</a></li>
<li><a href="../id425775/index.html">Otomasi industri seks atau layanan publik dalam bahasa Jerman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>