<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👋🏻 🚠 🙋 Comment nous avons percé le grand pare-feu chinois (partie 2) 🎷 🎆 👩🏿‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut 


 Nikita est à nouveau avec vous - un ingénieur système de SEMrush . Et avec cet article, je continue l'histoire de la façon dont nous avons t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons percé le grand pare-feu chinois (partie 2)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/458840/"><p>  Salut </p><br><p>  Nikita est à nouveau avec vous - un ingénieur système de <strong>SEMrush</strong> .  Et avec cet article, je continue l'histoire de la façon dont nous avons trouvé une solution pour contourner le <em>pare-feu chinois</em> pour notre service semrush.com. </p><br><p>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie précédente,</a> j'ai dit: </p><br><ul><li>  quels problèmes apparaissent après qu'une décision a été prise "Nous devons faire fonctionner notre service en Chine" </li><li>  Quels sont les problèmes d'Internet chinois </li><li>  pourquoi ai-je besoin d'une licence ICP </li><li>  comment et pourquoi nous avons décidé de tester nos bancs d'essai en utilisant le point de capture </li><li>  quel a été le résultat de notre première solution basée sur Cloudflare China Network </li><li>  comment nous avons trouvé un bogue dans DNS Cloudflare </li></ul><br><img src="https://habrastorage.org/webt/c8/e0/wt/c8e0wt5ps6j4bkc8glimogfgtxg.png"><br><p>  Cette partie est la plus intéressante, à mon avis, car elle se concentre sur des implémentations techniques spécifiques de la mise en scène.  Et nous allons commencer, ou plutôt continuer, avec <strong>Alibaba Cloud</strong> . </p><a name="habracut"></a><br><h2 id="alibaba-cloud">  Nuage d'Alibaba </h2><br><p>  <strong>Alibaba Cloud</strong> est un fournisseur de cloud assez important, qui possède tous les services qui lui permettent de s'appeler honnêtement un fournisseur de cloud.  C'est bien qu'ils aient la possibilité de s'inscrire auprès d'utilisateurs étrangers, et que la plupart du site a été traduit en anglais (pour la Chine c'est un luxe).  Dans ce nuage, vous pouvez travailler avec de nombreuses régions du monde, la Chine continentale, ainsi que l'Asie océanique (Hong Kong, Taiwan, etc.). </p><br><h3 id="ipsec">  IPSEC </h3><br><p>  Commencé par la géographie.  Comme notre site de test était situé sur Google Cloud, nous avons dû «lier» Alibaba Cloud à GCP, nous avons donc ouvert une liste des emplacements où Google est présent.  À ce moment-là, ils n'avaient pas encore leur propre centre de données à Hong Kong. <br>  La région la plus proche était l' <strong>Asie-Est1</strong> (Taïwan).  Ali avait <strong>cn-shenzhen</strong> (Shenzhen) comme région la plus proche de la Chine continentale à Taiwan. </p><br><p>  À l'aide de <strong>terraform, ils ont</strong> décrit et augmenté l'ensemble de l'infrastructure de GCP et Ali.  Le tunnel de 100 Mbps entre les nuages ​​s'est élevé presque instantanément.  Du côté de Shenzhen et de Taiwan, ils ont créé des machines virtuelles proxy.  À Shenzhen, le trafic des utilisateurs est interrompu, acheminé via un tunnel vers Taïwan, et à partir de là, il va directement à l'adresse IP externe de notre service aux États-Unis (côte est des États-Unis).  Ping entre les virtuels sur le tunnel de <strong>24 ms</strong> , ce qui n'est pas si mal. </p><br><p>  Dans le même temps, nous avons placé une zone de test dans <strong>Alibaba Cloud DNS</strong> .  Après avoir délégué la zone à NS Ali, le temps de résolution est passé de 470 ms à <strong>50 ms</strong> .  Avant cela, la zone était également sur Cloudlfare. </p><br><p> Parallèlement au tunnel vers l' <em>Asie-Est1</em> , un autre tunnel a été élevé de Shenzhen directement vers <em>nous-Est4</em> .  Là, ils ont créé plus de machines virtuelles proxy et ont commencé à mesurer les deux solutions, en acheminant le trafic de test à l'aide de cookies ou DNS.  Le banc d'essai est décrit schématiquement dans la figure suivante: </p><br><img src="https://habrastorage.org/webt/r8/c4/gv/r8c4gvhj7_joemea0hznmvo5gxk.png"><br><p>  La latence des tunnels est la suivante: <br>  <em>Ali CN-Shenzhen &lt;--&gt; GCP Asie-Est1 - 24ms</em> <em><br></em>  <em>Ali cn-shenzhen &lt;--&gt; GCP us-east4 - 200ms</em> </p><br><p>  Les tests du navigateur Catchpoint ont signalé d'excellentes améliorations des performances. </p><br><img src="https://habrastorage.org/webt/e0/ku/am/e0kuamjpkkcbj737036tyuirbuk.png"><br><p>  Comparez les résultats des tests pour les deux solutions: </p><br><div class="scrollable-table"><table><thead><tr><th>  Solution </th><th>  Upime </th><th>  Médiane </th><th>  75 centile </th><th>  95 centile </th></tr></thead><tbody><tr><td>  Cloudflare </td><td>  86,6 </td><td>  18s </td><td>  Années 30 </td><td>  Années 60 </td></tr><tr><td>  <strong>IPsec</strong> </td><td>  <strong>99,79</strong> </td><td>  <strong>18s</strong> </td><td>  <strong>21s</strong> </td><td>  <strong>Années 30</strong> </td></tr></tbody></table></div><br><p>  Il s'agit des données de la solution utilisant le tunnel IPSEC via <b>asia-east1</b> .  Grâce à us-east4, les résultats étaient pires et il y avait plus d'erreurs, donc je ne donnerai pas les résultats. </p><br><p>  Selon les résultats de ce test, deux tunnels, dont l'un est terminé dans la région la plus proche de la Chine, et l'autre à la destination finale, il est devenu clair qu'il est important de «sortir» sous le pare-feu chinois dès que possible, puis d'utiliser des réseaux rapides (fournisseurs CDN) , fournisseurs de cloud, etc.).  Pas besoin d'essayer d'un seul coup pour passer par le pare-feu et arriver à destination.  Ce n'est pas le moyen le plus rapide. </p><br><p>  En général, les résultats ne sont pas mauvais, cependant, semrush.com a une médiane de 8,8 s et 75 centile de 9,4 s (sur le même test). <br>  Et avant de continuer, je voudrais faire une digression. </p><br><h2 id="liricheskoe-otstuplenie">  Digression lyrique </h2><br><p>  Après que l'utilisateur a visité le site <em>www.semrushchina.cn</em> , qui se résout via les serveurs DNS chinois «rapides», la requête HTTP passe par notre solution rapide.  La réponse est renvoyée de la même manière, mais dans tous les scripts JS, pages HTML et autres éléments de la page Web, le domaine <em>semrush.com est indiqué</em> pour les ressources supplémentaires qui doivent être chargées lors du rendu de la page.  Autrement dit, le client résout l'enregistrement «principal» A <em>www.semrushchina.c</em> n et se rend dans le tunnel rapide, reçoit rapidement une réponse - une page HTML qui indique: </p><br><ul><li>  téléchargez tel ou tel js sur sso.semrush.com, </li><li>  Prenez les fichiers CSS de cdn.semrush.com, </li><li>  et prenez plus de photos de dab.semrush.com </li><li>  et ainsi de suite. </li></ul><br><p>  Le navigateur commence à se rendre sur Internet «externe» pour ces ressources, passant à chaque fois par un pare-feu dévorant le temps de réponse. </p><br><p>  Mais dans le test précédent, les résultats sont présentés lorsqu'il n'y a pas de ressources <em>semrush.com</em> sur la page, seul <em>semrushchina.cn</em> et * .semrushchina.cn sont résolus à l'adresse de la machine virtuelle à Shenzhen pour entrer dans le tunnel plus tard. </p><br><p>  Ce n'est que de cette façon, en jetant tout le trafic possible à travers votre décision de passer rapidement au maximum le pare-feu chinois, que vous pouvez obtenir des vitesses et des indicateurs de disponibilité du site acceptables, ainsi que des résultats de test honnêtes des solutions. <br>  Nous l'avons fait sans une seule modification de code du côté des produits de l'équipe. </p><br><h3 id="subfilter">  Sous-filtre </h3><br><p>  La solution est née presque immédiatement après l'apparition de ce problème.  Nous avions besoin de <strong>PoC</strong> (Proof of Concept) pour que nos solutions de pare-feu fonctionnent vraiment bien.  Pour ce faire, vous devez maximiser tout le trafic vers le site dans cette solution.  Et nous avons appliqué <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://nginx.org/ru/docs/http/ngx_">un</a> sous- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://nginx.org/ru/docs/http/ngx_">filtre</a> dans nginx. </p><br><p>  <b>Subfilter</b> est un module assez simple dans nginx qui vous permet de changer une ligne dans le corps d'une réponse à une autre ligne.  Nous avons donc changé toutes les occurrences de <em>semrush.com</em> en <em>semrushchina.cn</em> dans toutes les réponses. </p><br><p>  Et ... cela n'a pas fonctionné, car nous avons reçu du contenu compressé des backends, donc le sous-filtre n'a pas pu trouver la ligne nécessaire.  J'ai dû ajouter un autre serveur local à nginx, ce qui a étendu la réponse et l'a transmise au serveur local suivant, qui était déjà engagé dans la substitution, la compression et la livraison de la ligne au prochain proxy de la chaîne. </p><br><img src="https://habrastorage.org/webt/pb/6m/jd/pb6mjdouldlxlm6hr1ilz9dpck0.png"><br><p>  Par conséquent, lorsque le client recevrait <strong>&lt;subdomain&gt; .semrush.com</strong> , il recevrait <strong>&lt;subdomain&gt; .semrushchina.cn</strong> et <strong>suivrait</strong> docilement notre décision. </p><br><p>  Cependant, il ne suffit pas de changer le domaine dans une seule direction, car les backends attendent toujours semrush.com dans les requêtes ultérieures du client.  Par conséquent, sur le même serveur où le remplacement est effectué dans une direction, en utilisant une simple expression régulière, nous obtenons le sous-domaine de la demande, puis faisons <i>proxy_pass</i> avec la variable <i>$ host</i> définie dans <b>$ subdomain.semrush.com</b> .  Cela peut sembler déroutant, mais cela fonctionne.  Et ça marche bien.  Pour les domaines individuels qui nécessitent une logique différente, ils créent simplement leurs blocs de serveur et effectuent une configuration distincte.  Ci-dessous sont des configurations nginx raccourcies pour la clarté et la démonstration de ce schéma. </p><br><p>  La configuration suivante traite toutes les demandes de la Chine à <i>.semrushchina.cn:</i> <br></p><pre><code class="plaintext hljs">listen 80; server_name ~^(?&lt;subdomain&gt;[\w\-]+)\.semrushchina.cn$; sub_filter '.semrush.com' '.semrushchina.cn'; sub_filter_last_modified on; sub_filter_once off; sub_filter_types *; gzip on; gzip_proxied any; gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/javascript; location / { proxy_pass http://127.0.0.1:8083; proxy_set_header Accept-Encoding ""; proxy_set_header Host $subdomain.semrush.com; proxy_set_header X-Accept-Encoding $http_accept_encoding; } }</code> </pre> <br><p>  Cette configuration est dirigée par proxy vers <i>localhost</i> sur le port 83, et là, elle attend la configuration suivante: </p><br><pre> <code class="plaintext hljs"> listen 127.0.0.1:8083; server_name *.semrush.com; location / { resolver 8.8.8.8 ipv6=off; gunzip on; proxy_pass https://$host; proxy_set_header Accept-Encoding gzip; } }</code> </pre> <br><p>  Encore une fois, ce sont des configurations tronquées. </p><br><p>  Quelque chose comme ça.  Cela peut sembler compliqué, mais c'est en mots.  En fait, tout est plus facile que le navet cuit à la vapeur :) </p><br><h3 id="konec-liricheskogo-otstupleniya">  La fin de la digression lyrique </h3><br><p>  Pendant un certain temps, nous étions heureux car le mythe de la chute des tunnels IPSEC n'est pas confirmé.  Mais alors les tunnels ont commencé à tomber.  Plusieurs fois par jour pendant plusieurs minutes.  Un peu, mais cela ne nous convenait pas.  Étant donné que les deux tunnels ont été terminés du côté Ali sur le même routeur, nous avons décidé qu'il s'agissait peut-être d'un problème régional et que nous devions augmenter la région de sauvegarde. </p><br><p>  Ramassé.  Les tunnels ont commencé à tomber à différents moments, mais nous avons eu un basculement fin au niveau en amont dans nginx.  Mais les tunnels ont commencé à tomber à peu près au même moment :) Et encore, 502 et 504. La disponibilité a commencé à se détériorer, nous avons donc commencé à travailler sur l'option avec <b>Alibaba CEN</b> (Cloud Enterprise Network). </p><br><h2 id="cen">  Cen </h2><br><p>  <b>CEN</b> est la connectivité de deux VPC de différentes régions du cloud d'Alibaba, c'est-à-dire que vous pouvez connecter les réseaux privés de toutes les régions du cloud.  Et le plus important: ce canal a un <em>SLA</em> plutôt strict.  Il est très stable en vitesse et en disponibilité.  Mais ce n'est jamais aussi simple: </p><br><ul><li>  il est TRÈS difficile à obtenir si vous n'êtes pas des citoyens chinois ou des personnes morales, </li><li>  vous devez payer pour chaque mégabit de bande passante. </li></ul><br><p>  Ayant l'opportunité de connecter <em>la Chine continentale</em> et l' <em>Outre</em> - <em>Mer</em> , nous avons créé un CEN entre deux régions d'Ali: <b>cn-shenzhen</b> et <b>us-east-1</b> (le point le plus proche de us-east4).  Dans Ali <i>us-east-1, ils ont</i> levé une autre machine virtuelle pour avoir un autre <em>saut</em> . </p><br><p>  Il s'est avéré comme ceci: </p><br><img src="https://habrastorage.org/webt/s5/0s/qs/s50sqsjxzjx0r1fqyx-cjsjkuvq.png"><br><p>  Résultats des tests du navigateur ci-dessous: </p><br><img src="https://habrastorage.org/webt/9b/p0/oq/9bp0oqtuludsve8g5tlnqfsa75k.png"><br><div class="scrollable-table"><table><thead><tr><th>  Solution </th><th>  Upime </th><th>  Médiane </th><th>  75 centile </th><th>  95 centile </th></tr></thead><tbody><tr><td>  Cloudflare </td><td>  86,6 </td><td>  18s </td><td>  Années 30 </td><td>  Années 60 </td></tr><tr><td>  IPsec </td><td>  99,79 </td><td>  18s </td><td>  21s </td><td>  Années 30 </td></tr><tr><td>  <b>Cen</b> </td><td>  <b>99,75</b> </td><td>  <b>16s</b> </td><td>  <b>21s</b> </td><td>  <b>27s</b> </td></tr></tbody></table></div><br><p>  Les performances sont légèrement meilleures que IPSEC.  Mais via IPSEC, vous pouvez potentiellement télécharger à une vitesse de 100 Mbps, et via CEN uniquement à une vitesse de 5 Mbps et plus cher. </p><br><p>  Hybrid supplie, non?  Combinez vitesse IPSEC et stabilité CEN. </p><br><p>  C'est ce que nous avons fait en laissant le trafic passer par IPSEC et CEN en cas de crash d'un tunnel IPSEC.  Le temps de disponibilité est devenu beaucoup plus élevé, mais la vitesse de chargement du site est médiocre.  Ensuite, j'ai dessiné tous les schémas que nous avons déjà utilisés et testés, et j'ai décidé d'essayer d'ajouter un peu plus de GCP à ce schéma, à savoir <strong>GLB</strong> . </p><br><h2 id="glb">  GLB </h2><br><p>  <strong>GLB</strong> est le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Global Load Balancer</a> (ou Google Cloud Load Balancer).  Il a un avantage important pour nous: dans le contexte de CDN, il dispose d'une <strong>IP anycast</strong> , qui vous permet d'acheminer le trafic vers le centre de données le plus proche du client, grâce auquel le trafic arrive plus rapidement et moins sur le réseau rapide de Google via Internet "normal". </p><br><p>  Sans y réfléchir à deux fois, nous avons augmenté <em>HTTP / HTTPS LB</em> à GCP et mis nos machines virtuelles avec un backend de sous-filtre. </p><br><p>  Il y avait plusieurs régimes: </p><br><ul><li>  Utilisez <em>Cloudflare China Network</em> , mais cette fois l'origine spécifie l' <strong>IP GLB</strong> globale. </li><li>  Terminez les clients dans <em>cn-shenzhen</em> , et à partir de là, le trafic proxy immédiatement vers <strong>GLB</strong> . </li><li>  Allez directement de la Chine au <strong>GLB</strong> . </li><li>  Terminez les clients à <em>CN-Shenzhen</em> , de là proxy à <em>asie-est1</em> via IPSEC (en <em>us-east4</em> via CEN), à partir de là allez à GLB (calmement, il y aura une photo et une explication ci-dessous) </li></ul><br><p>  Nous avons testé toutes ces options et quelques autres hybrides: </p><br><ul><li>  <strong>Cloudflare + GLB</strong> </li></ul><br><img src="https://habrastorage.org/webt/aa/-z/5c/aa-z5cpge5r_2qazfvcsvne5loi.png"><br><p>  Ce schéma ne nous convenait pas pour la disponibilité et les erreurs DNS.  Mais le test a été effectué avant de corriger le bug de la part de CF, peut-être que maintenant c'est mieux (cependant, cela n'exclut pas les timeouts HTTP). </p><br><ul><li>  <strong>Ali + GLB</strong> </li></ul><br><img src="https://habrastorage.org/webt/mm/ef/id/mmefid6fj_5fwsbvtjwealb6wnu.png"><br><p>  Ce schéma ne nous convenait pas non plus pour la disponibilité, car GLB a souvent abandonné en amont en raison de l'impossibilité de se connecter à une heure ou un délai acceptable, car pour un serveur en Chine, l'adresse GLB reste à l'extérieur, et donc derrière le pare-feu chinois.  La magie n'est pas arrivée. </p><br><ul><li>  <strong>GLB uniquement</strong> </li></ul><br><img src="https://habrastorage.org/webt/yg/l9/jc/ygl9jcr4ugsqil_ry6zf4kj4dhy.png"><br><p>  Une variante similaire à la précédente, mais elle n'utilisait pas de serveurs en Chine même: le trafic passait immédiatement à GLB (enregistrements DNS modifiés).  En conséquence, les résultats n'étaient pas satisfaisants, car les clients chinois ordinaires utilisant les services de fournisseurs Internet ordinaires ont une situation bien pire en passant par le pare-feu qu'Ali Cloud. </p><br><ul><li>  <strong>Shenzhen -&gt; (CEN / IPSEC) -&gt; Proxy -&gt; GLB</strong> </li></ul><br><img src="https://habrastorage.org/webt/9f/v_/lw/9fv_lwec8yi4-rmuubqypun5mas.png"><br><p>  Ici, nous avons décidé d'utiliser la meilleure des solutions: </p><br><ul><li>  stabilité et garantie SLA du CEN </li><li>  haute vitesse de IPSEC </li><li>  Le réseau «rapide» de Google et son anycast. </li></ul><br><p>  Le schéma ressemble à ceci: le trafic utilisateur se termine sur une machine virtuelle à <em>ch-shenzhen</em> .  Les paramètres en amont Nginx y sont configurés, dont certains se réfèrent à des serveurs IP privés situés à l'autre extrémité du tunnel IPSEC, et certaines connexions en amont à des adresses de serveurs privés de l'autre côté du CEN.  IPSEC a été configuré pour la région <em>Asie-Est1</em> dans GCP (c'était la région la plus proche de la Chine au moment où la solution a été créée. Maintenant, GCP est également présent à Hong Kong).  CEN - dans la région <em>us-east1</em> d'Ali Cloud. </p><br><p>  De plus, le trafic des deux extrémités était dirigé vers <strong>anycast IP GLB</strong> , c'est-à-dire vers le point de présence de Google le plus proche, et traversait ses réseaux vers la région <em>us-east4</em> dans GCP, dans laquelle il y avait des machines virtuelles de remplacement (avec sous-filtre dans nginx). </p><br><p>  Cette solution hybride, comme nous nous y attendions, nous a permis de profiter de chaque technologie.  En général, le trafic passe par IPSEC rapide, mais si des problèmes commencent, nous jetons rapidement et pendant plusieurs minutes ces serveurs en amont et envoyons le trafic via CEN uniquement jusqu'à ce que le tunnel se stabilise. </p><br><p>  Après avoir implémenté la 4ème solution de la liste ci-dessus, nous avons réalisé ce que nous voulions et ce que l'entreprise exigeait de nous à l'époque. </p><br><p>  Résultats des tests du navigateur pour la nouvelle solution par rapport aux précédents: </p><br><div class="scrollable-table"><table><thead><tr><th>  Solution </th><th>  Upime </th><th>  Médiane </th><th>  75 centile </th><th>  95 centile </th></tr></thead><tbody><tr><td>  Cloudflare </td><td>  86,6 </td><td>  18s </td><td>  Années 30 </td><td>  Années 60 </td></tr><tr><td>  IPsec </td><td>  99,79 </td><td>  18s </td><td>  21s </td><td>  Années 30 </td></tr><tr><td>  Cen </td><td>  99,75 </td><td>  16s </td><td>  21s </td><td>  27s </td></tr><tr><td>  <strong>CEN / IPsec + GLB</strong> </td><td>  <strong>99,79</strong> </td><td>  <strong>13s</strong> </td><td>  <strong>16s</strong> </td><td>  <strong>25s</strong> </td></tr></tbody></table></div><br><h2 id="cdn">  Cdn </h2><br><p>  Tout est bon dans la solution que nous avons mise en place, mais il n'y a pas de CDN qui pourrait accélérer le trafic au niveau des régions et même des villes.  En théorie, cela devrait accélérer le site pour les utilisateurs finaux grâce à l'utilisation des canaux de communication rapides du fournisseur CDN.  Et nous y pensions tout le temps.  Et maintenant, le moment est venu pour la prochaine itération du projet: rechercher et tester les fournisseurs CDN en Chine. </p><br><p>  Et je vais vous en parler dans la prochaine partie finale :) </p><br><h3 id="vse-chasti">  Toutes les pièces </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3e partie</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458840/">https://habr.com/ru/post/fr458840/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458828/index.html">Pourquoi, pourquoi et quand utiliser ValueTask</a></li>
<li><a href="../fr458830/index.html">Webinaires sur les technologies Dell: tous les détails de notre didacticiel</a></li>
<li><a href="../fr458832/index.html">Cinq étudiants et trois magasins de valeurs clés distribués</a></li>
<li><a href="../fr458834/index.html">Côté de la personnalité de Paul Allen, que peu de gens connaissaient comme je le souhaiterais</a></li>
<li><a href="../fr458836/index.html">Indice de Borsch. Une approche systématique pour évaluer, comparer, déterminer le rapport qualité / prix</a></li>
<li><a href="../fr458842/index.html">La patience et le travail vont extraire tout le texte</a></li>
<li><a href="../fr458844/index.html">Destruction des silos grâce à l'approche d'adaptation VeriSM ™</a></li>
<li><a href="../fr458846/index.html">Comment développer un autre jeu de plateforme en utilisant Unity. Un autre tutoriel</a></li>
<li><a href="../fr458848/index.html">Version Rust 1.36.0: futur trait, stabilisation de l'allocation et MaybeUninit <T></a></li>
<li><a href="../fr458850/index.html">Apprenez l'anglais à moindre coût et efficacement. 2e partie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>