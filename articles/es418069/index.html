<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïµüèº ‚ô£Ô∏è üßïüèø Resolver crucigramas japoneses a la velocidad de la luz ü•£ üö£üèæ üîπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los crucigramas japoneses (tambi√©n nonogramas) son acertijos l√≥gicos en los que se encripta una imagen de p√≠xeles. Debe resolver el crucigrama utiliza...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Resolver crucigramas japoneses a la velocidad de la luz</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418069/"><p>  Los crucigramas japoneses (tambi√©n nonogramas) son acertijos l√≥gicos en los que se encripta una imagen de p√≠xeles.  Debe resolver el crucigrama utilizando n√∫meros ubicados a la izquierda de las l√≠neas y encima de las columnas. </p><br><p>  El tama√±o de los crucigramas puede alcanzar hasta 150x150.  El jugador usa una l√≥gica especial para calcular el color de cada celda.  La soluci√≥n puede tomar un par de minutos en crucigramas para principiantes y decenas de horas en rompecabezas complejos. </p><br><p>  Un buen algoritmo puede resolver el problema mucho m√°s r√°pido.  El texto describe c√≥mo escribir una soluci√≥n que funcione casi instant√°neamente utilizando los algoritmos m√°s adecuados (que generalmente conducen a una soluci√≥n), as√≠ como sus optimizaciones y el uso de caracter√≠sticas de C ++ (que reducen el tiempo de ejecuci√≥n en varias decenas de veces). </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w1/tw/-c/w1tw-caq1d9vswcrqfapdufcbfk.gif"></div><a name="habracut"></a><br><p>  <em>En la versi√≥n m√≥vil de Habr, es posible que no se muestren las f√≥rmulas en el texto (no en todos los navegadores m√≥viles): use la versi√≥n completa u otro navegador m√≥vil si observa problemas con las f√≥rmulas</em> </p><br><h2 id="pravila-igry">  Reglas del juego </h2><br><p>  Inicialmente, el lienzo de crucigramas es blanco.  Para los crucigramas en blanco y negro, debe restaurar la ubicaci√≥n de las celdas negras. </p><br><p>  En los crucigramas en blanco y negro, el n√∫mero de n√∫meros para cada fila (a la izquierda del lienzo) o para cada columna (parte superior del lienzo) muestra cu√°ntos grupos de celdas negras hay en la fila o columna correspondiente, y los n√∫meros mismos muestran cu√°ntas celdas combinadas contiene cada uno de estos grupos.  Conjunto de n√∫meros <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mo" id="MJXp-Span-2" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="MJXp-mn" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span><span class="MJXp-mo" id="MJXp-Span-4" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-mn" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 </font></font></span><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.66ex" viewBox="0 -832 2948.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-33" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2C" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-32" x="1224" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2C" x="1724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-35" x="2169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-5D" x="2670" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> [3, 2, 5] </script>  significa que en una determinada fila hay tres grupos consecutivos de <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-mn" id="MJXp-Span-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-33" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> 3 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mn" id="MJXp-Span-12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-32" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> 2 </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mn" id="MJXp-Span-14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 5</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-35" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> 5 </script>  celdas negras en una fila.  Los grupos se pueden organizar en una fila al azar, sin violar el orden relativo (los n√∫meros especifican su longitud y se debe adivinar la posici√≥n), pero deben estar separados por al menos una celda blanca. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bl/w9/zt/blw9ztswh2gvpy0lfqr76ei_xcq.png"></div><br><p>  <em>Ejemplo correcto</em> </p><br><p>  En los crucigramas de color, cada grupo a√∫n tiene su propio color; cualquiera, excepto el blanco, es un color de fondo.  Los grupos vecinos de <em>diferentes</em> colores pueden estar uno al lado del otro, pero para los grupos vecinos de los <em>mismos</em> colores, a√∫n es necesaria la separaci√≥n de al menos una c√©lula blanca. </p><br><h2 id="chto-ne-yavlyaetsya-yaponskim-krossvordom">  ¬øQu√© no es un crucigrama japon√©s? </h2><br><p>  Cada imagen de p√≠xel se puede cifrar como un crucigrama.  Pero puede que no sea posible restaurarlo de nuevo: el rompecabezas resultante puede tener m√°s de una soluci√≥n o tener una soluci√≥n, pero no se puede resolver l√≥gicamente.  Luego, las celdas restantes en el juego tienen que adivinarse usando tecnolog√≠a cham√°nica usando <s>computadoras cu√°nticas</s> . </p><br><p>  Tales crucigramas no son crucigramas, sino grafoman√≠a.  Se cree que el crucigrama correcto es tal que de manera l√≥gica puede llegar a una soluci√≥n √∫nica. </p><br><p>  La "ruta l√≥gica" es la capacidad de restaurar cada celda una por una, considerando la fila / columna por separado, o su intersecci√≥n.  Si esto no es posible, el n√∫mero de opciones de respuesta consideradas puede ser mucho, mucho m√°s de lo que una persona puede calcular por s√≠ misma. </p><br><img src="https://habrastorage.org/webt/qs/nu/2m/qsnu2mmr0lutke0xzprtow8jv-i.png"><br><p>  <em>El nonograma incorrecto es la √∫nica soluci√≥n, pero es imposible de resolver normalmente.</em>  <em>Naranja marcada con c√©lulas "insolubles".</em>  <em>Tomado de Wikipedia.</em> </p><br><p>  Esta restricci√≥n se explica de la siguiente manera: en el caso m√°s general, el crucigrama japon√©s es un problema de NP completo.  Sin embargo, adivinar no se convierte en una tarea completa de NP, si hay un algoritmo que en cada instante de tiempo indique inequ√≠vocamente qu√© celdas abrir m√°s.  Todos los crucigramas utilizados por humanos (excepto el m√©todo <del>  Montecarlo </del>  prueba y error) se basan en esto. </p><br><p>  En la mayor√≠a de los crucigramas ortodoxos, el ancho y la altura se dividen entre 5, no hay filas que se puedan contar instant√°neamente (aquellas en las que las celdas de color obstruyen todos los lugares o no existen en absoluto), y el n√∫mero de colores complementarios es limitado.  Estos requisitos no son obligatorios. </p><br><p>  El crucigrama equivocado m√°s simple: </p><br><pre><code class="bash hljs">|1 1| --+---+ 1| | 1| | --+---+</code> </pre> <br><p>  A menudo, el pixel art codificado, que usa un patr√≥n de "tablero de ajedrez" para simular un gradiente, no se resuelve al rev√©s.  Es mejor entender si escribe "gradiente pixelart" en la b√∫squeda.  El gradiente es como este crucigrama fayl de 2x2. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oz/mm/sj/ozmmsj7dzmqdn0dwgmspwymmohy.gif"></div><br><h2 id="vozmozhnye-varianty-resheniy">  Posibles soluciones </h2><br><p>  Tenemos el tama√±o del crucigrama, una descripci√≥n de los colores y todas las filas y columnas.  ¬øC√≥mo puedo armar una imagen de esto: </p><br><h4 id="polnyy-perebor">  B√∫squeda completa </h4><br><p>  Para cada celda, clasificamos todos los estados posibles y verificamos que sean satisfactorios.  La complejidad de tal soluci√≥n para un crucigrama en blanco y negro <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-22"><span class="MJXp-mrow" id="MJXp-Span-23" style="margin-right: 0.05em;"><span class="MJXp-mn" id="MJXp-Span-24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-25" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-27"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.881ex" height="2.901ex" viewBox="0 -935.7 7698.6 1249" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4E" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="2263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4D" x="2986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="4260" y="0"></use><g transform="translate(4982,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4D" x="1389" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-29" x="7309" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> O (N * M * {2} ^ {N * M}) </script>  para color <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-34" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mo" id="MJXp-Span-36" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-37"><span class="MJXp-mrow" id="MJXp-Span-38" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-46" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-48"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-50" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.896ex" height="3.021ex" viewBox="0 -987.6 10288.6 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4E" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="2263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4D" x="2986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="4260" y="0"></use><g transform="translate(4982,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-6F" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-6C" x="919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-6F" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-72" x="1703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-65" x="2154" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-73" x="2621" y="0"></use><g transform="translate(3090,422)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4D" x="1389" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-29" x="9899" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> O (N * M * {colores} ^ {N * M}) </script>  .  Por analog√≠a con la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clasificaci√≥n de payasos,</a> esta soluci√≥n tambi√©n se puede llamar payaso.  Es adecuado para tama√±o 5x5. </p><br><h4 id="backtracking">  Retroceso </h4><br><p>  Todos los m√©todos posibles para organizar grupos horizontales de celdas se ordenan.  Ponemos un grupo de celdas en una fila, verificamos que no rompa la descripci√≥n de los grupos de columnas.  Si se rompe, ponemos m√°s en 1 celda, verificamos nuevamente.  Establecer: ir al siguiente grupo.  Si no puede poner un grupo de ninguna manera, retrocedemos dos grupos, reorganizamos el grupo anterior, y as√≠ sucesivamente, hasta que colocamos con √©xito el √∫ltimo grupo. </p><br><h4 id="otdelno-dlya-kazhdogo-ryada">  Por separado para cada fila </h4><br><p>  Esta decisi√≥n es mucho mejor y es verdaderamente cierta.  Podemos analizar cada fila y cada columna individualmente.  Cada fila intentar√° revelar la informaci√≥n m√°xima. </p><br><p>  El algoritmo para cada celda de la fila aprende m√°s informaci√≥n; puede resultar que sea imposible colorear la celda de alg√∫n color, los grupos no converger√°n.  No puede expandir completamente la fila de inmediato, pero la informaci√≥n recibida "ayudar√°" a abrirse mejor en varias columnas, y cuando comencemos a analizarlas, nuevamente "ayudar√°n" a las filas, y as√≠ sucesivamente durante varias iteraciones, hasta que todas las celdas tengan un color posible. </p><br><h2 id="istinno-vernoe-reshenie">  Decisi√≥n verdaderamente verdadera </h2><br><h4 id="odna-stroka-dva-cveta">  Una l√≠nea, dos colores </h4><br><p>  Adivinar eficazmente la "l√≠nea √∫nica" en blanco y negro, para la cual algunas celdas ya han adivinado, es una tarea muy dif√≠cil.  Se conoci√≥ en lugares como: </p><br><ul><li>  <em>Cuartos de final de ACM ICPC 2006</em> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">puede intentar resolver el problema usted mismo</a> .  El l√≠mite de tiempo es de 1 segundo, el l√≠mite en el n√∫mero de grupos es de 400 y la longitud de la serie tambi√©n es de 400. Tiene un nivel de complejidad muy alto en comparaci√≥n con otras tareas. </li><li>  <em>Olimpiada Internacional de Inform√°tica 2016</em> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">condici√≥n</a> para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pasar la tarea</a> .  El l√≠mite de tiempo es de 2 segundos, el l√≠mite del n√∫mero de grupos es de 100, la longitud de la fila es de 200'000.  Dichas limitaciones son excesivas, pero resolver un problema con restricciones ACM gana 80/100 puntos en este problema.  Aqu√≠, tambi√©n, el nivel no decepcion√≥, los escolares de todo el mundo con un nivel de coeficiente intelectual cruel han estado entrenando durante varios a√±os para resolver diferentes trucos, luego van a esta Olimpiada (solo deben pasar 4 personas del pa√≠s), deciden 2 rondas de 5 horas <del>  y en el caso de una victoria √©pica (bronce en diferentes a√±os por 138-240 puntos de 600), admisi√≥n a Oxford, luego ofertas de compa√±√≠as claras al departamento de b√∫squeda, una vida larga y feliz abrazada con dakimakura. </del></li></ul><br><p>  La l√≠nea simple monocroma tambi√©n se puede resolver de diferentes maneras y para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-51"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-53" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N </font></font></span><span class="MJXp-mo" id="MJXp-Span-55" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-56"><span class="MJXp-mn" id="MJXp-Span-57" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-58" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-59" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.695ex" height="2.901ex" viewBox="0 -935.7 4604.7 1249" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4E" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="2263" y="0"></use><g transform="translate(2986,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4E" x="707" y="557"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-29" x="4215" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> O (N * 2 ^ N) </script>  (enumerando todas las opciones, verificando la correcci√≥n, seleccionando celdas que tengan el mismo color en todas las opciones), y de alguna manera menos est√∫pidas. </p><br><p>  La idea principal es utilizar un an√°logo de retroceso, pero sin c√°lculos innecesarios.  Si de alguna manera configuramos varios grupos y ahora estamos en alg√∫n tipo de celda, entonces necesitamos averiguar si es posible colocar los grupos restantes, comenzando desde la celda actual. </p><br><div class="spoiler">  <b class="spoiler_title">Pseudoc√≥digo</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EpicWin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(group, cell)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cell &gt;= last_cell: <span class="hljs-comment"><span class="hljs-comment">#   return group == group_size win = False #        if group &lt; group_size #    and CanInsertBlack(cell, len[group]) #    and CanInsertWhite(cell + len[group], 1) #    and EpicWin(group + 1, cell + len[group] + 1): #    win = True can_place_black[cell .. (cell + len[group] - 1)] = True can_place_white[cell + len[group]] = True; #         if CanInsertWhite(cell, 1) and EpicWin(group, cell + 1): win = True can_place_white[cell] = True return win EpicWin(0, 0)</span></span></code> </pre> </div></div><br><p>  Este enfoque se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">programaci√≥n din√°mica</a> .  El pseudoc√≥digo se simplifica e incluso los valores calculados no se almacenan all√≠. </p><br><p>  Las <code>CanInsertBlack/CanInsertWhite</code> son necesarias para verificar si es te√≥ricamente posible colocar un grupo del tama√±o correcto en el lugar correcto.  Todo lo que necesitan hacer es verificar que no haya una celda "100% blanca" (para la primera funci√≥n) o "100% negra" (para la segunda) en el rango de celdas indicado.  Para que puedan trabajar para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-60"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-62" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-63"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mo" id="MJXp-Span-64" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.745ex" height="2.66ex" viewBox="0 -832 2043 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-31" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-29" x="1653" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> O (1) </script>  , esto se puede hacer usando cantidades parciales: </p><br><div class="spoiler">  <b class="spoiler_title">CanInsertBlack</b> <div class="spoiler_text"><pre> <code class="python hljs">white_counter = [ <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, ..., <span class="hljs-number"><span class="hljs-number">0</span></span> ] <span class="hljs-comment"><span class="hljs-comment">#   n def PrecalcWhite(): for i in range(0, (n-1)): if is_anyway_white[i]: # 1,  i-  100%  white_counter[i]++ if i &gt; 0: white_counter[i] += white_counter[i - 1] def CanInsertBlack(cell, len): #     [cell, cell + len - 1] ans = white_counter[cell + len - 1] if cell &gt; 0: ans -= white_counter[cell - 1] #  ans -     cell  (cell + len - 1) return ans == 0</span></span></code> </pre> </div></div><br><p>  La misma hechicer√≠a con sumas parciales espera una l√≠nea de la forma. </p><br><pre> <code class="python hljs">can_place_black[cell .. (cell + len[group] - <span class="hljs-number"><span class="hljs-number">1</span></span>)] = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre> <br><p>  Aqu√≠ podemos en lugar de <code>= True</code> aumentar el n√∫mero en 1. Y si necesitamos hacer muchas adiciones en un segmento en una determinada matriz <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-65"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.712ex" height="1.817ex" viewBox="0 -520.7 2459.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-72" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-72" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-61" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-79" x="1962" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> array </script>  , y adem√°s no usamos esta matriz antes de diferentes adiciones (dicen sobre esto que esta tarea se "resuelve sin conexi√≥n"), luego en lugar de un bucle: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#     for i in range(L, R + 1): array[i]++</span></span></code> </pre> <br><p>  Puedes hacer esto: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#     array[L]++ array[R + 1]-- #    for i in range(1, n): array[i] += array[i - 1]</span></span></code> </pre> <br><p>  Por lo tanto, todo el algoritmo funciona en <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-71"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O </font></font></span><span class="MJXp-mo" id="MJXp-Span-73" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mo" id="MJXp-Span-75" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mo" id="MJXp-Span-77" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.383ex" height="2.66ex" viewBox="0 -832 3609.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-6B" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-2217" x="1896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMATHI-6E" x="2619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/418069/&amp;usg=ALkJrhgZkygEQQUeEJR4x9NAkK9EWyennw#MJMAIN-29" x="3219" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> O (k * n) </script>  donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-78"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-11"> k </script>  - el n√∫mero de grupos de c√©lulas negras, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> n </script>  Es la longitud de la cuerda.  Y vamos a la semifinal del ACM ICPC o conseguimos el bronce del interneur.  <a href="">Soluci√≥n ACM (Java)</a> .  <a href="">Soluci√≥n IOI (C ++)</a> . </p><br><h4 id="odna-stroka-mnogo-cvetov">  Una l√≠nea, muchos colores </h4><br><p>  Cuando cambiamos a nonogramas multicolores, que todav√≠a no est√°n claros de c√≥mo resolver, aprendemos una verdad terrible: ¬°resulta que cada columna se ve m√°gicamente afectada por todas las columnas!  Esto es m√°s claro a trav√©s de un ejemplo: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6m/ve/_d/6mve_d8spu5wyqai1osmtppdgr8.png"></div><br><p>  <em>Fuente - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">M√©todos para resolver crucigramas japoneses</a></em> </p><br><p>  Si bien los nonogramas de dos colores normalmente no exist√≠an, no necesitaban mirar hacia atr√°s a los amigos ortogonales. <br>  La imagen muestra que en el ejemplo de la izquierda, las tres celdas de la extrema derecha est√°n vac√≠as, porque la configuraci√≥n se rompe si colorea estas celdas en <del>  esos colores en los que pintarte </del>  color no blanco </p><br><p>  Pero esta broma es matem√°ticamente decidible: cada celda debe tener un n√∫mero, donde <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-82"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yo</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> i </script>  el bit i-√©simo significar√° si esta celda se puede dar <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-84"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yo</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> i </script>  th color.  Inicialmente, todas las celdas tienen un valor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-86"><span class="MJXp-msubsup" id="MJXp-Span-87"><span class="MJXp-mn" id="MJXp-Span-88" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-89" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-97" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></span><span class="MJXp-mn" id="MJXp-Span-98"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-15"> 2 ^ {colores} - 1 </script>  .  La decisi√≥n de la din√°mica no cambiar√° mucho. </p><br><p>  Puede observar el siguiente efecto: en el mismo ejemplo de la izquierda, seg√∫n la versi√≥n de las filas, la celda del extremo derecho puede tener color azul o blanco. <br>  Seg√∫n la versi√≥n de las columnas, esta celda tiene color verde o blanco. <br>  Seg√∫n la versi√≥n de sentido com√∫n, esta celda tendr√° solo color blanco.  Y luego continuamos calculando la respuesta. </p><br><p>  Si consideramos el bit cero "blanco", el primer "azul", el segundo "verde", entonces la l√≠nea calcula el estado de la √∫ltima celda <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-99"><span class="MJXp-mn" id="MJXp-Span-100">011</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> 011 </script>  y la columna <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-101"><span class="MJXp-mn" id="MJXp-Span-102">101</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> 101 </script>  .  Esto significa que el estado de esta celda es real <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-103"><span class="noError" id="MJXp-Span-104" style="display: inline-block;">011&nbsp;\&nbsp;&amp;&nbsp;101&nbsp;=&nbsp;001</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> 011 \ & 101 = 001 </script></p><br><div class="spoiler">  <b class="spoiler_title">Pseudoc√≥digo</b> <div class="spoiler_text"><pre> <code class="python hljs">source = [...] <span class="hljs-comment"><span class="hljs-comment">#   result = [0, 0, ..., 0] #   len = [...] #    clrs = [...] #    def CanInsertColor(color, cell, len): for i in range(cell, cell + len): if (source[i] &amp; (1 &lt;&lt; color)) == 0: #     color    return False; return True def PlaceColor(color, cell, len): for i in range(cell, cell + len): result[i] |= (1 &lt;&lt; color) #   color  OR def EpicWinExtended(group, cell): if cell &gt;= last_cell: #   return group == group_size win = False #        if group &lt; group_size #    and CanInsertColor(clrs[group], cell, len[group]) #    and SequenceCheck() #       ,  #         and EpicWin(group + 1, cell + len[group]): #    win = True PlaceColor(clrs[group], cell, len[group]) PlaceColor(0, cell + len[group], 1) #   -    #         #   -  0 if CanInsertWhite(0, cell, 1) and EpicWinExtended(group, cell + 1): win = True PlaceColor(0, cell, 1) return win</span></span></code> </pre> </div></div><br><h4 id="mnogo-strok-mnogo-cvetov">  Muchas lineas, muchos colores </h4><br><p>  Realizando constantemente la actualizaci√≥n de los estados de todas las filas y columnas, descritas en el √∫ltimo p√°rrafo, hasta que no haya una sola celda con m√°s de un bit.  En cada iteraci√≥n, despu√©s de actualizar todas las filas y columnas, actualizamos el estado de todas las celdas en ellas a trav√©s de AND mutuo. </p><br><h2 id="pervye-rezultaty">  Primeros resultados </h2><br><p>  Supongamos que no escribimos el c√≥digo como p√°jaros carpinteros, es decir, no copiamos objetos en ning√∫n lugar por error en lugar de pasarlos por referencia, no inventamos bicicletas en ning√∫n lugar, no inventamos bicicletas, para operaciones de bits usamos <code>__builtin_popcount</code> y <code>__builtin_ctz</code> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">caracter√≠sticas de gcc</a> ), todo est√° limpio y ordenado. </p><br><p>  Veamos el momento del programa, que lee el rompecabezas del archivo y lo resuelve por completo.  Vale la pena evaluar las ventajas de la m√°quina en la que todo esto fue escrito y probado: </p><br><div class="spoiler">  <b class="spoiler_title">Especificaci√≥n del motor para mi motocicleta cl√°sica Harley Davidson modelo B de 1932</b> <div class="spoiler_text"><pre> <code class="bash hljs">RAM - 4GB  - AMD E1-2500,  1400MHz  L1 - 128KiB, 1GHz  L2 - 1MiB, 1GHz  - 2,  - 2   ¬´ SoC   ¬ª   2013    28 </code> </pre> </div></div><br><p>  Est√° claro que se eligi√≥ tal supercomputadora porque las optimizaciones en ella tienen un efecto mayor que en una m√°quina shaitan voladora. </p><br><p>  Entonces, despu√©s de ejecutar nuestro algoritmo en el crucigrama m√°s complicado (de acuerdo con nonograms.ru), obtenemos un resultado no muy bueno: de <strong>47</strong> a <strong>60</strong> segundos (esto incluye la lectura de un archivo y una soluci√≥n).  Cabe se√±alar que la "complejidad" en el sitio se calcul√≥ bien: el mismo crucigrama en todas las versiones del programa tambi√©n fue el m√°s dif√≠cil, otros crucigramas m√°s complejos en la opini√≥n del archivo se mantuvieron en el tiempo m√°ximo. </p><br><div class="spoiler">  <b class="spoiler_title">Color crucigrama n√∫mero 9596, la mayor dificultad</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ar/7n/rx/ar7nrxtbzch1wk8bsihz0puldt8.png"></div></div></div><br><p>  Para pruebas r√°pidas, se realiz√≥ la funcionalidad para el punto de referencia.  Para obtener datos para √©l, utilizo <strong>4683</strong> crucigramas en color (de <strong>10906</strong> ) y <strong>1406 en</strong> blanco y negro (de <strong>8293</strong> ) de nonograms.ru (este es uno de los archivos de nonogramas m√°s grandes en Internet) usando un script especial y los guard√© en un formato que el programa entiende.  Podemos suponer que estos crucigramas son una muestra aleatoria, por lo que el punto de referencia mostrar√° valores promedio adecuados.  Adem√°s, los n√∫meros de un par de docenas de los crucigramas m√°s "complejos" (tambi√©n el m√°s grande en tama√±o y n√∫mero de colores) se registraron en un script para cargar con bol√≠grafos. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ox/xt/nd/oxxtnd1jdlth72q0zqnj3ic1kew.png"></div><br><h2 id="optimizaciya">  Optimizaci√≥n </h2><br><p>  Aqu√≠ puede ver las posibles t√©cnicas de optimizaci√≥n que se realizaron (1) durante la escritura de todo el algoritmo, (2) para acortar el tiempo de trabajo de medio minuto a una fracci√≥n de segundo, (3) aquellas optimizaciones que pueden ser √∫tiles a√∫n m√°s. </p><br><h4 id="vo-vremya-napisaniya-algoritma">  Al momento de escribir el algoritmo </h4><br><ul><li>  Funciones especiales para operaciones de bit, en nuestro caso <code>__builtin_popcount</code> para contar unidades en una notaci√≥n binaria de un n√∫mero, y <code>__builtin_ctz</code> para el n√∫mero de ceros antes de la primera unidad m√°s peque√±a.  Dichas funciones pueden no aparecer en algunos compiladores.  Para Windows, tales an√°logos son adecuados: </li></ul><br><div class="spoiler">  <b class="spoiler_title">Cuenta pop de Windows</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> _MSC_VER # </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;intrin.h&gt; # define __builtin_popcount __popcnt #endif</span></span></span></span></code> </pre> </div></div><br><ul><li>  Organizaci√≥n de matriz: un tama√±o m√°s peque√±o es lo primero.  Por ejemplo, es mejor usar la matriz [2] [3] [500] [1024] que [1024] [500] [3] [2]. </li><li>  Lo m√°s importante es la adecuaci√≥n general del c√≥digo y evitar preocupaciones innecesarias para los c√°lculos. </li></ul><br><h4 id="chto-umenshaet-vremya-raboty">  Lo que reduce el tiempo de trabajo. </h4><br><ul><li>  El indicador -O2 al compilar. </li><li>  Para no volver a arrojar la fila / columna completamente resuelta en el algoritmo, puede establecer los indicadores para cada fila en un std :: vector / array separado, marcarlos con una soluci√≥n completa y no soltarlos si no hay nada m√°s que resolver. </li><li>  Los detalles de una soluci√≥n de repetici√≥n m√∫ltiple de un problema din√°mico sugiere que una matriz especial que contiene marcas que marcan partes del problema ya "calculadas" debe restablecerse cada vez que se crea una nueva soluci√≥n.  En nuestro caso, esta es una matriz / vector bidimensional, donde la primera dimensi√≥n es el n√∫mero de grupos, la segunda es la celda actual (vea el pseudoc√≥digo EpicWin arriba, donde esta matriz no lo es, pero la idea es clara).  En lugar de poner a cero, puede hacer esto: perm√≠tanos tener una variable de "temporizador", y la matriz consta de n√∫meros que muestran la √∫ltima "hora" cuando esta pieza se cont√≥ por √∫ltima vez.  Al comenzar una nueva tarea, el "temporizador" aumenta en 1. En lugar de verificar el indicador booleano, debe verificar la igualdad del elemento de matriz y el "temporizador".  Esto es efectivo especialmente en casos en los que el algoritmo cubre todos los estados posibles (lo que significa que poner a cero la matriz "¬øya consideramos esto?" Lleva una buena cantidad de tiempo). </li><li>  Reemplazar operaciones simples del mismo tipo (bucles con asignaci√≥n, etc.) con an√°logos en STL o cosas m√°s adecuadas.  A veces funciona m√°s r√°pido que una bicicleta. </li><li>  <code>std::vector&lt;bool&gt;</code> en C ++ comprime todos los valores booleanos en bits individuales en n√∫meros, lo que funciona en el acceso un poco m√°s lento que si fuera un valor regular en la direcci√≥n.  Si un programa usa tales valores muy, muy a menudo, reemplazar bool con un tipo entero puede tener un buen efecto en el rendimiento. </li><li>  Se pueden buscar otras debilidades a trav√©s de los perfiladores y editarlas.  Yo mismo uso Valgrind, su an√°lisis de rendimiento es conveniente para mirar a trav√©s de kCachegrind.  Los perfiladores est√°n integrados en muchos IDEs. </li></ul><br><p>  Estas ediciones resultaron ser suficientes para obtener esos datos en el punto de referencia: </p><br><div class="spoiler">  <b class="spoiler_title">Nonogramas de colores</b> <div class="spoiler_text"><pre> <code class="bash hljs">izaron@izaron:~/nonograms/build$ ./nonograms_solver -x ../../nonogram/source2/ -e [2018-08-04 22:57:40.432] [Nonograms] [info] Starting a benchmark... [2018-08-04 22:58:03.820] [Nonograms] [info] Average time: 0.00497556, Median time: 0.00302781, Max time: 0.215925 [2018-08-04 22:58:03.820] [Nonograms] [info] Top 10 heaviest nonograms: [2018-08-04 22:58:03.820] [Nonograms] [info] 0.215925 seconds, file 9596 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.164579 seconds, file 4462 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.105828 seconds, file 15831 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.08827 seconds, file 18353 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0874717 seconds, file 10590 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0831248 seconds, file 4649 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0782811 seconds, file 11922 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0734325 seconds, file 4655 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.071352 seconds, file 10828 [2018-08-04 22:58:03.820] [Nonograms] [info] 0.0708263 seconds, file 11824</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Nonogramas en blanco y negro</b> <div class="spoiler_text"><pre> <code class="bash hljs">izaron@izaron:~/nonograms/build$ ./nonograms_solver -x ../../nonogram/<span class="hljs-built_in"><span class="hljs-built_in">source</span></span>/ -e -b [2018-08-04 22:59:56.308] [Nonograms] [info] Starting a benchmark... [2018-08-04 23:00:09.781] [Nonograms] [info] Average time: 0.0095679, Median time: 0.00239274, Max time: 0.607341 [2018-08-04 23:00:09.781] [Nonograms] [info] Top 10 heaviest nonograms: [2018-08-04 23:00:09.781] [Nonograms] [info] 0.607341 seconds, file 5126 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.458932 seconds, file 19510 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.452245 seconds, file 5114 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.19975 seconds, file 18627 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.163028 seconds, file 5876 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.161675 seconds, file 17403 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.153693 seconds, file 12771 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.146731 seconds, file 5178 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.142732 seconds, file 18244 [2018-08-04 23:00:09.781] [Nonograms] [info] 0.136131 seconds, file 19385</code> </pre> </div></div><br><p>  Puede notar que, en promedio, los crucigramas en blanco y negro son "m√°s dif√≠ciles" que los de color.  Esto confirma las observaciones de los amantes de los juegos, que tambi√©n creen que el "color" se resuelve en promedio m√°s f√°cilmente. </p><br><p>  Por lo tanto, sin cambios radicales (como reescribir todo el c√≥digo en C o insertos de ensamblador con una llamada r√°pida y bajar el puntero del marco), puede lograr un alto rendimiento en una computadora muy modesta.  El principio de Pareto puede ser aplicable a las optimizaciones: resulta que la optimizaci√≥n menor influye fuertemente, porque este c√≥digo es cr√≠tico y se llama con mucha frecuencia. </p><br><h4 id="dalneyshaya-optimizaciya">  Mayor optimizaci√≥n </h4><br><p>  Los siguientes m√©todos pueden mejorar en gran medida el rendimiento del programa.  Algunos de ellos no funcionan en todos los casos, pero bajo ciertas condiciones. </p><br><ul><li>  Reescribiendo el c√≥digo en estilo C y otros 1972.  Reemplazamos ifstream con la contraparte anal√≥gica, vectores con matrices, conocemos todas las opciones del compilador y luchamos por cada ciclo de reloj del procesador. </li><li>  Paralelizaci√≥n  Por ejemplo, en el c√≥digo hay una pieza donde las filas se actualizan secuencialmente, luego las columnas: </li></ul><br><div class="spoiler">  <b class="spoiler_title">bool Puzzle :: UpdateState (...)</b> <div class="spoiler_text"><pre> <code class="cpp hljs"> ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!UpdateGroupsState(solver, dead_rows, row_groups, row_masks)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!UpdateGroupsState(solver, dead_cols, col_groups, col_masks)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> </div></div><br><p>  Estas funciones son independientes entre s√≠ y no tienen memoria compartida, a excepci√≥n del solucionador de variables (tipo OneLineSolver), por lo que puede crear dos objetos de resoluci√≥n (aqu√≠, obviamente, solo uno es solucionador) e iniciar dos subprocesos en la misma funci√≥n.  El efecto es este: en los crucigramas de color, el "m√°s dif√≠cil" se resuelve el doble de r√°pido, en blanco y negro, el mismo es un tercio m√°s r√°pido, y el tiempo promedio ha aumentado, debido al costo relativamente alto de crear hilos. </p><br><p>  Pero, en general, no recomendar√≠a hacerlo correctamente en el programa actual y usarlo con calma: en primer lugar, crear subprocesos es una operaci√≥n costosa, no debe crear constantemente subprocesos para tareas de microsegundos, y en segundo lugar, con alguna combinaci√≥n de argumentos del programa, los subprocesos pueden referirse a qu√© memoria externa, por ejemplo, al crear im√°genes de una soluci√≥n; esto debe tenerse en cuenta y asegurarse. </p><br><p>  Si la tarea fuera seria y tuviera muchos datos y m√°quinas multin√∫cleo, ir√≠a a√∫n m√°s lejos: puede crear varios subprocesos constantes, cada uno tendr√° su propio objeto OneLineSolver y otra estructura segura para subprocesos que controla la distribuci√≥n del trabajo y bajo demanda le da una referencia a la siguiente fila / columna para la soluci√≥n.  Los hilos despu√©s de resolver otro problema vuelven a la estructura para resolver otra cosa.  En principio, un problema de nonograma puede iniciarse sin completar el anterior, por ejemplo, cuando esta estructura se involucra en el AND mutuo de todas las celdas, y luego algunos flujos son libres y no hacen nada.  Se puede hacer m√°s paralelizaci√≥n en la GPU a trav√©s de CUDA: hay muchas opciones. </p><br><ul><li>  Utilizando estructuras de datos cl√°sicas.  Tenga en cuenta que cuando mostr√© el pseudoc√≥digo de la soluci√≥n para los nonogramas de color, las funciones CanInsertColor y PlaceColor no funcionan en absoluto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">O</span><span class="MJXp-mo" id="MJXp-Span-107" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-108">1</span><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> O (1) </script>  , a diferencia de los nonogramas en blanco y negro.  Se ve as√≠ en un programa: </li></ul><br><div class="spoiler">  <b class="spoiler_title">CanPlaceColor y SetPlaceColor</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> OneLineSolver::CanPlaceColor(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&amp; cells, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> color, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lbound, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rbound) { <span class="hljs-comment"><span class="hljs-comment">// Went out of the border if (rbound &gt;= cells.size()) { return false; } // We can paint a block of cells with a certain color if and only if it is // possible for all cells to have this color (that means, if every cell // from the block has color-th bit set to 1) int mask = 1 &lt;&lt; color; for (int i = lbound; i &lt;= rbound; ++i) { if (!(cells[i] &amp; mask)) { return false; } } return true; } void OneLineSolver::SetPlaceColor(int color, int lbound, int rbound) { // Every cell from the block now can have this color for (int i = lbound; i &lt;= rbound; ++i) { result_cells_[i] |= (1 &lt;&lt; color); } }</span></span></code> </pre> </div></div><br><p>  Es decir, funciona para la l√≠nea, para <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">O</span><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">N</span><span class="MJXp-mo" id="MJXp-Span-114" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> O (N) </script>  (M√°s adelante habr√° una explicaci√≥n del significado de tal c√≥digo). </p><br><p>  Veamos c√≥mo puedes obtener la mejor complejidad.  Tome <code>CanPlaceColor</code> .  Esta funci√≥n verifica que entre todos los n√∫meros del vector en el segmento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-115"><span class="MJXp-mo" id="MJXp-Span-116" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">d</span><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">d</span><span class="MJXp-mo" id="MJXp-Span-130" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> [lbound, rbound] </script>  n√∫mero de bit <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-131"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> color </script>  establecido en 1. Equivalente a esto, puede tomar <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-137"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> Y </script>  <strong>todos los</strong> n√∫meros de este segmento y verifique el n√∫mero de bit <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-139"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">r</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> color </script>  .  Usando el hecho de que la operaci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-145"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> Y </script>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">conmutativo</a> , as√≠ como suma, m√≠nimo / m√°ximo, producto u operaci√≥n <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-147"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">X</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">o</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> X o </script>  , para un conteo r√°pido <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">Y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> Y </script>        ,      . : </p><br><ol><li> SQRT-.  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-152"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">O</span><span class="MJXp-mo" id="MJXp-Span-154" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msqrt" id="MJXp-Span-155"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">‚àö</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-157" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28">O(\sqrt{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-158"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">O</span><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msqrt" id="MJXp-Span-161"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">‚àö</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29">O(\sqrt{N})</script> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a> . </li><li>  .  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">O</span><span class="MJXp-mo" id="MJXp-Span-166" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">N</span><span class="MJXp-mi" id="MJXp-Span-168">log</span><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-170"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">N</span></span><span class="MJXp-mo" id="MJXp-Span-172" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30">O(N\log{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-173"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">O</span><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-176">log</span><span class="MJXp-mo" id="MJXp-Span-177" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-178"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">N</span></span><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31">O(\log{N})</script> .    . </li><li>   (Sparse Table).  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-181"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">O</span><span class="MJXp-mo" id="MJXp-Span-183" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">N</span><span class="MJXp-mi" id="MJXp-Span-185">log</span><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-187"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">N</span></span><span class="MJXp-mo" id="MJXp-Span-189" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32">O(N\log{N})</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">O</span><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-193">1</span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33">O(1)</script> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . </li></ol><br><p>  ,      -   ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-195"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">O</span><span class="MJXp-mo" id="MJXp-Span-197" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">N</span><span class="MJXp-mo" id="MJXp-Span-199" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34">O(N)</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">O</span><span class="MJXp-mo" id="MJXp-Span-202" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-203">1</span><span class="MJXp-mo" id="MJXp-Span-204" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">O(1)</script> )  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> ,  ,       <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-205"><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ varphi </script> ,  <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-213"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">œÜ</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">Œ±</span><span class="MJXp-mo" id="MJXp-Span-217" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">Œ≤</span><span class="MJXp-mo" id="MJXp-Span-219" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.333em; margin-right: 0.333em;">‚àà</span><span class="MJXp-mo" id="MJXp-Span-221" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">Œ±</span><span class="MJXp-mo" id="MJXp-Span-223" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">Œ≤</span><span class="MJXp-mo" id="MJXp-Span-225" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37">\varphi(\alpha, \beta) \in \{\alpha, \beta\}</script> ,      ‚Äî    (,   ...) </p><br><p>   <code>SetPlaceColor</code> .       .      SQRT-       (  " ").         - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">    </a>      . </p><br><p>       -  ‚Äî     . </p><br><p> ,   ‚Äî <em></em>        ,    ?     : </p><br><ol><li>        .   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-226"><span class="MJXp-mi" id="MJXp-Span-227">log</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38">\log</script>    ,  ,    ‚Äî         (   magic number  ,     ). ,   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-228"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">N</span><span class="MJXp-mo" id="MJXp-Span-230" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-231"><span class="MJXp-mn" id="MJXp-Span-232" style="margin-right: 0.05em;">10</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-233" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-234">5</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39">N=10^{5}</script> ,     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-235"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">O</span><span class="MJXp-mo" id="MJXp-Span-237" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-238"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239" style="margin-right: 0.05em;">N</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-240" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-241" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40">O(N^2)</script>    10 ,    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-242"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">O</span><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">N</span><span class="MJXp-mi" id="MJXp-Span-246">log</span><span class="MJXp-mo" id="MJXp-Span-247" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-248"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">N</span></span><span class="MJXp-mo" id="MJXp-Span-250" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41">O(N\log{N})</script>   0.150 ,        <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-251"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> N </script> ,     .  ,            ( ): <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">O</span><span class="MJXp-mo" id="MJXp-Span-255" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">N</span><span class="MJXp-msqrt" id="MJXp-Span-257"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;">‚àö</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">N</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-259" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43">O(N\sqrt{N})</script> versus <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-260"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">O</span><span class="MJXp-mo" id="MJXp-Span-262" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">N</span><span class="MJXp-msubsup" id="MJXp-Span-264"><span class="MJXp-mi" id="MJXp-Span-265" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-266" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-268"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">N</span></span><span class="MJXp-mo" id="MJXp-Span-270" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44">O(N\log^2{N})</script> .    <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-271"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> N </script> ( )   ‚Äî    15-30. </li><li>     ,         . </li></ol><br><p>     ‚Äî                  ,      -   ‚Äî   <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">N</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> N </script>      ,    .     ,        ~25%  ~11%  ,          .     -      ,  ,        ,          . </p><br><p>        ‚Äî      ,        .     . </p><br><ul><li>  .   ,            ,   - .       :   ,        ,        ""  ? ,      ,    !       .      ,       . </li><li>    (,     1337    1000x1000)   .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">std::bitset</a> ,   ‚Äî    ,   . </li></ul><br><p>  ,    . ""          .      ,         C++ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">rope</a> ,       ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> hashtable</a> ,   3-6    /   4-10   /,  unordered_map.         ,   boost. </p><br><h2 id="rofl-omitting-format-language"> ROFL Omitting Format Language </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rc/vp/jm/rcvpjmbinhow4aakwya-xgt3rm4.png"></div><br><p>         ,           ,       ,       -. </p><br><p> ROFL ‚Äî  ,   "GNU's Not Unix". ,    ,       ,  ,   ,    .    Omitting   ‚Äî          (, ,     :          ‚Äî   ). </p><br><p> ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Matroska</a> ‚Äî    4  [52][4F][46][4C],         ,   ,  ,   3 ,      ‚Äî ,    . </p><br><p>  ,  MIT,    ‚Äî   ,  . </p><br><h2 id="ishodniki">  </h2><br><p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> .      ,    ,     (,         ).    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Magick++</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">args</a> . </p><br><p>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> ,    (    ).    nonograms.ru      ,    ,             . </p><br><p>      nonograms.ru  .. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">KyberPrizrak</a> ,   ,          ,       !         nonograms.ru,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/es/zg/il/eszgil8btd-jjgaszlinfz2oodm.png"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418069/">https://habr.com/ru/post/es418069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418057/index.html">"Aprende, estudia y estudia de nuevo": las mejores conferencias de este oto√±o para desarrolladores m√≥viles</a></li>
<li><a href="../es418059/index.html">OpenSource APM Pinpoint</a></li>
<li><a href="../es418063/index.html">El Intel Core i7-8086K (parte 4)</a></li>
<li><a href="../es418065/index.html">Noticias de la Conferencia 2018 MBLT DEV: Android Track</a></li>
<li><a href="../es418067/index.html">C√≥mo crear prototipos de aplicaciones r√°pidamente con una cuadr√≠cula CSS y variables CSS</a></li>
<li><a href="../es418071/index.html">Industria de TI para la gente: Festival TechTrain en San Petersburgo</a></li>
<li><a href="../es418075/index.html">TOP 5 cosas que se pueden imprimir en una impresora 3D [video]</a></li>
<li><a href="../es418077/index.html">Accidentes de "no mirar": una justificaci√≥n estad√≠stica para el modo operativo de soporte t√©cnico 24/7</a></li>
<li><a href="../es418079/index.html">Los lenguajes de programaci√≥n m√°s populares - 2018</a></li>
<li><a href="../es418081/index.html">Organizaci√≥n de pruebas seguras en producci√≥n. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>