<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐พโ๐ ๐ธ ๐ณ OpenSceneGraph: ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุฅุฌุฑุงุฆูุฉ ููููุฏุณุฉ ูุฎุตุงุฆุต ุงูุญุงูุฉ ๐๏ธ ๐๐ฝ ๐บ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏูุฉ 
 ูุชุญุฏุซ ุนู ุชูููุงุช ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจู OSG ุ ุขุฎุฑ ูุฑุฉ ุชุญุฏุซูุง ูููุง ุนู ุขููุฉ ุฑุฏ ุงูุงุชุตุงู ูุชุทุจูููุง ูู ุงููุญุฑู. ููุฏ ุญุงู ุงูููุช ูููุธุฑ ูู ุงูุงุญุชูุงูุงุช ุงูุชู ุชููุฑ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OpenSceneGraph: ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุฅุฌุฑุงุฆูุฉ ููููุฏุณุฉ ูุฎุตุงุฆุต ุงูุญุงูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437724/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/py/ks/3w/pyks3wlvjf_zfef-sqocutbnimk.jpeg" alt="ุงูุตูุฑุฉ"><br><h1 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h1><br>  ูุชุญุฏุซ ุนู ุชูููุงุช ุงูุจุฑูุฌุฉ ุงูุฎุงุตุฉ ุจู OSG <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุ ุขุฎุฑ ูุฑุฉ</a> ุชุญุฏุซูุง ูููุง ุนู ุขููุฉ ุฑุฏ ุงูุงุชุตุงู ูุชุทุจูููุง ูู ุงููุญุฑู.  ููุฏ ุญุงู ุงูููุช ูููุธุฑ ูู ุงูุงุญุชูุงูุงุช ุงูุชู ุชููุฑูุง ูุฐู ุงูุขููุฉ ูุฅุฏุงุฑุฉ ูุญุชููุงุช ูุดูุฏ ุซูุงุซู ุงูุฃุจุนุงุฏ. <br><br>  ุฅุฐุง ุชุญุฏุซูุง ุนู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูููุงุฆูุงุช ุ ูุฅู OSG ุชุฒูุฏ ุงููุทูุฑ ุจุฎูุงุฑูู ูุชูููุฐู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฑุณูู ุงููุชุญุฑูุฉ ุงูุฅุฌุฑุงุฆูุฉ ุชููุฐ ุจุฑูุฌูุง ูู ุฎูุงู ุชุญููู ุงูุฃุดูุงุก ูุณูุงุชูุง </li><li style=";text-align:right;direction:rtl">  ุชุตุฏูุฑ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ูุญุฑุฑ ุซูุงุซู ุงูุฃุจุนุงุฏ ูุฅุฏุงุฑุชูุง ูู ุฑูุฒ ุงูุชุทุจูู </li></ol><br>  ูุชุจุฏุฃ ุ ูุงููุธุฑ ูู ุงูุงุญุชูุงู ุงูุฃูู ุ ูุงูุฃูุซุฑ ูุถูุญุง.  ุณูุชุญุฏุซ ุจุงูุชุฃููุฏ ุนู ุงูุซุงููุฉ ุจุนุฏ ูููู. <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  1. ุงูุฅุฌุฑุงุฆูุฉ ุชุชุญูู ุงูุฑุณูู ุงููุชุญุฑูุฉ </h1><br>  ุนูุฏ ุงุฌุชูุงุฒ ุงูุฑุณู ุงูุจูุงูู ูููุดูุฏ ุ ุชููู OSG ุจููู ุงูุจูุงูุงุช ุฅูู ุฎุท ุฃูุงุจูุจ OpenGL ุ ูุงูุฐู ูุชู ุชุดุบููู ูู ุณูุณูุฉ ุฑุณุงุฆู ูููุตูุฉ.  ูุฌุจ ุฃู ุชุชู ูุฒุงููุฉ ูุคุดุฑ ุงูุชุฑุงุจุท ูุฐุง ูุน ูุคุดุฑุงุช ุชุฑุงุจุท ุงููุนุงูุฌุฉ ุงูุฃุฎุฑู ูู ูู ุฅุทุงุฑ.  ูุฏ ูุคุฏู ุงููุดู ูู ุงูููุงู ุจุฐูู ุฅูู ุฅููุงู ุทุฑููุฉ ุงูุฅุทุงุฑ () ูุจู ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงูููุฏุณูุฉ.  ุณูุคุฏู ูุฐุง ุฅูู ุณููู ูุชุนุทู ุงูุจุฑูุงูุฌ ุบูุฑ ูุชููุนุฉ.  ููุฏู OSG ุญูุงู ููุฐู ุงููุดููุฉ ูู ุดูู ุทุฑููุฉ setDataVariance () ููุฆุฉ osg :: Object ุ ูุงูุชู ุชุนุชุจุฑ ุงูุฃุณุงุณ ูุฌููุน ุงููุงุฆูุงุช ุงูุฑุฆูุณูุฉ ูู ุงููุดูุฏ.  ููููู ุชุนููู ุซูุงุซุฉ ุฃูุถุงุน ูุนุงูุฌุฉ ูููุงุฆูุงุช <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุบูุฑ ูุญุฏุฏ (ุจุดูู ุงูุชุฑุงุถู) - ูุญุฏุฏ OSG ุจุดูู ูุณุชูู ุชุฑุชูุจ ูุนุงูุฌุฉ ุงููุงุฆู. <br></li><li style=";text-align:right;direction:rtl">  ุซุงุจุช - ุงููุงุฆู ุบูุฑ ูุงุจู ููุชุบููุฑ ูุชุฑุชูุจ ูุนุงูุฌุชู ุบูุฑ ููู.  ูุณุฑุน ุจุดูู ูุจูุฑ ุชูุฏูู. <br></li><li style=";text-align:right;direction:rtl">  DYNAMIC - ูุฌุจ ูุนุงูุฌุฉ ุงููุงุฆู ูุจู ุจุฏุก ุงูุนุฑุถ. <br></li></ol><br>  ูููู ุถุจุท ูุฐุง ุงูุฅุนุฏุงุฏ ูู ุฃู ููุช ุนู ุทุฑูู ุงูุงุชุตุงู <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs">node-&gt;setDataVariance( osg::Object::DYNAMIC );</code> </pre> <br>  ุชุชูุซู ุงูููุงุฑุณุฉ ุงูููุจููุฉ ุนููููุง ูู ุชุนุฏูู ุงูููุฏุณุฉ "ุณุฑูุนูุง" ุ ุฃู ุชุบููุฑ ุฅุญุฏุงุซูุงุช ุงูููู ููุนุงููุฑ ุงูููู ูุงูุฃูุณุฌุฉ ุฏููุงูููููุง ูู ูู ุฅุทุงุฑ ุ ูุงูุญุตูู ุนูู ููุฏุณุฉ ูุงุจูุฉ ููุชุบููุฑ.  ูุชุณูู ูุฐู ุงูุชูููุฉ ุชุชุญูู ุงูุฑุณูู ุงููุชุญุฑูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุนุฏ ุชุฑุชูุจ ูุนุงูุฌุฉ ุงูููุฏุณุฉ ุญุงุณูุงู - ูุฌุจ ุฅุนุงุฏุฉ ุญุณุงุจ ุฌููุน ุงูุชุบููุฑุงุช ูุจู ุจุฏุก ุงูุฑุณู.  ูุชูุถูุญ ูุฐู ุงูุฎุฏุนุฉ ุ ูููู ุจุชุนุฏูู ุงููุซุงู ุงููุฑุจูุน ุงููููู ููููุงู ุ ููุง ูุถุทุฑ ุฃุญุฏ ุฑุคูุณู ููุชุฏููุฑ ุญูู ูุญูุฑ X. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุฃูููููุงุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>ุงูุฑุฆูุณูุฉ</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/Geometry&gt; #include &lt;osg/Geode&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ osg::Geometry *createQuad() { osg::ref_ptr&lt;osg::Vec3Array&gt; vertices = new osg::Vec3Array; vertices-&gt;push_back( osg::Vec3(0.0f, 0.0f, 0.0f) ); vertices-&gt;push_back( osg::Vec3(1.0f, 0.0f, 0.0f) ); vertices-&gt;push_back( osg::Vec3(1.0f, 0.0f, 1.0f) ); vertices-&gt;push_back( osg::Vec3(0.0f, 0.0f, 1.0f) ); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = new osg::Vec3Array; normals-&gt;push_back( osg::Vec3(0.0f, -1.0f, 0.0f) ); osg::ref_ptr&lt;osg::Vec4Array&gt; colors = new osg::Vec4Array; colors-&gt;push_back( osg::Vec4(1.0f, 0.0f, 0.0f, 1.0f) ); colors-&gt;push_back( osg::Vec4(0.0f, 1.0f, 0.0f, 1.0f) ); colors-&gt;push_back( osg::Vec4(0.0f, 0.0f, 1.0f, 1.0f) ); colors-&gt;push_back( osg::Vec4(1.0f, 1.0f, 1.0f, 1.0f) ); osg::ref_ptr&lt;osg::Geometry&gt; quad = new osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setColorArray(colors.get()); quad-&gt;setColorBinding(osg::Geometry::BIND_PER_VERTEX); quad-&gt;addPrimitiveSet(new osg::DrawArrays(GL_QUADS, 0, 4)); return quad.release(); } //------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ class DynamicQuadCallback : public osg::Drawable::UpdateCallback { public: virtual void update(osg::NodeVisitor *, osg::Drawable *drawable); }; //------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ void DynamicQuadCallback::update(osg::NodeVisitor *, osg::Drawable *drawable) { osg::Geometry *quad = static_cast&lt;osg::Geometry *&gt;(drawable); if (!quad) return; osg::Vec3Array *vertices = static_cast&lt;osg::Vec3Array *&gt;(quad-&gt;getVertexArray()); if (!vertices) return; osg::Quat quat(osg::PI * 0.01, osg::X_AXIS); vertices-&gt;back() = quat * vertices-&gt;back(); quad-&gt;dirtyDisplayList(); quad-&gt;dirtyBound(); } //------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::Geometry *quad = createQuad(); quad-&gt;setDataVariance(osg::Object::DYNAMIC); quad-&gt;setUpdateCallback(new DynamicQuadCallback); osg::ref_ptr&lt;osg::Geode&gt; root = new osg::Geode; root-&gt;addDrawable(quad); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>  ุณูููู ุจุฅูุดุงุก ูุฑุจุน ูู ูุธููุฉ ูููุตูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::<span class="hljs-function"><span class="hljs-function">Geometry *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createQuad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ osg::ref_ptr&lt;osg::Vec3Array&gt; vertices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; vertices-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) ); vertices-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) ); vertices-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); vertices-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; normals-&gt;push_back( osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>) ); osg::ref_ptr&lt;osg::Vec4Array&gt; colors = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec4Array; colors-&gt;push_back( osg::Vec4(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); colors-&gt;push_back( osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); colors-&gt;push_back( osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); colors-&gt;push_back( osg::Vec4(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) ); osg::ref_ptr&lt;osg::Geometry&gt; quad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setColorArray(colors.get()); quad-&gt;setColorBinding(osg::Geometry::BIND_PER_VERTEX); quad-&gt;addPrimitiveSet(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::DrawArrays(GL_QUADS, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quad.release(); }</code> </pre><br>  ูุตููุง ุ ูู ุญูุซ ุงููุจุฏุฃ ุ ููุณ ูุทููุจูุง ุ ูุธุฑูุง ูุฃููุง ูููุง ุจูุฐู ุงูุฅุฌุฑุงุกุงุช ูุฑุงุฑูุง ูุชูุฑุงุฑูุง.  ูุชุนุฏูู ุฑุคูุณ ูุฐุง ุงููุฑุจุน ุ ููุชุจ ูุฆุฉ DynamicQuadCallback ุ ูุฑุงุซุฉ ูู osg :: Drawable :: UpdateCallback <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DynamicQuadCallback</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> osg::Drawable::UpdateCallback { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(osg::NodeVisitor *, osg::Drawable *drawable)</span></span></span></span>; };</code> </pre><br>  ุชุฌุงูุฒ ุฃุณููุจ ุงูุชุญุฏูุซ () ููู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> DynamicQuadCallback::update(osg::NodeVisitor *, osg::Drawable *drawable) { osg::Geometry *quad = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;osg::Geometry *&gt;(drawable); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!quad) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; osg::Vec3Array *vertices = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;osg::Vec3Array *&gt;(quad-&gt;getVertexArray()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!vertices) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; osg::<span class="hljs-function"><span class="hljs-function">Quat </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">quat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(osg::PI * </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.01</span></span></span></span><span class="hljs-function"><span class="hljs-params">, osg::X_AXIS)</span></span></span></span>; vertices-&gt;back() = quat * vertices-&gt;back(); quad-&gt;dirtyDisplayList(); quad-&gt;dirtyBound(); }</code> </pre><br>  ููุง ูุญุตู ุนูู ูุคุดุฑ ููุงุฆู ุงูููุฏุณุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::Geometry *quad = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;osg::Geometry *&gt;(drawable);</code> </pre><br>  ููุฑุฃ ูู ุงูููุฏุณุฉ ูุงุฆูุฉ ูู ุงูููู (ุฃู ุจุงูุฃุญุฑู ูุคุดุฑ ุฅูููุง) <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::Vec3Array *vertices = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;osg::Vec3Array *&gt;(quad-&gt;getVertexArray());</code> </pre><br>  ููุญุตูู ุนูู ุงูุนูุตุฑ ุงูุฃุฎูุฑ (ููุฉ ุงูุฑุฃุณ ุงูุฃุฎูุฑุฉ) ูู ุงูุตููู ุ ุชููุฑ ุงููุฆุฉ osg :: Array ุงูุฃุณููุจ back ().  ูุฃุฏุงุก ุฏูุฑุงู ุงูุฑุฃุณ ุจุงููุณุจุฉ ุฅูู ุงููุญูุฑ X ุ ููุฏู ุงูุฑุจุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::<span class="hljs-function"><span class="hljs-function">Quat </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">quat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(osg::PI * </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.01</span></span></span></span><span class="hljs-function"><span class="hljs-params">, osg::X_AXIS)</span></span></span></span>;</code> </pre><br>  ุจูุนูู ุ ูุถุนูุง ุฑุจุงุนููุง ูููู ุจุชุฏููุฑ ุญูู ุงููุญูุฑ X ุจุฒุงููุฉ 0.01 * Pi.  ุชุฏููุฑ ุงูุฑุฃุณ ุนู ุทุฑูู ุถุฑุจ ุฑุจุงุนู ุจูุงุณุทุฉ ูุงููุงุช ุชุญุฏูุฏ ุฅุญุฏุงุซูุงุช ููุฉ ุงูุฑุฃุณ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">vertices-&gt;back() = quat * vertices-&gt;back();</code> </pre><br>  ุงูููุงููุงุช ุงูุฃุฎูุฑุฉ ุฌูุงุฒู ุฅุนุงุฏุฉ ุณุฑุฏ ูุงุฆูุฉ ุงูุนุฑุถ ู parallelepiped ุงูุฃุจุนุงุฏ ููููุฏุณุฉ ุงููุนุฏูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">quad-&gt;dirtyDisplayList(); quad-&gt;dirtyBound();</code> </pre><br>  ูู ูุต ุงูุฏุงูุฉ main () ุ ูููู ุจุฅูุดุงุก ูุฑุจุน ุ ูุถุจุท ูุถุน ุงูุฑุณู ุงูุฏููุงูููู ููุง ุ ูุฅุถุงูุฉ ุฑุฏ ุงุชุตุงู ูุชุนุฏูู ุงูุดูู ุงูููุฏุณู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::Geometry *quad = createQuad(); quad-&gt;setDataVariance(osg::Object::DYNAMIC); quad-&gt;setUpdateCallback(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DynamicQuadCallback);</code> </pre><br>  ุณุฃุชุฑู ุฅูุดุงุก ุงูุนูุฏุฉ ุงูุฌุฐุฑ ุจุดูู ุนุดูุงุฆู ูุฅุทูุงู ุงูุนุงุฑุถ ุ ููุง ูุนููุง ูุฐุง ุจุงููุนู ุนูู ุงูุฃูู 20 ูุฑุฉ ุจุทุฑู ูุฎุชููุฉ.  ูุชูุฌุฉ ูุฐูู ุ ูุฏููุง ุฃุจุณุท ุงูุฑุณูู ุงููุชุญุฑูุฉ ุชุชุญูู <br><br><img src="https://habrastorage.org/webt/rk/oy/rf/rkoyrfpjkx_kan0puqvyj1ocxps.gif"><br><br>  ุงูุขู ุญุงูู ุฅุฒุงูุฉ (ุงูุชุนููู ุนูู) ุงุณุชุฏุนุงุก setDataVariance ().  ุฑุจูุง ูู ูุฑู ุฃู ุดูุก ุฅุฌุฑุงูู ูู ูุฐู ุงูุญุงูุฉ - ุจุดูู ุงูุชุฑุงุถู ุ ูุญุงูู OSG ุชุญุฏูุฏ ููุช ุชุญุฏูุซ ุจูุงูุงุช ุงูุฃุดูุงู ุงูููุฏุณูุฉ ุชููุงุฆููุง ุ ููุญุงููุฉ ุงููุฒุงููุฉ ูุน ุงูุชูุฏูู.  ุซู ุญุงูู ุชุบููุฑ ุงููุถุน ูู DYNAMIC ุฅูู STATIC ูุณููุฑู ุฃู ุงูุตูุฑุฉ ูุง ุชุธูุฑ ุจุณูุงุณุฉ ุ ูุน ุชุฏูู ุงููุฒุงุช ูุงูุฃุฎุทุงุก ูุงูุชุญุฐูุฑุงุช ุจุดูู ููุญูุธ ุนูู ูุญุฏุฉ ุงูุชุญูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Warning: detected OpenGL error 'invalid value' at after RenderBin::draw(..)</code> </pre><br>  ุฅุฐุง ูู ุชูู ุจุชูููุฐ ุทุฑููุฉ dirtyDisplayList () ุ ูุณูู ูุชุฌุงูู OpenGL ุฌููุน ุงูุชุบููุฑุงุช ูู ุงูููุฏุณุฉ ูุณูุณุชุฎุฏู ูุงุฆูุฉ ุงูุนุฑุถ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงูุจุฏุงูุฉ ูุฅูุดุงุก ุงููุฑุจุน ููุชูุฏูู.  ุงุญุฐู ูุฐู ุงูููุงููุฉ ูุณุชุฑู ุฃูู ูุง ุชูุฌุฏ ุฑุณูู ูุชุญุฑูุฉ. <br><br>  ุจุฏูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ dirtyBound () ุ ูู ูุชู ุฅุนุงุฏุฉ ุญุณุงุจ ุงููุฑุจุน ุงููุญูุท ูุณูููู OSG ุจูุต ุงููุฌูู ุบูุฑ ุงููุฑุฆูุฉ ุจุดูู ุบูุฑ ุตุญูุญ. <br><br><h1 style=";text-align:right;direction:rtl">  2. ููููู ุงูุงุณุชููุงุก ุงูุญุฑูุฉ </h1><br>  ูููุชุฑุถ ุฃู ุงููุทุงุฑ ุงููุชุฌู ูู ุงููุญุทุฉ A ุฅูู ุงููุญุทุฉ B ูุณุชุบุฑู 15 ุฏูููุฉ ููุณูุฑ.  ููู ูููููุง ูุญุงูุงุฉ ูุฐุง ุงููููู ุนู ุทุฑูู ุชุบููุฑ ูููู ุงููุทุงุฑ ูู ุฑุฏ ุงูุงุชุตุงูุ  ุฃุณูู ุทุฑููุฉ ูู ุฑุจุท ูููุน ุงููุญุทุฉ A ุจุงูููุช 0 ุ ูุงููุญุทุฉ B ููุฏุฉ 15 ุฏูููุฉ ูููู ุงููุทุงุฑ ุจุงูุชุณุงูู ุจูู ูุฐู ุงูุฃููุงุช.  ููุณูู ูุฐุง ุงูููุฌ ุฃุจุณุท ุงูุงุณุชููุงุก ุงูุฎุทู.  ูู ุงูุงุณุชููุงุก ุงูุฎุทู ุ ูุชู ูุตู ุงููุชุฌู ุงูุฐู ูุญุฏุฏ ููุถุน ุงูููุทุฉ ุงููุณูุทุฉ ุจูุงุณุทุฉ ุงูุตูุบุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">p = (1 - t) * p0 + t * p1</code> </pre><br>  ุญูุซ p0 ูู ููุทุฉ ุงูุจุฏุงูุฉ ุ  P1 ูู ููุทุฉ ุงูููุงูุฉ ุ  t ูู ูุนููุฉ ุชุฎุชูู ุจุดูู ููุชุธู ูู 0 ุฅูู 1. ููุน ุฐูู ุ ูุฅู ุญุฑูุฉ ุงููุทุงุฑ ุฃูุซุฑ ุชุนููุฏูุง: ููู ุชุชุฑู ุงููุญุทุฉ A ุ ูุชุชุณุงุฑุน ุ ุซู ุชุชุญุฑู ุจุณุฑุนุฉ ุซุงุจุชุฉ ุ ุซู ุชุจุทุฆ ูุชููู ูู ุงููุญุทุฉ B. ูู ุชุนุฏ ูุฐู ุงูุนูููุฉ ูุงุฏุฑุฉ ุนูู ูุตู ุงูุงุณุชููุงุก ุงูุฎุทู ู ูุจุฏู ุบูุฑ ุทุจูุนู. <br><br>  ูููุฑ OSG ูููุทูุฑ ููุชุจุฉ osgAnimation ุงูุชู ุชุญุชูู ุนูู ุนุฏุฏ ูู ุฎูุงุฑุฒููุงุช ุงูุงุณุชููุงุก ุงูููุงุณูุฉ ุงููุณุชุฎุฏูุฉ ูุชุญุฑูู ุญุฑูุฉ ูุงุฆูุงุช ุงููุดูุฏ ุจุณูุงุณุฉ.  ุชุญุชูู ูู ูู ูุฐู ุงููุธุงุฆู ุนุงุฏุฉู ุนูู ูุณูุทูู: ุงููููุฉ ุงูุฃูููุฉ ูููุนููุฉ (ุนุงุฏุฉู 0) ูุงููููุฉ ุงูููุงุฆูุฉ ูููุนููุฉ (ุนุงุฏุฉู 1).  ูููู ุชุทุจูู ูุฐู ุงููุธุงุฆู ุนูู ุจุฏุงูุฉ ุงูุญุฑูุฉ (InMotion) ุ ุฃู ูู ููุงูุฉ ุงูุญุฑูุฉ (OutMotion) ุฃู ุนูู ุจุฏุงูุฉ ุงูุญุฑูุฉ ูููุงูุชูุง (InOutMotion) <br><br><table style=";text-align:right;direction:rtl"><thead><tr><th>  ููุน ุงูุญุฑูุฉ </th><th>  ูู ุงูุตู </th><th>  ุฎุงุฑุฌ ุงูุตู </th><th>  ูู / ุฎุงุฑุฌ ุงูุตู </th></tr></thead><tbody><tr><td>  ุงูุงุณุชููุงุก ุงูุฎุทู </td><td>  LinearMotion </td><td>  - </td><td>  - </td></tr><tr><td>  ุงูุงุณุชููุงู ุงูุชุฑุจูุนู </td><td>  InQuadMotion </td><td>  OutQuadMotion </td><td>  InOutQuadMotion </td></tr><tr><td>  ุงูุงุณุชููุงุก ุงูููุนุจ </td><td>  InCubicMotion </td><td>  Outcubicmotion </td><td>  InOutCubicMotion </td></tr><tr><td>  4-ุชุฑุชูุจ ุงูุงุณุชููุงุก </td><td>  InQuartMotion </td><td>  OutQuartMotion </td><td>  InOutQuartMotion </td></tr><tr><td>  ุชุฑุชุฏ ุชุฃุซูุฑ ุงูุงุณุชููุงุก </td><td>  InBounceMotion </td><td>  OutBounceMotion </td><td>  InOutBounceMotion </td></tr><tr><td>  ุงูุชุนุงุด ูุฑููุฉ ุงูุงุณุชููุงุก </td><td>  InElasticMotion </td><td>  OutElasticMotion </td><td>  InOutElasticMotion </td></tr><tr><td>  ุงูุงุณุชููุงุก ุงูุฌููุจ ุงูุฃูููุฉ </td><td>  InSineMotion </td><td>  ุงูุบููุถ </td><td>  InOutSineMotion </td></tr><tr><td>  ูุนููุณ ุงูุงุณุชููุงุก </td><td>  ุฅููุจุงูููุดู </td><td>  Outbackmotion </td><td>  InOutBackMotion </td></tr><tr><td>  ุงูุงุณุชููุงุก ุงูุฏุงุฆุฑู </td><td>  InCircMotion </td><td>  ุชููู </td><td>  InOutCircMotion </td></tr><tr><td>  ุงูุงุณุชููุงุก ุงูุฃุณู </td><td>  InExpoMotion </td><td>  ุงูุชููู </td><td>  InOutExpoMotion </td></tr></tbody></table><br>  ูุฅูุดุงุก ุงุณุชููุงุก ุฎุทู ูุญุฑูุฉ ูุงุฆู ูุง ุ ููุชุจ ูุฐุง ุงูุฑูุฒ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osgAnimation::LinearMotion&gt; motion = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osgAnimation::LinearMotion(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>);</code> </pre><br><h1 style=";text-align:right;direction:rtl">  3. ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุงูุนูุฏ ุงูุชุญูู </h1><br>  ุงูุฑุณูู ุงููุชุญุฑูุฉ ูููุณุงุฑ ูู ุฃูุซุฑ ุฃููุงุน ุงูุฑุณูู ุงููุชุญุฑูุฉ ุดููุนูุง ูู ุชุทุจููุงุช ุงูุฑุณูู.  ูููู ุงุณุชุฎุฏุงู ูุฐู ุงูุชูููุฉ ูุชุญุฑูู ุญุฑูุฉ ุงูุณูุงุฑุฉ ุฃู ุฑุญูุฉ ุงูุทุงุฆุฑุฉ ุฃู ุญุฑูุฉ ุงููุงููุฑุง.  ูุชู ุชุญุฏูุฏ ุงููุณุงุฑ ูุณุจููุง ุ ูุน ูู ุงูููุงุถุน ูุงูุฏูุฑุงุช ูุชุบููุฑุงุช ุงููุทุงู ูู ุงูููุงุท ุงูุฑุฆูุณูุฉ ูู ุงูููุช ุงูููุงุณุจ.  ุนูุฏ ุจุฏุก ุฏูุฑุฉ ุงููุญุงูุงุฉ ุ ูุชู ุฅุนุงุฏุฉ ุญุณุงุจ ุญุงูุฉ ุงููุงุฆู ูู ูู ุฅุทุงุฑ ุ ุจุงุณุชุฎุฏุงู ุงูุงุณุชููุงุก ุงูุฎุทู ููููุถุน ูุงูุชุญุฌูู ูุงูุงุณุชููุงุก ุงูุฎุทู ุงููุฑูู ูุฑุจุงุนูุงุช ุงูุฏูุฑุงู.  ููููุงู ุจุฐูู ุ ุงุณุชุฎุฏู ุงูุทุฑููุฉ ุงูุฏุงุฎููุฉ slerp () ููุฆุฉ osg :: Quat. <br><br>  ูููุฑ OSG ูุฆุฉ osg :: AnimationPath ููุตู ูุณุงุฑ ูุชุบูุฑ ุจุงูููุช.  ูุชู ุงุณุชุฎุฏุงู ุทุฑููุฉ ุฅุฏุฑุงุฌ ูุฐู ุงููุฆุฉ () ูุฅุถุงูุฉ ููุงุท ุชุญูู ููุงุจูุฉ ูููุงุท ูุนููุฉ ูู ุงูููุช ุงูููุงุณุจ ูููุณุงุฑ.  ูุชู ูุตู ููุทุฉ ุงูุชุญูู ุจูุงุณุทุฉ ูุฆุฉ osg :: AnimationPath :: ControlPoint ุ ุงูุชู ูุฃุฎุฐ ููุดุฆูุง ุงูููุถุน ููุนููุงุช ุ ูุงุฎุชูุงุฑูุงู ุ ุชูุงูุจ ุงููุงุฆู ููุนููุงุช ุงูููุงุณ.  ุนูู ุณุจูู ุงููุซุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::AnimationPath&gt; path = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::AnimationPath; path-&gt;insert(t1, osg::AnimationPath::ControlPoint(pos1, rot1, scale1)); path-&gt;insert(t2, ...);</code> </pre><br>  ููุง t1 ุ t2 ูู ููุช instants ุจุงูุซูุงูู.  rot1 ูู ูุนููุฉ ุงูุชุฏููุฑ ูู ููุช t1 ุ ุงูููุตููุฉ ุจูุงุณุทุฉ ุฑุจุงุนู osg :: Quat. <br><br>  ูู ุงููููู ุงูุชุญูู ูู ุญููุงุช ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุฎูุงู ุทุฑููุฉ setLoopMode ().  ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุชุดุบูู ูุถุน LOOP - ุณูุชู ุชูุฑุงุฑ ุงูุฑุณูู ุงููุชุญุฑูุฉ ุจุดูู ูุณุชูุฑ.  ุงูููู ุงููุญุชููุฉ ุงูุฃุฎุฑู: NO_LOOPING - ุงูุนุจ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูุฑุฉ ูุงุญุฏุฉ ู SWING - ูู ุจุญุฑูุฉ ุงูุญุฑูุฉ ูู ุงูุงุชุฌุงููู ุงูุฃูุงูู ูุงูุฎููู. <br><br>  ุจุนุฏ ุงูุชูุงู ูุงูุฉ ุงูุชููุฆุฉ ุ ูุฑูู ูุงุฆู osg :: AnimationPath ุจุงููุงุฆู ุงููุฏูุฌ osg :: AnimationPathCallback ุ ูุงูุฐู ูุชู ุงุดุชูุงูู ูู ูุฆุฉ osg :: NodeCallback. <br><br><h1 style=";text-align:right;direction:rtl">  4. ูุซุงู ุนูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ููุญุฑูุฉ ุนูู ุทูู ุงูุทุฑูู </h1><br>  ุงูุขู ุณูุฌุนู ุณูุณูุง ุงูุฎุงุตุฉ ุจูุง ุชุชุญุฑู ูู ุฏุงุฆุฑุฉ ูุน ุงููุฑูุฒ ุนูุฏ ุงูููุทุฉ (0ุ0ุ0).  ุณูุชู ุญุณุงุจ ููุถุน ุงูุทุงุฆุฑุฉ ุนูู ุงููุณุงุฑ ุนู ุทุฑูู ุงูุงุณุชููุงุก ุงูุฎุทู ูููููู ูุงูุงุชุฌุงู ุจูู ุงูุฅุทุงุฑุงุช ุงูุฑุฆูุณูุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Animcessna ุณุจูู ุงููุซุงู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>ุงูุฑุฆูุณูุฉ</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/AnimationPath&gt; #include &lt;osg/MatrixTransform&gt; #include &lt;osgDB/ReadFile&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ osg::AnimationPath *createAnimationPath(double radius, double time) { osg::ref_ptr&lt;osg::AnimationPath&gt; path = new osg::AnimationPath; path-&gt;setLoopMode(osg::AnimationPath::LOOP); unsigned int numSamples = 32; double delta_yaw = 2.0 * osg::PI / (static_cast&lt;double&gt;(numSamples) - 1.0); double delta_time = time / static_cast&lt;double&gt;(numSamples); for (unsigned int i = 0; i &lt; numSamples; ++i) { double yaw = delta_yaw * i; osg::Vec3d pos(radius * sin(yaw), radius * cos(yaw), 0.0); osg::Quat rot(-yaw, osg::Z_AXIS); path-&gt;insert(delta_time * i, osg::AnimationPath::ControlPoint(pos, rot)); } return path.release(); } //------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::ref_ptr&lt;osg::Node&gt; model = osgDB::readNodeFile("../data/cessna.osg.0,0,90.rot"); osg::ref_ptr&lt;osg::MatrixTransform&gt; root = new osg::MatrixTransform; root-&gt;addChild(model.get()); osg::ref_ptr&lt;osg::AnimationPathCallback&gt; apcb = new osg::AnimationPathCallback; apcb-&gt;setAnimationPath(createAnimationPath(50.0, 6.0)); root-&gt;setUpdateCallback(apcb.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>  ูุจุฏุฃ ุจุฅูุดุงุก ูุณุงุฑ ุงูุทุงุฆุฑุฉ ุ ูุน ุชุญููู ูุฐุง ุงูุฑูุฒ ุฅูู ูุธููุฉ ูููุตูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::<span class="hljs-function"><span class="hljs-function">AnimationPath *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createAnimationPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> radius, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> time)</span></span></span><span class="hljs-function"> </span></span>{ osg::ref_ptr&lt;osg::AnimationPath&gt; path = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::AnimationPath; path-&gt;setLoopMode(osg::AnimationPath::LOOP); <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numSamples = <span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> delta_yaw = <span class="hljs-number"><span class="hljs-number">2.0</span></span> * osg::PI / (<span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(numSamples) - <span class="hljs-number"><span class="hljs-number">1.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> delta_time = time / <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(numSamples); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; numSamples; ++i) { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> yaw = delta_yaw * i; osg::<span class="hljs-function"><span class="hljs-function">Vec3d </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pos</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(radius * </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">sin</span></span></span></span><span class="hljs-function"><span class="hljs-params">(yaw), radius * </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">cos</span></span></span></span><span class="hljs-function"><span class="hljs-params">(yaw), </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; osg::<span class="hljs-function"><span class="hljs-function">Quat </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(-yaw, osg::Z_AXIS)</span></span></span></span>; path-&gt;insert(delta_time * i, osg::AnimationPath::ControlPoint(pos, rot)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> path.release(); }</code> </pre><br>  ููุนููุงุช ุ ุชุฃุฎุฐ ุงููุธููุฉ ูุตู ูุทุฑ ุงูุฏุงุฆุฑุฉ ุงูุชู ุชุชุญุฑู ุฎูุงููุง ุงูุทุงุฆุฑุฉ ูุงูููุช ุงูุฐู ุณุชุญุฏุซ ููู ุซูุฑุฉ ูุงุญุฏุฉ.  ุฏุงุฎู ุงููุธููุฉ ุ ูู ุจุฅูุดุงุก ูุงุฆู ูุณุงุฑ ูุชุดุบูู ูุถุน ุญููุงุช ุงูุฑุณูู ุงููุชุญุฑูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::AnimationPath&gt; path = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::AnimationPath; path-&gt;setLoopMode(osg::AnimationPath::LOOP);</code> </pre><br>  ุจุนุฏ ุงูููุฏ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numSamples = <span class="hljs-number"><span class="hljs-number">32</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> delta_yaw = <span class="hljs-number"><span class="hljs-number">2.0</span></span> * osg::PI / (<span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(numSamples) - <span class="hljs-number"><span class="hljs-number">1.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> delta_time = time / <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(numSamples);</code> </pre><br>  ูุญุณุจ ุงููุนููุงุช ุชูุฑูุจ ุงููุณุงุฑ.  ููุณู ุงููุณุงุฑ ุจุงููุงูู ุฅูู numSamples of ููุงุทุน ูุณุชูููุฉ ุ ููุญุณุจ ุงูุชุบูุฑ ูู ุฒุงููุฉ ุฏูุฑุงู ุงูุทุงุฆุฑุฉ ุญูู ุงููุญูุฑ ุงูุนููุฏู (yaw) delta_yaw ูุงูุชุบููุฑ ูู delta_time ุงูุฒููู ุนูุฏ ุงูุงูุชูุงู ูู ูุณู ุฅูู ูุณู.  ุงูุขู ุฅูุดุงุก ููุงุท ุงูุชุญูู ุงููุงุฒูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; numSamples; ++i) { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> yaw = delta_yaw * i; osg::<span class="hljs-function"><span class="hljs-function">Vec3d </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pos</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(radius * </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">sin</span></span></span></span><span class="hljs-function"><span class="hljs-params">(yaw), radius * </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">cos</span></span></span></span><span class="hljs-function"><span class="hljs-params">(yaw), </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; osg::<span class="hljs-function"><span class="hljs-function">Quat </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(-yaw, osg::Z_AXIS)</span></span></span></span>; path-&gt;insert(delta_time * i, osg::AnimationPath::ControlPoint(pos, rot)); }</code> </pre><br>  ูู ุงูุฏูุฑุฉ ุ ูุชู ูุฑุฒ ุฌููุน ุฃูุณุงู ุงููุณุงุฑ ูู ุงูุฃูู ุฅูู ุงูุฃุฎูุฑ.  ุชุชููุฒ ูู ููุทุฉ ุชุญูู ุจุฒุงููุฉ ุงูุญุฑุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">double</span></span> yaw = delta_yaw * i;</code> </pre><br>  ูููู ูุฑูุฒ ูุชูุฉ ุงูุทุงุฆุฑุฉ ูู ุงููุถุงุก <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::<span class="hljs-function"><span class="hljs-function">Vec3d </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pos</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(radius * </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">sin</span></span></span></span><span class="hljs-function"><span class="hljs-params">(yaw), radius * </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">cos</span></span></span></span><span class="hljs-function"><span class="hljs-params">(yaw), </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;</code> </pre><br>  ูุชู ุชุนููู ุฏูุฑุงู ุงูุทุงุฆุฑุฉ ุฅูู ุฒุงููุฉ ุงูุงูุญุฑุงู ุงููุทููุจุฉ (ุจุงููุณุจุฉ ุฅูู ุงููุญูุฑ ุงูุนููุฏู) ุจูุงุณุทุฉ ุงูุฑุจุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::<span class="hljs-function"><span class="hljs-function">Quat </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(-yaw, osg::Z_AXIS)</span></span></span></span>;</code> </pre><br>  ุซู ูู ุจุฅุถุงูุฉ ุงููุนููุงุช ุงููุญุณูุจุฉ ุฅูู ูุงุฆูุฉ ููุงุท ุงูุชุญูู ูู ุงููุณุงุฑ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">path-&gt;insert(delta_time * i, osg::AnimationPath::ControlPoint(pos, rot));</code> </pre><br>  ูู ุงูุจุฑูุงูุฌ ุงูุฑุฆูุณู ุ ูููู ุงูุงูุชูุงู ูููุงุฑู ุงูุฏููู ูู ุงูุฅุดุงุฑุฉ ุฅูู ุงุณู ููู ุทุฑุงุฒ ุงูุทุงุฆุฑุฉ ูู ููุช ุงูุชูููุฏ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Node&gt; model = osgDB::readNodeFile(<span class="hljs-string"><span class="hljs-string">"../data/cessna.osg.0,0,90.rot"</span></span>);</code> </pre><br>  - ุชูุช ุฅุถุงูุฉ ูุงุญูุฉ ".0ุ0ุ90.rot" ุฅูู ุงุณู ุงูููู.  ุชุชูุญ ูู ุขููุฉ ุชุญููู ุงูุฃุดูุงู ุงูููุฏุณูุฉ ูู ููู ูุณุชุฎุฏู ูู OSG ุชุญุฏูุฏ ุงูููุถุน ูุงูุงุชุฌุงู ุงูุฃููู ููุทุฑุงุฒ ุจุนุฏ ุงูุชุญููู.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฑูุฏ ุฃู ูุชู ุชุฏููุฑ ุงููููุฐุฌ ุจุฒุงููุฉ 90 ุฏุฑุฌุฉ ุญูู ุงููุญูุฑ Z ุจุนุฏ ุงูุชุญููู. <br><br>  ุจุนุฏ ุฐูู ุ ูุชู ุฅูุดุงุก ุนูุฏุฉ ุงูุฌุฐุฑ ุ ููู ุนูุฏุฉ ุงูุชุญูู ุ ููุถุงู ุฅูููุง ูุงุฆู ุงููููุฐุฌ ูุนูุฏุฉ ูุฑุนูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::MatrixTransform&gt; root = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::MatrixTransform; root-&gt;addChild(model.get());</code> </pre><br>  ุงูุขู ูู ุจุฅูุดุงุก ุฑุฏ ุงุชุตุงู ุญุฑูุฉ ูุณุงุฑ ุ ูุถูููุง ุงููุณุงุฑ ุงูุฐู ุฃูุดุฃุชู ุฏุงูุฉ createAnimationPath () ุฅููู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::AnimationPathCallback&gt; apcb = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::AnimationPathCallback; apcb-&gt;setAnimationPath(createAnimationPath(<span class="hljs-number"><span class="hljs-number">50.0</span></span>, <span class="hljs-number"><span class="hljs-number">6.0</span></span>));</code> </pre><br>  ูุนูู ูุฐุง ุฑุฏ ุงูุงุชุตุงู ุฅูู ุนูุฏุฉ ุงูุชุญูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">root-&gt;setUpdateCallback(apcb.get());</code> </pre><br>  ุชููุฆุฉ ุงูุนุงุฑุถ ูุชุดุบููู ูุงููุนุชุงุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osgViewer::Viewer viewer; viewer.setSceneData(root.get()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> viewer.run();</code> </pre><br>  ุงูุญุตูู ุนูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุญุฑูุฉ ุงูุทุงุฆุฑุฉ <br><br><img src="https://habrastorage.org/webt/ax/01/rl/ax01rlkfna5cfkvzqk3qfao_lmq.gif"><br><br>  ูู ุชุนุชูุฏ ุฃูู ูู ุชุฌุฏ ุดูุฆูุง ุบุฑูุจูุง ูู ูุฐุง ุงููุซุงูุ  ูู ุงูุณุงุจู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุจุฑูุงูุฌ ูุง ุนูุฏ ุงูุชูุฏูู ุฅูู ูุณูุฌ ูุง ุ ููุช ุจุชุบููุฑ ูุตูููุฉ ุงูุชุญููู ุจุดูู ุตุฑูุญ ูุชุญููู ุชุบููุฑ ูู ููุถุน ุงููููุฐุฌ ูู ุงููุถุงุก.  ููุง ูููู ููุท ุจุฅูุดุงุก ุนูุฏุฉ ุชุญููู ููู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุง ุชูุฌุฏ ูููุฉ ูุตูููุฉ ุตุฑูุญุฉ ูู ุฃู ููุงู. <br><br>  ุงูุณุฑ ูู ุฃู ูุฆุฉ osg :: AnimationPathCallback ุงูุฎุงุตุฉ ุชููู ุจูุฐู ุงููููุฉ.  ููููุง ููููุถุน ุงูุญุงูู ูููุงุฆู ุนูู ุงููุณุงุฑ ุ ูุฅูู ูุญุณุจ ูุตูููุฉ ุงูุชุญููู ููุทุจููุง ุชููุงุฆููุง ุนูู ุนูุฏุฉ ุงูุชุญููู ุงูุชู ูุฑุชุจุท ุจูุง ุ ููุง ูููุฑ ูููุทูุฑ ูู ูุฌููุนุฉ ูู ุงูุนูููุงุช ุงูุฑูุชูููุฉ. <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุฑุจุท osg :: AnimationPathCallback ุจุฃููุงุน ุงูุนูุฏ ุงูุฃุฎุฑู ูู ูููู ูู ุฃู ุชุฃุซูุฑ ูุญุณุจ ุ ุจู ูุฏ ูุคุฏู ุฃูุถูุง ุฅูู ุณููู ุบูุฑ ูุญุฏุฏ ูู ุงูุจุฑูุงูุฌ.  ูู ุงูููู ุฃู ุชุชุฐูุฑ ุฃู ุฑุฏ ุงูุงุชุตุงู ูุฐุง ูุคุซุฑ ููุท ุนูู ุนูุฏ ุงูุชุญููู. <br><br><h1 style=";text-align:right;direction:rtl">  5. ุจุฑุงูุฌ ุงูุชุญูู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ </h1><br>  ุชููุฑ ุงููุฆุฉ osg :: AnimationPathCallback ุทุฑููุง ููุชุญูู ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ ุฃุซูุงุก ุชูููุฐ ุงูุจุฑูุงูุฌ. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  reset () - ุฅุนุงุฏุฉ ุชุนููู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูุชุดุบูููุง ุฃููุงู. <br></li><li style=";text-align:right;direction:rtl">  setPause () - ุชููู ุงูุฑุณูู ุงููุชุญุฑูุฉ ูุคูุชูุง.  ูุฃุฎุฐ ูููุฉ ููุทููุฉ ููุนููุฉ <br></li><li style=";text-align:right;direction:rtl">  setTimeOffset () - ูุญุฏุฏ ููุช ุงูุฅุฒุงุญุฉ ูุจู ุจุฏุก ุงูุญุฑูุฉ. <br></li><li style=";text-align:right;direction:rtl">  setTimeMultiplier () - ูุญุฏุฏ ุนุงูู ุงูููุช ููุชุณุงุฑุน / ุงูุชุจุงุทุค ูู ุงูุฑุณูู ุงููุชุญุฑูุฉ. <br></li></ol><br>  ุนูู ุณุจูู ุงููุซุงู ุ ูุฅุฒุงูุฉ ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุงูุฅููุงู ุงููุคูุช ูุฅุนุงุฏุฉ ุงูุชุนููู ุ ูููุฐ ูุฐุง ุงูุฑูุฒ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">apcb-&gt;setPause(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); apcb-&gt;reset();</code> </pre><br>  ููุจุฏุก ุงูุฑุณูู ุงููุชุญุฑูุฉ ูู ุงูุซุงููุฉ ุงูุฑุงุจุนุฉ ุจุนุฏ ุจุฏุก ุงูุจุฑูุงูุฌ ูุน ุชุณุงุฑุน ูุฒุฏูุฌ ุ ูุซู ูุฐุง ุงูุฑูุฒ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">apcb-&gt;setTimeOffset(<span class="hljs-number"><span class="hljs-number">4.0f</span></span>); apcb-&gt;setTimeMultiplier(<span class="hljs-number"><span class="hljs-number">2.0f</span></span>);</code> </pre><br><h1 style=";text-align:right;direction:rtl">  6. ุชุฑุชูุจ ุชูุฏูู ุงูุจุฏุงุฆูุฉ ูู OpenGL </h1><br>  ูููู OpenGL ุจุชุฎุฒูู ุงูุจูุงูุงุช ุงูุฑุฃุณูุฉ ูุงูุจุฏุงุฆูุฉ ูู ุงูุนุฏูุฏ ูู ุงููุฎุงุฒู ุงููุคูุชุฉ ุ ูุซู ูุฎุฒู ูุคูุช ูููู ุ ููุฎุฒู ูุคูุช ููุนูู ุ ููุฎุฒู ูุคูุช ููุงุณุชูุณู ุ ููุง ุฅูู ุฐูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ูุญู ูุญู ุงูููู ูุงููุฌูู ุงููุซูุซุฉ ุงููุฑุณูุฉ ุจุงููุนู ุฅูู ุฎุท ุฃูุงุจูุจู.  ูุฐุง ูุนูู ุฃู ุจุฑูุงูุฌ OpenGL ููุดุฆ ููุฏุณุฉ ุฌุฏูุฏุฉ ุ ุจุบุถ ุงููุธุฑ ุนู ููููุฉ ุฅูุดุงุก ุงูููุฏุณุฉ ุงูุญุงููุฉ.  ูุฐุง ูุนูู ุฃู ุงูุชุฑุชูุจ ุงูุฐู ูุชู ุจู ุฅุฑุณุงู ุงูุนูุงุตุฑ ุงูุฃูููุฉ ุฅูู ุฎุท ุฃูุงุจูุจ ุงูุชูุฏูู ูุคุซุฑ ุจุดูู ูุจูุฑ ุนูู ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ุงูุชู ูุฑุงูุง ุนูู ุงูุดุงุดุฉ. <br><br>  ุงุณุชูุงุฏูุง ุฅูู ุจูุงูุงุช ุงููุฎุฒู ุงููุคูุช ููุนูู ุ ูููู OpenGL ุจุฑุณู ูุงุฆูุงุช ูุนุชูุฉ ุจุดูู ุตุญูุญ ุ ูุน ูุฑุฒ ูุญุฏุงุช ุงูุจูุณู ููููุง ููุณุงูุฉ ุงููุณุงูุฉ ุนู ุงููุฑุงูุจ.  ููุน ุฐูู ุ ุนูุฏ ุงุณุชุฎุฏุงู ุชูููุฉ ุฎูุท ุงูุฃููุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุชุทุจูู ูุงุฆูุงุช ุดูุงูุฉ ูุดูุงูุฉ ุ ุณูุชู ุชูููุฐ ุนูููุฉ ุฎุงุตุฉ ูุชุญุฏูุซ ูุฎุฒู ุงูุฃููุงู ุงููุคูุช.  ูุชู ุฎูุท ุงูุจููุณูุงุช ุงูุฌุฏูุฏุฉ ูุงููุฏููุฉ ููุตูุฑุฉ ุ ูุน ูุฑุงุนุงุฉ ูููุฉ ููุงุฉ ุฃููุง (ูููู ุงูุฃููุงู ุงูุฑุงุจุน).  ูุฐุง ูุคุฏู ุฅูู ุญูููุฉ ุฃู ุชุฑุชูุจ ุงูุชูุฏูู ููุญูุงู ุงูุดูุงูุฉ ูุงููุจููุฉ ูุคุซุฑ ุนูู ุงููุชูุฌุฉ ุงูููุงุฆูุฉ <br><br><img src="https://habrastorage.org/webt/tz/3w/o4/tz3wo4dfy14oscogqvrb1akmh5m.png"><br><br>  ูู ุงูุดูู ุ ูู ุงููุถุน ุนูู ุงููุณุงุฑ ุ ูู ุงูุจุฏุงูุฉ ุชู ุฅุฑุณุงู ูุงุฆูุงุช ุดูุงูุฉ ูุบูุฑ ุดูุงูุฉ ุฅูู ุฎุท ุงูุฃูุงุจูุจ ุ ููุง ุฃุฏู ุฅูู ุงูุชุญูู ุงูุตุญูุญ ูู ุงููุฎุฒู ุงููุคูุช ููุฃููุงู ูุงูุนุฑุถ ุงูุตุญูุญ ูููุฌูู.  ูู ุงูุญุงูุฉ ุงูุตุญูุญุฉ ุ ุชู ุฑุณู ุงููุงุฆูุงุช ุงูุดูุงูุฉ ุงูุฃููู ุ ุซู ุบูุฑ ุดูุงู ุ ููุง ุฃุฏู ุฅูู ุนุฑุถ ุบูุฑ ุตุญูุญ. <br><br>  ุชุดูุฑ ุทุฑููุฉ setRenderingHint () ููุฆุฉ osg :: StateSet ุฅูู OSG ุชุฑุชูุจ ุงูุนุฑุถ ุงููุทููุจ ููุนููุฏ ูุงููุงุฆูุงุช ุงูููุฏุณูุฉ ุ ุฅุฐุง ูุงู ูุฌุจ ุงูููุงู ุจุฐูู ุจุดูู ุตุฑูุญ.  ุชุดูุฑ ูุฐู ุงูุทุฑููุฉ ุจุจุณุงุทุฉ ุฅูู ูุฌูุจ ุนุฏู ูุฑุงุนุงุฉ ุงููุฌูู ุงูุดูุงูุฉ ุนูุฏ ุงูุชูุฏูู ุ ููุง ูุถูู ุฃูู ูู ุญุงูุฉ ูุฌูุฏ ูุฌูู ุดูุงูุฉ ูู ุงููุดูุฏ ุ ุณูุชู ุฑุณู ุงููุฌูู ุงูุดูุงูุฉ ูุบูุฑ ุงูุดูุงูุฉ ุฃููุงู ุ ูุน ูุฑุงุนุงุฉ ุงููุณุงูุฉ ูู ุงููุฑุงูุจ.  ูุฅุจูุงุบ ุงููุญุฑู ุจุฃู ูุฐู ุงูุนูุฏุฉ ุบูุฑ ุดูุงูุฉ ุ ูุณุชุฎุฏู ูุฐุง ุงูุฑูุฒ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">node-&gt;getOrCreateStateSet()-&gt;setRenderingHint(osg::StateSet::OPAQUE_BIN);</code> </pre><br>  ุฃู ูุญุชูู ุนูู ุญูุงู ุดูุงูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">node-&gt;getOrCreateStateSet()-&gt;setRenderingHint(osg::StateSet::TRANSPARENT_BIN);</code> </pre><br><h1 style=";text-align:right;direction:rtl">  7. ูุซุงู ุนูู ุชูููุฐ ุงูุฃุดูุงุก ุงูุดูุงูุฉ </h1><br>  ุฏุนููุง ูุญุงูู ุชูุถูุญ ูู ุงูููุฏูุฉ ุงููุธุฑูุฉ ุงููุฐููุฑุฉ ุฃุนูุงู ูุน ูุซุงู ููููุณ ุนูู ุชูููุฐ ุฌุณู ุดูุงู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุซุงู ุงูุดูุงููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>ุงูุฑุฆูุณูุฉ</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/BlendFunc&gt; #include &lt;osg/Texture2D&gt; #include &lt;osg/Geometry&gt; #include &lt;osgDB/ReadFile&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::ref_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg::Vec3Array&gt; vertices = new osg::Vec3Array; vertices-&gt;push_back( osg::Vec3(-0.5f, 0.0f, -0.5f) ); vertices-&gt;push_back( osg::Vec3( 0.5f, 0.0f, -0.5f) ); vertices-&gt;push_back( osg::Vec3( 0.5f, 0.0f, 0.5f) ); vertices-&gt;push_back( osg::Vec3(-0.5f, 0.0f, 0.5f) ); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = new osg::Vec3Array; normals-&gt;push_back( osg::Vec3(0.0f, -1.0f, 0.0f) ); osg::ref_ptr&lt;osg::Vec2Array&gt; texcoords = new osg::Vec2Array; texcoords-&gt;push_back( osg::Vec2(0.0f, 0.0f) ); texcoords-&gt;push_back( osg::Vec2(0.0f, 1.0f) ); texcoords-&gt;push_back( osg::Vec2(1.0f, 1.0f) ); texcoords-&gt;push_back( osg::Vec2(1.0f, 0.0f) ); osg::ref_ptr&lt;osg::Vec4Array&gt; colors = new osg::Vec4Array; colors-&gt;push_back( osg::Vec4(1.0f, 1.0f, 1.0f, 0.5f) ); osg::ref_ptr&lt;osg::Geometry&gt; quad = new osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setColorArray(colors.get()); quad-&gt;setColorBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setTexCoordArray(0, texcoords.get()); quad-&gt;addPrimitiveSet(new osg::DrawArrays(GL_QUADS, 0, 4)); osg::ref_ptr&lt;osg::Geode&gt; geode = new osg::Geode; geode-&gt;addDrawable(quad.get()); osg::ref_ptr&lt;osg::Texture2D&gt; texture = new osg::Texture2D; osg::ref_ptr&lt;osg::Image&gt; image = osgDB::readImageFile("../data/Images/lz.rgb"); texture-&gt;setImage(image.get()); osg::ref_ptr&lt;osg::BlendFunc&gt; blendFunc = new osg::BlendFunc; blendFunc-&gt;setFunction(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA); osg::StateSet *stateset = geode-&gt;getOrCreateStateSet(); stateset-&gt;setTextureAttributeAndModes(0, texture.get()); stateset-&gt;setAttributeAndModes(blendFunc); osg::ref_ptr&lt;osg::Group&gt; root = new osg::Group; root-&gt;addChild(geode.get()); root-&gt;addChild(osgDB::readNodeFile("../data/glider.osg")); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>  ุจุงููุณุจุฉ ููุฌุฒุก ุงูุฃูุจุฑ ุ ูุง ูุญุชูู ุงูููุฏ ุงูููุถุญ ููุง ุนูู ุฃู ุดูุก ุฌุฏูุฏ: ูุชู ุฅูุดุงุก ูุงุฆููู ููุฏุณููู - ูุฑุจุน ูุญูู ูุทุงุฆุฑุฉ ุดุฑุงุนูุฉ ูุนููุฉ ุ ูุชู ุชุญููู ุทุฑุงุฒูุง ูู ููู.  ููุน ุฐูู ุ ูุฅููุง ูุทุจู ุงูููู ุงูุฃุจูุถ ุงูุดูุงู ุนูู ุฌููุน ุงูููู ูุฑุจุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">colors-&gt;push_back( osg::Vec4(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>) );</code> </pre><br>  - ูููุฉ ููุงุฉ ุฃููุง ูู 0.5 ุ ูุงูุชู ุนูุฏ ูุฒุฌูุง ุจุฃููุงู ูุณูุฌ ุ ููุจุบู ุฃู ุชุนุทู ุชุฃุซูุฑ ูุงุฆู ุดูุงู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฌุจ ุชุนููู ูุธููุฉ ูุฒุฌ ุงูููู ููุนุงูุฌุฉ ุงูุดูุงููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::BlendFunc&gt; blendFunc = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::BlendFunc; blendFunc-&gt;setFunction(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</code> </pre><br>  ุชูุฑูุฑู ุฅูู ุฌูุงุฒ ุญุงูุฉ OpenGL <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">stateset-&gt;setAttributeAndModes(blendFunc);</code> </pre><br>  ุนูุฏ ุชุฌููุน ูุฐุง ุงูุจุฑูุงูุฌ ูุชุดุบููู ุ ูุญุตู ุนูู ุงููุชูุฌุฉ ุงูุชุงููุฉ <br><br><img src="https://habrastorage.org/webt/_m/mz/kz/_mmzkzrmxvmfll-qi0xli6wq_5g.png"><br><br>  ุชููู ุนู ุฐูู!  ูุฃูู ูู ุงูุดูุงููุฉุ  ุงูุดูุก ูู ุฃููุง ููุณู ุฅุฎุจุงุฑ ุงููุญุฑู ุฃูู ูุฌุจ ูุนุงูุฌุฉ ุงูุญูุงู ุงูุดูุงูุฉ ุ ูุงูุชู ูููู ุญููุง ุจุณูููุฉ ุนู ุทุฑูู ุงูุงุชุตุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">stateset-&gt;setRenderingHint(osg::StateSet::TRANSPARENT_BIN);</code> </pre><br>  ุจุนุฏ ุฐูู ูุญุตู ุนูู ุงููุชูุฌุฉ ุงูุชู ูุญุชุงุฌูุง - ูุถูุก ุงูุฌูุงุญ ุงูููุฒูู ุงููุนููุฉ ูู ูุฑุจุน ุดูุงู <br><br><img src="https://habrastorage.org/webt/py/bl/ta/pybltaqa6xkligouodxgunwoyvs.png"><br><br>  ุชุนูู ูุนููุชุง ุงูุฏูุฌ GL_SRC_ALPHA ู GL_ONE_MINUS_SRC_ALPHA ุงูุฏุงูุชูู ุฃู ุจูุณู ุงูุดุงุดุฉ ุงููุงุชุฌ ุนูุฏ ุฑุณู ูุฌู ุดูุงู ุณูููู ุจู ููููุงุช ููููุฉ ูุญุณูุจุฉ ุจูุงุณุทุฉ ุงูุตูุบุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">R = srcR * srcA + dstR * (1 - srcA) G = srcG * srcA + dstG * (1 - srcA) B = srcB * srcA + dstB * (1 - srcA)</code> </pre><br>  ุญูุซ [srcRุ srcGุ srcB] ูู ููููุงุช ุงูููู ูู ุงููููุณ ุงููุฑุจุน ุ [dstR, dstG, dstB] โ           ,    ,            .  srcA  -  . <br><br>  seRenderingHint()    ,      ,             .         ,        . <br><br><h1 style=";text-align:right;direction:rtl"> 8.    </h1><br>        .               .  ,             . <br><br>              . <br><br>        .  ,   -   ,     ,   1 โ  . ,      0  1          .      <br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"> fading-in</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>ุงูุฑุฆูุณูุฉ</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/Geode&gt; #include &lt;osg/Geometry&gt; #include &lt;osg/BlendFunc&gt; #include &lt;osg/Material&gt; #include &lt;osgAnimation/EaseMotion&gt; #include &lt;osgDB/ReadFile&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ class AlphaFadingCallback : public osg::StateAttributeCallback { public: AlphaFadingCallback() { _motion = new osgAnimation::InOutCubicMotion(0.0f, 1.0f); } virtual void operator() (osg::StateAttribute* , osg::NodeVisitor*); protected: osg::ref_ptr&lt;osgAnimation::InOutCubicMotion&gt; _motion; }; //------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ void AlphaFadingCallback::operator()(osg::StateAttribute *sa, osg::NodeVisitor *nv) { (void) nv; osg::Material *material = static_cast&lt;osg::Material *&gt;(sa); if (material) { _motion-&gt;update(0.0005f); float alpha = _motion-&gt;getValue(); material-&gt;setDiffuse(osg::Material::FRONT_AND_BACK, osg::Vec4(0.0f, 1.0f, 1.0f, alpha)); } } //------------------------------------------------------------------------------ // //------------------------------------------------------------------------------ int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::ref_ptr&lt;osg::Drawable&gt; quad = osg::createTexturedQuadGeometry( osg::Vec3(-0.5f, 0.0f, -0.5f), osg::Vec3(1.0f, 0.0f, 0.0f), osg::Vec3(0.0f, 0.0f, 1.0f)); osg::ref_ptr&lt;osg::Geode&gt; geode = new osg::Geode; geode-&gt;addDrawable(quad.get()); osg::ref_ptr&lt;osg::Material&gt; material = new osg::Material; material-&gt;setAmbient(osg::Material::FRONT_AND_BACK, osg::Vec4(0.0f, 0.0f, 0.0f, 1.0f)); material-&gt;setDiffuse(osg::Material::FRONT_AND_BACK, osg::Vec4(0.0f, 1.0f, 1.0f, 0.5f)); material-&gt;setUpdateCallback(new AlphaFadingCallback); geode-&gt;getOrCreateStateSet()-&gt;setAttributeAndModes(material.get()); geode-&gt;getOrCreateStateSet()-&gt;setAttributeAndModes(new osg::BlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)); geode-&gt;getOrCreateStateSet()-&gt;setRenderingHint(osg::StateSet::TRANSPARENT_BIN); osg::ref_ptr&lt;osg::Group&gt; root = new osg::Group; root-&gt;addChild(geode.get()); root-&gt;addChild(osgDB::readNodeFile("../data/glider.osg")); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>     -   -   <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AlphaFadingCallback</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> osg::StateAttributeCallback { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: AlphaFadingCallback() { _motion = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osgAnimation::InOutCubicMotion(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(osg::StateAttribute* , osg::NodeVisitor*)</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>: osg::ref_ptr&lt;osgAnimation::InOutCubicMotion&gt; _motion; };</code> </pre><br>   _motion    ,        .       ,    ,    <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">AlphaFadingCallback() { _motion = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osgAnimation::InOutCubicMotion(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>); }</code> </pre><br>         <br><br><img src="https://habrastorage.org/webt/ej/gd/cr/ejgdcr97gkb0lru6evved46sk6q.png"><br><br>    InOutCubicMotion       0  1.   operator()      <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AlphaFadingCallback::<span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>()(osg::StateAttribute *sa, osg::NodeVisitor *nv) { (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) nv; osg::Material *material = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;osg::Material *&gt;(sa); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (material) { _motion-&gt;update(<span class="hljs-number"><span class="hljs-number">0.0005f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> alpha = _motion-&gt;getValue(); material-&gt;setDiffuse(osg::Material::FRONT_AND_BACK, osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, alpha)); } }</code> </pre><br>     <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::Material *material = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;osg::Material *&gt;(sa);</code> </pre><br>  callback    ,       ,      ,          .         โ   ,           <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">_motion-&gt;update(<span class="hljs-number"><span class="hljs-number">0.0005f</span></span>);</code> </pre><br>     <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> alpha = _motion-&gt;getValue();</code> </pre><br>        <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">material-&gt;setDiffuse(osg::Material::FRONT_AND_BACK, osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, alpha));</code> </pre><br>      main().           ,    โ      OSG <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Drawable&gt; quad = osg::createTexturedQuadGeometry( osg::Vec3(<span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-0.5f</span></span>), osg::Vec3(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>));</code> </pre><br>      ,        ,      .   ,     <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Material&gt; material = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Material; material-&gt;setAmbient(osg::Material::FRONT_AND_BACK, osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)); material-&gt;setDiffuse(osg::Material::FRONT_AND_BACK, osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>));</code> </pre><br>     . Ambient color โ  ,      ,    . Diffuse color โ   ,        ,   ,       .  FRONT_AND_BACK ,       ,      . <br><br>       <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">material-&gt;setUpdateCallback(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AlphaFadingCallback);</code> </pre><br>     <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">geode-&gt;getOrCreateStateSet()-&gt;setAttributeAndModes(material.get());</code> </pre><br>     โ     ,       <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">geode-&gt;getOrCreateStateSet()-&gt;setAttributeAndModes(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::BlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)); geode-&gt;getOrCreateStateSet()-&gt;setRenderingHint(osg::StateSet::TRANSPARENT_BIN);</code> </pre><br>       <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Group&gt; root = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Group; root-&gt;addChild(geode.get()); root-&gt;addChild(osgDB::readNodeFile(<span class="hljs-string"><span class="hljs-string">"../data/glider.osg"</span></span>)); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> viewer.run();</code> </pre><br>          <br><br><img src="https://habrastorage.org/webt/s5/jv/1h/s5jv1h_ebaecadz6owo60nnrdvg.gif"><br><br><h1 style=";text-align:right;direction:rtl">  :     </h1><br>     ,     .    โ        main.h <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osgAnimation/EaseMotion&gt;</span></span></span></span></code> </pre><br>   OSG,     ,     ,       ,   .    osgAnimation/      ,           ,   (       ) <br><br><pre style=";text-align:right;direction:rtl"> <code class="cmake hljs">LIBS += -losgAnimation</code> </pre><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃู ุชุณุชูุฑ ...</a></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar437724/">https://habr.com/ru/post/ar437724/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar437712/index.html">ูุญุทุฉ ุงููุถุงุก Roskomnadzor</a></li>
<li><a href="../ar437714/index.html">ูุฑุณู ุงููุฌุงุฑ ูุงุฑููุงุชูุฑู ูู 180 ุฎุทูุง ูู C ++ ุนุงุฑูุฉ</a></li>
<li><a href="../ar437716/index.html">ุซูุงุซ ุทุฑู ุตุงุฏูุฉ ูุณุจูุง ูุฅูุดุงุก ูุดุฑูุน ุฑูุฑูุฉ</a></li>
<li><a href="../ar437720/index.html">ุงูููุงุญ ูู ุฃุฌู ุญููู ุงูุฌูุฏุฉ ูู Erlang / Elixir</a></li>
<li><a href="../ar437722/index.html">ุงูุนูุงูุจ ุงูููููุฉ ููุงุตุทุฏุงู ุงูุฃูุฑููู</a></li>
<li><a href="../ar437726/index.html">ุชุณูุณู Kotlin ูุน Kotlinx.Serialization</a></li>
<li><a href="../ar437730/index.html">ููู ูููุง ุจุญู ูุดููุฉ ุงูุฐุงูุฑุฉ ูู PostgreSQL ุฏูู ุฅุถุงูุฉ ุจุงูุช</a></li>
<li><a href="../ar437732/index.html">ูุธุฑุฉ ุนุงูุฉ ุนูู ุทุงุจุนุฉ MakeX M-One Pro 70 DLP</a></li>
<li><a href="../ar437734/index.html">ุฅุนุฏุงุฏ IPTV ูู Rostelecom ุนูู ุฃุฌูุฒุฉ ุงูุชูุฌูู MikroTik</a></li>
<li><a href="../ar437736/index.html">ููู ูููุง ุจุฅุทูุงู ุงุฎุชุจุงุฑุงุช ุงูุณููููููู ุขูููุง ุนุจุฑ ุงูููุฑ ู OpenShift</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>