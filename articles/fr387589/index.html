<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµüèª ü§üüèª üò≤ Station m√©t√©o Hirondelle üßñüèΩ üï∑Ô∏è üçé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le d√©veloppement de l'√©lectronique est pour moi √† la fois un m√©tier et un hobby. Dans la prochaine impulsion de d√©sir de faire quelque chose, je suis ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Station m√©t√©o Hirondelle</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/387589/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le d√©veloppement de l'√©lectronique est pour moi √† la fois un m√©tier et un hobby. </font><font style="vertical-align: inherit;">Dans la prochaine impulsion de d√©sir de faire quelque chose, je suis tomb√© sur un ensemble de capteurs amateurs bon march√©: pluie, vitesse et direction du vent. </font><font style="vertical-align: inherit;">Il m'a fix√© un nouveau domaine d'int√©r√™t. </font><font style="vertical-align: inherit;">Dans cet article, je parlerai du processus fascinant de conception de ma station m√©t√©o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/1ba/428/d3e/1ba428d3e97c4c6eb7af93cd3f0f45cd.jpg"></div><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s une courte fantaisie, un ensemble de capteurs a √©t√© form√©: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ temp√©rature </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ humidit√© </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ pression </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ direction et vitesse du vent </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ pr√©cipitation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ rayonnement ionisant </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ √©clairage </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une des options de mise en ≈ìuvre - assemblage √† partir de modules pr√™ts √† l'emploi (carte processeur + boucliers) - Je n'ai pas aim√© en raison des inconv√©nients suivants : </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ manque de flexibilit√© </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ conception monstrueuse </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ consommation d'√©nergie </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ ennuyeux</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, je voulais d√©velopper moi-m√™me une carte de circuit imprim√©. </font><font style="vertical-align: inherit;">En g√©n√©ral, le projet √©tait pr√©vu comme divertissant. </font><font style="vertical-align: inherit;">En raison des particularit√©s de nos d√©veloppements, je dois int√©grer des cartes dans une construction strictement limit√©e, donc je voulais d√©velopper une conception ¬´imposante¬ª de l'unit√© principale, mettre beaucoup de LED, de beaux connecteurs, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©velopper un syst√®me de microcontr√¥leur avec un ensemble de capteurs environnementaux est une t√¢che ordinaire, donc il a √©t√© compl√©t√© par des panneaux solaires et des sch√©mas √©lectriques bas√©s sur ceux-ci. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de la liste des capteurs, le sch√©ma fonctionnel suivant a √©t√© form√©:</font></font><br>
<br>
<img src="https://habrastorage.org/files/984/350/0f0/9843500f05bd47baadb3a06e17bdc3a2.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteurs externes</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le choix des composants a commenc√© par la recherche d'une alternative √† l'ensemble de capteurs pr√©cit√©. Leur performance n'inspirait pas confiance, je voulais trouver quelque chose de plus fiable et de plus beau. Apr√®s une longue recherche, j'ai trouv√© Vaisala, sp√©cialis√©e dans le d√©veloppement de solutions professionnelles pour mesurer les param√®tres environnementaux. Cette soci√©t√© produit, par exemple, un an√©mom√®tre combin√© fiable, positionn√© comme une solution √† faible co√ªt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/0b7/5c0/e6e/0b75c0e6e4944b6d80b92e1b08087794.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a une roue en forme de c√¥ne, pour des caract√©ristiques plus lin√©aires. Vitesse du vent - Fr√©quence de sortie. Apr√®s avoir demand√© un prix (75 000 roubles), je devais encore revenir √† la version amateur d'origine. Ces capteurs n'incluent pas de composants √©lectriques actifs, ils utilisent des interrupteurs √† lames et des aimants comme d√©tecteurs de mouvement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'an√©mom√®tre a une sortie de fr√©quence. Lorsque la roue tourne, l'interrupteur √† lames se ferme avec une fr√©quence proportionnelle √† la vitesse du vent. L'an√©mom√®tre est connect√© √† l'entr√©e de l'une des minuteries du microcontr√¥leur via un circuit de protection et un filtre RC pour supprimer le rebond de contact. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le capteur de direction du vent est un diviseur de tension r√©glable sur les interrupteurs reed. La sortie est la tension. Il est √©galement connect√© √† l'ADC MK interne via un circuit de protection et un filtre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le capteur de pluie a, √† mon avis, le design le plus astucieux. C'est une balan√ßoire avec deux r√©servoirs aux extr√©mit√©s, remplis alternativement √† partir d'un entonnoir situ√© au-dessus d'eux. √Ä chaque basculement, le commutateur √† lames se ferme. La connexion √† MK est la m√™me que celle de l'an√©mom√®tre.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/b5d/52f/205/b5d52f2051a54545b94fd0bc5e92b51e.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mesurer l'humidit√© et la temp√©rature, le capteur SHT15 est utilis√©. S√©lectionn√© comme le composant le plus pr√©cis disponible aupr√®s de notre fournisseur bien-aim√©. Ce capteur a une interface similaire √† I2C, mais ne prend pas en charge l'adressage, il devait donc √™tre connect√© √† un bus I2C_2 s√©par√©. Des diff√©rences d'interface ont conduit √† l'impl√©mentation logicielle de son enqu√™te. Le capteur SHT15 est install√© √† l'ext√©rieur de l'appareil, cela n√©cessite de longs fils et des appareils suppl√©mentaires sur le m√™me bus peuvent entra√Æner un fonctionnement incorrect. Pour mesurer correctement l'humidit√© et la temp√©rature, il est n√©cessaire de prot√©ger le capteur de la lumi√®re directe du soleil et des pr√©cipitations. Il √©tait possible de construire une protection contre les mat√©riaux improvis√©s, mais depuis il √©tait pr√©vu de faire la d√©monstration de la station m√©t√©o √† l'exposition Radel, les exigences d'apparence √©taient strictes. En cons√©quence, nous nous sommes install√©s sur la protection contre Vaisala, son co√ªt est √©lev√©,mais cela semble √©galement appropri√©.</font></font><br>
<br>
<img src="https://habrastorage.org/files/090/db3/c0c/090db3c0c12441ec921298f0f56570c4.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagramme de l'appareil</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le microcontr√¥leur STM32F207VC a √©t√© s√©lectionn√©. </font><font style="vertical-align: inherit;">Bien s√ªr, le microcontr√¥leur fera face √† cette t√¢che plus simplement, mais la t√¢che est divertissante, le prix d'un seul produit n'est pas critique, et en outre, nous utilisons largement ce microcontr√¥leur dans nos conceptions - ce qui permet de gagner du temps lors de la conception. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bus I2C_1 relie les capteurs de temp√©rature de l'appareil, la pression, l'√©clairage, ainsi qu'un acc√©l√©rom√®tre et deux amplificateurs shunt de courant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le capteur de temp√©rature interne STLM75 vous permet de surveiller la temp√©rature de l'appareil. </font><font style="vertical-align: inherit;">Il est int√©ressant d'observer comment la temp√©rature interne augmente au soleil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteur de pression de ST LPS25. </font><font style="vertical-align: inherit;">Capteur MEMS avec sortie num√©rique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteur de lumi√®re OPT3001 avec sensibilit√© spectrale proche de l'≈ìil humain. Pas tout √† fait adapt√© √† cette t√¢che, car lors de la mesure de la puissance du rayonnement solaire, des capteurs avec une gamme spectrale plus large, avec capture d'IR et d'UV, sont utilis√©s. Cependant, il m'a suffi de d√©terminer l'illumination sous forme d'obscurit√© / lumi√®re. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acc√©l√©rom√®tre LSM303D. L'id√©e est de l'utiliser comme d√©tecteur de vol dans l'autonomie de la batterie. Les fonctions int√©ressantes sont la d√©termination de la chute libre et la g√©n√©ration d'une interruption pour MK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les amplificateurs du shunt de courant avec une sortie num√©rique vous permettent de mesurer la tension et le courant du bus d'alimentation, de calculer la puissance √† bord, de g√©n√©rer des interruptions lorsque les param√®tres d√©passent les limites √©tablies. Utilis√© pour contr√¥ler la consommation d'√©nergie et g√©n√©r√©.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les 3 interfaces UART fonctionnent comme suit: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Interface filaire externe. Le convertisseur UART-RS485 avec isolation galvanique est install√©. La solution Texas Instruments est bas√©e sur la puce ISO3086T. Ce microcircuit int√®gre un pilote de transformateur, qui vous permet d'alimenter la partie de sortie du convertisseur sans source suppl√©mentaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Module GSM SIM900. Vous pouvez choisir quelque chose de plus moderne avec la 3G et la faible puissance, mais celui-ci √©tait sur l'√©tag√®re et dans la biblioth√®que de composants PCB CAD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Module GPS pour l'heure pr√©cise, s√©lectionn√© pour les m√™mes raisons.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme ¬´quoi d'autre √† mettre¬ª sur les broches libres, j'ai trouv√© un bel √©cran graphique OLED avec une r√©solution de 128 * 64. Oui, bien s√ªr, l'affichage √† l'int√©rieur de la station est inutile, mais √† travers le couvercle transparent du bo√Ætier, il a l'air tr√®s agr√©able et est utile lors de l'installation pour contr√¥ler l'exactitude des connexions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En raison de l'amour des appareils √† d√©charge, un d√©tecteur de rayonnement ionisant est apparu sur le compteur SBM-20 Geiger dans la liste des capteurs. Il d√©tecte le rayonnement gamma. Je voulais mettre le SBM-19, il a une plus grande sensibilit√©, en raison du plus grand volume de la cam√©ra, mais pour la m√™me raison, il ne rentre pas dans le bo√Ætier que j'aimais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un compteur Geiger n√©cessite 400 volts pour fonctionner. La source haute tension est r√©alis√©e selon un circuit sans transformateur bas√© sur le MC33063AD. Une d√©cision controvers√©e, mais je voulais essayer de faire 400 sur 5 volts selon ce sch√©ma. Parmi les caract√©ristiques - vous avez besoin d'un transistor haute tension avec une petite tension de grille de seuil, par exemple ZVN0545. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le compteur est activ√© en fonction du circuit de mise √† la terre de la cathode. Un circuit plus courant est une r√©sistance dans le circuit cathode-terre pour d√©tecter un saut de courant dans le compteur. Fabriqu√© pour des raisons d'immunit√© au bruit, il est pr√©f√©rable d'avoir un contre-cylindre m√©tallique mis √† la terre, qui est la cathode. Il s√©pare √©galement avec succ√®s la source d'alimentation bruyante haute tension du reste des circuits de la carte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La section du d√©tecteur est r√©alis√©e selon un sch√©ma simple. Lorsqu'une particule p√©n√®tre dans le compteur, une surtension se produit √† travers elle, en raison de laquelle le potentiel de l'anode change, ce qui conduit √† l'apparition de courant dans le circuit de base et, par cons√©quent, √† une diminution de la tension √† la sortie du d√©tecteur. Apr√®s la fin de l'acte d'ionisation, le courant s'arr√™te et la tension √† la sortie du d√©tecteur devient 3,3 volts. Le signal du d√©tecteur est trait√© comme une interruption externe MK. </font></font><br>
<br>
<img src="https://habrastorage.org/files/e2e/100/dd1/e2e100dd1c3e4401a1ea9bc57dbf7e27.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©laboration d'un plan d'alimentation a demand√© le plus de temps. Il existe trois sources d'√©nergie: un r√©seau externe, un panneau solaire et une batterie int√©gr√©e. Un convertisseur DC-DC √† isolation galvanique est install√© √† l'entr√©e d'alimentation externe. La plage d'entr√©e est de 9 √† 36 volts, la sortie est de 5 volts.</font></font><br>
<br>
<img src="https://habrastorage.org/files/653/558/0c0/6535580c04484d4b807b0fd9cc8e05cd.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour fonctionner avec la batterie solaire, un microcircuit convertisseur √©l√©vateur sp√©cial est utilis√© avec la fonction MPPT int√©gr√©e (suivi du point de puissance maximale). Cette m√©thode est utilis√©e pour obtenir la puissance de sortie maximale possible des photomodules. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le circuit utilise 2 multiplexeurs de puissance √† commutation automatique pour s√©lectionner automatiquement une source d'alimentation. Des erreurs ont √©t√© commises dans ce sch√©ma de commutation. Il n'y a aucun moyen de couper l'alimentation lorsque la batterie est faible. Et, probablement, il serait plus correct de faire charger la batterie solaire sans alimenter l'appareil. Dans des conditions de faible luminosit√©, la puissance sera suffisante pour charger lentement la batterie, mais elle ne sera pas suffisante pour alimenter l'appareil lui-m√™me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s le tra√ßage, le jury a acquis la forme suivante:</font></font><br>
<br>
<img src="https://habrastorage.org/files/50b/7bc/146/50b7bc14630d478daf8a29a4e49b9625.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un bo√Ætier spacieux a √©t√© choisi avec un couvercle avant transparent. L'option du fabricant s'est av√©r√©e tr√®s pratique - un √©l√©ment pour √©galiser la pression (sur la photo ci-dessous, il est √† gauche des connecteurs). Il assure des pressions √©gales √† l'int√©rieur et √† l'ext√©rieur du bo√Ætier, ce qui est n√©cessaire pour un capteur de pression situ√© √† l'int√©rieur, et offre √©galement une plus grande √©tanch√©it√© de l'appareil lors des chutes de pression. Les connecteurs industriels M12 sont utilis√©s pour connecter des capteurs externes, l'alimentation et les communications. Le connecteur M12 offre une √©tanch√©it√© √©lev√©e et une connexion √©lectrique fiable. Pour installer le bo√Ætier sur un rack, les raccords pour conduites d'eau s'adaptent parfaitement. </font></font><br>
<br>
<img src="https://habrastorage.org/files/fad/e4b/5a6/fade4b5a62244a35be2b9ff427f6c854.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exposition approchait, mais le circuit d'√©nergie solaire n'avait pas encore √©t√© d√©bogu√©, il a donc √©t√© d√©cid√© d'utiliser une alimentation externe et une interface filaire.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le firmware a √©t√© rapidement √©crit, pour commencer nous nous sommes limit√©s √† interroger tous les capteurs, √† afficher les param√®tres et √† √©changer des donn√©es via l'interface filaire RS-485. Un programme a √©t√© √©crit pour le PC qui impl√©mente l'√©change avec la station et la sortie des param√®tres.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/976/2fd/1df/9762fd1dfdfe4b9888a68cd505f6f296.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour se connecter √† un adaptateur USB-RS485 con√ßu par ordinateur avec un injecteur de puissance. Le bo√Ætier a √©t√© con√ßu chez SoldWorks; il est fait d'une feuille de plastique transparente pour la possibilit√© de contempler l'int√©rieur. Elle a √©t√© r√©alis√©e dans l'atelier publicitaire le plus proche par d√©coupe laser. Cela s'est av√©r√© plut√¥t bien, √† mon avis. </font></font><br>
<br>
<img src="https://habrastorage.org/files/4f8/af2/bbe/4f8af2bbeac64461b32fc2932e25b101.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un convertisseur 24 V CA-CC est utilis√© comme source. Le convertisseur USB-UART est bas√© sur le FTDI FT232 bien-aim√©, UART-RS485, bas√© sur la m√™me solution de Texas Instruments que dans la station m√©t√©o elle-m√™me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'exposition, la station m√©t√©o a suscit√© un vif int√©r√™t. Les professionnels de l'industrie m√©t√©orologique qui sont venus sur notre stand l'ont appel√© artisanat, les √©tudiants ont pris des photos dans son contexte, nous avons √©t√© satisfaits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s l'exposition, j'avais h√¢te d'installer la station sur le toit, pour tester les √©l√©ments s√©v√®res. </font><font style="vertical-align: inherit;">La base a √©t√© assembl√©e √† partir de mat√©riaux improvis√©s. </font><font style="vertical-align: inherit;">Maintenant, l'apparence ne nous d√©rangeait pas, l'essentiel est la fiabilit√©. </font><font style="vertical-align: inherit;">Le r√©sultat a √©t√© un design dur avec des haubans d'une √©pingle √† cheveux et d'une cha√Æne. </font><font style="vertical-align: inherit;">Survivez √† un ouragan! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La station a √©t√© install√©e sur le toit d'un immeuble r√©sidentiel. </font><font style="vertical-align: inherit;">Faire glisser une paire torsad√©e du toit sur 5 √©tages jusqu'√† l'appartement √©tait un passe-temps tr√®s excitant.</font></font><br>
<br>
<img src="https://habrastorage.org/files/6b4/223/e82/6b4223e82aac40a6a8be01db196d97cd.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exp√©rience d'exploitation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturellement, d√®s que la temp√©rature est tomb√©e en dessous de z√©ro, le capteur de pluie s'est fig√©. </font><font style="vertical-align: inherit;">Il ne sait toujours pas d√©tecter la neige. </font><font style="vertical-align: inherit;">Au cours du processus de d√©veloppement, j'ai vu que des artisans ont construit de puissantes r√©sistances pour le chauffage dans ce capteur, mais je n'ai pas aim√© cette approche. </font><font style="vertical-align: inherit;">√Ä l'avenir, j'ai d√©cid√© de d√©velopper un simple d√©tecteur de pr√©cipitations, il ressemble √† ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/066/c5b/7eb/066c5b7ebb3e4af79a9ac3d2c9aa55c2.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principe de son fonctionnement est le suivant: il existe une carte de circuit imprim√© avec des paires de conducteurs non recouverts d'un masque; lorsque l'eau p√©n√®tre √† la surface de la carte, la r√©sistance entre eux diminue. Pour que le capteur fonctionne pendant la saison froide, il est n√©cessaire de chauffer la carte de circuit imprim√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'√©tait aussi un probl√®me pour trouver un compteur Geiger en √©tat de marche. Deux SBM-20 √©taient en stock, mais les deux ne fonctionnaient pas. Maintenant, l'appareil a un petit compteur Geiger non identifi√©, qui peut √™tre vu sur la carte dans le coin inf√©rieur gauche.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce stade, tous les efforts sont concentr√©s sur la finalisation du logiciel et l'augmentation du serveur Web de la station m√©t√©o. Un logiciel open source WeeWX a √©t√© trouv√©, il peut communiquer avec la plupart des stations m√©t√©orologiques, √©crire leurs lectures dans la base de donn√©es, g√©n√©rer des pages HTML avec des graphiques et des lectures actuelles, etc. Un pilote a √©t√© √©crit pour WeeWX qui impl√©mente notre protocole d'√©change. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une page avec les lectures de notre station m√©t√©o peut √™tre vue </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pendant son d√©veloppement, les donn√©es peuvent ne pas s'afficher correctement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des id√©es ambitieuses est de d√©velopper un capteur de vitesse et de direction du vent √† ultrasons, il a un grand avantage sur les capteurs m√©caniques - il ne peut pas caler √† cause du givrage. Le principe de fonctionnement des an√©mom√®tres √† ultrasons est bas√© sur la mesure de la vitesse du son, qui varie en fonction de l'orientation du vecteur de mouvement de l'air (direction du vent) par rapport au chemin de propagation du son. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette conception se pr√©sente comme suit.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/85e/c22/710/85ec22710a93428a9203b16513e4b98c.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä en juger par les marques de temps pass√© dans la mine rouge, il a fallu environ un mois pour d√©velopper la partie en fer. </font><font style="vertical-align: inherit;">Une grande partie de ce temps a √©t√© consacr√©e √† admirer divers capteurs et √† jeter des √¢mes lors du choix des composants du syst√®me. </font><font style="vertical-align: inherit;">Environ deux semaines ont √©t√© consacr√©es au logiciel et environ une semaine a √©t√© n√©cessaire pour d√©velopper un pilote pour WeeWX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'ensemble, le projet s'est av√©r√© tr√®s int√©ressant pour moi, un voyage passionnant a √©t√© fait dans le monde des mesures m√©t√©orologiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voudrais √©galement remercier   </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ana_lazareva</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour sa participation active √† la cr√©ation de la station m√©t√©o.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr387589/">https://habr.com/ru/post/fr387589/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr387575/index.html">Swallow the doctor: le pr√©sent et l'avenir des robots en nous</a></li>
<li><a href="../fr387577/index.html">Comment les musiciens composent la musique: entendent-ils la musique dans leur t√™te</a></li>
<li><a href="../fr387581/index.html">D√©fenseurs nationaux de la parole</a></li>
<li><a href="../fr387583/index.html">Vue d'ensemble du bateau RC WL911</a></li>
<li><a href="../fr387585/index.html">MajorDoMo 1.0</a></li>
<li><a href="../fr387591/index.html">Vente sur JD.ru: le d√©but de l'agitation du Nouvel An</a></li>
<li><a href="../fr387595/index.html">La femme a quitt√© les lieux de l'accident, mais les flics ont tout reconnu gr√¢ce au syst√®me de s√©curit√© de la voiture</a></li>
<li><a href="../fr387597/index.html">Gadgets d'aide pour nos femmes et nos m√®res</a></li>
<li><a href="../fr387599/index.html">Plus attendu que le sixi√®me iPhone</a></li>
<li><a href="../fr387603/index.html">Grand quadricopt√®re de moins de 60 $ ou un examen du JJRC H8C</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>