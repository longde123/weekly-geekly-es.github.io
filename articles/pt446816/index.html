<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìÆ ‚ô®Ô∏è üö¶ OOP, a "Sant√≠ssima Trindade" e o SOLID: algum conhecimento m√≠nimo sobre eles üë©‚Äçüë©‚Äçüë¶ üéΩ ‚úãüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entrada obrigat√≥ria 


 N√£o posso garantir que as interpreta√ß√µes dos termos e princ√≠pios geralmente aceitos estabelecidos aqui coincidam com o que os ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OOP, a "Sant√≠ssima Trindade" e o SOLID: algum conhecimento m√≠nimo sobre eles</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446816/"><h2>  Entrada obrigat√≥ria </h2><br><p>  N√£o posso garantir que as interpreta√ß√µes dos termos e princ√≠pios geralmente aceitos estabelecidos aqui coincidam com o que os professores da Calif√≥rnia apresentaram em s√≥lidos artigos cient√≠ficos na segunda metade do s√©culo passado.  N√£o posso garantir que minhas interpreta√ß√µes sejam totalmente compartilhadas ou compartilhadas pela maioria dos profissionais de TI do setor ou da comunidade acad√™mica.  N√£o posso nem garantir que minhas interpreta√ß√µes o ajudar√£o na entrevista, embora eu assuma que elas ser√£o √∫teis. </p><br><p>  Mas garanto que, se a falta de entendimento for substitu√≠da por minhas interpreta√ß√µes e come√ßar a aplic√°-las, o c√≥digo que voc√™ escreveu ser√° mais f√°cil de manter e modificar.  Tamb√©m entendo perfeitamente que nos coment√°rios vou escrever furiosamente complementar o que foi escrito, o que tornar√° poss√≠vel corrigir omiss√µes e inconsist√™ncias absolutamente flagrantes. </p><br><p>  Essas pequenas garantias levantam quest√µes sobre os motivos pelos quais o artigo foi escrito.  Acredito que essas coisas devem ser ensinadas onde quer que ensinem programa√ß√£o, at√© aulas de ci√™ncias da computa√ß√£o em escolas com um estudo aprofundado.  No entanto, para mim, tornou-se uma situa√ß√£o assustadoramente normal quando descobri que o interlocutor √© meu colega e que trabalha h√° v√°rios anos, mas com o encapsulamento ‚Äúouvi algo l√°‚Äù.  A necessidade de coletar tudo isso em um s√≥ lugar e fornecer um link quando surgirem d√∫vidas permanece madura por um longo tempo.  E ent√£o meu "projeto de estima√ß√£o" me deu uma boa quantidade de alimento para pensar. </p><br><p>  Aqui eles podem me opor que √© muito cedo para aprender essas coisas na escola e, em geral, a luz ainda n√£o se juntou no POO.  Em primeiro lugar, depende de como voc√™ aprende.  Em segundo lugar, <em>70% do material deste artigo se aplica n√£o apenas ao POO.</em>  O que vou observar separadamente. </p><br><img src="https://habrastorage.org/webt/lb/zr/qy/lbzrqyibpifgxpgagwl44tgw7gu.png"><br><a name="habracut"></a><br><h2>  OOP em poucas palavras </h2><br><p>  Esta √© provavelmente a se√ß√£o mais dif√≠cil para mim.  Ainda assim, voc√™ precisa estabelecer a base e descrever muito brevemente qual √© a ess√™ncia da OOP para entender por que o encapsulamento, o polimorfismo, a heran√ßa e os princ√≠pios do SOLID a fortaleceram.  E farei isso falando sobre como voc√™ pode pensar em algo assim. </p><br><p>  Come√ßou com Dijkstra, que provou que qualquer algoritmo pode ser expresso de tr√™s maneiras para selecionar o seguinte comando: execu√ß√£o linear (em ordem), ramifica√ß√£o por condi√ß√£o, execu√ß√£o de loop enquanto a condi√ß√£o √© atendida.  Usando essas tr√™s conex√µes, voc√™ pode construir qualquer algoritmo.  Al√©m disso, foi recomendado escrever programas, limitando-se ao arranjo linear de comandos um ap√≥s o outro, ramifica√ß√£o e loops.  Isso foi chamado de "programa√ß√£o estrutural <s>processual</s> " (obrigado pelo esclarecimento <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">sshikov</a> ). </p><br><p>  Tamb√©m aqui observamos que a sequ√™ncia de comandos deve ser combinada em subprogramas e cada subprograma pode ser executado usando um comando. </p><br><p>  Al√©m da ordem das a√ß√µes, √© importante para n√≥s quais a√ß√µes s√£o executadas.  E eles s√£o executados em dados que se tornaram habituais armazenar em vari√°veis.  Vari√°veis ‚Äã‚Äãarmazenam dados.  Eles s√£o interpretados com base em seu tipo.  Obviamente, para o ranger de dentes, mas seja um pouco paciente, por favor. </p><br><p>  Desde o in√≠cio, um conjunto mais ou menos geral de tipos de dados primitivos foi formado.  Inteiros, n√∫meros reais, vari√°veis ‚Äã‚Äãbooleanas, matrizes, strings.  Algoritmos + estruturas de dados = programas, como legado por Nicklaus Wirth. </p><br><p>  Al√©m disso, desde o in√≠cio dos tempos, havia sob diferentes formas um tipo de dados como um subprograma.  Ou um peda√ßo de c√≥digo, se quiser.  Alguns podem dizer que o uso de subprogramas como vari√°veis ‚Äã‚Äã√© uma prerrogativa da programa√ß√£o funcional.  Mesmo assim, a capacidade de criar um c√≥digo de vari√°vel √© uniforme no assembler.  Deixe essa possibilidade ser reduzida para "bem, aqui est√° o n√∫mero de bytes na RAM onde esta sub-rotina mora e, em seguida, o comando CALL com a pilha de chamadas nos dentes e girar o m√°ximo poss√≠vel". </p><br><p>  Certamente, v√°rios tipos de dados eram poucos e as pessoas come√ßaram a pensar em adicionar a capacidade de criar seus pr√≥prios tipos a v√°rios PLs.  Uma varia√ß√£o desse recurso foram as chamadas grava√ß√µes.  Abaixo est√£o dois exemplos de grava√ß√£o em uma linguagem de programa√ß√£o inexistente (a seguir, NEPL - Linguagem de Programa√ß√£o N√£o Existente): </p><br><pre><code class="plaintext hljs">type Name: record consisting of FirstName: String, MiddleName: String, LastName: String. type Point: record consisting of X: Double, Y: Double.</code> </pre> <br><p>  Ou seja, em vez de arrastar duas ou tr√™s vari√°veis ‚Äã‚Äãrelacionadas, voc√™ as agrupa em uma estrutura com os campos nomeados.  Em seguida, voc√™ declara uma vari√°vel do tipo Nome e se refere ao campo Nome, por exemplo. </p><br><p>  O que √© t√£o valioso nessa vari√°vel "aprimorada" para o nosso t√≥pico?  Que daqui existe apenas um pequeno passo para o POO.  N√£o apenas destaquei um par√°grafo em negrito para indicar que partes do c√≥digo tamb√©m podem ser colocadas em vari√°veis.  Veja como as vari√°veis ‚Äã‚Äãse transformam em objetos: </p><br><pre> <code class="plaintext hljs">type Name: class consisting of FirstName: String, MiddleName: String, LastName: String, GetFullName: subprogram with no parameters returns String. type Point: class consisting of X: Double, Y: Double, ScalarMultiply: subprogram with (Double) parameters returns Point.</code> </pre><br><p>  NB NEPL est√° desenvolvendo ativamente e j√° substituiu a palavra-chave record por classe. </p><br><p>  Ou seja, podemos acessar o campo "GetFullName" e <em>cham√°-lo</em> .  Uma vari√°vel cont√©m n√£o apenas dados que descrevem seu estado, mas tamb√©m comportamento.  Assim, a vari√°vel se transforma em um objeto que possui algumas habilidades e estado.  E j√° estamos trabalhando n√£o apenas com vari√°veis, mas com pequenos sistemas que podem receber comandos. </p><br><p>  Na minha juventude, essa ideia me fascinou.  Basta pensar, <em>voc√™ pode criar qualquer tipo de dados</em> .  E voc√™ n√£o est√° trabalhando com alguns n√∫meros, mas com os objetos do mundo que est√° criando.  Nenhum tormento com matrizes chatas ou conjuntos complexos de n√∫meros.  Trabalhamos diretamente com objetos dos tipos Jogador, Inimigo, Bala, Chefe!  Sim, na minha juventude, eu queria fazer videogames. </p><br><p>  Na realidade, tudo acabou n√£o sendo t√£o simples.  E sem algumas id√©ias "refor√ßadoras", a OOP transformar√° a vida de um programador em um inferno.  Mas antes de prosseguir, vamos dar mais alguns termos: </p><br><ul><li>  Os tipos de dados que s√£o "refor√ßados" por seu comportamento no OOP s√£o chamados de <strong>classes</strong> . </li><li>  Vari√°veis ‚Äã‚Äãdesses tipos s√£o chamadas de <strong>objetos</strong> . </li><li>  E as rotinas que definem o comportamento dos objetos s√£o chamadas de <strong>m√©todos</strong> .  Como regra, cada classe tem seu pr√≥prio conjunto de m√©todos, e n√£o cada objeto.  Para que cada objeto de uma determinada classe se comporte como outros objetos da mesma classe.  Ficarei feliz em saber dos coment√°rios sobre idiomas em que as coisas s√£o diferentes. </li></ul><br><h2>  Sant√≠ssima Trindade </h2><br><p>  Aconteceu historicamente que eles perguntam sobre essas coisas em entrevistas.  Eles s√£o escritos em qualquer livro did√°tico de linguagem OOP.  Porque  Porque se voc√™ projetar um programa de POO sem considerar o encapsulamento e o polimorfismo, receber√° um "caix√£o, caix√£o, cemit√©rio, desacompanhado".  A heran√ßa n√£o √© t√£o estritamente necess√°ria, mas esse conceito permite que voc√™ entenda melhor o POO e √© uma das principais ferramentas no design usando o POO. </p><br><h3>  Encapsulamento </h3><br><p>  Bem, vamos come√ßar com a defini√ß√£o da Wikipedia: "empacotando dados e fun√ß√µes em um √∫nico componente".  A defini√ß√£o parece clara, mas ao mesmo tempo generalizada demais.  Portanto, vamos falar sobre por que isso √© necess√°rio, o que isso nos dar√° e exatamente como compactar dados e fun√ß√µes em um √∫nico componente. </p><br><p>  Eu j√° escrevi um artigo que tratava de encapsulamento.  E l√° fui justamente criticado pelo fato de ter reduzido o encapsulamento √† oculta√ß√£o de informa√ß√µes, e essas s√£o coisas um pouco diferentes.  Em particular, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">EngineerSpock</a> produziu uma formula√ß√£o t√£o elegante como <em>prote√ß√£o invari√°vel</em> .  Admito o meu erro e depois vou explicar por que o cometi. </p><br><p>  Enquanto isso, a minha √© uma defini√ß√£o preliminar do princ√≠pio do encapsulamento, ou, se voc√™ quiser, o processo de encapsulamento, que descreve n√£o apenas o princ√≠pio do encapsulamento, mas tamb√©m o que deve ser alcan√ßado com ele: </p><br><p>  <em>Qualquer entidade de software com um estado n√£o trivial deve ser transformada em um sistema fechado, que s√≥ pode ser transferido de um estado correto para outro.</em> </p><br><p>  Sobre a parte em que "qualquer entidade de software que tenha um estado n√£o trivial", vamos um pouco mais tarde.  Por enquanto, estaremos falando exclusivamente sobre objetos.  E sobre a segunda parte da minha defini√ß√£o.  Por que precisamos disso? </p><br><p>  Tudo √© simples aqui: o que s√≥ pode ser transferido de um estado correto para outro n√£o pode ser quebrado.  Ou seja, precisamos garantir que nenhum objeto possa ser quebrado.  Parece, para dizer o m√≠nimo, ambicioso.  Como conseguir isso? </p><br><p>  No zero, tudo o que se relaciona ao objeto deve estar em um s√≥ lugar, dentro da mesma borda arquitet√¥nica, digamos.  Caso tenha ficado muito obscuro, repetirei a defini√ß√£o da Wikipedia: "empacotando dados e fun√ß√µes em um √∫nico componente". </p><br><p>  Primeiro, para <strong>separar claramente a interface e sua implementa√ß√£o.</strong>  Acho que todos os meus colegas est√£o familiarizados com a <abbr title="Interface de programa√ß√£o de aplicativos">API de</abbr> abrevia√ß√£o.  Portanto, cada objeto deve ter sua pr√≥pria API, ou PI, se quisermos ser meticulosos.  Aquilo para o qual eles criam, e aquilo que os outros ir√£o usar, o que eles causar√£o.  Como deveria ser?  Para que ningu√©m sequer pensasse em entrar em um objeto e us√°-lo de forma inadequada.  Mas n√£o mais do que isso. </p><br><p>  Em um livro, infelizmente, n√£o me lembro qual, isso foi explicado pelo exemplo de um microondas.  Existem bot√µes nele.  Canetas  Eles permitem que voc√™ aque√ßa os alimentos.  Voc√™ n√£o precisa relaxar o microondas e soldar algo l√° para aquecer a sopa de ontem.  Voc√™ tem uma interface, bot√µes.  Coloque um prato, pressione alguns bot√µes, espere um minuto e seja feliz. </p><br><p>  Basta pensar em quais bot√µes o usu√°rio do seu objeto precisa pressionar e separ√°-los dos gibets internos.  E, em nenhum caso, n√£o adicione bot√µes extras!  Essa foi a primeira. </p><br><p>  Segundo, <strong>respeite o limite entre a interface e a implementa√ß√£o e fa√ßa com que outros o respeitem.</strong>  Em princ√≠pio, essa id√©ia √© intuitiva e paira entre a sabedoria popular de v√°rias formas.  Tome pelo menos "se voc√™ se aproveitou de algo n√£o documentado e depois algo quebrou para voc√™, voc√™ √© o culpado".  Eu acho que, com "n√£o gire o microondas at√© que funcione da maneira que voc√™ precisa", tudo fica claro.  Agora, sobre como fazer os outros respeitarem a fronteira not√≥ria. </p><br><p>  √â aqui que a pr√≥pria oculta√ß√£o de informa√ß√µes vem em socorro.  Sim, voc√™ sempre pode concordar, perguntar, configurar conven√ß√µes de c√≥digo, indicar uma revis√£o de c√≥digo que isso n√£o √© poss√≠vel.  Mas a pr√≥pria possibilidade de subir al√©m dessa fronteira permanecer√°.  Esta √© a pr√≥pria oculta√ß√£o de informa√ß√µes que v√™m em socorro. </p><br><p>  N√£o podemos atravessar a fronteira not√≥ria se nosso c√≥digo n√£o puder aprender sobre sua exist√™ncia e o que est√° por tr√°s dela.  E mesmo que ele descubra, o compilador fingir√° que n√£o existe tal campo ou m√©todo, e mesmo que exista, n√£o √© necess√°rio toc√°-lo, eu me recuso a compilar e, geralmente, quem voc√™ √©, n√£o o chamamos, usa a parte da interface. </p><br><p><img src="https://habrastorage.org/webt/sr/uz/wy/sruzwywr6mexikcuus3mza4yehq.png" title="Tentativa de abordar a parte n√£o descoberta da classe em um idioma com digita√ß√£o est√°tica estrita, 2008, foto em cores"></p><br><p>  √â aqui que todos os tipos de modificadores de acesso p√∫blicos, privados e outros entram em jogo a partir do seu idioma favorito.  A pr√≥pria "oculta√ß√£o de informa√ß√µes" √© a maneira mais confi√°vel de manter os benef√≠cios do encapsulamento no ralo.  De qualquer forma, n√£o faz sentido agrupar tudo o que diz respeito a uma classe em um s√≥ lugar, se o c√≥digo usar o que deseja e onde deseja.  Mas, com a oculta√ß√£o de informa√ß√µes, tal situa√ß√£o n√£o deveria mais surgir em princ√≠pio.  E esse m√©todo √© t√£o confi√°vel que, na mente de milhares e milhares de programadores (inclusive eu, que j√° est√° l√°), a diferen√ßa entre encapsulamento e oculta√ß√£o de informa√ß√µes √©, de alguma forma, suavizada. </p><br><p>  E se o seu YP favorito n√£o permitir que voc√™ oculte informa√ß√µes?  Neste t√≥pico, voc√™ pode se divertir falando sobre coment√°rios.  Eu vejo a pr√≥xima sa√≠da.  Crescente: </p><br><ul><li>  Documente apenas a parte da interface e considere tudo o que n√£o est√° documentado como uma implementa√ß√£o. </li><li>  Separe a implementa√ß√£o da interface via conven√ß√£o de c√≥digo (exemplo - em python, existe a vari√°vel __all__ que indica o que exatamente ser√° importado do m√≥dulo quando voc√™ solicitar a importa√ß√£o de tudo). </li><li>  Torne essas conven√ß√µes de c√≥digo muito estritas para que possam ser verificadas automaticamente, ap√≥s o que qualquer viola√ß√£o delas ser√° equiparada a um erro de compila√ß√£o e uma compila√ß√£o ca√≠da. </li></ul><br><p>  Mais uma vez: </p><br><ul><li>  Tudo relacionado a uma classe √© compactado em um m√≥dulo. </li><li>  Entre as classes, limites estritos da arquitetura s√£o tra√ßados. </li><li>  Em qualquer classe, a parte da interface √© separada da implementa√ß√£o desta parte da interface. </li><li>  Os limites entre as classes devem ser respeitados e obrigados a respeitar os outros! </li></ul><br><p>  Termino com um exemplo no NEPL, que ainda est√° em desenvolvimento muito ativo e, ap√≥s dez par√°grafos, adquiriu modificadores de acesso: </p><br><pre> <code class="plaintext hljs">type Microwave: class consisting of private fancyInnerChips: List of Chip, private foodWarmingThing: FoodWarmerController, private buttonsPanel: ButtonsPanel, public GetAccessToControlPanel: subprogram with no parameters returns ButtonsPanel, public OpenDoor: subprogram with no parameters returns nothing, public Put: subprogram with (Food) parameters return nothing, public CloseDoor: subprogram with no parameters returns nothing. type ButtonsPanel: class consisting of private buttons: List of ButtonState, public PressOn: subprogram with no parameters returns nothing, public PressOff: subprogram with no parameters returns nothing, public PressIncreaseTime: subprogram with no parameters returns nothing, public PressDecreaseTime: subprogram with no parameters returns nothing, public PressStart: subprogram with no parameters returns nothing, public PressStop: subprogram with no parameters returns nothing.</code> </pre><br><p>  Espero que fique claro no c√≥digo qual √© a ess√™ncia do exemplo.  Esclare√ßo apenas um ponto: GetAccessToControlPanel verifica se podemos tocar no micro-ondas.  E se ela estiver quebrada?  Ent√£o voc√™ n√£o pode clicar em nada.  Voc√™ s√≥ pode receber uma mensagem de erro. </p><br><p>  Bem, o fato de o ButtonsPanel se tornar uma classe separada sem problemas nos leva a uma pergunta importante: qual √© o "componente √∫nico" da defini√ß√£o de encapsulamento na Wikipedia?  Onde e como devem estar os limites entre as classes?  Definitivamente voltaremos a esse problema um pouco mais tarde. </p><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text">  Princ√≠pio da responsabilidade √∫nica <br></div></div><br><h4>  Use fora do OOP </h4><br><p>  Muitos programadores aprenderam sobre encapsulamento em um tutorial em Java / C ++ / C # / substituem sua primeira linguagem OOP.  Portanto, o encapsulamento na consci√™ncia de massa, de alguma forma, est√° ligado ao POO.  Mas vamos voltar √†s duas defini√ß√µes de encapsulamento. </p><br><p></p><blockquote>  Empacotando dados e fun√ß√µes em um √∫nico componente. </blockquote><br><blockquote>  Qualquer entidade de software com um estado n√£o trivial deve ser transformada em um sistema fechado, que s√≥ pode ser transferido de um estado correto para outro. </blockquote><br><br><p>  Voc√™ j√° reparou?  N√£o h√° nada sobre classes e objetos! </p><br><p>  Ent√£o, um exemplo.  Voc√™ √© um <abbr title="Administrador de banco de dados">DBA</abbr> .  Seu trabalho √© ficar de olho em algum tipo de banco de dados relacional.  Que seja, por exemplo, no MySQL.  Seu precioso banco de dados usa v√°rios programas.  Voc√™ n√£o tem controle sobre alguns deles.  O que fazer </p><br><p>  Crie um conjunto de procedimentos armazenados.  N√≥s os compomos em um circuito, que chamaremos de interface.  Criamos um usu√°rio para nossos programas sem nenhum direito.  Este √© o comando CREATE USER.  Em seguida, usando o comando GRANT, concede aos usu√°rios apenas o direito de executar esses procedimentos armazenados a partir do esquema da interface. </p><br><p>  S√≥ isso.  Temos um banco de dados, a pr√≥pria entidade de software com um estado n√£o trivial, que √© f√°cil de quebrar.  E para n√£o quebr√°-lo, criamos uma interface a partir de procedimentos armazenados.  E ap√≥s os meios do pr√≥prio MySQL, fazemos isso para que entidades de terceiros possam usar apenas essa interface. </p><br><p>  Observe que o not√≥rio encapsulamento, como √©, e como foi descrito, √© usado em todo o seu potencial.  Mas existe uma lacuna entre a representa√ß√£o relacional de dados e objetos que precisa ser fechada com estruturas <abbr title="Mapeamento objeto-relacional">ORM</abbr> volumosas. </p><br><p>  √â por isso que classes e objetos n√£o aparecem na defini√ß√£o de encapsulamento.  A ideia √© muito mais ampla que o POO.  E traz muito benef√≠cio falar somente em livros did√°ticos sobre idiomas OOP. </p><br><h3>  Polimorfismo </h3><br><p>  O polimorfismo tem muitas formas e defini√ß√µes.  Basta que Kondratius me basta quando abro a Wikipedia.  Aqui vou falar sobre polimorfismo, como a Straustrup o formulou: <em>uma interface - muitas implementa√ß√µes</em> . </p><br><p>  Nesta forma, a id√©ia de polimorfismo pode fortalecer muito a posi√ß√£o dos escritores com o olho no encapsulamento.  Afinal, se separamos a interface da implementa√ß√£o, quem usa a interface n√£o precisa saber que algo mudou na implementa√ß√£o.  Quem usa a interface (idealmente) nem precisa saber que a implementa√ß√£o mudou!  E isso abre infinitas possibilidades de expans√£o e modifica√ß√£o.  Seu antecessor decidiu que √© melhor aquecer a comida com um radar militar?  Se esse g√™nio louco separou a interface da implementa√ß√£o e a formalizou claramente, ent√£o o radar militar pode ser adaptado a outras necessidades, e sua interface para aquecimento de alimentos pode ser realizada usando um microondas. </p><br><p>  A NEPL est√° se desenvolvendo rapidamente e, sob a influ√™ncia do C #, adquire (com cuidado, n√£o trope√ßa nas palavras) o tipo de interface de dados. </p><br><pre> <code class="plaintext hljs">type FoodWarmer: interface consisting of GetAccessToControlPanel: no parameters returns FoodWarmerControlPanel, OpenDoor: no parameters returns nothing, Put: have (Food) parameters returns nothing, CloseDoor: no parameters returns nothing. type FoodWarmerControlPanel: interface consisting of PressOn: no parameters returns nothing, PressOff: no parameters returns nothing, PressIncreaseTime: no parameters returns nothing, PressDecreaseTime: no parameters returns nothing, PressStart: no parameters returns nothing, PressStop: no parameters returns nothing. type EnemyFinder: interface consisting of FindEnemies: no parameters returns List of Enemy. type Radar: class implementing FoodWarmer, EnemyFinder and consisting of private secretMilitaryChips: List of Chip, private giantMicrowavesGenerator: FoodWarmerController, private strangeControlPanel: AlarmClock, public GetAccessToControlPanel: subprogram with no parameters returns FoodWarmerControlPanel, public OpenDoor: subprogram with no parameters returns nothing, public Put: subprogram with (Food) parameters return nothing, public CloseDoor: subprogram with no parameters returns nothing, public FindEnemies: subprogram with no parameters returns List of Enemy. type AlarmClock: class implementing FoodWarmerControlPanel and consisting of private mechanics: List of MechanicPart, public PressOn: subprogram with no parameters returns nothing, public PressOff: subprogram with no parameters returns nothing, public PressIncreaseTime: subprogram with no parameters returns nothing, public PressDecreaseTime: subprogram with no parameters returns nothing, public PressStart: subprogram with no parameters returns nothing, public PressStop: subprogram with no parameters returns nothing. type Microwave: class implementing FoodWarmer and consisting of private fancyInnerChips: List of Chip, private foodWarmingThing: FoodWarmerController, private buttonsPanel: ButtonsPanel, public GetAccessToControlPanel: subprogram with no parameters returns FoodWarmerControlPanel, public OpenDoor: subprogram with no parameters returns nothing, public Put: subprogram with (Food) parameters return nothing, public CloseDoor: subprogram with no parameters returns nothing. type ButtonsPanel: class implementing FoodWarmerControlPanel and consisting of private buttons: List of ButtonState, public PressOn: subprogram with no parameters returns nothing, public PressOff: subprogram with no parameters returns nothing, public PressIncreaseTime: subprogram with no parameters returns nothing, public PressDecreaseTime: subprogram with no parameters returns nothing, public PressStart: subprogram with no parameters returns nothing, public PressStop: subprogram with no parameters returns nothing.</code> </pre><br><p>  Portanto, se uma classe √© declarada como implementando uma interface, ela deve implementar todos os m√©todos dessa interface.  Caso contr√°rio, o compilador nos dir√° "fi".  E temos duas interfaces: FoodWarmer e FoodWarmerControlPanel.  Olhe para eles com cuidado e depois vamos analisar as implementa√ß√µes. </p><br><p>  Como legado do dif√≠cil passado sovi√©tico, recebemos a classe Radar de uso duplo, que pode ser usada para aquecer alimentos e encontrar o inimigo.  E, em vez do painel de controle, um alarme √© usado, porque o plano foi excedido e eles precisam ser colocados em algum lugar.  Felizmente, por√©m, o MNS sem nome do Instituto de Pesquisa em Qu√≠mica, Fertilizantes e Venenos, para o qual eles utilizaram, implementou as interfaces FoodWarmer para o radar e o FoodWarmerControlPanel para o despertador. </p><br><p>  Depois de uma gera√ß√£o, ocorreu a algu√©m que √© melhor aquecer a comida com um microondas, e √© melhor controlar o microondas com os bot√µes.  E agora as classes Microwave e ButtonsPanel criadas.  E eles implementam as mesmas interfaces.  FoodWarmer e FoodWarmerControl.  O que isso nos d√°? </p><br><p>  Se em todo lugar em nosso c√≥digo usamos uma vari√°vel como FoodWarmer para aquecer alimentos, podemos simplesmente substituir a implementa√ß√£o por uma mais moderna e ningu√©m notar√° nada.  Ou seja, o c√≥digo que usa a interface n√£o se importa com os detalhes da implementa√ß√£o.  Ou ao fato de que mudou completamente.  Podemos at√© criar a classe FoodWarmerFactory que produz diferentes implementa√ß√µes do FoodWarmer, dependendo da configura√ß√£o do seu aplicativo. </p><br><p>  Observe tamb√©m os campos fechados na classe Microondas e Radar.  L√° temos um despertador e um painel com bot√µes.  Mas, fora, damos uma vari√°vel do tipo FoodWarmerControlPanel. </p><br><p>  Em algum lugar de Picabu, havia uma hist√≥ria sobre como um certo candidato explicou o princ√≠pio do polimorfismo da seguinte maneira: </p><blockquote>  Aqui eu tenho uma caneta.  Posso escrever meu nome para ela, mas posso grudar nos seus olhos.  Este √© o princ√≠pio do polimorfismo. </blockquote>  A imagem √© engra√ßada, a situa√ß√£o √© terr√≠vel e a explica√ß√£o do princ√≠pio do polimorfismo √© in√∫til. <br><p>  O princ√≠pio do polimorfismo n√£o √© que uma classe de caneta com algum medo perceba as interfaces de um papel de carta e a√ßo frio ao mesmo tempo.  O princ√≠pio do polimorfismo √© que tudo o que pode ser picado pode ficar preso nos olhos.  Porque pode ser picado.  E o resultado ser√° diferente, mas idealmente deve gerar priva√ß√£o visual.  E o m√©todo do polimorfismo permite refletir esse fato no modelo que voc√™ est√° construindo para o seu mundo. </p><br><h4>  Use fora do OOP </h4><br><p>  Existe uma linguagem t√£o engra√ßada e engra√ßada em todos os sentidos dessas palavras como Erlang.  E tem uma caracter√≠stica como comportamento.  Assista suas m√£os: </p><br><p>  O c√≥digo √© dividido em m√≥dulos.  Voc√™ pode usar o nome do m√≥dulo como uma vari√°vel.  Ou seja, voc√™ pode escrever uma chamada de fun√ß√£o de um m√≥dulo como este: </p><br><pre> <code class="erlang hljs"><span class="hljs-comment"><span class="hljs-comment">%option 1 foobar:function(), %option 2 Module = foobar, Module:function().</span></span></code> </pre><br><p>  Para garantir que o m√≥dulo tenha certas fun√ß√µes, existe um recurso da linguagem como comportamento.  Em um m√≥dulo que usa outros m√≥dulos, voc√™ define os requisitos para os m√≥dulos vari√°veis ‚Äã‚Äãusando a declara√ß√£o behaviour_info.  E ent√£o os m√≥dulos que seu m√≥dulo pai, que especificou behaviour_info, usar√£o, usando a declara√ß√£o de comportamento, informam ao compilador: "nos comprometemos a implementar esse comportamento para que o m√≥dulo pai possa nos usar". </p><br><p>  Por exemplo, o m√≥dulo gen_server permite criar um servidor que de forma s√≠ncrona ou ass√≠ncrona em um processo separado (n√£o h√° encadeamentos em Erlang, apenas milhares de pequenos processos paralelos), executa solicita√ß√µes de outros processos.  E em gen_server toda a l√≥gica relacionada a solicita√ß√µes de outros processos √© coletada.  Mas o processamento direto dessas solicita√ß√µes √© feito por quem implementa o comportamento de gen_server.  E enquanto outros m√≥dulos o implementam corretamente (mesmo se houver stubs vazios), o gen_server geralmente n√£o se importa como essas solicita√ß√µes s√£o processadas.  Al√©m disso, o m√≥dulo de processamento pode ser alterado rapidamente. </p><br><p>  Uma interface - muitas implementa√ß√µes.  Como Straustrup nos legou.  Conforme escrito em livros inteligentes sobre OOP.  E agora uma cita√ß√£o da wikipedia para o est√∫dio: </p><br><p></p><blockquote> Erlang ‚Äî       ,      . </blockquote><br><p>   ¬´  ‚Äî  ¬ª    ,  ,      . </p><br><p>   .    .NET.           .    <abbr title="Common Language Runtime">CLR</abbr> .    CLR Microsoft       ,  ,    ,      ( ECMA-335). </p><br><p> .NET  ,      Windows, Windows Phone, XBox ( XNA,  ,    ),   .    Microsoft.      ,  ,  .   ,      Mono Project.           .NET.  . </p><br><p>  ,   .     Microsoft ,     .NET  .  .   ,     ,     .NET Core.   ,   .NET Core    .NET Framework,    ,  ,       . ,       . </p><br><p>     ,      ¬´  ‚Äî  ¬ª  -  .      ,         . </p><br><h3>  </h3><br><p>  ,        . ,  ,   ,    .   ,      . </p><br><p>   ,            ,     . ,      ,    NEPL.   .   Name?   ,       .  EtiquetteInfo  -   . </p><br><pre> <code class="plaintext hljs">import class EtiquetteInfo from Diplomacy. type PoliteName: class consisting of private FirstName: String, private MiddleName: String, private LastName: String, for descendants GetPoliteFirstName: subprogram with (EtiquetteInfo) parameters returns String, for descendants GetPoliteMiddleName: subprogram with (EtiquetteInfo) parameters returns String, for descendants GetPoliteLastName: subprogram with (EtiquetteInfo) parameters returns String, public GetFullName: subprogram with (EtiquetteInfo) parameters returns String. subprogram GetPoliteFirstName.PoliteName with (EtiquetteInfo _EtiquetteInfo) parameters returning String implemented as return _EtiquetteInfo.PoliteFirstName(FirstName). subprogram GetPoliteMiddleName.PoliteName with (EtiquetteInfo _EtiquetteInfo) parameters returning String implemented as return _EtiquetteInfo.PoliteMiddleName(MiddleName). subprogram GetPoliteLastName with (EtiquetteInfo _EtiquetteInfo) parameters returning String implemented as return _EtiquetteInfo.PoliteLastName(LastName). subprogram GetFullName with (EtiquetteInfo _EtiquetteInfo) parameters returning String implemented as return GetPoliteFirstName(_EtiquetteInfo) + GetPoliteMiddleName(_EtiquetteInfo) + GetPoliteLastName(_EtiquetteInfo).</code> </pre><br><p> ,   GetFullName    -   ,    ( ,   , ?).    ,   ,        -  .    ,  , .      ,     ,   ,  ,        . ,   .   PoliteName  .    ExoticPoliteName    ‚Äî     . ,        ,     . </p><br><p> -     .    ExoticPoliteName,    PoliteName,    .    PoliteExoticName.  ,       PoliteName. </p><br><pre> <code class="plaintext hljs">import class EtiquetteInfo from Diplomacy. type PoliteExoticName: class extending PoliteName and consisting of private MoreMiddleNames: List of String, for descendants overridden GetPoliteMiddleName: subprogram with (EtiquetteInfo) parameters returns String, public overriden GetFullName: subprogram with (EtiquetteInfo) parameters returns String. subprogram GetPoliteMiddleName.PoliteExoticName with (EtiquetteInfo _EtiquetteInfo) parameters returning String implemented as String AggregatedMiddleName = String.Join(" ", MoreMiddleNames), return base.GetPoliteMiddleName(_EtiquetteInfo + AggregatedMiddleName). subprogram GetFullName with (EtiquetteInfo _EtiquetteInfo) parameters returning String implemented as String Prefix = "", String FirstName = GetFirstName(_EtiquetteInfo), if _EtiquetteInfo.ComplimentIsAppropriate(FirstName) then Prefix = "Oh, joy of my heart, dear ", return Prefix + base.GetFullName(_EtiquetteInfo).</code> </pre><br><p>   :  PoliteName     <strong></strong> .   PoliteExoticName  -. </p><br><p>       ,        ,        .  ,       GetPoliteFirstName  GetPoliteLastName.     .          GetFullName,   ,    . </p><br><p>     ,    ,      PoliteName,    PoliteExoticName,     GetFullName.  ,     PoliteName,  ,        .  ,     ,  base.GetFullName(etiquetteInfo).  ,         ,     . </p><br><p>   ,            " <strong></strong> ".     ,    .  :   ,   .    .   . </p><br><p>   ,      .  . ,   Boolean,      , .       ,       Object.      .  ,    ,     ,   ,   Object,     . </p><br><p>   ,   NEPL    .   PoliteName    Object,  PoliteExoticName    PoliteName    Object .  ,     NEPL : </p><br><pre> <code class="plaintext hljs">subprogram Foo.Bar with no parameters returning nothing implemented as PoliteExoticName _PoliteExoticName = GetSomePoliteExoticName(), PoliteName _PoliteName = _PoliteExoticName, Object _Object = _PoliteExoticName.</code> </pre><br><p>   , ,    _Object.GetFullName,      ,  .   PoliteName  PoliteExoticName  -    Object,      -   _Object,         . </p><br><p>     ?  ,     .       .   ,     (   Object)   ,   -     -. </p><br><p> ,  ,       ,       ,   .         ? ,      .       -   ,    .       . -   ,    . </p><br><p>   ?  ,   .           .      .  ,  <em>   ¬´¬ª      ,      </em> .     ? </p><br><p>             .    ,   NEPL     for descendants. </p><br><pre> <code class="plaintext hljs">type PoliteName: class consisting of private FirstName: String, private MiddleName: String, private LastName: String, for descendants GetPoliteFirstName: subprogram with (EtiquetteInfo) parameters returns String, for descendants GetPoliteMiddleName: subprogram with (EtiquetteInfo) parameters returns String, for descendants GetPoliteLastName: subprogram with (EtiquetteInfo) parameters returns String, public GetFullName: subprogram with (EtiquetteInfo) parameters returns String.</code> </pre><br><p>   PoliteExoticName      FirstName,   ¬´,    ,         ,  , ¬ª.    GetPoliteFirstName       FirstName. </p><br><img src="https://habrastorage.org/webt/0y/xi/xr/0yxixrba-fp3lrwusr2wmjrxhkk.png"><br><p> ,  ,   Square  Shape,      Shape  Square   .     ,  .    Shape   ,    <em>    </em> ,      .   Square,    Shape.  Porque   ,     Shape,        . </p><br><p>    .    ,       ? -,           . -, ,  ,  ,       .    ,       ,     . </p><br><p>     ,      .     ,  .       ¬´ ¬ª?      ,       .        .   ,     . </p><br><p>       .   ,      .    ,       ,   .         .     ,   .   ,    ,              . </p><br><p>       ,     ,       .             .      (  ,    ),   ,       .  ,    ,   .   ,         ,      .     . </p><br><p>        ,  )     , )      ,     ,      ,  999   1000  .  ,        ,       . </p><br><h4> ()    </h4><br><p>          ,       .     -   ,     .  ,       ,          .       - ,   . </p><br><h2> SOLID </h2><br><p>   ‚Äî  ,     ,   . -             . SOLID ‚Äî        ,  ,       ‚Ä¶ ? ? ,  , . </p><br><h3> S ‚Äî The Single Responsibility Principle </h3><br><p>         .       . </p><br><p></p><blockquote>       . </blockquote><br><p>                .       .       . </p><br><p>  ,   ¬´ ¬ª    - .   .        ¬´   ?¬ª.    ,   ,  ?     . </p><br><p> , SRP    : </p><blockquote>        <em>  </em> . </blockquote><br><p>     ,   ?      ‚Äî  ,       .          ?   .            ¬´    ¬ª.    ,          .      ?         . </p><br><p>  ,       ?      . ,             .txt-.      ,     ,      ,     .txt-.  - ,     .       ,    ,       ‚Ä¶      .txt-.  Porque       .   ,    ,      <strong></strong>       .txt-. </p><br><p> NB       (  , )   ¬´¬ª,        ¬´   ,       ¬ª. </p><br><img src="https://habrastorage.org/webt/wn/jp/nh/wnjpnhdqpbh5wqumoerfefawxbu.png"><br><p>          . ,     , <em> </em> ,        .txt-.      . ,        .     ,   .  Mas! -, ,      ,    . -,  ,           ,                . </p><br><img src="https://habrastorage.org/webt/1e/kx/jx/1ekxjxqmohvhalaqz2_8ajak4p8.png"><br><p>  , ,   .    ,    )       , )  .html-.        ,     ,     .txt/.html. </p><br><p>   ,   ,         ,     . ,      ,        .txt-.  O que poderia dar errado? </p><br><ul><li> .     ,    .     ,   ,    .     ,   ,      ,    , , ,   . . </li><li> ,      . 900 USD  900.00$? 20190826T130000       2019 ?      ,     ? </li><li>  .txt-?     .csv? ,   .txt.        ?    ?      - ?    -   ?  ,     ? </li></ul><br><p>   ?       ‚Äî   .       ,        -. </p><br><p>   ,     ,      ,     .       ,    . </p><br><h4> DRY ‚Äî Don't Repeat Yourself </h4><br><p>        : </p><br><p></p><blockquote>            ,        .   . </blockquote><br><p>      , ,      ,     -   ,   .        ,      ,    . </p><br><h4>     </h4><br><p> SRP     .     , ,   .  ,           ¬´  ¬ª.   ,       ,    ,        ‚Äî    . </p><br><p>      .      <abbr title="Hyper-text Markup Language">HTML</abbr>       . ,       ¬´¬ª   .  ,   HTML   90-    .     ,     .  -   ,          <strong></strong>    .  ,      HTML- <em>  </em> .    <abbr title="Cascading Style Sheets">CSS</abbr> . </p><br><p>   ? -, CSS   ,     ¬´¬ª      . ,          . -,   CSS-      html-   ,    -   text-color    .     ‚Äî  .      . </p><br><h3> O ‚Äî The Open/Closed Principle </h3><br><p>     ,   ,            ,      -    .   ,   ¬´¬ª  ¬´¬ª.  /     ,   ,      .    ¬´ ¬ª .  : </p><br><p></p><blockquote>           . </blockquote><br><p>          .          ,    .         ,          .       ,         ‚Äî . </p><br><p>  ,      .        .      ?        .  ,   . </p><br><ul><li>   ,       .      ,      .   ,    / . </li><li>   ,     .        ,   .  / /,         . NB      /.         ,   :         . </li><li>   ,      .       ,   . </li><li>     ,  -     ,        ,   .    (), ()  ¬´¬ª  . </li><li>     .       ,   ,   ? , . ,   <em></em>          .      ,             . </li></ul><br><p> ,    . . </p><br><p>  </p><br><pre> <code class="plaintext hljs">type SpellChecker: class consisting of public DoSpellCheck: subprogram with (String) parameters returns String. type CorporativeStyleChecker: class consisting of public DoCorporativeStyleCheck: subprogram with (String) parameters returns String. type TextProcessor: class consisting of private Text: String, private SpellChecker: SpellChecker, private CorporativeStyleChecker: CorporativeStyleChecker, public Process: subprogram with no parameters returns String. subprogram TextProcessor.Process with no parameters returning String implemented as String ProcessedText = Text, ProcessedText = SpellChecker.DoSpellCheck(ProcessedText), ProcessedText = CorporativeStyleChecker.DoCorporativeStyleCheck(ProcessedText), return ProcessedText.</code> </pre><br><p>  ,     </p><br><pre> <code class="plaintext hljs">type TextChecker: interface consisting of Check: have (String) parameters returns String. type SpellChecker: class implementing TextChecker and consisting of public Check: subprogram with (String) parameters returns String. type CorporativeStyleChecker: class implementing TextChecker and consisting of public Check: subprogram with (String) parameters returns String. type TextProcessor: class consisting of private Text: String, private SpellChecker: SpellChecker, private CorporativeStyleChecker: CorporativeStyleChecker, public Process: subprogram with no parameters returns String. subprogram TextProcessor.Process with no parameters returning String implemented as String ProcessedText = Text, List of SpellChecker Checkers = (SpellChecker, CorporativeStyleChecker), for each SpellChecker SpellChecker in Checkers do ProcessedText = SpellChecker.Check(ProcessedText) and nothing else, return ProcessedText.</code> </pre><br><p>     O/CP  .    TextCheckersSupplier,        . </p><br><pre> <code class="plaintext hljs">type TextChecker: interface consisting of Check: have (String) parameters returns String. type SpellChecker: class implementing TextChecker and consisting of public Check: subprogram with (String) parameters returns String. type CorporativeStyleChecker: class implementing TextChecker and consisting of public Check: subprogram with (String) parameters returns String. type TextCheckersSupplier: class consisting of public GetCheckers: subprogram with no parameters returns List of TextChecker. type TextProcessor: class consisting of private Text: String, private CheckersSupplier: TextCheckersSupplier, public Process: subprogram with no parameters returns String. subprogram TextProcessor.Process with no parameters returning String implemented as String ProcessedText = Text, List of SpellChecker Checkers = CheckersSupplier.GetCheckers(), for each SpellChecker SpellChecker in Checkers do ProcessedText = SpellChecker.Check(ProcessedText) and nothing else, return ProcessedText.</code> </pre><br><p>         ? ,        ,   ,     .      ,       TextProcessor. , TextCheckerSupplier   ,  ,   .      TextChecker' .     ,      ,     ,   .  ,    . </p><br><h4>     </h4><br><p>   ,     ,    ,    ,   .      . </p><br><h3> L ‚Äî The Liskov Substitute Principle </h3><br><p>  ,     : </p><br><p></p><blockquote> ,    ,       ,    . </blockquote><br><p>       ,  ,   .    ? </p><br><ol><li>   </li><li>   </li><li>         </li></ol><br><p>    -       NEPL: </p><br><pre> <code class="plaintext hljs">type PoliteExoticName: class extending PoliteName and consisting of... subprogram Foo.Bar with no parameters returning nothing implemented as PoliteExoticName _PoliteExoticName = GetSomePoliteExoticName(), PoliteName _PoliteName = _PoliteExoticName, Object _Object = _PoliteExoticName.</code> </pre><br><p> ,  _PoliteName  - .  ,        ,     . ,   .       PoliteName,          .  , , ,     PoliteName     .  ,      ,       ,    .   . </p><br><p> ,      -,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">allex</a> ( ,       ). ,    ,  : </p><blockquote>      -,         . </blockquote><br><p>   ,        ¬´Agile Principles, Patterns and Practices in C#¬ª.   NEPL,      . </p><br><pre> <code class="plaintext hljs"> Object _Object = GetObjectSomewhere(), PoliteExoticName IHopeItsActuallyName = _Object as PoliteExoticName,</code> </pre><br><p> ,      ,      .      .      ,     .      - ,    .  ,    .            .            (     , alias  ,    ): </p><br><pre> <code class="plaintext hljs">from UnboundedCollections import UnboundedSet as ThirdPartyUnboundedSet. from BoundedCollections import BoundedSet as ThirdPartBoundedSet. type Set: interface consisting of Add: have (Object) parameters returns nothing, Delete: have (Object) parameters returns nothing, IsMember: have (Object) parameters returns Boolean. type UnboundedSet: class implementing Set and consisting of private ThirdPartySet: ThirdPartyUnboundedSet, public Add: subprogram with (Object) parameters returning nothing, public Delete: subprogram with (Object) parameters returning nothing, public IsMember: subprogram with (Object) parameters returning Boolean. type BoundedSet: class implementing Set and consisting of private ThirdPartySet: ThirdPartyBoundedSet, public Add: subprogram with (Object) parameters returning nothing, public Delete: subprogram with (Object) parameters returning nothing, public IsMember: subprogram with (Object) parameters returning Boolean. subprogram BoundedSet.Add with (Object O) parameters returning nothing implemented as ThirdPartSet.Add(O).</code> </pre><br><img src="https://habrastorage.org/webt/cp/m5/9g/cpm59gpwtr_6jj9baycqf-jazly.png"><br><p>    .    .  .    PersistentSet,     -   .  ,           PersistentObject.   -  .   Delete  IsMember   .   Add... </p><br><pre> <code class="plaintext hljs">from PersistentCollections import PersistentSet as ThirdPartyPersistentSet, PersistentObject. type PersistentSet: class implementing Set and consisting of private ThirdPartySet: ThirdPartyPersistentSet, public Add: subprogram with (Object) parameters returning nothing, public Delete: subprogram with (Object) parameters returning nothing, public IsMember: subprogram with (Object) parameters returning Boolean. subprogram PersistentSet.Add with (Object O) parameters returning nothing implemented as PersistentObject Po = O as PersistentObject, ThirdPartySet.Add(Po).</code> </pre><br><img src="https://habrastorage.org/webt/zd/ho/qn/zdhoqnr_ctmmnqwagrjt8din3kw.png"><br><p>     .   PersistentSet  Object,     .      ,   ,  <em>  Set          ,       </em> .       (         ): </p><br><pre> <code class="plaintext hljs">type MemberContainer: interface consisting of Delete: have (Object) parameters returns nothing, IsMember: have (Object) parameters returns Boolean. type Set: interface extending MemberContainer and consisting of Add: have (Object) parameters returns nothing. type PersistentSet: interface extending MemberContainer and consisting of Add: have (PersistingObject) parameters returns nothing.</code> </pre><br><img src="https://habrastorage.org/webt/_k/2g/q0/_k2gq0rfr0q_rvkp1sdzvafb-g4.png"><br><p>           C#. </p><br><div class="spoiler"> <b class="spoiler_title"> ,       NEPL</b> <div class="spoiler_text"><p>       NEPL.      List of String.      ,     . </p><br><pre> <code class="plaintext hljs">type List: class generalized with (T) parameters consisting of</code> </pre><br><p>      Set   PersistentSet. </p><br><pre> <code class="plaintext hljs">from UnboundedCollections import UnboundedSet as ThirdPartyUnboundedSet. from BoundedCollections import BoundedSet as ThirdPartBoundedSet. from PersistentCollections import PersistentSet as ThirdPartyPersistentSet, PersistentObject. type Set: interface generalized with (T) parameters consisting of Add: have (T) parameters returns nothing, Delete: have (T) parameters returns nothing, IsMember: have (T) parameters returns Boolean. type UnboundedSet: class implementing Set of Object and consisting of private ThirdPartySet: ThirdPartyUnboundedSet, public Add: subprogram with (Object) parameters returning nothing, public Delete: subprogram with (Object) parameters returning nothing, public IsMember: subprogram with (Object) parameters returning Boolean. type BoundedSet: class implementing Set of Object and consisting of private ThirdPartySet: ThirdPartyBoundedSet, public Add: subprogram with (Object) parameters returning nothing, public Delete: subprogram with (Object) parameters returning nothing, public IsMember: subprogram with (Object) parameters returning Boolean. type PersistentSet: class implementing Set of PersistentObject and consisting of private ThirdPartySet: ThirdPartyPersistentSet, public Add: subprogram with (PersistentObject) parameters returning nothing, public Delete: subprogram with (PersistentObject) parameters returning nothing, public IsMember: subprogram with (PersistentObject) parameters returning Boolean.</code> </pre><br></div></div><br><h4> ()    </h4><br><p>           .   ,     ,  ¬´¬ª     .  ,       ¬´  ‚Äî  ¬ª    . ,      .     . </p><br><h3> I ‚Äî The Interface Segregation Principle </h3><br><p>     ,        .     .    . </p><br><h4>     </h4><br><p> ,  ?   ,          -  . ,     ,        SQL?      ,    .         ,   API   .   API   ,   ¬´interface¬ª,  ,      .    .  O que poderia dar errado? </p><br><p>       ,        ,     - ,  DBA    .   ,   100500     ,   .    .      ,      . </p><br><p>     ,       ,      ,  ¬´¬ª .      ,   ¬´   interface,     ¬ª.    DBA  .      GDPR, HIPAA    ,     . </p><br><p>      -  .    ,       .  E assim por diante </p><br><p>  ?   ,          .         : </p><br><p></p><blockquote>        ,     (      ). </blockquote><br><p>         ?    interface     ¬´interface_billing¬ª, ¬´interface_customer_data¬ª   .        . </p><br><p> ,    ,       .     pet-project.        IActor.        ,       .    ,  IActor       : ICollidable, IDisplayble, IUpdatable.    ? </p><br><img src="https://habrastorage.org/webt/db/rs/po/dbrspobmujo9ek4wkqttywv24ni.png"><br><p>  (      , Camera),            .    ,    -  .     ,   .      ,        ,      IDisplayble   SpecEffect. </p><br><p>  CollisionsController   ,    -  ICollidable.           ,   ,    ,  SOLID  .  TileWall     -,         .       CollisionsController   .  ,    ,        IActor   ,    . </p><br><img src="https://habrastorage.org/webt/mk/7m/yq/mk7myqowhpmvnq8iw1vaalqcss8.png"><br><p>  :  ,       ,    . </p><br><h3> D ‚Äî The Dependency Inversion </h3><br><p> -. ,  .    ,   ,     .    ,  ,      .  ,        , ,     ,      - . ,     ,  -    .      ,     ,      - . </p><br><p>  Aqui!     .¬ª ‚Äî       -   ImportantClass.     , ,             .  ,   ImportantClass      VeryImportantClass,        ,    ,    EvenMoreImportantClass,         ,          .   ,    ,        ,     .   ,   .      ,         . </p><br><img src="https://habrastorage.org/webt/pi/oa/me/pioameabdye9htqneqjttb8kczy.png"><br><p>     ImportantClass  VeryImportantClass  EvenMoreImportantClass.       ImportantClass     .     ,    ,   . ,    IVeryImportantClass  IEvenMoreImportantClass,      ImportantClass. </p><br><p>     ImportantClass  VeryImportantClass .       ImportantClass  ¬´ ¬ª,      IVeryImportantClass  . </p><br><img src="https://habrastorage.org/webt/r0/qr/sw/r0qrsw49qxggfr0s7maojfmscmo.png"><br><p>      .   ,    ,      . </p><br><p></p><blockquote>          .       . </blockquote><blockquote>      .     . </blockquote><br><p>       ,     ¬´¬ª   ¬´¬ª      - .     , ,         . .            ,         ,     .       ,    . ,   -. </p><br><p>          .  ,   . </p><br><p> - ,    .      (  MegaSender),          .      ,     ,   SOAP API. </p><br><p>       -.   SenderAccess.    ,  MegaSender  SenderAccess   . SenderAccess     MegaSender,    ,   MegaSender,       MegaSender ,   Apple   i. </p><br><p>       MegaSender.   LightSender.     ,  SenderAccess  c LightSender.   ,        ,     .         ,     . </p><br><p>      SenderAccess,   ,     MegaSender    .     ,      SenderAccess  MegaSender.        MegaSender  ¬´ ¬ª.  ,      MegaSender,  ,    ,       .    .     ,   LightSender         ,    ,  LightSender,   MegaSender. </p><br><p>     ,   SenderAccess       ,  SenderAccess  LightSender      .       . </p><br><p>          ,    IActor   ICollidable, IUpdatable, IDisplayble.  ,  IActor   .     Actor    Player, Enemy, Door, Wall  .   ,     . </p><br><p>       Blueprint.          .  ,   ,  ,  ,  , et cetera. , ,  ,      . </p><br><p>       ,    ,      C#,  .        ,    -  List&lt;String&gt;.  ,     List&lt;T&gt;    List&lt;String&gt;.       Actor   Actor&lt;TBlueprint&gt;. </p><br><p>    ,   ,    -       .  Actor&lt;EnemyBlueprint&gt;  Actor&lt;DoorBlueprint&gt;      ,   . ,      . </p><br><p>  -     .               , , .  ,  .  ,      .    ,         IActor,  ,  ActorsFactory     . </p><br><p>             .       :          <em> </em> . </p><br><h4>     </h4><br><p>          ,    ,     .          - ,            .   () : </p><br><p>   . .  . TCP/HTTP/SMPP/SOAP,  .     ?  ,  TCP/HTTP/SMPP/SOAP-  TCP/HTTP/SMPP/SOAP-    ,      .      ,    -   .        ?  Pense nisso. ,        ¬´ ¬ª  ¬´ 1000  ¬ª. </p><br><h2>     </h2><br><p>        .    ?          -   SOLID'?         ,         .     ,    - ,   . </p><br><p></p><blockquote> <em> -    <strong>  </strong> ,  .</em> </blockquote><blockquote> <em> -    <strong>  </strong> ,   .</em> </blockquote><p>         . ,          -,  ,     .       .     - ,         ,     ,       ,       -.  ,            . </p><br><p>          .    -  ,     : </p><br><p> <strong><abbr title="Keep It Simple Stupid,  Keep It Simple, Stupid  ,     ">KISS</abbr></strong> ‚Äî  .     .    .         ,          ,       .  ,     ,   . </p><br><p> , ,     Actor    .      ,       ‚Äî   ,   -         .      ,       . </p><br><p> <strong><abbr title="You aren't gonna need it">YAGNI</abbr></strong> ‚Äî    . -   , ,     ¬´ ¬ª,  ,   -          .  ,        .   ¬´ ¬ª  -   .   ,    ,     .   ,     ,    . </p><br><p> ,      OC/P      .    50  .   ,  ,      -.    50          ,       .    ,   - . </p><br><p>      ? ,    ,  ¬´  ¬ª,  .   ¬´ ¬ª     ,        . </p><br><p>     ,    SOLID   . <strong><em>,  .</em></strong> </p><br><h2>   </h2><br><p>  ,      .       ,      -,    ,   .    ,   . </p><br><ul><li> ¬´Code Complete¬ª . ,    ¬´ ¬ª    - . </li><li> ¬´Clean Code¬ª  .    ¬´Clean Architecture¬ª. </li><li> ¬´Agile Principles, Patterns and Practices in C#¬ª    .   SOLID    .  ,  language-agnostic. </li></ul><br><h2>  PS </h2><br><p> ,      .  ,        ,       .  :   !   ,      ,   language-agnostic    . </p><br><p> ,  language-agnostic.    NEPL,     : ,  ,    ,    .    ,   ,     . </p><br><p>   ,      .    ,         ,     .     : </p><br><p>     ,     , , .  ,       ,     .    ,        .      : <strong>   ,    .</strong> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt446816/">https://habr.com/ru/post/pt446816/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt446802/index.html">Cartuchos de recarga - √â interessante</a></li>
<li><a href="../pt446806/index.html">Antecedentes: "Runet Aut√¥nomo" - o que √© e quem precisa</a></li>
<li><a href="../pt446808/index.html">Meu compilador para Lisp</a></li>
<li><a href="../pt446810/index.html">Se voc√™ tem um ma√ßo de cigarros no bolso ...</a></li>
<li><a href="../pt446812/index.html">Mobilidade e respeito pelo meio ambiente: como os tr√≥lebus modernos podem andar sem carros</a></li>
<li><a href="../pt446818/index.html">V√™nus, a Lua, daqui em diante em todos os lugares: uma entrevista com Pavel Shubin</a></li>
<li><a href="../pt446820/index.html">Webinar - Autentica√ß√£o e ES em ambientes VDI usando thin clients Dell e dongles JaCarta</a></li>
<li><a href="../pt446822/index.html">Como substituir uma l√¢mpada no local de trabalho para que voc√™ n√£o seja demitido?</a></li>
<li><a href="../pt446828/index.html">Hist√≥ria dos toca-fitas sovi√©ticos: decks estacion√°rios Wilma - pl√°gio criativo, inova√ß√£o e o diabo nos detalhes</a></li>
<li><a href="../pt446832/index.html">Dois estudantes tra√≠ram a Apple por US $ 1 milh√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>