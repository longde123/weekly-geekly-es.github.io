<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÉ üëäüèæ üç≥ Codec AV1 Next Generation: Filtro de Corre√ß√£o Direcional CDEF üõÇ üîÑ üìø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Postado por Monty (monty@xiph.org, cmontgomery@mozilla.com). Publicado 28 de junho de 2018. 

 Se algu√©m n√£o leu o artigo anterior ... AV1 √© um novo c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Codec AV1 Next Generation: Filtro de Corre√ß√£o Direcional CDEF</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416049/"><img src="https://habrastorage.org/getpro/habr/post_images/d56/c00/8cf/d56c008cf1e5fd3a74830589173ff01d.png"><br><br>  <b><font color="gray">Postado por Monty (monty@xiph.org, cmontgomery@mozilla.com).</font></b>  <b><font color="gray">Publicado 28 de junho de 2018.</font></b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fdf/c0d/bb1/fdfc0dbb1903a29218bbe7589db840f1.png" align="left">  Se algu√©m n√£o leu o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo anterior</a> ... AV1 √© um novo codec de v√≠deo universal desenvolvido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pela</a> Alliance for Open Media.  A alian√ßa tomou como base o codec VPX do Google, Thor da Cisco e Daala da Mozilla / Xiph.Org.  O codec AV1 tem desempenho superior ao VP9 e HEVC, o que o torna um codec n√£o amanh√£, mas depois de amanh√£.  O formato AV1 √© isento de royalties e permanecer√° para sempre com uma licen√ßa de licenciamento. <br><br>  <i>Este artigo foi concebido como o segundo de uma s√©rie de artigos que descrevem em detalhes a funcionalidade do AV1 e as novas tecnologias subjacentes a ele e que s√£o usadas pela primeira vez na produ√ß√£o.</i>  <i>Um artigo anterior no Xiph.org explicou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a fun√ß√£o de previs√£o de brilho do Chroma da Luma (CfL)</a> .</i>  <i>Hoje vamos falar sobre um filtro de corre√ß√£o direcional limitado (filtro de aprimoramento direcional restrito).</i>  <i>Se voc√™ sempre se perguntou o que √© necess√°rio para escrever um codec, aperte o cinto de seguran√ßa e prepare-se para a educa√ß√£o!</i> <br><a name="habracut"></a><br><h1>  Filtros no AV1 </h1><br>  Em quase todos os codecs de v√≠deo, os filtros corretivos s√£o usados ‚Äã‚Äãpara melhorar a qualidade subjetiva do material de sa√≠da. <br><br>  Por "filtros corretivos", quero dizer m√©todos que n√£o codificam necessariamente as informa√ß√µes da imagem ou melhoram a efici√™ncia da codifica√ß√£o objetiva, mas melhoram o resultado de alguma maneira.  Os filtros corretivos devem ser usados ‚Äã‚Äãcom cuidado, porque geralmente perdem algumas informa√ß√µes - e, por esse motivo, √†s vezes s√£o considerados um m√©todo inaceit√°vel de trapa√ßa, para que o resultado pare√ßa melhor do que realmente √©. <br><br>  Mas isso n√£o √© justo.  Os filtros de corre√ß√£o s√£o projetados para contornar ou eliminar artefatos espec√≠ficos que s√£o invis√≠veis √†s m√©tricas objetivas, mas √≥bvias aos olhos humanos.  E mesmo se considerarmos os filtros como uma forma de enganar, um bom codec de v√≠deo ainda precisa de todos os truques pr√°ticos e eficazes que ele pode usar. <br><br>  Os filtros s√£o divididos em v√°rias categorias.  Primeiro, eles podem ser <b>normativos</b> ou <b>n√£o normativos</b> .  O filtro normativo √© uma parte necess√°ria do codec;  sem ele, √© imposs√≠vel decodificar o v√≠deo corretamente.  Filtro n√£o padronizado √© opcional. <br><br>  Em segundo lugar, os filtros diferem no local de aplica√ß√£o.  Existem filtros de <b>pr√©-processamento</b> (pr√©-processamento) aplicados aos dados de entrada antes da codifica√ß√£o, filtros de <b>p√≥s-processamento</b> (p√≥s-processamento) aplicados aos dados de sa√≠da ap√≥s a conclus√£o da decodifica√ß√£o, bem como filtros in-loop, filtros de loop integrados ao processo de codifica√ß√£o.  Os filtros de pr√©-processamento e p√≥s-processamento geralmente n√£o s√£o padr√£o e n√£o ser√£o inclu√≠dos no codec.  E os filtros de loop s√£o normativos por defini√ß√£o.  Isso faz parte do codec;  eles s√£o usados ‚Äã‚Äãno processo de otimiza√ß√£o da codifica√ß√£o e s√£o aplicados a quadros de refer√™ncia ou para codifica√ß√£o entre quadros. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b85/434/de7/b85434de7b20d5aaca6de32b074d6da3.png"><br><br>  O AV1 usa tr√™s filtros corretivos regulat√≥rios.  O primeiro √© um filtro de desbloqueio para remover o "bloqueio" - artefatos √≥bvios ao longo das bordas dos blocos codificados.  Embora o DCT seja relativamente adequado para comprimir energia em imagens naturais, ele ainda tende a acumular erros nas bordas dos blocos.  Se voc√™ se lembra, a elimina√ß√£o desses artefatos foi a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">principal raz√£o pela qual a Daala usou a</a> transforma√ß√£o lapidada.  Mas o AV1 √© um codec mais tradicional com limites de bloco restritos.  Como resultado, um filtro de desbloqueio tradicional √© necess√°rio aqui para suavizar os artefatos nas bordas dos blocos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e14/07e/524/e1407e52496117647c0aa95e5e458b4a.png"><br>  <i><font color="gray">Um exemplo de artefato nos limites do bloco no codec de bloco DCT tradicional.</font></i>  <i><font color="gray">Esses erros s√£o especialmente vis√≠veis.</font></i> <br><br>  O √∫ltimo dos tr√™s filtros √© o filtro de restaura√ß√£o de loop.  √â composto por dois filtros configur√°veis ‚Äã‚Äãe substitu√≠veis: o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">filtro Wiener</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">filtro</a> auto-guiado.  Esses s√£o dois filtros convolucionais que tentam criar um kernel para restaurar parcialmente a qualidade perdida da imagem de entrada original.  Eles geralmente s√£o usados ‚Äã‚Äãpara redu√ß√£o e / ou corre√ß√£o de ru√≠do nas bordas dos blocos.  No caso do AV1, eles executam uma tarefa geral de redu√ß√£o de ru√≠do, removendo o ru√≠do DCT base atrav√©s de desfoque ajust√°vel. <br><br>  Entre eles, h√° um <b>filtro de corre√ß√£o direcional limitado</b> (Filtro de aprimoramento <b>direcional restrito</b> , CDEF), sobre o qual falaremos.  Como o filtro de loopback, ele remove artefatos e ru√≠dos de base nas juntas, mas, diferentemente do filtro de loopback, √© um filtro direcional.  Diferentemente da maioria dos filtros, ele n√£o se aplica a tudo em uma linha, mas localiza especificamente os limites do bloco.  Portanto, o CDEF √© especialmente interessante: √© o primeiro filtro direcional pr√°tico e √∫til usado na codifica√ß√£o de v√≠deo. <br><br><h1>  Estrada longa e sinuosa </h1><br>  A hist√≥ria do CDEF n√£o se desenvolveu facilmente.  Este √© um longo caminho com curvas, caminhos laterais e becos sem sa√≠da.  O CDEF re√∫ne v√°rios trabalhos de pesquisa, cada um dos quais forneceu uma id√©ia ou inspira√ß√£o para o filtro final no AV1. <br><br>  O objetivo de transformar blocos de dados de pixel usando transforma√ß√µes do tipo DCT e DCT √© representar um bloco de pixels com o menor n√∫mero poss√≠vel de n√∫meros.  O DCT comprime a energia razoavelmente bem na maioria das imagens, o que significa que tende a coletar padr√µes de pixels dispersos em apenas alguns fatores importantes de sa√≠da. <br><br>  Mas h√° exce√ß√µes √† efici√™ncia de compacta√ß√£o do DCT.  Por exemplo, o DCT n√£o converte bordas ou padr√µes direcionais muito bem.  Se voc√™ observar a sa√≠da DCT de uma borda diagonal afiada, os coeficientes de sa√≠da tamb√©m formar√£o ... uma diagonal afiada!  Difere ap√≥s a convers√£o, mas ainda est√° presente na imagem, embora geralmente em uma forma mais complexa do que no in√≠cio.  A compress√£o est√° baixa! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/684/ae1/3c7/684ae13c76dd58404f4a66ad1f66460f.png"><br>  <i><font color="gray">Limites n√≠tidos s√£o um problema tradicional para codecs baseados em DCT, pois eles n√£o s√£o muito compactados, se √© que existem.</font></i>  <i><font color="gray">Aqui vemos uma borda n√≠tida (esquerda) e os coeficientes de transforma√ß√£o DCT (direita).</font></i>  <i><font color="gray">A energia do limite inicial se propaga atrav√©s do DCT para o padr√£o de ondula√ß√µes direcionais.</font></i> <br><br>  Nas √∫ltimas duas d√©cadas, a pesquisa de codecs de v√≠deo cada vez mais analisou transforma√ß√µes, filtros e m√©todos de previs√£o, que s√£o essencialmente direcionais.  Os pesquisadores est√£o procurando uma maneira de lidar melhor com essas fronteiras e padr√µes para corrigir essa limita√ß√£o fundamental da DCT. <br><br><h1>  Preditores direcionais cl√°ssicos </h1><br>  A intra-previs√£o direcional √© provavelmente um dos m√©todos mais famosos de a√ß√£o direcional nos codecs de v√≠deo modernos.  Todos est√£o familiarizados com os modos de previs√£o direcional h.264 e VP9, ‚Äã‚Äãnos quais o codec transfere a previs√£o de um padr√£o espec√≠fico para um novo bloco com base nos pixels adjacentes dos blocos j√° decodificados.  O objetivo √© remover (ou reduzir significativamente) a energia em arestas duras e direcionadas <i>antes de</i> converter o bloco.  Ao prever e remover recursos que n√£o podem ser compactados, aumentamos a efici√™ncia geral do codec. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/55f/fa9/836/55ffa9836a87d7c73adc7e20210b5b89.png"><br>  <i><font color="gray">Ilustra√ß√£o dos modos de previs√£o direcional no AVC / H.264 para blocos 4x4.</font></i>  <i><font color="gray">O preditor expande os valores das tiras de pixel √∫nico dos pixels vizinhos, transferindo-os para o bloco previsto em uma das oito dire√ß√µes, al√©m de um modo de m√©dia para previs√£o simples de DC</font></i> <br><br>  Uma id√©ia ainda mais antiga √© a compensa√ß√£o de movimento.  Essa tamb√©m √© uma forma de previs√£o direcional, embora raramente pensemos dessa maneira.  Esse modo muda os blocos em determinadas dire√ß√µes, novamente para prever e extrair energia antes da execu√ß√£o do DCT.  Esse deslocamento do bloco √© direcional e filtrado.  Assim como a predi√ß√£o direcional, ela aplica filtros de superamostragem cuidadosamente constru√≠dos se o deslocamento n√£o for um n√∫mero inteiro de pixels. <br><br><h1>  Filtros direcionais </h1><br>  Como observado anteriormente, os codecs de v√≠deo aplicam ativamente filtros para remover artefatos e ru√≠dos de blocos.  Embora os filtros sejam aplicados no plano 2D, eles geralmente funcionam em 1D, ou seja, s√£o executados horizontal e verticalmente separadamente. <br><br>  A filtragem direcional aciona os filtros em dire√ß√µes diferentes da horizontal e vertical.  Esse m√©todo j√° √© comum no processamento de imagens est√°ticas, onde filtros de redu√ß√£o de ru√≠do e sobreposi√ß√µes de efeitos especiais geralmente levam em conta limites e dire√ß√µes.  Mas esses filtros direcionais geralmente s√£o baseados na filtragem da sa√≠da de transforma√ß√µes direcionais.  Por exemplo, os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">filtros de redu√ß√£o de ru√≠do</a> [ligeiramente obsoletos] sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">os quais escrevi s√£o</a> baseados em uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√°rvore dupla de wavelets complexas</a> . <br><br>  Mas para a codifica√ß√£o de v√≠deo, estamos mais interessados ‚Äã‚Äãem filtros direcionais, que s√£o aplicados diretamente em pixels em uma determinada dire√ß√£o, em vez de filtrar o dom√≠nio da frequ√™ncia na sa√≠da de uma convers√£o direcional.  Assim que voc√™ tentar criar uma fera assim, a Grande Quest√£o surgir√° rapidamente: como formalizar uma certa dire√ß√£o que n√£o seja horizontal e vertical, quando as posi√ß√µes do filtro n√£o est√£o mais ligadas aos pixels da grade? <br><br>  Uma op√ß√£o √© usar a abordagem cl√°ssica usada no processamento de imagem de alta qualidade: transformar o n√∫cleo do filtro e provar novamente (redimensionar) o espa√ßo em pixels, conforme necess√°rio.  Voc√™ pode at√© argumentar que esta √© a √∫nica resposta "correta" ou "completa".  √â usado na compensa√ß√£o do movimento do subpixel, onde √© imposs√≠vel obter um bom resultado sem uma nova amostragem, bem como na previs√£o direcional, onde geralmente √© usada uma aproxima√ß√£o r√°pida. <br><br>  No entanto, mesmo uma aproxima√ß√£o r√°pida √© cara em termos de recursos computacionais, se aplicada universalmente, por isso √© aconselh√°vel evitar a re-amostragem, se poss√≠vel.  O pre√ßo caro da velocidade √© uma das raz√µes pelas quais os filtros direcionais ainda n√£o foram aplicados na codifica√ß√£o de v√≠deo. <br><br><h1>  Transforma√ß√µes direcionais </h1><br>  Convers√µes direcionais tentam corrigir problemas de DCT com compacta√ß√£o de borda de bloco no n√≠vel da pr√≥pria transforma√ß√£o. <br><br>  As experi√™ncias nessa √°rea se enquadram em duas categorias.  H√° transforma√ß√µes que usam bases essencialmente direcionais, como wavelets direcionais.  Como regra, eles s√£o propensos a convers√£o excessiva / excesso de completude, ou seja, eles produzem mais sa√≠da do que recebem na entrada: geralmente muito mais.  √â como trabalhar na dire√ß√£o oposta, porque queremos <i>reduzir a</i> quantidade de dados, n√£o aument√°-la!  Mas essas convers√µes ainda comprimem energia, e o codificador ainda seleciona um pequeno subconjunto da sa√≠da para codifica√ß√£o; portanto, na realidade, existem algumas diferen√ßas em rela√ß√£o √† codifica√ß√£o DCT com perda usual.  No entanto, as convers√µes "sobrecarregadas" geralmente exigem uma quantidade excessiva de mem√≥ria e recursos de computa√ß√£o e, portanto, n√£o s√£o usadas em codecs de v√≠deo populares. <br><br>  A segunda categoria de convers√µes direcionais realiza transforma√ß√µes regulares n√£o direcionadas, como o DCT - e as modifica, afetando a entrada ou a sa√≠da.  As altera√ß√µes podem ser realizadas na forma de amostragem repetida, multiplica√ß√£o de matrizes (que pode ser considerada uma forma especializada de amostragem repetida) ou malabarismo com a ordem dos dados de entrada. <br><br>  <b>Essa √∫ltima id√©ia √© a mais forte, porque o m√©todo funciona rapidamente.</b>  Uma permuta√ß√£o simples de n√∫meros n√£o requer c√°lculos matem√°ticos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/905/a6b/ba8/905a6bba85a135c2e7d0d7b0018571d7.png"><br>  <i><font color="gray">Dois exemplos de transforma√ß√µes em diferentes dire√ß√µes, reorganizando pixels e coeficientes, em vez de um re-filtro.</font></i>  <i><font color="gray">Um exemplo √© retirado da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pesquisa de transforma√ß√µes direcionais em codifica√ß√£o de imagens</a> , Jicheng Xu, Bing Zeng, Feng Wu</font></i> <br><br>  A implementa√ß√£o √© complicada por v√°rias dificuldades pr√°ticas.  A reorienta√ß√£o do quadrado fornece uma aresta diagonal com linhas predominantemente verticais ou horizontais, o que leva a uma matriz n√£o quadrada de n√∫meros como entrada.  Conceitualmente, isso n√£o √© um problema.  Como voc√™ pode come√ßar a transformar linhas e colunas independentemente uma da outra, simplesmente usamos tamanhos diferentes de 1D DCT para cada linha e coluna, conforme mostrado na figura acima.  Mas, na pr√°tica, isso significa que precisaremos de fatora√ß√£o DCT diferente para cada comprimento de coluna poss√≠vel - e assim que o departamento de desenvolvimento de hardware entender isso, voc√™ ser√° expulso da janela. <br><br>  Existem outras maneiras de processar √°reas n√£o quadradas ap√≥s o rearranjo.Voc√™ pode criar esquemas de reamostragem que salvam o quadrado de entrada ou funcionam apenas na sa√≠da.  A maioria dos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigos sobre convers√£o direcional listados abaixo</a> oferece esquemas diferentes para isso. <br><br>  E √© a√≠ que a hist√≥ria das transforma√ß√µes direcionadas termina essencialmente.  Assim que voc√™ contorna v√°rias complica√ß√µes das convers√µes direcionais e cria um filtro real, normalmente ele n√£o funciona em um codec moderno por um motivo inesperado: devido √† concorr√™ncia com um tamanho de bloco vari√°vel.  Ou seja, em um codec com um tamanho fixo de bloco, a adi√ß√£o de transforma√ß√µes direcionais fornece um aumento impressionante na efici√™ncia.  E um tamanho de bloco vari√°vel por si s√≥ oferece benef√≠cios ainda maiores.  Mas combinar um tamanho de bloco vari√°vel e transforma√ß√µes direcionais leva a um resultado pior do que usar cada um desses m√©todos individualmente.  O tamanho do bloco vari√°vel j√° eliminou as redund√¢ncias que s√£o usadas pelas transforma√ß√µes direcionais e at√© o tornou mais eficiente. <br><br>  Nathan Egge e eu experimentamos muitas transforma√ß√µes direcionais ao desenvolver o Daala.  Examinei o problema no lado de entrada e no lado de sa√≠da, usando multiplica√ß√µes esparsas de matriz para converter bordas diagonais em posi√ß√£o vertical / horizontal na sa√≠da.  Nathan testou abordagens conhecidas para transforma√ß√µes direcionais reconstruindo dados de entrada.  Chegamos a uma conclus√£o: a complexidade adicional n√£o oferece benef√≠cios objetivos ou subjetivos. <br><br>  O uso de transforma√ß√µes direcionais no Daala (e em outros codecs) pode ser um erro, mas a pesquisa levantou uma quest√£o mencionada anteriormente: como filtrar rapidamente ao longo das fronteiras sem re-amostragem dispendiosa?  Resposta: n√£o h√° necessidade de voltar a amostrar.  Aumente o zoom movendo o pixel inteiro mais pr√≥ximo.  Aumente o zoom no kernel transformado, rearranjando literal ou conceitualmente os pixels.  Essa abordagem leva a alguma distor√ß√£o (aliasing), mas funciona <i>muito bem</i> e <i>r√°pido o suficiente</i> . <br><br><h1>  Preditores Direcionais, Parte 2: Cr√¥nicas de Daala </h1><br>  A hist√≥ria do CDEF no codec Daala come√ßou com tentativas de fazer algo completamente diferente: a intradi√ß√£o direcional entediante usual.  Ou pelo menos algo normal para o codec Daala. <br><br>  Escrevi sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esquema intra-predi√ß√£o de Daala no dom√≠nio da frequ√™ncia</a> quando est√°vamos come√ßando a trabalhar nele.  A matem√°tica aqui est√° funcionando bastante;  n√£o h√° raz√£o para se preocupar.  No entanto, a implementa√ß√£o ing√™nua exigiu um grande n√∫mero de multiplica√ß√µes de matrizes, o que era muito caro para o codec em produ√ß√£o.  Esper√°vamos que a carga computacional pudesse ser reduzida em uma ordem de magnitude devido √† rarefa√ß√£o - elimina√ß√£o de elementos da matriz que n√£o contribu√≠ram muito para a previs√£o. <br><br>  Mas o desbaste n√£o funciona como gostar√≠amos.  Pelo menos quando o implementamos, ele perdeu muita informa√ß√£o, tornando a t√©cnica inadequada na pr√°tica. <br><br>  Obviamente, Daala ainda precisava de alguma forma de predi√ß√£o interna, e Jean-Marc Valin teve uma id√©ia: um codec de previs√£o aut√¥nomo que funciona no dom√≠nio espacial paralelo ao codec Daala no dom√≠nio da frequ√™ncia.  Como um tipo de simbionte, trabalhando em conjunto, mas n√£o dependente do Daala, n√£o se limita aos requisitos do Daala para o dom√≠nio da frequ√™ncia.  Foi assim que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Intra Paint</a> surgiu. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b91/f2e/4c4/b91f2e4c441094b6057778626c7bcd3c.jpg"></a> <br>  <i><font color="gray">Um exemplo do algoritmo de previs√£o do Intra Paint em uma <a href="">fotografia de Sydney Harbour</a> .</font></i>  <i><font color="gray">A sa√≠da visual √© claramente direcional, se encaixa bem com os limites dos blocos e os recursos da imagem original, criando um bom resultado (talvez um pouco estranho) com limites claros</font></i> <br><br>  O filtro Intra Paint funcionou de uma nova maneira: codificou vetores unidimensionais apenas ao longo dos limites dos blocos e, em seguida, executou o modelo na dire√ß√£o selecionada.  √â como pulverizar tinta e depois espalh√°-la em diferentes dire√ß√µes em √°reas abertas. <br><br>  O Intra Paint parecia promissor e, por si s√≥, produziu resultados surpreendentemente belos, mas, novamente, mostrou-se insuficientemente eficaz para funcionar como um intra-preditor padr√£o.  Apenas n√£o recebeu bits suficientes para codificar suas pr√≥prias informa√ß√µes. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/a61/1c2/ce3/a611c2ce30931494eda138da56e3d715.jpg"></a> <br>  <i><font color="gray">A diferen√ßa entre a fotografia original do porto de Sydney e o resultado do Intra Paint.</font></i>  <i><font color="gray">Apesar da emiss√£o visualmente agrad√°vel do Intra Paint, objetivamente, ele n√£o pode ser chamado de um preditor altamente preciso.</font></i>  <i><font color="gray">A diferen√ßa √© bastante significativa mesmo em muitas fronteiras que pareciam bem criadas</font></i> <br><br>  O "fracasso" do Intra Paint nos levou a outra id√©ia.  Embora esse "desenho" n√£o seja objetivamente um bom preditor, mas subjetivamente, na maioria das vezes, parece bom.  Talvez use o m√©todo "mancha de tinta" como um filtro de p√≥s-processamento para melhorar a qualidade visual subjetiva?  O Intra Paint segue muito bem as bordas afiadas e, portanto, deve potencialmente eliminar o ru√≠do que se acumula nas bordas mais n√≠tidas.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A partir dessa id√©ia, nasceu o filtro Paint-Dering original em Daala, o que acabou levando ao pr√≥prio CDEF. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° outra coisa interessante na previs√£o direcional, embora atualmente esse seja um beco sem sa√≠da na codifica√ß√£o de v√≠deo. David Shlif implementa um interessante filtro de busca / borda / dire√ß√£o chamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interpola√ß√£o Direcionada por Borda</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(EDI). </font><font style="vertical-align: inherit;">Outros codecs (como a s√©rie VPx e, em algum momento, o AV1) experimentaram quadros de refer√™ncia reduzidos para economizar bits de codifica√ß√£o e aumentar a resolu√ß√£o. </font><font style="vertical-align: inherit;">Esper√°vamos que, com maior resolu√ß√£o, a interpola√ß√£o EDI significativamente melhorada melhorasse a t√©cnica a ponto de ser √∫til. </font><font style="vertical-align: inherit;">Tamb√©m esper√°vamos usar o EDI como um filtro de interpola√ß√£o de sub-pixel aprimorado para compensar o movimento. </font><font style="vertical-align: inherit;">Infelizmente, essas id√©ias continuaram sendo um sonho n√£o realizado.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Furos de preenchimento, mesclagem de ramos </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No momento, descrevi todos os pr√©-requisitos b√°sicos necess√°rios para abordar o CDEF, mas, na realidade, continuamos a passear no deserto. O Intra Paint gerou o filtro Daala Paint-Dering original, que usava o algoritmo Intra-Paint como um p√≥s-filtro para eliminar artefatos. Acabou sendo muito lento para usar em um codec real. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, levamos em conta as li√ß√µes do Intra Paint e abandonamos os experimentos nessa dire√ß√£o. A Daala pegou emprestado o CLPF de Thor por um tempo e, em seguida, Jean-Marc criou outro filtro Deringing, muito mais r√°pido, para a Daala, com base na pesquisa de dire√ß√µes dos limites do Intra-Paint (funcionou r√°pida e bem), bem como no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtro de Substitui√ß√£o Condicional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, filtro de substitui√ß√£o condicional. O CRF foi criado de algum modo com as id√©ias de um filtro mediano e produziu resultados semelhantes a um filtro bilateral, mas funcionou essencialmente em vetores e, portanto, muito mais r√°pido. </font><i><font color="gray"><font style="vertical-align: inherit;">Compara√ß√£o de um filtro linear de 7 deriva√ß√µes com um filtro de substitui√ß√£o condicional em um sinal unidimensional ruidoso, em que o ru√≠do imita os efeitos da quantiza√ß√£o no sinal original O</font></font></i><font style="vertical-align: inherit;"> filtro final de redu√ß√£o de ru√≠do Daala usa dois filtros CRF unidimensionais, um filtro de 7 deriva√ß√µes na dire√ß√£o dos limites e um filtro de 5 deriva√ß√µes fraco. Ambos os filtros funcionam apenas em pixels inteiros sem nova amostragem. Aqui, o filtro de redu√ß√£o de ru√≠do da Daala se torna muito semelhante ao que conhecemos agora como CDEF.</font></font><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/17c/afc/5e7/17cafc5e7f055b0fbe2be90a6f266297.png"></a> <br> <i><font color="gray"><font style="vertical-align: inherit;"></font></font></i> <br><br><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recentemente, propusemos o Daala como o codec AOM, e esse filtro intermedi√°rio tornou-se um experimento AV1 daala_dering. </font><font style="vertical-align: inherit;">A Cisco tamb√©m introduziu seu filtro de redu√ß√£o de ru√≠do, o filtro restrito de passa-baixo (CLPF) do codec Thor. </font><font style="vertical-align: inherit;">Por um tempo, ambos os filtros existiram em paralelo na montagem experimental AV1: eles poderiam ser inclu√≠dos individualmente ou at√© juntos. </font><font style="vertical-align: inherit;">Gra√ßas a isso, em seu trabalho foi poss√≠vel perceber sinergias √∫teis, bem como semelhan√ßas adicionais de filtros em diferentes etapas do trabalho. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ent√£o, finalmente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chegamos ao CDEF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : o filtro </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">CLPF</font></a><font style="vertical-align: inherit;"> da Cisco e a segunda vers√£o do filtro de redu√ß√£o de ru√≠do Daala se fundiram em um filtro de redu√ß√£o de ru√≠do de alto desempenho, levando em considera√ß√£o a dire√ß√£o dos limites.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CDEF moderno </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O filtro CDEF √© simples e muito semelhante aos nossos filtros anteriores. </font><font style="vertical-align: inherit;">Consiste em tr√™s partes (pesquisa direcional, filtro de substitui√ß√£o limitada / passa-baixo e posicionamento das marcas de co-pixel) que usamos anteriormente. </font><font style="vertical-align: inherit;">Dado o longo hist√≥rico, olhando para o CDEF finalizado, voc√™ pode perguntar: ‚ÄúIsso √© tudo? </font><font style="vertical-align: inherit;">Onde est√° o resto? </font><font style="vertical-align: inherit;">CDEF √© um exemplo de como obter um efeito √∫til devido √† implementa√ß√£o correta de pe√ßas, e n√£o devido √† complexidade. </font><font style="vertical-align: inherit;">Um filtro simples e eficaz √© o que deveria ser.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dire√ß√£o da pesquisa </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O CDEF trabalha em uma determinada dire√ß√£o, ent√£o voc√™ precisa defini-lo. </font><font style="vertical-align: inherit;">O algoritmo √© o mesmo que o Intra Paint e o Paint-Dering. </font><font style="vertical-align: inherit;">Existem oito dire√ß√µes poss√≠veis. </font><i><font color="gray"><font style="vertical-align: inherit;">Oito dire√ß√µes poss√≠veis para um filtro CDEF. </font></font></i><i><font color="gray"><font style="vertical-align: inherit;">As linhas numeradas em cada bloco de dire√ß√£o correspondem ao par√¢metro 'k' na busca de dire√ß√£o</font></font></i></font><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b6f/15d/dcd/b6f15ddcddd3d41a382a821e7a7bfc22.png"></a> <br> <i><font color="gray"><font style="vertical-align: inherit;"></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Determinamos a dire√ß√£o do filtro criando variantes ‚Äúdirecionais‚Äù do bloco de entrada, uma para cada dire√ß√£o, onde todos os pixels ao longo da linha na dire√ß√£o selecionada s√£o trazidos para o mesmo valor. Em seguida, escolhemos a dire√ß√£o em que o resultado mais se aproxima do bloco de origem. Ou seja, para cada dire√ß√£o d, encontramos primeiro o valor m√©dio do pixel em cada linha k e, em seguida, ao longo de cada linha, resumimos o erro quadr√°tico entre o valor do pixel fornecido e o valor m√©dio dessa linha de pixels.</font></font><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/3da/c57/85f/3dac5785f4b82fc775e2fef721fc7983.png"></a> <br> <i><font color="gray">    d,      .           k   .          k    .      ,   ,      .         /</font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, obtemos o erro quadr√°tico total e o menor erro quadr√°tico comum √© a dire√ß√£o que escolheremos. </font><font style="vertical-align: inherit;">Embora o exemplo acima fa√ßa exatamente isso, na realidade n√£o √© necess√°rio converter o erro quadr√°tico em dispers√£o: em cada dire√ß√£o o mesmo n√∫mero de pixels, ent√£o ambos escolher√£o a mesma resposta. </font><font style="vertical-align: inherit;">Menos computa√ß√£o! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essa √© uma maneira intuitiva e longa de calcular erros direcionais. </font><font style="vertical-align: inherit;">A usinagem pode ser simplificada pela seguinte equa√ß√£o:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/955/f9b/641/955f9b6418973dcbf000cab3ae860d64.png"></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nesta f√≥rmula </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.776ex" height="2.057ex" viewBox="0 -780.1 764.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-45" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi></math></span></span><script type="math/tex" id="MathJax-Element-1"> E </script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.259ex" height="1.817ex" viewBox="-38.5 -520.7 542 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-70" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">p</script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>p</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.389ex" height="2.057ex" viewBox="0 -520.7 1028.5 885.9" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-70" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>p</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-3">x_p</script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> k </script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mo>,</mo><mi>k</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.272ex" height="2.66ex" viewBox="0 -780.1 1839.4 1145.2" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMAIN-2C" x="523" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-6B" x="802" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>d</mi><mo>,</mo><mi>k</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-5">N_{d, k}</script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-6B" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> k </script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.216ex" height="2.057ex" viewBox="0 -780.1 523.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-64" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-7"> d </script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta equa√ß√£o pode ser simplificada na pr√°tica. </font><font style="vertical-align: inherit;">Por exemplo, o primeiro termo √© o mesmo para cada</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.216ex" height="2.057ex" viewBox="0 -780.1 523.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-64" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-8"> d </script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por fim, a implementa√ß√£o do AV1 CDEF atualmente requer 5.875 adi√ß√µes e 1.9375 multiplica√ß√µes por pixel e √© profundamente vetorizada, resultando em um custo total inferior a 8 √ó 8 DCT. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Torneiras de filtro </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O filtro CDEF trabalha pixel por pixel em um bloco completo. </font><font style="vertical-align: inherit;">Dire√ß√£o</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.216ex" height="2.057ex" viewBox="0 -780.1 523.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-64" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> d </script><br><br><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb4/164/aad/bb4164aad02b4985390da15b1b3bea6f.png"></div><br> <i><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A dire√ß√£o dos filtros unidimensionais prim√°rios e secund√°rios em rela√ß√£o √† dire√ß√£o selecionada d. O filtro principal inicia na dire√ß√£o selecionada, os secund√°rios trabalham em um √¢ngulo de 45 ¬∞ com a dire√ß√£o principal. Cada pixel no bloco √© filtrado igualmente.Os</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> filtros funcionam em √¢ngulos que as marcas ideais geralmente caem entre os pixels. Em vez de realizar uma nova amostragem, selecionamos a localiza√ß√£o exata do pixel mais pr√≥ximo, levando em considera√ß√£o o n√∫cleo sim√©trico do filtro.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada etiqueta no filtro tamb√©m tem o mesmo peso. Durante a filtragem, seu valor de entrada √© fornecido √† entrada, a fun√ß√£o de restri√ß√£o √© aplicada, o resultado √© multiplicado pelo peso fixo do r√≥tulo e esse valor de sa√≠da √© adicionado ao pixel filtrado.</font></font><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/6eb/6fa/217/6eb6fa217d0c2f33e6e2687232757e71.png"></a> <br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os locais das marcas prim√°rias e secund√°rias (deriva√ß√µes) e pesos fixos (w) nas dire√ß√µes do filtro. </font><font style="vertical-align: inherit;">Para marcas prim√°rias e valores pares de for√ßa a = 2 eb = 4, enquanto para marcas √≠mpares a = 3 eb = 3. O pixel filtrado √© mostrado em cinza.Na</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pr√°tica, os filtros prim√°rio e secund√°rio n√£o funcionam separadamente, mas s√£o combinados em um n√∫cleo de filtro, que √© realizado em uma etapa.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fun√ß√£o de restri√ß√£o </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O CDEF usa um </font><font style="vertical-align: inherit;">filtro passa-baixo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limitado</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no qual o valor de cada r√≥tulo √© processado </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pela</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fun√ß√£o de restri√ß√£o com o par√¢metro de diferen√ßa entre o valor do r√≥tulo e o pixel filtrado</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>d</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.216ex" height="2.057ex" viewBox="0 -780.1 523.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-64" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>d</mi></math></span></span><script type="math/tex" id="MathJax-Element-10"> d </script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.499ex" height="2.057ex" viewBox="0 -780.1 645.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-53" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">S</script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.924ex" height="2.057ex" viewBox="0 -780.1 828.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-44" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">D</script>  : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/735/f0c/d2d/735f0cd2d0160693b784e59c0c58fce0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A fun√ß√£o de restri√ß√µes foi projetada para reduzir ou abandonar completamente o processamento de pixels que n√£o s√£o muito diferentes dos pixels filtrados. </font><font style="vertical-align: inherit;">No intervalo definido, as diferen√ßas nos valores das marcas do pixel central s√£o completamente levadas em considera√ß√£o (que √© determinada pelo par√¢metro force</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.499ex" height="2.057ex" viewBox="0 -780.1 645.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-53" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">S</script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.499ex" height="2.057ex" viewBox="0 -780.1 645.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-53" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">S</script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.924ex" height="2.057ex" viewBox="0 -780.1 828.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-44" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">D</script><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.924ex" height="2.057ex" viewBox="0 -780.1 828.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-44" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi></math></span></span><script type="math/tex" id="MathJax-Element-16">D</script><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/4f2/97e/e4c/4f297ee4c83fc9e7fa9eb4b280877b97.png"></a> <br> <i><font color="gray"></font></i> <br><br><br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b13/7a8/408/b137a84082c7fa7ef4e18b1e4b685e6e.png"></a> <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>p</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.979ex" height="2.66ex" viewBox="0 -832 1282.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-70" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMAIN-29" x="893" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-17">(p)</script>  e <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>s</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.9ex" height="2.66ex" viewBox="0 -832 1248.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMATHI-73" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/416049/&amp;usg=ALkJrhjL2aVu4KFbHZCg4PICNjErAUWRgg#MJMAIN-29" x="859" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-18">(s)</script><i></i><i></i><br><br><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a><br><br><h1>  Resultados </h1><br>  O CDEF foi projetado para remover ou reduzir o ru√≠do b√°sico e os artefatos de toque nas bordas n√≠tidas de uma imagem sem desfocar ou danificar.  O filtro agora √© usado no AV1 e fornece um efeito sutil, mas consistente.  Talvez no futuro seja poss√≠vel contar ainda mais com o CDEF. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/743/3df/c87/7433dfc87595e78a8054fe7d954c950f.jpg"><br>  <i><font color="gray">Um exemplo de redu√ß√£o de ru√≠do e artefatos ao codificar imagens de <a href="">Frutas</a> .</font></i>  <i><font color="gray">A primeira inser√ß√£o mostra a √°rea sem processamento CDEF, a segunda mostra a mesma √°rea ap√≥s o processamento CDEF</font></i> <br><br>  O valor quantitativo de qualquer filtro corretivo <i>deve ser</i> determinado por testes subjetivos.  As m√©tricas de objetivo n√£o devem ser descontadas, mas o CDEF foi projetado para fornecer um resultado que vai al√©m dos recursos de ferramentas de teste de objetivo primitivo, como PSNR e SSIM. <br><br>  Assim, realizamos v√°rias rodadas de testes subjetivos, primeiro durante o desenvolvimento do CDEF (quando Daala Dering e Thor CLPF ainda eram tecnicamente concorrentes) e, em seguida, realizamos testes mais abrangentes do filtro CDEF combinado.  Como esse √© um novo filtro que est√° completamente ausente nas gera√ß√µes anteriores de codecs, os testes consistiram principalmente no AV1 com CDEF ativado e AV1 sem CDEF. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed2/f03/0ef/ed2f030eff2e6b1dce67a8122b6cbbb2.png"><br>  <i><font color="gray">Resultados de teste subjetivos AV1 A / B com CDEF e AV1 sem CDEF para configura√ß√£o de alta lat√™ncia</font></i> <br><br>  Os resultados subjetivos mostram uma melhora estatisticamente significativa (p &lt;0,05) em tr√™s dos seis clipes.  Como regra, isso corresponde a um aumento na efici√™ncia da codifica√ß√£o em 5-10%.  Esta √© uma grande vit√≥ria para uma ferramenta adicionada a um codec totalmente maduro. <br><br>  Como esperado, o teste objetivo mostrou um aumento mais modesto de cerca de 1%, mas o teste objetivo √© √∫til apenas na medida em que √© consistente com os resultados subjetivos.  O teste subjetivo √© o padr√£o-ouro e os resultados subjetivos s√£o bastante claros. <br><br>  Os testes tamb√©m mostraram que o CDEF tem um desempenho melhor se ferramentas de codec adicionais forem desativadas durante a codifica√ß√£o.  Como as transforma√ß√µes direcionais, o CDEF concorre por benef√≠cios com outros m√©todos AV1 mais complexos.  Como o CDEF √© um filtro simples, pequeno e r√°pido, ele pode ser usado no futuro para reduzir a complexidade dos codificadores AV1.  Em termos de complexidade do decodificador, o CDEF representa 3% a 10% do decodificador AV1, dependendo da configura√ß√£o. <br><br><a name="1"></a><h1>  Recursos Adicionais </h1><br><ol><li>  Xiph.Org <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">su√≠tes de teste derf padr√£o</a> em media.xiph.org </li><li>  Sistema de teste automatizado e m√©tricas usadas no desenvolvimento do Daala e AV1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"J√° estamos compactados?"</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filtro de aprimoramento direcional restrito (CDEF) no AV1</a> .  Steinar Midtskogen, Jean-Marc Valin, outubro de 2017 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Slides de apresenta√ß√£o do CDEF para ICASSP 2018</a> , Steinar Midtskogen, Jean-Marc Valin </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filtro anti-derrapante para Daala e desenvolvimento adicional</a> .  Jean-Marc Valin.  O filtro de redu√ß√£o de ru√≠do anterior criado ao desenvolver o codec Daala, que foi usado para criar o CDEF no AV1. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Daala: Colorir imagens por divers√£o e bem</a> .  Jean-Marc Valin.  Um filtro de corre√ß√£o ainda mais antigo para a base Intra-Paint, que levou √† cria√ß√£o de um filtro de redu√ß√£o de ru√≠do em Daala, que por sua vez levou ao CDEF </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filtro Deringing Intra Paint</a> .  Jean-Marc Valin, 2015. Notas sobre o filtro de corre√ß√£o de redu√ß√£o de ru√≠do que surgiu no experimento Intra Paint em Daala </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Filtragem de imagem guiada</a> .  Caiming Hye, Jian San, Xiaou Tang, 2013 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transformada de wavelet discreta adaptativa direcional para compacta√ß√£o de imagem</a> .  Chuo-Ling Chang, Bernd Girod, transa√ß√µes do IEEE sobre processamento de imagens, volume 16, n√∫mero 5, maio de 2007 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transforma√ß√µes direcionais adapt√°veis ‚Äã‚Äãpara compartilhamento de imagens</a> .  Chuo-Ling Chang, tese de doutorado na Universidade de Stanford, 2009. Esta disserta√ß√£o fornece uma boa vis√£o geral da √°rea de transforma√ß√µes direcionais a partir de 2009;  Infelizmente, n√£o havia c√≥pias dispon√≠veis online </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Convers√£o de bloqueio adaptativo direcional para codificar uma imagem colorida</a> .  Chuo-Ling Chang, Mina Makar, Sam S. Tsai, Bernd Girod, Transa√ß√µes do IEEE sobre processamento de imagens, Volume 19, N√∫mero 7, N√∫mero 7, Julho de 2010 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DCT baseado em circuito com previs√£o de CC e codifica√ß√£o adaptativa</a> .  Zhibo Chen, Xiaozhong Xu.  O artigo por tr√°s do IEEE </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transforma√ß√µes direcionais adaptativas para previs√£o de codifica√ß√£o residual</a> .  Robert Cohen, Sven Klomp, Anthony Vetro e Huifan Sun.  Anais da 17¬™ Confer√™ncia Internacional IEEE de 2010 sobre Processamento de Imagens, 26 a 29 de setembro de 2010, Hong Kong </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transforma√ß√£o ortogonal de orienta√ß√£o seletiva com sobreposi√ß√£o</a> .  Dietmar Kunz, 2008. Artigo de IEEE </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">An√°lise de distor√ß√£o de velocidade de wavelets direcionais</a> .  Arian Maleki, Boshra Rajay, Hamid Reza Purreza.  Transa√ß√µes IEEE sobre Processamento de Imagens, Volume 21, N√∫mero 2, Fevereiro de 2012 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">An√°lise te√≥rica das tend√™ncias nas tend√™ncias em transforma√ß√µes ortogonais direcionais</a> .  Shogo Murumatsu, Dandan Khan, Tomoya Kobayashi e Hisakazu Kikuchi.  Um artigo por tr√°s do paywall do IEEE.  No entanto, uma vers√£o curta est√° dispon√≠vel gratuitamente. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Uma vis√£o geral das transforma√ß√µes direcionais na codifica√ß√£o de imagens</a> .  Jicheng Xu, Bing Zeng, Feng Wu. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Convers√£o com filtragem direcional para compacta√ß√£o de imagem e informa√ß√µes entre quadros</a> .  Xulian Peng, Jicheng Xu, Feng Wu, transa√ß√£o do IEEE em processamento de imagens, volume 19, n√∫mero 11, novembro de 2010. Artigo por IEEE Firewall </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aproxima√ß√£o e compress√£o usando transforma√ß√µes ortonormais esparsas</a> .  O. G. Sezer, O. G. Guleruz, Yusel Altunbasak, 2008 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Estudo confi√°vel de transforma√ß√µes compartilhadas bidimensionais para codecs de v√≠deo da pr√≥xima gera√ß√£o</a> .  O. G. Cezer, R. Cohen, A. Vetro, mar√ßo de 2011 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Otimiza√ß√£o das articula√ß√µes com base na escassez de um conjunto de transforma√ß√µes de blocos compartilhados bidimensionais ortonormais</a> .  Joel Sole, Peng Yin, Yunfei Zheng, Christina Gomila, 2009. Artigo por IEEE </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Transforma√ß√µes direcionais sobrepostas para codifica√ß√£o de imagens</a> .  Jicheng Xu, Feng Wu, Jie Liang, Wenjun Zhang, transa√ß√µes do IEEE sobre processamento de imagens, abril de 2008 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">As transforma√ß√µes de cosseno discretas direcionais s√£o uma nova estrutura para a codifica√ß√£o de imagens</a> .  Bing Zeng, Jingjing Fu, transa√ß√µes IEEE em circuitos e sistemas para tecnologia de v√≠deo, abril de 2008 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√Årvore dupla de transforma√ß√µes complexas de wavelets</a> .  Ivan Seleznik, Richard Baranyuk, Nick Kingsbury, IEEE Signal Processing Magazine, novembro de 2005 </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416049/">https://habr.com/ru/post/pt416049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416035/index.html">Scanner 3D odontol√≥gico Shining 3D Autoscan DS EX (Unboxing) por 3Dtool</a></li>
<li><a href="../pt416037/index.html">Inicializa√ß√£o do dia (abril a junho de 2018)</a></li>
<li><a href="../pt416043/index.html">Os pa√≠ses em desenvolvimento est√£o cada vez mais explorando o espa√ßo sideral.</a></li>
<li><a href="../pt416045/index.html">No-break SRC1KI da APC Smart-UPS: Confiabilidade acima de tudo</a></li>
<li><a href="../pt416047/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Palestra 2: ‚ÄúControle de ataques de hackers‚Äù, parte 2</a></li>
<li><a href="../pt416051/index.html">Mitap de ver√£o Apache Ignite em Moscou</a></li>
<li><a href="../pt416053/index.html">Modula√ß√£o de amplitude de um sinal arbitr√°rio</a></li>
<li><a href="../pt416055/index.html">Atribui√ß√£o e suporte ao FQDN do servidor 3QX</a></li>
<li><a href="../pt416059/index.html">Mobio conversa com Daniil Shuleiko (Yandex.Taxi) sobre fus√£o com Uber, mercado de t√°xi e concorr√™ncia</a></li>
<li><a href="../pt416061/index.html">Ent√£o, eu vejo tudo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>