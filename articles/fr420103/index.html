<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🔬 ✌🏾 🍫 Les meilleurs anglophones avec HighLoad ++ 2017 😓 ☸️ 🤞🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans la continuité du « débriefing » avec HighLoad ++ 2017, nous avons préparé une brève revue des cinq meilleurs rapports en anglais (selon les parti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Les meilleurs anglophones avec HighLoad ++ 2017</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/420103/">  Dans la continuité du « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">débriefing</a> » avec HighLoad ++ 2017, nous avons préparé une brève revue des cinq meilleurs rapports en anglais (selon les participants à la conférence). <br><br>  Les meilleures notes ont été accordées aux sujets liés à l'utilisation de ProxySQL (dans le TOP 5, il y avait deux rapports sur cet outil), aux tests d'applications dans le cloud public Amazon, ainsi qu'aux principes de la journalisation à l'échelle lorsque cela devient un problème et à la surveillance d'Apache Kafka. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/681/bef/f45/681beff45cc9e9c5157d1a5fcb3464ea.jpg"><br><br><blockquote>  Nous venons de publier des vidéos de tous les rapports de HighLoad ++ 2017 en accès libre.  Une liste complète de 150 rapports sur notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chaîne YouTube</a> dans cette <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">playlist</a> . <br><br>  En plus de cette liste de lecture, la chaîne a plusieurs centaines de vidéos sur les bases de données, les architectures, la mise à l'échelle, les files d'attente, l'apprentissage automatique et d'autres sagesse à haute charge :) </blockquote><a name="habracut"></a><br><h2>  Mesurer la variabillité des performances de EC2 </h2><br>  <i>Henrik Ingo (architecte de solution MongoDB, et maintenant ingénieur en chef de la productivité chez Mongo DB).</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hA58OmktdpQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Le premier rapport, noté par les participants, fait valoir que le cloud public peut en effet être utilisé pour tester leurs propres produits, y compris les tests de charge.  Dans ce cas, le SGBD MongoDB, qui est testé à l'aide du cloud Amazon, était le «expérimental».  Au total, environ 400 000 heures sont consacrées à cette tâche par mois, environ 5% de ce temps ne sont que des tests de performances, dont la tâche principale n'est même pas de fournir une optimisation, et de ne pas permettre un «affaissement» à la suite de certaines améliorations. <br><br>  La question clé de la présentation est de savoir comment obtenir des résultats de test reproductibles dans le cloud public. <br><br>  Le rapport est construit sur le principe de l'analyse des hypothèses.  Dans un premier temps, Henrik Ingo fait des hypothèses sur les facteurs qui devraient influencer le niveau de «bruit» dans les tests (le concept même de «bruit» dans le rapport a une définition très spécifique).  Par exemple, l'équipe de test a suggéré que dans les tests «lourds», le «bruit» principal provient du disque dur, ou que dans le cloud, lors de la distribution des ressources, vous pouvez rencontrer de bonnes (entièrement allouées) ou de mauvaises (partagées avec par quelqu'un) des instances qui affectent les résultats du test. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/266/900/6a0/2669006a06d1ec9c8cba6fba68357970.png"><br><br>  Après cela, les résultats du test de chacune des théories avec une démonstration de quelques dépendances intéressantes sont analysés.  Par exemple, voici un graphique de la dépendance du niveau de «bruit» (dans la terminologie du rapport) à la configuration d'instance sélectionnée: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b3/fa7/0b8/3b3fa70b8fa58b221bf8be904e45ae49.png"><br><br>  Faute d'informations sur les détails de l'infrastructure d'Amazon, le rapport ne répond pas à toutes les questions, ne faisant dans certains cas que des hypothèses, mais il y a quelque chose à penser. <br><br><h2>  Journalisation et diatribes </h2><br>  <i>Vytis Valentinavičius (Lamoda, chef des opérations)</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sP_HVG0zX68" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Le prochain rapport intéressant est la réflexion d'un spécialiste d'une grande boutique en ligne Lamoda sur la journalisation et comment cela devrait être pour que les développeurs, d'une part, reçoivent les données nécessaires dans leur intégralité, et d'autre part, ne se noient pas dans des gigaoctets d'informations entrantes.  Et l'orateur sait de quoi il parle.  Le problème qui a commencé à construire le travail avec les journaux dans Lamoda est la perte de 5% des rapports envoyés par les utilisateurs via UDP (dans certains cas, cette part a atteint 100%).  Cela a sérieusement déformé toutes les métriques qui pouvaient être construites sur leur base. <br><br>  Le rapport explique comment ne pas démêler une telle situation, mais comment l'empêcher, en principe, étant donné que de nombreuses solutions évidentes ont leurs pièges. <br><br>  Vytis Valentinavičius se concentre sur le fait que le journal doit avoir une structure.  Mais en même temps, il ne peut pas être gonflé.  La collecte et le stockage de chaque champ doivent avoir un objectif, car toutes les données collectées sont de l'argent.  Un exemple de Lamoda est 25 000 messages de journal de débogage par seconde (32 To d'informations par semaine, pour lesquels le stockage coûte à lui seul 12 000 $). <br>  De plus, il est important de suivre les événements, pas les erreurs spécifiques.  Ils doivent être agrégés, les métriques identifiées et basées sur leur analyse pour créer des événements plus complexes pour une agrégation future. <br><br>  En plus de considérations théoriques, le rapport décrit certaines des astuces que Lamoda a utilisées dans la production pour travailler avec des grumes. <br><br><h2>  Les mesures ne suffisent pas: surveillance d'Apache Kafka </h2><br>  <i>Gwen Shapira (Confluent, chef de produit)</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ppDxaqpw8Bw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Le prochain rapport concerne la surveillance d'Apache Kafka, ou plutôt, quelles mesures doivent être sélectionnées parmi l'abondance de paramètres disponibles pour l'analyse afin de comprendre l'état du courtier de messages à tout moment. <br><br>  L'oratrice a commencé son histoire par une blague, dans laquelle, comme on dit, il n'y a qu'une fraction de la blague: "Même si vous ne vous souvenez pas du contenu de l'ensemble du rapport, souvenez-vous d'une chose: si Kafka est utilisé dans la production, il doit être surveillé" (bon, l'API correspondante ) <br><br>  Faut-il tout surveiller?  Dépend de la tâche.  C'est d'eux que Gwen Shapira repousse, analysant les métriques recommandées.  L'orateur décrit les cas d'utilisation standard et recommande des paramètres à ajouter au tableau de bord pour répondre à ce qui se passe à l'heure et comment ne pas aggraver la situation.  En particulier, il rappelle encore une fois qu'il n'est pas nécessaire de redémarrer le courtier au premier changement de métrique, car  cela prend beaucoup de temps et parfois (en raison de bugs connus) peut entraîner des conséquences plus graves.  En fin de compte, les métriques ne sont que des données initiales.  Et pour prendre des décisions, il faut avoir des hypothèses basées sur ces données. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/958/dab/db3/958dabdb39f2019f53321768ebff4c26.png"><br><br>  Grâce à la vaste expérience de Gwen Shapira en tant que consultante, toute la présentation est accompagnée d'exemples vivants de la vie. <br><br><h2>  Scénarios d'utilisation de ProxySQL </h2><br>  <i>Alkin Tezuysal (Percona, équipe Global DBA)</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9sTZW7v-RVA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Deux rapports immédiatement, qui, selon les estimations des participants, figuraient dans le TOP 5, concernent ProxySQL, un moyen de proxy de requêtes SQL vers MySQL (et, plus récemment, ClickHouse). <br><br>  Le premier rapport concerne généralement les scénarios d'utilisation de cet outil. <br><br>  ProxySQL est une solution open source, jusqu'à présent, nous n'avons pas rencontré une telle quintessence d'expérience.  Oui, de nombreuses entreprises téléchargent cette solution, mais même le fabricant lui-même ne comprend pas toujours qui l'utilisera et à quelle échelle.  Les scénarios collectés dans ce rapport ont été identifiés à la suite de la communication avec les utilisateurs de ProxySQL et de l'analyse de leurs cas. <br><br>  En général, ProxySQL vous permet de résoudre un grand nombre de tâches, de l'équilibrage de charge et des requêtes de réécriture (qui seront discutées dans le prochain rapport de notre liste), à ​​la file d'attente de requêtes et au chauffage du cache, qui n'est pas dans MySQL.  Chacune des options qu'Alkin Tezuysal analyse en détail, mentionnant les avantages et les inconvénients de la solution, ainsi que les cas particuliers dans lesquels elle peut être utile. <br><br>  Nous ne mentionnons ici que deux exemples concernant l'optimisation de la base de données. <br><br>  Exemple 1 - utilisation de ProxySQL pour réduire le nombre de requêtes pour établir une connexion d'application à la base de données.  L'idée est reflétée graphiquement dans le graphique donné dans le rapport: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd3/903/624/dd39036243f932d1d80d69622506a37f.png"><br><br>  ProxySQL réduit considérablement le nombre de demandes de connexion, en particulier lors de l'utilisation de SSL. <br><br>  Exemple 2 - filtrage des requêtes inutiles (telles que SELECT 1, manifestées dans des applications à grande échelle) qui ralentissent la base de données.  Ici, le résultat est également mieux évalué graphiquement: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47f/361/dfa/47f361dfaffda71c871860b19a98e322.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f1/913/189/1f1913189bb92e69bd29cd191478378a.png"><br><br><h2>  Datamasking peu coûteux pour MySQL avec ProxySQL - Anonymisation des données pour les développeurs </h2><br>  <i>René Cannao (fondateur et propriétaire du produit ProxySQL)</i> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AnRqdSpyUjw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Le deuxième rapport en anglais sur ProxySQL, qui est entré dans le TOP-5, est dédié à la résolution d'un problème très spécifique - le masquage des données. <br><br>  Après une brève introduction à ProxySQL pour ceux qui n'ont pas vu le premier rapport, le conférencier plonge dans les capacités de l'outil en ce qui concerne la résolution d'un problème spécifique - masquer (remplacer par des astérisques) une partie du nom ou remplacer le montant réel des revenus par un faux. <br><br>  Comme le fait remarquer le conférencier, ce problème peut être résolu en utilisant vos propres moyens des mêmes produits MySQL ou tiers.  Parmi les tiers, ProxySQL est loin d'être le seul outil.  Cependant, bien qu'il n'y ait pas de solution idéale sur le marché, ProxySQL n'est pas pire que beaucoup, permettant aux développeurs d'obtenir des données valides pour des tests qui ne contiennent pas de vraies informations personnelles.  De plus, il a du code open source. <br><br>  Si la première histoire sur ProxySQL était plus théorique, alors voici une pratique continue.  Même les règles configurées à l'aide d'expressions régulières sont répertoriées. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c54/c07/1c7/c54c071c781eed7370b21c7f427e7cdf.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/0e7/99a/3ab/0e799a3abda2838bfd92f7e74afda9e8.png"><br><br>  Comme tout outil proxySQL a ses limites.  Cela sera également discuté.  En particulier, ce n'est pas la meilleure approche pour les transformations complexes. <br><br>  Le rapport s'est terminé par une section à part entière de questions et réponses, à partir de laquelle vous pouvez également apprendre beaucoup de choses utiles et intéressantes. <br><br>  Bien sûr, ces cinq anglophones ne sont que la pointe de l'iceberg qui était à HighLoad ++ 2017. Par conséquent, nous rappelons que nous venons de publier des vidéos de tous les rapports de conférence qui peuvent être trouvés dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette liste de lecture</a> . <br><br><blockquote>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HighLoad ++ 2018</a> se tiendra les 8 et 9 novembre à Moscou, à Skolkovo.  Les travaux sur le programme sont déjà en cours, mais le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport</a> peut être <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">soumis</a> avant le 1er septembre. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420103/">https://habr.com/ru/post/fr420103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420093/index.html">GitHub a dévoilé son code d'équilibrage de charge - Comment fonctionne leur solution</a></li>
<li><a href="../fr420095/index.html">Cryptographie asymétrique avec une clé secrète à usage unique: description de l'idée et application possible</a></li>
<li><a href="../fr420097/index.html">Semaine de la sécurité 30: cinq paragraphes sur Black Hat</a></li>
<li><a href="../fr420099/index.html">Création d'un client léger basé sur des PC à carte unique bon marché</a></li>
<li><a href="../fr420101/index.html">9 ans de développement encapsulé - comment l'équipe de projet travaille dans une entreprise de 2500 personnes</a></li>
<li><a href="../fr420105/index.html">Adaptabilité maximale avec un nombre minimum de requêtes multimédias ou méthode d'adaptabilité inverse</a></li>
<li><a href="../fr420107/index.html">Typegram - Zen Blog Platform</a></li>
<li><a href="../fr420109/index.html">Elon Musk a déclaré que la société pourrait être vendue à des investisseurs privés. Ils se sont avérés être un fonds saoudien</a></li>
<li><a href="../fr420111/index.html">De zéro à héros «Actions sur Google»: votre code</a></li>
<li><a href="../fr420113/index.html">La légende du cadre du pouvoir</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>