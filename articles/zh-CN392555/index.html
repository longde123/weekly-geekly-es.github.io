<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👊🏿 🕞 🥃 通过WiFi路由器观看世界 🥓 🤾 💈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="试图用一种完全不同的视角看待世界的故事，以及这最终如何导致创造了一种允许您“看到” WiFi的设备。该过程将使用流行的ESP8266模块。不幸的是，Arduino也不会没有Arduino。
 
 
 N年前，一群来自德国的年轻研究人员描述了仅基于一个传感器的热像仪的概念。该设备的本质如下：使用两个伺...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>通过WiFi路由器观看世界</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/392555/"><img src="https://habrastorage.org/files/ca8/256/56c/ca825656c192477eadd9274c6dc04a2d.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
试图用一种完全不同的视角看待世界的故事，以及这最终如何导致创造了一种允许您“看到” WiFi的设备。</font><font style="vertical-align: inherit;">该过程将使用流行的ESP8266模块。</font><font style="vertical-align: inherit;">不幸的是，Arduino也不会没有Arduino。</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N年前，一群来自德国的年轻研究人员描述了</font><font style="vertical-align: inherit;">仅基于一个传感器</font><font style="vertical-align: inherit;">的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">热像仪</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的概念</font><font style="vertical-align: inherit;">。该设备的本质如下：使用两个伺服器的设计，红外传感器依次垂直和水平对准所需区域，并逐渐扫描图像。这种有趣的解决方案使得大幅降低设备价格，获得有趣的温度分布图像成为可能，例如：</font></font><br>
<img src="https://habrastorage.org/files/2b6/3ac/755/2b63ac75524e4faeaa71d6a03b153ffd.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图像的机械扫描系统-这就是伺服器的设计，这真是一件非常有趣的事情。在构造这样的设备之后，立即出现一个问题-为什么不以其他任何可以使用相同原理可视化例如无线电波的方式替换红外传感器？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
人眼虽然是一个相当复杂的工具，但是却非常有限。我们看到的光的范围是电磁辐射光谱的很小一部分。</font></font><br>
<img src="https://habrastorage.org/files/69b/d24/fc9/69bd24fc9014471f8261476800c48393.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
评估悲剧的严重程度-有关我们周围世界的大多数信息只是对我们隐藏了。当然，扩展自然框架并获得超越自然界的视野的能力将是很棒的。因此，使用机械扫掠系统进行了以下实验。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了测试这项技术，我制作了一个简单的“单像素”相机，该相机在我们熟悉的可见范围内工作。我用中国玩具车的太阳能电池作为传感器：</font></font><br>
<img src="https://habrastorage.org/files/c00/308/440/c00308440ccc4a38a7a3d1d75242df45.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，这种光电管的面积很大，这意味着有必要以某种方式提供狭窄的视野，因此我们将在手电筒上增加一个透镜。我们穿上舵机并连接到Arduino。</font></font><br>
<img src="https://habrastorage.org/files/3c9/b1c/57c/3c9b1c57cdbb4179a68db3c34ea3e841.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
太阳能电池旋转到未来图像的所需区域，然后控制器读取与入射到电池上的光量成比例的信号。当然，这样的相机最终将产生黑白图像。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了使用QT处理扫描结果，实施了一个具有简单界面的程序。 （有关如何在Arduino和Qt之间实现通信的课程可以在</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">youtube</font></a><font style="vertical-align: inherit;">上轻松获得</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">该程序由一对用于手动控制伺服器的按钮和QGraphicsScene字段组成，其中绘制了正方形像素，其颜色取决于特定点处信号的大小。</font><font style="vertical-align: inherit;">使用非常简单-首先，将驱动器手动引导到将来图像的左上角，然后自动扫描构建图像的区域。</font><font style="vertical-align: inherit;">这是所有这些产生的结果：</font></font><br>
<img src="https://habrastorage.org/files/493/a25/5f3/493a255f374f439fbbd6f865d9a2ac02.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此可视化图中描绘了什么？</font><font style="vertical-align: inherit;">当然，如果您的相机是太阳能电池，这是最明显的拍摄对象-这就是太阳。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，电池信号太弱，以致于无法在室内照明下获得足够的图像，因为它已被光敏电阻所取代，手电筒的镜头被一半的剧院双筒望远镜所取代。 </font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接线图</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/a6b/680/417/a6b680417a6347d7a95ca8e3af23f370.jpg"><br>
</div></div><br>
<img src="https://habrastorage.org/files/62b/8c6/b07/62b8c6b073e64fd88417b2a0cc3b667a.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这项发明取得了更大的成功，并且已经可以拍摄或多或少可识别的照片了：</font><font style="vertical-align: inherit;">
道路上的</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
枝形吊灯</font></font><br>
<img src="https://habrastorage.org/files/3ed/a70/796/3eda7079642044c08f4c4660df7a2d20.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机</font></font><br>
<img src="https://habrastorage.org/files/58f/df4/483/58fdf44832be41a489363f0b980e84e6.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
窗户</font><font style="vertical-align: inherit;">上的</font><font style="vertical-align: inherit;">景色</font></font><br>
<img src="https://habrastorage.org/files/d27/027/9ff/d270279ff97b44259b0675db5fc82521.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
甚至天空中的云朵</font></font><br>
<img src="https://habrastorage.org/files/7c0/c57/97f/7c0c5797fc80420299e53b22e8fa02eb.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对这一结果感到满意之后，我决定现在该是时候制成一台成熟的无线电成像仪了，用定向天线代替光敏电阻。</font><font style="vertical-align: inherit;">最合适的范围是微波，因为定向天线不会占用太多空间，并且在我们今天的生活中，有许多设备会在此范围内小心发射。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初，我决定使用汽车雷达探测器中使用的喇叭天线（它们通常在10.525 GHz或24.15 GHz范围内工作）。尝试从这种检测器的电路中隔离与检测到的辐射值成正比的模拟信号是失败的，这可能是由于我的知识不足，可能是因为它根本不存在，因为它是通过比较原理工作的。 （向收集这个奇迹的中国兄弟们问好）。当然，我想拉出天线本身并自己制造一些东西，但是我并没有为此而破坏好的设备。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我想到的第二件事是根据业余无线电门户网站上大量发现的一种方案来构建一个场检测器，并在其上附加一个自制的定向天线，例如，非常受欢迎且生产起来很简单的Harchenko biquadrat。但事实证明，最重要的元素-微波检测器二极管很难找到，容易丢失，而且通常要花很多钱，因此我不得不长时间寻找正确的零件。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一段时间后，我设法从苏联时代获得了一个锗探测器二极管，并组装了以下电路：</font></font><br>
<img src="https://habrastorage.org/files/938/cc7/d9c/938cc7d9c7f541738e97e24b7c82bd25.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
所产生的设备充满信心地工作，但距离非常短，距离充当辐射源的移动电话约5-10厘米。当然，这还不足以完成任务。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
经过所有这些考验，我终于得到了ESP8266模块，该模块可以显示</font><font style="vertical-align: inherit;">找到的接入点的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RSSI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（接收到的WiFi信号电平的指标）。</font><font style="vertical-align: inherit;">为此，请在模块的标准固件中使用AT + CWLAP命令。</font><font style="vertical-align: inherit;">我决定应用此功能，并结合前面提到的自制WiFi导向的biquadrat天线。</font><font style="vertical-align: inherit;">因此，这种技术奇迹出现了：</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接线图</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/5e6/608/d66/5e6608d66dff4b60bb256fdbe9ed6ddb.jpg"></div></div><br>
<img src="https://habrastorage.org/files/193/2df/f2a/1932dff2a29247f682269bd2ddfa769b.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ESP8266本身安装在天线的背面，并用铜板很好地屏蔽。发光的数字表示脉冲DC-DC转换器输出上的电压，该电压会使电源工作的12V电压降低至3.3V，这对于模块的工作是必不可少的（它非常脆弱，因此从Arduino供电给它带来了不稳定的操作）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arduino仍然管理伺服驱动器，并使用SoftwareSerial库将AT命令发送到ESP8266。难点之一-我不得不切换到它们的对等物，而不是标准库SoftwareSerial和Servo，因为当同时使用时，它们会冲突。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，您可以在这里听到有关Arduino是一个额外元素的谴责，因为ESP8266本身可以应对此类功能。</font><font style="vertical-align: inherit;">但从历史上看，发生在设备创建期间，我最初将注意力集中在Arduino作为最终设备的中央链接，而ESP8266充当了一种传感器的角色。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为“太阳能摄像机”编写的QT程序经过了重大改进。</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程序的最终版本</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/193/444/1da/1934441da66842f8b728bb6d22fcf1cc.jpg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在扫描区域的过程中，将为找到的每个接入点创建一个信号值阵列，使您可以查看扫描结束时不同的WiFi路由器如何“发光”，甚至尝试估计其大概位置。在特定点上的信号越强，相应像素的蓝色越亮。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最后，将设备放在家里的不同地方，我得到了以下图像。幸运的是，我家中有很多wifi网络，而且使用类似的定向天线，您甚至可以捕获非常遥远的天线。</font></font><br>
<img src="https://habrastorage.org/files/8a5/445/7f7/8a54457f77c246b289f1376f8a4add41.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
沙发和地毯片。如果您注意的话，在“ SkyNet”点可以获得比其他图像更高质量的图像-这是我的家用路由器。他离拍摄地点最近，在拍摄过程中很重要。</font></font><br>
<img src="https://habrastorage.org/files/0da/39e/051/0da39e0513f54dbaa7e6c35c6508baec.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
吊灯再次。</font><font style="vertical-align: inherit;">来自某些网络的信号不会从天花板或枝形吊灯反射出来。</font><font style="vertical-align: inherit;">根据这些迹象，很可能可以尝试确定变送器的物理位置。</font></font><br>
<img src="https://habrastorage.org/files/6e6/adf/0f8/6e6adf0f85984c8097da5bbb18049ee3.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
装满水的浴缸。</font><font style="vertical-align: inherit;">众所周知，水下的无线电波传播不佳。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值得注意的是，可见范围内的照片仅大致对应于扫描区域。</font><font style="vertical-align: inherit;">还必须考虑到，在操作过程中，天线以某种方式描述了半球，这也会影响结果。</font><font style="vertical-align: inherit;">分辨率原则上仅受天线走向和环绕整个区域所花费的时间限制。</font><font style="vertical-align: inherit;">此外，获得每个像素的数据需要4-5秒。</font><font style="vertical-align: inherit;">我希望获得较少的模糊图像，但这需要天线具有较窄的辐射方向图。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">源代码，包括Arduino的草图</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN392555/">https://habr.com/ru/post/zh-CN392555/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN392545/index.html">IBM Watson分析了“星球大战”的角色，并描述了主要角色</a></li>
<li><a href="../zh-CN392547/index.html">“人造g”会允许水肺潜水留在家吗？</a></li>
<li><a href="../zh-CN392549/index.html">给宇航员和英雄宇航员和英雄</a></li>
<li><a href="../zh-CN392551/index.html">评论bb-mobile Techno W8.0 3G（Q800AY）：配备3G调制解调器的Windows 10廉价8英寸平板电脑</a></li>
<li><a href="../zh-CN392553/index.html">科学家启动了一个预测寿命的项目</a></li>
<li><a href="../zh-CN392559/index.html">数字实验室NR05：进行密码锁</a></li>
<li><a href="../zh-CN392561/index.html">FLProg + Nextion HMI。第1课</a></li>
<li><a href="../zh-CN392565/index.html">使用360°视频技术代表文化活动的可能性</a></li>
<li><a href="../zh-CN392573/index.html">WhatsApp已为其十亿用户引入了所有数据的完整端到端加密</a></li>
<li><a href="../zh-CN392575/index.html">32个桦木棍或火箭发动机点火系统</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>