<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЮЦ тШгя╕П ЁЯСиЁЯП┐тАНЁЯдЭтАНЁЯСиЁЯП╝ Zabbix - SNMPv3 TRAPs, рджрд░реНрдж рдФрд░ рдирд┐рд░рд╛рд╢рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ OSPF рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдирд╛ ЁЯЪХ ЁЯзСтАНЁЯдЭтАНЁЯзС ЁЯТР</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕рдВрджрд░реНрдн рдХреА рд╢рд░реНрддреЗрдВ 
 рднреМрдЧреЛрд▓рд┐рдХ рд░реВрдк рд╕реЗ рдлреИрд▓рд╛рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рдореЗрдВ рдПрдХ рд╡реАрдЖрд░рдПрдл рдХрд╛рд░ рдФрд░ рдУрдПрд╕рдкреАрдПрдл рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХреА рдХрднреА рдмрджрд▓рддреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде рдиреЗрдЯрд╡рд░реНрдХ рд╣реИред рдЖрдкрдХреЛ рдЙрдиреНрд╣реЗрдВ рдЯреНрд░реИрдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zabbix - SNMPv3 TRAPs, рджрд░реНрдж рдФрд░ рдирд┐рд░рд╛рд╢рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ OSPF рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдирд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417813/"><h2>  рд╕рдВрджрд░реНрдн рдХреА рд╢рд░реНрддреЗрдВ </h2><br>  рднреМрдЧреЛрд▓рд┐рдХ рд░реВрдк рд╕реЗ рдлреИрд▓рд╛рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рдореЗрдВ рдПрдХ рд╡реАрдЖрд░рдПрдл рдХрд╛рд░ рдФрд░ рдУрдПрд╕рдкреАрдПрдл рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХреА рдХрднреА рдмрджрд▓рддреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде рдиреЗрдЯрд╡рд░реНрдХ рд╣реИред  рдЖрдкрдХреЛ рдЙрдиреНрд╣реЗрдВ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><ol><li>  рд░рд╛рдЬреНрдп, рдЕрд▓рд╛рд░реНрдо рдХрд░реЗрдВ рдпрджрд┐ рдкрдбрд╝реЛрд╕реА рд░рд╛рдЬреНрдп рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ </li><li>  рдорд╛рддреНрд░рд╛, рдпрд╛рдиреА рдпрджрд┐ рдкрдбрд╝реЛрд╕реА рдЧрд╛рдпрдм рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЕрд▓рд╛рд░реНрдо рднреА рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП </li></ol><br>  рдПрдХ рдирд┐рдЧрд░рд╛рдиреА рдкреНрд░рдгрд╛рд▓реА рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рд╣реИ - рдЬрд╝реИрдмрд┐рдХреНрд╕ 3.4, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╡рд╛рдВрдЫрдиреАрдп рд╣реИ, рд▓рд┐рдирдХреНрд╕ рдУрдПрд╕ рдбреЗрдмрд┐рдпрди 9.x <br><a name="habracut"></a><br><h2>  рд╣рдо рдПрдХ рддрд╕реНрд╡реАрд░ рдХреЗ рд╕рд╛рде рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ </h2><br>  рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╡реНрдпрд╛рдкрдХ рд╣реИ, рдирд┐рдЧрд░рд╛рдиреА рдкреНрд░рдгрд╛рд▓реА рдЬреНрдЮрд╛рдд рд╣реИ, рдореИрдВ рд╢рд╛рдпрдж рдкрд╣рд▓рд╛ рдирд╣реАрдВ рд╣реВрдВ рдЬреЛ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рдФрд░ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рдкрд╣рд▓реЗ рд╣реА рд╣рд▓ рд╣реЛ рдЪреБрдХрд╛ рд╣реИред <br><br>  рд╣рдо "zabbix ospf" рдХреА рдЦреЛрдЬ рдореЗрдВ рд▓рдЧ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдкрд╣рд▓рд╛ рд▓рд┐рдВрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреА</a> рдУрд░ рдЬрд╛рддрд╛ рд╣реИред  рдЦреБрд╢реА рдХреНрдпрд╛ рд╣реИ - рдЕрдм рдореИрдВ рдЗрд╕реЗ рдЖрдпрд╛рдд рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рдЗрд╕реЗ рдореЗрд░реА рдЬрд╝рд░реВрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП рдХрдВрдШреА рдХрд░ рд░рд╣рд╛ рд╣реВрдВ рдФрд░ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред <br>  рд╣рдо рдпрд╣ рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ - рд╕рдм рдХреБрдЫ рдареАрдХ рд▓рдЧ рд░рд╣рд╛ рд╣реИ, рд░рд╛рдЬреНрдпреЛрдВ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреА рдЬрд╛рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЬрдм рдкрдбрд╝реЛрд╕реА рдиреАрдЪреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдореЗрдВ Zabbix рд╕реЗ рдПрдХ "рдмрд╣реБрдд" рдЬрд╛рдирдХрд╛рд░реАрдкреВрд░реНрдг рд╕рдВрджреЗрд╢ рдорд┐рд▓рддрд╛ рд╣реИ <br><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">No</span></span> Such Instance currently <span class="hljs-keyword"><span class="hljs-keyword">exists</span></span> at this <span class="hljs-type"><span class="hljs-type">OID</span></span></code> </pre> <br>  рдФрд░ рдЬрд╛рдирдХрд╛рд░реА <br><br><pre> <code class="hljs pgsql">The item <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> discovered anymore <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> will be deleted <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">29</span></span>d <span class="hljs-number"><span class="hljs-number">23</span></span>h <span class="hljs-number"><span class="hljs-number">57</span></span>m (<span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-19</span></span> at <span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">52</span></span>)</code> </pre> <br>  рдХреНрдпрд╛ рд╣реБрдЖ - рд╕рдорд╕реНрдпрд╛ рдкреБрд░рд╛рдиреА рд╣реИ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://www.opennet.ru/openforum/vsluhforumID3/109102.html)%2520%255B%25D0%25B4%25D0%25B2%25D0%25B0%255D(">рдордВрдЪреЛрдВ</a> рдореЗрдВ рдЬрд╛рдиреА рдЬрд╛рддреА рд╣реИ - рдЬрдм рдУрдПрд╕рдкреАрдПрдл рдкрдбрд╝реЛрд╕реА рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ рд╕рднреА рдУрдЖрдИрдбреА рдХреЗрд╡рд▓ рдиреЗрдЯрд╡рд░реНрдХ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд░ рд╣рдЯрд╛ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред <br><br>  рд╣рд╛рдВ, рдПрдХ рд╕рдорд╛рдзрд╛рди рд╣реИ - рдПрдХ рдиреЛрдбрд╛ рдЯреНрд░рд┐рдЧрд░ рдмрдирд╛рдПрдВ, рдареАрдХ рдмрдирд╛рдПрдВ: <br><br><pre> <code class="hljs objectivec">{Template - SNMPv3 - OSPF Discovery:ospfNbrState[{<span class="hljs-meta"><span class="hljs-meta">#SNMPVALUE}].nodata(120)}=0</span></span></code> </pre> <br>  рд╣рдо рдбреИрд╢рдмреЛрд░реНрдб рдореЗрдВ рджреЗрдЦрддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">missing</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">data</span></span></code> </pre> <br>  рдореВрд▓ рд░реВрдк рд╕реЗ ... рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдпреЛрдЧреНрдп <br><br>  рд▓реЗрдХрд┐рди рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░, рдПрд▓рдПрд▓рдбреА рдХреЗрд╡рд▓ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╡реАрдЖрд░рдПрдл рд╕реЗ рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рддрд╛ рд╣реИред  рдмреЗрд╢рдХ, рдЗрд╕реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрд╕рдПрдирдПрдордкреА рд╕рдВрджрд░реНрдн</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> , рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рддрд░рд╣ рдореИрдВ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдирд╣реАрдВ рдЬрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ - рд╣рдореЗрдВ рд▓реЛрд╣реЗ рдХреЗ рд╕рднреА рдЯреБрдХрдбрд╝реЛрдВ рд╕реЗ рдЧреБрдЬрд░рдирд╛ рдкрдбрд╝рд╛, рдкреНрд░рддреНрдпреЗрдХ рдУрдПрд╕рдкреАрдПрдл рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдпрд╛ рд╡реАрдЖрд░рдПрдл рдореЗрдВ рдПрдХ рд╕рдВрджрд░реНрдн рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░реЗрдВ, рдлрд┐рд░ рд╣рдорд╛рд░реЗ рдЯреЗрдореНрдкрд▓реЗрдЯ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрджрд░реНрдн рдХреЗ рд▓рд┐рдП рдбрд┐рд╕реНрдХрд╡рд░реА рдХреА рдкреНрд░рддрд┐рдпрд╛рдВ рдмрдирд╛рдПрдВ, рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░ рдпрд╣ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рд╣реИред рдЙрдкрджреНрд░рд╡ рдФрд░ рдирдП OSPF рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдХрдИ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рдХреБрдЫ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЖрдк рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реЗ рдШрд┐рд░реЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдПрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдпрд╣ рд╕рдм рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд░рд┐рд╡рд╛рдЬ рдирд╣реАрдВ рдЪрд╛рд╣рддрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдореИрдВ рдХреЗрд╡рд▓ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рдЕрдзрд┐рдХрддрдо рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд CISCO-CONTEXT-MAPPING-MIB рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдЖрдк рд╕рдВрджрд░реНрдн рдФрд░ OSPF / VRF рдХреЗ рдмреАрдЪ рдХреЗ рд╕рднреА рдкрддреНрд░рд╛рдЪрд╛рд░ рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рдпрд╣ рдкрддрд╛ рдирд╣реАрдВ рд▓рдЧрд╛рдпрд╛ рдХрд┐ рдЗрд╕ рдбрд┐рдЬрд╛рдЗрди рдХреЛ LLD рдореЗрдВ рдХреИрд╕реЗ рдмрд╛рдВрдзрд╛ рдЬрд╛рдПред  рдЕрдЧрд░ рдХреЛрдИ рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рдЬрд╝рд╛рдмрд┐рдХреНрд╕ рдХреЛ рдЗрддрдирд╛ рдардВрдбрд╛ рдХреИрд╕реЗ рдкрдХрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рддреЛ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХрд╛ рд╕реНрд╡рд╛рдЧрдд рдХрд░реЗрдВ, рдФрд░ рдЕрдзрд┐рдорд╛рдирддрдГ рдПрдХ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд▓реЗрдЦ рдкрд░ред <br><br><h2>  рд╣рдо рджреВрд╕рд░реЗ рд╣рдорд▓реЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ </h2><br>  рдордВрдЪреЛрдВ рдореЗрдВ рдФрд░ рд╕реНрдореГрддрд┐ рдбрд┐рдмреНрдмреЗ рдХреЗ рдмрд╛рд╣рд░ рдЗрдВрдЯрд░рдиреЗрдЯ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рдХреБрдЫ рдШрдВрдЯреЛрдВ рдХреЗ рдмрд╛рдж, рдПрдХ рд╡рд┐рд╖рдп SNMP TRAP рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЖрдпрд╛ - рдпрд╣ рддрдм рд╣реИ рдЬрдм рд╣рдо рд▓реЛрд╣реЗ рдХреЗ рдЯреБрдХрдбрд╝реЗ рд╕реЗ рдкреВрдЫрддрд╛рдЫ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд▓реЛрд╣реЗ рдХрд╛ рдЯреБрдХрдбрд╝рд╛ рдХреБрдЫ рдмрджрд▓рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рднреЗрдЬрддрд╛ рд╣реИред  рд╣рд╛рдВ, рдФрд░ рдЗрд╕ рд╕рд╛рдорд╛рди рдХреЗ рд▓рд┐рдП рдЕрднрд┐рдпрд╛рди рд╕рдорд░реНрдерди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреЙрдХреНрд╕ рд╕реЗ</a> рдмрд╛рд╣рд░ рд╣рдорд╛рд░реЗ рдирд┐рдЧрд░рд╛рдиреА рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рд╣реИ, рдЙрдкрдХрд░рдг рднреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рддреБрд░рдВрдд</a> рдФрд░ рдмрд╕ рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐рдпреЛрдВ рд╕реЗ, рдирд┐рдЧрд░рд╛рдиреА рджрд╕реНрддрд╛рд╡реЗрдЬ рдПрдХ рд▓рдВрдмреА рд╕реВрдЪреА рджреНрд╡рд╛рд░рд╛ рднреНрд░рдорд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: <br><br><pre> <code class="hljs pgsql">The workflow <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> receiving a trap: <span class="hljs-number"><span class="hljs-number">1.</span></span> snmptrapd receives a trap <span class="hljs-number"><span class="hljs-number">2.</span></span> snmptrapd passes the trap <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> SNMPTT <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> calls Perl trap receiver <span class="hljs-number"><span class="hljs-number">3.</span></span> SNMPTT <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> Perl trap receiver parses, formats <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> writes the trap <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> a file <span class="hljs-number"><span class="hljs-number">4.</span></span> Zabbix SNMP trapper reads <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> parses the trap file <span class="hljs-number"><span class="hljs-number">5.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> trap Zabbix finds <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> тАЬSNMP trapperтАЭ items <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> host interfaces matching the received trap address. Note that <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> the selected тАЬIPтАЭ <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> тАЬDNSтАЭ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> host interface <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> used during the matching. <span class="hljs-number"><span class="hljs-number">6.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">For</span></span> <span class="hljs-keyword"><span class="hljs-keyword">each</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> item, the trap <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> compared <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> regexp <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> тАЬsnmptrap[regexp]тАЭ. The trap <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> matched items. <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> matching item <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-built_in"><span class="hljs-built_in">found</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> there <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> an тАЬsnmptrap.fallbackтАЭ item, the trap <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> that. <span class="hljs-number"><span class="hljs-number">7.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">If</span></span> the trap was <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">any</span></span> item, Zabbix <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> logs the unmatched trap. (This <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> configured <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> тАЬ<span class="hljs-keyword"><span class="hljs-keyword">Log</span></span> unmatched SNMP trapsтАЭ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Administration тЖТ General тЖТ Other.)</code> </pre> <br>  рдпрд╣реА рд╣реИ, рдПрдХ рдбреЗрдореЙрди TRAP рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕реЗ рджреВрд╕рд░реЗ рдбреЗрдореЙрди рдореЗрдВ рднреЗрдЬрддрд╛ рд╣реИ, рдЗрд╕реЗ рдкрд╛рд░реНрд╕ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕реЗ рд╡рд╛рдВрдЫрд┐рдд рдкреНрд░рд╛рд░реВрдк рдХреЗ рд╕рд╛рде рд▓реЙрдЧ рдореЗрдВ рдбрд╛рд▓рддрд╛ рд╣реИ, рдФрд░ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдкрд╣рд▓реЗ рд╕реЗ рд▓реЙрдЧ рдХреЛ рдкрдврд╝рддрд╛ рд╣реИ рдФрд░ рдЖрдЧреЗ рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ, рдпрд╣ рддрдп рдХрд░рддрд╛ рд╣реИред  рдХрд┐рд╕реА рднреА рддрд░рд╣ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рд╕реЗ рдЪрд▓рдирд╛ рдФрд░ рд╣рд░ рдЬрдЧрд╣ рдПрдХ рдПрд╕рдПрдирдПрдордкреА рд╕рдВрджрд░реНрдн рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЖрд╕рд╛рди рдирд╣реАрдВ рджрд┐рдЦрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдареАрдХ рд╣реИ, рдЪрд▓реЛ рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВред  рд╣рдо рдзреНрдпрд╛рди рд╕реЗ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдбреЙрдХ рдХреЛ рдкрдврд╝рддреЗ рд╣реИрдВ рдФрд░ рд╕рдордЭрддреЗ рд╣реИрдВ рдХрд┐ рдХреЗрд╡рд▓ рдЗрд╕рдХреА рдорджрдж рд╕реЗ рдХреБрдЫ рднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХрд╛ рдПрдХ рдордЬрд╛рдХ рд╣реИ - рдкреНрд░рд▓реЗрдЦрди рд╕рд┐рд╕реНрдЯрдо рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдФрд░ рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдЗрддрдиреА рдиреНрдпреВрдирддрдо рд░реВрдк рд╕реЗ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕рд┐рдЦрд╛рдпрд╛ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рднреНрд░рд╛рдордХ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЙрдиреНрд╣реЗрдВ рд╕рдордЭрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдореБрдлреНрдд рд╣реИ, рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рддрд░рд╣ рдЖрдкрдХреЛ рдкреИрд╕реЗ рдХрдорд╛рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИ, рд▓реЗрдХрд┐рди рд╡реЗ рд╕рдорд░реНрдерди рдкрд░ рдкреИрд╕рд╛ рдХрдорд╛рддреЗ рд╣реИрдВред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рдпрд╛</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рджреЛ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмрд╛рд░</a> рдЗрд╕реЗ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рд▓реЗрдЦ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореИрдВ рдПрдХ рд▓реЗрдЦ рд╕реЗ рджреВрд╕рд░реЗ рд▓реЗрдЦ рддрдХ рд╕реЗрдЯ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛, рдореБрдЭреЗ рд╡рд┐рднрд┐рдиреНрди рд╕реНрд░реЛрддреЛрдВ рд╕реЗ рдмрд┐рдЯ рджреНрд╡рд╛рд░рд╛ рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдиреА рдереАред  рдпрд╣ рд╕рднреА рдЧреАрдд рд╣реИрдВ, рд╡реЗ рдХрдЯреНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд▓реЗ рдЧрдПред <br><br><h2>  рд╣рдо рд▓реЛрд╣реЗ рдХреЗ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рдЯреБрдХрдбрд╝реЗ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ </h2><br>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреЗ рд╕рд╛рде рд╣реЛрд╕реНрдЯ рдкрд░ рдХреБрдЫ рдореЛрдбрд╝ рджреЗрдВ, рдореИрдВ рдЕрддреНрдпрдзрд┐рдХ рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ TRAP рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд╕реЗ рд╕рд░реНрд╡рд░ рддрдХ рдЖрддрд╛ рд╣реИ - рдкрд╣рд▓реЗ рдореИрдВрдиреЗ рдпрд╣ рдирд╣реАрдВ рдЬрд╛рдВрдЪрд╛ рдХрд┐ рдпрд╣ рдмрд╣реБрдд рд╕рд╛рд░реА рдирд╕реЛрдВ, рд░рдХреНрдд рдФрд░ рд╕рдордп рдХреЛ рдкреА рдЧрдпрд╛ рд╣реИред  рдореЗрд░реЗ рдкрд╛рд╕ рд╣рд╛рде рдкрд░ рдПрдХ рд╕рд┐рд╕реНрдХреЛ рдиреЗрдХреНрд╕рд╕ рдХрд╛рд░ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдЗрд╕ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд▓рд┐рдП рдЙрджрд╛рд╣рд░рдг рджреВрдВрдЧрд╛ред  рдЬрд┐рд╕рдиреЗ рднреА рдЙрддреНрдкреНрд░реЗрд░рдХ, рдПрдПрд╕рдЖрд░, рдПрдПрд╕рдП рдФрд░ рдЗрддрдиреЗ рдкрд░ - рдорд╛рдл рдХрд░рдирд╛, рдореИрдВ рд╕реВрд░рдЬ рдирд╣реАрдВ рд╣реВрдВ, рдореИрдВрдиреЗ рд╕рднреА рдХреЛ рдЧрд░реНрдореА рдирд╣реАрдВ рджреА рд╣реИ, рдЗрд╕ рдкрд░ рдЦреБрдж рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдкрд░ рдбреЙрдХ рдкрдврд╝реЗрдВ, рд╡рд╛рдХреНрдпрд╡рд┐рдиреНрдпрд╛рд╕ рд╕рдорд╛рди рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдХреА рдЕрдкрдиреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рдеред <br><br><pre> <code class="hljs pgsql">snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> contact noc@example.com snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">location</span></span> Room1 snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> source-interface traps loopback1</code> </pre> <br>  рдЬрд╝реИрдмрд┐рдХреНрд╕ рдореЗрдВ рдЯреАрдЖрд░рдПрдкреА рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╕рдордп рдпрд╣ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдХрд┐ рдЬрд┐рд╕ рдкрддреЗ рд╕реЗ рдЯреАрдЖрд░рдПрдкреА рднреЗрдЬрд╛ рдЧрдпрд╛ рд╣реИ рд╡рд╣ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдореЗрдВ рд╣реЛрд╕реНрдЯ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рдПрд╕рдПрдирдПрдордкреА рдкрддреЗ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИред <br><br><pre> <code class="hljs cs">snmp-server user Zabbix network-<span class="hljs-keyword"><span class="hljs-keyword">operator</span></span> auth sha <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> priv aes<span class="hljs-number"><span class="hljs-number">-128</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span></code> </pre> <br>  рдЬрд╣рд╛рдБ рднреА рд╕рдВрднрд╡ рд╣реЛ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг 3 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдСрд╡рд░рдкреНрд░рд╛рдЗрд╡ рдореЛрдб (рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдФрд░ рдСрдереЗрдВрдЯрд┐рдХреЗрд╢рди) рдореЗрдВ, рдЗрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдЙрддрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИ рдЬрд┐рддрдирд╛ рд▓рдЧрддрд╛ рд╣реИред  рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рд╕рдВрд╕реНрдХрд░рдг 1 рдФрд░ рд╕рдВрд╕реНрдХрд░рдг 2 рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреВрд▓ рдЬрд╛рдУ - рдЬрдм рдПрдХ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд╡реНрдпрдХреНрддрд┐ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреА рдХрдореА рдХреЗ рдХрд╛рд░рдг рдЖрддрд╛ рд╣реИ рдФрд░ рдЗрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╣реЛрддрд╛ рд╣реИ - рдпрд╣ рд╕рд┐рд░реНрдл рд╕рдордп рдХреА рдмрд╛рдд рд╣реИ (рд╕рдореБрджрд╛рдп рд╕реНрдЯреНрд░рд┐рдВрдЧ рдЙрдиреНрд╣реЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рдореЗрдВ рдкреНрд░реЗрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореИрдВ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рджреЗрдЦрддрд╛ рд╣реВрдВ рдХрд┐ рдпрд╣ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ / рдирд┐рдЬреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред  рдиреЗрдЯрд╡рд░реНрдХ-рдСрдкрд░реЗрдЯрд░ рдкреИрд░рд╛рдореАрдЯрд░ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдХреЗрд╡рд▓-рдкрдврд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br><pre> <code class="hljs sql">snmp-server host 192.168.192.168 traps version 3 priv Zabbix snmp-server host 192.168.192.168 <span class="hljs-keyword"><span class="hljs-keyword">use</span></span>-vrf <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> host <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.192</span></span><span class="hljs-number"><span class="hljs-number">.168</span></span> <span class="hljs-keyword"><span class="hljs-keyword">source</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> loopback1 <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps ospf lsa snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps ospf <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_mib_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_module_status_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_power_status_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_module_inserted <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_module_removed <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_unrecognised_module <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_fan_status_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_power_out_change <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> linkDown <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> linkUp <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extended</span></span>-linkDown <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">extended</span></span>-linkUp <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> cieLinkDown <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> cieLinkUp <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> connUnitPortStatusChange <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps bfd <span class="hljs-keyword"><span class="hljs-keyword">session</span></span>-up <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">link</span></span> <span class="hljs-keyword"><span class="hljs-keyword">delayed</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">link</span></span>-state-<span class="hljs-keyword"><span class="hljs-keyword">change</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps bfd <span class="hljs-keyword"><span class="hljs-keyword">session</span></span>-down <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rf redundancy_framework <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-license-expiry <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-<span class="hljs-keyword"><span class="hljs-keyword">no</span></span>-license-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>-feature <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-licensefile-<span class="hljs-keyword"><span class="hljs-keyword">missing</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps license notify-license-expiry-<span class="hljs-keyword"><span class="hljs-keyword">warning</span></span> <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">upgrade</span></span> UpgradeOpNotifyOnCompletion <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps <span class="hljs-keyword"><span class="hljs-keyword">upgrade</span></span> UpgradeJobStatusNotify <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon risingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon fallingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon hcRisingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps rmon hcFallingAlarm <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps entity entity_sensor <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps generic coldStart <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> snmp-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> traps generic warmStart</code> </pre> <br>  рдореИрдВрдиреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдУрдПрд╕рдкреАрдПрдл рдХреЛ рдЫреЛрдбрд╝рдХрд░ рд╕рднреА рдЯреАрдЖрд░рдПрдкреА рдХреЛ рдЕрдХреНрд╖рдо рдХрд░ рджрд┐рдпрд╛, рддрд╛рдХрд┐ рдЬрдм рдирд┐рджрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рдП рдХрд┐ рдХреБрдЫ рдХрд╛рдо рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рдореБрдЭреЗ рдбрд┐рдмрдЧ рд╕реЗ рдмрд╣реБрдд рд╕рд╛рд░реА рдЕрдирд╛рд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдкрдврд╝рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рдереАред <br><br>  рдЕрдЧрд░ рдЯреАрдЖрд░рдПрдкреА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рддреЛ рдпрд╣ рдХреИрд╕реЗ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдЖрдкрдХреЛ рдХреБрдЫ рддреЛрдбрд╝рдирд╛ рд╣реИред  рд╣рдо рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд╕рд╛рде рдореЗрдЬрдмрд╛рди рдкрд░ рд╕реНрдирд┐рдлрд░ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs pgsql">root@dc-zbx:~# tcpdump -i bond0 udp port <span class="hljs-number"><span class="hljs-number">162</span></span> tcpdump: <span class="hljs-keyword"><span class="hljs-keyword">verbose</span></span> output suppressed, use -v <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> -vv <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">full</span></span> protocol decode listening <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> bond0, link-<span class="hljs-keyword"><span class="hljs-keyword">type</span></span> EN10MB (Ethernet), capture size <span class="hljs-number"><span class="hljs-number">262144</span></span> bytes</code> </pre> <br>  рд╣рдо рд▓реЛрд╣реЗ рдХреЗ рд░рд╣рдиреЗ рд╡рд╛рд▓реЗ рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХреЗ рдЯреБрдХрдбрд╝реЗ рдкрд░ рдкрд╛рддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs pgsql">SW# <span class="hljs-keyword"><span class="hljs-keyword">show</span></span> ip ospf neighbors vrf <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> OSPF Process ID <span class="hljs-number"><span class="hljs-number">10</span></span> VRF <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">4</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.242</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">01</span></span>:<span class="hljs-number"><span class="hljs-number">47</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.10</span></span> Vlan1427 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.222</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">18</span></span>w1d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.6</span></span> Vlan1426 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.149</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">5</span></span>w0d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.30</span></span> Vlan1473 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.146</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">3</span></span>d00h <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.58</span></span> Vlan1404 OSPF Process ID <span class="hljs-number"><span class="hljs-number">100</span></span> VRF OSPF100 Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">4</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.149</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">5</span></span>w0d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.34</span></span> Vlan1474 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.220</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">13</span></span>w3d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.54</span></span> Vlan1479 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.240</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">13</span></span>w3d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.46</span></span> Vlan1477 <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.146</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">3</span></span>d00h <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.62</span></span> Vlan1405 OSPF Process ID <span class="hljs-number"><span class="hljs-number">200</span></span> VRF Dia Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">2</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">10.65</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.252</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">17</span></span>w2d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.18</span></span> Vlan1450 <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.26</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">17</span></span>w0d <span class="hljs-number"><span class="hljs-number">172.17</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.26</span></span> Vlan1452 OSPF Process ID <span class="hljs-number"><span class="hljs-number">216</span></span> VRF Dev Total number <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> neighbors: <span class="hljs-number"><span class="hljs-number">2</span></span> Neighbor ID Pri State Up <span class="hljs-type"><span class="hljs-type">Time</span></span> Address Interface <span class="hljs-number"><span class="hljs-number">10.255</span></span><span class="hljs-number"><span class="hljs-number">.255</span></span><span class="hljs-number"><span class="hljs-number">.94</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">18</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span> <span class="hljs-number"><span class="hljs-number">10.216</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.73</span></span> Vlan1641 <span class="hljs-number"><span class="hljs-number">10.216</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.82</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FULL</span></span>/ - <span class="hljs-number"><span class="hljs-number">18</span></span>:<span class="hljs-number"><span class="hljs-number">59</span></span>:<span class="hljs-number"><span class="hljs-number">54</span></span> <span class="hljs-number"><span class="hljs-number">10.216</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.82</span></span> Vlan1643</code> </pre><br>  рдФрд░ рдХрд┐рд╕реА рдХреЛ рдЧрд┐рд░рд╛ рджреЛ <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 1643 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shutdown</span></span></span></span></code> </pre> <br>  рд╣рдо рд╕реНрдирд┐рдлрд░ рдореЗрдВ рджреЗрдЦрддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">20.001942</span></span> IP <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.169</span></span>.<span class="hljs-number"><span class="hljs-number">22095</span></span> &gt; dc<span class="hljs-literal"><span class="hljs-literal">-zbx</span></span>.example.com.snmp<span class="hljs-literal"><span class="hljs-literal">-trap</span></span>: F=ap U=<span class="hljs-string"><span class="hljs-string">"Zabbix"</span></span> [!<span class="hljs-type"><span class="hljs-type">scoped</span></span> <span class="hljs-type"><span class="hljs-type">PDU</span></span>]<span class="hljs-number"><span class="hljs-number">39</span></span>_d1_7c_19_b3_d9_f8_31_32_8e_c9_39_c2_3a_db_d8_28_26_c6_0b_01_55_b6_fa_5e_f5_38_66_f9_6f_3f_c0_98_cb_57_93_5a_50_8e_50_90_79_f3_9b_ec_ec_d7_9f_e8_ac_f6_fd_79_ac_95_ff_71_73_32_70_52_66_a5_7d_b3_c4_39_d0_1c_7f_a6_38_ea_d7_61_c0_2f_12_ee_db_d9_07_40_8c_a8_48_57_e9_e5_56_12_3f_ec_f9_34_65_09_96_86_f6_d2_93_06_45_fa_95_ea_36_5a_82_2f_30_8f_02_03_59_07_5f_d8_a6_1c_f2_5a_be_7d_09_15_ef_05_00_83_fd_ea_ac_2a_3b_86_0f_86_e5_3b_93_3a_68_6d_33_99_e2_46_2b_9d_6a_1e_5d_9e_d9_93_56_51_5e_ff_9e_77_4c_cb</code> </pre> <br>  рдпрджрд┐ рдЖрдкрдХреЛ рд╕реНрдирд┐рдлрд░ рдореЗрдВ рдХреБрдЫ рднреА рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ, рддреЛ рдЙрд╕рдХрд╛ рдирд┐рджрд╛рди рдХрд░реЗрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдиреНрдпрдерд╛ рдЖрдЧреЗ рдЬрд╛рд░реА рд░рд╣рдиреЗ рдХрд╛ рдХреЛрдИ рдХрд╛рд░рдг рдирд╣реАрдВ рд╣реИ, рдЖрдк рдмрд╕ рдпрд╣ рд╕рдордЭ рдирд╣реАрдВ рдкрд╛рдПрдВрдЧреЗ рдХрд┐ рдЖрдкрдХреЗ рд▓рд┐рдП рдХрд┐рд╕ рдЪрд░рдг рдореЗрдВ рдХреБрдЫ рдХрд╛рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред <br>  рдпрджрд┐ рд╣рд╛рде рдореЗрдВ рд▓реЛрд╣реЗ рдХрд╛ рдХреЛрдИ рдЯреБрдХрдбрд╝рд╛ рдирд╣реАрдВ рд╣реИ рдпрд╛ рдЙрддреНрдкрд╛рджрди рдХреЛ рдЫреБрдЖ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рддреЛ TRAP рдХрд┐рд╕реА рдЕрдиреНрдп рдХрд╛рд░ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬреИрд╕реЗ: <br><br><pre> <code class="hljs powershell">snmptrap <span class="hljs-literal"><span class="hljs-literal">-v</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-literal"><span class="hljs-literal">-c</span></span> neveruseme <span class="hljs-number"><span class="hljs-number">127.0</span></span>.<span class="hljs-number"><span class="hljs-number">0.1</span></span> <span class="hljs-string"><span class="hljs-string">'.1.3.6.1.6.3.1.1.5.3'</span></span> <span class="hljs-string"><span class="hljs-string">'0.0.0.0'</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">33</span></span> <span class="hljs-string"><span class="hljs-string">'55'</span></span> .<span class="hljs-number"><span class="hljs-number">1.3</span></span>.<span class="hljs-number"><span class="hljs-number">6.1</span></span>.<span class="hljs-number"><span class="hljs-number">6.3</span></span>.<span class="hljs-number"><span class="hljs-number">1.1</span></span>.<span class="hljs-number"><span class="hljs-number">5.3</span></span> s <span class="hljs-string"><span class="hljs-string">"teststring000"</span></span> snmptrap <span class="hljs-literal"><span class="hljs-literal">-v3</span></span> <span class="hljs-literal"><span class="hljs-literal">-l</span></span> authPriv <span class="hljs-literal"><span class="hljs-literal">-u</span></span> Zabbix <span class="hljs-literal"><span class="hljs-literal">-a</span></span> SHA <span class="hljs-literal"><span class="hljs-literal">-A</span></span> abyrvalg <span class="hljs-literal"><span class="hljs-literal">-x</span></span> AES <span class="hljs-literal"><span class="hljs-literal">-X</span></span> pechka <span class="hljs-literal"><span class="hljs-literal">-e</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>x8000000001020305 <span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.168</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> linkUp.<span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><h2>  SNMPd, SNMPTRAPd, SNMPTT рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ </h2><br>  рд╣рдореЗрдВ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕рдВрдХреБрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: <br><br><pre> <code class="hljs powershell">apt install snmp snmp<span class="hljs-literal"><span class="hljs-literal">-mibs</span></span><span class="hljs-literal"><span class="hljs-literal">-downloader</span></span> snmpd snmptrapd snmptt</code> </pre> <br>  рдореИрдВрдиреЗ рдкрд░реНрд▓ рдЯреНрд░реИрдк рд░рд┐рд╕реАрд╡рд░ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рд╡реНрдпрдХреНрддрд┐рдЧрдд рдФрд░ рд╡реНрдпрдХреНрддрд┐рдкрд░рдХ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рдПрд╕рдПрдирдПрдордкреАрдЯреАрдЯреА рдХреЛ рдЪреБрдирд╛ред  рддреЛ, рдЧреЛрджреА рдХрд╣рддреА рд╣реИ: <br><br><pre> <code class="hljs markdown"><span class="hljs-bullet"><span class="hljs-bullet">1. </span></span>snmptrapd receives a trap</code> </pre> <br>  рдЗрд╕рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдФрд░ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдЪреЗрд╣рд░реЗ рдореЗрдВ рдЖрдЗрдЯрдо рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рддреБрд░рдВрдд рдЪрдврд╝рд╛рдИ рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИред  рдРрд╕рд╛ рдХреНрдпреЛрдВ - рдЖрдкрдХреЛ рдЙрд╕реА рдЪрд░рдг рдкрд░ рдЪрдврд╝рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ рдЬреЛ TRAP рдЬрд╛рддрд╛ рд╣реИред  рдкрд┐рдЫрд▓реЗ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ, рд╣рдордиреЗ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдХрд┐ рдЯреАрдЖрд░рдПрдкреА рдореВрд▓ рд░реВрдк рд╕реЗ рд▓реЛрд╣реЗ рдХреЗ рдЯреБрдХрдбрд╝реЗ рд╕реЗ рдЖрддрд╛ рд╣реИ, рдЕрдм рд╣рдо рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдЗрд╕реЗ рдХрдо рд╕реЗ рдХрдо рдкрд╣рд▓реЗ рдбреЗрдорди - рд╕реНрдиреИрдкрдЯреНрд░реИрдк рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдПред  &lt;рдЧреАрдд&gt; рдореБрдЭреЗ рдпрд╛рдж рд╣реИ рдХрд┐ рдкреЛрд╕реНрдЯрдлрд┐рдХреНрд╕ + рдбреЛрд╡реЙрдЯреЙрдЯ + рдХреБрдЫ рд╕рдордп рдкрд╣рд▓реЗ рд╡рд╣рд╛рдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдФрд░ рдореИрдВрдиреЗ рд▓рдЧрднрдЧ рджреЛ рд╕рдкреНрддрд╛рд╣ рддрдХ рдЪрдХреНрдХрд░ рд▓рдЧрд╛рдпрд╛ - рд╡рд╣рд╛рдБ рднреА, рдПрдХ рджрд╛рдирд╡ рдХрдиреЗрдХреНрд╢рди рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рдЕрдиреНрдп рдкрддреНрд░ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рддрд╛ рд╣реИ, рддреАрд╕рд░рд╛ рдЗрд╕реЗ рдХрддрд╛рд░ рдореЗрдВ рд░рдЦрддрд╛ рд╣реИ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдЪреМрдерд╛, рдФрд░ рдЗрд╕реА рддрд░рд╣, рдФрд░ рдореИрдВ рд╕рдлрд▓ рдирд╣реАрдВ рд╣реБрдЖред  рдФрд░ рд╕рднреА рдХреНрдпреЛрдВрдХрд┐ рдореИрдВ рд╢реБрд░реБрдЖрдд рд╕реЗ, рдЕрдВрдд рд╕реЗ, рдмреАрдЪ рд╕реЗ, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдЯреЗрд▓рдиреЗрдЯ рд╕реЗ рдкреЛрд░реНрдЯ 25 рддрдХ рд╢реБрд░реВ рдХрд░рдирд╛ рдерд╛ рдФрд░ рд▓реЛрдордбрд╝реА рдХреЗ рдбрд┐рдмрдЧрд░ рдХреЛ рджреЗрдЦрдирд╛ рдерд╛ &lt;/ рдЧреАрдд&gt; <br><br>  рд╣рдо /etc/snmp/snmptrapd.conf рдкрд░ рдЪрдврд╝рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рд╣рдЯрд╛рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдо рд╣рд░ рдЙрд╕ рдЪреАрдЬрд╝ рдкрд░ рдЯрд┐рдкреНрдкрдгреА рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рд╣рдо рд╕рдордЭрддреЗ рдирд╣реАрдВ рд╣реИрдВ рдФрд░ рд░реБрдЪрд┐ рдирд╣реАрдВ рд░рдЦрддреЗ рд╣реИрдВ, рд╣рдо рдПрдХ рдкрдВрдХреНрддрд┐ рдЫреЛрдбрд╝ рджреЗрддреЗ рд╣реИрдВ <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">disableAuthorization</span></span> <span class="hljs-literal"><span class="hljs-literal">yes</span></span></code> </pre> <br>  рд╕реЗрд╡рд╛ рдмрдВрдж рдХрд░реЛ <br><br><pre> <code class="hljs sql">systemctl <span class="hljs-keyword"><span class="hljs-keyword">stop</span></span> snmptrapd.service</code> </pre> <br>  рдореИрдиреБрдЕрд▓ рдореЛрдб рдореЗрдВ рдЪрд▓рд╛рдПрдВ <br><br><pre> <code class="hljs pgsql">root@dc-zbx:~# snmptrapd -f -Lo NET-SNMP <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">5.7</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> AgentX subagent connected NET-SNMP <span class="hljs-keyword"><span class="hljs-keyword">version</span></span> <span class="hljs-number"><span class="hljs-number">5.7</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span></code> </pre> <br>  рдлрд┐рд░, рдКрдкрд░ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдХреЗ рдЕрдиреБрд╕рд╛рд░ OSPF рдХреЛ рддреЛрдбрд╝рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ рдФрд░ рджреЗрдЦреЗрдВ: <br><br><pre> <code class="hljs powershell"><span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-literal"><span class="hljs-literal">-07</span></span><span class="hljs-literal"><span class="hljs-literal">-20</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> UNKNOWN [<span class="hljs-type"><span class="hljs-type">UDP</span></span>: [<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-type"><span class="hljs-type">.192.169</span></span>]:<span class="hljs-number"><span class="hljs-number">22095</span></span>-&gt;[<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-type"><span class="hljs-type">.192.168</span></span>]:<span class="hljs-number"><span class="hljs-number">162</span></span>]: DISMAN<span class="hljs-literal"><span class="hljs-literal">-EVENT</span></span><span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::sysUpTimeInstance = Timeticks: (<span class="hljs-number"><span class="hljs-number">1355817272</span></span>) <span class="hljs-number"><span class="hljs-number">156</span></span> days, <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">32.72</span></span> SNMPv2<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::snmpTrapOID.<span class="hljs-number"><span class="hljs-number">0</span></span> = OID: OSPF<span class="hljs-literal"><span class="hljs-literal">-TRAP</span></span><span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrStateChange OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfRouterId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.74</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrIpAddr = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrAddressLessIndex = INTEGER: <span class="hljs-number"><span class="hljs-number">0</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrRtrId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span>::ospfNbrState = INTEGER: down(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  рдпрджрд┐ рд╣рдо рдирд╣реАрдВ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдвреВрдВрдв рд░рд╣реЗ рд╣реИрдВред  рдпрджрд┐ рдЖрдк рдПрдХ рд╣реА рд╕реБрдВрджрд░ рд░рд┐рдХреЙрд░реНрдб рд░рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдФрд░ рдлреЙрд░реНрдо рдХрд╛ OID рдХрд╛ рдХреЛрдИ рд╕реЗрдЯ 1.3.6.1.2.1.14.10.1.6 рдирд╣реАрдВ рд╣реИ, рддреЛ /etc/snmp/snmp.conf рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="hljs powershell">mibs +OSPF<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span> mibs +OSPF<span class="hljs-literal"><span class="hljs-literal">-TRAP</span></span><span class="hljs-literal"><span class="hljs-literal">-MIB</span></span> mibs +OSPFV3<span class="hljs-literal"><span class="hljs-literal">-MIB</span></span> mibdirs +/usr/share/snmp/mibs/ietf/</code> </pre><br>  рдФрд░ SNMPd рдХреЛ рд╡рд┐рдХреГрдд рдХрд░реЗрдВ <br><br><pre> <code class="hljs pgsql">systemctl <span class="hljs-keyword"><span class="hljs-keyword">restart</span></span> snmpd.service</code> </pre> <br>  рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдХрдо рд╕реЗ рдХрдо рджрд░реНрдж рдХреЗ рд╕рд╛рде рдПрдордЖрдИрдмреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдФрд░ рдЕрдкрдиреЗ рдПрд╕рдПрдирдПрдордкреАрдбреА рдХреЛ рдЦрд┐рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП [рдпрд╣рд╛рдВ] (https://wiki.debian.org/SNMP) рдкрдврд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЕрдм рд╣рдо рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рддреЗрдЬ рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рдлрд┐рд░ рд╕реЗ /etc/snmp/snmptrapd.conf рдкрд░ рдЪрдврд╝рддреЗ рд╣реИрдВ <br><br><pre> <code class="hljs vbscript">traphandle <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> snmptthandler #disableAuthorization yes # <span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.192</span></span><span class="hljs-number"><span class="hljs-number">.169</span></span> createUser -e <span class="hljs-number"><span class="hljs-number">0x80000009038d604a6a82a3</span></span> Zabbix SHA <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> AES authuser <span class="hljs-built_in"><span class="hljs-built_in">log</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">execute</span></span>,net Zabbix</code> </pre> <br>  -e 0x80000009038d604a6a82a3 рдЗрдВрдЬрди рд╣реИ, рдЗрд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд░ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">SW</span></span># <span class="hljs-selector-tag"><span class="hljs-selector-tag">sh</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">snmp</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">engineID</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Local</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SNMP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">engineID</span></span>: <span class="hljs-selector-attr"><span class="hljs-selector-attr">[Hex]</span></span> 80000009038<span class="hljs-selector-tag"><span class="hljs-selector-tag">F604D6A82A1</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[Dec]</span></span> 128<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:040</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:000</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:109</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:003</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:140</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:096</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:079</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:106</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:131</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:160</span></span></code> </pre> <br>  рд╣рдо рдлрд┐рд░ рд╕реЗ рдкреНрд░рдпреЛрдЧ рджреЛрд╣рд░рд╛ рд░рд╣реЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдм рд╣рдо USM рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдбрд┐рдмрдЧ рдкрдХрдбрд╝ рд░рд╣реЗ рд╣реИрдВ: <br><br><pre> <code class="hljs rust">root@dc-zbx:~# snmptrapd -f -Lo -Dusm registered debug token usm, <span class="hljs-number"><span class="hljs-number">1</span></span> usmUser: created a new user Zabbix at <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>F <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>F <span class="hljs-number"><span class="hljs-number">6</span></span>B <span class="hljs-number"><span class="hljs-number">82</span></span> A5 NET-SNMP version <span class="hljs-number"><span class="hljs-number">5.7</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span> AgentX subagent connected NET-SNMP version <span class="hljs-number"><span class="hljs-number">5.7</span></span>.<span class="hljs-number"><span class="hljs-number">3</span></span> usm: USM processing begun... usm: <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> on user Zabbix usm: no <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> on engineID (<span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>F <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>F <span class="hljs-number"><span class="hljs-number">6</span></span>B <span class="hljs-number"><span class="hljs-number">82</span></span> A5 ) usm: <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> on user Zabbix usm: Verification succeeded. usm: USM processing completed. <span class="hljs-number"><span class="hljs-number">2018</span></span>-<span class="hljs-number"><span class="hljs-number">07</span></span>-<span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">50</span></span>:<span class="hljs-number"><span class="hljs-number">07</span></span> UNKNOWN [UDP: [<span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.169</span></span>]:<span class="hljs-number"><span class="hljs-number">22095</span></span>-&gt;[<span class="hljs-number"><span class="hljs-number">192.168</span></span>.<span class="hljs-number"><span class="hljs-number">192.168</span></span>]:<span class="hljs-number"><span class="hljs-number">162</span></span>]: DISMAN-EVENT-MIB::sysUpTimeInstance = Timeticks: (<span class="hljs-number"><span class="hljs-number">1355886163</span></span>) <span class="hljs-number"><span class="hljs-number">156</span></span> days, <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">21</span></span>:<span class="hljs-number"><span class="hljs-number">01.63</span></span> SNMPv2-MIB::snmpTrapOID.<span class="hljs-number"><span class="hljs-number">0</span></span> = OID: OSPF-TRAP-MIB::ospfNbrStateChange OSPF-MIB::ospfRouterId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.74</span></span> OSPF-MIB::ospfNbrIpAddr = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF-MIB::ospfNbrAddressLessIndex = INTEGER: <span class="hljs-number"><span class="hljs-number">0</span></span> OSPF-MIB::ospfNbrRtrId = IpAddress: <span class="hljs-number"><span class="hljs-number">10.216</span></span>.<span class="hljs-number"><span class="hljs-number">0.82</span></span> OSPF-MIB::ospfNbrState = INTEGER: down(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  рдпрджрд┐ рдЗрд╕ рд╕реНрддрд░ рдкрд░ рдЖрдк рдбрд┐рдмрдЧ рдореЗрдВ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рд╕рд╛рд╡рдзрд╛рдиреАрдкреВрд░реНрд╡рдХ рдЗрдВрдЬрдирдЖрдИрдбреА рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдФрд░ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдкрд░ рдмрдирд╛рдП рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЙрди рд▓реЛрдЧреЛрдВ рд╕реЗ рдореЗрд▓ рдЦрд╛рддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдордиреЗ /etc/snmp/snmptrapd.conf рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдЖрдХрд░реНрд╖рд┐рдд рдХрд┐рдпрд╛ рдерд╛ред  рд╡реИрд╕реЗ, рд╣рд╛рдБ, рд▓реЛрд╣реЗ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЯреБрдХрдбрд╝реЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рдЕрдкрдирд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛, рдпрд╛ рдЗрд╕реЗ рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рд╕реЗ рд▓реЛрд╣реЗ рдХреЗ рд╕рднреА рдЯреБрдХрдбрд╝реЛрдВ рдкрд░ рд╕рдорд╛рди рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛, рдЕрдЧрд░ рд▓реЛрд╣реЗ рдХреЗ рдЯреБрдХрдбрд╝реЗ рдЗрд╕реЗ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред <br><br>  рдореИрдВ рдбрд┐рдмрдЧ рдореЗрдВ рд▓рд╛рдЗрди рджреЗрдЦ рд╕рдХрддрд╛ рд╣реВрдВ: <br><br><pre> <code class="hljs pgsql">usm: <span class="hljs-keyword"><span class="hljs-keyword">no</span></span> match <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> engineID (<span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span>F <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>F <span class="hljs-number"><span class="hljs-number">6</span></span>B <span class="hljs-number"><span class="hljs-number">82</span></span> A5 )</code> </pre> <br>  рдореБрдЭреЗ рд╕рдордЭ рдореЗрдВ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдЖрдпрд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рд╕рдм TRAP рдХреЗ рд╕рд╛рде рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЖрдЧреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред  рдЕрдЧрд░ рдЖрдкрдХреЛ рдкрддрд╛ рд╣реИ рдХрд┐ рдореИрдВрдиреЗ рдХреНрдпрд╛ рдЧрд▓рдд рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдХреГрдкрдпрд╛ рдЯрд┐рдкреНрдкрдгреА рдХрд░реЗрдВред <br><br>  рдЕрдм рд╣рдо рдПрд╕рдПрдирдПрдордкреАрдЯреАрдЯреА рдХреЛ рд▓реЗрддреЗ рд╣реИрдВ - рдЗрд╕рдореЗрдВ рджреЛ рдЖрдИрдПрдирдЖрдИ рдФрд░ рдХреЙрдиреНрдлрд┐рдЧ рдХреЙрдиреНрдлрд┐рдЧ рд╣реИред  рдкрд╣рд▓реЗ рдореЗрдВ рд╣рдо рд╕реНрд╡рдпрдВ рдбреЗрдореЙрди рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рджреВрд╕рд░реЗ рдореЗрдВ рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реАрдврд╝реА рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдФрд░ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд╣рдо /etc/snmp/snmptt.ini рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЪрдврд╝рддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪреАрдЬрд╝реЗрдВ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs perl">mode = daemon net_snmp_perl_enable = <span class="hljs-number"><span class="hljs-number">1</span></span> date_time_format = %Y %m %d %H:%M:%S</code> </pre> <br>  рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп рдХрд╛ рдкреНрд░рд╛рд░реВрдк рд╡реНрдпрд╡рд╕рд╛рдп рдХрд╛ рд╡рд┐рд╖рдп рд╣реИ, рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╣рд░ рдЬрдЧрд╣ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><pre> <code class="hljs pgsql">log_file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/snmptt/snmptt.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> log_system_file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/snmptt/snmpttsystem.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span> unknown_trap_log_enable = <span class="hljs-number"><span class="hljs-number">1</span></span> unknown_trap_log_file = /var/<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>/snmptt/snmpttunknown.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span></code> </pre> <br>  рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдХрдИ рд▓реЗрдЦреЛрдВ рдореЗрдВ рд▓реЙрдЧ рд╕рдорд╛рди рдХреНрдпреЛрдВ рдирд╣реАрдВ рд╣реИ?  рдХреНрдпреЛрдВрдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЙрдХ</a> рдиреЗ рдХрд╣рд╛, "рдЕрдЧрд░ рд╕рд┐рд╕реНрдЯрдордб рдкреИрд░рд╛рдореАрдЯрд░ рдкреНрд░рд╛рдЗрд╡реЗрдЯрдЯреИрдореНрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдлрд╝рд╛рдЗрд▓ / tmp рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИред", рдореИрдВ рдкрд╣рд▓реЗ рд╕реЗ рдЪреЗрддрд╛рд╡рдиреА рджрд┐рдП рдЬрд╛рдиреЗ рдкрд░ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд░реЗрдХ рдореЗрдВ рдирд╣реАрдВ рдЖрдирд╛ рдЪрд╛рд╣рддрд╛, рдЗрд╕рд▓рд┐рдП рдореИрдВ рддреБрд░рдВрдд рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдкрде рдореЗрдВ рдмрджрд▓ рдЬрд╛рдКрдВрдЧрд╛ред <br><br>  рдЕрдЧрд▓рд╛, /etc/snmp/snmptt.conf рдкрд░ рдЬрд╛рдПрдВ, рд╡рд╣ рд╕рдм рдХреБрдЫ рд╣рдЯрд╛ рджреЗрдВ рдЬрд┐рд╕рдХреА рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ рдФрд░ / рдпрд╛ рд╕рдордЭ рдореЗрдВ рдирд╣реАрдВ рдЖрддрд╛ рд╣реИ, рд╣рдо рдЗрд╕реЗ рдХреЗрд╡рд▓ рдЫреЛрдбрд╝ рджреЗрддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">EVENT</span></span> ospfNbrStateChange .<span class="hljs-number"><span class="hljs-number">1.3.6.1</span></span>.<span class="hljs-number"><span class="hljs-number">2.1.14.16</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"OSPF"</span></span> Normal FORMAT ZBXTRAP <span class="hljs-variable"><span class="hljs-variable">$aA</span></span> OSPF neighbor with IP addr <span class="hljs-variable"><span class="hljs-variable">$2</span></span> changed state to <span class="hljs-variable"><span class="hljs-variable">$5</span></span></code> </pre> <br>  рдЗрд╕ рд░реВрдк рдореЗрдВ, рдХреНрдпреЛрдВрдХрд┐ Zabbix рд▓реЙрдЧ рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреЗ рдкреНрд░рд╛рд░реВрдк рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░реЗрдЧрд╛ред  $ 2 рдФрд░ $ 5 рдХрд╣рд╛рдВ рд╕реЗ рдЖрддреЗ рд╣реИрдВ, рдЖрдк рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TRAP рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рд░реВрдк</a> рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рджреЗрдЦреЗрдВ: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Object</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrStateChange</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OID</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">MIB</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF-TRAP-MIB</span></span> ; <span class="hljs-selector-tag"><span class="hljs-selector-tag">Trap</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Components</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfRouterId</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrIpAddr</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrAddressLessIndex</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrRtrId</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ospfNbrState</span></span></code> </pre> <br>  рдпреЗ рдЯреНрд░реИрдк рдХрдВрдкреЛрдиреЗрдВрдЯреНрд╕ рдРрд╕реЗ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ $ 1, $ 2 рдХреЗ рдХреНрд░рдо рдореЗрдВ рд▓реЙрдЧ рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ рд╢рд┐рдлреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ ... <br><br>  рдЗрд╕ рд╕рднреА рд╕рд╛рдорд╛рдиреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рджреМрд░рд╛рди, рдореИрдВрдиреЗ рджреЗрдЦрд╛ рдХрд┐ рдПрд╕рдПрдирдПрдордкреАрдЯреАрдЯреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рдРрд╕рд╛ рд╣реИ рдЬреИрд╕реЗ рдкрд░рд┐рд╡рд░реНрддрди рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдЙрдирдХреЗ рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рдмрд╛рдж snmptt.serivce рдХреЛ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛, рд▓реЗрдХрд┐рди snmpd.service - рдЗрд╕ рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдиреЗ рд╢рд╛рд▓реАрдирддрд╛ рд╕реЗ рдореЗрд░рд╛ рдЦреВрди рдкреА рд▓рд┐рдпрд╛ рдФрд░ рдбреАрдмрдЧ рдХреЗ рджреМрд░рд╛рди рдореЗрд░реА рдирд╕реЛрдВ рдХреЛ рдкреА рд▓рд┐рдпрд╛ред <br><br>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╕рднреА рдбреЗрдореЙрди рдЪрд▓ рд░рд╣реЗ рд╣реИрдВ: <br><br><pre> <code class="hljs lua">systemctl <span class="hljs-built_in"><span class="hljs-built_in">status</span></span> snmpd snmptrapd snmptt</code> </pre> <br>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ, OSPF рдХреЛ рддреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд┐рд░ рд╕реЗ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ рдФрд░ рд▓реЙрдЧ /var/log/snmptt/snmptt.log рдкрд░ рдЬрд╛рдПрдВ, рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: <br><br><pre> <code class="hljs css">2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:10</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:52</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">down</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:12</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:28</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:12</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:34</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">full</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:22</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:41</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">down</span></span> 2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:25</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:38</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span></code> </pre> <br>  рдЙрди TRAPs рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдордиреЗ /etc/snmp/snmptt.conf рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдерд╛, рд╡реЗ /var/log/snmptt/snmpttunknown.log рд▓реЙрдЧ рдкрд░ рдЬрд╛рдПрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЙрд╕реА рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд╕реЗ рдЬрд┐рд╕рдореЗрдВ рд╕рд╣реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рдЗрдВрдЬрдирдЖрдИрдбреА рдПрдХ рд╣реА рд╡рд┐рдиреНрдпрд╛рд╕ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдпрд╣реА рд╣реИ, рдмрд╛рдИрдВ рдЧреНрд░рдВрдерд┐рдпреЛрдВ рд╕реЗ рдЯреАрдЖрд░рдПрдкреА рдХреЗрд╡рд▓ рдЪреБрдкрдЪрд╛рдк рдЧрд┐рд░рд╛ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЕрдЧрд░ рдЖрдк рдордЯрди рдФрд░ рдбрд┐рдмреНрд░реАрдкрд┐рдВрдЧ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдЖрдкрдХреЗ рдкрд╛рд╕ рдиреЗрдЯ-рд╕реНрдиреИрдореНрдк рдкрд░ рдЕрд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд╕рд╛рдиреЗ рдЧреЛрджреА рд╣реИ, рдЯреАрдЖрд░рдПрдкреА рдФрд░ рдЗрдиреНрдлреЛрд░рдо рдХреЗ рдмреАрдЪ рдХрд╛ рдЕрдВрддрд░ рдЕрднреА рднреА рд╡рд╣рд╛рдВ рд╡рд░реНрдгрд┐рдд рд╣реИ, рдЖрдЧреЗ рджреЗрдЦрддреЗ рд╣реБрдП, INFORM, рдЖрджрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реИред kред рд╡рд╣рд╛рдВ рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╡рд┐рддрд░рдг рдирд┐рдпрдВрддреНрд░рдг рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ UDP рдкрд░ UDP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br>  рдФрд░ рдХреЗрд╡рд▓ рдЕрдм рд╣рдо рдЕрдкрдиреЗ рдореЙрдирд┐рдЯрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрдврд╝рддреЗ рд╣реИрдВред <br><br><h2>  Zabbix рд╕реЗрдЯрдЕрдк </h2><br><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ /etc/zabbix/zabbix_server.conf рдореЗрдВ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╕рд╣реА SNMPTT рд▓реЙрдЧ рдкрд░ рд╕реЗрдЯ рд╣реИ рдФрд░ Zabbix рдЦреБрдж рдХрдо рд╕реЗ рдХрдо рдПрдХ SNMP рдЯреНрд░реИрдкрд░ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ: <br><br> <code>SNMPTrapperFile=/var/log/snmptt/snmptt.log <br> StartSNMPTrapper=1</code> <br> <br>  рд╢реБрд░реБрдЖрдд рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рд╕реАрдзреЗ рд╣реЛрд╕реНрдЯ рдкрд░ рдЖрдЗрдЯрдо рдмрдирд╛рдпрд╛, рддрд╛рдХрд┐ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рднрд╛рд╡реЛрдВ рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рддреЗрдЬрд╝ рдФрд░ рдЖрд╕рд╛рди рд╣реЛ, рдпрд╣рд╛рдВ рдореИрдВ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рд▓рд┐рдЦреВрдВ рдХрд┐ рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╡рд╣ рдЯреЗрдореНрдкрд▓реЗрдЯ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЬрдм рднреА рд╕рдВрднрд╡ рд╣реЛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдореИрдВ рдЖрдкрдХреЛ рддрд╕реНрд╡реАрд░реЗрдВ рджрд┐рдЦрд╛рдКрдВрдЧрд╛, рдХреЙрдкреА-рдкреЗрд╕реНрдЯ рдлреНрд░реАрдмреА рдЦрддреНрдо рд╣реЛ рдЧрдИ рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВ рдЙрди рдЬрдЧрд╣реЛрдВ рдХреЛ рд░рдВрдЧ рджреВрдВрдЧрд╛ рдЬрд┐рди рдкрд░ рдЖрдкрдХреЛ рдзреНрдпрд╛рди рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдПрдХ рдЯреЗрдореНрдкрд▓реЗрдЯ рдмрдирд╛рдПрдБ: <br><br><img src="https://habrastorage.org/webt/h_/ne/mw/h_nemwwcsrjzr1dvlqimgrmsq5e.png" alt="рдЫрд╡рд┐"><br><br>  рдпрд╣рд╛рдВ рд╣рдо рд╕рд┐рд░реНрдл рдПрдХ рд╕рдВрдд рдирд╛рдо рджреЗрддреЗ рд╣реИрдВ <br><br>  рдЖрдЗрдЯрдо рдмрдирд╛рдПрдБ <br><br><img src="https://habrastorage.org/webt/-c/hz/8k/-chz8klwqft17k391xp7epqusfs.png" alt="рдЫрд╡рд┐"><br><br>  рдорд╣рддреНрд╡рдкреВрд░реНрдг - рдХреБрдВрдЬреА рдЗрд╕ рддрд░рд╣ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП, рд╡рд░реНрдЧ рдХреЛрд╖реНрдардХ рдореЗрдВ рдЬреЛ рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рд╡рд╣ рд╡рд╣реА рд╣реИ рдЬреЛ рдЬрд╝рдмрд┐рдХреНрд╕ рд▓реЙрдЧ рдореЗрдВ рджрд┐рдЦреЗрдЧрд╛, рд╣рдордиреЗ рд▓реЙрдЧ рдкреНрд░рд╛рд░реВрдк рдХреЛ /etc/snmp/snmptt.conf рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдФрд░ рд╡рд╣рд╛рдВ рд▓рд┐рдЦрд╛: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">EVENT</span></span> ospfNbrStateChange .<span class="hljs-number"><span class="hljs-number">1.3.6.1</span></span>.<span class="hljs-number"><span class="hljs-number">2.1.14.16</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"OSPF"</span></span> Normal FORMAT ZBXTRAP <span class="hljs-variable"><span class="hljs-variable">$aA</span></span> OSPF neighbor with IP addr <span class="hljs-variable"><span class="hljs-variable">$2</span></span> changed state to <span class="hljs-variable"><span class="hljs-variable">$5</span></span></code> </pre> <br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд▓реЙрдЧ рдореЗрдВ, рдпрд╣ рдЬрд╛рджреВ рд╢рдмреНрдж "OSPF" рд╣реИ рдФрд░ рдкреНрд░рдХрдЯ рд╣реЛрддрд╛ рд╣реИ: <br><br><pre> <code class="hljs css">2018 07 19 15<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:25</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:38</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ZBXTRAP</span></span> 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.216</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.82</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span></code> </pre> <br>  рджрд┐рдирд╛рдВрдХ рдкреНрд░рд╛рд░реВрдк рд╣рдордиреЗ /etc/snmp/snmptt.ini рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИ: <br><br><pre> <code class="hljs perl">date_time_format = %Y %m %d %H:%M:%S</code> </pre> <br>  рдореИрдВрдиреЗ рдЬреЛ рдКрдкрд░ рд▓рд┐рдЦрд╛ рд╣реИ - рдЖрдкрдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдХрд┐рд╕реА рднреА рдкреНрд░рд╛рд░реВрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдореБрдЦреНрдп рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рд╕рд╣реА рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИред <br><br>  рдПрдХ рдЯреНрд░рд┐рдЧрд░ рдмрдирд╛рдПрдБ <br><br><img src="https://habrastorage.org/webt/7q/ci/b4/7qcib4j6sxnym61nykigci8gyac.png" alt="рдЫрд╡рд┐"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ</a> рдкрдбрд╝реЛрд╕реА рдХреЗ рдкрд╛рд╕ рдХрдИ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд╛рдЬреНрдп</a> рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs swift"><span class="hljs-number"><span class="hljs-number">1</span></span> : down <span class="hljs-number"><span class="hljs-number">2</span></span> : attempt <span class="hljs-number"><span class="hljs-number">3</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> : twoWay <span class="hljs-number"><span class="hljs-number">5</span></span> : exchangeStart <span class="hljs-number"><span class="hljs-number">6</span></span> : exchange <span class="hljs-number"><span class="hljs-number">7</span></span> : loading <span class="hljs-number"><span class="hljs-number">8</span></span> : full</code> </pre> <br>  рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдорд╛рдпрдиреЗ рдирд╣реАрдВ рд░рдЦрддрд╛ рд╣реИ рдХрд┐ рдкрдбрд╝реЛрд╕реА рдХрд┐рд╕ рддрд░рд╣ рдХрд╛ рд░рд╛рдЬреНрдп рд╣реИ, рдЕрдЧрд░ рдпрд╣ рд░рд╛рдЬреНрдп рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рдХрд╛ рдирд┐рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрднреА рднреА рд▓реЛрд╣реЗ рдХреЗ рдЯреБрдХрдбрд╝реЗ рдкрд░ рдЬрд╛рдирд╛ рд╣реИ, рд▓реЙрдЧ рдкрдврд╝реЗрдВ, рдХреБрдЫ рдХрдорд╛рдВрдб рджрд░реНрдЬ рдХрд░реЗрдВред  рддреЛ рдЯреНрд░рд┐рдЧрд░ рдПрдХ рд╣реЛрдЧрд╛ рдФрд░ рдХреЗрд╡рд▓ рддрднреА рдЙрддреНрддреЗрдЬрд┐рдд рд╣реЛрдЧрд╛ рдЬрдм TRAP рдореЗрдВ рдкрдбрд╝реЛрд╕реА рдХреА рд╕реНрдерд┐рддрд┐ FULL рдирд╣реАрдВ рд╣реИред <br><br>  рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╣реЛрд╕реНрдЯ рдкрд░ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдХреЛ рд▓рдЯрдХрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рд╣реЛрд╕реНрдЯ рд╕рд╣реА IP рдкрддреЗ рдХреЗ рд╕рд╛рде рд╕рд╣реА SNMP рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЕрдиреНрдпрдерд╛ рд▓реИрдбрд░ /var/log/snmptt/snmptt.log рд▓реЙрдЧ рдореЗрдВ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди Zbbix рдЙрдиреНрд╣реЗрдВ рд╣реЛрд╕реНрдЯ рдХреЗ рд╕рд╛рде рдмрд╛рдБрдз рдирд╣реАрдВ рдкрд╛рдПрдЧрд╛ред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд╕рд░реНрд╡рд░ / рдЬрд╝рд╡рд░рдмреЙрдЧ / рдЬрд╝реИрдмрд┐рдХреНрд╕ / рдЬрд╝реИрдмрд┐рдХреНрд╕_рд╕рд░реНрд╡рд░ рдХреЗ рдЬрд╝реИрдмрд┐рдХреНрд╕ рд▓реЙрдЧ рдореЗрдВ рдлрд╝реЙрд░реНрдо рдХрд╛ рд╕рдВрджреЗрд╢ рд╣реЛрдЧрд╛: <br><br><pre> <code class="hljs css">19972<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:20180720</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:091722.896</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">unmatched</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">trap</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">received</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> "192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span>": 2018 07 20 09<span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:17</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:21</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.14</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.16</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.2</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Normal</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span>" 192<span class="hljs-selector-class"><span class="hljs-selector-class">.168</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.192</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.169</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OSPF</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">neighbor</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">with</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">IP</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">addr</span></span> 10<span class="hljs-selector-class"><span class="hljs-selector-class">.64</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">changed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">state</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">exchangeStart</span></span></code> </pre> <br><br>  рдирд╡реАрдирддрдо рдбреЗрдЯрд╛ рдкрд░ рдЬрд╛рдПрдВ, рджреЗрдЦреЗрдВ <br><br><img src="https://habrastorage.org/webt/pu/gj/w9/pugjw9j9ccjdnkj6x50trsfqeoc.png" alt="рдЫрд╡рд┐"><br><br>  рдЯреНрд░рд┐рдЧрд░ рдиреЗ рднреА рдХрд╛рдо рдХрд┐рдпрд╛ <br><br><img src="https://habrastorage.org/webt/fm/wc/gp/fmwcgp5pjammodrcqjsrj3zpebe.png" alt="рдЫрд╡рд┐"><br><br>  рдЕрдм рджреЛ рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХреЛ рд░рдЦреЛ <br><br><img src="https://habrastorage.org/webt/7e/uh/d5/7euhd5pegn-7b_6ofpxmbctzt8c.png" alt="рдЫрд╡рд┐"><br><br>  рдбреИрд╢рдмреЛрд░реНрдб рдореЗрдВ, рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рджреЛ рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реБрдИрдВ, рдпрд╣ рдЕрдЪреНрдЫрд╛ рд╣реИ, рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рджреЛ рдЕрдХреНрд╖рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рдЕрдзрд┐рд╕реВрдЪрдирд╛ рдХреЗ рд╕рд╛рде рдЗрд╕ рд╡рд┐рд╖рдп рдкрд░ рдкрд╣реБрдВрдЪреЗрдВрдЧреЗред <br><br>  рд╕рдм рдХреБрдЫ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИ, рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпрд╣рд╛рдВ рдЕрдВрдд рдореЗрдВ рдХреЗрдХ рдкрд░ рдЪреЗрд░реА рд╣реИред <br><br><div class="spoiler">  <b class="spoiler_title">рдирд┐рд░рд╛рд╢рд╛</b> <div class="spoiler_text">  рдЕрдм рд╣рдо рдПрдХ рдкрдбрд╝реЛрд╕реА рдХреЛ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЙрдард╛рддреЗ рд╣реИрдВред  рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ, рдбреИрд╢рдмреЛрд░реНрдб рдореЗрдВ рджреЛрдиреЛрдВ рд╕рдорд╕реНрдпрд╛рдПрдВ рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рдПрдВрдЧреАред  рдпрд╣ рдПрдХ рдмрдЧ рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИред  рдореИрдВрдиреЗ рдЧрд▓рддреА рд╕реЗ рдЗрд╕ рддрд░рд╣ рдХреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрдм рдореИрдВрдиреЗ рдЯреЗрдореНрдкрд▓реЗрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ред  рдирддреАрдЬрддрди, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдХрдИ рдкрдбрд╝реЛрд╕реА рдЧрд┐рд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдЙрдарддрд╛ рд╣реИ, рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдкрдбрд╝реЛрд╕реА рдЙрдарддрд╛ рд╣реИ, рдЬреЛ рдкрд╣рд▓реЗ рдореМрдЬреВрдж рдирд╣реАрдВ рдерд╛, рддреЛ рдирд┐рдЧрд░рд╛рдиреА рд╣рд░реА рд╣реЛ рдЬрд╛рдПрдЧреАред <br>  рдмреЗрд╢рдХ, рдЖрдк рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрдбрд╝реЛрд╕реА рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рд╕реЗ рдЖрдЗрдЯрдо рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЖрдк рдЕрднреА рднреА рдХреБрдЫ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЖрдк рд▓реЗрдЦ рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗ рд╣реА рдПрд╕рдПрдирдПрдордкреА рд╕рдВрджрд░реНрднреЛрдВ рдкрд░ рд▓реМрдЯ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрднреА рднреА рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЦреАрдВрдЪрдиреЗ рдХрд╛ рдПрдХ рд╡рд┐рдЪрд╛рд░ рд╣реИ рдЬреЛ рдПрд╕рдПрд╕рдПрдЪ / рдПрдкреАрдЖрдИ рд╕реЗ рдЕрдзрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдЧреНрд░рдВрдерд┐рдпреЛрдВ рдкрд░ рдЬрд╛рдПрдЧрд╛, рд╕рднреА рдкрдбрд╝реЛрд╕рд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░реЗрдЧрд╛, рдПрдХ "рдХрд╛рдо" рдХрд╛рд╕реНрдЯ рдХрд░реЗрдЧрд╛, рдЪреЗрдХ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдЧрд╛ рдФрд░ рд▓реЙрдЧ рдореЗрдВ рдХреНрдпрд╛ рдЧрд▓рдд рд╣реИ рд▓рд┐рдЦ рд╕рдХрддрд╛ рд╣реИ, рдлрд┐рд░ рд▓реЙрдЧ рдХреЛ рдореЙрдирд┐рдЯрд░ рдХреЛ рдЦрд┐рд▓рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ ... рдпрд╣ рдореБрд╢реНрдХрд┐рд▓ рд╣реИред  рдореИрдВ рдХрдо рд╕реЗ рдХрдо рдмреИрд╕рд╛рдЦреА рдФрд░ рд░рд┐рд╡рд╛рдЬ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдпрджрд┐ рдЖрдк рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╕рдордЭрджрд╛рд░ рддрд░реАрдХрд╛ рдЬрд╛рдирддреЗ рд╣реИрдВ рдпрд╛ рд╕реЛрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдореИрдВрдиреЗ рд╕рдм рдХреБрдЫ рдЧрд▓рдд рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдореИрдВ рдлрд┐рд░ рд╕реЗ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рдкреВрдЫрддрд╛ рд╣реВрдВ, рдмрд▓реНрдХрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд▓реЗрдЦ рдореЗрдВред <br></div></div><br><br>  UPD: рд╣рдорд╛рд░реЗ рд╕рд╣рдпреЛрдЧрд┐рдпреЛрдВ рдиреЗ рд╣рдореЗрдВ рдЗрд╕реЗ рдЫрд╛рдБрдЯрдиреЗ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">SNMP рд╕рдВрджрд░реНрднреЛрдВ</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рдорд╛рд░реА рдпреЛрдЬрдирд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреАред  рдорд╛рдВрдЧ рд╣реИ, рдЖрдкреВрд░реНрддрд┐ рд╣реЛрдЧреАред  рдЖрдЧреЗ рджреЗрдЦрддреЗ рд╣реБрдП рдореИрдВ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ - рд╢реИрддрд╛рди рдЗрддрдирд╛ рднрдпрд╛рдирдХ рдирд╣реАрдВ рд╣реИ, рдЪрд▓реЛ рдЪрд▓рддреЗ рд╣реИрдВред <br>  рд▓реЛрд╣реЗ рдХреЗ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рдЯреБрдХрдбрд╝реЗ рдкрд░ рд╣рдо рдПрдХ рдЬрд╛рджреВ рдХрдорд╛рдВрдб рдмрдирд╛рддреЗ рд╣реИрдВ: <br><br> <code>snmp-server context {snmp context name} instance {protocol instance} vrf {vrf name}</code> <br> <br>  рдкреИрд░рд╛рдореАрдЯрд░ рдирд╛рдореЛрдВ рдХреЛ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <br>  {snmp рд╕рдВрджрд░реНрдн рдирд╛рдо} - SNMP рд╕рдВрджрд░реНрдн рдХрд╛ рдирд╛рдо рдЬрд┐рд╕реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br>  {рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЙрджрд╛рд╣рд░рдг} рдФрд░ {vrf рдирд╛рдо} рд╣рдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ OSPF рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╡рд┐рдиреНрдпрд╛рд╕ рд╕реЗ рд▓реЗрддреЗ рд╣реИрдВ: <br><br> <code>router ospf {protocol instance} <br> .. <br> vrf {vrf name} <br> ..</code> <br> <br>  рдРрд╕реА рдЖрд╢рдВрдХрд╛ рдереА рдХрд┐ рдРрд╕реА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмрд╛рдж рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХреА рдЧрдИ рд╡рд╕реНрддреБ рдХреЛ SNMP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рдЦрд╛рд▓реА рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рддреЛрдбрд╝ рджреЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рдЬрд╛рдБрдЪ рдХреА рдХрд┐ рд╕реЗрдЯрд┐рдВрдЧ OSPF-MIB рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреЗрд╡рд▓ рдбреЗрдЯрд╛ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреА рд╣реИ, рдЬрдмрдХрд┐ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП IF-MIB рд╕реЗрдХреНрд╢рди рдореЗрдВ рд╕рдмрдХреБрдЫ рдПрдХ рдЦрд╛рд▓реА рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рдкрд╣рд▓реЗ рдХреА рддрд░рд╣ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдиреЗрдХреНрд╕рд╕ рдирд╣реАрдВ рд╣реИ, рддреЛ рдореИрдВ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд╕реЗ рдЗрд╕ рдмрд┐рдВрджреБ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВ - рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рд╡реНрдпрд╡рд╣рд╛рд░ рдЕрд▓рдЧ рд╣реЛрдЧрд╛ред <br><br>  рдЕрдм Zabbix рдореЗрдВ рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреЛ рдЯреНрд╡рд┐рд╕реНрдЯ рдХрд░реЗрдВред <br>  рдЖрдкрдХреЛ рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рдПрдХ рдирдпрд╛ рдбрд┐рд╕реНрдХрд╡рд░реА рдирд┐рдпрдо рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛: <br><br><img src="https://habrastorage.org/webt/by/xd/ph/byxdpha64kwdstjxoipfjr3avl0.png" alt="рдЫрд╡рд┐"><br><br>  рдирдИ рдЖрдЗрдЯрдо рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рднреА рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде <br><br><img src="https://habrastorage.org/webt/oy/e1/2x/oye12xxe-ec-ohifymjb-zizpom.png" alt="рдЫрд╡рд┐"><br><br>  рдФрд░ рджреЛ рдЯреНрд░рд┐рдЧрд░ - рдкрд╣рд▓реЗ рдПрдХ - рдЕрд▓рд╛рд░реНрдо рдХреЗ рд▓рд┐рдП рдЕрдЧрд░ рдкрдбрд╝реЛрд╕реА рдлреБрд▓ рдХреЛ рдЫреЛрдбрд╝рдХрд░ рдХрд┐рд╕реА рднреА рд░рд╛рдЬреНрдп рдореЗрдВ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/rj/gs/os/rjgsosmcwivhwhxjtnjheyymhza.png" alt="рдЫрд╡рд┐"><br><br>  рдФрд░ рджреВрд╕рд░рд╛ - рдпрджрд┐ рдкрдбрд╝реЛрд╕реА рдЧрд╛рдпрдм рд╣реИ: <br><br><img src="https://habrastorage.org/webt/sb/cx/i3/sbcxi3qrz-d-c82vyk_khmaw6im.png" alt="рдЫрд╡рд┐"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi417813/">https://habr.com/ru/post/hi417813/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi417795/index.html">рдореЗрд░реА рдХрд┐рд╢реЛрд░рд╛рд╡рд╕реНрдерд╛ рдореЗрдВ рд╡реАрдбрд┐рдпреЛ рдЧреЗрдо рдХреЗ рдкреНрд░рддрд┐ рдореЗрд░рд╛ рдЬреБрдиреВрди "рдЧреЗрдорд┐рдВрдЧ рд╡рд┐рдХрд╛рд░" рдирд╣реАрдВ рд╣реИ</a></li>
<li><a href="../hi417797/index.html">4 рдХрд╛рд░рдг рдирд╛рд╕рд╛ рдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛рдПрдВ рд╕рдордп рд╕реАрдорд╛ рддреЛрдбрд╝ рд░рд╣реА рд╣реИрдВ рдФрд░ рдмрдЬрдЯ рдХреЛ рдмрдврд╝рд╛ рд░рд╣реА рд╣реИрдВ</a></li>
<li><a href="../hi417801/index.html">рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдореИрдВ рдЗрдЬрд╝рд░рд╛рдЗрд▓ рдХреИрд╕реЗ рдЪрд▓рд╛ рдЧрдпрд╛</a></li>
<li><a href="../hi417803/index.html">рдмреНрд▓реЗрдВрдбрд░ рдореЗрдВ рдмреИрдЪ рдлреЛрдЯреЛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ</a></li>
<li><a href="../hi417809/index.html">рдПрдЖрдИ, рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдкрд╛рдареНрдпрдХреНрд░рдоред рдЫрд╡рд┐ рд╡рд░реНрдЧреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЖрдзреБрдирд┐рдХ рдЧрд╣рд░реЗ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░</a></li>
<li><a href="../hi417821/index.html">рдиреЗрдЯрд╡рд░реНрдХ рдбрд╛рдЗрдЬреЗрд╕реНрдЯ: рдкреНрд░реЛрдЯреЛрдХреЙрд▓, рдорд╛рдирдХреЛрдВ рдФрд░ рд╕реВрдЪрдирд╛ рд╕реБрд░рдХреНрд╖рд╛ рдкрд░ 20 рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд╕рд╛рдордЧреНрд░реА</a></li>
<li><a href="../hi417823/index.html">рдирдИ рдкреАрдврд╝реА: рджреБрдирд┐рдпрд╛ рдХрд╛ рдкрд╣рд▓рд╛ рд╡рд╛рдгрд┐рдЬреНрдпрд┐рдХ 5 рдЬреА рдиреЗрдЯрд╡рд░реНрдХ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЧрдпрд╛</a></li>
<li><a href="../hi417825/index.html">"рд╕реАрдорд╛рдУрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░": 6 GHz рд░реЗрдВрдЬ рдХреЛ рд╡рд╛рдИ-рдлрд╛рдИ рдХреА рдЬрд░реВрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛</a></li>
<li><a href="../hi417827/index.html">рдлреНрд░реА рд╡рд╛рдИ-рдлрд╛рдИ: рдЬрд░реНрдорди рдХреЛрд░реНрдЯ рдиреЗ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рдХреЙрдкреАрд░рд╛рдЗрдЯ рдЙрд▓реНрд▓рдВрдШрди рдХреЗ рд▓рд┐рдП рдХреЙрдлреА рд╣рд╛рдЙрд╕ рдХреЗ рд▓рд┐рдП рджрдВрдб рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░ рджрд┐рдпрд╛</a></li>
<li><a href="../hi417829/index.html">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреА рдкрд░рддреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ 5 рд╕реЗ 2 рддрдХ рдХрдо рдХрд░реЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>