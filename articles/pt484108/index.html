<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèØ üö£üèø üë©‚Äçüë©‚Äçüëß Encapsulador Etherblade.net e Substitui√ß√£o de Importa√ß√£o para Componentes de Rede (Parte Dois) üöØ üëµüèΩ üíÜüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No primeiro artigo, eu queria mostrar que o desenvolvimento de FPGA √© uma tarefa interessante, e a implementa√ß√£o de um encapsulador de fluxo √© um proj...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Encapsulador Etherblade.net e Substitui√ß√£o de Importa√ß√£o para Componentes de Rede (Parte Dois)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484108/"><img src="https://habrastorage.org/webt/sb/gp/m_/sbgpm_3myxkg6cknsoshl2_ll-m.jpeg" alt="imagem"><br><br>  No <a href="https://habr.com/en/post/439540/">primeiro artigo,</a> eu queria mostrar que o desenvolvimento de FPGA √© uma tarefa interessante, e a implementa√ß√£o de um encapsulador de fluxo √© um projeto bastante simples que pode funcionar como um projeto acad√™mico para estudantes seniores ou estudantes de p√≥s-gradua√ß√£o. <br><br>  Embora valha a pena fazer o design de hardware apenas por divers√£o, neste artigo quero prestar aten√ß√£o ao valor pr√°tico desta li√ß√£o.  Em particular, nossa conversa continuar√° sobre como criar uma infraestrutura de rede para operadoras de telecomunica√ß√µes usando o encapsulador Etherblade.net implementado no FPGA. <br><br>  Este texto √© uma vis√£o sobre tecnologias de rede e, para encaixar um t√≥pico t√£o extenso na estrutura de um artigo, decidi escrev√™-lo no contexto de algum plano de a√ß√£o ou, se desejar, a resposta para a seguinte pergunta: ‚ÄúComo substituir equipamentos usando FPGA e c√≥digo aberto da maneira mais eficiente poss√≠vel da Cisco e Juniper ". <br>  Ent√£o, vamos come√ßar. <br><a name="habracut"></a><br><h3>  O conceito de SDN (rede definida por software) contra grandes fornecedores </h3><br>  Tradicionalmente, h√° d√©cadas, os equipamentos de rede s√£o fabricados por gigantes como Cisco e Juniper.  Hoje, as grandes operadoras de rede que desenvolvem seus pr√≥prios equipamentos de rede est√£o se tornando a nova norma.  O objetivo que eles desejam alcan√ßar √© a independ√™ncia dos fornecedores de componentes e um melhor controle sobre a infraestrutura. <br><br>  Na R√∫ssia, por raz√µes pol√≠ticas, essa abordagem associada √† substitui√ß√£o de produtos de terceiros por sistemas com uma porcentagem maior de componentes intelectuais desenvolvidos localmente (blocos de propriedade intelectual ou n√∫cleos de IP) √© geralmente chamada de substitui√ß√£o de importa√ß√£o. <br><br>  Deve-se entender que as grandes empresas possuem uma enorme quantidade de recursos de engenharia e dependem de um modelo de desenvolvimento verticalmente integrado.  E os fabricantes relativamente pequenos? <br><br>  A falta de recursos pode ser compensada pelo c√≥digo aberto.  E a falta de integra√ß√£o vertical com a distribui√ß√£o correta de subtarefas entre players menores. <br><br>  A arquitetura dos dispositivos de rede tradicionalmente produzidos por grandes fornecedores √© facilmente segmentada.  Para paralelizar o processo e destacar subtarefas individuais, o conceito de SDN (rede definida por software) sugere segmentar a arquitetura dos dispositivos de rede em n√≠veis, em particular, separar o n√≠vel de gerenciamento de rede (plano de controle) do n√≠vel de dispositivos de transfer√™ncia de dados (plano de dados). <br><br>  Observo que hoje o SDN se tornou uma poderosa ferramenta de marketing para grandes fornecedores que o apresentam como um conjunto de "novos recursos" √∫teis para o usu√°rio final.  O engra√ßado √© que historicamente, como j√° observei, o conceito de SDN foi criado apenas em contraste com os gigantes da ind√∫stria. <br><br>  Portanto, a SDN oferece um modelo de arquitetura de um roteador de rede de forma desmontada.  Nossa tarefa √© identificar o componente de interesse para n√≥s nesse modelo e come√ßar a desenvolv√™-lo. <br><br><h3>  "Vamos come√ßar pequenos" - encapsulamento em roteadores e sobreposi√ß√£o SDN </h3><br>  √â natural resolver todas as necessidades do mundo de uma s√≥ vez.  Assim, ao criar sistemas grandes, faz sentido come√ßar pequeno e tornar o sistema extens√≠vel, para que funcionalidades adicionais possam ser introduzidas integrando blocos adicionais ou modificando os existentes.  Com as palavras "come√ßar pequeno", quero dizer a sele√ß√£o de alguma fun√ß√£o de rede completa suficiente para construir um sistema em funcionamento. <br><br>  No projeto Etherblade.net, como tais fun√ß√µes, foi decidido implementar um mecanismo para encapsular o tr√°fego de rede. <br><br>  Encapsulamento em redes √© uma coisa comum.  Vamos "desagregar" o roteador e considerar como seus componentes correspondem aos componentes do modelo SDN e determinar qual lugar o encapsulamento ocupa nos dois modelos. <br><br>  Por exemplo, pegue um dos roteadores mostrados na figura no in√≠cio do artigo e o descreva na figura abaixo - mas j√° em um formato "preparado". <br>  Na mesma figura, contrastamos o roteador com um ‚Äúmodelo SDN de sobreposi√ß√£o‚Äù alternativo que fornece funcionalidade semelhante. <br><br><img src="https://habrastorage.org/webt/st/1-/qn/st1-qn0wsbuo99dme1p6ind1zts.jpeg" alt="imagem"><br><br>  <i>O n√≠vel superior (verde) √© o plano de controle / orquestra√ß√£o SDN.</i>  Esse √© o c√©rebro do sistema, de fato o microprocessador no qual o software de rede de controle √© executado.  Nos roteadores tradicionais, esse componente √© incorporado.  No SDN, essa funcionalidade geralmente √© transferida para um "controlador de orquestra√ß√£o" externo - um computador que serve muitos dispositivos de rede. <br><br>  <i>Caminho de encaminhamento de n√≠vel m√©dio (azul).</i>  O principal papel desse n√≠vel √© o fornecimento de transporte de rede (comuta√ß√£o / roteamento de tr√°fego).  Nos roteadores tradicionais - essa funcionalidade √© implementada como uma unidade de comuta√ß√£o interna.  No nosso modelo ‚ÄúSDN-overlay‚Äù, o papel desse componente de ‚Äúcomuta√ß√£o‚Äù pode ser completamente reduzido ao conectar diretamente os dispositivos de borda (caixa branca) √† rede de transporte. <br><br>  <i>N√≠vel inferior (laranja) - borda / acesso.</i>  Nesses componentes, todas as manipula√ß√µes com o tr√°fego de rede, como encapsulamento e outras convers√µes de protocolo, ocorrem.  Este n√≠vel √© caracterizado por alta velocidade de processamento e funcionalidade determin√≠stica - um √≥timo local para ASIC / FPGA.  Nos roteadores tradicionais, essa funcionalidade √© implementada em m√≥dulos lineares (placas de linha); no SDN, esses s√£o os chamados "dispositivos de caixa branca". <br><br>  Assim, resumindo o exposto, podemos dizer que o Etherblade.net √© essencialmente um projeto para desenvolver dispositivos de "caixa branca" para "SDN-overlay". <br><br><h3>  ‚ÄúEncaminhar para data centers !!!‚Äù - encapsulador como uma fun√ß√£o de NFV (virtualiza√ß√£o de fun√ß√µes de rede) </h3><br>  Tendo descoberto como o sistema que estamos desenvolvendo parece estruturalmente, faz sentido falar sobre as op√ß√µes para sua incorpora√ß√£o f√≠sica. <br><br><img src="https://habrastorage.org/webt/dy/2f/bo/dy2fbobgp1h95wrlb5ix7oufqsc.jpeg" alt="imagem"><br><br>  <i>√Ä esquerda, h√° um encapsulador Etherblade como um dispositivo CPE separado (vers√£o do campus).</i>  <i>√Ä direita est√° o encapsulador Etherblade implementado dentro do servidor (op√ß√£o para data centers).</i> <br><br>  √â interessante que, ao implementar um encapsulador em uma placa com uma interface PCIe e "ocultar" essa placa dentro do servidor, podemos realmente criar a ilus√£o de virtualizar essa fun√ß√£o de rede.  Essa abordagem √© chamada NFV - virtualiza√ß√£o de fun√ß√µes de rede. <br><br>  O conceito de NFV envolve livrar-se de dispositivos de rede externos, como firewalls, balanceadores de carga, etc., devido √† virtualiza√ß√£o de suas fun√ß√µes dentro dos servidores.  A implementa√ß√£o do encapsulador como uma fun√ß√£o NFV nos permite livrar-nos dos roteadores f√≠sicos "de ponta". <br><br>  Assim, o NFV est√° na moda e √© conveniente.  A dificuldade √© que, em termos de design de hardware, restringir o PCIe n√£o √© t√£o f√°cil quanto a Ethernet.  Se ethernet √© um protocolo serial serial, o PCIe √© um protocolo transacional complexo com muitos estados finais (essencialmente uma pilha de rede implementada em hardware).  N√£o esque√ßa que o sistema operacional requer os drivers apropriados para funcionar com o dispositivo PCIe. <br><br>  Uma das solu√ß√µes mais elegantes para o problema √© o uso de placas FPGA, semelhante √† mostrada no in√≠cio do artigo.  A figura a seguir mostra a arquitetura da placa e as duas op√ß√µes para implementar o encapsulador nela. <br><br><img src="https://habrastorage.org/webt/0e/t0/qh/0et0qhecnnikyxlobefzsm4fqju.jpeg" alt="imagem"><br><br>  Como voc√™ pode ver, essa placa FPGA possui adaptadores de rede ‚Äúexternos‚Äù, que s√£o essencialmente conversores entre ethernet e PCIe.  Assim, a implementa√ß√£o do encapsulador em tais dispositivos torna poss√≠vel obter o NFV "pronto para uso" - sem problemas desnecess√°rios com PCIe e drivers de grava√ß√£o. <br><br><h3>  De ‚Äúprivado a geral‚Äù - criando um reposit√≥rio aberto de n√∫cleos IP de rede </h3><br>  N√£o se pode discordar do fato de que hoje existem muitos ASICs de rede especializados (por exemplo, da Broadcom) que podem traduzir qualquer projeto desse tipo em outra hist√≥ria da s√©rie ‚ÄúGostando de Trabalhar com FPGA‚Äù.  O ceticismo √© apropriado nesse caso, no entanto, quero lembr√°-lo de que o projeto Etherblade.net n√£o se limita √† cria√ß√£o de um dispositivo de rede separado.  O principal objetivo do Etherblade.net √© criar um reposit√≥rio aberto de n√∫cleos IP parametrizados e documentados. <br><br>  Este reposit√≥rio pode se tornar uma base eficaz para a cria√ß√£o de toda uma gama de dispositivos de rede (incluindo os mais ex√≥ticos), que por sua vez podem ser implementados no FPGA e na forma de ASIC. <br><br>  Sobre isso - eu termino.  No pr√≥ximo artigo, iremos diretamente ao design de hardware, mas, por enquanto, convido voc√™ a se familiarizar com o projeto mais perto do <a href="https://etherblade.net/">etherblade.net</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt484108/">https://habr.com/ru/post/pt484108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt484094/index.html">Crie um jogo de tiro em zumbi na terceira pessoa com DOTS</a></li>
<li><a href="../pt484096/index.html">A batalha dos dois Yakozun, ou Cassandra vs HBase. Experi√™ncia da equipe Sberbank</a></li>
<li><a href="../pt484100/index.html">Trabalhando com a interface no SDK do Google Maps para Android</a></li>
<li><a href="../pt484102/index.html">PHP vs Python vs Ruby on Rails: Compara√ß√£o Detalhada</a></li>
<li><a href="../pt484106/index.html">MVCC no PostgreSQL-6. V√°cuo</a></li>
<li><a href="../pt484112/index.html">√â poss√≠vel invadir um avi√£o</a></li>
<li><a href="../pt484114/index.html">Uma sele√ß√£o de 143 tradu√ß√µes do ensaio de Paul Graham (de 184)</a></li>
<li><a href="../pt484118/index.html">32 de janeiro</a></li>
<li><a href="../pt484120/index.html">As habilidades mais procuradas na profiss√£o de engenheiro de dados</a></li>
<li><a href="../pt484124/index.html">Nikolai Prokhorov: ‚ÄúNa Finl√¢ndia, havia um enorme departamento de Vneshtorg, que fornecia nossos carros para pa√≠ses estrangeiros‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>