<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéõÔ∏è üë©üèΩ‚Äç‚öñÔ∏è üåü Altium Designer: o que fazer se um projeto se tornar complicado? ‚òùüèø üë©üèø‚Äç‚öñÔ∏è üë©üèø‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sauda√ß√µes! Eu acho que qualquer engenheiro ou apenas um amador / fabricante de bricolage / envolvido no desenvolvimento de eletr√¥nicos, est√° tentando ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Altium Designer: o que fazer se um projeto se tornar complicado?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426951/">  Sauda√ß√µes!  Eu acho que qualquer engenheiro ou apenas um amador / fabricante de bricolage / envolvido no desenvolvimento de eletr√¥nicos, est√° tentando desenvolver suas habilidades, que crescem com a complexidade dos projetos.  Em algum momento, uma pessoa atinge um n√≠vel em que lhe parece que os projetos se tornaram muito complexos, levam muito tempo para serem desenvolvidos e voc√™ precisa fazer algo a respeito - voc√™ precisa otimizar seu trabalho.  Hoje vou lhe dizer como aumentar a produtividade do meu trabalho intelectual no Altium Designer 18 (doravante denominado AD ou AD18) e economizar tempo, nervos e dinheiro. <br><br><img src="https://habrastorage.org/webt/gu/zt/o5/guzto50uwjuf0q39ju0n_fvxzg4.jpeg"><br><a name="habracut"></a><br><h2>  1. Introdu√ß√£o </h2><br>  Agora, um pouco de informa√ß√£o para quem n√£o sabe o que √© o Altium Designer.  Este √© um dos tr√™s populares sistemas profissionais de CAD que permitem desenvolver componentes eletr√¥nicos de praticamente qualquer complexidade.  Os dois pacotes restantes s√£o Mentor Expedition (e PADS provavelmente) e Allegro Cadence.  Cada um desses 3 pacotes tem seus pr√≥s e contras, al√©m de especializa√ß√£o condicional.  Hoje n√£o haver√° compara√ß√µes, ent√£o vou apenas dizer por que escolhi o Altium: <br><br><ul><li>  O excelente design e a interface ponderada deste programa est√£o al√©m da concorr√™ncia.  Basta olhar para os concorrentes e tudo fica claro.  Sim, design e usabilidade s√£o importantes quando voc√™ passa v√°rias horas no trabalho todos os dias.  Tamb√©m facilita o processo de aprendizado para iniciantes, porque estudar em um CAD compreens√≠vel e l√≥gico √© muito mais f√°cil; </li><li>  A capacidade de trabalhar diretamente com "tit√¢nio" mec√¢nico como o SolidWorks.  Podemos simplesmente abrir o painel do AD em s√≥lido e adicion√°-lo como parte da montagem sem perda de qualidade.  Adeus convers√£o atrav√©s do STEP.  Para mim, e certamente para voc√™, isso √© importante, porque  um dispositivo eletr√¥nico n√£o √© apenas uma placa com componentes, √© quase sempre tamb√©m um caso.  Esse recurso permite criar facilmente um modelo de montagem de todo o dispositivo e evitar erros no projeto e fabrica√ß√£o de moldes por 3-5 mil d√≥lares cada; </li><li>  A presen√ßa de uma quantidade suficientemente grande de informa√ß√µes em russo, que fornece um limite de entrada bastante baixo.  Esta √© a principal raz√£o pela qual Altium domina na CEI, e n√£o outra coisa.  Tente encontrar algo em russo por Mentor ou Cadence, imediatamente queira aprender a trabalhar neles; </li><li>  Na CEI e na √Åsia, a maioria das empresas trabalha em Altium e, nos Estados Unidos, possui uma grande participa√ß√£o de mercado.  Na Europa, eles amam o SolidWorks PCB, que √© exatamente o mesmo AD incorporado.  O que isso d√°?  Voc√™ pode encontrar facilmente um emprego se decidir trabalhar no campo do desenvolvimento de eletr√¥nicos. </li></ul><br>  Sim, sim, eu n√£o falei sobre todos os tipos de recursos de simula√ß√£o, ferramentas e muito mais, mas isso n√£o √© necess√°rio.  Todos os tr√™s sistemas CAD descritos acima do lado t√©cnico s√£o capazes de fazer aproximadamente a mesma coisa, apenas com graus variados de conveni√™ncia e muletas. <br><br><h2>  Quero aprender a trabalhar no Altium, mas isso me assusta </h2><br>  Uma vez, no ano de 2011-2012, tive a oportunidade de trabalhar no AD pela primeira vez, parecia legal para mim, mas assustador, porque  naquele momento, o ingl√™s era um obst√°culo para mim e, em geral, n√£o estava claro como trabalhar nele.  Para superar meu medo de um grande n√∫mero de ferramentas e funcionalidades, os v√≠deos do camarada me ajudaram.  Sabunina (gra√ßas a ele), que est√° no youtube em russo e descreve coisas b√°sicas b√°sicas que lhe permitiram dar os primeiros passos na masteriza√ß√£o.  Nos √∫ltimos 6 anos, houve ainda mais informa√ß√µes sobre o AD em russo; portanto, o limite de entrada se tornou ainda mais baixo; portanto, n√£o tenha medo e aprenda. <br><br>  Para tornar mais f√°cil voc√™ dominar o Altium Designer, ofere√ßo alguns "biscoitos de gengibre": <br><br><ul><li>  O ciclo de v√≠deoaulas de treinamento est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Os v√≠deos t√™m uma longa dura√ß√£o, mas cont√™m informa√ß√µes abrangentes sobre a fun√ß√£o b√°sica (pelo menos assim o dizem) e permitir√£o a qualquer aluno projetar facilmente seu primeiro dispositivo; </li><li>  Bibliotecas para o Altium Designer - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Aqui voc√™ encontrar√° todos os componentes passivos (resistores, capacitores, etc.), bem como um grande n√∫mero de transistores, diodos e microcircuitos populares, incluindo MK e FPGA.  A cria√ß√£o de bibliotecas no in√≠cio leva muito tempo, por isso espero poupar muito tempo. </li></ul><br>  Se no processo de estudo voc√™ tiver alguma d√∫vida e surgir alguma dificuldade, poder√° me escrever em mensagens privadas, se poss√≠vel, tento responder a todos. <br><br><h2>  Quando um projeto fica complicado? </h2><br>  Qualquer projeto mais ou menos s√©rio, seja o c√≥digo-fonte de um programa ou o diagrama de circuito de um dispositivo eletr√¥nico, sempre tem uma caracter√≠stica ap√≥s a qual o caos se instala, o projeto se torna incompreens√≠vel, √© dif√≠cil verificar e testar, fica fora de controle. <br>  Esse limite √© individual para cada desenvolvedor: um pode entender perfeitamente um dispositivo de 1000 componentes e o outro come√ßa a cometer erros e tem dificuldade com um projeto de 200 componentes.  Em geral, a estimativa no n√∫mero de componentes eletr√¥nicos √© um pouco subjetiva, mas permite entender a ess√™ncia geral do problema. <br><br>  Do exposto, podemos tirar a seguinte conclus√£o: <br><blockquote>  Um projeto fica complicado quando se torna necess√°rio que um desenvolvedor tome a√ß√µes para preservar a legibilidade e a compreens√£o da fonte do projeto. </blockquote><br>  At√© um certo momento, voc√™ certamente pode pontuar qualquer coisa e "desenhar" no diagrama qualquer coisa e de qualquer maneira, por exemplo, assim: <br> <a href=""><img src="https://habrastorage.org/webt/vd/w2/dq/vdw2dq_hwfhik-wmtoqughhf3_4.png"></a> <br><br>  Tudo se funde, o circuito √© desleixado e, finalmente, isso levar√° a um caminho torto ou errado, eles n√£o perceberam imediatamente nesse caos e, como resultado, cortaram os condutores nas placas e soldaram o ranho. <br><br>  Vejamos mais uma obra-prima - o circuito do arduino feito no AD: <br> <a href=""><img src="https://habrastorage.org/webt/nm/sy/za/nmsyzah9v2a4utjzaknyirhrxbg.png"></a> <br><br>  Como voc√™ gosta?  Me d√≥i ... Eu olho para R2 e R3, parece claro que esses s√£o suspensores para I2C, mas onde est√° esse I2C e qual conector deve ser um enigma para mim e eu tenho que procur√°-lo por muito tempo e tediosamente, e esse √© um circuito com um pequeno n√∫mero de componentes e simples, mas j√° ca√≥tico. <br><br>  Agora, como alternativa, um exemplo dos meus trabalhos (clic√°vel): <br> <a href=""><img src="https://habrastorage.org/webt/bj/qa/8n/bjqa8npbvzuprpktybwldilk_zs.png"></a> <br><br>  Olhe para o diagrama e acho que voc√™ entendeu imediatamente pelo menos onde est√° a entrada e onde a sa√≠da √© as ‚Äúsetas‚Äù sugerem isso, e n√£o somos √°rabes, lemos (incluindo os diagramas) da esquerda para a direita.  O m√≥dulo tem uma fun√ß√£o - um filtro de modo comum trif√°sico e nada mais.  O esquema √© feito com cuidado e ocupa 1 folha na documenta√ß√£o.  1 folha - 1 fun√ß√£o. <br><br>  De fato, o que escrevi acima s√£o insignificantes que s√£o importantes e facilitam a vida, mas ainda insignificantes.  Embora eu espero que voc√™ entenda a ideologia geral, vamos resumir agora como "fazer": <br><br><ul><li>  O princ√≠pio de encapsulamento tamb√©m √© aplic√°vel em circuitos: <b>cada m√≥dulo executa uma √∫nica tarefa simples</b> .  Um m√≥dulo √© geralmente uma √∫nica folha na documenta√ß√£o, por exemplo, alguns A3; </li><li>  O diagrama do circuito deve ser realizado no mesmo estilo e com muito cuidado.  A precis√£o ao trabalhar no futuro ser√° totalmente recompensada.  E quando voc√™ mostra na entrevista um esquema compreens√≠vel e cuidadosamente executado, voc√™ imediatamente ter√° uma boa impress√£o.  Eles v√™em as m√£os de uma s√≥ vez e geralmente n√£o gostam; </li><li>  N√£o use folhas maiores que A2, mesmo se voc√™ tiver alguns milhares de componentes.  Se voc√™ deseja manter a A1, est√° fazendo algo errado.  Provavelmente, voc√™ precisa selecionar alguns m√≥dulos no diagrama e transferi-los para uma planilha separada. </li></ul><br><h2>  Voc√™ est√° criticando?  Sugerir! </h2><br>  Agora, tendo criticado os outros, √© necess√°rio propor uma alternativa "como faz√™-lo".  Deve-se entender que a opini√£o subjetiva do autor descrita no artigo se baseia na experi√™ncia de trabalho e em sua pr√≥pria vis√£o de mundo. <br><br>  Proponho fazer como todas as pessoas normais, ou seja, primeiro faremos <s>uma</s> vers√£o ruim do esquema <s>atrav√©s do burro</s> , e depois heroicamente resolveremos todos os problemas e levaremos a um estado aceit√°vel.  Vamos l√°! <br><br>  Crie um projeto no Altium Designer.  Nele, por exemplo, descreverei um conversor DC / DC de 6 fases.  Vou ter 6 canais de energia e 1 MK para controlar todas as fases.  Cada canal de energia ter√° a seguinte apar√™ncia (clic√°vel): <br><br> <a href=""><img src="https://habrastorage.org/webt/jx/v0/9b/jxv09bgcfh7u5xrlw3ieaw1rumw.png"></a> <br><br>  O canal de energia em si originalmente desenhei corretamente.  Se voc√™ olhar com cuidado, tenho uma entrada de sinal no circuito - 2 PWMs √† esquerda + VCCIN com GND, h√° uma sa√≠da - VCC5V e GND.  O pr√≥prio m√≥dulo executa uma tarefa - converte VCCIN em 5V.  Ent√£o fazemos mal ... <br><br>  Aqui nos deparamos com a primeira restri√ß√£o - um canal ocupa quase a folha inteira de A3, temos 6 deles; portanto, se eu aumentar a folha para A2, ela ainda n√£o se encaixa.  Voc√™ pode aumentar a planilha para A1 - excelente, pois agora somos desenvolvedores inexperientes, seguimos esse caminho e observamos a seguinte figura (clic√°vel): <br><br> <a href=""><img src="https://habrastorage.org/webt/ek/wh/6n/ekwh6nzv6qis3ns0ee_gqw5mhfm.jpeg"></a> <br><br>  Parece que est√° claro por enquanto - existem 6 partes do circuito, h√° um MK abaixo.  Isso representa apenas 30% do esquema, o que mais √© necess√°rio?  Liga√ß√£o MK + feedbacks?  Claro!  O dispositivo deve se comunicar com o mundo exterior?  Obviamente, adicione RS485.  Ahhh, voc√™ ainda precisa de energia para os drivers, ou seja, voc√™ precisa obter + 12V da VCCIN e adicionar DC / DC para isso!  Outro MK ... ele precisa de mais 1 DC / DC e agora adicionando tudo isso - veja (clic√°vel): <br><br> <a href=""><img src="https://habrastorage.org/webt/ve/dt/5s/vedt5s9enrmszzqgnkcvx2hpuhm.jpeg"></a> <br><br>  Est√° claro o que existe?  E se eu n√£o disse inicialmente sobre a funcionalidade do dispositivo?  E se, al√©m disso, ele tamb√©m pintou peda√ßos desajeitados do circuito desajeitadamente?  E se os componentes UGO nas bibliotecas forem desenhados inicialmente tortos?  Assustado?  √â o mesmo ... <br><br><h2>  O que fazer? </h2><br>  Agora, vamos pensar ... Existem 150 componentes neste dispositivo, em meus projetos m√©dios relacionados √† eletr√¥nica de pot√™ncia, eles geralmente s√£o de 1500 a 4000, ou seja, a escala do desastre que voc√™ imagina quando existem 10 folhas de A1 acima e todas elas est√£o desordenadas e entupidas.  Erros s√£o inevit√°veis! <br><br>  N√≥s olhamos e pensamos mais.  A primeira coisa a fazer √© formar os m√≥dulos.  Eu tenho todos eles formados, porque  Acabei de copi√°-los de uma embarca√ß√£o dom√©stica, mas quebrei um m√≥dulo - a mem√≥ria EEPROM em execu√ß√£o no I2C.  Cometi o mesmo erro que no esquema do Arduino, como faz√™-lo: <br><br><img src="https://habrastorage.org/webt/my/te/ui/myteuiwqvk4dwi6s8_uehdlodug.png"><br><br>  Como voc√™ pode ver, montei um chip de mem√≥ria em uma ‚Äúpilha‚Äù que bloqueia o capacitor de pot√™ncia, que fica pr√≥ximo a ele e chega a + 3,3V.  Agora n√£o preciso procurar todos os componentes necess√°rios para amarrar um chip de mem√≥ria, de acordo com o esquema, todos eles est√£o em um s√≥ lugar.  A prop√≥sito, n√£o √© necess√°rio alocar uma folha separada para cada chip pequeno, mas a EEPROM n√£o √© um m√≥dulo separado, mas uma parte da liga√ß√£o do microcontrolador.  MK com cintas - agora este √© um m√≥dulo digno de uma folha separada. <br><br>  Vamos seguir em frente ... Temos partes repetidas do circuito, por exemplo, 2 canais absolutamente id√™nticos para feedback em um amplificador operacional (OA), 6 canais de pot√™ncia mais exatamente id√™nticos.  Isso tamb√©m pode ser otimizado. <br><br>  Outro pensamento brilhante √© que, se todos os 6 canais buck forem iguais, o tra√ßo provavelmente ser√° o mesmo.  Isso deve ser usado.  Talvez voc√™ possa separar as estradas de um m√≥dulo e os 5 restantes digam "bem, repita"?  Acontece que o AD nos permite simplificar bastante nossas vidas. <br><br><h2>  Vamos fazer isso lindamente! </h2><br>  Onde come√ßa qualquer dispositivo eletr√¥nico?  Com uma ideia, √© claro.  Como transformar essa id√©ia em algo tang√≠vel?  Por exemplo, voc√™ pode desenhar um diagrama de blocos onde a funcionalidade da macro ser√° exibida.  N√£o √© preciso ser muito inteligente, apenas uma imagem em um quadro ou em um peda√ßo de papel: <br><br><img src="https://habrastorage.org/webt/zc/o3/sr/zco3srognsucoj_w2aaclx9ngze.png"><br><br>  Na folha cabem todas as funcionalidades do nosso dispositivo.  Em primeiro lugar, esse circuito nos permite entender como o dispositivo funciona basicamente: existe uma parte de pot√™ncia de 6 canais (Buck), controlada pelo MCU, que para controle resulta em 2 sinais de feedback atrav√©s do amplificador operacional (Amp.) h√° tamb√©m alguns dc / dc para auto-alimenta√ß√£o e uma interface Modbus para comunica√ß√£o com o mundo.  Em segundo lugar, de acordo com o esquema, os blocos funcionais prontos s√£o imediatamente vis√≠veis. <br><br>  Agora precisamos criar 5 folhas de A3 no AD e transferir a parte correspondente do circuito para cada uma, mas antes disso precisamos considerar os tipos de conex√µes e circuitos que usaremos no AD: <br><br><ul><li>  <b>Porta de alimenta√ß√£o</b> <br><img src="https://habrastorage.org/webt/c5/mb/it/c5mbitcaqsofvn-ufyayajxglzq.png"><br>  Esse tipo √© global em todo o projeto.  Ou seja, se colocarmos essa porta em uma folha e em outra, elas se fundir√£o em um √∫nico circuito com o nome "VCC3V3".  Consequentemente, al√©m disso, os circuitos de energia em diferentes folhas n√£o precisam ser conectados.  Esse tipo de porta define apenas a fonte de alimenta√ß√£o e o aterramento (GND); </li><li>  <b>Etiqueta l√≠quida</b> <br><img src="https://habrastorage.org/webt/uq/qh/yg/uqqhygfvtvqpwecsopyvy0nqb4q.png"><br>  Uma ferramenta para nomear um circuito espec√≠fico em um circuito.  Cadeias com o mesmo nome (NetLabel) s√£o combinadas em uma √∫nica planilha e al√©m.  Usaremos essa ferramenta kosher, ou seja, apenas para especificar nomes e conex√µes em uma folha; </li><li>  <b>Coloque a porta</b> <br><img src="https://habrastorage.org/webt/5s/ew/di/5sewdiqhjjqltwansn6bn-uhcfc.png"><br>  Ferramenta para conex√µes intermodulares.  Ao contr√°rio do NetLabel, que √© usado para conectar-se dentro de um m√≥dulo / folha, essa porta √© usada para se comunicar com o "mundo externo".  Conectamos m√≥dulos uns aos outros, todos os circuitos, exceto energia e terra (GND). </li></ul><br><br>  Agora precisamos definir sinais usando Place Port que v√£o al√©m do m√≥dulo.  Por exemplo, para um m√≥dulo com um amplificador operacional, ele ter√° a seguinte apar√™ncia: <br><br> <a href=""><img src="https://habrastorage.org/webt/rn/ei/gp/rneigpk1jw6ug4opk96df6jsu9w.png"></a> <br><br>  Agora, nosso m√≥dulo se transformou em uma parte completamente l√≥gica do circuito: possui uma entrada (INPUT), uma sa√≠da (ADC-OUT) e 2 conex√µes globais (Power Port) - GND e VCC3V3.  Nada mais.  Faremos o mesmo para outros m√≥dulos e faremos a atribui√ß√£o autom√°tica de n√∫meros aos s√≠mbolos (designador), indo em <i>Ferramentas -&gt; Anota√ß√µes -&gt; Anotar Esquemas</i> e clicando em <i>Atualizar Lista de Altera√ß√µes</i> : <br><br> <a href=""><img src="https://habrastorage.org/webt/6p/ct/5e/6pct5e8yygpyhzvg0uyfxyjrdja.png"></a> <br><br>  Em seguida, clique em <i>Aceitar altera√ß√µes</i> e, na janela exibida, clique em <i>Executar altera√ß√µes</i> : <br><br> <a href=""><img src="https://habrastorage.org/webt/l5/vt/ur/l5vturkknxvohhatyk4viimvl-g.png"></a> <br><br>  Fechamos as janelas extras e vemos que nossas designa√ß√µes (D?, R?, C ?, Etc.) receberam n√∫meros √∫nicos.  Ap√≥s as a√ß√µes realizadas, chegamos a esse projeto - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDF</a> . <br><br>  Como  Acho que ningu√©m vai argumentar - tudo est√° arrumado, √© claro como funciona √† primeira vista, n√£o h√° lixo no diagrama.  Agora resta para os pequenos - precisamos criar 6 canais a partir de uma folha e, em geral, juntar tudo. <br><br>  Para fazer isso, crie uma nova planilha, chamarei apenas <i>Design principal</i> , mas o nome pode ser qualquer coisa.  Nesta planilha, teremos um diagrama de blocos que eu desenhei anteriormente √† m√£o.  Para criar o m√≥dulo, v√° em <i>Place -&gt; Sheet Symbol</i> .  Agora vamos definir nosso elemento para o estilo de todo o projeto, ou seja, a fonte (eu tenho ISOCPEUR), a largura e a cor do quadro, o designador e assim por diante, e tamb√©m escrever o nome da folha com o nosso m√≥dulo: <br><br><img src="https://habrastorage.org/webt/zj/uv/0w/zjuv0w3hkefzuvnq8xc6dnmhcku.png"><br><br>  Agora clique com o bot√£o direito do mouse no nosso m√≥dulo (quadrado laranja) e v√° para <i>A√ß√µes do s√≠mbolo da planilha -&gt; Sincronizar entradas e porta da planilha</i> e uma janela ser√° aberta: <br><br><img src="https://habrastorage.org/webt/fr/gs/l3/frgsl3n9uo2xcqdhnrgpirshcjk.png"><br><br>  Nele, vemos uma lista do nosso Place Port.  Selecionamos tudo e clicamos em <i>Adicionar entradas de planilha</i> , instalamos em nosso m√≥dulo e definimos o tipo geral de fonte, obtemos o seguinte m√≥dulo: <br><br><img src="https://habrastorage.org/webt/u1/8b/-6/u18b-6hcubunivyggssoyyvw6-a.png"><br><br>  Agora repetimos o mesmo para os 4 m√≥dulos restantes e, na sa√≠da, obtemos essa estrutura: <br><br><img src="https://habrastorage.org/webt/5h/km/o9/5hkmo9yrrttkgr7xjqyedxsyuoi.png"><br><br>  Aqui vale a pena prestar aten√ß√£o em 2 pontos: <br><br><ul><li>  A 5¬™ folha (P√°gina 5) com dc / dc n√£o detecta a Place Port ao tentar sincronizar e, se voc√™ observar o diagrama do m√≥dulo, elas realmente n√£o est√£o l√°, apenas Power Port.  MAS!  √â necess√°rio retirar o m√≥dulo com certeza, caso contr√°rio, os componentes desta folha simplesmente n√£o aparecer√£o no quadro; </li><li>  Observe que a ferramenta Place Port possui um par√¢metro de diretividade: entrada, sa√≠da e bidirecional.  Voc√™ deve determinar corretamente o tipo de porta para seu sinal, por exemplo, as portas PWM-H s√£o de sa√≠da (sa√≠da) para o m√≥dulo MCU e entrada (entrada) para o m√≥dulo Buck. </li></ul><br><br><h2>  Clonar </h2><br>  Agora que criamos todos os m√≥dulos, precisamos aumentar seu n√∫mero para obter 6 canais para a se√ß√£o de pot√™ncia e 2 canais para amplificadores operacionais.  Como diz o ditado, sempre existem duas sa√≠das, mesmo que voc√™ tenha sido comido e esse caso n√£o √© exce√ß√£o.  Vou mostrar os dois lados: <br><br><ul><li>  <b>Copiar para m√£o em m√£o</b> <br>  Tudo √© simples aqui - copiar e colar comum.  Selecione nosso m√≥dulo, Ctrl + C e Ctrl + V - obtemos um novo m√≥dulo.  Resta simplesmente alterar o n√∫mero do designador de M3 para M6.  Ent√£o conectamos tudo e obtemos uma vers√£o intermedi√°ria do circuito: <br><br> <a href=""><img src="https://habrastorage.org/webt/sj/z8/-z/sjz8-zjktmvg7pybeqcjcyuathe.png"></a> <br><br>  Copiei o m√≥dulo op-amp, adicionei alguns conectores e barramentos GND e VCCIN, agora s√£o globais e s√£o conectados imediatamente em todos os m√≥dulos em que s√£o encontrados.  Nesse caso, n√£o faz sentido arrast√°-los separadamente Coloque a porta.  Tamb√©m conectei todos os circuitos externos, exceto o m√≥dulo Buck, nele demonstrarei a segunda maneira mais compacta. </li><li>  <b>C√≥pia Jedi</b> <br>  Ao contr√°rio da vers√£o anterior, tudo aqui √© dif√≠cil de entender, mas mais f√°cil de implementar e, o mais importante, com mais compet√™ncia.  V√°rios canais ser√£o criados usando a diretiva <i>REPEAT</i> .  Para fazer isso, em vez de designar M1, escrevemos o comando <i>REPEAT (BUCK, 1, 6)</i> .  Essa equipe criar√° canais com designadores de BUCK1 a BUCK6, ou seja, nossas 6 pe√ßas.  Pressione <i>Enter</i> e veja como o AD criou o n√∫mero necess√°rio de canais: <br><br><img src="https://habrastorage.org/webt/-o/sl/dy/-osldyuu0iuv_x-zbtpij1vmybq.png"><br><br>  Agora voc√™ precisa conectar o circuito.  Vou come√ßar com uma simples - nossas sa√≠das OUT-5V em todos os canais devem ser combinadas, porque  todas as nossas fases funcionam como um conversor para uma sa√≠da comum.  Para isso, basta desenhar um circuito normal da Place Port e conect√°-lo ao conector de sa√≠da: <br><br><img src="https://habrastorage.org/webt/e9/hn/n9/e9hnn95pdp_ojpwm9yekqleigq0.png"><br><br>  Agora voc√™ precisa informar ao AD que nossas portas PWM-H n√£o s√£o uma porta / circuito, mas 6 canais separados.  Para fazer isso, clique em Place Port com o nome PWM-H e escreva <i>REPEAT (PWM-H)</i> na coluna com o nome, isso criar√° 6 cadeias diferentes: <br><br><img src="https://habrastorage.org/webt/rl/8s/fb/rl8sfbllpq1iip970vwc_4y4xh8.png"><br><br>  Agora voc√™ precisa gerar a cadeia normal (Ctrl + W) de Place Port com o nome REPEAT (PWM-H) e atribuir a essa cadeia o nome PWM-H usando a ferramenta NetLabel.  Ent√£o √© necess√°rio remover o barramento do circuito e dar o nome de <i>PWM-H [1..6]</i> .  Assim, de uma porta derivamos 6 circuitos diferentes que ter√£o os nomes PWM-H1, PWM-H2 e assim por diante: <br><br><img src="https://habrastorage.org/webt/13/w6/ak/13w6akm1gjnn3pgt1gdvciyuyua.png"><br><br>  Em seguida, conectamos o barramento <i>PWM-H [1..6]</i> √† sa√≠da do barramento no m√≥dulo MCU para os transistores de meia ponte superiores.  Procedimentos semelhantes tamb√©m precisam ser realizados para os transistores inferiores e basta acionar o barramento; no final, teremos um circuito da seguinte forma: <br><br><img src="https://habrastorage.org/webt/cf/ha/mj/cfhamjkazr69f7wkvqken9jgbo4.png"><br><br>  Agora que aprendemos o Zen, vamos refazer o m√≥dulo Jedi com um amplificador operacional para n√£o deixar uma muleta na forma de copiar pasta.  Como resultado, obtemos a vers√£o final do diagrama de circuito: <br><br> <a href=""><img src="https://habrastorage.org/webt/li/o6/qs/lio6qs-imr6-dtzxjzqfwm3d3au.jpeg"></a> </li></ul><br><br>  √â aqui que terminaremos com o diagrama do circuito, o resultado final √© em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDF</a> .  Como voc√™ pode ver, o esquema mais simples surgiu, apenas algumas folhas A3 meio vazias, qualquer operador de r√°dio amador com tempo e nervos m√≠nimos pode descobrir isso. <br><br><h2>  Economize dezenas de horas-homem por rastreamento </h2><br>  Nas realidades modernas, quando o grau de integra√ß√£o de componentes (microcircuitos) √© bastante alto, o desenvolvimento de um diagrama de circuitos leva cada vez menos tempo.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J√° n√£o t√£o frequentemente, voc√™ encontrar√° 90% dos monstros anal√≥gicos e isso √© bom. O "ponto fraco" no processo de desenvolvimento do dispositivo continua sendo o design da placa de circuito impresso (PCB). Os modernos sistemas CAD fornecem muitas ferramentas diferentes para reduzir os custos de m√£o-de-obra no desenvolvimento de uma placa, e esse foi exatamente o principal objetivo deste artigo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como indiquei anteriormente, existem v√°rios m√≥dulos repetidos em nosso dispositivo: buck e op-amp. Se voc√™ observar dispositivos modernos, em muitas haver√° muitas repeti√ß√µes, por exemplo, um oscilosc√≥pio de 4 canais no qual todos os canais s√£o id√™nticos. Obviamente, podemos rastrear cada canal com nossas m√£os e podemos simplificar nossa vida. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo o que foi descrito anteriormente no artigo √© chamado simplesmente - um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esquema multicanal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parece simples e de bom gosto. </font><font style="vertical-align: inherit;">Criamos exatamente esse diagrama de circuitos e agora ele nos permitir√° fazer o seguinte - separar os circuitos para um canal buck e simplesmente copiar para os 5 restantes e a localiza√ß√£o dos componentes (layout) e de todos os condutores. </font><font style="vertical-align: inherit;">Primeiro, transfira todos os nossos componentes do diagrama de circuitos para o arquivo com a placa de circuito, clique em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design -&gt; Atualizar documento PCB</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">Agora clique em </font><i><font style="vertical-align: inherit;">Executar altera√ß√µes</font></i><font style="vertical-align: inherit;"> e </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> como resultado, obtemos exatamente essa placa de circuito impresso:</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/-s/md/vs/-smdvse1gmy6i_qrhjkyjyf_xck.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br> <a href=""><img src="https://habrastorage.org/webt/rh/di/zr/rhdizrfl3abzwrw7bdj6sos-bii.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como voc√™ pode ver, 6 zonas vermelhas apareceram no quadro, chamadas salas. </font><font style="vertical-align: inherit;">Cada quarto possui componentes eletr√¥nicos para um canal e nada mais. </font><font style="vertical-align: inherit;">Agora voc√™ precisa definir as dimens√µes da sala, ou seja, indicar qual √°rea espec√≠fica os componentes do nosso canal ocupar√£o e fazer o layout dos detalhes.</font></font> √â assim: <br><br> <a href=""><img src="https://habrastorage.org/webt/b0/e7/pm/b0e7pm-noct7bcnkrkwhsgggmrw.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, os componentes de cada canal ser√£o localizados e ocupar√£o exatamente essa √°rea. √â verdade, eu n√£o gosto de algo aqui ... Sim! As designa√ß√µes dos componentes na camada de serigrafia (letras brancas) n√£o possuem numera√ß√£o de ponta a ponta, mas numera√ß√£o no formato ‚ÄúRoom_Name‚Äù, ou seja, temos os resistores R6_BUCK1, R6_BUCK2 e assim por diante. Eu quero evitar o prefixo "_BUCK1" e cada componente tem seu pr√≥prio n√∫mero. Pressione </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ctrl + L</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e v√° para o menu </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Annotate Options</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , onde vemos um menu como esse: </font><font style="vertical-align: inherit;">Agora voc√™ precisa selecionar a op√ß√£o de numera√ß√£o </font><i><font style="vertical-align: inherit;">$ ComponentPrefix $ GlobalIndex</font></i><font style="vertical-align: inherit;"> e clicar em OK. Clique em </font><i><font style="vertical-align: inherit;">Redefinir tudo</font></i><font style="vertical-align: inherit;"> para </font><i><font style="vertical-align: inherit;">descartar</font></i><font style="vertical-align: inherit;"> todos os valores e clique em </font><i><font style="vertical-align: inherit;">Anotar designado.</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/jo/iq/o9/joiqo9-1gdxlwdttbuvrf29uxne.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como voc√™ pode ver no canal BUCK2, os componentes alteraram suas designa√ß√µes de R6_BUCK2 para as designa√ß√µes mais familiares R6, R7, etc .: </font></font><br><br><img src="https://habrastorage.org/webt/c2/0c/mz/c20cmzv77sxz1jb2iy7auzw5mzi.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resta aceitar as altera√ß√µes clicando em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aceitar altera√ß√µes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, na janela que se abre, confirme tudo clicando em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Executar altera√ß√µes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Transferimos as altera√ß√µes do circuito para a placa de circuito </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design -&gt; Update PCB Documet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">como j√° fizemos. </font><font style="vertical-align: inherit;">Como resultado, observamos designa√ß√µes "humanas" que n√£o ocupam toda a placa e cagam nela: </font></font><br><br><img src="https://habrastorage.org/webt/v9/a-/s8/v9a-s8fylb11ljgqwbq9atwc3ya.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Com um layout e designa√ß√µes adequadas, prosseguimos para o roteamento - rastrearemos os circuitos dentro de uma sala do BUCK6 e obteremos a seguinte imagem:</font></font><br><br><img src="https://habrastorage.org/webt/sl/g_/jb/slg_jb6wz8ia-ivopkpuau2tr6e.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu n√£o reproduzi tudo, o GND deixou intocado, porque </font><font style="vertical-align: inherit;">isso geralmente √© preenchido com um √∫nico pol√≠gono. </font><font style="vertical-align: inherit;">O suficiente para uma demonstra√ß√£o. </font><font style="vertical-align: inherit;">Agora fa√ßa o seguinte:</font></font><br><br><ul><li>  <i>Design -&gt; Rooms -&gt; Cope Room Format</i> </li><li> Altium    <i>Choose source room</i> ,           ,     BUCK6 </li><li>  altium  <i>ChooseDestination Room</i> ,            .    BUCK-. </li><li>        <i>Apply To Specified Channel</i> ,  ,        ,    . <br> <a href=""><img src="https://habrastorage.org/webt/v5/-e/qj/v5-eqjm_va7esddyjkzku5oulle.png"></a> </li><li>    ! </li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu n√£o coloquei um daw e cliquei em 2 canais, porque H√° situa√ß√µes em que, por exemplo, nem todos os canais s√£o id√™nticos. Lembre-se do VRM na placa-m√£e da CPU, geralmente existem 3-4 fases, por um lado, e 3-4 mais, por outro. Para o meu caso, podem ser 3 fases com uma fia√ß√£o e mais 3 fases com outra. Eu acho que a ideologia geral √© compreens√≠vel. Agora, vejamos o resultado: observamos </font><font style="vertical-align: inherit;">3 canais id√™nticos e, mais importante, passei o tempo em todos os canais como 1. Nesse caso abstrato, economizo tempo 6 vezes, mas em problemas reais o procedimento para reduzir os custos de m√£o-de-obra √© o mesmo. E n√£o √© um fator sem import√¢ncia - se voc√™ fizer 6 canais com as m√£os, o "olho est√° emba√ßado" devido ao mesmo tipo de trabalho e √© muito prov√°vel que cometa um erro ou fa√ßa uma curva de layout.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/je/p6/zt/jep6ztsxyvoosu1x00wflcgfeii.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br><h2>  Sum√°rio </h2><br>                 -   .   ‚Äî   ,               . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt426951/">https://habr.com/ru/post/pt426951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt426941/index.html">Sobre a quest√£o da velocidade e medi√ß√£o no Arduino</a></li>
<li><a href="../pt426943/index.html">A tradu√ß√£o mais abrangente para o russo do Harvard Programming CS50 2015, gr√°tis no YouTube</a></li>
<li><a href="../pt426945/index.html">O que eu gostei sobre Paul Allen</a></li>
<li><a href="../pt426947/index.html">"O diabo me puxou para ir trabalhar no escrit√≥rio" - 10 perguntas para o programador, 9¬™ edi√ß√£o</a></li>
<li><a href="../pt426949/index.html">Recriando o THX Deep Note Sound</a></li>
<li><a href="../pt426953/index.html">M√©todos de amostra e instala√ß√£o do Arch Linux</a></li>
<li><a href="../pt426957/index.html">Introdu√ß√£o aos servidores WSGI: Parte Um</a></li>
<li><a href="../pt426959/index.html">Instale o kubernetes via kubespray (armazenamento local, instale Elasticsearch + Fluentd + Kibana, prometheus)</a></li>
<li><a href="../pt426961/index.html">Como a Microsoft reescreveu o compilador C # em C # e o abriu</a></li>
<li><a href="../pt426963/index.html">Os aplicativos Flutter sonham com widgets baseados em plataforma?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>