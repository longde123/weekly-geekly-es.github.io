<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎛️ 👩🏽‍⚖️ 🌟 Altium Designer: o que fazer se um projeto se tornar complicado? ☝🏿 👩🏿‍⚖️ 👩🏿‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saudações! Eu acho que qualquer engenheiro ou apenas um amador / fabricante de bricolage / envolvido no desenvolvimento de eletrônicos, está tentando ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Altium Designer: o que fazer se um projeto se tornar complicado?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426951/">  Saudações!  Eu acho que qualquer engenheiro ou apenas um amador / fabricante de bricolage / envolvido no desenvolvimento de eletrônicos, está tentando desenvolver suas habilidades, que crescem com a complexidade dos projetos.  Em algum momento, uma pessoa atinge um nível em que lhe parece que os projetos se tornaram muito complexos, levam muito tempo para serem desenvolvidos e você precisa fazer algo a respeito - você precisa otimizar seu trabalho.  Hoje vou lhe dizer como aumentar a produtividade do meu trabalho intelectual no Altium Designer 18 (doravante denominado AD ou AD18) e economizar tempo, nervos e dinheiro. <br><br><img src="https://habrastorage.org/webt/gu/zt/o5/guzto50uwjuf0q39ju0n_fvxzg4.jpeg"><br><a name="habracut"></a><br><h2>  1. Introdução </h2><br>  Agora, um pouco de informação para quem não sabe o que é o Altium Designer.  Este é um dos três populares sistemas profissionais de CAD que permitem desenvolver componentes eletrônicos de praticamente qualquer complexidade.  Os dois pacotes restantes são Mentor Expedition (e PADS provavelmente) e Allegro Cadence.  Cada um desses 3 pacotes tem seus prós e contras, além de especialização condicional.  Hoje não haverá comparações, então vou apenas dizer por que escolhi o Altium: <br><br><ul><li>  O excelente design e a interface ponderada deste programa estão além da concorrência.  Basta olhar para os concorrentes e tudo fica claro.  Sim, design e usabilidade são importantes quando você passa várias horas no trabalho todos os dias.  Também facilita o processo de aprendizado para iniciantes, porque estudar em um CAD compreensível e lógico é muito mais fácil; </li><li>  A capacidade de trabalhar diretamente com "titânio" mecânico como o SolidWorks.  Podemos simplesmente abrir o painel do AD em sólido e adicioná-lo como parte da montagem sem perda de qualidade.  Adeus conversão através do STEP.  Para mim, e certamente para você, isso é importante, porque  um dispositivo eletrônico não é apenas uma placa com componentes, é quase sempre também um caso.  Esse recurso permite criar facilmente um modelo de montagem de todo o dispositivo e evitar erros no projeto e fabricação de moldes por 3-5 mil dólares cada; </li><li>  A presença de uma quantidade suficientemente grande de informações em russo, que fornece um limite de entrada bastante baixo.  Esta é a principal razão pela qual Altium domina na CEI, e não outra coisa.  Tente encontrar algo em russo por Mentor ou Cadence, imediatamente queira aprender a trabalhar neles; </li><li>  Na CEI e na Ásia, a maioria das empresas trabalha em Altium e, nos Estados Unidos, possui uma grande participação de mercado.  Na Europa, eles amam o SolidWorks PCB, que é exatamente o mesmo AD incorporado.  O que isso dá?  Você pode encontrar facilmente um emprego se decidir trabalhar no campo do desenvolvimento de eletrônicos. </li></ul><br>  Sim, sim, eu não falei sobre todos os tipos de recursos de simulação, ferramentas e muito mais, mas isso não é necessário.  Todos os três sistemas CAD descritos acima do lado técnico são capazes de fazer aproximadamente a mesma coisa, apenas com graus variados de conveniência e muletas. <br><br><h2>  Quero aprender a trabalhar no Altium, mas isso me assusta </h2><br>  Uma vez, no ano de 2011-2012, tive a oportunidade de trabalhar no AD pela primeira vez, parecia legal para mim, mas assustador, porque  naquele momento, o inglês era um obstáculo para mim e, em geral, não estava claro como trabalhar nele.  Para superar meu medo de um grande número de ferramentas e funcionalidades, os vídeos do camarada me ajudaram.  Sabunina (graças a ele), que está no youtube em russo e descreve coisas básicas básicas que lhe permitiram dar os primeiros passos na masterização.  Nos últimos 6 anos, houve ainda mais informações sobre o AD em russo; portanto, o limite de entrada se tornou ainda mais baixo; portanto, não tenha medo e aprenda. <br><br>  Para tornar mais fácil você dominar o Altium Designer, ofereço alguns "biscoitos de gengibre": <br><br><ul><li>  O ciclo de vídeoaulas de treinamento está <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Os vídeos têm uma longa duração, mas contêm informações abrangentes sobre a função básica (pelo menos assim o dizem) e permitirão a qualquer aluno projetar facilmente seu primeiro dispositivo; </li><li>  Bibliotecas para o Altium Designer - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Aqui você encontrará todos os componentes passivos (resistores, capacitores, etc.), bem como um grande número de transistores, diodos e microcircuitos populares, incluindo MK e FPGA.  A criação de bibliotecas no início leva muito tempo, por isso espero poupar muito tempo. </li></ul><br>  Se no processo de estudo você tiver alguma dúvida e surgir alguma dificuldade, poderá me escrever em mensagens privadas, se possível, tento responder a todos. <br><br><h2>  Quando um projeto fica complicado? </h2><br>  Qualquer projeto mais ou menos sério, seja o código-fonte de um programa ou o diagrama de circuito de um dispositivo eletrônico, sempre tem uma característica após a qual o caos se instala, o projeto se torna incompreensível, é difícil verificar e testar, fica fora de controle. <br>  Esse limite é individual para cada desenvolvedor: um pode entender perfeitamente um dispositivo de 1000 componentes e o outro começa a cometer erros e tem dificuldade com um projeto de 200 componentes.  Em geral, a estimativa no número de componentes eletrônicos é um pouco subjetiva, mas permite entender a essência geral do problema. <br><br>  Do exposto, podemos tirar a seguinte conclusão: <br><blockquote>  Um projeto fica complicado quando se torna necessário que um desenvolvedor tome ações para preservar a legibilidade e a compreensão da fonte do projeto. </blockquote><br>  Até um certo momento, você certamente pode pontuar qualquer coisa e "desenhar" no diagrama qualquer coisa e de qualquer maneira, por exemplo, assim: <br> <a href=""><img src="https://habrastorage.org/webt/vd/w2/dq/vdw2dq_hwfhik-wmtoqughhf3_4.png"></a> <br><br>  Tudo se funde, o circuito é desleixado e, finalmente, isso levará a um caminho torto ou errado, eles não perceberam imediatamente nesse caos e, como resultado, cortaram os condutores nas placas e soldaram o ranho. <br><br>  Vejamos mais uma obra-prima - o circuito do arduino feito no AD: <br> <a href=""><img src="https://habrastorage.org/webt/nm/sy/za/nmsyzah9v2a4utjzaknyirhrxbg.png"></a> <br><br>  Como você gosta?  Me dói ... Eu olho para R2 e R3, parece claro que esses são suspensores para I2C, mas onde está esse I2C e qual conector deve ser um enigma para mim e eu tenho que procurá-lo por muito tempo e tediosamente, e esse é um circuito com um pequeno número de componentes e simples, mas já caótico. <br><br>  Agora, como alternativa, um exemplo dos meus trabalhos (clicável): <br> <a href=""><img src="https://habrastorage.org/webt/bj/qa/8n/bjqa8npbvzuprpktybwldilk_zs.png"></a> <br><br>  Olhe para o diagrama e acho que você entendeu imediatamente pelo menos onde está a entrada e onde a saída é as “setas” sugerem isso, e não somos árabes, lemos (incluindo os diagramas) da esquerda para a direita.  O módulo tem uma função - um filtro de modo comum trifásico e nada mais.  O esquema é feito com cuidado e ocupa 1 folha na documentação.  1 folha - 1 função. <br><br>  De fato, o que escrevi acima são insignificantes que são importantes e facilitam a vida, mas ainda insignificantes.  Embora eu espero que você entenda a ideologia geral, vamos resumir agora como "fazer": <br><br><ul><li>  O princípio de encapsulamento também é aplicável em circuitos: <b>cada módulo executa uma única tarefa simples</b> .  Um módulo é geralmente uma única folha na documentação, por exemplo, alguns A3; </li><li>  O diagrama do circuito deve ser realizado no mesmo estilo e com muito cuidado.  A precisão ao trabalhar no futuro será totalmente recompensada.  E quando você mostra na entrevista um esquema compreensível e cuidadosamente executado, você imediatamente terá uma boa impressão.  Eles vêem as mãos de uma só vez e geralmente não gostam; </li><li>  Não use folhas maiores que A2, mesmo se você tiver alguns milhares de componentes.  Se você deseja manter a A1, está fazendo algo errado.  Provavelmente, você precisa selecionar alguns módulos no diagrama e transferi-los para uma planilha separada. </li></ul><br><h2>  Você está criticando?  Sugerir! </h2><br>  Agora, tendo criticado os outros, é necessário propor uma alternativa "como fazê-lo".  Deve-se entender que a opinião subjetiva do autor descrita no artigo se baseia na experiência de trabalho e em sua própria visão de mundo. <br><br>  Proponho fazer como todas as pessoas normais, ou seja, primeiro faremos <s>uma</s> versão ruim do esquema <s>através do burro</s> , e depois heroicamente resolveremos todos os problemas e levaremos a um estado aceitável.  Vamos lá! <br><br>  Crie um projeto no Altium Designer.  Nele, por exemplo, descreverei um conversor DC / DC de 6 fases.  Vou ter 6 canais de energia e 1 MK para controlar todas as fases.  Cada canal de energia terá a seguinte aparência (clicável): <br><br> <a href=""><img src="https://habrastorage.org/webt/jx/v0/9b/jxv09bgcfh7u5xrlw3ieaw1rumw.png"></a> <br><br>  O canal de energia em si originalmente desenhei corretamente.  Se você olhar com cuidado, tenho uma entrada de sinal no circuito - 2 PWMs à esquerda + VCCIN com GND, há uma saída - VCC5V e GND.  O próprio módulo executa uma tarefa - converte VCCIN em 5V.  Então fazemos mal ... <br><br>  Aqui nos deparamos com a primeira restrição - um canal ocupa quase a folha inteira de A3, temos 6 deles; portanto, se eu aumentar a folha para A2, ela ainda não se encaixa.  Você pode aumentar a planilha para A1 - excelente, pois agora somos desenvolvedores inexperientes, seguimos esse caminho e observamos a seguinte figura (clicável): <br><br> <a href=""><img src="https://habrastorage.org/webt/ek/wh/6n/ekwh6nzv6qis3ns0ee_gqw5mhfm.jpeg"></a> <br><br>  Parece que está claro por enquanto - existem 6 partes do circuito, há um MK abaixo.  Isso representa apenas 30% do esquema, o que mais é necessário?  Ligação MK + feedbacks?  Claro!  O dispositivo deve se comunicar com o mundo exterior?  Obviamente, adicione RS485.  Ahhh, você ainda precisa de energia para os drivers, ou seja, você precisa obter + 12V da VCCIN e adicionar DC / DC para isso!  Outro MK ... ele precisa de mais 1 DC / DC e agora adicionando tudo isso - veja (clicável): <br><br> <a href=""><img src="https://habrastorage.org/webt/ve/dt/5s/vedt5s9enrmszzqgnkcvx2hpuhm.jpeg"></a> <br><br>  Está claro o que existe?  E se eu não disse inicialmente sobre a funcionalidade do dispositivo?  E se, além disso, ele também pintou pedaços desajeitados do circuito desajeitadamente?  E se os componentes UGO nas bibliotecas forem desenhados inicialmente tortos?  Assustado?  É o mesmo ... <br><br><h2>  O que fazer? </h2><br>  Agora, vamos pensar ... Existem 150 componentes neste dispositivo, em meus projetos médios relacionados à eletrônica de potência, eles geralmente são de 1500 a 4000, ou seja, a escala do desastre que você imagina quando existem 10 folhas de A1 acima e todas elas estão desordenadas e entupidas.  Erros são inevitáveis! <br><br>  Nós olhamos e pensamos mais.  A primeira coisa a fazer é formar os módulos.  Eu tenho todos eles formados, porque  Acabei de copiá-los de uma embarcação doméstica, mas quebrei um módulo - a memória EEPROM em execução no I2C.  Cometi o mesmo erro que no esquema do Arduino, como fazê-lo: <br><br><img src="https://habrastorage.org/webt/my/te/ui/myteuiwqvk4dwi6s8_uehdlodug.png"><br><br>  Como você pode ver, montei um chip de memória em uma “pilha” que bloqueia o capacitor de potência, que fica próximo a ele e chega a + 3,3V.  Agora não preciso procurar todos os componentes necessários para amarrar um chip de memória, de acordo com o esquema, todos eles estão em um só lugar.  A propósito, não é necessário alocar uma folha separada para cada chip pequeno, mas a EEPROM não é um módulo separado, mas uma parte da ligação do microcontrolador.  MK com cintas - agora este é um módulo digno de uma folha separada. <br><br>  Vamos seguir em frente ... Temos partes repetidas do circuito, por exemplo, 2 canais absolutamente idênticos para feedback em um amplificador operacional (OA), 6 canais de potência mais exatamente idênticos.  Isso também pode ser otimizado. <br><br>  Outro pensamento brilhante é que, se todos os 6 canais buck forem iguais, o traço provavelmente será o mesmo.  Isso deve ser usado.  Talvez você possa separar as estradas de um módulo e os 5 restantes digam "bem, repita"?  Acontece que o AD nos permite simplificar bastante nossas vidas. <br><br><h2>  Vamos fazer isso lindamente! </h2><br>  Onde começa qualquer dispositivo eletrônico?  Com uma ideia, é claro.  Como transformar essa idéia em algo tangível?  Por exemplo, você pode desenhar um diagrama de blocos onde a funcionalidade da macro será exibida.  Não é preciso ser muito inteligente, apenas uma imagem em um quadro ou em um pedaço de papel: <br><br><img src="https://habrastorage.org/webt/zc/o3/sr/zco3srognsucoj_w2aaclx9ngze.png"><br><br>  Na folha cabem todas as funcionalidades do nosso dispositivo.  Em primeiro lugar, esse circuito nos permite entender como o dispositivo funciona basicamente: existe uma parte de potência de 6 canais (Buck), controlada pelo MCU, que para controle resulta em 2 sinais de feedback através do amplificador operacional (Amp.) há também alguns dc / dc para auto-alimentação e uma interface Modbus para comunicação com o mundo.  Em segundo lugar, de acordo com o esquema, os blocos funcionais prontos são imediatamente visíveis. <br><br>  Agora precisamos criar 5 folhas de A3 no AD e transferir a parte correspondente do circuito para cada uma, mas antes disso precisamos considerar os tipos de conexões e circuitos que usaremos no AD: <br><br><ul><li>  <b>Porta de alimentação</b> <br><img src="https://habrastorage.org/webt/c5/mb/it/c5mbitcaqsofvn-ufyayajxglzq.png"><br>  Esse tipo é global em todo o projeto.  Ou seja, se colocarmos essa porta em uma folha e em outra, elas se fundirão em um único circuito com o nome "VCC3V3".  Consequentemente, além disso, os circuitos de energia em diferentes folhas não precisam ser conectados.  Esse tipo de porta define apenas a fonte de alimentação e o aterramento (GND); </li><li>  <b>Etiqueta líquida</b> <br><img src="https://habrastorage.org/webt/uq/qh/yg/uqqhygfvtvqpwecsopyvy0nqb4q.png"><br>  Uma ferramenta para nomear um circuito específico em um circuito.  Cadeias com o mesmo nome (NetLabel) são combinadas em uma única planilha e além.  Usaremos essa ferramenta kosher, ou seja, apenas para especificar nomes e conexões em uma folha; </li><li>  <b>Coloque a porta</b> <br><img src="https://habrastorage.org/webt/5s/ew/di/5sewdiqhjjqltwansn6bn-uhcfc.png"><br>  Ferramenta para conexões intermodulares.  Ao contrário do NetLabel, que é usado para conectar-se dentro de um módulo / folha, essa porta é usada para se comunicar com o "mundo externo".  Conectamos módulos uns aos outros, todos os circuitos, exceto energia e terra (GND). </li></ul><br><br>  Agora precisamos definir sinais usando Place Port que vão além do módulo.  Por exemplo, para um módulo com um amplificador operacional, ele terá a seguinte aparência: <br><br> <a href=""><img src="https://habrastorage.org/webt/rn/ei/gp/rneigpk1jw6ug4opk96df6jsu9w.png"></a> <br><br>  Agora, nosso módulo se transformou em uma parte completamente lógica do circuito: possui uma entrada (INPUT), uma saída (ADC-OUT) e 2 conexões globais (Power Port) - GND e VCC3V3.  Nada mais.  Faremos o mesmo para outros módulos e faremos a atribuição automática de números aos símbolos (designador), indo em <i>Ferramentas -&gt; Anotações -&gt; Anotar Esquemas</i> e clicando em <i>Atualizar Lista de Alterações</i> : <br><br> <a href=""><img src="https://habrastorage.org/webt/6p/ct/5e/6pct5e8yygpyhzvg0uyfxyjrdja.png"></a> <br><br>  Em seguida, clique em <i>Aceitar alterações</i> e, na janela exibida, clique em <i>Executar alterações</i> : <br><br> <a href=""><img src="https://habrastorage.org/webt/l5/vt/ur/l5vturkknxvohhatyk4viimvl-g.png"></a> <br><br>  Fechamos as janelas extras e vemos que nossas designações (D?, R?, C ?, Etc.) receberam números únicos.  Após as ações realizadas, chegamos a esse projeto - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDF</a> . <br><br>  Como  Acho que ninguém vai argumentar - tudo está arrumado, é claro como funciona à primeira vista, não há lixo no diagrama.  Agora resta para os pequenos - precisamos criar 6 canais a partir de uma folha e, em geral, juntar tudo. <br><br>  Para fazer isso, crie uma nova planilha, chamarei apenas <i>Design principal</i> , mas o nome pode ser qualquer coisa.  Nesta planilha, teremos um diagrama de blocos que eu desenhei anteriormente à mão.  Para criar o módulo, vá em <i>Place -&gt; Sheet Symbol</i> .  Agora vamos definir nosso elemento para o estilo de todo o projeto, ou seja, a fonte (eu tenho ISOCPEUR), a largura e a cor do quadro, o designador e assim por diante, e também escrever o nome da folha com o nosso módulo: <br><br><img src="https://habrastorage.org/webt/zj/uv/0w/zjuv0w3hkefzuvnq8xc6dnmhcku.png"><br><br>  Agora clique com o botão direito do mouse no nosso módulo (quadrado laranja) e vá para <i>Ações do símbolo da planilha -&gt; Sincronizar entradas e porta da planilha</i> e uma janela será aberta: <br><br><img src="https://habrastorage.org/webt/fr/gs/l3/frgsl3n9uo2xcqdhnrgpirshcjk.png"><br><br>  Nele, vemos uma lista do nosso Place Port.  Selecionamos tudo e clicamos em <i>Adicionar entradas de planilha</i> , instalamos em nosso módulo e definimos o tipo geral de fonte, obtemos o seguinte módulo: <br><br><img src="https://habrastorage.org/webt/u1/8b/-6/u18b-6hcubunivyggssoyyvw6-a.png"><br><br>  Agora repetimos o mesmo para os 4 módulos restantes e, na saída, obtemos essa estrutura: <br><br><img src="https://habrastorage.org/webt/5h/km/o9/5hkmo9yrrttkgr7xjqyedxsyuoi.png"><br><br>  Aqui vale a pena prestar atenção em 2 pontos: <br><br><ul><li>  A 5ª folha (Página 5) com dc / dc não detecta a Place Port ao tentar sincronizar e, se você observar o diagrama do módulo, elas realmente não estão lá, apenas Power Port.  MAS!  É necessário retirar o módulo com certeza, caso contrário, os componentes desta folha simplesmente não aparecerão no quadro; </li><li>  Observe que a ferramenta Place Port possui um parâmetro de diretividade: entrada, saída e bidirecional.  Você deve determinar corretamente o tipo de porta para seu sinal, por exemplo, as portas PWM-H são de saída (saída) para o módulo MCU e entrada (entrada) para o módulo Buck. </li></ul><br><br><h2>  Clonar </h2><br>  Agora que criamos todos os módulos, precisamos aumentar seu número para obter 6 canais para a seção de potência e 2 canais para amplificadores operacionais.  Como diz o ditado, sempre existem duas saídas, mesmo que você tenha sido comido e esse caso não é exceção.  Vou mostrar os dois lados: <br><br><ul><li>  <b>Copiar para mão em mão</b> <br>  Tudo é simples aqui - copiar e colar comum.  Selecione nosso módulo, Ctrl + C e Ctrl + V - obtemos um novo módulo.  Resta simplesmente alterar o número do designador de M3 para M6.  Então conectamos tudo e obtemos uma versão intermediária do circuito: <br><br> <a href=""><img src="https://habrastorage.org/webt/sj/z8/-z/sjz8-zjktmvg7pybeqcjcyuathe.png"></a> <br><br>  Copiei o módulo op-amp, adicionei alguns conectores e barramentos GND e VCCIN, agora são globais e são conectados imediatamente em todos os módulos em que são encontrados.  Nesse caso, não faz sentido arrastá-los separadamente Coloque a porta.  Também conectei todos os circuitos externos, exceto o módulo Buck, nele demonstrarei a segunda maneira mais compacta. </li><li>  <b>Cópia Jedi</b> <br>  Ao contrário da versão anterior, tudo aqui é difícil de entender, mas mais fácil de implementar e, o mais importante, com mais competência.  Vários canais serão criados usando a diretiva <i>REPEAT</i> .  Para fazer isso, em vez de designar M1, escrevemos o comando <i>REPEAT (BUCK, 1, 6)</i> .  Essa equipe criará canais com designadores de BUCK1 a BUCK6, ou seja, nossas 6 peças.  Pressione <i>Enter</i> e veja como o AD criou o número necessário de canais: <br><br><img src="https://habrastorage.org/webt/-o/sl/dy/-osldyuu0iuv_x-zbtpij1vmybq.png"><br><br>  Agora você precisa conectar o circuito.  Vou começar com uma simples - nossas saídas OUT-5V em todos os canais devem ser combinadas, porque  todas as nossas fases funcionam como um conversor para uma saída comum.  Para isso, basta desenhar um circuito normal da Place Port e conectá-lo ao conector de saída: <br><br><img src="https://habrastorage.org/webt/e9/hn/n9/e9hnn95pdp_ojpwm9yekqleigq0.png"><br><br>  Agora você precisa informar ao AD que nossas portas PWM-H não são uma porta / circuito, mas 6 canais separados.  Para fazer isso, clique em Place Port com o nome PWM-H e escreva <i>REPEAT (PWM-H)</i> na coluna com o nome, isso criará 6 cadeias diferentes: <br><br><img src="https://habrastorage.org/webt/rl/8s/fb/rl8sfbllpq1iip970vwc_4y4xh8.png"><br><br>  Agora você precisa gerar a cadeia normal (Ctrl + W) de Place Port com o nome REPEAT (PWM-H) e atribuir a essa cadeia o nome PWM-H usando a ferramenta NetLabel.  Então é necessário remover o barramento do circuito e dar o nome de <i>PWM-H [1..6]</i> .  Assim, de uma porta derivamos 6 circuitos diferentes que terão os nomes PWM-H1, PWM-H2 e assim por diante: <br><br><img src="https://habrastorage.org/webt/13/w6/ak/13w6akm1gjnn3pgt1gdvciyuyua.png"><br><br>  Em seguida, conectamos o barramento <i>PWM-H [1..6]</i> à saída do barramento no módulo MCU para os transistores de meia ponte superiores.  Procedimentos semelhantes também precisam ser realizados para os transistores inferiores e basta acionar o barramento; no final, teremos um circuito da seguinte forma: <br><br><img src="https://habrastorage.org/webt/cf/ha/mj/cfhamjkazr69f7wkvqken9jgbo4.png"><br><br>  Agora que aprendemos o Zen, vamos refazer o módulo Jedi com um amplificador operacional para não deixar uma muleta na forma de copiar pasta.  Como resultado, obtemos a versão final do diagrama de circuito: <br><br> <a href=""><img src="https://habrastorage.org/webt/li/o6/qs/lio6qs-imr6-dtzxjzqfwm3d3au.jpeg"></a> </li></ul><br><br>  É aqui que terminaremos com o diagrama do circuito, o resultado final é em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDF</a> .  Como você pode ver, o esquema mais simples surgiu, apenas algumas folhas A3 meio vazias, qualquer operador de rádio amador com tempo e nervos mínimos pode descobrir isso. <br><br><h2>  Economize dezenas de horas-homem por rastreamento </h2><br>  Nas realidades modernas, quando o grau de integração de componentes (microcircuitos) é bastante alto, o desenvolvimento de um diagrama de circuitos leva cada vez menos tempo.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Já não tão frequentemente, você encontrará 90% dos monstros analógicos e isso é bom. O "ponto fraco" no processo de desenvolvimento do dispositivo continua sendo o design da placa de circuito impresso (PCB). Os modernos sistemas CAD fornecem muitas ferramentas diferentes para reduzir os custos de mão-de-obra no desenvolvimento de uma placa, e esse foi exatamente o principal objetivo deste artigo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como indiquei anteriormente, existem vários módulos repetidos em nosso dispositivo: buck e op-amp. Se você observar dispositivos modernos, em muitas haverá muitas repetições, por exemplo, um osciloscópio de 4 canais no qual todos os canais são idênticos. Obviamente, podemos rastrear cada canal com nossas mãos e podemos simplificar nossa vida. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo o que foi descrito anteriormente no artigo é chamado simplesmente - um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esquema multicanal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parece simples e de bom gosto. </font><font style="vertical-align: inherit;">Criamos exatamente esse diagrama de circuitos e agora ele nos permitirá fazer o seguinte - separar os circuitos para um canal buck e simplesmente copiar para os 5 restantes e a localização dos componentes (layout) e de todos os condutores. </font><font style="vertical-align: inherit;">Primeiro, transfira todos os nossos componentes do diagrama de circuitos para o arquivo com a placa de circuito, clique em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design -&gt; Atualizar documento PCB</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">Agora clique em </font><i><font style="vertical-align: inherit;">Executar alterações</font></i><font style="vertical-align: inherit;"> e </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> como resultado, obtemos exatamente essa placa de circuito impresso:</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/-s/md/vs/-smdvse1gmy6i_qrhjkyjyf_xck.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br> <a href=""><img src="https://habrastorage.org/webt/rh/di/zr/rhdizrfl3abzwrw7bdj6sos-bii.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como você pode ver, 6 zonas vermelhas apareceram no quadro, chamadas salas. </font><font style="vertical-align: inherit;">Cada quarto possui componentes eletrônicos para um canal e nada mais. </font><font style="vertical-align: inherit;">Agora você precisa definir as dimensões da sala, ou seja, indicar qual área específica os componentes do nosso canal ocuparão e fazer o layout dos detalhes.</font></font> É assim: <br><br> <a href=""><img src="https://habrastorage.org/webt/b0/e7/pm/b0e7pm-noct7bcnkrkwhsgggmrw.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, os componentes de cada canal serão localizados e ocuparão exatamente essa área. É verdade, eu não gosto de algo aqui ... Sim! As designações dos componentes na camada de serigrafia (letras brancas) não possuem numeração de ponta a ponta, mas numeração no formato “Room_Name”, ou seja, temos os resistores R6_BUCK1, R6_BUCK2 e assim por diante. Eu quero evitar o prefixo "_BUCK1" e cada componente tem seu próprio número. Pressione </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ctrl + L</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e vá para o menu </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Annotate Options</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , onde vemos um menu como esse: </font><font style="vertical-align: inherit;">Agora você precisa selecionar a opção de numeração </font><i><font style="vertical-align: inherit;">$ ComponentPrefix $ GlobalIndex</font></i><font style="vertical-align: inherit;"> e clicar em OK. Clique em </font><i><font style="vertical-align: inherit;">Redefinir tudo</font></i><font style="vertical-align: inherit;"> para </font><i><font style="vertical-align: inherit;">descartar</font></i><font style="vertical-align: inherit;"> todos os valores e clique em </font><i><font style="vertical-align: inherit;">Anotar designado.</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/jo/iq/o9/joiqo9-1gdxlwdttbuvrf29uxne.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como você pode ver no canal BUCK2, os componentes alteraram suas designações de R6_BUCK2 para as designações mais familiares R6, R7, etc .: </font></font><br><br><img src="https://habrastorage.org/webt/c2/0c/mz/c20cmzv77sxz1jb2iy7auzw5mzi.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resta aceitar as alterações clicando em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aceitar alterações</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, na janela que se abre, confirme tudo clicando em </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Executar alterações</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Transferimos as alterações do circuito para a placa de circuito </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design -&gt; Update PCB Documet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">como já fizemos. </font><font style="vertical-align: inherit;">Como resultado, observamos designações "humanas" que não ocupam toda a placa e cagam nela: </font></font><br><br><img src="https://habrastorage.org/webt/v9/a-/s8/v9a-s8fylb11ljgqwbq9atwc3ya.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Com um layout e designações adequadas, prosseguimos para o roteamento - rastrearemos os circuitos dentro de uma sala do BUCK6 e obteremos a seguinte imagem:</font></font><br><br><img src="https://habrastorage.org/webt/sl/g_/jb/slg_jb6wz8ia-ivopkpuau2tr6e.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu não reproduzi tudo, o GND deixou intocado, porque </font><font style="vertical-align: inherit;">isso geralmente é preenchido com um único polígono. </font><font style="vertical-align: inherit;">O suficiente para uma demonstração. </font><font style="vertical-align: inherit;">Agora faça o seguinte:</font></font><br><br><ul><li>  <i>Design -&gt; Rooms -&gt; Cope Room Format</i> </li><li> Altium    <i>Choose source room</i> ,           ,     BUCK6 </li><li>  altium  <i>ChooseDestination Room</i> ,            .    BUCK-. </li><li>        <i>Apply To Specified Channel</i> ,  ,        ,    . <br> <a href=""><img src="https://habrastorage.org/webt/v5/-e/qj/v5-eqjm_va7esddyjkzku5oulle.png"></a> </li><li>    ! </li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu não coloquei um daw e cliquei em 2 canais, porque Há situações em que, por exemplo, nem todos os canais são idênticos. Lembre-se do VRM na placa-mãe da CPU, geralmente existem 3-4 fases, por um lado, e 3-4 mais, por outro. Para o meu caso, podem ser 3 fases com uma fiação e mais 3 fases com outra. Eu acho que a ideologia geral é compreensível. Agora, vejamos o resultado: observamos </font><font style="vertical-align: inherit;">3 canais idênticos e, mais importante, passei o tempo em todos os canais como 1. Nesse caso abstrato, economizo tempo 6 vezes, mas em problemas reais o procedimento para reduzir os custos de mão-de-obra é o mesmo. E não é um fator sem importância - se você fizer 6 canais com as mãos, o "olho está embaçado" devido ao mesmo tipo de trabalho e é muito provável que cometa um erro ou faça uma curva de layout.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/je/p6/zt/jep6ztsxyvoosu1x00wflcgfeii.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br><h2>  Sumário </h2><br>                 -   .   —   ,               . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt426951/">https://habr.com/ru/post/pt426951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt426941/index.html">Sobre a questão da velocidade e medição no Arduino</a></li>
<li><a href="../pt426943/index.html">A tradução mais abrangente para o russo do Harvard Programming CS50 2015, grátis no YouTube</a></li>
<li><a href="../pt426945/index.html">O que eu gostei sobre Paul Allen</a></li>
<li><a href="../pt426947/index.html">"O diabo me puxou para ir trabalhar no escritório" - 10 perguntas para o programador, 9ª edição</a></li>
<li><a href="../pt426949/index.html">Recriando o THX Deep Note Sound</a></li>
<li><a href="../pt426953/index.html">Métodos de amostra e instalação do Arch Linux</a></li>
<li><a href="../pt426957/index.html">Introdução aos servidores WSGI: Parte Um</a></li>
<li><a href="../pt426959/index.html">Instale o kubernetes via kubespray (armazenamento local, instale Elasticsearch + Fluentd + Kibana, prometheus)</a></li>
<li><a href="../pt426961/index.html">Como a Microsoft reescreveu o compilador C # em C # e o abriu</a></li>
<li><a href="../pt426963/index.html">Os aplicativos Flutter sonham com widgets baseados em plataforma?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>