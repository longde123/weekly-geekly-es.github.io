<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧙🏽 👩🏾‍🤝‍👨🏼 💚 Bagaimana menerapkan Menu Konteks di iOS 13 ♾ 💋 🍭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya, nama saya Denis, kami sedang mengembangkan layanan analisis berlangganan untuk aplikasi iOS - Apphud . 


 Di WWDC 2019, Apple memperke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana menerapkan Menu Konteks di iOS 13</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/apphud/blog/455854/"><p>  Halo semuanya, nama saya Denis, kami sedang mengembangkan layanan analisis berlangganan untuk aplikasi iOS - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apphud</a> . </p><br><p>  Di WWDC 2019, Apple memperkenalkan cara baru untuk berinteraksi dengan antarmuka aplikasi Anda: <em>menu konteks</em> .  Mereka terlihat seperti ini: </p><br><p><img src="https://habrastorage.org/webt/mo/kw/5c/mokw5cy2bio4dg5gxpgfmxfavg0.gif"></p><br><p> Pada artikel ini kita akan mempertimbangkan beberapa seluk-beluk penggunaannya dan belajar bagaimana membuatnya. <a name="habracut"></a></p><br><p>  Menu konteks adalah kelanjutan logis dari teknologi "Peek and Pop", ketika pengguna dapat membuka pratinjau elemen dengan menekannya dengan keras.  Tetapi di antara mereka ada beberapa perbedaan yang signifikan. </p><br><ul><li><p>  Menu konteks berfungsi pada perangkat apa pun yang menjalankan iOS 13. Tidak diperlukan dukungan sentuh 3D dari perangkat.  Karena itu, khususnya, mereka dapat digunakan di semua iPad. </p><br></li><li><p>  Tombol yang memungkinkan Anda berinteraksi dengan elemen segera muncul dan tidak perlu digesek ke atas. </p><br></li></ul><br><p>  Untuk membuka menu konteks, pengguna hanya perlu memegang jari Anda pada item yang diinginkan atau menekannya dengan keras (jika perangkat mendukung 3D Touch). </p><br><h2 id="rekomendacii-pri-ispolzovanii-kontekstnyh-menyu">  Rekomendasi saat menggunakan menu konteks </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Antarmuka Manusia</a> Apple merekomendasikan agar Anda mengikuti panduan ini saat merancang menu konteks. </p><br><h3 id="proektiruyte-pravilno">  Desain dengan benar </h3><br><p>  Ini tidak akan baik jika Anda menambahkan menu untuk beberapa elemen di beberapa tempat dan tidak menambahkannya untuk elemen serupa di tempat lain.  Maka pengguna akan berpikir bahwa aplikasi tersebut tidak berfungsi dengan benar. </p><br><h3 id="vklyuchayte-v-menyu-tolko-neobhodimoe">  Hanya sertakan yang diperlukan dalam menu </h3><br><p>  Menu konteks adalah tempat yang tepat untuk perintah yang paling sering digunakan.  "Paling sering" adalah frase kunci.  Jangan menambahkan semuanya dalam satu baris. </p><br><h3 id="ispolzuyte-vlozhennye-menyu">  Gunakan submenu </h3><br><p>  Gunakan submenu untuk memudahkan pengguna bernavigasi.  Berikan item menu nama yang sederhana dan jelas. </p><br><h3 id="ispolzuyte-ne-bolee-1-urovnya-vlozhennosti">  Gunakan tidak lebih dari 1 tingkat sarang </h3><br><p>  Terlepas dari kenyataan bahwa submenu dapat membuat navigasi lebih mudah, mereka dapat dengan mudah mempersulitnya.  Apple tidak merekomendasikan menggunakan lebih dari 1 level sarang. </p><br><h3 id="raspolagayte-naibolee-chasto-ispolzuemye-punkty-v-verhney-chasti">  Letakkan item yang paling sering digunakan di bagian atas </h3><br><p>  Orang-orang terutama berfokus pada bagian atas menu, sehingga sedikit lebih mudah bagi mereka untuk menavigasi aplikasi Anda. </p><br><h3 id="ispolzuyte-gruppirovku">  Gunakan pengelompokan </h3><br><p>  Kelompokkan item menu yang serupa </p><br><h3 id="izbegayte-odnovremennogo-ispolzovaniya-kontekstnogo-menyu-i-menyu-redaktirovaniya-na-odnom-elemente">  Hindari menggunakan menu konteks dan menu edit pada item yang sama secara bersamaan </h3><br><p>  Mereka dapat saling bertentangan, karena keduanya dipanggil dalam satu ketukan panjang. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/26d/ed2/24b/26ded224b635217601b986d56783e8b3.png" alt="Menu edit IOS"></p><br><h3 id="ne-dobavlyayte-otdelnuyu-knopku-otkryt-v-menyu">  Jangan menambahkan tombol "Buka" yang terpisah di menu </h3><br><p>  Pengguna dapat membuka item hanya dengan mengetuknya.  Tombol "Buka" tambahan akan berlebihan. </p><br><h2 id="prosteyshee-kontekstnoe-menyu-dlya-uiview">  Menu konteks paling sederhana untuk UIView </h2><br><p>  Sekarang kita telah mempelajari aturan dasar untuk menggunakan menu konteks, mari beralih ke praktik.  Tentu saja, menu hanya berfungsi di iOS 13 dan di atasnya, dan untuk pengujian Anda memerlukan Xcode 11. Anda dapat mengunduh versi beta Xcode 11 di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </p><br><blockquote><h1 id="vy-mozhete-skachat-primer-polnostyu-otsyudahttpsgithubcomapphudexample-context_menus">  Anda dapat mengunduh contoh sepenuhnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari sini</a> . </h1><br></blockquote><p> Mari kita tambahkan menu konteks, misalnya, pada <code>UIImageView</code> , <em>seperti pada animasi di atas</em> . </p><br><p>  Untuk melakukan ini, cukup tambahkan objek <code>UIImageView</code> ke controller dan tulis beberapa baris kode, misalnya, dalam metode <code>viewDidLoad</code> : </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SingleViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@IBOutlet</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> imageView: <span class="hljs-type"><span class="hljs-type">UIImageView!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLoad() imageView.isUserInteractionEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> interaction = <span class="hljs-type"><span class="hljs-type">UIContextMenuInteraction</span></span>(delegate: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) imageView.addInteraction(interaction) } }</code> </pre> <br><p>  <code>UIContextMenuInteraction</code> , objek kelas <code>UIContextMenuInteraction</code> .  Konstruktor mengharuskan Anda untuk menentukan delegasi yang akan bertanggung jawab atas menu.  Mari kita kembali lagi nanti.  Dan dengan metode <code>addInteraction</code> kami menambahkan menu kami ke gambar. </p><br><p>  Sekarang tetap menerapkan protokol <code>UIContextMenuInteractionDelegate</code> .  Hanya ada satu metode wajib yang bertanggung jawab untuk membuat menu: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SingleViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIContextMenuInteractionDelegate</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextMenuInteraction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> interaction: UIContextMenuInteraction, configurationForMenuAtLocation location: CGPoint)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> configuration = <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration</span></span>(identifier: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, previewProvider: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { actions -&gt; <span class="hljs-type"><span class="hljs-type">UIMenu</span></span>&lt;<span class="hljs-type"><span class="hljs-type">UIAction</span></span>&gt;? <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> save = <span class="hljs-type"><span class="hljs-type">UIAction</span></span>(__title: <span class="hljs-string"><span class="hljs-string">"My Button"</span></span>, image: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, options: []) { action <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-comment"><span class="hljs-comment">// Put button handler here } return configuration } }</span></span></code> </pre> <br><p>  Jika <code>nil</code> dikembalikan dalam metode ini, menu konteks tidak akan dipanggil.  Di dalam metode itu sendiri, kita membuat objek dari kelas <code>UIContextMenuConfiguration</code> .  Saat membuat, kami melewati parameter ini: </p><br><ul><li><p>  <code>identifier</code> - pengidentifikasi menu. </p><br></li><li><p>  <code>previewProvider</code> adalah pengontrol khusus yang secara opsional dapat ditampilkan daripada item saat ini di menu.  Kami akan mempertimbangkan ini nanti. </p><br></li><li><p>  di <code>actionProvider</code> kami melewati item menu konteks. </p><br></li></ul><br><p>  Elemen-elemen itu sendiri dibuat tidak ada di mana-mana: mereka menunjukkan nama, ikon opsional dan penangan untuk mengklik pada item menu.  Itu saja! </p><br><h3 id="dobavlyaem-vlozhennoe-menyu">  Tambahkan submenu </h3><br><p>  Mari kita sedikit rumit.  Tambahkan ke gambar kita menu dengan dua item: "Simpan" dan "Edit ...".  Dengan mengklik "Edit ..." submenu terbuka dengan item "Putar" dan "Hapus".  Seharusnya terlihat seperti ini: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/cb1/546/047/cb1546047c9d4b64864f63c2b99cdeb2.gif"></p><br><p>  Untuk melakukan ini, tulis ulang metode protokol <code>UIContextMenuInteractionDelegate</code> sebagai berikut: </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">contextMenuInteraction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> interaction: UIContextMenuInteraction, configurationForMenuAtLocation location: CGPoint)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> configuration = <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration</span></span>(identifier: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, previewProvider: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { actions -&gt; <span class="hljs-type"><span class="hljs-type">UIMenu</span></span>&lt;<span class="hljs-type"><span class="hljs-type">UIAction</span></span>&gt;? <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-comment"><span class="hljs-comment">// Creating Save button let save = UIAction(__title: "Save", image: UIImage(systemName: "tray.and.arrow.down.fill"), options: []) { action in // Just showing some alert self.showAlert(title: action.title) } // Creating Rotate button let rotate = UIAction(__title: "Rotate", image: UIImage(systemName: "arrow.counterclockwise"), options: []) { action in self.showAlert(title: action.title) } // Creating Delete button let delete = UIAction(__title: "Delete", image: UIImage(systemName: "trash.fill"), options: .destructive) { action in self.showAlert(title: action.title) } // Creating Edit, which will open Submenu let edit = UIMenu&lt;UIAction&gt;.create(title: "Edit...", children: [rotate, delete]) // Creating main context menu return UIMenu&lt;UIAction&gt;.create(title: "Menu", children: [save, edit]) } return configuration }</span></span></code> </pre> <br><p>  Di sini kita secara berturut-turut membuat tombol "Simpan", "Putar" dan "Hapus", tambahkan dua terakhir ke submenu "Edit ..." dan bungkus semuanya dalam menu konteks utama. </p><br><h2 id="dobavlyaem-kontekstnoe-menyu-v-uicollectionview">  Tambahkan menu konteks ke <code>UICollectionView</code> </h2><br><p>  Mari kita tambahkan menu konteks ke <code>UICollectionView</code> .  Dengan menekan lama pada sel, pengguna akan ditampilkan menu dengan item "Arsip", seperti ini: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/904/a8f/4ed/904a8f4ed139724afc6b59cc7ac2bde2.gif"></p><br><p>  Menambahkan menu konteks ke <code>UICollectionView</code> sederhana: cukup terapkan metode opsional <code>func collectionView(_ collectionView: UICollectionView, contextMenuConfigurationForItemAt indexPath: IndexPath, point: CGPoint) -&gt; UIContextMenuConfiguration?</code>  Protokol <code>UICollectionViewDelegate</code> .  Inilah yang kami dapatkan: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">collectionView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> collectionView: UICollectionView, contextMenuConfigurationForItemAt indexPath: IndexPath, point: CGPoint)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> configuration = <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration</span></span>(identifier: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, previewProvider: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { actions -&gt; <span class="hljs-type"><span class="hljs-type">UIMenu</span></span>&lt;<span class="hljs-type"><span class="hljs-type">UIAction</span></span>&gt;? <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> action = <span class="hljs-type"><span class="hljs-type">UIAction</span></span>(__title: <span class="hljs-string"><span class="hljs-string">"Archive"</span></span>, image: <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(systemName: <span class="hljs-string"><span class="hljs-string">"archivebox.fill"</span></span>), options: .destructive) { action <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-comment"><span class="hljs-comment">// Put button handler here } return UIMenu&lt;UIAction&gt;.create(title: "Menu", children: [action]) } return configuration }</span></span></code> </pre> <br><p>  Di sini, seperti sebelumnya, elemen dan menu itu sendiri dibuat.  Sekarang, dengan klik panjang (kuat) pada sel, pengguna akan melihat menu konteks. </p><br><h2 id="dobavlyaem-kontekstnoe-menyu-v-uitableview">  Tambahkan menu konteks ke <code>UITableView</code> </h2><br><p>  Semuanya di sini mirip dengan <code>UICollectionView</code> .  Anda perlu menerapkan metode <code>contextMenuConfigurationForRowAt</code> dari protokol <code>UITableViewDelegate</code> seperti ini: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tableView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tableView: UITableView, contextMenuConfigurationForRowAt indexPath: IndexPath, point: CGPoint)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> configuration = <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration</span></span>(identifier: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, previewProvider: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) { actions -&gt; <span class="hljs-type"><span class="hljs-type">UIMenu</span></span>&lt;<span class="hljs-type"><span class="hljs-type">UIAction</span></span>&gt;? <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> action = <span class="hljs-type"><span class="hljs-type">UIAction</span></span>(__title: <span class="hljs-string"><span class="hljs-string">"Custom action"</span></span>, image: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, options: []) { action <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-comment"><span class="hljs-comment">// Put button handler here } return UIMenu&lt;UIAction&gt;.create(title: "Menu", children: [action]) } return configuration }</span></span></code> </pre> <br><p>  Tetapi bagaimana jika kita ingin menggunakan layar khusus di menu konteks?  Sebagai contoh, ini: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/42d/724/29d/42d72429d50424a69d1ecddb7a7c91ce.gif"></p><br><p>  Untuk melakukan ini, saat membuat <code>UIContextMenuConfiguration</code> harus melewati <code>UIViewController</code> diinginkan untuk melihat <code>previewProvider</code> .  Berikut adalah contoh kode yang mengimplementasikan ini: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PreviewViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">controller</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">PreviewViewController</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> storyboard = <span class="hljs-type"><span class="hljs-type">UIStoryboard</span></span>(name: <span class="hljs-string"><span class="hljs-string">"Main"</span></span>, bundle: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> controller = storyboard.instantiateViewController(withIdentifier: <span class="hljs-string"><span class="hljs-string">"PreviewViewController"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>! <span class="hljs-type"><span class="hljs-type">PreviewViewController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> controller } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TableViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UITableViewDelegate</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tableView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tableView: UITableView, contextMenuConfigurationForRowAt indexPath: IndexPath, point: CGPoint)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> configuration = <span class="hljs-type"><span class="hljs-type">UIContextMenuConfiguration</span></span>(identifier: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, previewProvider: { () -&gt; <span class="hljs-type"><span class="hljs-type">UIViewController?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-comment"><span class="hljs-comment">// Return Preview View Controller here return PreviewViewController.controller() }) { _ -&gt; UIMenu&lt;UIAction&gt;? in let action = UIAction(__title: "Custom action", image: nil, options: []) { action in // Put button handler here } return UIMenu&lt;UIAction&gt;.create(title: "Menu", children: [action]) } return configuration } }</span></span></code> </pre> <br><p>  Dalam contoh tersebut, <code>PreviewViewController</code> diinisialisasi dari storyboard dan ditampilkan dalam menu konteks. </p><br><p>  Tetap menambahkan pemrosesan klik ke ViewController ini.  Untuk melakukannya, terapkan metode <code>willCommitMenuWithAnimator</code> dari protokol <code>UITableViewDelegate</code> .  Pawang itu sendiri akan ditempatkan di dalam <code>animator.addCompletion</code> : </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tableView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> tableView: UITableView, willCommitMenuWithAnimator animator: UIContextMenuInteractionCommitAnimating)</span></span></span></span> { animator.addCompletion { <span class="hljs-comment"><span class="hljs-comment">// Put handler here } }</span></span></code> </pre> <br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>  Menu konteks adalah alat baru yang ampuh untuk interaksi pengguna dengan aplikasi Anda.  Dan, seperti yang Anda lihat, implementasinya cukup sederhana.  Tetapi Anda tidak boleh lupa bahwa metode tersebut dapat berubah hingga versi rilis iOS 13 dirilis. </p><br><blockquote>  Ingin menerapkan langganan di aplikasi iOS Anda dalam 10 menit?  Integrasikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apphud</a> dan: <br><ul><li>  Lakukan pembelian hanya menggunakan satu metode; </li><li>  secara otomatis melacak status langganan setiap pengguna; </li><li>  Integrasikan Penawaran Langganan dengan mudah </li><li>  kirim acara berlangganan ke Amplitude, Mixpanel, Slack dan Telegram dengan mempertimbangkan mata uang lokal pengguna; </li><li>  mengurangi tingkat Churn dalam aplikasi dan mengembalikan pengguna yang tidak berlangganan. </li></ul><br></blockquote><br><h2 id="chto-pochitat">  Apa yang harus dibaca? </h2><br><ul><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">15 Tips untuk Mendapatkan Aplikasi Langganan Anda ke App Store</a> </p><br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Pemberitahuan Langganan Apple untuk iOS.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apakah mereka benar-benar baik?</a> </p><br></li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">7 Hal Penting untuk Diketahui tentang Langganan iOS</a> </p><br></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id455854/">https://habr.com/ru/post/id455854/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id455844/index.html">Membuat penganalisis Roslyn menggunakan pengujian enkapsulasi sebagai contoh</a></li>
<li><a href="../id455846/index.html">Komputasi Terdistribusi di Julia</a></li>
<li><a href="../id455848/index.html">Teknik untuk menghindari perilaku tidak terdefinisi saat mengakses singleton</a></li>
<li><a href="../id455850/index.html">Kotak Alat untuk Peneliti - Edisi Ketiga: Mencari dan Bekerja dengan Sumber</a></li>
<li><a href="../id455852/index.html">Pengangkatan sinus dan implantasi simultan</a></li>
<li><a href="../id455856/index.html">Suhu nirkabel, kelembaban dan sensor tekanan atmosfer pada nRF52832</a></li>
<li><a href="../id455858/index.html">Jaringan TV kabel untuk yang terkecil. Bagian 9: Headend</a></li>
<li><a href="../id455860/index.html">Pengembangan BPM muda yang modis, modis, di Camunda</a></li>
<li><a href="../id455862/index.html">Apa yang Baru di AWS: DATA API, Analisis Data Kinesis, S3 Path</a></li>
<li><a href="../id455868/index.html">Mengatasi Hukum Moore: Teknologi Transistor Masa Depan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>