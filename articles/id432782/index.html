<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕗 😕 ❔ Instalasi multi-server Zimbra Collaboration Suite 👩🏼‍💼 🎲 🤾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada aturan tidak tertulis, yang menurutnya tidak disarankan untuk membuat lebih dari 5-6 ribu kotak surat di satu server dengan Zimbra Collaboration S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Instalasi multi-server Zimbra Collaboration Suite</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/432782/">  Ada aturan tidak tertulis, yang menurutnya tidak disarankan untuk membuat lebih dari 5-6 ribu kotak surat di satu server dengan Zimbra Collaboration Suite.  Melebihi kisaran ini dipenuhi dengan penurunan kualitas server yang signifikan dan mengurangi ketersediaannya bagi pengguna.  Tetapi bagaimana jika Anda memiliki perusahaan besar atau penyedia SaaS yang bertugas mengakses Zimbra Collaboration Suite sebagai layanan dan Anda perlu memberikan email kepada 10, 20, 30 atau lebih ribu orang?  Khusus untuk kasus-kasus seperti itu, di Zimbra ada dukungan untuk instalasi multi-server, di mana kotak surat berada di server yang berbeda dan memungkinkan Anda untuk mempertahankan ketersediaan email yang tinggi bahkan di bawah beban berat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="gambar"><br><a name="habracut"></a><br>  Tentu saja, pemasangan multiserver Suite Zimbra Collaboration secara signifikan berbeda dari instalasi biasa pada server tunggal, proses yang dijelaskan secara rinci dalam artikel sebelumnya.  Pertama-tama, disarankan untuk menentukan arsitektur infrastruktur server di mana Zimbra Collaboration Suite akan diinstal.  Konfigurasi infrastruktur server seperti itu akan menjadi yang paling optimal dalam pengoperasian.  Perhatikan bahwa jumlah server untuk menyimpan kotak surat bisa berapa saja dan jumlahnya, seperti yang sudah disebutkan, dihitung berdasarkan 5-6 ribu kotak surat aktif per server, jika akses ke mereka akan dilakukan secara eksklusif melalui klien web, dan 3-4 ribu kotak surat ke server, jika pengguna akan bekerja dengan klien desktop dan menyinkronkan email dengan perangkat seluler. <br><br><img src="https://habrastorage.org/webt/tu/sf/yx/tusfyxl007udcolq_tlpcz7kvhw.jpeg"><br>  <i>Salah satu contoh membangun infrastruktur multi-server untuk Zimbra Collaboration Suite</i> <br><br><h3>  Zimbra LDAP </h3><br>  Sebelum memulai instalasi langsung, pastikan semua server memiliki waktu sistem yang sama.  Pertama-tama, untuk instalasi multiserver dari Zimbra, kita perlu menginstal dan mengkonfigurasi server dengan Zimbra LDAP.  Jika diinginkan, Zimbra LDAP dapat diinstal pada beberapa server, salah satunya akan bertindak sebagai server LDAP utama, dan sisanya akan menjadi server LDAP tambahan yang mengambil bagian dari beban dan dengan demikian meningkatkan kecepatan server utama.  Ketersediaan server LDAP sekunder juga meningkatkan keamanan dan ketahanan infrastruktur dengan Zimbra. <br><br>  Selama instalasi Zimbra di server LDAP utama, penginstal akan meminta Anda untuk memilih komponen yang akan diinstal.  Dalam hal ini, kita hanya perlu <b>zimbra-ldap</b> : <br><br><pre><code class="plaintext hljs">Select the packages to install Install zimbra-ldap [Y] Y Install zimbra-logger [Y] N Install zimbra-mta [Y] N Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] N Install zimbra-store [Y] N Install zimbra-apache [Y] N Install zimbra-spell [Y] N Install zimbra-convertd [Y] N Install zimbra-memcached [Y] N Install zimbra-proxy [Y] N Install zimbra-archiving [N] N Install zimbra-chat [Y] N Install zimbra-drive [Y] N Install zimbra-imapd [Y] N Checking required space for zimbra-core Installing: zimbra-core zimbra-ldap The system will be modified. Continue? [N]</code> </pre> <br>  Tekan Y dan setelah selesai modifikasi sistem menu teks terbuka di mana kami tertarik pada item <b>Konfigurasi umum</b> .  Pergi ke sana, kita melihat daftar pengaturan dasar: <br><br><pre> <code class="plaintext hljs">Common Configuration: 1) Hostname: ldap-1.zimbra.com 2) Ldap master host: zimbra.com 3) Ldap port: 389 4) Ldap Admin password: set 5) Secure interprocess communications: Yes 6) TimeZone: (GMT-08.00) Pacific Time (US &amp; Canada) 7) IP Mode: ipv4 8) Default SSL digest: sha256</code> </pre> <br>  Dengan memilih item 4, Anda dapat melihat kata sandi untuk mengakses Zimbra LDAP yang dihasilkan secara acak selama instalasi dan jika Anda ingin mengubahnya.  Anda juga harus mengubah zona waktu ke zona di mana Anda saat ini berada.  Kami menyarankan Anda mengingat atau menuliskan kata sandi administrator LDAP di suatu tempat, serta port akses dan nama domain server LDAP.  Anda akan memerlukan informasi ini ketika mengatur server dengan kotak surat dan MTA. <br><br>  Setelah itu, kita kembali lagi ke menu utama dan memilih item kedua yang disebut <b>zimbra-ldap</b> .  Di sini kami tertarik pada kata sandi yang dibuat secara acak untuk akses ke akar LDAP, replikasi LDAP, LDAP Postfix, LDAP Amavis, dan LDAP Nginx, yang dapat diubah menjadi diciptakan secara independen.  Kami menyarankan Anda untuk mengingat atau menuliskan kata sandi dari replikasi LDAP, LDAP Postfix, LDAP Amavis, dan LDAP Nginx, karena mereka berguna untuk konfigurasi server lebih lanjut dari MTA dan server LDAP tambahan.  Setelah itu, tetap hanya menerapkan perubahan dan setuju untuk menulis semua pengaturan ke file.  Penyiapan server LDAP selesai. <br><br><h3>  Replika LDAP </h3><br>  Jika Anda ingin mengkonfigurasi server LDAP tambahan, Anda harus mengaktifkan dukungannya pada server LDAP utama menggunakan perintah <b>/ opt / zimbra / libexec / zmldapenablereplica</b> .  Kemudian, saat mengonfigurasi server LDAP tambahan, server utama harus dihidupkan. <br><br>  Menginstal dan mengonfigurasi server LDAP sekunder mengulangi penginstalan dan konfigurasi server primer.  Perbedaan utama adalah dalam proses pengaturan setelah instalasi.  Jadi, Anda perlu: <br><br><ol><li>  Tentukan alamat server LDAP utama sebagai nama host Master LDAP, </li><li>  Di bidang untuk memasukkan port, tentukan nomor port yang terbuka di server LDAP utama. </li><li>  Ganti kata sandi Admin LDAP yang dibuat secara acak dengan yang dipasang di server LDAP utama </li><li>  Di submenu konfigurasi LDAP, setel parameter Tidak di bidang Buat Domain </li><li>  Masukkan kata sandi replikasi LDAP yang ditetapkan saat mengkonfigurasi server utama. </li></ol><br>  Setelah itu, terapkan semua perubahan dan simpan pengaturan ke file. <br><br><h3>  Zimbra mta </h3><br>  Selain LDAP dan penyimpanan surat, Agen Transfer Surat sering dibawa ke server terpisah.  Saat menginstal Zimbra, Anda harus memilih hanya paket <b>zimbra-mta</b> dan <b>zimbra-dnscache</b> .  Setelah itu, kami kembali setuju untuk mengubah sistem dan beralih ke mengkonfigurasi server. <br><br><pre> <code class="plaintext hljs">Select the packages to install Install zimbra-ldap [Y] n Install zimbra-logger [Y] n Install zimbra-mta [Y] y Install zimbra-dnscache [Y] y Install zimbra-snmp [Y] n Install zimbra-store [Y] n Install zimbra-apache [Y] n Install zimbra-spell [Y] n Install zimbra-memcached [Y] n Install zimbra-proxy [Y] n Checking required space for zimbra-core Installing: zimbra-core zimbra-mta zimbra-dnscache The system will be modified. Continue? [N] y Installing packages</code> </pre> <br>  Pertama-tama, kita perlu menentukan alamat server LDAP dalam <b>Konfigurasi Umum,</b> memasukkan kata sandi akses LDAP, dan mengatur zona waktu yang benar.  Setelah itu, pergi ke pengaturan MTA, di mana Anda harus memasukkan alamat server otentikasi, yang biasanya cocok dengan alamat toko surat.  Setelah itu, tinggal memasukkan kata sandi untuk postfix dan amavis, yang kami buat saat menyiapkan server LDAP utama.  Setelah itu, Anda dapat menerapkan perubahan dan menyimpan pengaturan dalam file terpisah. <br><br><h3>  Proksi Zimbra </h3><br>  Anda akan memerlukan simpul ini untuk menyeimbangkan muatan antara penyimpanan surat yang berbeda dan MTA.  Ada di sana bahwa pengguna akan diautentikasi sehingga Zimbra nantinya dapat mengirimnya ke penyimpanan email tempat kotak surat pengguna disimpan. <b>Ketika</b> menginstal Zimbra Proxy, Anda harus memilih hanya paket <b>zimbra-memcached</b> dan <b>zimbra-proxy</b> .  Setelah itu, kami kembali setuju untuk mengubah sistem dan beralih ke mengkonfigurasi server. <br><br><pre> <code class="plaintext hljs">Select the packages to install Install zimbra-ldap [Y] N Install zimbra-logger [Y] N Install zimbra-mta [Y] N Install zimbra-dnscache [N] N Install zimbra-snmp [Y] N Install zimbra-store [Y] N Install zimbra-apache [Y] N Install zimbra-spell [Y] N Install zimbra-convertd [N] N Install zimbra-memcached [N] Y Install zimbra-proxy [N] Y Install zimbra-archiving [N] N Installing: zimbra-memcached zimbra-proxy Configuration section The system will be modified. Continue [N] Y</code> </pre> <br>  Pertama-tama, kita perlu menentukan alamat server LDAP dalam <b>Konfigurasi Umum,</b> memasukkan kata sandi akses LDAP, dan mengatur zona waktu yang benar.  Setelah itu, pergi ke pengaturan MTA, di mana Anda harus memasukkan alamat server otentikasi, yang biasanya cocok dengan alamat toko surat.  Setelah itu, tinggal memasukkan kata sandi untuk postfix dan amavis, yang kami buat saat menyiapkan server LDAP utama.  Setelah itu, Anda dapat menerapkan perubahan dan menyimpan pengaturan dalam file terpisah. <br><br><h3>  Kotak surat Zimbra </h3><br>  Proses instalasi Zimbra di server tempat kotak surat berada, mengulangi proses instalasi di server LDAP.  Perbedaan utama adalah flag yang ditetapkan ketika memilih komponen mana yang akan diinstal.  Kami membutuhkan set berikut: <br><br><pre> <code class="plaintext hljs">Install zimbra-ldap [Y] N Install zimbra-logger [Y] Y Install zimbra-mta [Y] N Install zimbra-dnscache [Y] N Install zimbra-snmp [Y] Y Install zimbra-store [Y] Y Install zimbra-apache [Y] Y Install zimbra-spell [Y] Y Install zimbra-convertd [Y] Y Install zimbra-memcached [Y] N Install zimbra-proxy [Y] N Install zimbra-archiving [N] Y Install zimbra-chat [Y] Y Install zimbra-drive [Y] Y Install zimbra-imapd [Y] N Installing: zimbra-core zimbra-logger zimbra-snmp zimbra-store zimbra-apache zimbra-spell zimbra-convertd zimbra-archiving zimbra-chat zimbra-drive The system will be modified. Continue? [N]</code> </pre> <br>  Setelah menyatakan persetujuan Anda untuk instalasi, kami mengizinkan modifikasi sistem, menunggu proses instalasi untuk menyelesaikan, dan memulai proses pengaturan server.  Pertama-tama, kita harus pergi ke item <b>Common Configuration</b> dan menentukan alamat server LDAP dan kata sandi untuk akses ke LDAP, di samping itu, disarankan untuk memeriksa apakah zona waktu yang benar diatur pada server.  Juga, jika Anda lupa kata sandi akses LDAP Anda, Anda bisa mendapatkannya dengan memasukkan perintah <b>zmlocalconfig -s zimbra_ldap_password</b> di server LDAP. <br><br>  Setelah itu, Anda dapat melanjutkan ke <b>Konfigurasi Toko</b> item.  Di sini kita perlu mengatur kata sandi untuk administrator server, serta mengatur nama domain repositori dengan nomor yang sesuai, sehingga tidak ada kebingungan lebih lanjut.  Selain itu, Anda harus memilih jenis koneksi.  Misalnya, Anda selalu dapat menggunakan HTTP atau HTTPS, mengaktifkan HTTPS, atau hanya menggunakan HTTPS untuk otentikasi.  Selain itu, selama pengaturan Zimbra Mailbox, Anda harus menunjukkan alamat server MTA yang sesuai di jalur <b>Host SMTP</b> .  Setelah itu, Anda dapat membuat sejumlah pengaturan sesuai kebijaksanaan Anda.  Di akhir pengaturan, Anda harus menerapkan perubahan dan menyimpan semua pengaturan dalam file. <br><br>  Sebaiknya setel kata sandi untuk akses SSH setelah instalasi selesai sehingga Anda dapat mengatur server dan antrian Postfix dari jarak jauh.  Selain itu, jika Anda menggunakan server LDAP tambahan, setelah konfigurasi selesai, Anda harus mengubah nilai <b>ldap_url</b> pada server MTA dan Mailbox sehingga mereka berfungsi dengan benar.  Untuk melakukan ini, Anda harus menghentikan Zimbra menggunakan perintah <b>berhenti zmcontrol</b> , dan kemudian masukkan perintah dari bentuk z <b>mlocalconfig -e ldap_url = "ldap: //ldap-2.zimbra.com ldap: //ldap-1.zimbra.com"</b> , di mana Pertama, tentukan alamat semua server tambahan, dan di akhir server LDAP utama.  Pada server MTA, setelah konfigurasi selesai, Anda harus memulai Zimbra lagi dan menjalankan <b>/ opt / zimbra / libexe / zmmtainit</b> untuk menimpa pengaturan Postfix. <br><br>  Untuk semua pertanyaan yang terkait dengan Zextras Suite, Anda dapat menghubungi perwakilan Zextras Katerina Triandafilidi melalui email katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id432782/">https://habr.com/ru/post/id432782/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id432772/index.html">Bagaimana kami membuat layanan kampanye iklan yang sesuai dengan GDPR</a></li>
<li><a href="../id432774/index.html">Frontend DevDay. Rekaman Laporan</a></li>
<li><a href="../id432776/index.html">Buku "React in action"</a></li>
<li><a href="../id432778/index.html">Pengembangan buck converter pada STM32F334: prinsip operasi, perhitungan, pembuatan prototipe</a></li>
<li><a href="../id432780/index.html">Mengapa empati dibutuhkan di dunia teknologi</a></li>
<li><a href="../id432784/index.html">Castlevania Bot</a></li>
<li><a href="../id432786/index.html">.NET - lokalisasi tanpa rasa sakit. (N) gettext + poedit</a></li>
<li><a href="../id432788/index.html">Prototipe: cara membuat produk yang sukses dan menyimpan</a></li>
<li><a href="../id432790/index.html">Superconductor + ferromagnet: studi pasangan triplet Cooper</a></li>
<li><a href="../id432794/index.html">Bret Victor: Beberapa kata tentang Douglas Engelbart</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>