<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¶ğŸ» ğŸ¤¶ğŸ¿ ğŸ•ºğŸ¿ Comment prendre le contrÃ´le de votre infrastructure rÃ©seau. Chapitre Trois SÃ©curitÃ© du rÃ©seau. DeuxiÃ¨me partie â¬œï¸ ğŸ‘¨ğŸ¿â€ğŸ­ ğŸ”›</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est le quatriÃ¨me d'une sÃ©rie d'articles, Â«Comment prendre l'infrastructure rÃ©seau sous votre contrÃ´leÂ». Le contenu de tous les articles de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment prendre le contrÃ´le de votre infrastructure rÃ©seau. Chapitre Trois SÃ©curitÃ© du rÃ©seau. DeuxiÃ¨me partie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436230/">  <i>Cet article est le quatriÃ¨me d'une sÃ©rie d'articles, Â«Comment prendre l'infrastructure rÃ©seau sous votre contrÃ´leÂ».</i>  <i>Le contenu de tous les articles de la sÃ©rie et les liens peuvent Ãªtre trouvÃ©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a></i> . <br><br>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premiÃ¨re partie de</a> ce chapitre, nous avons examinÃ© certains aspects de la sÃ©curitÃ© rÃ©seau du segment Data Center.  Cette partie sera consacrÃ©e au segment Â«AccÃ¨s InternetÂ». <br><br><img src="https://habrastorage.org/webt/90/cg/fg/90cgfgwjckdeac9trcmr6gifhcy.png" alt="image"><br><br><h1>  AccÃ¨s Internet </h1><br>  La sÃ©curitÃ© est sans aucun doute l'un des sujets les plus complexes du monde des rÃ©seaux de donnÃ©es.  Comme dans les cas prÃ©cÃ©dents, sans prÃ©tendre Ã  la profondeur et Ã  l'exhaustivitÃ©, je considÃ©rerai ici assez simple, mais, Ã  mon avis, des questions importantes, dont les rÃ©ponses, je l'espÃ¨re, contribueront Ã  Ã©lever le niveau de sÃ©curitÃ© de votre rÃ©seau. <br><br>  Lors de l'audit de ce segment, faites attention aux aspects suivants: <br><br><ul><li>  conception </li><li>  ParamÃ¨tres BGP </li><li>  Protection DOS / DDOS </li><li>  filtrage du trafic du pare-feu </li></ul><a name="habracut"></a><br><h3>  La conception </h3><br>  Comme exemple de la conception de ce segment pour le rÃ©seau d'entreprise, je recommanderais un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">guide</a> de Cisco dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modÃ¨le SAFE</a> . <br><br>  Bien sÃ»r, la solution d'autres fournisseurs vous semblera peut-Ãªtre plus attrayante (voir le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quadrant Gartner pour 2018</a> ), mais sans vous inciter Ã  suivre cette conception en dÃ©tail, je trouve toujours utile de comprendre les principes et les idÃ©es qui la sous-tendent. <br><blockquote>  <b>Remarque</b> <br><br>  Dans SAFE, le segment d'accÃ¨s Ã  distance fait partie de l'accÃ¨s Ã  Internet.  Mais dans cette sÃ©rie d'articles, nous allons l'examiner sÃ©parÃ©ment. </blockquote>  L'ensemble standard d'Ã©quipements de ce segment pour un rÃ©seau d'entreprise est <br><br><ul><li>  routeurs frontaliers </li><li>  pare-feu </li></ul><br><blockquote>  <b>Remarque 1</b> <br><br>  Dans cette sÃ©rie d'articles, lorsque je parle de pare-feu, je veux dire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NGFW</a> . </blockquote><blockquote>  <b>Remarque 2</b> <br><br>  J'omets la prise en compte de diffÃ©rents types de solutions L2 / L1 ou superposition L2 sur L3 nÃ©cessaires pour assurer la connectivitÃ© L1 / L2 et je me limite aux questions de niveau L3 et supÃ©rieur.  Les problÃ¨mes partiellement L1 / L2 ont Ã©tÃ© traitÃ©s dans le chapitre " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nettoyage et documentation</a> ". </blockquote>  Si vous n'avez pas trouvÃ© de pare-feu dans ce segment, ne vous prÃ©cipitez pas vers les conclusions. <br><br>  CommenÃ§ons, comme dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie prÃ©cÃ©dente</a> , par la question: est-il nÃ©cessaire d'utiliser un pare-feu dans ce segment dans votre cas? <br><br>  Je peux dire que cela semble Ãªtre l'endroit le plus justifiÃ© pour utiliser des pare-feu et pour appliquer des algorithmes complexes de filtrage du trafic.  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1,</a> nous avons mentionnÃ© 4 facteurs qui peuvent interfÃ©rer avec l'utilisation de pare-feu dans le segment des centres de donnÃ©es.  Mais ici, ils ne sont pas si importants. <br><blockquote>  Exemple 1. <b>Retard</b> <br><br>  Quant Ã  Internet, cela n'a aucun sens de parler de retards mÃªme de l'ordre de 1 milliseconde.  Par consÃ©quent, le retard dans ce segment ne peut pas Ãªtre un facteur limitant l'utilisation de feux d'artifice. </blockquote><blockquote>  Exemple 2. <b>Performances</b> <br><br>  Dans certains cas, ce facteur peut encore Ãªtre important.  Par consÃ©quent, vous devrez peut-Ãªtre laisser une partie du trafic (par exemple, le trafic de l'Ã©quilibreur de charge) contourner le pare-feu. </blockquote><blockquote>  Exemple 3. <b>FiabilitÃ©</b> <br><br>  Ce facteur doit encore Ãªtre pris en compte, mais nÃ©anmoins, compte tenu du manque de fiabilitÃ© de l'Internet lui-mÃªme, son importance pour ce segment n'est pas aussi importante que pour le centre de donnÃ©es. <br><br>  Supposons donc que votre service vive au-dessus de http / https (avec de courtes sessions).  Dans ce cas, vous pouvez utiliser deux boÃ®tiers indÃ©pendants (sans HA) et, en cas de problÃ¨me avec l'un d'eux, le routage, transfÃ©rer tout le trafic vers le second. <br><br>  Ou vous pouvez utiliser des pare-feu en mode transperence et, lorsqu'ils Ã©chouent, permettre au trafic de contourner les pare-feu tout en rÃ©solvant le problÃ¨me. </blockquote>  Par consÃ©quent, ce n'est probablement que le <b>prix qui</b> peut Ãªtre le facteur qui vous forcera Ã  abandonner l'utilisation des pare-feu dans ce segment. <br><blockquote>  <b>Important!</b> <br><br>  Il y a une tentation de combiner ce pare-feu avec le pare-feu du centre de donnÃ©es (utilisez un pare-feu pour ces segments).  La solution, en principe, est possible, mais en mÃªme temps, vous devez comprendre que, puisque  Le pare-feu Â«AccÃ¨s InternetÂ» se situe en fait Ã  l'avant-garde de votre dÃ©fense et Â«prend en chargeÂ» au moins une partie du trafic malveillant, puis, bien sÃ»r, vous devez prendre en compte le risque accru que ce pare-feu soit dÃ©sactivÃ©.  Autrement dit, en utilisant les mÃªmes appareils dans ces deux segments, vous rÃ©duirez considÃ©rablement la disponibilitÃ© de votre segment de centre de donnÃ©es. </blockquote>  Comme d'habitude, vous devez comprendre qu'en fonction du service fourni par l'entreprise, la conception de ce segment peut Ãªtre trÃ¨s diffÃ©rente.  Comme d'habitude, vous pouvez choisir diffÃ©rentes approches en fonction des besoins. <br><blockquote>  <b>Exemple</b> <br><br>  Si vous Ãªtes un fournisseur de contenu avec un rÃ©seau CDN (voir, par exemple, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sÃ©rie d'articles</a> ), vous ne souhaiterez peut-Ãªtre pas crÃ©er des dizaines, voire des centaines de points de prÃ©sence d'infrastructure Ã  l'aide d'appareils distincts pour le routage et le filtrage du trafic.  Cela coÃ»tera cher et pourrait Ãªtre redondant. <br><br>  Pour BGP, vous n'avez pas du tout besoin de routeurs dÃ©diÃ©s, vous pouvez utiliser des outils open-source, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quagga</a> .  Par consÃ©quent, tout ce dont vous avez besoin est peut-Ãªtre un serveur ou plusieurs serveurs, un commutateur et BGP. <br><br>  Dans ce cas, votre serveur ou plusieurs serveurs peuvent jouer le rÃ´le non seulement du serveur CDN, mais Ã©galement du routeur.  Bien sÃ»r, il y a encore beaucoup de dÃ©tails (par exemple, comment assurer l'Ã©quilibrage), mais c'est faisable, et nous avons appliquÃ© avec succÃ¨s cette approche pour l'un de nos partenaires. <br><br>  Vous pouvez avoir plusieurs centres de donnÃ©es avec une protection complÃ¨te (pare-feu, services de protection DDOS fournis par vos fournisseurs Internet) et des dizaines ou des centaines de points de prÃ©sence Â«simplifiÃ©sÂ» avec uniquement des commutateurs et serveurs L2. <br><br>  Mais qu'en est-il de la protection dans ce cas? <br><br>  Voyons, par exemple, la rÃ©cente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">attaque DDOS d'amplification DNS</a> .  Son danger rÃ©side dans le fait qu'une grande quantitÃ© de trafic est gÃ©nÃ©rÃ©e, qui "obstrue" simplement 100% de toutes vos liaisons montantes. <br><br>  Ce que nous avons dans le cas de notre conception. <br><br><ul><li>  si vous utilisez AnyCast, le trafic est rÃ©parti entre vos points de prÃ©sence.  Si vous avez des tÃ©rabits de bande passante totale, alors cela en soi (en fait, il y a eu plusieurs attaques avec un trafic malveillant de l'ordre des tÃ©rabits rÃ©cemment) vous protÃ¨ge contre les dÃ©bordements de liaisons montantes </li><li>  si, nÃ©anmoins, certaines liaisons montantes sont Â«bouchÃ©esÂ», alors vous mettez simplement cette plateforme hors service (arrÃªtez d'annoncer le prÃ©fixe) </li><li>  vous pouvez Ã©galement augmenter la part du trafic provenant de vos centres de donnÃ©es Â«Ã  part entiÃ¨reÂ» (et, par consÃ©quent, protÃ©gÃ©s), supprimant ainsi une partie importante du trafic malveillant des points de prÃ©sence non protÃ©gÃ©s </li></ul><br>  Et encore une petite remarque Ã  cet exemple.  Si vous envoyez suffisamment de trafic via les IX, cela rÃ©duit Ã©galement votre exposition Ã  de telles attaques. </blockquote><h3>  Configurer BGP </h3><br>  Il y a deux sujets. <br><br><ul><li>  ConnectivitÃ© </li><li>  Configurer BGP </li></ul><br>  Nous avons dÃ©jÃ  parlÃ© un peu de la connectivitÃ© dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> .  L'essentiel est que le trafic vers vos clients soit le meilleur moyen.  Bien que l'optimalitÃ© ne soit pas toujours une question de retard, c'est gÃ©nÃ©ralement la faible latence qui est le principal indicateur d'optimalitÃ©.  Pour certaines entreprises, c'est plus important, pour d'autres - moins.  Tout dÃ©pend du service que vous fournissez. <br><blockquote>  <b>Exemple 1</b> <br><br>  Si vous Ãªtes un Ã©change et que des intervalles de temps infÃ©rieurs Ã  des millisecondes sont importants pour vos clients, alors, bien sÃ»r, il ne peut Ãªtre question d'aucun Internet. </blockquote><blockquote>  <b>Exemple 2</b> <br><br>  Si vous Ãªtes une entreprise de jeux et que des dizaines de millisecondes sont importantes pour vous, alors, bien sÃ»r, la connectivitÃ© est trÃ¨s importante pour vous. </blockquote><blockquote>  <b>Exemple 3</b> <br><br>  Vous devez Ã©galement comprendre qu'en raison des propriÃ©tÃ©s du protocole TCP, le taux de transfert de donnÃ©es au sein d'une session TCP dÃ©pend Ã©galement du RTT (Round Trip Time).  Des rÃ©seaux CDN sont Ã©galement en cours de construction pour rÃ©soudre ce problÃ¨me, rapprochant les serveurs de distribution de contenu du consommateur de ce contenu. </blockquote>  L'Ã©tude de la connectivitÃ© est un sujet intÃ©ressant distinct, digne d'un article sÃ©parÃ© ou d'une sÃ©rie d'articles et nÃ©cessite une bonne comprÃ©hension de la faÃ§on dont Internet est Â«organisÃ©Â». <br><br>  Ressources utiles: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ripe.net</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bgp.he.net</a> <br><blockquote>  <b>Exemple</b> <br><br>  Je ne donnerai qu'un petit exemple. <br><br>  Supposons que votre centre de donnÃ©es soit situÃ© Ã  Moscou et que vous ayez la seule liaison montante - Rostelecom (AS12389).  Dans ce cas, vous n'avez pas besoin de BGP (Ã  hÃ©bergement unique) et vous utilisez probablement le pool d'adresses de Rostelecom comme adresses publiques. <br><br>  Supposons que vous fournissiez un certain service, que vous ayez un nombre suffisant de clients ukrainiens et qu'ils se plaignent de gros retards.  Dans l'Ã©tude, vous avez constatÃ© que les adresses IP de certains d'entre eux se trouvent dans le rÃ©seau 37.52.0.0/21. <br><br>  En faisant traceroute, vous avez vu que le trafic passe par AS1299 (Telia), et en faisant ping, vous avez obtenu un RTT moyen de 70 Ã  80 millisecondes.  Vous pouvez Ã©galement le voir sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">miroir de Rostelecom</a> . <br><br>  Avec l'utilitaire whois (sur ripe.net ou un utilitaire local), vous pouvez facilement dÃ©terminer que le bloc 37.52.0.0/21 appartient Ã  AS6849 (Ukrtelecom). <br><br>  De plus, en allant sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bgp.he.net,</a> vous voyez que AS6849 n'a aucune relation avec AS12389 (ils ne sont ni clients ni liaisons montantes les uns aux autres, ils n'ont pas non plus de peering).  Mais si vous regardez la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">liste des pairs</a> pour AS6849, vous verrez, par exemple, AS29226 (Mastertel) et AS31133 (Megafon). <br><br>  En trouvant le miroir de ces fournisseurs, vous pouvez comparer le chemin d'accÃ¨s et le RTT.  Par exemple, pour Mastertel RTT, il y aura dÃ©jÃ  environ 30 millisecondes. <br><br>  Donc, si la diffÃ©rence entre 80 et 30 millisecondes est importante pour votre service, alors vous devez peut-Ãªtre penser Ã  la connectivitÃ©, obtenir votre numÃ©ro AS, votre pool d'adresses dans RIPE et connecter des liaisons montantes supplÃ©mentaires et / ou crÃ©er des points de prÃ©sence sur les IX. </blockquote><br>  Lorsque vous utilisez BGP, vous avez non seulement la possibilitÃ© d'amÃ©liorer la connectivitÃ©, mais Ã©galement de rÃ©server votre connexion Internet. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ce document</a> contient des recommandations pour la configuration de BGP.  MalgrÃ© le fait que ces recommandations ont Ã©tÃ© dÃ©veloppÃ©es sur la base des Â«meilleures pratiquesÂ» des prestataires, nÃ©anmoins (si vos paramÃ¨tres BGP ne sont pas trÃ¨s Ã©lÃ©mentaires), elles sont sans aucun doute utiles et devraient en fait faire partie du durcissement dont nous avons discutÃ© dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">premiÃ¨re partie</a> . <br><br><h3>  Protection DOS / DDOS </h3><br>  DÃ©sormais, les attaques DOS / DDOS sont devenues une rÃ©alitÃ© quotidienne pour de nombreuses entreprises.  En fait, sous une forme ou une autre, vous Ãªtes assez souvent attaquÃ©.  Le fait que vous ne le remarquiez pas encore, signifie seulement qu'une attaque ciblÃ©e contre vous n'a pas encore Ã©tÃ© organisÃ©e, et que les dÃ©fenses que vous utilisez, mÃªme Ã©ventuellement sans vous en douter (diverses dÃ©fenses intÃ©grÃ©es des systÃ¨mes d'exploitation), suffisant pour que la dÃ©gradation du service fourni soit minimisÃ©e pour vous et vos clients. <br><br>  Il existe des ressources Internet qui, sur la base des journaux de l'Ã©quipement, dessinent de belles cartes d'attaque en temps rÃ©el. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ici</a> vous pouvez trouver des liens vers eux. <br><br>  Ma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte</a> prÃ©fÃ©rÃ©e de CheckPoint. <br><br>  La protection DDOS / DOS est gÃ©nÃ©ralement en couches.  Pour comprendre pourquoi, vous devez comprendre quels types d'attaques DOS / DDOS existent (voir, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ) <br><br>  Autrement dit, nous avons trois types d'attaques: <br><br><ul><li>  attaques volumÃ©triques </li><li>  attaques de protocole </li><li>  attaques d'applications </li></ul><br>  Si vous pouvez vous protÃ©ger contre les deux derniers types d'attaques vous-mÃªme, en utilisant, par exemple, des pare-feu, vous ne serez pas protÃ©gÃ© contre les attaques visant Ã  Â«dÃ©borderÂ» vos liaisons montantes (bien sÃ»r, si la capacitÃ© totale de votre canal Internet n'est pas calculÃ©e en tÃ©rabits, mais mieux, par dizaines tÃ©rabit). <br><br>  Par consÃ©quent, la premiÃ¨re ligne de dÃ©fense est la protection contre les attaques "volumÃ©triques" et votre ou vos fournisseurs doivent fournir cette protection.  Si vous ne l'avez pas encore rÃ©alisÃ©, alors pour l'instant vous avez juste de la chance. <br><blockquote>  <b>Exemple</b> <br><br>  Supposons que vous ayez plusieurs liaisons montantes, mais qu'un seul des fournisseurs peut vous fournir cette protection.  Mais si tout le trafic passe par un seul fournisseur, qu'en est-il de la connectivitÃ© dont nous avons briÃ¨vement parlÃ© un peu plus tÃ´t? <br><br>  Dans ce cas, vous devrez sacrifier en partie la connectivitÃ© pendant l'attaque.  Mais <br><br><ul><li>  ce n'est que pour la durÃ©e de l'attaque.  En cas d'attaque, vous pouvez reconfigurer manuellement ou automatiquement BGP afin que le trafic ne passe que par le fournisseur qui vous fournit le "parapluie".  AprÃ¨s la fin de l'attaque, vous pouvez ramener le routage Ã  son Ã©tat prÃ©cÃ©dent. </li><li>  il n'est pas nÃ©cessaire de traduire tout le trafic.  Si, par exemple, vous voyez qu'Ã  travers certaines liaisons montantes ou peerings il n'y a pas d'attaque (ou que le trafic n'est pas significatif), vous pouvez continuer Ã  annoncer des prÃ©fixes avec des attributs compÃ©titifs en direction de ces voisins BGP. </li></ul></blockquote><br>  Vous pouvez Ã©galement protÃ©ger les Â«attaques de protocoleÂ» et les Â«attaques d'applicationsÂ» des partenaires. <br>  Ici vous pouvez lire une bonne Ã©tude ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">traduction</a> ).  Certes, l'article date d'il y a deux ans, mais cela vous donnera une idÃ©e des approches, de la faÃ§on dont vous pouvez vous protÃ©ger contre les attaques DDOS. <br><br>  En principe, vous pouvez vous y limiter en externalisant complÃ¨tement votre protection.  Il y a des avantages Ã  cette solution, mais il y a un inconvÃ©nient Ã©vident.  Le fait est que nous pouvons parler (encore une fois, selon ce que fait votre entreprise) de la survie de l'entreprise.  Et confiez de telles choses Ã  des tiers ... <br><br>  Par consÃ©quent, voyons comment organiser une deuxiÃ¨me et une troisiÃ¨me ligne de dÃ©fense (en complÃ©ment de la protection du fournisseur). <br><br>  Ainsi, la deuxiÃ¨me ligne de dÃ©fense est le filtrage et les policiers Ã  l'entrÃ©e de votre rÃ©seau. <br><blockquote>  <b>Exemple 1</b> <br><br>  Supposons que vous Â«fermiez avec un parapluieÂ» de DDOS en utilisant l'un des fournisseurs.  Supposons que ce fournisseur utilise Arbour pour filtrer le trafic et les filtres en bordure de son rÃ©seau. <br><br>  La bande qu'Arbour peut Â«gÃ©rerÂ» est limitÃ©e, et le fournisseur, bien sÃ»r, ne peut pas constamment passer le trafic de tous ses partenaires qui ont commandÃ© ce service via un Ã©quipement de filtrage.  Par consÃ©quent, dans des conditions normales, le trafic n'est pas filtrÃ©. <br><br>  Supposons qu'une attaque par inondation SYN soit en cours.  MÃªme si vous avez commandÃ© un service dans lequel, en cas d'attaque, le trafic passe automatiquement au filtrage, cela ne se fait pas instantanÃ©ment.  Pendant une minute ou plus, vous restez attaquÃ©.  Et cela peut entraÃ®ner la dÃ©faillance de votre Ã©quipement ou la dÃ©gradation du service.  Dans ce cas, la limitation du trafic sur le routage des limites, bien que, conduira au fait que certaines sessions TCP ne seront pas Ã©tablies pendant ce temps, mais cela sauvera votre infrastructure de problÃ¨mes plus importants. </blockquote><blockquote>  <b>Exemple 2</b> <br><br>  Un nombre anormalement Ã©levÃ© de paquets SYN peut non seulement Ãªtre le rÃ©sultat d'une attaque par saturation SYN.  Supposons que vous fournissiez un service dans lequel vous pouvez avoir simultanÃ©ment environ 100 000 connexions TCP (dans un centre de donnÃ©es). <br><br>  Supposons qu'Ã  la suite d'un problÃ¨me Ã  court terme avec l'un de vos principaux prestataires, la moitiÃ© des sÃ©ances vous Â«donnent un coup de piedÂ».  Si votre application est conÃ§ue de telle maniÃ¨re que, sans y rÃ©flÃ©chir Ã  deux fois, immÃ©diatement (ou aprÃ¨s un intervalle de temps identique pour toutes les sessions) tente de rÃ©tablir la connexion, vous recevrez au moins 50 000 paquets SYN approximativement simultanÃ©ment. <br><br>  Si, en plus de ces sessions, par exemple, vous devez avoir une poignÃ©e de main ssl / tls, ce qui implique l'Ã©change de certificats, alors du point de vue du manque de ressources pour votre Ã©quilibreur de charge, ce sera un "DDOS" beaucoup plus fort qu'un simple dÃ©luge SYN.  Il semblerait que les Ã©quilibreurs devraient travailler sur un tel Ã©vÃ©nement, mais ... malheureusement, nous Ã©tions confrontÃ©s Ã  un tel problÃ¨me en pleine croissance. <br><br>  Et, bien sÃ»r, le policier du routeur frontalier Ã©conomisera Ã©galement votre Ã©quipement dans ce cas. </blockquote>  Le troisiÃ¨me niveau de protection contre DDOS / DOS concerne les paramÃ¨tres de votre pare-feu. <br><br>  Ici, vous pouvez arrÃªter les deux attaques du deuxiÃ¨me et du troisiÃ¨me type.  En gÃ©nÃ©ral, tout ce qui atteint le pare-feu peut Ãªtre filtrÃ© ici. <br><blockquote>  <b>Astuce</b> <br><br>  Essayez de donner au pare-feu le moins de travail possible en filtrant autant que possible sur les deux premiÃ¨res lignes de dÃ©fense.  Et voici pourquoi. <br><br>  Il ne vous est pas arrivÃ© que par accident, en gÃ©nÃ©rant du trafic afin de vÃ©rifier, par exemple, la rÃ©sistance de vos attaques DDOS au systÃ¨me d'exploitation, vous avez "tuÃ©" votre pare-feu, en le chargeant Ã  100%, avec un trafic d'intensitÃ© normale?  Sinon, peut-Ãªtre simplement parce que vous ne l'avez pas essayÃ©? <br><br>  En gÃ©nÃ©ral, un pare-feu, comme je l'ai dÃ©jÃ  dit, est une chose compliquÃ©e, et il fonctionne bien avec les vulnÃ©rabilitÃ©s connues et les solutions testÃ©es, mais si vous envoyez quelque chose d'inhabituel, juste des ordures ou des paquets avec des en-tÃªtes incorrects, alors vous avec certains avec une si petite probabilitÃ© (basÃ©e sur mon expÃ©rience), vous pouvez introduire un Ã©quipement haut de gamme dans une stupeur.  Par consÃ©quent, Ã  l'Ã©tape 2, en utilisant des listes de contrÃ´le d'accÃ¨s rÃ©guliÃ¨res (au niveau L3 / L4), autorisez uniquement le trafic Ã  entrer dans votre rÃ©seau. </blockquote><h3>  Filtrage du trafic du pare-feu </h3><br>  Nous continuons la conversation sur le pare-feu.  Vous devez comprendre que les attaques DOS / DDOS ne sont qu'un type de cyberattaque. <br><br>  En plus de la protection DOS / DDOS, nous pouvons toujours avoir quelque chose comme la liste de fonctionnalitÃ©s suivante: <br><br><ul><li>  pare-feu d'application </li><li>  prÃ©vention des menaces (antivirus, anti-spyware et vulnÃ©rabilitÃ©) </li><li>  Filtrage d'URL </li><li>  filtrage des donnÃ©es (filtrage de contenu) </li><li>  blocage de fichiers (blocage de types de fichiers) </li></ul><br>  C'est Ã  vous de voir ce dont vous avez besoin dans cette liste. <br><br>  <i>Ã€ suivre</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436230/">https://habr.com/ru/post/fr436230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436218/index.html">Marketing de contenu dans les mÃ©dias en ligne populaires: 5 erreurs de startups Ã  Ã©viter</a></li>
<li><a href="../fr436220/index.html">Comment fonctionne la notation dans l'industrie de l'autopartage. Partie 2. Identifiez un conducteur agressif en 5 secondes</a></li>
<li><a href="../fr436224/index.html">Nous Ã©crivons notre langage de programmation, partie 4: ReprÃ©sentation des structures et des classes, gÃ©nÃ©ration d'allocateurs</a></li>
<li><a href="../fr436226/index.html">Guide et aide-mÃ©moire pour Wireshark</a></li>
<li><a href="../fr436228/index.html">DÃ©veloppement d'une Ã©quipe pour interroger les donnÃ©es de la base de donnÃ©es</a></li>
<li><a href="../fr436232/index.html">StratÃ©gie de tÃ©lÃ©pathie</a></li>
<li><a href="../fr436234/index.html">Analyseurs applicatifs Haskell</a></li>
<li><a href="../fr436236/index.html">Nous utilisons la science des donnÃ©es pour dÃ©terminer le cycle de vie d'un client</a></li>
<li><a href="../fr436238/index.html">Authentification dans Kubernetes avec GitHub OAuth et Dex</a></li>
<li><a href="../fr436240/index.html">Automation VS Chaos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>