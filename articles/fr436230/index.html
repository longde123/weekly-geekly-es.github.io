<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👶🏻 🤶🏿 🕺🏿 Comment prendre le contrôle de votre infrastructure réseau. Chapitre Trois Sécurité du réseau. Deuxième partie ⬜️ 👨🏿‍🏭 🔛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est le quatrième d'une série d'articles, «Comment prendre l'infrastructure réseau sous votre contrôle». Le contenu de tous les articles de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment prendre le contrôle de votre infrastructure réseau. Chapitre Trois Sécurité du réseau. Deuxième partie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436230/">  <i>Cet article est le quatrième d'une série d'articles, «Comment prendre l'infrastructure réseau sous votre contrôle».</i>  <i>Le contenu de tous les articles de la série et les liens peuvent être trouvés <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a></i> . <br><br>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">première partie de</a> ce chapitre, nous avons examiné certains aspects de la sécurité réseau du segment Data Center.  Cette partie sera consacrée au segment «Accès Internet». <br><br><img src="https://habrastorage.org/webt/90/cg/fg/90cgfgwjckdeac9trcmr6gifhcy.png" alt="image"><br><br><h1>  Accès Internet </h1><br>  La sécurité est sans aucun doute l'un des sujets les plus complexes du monde des réseaux de données.  Comme dans les cas précédents, sans prétendre à la profondeur et à l'exhaustivité, je considérerai ici assez simple, mais, à mon avis, des questions importantes, dont les réponses, je l'espère, contribueront à élever le niveau de sécurité de votre réseau. <br><br>  Lors de l'audit de ce segment, faites attention aux aspects suivants: <br><br><ul><li>  conception </li><li>  Paramètres BGP </li><li>  Protection DOS / DDOS </li><li>  filtrage du trafic du pare-feu </li></ul><a name="habracut"></a><br><h3>  La conception </h3><br>  Comme exemple de la conception de ce segment pour le réseau d'entreprise, je recommanderais un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">guide</a> de Cisco dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modèle SAFE</a> . <br><br>  Bien sûr, la solution d'autres fournisseurs vous semblera peut-être plus attrayante (voir le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quadrant Gartner pour 2018</a> ), mais sans vous inciter à suivre cette conception en détail, je trouve toujours utile de comprendre les principes et les idées qui la sous-tendent. <br><blockquote>  <b>Remarque</b> <br><br>  Dans SAFE, le segment d'accès à distance fait partie de l'accès à Internet.  Mais dans cette série d'articles, nous allons l'examiner séparément. </blockquote>  L'ensemble standard d'équipements de ce segment pour un réseau d'entreprise est <br><br><ul><li>  routeurs frontaliers </li><li>  pare-feu </li></ul><br><blockquote>  <b>Remarque 1</b> <br><br>  Dans cette série d'articles, lorsque je parle de pare-feu, je veux dire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NGFW</a> . </blockquote><blockquote>  <b>Remarque 2</b> <br><br>  J'omets la prise en compte de différents types de solutions L2 / L1 ou superposition L2 sur L3 nécessaires pour assurer la connectivité L1 / L2 et je me limite aux questions de niveau L3 et supérieur.  Les problèmes partiellement L1 / L2 ont été traités dans le chapitre " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nettoyage et documentation</a> ". </blockquote>  Si vous n'avez pas trouvé de pare-feu dans ce segment, ne vous précipitez pas vers les conclusions. <br><br>  Commençons, comme dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie précédente</a> , par la question: est-il nécessaire d'utiliser un pare-feu dans ce segment dans votre cas? <br><br>  Je peux dire que cela semble être l'endroit le plus justifié pour utiliser des pare-feu et pour appliquer des algorithmes complexes de filtrage du trafic.  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1,</a> nous avons mentionné 4 facteurs qui peuvent interférer avec l'utilisation de pare-feu dans le segment des centres de données.  Mais ici, ils ne sont pas si importants. <br><blockquote>  Exemple 1. <b>Retard</b> <br><br>  Quant à Internet, cela n'a aucun sens de parler de retards même de l'ordre de 1 milliseconde.  Par conséquent, le retard dans ce segment ne peut pas être un facteur limitant l'utilisation de feux d'artifice. </blockquote><blockquote>  Exemple 2. <b>Performances</b> <br><br>  Dans certains cas, ce facteur peut encore être important.  Par conséquent, vous devrez peut-être laisser une partie du trafic (par exemple, le trafic de l'équilibreur de charge) contourner le pare-feu. </blockquote><blockquote>  Exemple 3. <b>Fiabilité</b> <br><br>  Ce facteur doit encore être pris en compte, mais néanmoins, compte tenu du manque de fiabilité de l'Internet lui-même, son importance pour ce segment n'est pas aussi importante que pour le centre de données. <br><br>  Supposons donc que votre service vive au-dessus de http / https (avec de courtes sessions).  Dans ce cas, vous pouvez utiliser deux boîtiers indépendants (sans HA) et, en cas de problème avec l'un d'eux, le routage, transférer tout le trafic vers le second. <br><br>  Ou vous pouvez utiliser des pare-feu en mode transperence et, lorsqu'ils échouent, permettre au trafic de contourner les pare-feu tout en résolvant le problème. </blockquote>  Par conséquent, ce n'est probablement que le <b>prix qui</b> peut être le facteur qui vous forcera à abandonner l'utilisation des pare-feu dans ce segment. <br><blockquote>  <b>Important!</b> <br><br>  Il y a une tentation de combiner ce pare-feu avec le pare-feu du centre de données (utilisez un pare-feu pour ces segments).  La solution, en principe, est possible, mais en même temps, vous devez comprendre que, puisque  Le pare-feu «Accès Internet» se situe en fait à l'avant-garde de votre défense et «prend en charge» au moins une partie du trafic malveillant, puis, bien sûr, vous devez prendre en compte le risque accru que ce pare-feu soit désactivé.  Autrement dit, en utilisant les mêmes appareils dans ces deux segments, vous réduirez considérablement la disponibilité de votre segment de centre de données. </blockquote>  Comme d'habitude, vous devez comprendre qu'en fonction du service fourni par l'entreprise, la conception de ce segment peut être très différente.  Comme d'habitude, vous pouvez choisir différentes approches en fonction des besoins. <br><blockquote>  <b>Exemple</b> <br><br>  Si vous êtes un fournisseur de contenu avec un réseau CDN (voir, par exemple, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">série d'articles</a> ), vous ne souhaiterez peut-être pas créer des dizaines, voire des centaines de points de présence d'infrastructure à l'aide d'appareils distincts pour le routage et le filtrage du trafic.  Cela coûtera cher et pourrait être redondant. <br><br>  Pour BGP, vous n'avez pas du tout besoin de routeurs dédiés, vous pouvez utiliser des outils open-source, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quagga</a> .  Par conséquent, tout ce dont vous avez besoin est peut-être un serveur ou plusieurs serveurs, un commutateur et BGP. <br><br>  Dans ce cas, votre serveur ou plusieurs serveurs peuvent jouer le rôle non seulement du serveur CDN, mais également du routeur.  Bien sûr, il y a encore beaucoup de détails (par exemple, comment assurer l'équilibrage), mais c'est faisable, et nous avons appliqué avec succès cette approche pour l'un de nos partenaires. <br><br>  Vous pouvez avoir plusieurs centres de données avec une protection complète (pare-feu, services de protection DDOS fournis par vos fournisseurs Internet) et des dizaines ou des centaines de points de présence «simplifiés» avec uniquement des commutateurs et serveurs L2. <br><br>  Mais qu'en est-il de la protection dans ce cas? <br><br>  Voyons, par exemple, la récente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">attaque DDOS d'amplification DNS</a> .  Son danger réside dans le fait qu'une grande quantité de trafic est générée, qui "obstrue" simplement 100% de toutes vos liaisons montantes. <br><br>  Ce que nous avons dans le cas de notre conception. <br><br><ul><li>  si vous utilisez AnyCast, le trafic est réparti entre vos points de présence.  Si vous avez des térabits de bande passante totale, alors cela en soi (en fait, il y a eu plusieurs attaques avec un trafic malveillant de l'ordre des térabits récemment) vous protège contre les débordements de liaisons montantes </li><li>  si, néanmoins, certaines liaisons montantes sont «bouchées», alors vous mettez simplement cette plateforme hors service (arrêtez d'annoncer le préfixe) </li><li>  vous pouvez également augmenter la part du trafic provenant de vos centres de données «à part entière» (et, par conséquent, protégés), supprimant ainsi une partie importante du trafic malveillant des points de présence non protégés </li></ul><br>  Et encore une petite remarque à cet exemple.  Si vous envoyez suffisamment de trafic via les IX, cela réduit également votre exposition à de telles attaques. </blockquote><h3>  Configurer BGP </h3><br>  Il y a deux sujets. <br><br><ul><li>  Connectivité </li><li>  Configurer BGP </li></ul><br>  Nous avons déjà parlé un peu de la connectivité dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> .  L'essentiel est que le trafic vers vos clients soit le meilleur moyen.  Bien que l'optimalité ne soit pas toujours une question de retard, c'est généralement la faible latence qui est le principal indicateur d'optimalité.  Pour certaines entreprises, c'est plus important, pour d'autres - moins.  Tout dépend du service que vous fournissez. <br><blockquote>  <b>Exemple 1</b> <br><br>  Si vous êtes un échange et que des intervalles de temps inférieurs à des millisecondes sont importants pour vos clients, alors, bien sûr, il ne peut être question d'aucun Internet. </blockquote><blockquote>  <b>Exemple 2</b> <br><br>  Si vous êtes une entreprise de jeux et que des dizaines de millisecondes sont importantes pour vous, alors, bien sûr, la connectivité est très importante pour vous. </blockquote><blockquote>  <b>Exemple 3</b> <br><br>  Vous devez également comprendre qu'en raison des propriétés du protocole TCP, le taux de transfert de données au sein d'une session TCP dépend également du RTT (Round Trip Time).  Des réseaux CDN sont également en cours de construction pour résoudre ce problème, rapprochant les serveurs de distribution de contenu du consommateur de ce contenu. </blockquote>  L'étude de la connectivité est un sujet intéressant distinct, digne d'un article séparé ou d'une série d'articles et nécessite une bonne compréhension de la façon dont Internet est «organisé». <br><br>  Ressources utiles: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ripe.net</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bgp.he.net</a> <br><blockquote>  <b>Exemple</b> <br><br>  Je ne donnerai qu'un petit exemple. <br><br>  Supposons que votre centre de données soit situé à Moscou et que vous ayez la seule liaison montante - Rostelecom (AS12389).  Dans ce cas, vous n'avez pas besoin de BGP (à hébergement unique) et vous utilisez probablement le pool d'adresses de Rostelecom comme adresses publiques. <br><br>  Supposons que vous fournissiez un certain service, que vous ayez un nombre suffisant de clients ukrainiens et qu'ils se plaignent de gros retards.  Dans l'étude, vous avez constaté que les adresses IP de certains d'entre eux se trouvent dans le réseau 37.52.0.0/21. <br><br>  En faisant traceroute, vous avez vu que le trafic passe par AS1299 (Telia), et en faisant ping, vous avez obtenu un RTT moyen de 70 à 80 millisecondes.  Vous pouvez également le voir sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">miroir de Rostelecom</a> . <br><br>  Avec l'utilitaire whois (sur ripe.net ou un utilitaire local), vous pouvez facilement déterminer que le bloc 37.52.0.0/21 appartient à AS6849 (Ukrtelecom). <br><br>  De plus, en allant sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bgp.he.net,</a> vous voyez que AS6849 n'a aucune relation avec AS12389 (ils ne sont ni clients ni liaisons montantes les uns aux autres, ils n'ont pas non plus de peering).  Mais si vous regardez la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">liste des pairs</a> pour AS6849, vous verrez, par exemple, AS29226 (Mastertel) et AS31133 (Megafon). <br><br>  En trouvant le miroir de ces fournisseurs, vous pouvez comparer le chemin d'accès et le RTT.  Par exemple, pour Mastertel RTT, il y aura déjà environ 30 millisecondes. <br><br>  Donc, si la différence entre 80 et 30 millisecondes est importante pour votre service, alors vous devez peut-être penser à la connectivité, obtenir votre numéro AS, votre pool d'adresses dans RIPE et connecter des liaisons montantes supplémentaires et / ou créer des points de présence sur les IX. </blockquote><br>  Lorsque vous utilisez BGP, vous avez non seulement la possibilité d'améliorer la connectivité, mais également de réserver votre connexion Internet. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ce document</a> contient des recommandations pour la configuration de BGP.  Malgré le fait que ces recommandations ont été développées sur la base des «meilleures pratiques» des prestataires, néanmoins (si vos paramètres BGP ne sont pas très élémentaires), elles sont sans aucun doute utiles et devraient en fait faire partie du durcissement dont nous avons discuté dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">première partie</a> . <br><br><h3>  Protection DOS / DDOS </h3><br>  Désormais, les attaques DOS / DDOS sont devenues une réalité quotidienne pour de nombreuses entreprises.  En fait, sous une forme ou une autre, vous êtes assez souvent attaqué.  Le fait que vous ne le remarquiez pas encore, signifie seulement qu'une attaque ciblée contre vous n'a pas encore été organisée, et que les défenses que vous utilisez, même éventuellement sans vous en douter (diverses défenses intégrées des systèmes d'exploitation), suffisant pour que la dégradation du service fourni soit minimisée pour vous et vos clients. <br><br>  Il existe des ressources Internet qui, sur la base des journaux de l'équipement, dessinent de belles cartes d'attaque en temps réel. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ici</a> vous pouvez trouver des liens vers eux. <br><br>  Ma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">carte</a> préférée de CheckPoint. <br><br>  La protection DDOS / DOS est généralement en couches.  Pour comprendre pourquoi, vous devez comprendre quels types d'attaques DOS / DDOS existent (voir, par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ) <br><br>  Autrement dit, nous avons trois types d'attaques: <br><br><ul><li>  attaques volumétriques </li><li>  attaques de protocole </li><li>  attaques d'applications </li></ul><br>  Si vous pouvez vous protéger contre les deux derniers types d'attaques vous-même, en utilisant, par exemple, des pare-feu, vous ne serez pas protégé contre les attaques visant à «déborder» vos liaisons montantes (bien sûr, si la capacité totale de votre canal Internet n'est pas calculée en térabits, mais mieux, par dizaines térabit). <br><br>  Par conséquent, la première ligne de défense est la protection contre les attaques "volumétriques" et votre ou vos fournisseurs doivent fournir cette protection.  Si vous ne l'avez pas encore réalisé, alors pour l'instant vous avez juste de la chance. <br><blockquote>  <b>Exemple</b> <br><br>  Supposons que vous ayez plusieurs liaisons montantes, mais qu'un seul des fournisseurs peut vous fournir cette protection.  Mais si tout le trafic passe par un seul fournisseur, qu'en est-il de la connectivité dont nous avons brièvement parlé un peu plus tôt? <br><br>  Dans ce cas, vous devrez sacrifier en partie la connectivité pendant l'attaque.  Mais <br><br><ul><li>  ce n'est que pour la durée de l'attaque.  En cas d'attaque, vous pouvez reconfigurer manuellement ou automatiquement BGP afin que le trafic ne passe que par le fournisseur qui vous fournit le "parapluie".  Après la fin de l'attaque, vous pouvez ramener le routage à son état précédent. </li><li>  il n'est pas nécessaire de traduire tout le trafic.  Si, par exemple, vous voyez qu'à travers certaines liaisons montantes ou peerings il n'y a pas d'attaque (ou que le trafic n'est pas significatif), vous pouvez continuer à annoncer des préfixes avec des attributs compétitifs en direction de ces voisins BGP. </li></ul></blockquote><br>  Vous pouvez également protéger les «attaques de protocole» et les «attaques d'applications» des partenaires. <br>  Ici vous pouvez lire une bonne étude ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">traduction</a> ).  Certes, l'article date d'il y a deux ans, mais cela vous donnera une idée des approches, de la façon dont vous pouvez vous protéger contre les attaques DDOS. <br><br>  En principe, vous pouvez vous y limiter en externalisant complètement votre protection.  Il y a des avantages à cette solution, mais il y a un inconvénient évident.  Le fait est que nous pouvons parler (encore une fois, selon ce que fait votre entreprise) de la survie de l'entreprise.  Et confiez de telles choses à des tiers ... <br><br>  Par conséquent, voyons comment organiser une deuxième et une troisième ligne de défense (en complément de la protection du fournisseur). <br><br>  Ainsi, la deuxième ligne de défense est le filtrage et les policiers à l'entrée de votre réseau. <br><blockquote>  <b>Exemple 1</b> <br><br>  Supposons que vous «fermiez avec un parapluie» de DDOS en utilisant l'un des fournisseurs.  Supposons que ce fournisseur utilise Arbour pour filtrer le trafic et les filtres en bordure de son réseau. <br><br>  La bande qu'Arbour peut «gérer» est limitée, et le fournisseur, bien sûr, ne peut pas constamment passer le trafic de tous ses partenaires qui ont commandé ce service via un équipement de filtrage.  Par conséquent, dans des conditions normales, le trafic n'est pas filtré. <br><br>  Supposons qu'une attaque par inondation SYN soit en cours.  Même si vous avez commandé un service dans lequel, en cas d'attaque, le trafic passe automatiquement au filtrage, cela ne se fait pas instantanément.  Pendant une minute ou plus, vous restez attaqué.  Et cela peut entraîner la défaillance de votre équipement ou la dégradation du service.  Dans ce cas, la limitation du trafic sur le routage des limites, bien que, conduira au fait que certaines sessions TCP ne seront pas établies pendant ce temps, mais cela sauvera votre infrastructure de problèmes plus importants. </blockquote><blockquote>  <b>Exemple 2</b> <br><br>  Un nombre anormalement élevé de paquets SYN peut non seulement être le résultat d'une attaque par saturation SYN.  Supposons que vous fournissiez un service dans lequel vous pouvez avoir simultanément environ 100 000 connexions TCP (dans un centre de données). <br><br>  Supposons qu'à la suite d'un problème à court terme avec l'un de vos principaux prestataires, la moitié des séances vous «donnent un coup de pied».  Si votre application est conçue de telle manière que, sans y réfléchir à deux fois, immédiatement (ou après un intervalle de temps identique pour toutes les sessions) tente de rétablir la connexion, vous recevrez au moins 50 000 paquets SYN approximativement simultanément. <br><br>  Si, en plus de ces sessions, par exemple, vous devez avoir une poignée de main ssl / tls, ce qui implique l'échange de certificats, alors du point de vue du manque de ressources pour votre équilibreur de charge, ce sera un "DDOS" beaucoup plus fort qu'un simple déluge SYN.  Il semblerait que les équilibreurs devraient travailler sur un tel événement, mais ... malheureusement, nous étions confrontés à un tel problème en pleine croissance. <br><br>  Et, bien sûr, le policier du routeur frontalier économisera également votre équipement dans ce cas. </blockquote>  Le troisième niveau de protection contre DDOS / DOS concerne les paramètres de votre pare-feu. <br><br>  Ici, vous pouvez arrêter les deux attaques du deuxième et du troisième type.  En général, tout ce qui atteint le pare-feu peut être filtré ici. <br><blockquote>  <b>Astuce</b> <br><br>  Essayez de donner au pare-feu le moins de travail possible en filtrant autant que possible sur les deux premières lignes de défense.  Et voici pourquoi. <br><br>  Il ne vous est pas arrivé que par accident, en générant du trafic afin de vérifier, par exemple, la résistance de vos attaques DDOS au système d'exploitation, vous avez "tué" votre pare-feu, en le chargeant à 100%, avec un trafic d'intensité normale?  Sinon, peut-être simplement parce que vous ne l'avez pas essayé? <br><br>  En général, un pare-feu, comme je l'ai déjà dit, est une chose compliquée, et il fonctionne bien avec les vulnérabilités connues et les solutions testées, mais si vous envoyez quelque chose d'inhabituel, juste des ordures ou des paquets avec des en-têtes incorrects, alors vous avec certains avec une si petite probabilité (basée sur mon expérience), vous pouvez introduire un équipement haut de gamme dans une stupeur.  Par conséquent, à l'étape 2, en utilisant des listes de contrôle d'accès régulières (au niveau L3 / L4), autorisez uniquement le trafic à entrer dans votre réseau. </blockquote><h3>  Filtrage du trafic du pare-feu </h3><br>  Nous continuons la conversation sur le pare-feu.  Vous devez comprendre que les attaques DOS / DDOS ne sont qu'un type de cyberattaque. <br><br>  En plus de la protection DOS / DDOS, nous pouvons toujours avoir quelque chose comme la liste de fonctionnalités suivante: <br><br><ul><li>  pare-feu d'application </li><li>  prévention des menaces (antivirus, anti-spyware et vulnérabilité) </li><li>  Filtrage d'URL </li><li>  filtrage des données (filtrage de contenu) </li><li>  blocage de fichiers (blocage de types de fichiers) </li></ul><br>  C'est à vous de voir ce dont vous avez besoin dans cette liste. <br><br>  <i>À suivre</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436230/">https://habr.com/ru/post/fr436230/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436218/index.html">Marketing de contenu dans les médias en ligne populaires: 5 erreurs de startups à éviter</a></li>
<li><a href="../fr436220/index.html">Comment fonctionne la notation dans l'industrie de l'autopartage. Partie 2. Identifiez un conducteur agressif en 5 secondes</a></li>
<li><a href="../fr436224/index.html">Nous écrivons notre langage de programmation, partie 4: Représentation des structures et des classes, génération d'allocateurs</a></li>
<li><a href="../fr436226/index.html">Guide et aide-mémoire pour Wireshark</a></li>
<li><a href="../fr436228/index.html">Développement d'une équipe pour interroger les données de la base de données</a></li>
<li><a href="../fr436232/index.html">Stratégie de télépathie</a></li>
<li><a href="../fr436234/index.html">Analyseurs applicatifs Haskell</a></li>
<li><a href="../fr436236/index.html">Nous utilisons la science des données pour déterminer le cycle de vie d'un client</a></li>
<li><a href="../fr436238/index.html">Authentification dans Kubernetes avec GitHub OAuth et Dex</a></li>
<li><a href="../fr436240/index.html">Automation VS Chaos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>