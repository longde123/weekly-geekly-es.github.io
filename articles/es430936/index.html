<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè™ üê∑ üôä DEFCON 21. La conferencia DNS puede ser peligrosa para su salud. Parte 2 üëèüèΩ üíò üë©üèº‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="DEFCON 21. La conferencia DNS puede ser peligrosa para su salud. Parte 1 

 Se supon√≠a que los l√≠mites de dominio de la organizaci√≥n eran foo.com y nu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DEFCON 21. La conferencia DNS puede ser peligrosa para su salud. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/430936/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DEFCON 21. La conferencia DNS puede ser peligrosa para su salud.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 1</a> <br><br>  Se supon√≠a que los l√≠mites de dominio de la organizaci√≥n eran foo.com y nunca querr√≠a usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.com</a> .  Microsoft ha cambiado este comportamiento de DNS porque, obviamente, no todas las organizaciones tienen dos niveles para los nombres de dominio. <br><br><img src="https://habrastorage.org/webt/vf/vl/75/vfvl75firrgcfnxkplyxadipigi.jpeg"><br><br>  Si su dominio de nivel superior es Reino Unido, cuando se conecte a un dominio ad.foo.co.uk espec√≠fico, el comportamiento DNS predeterminado se ver√° as√≠: <br><br><img src="https://habrastorage.org/webt/2o/_3/y6/2o_3y6rzyxg1a6uzbnxxrdzqnvk.jpeg"><br><br>  Es decir, la solicitud se enviar√° fuera de los l√≠mites de su nombre de dominio en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.co.uk.</a>  Por lo tanto, se cre√≥ una revisi√≥n aleatoria, un parche de seguridad que redujo los l√≠mites organizativos del dominio a 3, en cuyo caso la devoluci√≥n de DNS se detuvo despu√©s de la segunda solicitud <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.foo.co.uk.</a> <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/p1/v5/3f/p1v53f72bjrrddwozdqzth3fpms.jpeg"><br><br>  Pero en nuestro ejemplo de un nombre de dominio, esta soluci√≥n de seguridad, dise√±ada para detener la publicidad innecesaria, ha roto cientos de miles de empresas clientes cuyo dise√±o de nombre de dominio depend√≠a del comportamiento original y original del DNS.  ¬øQu√© est√°n haciendo estas empresas?  ¬øCambian el dise√±o de la infraestructura para que coincida con el nuevo comportamiento que tiene en cuenta esta revisi√≥n aleatoria?  No, cambian el comportamiento a lo que era antes. <br><br>  La siguiente diapositiva muestra el √°rbol de decisi√≥n que usa Microsoft antes de crear una consulta DNS. <br><br>  S√© que parece simple (risas) y, por supuesto, te sorprende que alguien pueda malinterpretarlo. <br><br><img src="https://habrastorage.org/webt/6p/6k/u6/6p6ku64sfpnrz1hzrxuk9frchsi.jpeg"><br><br>  Despu√©s de eso, hubo docenas de correcciones y actualizaciones de este comportamiento de DNS, que cambiaron de una versi√≥n a otra.  Pero lo documentaron una vez, y si una de las ramas de este √°rbol cambi√≥, se rompi√≥ por completo su forma de usar DNS, y no pudo cambiar la configuraci√≥n para restaurar el comportamiento original.  Tuviste un problema porque con cada nueva actualizaci√≥n tu configuraci√≥n se comporta de manera diferente.  Tal vez algo se rompa, o tal vez no, es decir, algo que no esperas en absoluto puede suceder. <br><br>  Por lo tanto, las empresas realizan cambios mediante la edici√≥n de pol√≠ticas de registro o de grupo, tratando de restaurar el comportamiento del DNS original, pero algunas de ellas no pueden hacerlo correctamente cuando otro paquete de arreglos cambi√≥ el comportamiento.  Est√°n tratando de revertir los cambios para restaurar este comportamiento perdido porque quieren que los clientes puedan acceder a foo.com nuevamente. <br><br><img src="https://habrastorage.org/webt/b0/tp/wu/b0tpwujwuzovazxhj0zlm1bh_so.jpeg"><br><br>  Pero en la mayor√≠a de los casos, cuando no pueden restaurar una devoluci√≥n de dos niveles, simplemente se deshacen de la restricci√≥n original de dos niveles.  Gracias, Microsoft, por Windows 7: ahora puede cambiar los tres niveles de dominio predeterminados en 2, pero el sistema no le permite reducirlos a uno. <br><br><img src="https://habrastorage.org/webt/tz/kw/jl/tzkwjlaf1zpmbv2lz5mk8ma1zva.jpeg"><br><br>  Puede pensar que ahora todo est√° arreglado, pero ¬øqu√© pasa con los dispositivos BYOD y los dispositivos m√≥viles que utilizan la configuraci√≥n de XP?  Decid√≠ comprobar cu√°ntas configuraciones da√±adas a√∫n pueden existir all√≠.  He registrado varios dominios que se usan com√∫nmente solo en un entorno corporativo. <br><br>  El primer dominio es el acr√≥nimo de Microsoft Office Communicator, que solicita un servidor SIP interno.  Los siguientes dos nombres que encontr√© en Google son los nombres abreviados de las claves de registro de claves que contiene el proxy web, as√≠ que asign√© estos nombres a mis servidores y esper√© a que los clientes se contactaran conmigo.  Y lo hicieron. <br><br><img src="https://habrastorage.org/webt/fg/gc/lg/fggclg28hcqs7pcmzfbn5vo02eq.jpeg"><br><br>  Despu√©s de registrarme en sipinternal.com, comenc√© a recibir solicitudes de clientes del comunicador de la oficina: la diapositiva muestra un ejemplo de una solicitud para registrar uno de los recursos de DHL, y result√≥ que hay miles de dispositivos aleatorios en el mundo que han intentado registrarse conmigo. <br><br><img src="https://habrastorage.org/webt/ts/cr/fu/tscrfup8wbhfkzj5oui4zveuzfg.jpeg"><br><br>  Jugu√© un poco con ellos y parec√≠an varios ataques que un servidor SIP malicioso realiza contra comunicadores de clientes.  Esta ser√° mi pr√≥xima historia sobre proxy-phoenix.com <br><br><img src="https://habrastorage.org/webt/qd/sa/zr/qdsazrdrokpuopnnqnssrxv1nai.jpeg"><br><br>  Hubo varios usuarios finales de IBM y HP que comenzaron a pedirme que me convirtiera en su servidor proxy, y ahora tienen un cliente en Phoenix que "empuja" proxy-Phoenix como un nombre corto para sus usuarios.  Pens√© que era interesante  Pero set-proxy.com result√≥ a√∫n m√°s interesante. <br><br>  Las primeras solicitudes que recib√≠ fueron intentos de miles de clientes de Windows para descargar un archivo de paquete de instalaci√≥n de proxy.  Descubr√≠ que la direcci√≥n IP de origen estaba registrada en Arthur Andersen, una empresa de contabilidad que no tuvo √©xito y que se declar√≥ en quiebra con Enron. <br><br><img src="https://habrastorage.org/webt/jt/tk/du/jttkdu_otn6oyqtmdsb9r21naky.jpeg"><br><br>  Accenture se ha separado de su grupo de consultor√≠a, lo que tiene m√°s sentido en la siguiente parte.  Muestra que su pol√≠tica sobre el uso de dispositivos m√≥viles ha fallado (risas). <br><br><img src="https://habrastorage.org/webt/ra/xy/52/raxy5209fuvmmn4jjbg7xh9wvmu.jpeg"><br><br>  Promueven una configuraci√≥n que se refiere a la ubicaci√≥n del paquete proxy por el nombre de dominio abreviado.  Y miles de iPhone y iPad respondieron a este nombre corto y comenzaron a pedirme que les proporcionara estos paquetes de archivos.  Incluso el hecho de que esta configuraci√≥n no permite a los clientes obtener lo que solicitaron no les hizo pensar, y fueron directamente a Internet, sin pasar por el proxy, para solicitarme estos archivos. <br><br>  Despu√©s de mirar m√°s de cerca, not√© que recibo solicitudes no solo de Accenture, sino tambi√©n de sus clientes conectados a la red de esta compa√±√≠a.  Por lo tanto, a trav√©s de un DNS incorrecto, Accenture comprometi√≥ no solo su red local, sino tambi√©n las redes de todos los clientes conectados a ella, lo que permiti√≥ piratear todos los dispositivos ubicados all√≠.  Me contactaron directamente dispositivos pertenecientes a empleados de IBM, HP, Dow, Nokia, GE, Merck, Medco.  Todos me pidieron que fuera su representante, y les dir√© que esperaba lo mejor de Accenture. <br><br><img src="https://habrastorage.org/webt/30/cp/ce/30cpcedocnjq2uwrbi52whb6w7s.jpeg"><br><br>  Tales lecciones se pueden extraer de esto.  Observe su tr√°fico de DNS, porque si Windows se comporta de la misma manera ahora, esto no significa en absoluto que se comportar√° igual despu√©s del segundo martes del mes (risas). <br><br>  No conf√≠e en las expectativas basadas en el hecho de que las cosas ir√°n como deber√≠an, observe el tr√°fico y aprenda a comprender c√≥mo deber√≠a verse el tr√°fico DNS normal en su red.  Debe comprender claramente c√≥mo se ve el tr√°fico normal antes de realizar cambios en la configuraci√≥n para tener algo con qu√© compararlos m√°s adelante. <br><br><img src="https://habrastorage.org/webt/zh/2h/0a/zh2h0afmnkcw3li9x5hy94nhpcw.jpeg"><br><br>  T√≠tulo: "Usted no es el propietario de este dominio.  Yo soy √©l ". <br><br>  He demostrado algunas formas bastante √∫nicas en las que un bit de "volteo" en DNS puede ser peligroso.  Sin embargo, la ocupaci√≥n de bits no es una gran amenaza, por lo que es m√°s interesante realizar trucos con un comportamiento inesperado de DNS causado por una combinaci√≥n de "parches" de Microsoft con la configuraci√≥n original, lo que lo hace completamente ininteligible. <br><br>  Sin embargo, una de las peores cosas que hacen las empresas con respecto al DNS es el 100% de autolesi√≥n por negligencia. <br><br>  Vi empresas que repetidamente, en el transcurso de varios a√±os, a veces por accidente y a veces intencionalmente, crearon todas las condiciones para que un atacante pudiera hacerse cargo de cada parte de su infraestructura. <br><br>  El problema es que, de hecho, las empresas usan esos dominios de los que no son propietarias.  Estos dominios, ubicados en las cadenas de b√∫squeda de sufijos, "empujan" a todos sus clientes a acceder inevitablemente a Internet externo cuando necesitan asistencia t√©cnica. <br><br>  Decid√≠ estudiar cu√°ntas empresas se ven obligadas a hacer esto, y no fue dif√≠cil para m√≠.  Comenc√© pidiendo ayuda a Google para encontrar los nombres de clave de registro que almacenan la lista de b√∫squeda para la salida de la configuraci√≥n IP de Windows y la lista de b√∫squeda de sufijo DNS. <br><br><img src="https://habrastorage.org/webt/us/lv/rv/uslvrvao2-dpoodwfs4wulpfmv0.jpeg"><br><br>  Los foros de soporte t√©cnico alientan a los usuarios a publicar informaci√≥n de configuraci√≥n de la estaci√≥n de trabajo para obtener ayuda con la resoluci√≥n de problemas. <br><br><img src="https://habrastorage.org/webt/f2/hv/b8/f2hvb8a8hgdxm_qtaveacz_2o2k.jpeg"><br><br>  Estudi√© Google y cre√© una lista √∫nica de dominios, y luego comenc√© a registrarlos.  Al mirar la configuraci√≥n de IP, me encontr√© con el sufijo DNS rsquanta y lo convert√≠ en la base de mi lista de registro de dominio. <br><br><img src="https://habrastorage.org/webt/tc/o3/mh/tco3mharjdukpwup-zm4g3xkfu4.jpeg"><br><br>  Despu√©s de registrar los dominios con los nombres distorsionados que se muestran en la siguiente diapositiva, comenc√© a recibir miles de solicitudes de dispositivos m√≥viles que ni siquiera sab√≠an con qu√© compa√±√≠a se estaban contactando.  Pero lo descubr√≠.  Result√≥ que el sufijo de nombre de dominio rsquanta.com pertenece a una gran empresa taiwanesa de hardware inform√°tico, Quanta Computer, que emplea a 60 mil personas. <br><br><img src="https://habrastorage.org/webt/jd/oc/np/jdocnpwh2bzb0gics-adlvpyaiy.jpeg"><br><br>  Dise√±aron y fabricaron la laptop de cien d√≥lares para ni√±os OLPC y colaboraron con Facebook para dise√±ar y ensamblar sus nuevos servidores basados ‚Äã‚Äãen sus dispositivos.  Recib√≠ solicitudes de detecci√≥n autom√°tica de servidores proxy, servidores de SMS, servidores de correo, servidores de transferencia de archivos.  Hab√≠a docenas de formas en que pod√≠a aprovechar estos dispositivos con calma en Tailandia e introducir exploits para robar credenciales o interceptar archivos transferidos.  Despu√©s de que me pidieron que los ayudara a encontrar los recursos adecuados, un ataque de hombre en el medio parecer√≠a trivial. <br><br>  Pero cuando determin√© las fuentes de las solicitudes que recib√≠ a mis servidores ficticios, realmente me sorprendi√≥.  Descubr√≠ que el tr√°fico regular proven√≠a de las redes de clientes, lo que indicaba la existencia de dispositivos Quanta Computer en Cisco, Apple, 3m y Dell. <br><br><img src="https://habrastorage.org/webt/oq/tt/jl/oqttjloopihnzszsk_yvl1swy8k.jpeg"><br><br>  Por lo tanto, se supon√≠a que deb√≠an tener personal de campo cuyo deber era ayudar a implementar el equipo Quanta.  Y estos son solo algunos de los clientes de esta compa√±√≠a que tienen empleados de Quanta Computer trabajando en el campo. Me enter√© de ellos porque todos me pidieron que proporcionara acceso a los activos de la compa√±√≠a. <br><br><img src="https://habrastorage.org/webt/bk/fo/lv/bkfolvgcq_x0mdzwwa2aaejblay.jpeg"><br><br>  Su hardware estaba firmemente establecido en el equipo de compa√±√≠as conocidas y relacionado con la propiedad intelectual confidencial.  Por lo tanto, hab√≠a mucha informaci√≥n pasiva que pod√≠a extraer de su tr√°fico.  Pose√≠a una lista de los nombres de cada dispositivo en su red, vi el tr√°fico de la empresa oculto al p√∫blico, lo que indicaba la presencia de un nuevo contrato.  Si el tr√°fico se detuvo de repente, podr√≠a suponer que hab√≠an perdido el contrato, y podr√≠a rastrear a d√≥nde ir√≠an despu√©s, a d√≥nde viajan y d√≥nde est√°n estos empleados. <br><br><img src="https://habrastorage.org/webt/l5/-1/mh/l5-1mhi4a6g6jj0iqcdjn5uxu58.jpeg"><br><br>  Por ejemplo, veo que se ha abierto un servicio de limpieza en seco con Wi-Fi cerca de la oficina de la compa√±√≠a, porque cientos de dispositivos me env√≠an solicitudes de vez en cuando.  Incluso veo que en esta ciudad hay gente para Black Hat y DefCon, luego hablaremos de eso (risas). <br><br>  Entonces, un error de este tipo es bastante grave.  Para evitarlo, verifique su configuraci√≥n de DNS.  Use Internet para conocer los detalles de su configuraci√≥n interna utilizando recursos como Pastebin y Bleeping Computer. <br><br>  Mire sus registros de DNS y aseg√∫rese de que sus clientes y los clientes de sus socios y fabricantes cumplan las solicitudes exactamente como espera que lo hagan.  Si realiza un seguimiento de los registros, identifique f√°cilmente los dominios solicitados con frecuencia para cada dispositivo, cada activo corporativo. <br><br>  Hace un par de a√±os, comenc√© a comprar dominios caducados, que anteriormente se usaban como servidores de C&amp;C.  (risas)  Fue muy divertido, as√≠ que al principio quer√≠a entender cu√°nta infecci√≥n m√°s quedaba all√≠, luego averiguar qu√© tipo de dispositivos segu√≠an infectados y d√≥nde estaban. <br><br>  Buscar dominios de la "lista negra" no fue dif√≠cil, as√≠ que tuve la opci√≥n de elegir entre miles de dominios con un precio de 99 centavos, y compr√© varios de ellos.  La siguiente diapositiva muestra el primer dominio que compr√©: microsoft-windows-security.com.  Estaba infectado con el virus Win32: EyeStye, un troyano bot, un interceptor de teclado que se usaba para robar informaci√≥n confidencial.  Intercept√≥ la entrada y luego la envi√≥ a este dominio en forma de mensajes sin cifrar.  No hice nada con √©l, solo le envi√© un error 404 cada vez que quer√≠a contactarme, pero aun as√≠ intent√≥ enviarme los datos robados. <br><br><img src="https://habrastorage.org/webt/g7/el/ih/g7elihaxxzz7kqjfkqa0hhchzcw.jpeg"><br><br>  Este bot informa su identificador √∫nico, el nombre del proceso que controla, la funci√≥n interceptada, los datos contenidos en √©l y la carga √∫til en forma de nombre de usuario y contrase√±a del usuario. <br><br><img src="https://habrastorage.org/webt/my/g1/ky/myg1ky-n-o5sfcggfwaycmpfyzy.jpeg"><br><br>  Muchos de estos bots contin√∫an entregando a ciegas cargas √∫tiles a su dominio.  He registrado docenas de dichos dominios, que cubren miles de dispositivos infectados.  Estos representantes de la red de botnets simplemente fueron abandonados por sus due√±os anteriores, quienes no quer√≠an hacer un esfuerzo para cerrarlos, sino que simplemente los dejaron en la red hasta que el dominio expir√≥.  As√≠ que gast√© mis primeros 6 d√≥lares en estos dominios infectados con virus (aplausos en el pasillo). <br><br><img src="https://habrastorage.org/webt/ai/bk/zr/aibkzrs36ipq1f963hlkwt2wcsm.jpeg"><br><br>  Ten√≠a 23,000 dispositivos enviando informes a mi servidor, y todos estos dominios fueron tomados de las listas negras publicadas.  ¬øPor qu√© tantas compa√±√≠as permitieron a sus clientes contactar dominios que durante mucho tiempo se consideraron maliciosos? <br><br>  Todos podemos mejorar nuestro trabajo controlando uno de los mecanismos m√°s simples, por lo que solo cavando en los registros de mis dominios, encontr√© uno que parec√≠a realmente inusual. <br><br><img src="https://habrastorage.org/webt/je/zg/rv/jezgrvyjs16ezlty6pirdol3vp0.jpeg"><br><br>  Uno de los clientes de 82 mil dispositivos en mi red lo solicit√≥ regularmente, y cuando comenc√© a resolverlo, descubr√≠ que este dominio era seis y seis meses y no hab√≠a ninguna menci√≥n de √©l en Google.  Parec√≠a demasiado sospechoso, as√≠ que lo compr√© e inmediatamente se inund√≥ de clientes.  Fue un capturador ordinario que envi√≥ su carga √∫til en forma no encriptada y control√≥ 10,000 dispositivos infectados en todo el mundo.  Algunos de ellos estaban ubicados en √°reas con el r√©gimen de mayor seguridad, y descubr√≠ que uno de los dispositivos infectados pertenece a las instalaciones de tratamiento de la ciudad de Phoenix. <br><br>  Me dirig√≠ a alguien de esta compa√±√≠a y le dije que pod√≠a identificar el virus si me enviaban una muestra del archivo infectado.  Tan pronto como me enviaron una muestra, la sub√≠ a Virustotal y descubr√≠ que ninguno de los 42 esc√°neres antivirus pod√≠a identificar este virus.  Este malware ten√≠a 2 a√±os y me pareci√≥ extra√±o que no se identificara como una amenaza en ning√∫n antivirus.  Pero lo que era a√∫n m√°s extra√±o era por qu√© fue abandonado.  Completamente invisible para los antivirus, realmente era una infecci√≥n viral muy valiosa.  Y aqu√≠ hay un ejemplo ir√≥nico: era un ingeniero de control de calidad en Symantec, espero que no est√© aqu√≠. <br><br><img src="https://habrastorage.org/webt/ll/mx/q4/llmxq42ijulwwwrgk3fzrazdwia.jpeg"><br><br>  Aqu√≠ veo c√≥mo funciona en el sistema de tickets en l√≠nea y, en este caso, cierra el ticket debido al problema de seguridad de la tarjeta SIM del producto.  Creo que es bastante triste que parte del malware, que ya tiene 2 a√±os, todav√≠a est√© incluido en la lista de exclusi√≥n del programa antivirus de la compa√±√≠a por un ingeniero que trabaja para eliminar defectos peligrosos y garantizar la seguridad de los productos de la compa√±√≠a. <br>  ¬°Hay bastantes dispositivos infectados propiedad de funcionarios de alto rango y funcionarios gubernamentales, como el secretario de la corte, la c√°mara baja del Congreso de los EE. UU., Las oficinas de transferencia de dinero, los peri√≥dicos e incluso el cajero de la Uni√≥n de Servidores Federales en Langley!  Estos son definitivamente los mejores 99 centavos que he gastado. <br><br>  Da miedo pensar que probablemente hay millones de dispositivos infectados que intentan llegar a los servidores de Comando y Control, cuyo acceso ya no est√° permitido.  Si usa el DNS abierto o local de casi cualquier proveedor grande, no brinde a los dispositivos infectados la oportunidad de lograr todo lo que est√°n tratando de resolver, no importa si ese dominio existe o no.  Porque falsifican una respuesta que no existe y le dan la direcci√≥n IP predeterminada de la p√°gina de destino.  Por lo tanto, el registro del servidor que aloja esta p√°gina contiene una gran cantidad de datos robados.  ¬øCrees que los propietarios de host est√°n haciendo algo para evitar esto? <br><br>  Solo est√°n tratando de monetizar el tr√°fico inapropiado con anuncios que inadvertidamente roban sus datos personales.  Espera que si un programa malicioso intenta permitirle contactar a un servidor de C&amp;C que ha sido desconectado, entonces no llegar√° a ninguna parte, simplemente no se le permitir√° ir all√≠. <br><br><img src="https://habrastorage.org/webt/xr/m-/0q/xrm-0qzte3qd1jnm31esgwn1res.jpeg"><br><br>  En realidad, sucede como se muestra en las siguientes diapositivas: los DNS abiertos son tan amables que le dar√°n una respuesta a cualquier cosa, no importa si este dominio existe o no, y con gusto le proporcionar√°n la direcci√≥n IP de un sitio malicioso que robar√° sus datos <br><br><img src="https://habrastorage.org/webt/_z/8f/j-/_z8fj-172xf7nedkhr96miby-5g.jpeg"><br><br><img src="https://habrastorage.org/webt/ka/w1/2s/kaw12s4xqu1_ww_r0h9plfwkc_w.jpeg"><br><br>  Registr√© varios dominios que actualmente no est√°n en ninguna lista negra.  Encontr√© todas las muestras de malware que pasaron desapercibidas para los principales proveedores de antivirus al analizar los registros de DNS.  Para detectar tales virus, act√∫o as√≠: <br><br><ul><li>  Recopilo los registros DNS que las personas me proporcionan en una base de datos com√∫n; </li><li>  supervisar regularmente los nombres solicitados que aparecieron por primera vez en mi entorno; </li><li>  Encuentro los nombres solicitados por un solo cliente; </li><li>  Miro las fechas de registro y establezco los propietarios y el pa√≠s de registro del nuevo dominio; </li><li>  Estoy buscando dominios que permitan el uso de la direcci√≥n IP 127.0.0.1, probablemente sean creados por "nerds". </li></ul><br>  En la red, es bastante f√°cil detectar cosas que se destacan por su inusual.  Puede generar una lista todos los d√≠as, es lo suficientemente peque√±a como para ser procesada manualmente.  En la siguiente diapositiva, proporcionar√© enlaces a algunos recursos que debe visitar y usar si planea comenzar la exploraci√≥n de DNS. <br><br>  El sitio Bro admite el registro de consultas DNS y almacena registros de consultas.     DNS Anomaly Detection ‚Äì   ,         ,  ,  ,  - . <br><br> Passive DNS ‚Äì     Microsoft,     ¬´¬ª   ,   ¬´¬ª        .pcap   . <br><br><img src="https://habrastorage.org/webt/bo/z9/qi/boz9qifx5wf225qkmyhekeaoryu.jpeg"><br><br> Response Policy Zones   ,            ,       .       DNS Sinkholes,         ,      . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La √∫ltima diapositiva proporciona enlaces a la documentaci√≥n que lo ayudar√° a "cavar" el tr√°fico DNS, donde puede encontrar mucho m√°s de lo que esperaba. </font></font><br><br><img src="https://habrastorage.org/webt/vm/sh/hh/vmshhhzvurq6lpdk8d4blyogbta.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Gracias por pasar tu tiempo conmigo! </font><font style="vertical-align: inherit;">Puede contactarme en cualquier momento a esta direcci√≥n: bobx@rot26.net.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9Sgaq6OYLX8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps hasta diciembre de forma gratuita</b> al pagar por un per√≠odo de seis meses, puede ordenar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 TV desde $ 249</a> en los Pa√≠ses Bajos y los EE. UU.</b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430936/">https://habr.com/ru/post/es430936/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430926/index.html">El tiempo est√° fragmentado; un poco sobre la similitud de los sistemas distribuidos y un modelo de memoria d√©bil</a></li>
<li><a href="../es430928/index.html">Sobre la "casa inteligente": c√≥mo hacer una luz de fondo "inteligente"</a></li>
<li><a href="../es430930/index.html">Acerca de los gr√°ficos 3D en palabras simples</a></li>
<li><a href="../es430932/index.html">Los hackers robaron m√°s de 21 millones de rublos de un banco ruso</a></li>
<li><a href="../es430934/index.html">Asterisk dialplan extension generador de m√°scara</a></li>
<li><a href="../es430938/index.html">C√≥mo obtener los primeros pedidos en dise√±o cuando no hay cartera ni experiencia</a></li>
<li><a href="../es430940/index.html">¬°SDK para ti, SDK para m√≠, SDK para todos! C√≥mo hacer un SDK y por qu√© es necesario</a></li>
<li><a href="../es430942/index.html">Julia Scripts y an√°lisis de argumentos de l√≠nea de comando</a></li>
<li><a href="../es430944/index.html">La NASA ha decidido a los participantes para su competencia de mini-rover de luna</a></li>
<li><a href="../es430948/index.html">El Ministerio de Comunicaciones propone reforzar el control sobre los datos personales.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>