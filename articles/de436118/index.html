<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖕🏿 🗑️ 🤟🏿 Die Erfahrung, den ersten Roboter auf Arduino (Roboterjäger) zu erschaffen 🛀🏿 🐍 🈹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag. 

 In diesem Artikel möchte ich den Zusammenbau meines ersten Arduino-Roboters beschreiben. Das Material wird für andere Neulinge wie mich ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Erfahrung, den ersten Roboter auf Arduino (Roboterjäger) zu erschaffen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436118/"> Guten Tag. <br><br>  In diesem Artikel möchte ich den Zusammenbau meines ersten Arduino-Roboters beschreiben.  Das Material wird für andere Neulinge wie mich nützlich sein, die eine Art „selbstfahrenden Wagen“ bauen möchten.  Der Artikel beschreibt die Arbeitsschritte mit meinen Ergänzungen zu verschiedenen Nuancen.  Ein Link zum resultierenden Code (höchstwahrscheinlich nicht der idealste) befindet sich am Ende des Artikels. <br><br><img src="https://habrastorage.org/webt/gg/go/jt/gggojtfkexubr-5hiyumawj2gpw.jpeg"><br><br>  Soweit möglich habe ich meinen Sohn (8 Jahre alt) involviert.  Was genau mit ihm passiert ist und was nicht - dafür habe ich einen Teil des Artikels hervorgehoben, vielleicht wird sich jemand als nützlich erweisen. <br><a name="habracut"></a><br><h2>  Allgemeine Beschreibung des Roboters </h2><br>  Zunächst ein paar Worte zum Roboter selbst ( <b>Idee</b> ).  Ich wollte am Anfang nicht wirklich etwas Typisches sammeln.  Gleichzeitig war der Satz von Komponenten ziemlich Standard - Chassis, Motoren, Ultraschallsensor, Liniensensor, LEDs, Hochtöner.  Aus diesem „Suppenset“ wurde zunächst ein Roboter erfunden, der sein Territorium schützt.  Er geht zu dem Eindringling, der die Kreislinie überquert hat, und kehrt dann in die Mitte zurück.  In dieser Version wurde jedoch eine gezeichnete Linie sowie zusätzliche Mathematik benötigt, um ständig im Kreis zu bleiben. <br><br>  Daher habe ich nach einiger Überlegung die Idee ein wenig geändert und beschlossen, einen „Jäger“ -Roboter zu bauen.  Zu Beginn dreht er sich um seine Achse und wählt ein Ziel (eine Person) in der Nähe aus.  Wenn ein „Opfer“ entdeckt wird, schaltet der „Jäger“ einen Blinker und eine Sirene ein und beginnt darauf zu reiten.  Wenn sich eine Person entfernt / wegläuft, wählt der Roboter ein neues Ziel aus und verfolgt es usw.  Ein solcher Roboter benötigt keinen begrenzten Kreis und kann in einem offenen Bereich arbeiten. <br><br>  Wie Sie sehen können, ähnelt dies dem Aufholspiel.  Obwohl sich der Roboter am Ende nicht als schnell genug herausstellte, interagiert er ehrlich mit den Menschen um ihn herum.  Kinder mögen es besonders (manchmal scheint es jedoch, als würden sie es mit Füßen treten, schon springt das Herz ...).  Ich denke, dies ist eine gute Lösung, um technisches Design bekannt zu machen. <br><br><h2>  Roboterstruktur </h2><br>  Also haben wir uns für die Idee entschieden, gehen wir zum <b>Layout über</b> .  Die Liste der Elemente wird aus dem gebildet, was der Roboter können sollte.  Hier ist alles ganz offensichtlich, schauen Sie sich also sofort die Nummerierung an: <br><br><img src="https://habrastorage.org/webt/0l/vg/gq/0lvggqarv4h03cxzyflrf_7x3vu.jpeg"><br><br>  "Gehirne" des Roboterbretts arduino uno (1);  war in einem Set aus China bestellt.  Für unsere Zwecke ist es völlig ausreichend (wir konzentrieren uns auf die Anzahl der verwendeten Pins).  Aus demselben Satz haben wir das fertige Fahrgestell (2) genommen, an dem zwei Antriebsräder (3) und ein Heck (frei drehend) angebracht sind (4).  Ebenfalls im Kit enthalten war ein fertiges Batteriefach (5).  An der Vorderseite des Roboters befindet sich ein Ultraschallsensor (HC-SR04) (6), an der Rückseite ein Motortreiber (L298N) (7), in der Mitte ein LED-Blinker (8) und etwas seitlich ein Hochtöner (9). <br><br>  In der Bauphase schauen wir: <br><br>  - damit alles passt <br>  - ausgeglichen sein <br>  - rational platziert werden <br><br>  Teilweise haben unsere chinesischen Kollegen dies bereits für uns getan.  Das schwere Batteriefach befindet sich also in der Mitte und ungefähr darunter befinden sich Antriebsräder.  Alle anderen Boards sind leicht und können an der Peripherie platziert werden. <br><br>  Nuancen: <br><br><ol><li>  Es gibt viele Werkslöcher im Chassis des Sets, aber welche Logik steckt darin - ich habe es immer noch nicht herausgefunden.  Die Motoren und der Akku wurden ohne Probleme repariert, dann begann der „Sitz“ mit dem Bohren neuer Löcher, um die eine oder andere Platine zu reparieren. </li><li>  Die Messinggestelle und andere Befestigungselemente aus den Lagerräumen waren ziemlich gerettet (manchmal mussten sie raus). </li><li>  Ich führte die Reifen von jedem Brett durch die Klammern (wieder fand ich sie in den Lagerräumen).  Sehr praktisch, alle Drähte sind wunderschön und hängen nicht rum. </li></ol><br><h2>  Einzelne Blöcke </h2><br>  Jetzt werde ich durch die <b>Blöcke gehen</b> und Ihnen persönlich über jeden erzählen. <br><br>  <b>Batteriefach</b> <br><br>  Es ist klar, dass der Roboter eine gute Energiequelle haben muss.  Die Optionen können unterschiedlich sein, ich habe die Option mit 4 AA-Batterien gewählt.  Insgesamt ergeben sie etwa 5 V, und diese Spannung kann direkt an den 5-V-Pin der Arduino-Platine angelegt werden (unter Umgehung des Stabilisators). <br><br>  Natürlich war ich etwas vorsichtig, aber diese Lösung ist durchaus praktikabel. <br><br>  Da überall Strom benötigt wird, habe ich der Einfachheit halber zwei Anschlüsse in der Mitte des Roboters hergestellt: einen „verteilt“ den Boden (rechts) und den zweiten - 5 V (links). <br><br><img src="https://habrastorage.org/webt/ko/jj/am/kojjamjo6cxljkfgv8os3v1zq-4.jpeg"><br><br>  <b>Motoren und Fahrer</b> <br><br>  Zunächst zur Montage von Motoren.  Die Halterung ist werkseitig, jedoch mit großen Toleranzen hergestellt.  Mit anderen Worten, Motoren können einige Millimeter von links nach rechts „wackeln“.  Für unsere Aufgabe ist dies nicht kritisch, aber irgendwo kann es beeinflussen (der Roboter beginnt wegzulaufen).  Für alle Fälle habe ich die Motoren streng parallel eingestellt und mit Klebstoff fixiert. <br><br><img src="https://habrastorage.org/webt/f0/1k/bw/f01kbwansax8pzqihg4luq69xdk.jpeg"><br><br>  Zur Steuerung der Motoren wird, wie oben beschrieben, der L298N-Treiber verwendet.  Laut Dokumentation hat er drei Stifte für jeden Motor: einen zum Ändern der Drehzahl und ein Paar Stifte für die Drehrichtung.  Es gibt einen wichtigen Punkt.  Es stellt sich heraus, dass bei einer Versorgungsspannung von 5 V die Drehzahlregelung einfach nicht funktioniert!  Das heißt, entweder dreht sich überhaupt nicht oder dreht sich maximal.  Hier ist eine solche Funktion, wegen der ich ein paar Abende "getötet" habe.  Am Ende fand ich irgendwo in einem der Foren eine Erwähnung. <br><br>  Im Allgemeinen brauchte ich beim Drehen des Roboters eine niedrige Drehzahl, damit er einen gewissen Spielraum zum Scannen des Raums hatte.  Aber da nichts von einer solchen Idee kam, musste ich es anders machen: eine kleine Kurve - Stopp - Kurve - Stopp usw. Auch hier ist es nicht so elegant, aber effizient. <br><br>  Ich möchte hier auch hinzufügen, dass der Roboter nach jeder Verfolgung eine zufällige Richtung einer neuen Kurve auswählt (im oder gegen den Uhrzeigersinn). <br><br>  <b>Ultraschallsensor</b> <br><br><img src="https://habrastorage.org/webt/ib/7p/88/ib7p88tghk0qnnesuhnrgrrmbvs.jpeg"><br><br>  Ein weiteres Stück Eisen, bei dem ich nach einer Kompromisslösung suchen musste.  Ein Ultraschallsensor an realen Hindernissen liefert instabile Zahlen.  Eigentlich wurde es erwartet.  Idealerweise funktioniert es irgendwo bei Wettbewerben, bei denen glatte, ebene und senkrechte Oberflächen vorhanden sind. Wenn jedoch die Beine eines anderen vor ihm „flackern“, müssen Sie eine zusätzliche Verarbeitung einführen. <br><br>  Als solche Verarbeitung habe ich den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Medianfilter</a> auf drei Stichproben eingestellt.  Basierend auf Tests an echten Kindern (bei den Tests wurde kein einziges Kind verletzt!) Hat sich herausgestellt, dass dies völlig ausreicht, um die Daten zu normalisieren.  Die Physik hier ist einfach: Wir haben Signale, die von den <b>notwendigen</b> Objekten (unter Angabe der erforderlichen Entfernung) reflektiert und von weiter entfernten Wänden reflektiert werden.  Die zweiten sind zufällige Ausbrüche bei Messungen der Form 45, 46, <b>230</b> , 46, 46, 45, 45, <b>310</b> , 46 ... Es ist ihr Medianfilter, der abschneidet. <br><br>  Nach der gesamten Verarbeitung erhalten wir die Entfernung zum nächsten Objekt.  Wenn es unter einem bestimmten Schwellenwert liegt, schalten wir den Alarm ein und gehen direkt zum „Eindringling“. <br><br>  <b>Blinker und Sirene</b> <br><br>  Vielleicht die einfachsten Elemente von allen oben genannten.  Sie sind auf den Fotos oben zu sehen.  Hier gibt es nichts über Eisen zu schreiben, also gehen wir jetzt zum <b>Code über</b> . <br><br><h2>  Management-Programm </h2><br>  Ich sehe keinen Sinn darin, den Code im Detail aufzuschreiben, wer ihn braucht - der Link befindet sich am Ende des Artikels, dort ist alles gut lesbar.  Aber die allgemeine Struktur wäre schön zu erklären. <br><br>  Das erste, was ich verstehen musste: Der Roboter ist ein Echtzeitgerät.  Genauer gesagt, denken Sie daran, denn vorher und jetzt mache ich immer noch Elektronik.  Dies bedeutet, dass wir den Aufruf von <b>delay ()</b> sofort vergessen, den wir gerne in Beispielskizzen verwenden und der das Programm einfach für einen bestimmten Zeitraum „einfriert“.  Stattdessen führen wir, wie erfahrene Leute raten, Timer für jeden Block ein.  Das erforderliche Intervall ist abgelaufen - sie haben die Aktion ausgeführt (die Helligkeit der LED erhöht, den Motor eingeschaltet usw.). <br><br>  Timer können miteinander verbunden sein.  So arbeitet beispielsweise der Hochtöner synchron mit einem Blinker.  Dies macht das Programm etwas einfacher. <br><br>  Natürlich teilen wir alles in separate Funktionen (Blinker, Sound, Rotation, Vorwärtsbewegung usw.).  Wenn Sie dies nicht tun, werden Sie nicht verstehen, was von wo kommt. <br><br><h2>  Die Nuancen der Pädagogik </h2><br>  Alles, was oben beschrieben wurde, habe ich abends in meiner Freizeit gemacht.  Im gemächlichen Modus verbrachte ich ungefähr drei Wochen mit dem Roboter.  Dies hätte enden können, aber ich habe auch versprochen, Ihnen von der Arbeit mit einem Kind zu erzählen.  Was ist in diesem Alter machbar? <br><br>  <b>Arbeiten Sie an Anweisungen</b> <br><br>  Wir haben zunächst jedes Teil einzeln überprüft - LEDs, Hochtöner, Motoren, Sensoren usw. Es gibt eine Vielzahl vorgefertigter Beispiele - einige direkt in der Entwicklungsumgebung, andere im Internet.  Das ist zweifellos erfreulich.  Wir nehmen den Code, verbinden das Teil, stellen sicher, dass es funktioniert, dann beginnen wir bereits, uns für unsere Aufgabe zu ändern.  Verbindungen nach dem Schema und unter meiner Kontrolle stellt das Kind selbst her.  Das ist gut.  Sie müssen in der Lage sein, klar gemäß den Anweisungen zu arbeiten. <br><br>  <b>Die Reihenfolge der Arbeit ("von privat zu allgemein")</b> <br><br>  Dies ist ein schwieriger Punkt.  Es muss gelehrt werden, dass ein großes Projekt („Roboter bauen“) aus kleinen Aufgaben besteht („Sensor anschließen“, „Motoren anschließen“ ...) und diese wiederum aus noch kleineren Schritten bestehen („Programm finden“, „ Board anschließen “,„ Firmware herunterladen “...).  Wenn wir mehr oder weniger verständliche Aufgaben der unteren Ebene ausführen, "schließen" wir die Aufgaben der mittleren Ebene, und das allgemeine Ergebnis besteht bereits aus ihnen.  Er erklärte, aber ich denke, das Bewusstsein wird nicht bald kommen.  Irgendwo, wahrscheinlich bis zur Pubertät. <br><br>  <b>Installation</b> <br><br>  Bohren, Gewinde, Schrauben, Muttern, Löten und der Geruch von Kolophonium - wo ohne.  Das Kind erhielt die Grundfertigkeit "Arbeiten mit einem Lötkolben" - ich habe es geschafft, mehrere Verbindungen zu löten (ich habe ein wenig geholfen, ich werde mich nicht verstecken).  Vergessen Sie nicht die Sicherheitserklärung. <br><br>  <b>Computerarbeit</b> <br><br>  Ich habe ein Programm für den Roboter geschrieben, aber es ist mir gelungen, die damit verbundenen Ergebnisse zu erzielen. <br><br>  Erstens: Englisch.  Es wurde gerade in der Schule angefangen, also haben wir "gequietscht", was Pishalka, Migalka, Yarkost und andere Übersetzungen sind.  Zumindest das haben wir verstanden.  Ich habe meine englischen Muttersprachler absichtlich nicht verwendet, da wir dieses Niveau noch nicht erreicht haben. <br><br>  Zweitens: effektive Arbeit.  Sie lehrten Tastenkombinationen, wie man typische Operationen schnell ausführt.  Als sie das Programm schrieben, wechselten wir regelmäßig die Plätze mit meinem Sohn, und ich sagte, was zu tun ist (Ersetzen, Suchen usw.).  Ich musste immer wieder wiederholen: "Doppelklick", "Umschalttaste gedrückt halten", "Strg gedrückt halten" und so weiter.  Der Lernprozess hier ist nicht schnell, aber ich denke, die Fähigkeiten werden nach und nach beiseite gelegt. <br><br><div class="spoiler">  <b class="spoiler_title">Versteckter Text</b> <div class="spoiler_text">  Man kann sagen, dass das oben Genannte fast offensichtlich ist.  Aber ehrlich gesagt hatte ich diesen Herbst die Gelegenheit, Informatik in der 9. Klasse an derselben Schule zu betreiben.  Das ist schrecklich.  Die Schüler kennen keine grundlegenden Dinge wie Strg + Z, Strg + C und Strg + V, Textauswahl mit gedrückter Umschalttaste oder Doppelklick auf ein Wort und mehr.  Dies trotz der Tatsache, dass sie in ihrem dritten Studienjahr in Informatik waren ... Ziehen Sie selbst eine Schlussfolgerung. <br></div></div><br>  Drittens: Tippen berühren.  Ich vertraute die Kommentare im Code dem tippenden Kind an (lassen Sie es üben).  Legen Sie sofort die rechten Hände so, dass sich die Finger allmählich an die Position der Tasten erinnern. <br><br>  Wie Sie sehen, fangen wir gerade erst an.  Wir werden unsere Fähigkeiten und Kenntnisse weiter verbessern und uns im Leben als nützlich erweisen. <br><br>  Übrigens über die Aussicht ... <br><br><h2>  Weiterentwicklung </h2><br>  Der Roboter ist gemacht, fährt, blinkt und quietscht.  Was jetzt?  Inspiriert von dem Erreichten planen wir, es weiter zu verfeinern.  Es gibt eine Idee, eine Fernbedienung herzustellen - wie einen Mondrover.  Es wäre interessant, an einer bedingten Konsole zu sitzen und die Bewegung des Roboters zu steuern, der sich an einem völlig anderen Ort bewegt.  Aber das wird eine andere Geschichte sein ... <br><br>  Und am Ende tatsächlich die Helden dieses Artikels (Video per Klick): <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/sy/sl/-i/sysl-imyjpywmbkkpg1n4w-s5w0.png"></a> <br><br>  Vielen Dank für Ihre Aufmerksamkeit! <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link zum Code</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436118/">https://habr.com/ru/post/de436118/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436106/index.html">Woher kommen die Texte: eine kurze Anleitung für diejenigen, die bei SEO-Inhalten sparen möchten</a></li>
<li><a href="../de436108/index.html">HP 3D Printer Review auf der IMTS 2018</a></li>
<li><a href="../de436110/index.html">Mathematiker beweisen, dass Polynome nicht helfen, RSA zu hacken</a></li>
<li><a href="../de436112/index.html">Kubectl-Debug-Plugin zum Debuggen in Kubernetes-Pods</a></li>
<li><a href="../de436116/index.html">PERDIX: Ein Algorithmus für das automatische Design von DNA-Origami unterschiedlicher Geometrie</a></li>
<li><a href="../de436120/index.html">Der schwer zu fassende Fehler in LittleBigPlanet</a></li>
<li><a href="../de436122/index.html">Intel Lakefield: Atom + Core-Hybridprozessor in 3D</a></li>
<li><a href="../de436124/index.html">Wir lesen Kommentare zu Habré mit Bequemlichkeiten</a></li>
<li><a href="../de436126/index.html">Kubernetes: Erstellen von Docker-Images in einem Cluster</a></li>
<li><a href="../de436128/index.html">Interview mit Baghunter Artyom Moskau. Er hackte Steam und erhielt die größte Auszeichnung in der Geschichte von Valve.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>