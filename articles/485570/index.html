<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüç≥ üàµ ‚ûï Agregaci√≥n de rutas para listas ILV y c√≥mo amenaza servicios respetables üö£üèø üë®üèº ü§ôüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo es de naturaleza puramente t√©cnica, afecta a uno de los aspectos del bloqueo de recursos en las listas de ILV y es relevante para los se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Agregaci√≥n de rutas para listas ILV y c√≥mo amenaza servicios respetables</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485570/"><p>  Este art√≠culo es de naturaleza puramente t√©cnica, afecta a uno de los aspectos del bloqueo de recursos en las listas de ILV y es relevante para los servicios orientados (incluidos) a los residentes de la Federaci√≥n de Rusia. </p><br><h2 id="kratkiy-obzor-sposobov-blokirovki">  Una breve descripci√≥n de los m√©todos de bloqueo </h2><br><p>  Las siguientes t√©cnicas se utilizan generalmente para bloquear las listas de ILV: </p><br><ol><li>  Bloqueo analizando (copiando) el tr√°fico y enviando un primer paquete falso tcp, como resultado de lo cual la conexi√≥n se desconecta.  Una forma muy popular entre los operadores por varias razones.  Este art√≠culo no es aplicable a este m√©todo. </li><li>  Bloqueo al soltar el tr√°fico (opcionalmente con un redireccionamiento / sincronizaci√≥n primero / otro) en el equipo DPI (o un proxy transparente), que est√° configurado para interrumpirse, mientras todo el tr√°fico pasa a trav√©s de DPI (bueno, o solo tcp + dns o solo los puertos tcp necesarios )  Este m√©todo tambi√©n es utilizado por los operadores.  Este art√≠culo no es aplicable a este m√©todo. </li><li>  Bloqueo por tr√°fico de suplantaci√≥n de identidad (dns-spoofing) y "rodaje" a DPI / proxy transparente solo para direcciones IP que est√°n en el registro (algunas se agregan resolviendo, pero no el punto).  Este m√©todo tambi√©n es utilizado por los operadores, y se discutir√° sobre √©l en el art√≠culo. </li></ol><a name="habracut"></a><br><h2 id="v-reestre-slishkom-mnogo-prefiksov">  Demasiados prefijos en el registro </h2><br><p> Usando el m√©todo No. 3, el operador necesita anunciar una gran cantidad de prefijos (rutas) a la red, en este momento hay aproximadamente 2 M prefijos en el registro (la mayor√≠a de los cuales son / 32) y si esto se hace, muchos enrutadores no podr√°n hacer frente a tal cantidad de entradas en la tabla enrutamiento.  Tama√±o t√≠pico de la tabla de enrutamiento para los enrutadores hw 1M-2M-4M utilizados hoy (hay m√°s, pero esto ya proviene del rango de precio superior).  Si alguien no sabe, las rutas de 2M son m√°s que rutas a trav√©s de Internet, en espacios ipv4 e ipv6 combinados. </p><br><h2 id="chto-delat-s-etimi-prefiksami">  ¬øQu√© hacer con estos prefijos? </h2><br><p>  Los operadores que usan la opci√≥n n. ¬∞ 3 realmente no quieren cambiar a la opci√≥n n. ¬∞ 1 o n. ¬∞ 2 (generalmente son m√°s caros que el n. ¬∞ 3), por lo que los fabricantes de soluciones que pueden funcionar seg√∫n el esquema n. ¬∞ 3 utilizaron el siguiente truco: los prefijos se pueden agregar a redes m√°s grandes Por ejemplo, en el espacio de direcciones ipv4, muchos vecinos / 32 colapsan a / 24.  C√≥mo funciona: todos los prefijos √∫nicos / 32 se redondean a / 24 (la m√°scara 0xffffff00 o 255.255.255.0 se usa en la notaci√≥n m√°s familiar) y el n√∫mero de prefijos √∫nicos se cuenta entre todos los redondeados a / 24.  A continuaci√≥n, se ingresa un valor umbral seg√∫n el cual se anuncia un / 24 en lugar de muchos / 32.  Por ejemplo, en un umbral de 10, tendr√° aproximadamente 380K en lugar de 2M, y esto ya se ajusta incluso en modelos de enrutadores ampliamente utilizados e incluso bastante antiguos.  Si se reduce el umbral, los prefijos ser√°n a√∫n menores. </p><br><h2 id="i-chto-v-etom-plohogo">  ¬øY qu√© hay de malo en eso? </h2><br><p>  De hecho, lo que est√° mal con eso, bueno, un poco m√°s de tr√°fico pasar√° por el proxy transparente / DPI, parece un problema del operador, pero de hecho no es del todo correcto.  A menudo, esto se convierte en un problema para el suscriptor y el servicio, cuya direcci√≥n IP tiene "muchos" vecinos en la red / 24 (u otra red, dependiendo de c√≥mo se agregue).  A menudo, estas gl√°ndulas est√°n sobrecargadas con operadores en la CNN (horas ocupadas), introducen demoras, pueden bloquear el tr√°fico TLS con algunas peculiaridades, sucede que funcionan de manera corrupta con http2 y, por lo tanto, incluso si la direcci√≥n IP de su servicio no est√° en una lista de ILV (e incluso ning√∫n dominio indica su direcci√≥n IP), esto no significa que el tr√°fico a su servicio no pasar√° por un filtro especial (que a√∫n puede instalarse en el otro lado del pa√≠s si el operador es grande). </p><br><h2 id="kakaya-polza-ot-znaniya-etogo-nyuansa">  ¬øDe qu√© sirve conocer este matiz? </h2><br><p>  El beneficio para los propietarios del servicio puede ser el siguiente: de repente, algunos de sus usuarios (con caracter√≠sticas geogr√°ficas mal expresadas y un signo com√∫n generalmente incomprensible) comenzaron a quejarse de un trabajo lento.  Una de las posibles razones puede ser que entre sus vecinos en la direcci√≥n IP hay "demasiadas" (por ejemplo, m√°s de 10) direcciones IP bloqueadas en el registro ILV y, por lo tanto, algunos operadores han permitido el tr√°fico a su servicio DPI.  Y luego decida usted mismo cu√°n importantes son estos usuarios y las quejas de ellos, haga alg√∫n tipo de espejo en otra IP, cambie la IP u otra cosa.  Algunos otros operadores en la Federaci√≥n de Rusia dan IPv6 a los suscriptores, tal vez su servicio a√∫n no conoce IPv6 y esto puede ayudar a resolver el problema descrito (bueno, obtenga otros, como suele ser el caso). </p><br><p>  Prevenido significa armado. </p></div></div><p>Source: <a href="https://habr.com/ru/post/485570/">https://habr.com/ru/post/485570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../485554/index.html">Objetivos y resultados clave (OKR): nuestra experiencia de implementaci√≥n por fases</a></li>
<li><a href="../485556/index.html">Tom√≥ 12 a√±os crear una secci√≥n del mapa cerebral de Drosophila, los esfuerzos de 250 personas y $ 40 millones</a></li>
<li><a href="../485558/index.html">No hay mosquitos! Descripci√≥n general de los mosquitos "fito-municiones"</a></li>
<li><a href="../485562/index.html">Navegando en Internet con un Gamepad (Javascript)</a></li>
<li><a href="../485564/index.html">Ingenier√≠a inversa del protocolo ngrok v2</a></li>
<li><a href="../485576/index.html">Caracter√≠sticas de establecer una conexi√≥n entre los participantes en un juego de red de igual a igual</a></li>
<li><a href="../485578/index.html">Mahjong con ni√±os: para qu√©, cu√°ndo y c√≥mo</a></li>
<li><a href="../485582/index.html">Paul Graham: "Un inversor como reba√±o de animales" (2013)</a></li>
<li><a href="../485584/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 399 (20 al 26 de enero de 2020)</a></li>
<li><a href="../485586/index.html">Paul Graham: Ideas para Startups (Ideas para Startups, 2005)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>