<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👦 👩🏼‍🎤 👏 Website-Optimierung für GooglePage Speed ​​(alle Funktionen werden nach der Aktualisierung berücksichtigt) Teil 1 👳 🌵 👔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist für alle interessant, die nach der Aktualisierung von Google PageSpeed ​​und den Behauptungen von Kunden oder dem Chef mit allen mö...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Website-Optimierung für GooglePage Speed ​​(alle Funktionen werden nach der Aktualisierung berücksichtigt) Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436966/">  Dieser Artikel ist für alle interessant, die nach der Aktualisierung von Google PageSpeed ​​und den Behauptungen von Kunden oder dem Chef mit allen möglichen Problemen konfrontiert waren, warum der Ball gefallen ist oder es so viele Kommentare gab.  Und auch für diejenigen, die die Website optimieren. <br>  Zunächst ist zu erwähnen, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in diesem Artikel</a> meiner Meinung nach alles sehr kompetent und zugänglich gemalt ist. <br><br>  Ich selbst werde weitere <i>praktische</i> Ratschläge hinzufügen, und es wird auch interessant sein, auf Ihren Standpunkt zu hören und Ihre Best Practices zu sehen. <a name="habracut"></a><br><br>  Ich werde auflisten, worüber ich in diesem Artikel sprechen werde: <br><br><ol><li>  CSS und JS <br><ul><li>  Dateiverbindung </li><li>  Laden von Bibliotheken </li><li>  Tricks </li></ul><br></li><li>  Schriftarten <br><ul><li>  Schriftverbindung </li><li>  Anzeigen von Schriftarten während des Ladens der Seite </li></ul><br></li><li>  Bilder <br><ul><li>  verschiedene Formate (jpg, png, webp, base64) </li><li>  Sprite </li></ul></li></ol><br>  Und wenn Sie bis zu diesem Moment bei diesem Artikel geblieben sind, sind Sie höchstwahrscheinlich interessiert (oder die Schaltfläche "Zurück" wurde für Sie deaktiviert). Nachfolgend finden Sie detailliertere Informationen zu den einzelnen Artikeln. <br><br><h3>  CSS und JS </h3><br>  <b>Js</b> <br><br><ol><li>  Die <b>asynchrone</b> Eigenschaft für Plug-In-Skripte (außer jQuery) ist erforderlich.  Dies erspart Ihnen definitiv den Kommentar von GPSpeed ​​zum Laden asynchroner Skripte. </li><li>  Der Rat ist alltäglich, aber sehr sinnvoll - versuchen Sie, komplexe und umfangreiche Bibliotheken auf ein Minimum zu beschränken. </li><li>  Es ist besser, die Einstellungen Ihrer js-Bibliothek (Slick, Fancybox) oder kleine Codeteile, die unterschiedliche Aufgaben ausführen, mit einer Datei auf den Server hochzuladen.  In meinem Fall befinden sich sowohl das Skript zum Senden von E-Mails als auch die Maske für Eingabe und Animation und alles in derselben build.js-Datei (auf die ich auch asynchron gesetzt habe. </li><li>  Dieser Rat ist situativ, dh betrachten Sie die Situation.  Wenn direkt nach dem Öffnen der Seite auf dem ersten Bildschirm eine Art Skript ausgeführt wird, ist es korrekter, sie separat zu verbinden und nicht <b>asynchron zu machen</b> </li></ol><br>  <b>CSS</b> <br><br><ol><li>  Hier etwas komplizierter.  Sie müssen dem <b>Link-</b> Tag eine solche Eigenschaft hinzufügen. <br><br><pre><code class="css hljs">&lt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">link</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">media</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">none</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">onload</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">if</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">media</span></span>!="<span class="hljs-selector-tag"><span class="hljs-selector-tag">all</span></span>") <span class="hljs-selector-tag"><span class="hljs-selector-tag">media</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">all</span></span>"" <span class="hljs-selector-tag"><span class="hljs-selector-tag">rel</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">stylesheet</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">type</span></span>="<span class="hljs-selector-tag"><span class="hljs-selector-tag">text</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">css</span></span>", <span class="hljs-selector-tag"><span class="hljs-selector-tag">href</span></span>= <span class="hljs-selector-tag"><span class="hljs-selector-tag">main</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.css</span></span>&gt;</code> </pre> <br>  In dieser Form werden Ihre CSS-Dateien erst nach dem DOM-Baum verbunden.  Grob gesagt ist dies nur für .css dieselbe <b>Asynchronität</b> </li><li>  Sehr wichtige und effektive Beratung!  Er addiert garantiert 5 bis 10 Punkte.  Sie müssen <b>Ihre main.css in zwei Dateien aufteilen</b> .  Im ersten Fall werden nur die Stile für den Inhalt geladen, die unmittelbar nach dem Öffnen der Seite sichtbar sind.  Dies ist die obere Leiste, die Kopfzeile, das erste Bild, das erste Formular usw.  Im Allgemeinen, was Sie auf das "Gesicht" Ihrer Website setzen.  Im zweiten ist alles andere schon. </li></ol><br><h3>  Schriftarten </h3><br>  Ich habe eine neue CSS-Eigenschaft für Schriftarten entdeckt <br><br><pre> <code class="xml hljs">font-display</code> </pre> <br>  Insbesondere der <b>Swap-</b> Parameter, der nicht auf das Laden Ihrer schönen und schweren Schrift wartet, zeigt Text im Browser mit der im selben Browser integrierten Schrift an (z. B. serifenlos).  Dadurch wird einer der Fehler in GPSpeed ​​sofort behoben. <br><br>  Es wird so aussehen <br><br><pre> <code class="xml hljs"> @font-face { font-family: 'FontName'; src: local('FontName'), url('FontName.woff') format('woff'); font-weight: normal; font-style: normal; font-display: swap; }</code> </pre> <br>  Es gibt auch ein solches Skript (Sie müssen fontfaceobserver.js für den Betrieb verbinden): <br><br><pre> <code class="javascript hljs">&lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> html = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (sessionStorage.fontsLoaded) { html.classList.add(<span class="hljs-string"><span class="hljs-string">"fonts-loaded"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> script = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"script"</span></span>); script.src = <span class="hljs-string"><span class="hljs-string">"../js/fontfaceobserver.js"</span></span>; script.async = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; script.onload = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> regular = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontFaceObserver(<span class="hljs-string"><span class="hljs-string">"FontName"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bold = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontFaceObserver(<span class="hljs-string"><span class="hljs-string">"FontName"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-string"><span class="hljs-string">"bold"</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> light = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontFaceObserver(<span class="hljs-string"><span class="hljs-string">"FontName"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-string"><span class="hljs-string">"300"</span></span> }); <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.all([ regular.load(), bold.load(), light.load() ]).then(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ html.classList.add(<span class="hljs-string"><span class="hljs-string">"fonts-loaded"</span></span>); sessionStorage.fontsLoaded = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }); }; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.head.appendChild(script); } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/script&gt;</span></span></code> </pre> <br>  Persönlich habe ich nicht wirklich geholfen, aber Sie versuchen es, vielleicht können Sie es besser kontrollieren.  Immerhin habe ich ihn in der Weite gefunden, und die Leute sagten, das hilft wirklich. <br><br><h3>  Schriftverbindung </h3><br><ol><li>  Grundsätzlich gibt es zwei Arten von Verbindungen: Verwenden eines Links (z. B. zum googeln von Schriftarten oder lokal auf dem Server. In Bezug auf die zweite Methode kann diese auch in zwei Teile unterteilt werden: eine separate CSS-Datei (über den Link verbinden wir fonts.css) ) und direkt über den Code (über Ihre style.css). <br>  Und da wir jetzt über die Optimierung der Site für GPSpeed ​​sprechen, habe ich sichergestellt, dass es besser ist, Schriftarten über Ihre CSS-Hauptdatei zu verbinden. </li><li>  Ein weiterer hilfreicher Tipp ist, die Schriftdateien (woff, ttf usw.) neben Ihrer CSS-Datei abzulegen, die sie anfordert.  Früher hatte ich einen separaten Ordner für Schriftarten auf dem Server, aber dann habe ich die Download-Geschwindigkeit für Schriftarten um das Zweifache erhöht.  (Laut GPSpeed ​​habe ich 180 ms gebraucht, um die Muller-Schriftart zu verbinden, jetzt 70-90 ms) </li></ol><br><h3>  Bilder, Bilder usw. </h3><br>  Ich garantiere für die nächsten 2 Tipps, sie haben nicht nur mir geholfen, sondern dem gesamten Büro und sogar meinen Freunden, die remote arbeiten. <br><br>  1. Laden Sie absolut alle <b>&lt;img</b> &gt; Bilder mit Lazyloading herunter.  Es wird so aussehen <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"yourClass lazy"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"../images/image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Und vergessen Sie nicht, <b>lazyload.min.js</b> zu verbinden <br><br>  2. Wenn die Seite viele <b>SVG-</b> Elemente enthält, ist es besser, sie <b>mit sauberem Code</b> hinzuzufügen, ohne das img-Tag unnötig zu verwenden.  Darüber hinaus muss svg beispielsweise über diese Website <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jakearchibald.github.io/svgomg</a> (keine Werbung) gequetscht werden. <br><br>  3. Trite, aber vergessen Sie nicht, ALLE Bilder auf der Website zusammenzudrücken.  Sogar diejenigen, die 5kb wiegen.  Obwohl diese 3 KB, die Sie gewinnen, die Download-Geschwindigkeit in keiner Weise beeinflussen, werden Sie den Fehler bei GPSpeed ​​beseitigen und sich bis zu 10 Punkte addieren. <br><br>  <b>!</b>  Der Problempunkt sind jetzt Bildformate.  Wir sind nämlich besorgt über <i>Webp, JPEG 2000, JPEG XR</i> .  In der Tat ist es jetzt eine der empfohlenen GPSpeed-Erweiterungen.  Wie Sie wissen, werden sie von einigen Browsern immer noch nicht unterstützt, darunter der recht beliebte Mozila Firefox.  Obwohl angekündigt wurde, dass dieses Format <b>im März vollständig unterstützt wird</b> , müssen wir noch ein weiteres Jahr warten, bis alle Benutzer dieses Browsers auf die neueste Version aktualisiert sind ... Ich habe eine Reihe von Websites und Skripten durchsucht, aber nichts Sinnvolles gefunden.  Jetzt ist es an der Zeit, Ihnen eine Frage zu stellen: Verwenden Sie das Webp-Format oder andere neue Bildformate?  Und wie machst du das? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436966/">https://habr.com/ru/post/de436966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436956/index.html">Zum Thema Schicht, Schilder und Geschwindigkeit MK</a></li>
<li><a href="../de436958/index.html">Libratus strategischer Poker Bot angepasst für militärische Simulationen</a></li>
<li><a href="../de436960/index.html">Teste mich, wenn du kannst. Träumen YML-Entwickler davon, ansible zu testen?</a></li>
<li><a href="../de436962/index.html">Beliebte Open Source - Teil 1: 3 Tools für die Arbeit mit Daten</a></li>
<li><a href="../de436964/index.html">„Rostelecom. DataTalks "- ein Kurs mit kostenlosen Vorlesungen zu Data Engineering und Datenmanagement</a></li>
<li><a href="../de436968/index.html">Daimler-BMW-Plan. Natürlich nicht ohne Tesla</a></li>
<li><a href="../de436970/index.html">Wofür sind Einkäufe und wie sieht es aus IT-Sicht aus?</a></li>
<li><a href="../de436972/index.html">Verhalten - Zustandsmaschine ohne Kopfschmerzen</a></li>
<li><a href="../de436974/index.html">Kaufen Sie keine 5G-Smartphones - zumindest in naher Zukunft</a></li>
<li><a href="../de436976/index.html">Integration der KeePass-Kennwortüberprüfung in die Leckdatenbank</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>