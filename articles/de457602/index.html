<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßû ü•É üëÉüèΩ Untersuchung der Leistung von DBMS MS SQL Server Developer 2016 und PostgreSQL 10.5 f√ºr 1C üõ´ üôç üëâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ziele und Anforderungen zum Testen von "1C Accounting" 
 Der Hauptzweck des Tests besteht darin, das Verhalten des 1C-Systems auf zwei verschiedenen D...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Untersuchung der Leistung von DBMS MS SQL Server Developer 2016 und PostgreSQL 10.5 f√ºr 1C</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457602/"><h3>  Ziele und Anforderungen zum Testen von "1C Accounting" </h3><br>  Der Hauptzweck des Tests besteht darin, das Verhalten des 1C-Systems auf zwei verschiedenen DBMS unter anderen identischen Bedingungen zu vergleichen.  Das hei√üt,  Die Konfiguration der 1C-Datenbanken und die anf√§ngliche Datenpopulation sollten bei jedem Test gleich sein. <br><br>  Die wichtigsten Parameter, die w√§hrend des Tests erhalten werden sollten: <br><br><ul><li>  Die Ausf√ºhrungszeit jedes Tests (von der Entwicklungsabteilung 1C entfernt) </li><li>  Die Belastung der DBMS- und Serverumgebung w√§hrend des Tests wird von DBMS-Administratoren sowie von Systemadministratoren in der Serverumgebung entfernt </li></ul><br>  Das Testen des 1C-Systems sollte unter Ber√ºcksichtigung der Client-Server-Architektur durchgef√ºhrt werden. Daher ist es erforderlich, einen Benutzer oder mehrere Benutzer im System zu emulieren, um die Eingabe von Informationen in die Schnittstelle zu erarbeiten und diese Informationen in der Datenbank zu speichern.  Gleichzeitig ist es erforderlich, dass eine gro√üe Menge periodischer Informationen √ºber einen gro√üen Zeitraum ver√∂ffentlicht wird, um Summen in den Akkumulationsregistern zu erstellen. <br><br>  Zur Durchf√ºhrung von Tests wurde ein Algorithmus in Form eines Skripts zum Testen von Skripten f√ºr die Konfiguration von 1C Accounting 3.0 entwickelt, bei dem die serielle Eingabe von Testdaten in das 1C-System durchgef√ºhrt wird.  Mit dem Skript k√∂nnen Sie verschiedene Einstellungen f√ºr die durchgef√ºhrten Aktionen und die Menge der Testdaten festlegen.  Detaillierte Beschreibung unten. <br><br><h3>  Beschreibung der Einstellungen und Eigenschaften der getesteten Umgebungen </h3><br>  Wir bei Fortis haben beschlossen, die Ergebnisse zu √ºberpr√ºfen, einschlie√ülich des bekannten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gilev-Tests</a> . <br><br>  Wir wurden auch aufgefordert, Tests durchzuf√ºhren, einschlie√ülich einiger Ver√∂ffentlichungen zu den Ergebnissen von Leistungs√§nderungen w√§hrend des √úbergangs von MS SQL Server zu PostgreSQL.  Wie zum Beispiel: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1C Battle: PostgreSQL 9.10 gegen MS SQL 2016</a> . <br><a name="habracut"></a><br>  Hier ist also die Infrastruktur zum Testen: <br><div class="scrollable-table"><table><tbody><tr><th></th><th>  1C </th><th>  <nobr>MS SQL</nobr> </th><th>  PostgreSQL </th></tr><tr><td>  <nobr>Die Anzahl der CPU-Kerne</nobr> </td><td>  8 </td><td>  8 </td><td>  8 </td></tr><tr><td>  <nobr>RAM-Menge</nobr> </td><td>  16 </td><td>  32 </td><td>  32 </td></tr><tr><td>  Betriebssystem </td><td>  <nobr>MS Windows Server 2012R2 Standard</nobr> </td><td>  <nobr>MS Windows Server 2012R2 Standard</nobr> </td><td>  <nobr>CentOS 7.6.1810</nobr> </td></tr><tr><td>  Kapazit√§t </td><td>  x64 </td><td>  x64 </td><td>  x64 </td></tr><tr><td>  <nobr>Plattform 1C</nobr> </td><td>  8.3.13.1865 </td><td>  - - </td><td>  - - </td></tr><tr><td>  DBMS-Version </td><td>  - - </td><td>  13.0.5264.1 </td><td>  10,5 (4.8.5.20150623) </td></tr></tbody></table></div><br>  Die Server f√ºr MS SQL und PostgreSQL waren virtuell und wurden abwechselnd f√ºr den gew√ºnschten Test ausgef√ºhrt.  1C stand auf einem separaten Server. <br><br><div class="spoiler">  <b class="spoiler_title">Details</b> <div class="spoiler_text">  <b>Hypervisor-Spezifikation:</b> <br>  Modell: Supermicro SYS-6028R-TRT <br>  CPU: Intel¬Æ Xeon¬Æ CPU E5-2630 v3 bei 2,40 GHz (2 Sockel * 16 CPU HT = 32 CPU) <br>  RAM: 212 GB <br>  Betriebssystem: VMWare ESXi 6.5 <br>  PowerProfile: Leistung <br><br>  <b>Hypervisor Disk Subsystem:</b> <br>  Controller: Adaptec 6805, Cache-Gr√∂√üe: 512 MB <br>  Volumen: RAID 10, 5,7 TB <br>  Streifengr√∂√üe: 1024 KB <br>  Schreib-Cache: Ein <br>  Lese-Cache: Aus <br>  R√§der: 6 Stk.  HGST HUS726T6TAL, <br>  Sektorgr√∂√üe: 512 Bytes <br>  Cache schreiben: ein <br><br>  <b>PostgreSQL wurde wie folgt konfiguriert:</b> <br><br><ol><li>  postgresql.conf: <br>  Die Grundeinstellungen wurden mit dem Taschenrechner vorgenommen - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pgconfigurator.cybertec.at</a> . Die Parameter vast_pages, checkpoint_timeout, max_wal_size, min_wal_size, random_page_cost wurden basierend auf Informationen ge√§ndert, die aus den am Ende der Ver√∂ffentlichung genannten Quellen stammen.  Der Wert des Parameters temp_buffers wurde erh√∂ht, basierend auf dem Vorschlag, dass 1C tempor√§re Tabellen aktiv verwendet: <br><br><pre><code class="bash hljs">listen_addresses = <span class="hljs-string"><span class="hljs-string">'*'</span></span> max_connections = 1000 <span class="hljs-comment"><span class="hljs-comment">#     .          .    32     25%    . shared_buffers = 9GB #   (  Linux - vm.nr_hugepages). huge_pages = on #      . temp_buffers = 256MB #      ORDER BY, DISTINCT, merge joins, join, hash-based aggregation, hash-based processing of IN subqueries. #  ,  1     ( "Mostly complicated real-time SQL queries"  ).     64MB. work_mem = 128MB #    . VACUUM,  , etc. maintenance_work_mem = 512MB #    (vm.dirty_background_bytes, vm.dirty_bytes),        IO   CHECKPOINT. checkpoint_timeout = 30min max_wal_size = 3GB min_wal_size = 512MB checkpoint_completion_target = 0.9 seq_page_cost = 1 #   .  - - 4.  RAID10  . random_page_cost = 2.5 #       postgres ,    PageCache. effective_cache_size = 22GB</span></span></code> </pre> <br></li><li>  Kernel, Betriebssystemparameter: <br><br>  Die Einstellungen werden im Profildateiformat f√ºr den optimierten D√§mon festgelegt: <br><br><pre> <code class="bash hljs">[sysctl] <span class="hljs-comment"><span class="hljs-comment">#     (PageCache),       /     . #-    (10,30)               /. #    CHECKPOINT     I/O. #       RAID-  write-back cache  512MB. vm.dirty_background_bytes = 67108864 vm.dirty_bytes = 536870912 # SWAP -.    ,    OOM. vm.swappiness = 1 # ,        CPU. #         CPU  . #    . kernel.sched_migration_cost_ns = 5000000 #    CPU   . #       0.    . kernel.sched_autogroup_enabled = 0 #    .     . #     - https://www.postgresql.org/docs/11/kernel-resources.html#LINUX-HUGE-PAGES vm.nr_hugepages = 5000 [vm] #   .         ,    .  ,     . transparent_hugepages=never #  CPU.       ,      . [cpu] force_latency=1 governor=performance energy_perf_bias=performance min_perf_pct=100</span></span></code> </pre><br></li><li>  Dateisystem: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># : #stride  stripe_width    RAID 10  6-    stripe  1024kb mkfs.ext4 -E stride=256,stripe_width=768 /dev/sdb # : /dev/sdb /var/lib/pgsql ext4 noatime,nodiratime,data=ordered,barrier=0,errors=remount-ro 0 2 #noatime,nodiratime -         #data=ordered -     .     #barrier=0 -       .  RAID-     .</span></span></code> </pre></li></ol><br>  Alle Inhalte der Datei postgresql.conf: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ----------------------------- # PostgreSQL configuration file # ----------------------------- # # This file consists of lines of the form: # # name = value # # (The "=" is optional.) Whitespace may be used. Comments are introduced with # "#" anywhere on a line. The complete list of parameter names and allowed # values can be found in the PostgreSQL documentation. # # The commented-out settings shown in this file represent the default values. # Re-commenting a setting is NOT sufficient to revert it to the default value; # you need to reload the server. # # This file is read on server startup and when the server receives a SIGHUP # signal. If you edit the file on a running system, you have to SIGHUP the # server for the changes to take effect, run "pg_ctl reload", or execute # "SELECT pg_reload_conf()". Some parameters, which are marked below, # require a server shutdown and restart to take effect. # # Any parameter can also be given as a command-line option to the server, eg, # "postgres -c log_connections=on". Some parameters can be changed at run time # with the "SET" SQL command. # # Memory units: kB = kilobytes Time units: ms = milliseconds # MB = megabytes s = seconds # GB = gigabytes min = minutes # TB = terabytes h = hours # d = days #------------------------------------------------------------------------------ # FILE LOCATIONS #------------------------------------------------------------------------------ # The default values of these variables are driven from the -D command-line # option or PGDATA environment variable, represented here as ConfigDir. #data_directory = 'ConfigDir' # use data in another directory # (change requires restart) #hba_file = 'ConfigDir/pg_hba.conf' # host-based authentication file # (change requires restart) #ident_file = 'ConfigDir/pg_ident.conf' # ident configuration file # (change requires restart) # If external_pid_file is not explicitly set, no extra PID file is written. #external_pid_file = '' # write an extra PID file # (change requires restart) #------------------------------------------------------------------------------ # CONNECTIONS AND AUTHENTICATION #------------------------------------------------------------------------------ # - Connection Settings - listen_addresses = '*' # what IP address(es) to listen on; # comma-separated list of addresses; # defaults to 'localhost'; use '*' for all # (change requires restart) #port = 5432 # (change requires restart) max_connections = 1000 # (change requires restart) #superuser_reserved_connections = 3 # (change requires restart) #unix_socket_directories = '/var/run/postgresql, /tmp' # comma-separated list of directories # (change requires restart) #unix_socket_group = '' # (change requires restart) #unix_socket_permissions = 0777 # begin with 0 to use octal notation # (change requires restart) #bonjour = off # advertise server via Bonjour # (change requires restart) #bonjour_name = '' # defaults to the computer name # (change requires restart) # - Security and Authentication - #authentication_timeout = 1min # 1s-600s ssl = off #ssl_ciphers = 'HIGH:MEDIUM:+3DES:!aNULL' # allowed SSL ciphers #ssl_prefer_server_ciphers = on #ssl_ecdh_curve = 'prime256v1' #ssl_dh_params_file = '' #ssl_cert_file = 'server.crt' #ssl_key_file = 'server.key' #ssl_ca_file = '' #ssl_crl_file = '' #test #password_encryption = md5 # md5 or scram-sha-256 #db_user_namespace = off row_security = off # GSSAPI using Kerberos #krb_server_keyfile = '' #krb_caseins_users = off # - TCP Keepalives - # see "man 7 tcp" for details #tcp_keepalives_idle = 0 # TCP_KEEPIDLE, in seconds; # 0 selects the system default #tcp_keepalives_interval = 0 # TCP_KEEPINTVL, in seconds; # 0 selects the system default #tcp_keepalives_count = 0 # TCP_KEEPCNT; # 0 selects the system default #------------------------------------------------------------------------------ # RESOURCE USAGE (except WAL) #------------------------------------------------------------------------------ # - Memory - shared_buffers = 9GB # min 128kB # (change requires restart) huge_pages = on # on, off, or try # (change requires restart) temp_buffers = 256MB # min 800kB #max_prepared_transactions = 0 # zero disables the feature # (change requires restart) # Caution: it is not advisable to set max_prepared_transactions nonzero unless # you actively intend to use prepared transactions. # work_mem = 128MB # min 64kB maintenance_work_mem = 512MB # min 1MB #replacement_sort_tuples = 150000 # limits use of replacement selection sort #autovacuum_work_mem = -1 # min 1MB, or -1 to use maintenance_work_mem #max_stack_depth = 2MB # min 100kB dynamic_shared_memory_type = posix # the default is the first option # supported by the operating system: # posix # sysv # windows # mmap # use none to disable dynamic shared memory # (change requires restart) # - Disk - #temp_file_limit = -1 # limits per-process temp file space # in kB, or -1 for no limit # - Kernel Resource Usage - max_files_per_process = 10000 # min 25 # (change requires restart) shared_preload_libraries = 'online_analyze, plantuner' # (change requires restart) # - Cost-Based Vacuum Delay - #vacuum_cost_delay = 0 # 0-100 milliseconds #vacuum_cost_page_hit = 1 # 0-10000 credits #vacuum_cost_page_miss = 10 # 0-10000 credits #vacuum_cost_page_dirty = 20 # 0-10000 credits #vacuum_cost_limit = 200 # 1-10000 credits # - Background Writer - bgwriter_delay = 20ms # 10-10000ms between rounds bgwriter_lru_maxpages = 400 # 0-1000 max buffers written/round bgwriter_lru_multiplier = 4.0 # 0-10.0 multiplier on buffers scanned/round bgwriter_flush_after = 0 # measured in pages, 0 disables # - Asynchronous Behavior - effective_io_concurrency = 3 # 1-1000; 0 disables prefetching max_worker_processes = 8 # (change requires restart) max_parallel_workers_per_gather = 4 # taken from max_parallel_workers max_parallel_workers = 8 # maximum number of max_worker_processes that # can be used in parallel queries #old_snapshot_threshold = -1 # 1min-60d; -1 disables; 0 is immediate # (change requires restart) #backend_flush_after = 0 # measured in pages, 0 disables #------------------------------------------------------------------------------ # WRITE AHEAD LOG #------------------------------------------------------------------------------ # - Settings - wal_level = minimal # minimal, replica, or logical # (change requires restart) #fsync = on # flush data to disk for crash safety # (turning this off can cause # unrecoverable data corruption) #synchronous_commit = on # synchronization level; # off, local, remote_write, remote_apply, or on wal_sync_method = fdatasync # the default is the first option # supported by the operating system: # open_datasync # fdatasync (default on Linux) # fsync # fsync_writethrough # open_sync #wal_sync_method = open_datasync #full_page_writes = on # recover from partial page writes wal_compression = on # enable compression of full-page writes #wal_log_hints = off # also do full page writes of non-critical updates # (change requires restart) wal_buffers = -1 # min 32kB, -1 sets based on shared_buffers # (change requires restart) wal_writer_delay = 200ms # 1-10000 milliseconds wal_writer_flush_after = 1MB # measured in pages, 0 disables commit_delay = 1000 # range 0-100000, in microseconds #commit_siblings = 5 # range 1-1000 # - Checkpoints - checkpoint_timeout = 30min # range 30s-1d max_wal_size = 3GB min_wal_size = 512MB checkpoint_completion_target = 0.9 # checkpoint target duration, 0.0 - 1.0 #checkpoint_flush_after = 256kB # measured in pages, 0 disables #checkpoint_warning = 30s # 0 disables # - Archiving - #archive_mode = off # enables archiving; off, on, or always # (change requires restart) #archive_command = '' # command to use to archive a logfile segment # placeholders: %p = path of file to archive # %f = file name only # eg 'test ! -f /mnt/server/archivedir/%f &amp;&amp; cp %p /mnt/server/archivedir/%f' #archive_timeout = 0 # force a logfile segment switch after this # number of seconds; 0 disables #------------------------------------------------------------------------------ # REPLICATION #------------------------------------------------------------------------------ # - Sending Server(s) - # Set these on the master and on any standby that will send replication data. max_wal_senders = 0 # max number of walsender processes # (change requires restart) #wal_keep_segments = 130 # in logfile segments, 16MB each; 0 disables #wal_sender_timeout = 60s # in milliseconds; 0 disables #max_replication_slots = 10 # max number of replication slots # (change requires restart) #track_commit_timestamp = off # collect timestamp of transaction commit # (change requires restart) # - Master Server - # These settings are ignored on a standby server. #synchronous_standby_names = '' # standby servers that provide sync rep # method to choose sync standbys, number of sync standbys, # and comma-separated list of application_name # from standby(s); '*' = all #vacuum_defer_cleanup_age = 0 # number of xacts by which cleanup is delayed # - Standby Servers - # These settings are ignored on a master server. #hot_standby = on # "off" disallows queries during recovery # (change requires restart) #max_standby_archive_delay = 30s # max delay before canceling queries # when reading WAL from archive; # -1 allows indefinite delay #max_standby_streaming_delay = 30s # max delay before canceling queries # when reading streaming WAL; # -1 allows indefinite delay #wal_receiver_status_interval = 10s # send replies at least this often # 0 disables #hot_standby_feedback = off # send info from standby to prevent # query conflicts #wal_receiver_timeout = 60s # time that receiver waits for # communication from master # in milliseconds; 0 disables #wal_retrieve_retry_interval = 5s # time to wait before retrying to # retrieve WAL after a failed attempt # - Subscribers - # These settings are ignored on a publisher. #max_logical_replication_workers = 4 # taken from max_worker_processes # (change requires restart) #max_sync_workers_per_subscription = 2 # taken from max_logical_replication_workers #------------------------------------------------------------------------------ # QUERY TUNING #------------------------------------------------------------------------------ # - Planner Method Configuration - #enable_bitmapscan = on #enable_hashagg = on #enable_hashjoin = on #enable_indexscan = on #enable_indexonlyscan = on #enable_material = on #enable_mergejoin = on #enable_nestloop = on #enable_seqscan = on #enable_sort = on #enable_tidscan = on # - Planner Cost Constants - seq_page_cost = 1 # measured on an arbitrary scale random_page_cost = 2.5 # same scale as above #cpu_tuple_cost = 0.01 # same scale as above #cpu_index_tuple_cost = 0.005 # same scale as above #cpu_operator_cost = 0.0025 # same scale as above #parallel_tuple_cost = 0.1 # same scale as above #parallel_setup_cost = 1000.0 # same scale as above #min_parallel_table_scan_size = 8MB #min_parallel_index_scan_size = 512kB effective_cache_size = 22GB # - Genetic Query Optimizer - #geqo = on #geqo_threshold = 12 #geqo_effort = 5 # range 1-10 #geqo_pool_size = 0 # selects default based on effort #geqo_generations = 0 # selects default based on effort #geqo_selection_bias = 2.0 # range 1.5-2.0 #geqo_seed = 0.0 # range 0.0-1.0 # - Other Planner Options - #default_statistics_target = 100 # range 1-10000 #constraint_exclusion = partition # on, off, or partition #cursor_tuple_fraction = 0.1 # range 0.0-1.0 from_collapse_limit = 20 join_collapse_limit = 20 # 1 disables collapsing of explicit # JOIN clauses #force_parallel_mode = off #------------------------------------------------------------------------------ # ERROR REPORTING AND LOGGING #------------------------------------------------------------------------------ # - Where to Log - log_destination = 'stderr' # Valid values are combinations of # stderr, csvlog, syslog, and eventlog, # depending on platform. csvlog # requires logging_collector to be on. # This is used when logging to stderr: logging_collector = on # Enable capturing of stderr and csvlog # into log files. Required to be on for # csvlogs. # (change requires restart) # These are only used if logging_collector is on: log_directory = 'pg_log' # directory where log files are written, # can be absolute or relative to PGDATA log_filename = 'postgresql-%a.log' # log file name pattern, # can include strftime() escapes #log_file_mode = 0600 # creation mode for log files, # begin with 0 to use octal notation log_truncate_on_rotation = on # If on, an existing log file with the # same name as the new log file will be # truncated rather than appended to. # But such truncation only occurs on # time-driven rotation, not on restarts # or size-driven rotation. Default is # off, meaning append to existing files # in all cases. log_rotation_age = 1d # Automatic rotation of logfiles will # happen after that time. 0 disables. log_rotation_size = 0 # Automatic rotation of logfiles will # happen after that much log output. # 0 disables. # These are relevant when logging to syslog: #syslog_facility = 'LOCAL0' #syslog_ident = 'postgres' #syslog_sequence_numbers = on #syslog_split_messages = on # This is only relevant when logging to eventlog (win32): # (change requires restart) #event_source = 'PostgreSQL' # - When to Log - #client_min_messages = notice # values in order of decreasing detail: # debug5 # debug4 # debug3 # debug2 # debug1 # log # notice # warning # error #log_min_messages = warning # values in order of decreasing detail: # debug5 # debug4 # debug3 # debug2 # debug1 # info # notice # warning # error # log # fatal # panic #log_min_error_statement = error # values in order of decreasing detail: # debug5 # debug4 # debug3 # debug2 # debug1 # info # notice # warning # error # log # fatal # panic (effectively off) #log_min_duration_statement = -1 # -1 is disabled, 0 logs all statements # and their durations, &gt; 0 logs only # statements running at least this number # of milliseconds # - What to Log - #debug_print_parse = off #debug_print_rewritten = off #debug_print_plan = off #debug_pretty_print = on log_checkpoints = on log_connections = on log_disconnections = on log_duration = on #log_error_verbosity = default # terse, default, or verbose messages #log_hostname = off log_line_prefix = '&lt; %m &gt;' # special values: # %a = application name # %u = user name # %d = database name # %r = remote host and port # %h = remote host # %p = process ID # %t = timestamp without milliseconds # %m = timestamp with milliseconds # %n = timestamp with milliseconds (as a Unix epoch) # %i = command tag # %e = SQL state # %c = session ID # %l = session line number # %s = session start timestamp # %v = virtual transaction ID # %x = transaction ID (0 if none) # %q = stop here in non-session # processes # %% = '%' # eg '&lt;%u%%%d&gt; ' log_lock_waits = on # log lock waits &gt;= deadlock_timeout log_statement = 'all' # none, ddl, mod, all #log_replication_commands = off log_temp_files = 0 # log temporary files equal or larger # than the specified size in kilobytes; # -1 disables, 0 logs all temp files log_timezone = 'W-SU' # - Process Title - #cluster_name = '' # added to process titles if nonempty # (change requires restart) #update_process_title = on #------------------------------------------------------------------------------ # RUNTIME STATISTICS #------------------------------------------------------------------------------ # - Query/Index Statistics Collector - #track_activities = on #track_counts = on #track_io_timing = on #track_functions = none # none, pl, all #track_activity_query_size = 1024 # (change requires restart) #stats_temp_directory = 'pg_stat_tmp' # - Statistics Monitoring - #log_parser_stats = off #log_planner_stats = off #log_executor_stats = off #log_statement_stats = off #------------------------------------------------------------------------------ # AUTOVACUUM PARAMETERS #------------------------------------------------------------------------------ autovacuum = on # Enable autovacuum subprocess? 'on' # requires track_counts to also be on. log_autovacuum_min_duration = 0 # -1 disables, 0 logs all actions and # their durations, &gt; 0 logs only # actions running at least this number # of milliseconds. autovacuum_max_workers = 4 # max number of autovacuum subprocesses # (change requires restart) #autovacuum_naptime = 20s # time between autovacuum runs #autovacuum_vacuum_threshold = 50 # min number of row updates before # vacuum #autovacuum_analyze_threshold = 50 # min number of row updates before # analyze #autovacuum_vacuum_scale_factor = 0.2 # fraction of table size before vacuum #autovacuum_analyze_scale_factor = 0.1 # fraction of table size before analyze #autovacuum_freeze_max_age = 200000000 # maximum XID age before forced vacuum # (change requires restart) #autovacuum_multixact_freeze_max_age = 400000000 # maximum multixact age # before forced vacuum # (change requires restart) #autovacuum_vacuum_cost_delay = 20ms # default vacuum cost delay for # autovacuum, in milliseconds; # -1 means use vacuum_cost_delay #autovacuum_vacuum_cost_limit = -1 # default vacuum cost limit for # autovacuum, -1 means use # vacuum_cost_limit #------------------------------------------------------------------------------ # CLIENT CONNECTION DEFAULTS #------------------------------------------------------------------------------ # - Statement Behavior - #search_path = '"$user", public' # schema names #default_tablespace = '' # a tablespace name, '' uses the default #temp_tablespaces = '' # a list of tablespace names, '' uses # only default tablespace #check_function_bodies = on #default_transaction_isolation = 'read committed' #default_transaction_read_only = off #default_transaction_deferrable = off #session_replication_role = 'origin' #statement_timeout = 0 # in milliseconds, 0 is disabled #lock_timeout = 0 # in milliseconds, 0 is disabled #idle_in_transaction_session_timeout = 0 # in milliseconds, 0 is disabled #vacuum_freeze_min_age = 50000000 #vacuum_freeze_table_age = 150000000 #vacuum_multixact_freeze_min_age = 5000000 #vacuum_multixact_freeze_table_age = 150000000 #bytea_output = 'hex' # hex, escape #xmlbinary = 'base64' #xmloption = 'content' #gin_fuzzy_search_limit = 0 #gin_pending_list_limit = 4MB # - Locale and Formatting - datestyle = 'iso, dmy' #intervalstyle = 'postgres' timezone = 'W-SU' #timezone_abbreviations = 'Default' # Select the set of available time zone # abbreviations. Currently, there are # Default # Australia (historical usage) # India # You can create your own file in # share/timezonesets/. #extra_float_digits = 0 # min -15, max 3 #client_encoding = sql_ascii # actually, defaults to database # encoding # These settings are initialized by initdb, but they can be changed. lc_messages = 'ru_RU.UTF-8' # locale for system error message # strings lc_monetary = 'ru_RU.UTF-8' # locale for monetary formatting lc_numeric = 'ru_RU.UTF-8' # locale for number formatting lc_time = 'ru_RU.UTF-8' # locale for time formatting # default configuration for text search default_text_search_config = 'pg_catalog.russian' # - Other Defaults - #dynamic_library_path = '$libdir' #local_preload_libraries = '' #session_preload_libraries = '' #------------------------------------------------------------------------------ # LOCK MANAGEMENT #------------------------------------------------------------------------------ #deadlock_timeout = 1s max_locks_per_transaction = 256 # min 10 # (change requires restart) #max_pred_locks_per_transaction = 64 # min 10 # (change requires restart) #max_pred_locks_per_relation = -2 # negative values mean # (max_pred_locks_per_transaction # / -max_pred_locks_per_relation) - 1 #max_pred_locks_per_page = 2 # min 0 #------------------------------------------------------------------------------ # VERSION/PLATFORM COMPATIBILITY #------------------------------------------------------------------------------ # - Previous PostgreSQL Versions - #array_nulls = on #backslash_quote = safe_encoding # on, off, or safe_encoding #default_with_oids = off escape_string_warning = off #lo_compat_privileges = off #operator_precedence_warning = off #quote_all_identifiers = off standard_conforming_strings = off #synchronize_seqscans = on # - Other Platforms and Clients - #transform_null_equals = off #------------------------------------------------------------------------------ # ERROR HANDLING #------------------------------------------------------------------------------ #exit_on_error = off # terminate session on any error? #restart_after_crash = on # reinitialize after backend crash? #------------------------------------------------------------------------------ # CONFIG FILE INCLUDES #------------------------------------------------------------------------------ # These options allow settings to be loaded from files other than the # default postgresql.conf. #include_dir = 'conf.d' # include files ending in '.conf' from # directory 'conf.d' #include_if_exists = 'exists.conf' # include file only if it exists #include = 'special.conf' # include file #------------------------------------------------------------------------------ # CUSTOMIZED OPTIONS #------------------------------------------------------------------------------ online_analyze.threshold = 50 online_analyze.scale_factor = 0.1 online_analyze.enable = on online_analyze.verbose = off online_analyze.local_tracking = on online_analyze.min_interval = 10000 online_analyze.table_type = 'temporary' online_analyze.verbose='off' plantuner.fix_empty_table='on'</span></span></code> </pre><br>  <b>MS SQL wurde wie folgt konfiguriert:</b> <br><br> <a href=""><img src="https://habrastorage.org/webt/0r/cl/ug/0rcluggssfopswzldgedbkeuejw.jpeg"></a> <br><br>  und <br><br> <a href=""><img src="https://habrastorage.org/webt/ix/ze/fn/ixzefnuosfvqvs0d46ehaxcgsco.jpeg"></a> <br><br>  Die Einstellungen des 1C-Clusters wurden standardm√§√üig beibehalten: <br><br> <a href=""><img src="https://habrastorage.org/webt/t-/si/cq/t-sicqekab9xtoezdqy2zdrsu7q.jpeg"></a> <br><br>  und <br><br> <a href=""><img src="https://habrastorage.org/webt/ih/zr/zr/ihzrzrczwqh6h7lhmtko_kcttxw.jpeg"></a> <br></div></div><br>  Auf den Servern befand sich kein Antivirenprogramm, und es wurde nichts von Drittanbietern installiert. <br><br>  F√ºr MS SQL wurde tempdb auf ein separates logisches Laufwerk verschoben.  Die Datendateien und Transaktionsprotokolldateien f√ºr die Datenbanken befanden sich jedoch auf demselben logischen Laufwerk (dh die Datendateien und Transaktionsprotokolle wurden nicht in separate logische Laufwerke aufgeteilt). <br><br>  Das Indizieren von Laufwerken in Windows, in dem sich MS SQL Server befand, wurde auf allen logischen Laufwerken deaktiviert (wie es in den meisten F√§llen in prodovskih-Umgebungen √ºblich ist). <br><br><div class="spoiler">  <b class="spoiler_title">Beschreibung des Hauptalgorithmus des Skripts f√ºr automatisierte Tests</b> <div class="spoiler_text">  Der gesch√§tzte Haupttestzeitraum betr√§gt 1 Jahr. In diesem Zeitraum werden f√ºr jeden Tag Dokumente und Referenzinformationen gem√§√ü den angegebenen Parametern erstellt. <br><br>  An jedem Ausf√ºhrungstag werden Eingabe- und Ausgabeinformationsbl√∂cke gestartet: <br><br><ol><li>  Block 1 "_" - "Empfang von Waren und Dienstleistungen" <br><ul><li>  Das Kontrahentenverzeichnis wird ge√∂ffnet </li><li>  Ein neues Element des Verzeichnisses "Auftragnehmer" wird mit Blick auf "Lieferant" erstellt. </li><li>  Ein neues Element des Verzeichnisses "Vertr√§ge" wird mit der Ansicht "Mit Lieferant" f√ºr eine neue Gegenpartei erstellt </li><li>  Das Verzeichnis "Nomenklatur" wird ge√∂ffnet </li><li>  Eine Reihe von Elementen des Verzeichnisses "Nomenklatur" wird mit dem Typ "Produkt" erstellt. </li><li>  Eine Reihe von Elementen des Verzeichnisses "Nomenklatur" wird mit dem Typ "Service" erstellt. </li><li>  Eine Liste von Dokumenten "Quittungen von Waren und Dienstleistungen" </li><li>  Es wird ein neues Dokument ‚ÄûWareneingang f√ºr Waren und Dienstleistungen‚Äú erstellt, in dem die tabellarischen Teile ‚ÄûWaren‚Äú und ‚ÄûDienstleistungen‚Äú mit den erstellten Datens√§tzen gef√ºllt sind </li><li>  Der Bericht ‚ÄûAccount Card 41‚Äú wird f√ºr den aktuellen Monat erstellt (wenn das Intervall f√ºr die zus√§tzliche Bildung angegeben ist). </li></ul><br></li><li>  Block 2 "_" - "Verkauf von Waren und Dienstleistungen" <br><br><ul><li>  Das Kontrahentenverzeichnis wird ge√∂ffnet </li><li>  Mit der Ansicht "K√§ufer" wird ein neues Element des Verzeichnisses "Gegenparteien" erstellt </li><li>  Ein neues Element des Verzeichnisses "Vertr√§ge" wird mit der Ansicht "Mit K√§ufer" f√ºr eine neue Gegenpartei erstellt </li><li>  Eine Liste der Dokumente ‚ÄûVerkauf von Waren und Dienstleistungen‚Äú wird ge√∂ffnet. </li><li>  Es wird ein neues Dokument ‚ÄûVerkauf von Waren und Dienstleistungen‚Äú erstellt, in dem die tabellarischen Teile ‚ÄûWaren‚Äú und ‚ÄûDienstleistungen‚Äú gem√§√ü den angegebenen Parametern aus zuvor erstellten Daten ausgef√ºllt werden </li><li>  Der Bericht ‚ÄûAccount Card 41‚Äú wird f√ºr den aktuellen Monat erstellt (wenn das Intervall f√ºr die zus√§tzliche Bildung angegeben ist). </li></ul></li><li>  Der Bericht ‚ÄûAccount Card 41‚Äú f√ºr den aktuellen Monat wird generiert </li></ol><br>  Am Ende jedes Monats, in dem die Erstellung von Dokumenten durchgef√ºhrt wurde, werden Eingabe- und Ausgabebl√∂cke von Informationen ausgef√ºhrt: <br><br><ol><li>  Der Bericht ‚ÄûAccount Card 41‚Äú wird vom Jahresanfang bis zum Monatsende erstellt </li><li>  Der Bericht ‚ÄûUmsatzbilanz‚Äú wird vom Jahresanfang bis zum Monatsende erstellt </li><li>  Das Regulierungsverfahren ‚ÄûMonatsende‚Äú wird durchgef√ºhrt </li></ol><br>  Das Ergebnis der Ausf√ºhrung gibt Auskunft √ºber die Testzeit in Stunden, Minuten, Sekunden und Millisekunden. <br><br>  <b>Hauptmerkmale des Testskripts:</b> <br><br><ol><li>  M√∂glichkeit zum Deaktivieren / Aktivieren einzelner Einheiten </li><li>  M√∂glichkeit, die Gesamtzahl der Dokumente f√ºr jeden der Bl√∂cke anzugeben </li><li>  M√∂glichkeit, die Anzahl der Dokumente f√ºr jeden Block pro Tag anzugeben </li><li>  M√∂glichkeit, die Menge der Waren und Dienstleistungen in Dokumenten anzugeben </li><li>  M√∂glichkeit, Listen mit quantitativen und Preisindikatoren f√ºr die Aufzeichnung festzulegen.  Dient zum Erstellen verschiedener Wertes√§tze in Dokumenten </li></ol><br>  <b>Der grundlegende Testplan f√ºr jede der Datenbanken:</b> <br><br><ol><li>  "Der erste Test."          ,  ¬´ ¬ª <br><ul><li>    ‚Äî 20 .   1 . : 50  ¬´¬ª, 50  ¬´¬ª, 100  ¬´¬ª, 50  ¬´¬ª + ¬´¬ª, 50  ¬´¬ª + ¬´¬ª, 2  ¬´ ¬ª.   1   1  </li></ul><br></li><li> ¬´ ¬ª.          ,    <br><br><ul><li>    ‚Äî 50-60 .   3 . : 90  ¬´¬ª, 90  ¬´¬ª, 540  ¬´¬ª, 90  ¬´¬ª + ¬´¬ª, 90  ¬´¬ª + ¬´¬ª, 3  ¬´ ¬ª.   3   3  </li></ul><br></li><li> ¬´ ¬ª.       .       .       <br><ul><li>    ‚Äî 40-60 .   2 . : 50  ¬´¬ª, 50  ¬´¬ª, 300  ¬´¬ª, 50  ¬´¬ª + ¬´¬ª, 50  ¬´¬ª + ¬´¬ª.   3   3  </li></ul><br></li></ol><br> <b>      :</b> <br><br><ol><li>    ,      : <br><br><ul><li>    </li><li>    </li><li>   ¬´   ¬ª </li></ul></li><li>   ¬´   ¬ª  ¬´   ¬ª    </li><li>       1 "*.dt"      </li><li>    ¬´ ¬ª      </li></ol><br></div></div><br><h3>  Ergebnisse </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Und jetzt die interessantesten Ergebnisse auf dem MS SQL Server DBMS: </font></font><br><br><div class="spoiler">  <b class="spoiler_title">Details</b> <div class="spoiler_text">  : <br><br> <a href=""><img src="https://habrastorage.org/webt/ku/2w/gm/ku2wgmb85djlfld1ncm-kyxc_b0.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/sh/ce/8e/shce8esw2a8b9ptcit1z8ib1l2k.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/ou/ws/cu/ouwscundf5meokqwuzss8ykertc.jpeg"></a> <br><br>    PostgreSQL,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> ,            ,    ,   : <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/kh/pn/xr/khpnxrfch558vv6d2mymiflwmus.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/os/b9/sd/osb9sdkhlb_vlvnbkdhcir4iz-a.jpeg"></a> <br><br>  : <br><br> <a href=""><img src="https://habrastorage.org/webt/yb/je/ws/ybjewsijlam2h5btjesqjjfcniw.jpeg"></a> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gilev-Test: </font></font><br><div class="scrollable-table"><table><tbody><tr><th>  Anzeige </th><th>  <nobr>MS SQL</nobr> </th><th>  PostgreSQL </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> % Unterschied (Verbesserung) in PostgreSQL DBMS im Vergleich zu MS SQL DBMS </font></font></th></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gilev-Synthesetest (Durchschnitt)</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 14.41 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12.55 </font></font></td><td> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-14,82</font></font></b> </td></tr><tr><td>  <nobr>Max</nobr> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geschwindigkeit 1 Stream (Durchschnitt)</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32 404,67 KB / s</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33 472,67 KB / s</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +3.3 </font></font></td></tr><tr><td>  <nobr>Max</nobr> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geschwindigkeit (Durchschnitt)</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51 744 KB / s</font></font></nobr> </td><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86 323,67 KB / s</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +66,83 </font></font></td></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empfohlene Benutzer (Durchschnitt)</font></font></nobr> </td><td>  42 </td><td>  70 </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +66,67 </font></font></td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie aus den Ergebnissen hervorgeht, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verlor PostgreSQL im allgemeinen synthetischen Test durchschnittlich 14,82% der durchschnittlichen Leistung von MS SQL-DBMS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nach den letzten beiden Indikatoren zeigte PostgreSQL jedoch ein signifikant besseres Ergebnis als MS SQL. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spezialisierte Tests f√ºr 1C Accounting:</font></font><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Testbeschreibung </font></font></th><th> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS SQL, sek</font></font></nobr> </th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PostgreSQL, sek </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> % Unterschied (Verbesserung) in PostgreSQL DBMS im Vergleich zu MS SQL DBMS </font></font></th></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skript - "Erster Test"</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1056,45 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1064 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -0,7 </font></font></td></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skript - "Zweiter Test"</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3230.8 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3236.6 </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -0,2 </font></font></td></tr><tr><td> <nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skript - "Dritter Test"</font></font></nobr> </td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1707,45 </font></font></td><td> 1738,8 </td><td> -1,8 </td></tr><tr><td> <nobr> ‚Äî ¬´ ¬ª (4 )</nobr> </td><td> 1859,1 </td><td> 1864,9 </td><td> -0,3 </td></tr><tr><td>       </td><td>  30 </td><td>  22 </td><td> +26,7 </td></tr><tr><td>         01.01.2018  31.12.2018 </td><td> 138,5 </td><td> 164,5 </td><td> -15,8 </td></tr><tr><td>         </td><td> 316 </td><td>  397 </td><td> -20,4 </td></tr><tr><td>       *.dt </td><td>  87 </td><td>  87 </td><td>  0 </td></tr><tr><td>       *.dt </td><td>  201 </td><td>  207 </td><td> -2,9 </td></tr><tr><td>   ¬´    2018 . </td><td>  78 </td><td> 64,5 </td><td> +17,3 </td></tr></tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie aus den Ergebnissen hervorgeht, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funktioniert 1C Accounting mit MS SQL und PostgreSQL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit den oben angegebenen Einstellungen </font><b><font style="vertical-align: inherit;">ungef√§hr gleich</font></b><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In beiden F√§llen funktionierte das DBMS stabil. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nat√ºrlich m√ºssen Sie m√∂glicherweise sowohl vom DBMS als auch vom Betriebssystem und vom Dateisystem eine subtilere Optimierung vornehmen. Alles wurde w√§hrend der Ausstrahlung von Ver√∂ffentlichungen erledigt, die besagten, dass die Produktivit√§t beim Wechsel von MS SQL zu PostgreSQL erheblich oder in etwa gleich hoch sein w√ºrde. Dar√ºber hinaus wurden bei diesen Tests eine Reihe von Ma√ünahmen ergriffen, um das Betriebssystem und das Dateisystem f√ºr CentOS selbst zu optimieren, die oben beschrieben wurden.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist erw√§hnenswert, dass der Gilev-Test f√ºr PostgreSQL viele Male ausgef√ºhrt wurde - die besten Ergebnisse werden erzielt. </font><font style="vertical-align: inherit;">Der Gilev-Test wurde dreimal unter MS SQL ausgef√ºhrt, sodass keine Optimierung unter MS SQL durchgef√ºhrt wurde. </font><font style="vertical-align: inherit;">Alle nachfolgenden Versuche waren, den Elefanten zu den MS SQL-Metriken zu bringen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem der optimale Unterschied im Gilev-Synthesetest zwischen MS SQL und PostgreSQL erreicht worden war, wurden spezielle Tests f√ºr das oben beschriebene 1C-Rechnungswesen durchgef√ºhrt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die allgemeine Schlussfolgerung lautet, dass </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C Accounting</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> trotz der erheblichen Leistungseinbu√üen beim Gilev-Synthesetest von PostgreSQL DBMS in Bezug auf MS SQL mit den oben angegebenen Einstellungen </font><b><font style="vertical-align: inherit;">sowohl auf MS SQL DBMS als auch auf PostgreSQL DBMS installiert werden kann</font></b><font style="vertical-align: inherit;"> .</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bemerkungen </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es sollte sofort beachtet werden, dass diese Analyse nur durchgef√ºhrt wurde, um die 1C-Leistung in verschiedenen DBMS zu vergleichen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Analyse und Schlussfolgerung sind nur f√ºr 1C Accounting unter den oben beschriebenen Bedingungen und Softwareversionen korrekt. Basierend auf der erhaltenen Analyse ist es unm√∂glich, genau zu schlie√üen, was mit anderen Einstellungen und Softwareversionen sowie mit einer anderen 1C-Konfiguration passieren wird. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Gilev-Testergebnis legt jedoch nahe, dass bei allen Konfigurationen von 1C Version 8.3 und h√∂her bei korrekten Einstellungen der maximale Leistungsabfall f√ºr PostgreSQL-DBMS im Vergleich zu MS SQL-DBMS wahrscheinlich nicht mehr als 15% betr√§gt. Es ist auch zu ber√ºcksichtigen, dass detaillierte Tests f√ºr einen genauen Vergleich viel Zeit und Ressourcen erfordern. Auf dieser Grundlage k√∂nnen wir eine wahrscheinlichere Annahme machen, dass</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C Version 8.3 und h√∂her kann</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit einem maximalen Leistungsverlust von bis zu 15% </font><b><font style="vertical-align: inherit;">von MS SQL auf PostgreSQL migriert werden</font></b><font style="vertical-align: inherit;"> . Es gab keine objektiven Hindernisse f√ºr den √úbergang, bis diese 15% m√∂glicherweise nicht auftreten, und im Falle ihrer Manifestation reicht es aus, bei Bedarf nur ein wenig leistungsst√§rkere Ausr√ºstung zu kaufen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist auch wichtig zu beachten, dass die getesteten Datenbanken klein waren, d. H. Deutlich weniger als 100 GB Datengr√∂√üe, und die maximale Anzahl gleichzeitig laufender Threads 4 betrug. Dies bedeutet, dass f√ºr gro√üe Datenbanken, deren Gr√∂√üe signifikant gr√∂√üer als 100 GB ist (z. B. etwa 1 TB). sowie f√ºr Datenbanken mit intensiven Zugriffen (Dutzende und Hunderte von gleichzeitig aktiven Fl√ºssen) k√∂nnen diese Ergebnisse falsch sein.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√ºr eine objektivere Analyse wird es in Zukunft hilfreich sein, den ver√∂ffentlichten MS SQL Server 2019 Developer und PostgreSQL 12 zu vergleichen, die auf demselben CentOS-Betriebssystem installiert sind, sowie wenn MS SQL auf der neuesten Version von Windows Server OS installiert ist. Jetzt bringt niemand PostgreSQL unter Windows, sodass der Leistungsabfall von PostgreSQL-DBMS sehr bedeutend sein wird.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nat√ºrlich spricht der Gilev-Test allgemein √ºber die Leistung und nicht nur f√ºr 1C. Im Moment ist es jedoch noch zu fr√ºh zu sagen, dass das MS SQL DBMS immer deutlich besser sein wird als das PostgreSQL DBMS, da es nicht gen√ºgend Fakten gibt. Um diese Aussage zu best√§tigen oder zu widerlegen, m√ºssen Sie eine Reihe anderer Tests durchf√ºhren. F√ºr .NET m√ºssen Sie beispielsweise sowohl atomare Aktionen als auch komplexe Tests schreiben, diese wiederholt und unter verschiedenen Bedingungen ausf√ºhren, die Ausf√ºhrungszeit festlegen und den Durchschnittswert ermitteln. Vergleichen Sie dann diese Werte. Dies wird eine objektive Analyse sein. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Moment sind wir nicht bereit, eine solche Analyse durchzuf√ºhren, aber in Zukunft ist es durchaus m√∂glich, sie durchzuf√ºhren. Dann werden wir detaillierter beschreiben, unter welchen Operationen PostgreSQL besser als MS SQL ist und wie viel in Prozent und wo MS SQL besser als PostgreSQL ist und wie viel in Prozent.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au√üerdem wurden in unserem Test keine Optimierungsmethoden f√ºr MS SQL angewendet, die hier beschrieben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Vielleicht hat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieser Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nur vergessen, die Windows-Datentr√§gerindizierung zu deaktivieren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Vergleich zweier DBMS sollte ein weiterer wichtiger Punkt beachtet werden: PostgreSQL DBMS ist kostenlos und offen, w√§hrend MS SQL DBMS bezahlt wird und den Quellcode geschlossen hat.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetzt auf Kosten des Gilev-Tests. Au√üerhalb der Tests wurden Spuren f√ºr den synthetischen Test (den ersten Test) und f√ºr alle anderen Tests entfernt. Der erste Test fragt haupts√§chlich sowohl atomare Operationen (Einf√ºgen, Aktualisieren, L√∂schen und Lesen) als auch komplexe (mit Bezug auf mehrere Tabellen sowie das Erstellen, √Ñndern und L√∂schen von Tabellen in der Datenbank) mit unterschiedlichen Mengen an Verarbeitungsdaten ab. Daher kann der Gilev-Synthesetest als recht objektiv angesehen werden, um die durchschnittliche einheitliche Leistung zweier Umgebungen (einschlie√ülich DBMS) relativ zueinander zu vergleichen. Die absoluten Werte selbst sagen nichts aus, aber ihr Verh√§ltnis zweier verschiedener Medien ist durchaus objektiv.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auf Kosten anderer Gilev-Tests. </font><font style="vertical-align: inherit;">Die Ablaufverfolgung zeigt, dass die maximale Anzahl von Threads 7 betrug, die Schlussfolgerung zur Anzahl der Benutzer jedoch mehr als 50. Auf Anfrage ist auch nicht ganz klar, wie andere Indikatoren berechnet werden. </font><font style="vertical-align: inherit;">Daher sind die √ºbrigen Tests nicht objektiv und √§u√üerst unterschiedlich und ungef√§hr. </font><font style="vertical-align: inherit;">Nur spezielle Tests, die nicht nur die Besonderheiten des Systems selbst, sondern auch die Arbeit der Benutzer selbst ber√ºcksichtigen, liefern genauere Werte.</font></font><br><br><h3>  Danksagung </h3><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºhrte 1C-Setup durch und startete Gilev-Tests und leistete auch einen wesentlichen Beitrag zur Erstellung dieser Ver√∂ffentlichung: </font></font><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Roman Buts - Teamleiter 1C </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexander Gryaznov - 1C Programmierer </font></font></li></ul></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fortis-Kollegen, die einen wesentlichen Beitrag zur Optimierung der Optimierung f√ºr CentOS, PostgreSQL usw. geleistet haben, aber inkognito bleiben wollten </font></font></li></ul><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besonderer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dank geht auch an </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;">uaggster</font></a><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BP1988</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr einige Ratschl√§ge zu MS SQL und Windows.</font></font><br><br><h3>  Nachwort </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auch eine merkw√ºrdige Analyse wurde in diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel durchgef√ºhrt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und welche Ergebnisse hatten Sie und wie haben Sie getestet?</font></font><br><br><h3>  Quellen </h3><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL 10.9-Dokumentation</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Postgres Pro Standard 10.7.1 Dokumentation</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C Battle: PostgreSQL 9.10 gegen MS SQL 2016</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gilev-Test</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anhang I. Konfigurieren von Postgres Pro f√ºr 1C-L√∂sungen</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cybertec PostgreSQL-Konfigurator</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL vs MS SQL f√ºr 1C</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grundlagen zum Einstellen von Checkpoints</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL f√ºr hohe Leistung konfigurieren</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilya Kosmodemyansky: ‚ÄûLinux-Tuning zur Verbesserung der PostgreSQL-Leistung‚Äú</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie PostgreSQL mit einer Festplatte funktioniert / Ilya Kosmodemyansky (PostgreSQL Consulting)</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergleich der 1C-Leistung mit PostgreSQL und MS SQL</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> PostgreSQL    1: .</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de457602/">https://habr.com/ru/post/de457602/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de457582/index.html">Schwei√ü, Tr√§nen und Zeiterfassung - wie wir die Rentabilit√§t des Unternehmens gesteigert haben</a></li>
<li><a href="../de457588/index.html">Barcamp - die erste √∂ffentliche Veranstaltung im Dorf</a></li>
<li><a href="../de457592/index.html">Das ist alles, was nach Ihnen √ºbrig bleibt: forensische Artefakte der Troldesh-Ransomware (Shade)</a></li>
<li><a href="../de457596/index.html">OSDay 19 oder warum die C-Sprache noch lebt</a></li>
<li><a href="../de457600/index.html">Headsets - √úbersicht Snom A150, Snom A100M und D.</a></li>
<li><a href="../de457606/index.html">Alan Kay: Was kann man als das Erstaunlichste bezeichnen, was Computer m√∂glich gemacht haben?</a></li>
<li><a href="../de457608/index.html">So visualisieren Sie Daten zu einer √ºberzeugenden Geschichte</a></li>
<li><a href="../de457610/index.html">Evil Parcel Schwachstellenanalyse</a></li>
<li><a href="../de457612/index.html">Wie kann die LZ4-Dekomprimierung in ClickHouse beschleunigt werden?</a></li>
<li><a href="../de457614/index.html">Geheimnisse der Arbeitssuche im Ausland bei einem praktizierenden Headhunter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>