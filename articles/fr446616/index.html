<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚§µÔ∏è üëπ üëßüèæ Comment nous avons fait du cloud FaaS √† l'int√©rieur de Kubernetes et gagn√© au Tinkoff Hackathon üôã üêÜ üòÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Depuis l'ann√©e derni√®re, des hackathons ont commenc√© √† √™tre organis√©s dans notre entreprise. Le premier concours de ce type a √©t√© un grand succ√®s, nou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons fait du cloud FaaS √† l'int√©rieur de Kubernetes et gagn√© au Tinkoff Hackathon</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/446616/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/vv/wn/yq/vvwnyq0yqhqv9trmkwnbeoop48s.jpeg" width="100%" height="100%"></div><br>  Depuis l'ann√©e derni√®re, des hackathons ont commenc√© √† √™tre organis√©s dans notre entreprise.  Le premier concours de ce type a √©t√© un grand succ√®s, nous en avons parl√© dans l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> .  Le deuxi√®me hackathon a eu lieu en f√©vrier 2019 et n'a pas √©t√© moins r√©ussi.  L'organisateur a r√©cemment <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit</a> sur les objectifs de ce dernier. <br><br>  Les participants se sont vu confier une t√¢che assez int√©ressante en toute libert√© dans le choix d'une pile technologique pour sa mise en ≈ìuvre.  Il √©tait n√©cessaire de mettre en ≈ìuvre une plate-forme de d√©cision pour un d√©ploiement pratique des fonctions de notation des clients qui pourraient fonctionner sur un flux rapide d'applications, r√©sister √† de lourdes charges, et le syst√®me lui-m√™me √©tait facilement √©volutif. <br><br>  La t√¢che n'est pas anodine et peut √™tre r√©solue de plusieurs mani√®res, comme nous l'avons vu dans la d√©monstration des pr√©sentations finales des projets des participants.  Il y avait 6 √©quipes de 5 personnes au hackathon, tous les participants avaient de bons projets, mais notre plateforme s'est av√©r√©e √™tre la plus comp√©titive.  Nous avons eu un projet tr√®s int√©ressant, dont je voudrais parler dans cet article. <a name="habracut"></a><br><br>  Notre solution est une plate-forme bas√©e sur une architecture sans serveur √† l'int√©rieur de Kubernetes, ce qui r√©duit le temps n√©cessaire pour apporter de nouvelles fonctionnalit√©s √† la production.  Il permet aux analystes d'√©crire du code dans un environnement qui leur convient et de le d√©ployer dans la prod sans la participation d'ing√©nieurs et de d√©veloppeurs. <br><br><h2>  Qu'est-ce que la notation? </h2><br>  Tinkoff.ru, comme de nombreuses entreprises modernes, a un score client.  La notation est un syst√®me d'√©valuation des clients bas√© sur des m√©thodes statistiques d'analyse des donn√©es. <br><br>  Par exemple, un client nous demande de lui accorder un pr√™t ou d'ouvrir un compte IP avec nous.  Si nous pr√©voyons de lui accorder un pr√™t, alors vous devez √©valuer sa solvabilit√©, et si le compte est du capital-investissement, alors vous devez √™tre s√ªr que le client n'effectuera pas de transactions frauduleuses. <br><br>  Ces d√©cisions sont bas√©es sur des mod√®les math√©matiques qui analysent √† la fois les donn√©es de l'application elle-m√™me et les donn√©es de notre stockage.  En plus de la notation, des m√©thodes statistiques similaires peuvent √©galement √™tre utilis√©es dans le travail du service pour g√©n√©rer des recommandations individuelles sur de nouveaux produits pour nos clients. <br><br>  La m√©thode d'une telle √©valuation peut recevoir une vari√©t√© de donn√©es d'entr√©e.  Et √† un moment donn√©, nous pouvons ajouter un nouveau param√®tre √† l'entr√©e, ce qui, selon l'analyse des donn√©es historiques, augmentera la conversion de l'utilisation du service. <br><br>  Nous stockons beaucoup de donn√©es sur les relations avec les clients et le volume de ces informations est en constante augmentation.  Pour que la notation fonctionne, le traitement des donn√©es n√©cessite √©galement des r√®gles (ou des mod√®les math√©matiques) qui vous permettent de d√©cider rapidement qui approuver la demande, qui refuser et qui d'autre offrir quelques produits pour √©valuer son int√©r√™t potentiel. <br><br>  Pour cette t√¢che, nous utilisons d√©j√† le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">syst√®me de</a> prise de d√©cision sp√©cialis√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IBM WebSphere ILOG JRules BRMS</a> , qui, sur la base des r√®gles d√©finies par les analystes, les technologues et les d√©veloppeurs, d√©cide d'approuver ou non un produit bancaire particulier √† un client. <br><br>  Il existe de nombreuses solutions pr√™tes √† l'emploi sur le march√©, √† la fois des mod√®les de notation et des syst√®mes de prise de d√©cision eux-m√™mes.  Nous utilisons l'un de ces syst√®mes dans notre entreprise.  Mais l'entreprise se d√©veloppe, se diversifie, le nombre de clients et le nombre de produits propos√©s augmentent, et parall√®lement, des id√©es √©mergent sur la mani√®re d'am√©liorer le processus d√©cisionnel existant.  Certes, les personnes travaillant avec le syst√®me existant ont de nombreuses id√©es sur la fa√ßon de le rendre plus simple, meilleur, plus pratique, mais parfois des id√©es de l'ext√©rieur sont utiles.  Afin de collecter des id√©es solides, un nouveau Hackathon a √©t√© organis√©. <br><br><h2>  T√¢che </h2><br>  Le hackathon a eu lieu le 23 f√©vrier.  Les participants se sont vus proposer une mission de combat: d√©velopper un syst√®me de prise de d√©cision, qui devait remplir un certain nombre de conditions. <br><br>  On nous a expliqu√© le fonctionnement du syst√®me existant et les difficult√©s rencontr√©es lors de son fonctionnement, ainsi que les objectifs commerciaux que la plate-forme en d√©veloppement devrait poursuivre.  Le syst√®me devrait avoir un d√©lai de commercialisation rapide des r√®gles en cours d'√©laboration afin que le code de travail des analystes entre en production le plus rapidement possible.  Et pour le flux entrant de demandes, le temps de prise de d√©cision devrait tendre au minimum.  En outre, le syst√®me d√©velopp√© devrait √™tre en mesure de faire des ventes crois√©es afin de donner au client la possibilit√© d'acheter d'autres produits de la soci√©t√© s'ils sont approuv√©s par nous et un int√©r√™t potentiel de la part du client. <br><br>  Il est clair qu'en une nuit, il est impossible d'√©crire un projet pr√™t √† publier qui entrera certainement en production, et l'ensemble du syst√®me est assez difficile √† couvrir, nous avons donc √©t√© invit√©s √† en mettre en ≈ìuvre au moins une partie.  Un certain nombre d'exigences ont √©t√© √©tablies que le prototype doit satisfaire.  On pourrait essayer de couvrir toutes les exigences dans leur ensemble et d'√©laborer en d√©tail des sections individuelles de la plate-forme d√©velopp√©e. <br><br>  En ce qui concerne la technologie, tous les participants ont eu une totale libert√© de choix.  Il √©tait possible d'utiliser tous les concepts et technologies: streaming de donn√©es, apprentissage automatique, sourcing d'√©v√©nements, big data et autres. <br><br><h2>  Notre d√©cision </h2><br>  Apr√®s une petite session de brainstorming, nous avons d√©cid√© que la solution FaaS serait id√©ale pour la t√¢che. <br><br>  Pour cette solution, il √©tait n√©cessaire de trouver un cadre sans serveur adapt√© √† la mise en ≈ìuvre des r√®gles du syst√®me d√©cisionnel d√©velopp√©.  √âtant donn√© que Kubernetes est activement utilis√© dans la gestion des infrastructures √† Tinkoff, nous avons examin√© plusieurs solutions pr√™tes √† l'emploi bas√©es sur celui-ci, j'en parlerai plus tard. <br><br>  Pour trouver la solution la plus efficace, nous avons regard√© le produit d√©velopp√© √† travers les yeux de ses utilisateurs.  Les principaux utilisateurs de notre syst√®me sont des analystes impliqu√©s dans l'√©laboration de r√®gles.  Les r√®gles doivent √™tre d√©ploy√©es sur le serveur ou, comme dans notre cas, d√©ploy√©es sur le cloud pour une prise de d√©cision ult√©rieure.  Du point de vue de l'analyste, le flux de travail est le suivant: <br><br><ol><li>  L'analyste √©crit un script, une r√®gle ou un mod√®le ML bas√© sur les donn√©es du r√©f√©rentiel.  Dans le cadre du hackathon, nous avons d√©cid√© d'utiliser Mongodb, mais le choix du syst√®me de stockage n'est pas important ici. </li><li>  Apr√®s avoir test√© les r√®gles d√©velopp√©es sur les donn√©es historiques, l'analyste verse son code dans le panneau d'administration. </li><li>  Afin d'assurer la gestion des versions, tout le code ira aux r√©f√©rentiels Git. </li><li>  Gr√¢ce au panneau d'administration, il sera possible de d√©ployer le code dans le cloud en tant que module fonctionnel sans serveur distinct. </li></ol><br>  Les donn√©es source des clients doivent passer par un service d'enrichissement sp√©cialis√©, con√ßu pour enrichir la demande initiale avec les donn√©es du r√©f√©rentiel.  Il √©tait important de mettre en ≈ìuvre ce service de mani√®re √† ce qu'il fonctionne avec un r√©f√©rentiel unique (√† partir duquel l'analyste prend des donn√©es lors de l'√©laboration des r√®gles) afin de maintenir une structure de donn√©es unifi√©e. <br><br>  Avant m√™me le hackathon, nous avons d√©cid√© du framework Serverless que nous utiliserons.  Il existe de nombreuses technologies sur le march√© qui mettent en ≈ìuvre cette approche.  Les solutions d'architecture Kubernetes les plus populaires sont Fission, Open FaaS et Kubeless.  Il y a m√™me un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bon article avec leur description et leur analyse comparative</a> . <br><br>  Apr√®s avoir pes√© tous les avantages et les inconv√©nients, nous avons opt√© pour la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fission</a> .  Ce framework Serverless est assez facile √† g√©rer et r√©pond aux exigences de la t√¢che. <br><br>  Pour travailler avec Fission, vous devez comprendre deux concepts de base: la fonction et l'environnement.  La fonction (fonction) est un morceau de code √©crit dans l'un des langages pour lesquels il existe un environnement de fission (environnement).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La liste des environnements impl√©ment√©s dans le cadre de ce cadre</a> comprend Python, JS, Go, JVM et de nombreux autres langages et technologies populaires. <br><br>  Fission est √©galement capable d'ex√©cuter des fonctions, divis√©es en plusieurs fichiers, pr√©emball√©s dans l'archive.  L'op√©ration de fission dans le cluster Kubernetes est fournie par des pods sp√©cialis√©s, qui sont g√©r√©s par le framework lui-m√™me.  Pour interagir avec les modules de cluster, chaque fonction doit se voir attribuer un itin√©raire, auquel vous pouvez transmettre des param√®tres GET ou un corps de requ√™te en cas de requ√™te POST. <br><br>  En cons√©quence, nous avons pr√©vu d'obtenir une solution permettant aux analystes de d√©ployer des scripts de r√®gles d√©velopp√©s sans la participation d'ing√©nieurs et de d√©veloppeurs.  L'approche d√©crite √©limine √©galement la n√©cessit√© pour les d√©veloppeurs de r√©√©crire le code des analystes dans une autre langue.  Par exemple, pour le syst√®me d√©cisionnel actuel que nous utilisons, nous devons √©crire des r√®gles dans des technologies et des langages √† profil √©troit, dont la port√©e est extr√™mement limit√©e, et il existe √©galement une forte d√©pendance √† l'√©gard du serveur d'applications, car tous les projets de r√®gles bancaires sont d√©ploy√©s dans un environnement unique.  Par cons√©quent, pour le d√©ploiement de nouvelles r√®gles, il est n√©cessaire de lib√©rer l'int√©gralit√© du syst√®me. <br><br>  Dans la solution que nous avons propos√©e, il n'est pas n√©cessaire de lib√©rer les r√®gles, le code se d√©ploie facilement en un clic de bouton.  En outre, la gestion de l'infrastructure dans Kubernetes vous permet de ne pas penser √† la charge et √† la mise √† l'√©chelle, ces probl√®mes sont r√©solus d√®s le d√©part.  Et l'utilisation d'un seul entrep√¥t de donn√©es √©limine la n√©cessit√© de comparer les donn√©es en temps r√©el avec les donn√©es historiques, ce qui simplifie le travail de l'analyste. <br><br><h2>  Qu'avons-nous obtenu </h2><br>  Depuis que nous sommes arriv√©s au hackathon avec une solution toute faite (dans nos fantasmes), il nous suffit de convertir toutes nos pens√©es en lignes de code. <br><br>  La cl√© du succ√®s de tout hackathon est la pr√©paration et un plan bien con√ßu.  Par cons√©quent, nous avons tout d'abord d√©cid√© des modules de notre architecture syst√®me et des technologies que nous utiliserons. <br><br>  L'architecture de notre projet √©tait la suivante: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oo/i9/p7/ooi9p7scrauoarhuuwl-nn2rw_0.png"></div><br>  Ce diagramme montre deux points d'entr√©e, un analyste (l'utilisateur principal de notre syst√®me) et un client. <br><br>  Le processus de travail est structur√© comme ceci.  L'analyste d√©veloppe la fonction de r√®gle et la fonction d'enrichissement des donn√©es pour son mod√®le, enregistre son code dans le r√©f√©rentiel Git et d√©ploie son mod√®le dans le cloud via l'application de l'administrateur.  Consid√©rez comment la fonction √©tendue sera appel√©e et prenez des d√©cisions sur les demandes entrantes des clients: <br><br><ol><li>  Le client remplissant un formulaire sur le site envoie sa demande au responsable du traitement.  Une application arrive √† l'entr√©e du syst√®me, selon laquelle une d√©cision doit √™tre prise, et est enregistr√©e dans la base de donn√©es dans sa forme originale. </li><li>  Ensuite, une demande brute est envoy√©e pour enrichissement, si n√©cessaire.  Vous pouvez compl√©ter la demande initiale avec des donn√©es provenant √† la fois de services externes et du r√©f√©rentiel.  La requ√™te riche re√ßue est √©galement stock√©e dans la base de donn√©es. </li><li>  La fonction analytique est lanc√©e, qui re√ßoit une requ√™te enrichie en entr√©e et donne une d√©cision, qui est √©galement enregistr√©e dans le r√©f√©rentiel. </li></ol><br>  En tant que stockage dans notre syst√®me, nous avons d√©cid√© d'utiliser MongoDB en vue du stockage document√© des donn√©es sous forme de documents JSON, car les services d'enrichissement, y compris la demande initiale, ont agr√©g√© toutes les donn√©es via des contr√¥leurs REST. <br><br>  Nous avons donc eu une journ√©e pour mettre en ≈ìuvre la plateforme.  Nous avons assez bien r√©parti les r√¥les, chaque membre de l'√©quipe avait son propre domaine de responsabilit√© dans notre projet: <br><br><ol><li>  Le panneau d'administration frontal pour le travail de l'analyste √† travers lequel il pouvait t√©l√©charger les r√®gles √† partir du syst√®me de contr√¥le de version des scripts √©crits, choisir les options pour enrichir les donn√©es d'entr√©e et modifier les scripts de r√®gles en ligne. </li><li>  Un panneau d'administration backend qui inclut une API REST pour l'int√©gration frontale et VCS. </li><li>  Mise en place d'une infrastructure dans Google Cloud et d√©veloppement d'un service d'enrichissement des donn√©es sources. </li><li>  Le module d'int√©gration de l'application d'administration avec le framework Serverless pour le d√©ploiement ult√©rieur des r√®gles. </li><li>  Scripts de r√®gles pour tester la sant√© de l'ensemble du syst√®me et agr√©gation d'analyses pour les applications entrantes (d√©cisions prises) pour la d√©monstration finale. </li></ol><br>  Commen√ßons dans l'ordre. <br><br>  Notre frontend a √©t√© √©crit en Angular 7 √† l'aide du kit d'interface utilisateur bancaire.  La version finale du panneau d'administration √©tait la suivante: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/be/md/inbemdg9o2fz-5mlgpr2p1s3re8.png"></div><br>  Comme il n'y avait pas beaucoup de temps, nous avons essay√© d'impl√©menter uniquement la fonctionnalit√© cl√©.  Pour d√©ployer une fonction dans le cluster Kubernetes, il √©tait n√©cessaire de s√©lectionner un √©v√©nement (un service pour lequel vous devez d√©ployer une r√®gle dans le cloud) et de coder le code de la fonction qui impl√©mente la logique de d√©cision.  Pour chaque d√©ploiement de la r√®gle pour le service s√©lectionn√©, nous avons √©crit un journal de cet √©v√©nement.  Dans le panneau d'administration, vous pouvez voir les journaux de tous les √©v√©nements. <br><br>  Tout le code de fonction √©tait stock√© dans un r√©f√©rentiel Git distant, qui devait √©galement √™tre d√©fini dans le panneau d'administration.  Pour versionner le code, toutes les fonctions ont √©t√© stock√©es dans diff√©rentes branches du r√©f√©rentiel.  Le panneau d'administration offre √©galement la possibilit√© d'apporter des ajustements aux scripts √©crits afin qu'avant de d√©ployer une fonction en production, vous puissiez non seulement v√©rifier le code √©crit, mais √©galement apporter les modifications n√©cessaires. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oe/8l/qz/oe8lqzwko6llsz8ch98pgqqo67m.png" width="90%" height="90%"></div><br>  En plus des fonctions des r√®gles, nous avons √©galement r√©alis√© la possibilit√© d'un enrichissement √©tape par √©tape des donn√©es source √† l'aide des fonctions d'enrichissement, dont le code comprenait √©galement des scripts dans lesquels vous pouviez vous rendre √† l'entrep√¥t de donn√©es, appeler des services tiers et effectuer des calculs pr√©liminaires.  Pour d√©montrer notre solution, nous avons calcul√© le signe du zodiaque du client qui a quitt√© l'application et d√©termin√© son op√©rateur mobile √† l'aide d'un service REST tiers. <br><br>  Le backend de la plateforme a √©t√© √©crit en Java et impl√©ment√© en tant qu'application Spring Boot.  Pour stocker les donn√©es d'administration, nous avions initialement pr√©vu d'utiliser Postgres, mais, dans le cadre du hackathon, nous avons d√©cid√© de nous limiter √† un simple H2, afin de gagner du temps.  Sur le back-end, l'int√©gration avec Bitbucket a √©t√© impl√©ment√©e pour versionner les fonctions d'enrichissement des requ√™tes et les scripts de r√®gles.  Pour s'int√©grer aux r√©f√©rentiels Git distants, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">biblioth√®que JGit a √©t√© utilis√©e</a> , qui est une sorte de wrapper sur les commandes CLI qui vous permet d'ex√©cuter toutes les instructions git √† l'aide d'une interface de programme pratique.  Nous avions donc deux r√©f√©rentiels distincts, pour les fonctions et r√®gles d'enrichissement, et tous les scripts sont dispos√©s dans des r√©pertoires.  Gr√¢ce √† l'interface utilisateur, il √©tait possible de s√©lectionner le dernier script de validation d'une branche de r√©f√©rentiel arbitraire.  Lorsque vous apportez des modifications au code via le panneau d'administration, des validations du code modifi√© ont √©t√© cr√©√©es dans les r√©f√©rentiels distants. <br><br>  Pour mettre en ≈ìuvre notre id√©e, nous avions besoin d'une infrastructure adapt√©e.  Nous avons d√©cid√© de d√©ployer notre cluster Kubernetes dans le cloud.  Notre choix est Google Cloud Platform.  Le framework sans serveur Fless a √©t√© install√© sur le cluster Kubernetes, que nous avons d√©ploy√© sur Gcloud.  Initialement, le service d'enrichissement des donn√©es sources a √©t√© impl√©ment√© par une application Java distincte envelopp√©e dans un pod √† l'int√©rieur d'un cluster k8s.  Mais apr√®s une d√©monstration pr√©liminaire de notre projet au milieu du hackathon, il nous a √©t√© recommand√© de rendre le service d'Enrichissement plus flexible afin de pouvoir choisir comment enrichir les donn√©es brutes des applications entrantes.  Et nous n'avions pas d'autre choix que de rendre le service d'enrichissement √©galement sans serveur. <br><br>  Pour travailler avec Fission, nous avons utilis√© la CLI de Fission, qui doit √™tre install√©e au-dessus de la CLI de Kubernetes.  Le d√©ploiement de fonctions dans le cluster k8s est assez simple, il vous suffit d'affecter une route interne et une entr√©e pour la fonction afin d'autoriser le trafic entrant si un acc√®s en dehors du cluster est requis.  Le d√©ploiement d'une fonction ne prend g√©n√©ralement pas plus de 10 secondes. <br><br><h2>  Pr√©sentation finale du projet et r√©sum√© </h2><br>  Pour d√©montrer le fonctionnement de notre syst√®me, nous avons plac√© sur un serveur distant un formulaire simple sur lequel vous pouvez demander l'un des produits de la banque.  Pour la demande, vous deviez saisir vos initiales, votre date de naissance et votre num√©ro de t√©l√©phone. <br><br>  Les donn√©es du formulaire client sont all√©es au responsable du traitement, qui a simultan√©ment envoy√© des demandes pour toutes les r√®gles disponibles, pr√©-enrichi les donn√©es selon les conditions donn√©es et les stockant dans un stockage commun.  Au total, nous avons d√©ploy√© trois fonctions d√©cisionnelles pour les applications entrantes et 4 services d'enrichissement des donn√©es.  Apr√®s l'envoi de la candidature, le client a re√ßu notre solution: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/k9/hz/znk9hzgo1inoxsfzmytspbcjzfm.png" width="80%" height="80%"></div><br>  En plus du refus ou de l'approbation, le client a √©galement re√ßu une liste d'autres produits pour lesquels nous avons envoy√© des demandes en parall√®le.  Nous avons donc d√©montr√© la possibilit√© de vente crois√©e sur notre plateforme. <br><br>  Au total, 3 produits bancaires invent√©s √©taient disponibles: <br><ul><li>  Cr√©dit </li><li>  Jouet </li><li>  Hypoth√®que </li></ul><br>  Au cours de chaque d√©monstration, nous avons d√©ploy√© des fonctions pr√©par√©es et des scripts d'enrichissement pour chaque service. <br><br>  Chaque r√®gle avait besoin de son propre ensemble de donn√©es d'entr√©e.  Donc, pour approuver l'hypoth√®que, nous avons calcul√© le signe du zodiaque du client et l'avons associ√© √† la logique du calendrier lunaire.  Pour approuver le jouet, nous avons v√©rifi√© que le client √©tait majeur et pour √©mettre un pr√™t, nous avons envoy√© une demande √† un service externe ouvert pour d√©terminer l'op√©rateur mobile, et nous avons pris une d√©cision √† ce sujet. <br><br>  Nous avons essay√© de rendre notre d√©monstration int√©ressante et interactive, toutes les personnes pr√©sentes pourraient entrer dans notre formulaire et v√©rifier la disponibilit√© de nos services imaginaires pour lui.  Et √† la toute fin de la pr√©sentation, nous avons d√©montr√© l'analyse des demandes re√ßues, o√π il a √©t√© montr√© combien de personnes ont utilis√© notre service, le nombre d'approbations, de refus. <br><br>  Pour collecter des analyses en ligne, nous avons √©galement d√©ploy√© l'outil de BI open source Metabase et l'avons viss√© dans notre r√©f√©rentiel.  La m√©tabase vous permet de cr√©er des √©crans avec des analyses bas√©es sur les donn√©es qui nous int√©ressent, il vous suffit d'enregistrer une connexion √† la base de donn√©es, de s√©lectionner des tables (dans notre cas, des collectes de donn√©es, car nous avons utilis√© MongoDB) et de sp√©cifier les champs qui nous int√©ressent. <br><br>  En cons√©quence, nous avons obtenu un bon prototype de la plateforme de prise de d√©cision, et lors de la d√©monstration, chaque auditeur a pu personnellement tester ses performances.  Une solution int√©ressante, un prototype pr√™t √† l'emploi et une d√©monstration r√©ussie nous ont permis de gagner, malgr√© la forte concurrence face aux autres √©quipes.  Je suis s√ªr que sur le projet de chaque √©quipe, vous pouvez √©galement √©crire un article int√©ressant. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr446616/">https://habr.com/ru/post/fr446616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr446604/index.html">ESET: Nouveaux sch√©mas de livraison de porte d√©rob√©e OceanLotus Cybergroup</a></li>
<li><a href="../fr446606/index.html">V√©rifiez √† quel point vous √™tes bon en technologie additive</a></li>
<li><a href="../fr446608/index.html">Surmonter la troisi√®me loi de la gravit√© organisationnelle</a></li>
<li><a href="../fr446612/index.html">Au moment o√π nous avons commenc√© √† croire en l'innovation</a></li>
<li><a href="../fr446614/index.html">Syst√®mes de fichiers virtuels Linux: pourquoi sont-ils n√©cessaires et comment fonctionnent-ils? Partie 1</a></li>
<li><a href="../fr446620/index.html">DataGrip 2019.1: prise en charge de nouvelles bases de donn√©es, scripts d'initialisation, nouvelles inspections et plus</a></li>
<li><a href="../fr446622/index.html">Nouvelles √† 11</a></li>
<li><a href="../fr446624/index.html">Index dans PostgreSQL - 6 (SP-GiST)</a></li>
<li><a href="../fr446626/index.html">Kaspersky Mobile Talks # 1. Multi-modularit√©</a></li>
<li><a href="../fr446628/index.html">Donnez plus de HighLoad ++: √† partir de lundi √† Saint-P√©tersbourg</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>