<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤙🏿 🥤 ☄️ Java 11: baru dalam String 🧛🏻 🏳️ 👩🏼‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Sejak rilis Java 11, satu hari telah berlalu, dan sekarang ulasan pertama dari rilis sudah mulai muncul. Saya akan mencurahkan artikel ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java 11: baru dalam String</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424539/"> Halo semuanya!  Sejak rilis Java 11, satu hari telah berlalu, dan sekarang ulasan pertama dari rilis sudah mulai muncul.  Saya akan mencurahkan artikel kecil saya untuk yang tidak terlihat untuk rilis resmi dan karena itu kehilangan pembaruan perhatian dari kelas String, terutama karena tidak disebutkan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi resmi Jawa ke-11</a> (dalam hal apa pun, saya tidak menemukan informasi tentang itu). <br><img src="https://habrastorage.org/webt/en/qq/er/enqqerdlb6wmgotarzxtrnio9kc.png"><br>  Memang, jika kita melihat ke kelas String, maka di antara banyak metode yang akrab bagi kita, kita akan menemukan beberapa yang ditandai sebagai <i>"@ sejak 11"</i> .  Dan ya, secara resmi mereka muncul di Jawa hanya kemarin. <br><a name="habracut"></a><br>  Tentu saja, mungkin ada keraguan besar tentang kegunaan masing-masing fungsi, karena fungsi yang paling berguna dan perlu sudah ditulis dalam versi Java sebelumnya, tetapi mereka mungkin berguna bagi seseorang.  Artikel ini keluar pendek, tetapi ini bukan hanya kesalahan saya, tetapi juga kesalahan Oracle - mereka hanya menyertakan 4 (+2) metode dalam rilis, yang, tentu saja, tidak cukup. <br><br>  Mari kita mulai. <br><br><h2>  strip (); </h2><br>  Metode ini menghapus semua spasi sebelum non-spasi pertama dan setelah yang terakhir.  Sebagai contoh: <br><br><pre><code class="java hljs">String withSpaces = <span class="hljs-string"><span class="hljs-string">" a "</span></span>; String withoutSpaces = withSpaces.strip(); String OUTPUT_TEMPLATE = <span class="hljs-string"><span class="hljs-string">"&lt;%s&gt;"</span></span> System.out.println(String.format(OUTPUT_TEMPLATE, withSpaces)); System.out.println(String.format(OUTPUT_TEMPLATE, withoutSpaces));</code> </pre> <br>  Hasil yang ditampilkan di layar adalah: <br><br><pre> <code class="java hljs">original: &lt; a &gt; strip: &lt;a&gt;</code> </pre> <br>  Metode strip () memiliki dua sepupu - stripLeading () dan stripTrailing ().  Yang pertama - menghapus spasi hanya di depan, sebelum yang bukan spasi pertama.  Yang kedua hanya di belakang. <br><br><pre> <code class="java hljs">String leading = withSpaces.stripLeading(); String trailing = withSpaces.stripTrailing();</code> </pre> <br>  Kami mendapatkan hasilnya: <br><br><pre> <code class="java hljs">stripLeading: &lt;a &gt; stripTrailing: &lt; a&gt;</code> </pre> <br><h4>  UPD </h4><br>  Di sini, di komentar mereka menyarankan bahwa tidak ada salahnya untuk melihat apa bedanya dengan metode trim () yang sama, yang pada dasarnya melakukan hal yang sama. <br><br>  Kami melihat.  Memang ada perbedaan. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trim</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> len = value.length; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> st = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((st &lt; len) &amp;&amp; ((value[st] &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>) &lt;= <span class="hljs-string"><span class="hljs-string">' '</span></span>)) { st++; } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ((st &lt; len) &amp;&amp; ((value[len - <span class="hljs-number"><span class="hljs-number">1</span></span>] &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>) &lt;= <span class="hljs-string"><span class="hljs-string">' '</span></span>)) { len--; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((st &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) || (len &lt; value.length)) ? newString(value, st, len - st) : <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }</code> </pre> <br>  Seperti yang kita lihat, dalam implementasi lama, menggunakan dua iterasi, indeks non-ruang pertama dihitung pertama, dan kemudian indeks non-ruang terakhir, dan kemudian baris baru dipotong dan dikembalikan dari data ini.  Hanya celah yang terputus, perhatikan ini. <br><br>  Sekarang lihat metode strip (). <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">strip</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> left = indexOfNonWhitespace(value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (left == value.length) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> right = lastIndexOfNonWhitespace(value); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ((left &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) || (right &lt; value.length)) ? newString(value, left, right - left) : <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexOfNonWhitespace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = value.length; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> left = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (left &lt; length) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch = (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)(value[left] &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch != <span class="hljs-string"><span class="hljs-string">' '</span></span> &amp;&amp; ch != <span class="hljs-string"><span class="hljs-string">'\t'</span></span> &amp;&amp; !Character.isWhitespace(ch)) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } left++; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> left; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastIndexOfNonWhitespace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length = value.length; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> right = length; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span> &lt; right) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> ch = (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)(value[right - <span class="hljs-number"><span class="hljs-number">1</span></span>] &amp; <span class="hljs-number"><span class="hljs-number">0xff</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ch != <span class="hljs-string"><span class="hljs-string">' '</span></span> &amp;&amp; ch != <span class="hljs-string"><span class="hljs-string">'\t'</span></span> &amp;&amp; !Character.isWhitespace(ch)) { <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } right--; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> right; }</code> </pre> <br>  Metode baru menentukan secara umum semua kasus ketika simbol tidak terlihat, apakah itu spasi, tab, dll.  (Mereka yang berharap bisa masuk ke hutan implementasi isWhiteSpace). <br><br>  Dengan demikian, metode baru lebih disukai jika Anda ingin memangkas tidak hanya spasi, tetapi secara umum semua karakter tidak terlihat. <br><br><h2>  isBlank (); </h2><br>  Metode mengembalikan hasil kueri apakah string ini "kosong", tidak mengandung karakter kecuali spasi, tab, dan karakter tak terlihat lainnya. <br><br>  Yaitu, jika kita menjalankan kode ini: <br><br><pre> <code class="java hljs">String blank = <span class="hljs-string"><span class="hljs-string">" "</span></span>; Boolean isBlank = blank.isBlank();</code> </pre> <br>  Hasilnya adalah: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span></code> </pre> <br>  Di dalam metode itu sendiri, ada dua implementasi - untuk karakter Latin dan untuk string yang dikodekan UTF-16. <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isBlank</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> indexOfNonWhitespace() == length(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indexOfNonWhitespace</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isLatin1()) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> StringLatin1.indexOfNonWhitespace(value); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> StringUTF16.indexOfNonWhitespace(value); } }</code> </pre> <br><h2>  ulangi (); </h2><br>  Metode ini menyalin isi string beberapa kali dan mengembalikan hasilnya dalam satu baris. <br><br>  Misalnya, dengan menjalankan kode: <br><br><pre> <code class="java hljs">String sample = <span class="hljs-string"><span class="hljs-string">"(^_^) "</span></span>; String multiple = sample.repeat(<span class="hljs-number"><span class="hljs-number">10</span></span>);</code> </pre> <br>  Kami akan mendapatkan: <br><br><pre> <code class="java hljs">(^_^) (^_^) (^_^) (^_^) (^_^) (^_^) (^_^) (^_^) (^_^) (^_^)</code> </pre> <br>  Jika jumlah iterasi adalah nol, maka string tidak akan mengandung karakter sama sekali. <br><br><pre> <code class="java hljs">String blank = sample.repeat(<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  Hasil: <br><br><pre> <code class="java hljs">length: <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><h2>  baris (); </h2><br>  Akan aneh untuk mengharapkan Oracle merilis pembaruan String tanpa menyertakan implementasi Stream API di kelas.  Dan mereka memang menyertakan fungsionalitas di kelas String. <br><br>  Metode garis mengubah semua garis garis ke Stream yang sesuai.  Ini terlihat seperti ini: <br><br><pre> <code class="java hljs">String lines = <span class="hljs-string"><span class="hljs-string">"Blind Text Generator is a useful tool\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"which provides Lorem Ipsum and a number of alternatives.\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"The number of characters, words, and paragraphs\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"are easily controlled and you can set \n"</span></span> + <span class="hljs-string"><span class="hljs-string">"the font to appreciate how it'll look in your design."</span></span>; lines .lines() .map(l -&gt; <span class="hljs-string"><span class="hljs-string">"next line: "</span></span> + l) .forEach(System.out::println);</code> </pre> <br>  Kami mendapatkan hasilnya: <br><br><pre> <code class="java hljs">next line: Blind Text Generator is a useful tool next line: which provides Lorem Ipsum and a number of alternatives. next line: The number of characters, words, and paragraphs next line: are easily controlled and you can set next line: the font to appreciate how it<span class="hljs-string"><span class="hljs-string">'ll look in your design.</span></span></code> </pre> <br>  Kami mendapat aliran penuh, yang dengannya kami dapat melakukan semua yang biasanya kami lakukan dengan aliran biasa.  Aplikasi untuk ini bisa sangat berbeda, dan saya berharap fitur seperti itu akan diterima dengan hangat oleh para pengembang. <br><br>  Jika Anda melihat ke dalam metode itu sendiri, kita akan melihat bahwa untuk mengkonversi string ke Stream, dua splitter digunakan untuk memilih, tergantung pada pengkodean string. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Stream&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isLatin1() ? StringLatin1.lines(value) : StringUTF16.lines(value); }</code> </pre> <br>  Ini menyimpulkan daftar inovasi rilis di bagian String.  Jika saya melewatkan sesuatu, saya akan senang mengetahuinya dan menambahkannya ke ulasan.  Anda dapat merasakan sendiri semua contoh kode yang disajikan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sumber di github.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424539/">https://habr.com/ru/post/id424539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424519/index.html">Bisakah Beethoven mengirim permintaan penghapusan?</a></li>
<li><a href="../id424525/index.html">Kontrol kecepatan bor mini</a></li>
<li><a href="../id424531/index.html">Layanan Mikro: ukuran penting meskipun Anda memiliki Kubernet</a></li>
<li><a href="../id424533/index.html">"Setiap orang IT yang menghargai diri sendiri terlibat dalam teknologi di waktu luangnya" - 10 pertanyaan untuk programmer, edisi 6</a></li>
<li><a href="../id424537/index.html">Sberbank meluncurkan operator sendiri SberMobile</a></li>
<li><a href="../id424541/index.html">Kisah kegagalan UGJ 2018: cara membuat game yang tidak disukai siapa pun (jangan lakukan itu!)</a></li>
<li><a href="../id424543/index.html">Java 11 / JDK 11: Ketersediaan Umum</a></li>
<li><a href="../id424551/index.html">Hangat dan tabung: lima balalaika tentang teknologi audio magnetik</a></li>
<li><a href="../id424553/index.html">Panduan Node.js, Bagian 6: Loop Peristiwa, Stack Panggilan, Pengatur Waktu</a></li>
<li><a href="../id424555/index.html">Manual Node.js, Bagian 7: Pemrograman Asinkron</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>