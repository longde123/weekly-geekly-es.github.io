<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚛 👏🏻 ❇️ Geheime Nachrichtenübermittlung über Serverprotokolle 👍🏿 👨🏾‍🏫 👩🏿‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gemäß der Definition in Wikipedia ist ein Dead-Drop-Cache ein Verschwörungstool, das dazu dient, Informationen oder einige Objekte zwischen Personen a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Geheime Nachrichtenübermittlung über Serverprotokolle</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/globalsign/blog/465497/">  Gemäß der Definition in Wikipedia ist ein Dead-Drop-Cache ein Verschwörungstool, das dazu dient, Informationen oder einige Objekte zwischen Personen auszutauschen, die einen geheimen Ort verwenden.  Der Punkt ist, dass sich Menschen nie treffen - aber gleichzeitig Informationen austauschen, um die Betriebssicherheit zu gewährleisten. <br><br>  Der Cache sollte keine Aufmerksamkeit erregen.  Daher werden in der Offline-Welt oft diskrete Dinge verwendet: lose Ziegel in der Wand, ein Bibliotheksbuch oder eine Mulde in einem Baum. <br><br>  Im Internet gibt es viele Tools zur Verschlüsselung und Anonymisierung, aber die Tatsache, dass diese Tools verwendet werden, zieht die Aufmerksamkeit auf sich.  Darüber hinaus können sie auf Unternehmens- oder Landesebene gesperrt werden.  Was zu tun ist? <br><a name="habracut"></a><br>  Entwickler Ryan Flowers schlug eine interessante Option vor - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verwenden Sie einen beliebigen Webserver als Cache</a> .  Was macht der Webserver, wenn Sie darüber nachdenken?  Es akzeptiert Anfragen, gibt Dateien aus und schreibt ein Protokoll.  Und er schreibt alle Anfragen, <i>auch falsche,</i> in das Protokoll! <br><br>  Es stellt sich heraus, dass Sie mit jedem Webserver fast jede Nachricht im Protokoll speichern können.  Blumen fragten sich, wie man es benutzt. <br><br>  Er bietet diese Option an: <br><br><ol><li>  Wir nehmen eine Textdatei (geheime Nachricht) und berechnen den Hash (md5sum). <br></li><li>  Wir verschlüsseln es (gzip + uuencode). <br></li><li>  Wir schreiben in das Protokoll durch wissentlich falsche Anfrage an den Server. </li></ol><br><pre><code class="bash hljs">Local: [root@<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> ~]<span class="hljs-comment"><span class="hljs-comment"># md5sum g.txt a8be1b6b67615307e6af8529c2f356c4 g.txt [root@local ~]# gzip g.txt [root@local ~]# uuencode g.txt &gt; g.txt.uue [root@local ~]# IFS=$'\n' ;for x in `cat g.txt.uue| sed 's/ /=+=/g'` ; do echo curl -s "http://domain.com?transfer?g.txt.uue?$x" ;done | sh</span></span></code> </pre> <br>  Um die Datei zu lesen, müssen Sie diese Vorgänge in umgekehrter Reihenfolge ausführen: Dekodieren und entpacken Sie die Datei, überprüfen Sie den Hash (der Hash kann sicher über offene Kanäle übertragen werden). <br><br>  Leerzeichen werden durch <code>=+=</code> sodass die Adresse keine Leerzeichen enthält.  Das Programm, das der Autor CurlyTP genannt hat, verwendet die Base64-Codierung wie in E-Mail-Anhängen.  Die Anfrage wird mit dem Schlüsselwort <code>?transfer?</code>  damit der Empfänger es leicht in den Protokollen finden kann. <br><br>  Was sehen wir in diesem Fall in den Protokollen? <br><br><pre> <code class="plaintext hljs">1.2.3.4 - - [22/Aug/2019:21:12:00 -0400] "GET /?transfer?g.gz.uue?begin-base64=+=644=+=g.gz.uue HTTP/1.1" 200 4050 "-" "curl/7.29.0" 1.2.3.4 - - [22/Aug/2019:21:12:01 -0400] "GET /?transfer?g.gz.uue?H4sICLxRC1sAA2dpYnNvbi50eHQA7Z1dU9s4FIbv8yt0w+wNpISEdstdgOne HTTP/1.1" 200 4050 "-" "curl/7.29.0" 1.2.3.4 - - [22/Aug/2019:21:12:03 -0400] "GET /?transfer?g.gz.uue?sDvdDW0vmWNZiQWy5JXkZMyv32MnAVNgQZCOnfhkhhkY61vv8+rDijgFfpNn HTTP/1.1" 200 4050 "-" "curl/7.29.0"</code> </pre> <br>  Wie bereits erwähnt, müssen Sie zum Empfangen einer geheimen Nachricht Vorgänge in umgekehrter Reihenfolge ausführen: <br><br><pre> <code class="bash hljs">Remote machine [root@server /home/domain/logs]<span class="hljs-comment"><span class="hljs-comment"># grep transfer access_log | grep 21:12| awk '{ print $7 }' | cut -d? -f4 | sed 's/=+=/ /g' &gt; g.txt.gz.uue [root@server /home/domain/logs]# uudecode g.txt.gz.uue [root@server /home/domain/logs]# mv g.txt.gz.uue g.txt.gz [root@server /home/domain/logs]# gunzip g.txt.gz [root@server /home/domain/logs]# md5sum g a8be1b6b67615307e6af8529c2f356c4 g</span></span></code> </pre> <br>  Der Prozess ist einfach zu automatisieren.  Md5sum stimmt überein und der Inhalt der Datei bestätigt, dass alles korrekt dekodiert wurde. <br><br>  Die Methode ist sehr einfach.  „Mit dieser Übung soll nur bewiesen werden, dass Dateien über unschuldige kleine Webanforderungen übertragen werden können. Sie funktioniert auf jedem Webserver mit regulären Textprotokollen.  Tatsächlich ist jeder Webserver ein Cache! “Schreibt Flowers. <br><br>  Natürlich funktioniert die Methode nur, wenn der Empfänger Zugriff auf die Serverprotokolle hat.  Ein solcher Zugang wird jedoch beispielsweise von vielen Hostern gewährt. <br><br><h1>  Wie benutzt man es? </h1><br>  Ryan Flowers sagt, er sei kein Spezialist für Informationssicherheit und werde mögliche Verwendungszwecke von CurlyTP nicht auflisten.  Für ihn ist dies nur ein Beweis dafür, dass die bekannten Werkzeuge, die wir täglich sehen, auf unkonventionelle Weise eingesetzt werden können. <br><br>  Tatsächlich hat diese Methode mehrere Vorteile gegenüber anderen Server- "Caches" wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Digital Dead Drop</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PirateBox</a> : Sie erfordert keine spezielle Konfiguration auf der Serverseite oder spezielle Protokolle - und verursacht keinen Verdacht bei denjenigen, die den Datenverkehr überwachen.  Es ist unwahrscheinlich, dass SORM oder das DLP-System URLs nach komprimierten Textdateien durchsuchen. <br><br>  Dies ist eine Möglichkeit, Nachrichten über Servicedateien zu senden.  Sie können sich daran erinnern, wie einige fortgeschrittene Unternehmen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stellenangebote für Entwickler in HTTP-Headern</a> oder im HTML-Seitencode veröffentlicht haben. <br><br><img src="https://habrastorage.org/webt/sk/3e/c6/sk3ec6stn4pmhwt_y5m--vkm0mi.png"><br><br>  Die Idee war, dass nur Webentwickler ein solches „Osterei“ sehen würden, da eine normale Person die Header oder den HTML-Code nicht anzeigen würde. <br><br><hr><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/rw/hk/1y/rwhk1y-msfqaknqu2kbktqf6g7a.jpeg"></a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/od/n-/xe/odn-xebtl8a5lexzip_kkkezr6s.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465497/">https://habr.com/ru/post/de465497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465487/index.html">Erstellen Sie eine Kubernetes-Plattform auf Pinterest</a></li>
<li><a href="../de465489/index.html">Checkliste für die Produktionsbereitschaft</a></li>
<li><a href="../de465491/index.html">Zabbix + Voximplant: Überwachung mit Anrufen oder wie Sie aufhören, sich Sorgen zu machen, und diese schnell einrichten</a></li>
<li><a href="../de465493/index.html">Schnelle Programmiersprache auf Raspberry Pi</a></li>
<li><a href="../de465495/index.html">So verlieren Sie keinen Datenverkehr beim Wechsel zu einer neuen Domain: case "Vse10"</a></li>
<li><a href="../de465499/index.html">Ein neues Gesetz zur Beschreibung der Entwicklungsgeschwindigkeit von Quantencomputern?</a></li>
<li><a href="../de465501/index.html">Lehren aus 40 Jahren nach dem Start und dem raschen Niedergang der ersten „Killer-Anwendung“</a></li>
<li><a href="../de465503/index.html">Tarantool Cartridge: Zerkleinern des Lua-Backends in drei Zeilen</a></li>
<li><a href="../de465509/index.html">Asya Patrysheva: „Das Internet ist nicht mehr nur ein Netzwerk. Das ist das Leben"</a></li>
<li><a href="../de465511/index.html">Zwischen der ersten und zweiten technischen Supportlinie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>