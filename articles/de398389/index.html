<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úäüèæ üÜò üà∏ KiQ Witzkatze oder wie wir ein sprechendes Spielzeug f√ºr Erwachsene gemacht haben üï∞Ô∏è ‚úåüèº üíÉüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Auf der Welt gibt es unglaublich viele sprechende Spielzeuge f√ºr Kinder, und dies macht nur den Eindruck, dass Erwachsene sich langweilen. Unser Team ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>KiQ Witzkatze oder wie wir ein sprechendes Spielzeug f√ºr Erwachsene gemacht haben</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/398389/"><img src="https://ksr-ugc.imgix.net/assets/013/958/564/d6c061618e04b2f7d81d1d88c07c543d_original.jpg?w=680&amp;fit=max&amp;v=1475469443&amp;auto=format&amp;q=92&amp;s=94a8eb1e4d730d541ec407637a1490ee" alt="Kiq Spielzeug"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Welt gibt es unglaublich viele sprechende Spielzeuge f√ºr Kinder, und dies macht nur den Eindruck, dass Erwachsene sich langweilen. </font><font style="vertical-align: inherit;">Unser Team hat beschlossen, diese Situation zu korrigieren.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Anfang der Geschichte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angefangen hat alles damit, dass </font><font style="vertical-align: inherit;">ein </font><font style="vertical-align: inherit;">Freund von mir und ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netznagelkollege</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> einen hellen Gedanken hatten: Warum nicht nur Kinder, sondern auch Erwachsene, um thematische Witze zu am√ºsieren? Der Vorteil von erschwinglichem und bew√§hrtem Eisen ist heute keine Seltenheit mehr und es kann nicht nur mit Lichtern blinken, sondern auch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lieder singen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Zusammenhang rief er mich an und bot mir an </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, das epische Kunstst√ºck</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><s><font style="vertical-align: inherit;">wiederholen,</font></s><font style="vertical-align: inherit;"> um sicherzustellen, dass ESP8266 MP3-Musik im Netzwerk wiedergibt, damit es gut ist und </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wenn der Hamster in St√ºcke rei√üt, gibt</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es wirklich genug Leistung, die ich in einem kurzen Neujahrsurlaub 2016 gemacht habe:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pW-BoVe46O8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der ESP8266 spielt ein Internetradio auf dem Video ab und gibt den Ton mithilfe des 5-Bit-PWM √ºber einen I2S-Hack aus. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Abspielen von MP3-Radio aus dem Internet verbrauchte jedoch fast die gesamte ESP8266-Ressource und klang "so lala", w√§hrend die Fantasie uns bereits </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mehr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> als nur eine MP3-Radios√§ule anzog. </font><font style="vertical-align: inherit;">Mit diesen kreativen Impulsen gingen wir zu unserem Team und geliebten Koch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vladimir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach einem kleinen Brainstorming, einem detaillierteren Bild und sogar einer </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logischen Kette dessen,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> was wir nicht nur wollen, sondern k√∂nnen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um MP3 durch etwas zu ersetzen, das weniger Ressourcen beansprucht und freier ist, haben wir bei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Halt gemacht </font><font style="vertical-align: inherit;">, das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flexxnn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recht erfolgreich und schnell auf </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;">ESP8266 portiert hat</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br>
</li>
<li>           SD , ..    ,    ESP8266     ‚Äî    .<br>
<br>
</li>
<li> ¬´ ¬ª  - ,     random .     ,        .         Apple Notification Center Service (ANCS),     iPod, iPhone  iPad.<br>
<br>
</li>
<li>     Bluetooth Low Energy (BLE),            .<br>
<br>
</li>
<li>                .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pawn language</a>.<br>
<br>
</li>
<li>       ,           ‚Äî          ¬´¬ª  ¬´¬ª (),   -        .</li>
</ul><br>
<h3> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Urspr√ºnglich wollte ich einen sehr einfachen, aber voll funktionsf√§higen Prototyp auf einem All-in-One-Board </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erstellen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href=""><font style="vertical-align: inherit;">Deshalb haben</font></a><font style="vertical-align: inherit;"> wir uns entschlossen, </font><font style="vertical-align: inherit;">MediaTek </font><font style="vertical-align: inherit;">auf </font><a href=""><font style="vertical-align: inherit;">LinkIt ONE</font></a><font style="vertical-align: inherit;"> zu </font><a href=""><font style="vertical-align: inherit;">testen</font></a><font style="vertical-align: inherit;"> . Und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netsnail war</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fast sofort erfolgreich. Es bestand eine Verbindung zum Telefon und von der SD-Karte wurde MP3 perfekt abgespielt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint - hier ist es Gl√ºck und eine fertige Plattform! Aber dann wurden wir mit der </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">harten Realit√§t der</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Einschr√§nkungen ihres geschlossenen SDK </font><font style="vertical-align: inherit;">konfrontiert </font><font style="vertical-align: inherit;">und die Euphorie ging vorbei. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir stellten fest, dass die fertige Plattform auf einem Board, die alle unsere W√ºnsche erf√ºllte, nicht in der Natur lag, was bedeutet, dass wir sie von Grund auf neu erstellen mussten.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher mussten wir (Februar 2016) den am besten geeigneten BLE-Chip ausw√§hlen, der mit dem ESP8266 verbunden werden musste. </font><font style="vertical-align: inherit;">Als Verbindung zwischen dem ESP8266 und dem BLE-Chip (wir wussten noch nicht, um welche Art von Chip es sich handelt) haben wir uns f√ºr den Standard-TWI (I2C) entschieden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber mit BLE war die Auswahl damals nicht sehr gro√ü:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TI CC2541</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Aufgrund der Architektur von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8051</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hat </font><font style="vertical-align: inherit;">es mir irgendwie nicht sofort gefallen </font><font style="vertical-align: inherit;">, und 8 KB RAM sahen angesichts der Anzahl der BLE-Dienste und -Eigenschaften, die wir f√ºr das Spielzeug ben√∂tigten, vielversprechend einfach aus.</font></font><br>
<br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BCM20732</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - es sah sehr vielversprechend aus, aber tats√§chlich erwies sich das SDK als sehr grob, und der Broadcom WICED Smart BLE-Schl√ºsselbund ist so fehlerhaft, dass ich hier nichts schreibe, um nicht zu schw√∂ren. </font><font style="vertical-align: inherit;">Lassen Sie mich wissen, ob sich die Situation jetzt verbessert hat.</font></font><br>
<br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nRF52832</a> ‚Äî  ,   .      BLE  ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">rekod</a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>, SDK  ,    <i></i> .  BLE ANCS          iPhone    UART.           SEGGER J-Link,       .<br>
<br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nRF51822</a> ‚Äî      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>,     SEGGER  nRF52832.      ‚Äî     nRF52832     nRF51822  !</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen sah das erste B√ºgeleisen </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie eine Tarantelspinne aus</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Es </font></font><br>
<br>
<img src="https://kiqup.com/sites/default/files/images/pic1.jpg" alt="Eisenspinne"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
war sehr traurig, St√∂rungen zu erkennen, die durch das Herunterfallen von Dupont-Kabeln entstanden waren, insbesondere beim nRF51822-Modul, bei dem die Stifte etwas kleiner waren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE-Dienste f√ºr nRF51822- und iOS-Anwendungen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotzdem haben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aff√§re</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und ich </font><font style="vertical-align: inherit;">bereits mit diesem Spinneneisen begonnen, BLE-Dienste und -Funktionen auf nRF51822 zu implementieren, wobei alles in etwa die H√§lfte geteilt wurde:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apple Notification Center Service ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ANCS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - zum Empfangen von Ereignisbenachrichtigungen von einem Smartphone.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apple Current Time Service (CTS) - Wenn die Verbindung hergestellt ist, ben√∂tigt das Spielzeug Zeit vom Telefon.</font></font></li>
<li>HandShake Service (HSS) ‚Äî  , ,   ¬´¬ª        .   ,     lientID      pair     Bluetooth,    ,      .      ,    .</li>
<li>Battery As Service (BAS) ‚Äî       .</li>
<li>Content Service (CONTS) ‚Äî       ,   (     ).</li>
<li>Settings Service (SETTS) ‚Äî       ,      (, )  ..</li>
</ul><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gleichzeitig erstellte MaximKit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eine </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendung f√ºr iOS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://ksr-ugc.imgix.net/assets/013/983/125/8dfbfd651b320b4818fa9ed65ebf67fc_original.jpg?w=680&amp;fit=max&amp;v=1475618060&amp;auto=format&amp;q=92&amp;s=952c7ac032d25e8b72ec4425cad5891d" alt="Bild"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Bild rechts zeigt den Hauptbildschirm der Anwendung. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier </font><font style="vertical-align: inherit;">konnte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flexxnn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unser Leid nicht ertragen, weil Kabel herunterfielen und der </font><font style="vertical-align: inherit;">erste normale Prototyp </font><font style="vertical-align: inherit;">mit einem </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;">Lasereisen</font></a><font style="vertical-align: inherit;"> zu Hause </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hergestellt wurde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://kiqup.com/sites/default/files/images/pic2.jpg" alt="erster mehr oder weniger Prototyp"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Er ist auf dem Foto nicht sichtbar, aber dort befindet sich bereits ein microSD-Kartensteckplatz. </font><font style="vertical-align: inherit;">Auf dem kleinen quadratischen Schal unten - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALC5627</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><font style="vertical-align: inherit;">war der Klang bereits viel besser als beim 5-Bit-PWM √ºber I2S. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">AXP209 wurde</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
f√ºr die Energieverwaltung ausgew√§hlt</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Erm√∂glicht das gleichzeitige Laden und Verwenden des Akkus sowie das √úberwachen des Zustands. </font><font style="vertical-align: inherit;">Der Chip ist sehr verbreitet, hat aber viele Besonderheiten sowohl bei der Programmierung als auch bei den erforderlichen externen Komponenten, den sogenannten </font><font style="vertical-align: inherit;">"Geschirr".</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Magie auf dem ESP8266</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parallel zu dieser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flexxnn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu ESP8266 portierte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Speex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FATFS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , machte Bootloader f√ºr ESP8266 und nRF51822, so dass Sie nicht die aktualisierte Firmware auf dem Draht n√§hen, und es zu tun , </font><font style="vertical-align: inherit;">indem Sie </font><font style="vertical-align: inherit;">auf einer microSD - </font><font style="vertical-align: inherit;">Karte Firmware - </font><font style="vertical-align: inherit;">Dateien setzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pers√∂nlich scheinen ihm Au√üerirdische geholfen zu haben, da er dies alles in ungef√§hr einem Monat getan hat. Aber er gibt nicht zu, mit einem fremden Geist in Kontakt zu sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann der zweite normalere Prototyp: </font></font><br>
<br>
<img src="https://kiqup.com/sites/default/files/images/pic3.jpg" alt="erster mehr oder weniger Prototyp"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber der normalere Prototyp kletterte nicht mehr in ein Stofftier. Und selbst wenn er einstieg, w√ºrde mit einer scharfen Bewegung eines potenziellen Benutzers von einem Spielzeug aus ein ‚ÄûFremder‚Äú klettern, was f√ºr MVP nat√ºrlich nicht akzeptabel war. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus diesem Grund wurde beschlossen, Fachleuten eine Geb√ºhr aufzuerlegen, und dies geschah als Ergebnis:</font></font><br>
<br>
<img src="https://kiqup.com/sites/default/files/images/pic4.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein solches Design passt bereits perfekt in die Katze, obwohl es irgendwie unmenschlich aussieht: </font></font><br>
<br>
<img src="https://kiqup.com/sites/default/files/images/pic5.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig wurden Bef√ºrchtungen best√§tigt, dass Ereignisse vom Telefon ziemlich h√§ufig auftreten k√∂nnten und der Benutzer sich dadurch eher √§rgern als Spa√ü machen w√ºrde. Es war eine flexible Filterlogik erforderlich, die jederzeit leicht ge√§ndert werden kann, ohne zu blinken. Nachdem ich das Material studiert und festgestellt hatte, dass es f√ºr ESP8266 keine schnellen und kompakten Skripte gibt (Lua und microPython sind Interpreter), entschied ich mich, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pawn-Sprache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu portieren </font><font style="vertical-align: inherit;">, die schnell (nur 18-mal langsamer als die native) einen kompakten Bytecode ausf√ºhrt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úbrigens sind Pawn-Quellen C sehr √§hnlich, daher ist es eine Freude, die Skripte zu √§ndern - Sie m√ºssen sie nur in AMX-Bytecode kompilieren und auf die SD-Karte kopieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrugsger√§te. </font><font style="vertical-align: inherit;">Gib vor, iOS auf Android zu sein</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann ‚Äûpl√∂tzlich‚Äú erinnerten wir uns alle daran, dass Android-Handys auf der Welt nicht so klein sind, sondern sogar mehr als Handys mit iOS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen musste ich auf und ab gehen, um zu pr√ºfen, ob wir </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gadgets zum Narren halten und so tun k√∂nnen, als w√§ren</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wir </font><b><font style="vertical-align: inherit;">iOS auf Android,</font></b><font style="vertical-align: inherit;"> damit der ANCS-Dienst nicht von Apple zu unterscheiden ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am Ende hat alles geklappt und nach einer Woche glaubten die Ger√§te (und unsere Katze ist keine Ausnahme) aufrichtig, dass ich ein iPhone mit ANCS-Dienst hatte, das eine Verbindung zu meinem Nexus 5 und sogar zum alten Samsung Galaxy mit Android 4.4 herstellte.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geh Wolke</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da niemand gerne mehrmals einen Witz h√∂rt (Tatsache) und es auch Vorlieben und kulturelle Einschr√§nkungen gibt, wurde f√ºr jeden Benutzer entschieden, eine eindeutige Wiedergabeliste zu erstellen. Zu diesem </font><font style="vertical-align: inherit;">Zweck hat sich die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aff√§re</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Server in der Cloud auseinandergesetzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wie soll man entscheiden, wem es gef√§llt? Das ist richtig - lassen Sie den Benutzer entscheiden! Zu diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zweck habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich eine grundlegende Gestenerkennung am </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">LIS3DH-</font></a><font style="vertical-align: inherit;"> Beschleunigungsmesser </font><font style="vertical-align: inherit;">von STMicroelectronics durchgef√ºhrt. Ich mochte den Witz - ich kippte die Katze, als ob "Ja", ich mochte den Witz nicht - ich kippte zur Seite, als ob "Nein". </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und er f√ºgte ein "Vergissmeinnicht" f√ºr das Telefon hinzu - wenn die BLE-Verbindung verschwindet und der Beschleunigungsmesser Bewegungen erkennt, wird die Katze irgendwohin getragen und das Telefon wurde vergessen.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem der Benutzer ‚Äûpolikal‚Äú und damit seine Pr√§ferenzen festgelegt hat, werden die Informationen an einen Server gesendet, auf dem die ‚ÄûGenome‚Äú von Wiedergabelisten verglichen und neue S√§tze von Witzen f√ºr den Benutzer generiert werden. </font><font style="vertical-align: inherit;">Dies ist jedoch ein Thema f√ºr einen separaten Artikel.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen erwies sich die Unterhaltung als eine hervorragende Plattform, die:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ºber BLE mit dem Telefon kommunizieren und Ereignisbenachrichtigungen erhalten;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommunikation √ºber WLAN und Herunterladen von Inhalten und Firmware-Updates;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speichern und Lesen von Dateien in FAT32 auf microSD;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spiele Witze mit Speex-Codec;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bestimmen Sie die Benutzereinstellungen mithilfe eines Beschleunigungsmessers (Gestenerkennung).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie Wiedergabelisten f√ºr jeden Benutzer basierend auf seinen Vorlieben f√ºr Humor.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was bemerkenswert ist, k√∂nnen ‚Äûsehr intelligente Griffe‚Äú durchaus mit den entsprechenden Stiften verbunden werden (sogar L√∂cher f√ºr die Anschl√ºsse auf der Platine bleiben √ºbrig) und ‚Äûdie Katze weise machen‚Äú, wie es ihnen gef√§llt. </font><font style="vertical-align: inherit;">Dies macht die All-in-One-Plattform f√ºr Geeks attraktiv. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dieser Plattform gingen wir auf Kickstarter und nannten das fertige Spielzeug KiQ. </font><font style="vertical-align: inherit;">Am ersten Tag wurden 40% und jetzt 57% gesammelt. </font><font style="vertical-align: inherit;">Aber das ist eine ganz andere Geschichte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank an alle, die diese Zeile gelesen haben. </font><font style="vertical-align: inherit;">Warten auf interessante Fragen von Ihnen.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de398389/">https://habr.com/ru/post/de398389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de398377/index.html">Was sind physikalische Informationen?</a></li>
<li><a href="../de398379/index.html">Ihr unbemanntes Taxi kommt an</a></li>
<li><a href="../de398381/index.html">Arduino Zeitraffer Roboter Prototyp</a></li>
<li><a href="../de398385/index.html">Illusionen des Gehirns. Die weltweit erste universelle Halluzination</a></li>
<li><a href="../de398387/index.html">Autoangriff: heftiger Kampf</a></li>
<li><a href="../de398391/index.html">"Grau, Schlag, cool ..." oder die Logik der Klimatisierung in einem Smart Home</a></li>
<li><a href="../de398393/index.html">Die gek√ºhlte Nikon D5500a macht atemberaubende Weltraumfotos</a></li>
<li><a href="../de398395/index.html">Wow: F√ºr die Topologie wurde Nobel anstelle von Gravitationswellen angegeben</a></li>
<li><a href="../de398397/index.html">Ultraleichte R√∂ntgenquellen wurden in zwei alten Galaxien gefunden. Ein neues Naturph√§nomen?</a></li>
<li><a href="../de398399/index.html">Auto Digest: Technologien der Gegenwart und Zukunft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>