<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµüèø üë®üèæ‚Äçüè´ üôã La place de l'√©num√©ration dans le monde en mutation d'aujourd'hui üñêüèº ‚ôâÔ∏è üë∞üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Par exemple, nous avons un jeu informatique avec des personnages divers. Le sexe du personnage sera enregistr√© dans le champ genre. Vous pouvez faire ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La place de l'√©num√©ration dans le monde en mutation d'aujourd'hui</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476650/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/-_/hg/es/-_hges4phldz-34_fx8xsxsbdis.jpeg"></div><br><p>  Par exemple, nous avons un jeu informatique avec des personnages divers.  Le sexe du personnage sera enregistr√© dans le champ genre.  Vous pouvez faire de ce champ un entier ou une cha√Æne, mais un bon programmeur s'efforce de rendre inexactible l'√©tat incorrect des objets et, par cons√©quent, tr√®s probablement, commencera l'√©num√©ration pour le sol.  Maintenant, faire un personnage avec le mauvais sexe est tout simplement impossible! </p><br><p>  Et dans le jeu, il y a une base de donn√©es dans laquelle tous les joueurs sont stock√©s, et l√†, vous devez √©galement enregistrer de quel sexe ils sont.  Ce serait bien de rendre impossible pour un personnage avec un sexe incorrect d'√™tre ajout√© √† la base de donn√©es, car non seulement le code fonctionnera avec lui, dans lequel rien sauf enum est fourni pour les sexes, mais aussi pour les personnes vivantes.  Et les gens vivants, comme vous le savez, s'efforcent d'entrer dans la base de donn√©es ce qui n'est pas n√©cessaire pour y √™tre entr√©. </p><a name="habracut"></a><br><p>  Heureusement, en particulier pour de tels cas, dans de nombreux SGBD, il est √©galement possible de cr√©er des colonnes du type enum, limitant ainsi la plage de valeurs que peuvent contenir les donn√©es d'une telle colonne.  De quoi profiter d'un d√©veloppeur exp√©riment√© qui ne veut pas que son projet ne soit pas pour le feng shui. </p><br><p>  Sur le client, le programmeur n'est pas non plus un idiot et sait √©galement que les √©tats incorrects doivent √™tre inexprimables, et pour cela le sexe du personnage doit √™tre √©num√©r√©. </p><br><p>  Parfait! </p><br><p>  Cependant, si vous regardez attentivement, vous pouvez trouver un petit d√©faut, ce qui conduit finalement √† des probl√®mes.  Le champ dans lequel le sol est stock√© n'est pas appel√© sexe, mais sexe, ce qui signifie qu'un concepteur de jeu est d√©j√† s√©lectionn√© pour cela.  T√¥t ou tard, il d√©couvrira qu'il y a sensiblement plus de deux sexes, contrairement aux sexes, et il voudra ajouter le genre GENERIC_TEEN.  Ensuite, tout le monde deviendra stupide. </p><br><h2 id="klienta-nado-postoyanno-obnovlyat">  Le client doit √™tre constamment mis √† jour </h2><br><p>  Les premiers √† tomber sont les gars qui ont √©crit le code client, car des valeurs incorrectes du param√®tre de genre commenceront √† provenir du serveur pour chaque √©ternuement.  Et quand un personnage avec un sexe vient du serveur sur l'existence dont le client ne sait pas, alors le jeu, comme le programmeur le voulait sur le client, ne d√©marre tout simplement pas.  Maintenant, avec l'av√®nement de nouveaux genres, il est n√©cessaire de publier de nouvelles versions de clients et de lancer des mises √† jour forc√©es, que nous aimons tous tellement. </p><br><p>  Sur le serveur enum, c'est bien, car si une valeur inconnue y est trouv√©e, il s'agit clairement d'une erreur qui doit √™tre trouv√©e et corrig√©e, mais sur le client, l'apparition d'une valeur inconnue est une situation r√©guli√®re qui se produira r√©guli√®rement sur des versions obsol√®tes du client, et donc il y a un mal qui doit √™tre √©radiqu√© et d√©truit d√®s que possible. </p><br><h2 id="novyy-kod-ne-smozhet-rabotat-so-staroy-bazoy">  Le nouveau code ne pourra pas fonctionner avec l'ancienne base de donn√©es </h2><br><p>  De plus, selon les recommandations des meilleurs √©leveurs de chiens, le nouveau code devrait pouvoir fonctionner avec l'ancien sch√©ma de donn√©es, et il s'av√®re ici que l'ensemble du syst√®me ne peut s'effondrer que parce qu'un nouveau sexe est ajout√© au code. </p><br><p>  Par cons√©quent, dans la base de donn√©es enum, cela nous d√©range et dans ce cas, nous devons stocker dans le champ des cha√Ænes, ou des entiers, ou quoi que ce soit, dans lequel, si n√©cessaire, vous pouvez √©crire une valeur qui n'est pas fournie √† l'avance. </p><br><p>  Et quelqu'un dira: d'accord, d'accord, cela nuit au client enum, et dans la base de donn√©es, il interf√®re plus qu'il n'aide, mais l'√©num√©ration est tr√®s utile dans le code du serveur.  Il ne proposera pas de supprimer l'√©num√©ration du code sur le serveur?  Sera! </p><br><h2 id="staryy-kod-ne-smozhet-rabotat-s-novoy-bazoy">  L'ancien code ne pourra pas fonctionner avec la nouvelle base de donn√©es </h2><br><p>  Aujourd'hui, il est recommand√© au programmeur non seulement d'√©crire le code afin qu'il fonctionne normalement avec l'ancienne base de donn√©es, mais √©galement de d√©velopper le sch√©ma de donn√©es afin que le code l√©g√®rement obsol√®te puisse √©galement fonctionner normalement avec elle. </p><br><p>  Et si vous utilisez enum sur le serveur pour le sexe, tout s'effondrera √† nouveau, seulement apr√®s qu'il s'est av√©r√© que quelque chose ne va pas avec le nouveau code et que vous devez imm√©diatement tout restaurer √† la version pr√©c√©dente, et les nouveaux genres sont d√©j√† entr√©s dans la base de donn√©es. </p><br><p>  Et par cons√©quent, l'√©num√©ration du code du serveur avec le pas d'un soldat mesur√© va quelque part en direction de la for√™t la plus proche, afin de ne jamais revenir de l√†, car tout ce qui peut d√©truire le syst√®me au mauvais moment est mauvais, et le mal n'a pas sa place dans notre code confortable. </p><br><h2 id="tak-mozhet-zabit-na-enum-i-vsegda-ispolzovat-stroki">  Alors peut-√™tre marteler sur enum et toujours utiliser des cha√Ænes? </h2><br><p>  En bref, comme dirait Winnie l'Ourson - ce sont des sortes d'√©namies erron√©es, et elles provoquent le programmeur √† √©crire le mauvais code!  Dans l'√©num√©ration, vous devez mettre des choses vraiment in√©branlables et fondamentales qui n'ont pas chang√© au fil des ans, et non des genres qui s'ajoutent et disparaissent √† chaque sortie!  Chaque t√¢che a son propre outil, et l'√©num√©ration n'est pas l'outil que vous devez utiliser pour stocker des valeurs, dont le spectre possible est en constante expansion. </p><br><p>  Si une variable ne peut prendre que certaines valeurs pr√©c√©demment connues et que tout ce qui n'est pas inclus dans ces valeurs devrait conduire √† une erreur, alors enum est une bonne id√©e, mais si ce n'est pas le cas, si les valeurs inattendues tombent r√©guli√®rement dans la variable, alors utilisez enum est √©gal √† se tirer une balle dans le pied, et il vaut mieux ne pas le faire, sauf si vous √™tes, bien s√ªr, un masochiste. </p><br><p>  Cette situation particuli√®re est int√©ressante car rien ne laissait pr√©sager l'ajout de nouvelles valeurs √† l'√©num√©ration, sans parler du fait que de nouvelles valeurs appara√Ætront r√©guli√®rement.  Comment savions-nous m√™me qu'il y aurait plus de deux sexes? </p><br><p>  Par cons√©quent, selon le principe KISS, l'√©num√©ration dans la premi√®re √©tape est un bon et bon choix.  Un programmeur exp√©riment√© fera une √©num√©ration et corrigera que lorsqu'une valeur suppl√©mentaire appara√Æt, vous devez ex√©cuter imm√©diatement les √©v√©nements n√©cessaires pour que l'√©num√©ration disparaisse du code. </p><br><p>  Malheureusement, la pratique montre qu'en r√©alit√© quelqu'un d'autre sera impliqu√© dans l'ajout d'un nouveau genre, et sans y r√©fl√©chir √† deux fois, il ajoutera un nouveau sens √† l'√©num√©ration, et cela se calmera.  Donc, en cas de doute, il est pr√©f√©rable de suivre une r√®gle simple: stock√©e quelque part autre que le code - donc, pas un ENUM, et sur ce point. </p><br><h2 id="poluchaetsya-enum-voobsche-ne-dolzhno-byt-v-kode-svyazannom-s-genderami">  Donc, enum ne devrait pas du tout √™tre dans le code li√© au genre? </h2><br><p>  Malgr√© le fait que je viens de le dire, l'√©num√©ration dans le code peut toujours √™tre tr√®s utile, m√™me si elle contient des valeurs qui tombent dans la base de donn√©es.  Il n'est pas seulement n√©cessaire de les utiliser pour stocker les valeurs extraites de la base de donn√©es, il est n√©cessaire de comparer ce qui provient de la base de donn√©es avec la valeur souhait√©e.  Par exemple, lorsqu'un programmeur veut √©crire que si le sexe du personnage est GENERIC_TEEN, il ne peut pas mettre d'alcool dans son inventaire, vous pouvez cr√©er un enum Gender avec la m√©thode value qui renvoie une cha√Æne et √©crire un code qui v√©rifiera si le personnage a un champ gender et Gender.GENERIC_TEEN .value () et il sera bon, car il ne permettra pas au programmeur de faire une erreur au sens du statut. </p><br><h2 id="kod-dolzhen-evolyucionirovat">  Le code doit √©voluer </h2><br><p>  Les d√©cisions qui nous ont bien servis √† un moment donn√© peuvent devenir inconfortables avec le temps.  Et vous devez vous assurer que le code refl√®te l'√©tat actuel du projet, et ne pas √™tre un ensemble de b√©quilles, avec lequel la solution cr√©√©e sur le genou il y a quelques ann√©es, s'√©tend jusqu'√† ¬´ici et maintenant¬ª.  Sinon, ce sera une source in√©puisable de fakap et de lulz pour tous ceux qui sont en quelque sorte li√©s au projet, qu'il s'agisse d'un d√©veloppeur, d'un testeur ou d'un consommateur direct. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476650/">https://habr.com/ru/post/fr476650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476636/index.html">Optimisation de Firebird et Linux pour une base de donn√©es de 691 Go avec plus de 1000 utilisateurs</a></li>
<li><a href="../fr476640/index.html">Protection de Zimbra OSE contre la force brute et les attaques DoS</a></li>
<li><a href="../fr476644/index.html">Couches linguistiques</a></li>
<li><a href="../fr476646/index.html">Fusion √† 3 voies dans werf: d√©ploiement dans Kubernetes avec Helm "sous st√©ro√Ødes"</a></li>
<li><a href="../fr476648/index.html">Lenovo √† FINOPOLIS 2019</a></li>
<li><a href="../fr476656/index.html">26 novembre, Moscou - Alfa JS MeetUP # 3</a></li>
<li><a href="../fr476658/index.html">VPS avec une carte vid√©o (partie 2): capacit√©s informatiques</a></li>
<li><a href="../fr476664/index.html">oktech: Frontend Meetup # 2: mini interviews de conf√©renciers</a></li>
<li><a href="../fr476666/index.html">Biologie pour les programmeurs: comment une approche d'ing√©nierie change le monde</a></li>
<li><a href="../fr476668/index.html">Comment j'ai contr√¥l√© l'ordinateur √† partir du t√©l√©phone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>