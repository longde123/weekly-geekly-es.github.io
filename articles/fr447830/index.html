<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤽🏼 👇🏿 🧔🏽 Le code est vivant et mort. Troisième partie. Code comme texte 🤰🏿 👡 👨🏿‍🤝‍👨🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vous devez lire le code pour accompagner le programme, et plus il est facile de le faire, plus il ressemble à un langage naturel - alors vous y entrer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le code est vivant et mort. Troisième partie. Code comme texte</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447830/"><p>  Vous devez lire le code pour accompagner le programme, et plus il est facile de le faire, plus il ressemble à un langage naturel - alors vous y entrerez plus rapidement et vous vous concentrerez sur l'essentiel. </p><br><p> Dans les deux derniers articles, j'ai montré que des mots soigneusement sélectionnés aident à mieux comprendre l'essence de ce qui est écrit, mais y penser ne suffit pas, car chaque mot existe sous deux formes: comme en soi et comme partie d'une phrase.  Répéter <code>CurrentThread</code> ne se répète pas encore tant que nous ne l'avons pas <em>lu</em> dans le contexte de <code>Thread.CurrentThread</code> . </p><br><p>  Ainsi, guidés par des notes et des mélodies simples, nous allons maintenant voir ce qu'est la musique. </p><a name="habracut"></a><br><h2 id="oglavlenie-cikla">  Table des matières du cycle </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les objets</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Actions et propriétés</a> </li><li>  Code comme texte </li></ol><br><h2 id="kod-kak-tekst">  Code comme texte </h2><br><p>  La plupart des interfaces <em>fluides</em> sont conçues en mettant l'accent sur l'extérieur plutôt que sur l'intérieur, de sorte qu'elles sont si faciles à lire.  Bien sûr, pas gratuitement: le contenu s'affaiblit dans un sens.  Donc, disons, dans le package <code>FluentAssertions</code> , <code>FluentAssertions</code> pouvez écrire: <code>(2 + 2).Should().Be(4, because: "2 + 2 is 4!")</code> , Et, par rapport à la lecture, <code>because</code> air élégant, mais à l'intérieur du <code>Be()</code> , le paramètre <code>error</code> ou <code>errorMessage</code> est plutôt <code>errorMessage</code> . </p><br><p>  À mon avis, ces exemptions ne sont pas importantes.  Lorsque nous convenons que le code est un texte, ses composants cessent de s’appartenir: ils font maintenant partie d’une sorte d’ <em>Ether</em> universel. </p><br><p>  Je vais montrer par des exemples comment de telles considérations deviennent une expérience. </p><br><h3 id="interlocked"> <code>Interlocked</code> </h3> <br><p>  Permettez-moi de vous rappeler le cas <code>Interlocked</code> , que nous sommes <code>Interlocked.CompareExchange(ref x, newX, oldX)</code> d' <code>Interlocked.CompareExchange(ref x, newX, oldX)</code> à <code>Atomically.Change(ref x, from: oldX, to: newX)</code> , en utilisant des noms clairs de méthodes et de paramètres. </p><br><h3 id="exceptwith"> <code>ExceptWith</code> </h3> <br><p>  Type <code>ISet&lt;&gt;</code> a une méthode appelée <code>ExceptWith</code> .  Si vous regardez un appel comme des éléments, <code>items.ExceptWith(other)</code> , vous ne réaliserez pas immédiatement ce qui se passe.  Mais il suffit d'écrire: <code>items.Exclude(other)</code> , car tout se met en place. </p><br><h3 id="getvalueordefault"> <code>GetValueOrDefault</code> </h3> <br><p>  Lorsque vous travaillez avec <code>Nullable&lt;T&gt;</code> appel de <code>x.Value</code> une exception si <code>x</code> est <code>null</code> .  Si vous devez toujours obtenir <code>Value</code> , utilisez <code>x.GetValueOrDefault</code> : c'est soit <code>Value</code> soit la valeur par défaut.  Encombrant. </p><br><p>  L'expression <em>«ou x, ou la valeur par défaut»</em> correspond au <code>x.OrDefault</code> court et élégant. </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>? x = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = x.GetValueOrDefault(); <span class="hljs-comment"><span class="hljs-comment">// ,  .  . var b = x.OrDefault(); //  —  ,   . var c = x.Or(10); //     .</span></span></code> </pre> <br><p>  Avec <code>OrDefault</code> et <code>Or</code> il y a une chose à retenir: lorsque vous travaillez avec un opérateur <code>.?</code>  vous ne pouvez pas écrire quelque chose comme <code>x?.IsEnabled.Or(false)</code> , seulement <code>(x?.IsEnabled).Or(false)</code> (en d'autres termes, l'opérateur <code>.?</code> annule <em>tout</em> le côté droit si <code>null</code> à gauche). </p><br><p>  Le modèle peut être appliqué lorsque vous travaillez avec <code>IEnumerable&lt;T&gt;</code> : </p><br><pre> <code class="cs hljs">IEnumerable&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; numbers = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">// . var x = numbers ?? Enumerable.Empty&lt;int&gt;(); //   . var x = numbers.OrEmpty();</span></span></code> </pre> <br><h3 id="mathmin-i-mathmax">  <code>Math.Min</code> et <code>Math.Max</code> </h3><br><p>  Une idée avec <code>Or</code> peut être développée en types numériques.  Supposons que vous vouliez prendre le nombre maximum de <code>a</code> et <code>b</code> .  Puis on écrit: <code>Math.Max(a, b)</code> ou <code>a &gt; b ? a : b</code>  <code>a &gt; b ? a : b</code> .  Les deux options semblent assez familières, mais ne ressemblent néanmoins pas à un langage naturel. </p><br><p>  Vous pouvez le remplacer par: <code>a.Or(b).IfLess()</code> - <em>prenez</em> <code>a</code> <em>ou</em> <code>b</code> <em>si</em> <code>a</code> <em>inférieur</em> .  Convient à de telles situations: </p><br><pre> <code class="cs hljs">Creature creature = ...; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> damage = ...; <span class="hljs-comment"><span class="hljs-comment">//   . creature.Health = Math.Max(creature.Health - damage, 0); // Fluent. creature.Health = (creature.Health - damage).Or(0).IfGreater(); //   : creature.Health = (creature.Health - damage).ButNotLess(than: 0);</span></span></code> </pre> <br><h3 id="stringjoin"> <code>string.Join</code> </h3> <br><p>  Parfois, vous devez assembler une séquence en chaîne, en séparant les éléments par un espace ou une virgule.  Pour ce faire, utilisez <code>string.Join</code> , par exemple, comme ceci: <code>string.Join(", ", new [] { 1, 2, 3 }); //  "1, 2, 3".</code> <code>string.Join(", ", new [] { 1, 2, 3 }); //  "1, 2, 3".</code>  . </p><br><p>  Un simple <em>"Diviser le nombre de virgules"</em> peut soudainement devenir <em>"Attacher une virgule à chaque numéro de la liste"</em> - ce n'est certainement pas un code sous forme de texte. </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numbers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> [] { <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span> }; <span class="hljs-comment"><span class="hljs-comment">// ""    —  . var x = string.Join(", ", numbers); //    — ! var x = numbers.Separated(with: ", ");</span></span></code> </pre> <br><h3 id="regex"> <code>Regex</code> </h3> <br><p>  Cependant, <code>string.Join</code> est assez inoffensif par rapport à la façon dont <code>Regex</code> parfois utilisé de manière incorrecte et à d'autres fins.  Où vous pouvez vous débrouiller avec un texte simple et lisible, pour une raison quelconque, une entrée trop compliquée est préférable. </p><br><p>  Commençons par un simple - déterminer qu'une chaîne représente un ensemble de nombres: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> id = ...; <span class="hljs-comment"><span class="hljs-comment">// ,  . var x = Regex.IsMatch(id, "^[0-9]*$"); // . var x = id.All(x =&gt; x.IsDigit()); // ! var x = id.IsNumer();</span></span></code> </pre> <br><p>  Un autre cas est de savoir s'il y a au moins un caractère dans la chaîne de la séquence: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> text = ...; <span class="hljs-comment"><span class="hljs-comment">//   . var x = Regex.IsMatch(text, @"["&lt;&gt;[]'"); //   . ( .) var x = text.ContainsAnyOf('"', '&lt;', '&gt;', '[', ']', '\''); //  . var x = text.ContainsAny(charOf: @"["&lt;&gt;[]'");</span></span></code> </pre> <br><p>  Plus la tâche est compliquée, plus la «configuration» de la solution est difficile: pour diviser un enregistrement de <code>"HelloWorld"</code> en quelques mots <code>"Hello World"</code> , quelqu'un au lieu d'un simple algorithme voulait un monstre: </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> text = ...; <span class="hljs-comment"><span class="hljs-comment">//   -   . var x = Regex.Replace(text, "([az](?=[AZ])|[AZ](?=[AZ][az]))", "$1 "); //  . var x = text.PascalCaseWords().Separated(with: " "); //   . var x = text.AsWords(eachStartsWith: x =&gt; x.IsUpper()).Separated(with: " ");</span></span></code> </pre> <br><p>  Sans aucun doute, les expressions régulières sont efficaces et universelles, mais je veux comprendre ce qui se passe à première vue. </p><br><h3 id="substring-i-remove">  <code>Substring</code> - <code>Substring</code> et <code>Remove</code> </h3><br><p>  Il arrive que vous deviez supprimer une partie de la ligne depuis le début ou la fin, par exemple, du <code>path</code> - l'extension <code>.txt</code> , le cas échéant. </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> path = ...; <span class="hljs-comment"><span class="hljs-comment">//    . var x = path.EndsWith(".txt") ? path.Remove(path.Length - "txt".Length) : path; //   . var x = path.Without(".exe").AtEnd;</span></span></code> </pre> <br><p>  Encore une fois, l' <em>action</em> et l' <em>algorithme ont</em> disparu, et une <em>ligne</em> simple <em>a été laissée sans l'extension .exe à la fin</em> . </p><br><p>  Étant donné que la méthode <code>Without</code> doit renvoyer un certain <code>WithoutExpression</code> , ils en demandent un autre: <code>path.Without("_").AtStart</code> et <code>path.Without("Something").Anywhere</code> .  Il est également intéressant qu'une autre expression puisse être construite avec le même mot: <code>name.Without(charAt: 1)</code> - supprime le caractère à l'index 1 et renvoie une nouvelle ligne (utile dans le calcul des permutations).  Et aussi lisible! </p><br><h3 id="typegetmethods"> <code>Type.GetMethods</code> </h3> <br><p>  Pour obtenir des méthodes d'un certain type à l'aide de la réflexion, utilisez: </p><br><pre> <code class="cs hljs">Type type = ...; <span class="hljs-comment"><span class="hljs-comment">//   `Get` ,   `|`.     . var x = type.GetMethods(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance); // ,  . `Or`   , . var x = type.Methods(_ =&gt; _.Instance.Public.Or.NonPublic);</span></span></code> </pre> <br><p>  (Il en va de même pour <code>GetFields</code> et <code>GetProperties</code> .) </p><br><h3 id="directorycopy"> <code>Directory.Copy</code> </h3> <br><p>  Toutes les opérations avec des dossiers et des fichiers sont souvent généralisées à <code>DirectoryUtils</code> , <code>FileSystemHelper</code> .  Ils implémentent le contournement du système de fichiers, le nettoyage, la copie, etc.  Mais ici, vous pouvez trouver quelque chose de mieux! </p><br><p>  Affichez le texte <em>"copiez tous les fichiers de 'D: \ Source' vers 'D: \ Target'"</em> dans le code <code>"D:\\Source".AsDirectory().Copy().Files.To("D:\\Target")</code>  <code>AsDirectory()</code> - renvoie <code>DirectoryInfo</code> partir d'une <code>string</code> et <code>Copy()</code> - crée une instance de <code>CopyExpression</code> qui décrit une API unique pour la construction d'expressions (vous ne pouvez pas appeler <code>Copy().Files.Files</code> , par exemple).  L'opportunité s'ouvre alors de copier non pas tous les fichiers, mais certains: <code>Copy().Files.Where(x =&gt; x.IsNotEmpty)</code> . </p><br><h3 id="getorderbyid"> <code>GetOrderById</code> </h3> <br><p>  Dans le deuxième article, j'ai écrit que <code>IUsersRepository.GetUser(int id)</code> est redondant, et mieux, <code>IUsersRepository.User(int id)</code> .  Par conséquent, dans un <code>IOrdersRepository</code> similaire <code>IOrdersRepository</code> nous n'avons pas <code>GetOrderById(int id)</code> , mais <code>Order(int id)</code> .  Cependant, dans un autre exemple, il a été suggéré que la variable d'un tel référentiel soit appelée non pas <code>_ordersRepository</code> , mais simplement <code>_orders</code> . </p><br><p>  Les deux modifications sont bonnes en elles-mêmes, mais elles ne s'additionnent pas dans le contexte de lecture: l'appel de <code>_orders.Order(id)</code> semble verbeux.  Il serait possible de <code>_orders.Get(id)</code> , mais les commandes échouent, nous voulons seulement spécifier <em>celui qui a un tel identifiant</em> .  <em>Celui qui</em> est <code>One</code> , donc: </p><br><pre> <code class="cs hljs">IOrdersRepository orders = ...; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id = ...; <span class="hljs-comment"><span class="hljs-comment">//   . var x = orders.GetOrderById(id); //      : var x = orders.Order(id); //     ,    . var x = orders.One(id); //    : var x = orders.One(with: id);</span></span></code> </pre> <br><h3 id="getorders"> <code>GetOrders</code> </h3> <br><p>  Dans les objets tels que <code>IOrdersRepository</code> , d'autres méthodes sont souvent trouvées: <code>AddOrder</code> , <code>RemoveOrder</code> , <code>GetOrders</code> .  Les deux premières répétitions disparaissent, et <code>Add</code> et <code>Remove</code> sont obtenus (avec les entrées correspondantes <code>_orders.Add(order)</code> et <code>_orders.Remove(order)</code> ).  Avec <code>GetOrders</code> plus difficile de renommer <code>Orders</code> peu les commandes.  Voyons voir: </p><br><pre> <code class="cs hljs">IOrdersRepository orders = ...; <span class="hljs-comment"><span class="hljs-comment">//   . var x = orders.GetOrders(); //  `Get`,  . var x = orders.Orders(); // ! var x = orders.All();</span></span></code> </pre> <br><p>  Il convient de noter qu'avec l'ancien <code>_ordersRepository</code> répétitions dans <code>GetOrders</code> ou <code>GetOrderById</code> ne sont pas si visibles, car nous travaillons avec le référentiel! </p><br><p>  Des noms comme <code>One</code> , <code>All</code> conviennent à de nombreuses interfaces qui en représentent plusieurs.  Dites, dans l'implémentation bien connue de l'API GitHub - <code>octokit</code> - obtenir tous les référentiels utilisateur ressemble à <code>gitHub.Repository.GetAllForUser("John")</code> , bien qu'il soit plus logique - <code>gitHub.Users.One("John").Repositories.All</code> .  Dans ce cas, l'obtention d' <em>un</em> référentiel sera, respectivement, <code>gitHub.Repository.Get("John", "Repo")</code> au lieu de l'évident <code>gitHub.Users.One("John").Repositories.One("Repo")</code> .  Le deuxième cas semble plus long, mais il est cohérent en interne et reflète la plate-forme.  De plus, en utilisant des méthodes d'extension, il peut être raccourci en <code>gitHub.User("John").Repository("Repo")</code> . </p><br><h3 id="dictionarytrygetvalue"> <code>Dictionary.TryGetValue</code> </h3> <br><p>  L'obtention de valeurs à partir du dictionnaire est divisée en plusieurs scénarios qui ne diffèrent que par <em>ce qui</em> doit être fait si la clé n'est pas trouvée: </p><br><ul><li>  lancer une erreur ( <code>dictionary[key]</code> ); </li><li>  retourner la valeur par défaut (non implémentée, mais souvent écrire <code>GetValueOrDefault</code> ou <code>TryGetValue</code> ); </li><li>  retourner quelque chose d'autre (non implémenté, mais je m'attendrais à <code>GetValueOrOther</code> ); </li><li>  écrire la valeur spécifiée dans le dictionnaire et la renvoyer (non implémentée, mais <code>GetOrAdd</code> est <code>GetOrAdd</code> ). </li></ul><br><p>  Les expressions convergent au point " <em>prenez un peu de X, ou Y si X ne l'est pas</em> ."  De plus, comme dans le cas de <code>_ordersRepository</code> , nous appellerons la variable de dictionnaire non <code>itemsDictionary</code> , mais <code>items</code> . </p><br><p>  Ensuite, pour la partie <em>"take some X"</em> , un appel des éléments du formulaire. <code>items.One(withKey: X)</code> idéal, renvoyant une structure avec quatre <em>terminaisons</em> : </p><br><pre> <code class="cs hljs">Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Item&gt; items = ...; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id = ...; <span class="hljs-comment"><span class="hljs-comment">//  ,   : var x = items.GetValueOrDefault(id); var x = items[id]; var x = items.GetOrAdd(id, () =&gt; new Item()); //    : var x = items.One(with: id).OrDefault(); var x = items.One(with: id).Or(Item.Empty); var x = items.One(with: id).OrThrow(withMessage: $"Couldn't find item with '{id}' id."); var x = items.One(with: id).OrNew(() =&gt; new Item());</span></span></code> </pre> <br><h3 id="assemblygettypes"> <code>Assembly.GetTypes</code> </h3> <br><p>  Examinons la création de toutes les instances existantes de type <code>T</code> dans l'assembly: </p><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// . var x = Assembly .GetAssembly(typeof(T)) .GetTypes() .Where(...) .Select(Activator.CreateInstance); // "" . var x = TypesHelper.GetAllInstancesOf&lt;T&gt;(); // . var x = Instances.Of&lt;T&gt;();</span></span></code> </pre> <br><p>  Ainsi, parfois, le nom d'une classe statique est le <em>début d'une</em> expression. </p><br><p>  Quelque chose de similaire peut être trouvé dans NUnit: <code>Assert.That(2 + 2, Is.EqualTo(4))</code> - <code>Is</code> et n'a pas été conçu comme un type autosuffisant. </p><br><h3 id="argumentthrowifnull"> <code>Argument.ThrowIfNull</code> </h3> <br><p>  Jetons maintenant un œil à la vérification des conditions préalables: </p><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//  . Argument.ThrowIfNull(x); Guard.CheckAgainstNull(x); // . x.Should().BeNotNull(); // ,  ...  ? Ensure(that: x).NotNull();</span></span></code> </pre> <br><p>  <code>Ensure.NotNull(argument)</code> - sympa, mais pas tout à fait en anglais.  Une autre chose est l' <code>Ensure(that: x).NotNull()</code> écrit ci-dessus.  Si seulement il pouvait ... </p><br><p>  Au fait, vous le pouvez!  Nous écrivons <code>Contract.Ensure(that: argument).IsNotNull()</code> et importons le type de <code>Contract</code> <code>using static</code> .  On <code>Ensure(that: type).Implements&lt;T&gt;()</code> donc toutes sortes de <code>Ensure(that: type).Implements&lt;T&gt;()</code> , <code>Ensure(that: number).InRange(from: 5, to: 10)</code> , etc. </p><br><p>  L'idée de l'importation statique ouvre de nombreuses portes.  Un bel exemple pour: à la place des <code>items.Remove(x)</code> écrire <code>Remove(x, from: items)</code> .  Mais curieux est la réduction des <code>enum</code> et des propriétés qui renvoient des fonctions. </p><br><pre> <code class="cs hljs">IItems items = ...; <span class="hljs-comment"><span class="hljs-comment">// . var x = items.All(where: x =&gt; x.IsWeapon); //  . // `ItemsThatAre.Weapons`  `Predicate&lt;bool&gt;`. var x = items.All(ItemsThatAre.Weapons); // `using static`  !  . var x = items.All(Weapons);</span></span></code> </pre> <br><h3 id="ekzoticheskiy-find">  <code>Find</code> exotique </h3><br><p>  En C # 7.1 et supérieur, vous pouvez écrire non pas <code>Find(1, @in: items)</code> , mais <code>Find(1, in items)</code> , où <code>Find</code> est défini comme <code>Find&lt;T&gt;(T item, in IEnumerable&lt;T&gt; items)</code> .  Cet exemple n'est pas pratique, mais montre que tous les moyens sont bons dans la lutte pour la lisibilité. </p><br><h2 id="itogo">  Total </h2><br><p>  Dans cette partie, j'ai examiné plusieurs façons de travailler avec la lisibilité du code.  Tous peuvent être généralisés pour: </p><br><ul><li>  <strong>Le paramètre nommé dans le cadre de l'expression</strong> est <code>Should().Be(4, because: "")</code> , <code>Atomically.Change(ref x, from: oldX, to: newX)</code> . </li><li>  <strong>Un nom simple au lieu de détails techniques</strong> est <code>Separated(with: ", ")</code> , <code>Exclude</code> . </li><li>  <strong>La méthode faisant partie de la variable</strong> est <code>x.OrDefault()</code> , <code>x.Or(b).IfLess()</code> , <code>orders.One(with: id)</code> , <code>orders.All</code> . </li><li>  <strong>La méthode faisant partie de l'expression</strong> est <code>path.Without(".exe").AtEnd</code> . </li><li>  <strong>Le type faisant partie de l'expression</strong> est <code>Instances.Of</code> , <code>Is.EqualTo</code> . </li><li>  <strong>La méthode faisant partie de l'expression (en <code>using static</code> )</strong> est <code>Ensure(that: x)</code> , <code>items.All(Weapons)</code> . </li></ul><br><p>  Ainsi, l'externe et le contemplé sont mis en avant.  Au début, il est pensé, puis ses incarnations spécifiques sont pensées, pas si significatives, tant que le code est lu comme du texte.  Il s'ensuit que le juge n'est pas tant le goût que la <em>langue</em> - il détermine la différence entre <code>item.GetValueOrDefault</code> et <code>item.OrDefault</code> . </p><br><h2 id="epilog">  Épilogue </h2><br><p>  Quelle est la meilleure méthode, claire, mais qui ne fonctionne pas ou qui fonctionne, mais incompréhensible?  Un château blanc comme neige sans meubles ni chambres ou un cabanon avec des canapés dans le style de Louis XIV?  Un yacht de luxe sans moteur ni barge gémissante avec un ordinateur quantique que personne ne peut utiliser? </p><br><p>  Les réponses polaires ne correspondent pas, mais <em>"quelque part au milieu"</em> aussi. </p><br><p>  À mon avis, les deux concepts sont inextricables: en choisissant soigneusement la couverture d'un livre, nous examinons sans doute les erreurs dans le texte, et vice versa.  Je ne voudrais pas que les <em>Beatles</em> jouent de la musique de mauvaise qualité, mais ils <em>devraient</em> aussi s’appeler <em>MusicHelper</em> . </p><br><p>  Une autre chose est que travailler sur un mot dans le cadre du processus de développement est une chose inhabituelle sous-estimée, et donc une sorte de jugement extrême est encore nécessaire.  Ce cycle est l'extrême de la forme et de l'image. </p><br><p>  Merci à tous pour votre attention! </p><br><h2 id="ssylki">  Les références </h2><br><p>  Toute personne intéressée à voir plus d'exemples peut être trouvée sur mon GitHub, par exemple, dans la bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>Pocket.Common</code></a> .  <em>(pas pour une utilisation mondiale et universelle)</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr447830/">https://habr.com/ru/post/fr447830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr447818/index.html">AgileDays 2019</a></li>
<li><a href="../fr447820/index.html">Importez des modèles 3D dans Unity et les pièges</a></li>
<li><a href="../fr447822/index.html">Presque viré. Comment j'ai construit le département d'analyse de Yandex</a></li>
<li><a href="../fr447826/index.html">Le recruteur doit pouvoir vendre</a></li>
<li><a href="../fr447828/index.html">Comment nous faisons l'informatique pour les personnes à Rostelecom</a></li>
<li><a href="../fr447832/index.html">Il n'y a pas si longtemps</a></li>
<li><a href="../fr447834/index.html">Détruisez en 9 secondes. Comment un algorithme inconnu a détruit IPO BATS</a></li>
<li><a href="../fr447836/index.html">Essai routier nanoCAD SPDS Metalwork 1.2. Partie 1</a></li>
<li><a href="../fr447838/index.html">Comment les technologies IoT vont changer le monde au cours des 10 prochaines années</a></li>
<li><a href="../fr447842/index.html">Microbiota. Qu'est-ce que cet organe et pourquoi en avons-nous besoin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>