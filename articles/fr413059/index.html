<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå™Ô∏è ü•ì üíú Comment cr√©er une protection contre la fraude d'entreprise Conf√©rence √† YaC 2018 üï¥üèª üñ§ üéüÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le 29 mai, une autre conf√©rence 2018 s'est tenue - la conf√©rence annuelle et la plus importante de Yandex. Le YaC de cette ann√©e comprenait trois sect...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment cr√©er une protection contre la fraude d'entreprise Conf√©rence √† YaC 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/413059/">  Le 29 mai, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une autre conf√©rence 2018 s'est tenue</a> - la conf√©rence annuelle et la plus importante de Yandex.  Le YaC de cette ann√©e comprenait trois sections: les technologies marketing, la ville intelligente et la s√©curit√© de l'information.  Dans la poursuite, nous publions l'un des principaux rapports de la troisi√®me section - de Yuri <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">Leonovich tracer0tong</a> de la soci√©t√© japonaise Rakuten. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3eMb6xhAQdo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote> Comment authentifions-nous?  Dans notre cas, il n'y a rien d'extraordinaire, mais je veux mentionner une m√©thode.  En plus des types traditionnels - captcha et mots de passe √† usage unique - nous utilisons Proof of Work, PoW.  Non, nous n'exploitons pas de bitcoins sur les ordinateurs des utilisateurs.  Nous utilisons PoW pour ralentir l'attaquant et parfois m√™me bloquer compl√®tement, le for√ßant √† r√©soudre une t√¢che tr√®s difficile, sur laquelle il passera beaucoup de temps. </blockquote><br><a name="habracut"></a>  - Je travaille pour Rakuten International Corporation.  Je veux parler de plusieurs choses: un peu de moi, de notre entreprise, de la fa√ßon d'√©valuer le co√ªt des attaques et de savoir si vous devez faire de la pr√©vention de la fraude.  Je veux vous dire comment nous avons collect√© notre pr√©vention de la fraude et quels mod√®les nous avons utilis√©s ont donn√© de bons r√©sultats dans la pratique, comment ils ont fonctionn√© et ce qui peut √™tre fait pour pr√©venir les fraudes. <br><br><img src="https://habrastorage.org/webt/l-/yn/r8/l-ynr8tompcnmtwwmdgkk20gcgw.jpeg"><br><br>  √Ä propos de moi bri√®vement.  Il a travaill√© chez Yandex, √©tait impliqu√© dans la s√©curit√© des applications Web et chez Yandex, il a √©galement cr√©√© un syst√®me pour pr√©venir les fraudes.  Je suis capable de d√©velopper des services distribu√©s, j'ai un peu de formation math√©matique qui aide √† l'utilisation de l'apprentissage automatique dans la pratique. <br><br>  Rakuten n'est pas tr√®s connu en F√©d√©ration de Russie, mais je pense que vous le savez tous pour deux raisons.  Sur plus de 70 de nos services en Russie, Rakuten Viber est connu, et s'il y a des fans de football ici, vous savez peut-√™tre que notre entreprise est le sponsor g√©n√©ral du club de football de Barcelone. <br><br>  √âtant donn√© que nous avons tant de services, nous avons nos propres syst√®mes de paiement, nos propres cartes de cr√©dit et de nombreux programmes de r√©compenses, nous sommes constamment soumis √† des attaques de cybercriminels.  Et naturellement, nous avons toujours une demande de l'entreprise pour des syst√®mes de protection contre la fraude. <br><br>  Lorsqu'une entreprise nous demande de cr√©er un syst√®me de protection contre la fraude, nous sommes toujours confront√©s √† un dilemme.  D'une part, il est demand√© qu'il y ait un taux de conversion √©lev√©, afin que l'utilisateur puisse s'authentifier facilement aupr√®s des services et effectuer des achats.  Et de notre c√¥t√©, de la part des agents de s√©curit√©, je veux moins de plaintes, moins de comptes pirat√©s.  Et pour notre part, nous voulons faire monter le prix de l'attaque. <br><br>  Si vous allez acheter un syst√®me de pr√©vention de la fraude ou essayer de le faire vous-m√™me, vous devez d'abord √©valuer les co√ªts. <br><br><img src="https://habrastorage.org/webt/k4/fw/xt/k4fwxt6bdgd4mhy_tk-_kfeqri0.jpeg"><br><br>  √Ä notre avis, avons-nous besoin de la pr√©vention de la fraude?  Nous nous sommes appuy√©s sur le fait que nous subissons certains types de pertes financi√®res li√©es √† la fraude.  Ce sont des pertes directes - l'argent que vous rendrez √† vos clients s'ils ont √©t√© vol√©s par des intrus.  Il s'agit du co√ªt d'un service de support technique qui communiquera avec les utilisateurs et r√©soudra les conflits.  Il s'agit d'un retour de marchandises qui sont souvent livr√©es √† de fausses adresses.  Et il y a des co√ªts directs de d√©veloppement du syst√®me.  Si vous avez fait un syst√®me de protection contre la fraude, que vous l'avez d√©ploy√© sur certains serveurs, vous paierez l'infrastructure, le d√©veloppement logiciel.  Et il y a un troisi√®me aspect tr√®s important des dommages caus√©s par les attaquants - la perte de profits.  Il se compose de plusieurs composants. <br><br>  Selon nos calculs, il existe un param√®tre tr√®s important - la valeur √† vie, LTV, c'est-√†-dire que l'argent que l'utilisateur d√©pense dans nos services est consid√©rablement r√©duit.  Parce que dans la moiti√© des cas de fraude, les utilisateurs quittent simplement votre service et ne reviennent pas. <br><br>  Nous payons √©galement de l'argent pour la publicit√©, et si l'utilisateur part, il est perdu.  Il s'agit du co√ªt d'acquisition client, CAC.  Et si nous avons beaucoup d'utilisateurs automatis√©s qui ne sont pas de vraies personnes - nous avons de faux utilisateurs actifs mensuels, des chiffres MAU, qui affectent √©galement l'entreprise. <br><br>  Regardons de l'autre c√¥t√©, des attaquants. <br><br>  Certains orateurs ont d√©clar√© que les attaquants utilisent activement des r√©seaux de zombies.  Mais quelle que soit la m√©thode qu'ils utilisent, ils doivent toujours investir de l'argent, payer pour l'attaque, ils d√©pensent √©galement de l'argent.  Notre t√¢che, lorsque nous cr√©ons un syst√®me de pr√©vention de la fraude, est de trouver un tel √©quilibre que l'attaquant d√©pense trop d'argent et nous d√©pensons moins.  Cela rend une attaque contre nous non rentable, et les attaquants s'en vont simplement pour casser un autre service. <br><br><img src="https://habrastorage.org/webt/v_/rr/rb/v_rrrbzp20lumfbxs6udp-mpgry.jpeg"><br><br>  Pour nos services de dommages, nous avons divis√© les attaques en quatre types.  Ceci est cibl√© lorsque vous essayez de pirater un compte, un compte.  Attaques d'un utilisateur ou d'un petit groupe de personnes.  Ou des attaques plus dangereuses pour nous, massives et non cibl√©es, lorsque les attaquants attaquent de nombreux comptes, cartes de cr√©dit, num√©ros de t√©l√©phone, etc. <br><br><img src="https://habrastorage.org/webt/lx/ja/u9/lxjau99_o2uzrxtqiocf8mxxkh4.jpeg"><br><br>  Je vais vous dire ce qui se passe, comment ils nous attaquent.  Le principal type d'attaque le plus √©vident que tout le monde conna√Æt est le craquage de mot de passe.  Dans notre cas, les attaquants tentent de trier les num√©ros de t√©l√©phone, de valider les num√©ros de carte de cr√©dit.  Une certaine vari√©t√© est pr√©sente. <br><br>  L'enregistrement en masse des comptes, pour nous c'est √©videmment n√©faste.  Je donnerai un exemple plus tard. <br><br>  Qu'est-ce qui est enregistr√©?  Les faux comptes, certains produits inexistants, tentent de spam dans les messages de r√©troaction.  Je pense que cela est pertinent et similaire pour de nombreuses soci√©t√©s commerciales. <br><br>  Il y a encore des probl√®mes qui ne sont pas √©vidents pour le commerce √©lectronique, mais qui sont √©vidents pour Yandex - attaques sur le budget publicitaire, fraude aux clics.  Eh bien, ou tout simplement le vol de donn√©es personnelles. <br><br><img src="https://habrastorage.org/webt/rr/xo/_n/rrxo_nmccecmdbfsws0dot07gze.jpeg"><br><br>  Je vais vous donner un exemple.  Nous avons eu une attaque plut√¥t int√©ressante contre un service qui vend des livres √©lectroniques, il y avait une opportunit√© pour n'importe quel utilisateur de s'inscrire et de commencer √† vendre leur travail √©lectronique, une telle opportunit√© pour soutenir les √©crivains novices. <br><br>  L'attaquant a enregistr√© un compte principal l√©gal et plusieurs milliers de faux comptes de sbires.  Et il a g√©n√©r√© un faux livre, juste √† partir de phrases al√©atoires, cela n'avait aucun sens.  Il l'a mis sur le march√©, et nous avions une soci√©t√© de marketing, chaque serviteur avait, conditionnellement, 1 dollar, qu'il pouvait d√©penser pour un livre.  Et ce faux livre a co√ªt√© 1 $. <br><br>  Un raid de sbires a √©t√© organis√© - de faux comptes.  Ils ont tous achet√© ce livre, le livre a bondi dans les cotes, est devenu un best-seller, un attaquant a augment√© le prix √† 10 $ conditionnel.  Et depuis que le livre est devenu un best-seller, les gens ordinaires ont commenc√© √† l'acheter, et des plaintes sont tomb√©es sur nous que nous vendions des produits de mauvaise qualit√©, un livre avec un ensemble de mots d√©nu√©s de sens √† l'int√©rieur.  L'attaquant a re√ßu un profit. <br><br>  Il n'y a pas de neuvi√®me point, il a ensuite √©t√© arr√™t√© par la police.  Le profit n'est donc pas all√© pour l'avenir. <br><br>  Le principal objectif de tous les attaquants dans notre cas est de d√©penser le moins d'argent possible et de prendre le plus possible le n√¥tre. <br><br><img src="https://habrastorage.org/webt/1k/bl/c5/1kblc5pb4oggk-kbdmayen42l-w.jpeg"><br><br>  Il y a des attaquants, une personne qui essaie simplement de contourner la logique commerciale.  Mais je note que nous ne consid√©rons pas ces attaques comme une priorit√©, car en termes de rapport entre le nombre de comptes pirat√©s et l'argent vol√©, elles comportent un faible risque pour nous.  Mais le principal probl√®me pour nous, ce sont les botnets. <br><br><img src="https://habrastorage.org/webt/yz/av/mm/yzavmmx_xbc5oka2_893hntancq.jpeg"><br><br>  Ce sont des syst√®mes distribu√©s massifs, ils attaquent nos services de partout sur la plan√®te, de diff√©rents continents, mais ils ont certaines fonctionnalit√©s qui facilitent leur traitement.  Comme dans tout grand syst√®me distribu√©, les n≈ìuds de botnet effectuent plus ou moins les m√™mes t√¢ches. <br><br>  Une autre chose importante - maintenant, comme de nombreux coll√®gues l'ont not√©, les botnets sont distribu√©s sur toutes sortes d'appareils intelligents, routeurs domestiques, haut-parleurs intelligents, etc. Mais ces appareils ont des sp√©cifications mat√©rielles faibles et ne peuvent pas ex√©cuter de scripts complexes. <br><br>  D'un autre c√¥t√©, pour un attaquant, louer un botnet pour de simples DDoS est assez bon march√©, et il faut √©galement rechercher des mots de passe pour les comptes.  Mais si vous devez impl√©menter une sorte de logique m√©tier sp√©cifiquement pour votre application ou service, le d√©veloppement et la prise en charge d'un botnet deviennent tr√®s co√ªteux.  Habituellement, un attaquant loue simplement une partie d'un botnet fini. <br><br>  J'associe toujours une attaque par botnet au d√©fil√© de Pikachu √† Yokohama.  Nous avons 95% du trafic malveillant provenant des botnets. <br><br><img src="https://habrastorage.org/webt/tn/cf/qn/tncfqnvivltopciqheswjsdpxsg.jpeg"><br><br>  Si vous regardez la capture d'√©cran de notre syst√®me de surveillance, vous verrez de nombreux points jaunes - ce sont des demandes bloqu√©es de diff√©rents n≈ìuds.  Et ici, une personne attentive peut remarquer que j'ai en quelque sorte dit que l'attaque est uniform√©ment r√©partie dans le monde.  Mais il y a une anomalie claire sur la carte, une tache rouge dans la r√©gion de Taiwan.  Ceci est un cas assez curieux. <br><br><img src="https://habrastorage.org/webt/s5/q6/-y/s5q6-yptqjtduqkeikztdkpy40k.jpeg"><br><br>  Cette attaque est venue de routeurs √† domicile.  √Ä Ta√Øwan, un important fournisseur de services Internet a √©t√© pirat√©, ce qui a fourni Internet √† la plupart des habitants de l'√Æle.  Et pour nous, c'√©tait un tr√®s gros probl√®me, li√© au fait que de nombreux utilisateurs l√©gaux en m√™me temps que l'attaque se sont rendus et ont travaill√© avec nos services √† partir des m√™mes adresses IP.  Nous avons r√©ussi √† arr√™ter cette attaque, mais c'√©tait tr√®s difficile. <br><br>  Si nous parlons de port√©e, de surface, de ce que nous prot√©geons.  Si vous avez un petit site e-commerce ou un petit service r√©gional, vous n'avez pas de probl√®mes particuliers.  Vous avez un serveur, peut-√™tre plusieurs, ou des machines virtuelles dans le cloud.  Eh bien, les utilisateurs, mauvais, bons, qui viennent √† vous.  Il n'y a pas de probl√®me particulier √† prot√©ger. <br><br><img src="https://habrastorage.org/webt/qq/wz/yv/qqwzyvffpokskf3oion3uodigls.jpeg"><br><br>  Dans notre cas, tout est plus compliqu√©, la surface d'attaque est immense.  Nous avons des services d√©ploy√©s dans nos propres centres de donn√©es, en Europe, en Asie du Sud-Est, aux √âtats-Unis.  Nous avons √©galement des utilisateurs sur diff√©rents continents, bons ou mauvais.  De plus, certains services sont d√©ploy√©s dans l'infrastructure cloud, et pas la n√¥tre. <br><br>  Avec autant de services et une infrastructure aussi √©tendue, c'est tr√®s difficile √† d√©fendre.  De plus, bon nombre de nos services prennent en charge divers types d'applications et d'interfaces client.  Par exemple, nous avons un service Rakuten TV qui fonctionne sur les t√©l√©viseurs intelligents, et la protection est tout √† fait sp√©ciale pour lui. <br><br><img src="https://habrastorage.org/webt/e6/au/pg/e6aupgh93jn1junf9xzjxy7uxhy.jpeg"><br><br>  Pour r√©sumer le probl√®me, un grand nombre d'utilisateurs circulent dans votre syst√®me, comme les gens d'un magasin √† l'intersection de Shibuya.  Et parmi ce grand nombre de personnes, il est n√©cessaire d'identifier et d'attraper les assaillants.  En m√™me temps, il y a beaucoup de portes dans votre magasin et il y a encore plus de monde. <br><br>  Alors, √† partir de quoi et comment avons-nous assembl√© notre syst√®me? <br><br><img src="https://habrastorage.org/webt/cq/1_/sy/cq1_syk4uwbhup3chvcbknatpsq.jpeg"><br><br>  Nous avons r√©ussi √† utiliser uniquement des composants open source, c'√©tait assez bon march√©.  Utilis√© le pouvoir de nombreux "gophers".  Une partie importante du logiciel a √©t√© √©crite dans la langue Golang.  Files d'attente et bases de donn√©es de messages utilis√©es.  Pourquoi en avions-nous besoin?  Nous avions deux objectifs: collecter des donn√©es sur le comportement des utilisateurs et calculer la r√©putation, prendre certaines mesures pour reconna√Ætre si un utilisateur est bon ou mauvais. <br><br><img src="https://habrastorage.org/webt/wu/2o/uq/wu2ouqnod8ei_5qf3xgvx1h48ow.jpeg"><br><br>  Nous avons plusieurs niveaux dans le syst√®me, nous utilisons les frontends √©crits dans Golang et Tarantool comme base de mise en cache.  Notre syst√®me est d√©ploy√© dans toutes les r√©gions o√π nos entreprises sont implant√©es.  Nous transmettons des √©v√©nements via le bus de donn√©es et nous en tirons une r√©putation. <br><br><img src="https://habrastorage.org/webt/ak/pm/b_/akpmb_zttp3xhspmqyjrqpqpag8.jpeg"><br><br>  Nous avons des backends qui reproduisent √©galement le statut de r√©putation des utilisateurs avec Cassandra. <br><br>  Bus de donn√©es, rien de secret, Apache Kafka. <br><br><img src="https://habrastorage.org/webt/6b/xq/_2/6bxq_2rfjx1mcawe0dqtbr2kruq.jpeg"><br><br>  √âv√©nements et journaux dans un sens, r√©putation dans l'autre. <br><br>  Et naturellement, le syst√®me a un cerveau qui pense que l'utilisateur est mauvais ou bon, l'activit√© est mauvaise ou bonne.  Le cerveau est construit sur Apache Storm, et la partie amusante est ce qui se passe √† l'int√©rieur. <br><br>  Mais d'abord, je vais vous expliquer comment nous collectons des donn√©es et comment bloquer les intrus. <br><br><img src="https://habrastorage.org/webt/sm/os/qd/smosqdjjgk4gzh0lqpsd7qdpkzu.jpeg"><br><br>  Il existe de nombreuses approches.  Certains d'entre eux ont d√©j√† √©t√© mentionn√©s par des coll√®gues de Yandex dans leur premier rapport.  Comment bloquer les intrus?  Anton Karpov a dit que les pare-feu sont mauvais, nous ne les aimons pas.  En effet, il est possible de bloquer par des adresses IP, le sujet pour la Russie est tr√®s pertinent, mais cette m√©thode ne nous convient pas du tout.  Nous pr√©f√©rons utiliser des verrous de niveau sup√©rieur, au septi√®me niveau, au niveau de l'application, en utilisant l'authentification des demandes √† l'aide de jetons, de cookies de session. <br><br>  Pourquoi?  Regardons d'abord les verrous bas. <br><br><img src="https://habrastorage.org/webt/uq/3o/ji/uq3oji_8wbtqpybumqxrj2_tpje.jpeg"><br><br>  C'est un moyen peu co√ªteux, tout le monde sait comment l'utiliser, tout le monde a des pare-feu sur les serveurs.  Un tas d'instructions sur Internet, il n'y a aucun probl√®me √† bloquer l'utilisateur par IP.  Mais lorsque vous bloquez l'utilisateur √† un niveau bas, il n'a aucun moyen de contourner votre syst√®me de protection en cas de faux positif.  Les navigateurs modernes essaient plus ou moins d'afficher un beau message d'erreur √† l'utilisateur, mais une personne ne peut en aucun cas contourner votre syst√®me, car un utilisateur ordinaire ne peut pas modifier arbitrairement ses adresses IP.  Par cons√©quent, nous pensons que cette m√©thode n'est pas tr√®s bonne et peu amicale.  De plus, IPv6 se d√©place autour de la plan√®te, si vous avez des tables bloqu√©es, apr√®s un certain temps, il faudra tr√®s longtemps pour rechercher des adresses sur ces tables, et il n'y a pas d'avenir pour de tels verrous. <br><br><img src="https://habrastorage.org/webt/wm/jk/bi/wmjkbiioyyvgidfjmdxqyukmxh0.jpeg"><br><br>  Notre m√©thode consiste √† verrouiller au niveau sup√©rieur.  Nous pr√©f√©rons authentifier les demandes, car pour nous c'est l'occasion de s'adapter de mani√®re tr√®s flexible √† la logique m√©tier de nos applications.  Ces m√©thodes pr√©sentent des avantages et des inconv√©nients.  L'inconv√©nient est le co√ªt de d√©veloppement √©lev√©, la grande quantit√© de ressources que vous devez investir dans l'infrastructure, et l'architecture de tels syst√®mes, avec toute sa simplicit√© apparente, est toujours compliqu√©e. <br><br>  Vous avez entendu dans les rapports pr√©c√©dents sur diverses m√©thodes bas√©es sur la biom√©trie, la collecte de donn√©es.  Bien s√ªr, nous y pensons √©galement, mais ici, il est tr√®s facile de violer la vie priv√©e de l'utilisateur en collectant les mauvaises donn√©es que l'utilisateur veut vous confier. <br><br><img src="https://habrastorage.org/webt/db/1m/h9/db1mh9zoh64voqn82hhlu5_-hgo.jpeg"><br><br>  Comment authentifions-nous?  Dans notre cas, il n'y a rien d'extraordinaire, mais je veux mentionner une m√©thode.  En plus des types traditionnels - captcha et mots de passe √† usage unique - nous utilisons Proof of Work, PoW.  Non, nous n'exploitons pas de bitcoins sur les ordinateurs des utilisateurs.  Nous utilisons PoW pour ralentir l'attaquant et parfois m√™me bloquer compl√®tement, le for√ßant √† r√©soudre une t√¢che tr√®s difficile, sur laquelle il passera beaucoup de temps. <br><br><img src="https://habrastorage.org/webt/rn/fj/at/rnfjatbasaind5k-pr9rxyvd0uq.jpeg"><br><br>  Comment collectons-nous les donn√©es?  Nous utilisons les adresses IP comme l'une des fonctionnalit√©s, l'une des sources de donn√©es pour nous est √©galement les protocoles de cryptage pris en charge par les clients et le temps d'√©tablissement de la connexion.  En outre, les donn√©es que nous collectons √† partir des navigateurs des utilisateurs, les fonctionnalit√©s de ces navigateurs et les jetons que nous utilisons pour authentifier les demandes. <br><br>  Comment d√©tecter les intrus?  Vous vous attendez probablement √† ce que je dise que nous avons construit un √©norme r√©seau de neurones et avons imm√©diatement attrap√© tout le monde.  Pas vraiment.  Nous avons utilis√© une approche √† plusieurs niveaux.  Cela est d√ª au fait que nous avons de nombreux services, de tr√®s gros volumes de trafic, et si vous essayez de mettre un syst√®me informatique complexe sur de tels volumes de trafic, il sera tr√®s probablement tr√®s co√ªteux et ralentira les services.  Par cons√©quent, nous avons commenc√© avec une m√©thode banale simple: nous avons commenc√© √† compter le nombre de demandes provenant de diff√©rentes adresses, de diff√©rents navigateurs. <br><br><img src="https://habrastorage.org/webt/nz/mu/bp/nzmubpsgqcvdgru2cvzc7o4xtaa.jpeg"><br><br>  Cette m√©thode est tr√®s primitive, mais elle vous permet de filtrer les attaques massives stupides comme les DDoS, lorsque des anomalies prononc√©es apparaissent dans le trafic.  Dans ce cas, vous √™tes absolument s√ªr qu'il s'agit d'un attaquant et vous pouvez le bloquer.  Mais cette m√©thode ne convient qu'au niveau initial, car elle emp√™che uniquement les attaques les plus brutales. <br><br><img src="https://habrastorage.org/webt/7v/hw/ha/7vhwhap6f8sakfpcl-ltc555k-w.jpeg"><br><br>  Apr√®s cela, nous sommes arriv√©s √† la m√©thode suivante.  Nous avons d√©cid√© de nous concentrer sur le fait que nous avons une logique m√©tier d'applications et qu'un attaquant ne peut jamais simplement venir √† votre service et voler de l'argent.  S'il ne l'a pas craqu√©, bien s√ªr.  Dans notre cas, si vous regardez le sch√©ma le plus simplifi√© d'un march√© abstrait, nous verrons que l'utilisateur doit d'abord se connecter, pr√©senter ses informations d'identification, recevoir des cookies de session, puis aller sur le march√©, y chercher des marchandises, les mettre dans le panier.  Apr√®s cela, il continue √† payer pour l'achat, s√©lectionne l'adresse, le mode de paiement, et √† la fin il clique sur ¬´payer¬ª, et finalement l'achat de marchandises a lieu. <br><br>  Vous voyez, un attaquant doit prendre de nombreuses mesures.  Et ces transitions entre √âtats, entre services ressemblent √† un mod√®le math√©matique - ce sont des cha√Ænes de Markov, qui peuvent √©galement √™tre utilis√©es ici.  En principe, dans notre cas, ils ont montr√© de tr√®s bons r√©sultats. <br><br><img src="https://habrastorage.org/webt/s5/pz/sm/s5pzsm2xdms1fzodqznv_gyz1f8.jpeg"><br><br>  Je peux donner un exemple simplifi√©.  En gros, il y a un moment o√π un utilisateur s'authentifie, quand il choisit des achats et effectue un paiement, et par exemple, il est √©vident comment un attaquant peut se comporter anormalement, il peut essayer de se connecter plusieurs fois avec diff√©rents comptes.  Ou il peut ajouter les mauvais produits au panier que les utilisateurs ordinaires ach√®tent.  Ou effectue un nombre anormalement √©lev√© d'actions. <br><br>  Les cha√Ænes de Markov consid√®rent g√©n√©ralement les √âtats.  Nous avons √©galement d√©cid√© d'ajouter du temps √† ces √©tats pour nous-m√™mes.  Les attaquants et les utilisateurs normaux se comportent tr√®s diff√©remment dans le temps, ce qui permet √©galement de les s√©parer. <br><br>  Les cha√Ænes de Markov sont un mod√®le math√©matique assez simple, elles sont tr√®s faciles √† compter √† la vol√©e, elles vous permettent donc d'ajouter un autre niveau de protection, d'√©liminer une autre partie du trafic. <br><br>  La prochaine √©tape.  Nous avons attrap√© les attaquants stupides, pris les attaquants mentaux m√©chants.  Il ne reste plus que les plus intelligents.  Pour les attaquants difficiles, des fonctionnalit√©s suppl√©mentaires sont n√©cessaires.  Que pouvons-nous faire? <br><br><img src="https://habrastorage.org/webt/wf/h-/vx/wfh-vx7saokfeo3lyiwfdqh0g2c.jpeg"><br><br>  Nous pouvons collecter des empreintes digitales sur les navigateurs.  Maintenant, les navigateurs sont des syst√®mes assez complexes, ils ont de nombreuses fonctionnalit√©s prises en charge, ils ex√©cutent JS, ils ont diverses capacit√©s de bas niveau, et tout cela peut √™tre collect√©, toutes ces donn√©es.  Sur la diapositive est un exemple de la sortie d'une des biblioth√®ques open source. <br><br>  De plus, vous pouvez collecter des donn√©es sur la fa√ßon dont l'utilisateur interagit avec votre service, comment il d√©place la souris, comment il touche un appareil mobile, comment il fait d√©filer l'√©cran.  De telles choses sont collect√©es, par exemple, par Yandex.Metrica.       ,        ,    . <br><br><img src="https://habrastorage.org/webt/v1/x8/jo/v1x8jo11wudljnjjbooi1wp2jd8.jpeg"><br><br>        ,     .   ?  ,      ,     ,     ,   .      ,        .     machine learning,    decision tree,         . Decision tree    if-else,     ,         .   ,           .  -  ,     -  ‚Äî ,     ,     . <br><br><img src="https://habrastorage.org/webt/nw/pv/rw/nwpvrwz9roee80jgfprzl8nyzoi.jpeg"><br><br> ,    ,         ,  -  , , ,   Softbank,   .      ,        ,    .     - ,   ,     ,        . <br><br>     ,  ,         iTunes    ‚Äî  ,   -  ,     . <br><br>         ,    ,     ,    . <br><br><img src="https://habrastorage.org/webt/tn/a1/8n/tna18neltvdouraq5l4jeq5kq30.jpeg"><br><br>       .   ,    ?   ,      .   ,         ,       ,    .     ,          . <br><br>       .      ,          .         .     :         .   ,           . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413059/">https://habr.com/ru/post/fr413059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413041/index.html">The Guardian: "Vous n'aurez pas de Jetpack, vivez avec"</a></li>
<li><a href="../fr413045/index.html">macOS + Windows 10 sur un disque externe</a></li>
<li><a href="../fr413049/index.html">Configurer BGP pour contourner les verrous, version 3, sans VPS</a></li>
<li><a href="../fr413051/index.html">SGBD sur colonne versus minuscule, que diriez-vous d'un compromis?</a></li>
<li><a href="../fr413055/index.html">Comment cr√©er une communaut√© mondiale de startups autour du contenu informatique: une histoire de d√©marrage de Techstars</a></li>
<li><a href="../fr413061/index.html">Comment commencer √† √©crire du code Lisp?</a></li>
<li><a href="../fr413063/index.html">Test d'une tasse thermo maison sur une transition de phase</a></li>
<li><a href="../fr413065/index.html">Nouvelles fonctionnalit√©s pr√©vues dans C # 8.0</a></li>
<li><a href="../fr413069/index.html">Recherche audio, r√©f√©rencement audio et aide pour les podcasts - les sp√©cialistes Google y travaillent d√©j√†</a></li>
<li><a href="../fr413071/index.html">DeepMind a appris √† l'IA √† jouer √† des jeux vid√©o YouTube</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>