<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♠️ 🧣 🏨 Sistem partikel dalam Core Animation. Cerita natal 🕧 🤺 🐊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! 

 Natal sudah lama berlalu, tetapi setelah itu kami memiliki kisah menarik tentang cara menggunakan fitur Core Animation yang jarang d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistem partikel dalam Core Animation. Cerita natal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/446938/"><img src="https://habrastorage.org/webt/9s/eo/zq/9seozqwk1lhhha-t9kjesviqs14.jpeg"><br><br>  Halo semuanya! <br><br>  Natal sudah lama berlalu, tetapi setelah itu kami memiliki kisah menarik tentang cara menggunakan fitur Core Animation yang jarang digunakan untuk menciptakan suasana hati yang meriah bagi pengguna.  Saya membagikan terjemahan sebuah artikel oleh kolega saya di London, Alexis. <br><br>  Natal selalu menjadi salah satu hari favorit saya tahun ini bagi saya.  Ini membawa banyak cinta, tawa, kebahagiaan, dan keajaiban dalam hidup kita. <br><br>  Saya lahir dan dibesarkan di Spanyol, di Tenerife - sebuah pulau yang cerah di tengah Samudra Atlantik di lepas pantai Afrika.  Dan, percayalah, Natal di Tenerife sangat berbeda dengan Natal di London, tempat saya bertemu dengannya dua tahun terakhir (sejak saya mulai bekerja di Badoo). <br><br>  Salah satu manfaat hidup di London bagi saya adalah merenungkan kepingan salju.  Di sini saya melihat mereka untuk pertama kalinya dalam hidup saya, sungguh tidak bisa dipercaya! <br><br>  Mengingat ini, saya memutuskan untuk membagikan kepada Anda satu kisah menarik yang terjadi pada saya di kantor tak lama sebelum Natal, sebelum saya pergi ke Tenerife untuk merayakan liburan bersama keluarga saya. <br><br>  Kebetulan saya diberi tugas yang tidak biasa dengan deskripsi sebagai berikut: <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/lt/df/wd/ltdfwdnu7xreylndpr6of3vkbt8.png"><br><br>  Hmm, sangat lucu.  Kami ingin menambahkan animasi Natal dengan kepingan salju ke aplikasi iOS kami, dan saya menjadi yang beruntung untuk membuatnya.  Tetapi saya tidak tahu harus mulai dari mana. <br><br>  Seperti biasa, file Sketsa dilampirkan ke tugas dengan desain yang diperlukan, yang terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/_d/q9/tl/_dq9tlxzvrca0jhk0lxjx3rnmhu.png"><br><br>  Setidaknya saya melihat apa yang kami butuhkan, tetapi saya tidak sepenuhnya yakin bagaimana seharusnya kepingan salju ini.  Untuk memperjelas semua detail, saya pergi untuk berbicara dengan para desainer. <br><br>  Seperti yang saya duga, mereka sudah memiliki animasi hebat yang digambar di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">After Effects</a> . <br><br>  Para desainer menjelaskan kepada saya bahwa mereka ingin menambahkan kepingan salju yang jatuh dari atas ke dalam animasi yang sudah ada saat meluncurkan aplikasi (serta topi Santa pada logo kami, tetapi itu adalah substitusi sederhana dari gambar, tidak layak disebutkan dalam artikel ini). <br><br>  Saya tahu bahwa animasi peluncuran aplikasi di iOS dibuat menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lottie</a> , karena ditambahkan setelah saya bergabung dengan perusahaan (detailnya dapat ditemukan di artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Radek Cieciwa</a> ).  Namun, saya memberi tahu para perancang bahwa saya akan mencoba menemukan solusi yang lebih sederhana untuk menampilkan kepingan salju (tanpa perlu menggunakan Lottie) - dan mulai mengeksplorasi berbagai pendekatan. <br><br>  Ini adalah animasi yang dibuat oleh rekan saya, Radek untuk Badoo.  Tanpa cela! <br><br><img src="https://habrastorage.org/webt/8e/cg/jj/8ecgjj7a9ywk34vr-_idw4ckb-a.gif"><br><br>  Jadi saya menambahkan butiran salju yang jatuh.  Ingin tahu bagaimana saya melakukannya?  Anda akan menemukan jawabannya di bawah ini. <br><br><img src="https://habrastorage.org/webt/rq/yd/gh/rqydgh5ar15k2f42kwxusdr3iq4.gif"><br><br><h1>  Sistem Partikel </h1><br>  Saat membaca berbagai dokumentasi tentang animasi, saya ingat bahwa dalam game dan film, sistem partikel sering digunakan untuk menyelesaikan masalah seperti itu. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wikipedia</a> menggambarkan konsep ini dengan cukup akurat: <br><br><blockquote>  “Sistem partikel adalah metode yang digunakan dalam grafik komputer untuk mewakili objek yang tidak memiliki batas geometris yang jelas (berbagai awan, nebula, ledakan, semburan uap, kereta api dari rudal, asap, salju, hujan, dll.).  Sistem partikel dapat diimplementasikan dalam grafik dua dimensi dan tiga dimensi. " </blockquote><br><div class="spoiler">  <b class="spoiler_title">Teknik ini pertama kali digunakan pada tahun 1982 di Star Trek 2: The Wrath of Khan, untuk menciptakan "efek genesis".</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/zXFNypyMJCc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  Sistem partikel terdiri dari satu atau lebih primitif grafis, seperti titik, garis, atau gambar, yang disebut partikel.  Partikel-partikel ini dibuat dan dipancarkan oleh emitor yang merupakan bagian dari sistem partikel. <br><br>  Setiap partikel memiliki seperangkat parameter yang secara langsung atau tidak langsung memengaruhi perilakunya dan menentukan bagaimana ia akan ditarik.  Partikel-partikel dapat bergerak secara bersamaan dalam jumlah besar dan dalam arah yang berbeda, misalnya, untuk menciptakan efek cairan. <br><br>  Animasi mulai berlaku ketika partikel dipancarkan oleh sistem.  Sistem memancarkan partikel di tempat-tempat acak dalam area yang ditentukan dari sistem partikel.  Dapat mengambil berbagai bentuk: lingkaran, persegi panjang, bola, kotak, garis, titik, dll. <br><br>  Sistem ini juga menentukan sifat-sifat partikel yang memengaruhi geometri, kecepatan, dan parameter lainnya.  API emitor yang berbeda memiliki nama yang berbeda untuk properti yang serupa. <br><br>  Ketika partikel dipancarkan oleh sistem pada saat yang sama, mereka menciptakan animasi yang menakjubkan yang dapat terlihat seperti hujan, api atau salju. <br><br><img src="https://habrastorage.org/webt/m1/rj/jo/m1rjjoaqdn9cnn5gqkzjnu1o2iw.gif"><img src="https://habrastorage.org/webt/ti/zj/yi/tizjyikmqt6nvvztyycatujepgs.gif"><img src="https://habrastorage.org/webt/3e/vq/4d/3evq4dymfm0o-qaoy8qqs0jhkti.gif"><br><br><h1>  Dari teori ke praktik </h1><br>  Saya pikir Apple kemungkinan besar memiliki dukungan sistem partikel built-in di salah satu kerangka kerjanya.  Dan hasil pencarian saya menunjukkan bahwa saya benar. <br><br>  Sistem partikel adalah bagian dari kerangka Animasi Inti dan dijelaskan dengan baik di kelas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CAEmitterLayer</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CAEmitterCell</a> . <br><br>  Setelah mempelajari semua informasi yang diperlukan tentang sistem partikel dan API yang didukung di iOS, saya melanjutkan ke bagian favorit saya - menerapkan ide kami. <br><br>  Sayangnya, Natal tidak selamanya, jadi kami membutuhkan kemampuan untuk mematikan kepingan salju dari jarak jauh setelah tanggal 25 Desember. <br><br>  Seperti yang saya sebutkan di atas, animasi peluncuran aplikasi diimplementasikan menggunakan Lottie.  Artinya, saya perlu menemukan cara untuk menambahkan kepingan salju sedemikian rupa sehingga tidak mempengaruhi animasi dan kode yang ada, karena solusi saya harus dihapus segera setelah rilis. <br><br>  Saya menemukan cara yang sangat sederhana untuk melakukan ini - saya menambahkan UIView transparan baru untuk menunjukkan kepingan salju di depan animasi dan latar belakang yang ada dan kemudian mengontrol penampilannya dari jarak jauh menggunakan bendera. <br><br><img src="https://habrastorage.org/webt/rm/_l/zk/rm_lzk5j94unwv3h5lqj9mqv65a.png"><br><br>  Gambar di atas menunjukkan UIView yang digunakan dalam solusi akhir: <br><br><ol><li>  <b>UIView</b> dengan sistem partikel yang memancarkan kepingan salju. <br></li><li>  <b>UIViews</b> digunakan dalam animasi peluncuran aplikasi yang digerakkan Lottie. <br></li></ol><br><br>  Setelah masalah ini diselesaikan, saya harus membuat komponen yang berisi logika emisi partikel untuk menghasilkan kepingan salju animasi. <br><br>  Sebagai permulaan, saya membutuhkan gambar kepingan salju yang dapat saya gunakan sebagai konten untuk emitor.  Mereka harusnya cukup sederhana, bukan? <br><br>  Setiap kepingan salju adalah lingkaran putih biasa atau kabur.  Saya membuatnya sendiri di Sketsa. <br><br><img src="https://habrastorage.org/webt/9p/va/zd/9pvazdqkilhjtvjtidqvl1nwsh4.png" width="500"><br><br><h1>  Beberapa detail implementasi </h1><br>  CAEmitterLayer adalah CALayer khusus yang membuat, menghidupkan, dan merender sistem partikel.  Ini memungkinkan Anda untuk mengontrol geometri, posisi, mode menggambar, dan banyak lagi. <br><br>  Saya mulai mengembangkan animasi dengan membuat layer: <br><br><pre><code class="swift hljs">snowEmitterLayer.emitterShape = <span class="hljs-type"><span class="hljs-type">CAEmitterLayerEmitterShape</span></span>.line snowEmitterLayer.beginTime = <span class="hljs-type"><span class="hljs-type">CACurrentMediaTime</span></span>() snowEmitterLayer.timeOffset = <span class="hljs-number"><span class="hljs-number">10.0</span></span></code> </pre> <br>  Saya hanya perlu mengubah tiga properti: <br><br><ul><li>  <b>emitterShape</b> : mendefinisikan bentuk layer.  Saya menggunakan garis yang memungkinkan kepingan salju muncul di sepanjang layar; <br></li><li>  <b>beginTime</b> : adalah bagian dari protokol CAMediaTiming dan mewakili waktu mulai animasi layer relatif terhadap animasi layer induk; <br></li><li>  <b>timeOffset</b> : juga merupakan bagian dari protokol CAMediaTiming dan, pada dasarnya, adalah animasi maju-cepat untuk waktu tertentu relatif terhadap permulaannya.  Saya menetapkan nilai 10 detik, yang mengarah pada fakta bahwa pada saat animasi dimulai, kepingan salju sudah menutupi seluruh layar, dan itulah yang kami inginkan (jika saya menetapkan nilainya menjadi 0 detik, kepingan salju akan mulai muncul di atas dan menutupi layar. seluruhnya hanya setelah beberapa waktu). <br></li></ul><br>  Setelah selesai lapisan, saya membuat dua emitor berbeda: lebih berat untuk kepingan salju dan lebih mudah untuk kepingan salju. <br><br>  Untuk kepingan salju yang berat, saya mengatur emitor sebagai berikut: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> flakeEmitterCell = <span class="hljs-type"><span class="hljs-type">CAEmitterCell</span></span>() flakeEmitterCell.contents = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"snowflake_dot"</span></span>)!.cgImage flakeEmitterCell.emissionRange = .pi flakeEmitterCell.lifetime = <span class="hljs-number"><span class="hljs-number">20.0</span></span> flakeEmitterCell.birthRate = <span class="hljs-number"><span class="hljs-number">30</span></span> flakeEmitterCell.scale = <span class="hljs-number"><span class="hljs-number">0.15</span></span> flakeEmitterCell.scaleRange = <span class="hljs-number"><span class="hljs-number">0.6</span></span> flakeEmitterCell.velocity = <span class="hljs-number"><span class="hljs-number">30.0</span></span> flakeEmitterCell.velocityRange = <span class="hljs-number"><span class="hljs-number">20</span></span> flakeEmitterCell.spin = -<span class="hljs-number"><span class="hljs-number">0.5</span></span> flakeEmitterCell.spinRange = <span class="hljs-number"><span class="hljs-number">1.0</span></span> flakeEmitterCell.yAcceleration = <span class="hljs-number"><span class="hljs-number">30.0</span></span> flakeEmitterCell.xAcceleration = <span class="hljs-number"><span class="hljs-number">5.0</span></span></code> </pre> <br>  Seperti yang Anda lihat, saya harus mengubah sejumlah besar properti, yang masing-masing sangat penting untuk mencapai efek yang diinginkan: <br><br><ul><li>  <b>isi</b> : CGImage digunakan untuk menampilkan satu kepingan salju (seingat Anda, ini adalah salah satu gambar yang saya buat sendiri); <br></li><li>  <b>emissionRange</b> : sudut dalam radian mendefinisikan kerucut di mana partikel akan muncul (saya memilih sudut PI sehingga partikel terlihat di seluruh layar); <br></li><li>  <b>seumur hidup</b> : menentukan masa hidup satu partikel; <br></li><li>  <b>birthRate</b> : menentukan jumlah partikel yang dipancarkan setiap detik; <br></li><li>  <b>scale</b> and <b>scaleRange</b> : memengaruhi ukuran partikel, di mana nilai 1,0 adalah ukuran maksimum;  interval menentukan penyimpangan dalam ukuran antara partikel yang dibuat, yang memungkinkan partikel ukuran acak untuk dipancarkan; <br></li><li>  <b>velocity</b> and <b>velocityRange</b> : memengaruhi kecepatan penampakan partikel;  menyimpang secara acak dalam nilai yang ditentukan dalam velocityRange; <br></li><li>  <b>spin</b> dan <b>spinRange</b> : memengaruhi kecepatan rotasi, diukur dalam radian per detik, dan deviasi acak dalam nilai yang ditentukan dalam spinRange; <br></li><li>  <b>yAcceleration</b> dan <b>xAcceleration</b> : ini adalah dua komponen vektor percepatan yang diterapkan pada emitor. <br></li></ul><br>  Saya juga membutuhkan emitor kedua untuk membuat kepingan salju ringan.  Semua properti tetap tidak berubah, dengan pengecualian dua: <br><br><ul><li>  <b>isi</b> : di sini saya menggunakan gambar dengan lingkaran buram; <br></li><li>  <b>kecepatan</b> : dan di sini saya harus mengurangi kecepatan jatuh untuk membuat kepingan salju ringan. <br></li></ul><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> blurryFlakeEmitterCell = <span class="hljs-type"><span class="hljs-type">CAEmitterCell</span></span>() blurryFlakeEmitterCell.contents = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"snowflake_blurry_dot"</span></span>)?.cgImage blurryFlakeEmitterCell.velocity = <span class="hljs-number"><span class="hljs-number">40</span></span> <span class="hljs-comment"><span class="hljs-comment">//     </span></span></code> </pre> <br>  Saya hanya bisa menghubungkan layer dan emitor, yang ternyata sangat mudah: <br><br><pre> <code class="swift hljs">snowEmitterLayer.emitterCells = [flakeEmitterCell, blurryFlakeEmitterCell] <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layer.addSublayer(snowEmitterLayer)</code> </pre><br><h1>  Kesimpulan </h1><br>  Saya segera membuat versi yang berfungsi dengan butiran salju yang jatuh, yang terlihat sangat bagus.  Itu cukup sederhana untuk diterapkan dan tidak mengubah kode yang ada.  Saya menunjukkannya kepada para desainer, dan mereka sangat menyukainya. <br><br>  Animasi sistem partikel bisa sangat mengesankan dan relatif mudah diterapkan jika Anda memiliki alat yang tepat. <br><br>  Informasi lebih lanjut tentang sistem partikel dapat ditemukan di sumber-sumber berikut: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wikipedia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ray sedih</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Persatuan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Allen Martin pada sistem partikel</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id446938/">https://habr.com/ru/post/id446938/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id446920/index.html">Rekayasa terbalik Google April Mop</a></li>
<li><a href="../id446922/index.html">Kucing di bawah tenda. Bagian 2</a></li>
<li><a href="../id446924/index.html">Representasi polinomial sewenang-wenang dalam bentuk perbedaan hingga dengan langkah sewenang-wenang</a></li>
<li><a href="../id446926/index.html">"Jadi saya menyadari bahwa sekarang saya seorang insinyur kencan, dan dengan cara yang berbeda Anda dapat memposisikan diri di pasar"</a></li>
<li><a href="../id446932/index.html">TDMS Fairway dan BIM</a></li>
<li><a href="../id446940/index.html">QA pada prod. Kenapa itu keren?</a></li>
<li><a href="../id446942/index.html">Server, bisakah kau mendengarku? Serangan BROP pada contoh tugas NeoQUEST-2019</a></li>
<li><a href="../id446944/index.html">Mengapa berinvestasi di perusahaan yang tidak menguntungkan?</a></li>
<li><a href="../id446948/index.html">Bagaimana Android Gustuff Trojan menghapus krim (fiat dan crypto) dari akun Anda</a></li>
<li><a href="../id446950/index.html">76% produsen tidak memiliki pengalaman menerapkan aditif - mengapa itu baik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>