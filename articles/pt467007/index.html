<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêüèΩ üë¶üèº ü§òüèæ FLProg - Integra√ß√£o independente ao programa de controladores personalizados üîå üë®üèæ‚Äçüé§ üßîüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Durante muito tempo, o projeto FLProg n√£o foi abordado em Habr√©. Isso se deve √† falta de tempo para escrever artigos e at√© a meus pr√≥prios problemas p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>FLProg - Integra√ß√£o independente ao programa de controladores personalizados</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467007/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/m4/sc/xc/m4scxccdteuasxjzm_whvn1bs9q.png"></div><br>  Durante muito tempo, o projeto FLProg n√£o foi abordado em Habr√©.  Isso se deve √† falta de tempo para escrever artigos e at√© a meus pr√≥prios problemas pessoais.  Mas o projeto n√£o est√° morto, vive e se desenvolve.  Em m√©dia, uma vez por m√™s, a pr√≥xima vers√£o do programa √© lan√ßada.  Desde a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√∫ltima publica√ß√£o</a> , a renderiza√ß√£o do circuito foi completamente refeita (gra√ßas a isso, os frisos foram eliminados durante a renderiza√ß√£o), o sistema de refer√™ncia cruzada para o projeto e um sistema para analisar o projeto quanto a erros.  O pr√≥prio c√≥digo do programa foi portado para uma vers√£o mais recente da linguagem de programa√ß√£o.  Devido a isso, do lado positivo (do meu ponto de vista, √© claro, bem, os usu√°rios me apoiam), a interface do programa mudou.  Muitos blocos interessantes foram adicionados.  Escala de esquema implementada e pesquisa de bloco. <br><a name="habracut"></a><br>  Mas, ainda assim, o principal problema do projeto √© que o desenvolvedor do programa √© uma pessoa (esse sou eu), e o n√∫mero de diferentes placas controladoras, sensores, sensores, placas de expans√£o fabricadas pelos chineses e recentemente por nossos fabricantes est√° em constante crescimento.  E os usu√°rios querem experiment√°-los ou us√°-los em seus projetos.  Para dispositivos perif√©ricos, ao mesmo tempo, esse problema foi mais ou menos resolvido por mim com a ajuda da cria√ß√£o de um editor de blocos personalizado.  Esta etapa, como se costuma dizer, disparou, e agora, quase na maioria das placas perif√©ricas existentes, na Internet ou no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">f√≥rum do programa</a> , voc√™ pode encontrar o bloco de usu√°rio correspondente.  Bem, ou no mesmo f√≥rum (ou em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">grupo em Vkontakte</a> ) pe√ßa aos gurus locais que escrevam um.  Geralmente voc√™ pode, de uma forma ou de outra, concordar. <br><br>  Agora √© hora de resolver o segundo problema - estas s√£o placas controladoras. <br><br>  Recentemente, foi lan√ßada uma vers√£o beta do programa com o n√∫mero 6.0.  Nesta vers√£o, o editor de descri√ß√µes do usu√°rio dos controladores √© implementado.  Como nos blocos personalizados, as descri√ß√µes podem ser agrupadas em bibliotecas, salvas como descri√ß√µes separadas, bem como bibliotecas inteiras como um arquivo e compartilhadas. <br><br>  Com este post, inicio uma s√©rie de pelo menos dois posts nos quais consideraremos como usar este editor.  No primeiro artigo, com a permiss√£o do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">shiotiny,</a> tentarei descrever <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o quadro do ShIoTiny.</a>  No segundo artigo, tentaremos criar um anal√≥gico de um controlador industrial real e descrev√™-lo. <br><br>  Ent√£o, vamos come√ßar. <br><br>  Abra o programa FLProg.  No menu "Ferramentas", selecione o "Editor de descri√ß√µes personalizadas do controlador". <br><br><img src="https://habrastorage.org/webt/x-/ut/xg/x-utxgu-j-yc6o4bxbij3ortuye.png"><br><br>  A janela do editor de descri√ß√£o √© aberta. <br><br>  Descri√ß√µes personalizadas podem ser combinadas na biblioteca com qualquer profundidade de aninhamento.  Portanto, primeiro criamos uma biblioteca de descri√ß√£o. <br><br><img src="https://habrastorage.org/webt/io/kh/cs/iokhcsgn0qt_kgc6zvf4nhmi8a4.png"><br><br>  Defina o nome da biblioteca. <br><br><img src="https://habrastorage.org/webt/ir/l1/bd/irl1bdlbht21as-bsinayisfuzi.png"><br><br>  Depois disso, criaremos uma descri√ß√£o do controlador na biblioteca. <br><br><img src="https://habrastorage.org/webt/er/fr/60/erfr60lyicwjbbppzgshkypj6ha.png"><br><br>  E d√™-lhe um nome: <br><br><img src="https://habrastorage.org/webt/zr/vw/of/zrvwofrlxkqwswrwq149hkmxlti.png"><br><br>  Ao criar uma descri√ß√£o do controlador, chegamos imediatamente ao ramo dos par√¢metros gerais. <br><br><img src="https://habrastorage.org/webt/t7/u1/ct/t7u1ct8h0myo9vxvfjtapl58vpe.png"><br><br>  Aqui podemos mudar o nome, definir o tipo de CPU, definir o tamanho da EEPROM, alterar o n√∫mero da vers√£o da descri√ß√£o. <br><br>  Como a placa ShloTiny √© baseada no controlador ESP8266, n√≥s a selecionamos.  Ao escolher um controlador, o volume EEPROM correspondente √© automaticamente afixado.  Se necess√°rio, esse valor pode ser alterado.  O n√∫mero da vers√£o padr√£o para a nova descri√ß√£o √© definido como 1. <br><br>  No futuro, ao alterar as descri√ß√µes existentes, √© recomend√°vel alter√°-lo na dire√ß√£o do aumento.  Ao usar esta descri√ß√£o em um projeto, o programa comparar√° a vers√£o da descri√ß√£o no projeto e na biblioteca.  Se o n√∫mero da vers√£o da descri√ß√£o na biblioteca for maior que no projeto, o item para atualizar a descri√ß√£o no programa aparecer√° no menu "Projeto" do programa.  Se vice-versa, um item aparecer√° para atualizar a descri√ß√£o na biblioteca.  Bem, se a descri√ß√£o do controlador usado no projeto n√£o for encontrada na biblioteca, o item para inserir a descri√ß√£o do projeto na biblioteca aparecer√° no mesmo menu. <br><br>  Tamb√©m neste t√≥pico, voc√™ pode escrever uma descri√ß√£o em texto do controlador que ajude na sua sele√ß√£o. <br><br>  Para aplicar as altera√ß√µes feitas antes de mudar para outra ramifica√ß√£o dos par√¢metros do controlador, clique no bot√£o "Aplicar".  Se isso n√£o for feito, as altera√ß√µes n√£o ser√£o salvas. <br><br>  Agora considere o diagrama de circuitos da placa ShloTiny. <br><br><img src="https://habrastorage.org/webt/lq/wt/de/lqwtdebl8ssogd2rvcvvxbz9rd0.png"><br><br>  A placa possui tr√™s entradas digitais, tr√™s sa√≠das digitais, uma entrada anal√≥gica e uma entrada para o sensor.  Um total de oito conclus√µes do conselho. <br><br>  No editor, v√° para o ramo "Conclus√µes do controlador" e defina o n√∫mero de conclus√µes. N√£o se esque√ßa de clicar no bot√£o "Aplicar" depois disso. <br><br><img src="https://habrastorage.org/webt/ls/wl/lb/lswllbh_hqil-hof8ydl6z7vn9y.png"><br><br>  O programa ir√° gerar o n√∫mero necess√°rio de conclus√µes.  Passamos para o primeiro deles. <br><br><img src="https://habrastorage.org/webt/4u/d9/ha/4ud9habaghl5ioujfwby0a-08tc.png"><br><br>  Nesta ramifica√ß√£o, voc√™ pode especificar um nome de sa√≠da alternativo, que ser√° exibido no programa.  Se estiver ausente, o programa exibir√° PinN onde N √© o n√∫mero do pino na lista de pinos.  Eu recomendo que voc√™ escreva uma inscri√ß√£o no quadro no campo nome alternativo.  Isso facilitar√° a compreens√£o de que conclus√£o est√° sendo tirada.  Para a placa descrita, colocaremos o valor da Entrada1 de acordo com o diagrama de circuitos.  Portanto, neste t√≥pico, voc√™ pode escrever uma descri√ß√£o individual da sa√≠da, por exemplo, para indicar os recursos de sua aplica√ß√£o.  Se necess√°rio, voc√™ tamb√©m pode especificar um alias para a sa√≠da, que ser√° exibido no programa entre colchetes ap√≥s o nome da sa√≠da. <br><br>  Depois de fazer as altera√ß√µes, n√£o se esque√ßa de clicar no bot√£o "Aplicar".  Pelo mesmo princ√≠pio, vamos chamar as conclus√µes restantes. <br><br><img src="https://habrastorage.org/webt/bp/y6/1u/bpy61u53hnwuttwg6s4ttl7kq2y.png"><br><br>  No mesmo ramo dos principais par√¢metros de sa√≠da, as fun√ß√µes que ele executa s√£o adicionadas a ele. <br><br><img src="https://habrastorage.org/webt/ks/ol/vt/ksolvtqefuyugg0s1aven_efhps.png"><br><br>  As seguintes fun√ß√µes podem ser atribu√≠das a cada pino. <br><br><img src="https://habrastorage.org/webt/y8/04/cd/y804cdepj9pr9qgnji3h9ffan38.png"><br><br><ul><li>  I2C √© uma fun√ß√£o de um dos pinos de barramento I2C (SDA ou SCL). </li><li>  O SPI √© uma fun√ß√£o de um dos pinos do barramento SPI (MISO, MOSI, SCK, SS). </li><li>  UART √© uma fun√ß√£o de um dos pinos da interface UART (RX ou TX). </li><li>  Fun√ß√£o de entrada anal√≥gica </li><li>  Fun√ß√£o de sa√≠da anal√≥gica (ainda n√£o usada no FLProg, lista de pend√™ncias para o futuro). </li><li>  Fun√ß√£o de entrada / sa√≠da digital. </li></ul><br>  Atribua a fun√ß√£o de entrada / sa√≠da digital do pino 1.  Ao atribuir uma nova fun√ß√£o (ainda n√£o configurada) √† sa√≠da, a ramifica√ß√£o "Erros" aparecer√° na √°rvore do controlador e todo o caminho para a ramifica√ß√£o da fun√ß√£o incorreta ficar√° vermelho.  No ramo "Erros", voc√™ pode ver uma lista de erros encontrados na descri√ß√£o do controlador. <br><br><img src="https://habrastorage.org/webt/fu/c5/l6/fuc5l68t2uqnnb018st1us7kp84.png"><br><br>  Nesse caso, a entrada 1 na fun√ß√£o ‚ÄúEntrada / sa√≠da digital‚Äù n√£o especifica o n√∫mero dessa entrada como digital.  Mudamos para o ramo desta fun√ß√£o (no futuro, pretendo fazer uma transi√ß√£o direta para o ramo desejado quando clicar em um erro). <br><br><img src="https://habrastorage.org/webt/m5/86/hp/m586hpytkvzarwhavx6lf1a2lcm.png"><br><br>  De acordo com o diagrama de circuito da placa, a sa√≠da ‚ÄúInput1‚Äù √© conectada ao pino GPIO2 do controlador.  N√≥s inserimos esse valor no campo "N√∫mero da entrada digital".  Ao compilar um projeto, esse valor ser√° inserido no c√≥digo.  Como o uso desta entrada como sa√≠da n√£o √© fornecido, removemos a caixa de sele√ß√£o "Pode ser usada como sa√≠da".  Como sempre, clique no bot√£o "Aplicar".  Da mesma maneira, configure as outras duas entradas digitais.  Ent√£o v√° para a sa√≠da da entrada anal√≥gica "ADC1" e adicione a fun√ß√£o "Entrada Anal√≥gica". <br><br><img src="https://habrastorage.org/webt/i5/vb/6j/i5vb6johktcuk0mym00jifsptqm.png"><br><br>  Nas configura√ß√µes desta fun√ß√£o, voc√™ deve especificar o n√∫mero desta sa√≠da como uma entrada anal√≥gica.  De acordo com o esquema, este √© 0 (em ESP8266 √© um). <br><br><img src="https://habrastorage.org/webt/jh/yl/vs/jhylvsjhmvsl6dbki2nsnmu-aoe.png"><br><br>  Em seguida, v√° para a configura√ß√£o de sa√≠da "1WIRE".  Aqui, adicionamos a fun√ß√£o de entrada / sa√≠da digital, mas proibimos o uso de entrada e sa√≠da.  Como resultado, ele estar√° dispon√≠vel para sele√ß√£o apenas nos blocos de sensores e n√£o estar√° dispon√≠vel ao criar entradas e sa√≠das. <br><br><img src="https://habrastorage.org/webt/5o/s-/3i/5os-3i6f-756ojmbhfn0jrblftm.png"><br><br>  As configura√ß√µes das sa√≠das ‚ÄúK1‚Äù - ‚ÄúK3‚Äù s√£o semelhantes √†s configura√ß√µes das entradas ‚ÄúInput1‚Äù - ‚ÄúInput3‚Äù somente no caso de sa√≠das que s√£o proibidas de serem usadas como entrada. <br><br><img src="https://habrastorage.org/webt/wc/vh/nl/wcvhnl5d42ola1rk3cmcgqltpjy.png"><br><br><img src="https://habrastorage.org/webt/e3/qj/1y/e3qj1yyzrzn36t-plzwu_nl7-sq.png"><br><br>  V√° para o ramo "Imagens".  Nele, podemos adicionar imagens carregadas na descri√ß√£o do controlador, por exemplo, com a apar√™ncia do controlador, pinagem etc. <br><br>  Observe que as imagens s√£o carregadas diretamente na descri√ß√£o do controlador e s√£o armazenadas em um projeto criado usando-o.  Portanto, n√£o carregue imagens grandes.  Isso implicar√° em um aumento no tamanho do projeto e afetar√° a velocidade de sua abertura. <br><br>  A imagem √© adicionada usando o bot√£o "Adicionar imagem". <br><br><img src="https://habrastorage.org/webt/f_/ar/so/f_arso1h9wd207bcwxg0yx8rbjm.png"><br><br>  Depois de selecionar e carregar uma imagem (apenas o formato PNG √© suportado), um ramo separado √© criado para cada imagem na √°rvore.  Nesta ramifica√ß√£o, voc√™ pode especificar um nome para a imagem baixada, que ser√° exibida nas informa√ß√µes do controlador. <br><br><img src="https://habrastorage.org/webt/9f/th/jb/9fthjbpdldgi5zzbmye2ior6kyw.png"><br><br>  Se necess√°rio, voc√™ pode carregar v√°rias imagens e configur√°-las na ordem desejada. <br><br><img src="https://habrastorage.org/webt/b_/cv/lx/b_cvlxb8-0zaxazygmrj300mkhy.png"><br><br><img src="https://habrastorage.org/webt/ru/wh/nu/ruwhnuvfvcuhntsygr0hpapxed0.png"><br><br>  Passamos para o ramo "Blocos padr√£o". <br><br><img src="https://habrastorage.org/webt/5e/nr/gg/5enrggudk1-qgs36xmh1ryem1f8.png"><br><br>  Esta ramifica√ß√£o mostra os blocos que podem ser representados na biblioteca de blocos padr√£o do programa, de acordo com as configura√ß√µes atuais do programa.  O que isso significa?  Alguns dos componentes do programa destinam-se apenas a certos tipos de CPUs.  E sua disponibilidade depende do processador selecionado.  Al√©m disso, os blocos projetados para trabalhar com SPI, I2C, UART aparecer√£o nesta lista somente se as fun√ß√µes correspondentes forem adicionadas aos pinos do controlador.  Os blocos projetados para trabalhar com a EEPROM aparecer√£o apenas se o tamanho da EEPROM especificado na ramifica√ß√£o dos par√¢metros gerais do controlador for maior que zero ou se a fun√ß√£o I2C for adicionada aos pinos do controlador.  Por padr√£o, todos os blocos da biblioteca s√£o proibidos de usar (marcados em laranja).  Voc√™ pode permitir o uso de um bloco separado ou de toda a pasta, real√ßando a ramifica√ß√£o necess√°ria e clicando no bot√£o "Permitir" ou no menu de contexto. <br><br><img src="https://habrastorage.org/webt/_g/-f/cc/_g-fccqwf5_0twhukgxs6wfxhwo.png"><br><br>  Quando voc√™ permite que um bloco ou pasta de blocos seja exibido no programa, eles s√£o pintados de preto. <br><br>  O bloqueio de um bloco ou de uma pasta separada √© proibido da mesma maneira. <br><br><img src="https://habrastorage.org/webt/dc/yo/4p/dcyo4p2p6mj8c1zqtj_p_mymupw.png"><br><br>  Em uma pasta na qual nem todos os blocos podem ser exibidos, eles s√£o marcados com tr√™s asteriscos antes e depois do nome. <br><br>  Proibimos o uso de motores, rel√≥gios em tempo real, displays, unidades de controle IR, sensores (exceto os sensores DS18B20 e DHT22, pois o desenvolvedor da placa at√© agora apenas anunciou seu suporte), chips de expans√£o e um alto-falante piezo. <br><br><img src="https://habrastorage.org/webt/co/ip/ji/coipji0n9m9oho6ed6jjpuatuu8.png"><br><br>  Faremos o mesmo para a linguagem LAD <br><br><img src="https://habrastorage.org/webt/h9/-u/xe/h9-uxez75k-8pyzyi08vk7z-p4m.png"><br><br>  N√£o se esque√ßa de aplic√°-los depois de fazer altera√ß√µes. <br><br>  As ramifica√ß√µes restantes da descri√ß√£o do controlador ser√£o discutidas no pr√≥ximo post, enquanto as configura√ß√µes atuais s√£o suficientes para usar essa placa espec√≠fica no programa FLProg. <br><br>  Por enquanto, vou dizer brevemente que o ramo "Blocos especiais" √© usado para carregar blocos personalizados na descri√ß√£o, que ser√° mostrada na biblioteca de blocos padr√£o do programa ao usar este controlador.  A ramifica√ß√£o "C√≥digo especial" √© usada para registrar o c√≥digo que sempre ser√° inserido no c√≥digo compilado e a ramifica√ß√£o "Bibliotecas especiais" √© usada para carregar bibliotecas na descri√ß√£o do controlador, que ser√° carregada na pasta \ libraries ArduinoIDE com a qual o programa trabalha. <br><br>  Ap√≥s todas as altera√ß√µes, salve a biblioteca de descri√ß√£o do controlador. <br><br><img src="https://habrastorage.org/webt/x0/oe/d7/x0oed7fkffsba-owxcfxvgchyjm.png"><br><br>  Agora vamos tentar usar a descri√ß√£o do controlador que criamos. <br>  No programa FLProg, criamos um novo projeto para o controlador. <br><br><img src="https://habrastorage.org/webt/dx/7w/ya/dx7wyao116azs1a2lwrpoa1tt4i.png"><br><br>  Abra a janela de sele√ß√£o do controlador. <br><br><img src="https://habrastorage.org/webt/l4/5f/wt/l45fwtcbztx_s8w9p71skiimmyo.png"><br><br>  E selecione a descri√ß√£o que criamos. <br><br><img src="https://habrastorage.org/webt/dq/ly/jp/dqlyjprofstw-fkadjd1jiguzl4.png"><br><br>  Ao escolher um controlador, voc√™ pode ver suas imagens e, se necess√°rio, salvar o necess√°rio em um arquivo. <br><br><img src="https://habrastorage.org/webt/ba/ni/gw/banigw8zc9shyyogovawmcvlyxy.png"><br><br><img src="https://habrastorage.org/webt/rh/ra/ss/rhrasshfamvayeljiqnmceepo3g.png"><br><br>  Voc√™ tamb√©m pode ver outros par√¢metros <br><br><img src="https://habrastorage.org/webt/gf/6p/wd/gf6pwdh-67cn9e8cbm0k4utlbw0.png"><br><br>  Ap√≥s selecionar o controlador, confirme sua sele√ß√£o: <br><br><img src="https://habrastorage.org/webt/d0/7x/fy/d07xfyaacufag5wf1zqmcokjjd8.png"><br><br>  Como resultado, a janela principal de trabalho do projeto √© aberta, configurada de acordo com o controlador selecionado. <br><br><img src="https://habrastorage.org/webt/dz/my/qj/dzmyqjeks591vtjfqnqhqnhvty4.png"><br><br>  O objetivo desta publica√ß√£o n√£o inclui a tarefa de treinamento para trabalhar com o programa FLProg.  Isso est√° bem descrito nas minhas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">postagens anteriores</a> , no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site do projeto</a> e no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">f√≥rum</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">projeto</a> .  Al√©m disso, j√° existem muitos canais no YouTube onde s√£o postados tutoriais em v√≠deo sobre como trabalhar com o programa.  Por exemplo, um canal muito bom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúKey to Arduino‚Äù</a> est√° agora conduzindo uma s√©rie de li√ß√µes, com uma apresenta√ß√£o muito boa do material. <br><br>  Portanto, por exemplo, simplesmente criamos um projeto simples e tentamos compil√°-lo. <br>  Primeiro, adicione a entrada do controlador. <br><br><img src="https://habrastorage.org/webt/4c/94/wf/4c94wfvporudssfe-mdvmg6fenm.png"><br><br>  Somente as conclus√µes que nos permitiram trabalhar nessa capacidade est√£o dispon√≠veis para sele√ß√£o como insumo. <br><br><img src="https://habrastorage.org/webt/yy/dk/fi/yydkfixeg0aemh73lrqunx1qq_a.png"><br><br>  Em seguida, crie uma sa√≠da digital.  Apenas conclus√µes permitidas tamb√©m est√£o dispon√≠veis aqui. <br><br><img src="https://habrastorage.org/webt/mk/cq/qm/mkcqqm7djcs0klswidh2qkm2bt8.png"><br><br>  Montamos o circuito para que, quando o bot√£o da Entrada1 (Entrada 1) for pressionado, o rel√© K1 (Rel√©1) seja ativado. <br>  Tamb√©m puxamos a unidade para ler informa√ß√µes do sensor DS18B20 em uma placa de circuito em uma placa separada. <br><br><img src="https://habrastorage.org/webt/xn/wa/2p/xnwa2pfpn7em5w2irs5meayndbc.png"><br><br>  V√° para as configura√ß√µes do bloco.  Ao criar o novo barramento OneWire, vemos que todas as entradas / sa√≠das digitais est√£o dispon√≠veis para sele√ß√£o.  Esta √© uma falha na vers√£o 6.0.  Mas como essa vers√£o ainda tem status beta, √© desculp√°vel.  Na vers√£o 6.1, ser√° poss√≠vel proibir o uso de um pino como sensor, sensor ou para chips de expans√£o.  Al√©m disso, no pr√≥ximo post, mostrarei outra maneira de resolver esse problema.  Por enquanto, selecione 1WIRE pin. <br><br><img src="https://habrastorage.org/webt/yi/0n/i0/yi0ni02zslfqijbthixnw4yeq_m.png"><br><br>  N√≥s configuramos o sensor para definir o endere√ßo atrav√©s da matriz. <br><br><img src="https://habrastorage.org/webt/nu/ft/9h/nuft9hg43uwk_toqi1yanem1miq.png"><br><br>  N√≥s inserimos uma nova placa na frente da primeira e puxamos o bloco ‚ÄúOneWire Bus Scan‚Äù nela. <br><br><img src="https://habrastorage.org/webt/qv/21/r5/qv21r5i9ggwzcovlis6k9kg3f9u.png"><br><br>  N√≥s o configuramos no mesmo barramento OneWire e no mesmo array em que a unidade de leitura do sensor DS18B20 est√° configurada. <br><br><img src="https://habrastorage.org/webt/vm/cm/ri/vmcmrigupgqdmnxfbb8fcwfuluc.png"><br><br>  Montamos um esquema para um √∫nico in√≠cio de uma varredura de barramento quando o controlador √© iniciado, usando o bloco R do gatilho (sele√ß√£o da borda principal). <br><br><img src="https://habrastorage.org/webt/vh/xd/2l/vhxd2l7bxk3afyi7obm1kaix9l0.png"><br><br>  Em uma placa com uma unidade de leitura de dados do sensor DS18B20, montamos um circuito de rel√© on / off com histerese.  Para isso, usamos dois comparadores e um gatilho SR.  Gra√ßas a esse esquema, o rel√© 2 liga quando a temperatura cai abaixo de 10 graus e desliga quando a temperatura sobe acima de 20 graus. <br><br><img src="https://habrastorage.org/webt/55/nw/3y/55nw3y062rknemyx2c7ouyavwgm.png"><br><br>  Iniciamos o esquema de compila√ß√£o. <br><br><img src="https://habrastorage.org/webt/oh/tr/so/ohtrso3_hk9k13yizhsgy8stp0o.png"><br><br>  Como resultado, o c√≥digo resultante ser√° aberto no IDE do Arduino.  Como placa, selecionamos NodeMCU, no qual o mesmo chip est√° instalado como no ShloTiny.  A verifica√ß√£o do c√≥digo mostra que ele est√° correto e pode ser baixado. <br><br><img src="https://habrastorage.org/webt/lv/jy/dc/lvjydc9b531j1inhq5vuumgn0n0.png"><br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo compilado</b> <div class="spoiler_text"><pre><code class="plaintext hljs">#include &lt;OneWire.h&gt; extern "C" { #include "user_interface.h"; } OneWire _ow13(13); byte _FLPArray133289689[9]; unsigned long _d18x2x1Tti = 0UL; float _d18x2x1O = 0.00; bool _trgr1 = 0; bool _bounseInputD2S = 0; bool _bounseInputD2O = 0; unsigned long _bounseInputD2P = 0UL; bool _trgrt1 = 0; bool _trgrt1I = 0; bool _sowb1_needScan = 0; bool _sowb1_ost = 0; bool _sowb1_Out_1 = 0; void setup() { pinMode(2, INPUT); pinMode(12, OUTPUT); pinMode(14, OUTPUT); _bounseInputD2O = digitalRead(2); } void loop() { bool _bounceInputTmpD2 = (digitalRead (2)); if (_bounseInputD2S) { if (millis() &gt;= (_bounseInputD2P + 40)) { _bounseInputD2O = _bounceInputTmpD2; _bounseInputD2S = 0; } } else { if (_bounceInputTmpD2 != _bounseInputD2O ) { _bounseInputD2S = 1; _bounseInputD2P = millis(); } } //:1 if (1) { if (_trgrt1I) { _trgrt1 = 0; } else { _trgrt1 = 1; _trgrt1I = 1; } } else { _trgrt1 = 0; _trgrt1I = 0; }; if (_sowb1_needScan) { if ( _oneWireSeach (_FLPArray133289689, _ow13)) { _sowb1_Out_1 = 1; } _ow13.reset_search(); _sowb1_needScan = 0; } if (_trgrt1) { if (! _sowb1_ost) { _sowb1_ost = 1; _sowb1_needScan = 1; _sowb1_Out_1 = 0; } } else { _sowb1_ost = 0; } //:2 digitalWrite(12, !(_bounseInputD2O)); //:3 if (_isTimer(_d18x2x1Tti, 1000)) { _d18x2x1Tti = millis(); _d18x2x1O = _readDS18_ow13(_FLPArray133289689, _FLPArray133289689[8]); } if (((_d18x2x1O)) &gt; (20)) _trgr1 = 0; if (((_d18x2x1O)) &lt; (10)) _trgr1 = 1; digitalWrite(14, _trgr1); } bool _isTimer(unsigned long startTime, unsigned long period ) { unsigned long currentTime; currentTime = millis(); if (currentTime &gt;= startTime) { return (currentTime &gt;= (startTime + period)); } else { return (currentTime &gt;= (4294967295 - startTime + period)); } } float _convertDS18x2xData(byte type_s, byte data[12]) { int16_t raw = (data[1] &lt;&lt; 8) | data[0]; if (type_s) { raw = raw &lt;&lt; 3; if (data[7] == 0x10) { raw = (raw &amp; 0xFFF0) + 12 - data[6]; } } else { byte cfg = (data[4] &amp; 0x60); if (cfg == 0x00) raw = raw &amp; ~7; else if (cfg == 0x20) raw = raw &amp; ~3; else if (cfg == 0x40) raw = raw &amp; ~1; } return (float)raw / 16.0; } float _readDS18_ow13(byte addr[8], byte type_s) { byte data[12]; byte i; _ow13.reset(); _ow13.select(addr); _ow13.write(0xBE); for ( i = 0; i &lt; 9; i++) { data[i] = _ow13.read(); } _ow13.reset(); _ow13.select(addr); _ow13.write(0x44, 1); return _convertDS18x2xData(type_s, data); } bool _oneWireSeach (byte array[], OneWire ow ) { byte temp[8]; byte i; if ( !ow.search(temp)) { return false; } if (OneWire::crc8(temp, 7) != temp[7]) { return false; } switch (temp[0]) { case 0x10: array[8] = 1; break; case 0x28: array[8] = 0; break; case 0x22: array[8] = 0; break; default: return false; } for ( i = 0; i &lt; 8; i++) { array[i] = temp[i]; } return true; }</code> </pre> <br></div></div><br>  ‚Üí <a href="">Descri√ß√£o do controlador ShloTiny para o programa FLProg</a> <br><br>  Terminaremos esta li√ß√£o. No pr√≥ximo post, tentaremos descrever algo mais s√©rio e mais pr√≥ximo dos controladores industriais "reais". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt467007/">https://habr.com/ru/post/pt467007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466993/index.html">Configura√ß√£o do plugin Warnings Next Generation para integra√ß√£o com o PVS-Studio</a></li>
<li><a href="../pt466995/index.html">Configurando o Plug-in Warnings Next Generation para Integra√ß√£o PVS-Studio</a></li>
<li><a href="../pt466999/index.html">Compara√ß√£o de bibliotecas CLI populares para Python: click, cement, fire e outras</a></li>
<li><a href="../pt467003/index.html">Menu r√°pido, conveniente e adapt√°vel para 1075 categorias (36000 produtos)</a></li>
<li><a href="../pt467005/index.html">Como colorir polin√¥mios corretamente</a></li>
<li><a href="../pt467009/index.html">Criando uma biblioteca dom√©stica com o Notion e o Python</a></li>
<li><a href="../pt467011/index.html">O que ler e ver para come√ßar na Data Science: livros, dicion√°rios e cursos</a></li>
<li><a href="../pt467015/index.html">JWT: ataque de assinatura digital vs ataque de MAC</a></li>
<li><a href="../pt467017/index.html">O que √© o HED / MRSD e para que serve?</a></li>
<li><a href="../pt467019/index.html">Projetando pain√©is para o site de com√©rcio eletr√¥nico de an√°lise da web. Parte 3: Canal SEO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>