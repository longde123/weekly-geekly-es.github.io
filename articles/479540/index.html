<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëî üë®üèº‚Äçüéì üëÉ Uso de passwordstore.org: administrador de contrase√±as estilo KISS üåì üë∏üèΩ üë®‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos En este art√≠culo me gustar√≠a compartir mi experiencia en la configuraci√≥n y el uso de un administrador de contrase√±a y contrase√±a para Li...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Uso de passwordstore.org: administrador de contrase√±as estilo KISS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479540/"><p>  Hola a todos  En este art√≠culo me gustar√≠a compartir mi experiencia en la configuraci√≥n y el uso de un administrador de contrase√±a y contrase√±a para Linux, y no solo eso es notable por su simplicidad, usando las herramientas ya presentes en el sistema y la capacidad de trabajar exclusivamente desde la consola.  M√°s espec√≠ficamente, los problemas relacionados con la generaci√≥n y el almacenamiento de la clave secreta gpg, as√≠ como la configuraci√≥n de colaboraci√≥n entre pass, gpg, git, github y el navegador, se ver√°n afectados.  Todo est√° bajo Linux, Windows y Android. </p><a name="habracut"></a><br><h1 id="chto-eto-takoe-i-kak-ono-rabotaet">  Qu√© es y c√≥mo funciona </h1><br><p>  T√©cnicamente, pasar es un enlace muy simple sobre GnuPG y git escrito en bash.  Cada contrase√±a (e informaci√≥n relacionada, como el inicio de sesi√≥n) se almacena en un archivo cifrado.  La b√∫squeda de la contrase√±a deseada se realiza mediante el nombre del archivo, el cifrado, usando GnuPG, la sincronizaci√≥n entre dispositivos, usando git. </p><br><p>  Adem√°s del pase original, hay dos proyectos m√°s populares compatibles con √©l, que se ejecutan en Windows: </p><br><ol><li>  <a href="https://github.com/IJHack/QtPass">QtPass</a> .  Una aplicaci√≥n GUI escrita, como se puede adivinar, en Qt. </li><li>  <a href="https://github.com/gopasspw/gopass">Gopass</a>  Una aplicaci√≥n de l√≠nea de comandos escrita en go.  En Windows, lo uso.  Sin embargo, en mi opini√≥n, los desarrolladores comenzaron a agregar demasiadas funciones adicionales all√≠, mientras abandonaban su intuici√≥n. </li></ol><br><blockquote>  El desarrollador del pase es Jason Donenfeld, quien tambi√©n es el autor de WireGuard (implementaciones de VPN basadas en est√°ndares modernos de criptograf√≠a, "obra de arte en comparaci√≥n con OpenVPN e IPSec" seg√∫n Linus Torvalds, que <a href="http://lkml.iu.edu/hypermail/linux/kernel/1911.3/04056.html">probablemente</a> aparecer√° en el kernel de Linux 5.6). </blockquote><br><h1 id="sozdanie-sekretnogo-klyucha">  Creaci√≥n de clave secreta </h1><br><p>  GnuPG: un sistema de cifrado y firmas electr√≥nicas.  A pesar de las fallas (por ejemplo, <a href="https://habr.com/ru/post/460827/">un art√≠culo que</a> critica el gpg), ha sido el est√°ndar de facto por m√°s de 20 a√±os.  Incluso el art√≠culo en el enlace tiene dificultades para nombrar una herramienta alternativa para cifrar archivos. </p><br><p>  El proceso de creaci√≥n de una clave secreta en la consola se describe, por ejemplo, <a href="https://habr.com/ru/post/358182/">en habr</a> , pero ¬øpor qu√© no hacerlo en la GUI?  En el proyecto KDE, hicieron una interfaz para GPG llamada <a href="https://kde.org/applications/utilities/org.kde.kleopatra">Kleopatra</a> .  Los usuarios de Linux lo encontrar√°n en los repositorios, y en gpg4win Kleopatra est√° listo para usar. </p><br><p> En el men√∫, seleccione <code>File</code> - <code>New Key Pair</code> - <code>Create a personal OpenPGP key pair</code> . </p><br><p>  Ingrese el nombre y el correo electr√≥nico.  No hay que preocuparse de que los cambie en el futuro.  GPG le permite agregar libremente nuevos uid a la clave y eliminar los existentes.  Si desea firmar sus confirmaciones de git con la clave creada y ver las casillas de verificaci√≥n "Verificadas" frente a ellas, debe especificar un correo electr√≥nico real que tenga el estado de "confirmado" en su cuenta de github. </p><br><p>  A continuaci√≥n, haga clic en <code>Advanced Settings</code> para configurar las configuraciones clave. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/73/_t/sf/73_tsfmk36_soxx0wybhhpmmlpa.png"></div><br><p>  En la secci√≥n <code>Key Material</code> , seleccione <code>ECDSA/EdDSA</code> + <code>ECDH</code> .  Prefiero no usar el algoritmo RSA cl√°sico, sino basado en las curvas el√≠pticas ed25519 / cv25519.  Su principal ventaja sobre RSA desde el punto de vista del usuario final es el tama√±o de clave m√°s peque√±o con la misma fuerza criptogr√°fica.  Se argumenta que la clave ed25519 de 256 bits es casi tan fuerte como la clave RSA de 3072 bits.  La √∫nica ventaja de este √∫ltimo es su alta prevalencia, especialmente en sistemas de hardware. </p><br><p>  Tambi√©n puede seleccionar las familias de curvas Brainpool y NIST desde el men√∫.  Sin embargo, se sospecha que estos √∫ltimos tienen una puerta trasera de la NSA, y los primeros tambi√©n tienen quejas menores.  Por lo tanto, ed25519 y cv25519 propuestos por el famoso cript√≥grafo Daniel Bernstein son la mejor opci√≥n. </p><br><blockquote>  Un hecho interesante: en el est√°ndar de autenticaci√≥n promovido activamente FIDO U2F (que Google particip√≥ activamente en el desarrollo), se utilizan las curvas NIST.  Adem√°s, por ejemplo, Android Keystore tiene su soporte, pero no hay soporte para ed25519.  ¬øPor qu√© sucedi√≥ esto? </blockquote><p>  Como resultado, se crear√°n 2 subclaves en curvas el√≠pticas.  Uno para las firmas, el otro para el cifrado, que es lo que necesitamos.  GPG no permite que se use una subclave para ambos, a pesar del hecho de que es algor√≠tmicamente posible (hay funciones correspondientes, por ejemplo, en la biblioteca <code>libsodium</code> ). </p><br><p>  Si planea utilizar esta clave para trabajar con git, en la secci√≥n <code>Certificate Usage</code> del <code>Certificate Usage</code> , verifique los elementos de <code>Signing</code> y <code>Authentication</code> . </p><br><p>  En el siguiente paso, se propone crear una contrase√±a con la que se proteger√° la clave.  Dado que la clave se utilizar√° para cifrar todos los datos en el almacenamiento, esta contrase√±a es una contrase√±a maestra.  Vale la pena acercarse a su elecci√≥n con pedanter√≠a particular. </p><br><h2 id="generaciya-master-parolya">  Generaci√≥n de contrase√±a maestra </h2><br><p>  Por supuesto, siempre puede generar una cadena aleatoria a partir de un n√∫mero suficiente (por ejemplo, 20) de caracteres.  Sin embargo, es casi imposible de recordar y dif√≠cil de ingresar sin errores, especialmente en un tel√©fono inteligente.  Por lo tanto, el EFF recomienda usar frases de contrase√±a en su <a href="https://ssd.eff.org/en/module/creating-strong-passwords">gu√≠a</a> . </p><br><p>  El m√©todo funciona as√≠: tome un diccionario lo suficientemente grande (EFF ofrece varios diccionarios, por ejemplo <a href="https://www.eff.org/files/2016/07/18/eff_large_wordlist.txt">este</a> ) y seleccione al menos 6 palabras al azar.  Puedes elegir lo que quieras, incluso sin una computadora usando un dado o una moneda.  Este m√©todo se llama <a href="http://world.std.com/~reinhold/diceware.html">dadosware</a> .  Todav√≠a no he llegado a los dados y las monedas, as√≠ que solo <code>shuf</code> utilidad <code>shuf</code> incluida con GNU coreutils: </p><br><pre> <code class="plaintext hljs">$ shuf --random-source=/dev/random -n 6 ./eff_large_wordlist.txt 51345 rendering 24564 edging 65652 vivacious 31343 footprint 55261 snore 24436 earache</code> </pre> <br><p>  Guardamos esta frase de contrase√±a en un lugar seguro fuera de la computadora. </p><br><p>  Como resultado, se crear√° una clave secreta.  Al trabajar en la consola, a menudo debe indicar su huella digital, vale la pena anotar este n√∫mero. </p><br><p>  Ahora puede configurar la integraci√≥n de gpg y git. </p><br><h1 id="integraciya-gpg-git-i-github">  Integraci√≥n de gpg, git y github </h1><br><blockquote>  Estrictamente hablando, este art√≠culo es opcional.  El pase de almacenamiento de contrase√±a es solo un directorio con archivos cifrados, lo que significa que se puede sincronizar a su gusto.  Google Drive, Yandex.Disk, etc.  etc.  Si no desea usar git, le aconsejo que preste atenci√≥n a <a href="https://github.com/syncthing/syncthing">Syncthing</a> .  Este es un programa de c√≥digo abierto que requiere un m√≠nimo de configuraciones y transfiere archivos directamente entre dispositivos sin almacenarlos en servidores de terceros. </blockquote><p>  Como git hosting, nadie se molesta en crear su propio servidor poniendo <a href="https://github.com/go-gitea/gitea">Gitea</a> , por ejemplo, sin embargo, esto significa el costo de su soporte y no necesariamente garantiza una gran seguridad y confiabilidad.  Por lo tanto, yo, sin despreciar el uso de productos de Microsoft, simplemente cre√© un repositorio privado en github. </p><br><p>  El mecanismo de autenticaci√≥n est√°ndar en git es a trav√©s de SSH.  Por lo general, se entiende que esto requiere una clave ssh especial.  Sin embargo, es posible, sin generar entidades innecesarias, utilizar la clave gpg creada en el paso anterior.  Para que ssh use la clave gpg (m√°s precisamente, la subclave), se deben cumplir dos condiciones: </p><br><ol><li>  debe tener el conjunto de banderas <code>A</code> - Autenticar; </li><li>  su keygrip debe estar escrito en el <code>~/.gnupg/sshcontrol</code> . </li></ol><br><p>  El primer elemento ya se ha completado y puede obtener keygrip con el comando </p><br><pre> <code class="plaintext hljs">gpg --list-secret-keys --with-keygrip 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7</code> </pre> <br><p>  En la salida de gpg, estamos interesados ‚Äã‚Äãen el keygrip de la subclave <code>05B6641E23D720E87EE6A26020BAB214B842F2B7</code> ( <code>05B6641E23D720E87EE6A26020BAB214B842F2B7</code> ). </p><br><p>  Ahora puedes subir la clave p√∫blica a github.  Vaya a la secci√≥n de <code>SSH and GPG keys</code> en el <a href="https://github.com/settings/keys">perfil</a> y seleccione <code>New SSH key</code> .  En la consola tecleamos </p><br><pre> <code class="plaintext hljs">$ gpg --export-ssh-key 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7 ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIPfj81nennAoujvw1fLzGx9iED34zk5oDMYKuUcBq5wv openpgp:0x54068AC7</code> </pre> <br><p>  y copie la clave ssh p√∫blica resultante. </p><br><p>  Git puede firmar confirmaciones usando gpg, y github lo admite.  Creo que esta es una caracter√≠stica √∫til para la seguridad.  Exportar el comando public key gpg </p><br><pre> <code class="plaintext hljs">$ gpg --export --armor 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7 -----BEGIN PGP PUBLIC KEY BLOCK----- mDMEXcrHrBYJKwYBBAHaRw8BAQdA9+PzWd6ecCi6O/DV8vMbH2IQPfjOTmgMxgq5 RwGrnC+0G0hlbGxvIEhhYnIgPGZha2VAZW1haWwuY29tPoiQBBMWCAA4BQsJCAcC BhUKCQgLAgQWAgMBAh4BAheAFiEEBgnJ3+8aorON7brcwFRLVVQGiscFAl3WO2wC GyMACgkQwFRLVVQGiscg5AEAkh0a6OQS2CPiXq9bWB+wULHUGT6NYZhwZ3eUQCfH Zq0A/iFBJQkAZIFdqH84ksFbvv6K/LQy72NRJzK0tho6qFwHuDgEXcrHrBIKKwYB BAGXVQEFAQEHQEs6UVOtj5yMGxvRcMU577miH/Bh5kZWMJKHxsDBcXV4AwEIB4h4 BBgWCAAgFiEEBgnJ3+8aorON7brcwFRLVVQGiscFAl3Kx6wCGwwACgkQwFRLVVQG isea8wD/X5JSJW0PMu/KucytUZZo8obHa86/TUwH/8+xQ3+djuEBALugbQRmCIr5 /JYO7x5PNA0QYqhh7LIZ9nKYp0mhqpcO =dc89 -----END PGP PUBLIC KEY BLOCK-----</code> </pre> <br><p>  y copie lo que sucedi√≥ con el <code>New GPG key</code> formulario de <code>New GPG key</code> . <br>  Otras acciones son espec√≠ficas de su sistema operativo. </p><br><h2 id="integraciya-gpg-i-git-linux">  Integraci√≥n de gpg y git (linux) </h2><br><p>  El cliente OpenSSH utilizado por git puede recibir claves de dos maneras: desde el <code>~/.ssh</code> y a trav√©s del socket creado por el demonio <code>ssh-agent</code> .  Este √∫ltimo puede ser <code>gpg-agent</code> , que usaremos.  En el archivo <code>~/.gnupg/gpg-agent.conf</code> necesita escribir la l√≠nea <code>enable-ssh-support</code> . </p><br><p>  Reinicie gpg-agent con el comando </p><br><pre> <code class="plaintext hljs">gpg-connect-agent reloadagent /bye</code> </pre> <br><p>  Despu√©s de eso, crear√° un socket en </p><br><pre> <code class="plaintext hljs">${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh</code> </pre> <br><p>  Esta ruta (puede depender de la distribuci√≥n) debe escribirse en la variable de entorno <code>$SSH_AUTH_SOCK</code> , y ssh la recoger√°.  Escribimos el comando en la consola </p><br><pre> <code class="plaintext hljs">ssh -T git@github.com</code> </pre> <br><p>  y si todo sali√≥ bien, luego de ingresar la contrase√±a maestra, aparecer√° un mensaje sobre la autenticaci√≥n exitosa. </p><br><h2 id="integraciya-gpg-i-git-windows">  Integraci√≥n de gpg y git (Windows) </h2><br><p>  M√°s recientemente, Microsoft agreg√≥ OpenSSH a la cantidad de componentes de Windows disponibles para la instalaci√≥n, y tambi√©n implement√≥ soporte para sockets como <code>AF_UNIX</code> , como el mismo <code>SSH_AUTH_SOCK</code> .  Sin embargo, Win32-OpenSSH no puede interactuar con gpg4win, ya que todav√≠a usa solo canalizaciones con nombre. </p><br><p>  Por lo tanto, debe instalar la masilla de hoja perenne.  Escribimos en el archivo </p><br><pre> <code class="plaintext hljs">~/AppData/Roaming/gnupg/gpg-agent.conf</code> </pre> <br><p>  <code>enable-putty-support</code> y reinicie gpg-agent.  Despu√©s de eso, comenzar√° a fingir ser un concurso: el demonio de las llaves.  El archivo <code>sshcontrol</code> debe estar ubicado en la misma carpeta. </p><br><p>  Para que el cliente git comience a usar masilla, debe crear la <code>GIT_SSH</code> entorno <code>GIT_SSH</code> con la ruta a <code>plink.exe</code> .  Por ejemplo, tengo esto </p><br><pre> <code class="plaintext hljs">C:\ProgramData\chocolatey\bin\PLINK.EXE</code> </pre> <br><blockquote>  Por cierto sobre git.  El <code>git for windows</code> generalmente instalado <code>git for windows</code> cliente de <code>git for windows</code> contiene muchos elementos innecesarios (al menos innecesarios para que gopass funcione), por ejemplo, su propia implementaci√≥n de OpenSSH.  Sin embargo, sus desarrolladores est√°n haciendo versiones m√°s livianas que se pueden descargar <a href="https://github.com/git-for-windows/git/releases">en github</a> .  Por ejemplo, hay MinGit 2 veces m√°s peque√±o, y las personas riesgosas pueden probar MinGit-busybox.  La versi√≥n de busybox surgi√≥ debido al deseo de los desarrolladores de crear un cliente git usando la API Win32 sin capas como MSYS2.  Sin embargo, seg√∫n sus propias rese√±as, mingit-busybox todav√≠a contiene muchos errores.  Puede leer m√°s sobre estos esfuerzos en el <a href="https://github.com/git-for-windows/git/issues/1439">boleto</a> . </blockquote><p>  Aseg√∫rese de que gpg-agent se est√© ejecutando ( <code>gpg-connect-agent /bye</code> ) y verifique la conexi√≥n a github: </p><br><pre> <code class="plaintext hljs">plink git@github.com</code> </pre> <br><h2 id="nastroyka-git">  Configuraci√≥n de Git </h2><br><p>  Nada inusual aqu√≠.  Creo que los comandos se pueden dar sin comentarios: </p><br><pre> <code class="plaintext hljs">git config --global user.name "Hello Habr" git config --global user.email fake@email.com git config --global user.signingKey 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7 git config --global gpg.program /usr/bin/gpg git config --global commit.gpgSign true</code> </pre> <br><p>  El elemento <code>gpg.program</code> necesario si gpg no est√° en la <code>PATH</code> . </p><br><h1 id="bekap-sekretnogo-klyucha">  Copia de seguridad de clave secreta </h1><br><p>  La clave secreta debe almacenarse de forma tan segura como la frase de contrase√±a, es decir, fuera de la computadora.  Simplemente puede imprimir una secuencia larga de n√∫meros, pero reconocerla o ingresar desde el teclado; esto no es para los d√©biles de coraz√≥n.  Por lo tanto, prefiero generar un c√≥digo QR que sea f√°cil de escanear con cualquier tel√©fono inteligente.  Hay un programa especial <code>qrencode</code> para <code>qrencode</code> .  Una imagen de c√≥digo QR se genera de la siguiente manera: </p><br><pre> <code class="plaintext hljs">gpg --export-secret-key 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7 | qrencode --8bit --output secret-key.qr.png</code> </pre> <br><p>  Por supuesto, cuanto menos informaci√≥n innecesaria en la copia de seguridad, mejor.  Aqu√≠, un tama√±o de clave muy peque√±o es ed25519.  Gracias a Daniel Bernstein! </p><br><p>  Hay una utilidad especial de <a href="http://www.jabberwocky.com/software/paperkey/">paperkey</a> que le permite reducir la cantidad de datos al l√≠mite.  El precio de la reducci√≥n es que la clave secreta de dicha copia de seguridad solo se puede restaurar si hay una p√∫blica.  El ecosistema GPG tiene servidores especiales para almacenar claves p√∫blicas; puede leer sobre ellos y no solo en el art√≠culo <a href="https://eax.me/gpg/">https://eax.me/gpg/</a> . </p><br><p>  Se crea una copia de seguridad de paperkey de la siguiente manera: </p><br><pre> <code class="plaintext hljs">gpg --export-key 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7 &gt; pubkey.asc gpg --export-secret-key 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7 | paperkey --output-type raw | qrencode --8bit --output secret-key.qr.png</code> </pre> <br><p>  La segunda regla de la copia de seguridad: la copia de seguridad no existe hasta que se confirme la capacidad de restaurar datos.  Por lo tanto, realizamos una prueba de esfuerzo.  Eliminar la clave secreta con el comando </p><br><pre> <code class="plaintext hljs">gpg --delete-secret-key 0609C9DFEF1AA2B38DEDBADCC0544B5554068AC7</code> </pre> <br><p>  Luego escaneamos el c√≥digo QR e importamos la clave nuevamente en el GPG.  Como esc√°ner de c√≥digo QR para Android, me gusta <a href="https://github.com/markusfisch/BinaryEye">BinaryEye</a> , un programa gratuito con una interfaz f√°cil de usar.  En la imagen a continuaci√≥n: copia de seguridad de la clave secreta de este art√≠culo. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ej/xv/un/ejxvunen3dhkjbktvla6clwajjm.png"></div><br><pre> <code class="plaintext hljs">paperkey --pubring pubkey.asc --secrets from_qr.asc &gt; secretkey.asc gpg --import ./secretkey.asc</code> </pre> <br><p>  Espero que no uses esta clave en ning√∫n lado.  Se crea solo con fines ilustrativos. </p><br><p>  Si todo funciona, entonces puedes seguir adelante. </p><br><h1 id="ispolzovanie-gopass">  Usando el pase (go) </h1><br><p>  Ahora que tenemos una clave privada segura y almacenada, as√≠ como una integraci√≥n funcional con git, podemos comenzar a usar el pase en s√≠.  Prefiero gopass, ya que este enlace alternativo funciona en Windows. <br>  Inicialice el almacenamiento de contrase√±a con el comando </p><br><pre> <code class="plaintext hljs">gopass init</code> </pre> <br><p>  y seleccione la clave secreta deseada de la lista. </p><br><p>  Trabajar con git ocurre de la misma manera que en el caso de un repositorio regular, solo la l√≠nea de comando necesita agregar <code>(go)pass</code> .  Inicializamos el repositorio y agregamos el origen deseado all√≠: </p><br><pre> <code class="plaintext hljs">gopass git init gopass git remote add origin git@github.com:xxx/taisho-secrets.git</code> </pre> <br><p>  La direcci√≥n se puede encontrar en la p√°gina del repositorio en github haciendo clic en el bot√≥n <code>Clone or download</code> . </p><br><p>  Gopass tiene un comando espec√≠fico </p><br><pre> <code class="plaintext hljs">gopass sync</code> </pre> <br><p>  realizando tanto <code>git pull</code> como <code>git push</code> , es decir, sincronizaci√≥n completa. </p><br><p>  El almacenamiento predeterminado se crea en la carpeta <code>~/.password-store</code> , pero tambi√©n puede especificar su propia ruta. <br>  Para trabajar con contrase√±as, la consola admite los comandos ls, cp, mv, search, create, etc.  Puede obtener la lista completa escribiendo <code>gopass --help</code> , pero personalmente no uso la consola, sino el complemento del navegador el 95% del tiempo. </p><br><h2 id="integraciya-s-brauzerom">  Integraci√≥n de navegador </h2><br><p>  El complemento del navegador se llama <a href="https://github.com/gopasspw/gopassbridge">puente gopass</a> , se puede encontrar en la tienda de Chrome y Firefox (ver enlace). </p><br><p>  Para conectar el complemento con el propio gopass, necesitar√° un script auxiliar y un manifiesto para la mensajer√≠a nativa.  Son creados por el equipo. </p><br><pre> <code class="plaintext hljs">gopass jsonapi configure</code> </pre> <br><p>  que nos ofrecer√° elegir un navegador y la ubicaci√≥n del script. </p><br><p>  Mira c√≥mo funciona todo.  Crea una nueva contrase√±a: </p><br><pre> <code class="plaintext hljs">gopass new habr</code> </pre> <br><p>  Respondemos todas las preguntas y ahorramos.  GPG le pedir√° que ingrese una contrase√±a maestra para trabajar con la clave privada. </p><br><p>  Ahora abrimos el men√∫ del complemento con una caracter√≠stica gopher azul, y si todo sali√≥ bien, podemos encontrar nuestra contrase√±a all√≠. </p><br><h2 id="totp-klyuchi">  Teclas TOTP </h2><br><p>  Personalmente, uso <a href="https://freeotp.github.io/">FreeOTP</a> , sin embargo, puedes trabajar con estas teclas usando pass.  Los usuarios del pase original deben instalar la <a href="https://github.com/tadfisher/pass-otp">extensi√≥n pass-otp</a> , y en gopass y APS (ver m√°s abajo) las funciones necesarias est√°n listas para usar. </p><br><p>  Para agregar una clave TOTP al almac√©n de contrase√±as usando pass-otp, obtenemos la URL (comenzando con <code>otpauth://</code> ) e ingresamos el comando </p><br><pre> <code class="plaintext hljs">pass otp insert totp-secret</code> </pre> <br><p>  Si la autenticaci√≥n resultante se puede llamar de dos factores es un punto discutible.  Los desarrolladores de KeePassXC recomiendan almacenar claves TOTP en una base de datos separada protegida por una contrase√±a diferente.  De paso, esto tambi√©n se puede hacer. </p><br><h1 id="integraciya-s-android">  Integraci√≥n de Android </h1><br><p>  La implementaci√≥n de GnuPG para Android se llama <a href="https://github.com/open-keychain/open-keychain">OpenKeychain</a> .  Para configurarlo, simplemente vaya al men√∫ "gesti√≥n de claves" e importe la clave secreta creada anteriormente.  El √∫nico inconveniente de OpenKeychain para m√≠ personalmente es que no hay desbloqueo de huellas digitales. </p><br><p>  La implementaci√≥n del pase para Android se llama <a href="https://github.com/android-password-store/Android-Password-Store">android-password-store</a> , o simplemente APS. </p><br><p>  Instalar y ejecutar APS.  Antes de sincronizar el almacenamiento de la contrase√±a, vaya al men√∫ "Configuraci√≥n".  All√≠ necesitaremos los siguientes elementos: </p><br><ol><li>  <code>  git</code> .  La URL resultante debe ser la misma que la especificada en la p√°gina del repositorio en github.  Tipo de autorizaci√≥n: <code>OpenKeychain</code> . </li><li>  <code>Git utils</code> .  En esta secci√≥n, especifique el nombre de usuario y el correo electr√≥nico desde la clave gpg. </li><li>  <code> OpenPGP</code> .  Seleccione <code>OpenKeychain</code> . </li><li>  <code></code>  Esta caracter√≠stica que apareci√≥ m√°s recientemente incluye completar contrase√±as en aplicaciones en Android 8.0+. </li></ol><br><blockquote>  Nota para los usuarios de tel√©fonos inteligentes Huawei, y para todos los dem√°s: OpenKeychain, APS, BinaryEye, FreeOTP, as√≠ como Syncthing, Telegram, Tachiyomi, KDE Connect y mucho m√°s est√°n disponibles en <a href="https://f-droid.org/">F-Droid</a> .  Los usuarios de Google Play deber√≠an apreciar esto: un cat√°logo de software que no tiene anuncios, rootkits o simplemente software basura del <a href="https://habr.com/ru/post/423889/">famoso art√≠culo tonsky</a> . <br><br>  Antes de autocompletar en APS, us√© <a href="https://github.com/PhilippC/keepass2android">keepass2android</a> .  No est√° en F-Droid por la raz√≥n original: est√° escrito en Xamarin, pero los mantenedores de F-Droid no han podido instalar este marco en su servidor de compilaci√≥n <a href="https://gitlab.com/fdroid/fdroiddata/issues/1529">durante 9 meses</a> .  Alguien hace algo. </blockquote><p>  Ahora puedes clonar.  En la pantalla principal, seleccione "clonar del servidor", especifique la ubicaci√≥n deseada del repositorio, verifique la configuraci√≥n de git. </p><br><p>  Si un intento de trabajar con git conduce a un error (esto probablemente fue en versiones anteriores de APS debido al uso de una versi√≥n obsoleta de la biblioteca <code>jgit</code> del proyecto Eclipse), entonces todav√≠a hay Syncthing. </p><br><h1 id="zaklyuchenie">  Conclusi√≥n </h1><br><p>  Por supuesto, pasar no es tan f√°cil de configurar.  Sin embargo, por este precio, puede confiar en que las herramientas utilizadas por nosotros (as√≠ como personas como Linus Torvalds o Edward Snowden) no ser√°n desaprobadas en un momento dado, no cambiar√°n el formato de datos y no estar√°n sin soporte.  Y si lo hacen, la arquitectura modular simple de pass fomenta la creaci√≥n de cualquier cliente alternativo y extensiones. </p><br><p>  Si decide no usar el pase, espero que algunos de los programas mencionados en el art√≠culo le sean √∫tiles por s√≠ solos. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/479540/">https://habr.com/ru/post/479540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../479524/index.html">Servicio de restauraci√≥n activa o la historia de un proyecto industrial en Innopolis</a></li>
<li><a href="../479530/index.html">Sistema de coordenadas ultras√≥nicas 2.0</a></li>
<li><a href="../479534/index.html">Kubernetes 1.17: c√≥mo actualizar y no gastar todo el presupuesto de error</a></li>
<li><a href="../479536/index.html">Equilibrio de carga en Zimbra Open-Source Edition con HAProxy</a></li>
<li><a href="../479538/index.html">La tecnolog√≠a est√° llevando a la humanidad al declive. Es hora de cambiar algo</a></li>
<li><a href="../479542/index.html">C√≥mo escribir tu propio transliterador</a></li>
<li><a href="../479548/index.html">El camino de las pasant√≠as a las actuaciones en HighLoad 2019</a></li>
<li><a href="../479550/index.html">MVC en Unity con Objetos Scriptables. Parte 3</a></li>
<li><a href="../479552/index.html">Los ingenieros de DevOps no existen. ¬øQui√©n existe entonces y qu√© hacer al respecto?</a></li>
<li><a href="../479554/index.html">Contra todos: asistentes de voz en la aplicaci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>