<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📖 ➕ 🖕🏽 Déterminer la maturité d'une pastèque à l'aide de Keras: un cycle complet, d'une idée à un programme sur Google Play ☃️ 🕖 🙋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comment tout a commencé 
 Tout a commencé avec Apple Market - j'ai découvert qu'ils avaient un programme pour déterminer la maturité d'une pastèque. L...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Déterminer la maturité d'une pastèque à l'aide de Keras: un cycle complet, d'une idée à un programme sur Google Play</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424099/"><h3>  Comment tout a commencé </h3><br>  Tout a commencé avec Apple Market - j'ai découvert qu'ils avaient un programme pour déterminer la maturité d'une pastèque.  Le programme ... est bizarre.  Que vaut, au moins, l'offre de frapper sur une pastèque non pas avec vos phalanges, mais ... par téléphone!  Néanmoins, je voulais répéter cet exploit sur une plate-forme Android plus familière. <br><a name="habracut"></a><br><h3>  Sélection d'outils </h3><br>  Notre problème est résolu de plusieurs manières, et pour être honnête, j'ai dû faire des efforts considérables pour ne pas suivre la voie "simple".  Autrement dit, prenez des transformées de Fourier, des ondelettes et un éditeur de signaux.  Cependant, je voulais acquérir de l'expérience avec les réseaux de neurones, alors laissez les réseaux faire l'analyse des données. <br><br>  Keras, le module complémentaire Google pour TensorFlow et Theano, a été choisi comme bibliothèque pour créer et former des réseaux de neurones.  En général, si vous débutez avec les réseaux d'apprentissage en profondeur, il vaut mieux ne pas trouver d'outil.  D'une part, Keras est un outil puissant optimisé pour la vitesse, la mémoire et le matériel (oui, il peut fonctionner sur les cartes vidéo et leurs clusters).  D'un autre côté, tout ce qui peut être «caché» à l'utilisateur y est caché, vous n'avez donc pas besoin de faire travailler votre cerveau sur l'amarrage des couches d'un réseau de neurones, par exemple.  Très confortable. <br><br>  Comme Keras, et les réseaux de neurones en général, nécessitent une connaissance de Python - ce langage, comme un serpent enroulé autour ... désolé, refoulé.  En bref, vous ne devriez pas vous mêler du Deep Learning moderne sans Python.  Heureusement, Python peut être étudié en deux semaines, dans des cas extrêmes - en un mois. <br><br>  Vous aurez besoin de plus de bibliothèques pour Python, mais ce sont des trivialités - je veux dire, si vous avez traité Python lui-même.  Cela nécessitera une connaissance (très superficielle) de NumPy, PyPlot et, éventuellement, de quelques bibliothèques, dont nous prenons littéralement quelques fonctions.  Pas difficile.  La vérité est. <br><br>  Eh bien, en conclusion, je note que nous n'avons pas besoin des clusters de cartes vidéo mentionnés ci-dessus - notre tâche est normalement résolue à l'aide d'un processeur d'ordinateur - lentement, mais pas de manière critique. <br><br><h3>  Plan de travail </h3><br>  Vous devez d'abord créer un réseau de neurones - sur Python et Keras, sous Ubuntu.  Vous pouvez - sur l'émulateur Ubunta.  Vous pouvez - pour Windows, mais le temps supplémentaire passé vous suffit pour étudier l'Ubuntu mentionné, puis y travailler. <br><br>  L'étape suivante consiste à écrire un programme.  Je prévois de le faire en Java sous Android.  Ce sera un prototype du programme, dans le sens où il aura une interface utilisateur, mais il n'y a pas encore de réseau neuronal. <br><br>  Quel est le sens de l'écriture de «sucettes», demandez-vous.  Mais voici la chose: toute tâche liée à l'analyse des données, tôt ou tard, repose sur la recherche de données - pour la formation de notre programme.  En fait, combien de pastèques devraient être exploitées et dégustées pour que le réseau neuronal puisse construire un modèle fiable sur ces données?  Une centaine?  Plus? <br><br>  Ici, notre programme nous aidera: téléchargez-le sur Google Play, distribuez (d'accord, imposez, tordez les bras) à tous vos amis qui n'ont pas la chance d'avoir un téléphone avec Android, et les données, un minuscule flux, commencent à couler ... et au fait, où? <br><br>  L'étape suivante consiste à écrire un programme serveur qui reçoit des données de notre client Android.  Certes, ce programme serveur est très simple, j'ai tout fini en une vingtaine de minutes.  Mais, néanmoins, il s'agit d'une étape distincte. <br><br>  Enfin, suffisamment de données.  Nous formons un réseau neuronal. <br><br>  Nous portons le réseau neuronal en Java et publions une mise à jour de notre programme. <br><br>  Bénéfice  Mais non.  Le programme était gratuit.  Seulement de l'expérience et des bosses farcies. <br><br><h3>  Création d'un réseau de neurones </h3><br>  Travailler avec l'audio, qui, bien sûr, touche une pastèque, est soit un réseau neuronal récurrent, soit le soi-disant réseau convolutionnel unidimensionnel.  De plus, au cours des dernières années, les réseaux évolutifs ont été sans équivoque en tête, remplaçant les réseaux récurrents.  L'idée d'un réseau convolutionnel est que la fenêtre glisse sur le tableau de données - le graphique «intensité sonore - temps» - et au lieu d'analyser des centaines de milliers d'échantillons, nous ne travaillons qu'avec ce qui entre dans la fenêtre.  Les couches suivantes combinent et analysent les résultats de cette couche. <br><br>  Pour le rendre plus clair, imaginez que vous devez trouver une mouette sur une photo d'un paysage marin.  Vous scannez une image - la «fenêtre» de votre attention se déplace le long de lignes et de colonnes imaginaires, à la recherche d'une coche blanche.  Voici comment fonctionne un réseau convolutionnel 2D, tandis qu'un réseau unidimensionnel balaye le long d'une coordonnée - c'est le meilleur choix si nous avons affaire à un signal audio. <br><br>  Je note cependant qu'il n'est pas nécessaire de se concentrer sur les réseaux 1D.  Comme exercice, j'ai tracé le son et analysé le bitmap résultant comme une image - en utilisant un réseau de convolution 2D.  À ma grande surprise, le résultat n'a pas été pire que lors de l'analyse de données «unidimensionnelles brutes». <br><br>  Le réseau utilisé avait la structure suivante: <br><br><pre><code class="python hljs">model = Sequential() model.add(Conv1D(filters=<span class="hljs-number"><span class="hljs-number">32</span></span>, kernel_size=<span class="hljs-number"><span class="hljs-number">512</span></span>, strides=<span class="hljs-number"><span class="hljs-number">3</span></span>, padding=<span class="hljs-string"><span class="hljs-string">'valid'</span></span>, use_bias=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, input_shape=(nSampleSize, <span class="hljs-number"><span class="hljs-number">1</span></span>), name=<span class="hljs-string"><span class="hljs-string">'c1d'</span></span>, activation=<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>, input_shape=(nSampleSize, <span class="hljs-number"><span class="hljs-number">1</span></span>))) model.add(MaxPooling1D(pool_size=(<span class="hljs-number"><span class="hljs-number">2</span></span>))) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">32</span></span>, (<span class="hljs-number"><span class="hljs-number">3</span></span>))) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(MaxPooling1D(pool_size=(<span class="hljs-number"><span class="hljs-number">2</span></span>))) model.add(Conv1D(<span class="hljs-number"><span class="hljs-number">64</span></span>, (<span class="hljs-number"><span class="hljs-number">3</span></span>))) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(MaxPooling1D(pool_size=(<span class="hljs-number"><span class="hljs-number">2</span></span>))) model.add(Flatten()) model.add(Dense(<span class="hljs-number"><span class="hljs-number">64</span></span>)) model.add(Activation(<span class="hljs-string"><span class="hljs-string">'relu'</span></span>)) model.add(Dropout(<span class="hljs-number"><span class="hljs-number">0.5</span></span>)) model.add(Dense(nNumOfOutputs)) <span class="hljs-comment"><span class="hljs-comment">#1)) model.add(Activation('sigmoid')) model.compile(loss='mean_squared_error', optimizer='adam', metrics=['accuracy'])</span></span></code> </pre> <br>  Ce réseau a deux valeurs de sortie (il prédit deux valeurs): douceur et maturité.  La douceur est 0 (non sucré), 1 (normal) et 2 (excellent), et la maturité, respectivement, 0 est trop dur, 1 est ce dont vous avez besoin et 2 est trop mûr, comme le coton avec du sable. <br><br>  Les notes de l'échantillon de test sont définies par la personne, exactement comment - nous parlerons dans la section sur le programme pour Android.  La tâche du réseau neuronal est de prédire quelle note une personne accordera pour une pastèque donnée (selon un robinet). <br><br><h3>  Écrire un programme </h3><br>  J'ai déjà mentionné que le programme devrait sortir en deux versions.  La première, préliminaire, avertit honnêtement l'utilisateur que ses prédictions sont complètement absurdes.  Mais il permet à l'utilisateur d'enregistrer un coup sur une pastèque, d'évaluer le goût de cette pastèque et de l'envoyer à l'auteur du programme sur Internet.  Autrement dit, la première version collecte simplement des données. <br><br>  Voici la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page</a> du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">programme</a> sur Google Play, bien sûr, le programme est gratuit. <br><br>  Que fait-elle: <br><br>  1. Appuyez sur le bouton avec le microphone et l'enregistrement démarre.  Vous avez cinq secondes pour frapper la pastèque trois fois - coup-coup-coup.  Un bouton avec une pastèque fait une «prédiction», et nous ne la touchons pas encore. <br><br>  Remarque - si Google a une ancienne version, l'enregistrement et la prédiction sont combinés dans un bouton avec une pastèque, mais il n'y a pas de bouton avec un microphone. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/534/298/569/534298569949fd9bf2ac74a5a6ed51f4.png" alt="image"><br><br>  2. Le fichier enregistré est temporaire et sera écrasé la prochaine fois que vous appuierez sur le bouton d'enregistrement.  Cela vous permet de répéter le tapotement si quelqu'un parle bras dessus bras dessous (vous ne pouvez pas imaginer à quel point il est difficile de faire taire les autres pendant cinq secondes!) Ou l'eau est bruyante - la vaisselle sonne - le voisin est en train de forer ... <br><br>  Mais maintenant, la pastèque est sélectionnée et achetée.  Vous l'avez ramené à la maison, enregistré un son et coupé.  Vous êtes maintenant prêt à évaluer son goût.  Sélectionnez l'onglet Enregistrer. <br><br>  Sur cet onglet, nous voyons deux zones de liste déroulante pour le classement - douceur et maturité (douceur et maturité, le travail de traduction est en cours).  Mettez une marque - cliquez sur Enregistrer. <br><br>  Attention!  Enregistrer ne peut être cliqué qu'une seule fois.  Alors, mettez d'abord une marque.  Au simple toucher d'un bouton, le fichier son est renommé et maintenant il ne sera pas effacé la prochaine fois qu'il sera enregistré. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a2d/45d/54f/a2d45d54f0a21680a342db630b59d09d.png" alt="image"><br><br>  3. Enfin, après avoir enregistré (et donc mangé) une dizaine de pastèques, vous êtes rentré du chalet, où vous n'aviez pas Internet.  Maintenant, Internet l'est.  Ouvrez l'onglet Soumettre et appuyez sur le bouton.  Le package (avec une douzaine de pastèques) va au serveur du développeur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5c/c5f/d41/d5cc5fd41549ca66036c8b49a0645c34.png" alt="image"><br><br><h3>  Écrire un programme serveur </h3><br>  Tout est simple ici, donc je ferais mieux de disposer le code complet de ce script.  Le programme «capture» les fichiers, leur donne des noms uniques et les place dans un répertoire accessible uniquement au propriétaire du site. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_uploaded_file($_FILES[<span class="hljs-string"><span class="hljs-string">'file'</span></span>][<span class="hljs-string"><span class="hljs-string">'tmp_name'</span></span>])) { $uploads_dir = <span class="hljs-string"><span class="hljs-string">'./melonaire/'</span></span>; $tmp_name = $_FILES[<span class="hljs-string"><span class="hljs-string">'file'</span></span>][<span class="hljs-string"><span class="hljs-string">'tmp_name'</span></span>]; $pic_name = $_FILES[<span class="hljs-string"><span class="hljs-string">'file'</span></span>][<span class="hljs-string"><span class="hljs-string">'name'</span></span>]; $filename = md5(date(<span class="hljs-string"><span class="hljs-string">'Ymd H:i:s:u'</span></span>)); move_uploaded_file($tmp_name, $uploads_dir.$filename); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"File not uploaded successfully."</span></span>; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><h3>  Formation au réseau de neurones </h3><br>  Les données sont divisées en formation et test, 70 et 30 pour cent, respectivement.  Réseau de neurones - converge.  Il n'y a cependant pas de surprise ici pour les débutants: n'oubliez pas de normaliser les données d'entrée, cela vous épargnera beaucoup de nerfs.  Quelque chose comme ça: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> file_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> os.listdir(path): nSweetness, nRipeness, arr_loaded = loadData(file_name) arr_data.append(arr_loaded / max(abs(arr_loaded))) <span class="hljs-comment"><span class="hljs-comment"># 2 stands for num. of inputs of a combo box - 1 arr_labels.append([nSweetness / 2.0, nRipeness / 2.0])</span></span></code> </pre><br><h3>  Portage d'un réseau de neurones </h3><br>  Il existe plusieurs façons de porter un réseau d'un environnement Python vers Java.  Récemment, Google a rendu ce processus plus pratique, donc si vous lisez les manuels, assurez-vous qu'ils ne sont pas obsolètes.  Voici comment je l'ai fait: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> load_model <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.layers <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tensorflow <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tf <span class="hljs-comment"><span class="hljs-comment"># ------------------- def print_graph_nodes(filename): g = tf.GraphDef() g.ParseFromString(open(filename, 'rb').read()) print() print(filename) print("=======================INPUT=========================") print([n for n in g.node if n.name.find('input') != -1]) print("=======================OUTPUT========================") print([n for n in g.node if n.name.find('output') != -1]) print("===================KERAS_LEARNING=====================") print([n for n in g.node if n.name.find('keras_learning_phase') != -1]) print("======================================================") print() # ------------------- def get_script_path(): return os.path.dirname(os.path.realpath(sys.argv[0])) # ------------------- def keras_to_tensorflow(keras_model, output_dir, model_name,out_prefix="output_", log_tensorboard=True): if os.path.exists(output_dir) == False: os.mkdir(output_dir) out_nodes = [] for i in range(len(keras_model.outputs)): out_nodes.append(out_prefix + str(i + 1)) tf.identity(keras_model.output[i], out_prefix + str(i + 1)) sess = K.get_session() from tensorflow.python.framework import graph_util, graph_io init_graph = sess.graph.as_graph_def() main_graph = graph_util.convert_variables_to_constants(sess, init_graph, out_nodes) graph_io.write_graph(main_graph, output_dir, name=model_name, as_text=False) if log_tensorboard: from tensorflow.python.tools import import_pb_to_tensorboard import_pb_to_tensorboard.import_to_tensorboard( os.path.join(output_dir, model_name), output_dir) model = load_model(get_script_path() + "/models/model.h5") #keras_to_tensorflow(model, output_dir=get_script_path() + "/models/model.h5", # model_name=get_script_path() + "/models/converted.pb") print_graph_nodes(get_script_path() + "/models/converted.pb")</span></span></code> </pre><br>  Faites attention à la dernière ligne: dans le code Java, vous devrez spécifier les noms d'entrée et de sortie du réseau.  Cette "impression" ne fait que les imprimer. <br><br>  Donc, nous mettons le fichier reçu coordted.pb dans le répertoire des actifs du projet dans Android Studio, connectons la bibliothèque tensorflowinferenceinterface (voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , ou mieux, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ), et c'est tout. <br><br>  C’est tout.  Quand je l'ai fait pour la première fois, je m'attendais à ce que ce soit difficile, mais ... cela a fonctionné du premier coup. <br><br>  Voici à quoi ressemble un appel de réseau neuronal à partir du code Java: <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Void </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doInBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Void... params)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">//Pass input into the tensorflow tf.feed(INPUT_NAME, m_arrInput, 1, // batch ? m_arrInput.length, 1); // channels ? //compute predictions tf.run(new String[]{OUTPUT_NAME}); //copy the output into the PREDICTIONS array tf.fetch(OUTPUT_NAME, m_arrPrediction); } catch (Exception e) { e.getMessage(); } return null; }</span></span></code> </pre><br>  Ici m_arrInput est un tableau avec deux éléments contenant - oui!  - notre prédiction, normalisée de zéro à un. <br><br><h3>  Conclusion </h3><br>  Ici, semble-t-il, on est censé remercier de l'attention et exprimer l'espoir que c'était intéressant.  Au lieu de cela, je note que Google est la première version du programme.  Le second est complètement prêt, mais pas assez de données.  Donc, si vous aimez les pastèques - veuillez mettre un programme sur votre Android.  Plus vous envoyez de données, meilleure sera la deuxième version ... <br><br>  Bien sûr, ce sera gratuit. <br><br>  Bonne chance, et oui: merci d'avoir regardé.  J'espère que c'était intéressant. <br><br>  Mise à jour importante: une nouvelle version avec une analyse améliorée a été publiée.  Merci à tous ceux qui ont envoyé les pastèques, et merci d'en envoyer plus! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424099/">https://habr.com/ru/post/fr424099/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424085/index.html">Nous développons le module processeur NIOS II pour IDA Pro</a></li>
<li><a href="../fr424087/index.html">Appareil Android contrôlé par Bluetooth contrôlé par Arduino - cycle complet (partie 1)</a></li>
<li><a href="../fr424089/index.html">Les conférences sont mauvaises. Ou bien?</a></li>
<li><a href="../fr424091/index.html">WiX.Py: nous collectons le package MSI "en trois lignes"</a></li>
<li><a href="../fr424093/index.html">De la radio antique aux enceintes DIY: 12 chaînes YouTube pour un appareil acoustique</a></li>
<li><a href="../fr424103/index.html">La Silicon Valley est «impardonnable» pour ses employés depuis les années 1970</a></li>
<li><a href="../fr424105/index.html">La NASA sait comment rendre Mars vert à nouveau</a></li>
<li><a href="../fr424107/index.html">Cela fait un an que le trou béant dans le stockage réseau domestique My Cloud de WD</a></li>
<li><a href="../fr424109/index.html">VSCE # 2: Podcast des entrepreneurs médiatiques</a></li>
<li><a href="../fr424111/index.html">Vagues de contrats intelligents. Première expérience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>