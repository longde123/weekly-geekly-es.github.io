<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÜüèΩ ‚ôìÔ∏è üêú WebRTC via Kurento: Exp√©rience de test et d'impl√©mentation üë©üèø‚Äçü§ù‚Äçüë©üèº ü§î üíß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je partagerai mon exp√©rience avec la technologie WebRTC et le serveur multim√©dia Kurento pendant la phase de test et d'impl√©mentatio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WebRTC via Kurento: Exp√©rience de test et d'impl√©mentation</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/478536/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/gp/n6/4m/gpn64m3nht-yuv6pzbeye6d8zv0.png"></div><br>  Dans cet article, je partagerai mon exp√©rience avec la technologie WebRTC et le serveur multim√©dia Kurento pendant la phase de test et d'impl√©mentation.  Je vais vous dire quels probl√®mes j'ai rencontr√©s et comment je les ai r√©solus.  Je ne parlerai pas de la fa√ßon de d√©velopper une application √† partir de z√©ro, mais je donnerai beaucoup de liens utiles.  Je suis s√ªr que mon histoire sera utile √† ceux qui vont travailler avec WebRTC. <br><a name="habracut"></a><br><h3>  Pr√©sentation </h3><br>  Le Medical Information System (MIS), qui est d√©velopp√© par notre soci√©t√©, est d√©j√† devenu un √©norme projet d'entreprise avec de nombreux microservices, bus de messagerie, clients mobiles, etc.  Certaines parties du syst√®me doivent √™tre donn√©es pour le d√©veloppement et le soutien √† des organisations tierces, car elles ne sont pas notre profil. <br><br>  Le service de t√©l√©m√©decine est l'un de ces modules MIS.  Il n'y avait aucune exp√©rience dans le d√©veloppement de la vid√©oconf√©rence et l'utilisation de WebRTC et la commande a √©t√© d√©l√©gu√©e.  Mais apr√®s un certain temps, en raison de diverses circonstances, cette entreprise a cess√© de prendre en charge la vid√©oconf√©rence.  Sans support, ce service a √©t√© d√©sactiv√© et ¬´rassemblait la poussi√®re¬ª dans le r√©f√©rentiel. <br><br>  Et maintenant, il est temps de relancer ce micro service.  Il a √©t√© d√©cid√© d'essayer de red√©marrer la t√©l√©m√©decine par eux-m√™mes.  Notre entreprise a grandi, plus de sp√©cialistes sont apparus - il est possible et n√©cessaire de ma√Ætriser de nouveaux sujets de d√©veloppement.  Je n'avais jamais √©t√© impliqu√© dans la transmission vid√©o auparavant, mais c'√©tait tr√®s int√©ressant de comprendre et d'√©tudier une technologie aussi prometteuse que WebRTC. <br><br>  Voici quelques liens tr√®s utiles sur la technologie WebRTC et le serveur Kurento qui m'ont aid√© au d√©part: <br><br><ul><li>  <a href="https://habr.com/ru/post/435580/">Java, Spring, Kurento et Media Services</a> </li><li>  <a href="https://habr.com/ru/company/Voximplant/blog/344794/">WebRTC: comment deux navigateurs s'accordent sur les appels vocaux et vid√©o</a> </li><li>  <a href="https://habr.com/ru/company/flashphoner/blog/324914/">Nous d√©veloppons un chat vid√©o entre le navigateur et l'application mobile</a> </li></ul><br><h3>  Pour commencer </h3><br>  La t√¢che √©tait simple: restaurer le syst√®me de visioconf√©rence existant, faire l'inventaire de ce qui a d√©j√† √©t√© fait auparavant et, si n√©cessaire, le modifier selon les souhaits des utilisateurs.  Les premiers tests sur des machines virtuelles et de vrais ordinateurs ont r√©ussi.  Mais le d√©ploiement du syst√®me chez le client a pos√© beaucoup de probl√®mes. <br><br>  Permettez-moi de vous rappeler que le client dispose d√©j√† d'un syst√®me d'information m√©dicale (SIG) couvrant un grand nombre de t√¢ches: de la file d'attente √©lectronique, du lieu de travail du m√©decin, de la gestion des documents et des PACS au sous-syst√®me de gestion des √©quipements m√©dicaux. <br><br>  Lorsqu'il est devenu n√©cessaire de d√©velopper la fonctionnalit√© de vid√©oconf√©rence pour la communication entre le personnel m√©dical des centres de diagnostic (ci-apr√®s d√©nomm√© DC) et les patients distants, deux conditions pr√©alables ont √©t√© fix√©es: <br><br>  Toutes les conf√©rences doivent √™tre enregistr√©es et stock√©es sur le serveur. <br><br>  Les patients ne doivent pas installer de programmes suppl√©mentaires sur leurs appareils, √† l'exception du navigateur, qui dans la plupart des cas est d√©j√† pr√©install√©. <br><br>  WebRTC fonctionne √† partir d'un navigateur sans programmes ni plugins suppl√©mentaires.  Et Kurento peut enregistrer tout ce qui le traverse.  De plus, ce serveur multim√©dia dispose d'un bon ensemble de biblioth√®ques pr√™tes √† l'emploi pour travailler avec son API via Java et JavaScript, ce qui simplifie consid√©rablement le d√©veloppement. <br><br>  Le d√©veloppement de la partie serveur, ou plut√¥t de sa base, avant m√™me que je commence la t√¢che, a √©t√© transf√©r√© par le client √† une soci√©t√© d'externalisation √† une soci√©t√© tierce.  Il y avait donc un ¬´Managing Server¬ª (CSS) - une base de serveurs pr√™te √† l'emploi, que j'ai obtenue pour la mise en ≈ìuvre. <br><br><h4>  L'id√©e g√©n√©rale d'interaction ressemblait initialement √† ceci: </h4><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ue/y-/qt/uey-qt4cvt81f4clyn6e0kdp4s4.png"></div><br>  Mais au cours de travaux ult√©rieurs, l'ensemble du syst√®me a chang√© et est devenu plus compliqu√©. <br><br><h3>  Premi√®re exp√©rience de r√©animation </h3><br>  Apr√®s le d√©ploiement dans un r√©seau de test sur des machines virtuelles et sur plusieurs ordinateurs ¬´live¬ª, de nombreux tests et exp√©riences ont √©t√© r√©alis√©s - tout a parfaitement fonctionn√©.  En cons√©quence, le moment est venu d'introduire dans un v√©ritable r√©seau de travail. <br><br>  Pour les tests, une victime responsable sous la forme d'un m√©decin et son lieu de travail a √©t√© affect√© pour m'aider.  Et le deuxi√®me appel via le microservice de t√©l√©m√©decine s'est √©cras√©! <br><br>  C'est bien que cela se soit produit pendant le test b√™ta, et √† part moi et un m√©decin qui √©tait satisfait des aventures, personne n'a vu cela. <br><br>  Ce qui se passe et pourquoi la connexion n'est pas √©tablie √©tait tr√®s difficile √† comprendre.  WebRTC ne montre aucune panne - il attend juste qu'un signal apparaisse.  Sans le savoir, il a √©t√© tr√®s difficile de d√©boguer d'une mani√®re ou d'une autre: la partie serveur fonctionne bien, Kurento est silencieux dans les journaux, les clients attendent le flux, mais rien ne se passe. <br><br>  Habr a aid√© (louange √† lui): <br><br><ul><li>  <a href="https://habr.com/ru/company/Voximplant/blog/417869/">Comment d√©boguer WebRTC.</a> </li><li>  <a href="https://habr.com/ru/company/Voximplant/blog/351234/">5 erreurs lors du d√©veloppement d'appels WebRTC √† partir du navigateur</a> </li><li>  <a href="https://habr.com/ru/company/yandex/blog/419951/">Exp√©rience de l'utilisation de WebRTC.</a>  <a href="https://habr.com/ru/company/yandex/blog/419951/">Conf√©rence Yandex</a> </li></ul><br>  Il est regrettable que je ne connaissais pas ces outils auparavant. <br><br>  Apr√®s avoir analys√© les donn√©es du journal et observ√© l'√©tat des connexions, il est devenu clair que les scripts c√¥t√© serveur et client manquaient de r√©action aux √©v√©nements dans le syst√®me WebRTC.  Et o√π trouver ces √©v√©nements? <br><br>  Les d√©veloppeurs du serveur kurento fournissent une biblioth√®que JavaScript tr√®s pratique pour travailler avec WebRTC: kurento-utils.js. <br><br>  Pour d√©marrer rapidement, cr√©ez simplement un objet: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> kurentoUtils.WebRtcPeer.WebRtcPeerRecvonly(options, callback());</code> </pre> <br>  Et pour acc√©der aux √©v√©nements, il est n√©cessaire de red√©finir les m√©thodes internes de la biblioth√®que.  J'ai simplifi√© le code autant que possible pour le rendre plus clair: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    WebRtcPeerRecvonly var options = { //      peerConnection: getRTCPeerConnection(videoId), remoteVideo: videoElement, // //  ICE  onicecandidate: function (candidate) { onIceCandidate(candidate, videoId, true); }, onerror: onError, //   mediaConstraints: { //  video: true, audio: true} }; //  WebRTC incomeWebRtc[videoId] = new kurentoUtils.WebRtcPeer.WebRtcPeerRecvonly( options, function (error) { if (error) { return console.error(error); } this.generateOffer( function (error, sdpOffer) { //  }); }); //      function getRTCPeerConnection( videoId ){ var configuration = { "iceServers": [ {"url": "stun:" + stunServer}, {"url": "turn:" + turnServer, credential: turnCredential, username: turnUsername} ] }; var mypc = new RTCPeerConnection(configuration); //      mypc.oniceconnectionstatechange = function(){ state = this.iceConnectionState; console.info("### iceConnectionState " + videoId + " &gt; " + this.iceConnectionState); }; mypc.onsignalingstatechange = function(){ state = this.signalingState || this.readyState; console.info("### SignalingState " + videoId + " &gt; " + state); }; mypc.onconnectionstatechange = function(){ console.info("### ConnectionState " + videoId + " &gt; " + this.connectionState); }; return mypc; }</span></span></code> </pre><br><h3>  En parlant de certificats </h3><br>  √âtant donn√© que l'article concerne mon exp√©rience, je partagerai des informations selon lesquelles les navigateurs modernes sont devenus tr√®s stricts en mati√®re de s√©curit√©.  Si la ressource poss√®de un certificat auto-sign√©, m√™me avec une autorisation sp√©ciale, le navigateur interdit l'acc√®s aux p√©riph√©riques de l'ordinateur. <br><br>  Vous pouvez cr√©er un certificat sur des ressources gratuites sur Internet et configurer un r√©seau local pour son utilisation, ou vous pouvez t√©l√©charger Firefox version 65 ou sup√©rieure. Dans cette version, cliquez simplement sur le bouton, que je suis d'accord avec les risques des certificats auto-sign√©s et acc√©der aux cam√©ras et microphones. <br><br>  Cela me semblait plus facile. <br><br><h3>  Deuxi√®me test (d√©j√† prudent) </h3><br>  Il me semblait que le m√©decin se pr√©senterait pour du pop-corn quand il me verrait au prochain test.  Il aimait clairement me voir lutter avec la technologie moderne. <br><br>  En fait, cette mise √† jour du syst√®me n'√©tait pas une version, car je n'ai rien r√©solu, je ne connaissais m√™me pas la cause des probl√®mes.  Je r√©p√®te que tout fonctionnait parfaitement au bureau.  Le code a ajout√© des r√©actions √† tous les √©v√©nements qui ont g√©n√©r√© WebRTC et Kurento, que j'ai contact√©s, et tout cela a √©t√© √©crit en d√©tail dans les journaux.  J'ai m√™me mis mes journaux dans des fichiers s√©par√©s afin qu'ils ne soient pas confondus avec les principaux de l'IIA. <br><br>  En collaboration avec un m√©decin passionn√© et un administrateur syst√®me client, nous avons essay√© le syst√®me.  Ils n‚Äôont m√™me pas test√©, √† savoir ¬´tortur√©¬ª.  Nous avons cr√©√© des vid√©oconf√©rences dans tous les modes possibles et √† partir de tous les appareils disponibles.  D'autres m√©decins et une partie du personnel du bureau distant ont √©t√© impliqu√©s dans ce match. <br><br>  L'essentiel n'√©tait pas de v√©rifier le syst√®me (cela ne fonctionnait pas), mais de collecter autant de donn√©es que possible.  En cons√©quence, il s'est av√©r√© que: <br><br><ol><li>  Environ 80% des tentatives de cr√©ation d'une vid√©oconf√©rence ont r√©ussi. </li><li>  Certaines connexions utilisant des candidats ICE pour IPv6 ne fonctionnent pas. </li><li>  Sur 5 op√©rateurs mobiles, 2 seulement ont travaill√©. </li></ol><br><h3>  Tout s'est av√©r√© simple - vous ne pouvez pas aller loin sur Google seul </h3><br>  L'analyse des informations collect√©es a montr√© que la connexion via le serveur TURN de Google est instable.  Soit leur charge est importante, soit ce n'est qu'un serveur de d√©monstration pour ceux qui commencent tout juste √† apprendre la technologie.  Mais en fait: des √©checs tr√®s fr√©quents.  Besoin de votre propre serveur TURN / STUN! <br><br>  La deuxi√®me raison des √©checs est les adresses IPv6.local.  Le serveur kurento n'accepte pas les candidats ICE avec ces adresses.  C'est bien qu'avant d'envoyer tous les candidats ICE, je passe le code entre mes mains et je filtre simplement IPv6.local. <br><br>  Le probl√®me des op√©rateurs mobiles est √† nouveau r√©solu avec son serveur TURN / STUN. <br>  Dans trois op√©rateurs mobiles sur cinq, le NAT est sym√©trique et WebRTC ne peut pas percer.  Plus de d√©tails peuvent √™tre trouv√©s ici: <a href="https://habr.com/ru/post/150298/">Le NAT sym√©trique est-il terrible?</a> <br><br>  C'est dommage que mon t√©l√©phone portable personnel fonctionne sur la carte SIM d'un op√©rateur qui n'a pas pris la peine d'une protection sym√©trique.  Par cons√©quent, mes tests initiaux n'ont pas r√©v√©l√© ce probl√®me. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9b/g4/ie/9bg4ieg5oblnd8f24osrtmwetws.png"></div><br><h3>  Serveur TURN / STUN </h3><br>  Le package resiprocate-turn-server a √©t√© choisi comme serveur. <br><br>  Ils n'ont pas choisi depuis longtemps - c'est dans le r√©f√©rentiel ubuntu standard - une installation facile et des mises √† jour automatiques.  Mais il n'est pas tr√®s pratique de travailler avec des comptes pour se connecter: les identifiants et les mots de passe sont uniquement extraits du fichier, c'est pourquoi vous devez cr√©er un utilitaire ou un script suppl√©mentaire pour exporter √† partir de la base de donn√©es du serveur principal. <br><br>  Pour le moment, ce fichier est g√©n√©r√© manuellement et les comptes sont distribu√©s via un simple pool de mots de passe.  L'autorisation est mise en ≈ìuvre via le serveur principal MIS, la s√©curit√© n'est donc pas compromise.  Mais la structure globale de l'ensemble du syst√®me semble moche.  Les plans pour refaire ce moment. <br><br><h3>  Troisi√®me voyage chez le client </h3><br>  J'ai corrig√© le code, install√© et configur√© mon serveur TURN / STUN, d√©velopp√© un pool de mots de passe et les ai distribu√©s aux clients au d√©but d'une vid√©oconf√©rence et, apr√®s la mise √† jour des serveurs de production, je suis all√© voir un m√©decin que je connaissais d√©j√†. <br><br>  √áa marche!  Hourra!  Tous les d√©buts de la conf√©rence sont r√©ussis √† partir de tous les appareils et dans tous les modes: le patient du compte personnel peut appeler le m√©decin, le th√©rapeute pendant la r√©ception peut appeler le diagnosticien fonctionnel pour une consultation suppl√©mentaire, et les m√©decins eux-m√™mes peuvent organiser une vid√©oconf√©rence multi-utilisateurs √† partir de diff√©rentes branches de toute la ville. <br><br>  D√©j√† enseign√© par une exp√©rience am√®re, nous nous sommes engag√©s dans des tests minutieux avec la cr√©ation artificielle de situations d'urgence.  √Ä partir du sujet de cet article, je souligne la n√©cessit√© de fixer une limite au temps d'attente de connexion.  WebRTC, avec Kurento, attendent que la diffusion commence infiniment longtemps et esp√®re que les octets vid√©o sont sur le point de dispara√Ætre.  J'ai d√ª r√©gler une minuterie pendant 10 secondes, ce qui donne une erreur au serveur de gestion si les octets ne sont jamais arriv√©s. <br><br><h3>  Apr√®s toutes les am√©liorations </h3><br>  Enfin, le syst√®me fonctionne et fonctionne bien.  Les premiers avis ont √©t√© envoy√©s par les utilisateurs sur le terrain.  Et imm√©diatement un grand nombre de souhaits et de suggestions de conception, de fonctions suppl√©mentaires et d'autres plans de d√©veloppement ult√©rieur sont apparus.  Le travail a commenc√© √† bouillir avec une vigueur renouvel√©e! <br><br>  Maintenant, la topologie du syst√®me complet ressemble √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mr/ev/kn/mrevknsr8bnuhpmsnaowtthxd6m.png"></div><br><h3>  R√âSULTATS: </h3><br>  En conclusion, je veux dire ce qui suit: <br><br>  Premi√®rement, WebRTC est une excellente technologie avec de grandes perspectives, mais il est tr√®s difficile de la tester et de la d√©boguer.  Avant de commencer le d√©veloppement, il est imp√©ratif de d√©ployer un r√©seau avec toutes sortes de connexions que le client peut avoir.  Et le d√©bogage via la fen√™tre d'informations du navigateur n'est pas un outil tr√®s pratique. <br><br>  Deuxi√®mement, louange √† Habru!  En travaillant sur ce projet, j'ai trouv√© beaucoup d'informations sur cette ressource.  Tous les liens de cet article y m√®nent. <br><br>  Il a √©t√© d√©cid√© de laisser le projet de visioconf√©rence de t√©l√©m√©decine pour le support et le d√©veloppement de notre organisation, nous ne l'externaliserons pas.  A l'avenir, il reste encore beaucoup de travail: <br><br><ul><li>  Il y a une finalisation du collage des vid√©os enregistr√©es.  Je vais √† nouveau me tourner vers Habr, j'ai d√©j√† trouv√© un article pour commencer: <a href="https://habr.com/ru/post/277179/">Combiner des fragments vid√©o de plusieurs cam√©ras et les synchroniser dans le temps.</a> </li><li>  Il est n√©cessaire de repenser le syst√®me d'enregistrement des utilisateurs sur le serveur de gestion, le serveur MIS principal et le turn-server. </li><li>  Et la question est ouverte avec le d√©bit de l'ensemble du syst√®me dans son ensemble.  Des tests de r√©sistance n'ont pas encore √©t√© effectu√©s.  Pr√©parez-vous, relisez Habr: <a href="https://habr.com/ru/company/Voximplant/blog/346924/">Combien de participants peuvent participer √† un appel WebRTC?</a> </li></ul><br><h3>  TOUT </h3><br>  Je suis s√ªr que mon exp√©rience sera utile non seulement pour les d√©veloppeurs sous WebRTC + Kurento, mais aussi pour ceux qui vont commencer √† mettre en ≈ìuvre des projets tout aussi complexes.  Faites plus attention aux tests dans des conditions aussi proches que possible de la r√©alit√©. <br><br>  Et prenez en compte les risques que les √©quipes de support pour vos microservices puissent soudainement ¬´dispara√Ætre¬ª - c'est une corv√©e tr√®s inattendue et d√©sagr√©able. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr478536/">https://habr.com/ru/post/fr478536/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr478526/index.html">Un tas d'OpenVPN sur Windows Server et Mikrotik avec la migration de ce truc vers Linux</a></li>
<li><a href="../fr478528/index.html">Pet (une histoire fantastique)</a></li>
<li><a href="../fr478530/index.html">TechnoText-2019: qui a finalement gagn√© et √† quoi ils servaient</a></li>
<li><a href="../fr478532/index.html">Comment Apple Earnes: les 5 domaines d'activit√© les plus rentables de l'entreprise et combien ils y apportent</a></li>
<li><a href="../fr478534/index.html">DevFest Siberia 2019: un aper√ßu des tendances de l'outback</a></li>
<li><a href="../fr478540/index.html">Pr√©paratifs du dixi√®me forum ¬´Positive Hack Days 10: Getting Started¬ª</a></li>
<li><a href="../fr478542/index.html">FigmaGen: Style Automation dans iOS App</a></li>
<li><a href="../fr478544/index.html">Vue Storefront: Importer un r√©pertoire depuis Magento 2</a></li>
<li><a href="../fr478546/index.html">Websockets Exp√©rience en d√©veloppement et exploitation. Nous modifions le client</a></li>
<li><a href="../fr478550/index.html">Comment g√©rer une montre? Analyse de la piste front-end du deuxi√®me championnat de programmation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>