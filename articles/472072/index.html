<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÖ üîÑ üöÅ PG12: una docena de parches de Postgres Professional üê® „ÄΩÔ∏è üëã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es agradable ver nombres familiares en la lista de Agradecimientos de la versi√≥n oficial de PostgreSQL 12. Decidimos reunir las innovaciones y algunas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PG12: una docena de parches de Postgres Professional</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/472072/">  <i>Es agradable ver nombres familiares en la lista de Agradecimientos de la versi√≥n oficial de PostgreSQL 12. Decidimos reunir las innovaciones y algunas correcciones de errores en las que nuestros desarrolladores trabajaron.</i> <br><br><h3>  1. Soporte de JSONPath </h3><br>  (En las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Notas de la versi√≥n,</a> esto suena como <i>Agregar soporte para el lenguaje de ruta SQL / JSON (Nikita Glukhov, Teodor Sigaev, Alexander Korotkov, Oleg Bartunov, Liudmila Mantrova)</i> <br><br>  Este parche en s√≠, las caracter√≠sticas de JSONPath y el historial del problema se discutieron en detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en un art√≠culo separado</a> aqu√≠ en el centro  JSONPath es un logro importante de Postgres Professional y una de las principales innovaciones de PostgreSQL 12 en general. <br><br>  En 2014, A. Korotkov, O. Bartunov y F. Sigaev desarrollaron la extensi√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">jsquery</a> , que se incluy√≥ como resultado en Postgres Pro Standard 9.5 (y en versiones posteriores de Standard y Enterprise).  Proporciona caracter√≠sticas adicionales muy amplias para trabajar con json (b). <br><br>  Cuando apareci√≥ el SQL est√°ndar: 2016, result√≥ que su sem√°ntica no es tan diferente de la nuestra en la extensi√≥n jsquery.  Es posible que los autores del est√°ndar incluso hayan mirado a jsquery, inventando JSONPath.  Nuestro equipo tuvo que implementar un poco diferente de lo que ya ten√≠amos y, por supuesto, muchas cosas nuevas tambi√©n. <br><br>  Aunque todav√≠a no se ha confirmado un parche especial con funciones, el parche JSONPath ya tiene funciones clave para trabajar con JSON (B), por ejemplo: <br><br><pre><code class="pgsql hljs">jsonb_path_query(<span class="hljs-string"><span class="hljs-string">'{"a": [1,2,3,4,5]}'</span></span>, <span class="hljs-string"><span class="hljs-string">'$.a[*] ? (@ &gt; 2)'</span></span>)  <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span> jsonb_path_query(<span class="hljs-string"><span class="hljs-string">'{"a": [1,2,3,4,5]}'</span></span>, <span class="hljs-string"><span class="hljs-string">'$.a[*] ? (@ &gt; 5)'</span></span>)  <span class="hljs-number"><span class="hljs-number">0</span></span> </code> </pre> <br>  Adem√°s, algunas funciones que ya hab√≠an funcionado con JSON anteriormente <a href="">fueron optimizadas</a> .  Esto fue hecho con √©xito por Nikita Glukhov. <br><br>  Por ejemplo, el operador <code>#&gt;&gt;</code> , correspondiente a las funciones <code>jsonb_each_text()</code> y <code>jsonb_array_elements_text()</code> , sol√≠a convertir r√°pidamente JsonbValue a texto, pero funcionaba lentamente con otros tipos.  Ahora todo est√° funcionando r√°pido. <br><a name="habracut"></a><br><h3>  2. Soporte para b√∫squeda r√°pida de vecinos m√°s cercanos en los √≠ndices SP-GiST (KNN) </h3><br>  <i>(Agregue soporte para b√∫squedas de vecinos m√°s cercanos (KNN) de √≠ndices SP-GiST. Nikita Glukhov, Alexander Korotkov, Vlad Sterzhanov)</i> <br><br>  Nikita Glukhov y Alexander Korotkov de nuestra compa√±√≠a continuaron el trabajo iniciado por Vlad Sterzhanov de Minsk (tambi√©n conocido como Quadrocube).  Postgres fue el primer DBMS en buscar a sus vecinos m√°s cercanos, anteriormente Oracle y MS, y de una manera mucho m√°s directa y conveniente, y este fue el m√©rito de Oleg Bartunov y su equipo.  La idea de esta b√∫squeda est√° en el algoritmo original de recorrido del √°rbol, que en la mayor√≠a de los casos proporciona una gran ganancia.  La b√∫squeda de vecinos m√°s cercanos se usa mucho donde, pero en SIG es especialmente com√∫n. <br><br>  Vlad hizo un parche de b√∫squeda KNN para trabajar con √≠ndices espaciales SP-GiST para √°rboles cu√°druples, cuando el plano se divide en cuadrados de un tama√±o fijo, y para √°rboles KD, es decir, √°rboles k-dimensionales. <br><br>  Alexander Korotkov, mentor de Vlad GSoC (Google Summer of Code), continu√≥ el desarrollo con un colega del profesional de Postgres Nikita Glukhov.  La funcionalidad se enriqueci√≥ seriamente: se mejor√≥ el almacenamiento en cach√© interno de datos al atravesar el √°rbol, se agregaron clases de operador para c√≠rculos y pol√≠gonos con orden por distancia. <br><br>  Para usar el algoritmo de b√∫squeda de vecino m√°s cercano, simplemente escriba <code>ORDER BY [,   ]</code> , y luego el optimizador conectar√° autom√°ticamente este algoritmo.  Por ejemplo <br><br><pre> <code class="pgsql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> polygons <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> poly &lt;-&gt; <span class="hljs-type"><span class="hljs-type">point</span></span> <span class="hljs-string"><span class="hljs-string">'(0,0)'</span></span>;</code> </pre><br>  Los parches de Nikita Glukhov se pueden ver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el github</a> . <br><br><h3>  3. Optimizaci√≥n de bloqueos para acelerar la inserci√≥n en √≠ndices B-Tree </h3><br>  <i>(En las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Notas de la versi√≥n,</a> esto es Mejorar la velocidad de las inserciones de √≠ndice btree al reducir la sobrecarga de bloqueo. Alexander Korotkov)</i> <br><br>  Alexander Korotkov, arquitecto jefe de sistemas en Postgres Professional, logr√≥ crear un algoritmo de bloqueo m√°s razonable al insertar en √≠ndices de √°rbol B.  La ganancia despu√©s de aplicar este parche es notable en los casos en que la inserci√≥n se produce m√°s o menos "en una fila".  Las mediciones en un servidor de 72 n√∫cleos mostraron que en este caso la ganancia alcanza el 50%.  Con una inserci√≥n ca√≥tica, la ganancia no es tan notable. <br><br><h3>  4. WAL econ√≥mico </h3><br>  <i>(Reduzca la sobrecarga de escritura WAL de la creaci√≥n de √≠ndices GiST, GIN y SP-GiST. Anastasia Lubennikova, Andrey V. Lepikhov)</i> <br><br>  Esta serie de parches <a href="">reduce el tr√°fico WAL</a> generado al crear √≠ndices GiST, GIN y SP-GiST.  Ahora puede registrar p√°ginas de dichos √≠ndices solo una vez, al final, cuando el √≠ndice ya est√° construido.  Y en caso de un error al crear el √≠ndice de entradas en el WAL, los intentos fallidos no aparecer√°n en absoluto.  Anteriormente, esto solo era posible al crear un √°rbol B y RUM.  Los parches usan el mecanismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gen√©rico WAL</a> . <br><br>  Se <code>xlog</code> scripts para verificar el tama√±o de <code>xlog</code> .  Las pruebas en la base de datos IMDB (formato JSON), en las que los registros 4M + que ocupan 4GB, mostraron: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> imdb <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span> gin(jb jsonb_path_ops);</code> </pre> <br>  la forma anterior ejecut√≥ 205 segundos, WAL 3.2 GB, y el nuevo algoritmo dio 133 segundos, y WAL 0.4 GB. <br><br><h3>  5. Optimizaci√≥n del escaneo de solo √≠ndice en el caso de muchas columnas. </h3><br>  <i>(Permita que los escaneos de solo √≠ndice sean m√°s eficientes en √≠ndices con muchas columnas. Konstantin Knizhnik)</i> <br><br>  Al analizar el funcionamiento de la base de datos de uno de los clientes de nuestra empresa, se <a href="">descubri√≥</a> que la misma consulta se ejecuta en algunos casos durante m√°s tiempo en un 25% con exploraci√≥n de √≠ndice solamente que con exploraci√≥n de √≠ndice (enable_indexonlyscan = off). <br>  Esto sucedi√≥ cuando SELECT se realiz√≥ en muchos campos, que eran principalmente del tipo <code>bytea</code> , y su desplazamiento no se almacen√≥ en cach√©, ya que dichos campos no tienen un desplazamiento fijo (ver tambi√©n el informe de Nikolai Shaplov <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"What's Inside It"</a> ).  Para desempaquetar el atributo k-th, debe desempaquetar el k-1 anterior.  Desempacar un registro por un atributo requiere un tiempo O (N * N), donde N es el n√∫mero de campos.  Este 25% ya sucedi√≥ en 10 campos. <br><br>  Konstantin Knizhnik utiliz√≥ el algoritmo que se utiliza cuando se trabaja con hip: al acceder al atributo k-√©simo, se toman y recuerdan los k-1 anteriores, el tiempo crece linealmente con el n√∫mero de campos.  Despu√©s de aplicar el parche, el tiempo de ejecuci√≥n con exploraci√≥n de √≠ndice y exploraci√≥n de √≠ndice solo es pr√°cticamente el mismo. <br><br><h3>  6. Controle la descarga de segmentos WAL al disco </h3><br>  <i>(Agregue un evento de espera para fsync de segmentos WAL. Konstantin Knizhnik)</i> <br><br>  El kernel PostgreSQL supervisa la escritura en WAL, pero no supervisa el vaciado de los segmentos WAL de la memoria al disco, es decir, <code>fsync</code> .  K. Knizhnik realiz√≥ un parche que crea un nuevo tipo de evento, ahora se llama WALSync (el nombre interno de la variable es WAIT_EVENT_WAL_SYNC).  Puede verlo en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">etiqueta del evento PG</a> con la explicaci√≥n "Esperando a que el archivo WAL sea volcado a un almacenamiento confiable".  Este problema se <a href="">discuti√≥</a> en la lista de correo de los <i>hackers</i> . <br><br>  Por lo general, se desconoce cu√°nto tarda el restablecimiento: PostgreSQL est√°ndar no sabe c√≥mo agregar tales estad√≠sticas.  Pero hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una extensi√≥n pg_wait_sampling</a> escrita en Postgres Professional.  Puede hablar sobre los eventos en los que Postgres pasa el tiempo.  Ahora que se agreg√≥ el evento, puede seguir <code>fsync</code> . <br><br><h3>  7. Soporte para nuevos idiomas en diccionarios stemmer </h3><br>  <i>(Actualice los diccionarios de Snowball stemmer con soporte para nuevos idiomas. Arthur Zakirov)</i> <br><br>  ¬°Dado que las conferencias de Postgres se llevan a cabo en Nepal, es mucho m√°s natural <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">agregar</a> nepal√©s a la base de datos!  Esto fue hecho.  Gracias a los esfuerzos de Arthur Zakirov, ahora puedes usar el diccionario de nepal√©s en <i>Snowball</i> . <br><br><h3>  8. Las funciones to_timestamp () / to_date () se han vuelto m√°s tolerantes a los datos </h3><br>  <i>(Ajuste las funciones to_timestamp () / to_date () para ser m√°s indulgente con los desajustes de plantillas, Artur Zakirov, Alexander Korotkov, Liudmila Mantrova)</i> <br><br>  La funci√≥n <code>to_timestamp()</code> no funcionaba si la cadena de formato se procesaba con espacios adicionales.  La discusi√≥n del error en <code>to_timestamp()</code> result√≥ en una <a href="">larga discusi√≥n</a> sobre qu√© comportamiento de las funciones <code>to_timestamp()</code> y, al mismo tiempo, <code>to_date()</code> considerarse correctas.  Para beneficio de todos, ambas funciones se han vuelto m√°s tolerantes a los espacios adicionales en la l√≠nea de formato y la l√≠nea de entrada. <br><br><h3>  9. Los registros se pueden rotar a trav√©s de pg_ctl </h3><br>  <i>(Permitir el control de la rotaci√≥n del archivo de registro a trav√©s de pg_ctl. Kyotaro Horiguchi, Alexander Kuzmenkov, Alexander Korotkov)</i> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">En otras palabras, la</a> utilidad <code>pg_ctl</code> ha adquirido una nueva opci√≥n: <br><br><pre> <code class="plaintext hljs">pg_ctl logrotate [-D _] [-s]</code> </pre> <br>  Cuando se ejecuta este comando, el servidor cambia a un nuevo archivo de registro o vuelve a abrir el existente, seg√∫n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la configuraci√≥n de registro</a> .  Esto puede ser necesario en situaciones de emergencia, especialmente cuando grandes archivos de registro de r√°pido crecimiento necesitan, por ejemplo, ser transferidos para diagn√≥stico. <br><br><h3>  10. La capacidad de crear nuevos tipos de tablas (almacenamiento conectable) </h3><br>  <i>(Agregue el comando CREATE ACCESS METHOD para crear nuevos tipos de tabla. Andres Freund, Haribabu Kommi, √Ålvaro Herrera, Alexander Korotkov, Dmitry Dolgov)</i> <br><br>  Este importante parche es una parte esencial de la infraestructura de API de almacenamiento conectable, de ah√≠ la composici√≥n internacional de los desarrolladores de parches.  El comando CREATE ACCESS METHOD se ha estado ejecutando en Postgres desde la versi√≥n 9.6.  Pero hasta el d√≠a 12, solo puede crear m√©todos de acceso al √≠ndice.  Aqu√≠ est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la documentaci√≥n para la 11¬™ versi√≥n</a> : <br><br><pre> <code class="pgsql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ACCESS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">METHOD</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">TYPE</span></span> __ <span class="hljs-keyword"><span class="hljs-keyword">HANDLER</span></span> _ &lt; ... &gt; __       .      <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span>.</code> </pre> <br>  Y en la documentaci√≥n para el 12 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ya le√≠da</a> : <i>actualmente solo se admiten TABLE e INDEX.</i>  Por cierto, en el und√©cimo comando CREATE ACCESS METHOD fue proporcionado por la extensi√≥n Postgres Pro, y en el duod√©cimo ya PostgreSQL. <br><br>  La ejecuci√≥n de la operaci√≥n depende del tipo de m√©todo de acceso;  si es un tipo TABLE, entonces <code>table_am_handler</code> lo <code>table_am_handler</code> , y si es un tipo INDEX, entonces <code>index_am_handler</code> (anteriormente: para los m√©todos de acceso de tipo INDEX, deber√≠a ser <code>index_am_handler</code> ).  Un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cap√≠tulo</a> entero <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ha aparecido en la documentaci√≥n</a> sobre m√©todos de tabla. <br><br>  Al crear una tabla, ahora puede especificar su tipo: <br><br><pre> <code class="pgsql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> [ [ <span class="hljs-keyword"><span class="hljs-keyword">GLOBAL</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">LOCAL</span></span> ] { <span class="hljs-keyword"><span class="hljs-keyword">TEMPORARY</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">TEMP</span></span> } | <span class="hljs-keyword"><span class="hljs-keyword">UNLOGGED</span></span> ] <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [ <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> ] _ ( [ &lt; ... &gt; [ <span class="hljs-keyword"><span class="hljs-keyword">USING</span></span>  ]</code> </pre> <br>  <i>el m√©todo</i> es de tipo TABLE: esta es una referencia al almacenamiento conectable.  Ahora es un <code>heap</code> por defecto, y antes que el otro, de hecho, no lo era.  Sobre las clases de operadores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> <br><br> <code>default_table_access_method (string)</code> <br> <br>  Este par√°metro establece el m√©todo de acceso a la tabla predeterminado que se utilizar√° al crear tablas o vistas materializadas si el m√©todo de acceso no se especifica expl√≠citamente en el comando CREAR, o al ejecutar el comando SELECCIONAR ... INTO, en el que el m√©todo de acceso no se puede establecer expl√≠citamente.  El valor predeterminado es el <code>heap</code> .  La gran discusi√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en los piratas inform√°ticos</a> ayuda a sacar los detalles. <br><br>  Hasta este momento, hablamos de innovaciones.  Pero las correcciones de errores tambi√©n eliminan los recursos del tiempo de los programadores.  Los principales son: <br><br><h3>  11. Error: un error en una de las estructuras. </h3><br>  <i>Extra quote_all_identifiers en _dumpOptions.</i>  <i>Arthur Zakirov)</i> <br><br>  En general, nada especial, se encontr√≥ un error en una de las estructuras que usa <code>pg_dump</code> ; el compilador lo pas√≥ por alto.  Pero Bruce Momjyan mismo <a href="">elogi√≥</a> el hallazgo. <br><br>  Otros problemas con <code>DumpOptions</code> se pueden encontrar <a href="">aqu√≠</a> . <br><br><h3>  12. Error en la replicaci√≥n: </h3><br>  <i>(xlogreader: no lea un bloque de archivo dos veces. Arthur Zakirov)</i> <br><br>  Otro empleado de nuestra empresa, el desarrollador de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pg_probackup</a> Grigory Smolkin, descubri√≥ que una de nuestras utilidades se ralentiza cuando xlogreader lee los archivos zlib.  Result√≥ que a veces lee los bloques de archivos WAL dos veces. <br><br>  Si los archivos se leen de manera inconsistente, el rendimiento es bajo.  La lectura repetida del bloque siempre es inconsistente, ya que debe volver a la posici√≥n pasada llamando a la funci√≥n <code>gzseek()</code> .  <a href="">Ahora</a> no se vuelve a leer innecesariamente. <br><br>  <i>PD: no voy a desglosar: una docena de parches (estrictamente hablando una docena de series de parches) no son solo una coincidencia accidental con el n√∫mero de versi√≥n de Postgres.</i>  <i>La lista bien podr√≠a ser menos de una docena o m√°s de una docena.</i>  <i>Pens√© que ser√≠a m√°s hermoso, y la belleza es en parte el motor de la programaci√≥n, sin mencionar otras √°reas de la actividad humana.</i> <br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/472072/">https://habr.com/ru/post/472072/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../472054/index.html">Organizadores y asistentes de ense√±anza sobre los programas en l√≠nea del CS Center.</a></li>
<li><a href="../472060/index.html">La polic√≠a alemana irrumpi√≥ en el b√∫nker militar, que albergaba el centro de datos recientemente declarado.</a></li>
<li><a href="../472062/index.html">Monitoreo + prueba de estr√©s = pron√≥stico y sin fallas</a></li>
<li><a href="../472064/index.html">Ansible + auto git pull en el cl√∫ster de m√°quinas virtuales en la nube</a></li>
<li><a href="../472068/index.html">Uso de SSD NVME como unidad de sistema en computadoras con BIOS antiguo y sistema operativo Linux</a></li>
<li><a href="../472076/index.html">El libro "Java para todos"</a></li>
<li><a href="../472078/index.html">Riesgos de banca abierta</a></li>
<li><a href="../472084/index.html">Vulnerabilidades de tel√©fonos inteligentes</a></li>
<li><a href="../472086/index.html">Usando las leyes de la psicolog√≠a gestalt en el dise√±o de la interfaz de usuario</a></li>
<li><a href="../472088/index.html">C√≥mo elegimos ServiceDesk. Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>