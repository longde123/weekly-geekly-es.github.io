<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå¨Ô∏è ü¶é üö© Automatisation de la commande de chauffage domestique par vous-m√™me. 3e partie ‚òëÔ∏è ‚ôæ üëÜüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous continuons de parler du syst√®me de contr√¥le du chauffage domestique √† l'aide du minuteur-thermostat NM8036 (commencez ici , continuez ici ). 
 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisation de la commande de chauffage domestique par vous-m√™me. 3e partie</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/masterkit/blog/383709/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous continuons de parler du syst√®me de contr√¥le du chauffage domestique √† l'aide du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minuteur-thermostat NM8036</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (commencez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , continuez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<img src="https://habrastorage.org/files/5b3/7b5/34c/5b37b534c1454736865ab3b0b75bd9d1.jpg" width="650"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cha√Ænes de programme et programme pour NM8036. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le minuteur-thermostat NM8036, bien s√ªr, est une bonne chose, mais sans personne, il ne s'agit que d'un √©l√©ment mat√©riel. Je dis que pour le contr√¥le normal du chauffage dans une maison priv√©e, un programme est n√©cessaire, √©tabli en fonction de l'√©quipement utilis√©. O√π commencer?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Familiarisons-nous avec les principes de base de la programmation de ce ¬´morceau de fer¬ª. </font><font style="vertical-align: inherit;">Comme vous le savez d'apr√®s la description, dans le contr√¥leur, il est possible de placer seulement 32 commandes (instructions). </font><font style="vertical-align: inherit;">Pas grand-chose, bien s√ªr, mais cet inconv√©nient est dans une certaine mesure compens√© par le fait que ces √©quipes sont assez fonctionnelles, c'est-√†-dire qu'elles contiennent initialement un ensemble de conditions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Litt√©ralement, chaque instruction d'instruction vous permet de faire un choix:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">type d'√©quipe;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">heures de d√©but et de fin;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p√©riode de validit√©;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">charge;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">type de capteur d'entr√©e;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">num√©ros (noms) du capteur;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seuils sup√©rieur et inf√©rieur de valeurs (hyst√©r√©sis);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logique d'interaction.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, Ma√Ætre, une liste assez longue et pour le premier regard inexp√©riment√© n'est pas totalement incompr√©hensible. C‚Äôest pourquoi nous allons maintenant approfondir tous ces points, apr√®s quoi, je l‚Äôesp√®re, tout ne sera pas si compliqu√©. Lisez attentivement, plongez-vous dans. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Type d'√©quipe. Il y en a quatre, √† l'exception du type ¬´D√©sactiv√©¬ª: Minuterie, Chauffage, Refroidissement, R√©veil. En ce qui concerne le dernier d'entre eux, le r√©veil, nous pouvons dire en toute s√©curit√©: presque personne ne l'a utilis√©. Bien, peut-√™tre que quelqu'un enfile et place cet appareil sur le mur √† la t√™te. Mais je pr√©f√®re utiliser un t√©l√©phone portable ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, trois types nous int√©ressent toujours: La minuterie vous permet d'activer et de d√©sactiver la charge s√©lectionn√©e √† une heure et un jour sp√©cifiques. Le chauffage permettra √† la charge de s'allumer lorsque la temp√©rature chute aux valeurs d√©finies, et le refroidissement - s'allumera lorsque la temp√©rature augmentera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heure de d√©but et de fin et p√©riode de validit√©. Le choix de ces valeurs est possible avec tout type d'√©quipe des trois qui nous int√©resse. Voici la date et l'heure du d√©but et la date et l'heure de l'arr√™t. Ce choix fonctionne √©troitement avec la p√©riode de validit√©. Comment?</font></font><br>
<br>
<img src="https://habrastorage.org/files/1b3/212/80f/1b321280fe3d48e78f67c85f626199d8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la P√©riode de validit√© n'est pas s√©lectionn√©e (ou ¬´Sans p√©riode¬ª est s√©lectionn√©), les valeurs s√©lectionn√©es des heures et des dates sont prises litt√©ralement. Autrement dit, la charge fonctionnera, √† partir de l'heure de d√©but jusqu'√† l'heure et la date de l'arr√™t, jusqu'au 2 octobre 2099. Tout le temps sans √©teindre. Mais comment activer la charge tous les jours √† l'heure s√©lectionn√©e et la d√©sactiver √† une autre heure? </font></font><br>
<br>
<img src="https://habrastorage.org/files/e69/018/4d5/e690184d52fc4866b7c9961166be7500.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cette logique de travail, vous devez sp√©cifier la p√©riode de validit√©. Tout. En particulier, dans l'exemple ci-dessus, la p√©riode Par jours de la semaine est s√©lectionn√©e et tous les jours sont indiqu√©s. Maintenant, tous les jours, la charge s'allumera pendant le d√©marrage et s'√©teindra pendant l'arr√™t. Et cela continuera donc jusqu'en 2099.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remarque: lors du choix des types de la commande Chauffage et refroidissement, le choix des valeurs de temp√©rature affecte √©galement le r√©sultat ainsi que la dur√©e et la p√©riode d'action s√©lectionn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Charger la s√©lection. Cela n'a gu√®re de sens d'expliquer que c'est le choix de la charge sur laquelle l'√©quipe agit. Cependant, je note une fois de plus combien il est pratique de faire un tel choix (ainsi que le choix des capteurs) lorsqu'il y a des noms attribu√©s. Je ne montre pas d√©lib√©r√©ment comment programmer le bloc NM8036 √† partir du clavier du bloc lui-m√™me, car je ne l'ai pas fait moi-m√™me et je trouve beaucoup plus pratique de le faire √† l'aide du gestionnaire avanc√© (j'en parlerai dans la partie suivante).</font></font><br>
<br>
<img src="https://habrastorage.org/files/14c/901/8ec/14c9018ec5fb40739e4384fce164c725.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteurs Dans ce bloc du programme, il est possible de s√©lectionner les capteurs et leurs valeurs. La s√©quence d'actions est assez logique: s√©lectionnez le type de capteur, s√©lectionnez le capteur lui-m√™me dans la liste et d√©finissez les valeurs n√©cessaires. </font></font><br>
<br>
<img src="https://habrastorage.org/files/25a/77f/7b9/25a77f7b999942149846c9abe6645223.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Type de capteur. Il existe trois options: num√©rique (capteurs de temp√©rature), analogique (ce sont les entr√©es du contr√¥leur ADC) et comparaison de deux capteurs (capteurs de temp√©rature). Tout d'abord, s√©lectionnez Num√©rique. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a86/514/ac2/a86514ac2681402fb9269051071e91e0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteur num√©rique. Dans la liste pr√©sent√©e des noms de capteurs, s√©lectionnez celui souhait√©.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ff5/e92/7af/ff5e927af0fe4ca0813a7e82ec8c2d58.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hyst√©r√®se. Et ici, soyez prudent, Ma√Ætre. La mise en marche et l'arr√™t de la charge sont des actions que le syst√®me effectue √† diff√©rentes temp√©ratures. Ne d√©finissez pas les m√™mes valeurs de temp√©rature pour les seuils sup√©rieur et inf√©rieur, cela ne correspond pas √† la logique du contr√¥leur. Les seuils peuvent √™tre tr√®s proches, par exemple 22,12 degr√©s et 22,13 degr√©s, mais ils doivent √™tre diff√©rents.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ffd/97d/617/ffd97d61741c47b6bc51033b1da8a7a0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'hyst√©r√©sis est la diff√©rence entre les temp√©ratures de marche et d'arr√™t. De plus, nous avons deux types de commandes: Chauffage et Refroidissement. Ainsi, si le chauffage est install√©, la charge sera toujours activ√©e dans la zone verte (en dessous du seuil inf√©rieur). Dans la zone jaune, la charge peut √™tre allum√©e et √©teinte, tout d√©pend de la direction. Si la temp√©rature r√©elle augmente, la charge sera activ√©e sur le seuil sup√©rieur (25 degr√©s). Lorsqu'elle est atteinte, la charge s'√©teint et son inclusion n'est possible que lorsque la temp√©rature descend au seuil inf√©rieur. Au-dessus du seuil sup√©rieur, la charge ne s'allumera en aucun cas.</font></font><br>
<br>
<img src="https://habrastorage.org/files/984/e29/545/984e2954579d4affa20bfc837c9dd277.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre chose est que si le type de commande est Cool. Ici, la charge sera toujours activ√©e √† des temp√©ratures sup√©rieures au seuil sup√©rieur (zone verte). La charge est d√©connect√©e √† la temp√©rature du seuil inf√©rieur (24 degr√©s), et l'inclusion: √† la temp√©rature du seuil sup√©rieur (25 degr√©s). Ainsi, la temp√©rature est maintenue entre des valeurs de 24 √† 25 degr√©s pour les deux types de commandes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√©lection d'un capteur analogique. Ici, ainsi que lors du choix d'un capteur num√©rique, il est n√©cessaire d'activer et de d√©sactiver l'hyst√©r√©sis. </font></font><br>
<br>
<img src="https://habrastorage.org/files/785/296/483/785296483ca9438a8bf5328397943675.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme pr√©sente deux types de param√®tres d'hyst√©r√©sis, ADC et physique. Vous pouvez entrer des valeurs dans n'importe quelle ligne, dans une autre, les valeurs correspondantes seront automatiquement calcul√©es. En savoir plus sur la pr√©sentation de ces donn√©es dans la deuxi√®me partie sur les entr√©es ADC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il faut √©galement rappeler que la logique de la charge et ici correspondra au type de commande: Chauffage ou Refroidissement. Peu importe ce que nous mesurons ici: temp√©rature, pression, kilogrammes, kilom√®tres ou volts ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comparaison de deux capteurs. Cette fonction n'est pas disponible dans les versions de firmware inf√©rieures √† 1,95. Il existe √©galement une d√©pendance sur le type de commande. Dans l'exemple ci-dessus, pendant le chauffage, la charge sera activ√©e lorsque le capteur ¬´Retour de maison¬ª est ¬´plus froid¬ª que ¬´Sortie BTA¬ª. Si le type de refroidissement est s√©lectionn√©, la situation s'inversera.</font></font><br>
<br>
<img src="https://habrastorage.org/files/db2/99e/9d1/db299e9d1bcd4759b289f94b4cbb4f74.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La logique de l'interaction. Dans de nombreux cas, cette fonction est demand√©e, car il est parfois impossible d'√©laborer un programme dans lequel plusieurs conditions doivent √™tre prises en compte. Par exemple, pour moi, le fonctionnement de la pompe dans la maison doit d√©pendre non seulement de la temp√©rature dans le couloir, mais aussi de la temp√©rature du retour de la maison et de la position de l'interrupteur ¬´Chaudi√®re¬ª. Autrement dit, trois capteurs doivent agir sur la m√™me charge. En g√©n√©ral, il peut y avoir une vari√©t√© de situations dans le contr√¥le du chauffage d'une maison priv√©e.</font></font><br>
<br>
<img src="https://habrastorage.org/files/4ca/f84/fab/4caf84fabcd247f19dad5cc45b81a8f9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, essayons de comprendre, Ma√Ætre, avec cette logique. Nous convenons tout de suite que la position de charge d√©connect√©e est z√©ro (0) et la position de marche est l'unit√© (1). Autrement dit, toute √©quipe de 32 peut nous donner comme r√©sultat que ces 2 √©tats: 0 ou 1 (d√©sactiv√© et activ√©). Toutes les conditions de cette commande ont √©t√© remplies (heure, date, p√©riode, √©tat du capteur) - √©mises 1 (chargement activ√©), et si au moins une des conditions r√©pertori√©es n'est pas remplie - √©mises 0 (chargement d√©sactiv√©).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons maintenant deux √©quipes. Pour la m√™me charge (j'y pr√™te une attention particuli√®re). Deux √©quipes qui agissent sur la m√™me charge, mais testent des capteurs diff√©rents, ou d√©finissent une heure diff√©rente, ou en g√©n√©ral les types sont diff√©rents: l'un est le chauffage et l'autre le refroidissement ou la minuterie. Cela n'a pas d'importance, mais l'essentiel est que chacun d'eux donne son propre r√©sultat: 0 ou 1. Mais la charge est une! Qui devrait-elle √©couter, comment se comporter? Va-t-il s'allumer ou ne pas s'allumer? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est l√† que la logique d'interaction entre en jeu. Il existe deux options: l'option "OU" et l'option "ET". Avec l'option ¬´OU¬ª, la charge s'allumera si au moins une √©quipe √©met 1. Que OU une autre - cela n'a pas d'importance, mais si au moins une donne le feu vert, la charge s'allume.</font></font><br>
<br>
<img src="https://habrastorage.org/files/155/c62/a6e/155c62a6ec11459caa3382eedc9760d4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec l'option "Et" d'une autre mani√®re. Ici, pour que la charge fonctionne, deux unit√©s sont n√©cessaires. √áa et l'autre. Si au moins une des √©quipes n'a pas donn√© le feu vert, la charge ne s'allumera pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et si les √©quipes ne sont pas deux, mais trois? Et si quatre? Et peu importe, la logique reste la m√™me. L'essentiel est de comprendre et de se rappeler que la logique d'interaction est configur√©e pour interagir avec l'√©quipe pr√©c√©dente pour la m√™me charge. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, ici, nous connaissons les principes de programmation du NM8036 dans le contr√¥le du chauffage d'une maison priv√©e. Mais la conversation n'est pas encore termin√©e, nous vous donnerons toujours des exemples pour vous familiariser avec diff√©rentes astuces. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La logique de mon syst√®me, comme je l'ai d√©j√† mentionn√©, pr√©voit deux modes, dans l'un desquels la chaudi√®re est en fonctionnement, et dans l'autre la temp√©rature de l'air est r√©gul√©e. Le commutateur de mode est engag√© dans le commutateur "Chaudi√®re".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nom de ce commutateur, comme il peut sembler, ne correspond pas √† sa logique. Pourquoi? Parce que lorsqu'il est allum√©, il produit une tension de 0 volt, et lorsqu'il est √©teint, il donne 5 volts. Ce n'est pas une mesure n√©cessaire, c'est juste que je l'ai mise au hasard lors du montage. En cons√©quence, j'ai fait le programme, je n'ai pas voulu y toucher. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus loin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme contient 5 charges qu'il contr√¥le: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Pompe de d√©rivation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Le circuit de pompe √† la maison. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. √âl√©ments chauffants √©lectriques. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Avertissement de signal. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Signal d'alarme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteurs de temp√©rature contr√¥l√©s: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Temp√©rature de l'air dans le hall d'entr√©e. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. La temp√©rature √† l'entr√©e des registres. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Temp√©rature dans le tuyau de retour du circuit de chauffage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, un interrupteur de mode, cinq charges et 3 capteurs de temp√©rature. Tout cela doit √™tre en quelque sorte li√© dans une certaine logique en un tout: un programme de contr√¥le. Commencer! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un premier temps, nous d√©terminons les valeurs par lesquelles nous d√©terminerons la position du commutateur de mode. Il devrait y avoir deux significations. L'un d'eux devrait √™tre sup√©rieur √† la moyenne, l'autre ci-dessous. J'ai accept√© le seuil d'hyst√©r√©sis sup√©rieur de 2,7 volts et le plus bas - 2,0 volts. Il aurait pu √™tre plus √©loign√© du milieu, disons 3,5 volts et 1,5, mais, comme il s'est av√©r√©, m√™me avec les valeurs accept√©es, le programme d√©termine clairement la position du commutateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, le programme sait maintenant que si la tension est inf√©rieure √† 2 volts, cela signifie que le mode ¬´Fonctionnement de la chaudi√®re¬ª est activ√©. Si la tension d'entr√©e est sup√©rieure √† 2,7 volts, il s'agit du mode ¬´Fonctionnement du circuit¬ª.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette circonstance nous permet d√©j√† de contr√¥ler une des charges: la pompe de d√©rivation. Lorsque le mode ¬´Fonctionnement chaudi√®re¬ª est activ√©, cette pompe doit √™tre allum√©e et chasser l'eau, mais en mode ¬´Fonctionnement circuit¬ª, cette pompe n'est pas n√©cessaire. Aucune autre condition n'est pr√©vue pour cette charge. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a23/d89/a2c/a23d89a2c8e74cca939443e89034fd4c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, la premi√®re ligne. Nous r√©glons le d√©marrage-arr√™t jusqu'en 2099, le laissons toujours fonctionner tant qu'il y a une tension d'alimentation. Nous ne s√©lectionnons pas le type de p√©riode; ici, aucune p√©riodicit√© dans le temps n'est requise. La charge a √©t√© indiqu√©e, le capteur a √©t√© indiqu√©, les valeurs d'hyst√©r√©sis ont √©t√© d√©termin√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais pourquoi chauffer? Mais parce qu'avec ce choix, la charge sera toujours allum√©e, tant que la tension d'entr√©e est inf√©rieure au seuil d'hyst√©r√©sis sup√©rieur (c'est-√†-dire inf√©rieur √† 2,7 volts). J'ai expliqu√© ces conditions plus en d√©tail ci-dessus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, gr√¢ce √† cette ligne du programme, la pompe de d√©rivation sera allum√©e tout le temps tandis que le mode ¬´Fonctionnement de la chaudi√®re¬ª est activ√© avec l'interrupteur √† bascule. Ma√Ætre, avez-vous une question comme: Ou peut-√™tre est-il pr√©f√©rable de simplement allumer la pompe avec l'interrupteur √† bascule? Apr√®s tout, cela ne fait aucune diff√©rence, c'est un gobelet quand m√™me! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si cela se produit, je r√©pondrai de cette fa√ßon: Et mon interrupteur √† bascule non seulement allume la pompe de d√©rivation. Gr√¢ce au fonctionnement de ce commutateur √† bascule, d'autres t√¢ches sont effectu√©es, d√©crites ci-dessous. </font></font><br>
<br>
<img src="https://habrastorage.org/files/6cd/610/ccc/6cd610ccc684488aa63a188ae7db5e1e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, prenons soin de chauffer le registre. Pour ce faire, j'ai install√© une chaudi√®re √©lectrique. Les √©l√©ments chauffants doivent s'allumer lorsque la temp√©rature √† l'entr√©e des registres est inf√©rieure √† 40 degr√©s. Mais il y a aussi une condition: ils ne doivent √™tre allum√©s qu'en mode ¬´Chaudi√®re¬ª.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä propos de la temp√©rature: J'ai d√©j√† parl√© de l'erreur des capteurs de temp√©rature attach√©s au tuyau avec du ruban adh√©sif. Par cons√©quent, nous prenons en compte cette erreur, fixons les limites d'hyst√©r√©sis un peu plus bas. Combien - cela, j'ai d√©termin√© empiriquement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, pour cette charge (√©l√©ments chauffants), deux conditions doivent √™tre remplies. Commen√ßons par le premier, avec la temp√©rature, et d√©finissons les valeurs pour la premi√®re ligne de charge des √©l√©ments chauffants. Le start-stop et le type de p√©riode sont les m√™mes sur toutes les lignes, donc je ne les mentionnerai plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le reste, nous s√©lectionnons la t√¢che Chauffage, charge TENy, ‚Äã‚Äãcontr√¥lons les registres d'entr√©e du capteur et r√©glons l'hyst√©r√©sis 36-35. Avec de tels param√®tres, les √©l√©ments chauffants s'allumeront √† une temp√©rature de 35 ou moins, et s'√©teindront lorsqu'ils atteindront 36 degr√©s (dans la nature, j'ai 41 degr√©s).</font></font><br>
<br>
<img src="https://habrastorage.org/files/f07/956/201/f07956201a304ec3a9553f09842c8a2d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons en quelque sorte remplir une condition suppl√©mentaire pour cette charge (√©l√©ments chauffants): le mode ¬´Fonctionnement chaudi√®re¬ª. Ici, c'est plus facile pour nous, nous avons d√©j√† rempli cette condition dans la toute premi√®re ligne pour la pompe de d√©rivation. Ici, nous r√©glons tout exactement de la m√™me mani√®re, dans la troisi√®me ligne de programme cons√©cutive et dans la seconde cons√©cutive pour la charge des √©l√©ments chauffants. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement √† cette ligne, nous indiquons, bien s√ªr, la charge des √©l√©ments chauffants et (ATTENTION!) Dans le coin sup√©rieur droit, nous faisons le choix de la logique d'interaction I. Si vous avez oubli√©, Ma√Ætre, je vous envoie √† nouveau ci-dessus, o√π nous parlons davantage de la logique d'interaction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, la charge des √©l√©ments chauffants ne s'allumera d√©sormais que lorsque la temp√©rature √† l'entr√©e des registres est inf√©rieure √† 40 degr√©s et uniquement lorsque le mode ¬´Fonctionnement chaudi√®re¬ª est activ√©.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ef6/1c2/565/ef61c256546a42b194dece2724a34607.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant, il est temps de penser √† l'alarme. En particulier, lorsque les RTE sont activ√©s, de courts tickers rares devraient sonner pour moi. Ici, en th√©orie, on pourrait simplement connecter le dispositif de signalisation aux √©l√©ments chauffants et √† l'ensemble de l'entreprise. La seule question est comment? Apr√®s tout, le relais de charge TENY commute 220 volts de changement, et 12 volts de courant constant devraient aller au signal d'avertissement. Il est donc n√©cessaire de programmer une charge distincte: Attention. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons donc faire. Tout est exactement le m√™me que pour la charge des √©l√©ments chauffants, √©galement deux lignes, mais indiquez la charge en eux: Attention. Sur la gauche, nous voyons la premi√®re ligne ... </font></font><br>
<br>
<img src="https://habrastorage.org/files/5f4/08a/6fa/5f408a6fae024889bf3819d0fb9d7b81.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et voici la deuxi√®me ligne pour le signal d'avertissement.</font></font><br>
<br>
<img src="https://habrastorage.org/files/67c/310/1e4/67c3101e470542b69653bd4a1e43b5e7.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons imm√©diatement d√©clencher une alarme, c'est-√†-dire un signal de temp√©rature excessive √† l'entr√©e des registres. Et ici, deux lignes de programme sont √©galement n√©cessaires, car il est n√©cessaire de contr√¥ler la temp√©rature √† l'entr√©e des registres et d'observer l'√©tat du mode ¬´Chaudi√®re¬ª. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presque tout est le m√™me que pour le signal d'avertissement. Presque, car nous indiquons la charge Accident, hyst√©r√©sis 51-50 et (ATTENTION!) La t√¢che nous s√©lectionnons Refroidissement. Avec cette disposition, la charge de l'alarme s'allumera et fonctionnera alors, si la temp√©rature √† l'entr√©e des registres 51 et plus par le capteur. Dans la nature, je l'ai 58 et au-dessus. </font></font><br>
<br>
<img src="https://habrastorage.org/files/7b2/58f/04f/7b258f04ff374319a43d88c2b77c9f8f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et la deuxi√®me ligne √† l'accident de charge fixer le mode de "Chaudi√®re". La logique de l'interaction Et!</font></font><br>
<br>
<img src="https://habrastorage.org/files/910/aa2/ccb/910aa2ccbdf343a89945a87511da59eb.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, nous avons atteint le r√©glage de la temp√©rature de l'air dans le couloir. Ici, nous ne g√©rerons pas une ligne et pas deux. Ici, j'ai trois conditions: la temp√©rature dans le hall d'entr√©e, la temp√©rature dans le retour du circuit et ... le mode "Fonctionnement du circuit". Pas une chaudi√®re, mais un circuit de chauffage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En th√©orie, ce n'est pas si difficile, bien que trois lignes. La premi√®re ligne contr√¥le la temp√©rature dans le couloir. T√¢che Chauffage, charge Corps de pompe, hyst√©r√©sis 21.7-21.6. </font></font><br>
<br>
<img src="https://habrastorage.org/files/ed7/5d1/af3/ed75d1af39b24574a5c05ca629c5f635.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxi√®me ligne est une ligne importante. Il s'agit de la condition de temp√©rature dans le tuyau de retour du circuit. La pompe doit cesser de conduire de l'eau chaude si sa temp√©rature de retour a d√©pass√© 33 degr√©s. </font></font><br>
<br>
<img src="https://habrastorage.org/files/4c3/1fc/5b4/4c31fc5b43e3466b99edbed0d40e0c20.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et c'est la troisi√®me ligne pour la charge du Pump House, et la derni√®re de mon programme de contr√¥le du chauffage. Faites attention, Ma√Ætre, ici la t√¢che de refroidissement est s√©lectionn√©e pour l'interrupteur √† bascule. Je pense que vous comprenez pourquoi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, toutes les fonctionnalit√©s du NM8036 ne sont pas utilis√©es dans mon programme de contr√¥le du chauffage. Il y a aussi une comparaison de deux capteurs de temp√©rature, que je n'ai pas utilis√©s au besoin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voudrais √©galement dire quelques mots sur la logique de l'interaction. Les instructions indiquent que pour chaque ligne de programme, la logique d'interaction avec la ligne pr√©c√©dente est d√©termin√©e. Mais je voudrais corriger ici. Un peu mal. Plus correct: la logique d'interaction avec le r√©sultat des lignes pr√©c√©dentes. Qu'est-ce que √ßa veut dire? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais regardez: nous avons, disons, 5 lignes du programme pour la m√™me charge: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. ligne 1 (OR) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. ligne 2 (AND) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. ligne 3 (AND) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. ligne 4 (OR) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. ligne 5 (ET)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment d√©terminer quel sera le r√©sultat? Commen√ßons par le haut. La premi√®re ligne ne compte pas la logique, car il n'y a pas de lignes pr√©c√©dentes pour cette charge. Cependant, si vous mettez la logique ET dans la premi√®re ligne, cette ligne ne sera jamais ex√©cut√©e pour vous (elle donnera 0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxi√®me ligne fonctionne avec la premi√®re selon la logique I. Autrement dit, la premi√®re doit donner 1 et la seconde - 1. Deux unit√©s dans la logique Et donneront une unit√© √† la sortie: 1. Si au moins une des conditions n'est pas remplie, la sortie de la deuxi√®me ligne sera nulle ( 0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La troisi√®me ligne fonctionne ... pas avec la seconde! Elle travaille AVEC R√âSULTAT d√®s la seconde. Elle travaille avec ce r√©sultat selon la logique ET, et donne son r√©sultat, 0 ou 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La quatri√®me ligne. Pas encore confus? Attention, cela fonctionne avec le RESULTAT de la ligne 3 selon la logique OU (tout 1 en entr√©e donnera 1 en sortie).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, la cinqui√®me ligne. </font><font style="vertical-align: inherit;">Si nous ne sommes pas confus et connaissons exactement le r√©sultat apr√®s la quatri√®me ligne, nous pouvons tout √† fait d√©terminer le r√©sultat apr√®s la cinqui√®me ligne. </font><font style="vertical-align: inherit;">Logique et: pour 1 √† la sortie, il devrait y avoir deux unit√©s √† l'entr√©e. </font><font style="vertical-align: inherit;">Et si apr√®s la cinqui√®me ligne, nous obtenons la sortie 1, notre charge s'allumera. </font><font style="vertical-align: inherit;">0 - ne s'allume pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä suivre‚Ä¶</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr383709/">https://habr.com/ru/post/fr383709/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr383695/index.html">Aux √âtats-Unis, ils veulent interdire la modification du firmware des routeurs Wi-Fi</a></li>
<li><a href="../fr383699/index.html">Capitale mondiale du droit des brevets</a></li>
<li><a href="../fr383701/index.html">Un regard neuf sur le "Bois de chauffage"</a></li>
<li><a href="../fr383703/index.html">La mati√®re consiste en un vide ou 0, (9) = 1</a></li>
<li><a href="../fr383705/index.html">Diagrammes de Voronoi pour les a√©roports et les capitales</a></li>
<li><a href="../fr383711/index.html">Toutes les principales innovations Lenovo √† l'IFA 2015</a></li>
<li><a href="../fr383715/index.html">La veste pour les voyageurs a re√ßu 8 millions de dollars sur Kickstarter au lieu de 20 mille dollars</a></li>
<li><a href="../fr383717/index.html">VOICe Sound Vision - √Ä un pas de la perc√©e</a></li>
<li><a href="../fr383719/index.html">Revue vid√©o de l'ordinateur portable Asus X555LF</a></li>
<li><a href="../fr383721/index.html">–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ë–∞–Ω–¥–µ—Ä–æ–ª—å–∫–∏</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>