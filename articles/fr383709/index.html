<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌬️ 🦎 🚩 Automatisation de la commande de chauffage domestique par vous-même. 3e partie ☑️ ♾ 👆🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous continuons de parler du système de contrôle du chauffage domestique à l'aide du minuteur-thermostat NM8036 (commencez ici , continuez ici ). 
 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisation de la commande de chauffage domestique par vous-même. 3e partie</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/masterkit/blog/383709/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous continuons de parler du système de contrôle du chauffage domestique à l'aide du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minuteur-thermostat NM8036</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (commencez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , continuez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<img src="https://habrastorage.org/files/5b3/7b5/34c/5b37b534c1454736865ab3b0b75bd9d1.jpg" width="650"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaînes de programme et programme pour NM8036. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le minuteur-thermostat NM8036, bien sûr, est une bonne chose, mais sans personne, il ne s'agit que d'un élément matériel. Je dis que pour le contrôle normal du chauffage dans une maison privée, un programme est nécessaire, établi en fonction de l'équipement utilisé. Où commencer?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Familiarisons-nous avec les principes de base de la programmation de ce «morceau de fer». </font><font style="vertical-align: inherit;">Comme vous le savez d'après la description, dans le contrôleur, il est possible de placer seulement 32 commandes (instructions). </font><font style="vertical-align: inherit;">Pas grand-chose, bien sûr, mais cet inconvénient est dans une certaine mesure compensé par le fait que ces équipes sont assez fonctionnelles, c'est-à-dire qu'elles contiennent initialement un ensemble de conditions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Littéralement, chaque instruction d'instruction vous permet de faire un choix:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">type d'équipe;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">heures de début et de fin;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">période de validité;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">charge;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">type de capteur d'entrée;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">numéros (noms) du capteur;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seuils supérieur et inférieur de valeurs (hystérésis);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logique d'interaction.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, Maître, une liste assez longue et pour le premier regard inexpérimenté n'est pas totalement incompréhensible. C’est pourquoi nous allons maintenant approfondir tous ces points, après quoi, je l’espère, tout ne sera pas si compliqué. Lisez attentivement, plongez-vous dans. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Type d'équipe. Il y en a quatre, à l'exception du type «Désactivé»: Minuterie, Chauffage, Refroidissement, Réveil. En ce qui concerne le dernier d'entre eux, le réveil, nous pouvons dire en toute sécurité: presque personne ne l'a utilisé. Bien, peut-être que quelqu'un enfile et place cet appareil sur le mur à la tête. Mais je préfère utiliser un téléphone portable ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, trois types nous intéressent toujours: La minuterie vous permet d'activer et de désactiver la charge sélectionnée à une heure et un jour spécifiques. Le chauffage permettra à la charge de s'allumer lorsque la température chute aux valeurs définies, et le refroidissement - s'allumera lorsque la température augmentera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heure de début et de fin et période de validité. Le choix de ces valeurs est possible avec tout type d'équipe des trois qui nous intéresse. Voici la date et l'heure du début et la date et l'heure de l'arrêt. Ce choix fonctionne étroitement avec la période de validité. Comment?</font></font><br>
<br>
<img src="https://habrastorage.org/files/1b3/212/80f/1b321280fe3d48e78f67c85f626199d8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la Période de validité n'est pas sélectionnée (ou «Sans période» est sélectionné), les valeurs sélectionnées des heures et des dates sont prises littéralement. Autrement dit, la charge fonctionnera, à partir de l'heure de début jusqu'à l'heure et la date de l'arrêt, jusqu'au 2 octobre 2099. Tout le temps sans éteindre. Mais comment activer la charge tous les jours à l'heure sélectionnée et la désactiver à une autre heure? </font></font><br>
<br>
<img src="https://habrastorage.org/files/e69/018/4d5/e690184d52fc4866b7c9961166be7500.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cette logique de travail, vous devez spécifier la période de validité. Tout. En particulier, dans l'exemple ci-dessus, la période Par jours de la semaine est sélectionnée et tous les jours sont indiqués. Maintenant, tous les jours, la charge s'allumera pendant le démarrage et s'éteindra pendant l'arrêt. Et cela continuera donc jusqu'en 2099.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remarque: lors du choix des types de la commande Chauffage et refroidissement, le choix des valeurs de température affecte également le résultat ainsi que la durée et la période d'action sélectionnées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Charger la sélection. Cela n'a guère de sens d'expliquer que c'est le choix de la charge sur laquelle l'équipe agit. Cependant, je note une fois de plus combien il est pratique de faire un tel choix (ainsi que le choix des capteurs) lorsqu'il y a des noms attribués. Je ne montre pas délibérément comment programmer le bloc NM8036 à partir du clavier du bloc lui-même, car je ne l'ai pas fait moi-même et je trouve beaucoup plus pratique de le faire à l'aide du gestionnaire avancé (j'en parlerai dans la partie suivante).</font></font><br>
<br>
<img src="https://habrastorage.org/files/14c/901/8ec/14c9018ec5fb40739e4384fce164c725.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteurs Dans ce bloc du programme, il est possible de sélectionner les capteurs et leurs valeurs. La séquence d'actions est assez logique: sélectionnez le type de capteur, sélectionnez le capteur lui-même dans la liste et définissez les valeurs nécessaires. </font></font><br>
<br>
<img src="https://habrastorage.org/files/25a/77f/7b9/25a77f7b999942149846c9abe6645223.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Type de capteur. Il existe trois options: numérique (capteurs de température), analogique (ce sont les entrées du contrôleur ADC) et comparaison de deux capteurs (capteurs de température). Tout d'abord, sélectionnez Numérique. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a86/514/ac2/a86514ac2681402fb9269051071e91e0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteur numérique. Dans la liste présentée des noms de capteurs, sélectionnez celui souhaité.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ff5/e92/7af/ff5e927af0fe4ca0813a7e82ec8c2d58.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hystérèse. Et ici, soyez prudent, Maître. La mise en marche et l'arrêt de la charge sont des actions que le système effectue à différentes températures. Ne définissez pas les mêmes valeurs de température pour les seuils supérieur et inférieur, cela ne correspond pas à la logique du contrôleur. Les seuils peuvent être très proches, par exemple 22,12 degrés et 22,13 degrés, mais ils doivent être différents.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ffd/97d/617/ffd97d61741c47b6bc51033b1da8a7a0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'hystérésis est la différence entre les températures de marche et d'arrêt. De plus, nous avons deux types de commandes: Chauffage et Refroidissement. Ainsi, si le chauffage est installé, la charge sera toujours activée dans la zone verte (en dessous du seuil inférieur). Dans la zone jaune, la charge peut être allumée et éteinte, tout dépend de la direction. Si la température réelle augmente, la charge sera activée sur le seuil supérieur (25 degrés). Lorsqu'elle est atteinte, la charge s'éteint et son inclusion n'est possible que lorsque la température descend au seuil inférieur. Au-dessus du seuil supérieur, la charge ne s'allumera en aucun cas.</font></font><br>
<br>
<img src="https://habrastorage.org/files/984/e29/545/984e2954579d4affa20bfc837c9dd277.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre chose est que si le type de commande est Cool. Ici, la charge sera toujours activée à des températures supérieures au seuil supérieur (zone verte). La charge est déconnectée à la température du seuil inférieur (24 degrés), et l'inclusion: à la température du seuil supérieur (25 degrés). Ainsi, la température est maintenue entre des valeurs de 24 à 25 degrés pour les deux types de commandes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sélection d'un capteur analogique. Ici, ainsi que lors du choix d'un capteur numérique, il est nécessaire d'activer et de désactiver l'hystérésis. </font></font><br>
<br>
<img src="https://habrastorage.org/files/785/296/483/785296483ca9438a8bf5328397943675.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme présente deux types de paramètres d'hystérésis, ADC et physique. Vous pouvez entrer des valeurs dans n'importe quelle ligne, dans une autre, les valeurs correspondantes seront automatiquement calculées. En savoir plus sur la présentation de ces données dans la deuxième partie sur les entrées ADC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il faut également rappeler que la logique de la charge et ici correspondra au type de commande: Chauffage ou Refroidissement. Peu importe ce que nous mesurons ici: température, pression, kilogrammes, kilomètres ou volts ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comparaison de deux capteurs. Cette fonction n'est pas disponible dans les versions de firmware inférieures à 1,95. Il existe également une dépendance sur le type de commande. Dans l'exemple ci-dessus, pendant le chauffage, la charge sera activée lorsque le capteur «Retour de maison» est «plus froid» que «Sortie BTA». Si le type de refroidissement est sélectionné, la situation s'inversera.</font></font><br>
<br>
<img src="https://habrastorage.org/files/db2/99e/9d1/db299e9d1bcd4759b289f94b4cbb4f74.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La logique de l'interaction. Dans de nombreux cas, cette fonction est demandée, car il est parfois impossible d'élaborer un programme dans lequel plusieurs conditions doivent être prises en compte. Par exemple, pour moi, le fonctionnement de la pompe dans la maison doit dépendre non seulement de la température dans le couloir, mais aussi de la température du retour de la maison et de la position de l'interrupteur «Chaudière». Autrement dit, trois capteurs doivent agir sur la même charge. En général, il peut y avoir une variété de situations dans le contrôle du chauffage d'une maison privée.</font></font><br>
<br>
<img src="https://habrastorage.org/files/4ca/f84/fab/4caf84fabcd247f19dad5cc45b81a8f9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, essayons de comprendre, Maître, avec cette logique. Nous convenons tout de suite que la position de charge déconnectée est zéro (0) et la position de marche est l'unité (1). Autrement dit, toute équipe de 32 peut nous donner comme résultat que ces 2 états: 0 ou 1 (désactivé et activé). Toutes les conditions de cette commande ont été remplies (heure, date, période, état du capteur) - émises 1 (chargement activé), et si au moins une des conditions répertoriées n'est pas remplie - émises 0 (chargement désactivé).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons maintenant deux équipes. Pour la même charge (j'y prête une attention particulière). Deux équipes qui agissent sur la même charge, mais testent des capteurs différents, ou définissent une heure différente, ou en général les types sont différents: l'un est le chauffage et l'autre le refroidissement ou la minuterie. Cela n'a pas d'importance, mais l'essentiel est que chacun d'eux donne son propre résultat: 0 ou 1. Mais la charge est une! Qui devrait-elle écouter, comment se comporter? Va-t-il s'allumer ou ne pas s'allumer? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est là que la logique d'interaction entre en jeu. Il existe deux options: l'option "OU" et l'option "ET". Avec l'option «OU», la charge s'allumera si au moins une équipe émet 1. Que OU une autre - cela n'a pas d'importance, mais si au moins une donne le feu vert, la charge s'allume.</font></font><br>
<br>
<img src="https://habrastorage.org/files/155/c62/a6e/155c62a6ec11459caa3382eedc9760d4.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec l'option "Et" d'une autre manière. Ici, pour que la charge fonctionne, deux unités sont nécessaires. Ça et l'autre. Si au moins une des équipes n'a pas donné le feu vert, la charge ne s'allumera pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et si les équipes ne sont pas deux, mais trois? Et si quatre? Et peu importe, la logique reste la même. L'essentiel est de comprendre et de se rappeler que la logique d'interaction est configurée pour interagir avec l'équipe précédente pour la même charge. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, ici, nous connaissons les principes de programmation du NM8036 dans le contrôle du chauffage d'une maison privée. Mais la conversation n'est pas encore terminée, nous vous donnerons toujours des exemples pour vous familiariser avec différentes astuces. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La logique de mon système, comme je l'ai déjà mentionné, prévoit deux modes, dans l'un desquels la chaudière est en fonctionnement, et dans l'autre la température de l'air est régulée. Le commutateur de mode est engagé dans le commutateur "Chaudière".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nom de ce commutateur, comme il peut sembler, ne correspond pas à sa logique. Pourquoi? Parce que lorsqu'il est allumé, il produit une tension de 0 volt, et lorsqu'il est éteint, il donne 5 volts. Ce n'est pas une mesure nécessaire, c'est juste que je l'ai mise au hasard lors du montage. En conséquence, j'ai fait le programme, je n'ai pas voulu y toucher. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus loin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme contient 5 charges qu'il contrôle: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Pompe de dérivation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Le circuit de pompe à la maison. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Éléments chauffants électriques. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Avertissement de signal. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Signal d'alarme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Capteurs de température contrôlés: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Température de l'air dans le hall d'entrée. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. La température à l'entrée des registres. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Température dans le tuyau de retour du circuit de chauffage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, un interrupteur de mode, cinq charges et 3 capteurs de température. Tout cela doit être en quelque sorte lié dans une certaine logique en un tout: un programme de contrôle. Commencer! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un premier temps, nous déterminons les valeurs par lesquelles nous déterminerons la position du commutateur de mode. Il devrait y avoir deux significations. L'un d'eux devrait être supérieur à la moyenne, l'autre ci-dessous. J'ai accepté le seuil d'hystérésis supérieur de 2,7 volts et le plus bas - 2,0 volts. Il aurait pu être plus éloigné du milieu, disons 3,5 volts et 1,5, mais, comme il s'est avéré, même avec les valeurs acceptées, le programme détermine clairement la position du commutateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, le programme sait maintenant que si la tension est inférieure à 2 volts, cela signifie que le mode «Fonctionnement de la chaudière» est activé. Si la tension d'entrée est supérieure à 2,7 volts, il s'agit du mode «Fonctionnement du circuit».</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette circonstance nous permet déjà de contrôler une des charges: la pompe de dérivation. Lorsque le mode «Fonctionnement chaudière» est activé, cette pompe doit être allumée et chasser l'eau, mais en mode «Fonctionnement circuit», cette pompe n'est pas nécessaire. Aucune autre condition n'est prévue pour cette charge. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a23/d89/a2c/a23d89a2c8e74cca939443e89034fd4c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, la première ligne. Nous réglons le démarrage-arrêt jusqu'en 2099, le laissons toujours fonctionner tant qu'il y a une tension d'alimentation. Nous ne sélectionnons pas le type de période; ici, aucune périodicité dans le temps n'est requise. La charge a été indiquée, le capteur a été indiqué, les valeurs d'hystérésis ont été déterminées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais pourquoi chauffer? Mais parce qu'avec ce choix, la charge sera toujours allumée, tant que la tension d'entrée est inférieure au seuil d'hystérésis supérieur (c'est-à-dire inférieur à 2,7 volts). J'ai expliqué ces conditions plus en détail ci-dessus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, grâce à cette ligne du programme, la pompe de dérivation sera allumée tout le temps tandis que le mode «Fonctionnement de la chaudière» est activé avec l'interrupteur à bascule. Maître, avez-vous une question comme: Ou peut-être est-il préférable de simplement allumer la pompe avec l'interrupteur à bascule? Après tout, cela ne fait aucune différence, c'est un gobelet quand même! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si cela se produit, je répondrai de cette façon: Et mon interrupteur à bascule non seulement allume la pompe de dérivation. Grâce au fonctionnement de ce commutateur à bascule, d'autres tâches sont effectuées, décrites ci-dessous. </font></font><br>
<br>
<img src="https://habrastorage.org/files/6cd/610/ccc/6cd610ccc684488aa63a188ae7db5e1e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, prenons soin de chauffer le registre. Pour ce faire, j'ai installé une chaudière électrique. Les éléments chauffants doivent s'allumer lorsque la température à l'entrée des registres est inférieure à 40 degrés. Mais il y a aussi une condition: ils ne doivent être allumés qu'en mode «Chaudière».</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À propos de la température: J'ai déjà parlé de l'erreur des capteurs de température attachés au tuyau avec du ruban adhésif. Par conséquent, nous prenons en compte cette erreur, fixons les limites d'hystérésis un peu plus bas. Combien - cela, j'ai déterminé empiriquement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, pour cette charge (éléments chauffants), deux conditions doivent être remplies. Commençons par le premier, avec la température, et définissons les valeurs pour la première ligne de charge des éléments chauffants. Le start-stop et le type de période sont les mêmes sur toutes les lignes, donc je ne les mentionnerai plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le reste, nous sélectionnons la tâche Chauffage, charge TENy, ​​contrôlons les registres d'entrée du capteur et réglons l'hystérésis 36-35. Avec de tels paramètres, les éléments chauffants s'allumeront à une température de 35 ou moins, et s'éteindront lorsqu'ils atteindront 36 degrés (dans la nature, j'ai 41 degrés).</font></font><br>
<br>
<img src="https://habrastorage.org/files/f07/956/201/f07956201a304ec3a9553f09842c8a2d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons en quelque sorte remplir une condition supplémentaire pour cette charge (éléments chauffants): le mode «Fonctionnement chaudière». Ici, c'est plus facile pour nous, nous avons déjà rempli cette condition dans la toute première ligne pour la pompe de dérivation. Ici, nous réglons tout exactement de la même manière, dans la troisième ligne de programme consécutive et dans la seconde consécutive pour la charge des éléments chauffants. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement à cette ligne, nous indiquons, bien sûr, la charge des éléments chauffants et (ATTENTION!) Dans le coin supérieur droit, nous faisons le choix de la logique d'interaction I. Si vous avez oublié, Maître, je vous envoie à nouveau ci-dessus, où nous parlons davantage de la logique d'interaction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, la charge des éléments chauffants ne s'allumera désormais que lorsque la température à l'entrée des registres est inférieure à 40 degrés et uniquement lorsque le mode «Fonctionnement chaudière» est activé.</font></font><br>
<br>
<img src="https://habrastorage.org/files/ef6/1c2/565/ef61c256546a42b194dece2724a34607.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant, il est temps de penser à l'alarme. En particulier, lorsque les RTE sont activés, de courts tickers rares devraient sonner pour moi. Ici, en théorie, on pourrait simplement connecter le dispositif de signalisation aux éléments chauffants et à l'ensemble de l'entreprise. La seule question est comment? Après tout, le relais de charge TENY commute 220 volts de changement, et 12 volts de courant constant devraient aller au signal d'avertissement. Il est donc nécessaire de programmer une charge distincte: Attention. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons donc faire. Tout est exactement le même que pour la charge des éléments chauffants, également deux lignes, mais indiquez la charge en eux: Attention. Sur la gauche, nous voyons la première ligne ... </font></font><br>
<br>
<img src="https://habrastorage.org/files/5f4/08a/6fa/5f408a6fae024889bf3819d0fb9d7b81.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et voici la deuxième ligne pour le signal d'avertissement.</font></font><br>
<br>
<img src="https://habrastorage.org/files/67c/310/1e4/67c3101e470542b69653bd4a1e43b5e7.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons immédiatement déclencher une alarme, c'est-à-dire un signal de température excessive à l'entrée des registres. Et ici, deux lignes de programme sont également nécessaires, car il est nécessaire de contrôler la température à l'entrée des registres et d'observer l'état du mode «Chaudière». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presque tout est le même que pour le signal d'avertissement. Presque, car nous indiquons la charge Accident, hystérésis 51-50 et (ATTENTION!) La tâche nous sélectionnons Refroidissement. Avec cette disposition, la charge de l'alarme s'allumera et fonctionnera alors, si la température à l'entrée des registres 51 et plus par le capteur. Dans la nature, je l'ai 58 et au-dessus. </font></font><br>
<br>
<img src="https://habrastorage.org/files/7b2/58f/04f/7b258f04ff374319a43d88c2b77c9f8f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et la deuxième ligne à l'accident de charge fixer le mode de "Chaudière". La logique de l'interaction Et!</font></font><br>
<br>
<img src="https://habrastorage.org/files/910/aa2/ccb/910aa2ccbdf343a89945a87511da59eb.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, nous avons atteint le réglage de la température de l'air dans le couloir. Ici, nous ne gérerons pas une ligne et pas deux. Ici, j'ai trois conditions: la température dans le hall d'entrée, la température dans le retour du circuit et ... le mode "Fonctionnement du circuit". Pas une chaudière, mais un circuit de chauffage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En théorie, ce n'est pas si difficile, bien que trois lignes. La première ligne contrôle la température dans le couloir. Tâche Chauffage, charge Corps de pompe, hystérésis 21.7-21.6. </font></font><br>
<br>
<img src="https://habrastorage.org/files/ed7/5d1/af3/ed75d1af39b24574a5c05ca629c5f635.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxième ligne est une ligne importante. Il s'agit de la condition de température dans le tuyau de retour du circuit. La pompe doit cesser de conduire de l'eau chaude si sa température de retour a dépassé 33 degrés. </font></font><br>
<br>
<img src="https://habrastorage.org/files/4c3/1fc/5b4/4c31fc5b43e3466b99edbed0d40e0c20.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et c'est la troisième ligne pour la charge du Pump House, et la dernière de mon programme de contrôle du chauffage. Faites attention, Maître, ici la tâche de refroidissement est sélectionnée pour l'interrupteur à bascule. Je pense que vous comprenez pourquoi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, toutes les fonctionnalités du NM8036 ne sont pas utilisées dans mon programme de contrôle du chauffage. Il y a aussi une comparaison de deux capteurs de température, que je n'ai pas utilisés au besoin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voudrais également dire quelques mots sur la logique de l'interaction. Les instructions indiquent que pour chaque ligne de programme, la logique d'interaction avec la ligne précédente est déterminée. Mais je voudrais corriger ici. Un peu mal. Plus correct: la logique d'interaction avec le résultat des lignes précédentes. Qu'est-ce que ça veut dire? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais regardez: nous avons, disons, 5 lignes du programme pour la même charge: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. ligne 1 (OR) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. ligne 2 (AND) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. ligne 3 (AND) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. ligne 4 (OR) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. ligne 5 (ET)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment déterminer quel sera le résultat? Commençons par le haut. La première ligne ne compte pas la logique, car il n'y a pas de lignes précédentes pour cette charge. Cependant, si vous mettez la logique ET dans la première ligne, cette ligne ne sera jamais exécutée pour vous (elle donnera 0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxième ligne fonctionne avec la première selon la logique I. Autrement dit, la première doit donner 1 et la seconde - 1. Deux unités dans la logique Et donneront une unité à la sortie: 1. Si au moins une des conditions n'est pas remplie, la sortie de la deuxième ligne sera nulle ( 0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La troisième ligne fonctionne ... pas avec la seconde! Elle travaille AVEC RÉSULTAT dès la seconde. Elle travaille avec ce résultat selon la logique ET, et donne son résultat, 0 ou 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La quatrième ligne. Pas encore confus? Attention, cela fonctionne avec le RESULTAT de la ligne 3 selon la logique OU (tout 1 en entrée donnera 1 en sortie).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, la cinquième ligne. </font><font style="vertical-align: inherit;">Si nous ne sommes pas confus et connaissons exactement le résultat après la quatrième ligne, nous pouvons tout à fait déterminer le résultat après la cinquième ligne. </font><font style="vertical-align: inherit;">Logique et: pour 1 à la sortie, il devrait y avoir deux unités à l'entrée. </font><font style="vertical-align: inherit;">Et si après la cinquième ligne, nous obtenons la sortie 1, notre charge s'allumera. </font><font style="vertical-align: inherit;">0 - ne s'allume pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À suivre…</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr383709/">https://habr.com/ru/post/fr383709/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr383695/index.html">Aux États-Unis, ils veulent interdire la modification du firmware des routeurs Wi-Fi</a></li>
<li><a href="../fr383699/index.html">Capitale mondiale du droit des brevets</a></li>
<li><a href="../fr383701/index.html">Un regard neuf sur le "Bois de chauffage"</a></li>
<li><a href="../fr383703/index.html">La matière consiste en un vide ou 0, (9) = 1</a></li>
<li><a href="../fr383705/index.html">Diagrammes de Voronoi pour les aéroports et les capitales</a></li>
<li><a href="../fr383711/index.html">Toutes les principales innovations Lenovo à l'IFA 2015</a></li>
<li><a href="../fr383715/index.html">La veste pour les voyageurs a reçu 8 millions de dollars sur Kickstarter au lieu de 20 mille dollars</a></li>
<li><a href="../fr383717/index.html">VOICe Sound Vision - À un pas de la percée</a></li>
<li><a href="../fr383719/index.html">Revue vidéo de l'ordinateur portable Asus X555LF</a></li>
<li><a href="../fr383721/index.html">Возвращение Бандерольки</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>