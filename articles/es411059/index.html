<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìô üïµüèΩ üë®‚Äçüç≥ C√≥mo convertirse en un mago (parte 2). Entre bastidores t√©cnicos ‚èèÔ∏è üëº üë©‚Äçüë©‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Geektimes, hola! Como se prometi√≥, esta es una continuaci√≥n del √∫ltimo art√≠culo sobre nuestro peque√±o mundo de magia. Hoy te contar√© sobre el backstag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo convertirse en un mago (parte 2). Entre bastidores t√©cnicos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411059/"><p>  Geektimes, hola!  Como se prometi√≥, esta es una continuaci√≥n del √∫ltimo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> sobre nuestro peque√±o mundo de magia.  Hoy te contar√© sobre el backstage de las misiones m√°gicas, qu√© decisiones se tomaron y c√≥mo llegamos a la conclusi√≥n de que la b√∫squeda tiene tal escenario y apariencia. </p><br><p>  Porque  Hasta que se construy√≥ la b√∫squeda, me gustaba la electr√≥nica, en particular, la programaci√≥n de microcontroladores AVR en C, ¬°se decidi√≥ tratar de maximizar este potencial, lo que permitir√≠a agregar la m√°xima interactividad, inter√©s y emoci√≥n a la b√∫squeda!  Adem√°s, realmente no quer√≠a hacer que la b√∫squeda se viera como docenas de otros (trabajando en ese momento en nuestra ciudad). </p><br><p>  Al pensar en el nuevo escenario, decidimos claramente que no tendr√≠amos cerraduras, ni llaves, ni tareas est√°ndar, en general, ¬°encender√≠amos la electr√≥nica al m√°ximo de nuestras capacidades! </p><br><p>  Echemos un vistazo m√°s de cerca a la parte t√©cnica, y ahora te dir√© c√≥mo hacer que la electr√≥nica sea lo m√°s <s>colectiva</s> posible. </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/dn/vy/th/dnvythtcndsal3tgxf_ia1s_yxk.jpeg"></a> </p><a name="habracut"></a><br><h2>  Revisi√≥n general </h2><br><p>  Omitiremos la implementaci√≥n inicial de la b√∫squeda (tal vez hablar√© de esto m√°s adelante) y nos centraremos en el momento de finalizaci√≥n (despu√©s de lo cual la b√∫squeda tiene la forma final). </p><br><p>  Despu√©s de discutir nuestra nueva visi√≥n de la b√∫squeda, me di cuenta de que el poder de un microcontrolador ya es peque√±o y que necesitas conectar una computadora, combinando todos los dispositivos en un solo sistema.  Para comprender la integridad de la imagen, se compil√≥ un diagrama de todos los dispositivos y sus interacciones: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wh/ef/vm/whefvmw6i3ss9jkjumnxju_veiw.jpeg" width="550"></div><br><p>  Seg√∫n el diagrama, puede pensar que la computadora es la principal, pero esto no es del todo cierto, asumir√° el papel de administrar y reproducir pistas de audio, que, como ya not√≥ en el art√≠culo anterior, tenemos mucho. </p><br><p>  El microcontrolador Atmega16 se convirti√≥ en el coraz√≥n de todo el sistema (el √∫nico criterio de selecci√≥n era un n√∫mero suficiente de GPIO), que, a trav√©s de UART, se comunica con el programa en la computadora.  Todos los dem√°s dispositivos est√°n hechos en el microcontrolador Atmega8 (es excelente en la cantidad de GPIO y tiene un precio asequible). </p><br><p>  La mayor√≠a de las placas se sueldan en las placas de prueba de dos lados m√°s frescas, respectivamente, todos los detalles en los casos DIP.  Algunas tablas permanecieron desde el comienzo de la b√∫squeda. </p><br><div class="spoiler">  <b class="spoiler_title">Programa para computadora</b> <div class="spoiler_text"><p>  La ventana principal del programa: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jy/ym/8o/jyym8oqes1h3jybzjf1x-ipqloo.jpeg" width="500"></div><br><p>  Ventana ampliada para situaciones de emergencia: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lp/gz/is/lpgzisvnnrzbjmd544mjapcd-eg.jpeg" width="500"></div><br><p>  Ventana de error: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zc/_y/x-/zc_yx-mgwz-s08u-leuj7zh5oso.jpeg" width="500"></div></div></div><br><p>  La placa principal solo recibe (!) Se√±ales discretas de otros dispositivos (a trav√©s de los optoacopladores que se pueden ver en la foto), se comunica con la computadora, controla el LED en el taz√≥n de memoria. </p><br><div class="spoiler">  <b class="spoiler_title">Foto del tablero</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/tw/uy/ax/twuyaxztwv4q95ghdpey2fjojfo.jpeg" width="300"><img src="https://habrastorage.org/webt/l_/6e/jz/l_6ejzxjegptdieidedh4w3lq_g.jpeg" width="300"></p></div></div><br><p>  <strong>Ca√±√≥n M√°gico Primario: Varita</strong> </p><br><p>  Una varita m√°gica es un poco m√°gica, un im√°n de neodimio est√° incorporado en su punta.  √âl la convirti√≥ en un buen abuelo para la madera por solo $ 2.  El principal problema era empujar un im√°n de di√°metro m√°ximo, manteniendo la punta lo m√°s delgada posible. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ou/pu/t5/ouput5svy1t_kylawmvy4z-psf8.jpeg" height="100"></div><br><p>  Ahora echemos un vistazo m√°s de cerca a cada dispositivo. </p><br><p>  <strong>Rama roja</strong> </p><br><p>  <em>El libro</em> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jg/wm/5n/jgwm5nqowqi-snfpqeea6qygdbs.jpeg" width="500"></div><br><p>  El evento de audio del libro es activado por el avance, que est√° montado en un estante.  Inicialmente est√° cerrado y para abrirlo, debe traer una varita con un im√°n.  El libro es como una mini caja fuerte: tiene bater√≠as (Li-ion 3S), un interruptor de l√°minas y una tecla de transistor que controla el pestillo electromec√°nico (para no dejar pasar toda la corriente a trav√©s del interruptor de l√°minas. Al mismo tiempo, puede observar un hermoso brillo dentro del interruptor de l√°minas, pero no durar√° y la probabilidad de "pegar" contactos).  Aqu√≠ todo es simple: la varita se abre, el interruptor de l√°minas pasa corriente, el transistor est√° abierto y el perno de retenci√≥n se retrae.  El interior de la caja fuerte del dedo del pie se ve as√≠: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4p/a3/cs/4pa3csv5uafgtxobfj8ufadhdi8.jpeg" width="500"></div><br><p>  Y la vista final: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cv/3n/vq/cv3nvqxj-m6f1ciowre3bxc3vjk.jpeg" width="500"></div><br><p>  <em>Dobby</em> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gh/ra/7q/ghra7qobwrgesiu4rcqtj9mtxay.jpeg" width="500"></div><br><p>  Porque  la tarea era reaccionar de manera m√°s interactiva para llevar el calcet√≠n a Dobby, la elecci√≥n recay√≥ en la tecnolog√≠a RFID.  Para hacer esto, tuve que coser un peque√±o llavero en mi calcet√≠n (como desde un intercomunicador en la entrada) y poner en el calcet√≠n el mismo cartel que Dobby en la palma de su mano.  Detr√°s de la imagen de Dobby est√° el m√≥dulo RFID. </p><br><p>  El dispositivo se basa en el microcontrolador Atmega8 y el popular m√≥dulo RC522 RFID.  Despu√©s de levantar el calcet√≠n (un radio de respuesta de hasta 4 cm es perfecto), el transistor de efecto de campo abre el pestillo electromagn√©tico en la caja y con la ayuda de un resorte se levanta la tapa, se env√≠a una se√±al a la placa principal y se enciende una luz roja en el taz√≥n de memoria. </p><br><div class="spoiler">  <b class="spoiler_title">Tarifa</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/jq/ql/_7/jqql_7jfi3w6lis3u58ylar3mwi.png" width="450"></div></div></div><br><p>  <strong>Rama azul</strong> </p><br><p>  <em>Chimenea</em> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6w/b0/ej/6wb0ejy-xmt10rrvvknd2emkp_8.jpeg" height="450"></div><br><p>  La chimenea es naturalmente falsa.  Hecho de perfil y paneles de yeso pegados con baldosas de ladrillo. </p><br><p>  Electr√≥nica ensamblada en Atmega8.  Se monta un remolque en cada ladrillo y se conecta una tira de LED azul.  Los ladrillos mismos se sientan a un lado de las cortinas, y en el otro se hace una gu√≠a primitiva con un resorte de retorno.  Cuando hace clic por primera vez en cualquier ladrillo, todos los botones (hay 7 de ellos) se iluminan durante 100 ms y se retira el ojo con un motor paso a paso, la se√±al ir√° a la placa principal, la memoria se encender√° y la luz azul en el taz√≥n de memoria. </p><br><p>  El motor paso a paso y la tira de LED se controlan utilizando el conjunto de transistor Darlington ULN2003 (para los curiosos, la parte te√≥rica se puede leer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ). </p><br><p>  Ahora, cada clic en cualquier ladrillo invierte su estado (un clic - encendido, el siguiente - apagado y as√≠ sucesivamente), la primera vez que hace clic en cualquier ladrillo, el sensor de infrarrojos est√° oculto en la imagen: el LED IR est√° encendido, la radiaci√≥n est√° alej√°ndose del jugador que se aproxima y se pone a un transistor IR que usando <del>  granja colectiva </del>  Los ajustes exactos por resistencias dan una se√±al discreta 0 o 1 en la salida. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/j7/vo/vs/j7vovsqzvpecwnnta4ryuuicqzo.jpeg" width="500"></div><br><p>  Tambi√©n hay una soluci√≥n contra la iluminaci√≥n espuria (especialmente cierto si los usuarios comienzan a encender una l√°mpara en la chimenea), una m√°s (enmascarada) se incluye en el circuito abierto del transistor IR principal, que, cuando se expone a la luz, simplemente apaga la reacci√≥n del microcontrolador. </p><br><p>  Tan pronto como se activa el sensor IR, el microcontrolador tambi√©n enciende el parpadeo de la combinaci√≥n deseada que debe presionarse (resaltarse) y, por cierto, la secuencia de presionar tambi√©n juega un papel importante.  El parpadeo de la combinaci√≥n deseada apaga todos los ladrillos previamente presionados. </p><br><p>  Cuando se presion√≥ la combinaci√≥n correcta, la imagen se abre con la ayuda de un pestillo electromec√°nico m√°s grande que en los ata√∫des.  Para hacer esto, incluso tuve que poner un transformador bastante grande solo para este pestillo. </p><br><p>  (En general, estos pestillos son muy d√©biles, aunque consumen mucha corriente en el pico. Debe tener mucho cuidado con su control, si le da corriente durante m√°s de 5 segundos, simplemente puede quemarse, as√≠ es como quem√© un pestillo) </p><br><div class="spoiler">  <b class="spoiler_title">Acceso a nodos t√©cnicos y placa</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/3f/3w/d_/3f3wd_pzwkiwc0akv-9gke8ycoy.jpeg" height="450"></div><br><p><img src="https://habrastorage.org/webt/19/y2/z1/19y2z1m4vdnzoakm9r3uurh638u.jpeg" width="350"><img src="https://habrastorage.org/webt/uf/xn/wv/ufxnwv1yklo_njv1hi_q6tf7doy.jpeg" width="350"></p></div></div><br><p>  <strong>Rama verde</strong> </p><br><p>  <em>Ata√∫d</em> </p><br><p>  En la mesa hay un frasco discreto en el remolque; si lo levanta, se enciende la luz verde en el caldero y se abre el ata√∫d, en el que hay una pista para la puerta. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/bp/g3/dgbpg30xa87pu3vkc8hsuyk_muo.jpeg" width="550"></div><br><p>  (Este es el mismo frasco que se necesita para el huevo de Pascua con los chistes de Dobby, que se describe en el primer art√≠culo) </p><br><p>  <em>La puerta</em> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yj/s4/n1/yjs4n1lzj_ouxjypnurgsiu_vsm.jpeg" width="350"></div><br><p>  Cuando presiona la manija completamente hacia arriba y hacia abajo (para esto, tuvo que poner 2 interruptores finales en la parte posterior de la puerta para responder presionando la manija por completo), el ojo de la serpiente en la puerta comienza a parpadear. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ki/gs/yq/kigsyq4bpjrb41m3wkeacow0liw.jpeg" width="300"></div><br><p>  El algoritmo de apertura de puerta correcto se puede entender desde el indicador: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/rt/nv/jwrtnvq9y7fhpzfylrovjdse5xw.jpeg" height="400"></div><br><div class="spoiler">  <b class="spoiler_title">M√°s tarde result√≥ que esta pista es bastante complicada para los jugadores.</b>  <b class="spoiler_title">Posteriormente, fue reemplazado por uno m√°s comprensible</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/hl/sr/v8/hlsrv8spyrijvnve2rz6fjmqfyi.jpeg" width="500"></div></div></div><br><p>  Durante las pausas (5s), el microcontrolador simplemente se cuelga con retraso y, al presionar, la variable se incrementa.  Por lo tanto, si presiona la manija durante mucho tiempo y con fuerza, se abrir√° de todos modos, por cierto, algunas personas abrieron la puerta de esta manera, sin entender c√≥mo lo hicieron.  Para no hacer una nueva placa con un microcontrolador separado para esta simple tarea, se encontraron varios pines libres en la placa del laberinto y todo estaba conectado all√≠. </p><br><p>  <em>Espejo de pecho</em> </p><br><p>  En la tapa del cofre se aplican 10 s√≠mbolos m√°gicos, y dentro de la ca√±a est√°n pegados debajo de ellos. <br>  El usuario debe llevar la varita a los 3 caracteres correctos (la secuencia no importa. La foto est√° marcada con marcas de verificaci√≥n), sin embargo, otras figuras tambi√©n tienen interruptores de l√°minas, sosteniendo la varita que cancela los clics anteriores, incluso si eran correctos (por lo que era imposible abrir el cofre manteniendo la varita presionada). todos los caracteres en una fila).  Con la elecci√≥n correcta de s√≠mbolos, se abre el electroim√°n en el cofre (los Atmega8 y ULN2003 favoritos est√°n en el cofre).  En esta etapa, se env√≠a una se√±al al tablero de marcado del laberinto (una unidad com√∫n desde el pin de un MK al pin de otro a trav√©s de una tecla de transistor) y los giros comienzan a girar en el laberinto. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y4/mg/va/y4mgva5jwu7of5x1_zt4mtlgaem.jpeg" width="550"></div><br><p>  <em>Laberinto</em> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1w/lx/9c/1wlx9czlf4vl6-k_kolx6nrfile.jpeg" width="550"></div><br><p>  Subestimamos este gran dise√±o.  Se tom√≥ mucho tiempo y esfuerzo para crear, pero el resultado vali√≥ la pena.  Para el trabajo del "gran objeto negro en la pared", se requer√≠a una gran cantidad de GPIO (todo se hizo de la manera m√°s primitiva: ¬°sin multiplexores / demultiplexores, solo hardcore!), As√≠ que tuve que dividir el dispositivo en unidades funcionales: el dial y el laberinto en s√≠.  Cada nodo se realiza en el mismo Atmega8. </p><br><div class="spoiler">  <b class="spoiler_title">Proceso de montaje</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ha/kd/n7/hakdn7tbv9q7-3pjscovb9_pgok.gif" width="550"></div></div></div><br><p>  En el laberinto, el principio es simple (aunque entonces no parec√≠a tan simple :)).  Muchos problemas fueron causados ‚Äã‚Äãpor la presencia de una pelota al final de su camino.  La interferencia aleatoria estaba interfiriendo constantemente con la operaci√≥n de un optoacoplador abierto. </p><br><div class="spoiler">  <b class="spoiler_title">Foto del tablero</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/bv/16/pu/bv16pucrojx_6qpbaq5wmszmfrq.jpeg" width="550"></div></div></div><br><p>  Son estos condensadores amarillos los que ayudaron a resolver el problema del funcionamiento aleatorio de los optoacopladores. </p><br><p>  Como resultado de pasar el laberinto, se abre el acceso a la esfera verde.  El sistema para proporcionar acceso a √©l se cierra con llave desde las puertas del autom√≥vil.  (En t√©rminos de precio / fuerza de retracci√≥n, ¬°es un monstruo!). </p><br><p>  Inicialmente, no estaba planeado dar 1 bola para el juego, pero tuve que hacer ajustes ya en la etapa final, porque  en bolas de magnetismo, pueden "pegarse" y separarlas es muy problem√°tico, por lo tanto, para excluir esta probabilidad tanto como sea posible en el juego, se decidi√≥ emitir bolas a su vez.  La alimentaci√≥n se lleva a cabo utilizando un motor paso a paso y un obturador improvisado de una vieja varilla giratoria. </p><br><div class="spoiler">  <b class="spoiler_title">Foto del mecanismo</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/f0/bu/-p/f0bu-pdwg9bcxbnswdtufo-xgwk.jpeg" width="350"></div></div></div><br><p>  <strong>Uniendo fuerzas</strong> </p><br><p>  <em>Ajedrez</em> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/li/sv/bj/lisvbj67_f4538jcwsngoz-6ule.jpeg" width="500"></div><br><p>  Despu√©s de mucha deliberaci√≥n, se pens√≥ una tarea con un solo algoritmo (bajo ciertas condiciones, que los jugadores hacen una reserva).  Lo √∫nico que quedaba era implementar un sistema de movimiento de ajedrez y reacci√≥n a las acciones de los jugadores :) </p><br><div class="spoiler">  <b class="spoiler_title">Con el apoyo de la producci√≥n agr√≠cola colectiva, se implement√≥ el siguiente dise√±o trrrresh:</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/cb/3n/dc/cb3ndck2a4ge9y2aud1mskzqdyq.jpeg" width="350"><img src="https://habrastorage.org/webt/yz/tx/bj/yztxbjncm7oilb359bslvcvsuvk.jpeg" width="350"></p></div></div><br><p>  El mecanismo est√° hecho de esp√°rragos y tuercas M8, rodamientos chinos y madera.  Se monta un im√°n en cada figura con la ayuda de la cual el mecanismo los mueve.  El acoplamiento entre el motor y el perno est√° hecho de un componente de la pistola de pegamento, que ten√≠amos consumibles, debido al consumo enormemente aumentado de pegamento de silicona. </p><br><div class="spoiler">  <b class="spoiler_title">Foto del tablero</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jw/hh/ad/jwhhadki6ctudi0tz4dxd_i3cpk.jpeg" width="350"><img src="https://habrastorage.org/webt/g6/yd/rf/g6ydrfrphcnvrigm4uuqf3th5hc.jpeg" width="350"></p></div></div><br><p>  Qui√©n sabe, tomamos las piezas del juego de ajedrez de Harry Potter, todav√≠a hacen diferentes sonidos, brillan, etc.  No pod√≠a dejar estas caracter√≠sticas as√≠, mov√≠ estos chales debajo del tablero y result√≥ que cuando van a caballo, √©l relincha, y al final puedes escuchar el sonido del rey ca√≠do. <br>  Despu√©s de una victoria en el ajedrez, la puerta del gabinete se abre (se abre r√°pidamente con la ayuda de un riel de gas para muebles). </p><br><p>  Antes de pasar a lo m√°s interesante, quiero hablar sobre un caldero (un cuenco de recuerdos) y un intercomunicador para la comunicaci√≥n entre el administrador y los visitantes durante el juego. </p><br><p>  <em>Taz√≥n de recuerdos</em> </p><br><p>  Para empezar, este caldero de aluminio de diez litros fue encontrado por mi abuelo en el garaje como un atributo de la cocina sovi√©tica :) La idea de crear un cuenco de recuerdos de los que soplar√≠a humo (y de hecho vapor) estuvo en nuestros pensamientos durante mucho tiempo, pero llegamos a una implementaci√≥n competente un poco mas tarde </p><br><p>  ¬°Los humidificadores ultras√≥nicos en la cantidad de 6 (!!!) piezas y con una potencia total de aproximadamente 100 vatios se convirtieron en el agente de nebulizaci√≥n! </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4s/rf/yf/4srfyfxjqghpglwjkvin8-fnvdu.png" width="350"></div><br><p>  Por desgracia, la foto no se conserv√≥, pero el dispositivo es muy simple, hecho de acuerdo con el esquema: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/ly/cz/telycz1hm-xsihi9bstgrn7amiw.png" width="350"></div><br><p>  Las dimensiones se hicieron para adaptarse perfectamente a este sistema en la mesa (espacio para cajones). </p><br><p>  <em>Intercomunicador</em> </p><br><p>  Mi escaso conocimiento de los circuitos anal√≥gicos no permiti√≥ una soluci√≥n r√°pida a este problema.  Despu√©s de largos e infructuosos intentos (¬°pero result√≥ que m√°s tarde, la soluci√≥n estaba cerca de Chetrov!) Le ped√≠ a mi amigo de Kherson que me hiciera tal dispositivo. </p><br><div class="spoiler">  <b class="spoiler_title">Y despu√©s de un tiempo obtuve tal dispositivo</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wp/3l/gj/wp3lgj8lyrudgr3qay6jwyz9dzq.jpeg" height="350"><img src="https://habrastorage.org/webt/nl/fd/od/nlfdod5gxhlk0yqneatdm7qxye8.jpeg" height="350"></p></div></div><br><p>  El preamplificador est√° hecho en un amplificador operacional de bajo ruido NE5532, despu√©s de lo cual cuesta TDA2006. </p><br><div class="spoiler">  <b class="spoiler_title">Circuito de preamplificador</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/bs/c8/zrbsc8-3bnuu6vmscl3pvhvpugg.jpeg" width="400"></div></div></div><br><p>  Finalmente, pasamos a uno de los sistemas m√°s complejos de la sala: ¬°la batalla final con el Se√±or Oscuro! </p><br><p>  <strong><em>Pelea</em></strong> </p><br><p>  La idea era realizar al menos una "batalla" m√°s o menos similar del jugador (Harry Potter) con Voldemort.  Para mayor efecto, se ha agregado viento (2 ventiladores).  Pensamos en muchas opciones, y luego un amigo me habl√≥ de los LED WS2812 direccionables.  Ahora, incluso los conductores Arduino m√°s perezosos hablan sobre las cosas geniales que hicieron, pero luego WS2812 eran menos conocidos, ¬°pero se convirtieron en nuestra salvaci√≥n!  Sin ellos, ¬°no era realista realizar nuestra idea! </p><br><p>  La tira de LED de 5 m se dobl√≥ por la mitad, y un cable para un interruptor de l√°minas se estir√≥ en el interior.  Las primeras 5m se grabaron de forma segura en un intento de ahorrar en la fuente de alimentaci√≥n para la misma cinta :) </p><br><p>  Comenzamos el desarrollo estableciendo los tiempos: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x4/qo/wh/x4qowhnqimvp4m5c-sdratsqzws.jpeg" width="500"></div><br><p>  Algunos problemas agregaron la inclusi√≥n de los fan√°ticos.  Si traes / quitas la varita con frecuencia, entonces el rel√© (inicialmente intent√© encender los ventiladores a trav√©s del rel√©), el microcontrolador simplemente demoli√≥ la torre.  Como resultado, aprend√≠ sobre la capacidad de controlar una carga de 220V a trav√©s de un optosimmistor.  Despu√©s de eso no uso un rel√© :) </p><br><p>  Tambi√©n vale la pena mencionar que se requer√≠a una gran potencia inform√°tica (en la escala Atmega8) para dedicar el control de la tira de LED.  Al principio, el trabajo de la cinta colgaba mucho, sufrimos durante mucho tiempo, no pod√≠amos entender por qu√©.  Como resultado, tuve que encontrar en Internet a la persona que escribi√≥ la biblioteca para esta cinta y pedirle ayuda.  La raz√≥n era simple: el MK no tuvo tiempo de ejecutar el c√≥digo en el controlador de interrupciones, y tan pronto como lo arreglamos, ¬°todo funcion√≥ perfectamente! </p><br><div class="spoiler">  <b class="spoiler_title">Foto del tablero</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/nh/iw/cp/nhiwcpjsdozd8dqie-ur6wk49uk.jpeg" width="350"><img src="https://habrastorage.org/webt/fb/ld/va/fbldvaxsykqrxfhbw3i0c7htiaw.jpeg" width="350"></p></div></div><br><p>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programas para microcontroladores</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Programa para computadora</a> </p><br><p>  Seg√∫n nuestra idea, este deber√≠a ser el √∫ltimo art√≠culo, pero a√∫n queremos contarte muchas cosas interesantes, por lo que quiero anunciar el lanzamiento de dos art√≠culos m√°s sobre c√≥mo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hacer Hogwarts real (1)</a> y golpear junto con ideas no realizadas (2) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de la oficina</a> . </p><br><p>  ¬°Ser√° interesante! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es411059/">https://habr.com/ru/post/es411059/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es411045/index.html">Stick: el h√©roe desconocido de la evoluci√≥n humana</a></li>
<li><a href="../es411049/index.html">Que leer Art√≠culos y blogs poco conocidos y congelados de no ficci√≥n</a></li>
<li><a href="../es411051/index.html">Los sat√©lites de Dauria Aerospace no se ponen en contacto (desafortunadamente, contin√∫a)</a></li>
<li><a href="../es411055/index.html">Expertos: un conductor humano en el sitio del piloto autom√°tico de Uber podr√≠a evitar una colisi√≥n fatal</a></li>
<li><a href="../es411057/index.html">Space X y ULA firman contratos de $ 650 millones con el Pent√°gono</a></li>
<li><a href="../es411061/index.html">SO real para una PC o netbook antigua</a></li>
<li><a href="../es411063/index.html">Aprendiendo el elefante (parte 2)</a></li>
<li><a href="../es411065/index.html">"Disfrutar del silencio": ¬øcu√°les son los pros y los contras de los lugares m√°s tranquilos del planeta?</a></li>
<li><a href="../es411067/index.html">El Universo Temprano 1. Cosmolog√≠a de la inflaci√≥n: ¬øEs nuestro universo parte del multiverso? Parte 1</a></li>
<li><a href="../es411069/index.html">"Cyborgs y espacio"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>