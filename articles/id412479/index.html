<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎐 📁 👱🏿 Pemindai laser 3D di ponsel Android 🕞 🕔 👨🏽‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya mempersembahkan kepada Anda pemindai DIY yang didasarkan pada smartphone Android. 

 Ketika merancang dan membuat pemindai, pertama-tama, saya te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pemindai laser 3D di ponsel Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412479/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/mb/dd/op/mbddoptooexgtjkqnnpchqsfkiq.jpeg"></div><br>  Saya mempersembahkan kepada Anda pemindai DIY yang didasarkan pada smartphone Android. <br><br>  Ketika merancang dan membuat pemindai, pertama-tama, saya tertarik memindai objek besar.  Minimum - sosok seseorang dalam pertumbuhan penuh dengan akurasi - setidaknya 1-2 mm. <br><br>  Kriteria ini telah berhasil dicapai.  Berhasil memindai objek dalam cahaya alami (tanpa sinar matahari langsung).  Bidang pemindaian ditentukan oleh sudut pengambilan kamera smartphone dan jarak di mana sinar laser mempertahankan kecerahan yang cukup untuk deteksi (pada siang hari di dalam ruangan).  Ini adalah sosok seseorang dengan tinggi penuh (1,8 meter) dengan lebar kerja 1,2 meter. <br><br>  Pemindai itu dibuat berdasarkan pertimbangan "dan apakah akan melakukan sesuatu yang lebih atau kurang bermanfaat dan menarik ketika tidak ada yang dilakukan."  Semua ilustrasi didasarkan pada contoh objek "uji" (mengunggah pindaian manusia tidak benar). <br><br>  Seperti yang telah ditunjukkan oleh pengalaman, untuk pemindai jenis perangkat lunak ini, perangkat ini merupakan perangkat sekunder dan paling sedikit waktu yang dihabiskan untuk itu (untuk versi final. Terlepas dari percobaan dan opsi buntu).  Oleh karena itu, saya tidak akan menyentuh fitur perangkat lunak dalam artikel (Tautan ke kode sumber di akhir artikel.) <br><br>  Tujuan artikel ini adalah untuk membahas tentang kebuntuan cabang dan masalah yang dikumpulkan dalam perjalanan untuk membuat versi kerja terakhir. <br><a name="habracut"></a><br>  Untuk pemindai, versi final menggunakan: <br><br><ol><li>  Samsung S5 Phone </li><li>  Laser merah dan hijau dengan lensa untuk garis (garis 90 derajat) pada 30 mW dengan optik kaca (bukan yang termurah). </li><li>  Motor stepper 35BYGHM302-06LA 0.3A, 0.9 ° </li><li>  A4988 Stepper Driver Motor </li><li>  Modul Bluetooth HC-05 </li><li>  Papan STM32F103C8t </li></ol><br>  Driver A4988 ditetapkan setengah langkah, yang dengan 15-&gt; 120 gearbox menghasilkan 400 * 2 * 8 langkah per PI. <br><br><h2>  Pilihan teknologi pemindaian. </h2><br>  Berbagai opsi berikut dipertimbangkan. <br><br><h4>  Proyektor LED. </h4><br>  Opsi dipertimbangkan dan dihitung.  Bahkan proyektor mahal tidak memiliki resolusi yang tepat untuk mencapai akurasi yang diperlukan.  Dan bahkan tidak layak untuk membicarakan yang murah. <br><br><h4>  Pemindaian mekanis sinar laser dalam kombinasi dengan kisi difraksi. </h4><br>  Idenya diuji dan dianggap cocok.  Tetapi tidak untuk kinerja DIY, karena alasan: <br><br><ol><li>  Kami membutuhkan laser yang cukup kuat, sehingga setelah difraksi, tanda-tandanya cukup cerah (jarak ke lensa smartphone adalah 1,.2 meter).  Dan mataku menyesal.  Laser dot dengan 30mW tidak berguna. </li><li>  Persyaratan untuk pemindaian mekanik presisi di 2 pesawat terlalu tinggi untuk kinerja DIY. </li></ol><br><h3>  Pemindaian mekanis standar dari garis laser pada objek stasioner pemindaian. </h3><br>  Pada akhirnya, opsi tersebut dipilih dengan dua laser warna berbeda. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2i/uf/ue/2iufuep6mdd8uemj582b1fkhpja.jpeg"></div><br><ol><li>  Berbagai warna laser memungkinkan untuk secara mandiri mendeteksi mereka dalam satu bingkai. </li><li>  Lokasi laser di sisi berlawanan dari kamera memungkinkan Anda untuk mendapatkan dua pemindaian dalam satu pass. </li><li>  Dua pemindaian sekaligus memungkinkan Anda menilai kualitas penyelarasan pemindai secara objektif (pemindaian harus menyatu dan tumpang tindih). </li></ol><br>  Ternyata, kriteria terakhir adalah yang paling penting.  Kualitas pemindaian sepenuhnya ditentukan oleh keakuratan mengukur dimensi geometris dan sudut pemindai.  Dan kehadiran dua pemindaian dari dua laser memungkinkan Anda untuk segera mengevaluasi kualitas pemindaian: <br>  Awan titik berkumpul.  Yaitu  pesawat yang ditangkap oleh dua laser berkumpul di seluruh permukaan. <br><br><h1>  Versi mekanik yang gagal pada 28BYJ-48. </h1><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f5/bd/d7/f5bdd7gj652kanczlquqybadyv8.jpeg"></div><br>  Meskipun sejak awal saya berasumsi bahwa ini adalah opsi jalan buntu yang tidak memberikan akurasi yang diperlukan, saya masih memeriksanya dengan berbagai trik: <br><br><ol><li>  Sumbu motor ditetapkan oleh bantalan. </li><li>  Menambahkan elemen gesekan dan stopper untuk pengambilan sampel clearance gearbox. </li><li>  Upaya untuk menentukan "posisi tepat" oleh fototransistor oleh paparan laser </li></ol><br>  Pengulangan kembali ke tempat yang sama dari garis laser ternyata rendah - 2-3 mm pada jarak 1,5 meter.  Selama operasi gir, meskipun terlihat halus, sentakan 1-3 mm terlihat pada jarak 1,5 meter. <br><br>  Yaitu  28BYJ-48 benar-benar tidak cocok untuk pemindai objek besar yang kurang lebih akurat. <br><br><h2>  Persyaratan pemindaian berdasarkan pengalaman saya </h2><br>  <u>Elemen wajib dari sweep harus berupa gearbox.</u> <br><br>  Jangan salah tentang mode langkah 1 / x.  Percobaan menunjukkan bahwa dalam mode 1/16 pada langkah mikro A4988 tidak seragam.  Dan pada 1/8, ketidakmerataan ini terlihat di mata. <br><br>  Solusi paling optimal untuk gearbox adalah penggunaan sabuk gigi.  Meskipun ternyata agak rumit, mudah dibuat dan akurat. <br>  Keakuratan pemosisian (lebih tepatnya, pengulangan posisi dari posisi awal laser untuk pemindaian) laser ternyata sekitar 0,5 mm untuk 5 mm lebar garis laser pada jarak 4 meter.  Yaitu  pada jarak pemindaian (1,2-1,8 meter) umumnya sulit untuk diukur. <br><br>  Positioning - optocouplers (bukan nama Cina) pada slot di disk di bawah laser. <br><br><h2>  Masalah dengan mentransmisikan sinyal kontrol dari telepon ke modul kontrol untuk laser dan motor stepper </h2><br>  Saluran kontrol ternyata menjadi hambatan dalam hal kecepatan pemindaian.  Karena ini adalah pengembangan santai DIY untuk kesenangan Anda sendiri, semua metode komunikasi dengan smartphone telah dicoba. <br><br><h4>  Transmisi sinyal kontrol melalui jack Audio (jack Audio telepon =&gt; osiloskop) </h4><br>  Cara paling menghambat untuk mengirimkan data secara real time.  Ya, bahkan dengan waktu mengambang.  Hingga 500 ms (!) Dari aktivasi perangkat lunak transmisi data audio ke tampilan aktual sinyal di jack Audio. <br><br>  Eksotis ini diperiksa, karena, di tempat kerja, saya harus berurusan dengan pembaca kartu chip seluler. <br><br><h4>  Fotodioda pada layar ponsel cerdas (irisan layar ponsel =&gt; fototransistor + STM32F103) </h4><br>  Demi menarik, bahkan metode eksotis seperti itu diuji sebagai phototransistors dengan matriks 2x2 dalam bentuk jemuran di layar. <br><br>  Meskipun metode pengiriman informasi dari ponsel ini adalah yang tercepat, tetapi pada dasarnya tidak lebih cepat (10 ms vs 50ms) daripada Bluetooth, yang akan tahan dengan kekurangannya (jepitan pada layar). <br><br><h4>  Saluran IR (telepon =&gt; TSOP1736-&gt; STM32F103) </h4><br>  Praktis diverifikasi dan metode transmisi melalui saluran IR.  Bahkan beberapa implementasi protokol transfer data harus dilakukan. <br><br>  Tetapi IR juga ternyata sangat tidak nyaman (tidak nyaman untuk memasang sensor foto pada ponsel), dan tidak jauh lebih cepat daripada Bluetooth. <br><br><h4>  Modul WiFi (telepon =&gt; ESP8266-RS232-&gt; STM32F103) </h4><br>  Hasil pemeriksaan modul ini ternyata benar-benar mengecewakan.  Runtime request-response (echo) ternyata mengambang tak terduga di kisaran 20-300 ms (rata-rata 150 ms).  Mengapa dan apa - tidak mengerti.  Saya hanya menemukan artikel yang menggambarkan upaya yang gagal untuk menggunakan ESP8266 untuk pertukaran data real-time dengan persyaratan waktu permintaan / respons yang ketat. <br><br>  Yaitu  ESP8266 dengan "standar" TCP -&gt; firmware RS232 tidak cocok untuk tujuan tersebut. <br><br><h3>  Pilihan yang dipilih untuk modul kontrol dan transmisi sinyal </h3><br>  Akhirnya, setelah semua percobaan, saluran Bluetooth (modul HC-05) dipilih.  Ini memberikan waktu respons-respons transfer data yang stabil (dan ini yang paling penting) sebesar 40 ms. <br><br>  Waktunya cukup besar dan sangat memengaruhi waktu pemindaian (setengah dari total waktu). <br>  Namun pilihan terbaik tidak tercapai. <br><br>  Sebagai modul kontrol, papan tersebar luas dengan SM32F103C8T. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zt/v4/h_/ztv4h_9yaihwssmvespqbnixnv8.jpeg"></div><br><h2>  Metode untuk mendeteksi garis dalam bingkai. </h2><br>  Cara termudah untuk mengisolasi garis laser dalam bingkai adalah dengan menggunakan pengurangan bingkai dengan laser dimatikan dan bingkai dengan laser. <br><br>  Pada prinsipnya, pencarian dengan bingkai juga bekerja tanpa pengurangan.  Tapi itu bekerja jauh lebih buruk di siang hari.  Meskipun mode ini ditinggalkan di perangkat lunak untuk uji perbandingan (foto mode di bawah. Semua foto lainnya dengan mode pengurangan bingkai). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u8/ui/er/u8uieroxdwngl1vbhe8xqq_wxi4.jpeg"></div><br>  Nilai praktis opsi tanpa mengurangi bingkai rendah. <br><br>  Adalah mungkin dan mungkin untuk mengekstrak sinyal laser dari informasi berisik ini.  Namun, dia tidak repot. <br><br>  Opsi dengan pengurangan bingkai bekerja dengan baik. <br><br>  Setiap percobaan dengan upaya untuk mendekati garis dan memproses seluruh frame menunjukkan bahwa semakin kompleks algoritme, semakin sering "membuat kesalahan" dan bahkan memperlambat pemrosesan dengan cepat.  Algoritma tercepat (dan termudah) untuk menemukan laser (titik laser) pada garis horizontal adalah: <br><br><ul><li>  Untuk setiap titik garis, jumlah kuadrat dari tingkat warna laser (RGB) di jendela yang ditentukan dalam konfigurasi dipertimbangkan (13 px - nilai optimal yang optimal untuk jendela) </li><li>  Titik laser adalah bagian tengah jendela dengan nilai maksimum jumlah tingkat "warna". </li></ul><br>  Waktu untuk memproses satu frame dengan mencari "hijau" dan "garis merah" adalah 3ms. <br><br>  Titik awan untuk laser merah dan hijau dihitung secara terpisah.  Dengan penyesuaian mekanis yang tepat, mereka berkurang dengan akurasi &lt;1 mm. <br><br><h2>  Akurasi dan keselarasan </h2><br>  Akurasi itu dalam 1 mm pada jarak 1,2 meter.  Sebagian besar karena resolusi kamera ponsel (1920x1080) dan lebar sinar laser. <br><br>  Sangat penting untuk mendapatkan pemindaian yang benar untuk mengkonfigurasi statis dan dinamis.  Akurasi / ketidaktepatan terlihat jelas saat memuat kedua awan titik di MeshLab.  Idealnya, titik awan harus bertemu, saling melengkapi. <br><br>  Parameter statis ditetapkan seakurat mungkin sekali: <br><br><ol><li>  Garis singgung dari sudut pandang kamera. </li><li>  Panjang "bahu" laser (dari pusat lensa ke sumbu rotasi). </li></ol><br>  Dan tentu saja, fokus maksimum lensa laser pada jarak pemindaian yang diberikan dan "vertikalitas" garis laser. <br><br>  Parameter dinamis dari sudut aktual posisi laser relatif terhadap bidang virtual frame harus disesuaikan setiap waktu lagi ketika mencampur telepon di dudukan.  Untuk ini, mode konfigurasi dalam perangkat lunak dibuat.  Dengan mengurangi layar laser ke tengah dan menyesuaikan sudut, perlu untuk mengatur jarak yang dihitung sedekat mungkin dengan jarak (diukur) sebenarnya untuk kedua laser. <br><br>  Sebelum fine tuning: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/om/bi/zn/ombiznxwfxp9omvn9iykl7r2euk.jpeg"></div><br>  Setelah penyesuaian: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4-/5y/jq/4-5yjqvqndfskpdqsqozgtjl6cs.jpeg"></div><br><h2>  Kesimpulan </h2><br>  Mungkin desain ini bisa diulangi oleh siapa saja.  Saya memotong semua detail dari fiberglass ke CNC. <br><br>  Tentu saja, tanpa mesin penggilingan CNC, sulit untuk membuat katrol di bawah laser.  Tetapi dengan mempertimbangkan fakta bahwa Anda membutuhkan sudut rotasi maksimum 90 derajat, dengan kesabaran yang memadai, katrol juga dapat dipotong dengan file. <br><br>  Tetapi lebih baik melakukannya di CNC.  Persyaratan untuk permainan aksial rakitan putar tinggi.  Kualitas pemindaian 100% ditentukan oleh keakuratan pabrikan dan penyelarasan. <br><br>  Pemindai melakukannya di latar belakang.  Kadang-kadang, sebentar-sebentar selama beberapa bulan.  Karena itu, saya tidak bisa menilai kompleksitas total dari penciptaannya. <br><br>  Total biaya struktur tidak terlalu tinggi.  Seperti yang diperlihatkan percobaan saya, meskipun jauh dari pemindai industri benda besar, Anda bisa mendapatkan pindaian yang cukup baik. <br>  Kualitas pemindaian terutama dipengaruhi oleh keakuratan bagian mekanis.  Dalam hal ini, di DIY sulit untuk berurusan dengan mekanik yang dibuat untuk pemindai industri. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kode sumber</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/86_ZMUdhrN4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id412479/">https://habr.com/ru/post/id412479/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id412469/index.html">EmDrive memberi daya tarik karena perlindungan yang buruk</a></li>
<li><a href="../id412471/index.html">Berurusan dengan artikel: tingkat lanjut</a></li>
<li><a href="../id412473/index.html">EW terhadap internet satelit</a></li>
<li><a href="../id412475/index.html">Menemukan kerentanan baru dalam prosesor</a></li>
<li><a href="../id412477/index.html">Elon Musk: untuk saat ini, kami tidak akan menjual versi dasar Model 3</a></li>
<li><a href="../id412481/index.html">Apa yang salah dengan metode Bates</a></li>
<li><a href="../id412483/index.html">Kurang tidur menyebabkan penurunan radikal dalam perhatian dan kinerja</a></li>
<li><a href="../id412485/index.html">[GT-H]: Tentang masalah sistemik, masa depan dan (sedikit) Tesla - di mana itu tanpa dia</a></li>
<li><a href="../id412487/index.html">Panggilan pada pukul 5 pagi dan pengaturan dengan Parlemen Eropa: bagaimana kami mempersiapkan konferensi blockchain kami</a></li>
<li><a href="../id412489/index.html">Sejarah Singkat Alternatif Kuantum</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>