<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõÄüèø üíÜüèΩ üßíüèø Article sur la r√©vision du cadre A üõåüèº üíÑ üåÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A-Frame est un framework bas√© sur le Web qui vous permet de cr√©er diverses applications, jeux, sc√®nes en r√©alit√© virtuelle (VR). Tout ce qui pr√©c√®de s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Article sur la r√©vision du cadre A</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439416/"><img src="https://habrastorage.org/webt/f-/qn/zb/f-qnzbemgwkrqoepzchim4omo38.png"><br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">A-Frame</a></b> est un framework bas√© sur le Web qui vous permet de cr√©er diverses applications, jeux, sc√®nes en r√©alit√© virtuelle (VR).  Tout ce qui pr√©c√®de sera disponible directement depuis le navigateur de votre casque VR.  Cet outil sera utile pour ceux qui souhaitent d√©velopper des jeux VR dans un navigateur, et par exemple, il peut √™tre utile comme plate-forme pour cr√©er des applications, des sites, des pages de destination Web VR.  Les utilisations de Web BP ne sont limit√©es que par votre imagination.  Offhand je peux apporter quelques domaines de l'activit√© humaine o√π la PA peut √™tre utile: l'√©ducation, la m√©decine, les sports, les ventes, les loisirs. <br><a name="habracut"></a><br><h2>  Qu'y a-t-il √† l'int√©rieur? </h2><br>  A-Frame n'est pas √©crit √† partir de 0 sur WebGL pur, il est bas√© sur la biblioth√®que <i>Three.js</i> .  Par cons√©quent, je vous recommande de comprendre d'abord les concepts de base de Three.js avant de commencer √† travailler avec A-Frame, bien que cela ne soit pas n√©cessaire, car A-Frame est con√ßu de sorte que vous pensiez le moins au rendu de la g√©om√©trie et que vous vous concentriez davantage sur la logique de votre application. .  Voil√† pourquoi lui, en fait, et le cadre. <br><br>  Pour cela, A-Frame postule trois points principaux, dont nous parlerons plus loin. <br><br><h2>  A-Frame fonctionne avec HTML </h2><br>  De nombreux √©l√©ments de base du cadre A, tels que sc√®ne, appareil photo, bo√Æte, sph√®re, etc., sont ajout√©s √† la sc√®ne via des balises du m√™me nom avec le pr√©fixe <b>a-</b> .  Chaque article similaire est enregistr√© comme personnalis√©.  A-Frame (0.8.0) utilise actuellement la sp√©cification v0. <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-scene</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-box</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1 0.5 -3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rotation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0 45 0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#4CC3D9"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-box</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-sphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0 1.25 -5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.25"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#EF2D5E"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-sphere</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-scene</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Ce petit fragment de code dessinera une sc√®ne WebGL √† laquelle deux objets seront ajout√©s: un cube et une sph√®re avec les param√®tres donn√©s.  En plus des deux √©l√©ments mentionn√©s ci-dessus, il existe un certain nombre d'autres primitives qui peuvent √™tre ajout√©es √† la sc√®ne de la m√™me mani√®re: <i>&lt;a-circle&gt;, &lt;a-cone&gt;, &lt;a-cylinder&gt;, &lt;a-dodecahedron&gt;, &lt;a-icosahedron&gt; , &lt;a-octa√®dre&gt;, &lt;a-plane&gt;, &lt;a-ring&gt;, &lt;a-tetrahedron&gt;, &lt;a-torus-knot&gt;, &lt;a-torus&gt;, &lt;a-triangle&gt;</i> .  Dans A-Frame, il existe √©galement un certain nombre d'autres √©l√©ments qui remplissent certaines fonctions: <br><br><ul><li>  <b>&lt;a-camera&gt;</b> - cr√©e une cam√©ra.  Seule la cam√©ra en perspective (PerspectiveCamera) est actuellement prise en charge. </li><li>  <b>&lt;a-obj-model&gt;, &lt;a-collada-model&gt;, &lt;a-gltf-model&gt;</b> - ils chargent et affichent tous des mod√®les du format correspondant. </li><li>  <b>&lt;a-cursor&gt;</b> - un √©l√©ment qui vous permet d'effectuer diverses actions: clic, guidage, etc. Le curseur est li√© au centre de la cam√©ra, il sera donc toujours au centre de ce que voit l'utilisateur. </li><li>  <b>&lt;a-image&gt;</b> - affiche l'image s√©lectionn√©e sur un plan (&lt;a-plane&gt;). </li><li>  <b>&lt;a-link&gt;</b> est identique √† une balise, uniquement pour une sc√®ne 3D. </li><li>  <b>&lt;a-sky&gt;</b> - un √©norme cylindre autour de la sc√®ne qui vous permet d'afficher 360 photos.  Ou vous pouvez simplement le remplir de couleur. </li><li>  <b>&lt;a-sound&gt;</b> - cr√©e une source sonore dans une position donn√©e. </li><li>  <b>&lt;a-text&gt;</b> - dessine un texte plat. </li><li>  <b>&lt;a-video&gt;</b> - lit la vid√©o dans un avion. </li></ul><br>  Je voudrais √©galement noter que nous travaillons avec des √©l√©ments DOM et que nous pouvons donc utiliser l'API DOM standard, notamment querySelector, getElementById, appendChild, etc. <br><br><h2>  A-Frame utilise ECS </h2><br><img src="https://habrastorage.org/webt/2j/ms/b6/2jmsb6kaxov-akanrv-ea2pk9-g.png"><br>  <b>ECS (Entity Component System)</b> - mod√®le de conception d'application et de jeu.  Il √©tait r√©pandu uniquement dans le deuxi√®me segment.  Comme son nom l'indique, les trois concepts de base d'un mod√®le sont Entit√©, Composant, Syst√®me.  Dans la forme classique, ils sont interconnect√©s comme suit: nous avons un objet conteneur (Entity) auquel nous pouvons ajouter des composants.  En r√®gle g√©n√©rale, un composant est responsable d'une partie distincte de la logique.  Par exemple, nous avons un objet Player, il a un composant Health.  Ce composant contiendra toute la logique associ√©e √† la reconstitution ou √† la perte de sant√© du joueur (objet).  Et les syst√®mes, √† leur tour, sont n√©cessaires pour g√©rer un ensemble d'entit√©s combin√©es par certains composants.  En r√®gle g√©n√©rale, un composant peut enregistrer une entit√© dans le syst√®me du m√™me nom. <br><br>  Dans A-Frame, ce mod√®le est mis en ≈ìuvre de mani√®re tr√®s simple et √©l√©gante - √† l'aide d'attributs.  Tous les √©l√©ments A-Frame - <i>&lt;a-scene&gt;, &lt;a-box&gt;, &lt;a-sphere&gt;,</i> etc. sont utilis√©s comme entit√©s. Mais, bien s√ªr, l'√©l√©ment <i>&lt;a-entity&gt;</i> se distingue.  Son nom parle de lui-m√™me.  Tous les autres √©l√©ments sont essentiellement des wrappers pour les composants et sont con√ßus pour plus de commodit√©, car tout √©l√©ment peut √©galement √™tre cr√©√© √† l'aide de <i>&lt;a-entity&gt;</i> .  Par exemple <i>&lt;a-box&gt;</i> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">geometry</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"primitive: box; width: 1; height: 1; depth: 1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <b>g√©om√©trie</b> - dans ce cas, est le composant qui a √©t√© ajout√© √† l' <i>entit√© &lt;a-entity&gt;</i> .  <i>&lt;a-entity&gt; lui</i> - <i>m√™me</i> n'a pas de logique (au sens global), et le composant <i>g√©om√©trique le</i> transforme essentiellement en cube ou autre chose.  Un autre composant non moins important que la <i>g√©om√©trie</i> est le <b>mat√©riau</b> .  Il ajoute du mat√©riau √† la g√©om√©trie.  Le mat√©riau est responsable de savoir si notre cube brillera comme du m√©tal, s'il aura des textures, etc.  Dans <i>Three.js</i> pur <i>,</i> nous devions cr√©er une g√©om√©trie s√©par√©e, un mat√©riau s√©par√©, puis tout cela devrait √™tre combin√© dans le cache.  En g√©n√©ral, cette approche fait gagner du temps. <br><br>  Tout composant dans A-Frame doit √™tre enregistr√© globalement via une conception sp√©ciale: <br><br><pre> <code class="javascript hljs">AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'hello-world'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Hello, World!'</span></span>); } });</code> </pre><br>  Ensuite, ce composant peut √™tre ajout√© √† la sc√®ne ou √† tout autre √©l√©ment. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hello-world</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Depuis que nous avons ajout√© le rappel <b>init</b> pour notre composant, d√®s que l'√©l√©ment est ajout√© au DOM, ce rappel fonctionnera et nous verrons notre message dans la console.  Il existe d'autres rappels de cycle de vie dans les composants A-Frame.  Arr√™tons-nous plus en d√©tail sur eux: <br><br><ul><li>  <b>update</b> - est appel√© √† la fois lors de l'initialisation en tant qu'init et lors de la mise √† jour d'une propri√©t√© de ce composant. </li><li>  <b>remove</b> - appel√© apr√®s la suppression d'un composant ou d'une entit√© le contenant.  Autrement dit, si vous supprimez &lt;a-entity&gt; du DOM, tous ses composants appellent remove callback. </li><li>  <b>tick</b> - appel√© √† chaque fois avant le rendu de la sc√®ne.  √Ä l'int√©rieur de la boucle de rendu utilise requestAnimaitonFrame </li><li>  <b>tock</b> - appel√© √† chaque fois apr√®s le rendu d'une sc√®ne. </li><li>  <b>play</b> - chacun est appel√© lorsque la sc√®ne reprend le rendu.  Essentiellement apr√®s scene.play (); </li><li>  <b>pause</b> - Appel√© chaque fois qu'une sc√®ne arr√™te le rendu.  Essentiellement apr√®s scene.pause (); </li><li>  <b>updateSchema</b> - appel√© √† chaque fois apr√®s la mise √† jour du sch√©ma. </li></ul><br>  Un autre concept de composant important dans A-Frame est le circuit.  Le diagramme d√©crit les propri√©t√©s du composant.  Il est d√©fini comme suit: <br><br><pre> <code class="javascript hljs">AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: { <span class="hljs-attr"><span class="hljs-attr">arrayProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'array'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: []}, <span class="hljs-attr"><span class="hljs-attr">integerProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>} } }</code> </pre><br>  Dans ce cas, notre <b>composant my</b> contiendra deux propri√©t√©s, <i>arrayProperty</i> et <i>integerProperty</i> .  Pour les transmettre au composant, vous devez d√©finir la valeur de l'attribut correspondant. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">my-component</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"arrayProperty: 1,2,3; integerProperty: 7"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a-entity</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Vous pouvez obtenir ces propri√©t√©s √† l'int√©rieur du composant via la propri√©t√© <b>data</b> . <br><br><pre> <code class="javascript hljs">AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: { <span class="hljs-attr"><span class="hljs-attr">arrayProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'array'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: []}, <span class="hljs-attr"><span class="hljs-attr">integerProperty</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'int'</span></span>, <span class="hljs-attr"><span class="hljs-attr">default</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>} }, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.data); } }</code> </pre><br>  Pour obtenir les propri√©t√©s d'un composant √† partir de l'entit√© √† laquelle il est ajout√©, vous pouvez utiliser la fonction <i>getAttribute</i> l√©g√®rement modifi√©e.  Lors de l'acc√®s √† l'entit√© A-Frame, il renverra non seulement la valeur de cha√Æne de l'attribut, mais l'objet de <i>donn√©es</i> mentionn√© ci-dessus. <br><br><pre> <code class="javascript hljs"> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.getAttribute(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// {arrayProperty: [1,2,3], integerProperty: 7}</span></span></code> </pre><br>  De la m√™me mani√®re, vous pouvez modifier les propri√©t√©s d'un composant: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.setAttribute(<span class="hljs-string"><span class="hljs-string">'my-component'</span></span>,{<span class="hljs-attr"><span class="hljs-attr">arrayProperty</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">integerProperty</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>})</code> </pre><br>  Parlons maintenant des syst√®mes.  Les syst√®mes en A-Frame sont enregistr√©s de la m√™me mani√®re que les composants: <br><br><pre> <code class="javascript hljs">AFRAME.registerSystem(<span class="hljs-string"><span class="hljs-string">'my-system'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Hello, System!'</span></span>); }, });</code> </pre><br>  En plus du composant, le syst√®me poss√®de un circuit et des rappels.  Seul le syst√®me n'en a que 5: <b>init, play, pause, tick, tock</b> .  Il n'est pas n√©cessaire d'ajouter le syst√®me en tant que composant √† l'entit√©.  Il sera automatiquement ajout√© √† la sc√®ne. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.sceneEl.systems[<span class="hljs-string"><span class="hljs-string">'my-system'</span></span>];</code> </pre><br>  Si le composant porte le m√™me nom que le syst√®me, le syst√®me sera disponible sur <b>this.system</b> . <br><br><pre> <code class="javascript hljs">AFRAME.registerSystem(<span class="hljs-string"><span class="hljs-string">'enemy'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{}, }); AFRAME.registerComponent(<span class="hljs-string"><span class="hljs-string">'enemy'</span></span>, { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">init</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> enemySystem = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.system; }, });</code> </pre><br>  En r√®gle g√©n√©rale, les syst√®mes sont n√©cessaires pour assembler et g√©rer des entit√©s avec des composants connexes.  Ici, en th√©orie, il devrait y avoir une logique qui se rapporte √† une collection d'entit√©s.  Par exemple, contr√¥lez l'apparence des ennemis dans le jeu. <br><br><h2>  La communication dans A-Frame se fait par le biais des √©v√©nements du navigateur </h2><br>  En effet, pourquoi r√©inventer la roue, s'il existe actuellement une excellente impl√©mentation √©diteur-abonn√© int√©gr√©e pour les √©l√©ments DOM.  Les √©v√©nements DOM vous permettent d'√©couter les deux √©v√©nements du navigateur, tels qu'une frappe de touche, un clic de souris et d'autres √©v√©nements utilisateur.  A-Frame nous offre un moyen pratique et facile de communiquer entre les entit√©s, les composants et les syst√®mes, via des √©v√©nements utilisateur.  Pour cela, chaque √©l√©ment A-Frame est patch√© par la fonction <b>emit</b> , il prend trois param√®tres: le <i>premier</i> est le nom de l'√©v√©nement, le <i>second</i> est les donn√©es √† transmettre, le <i>troisi√®me</i> est de savoir si l'√©v√©nement doit appara√Ætre. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.emit(<span class="hljs-string"><span class="hljs-string">'start-game'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">level</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>}, <span class="hljs-literal"><span class="hljs-literal">false</span></span>);</code> </pre><br>  Vous pouvez vous abonner √† cet √©v√©nement de la mani√®re habituelle pour nous tous, en utilisant <b>addEventListener:</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> someEntity = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'someEntity'</span></span>); someEntity.addEventListener(<span class="hljs-string"><span class="hljs-string">'start-game'</span></span>, () =&gt; {...});</code> </pre><br>  Le bouillonnement des √©v√©nements ici est un point tr√®s important, car parfois deux entit√©s qui doivent communiquer entre elles sont au m√™me niveau, auquel cas vous pouvez ajouter un √©couteur d'√©v√©nements √† l'√©l√©ment de sc√®ne.  Comme vous pouvez le voir pr√©c√©demment, il est disponible √† l'int√©rieur de chaque √©l√©ment via le lien <b>sceneEl</b> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el.sceneEl.addEventListener(<span class="hljs-string"><span class="hljs-string">'start-game'</span></span>, () =&gt; {...});</code> </pre><br><h2>  En conclusion </h2><br>  C'est peut-√™tre tout ce dont je voulais parler dans cet article.  A-Frame a beaucoup de sujets diff√©rents qui pourraient √™tre couverts, mais cet article est une revue et je voulais concentrer le lecteur uniquement sur les points principaux.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dans le prochain article,</a> nous allons essayer de cr√©er une sc√®ne de base afin de tester toutes les connaissances acquises dans la pratique.  Merci √† tous! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr439416/">https://habr.com/ru/post/fr439416/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr439402/index.html">JavaScript: le grand tout bien pourquoi</a></li>
<li><a href="../fr439404/index.html">Une br√®ve histoire des march√©s publics √©lectroniques en Russie</a></li>
<li><a href="../fr439408/index.html">Pseudo Lens Flare</a></li>
<li><a href="../fr439410/index.html">Jeff Hawkins est enfin pr√™t √† expliquer ses recherches sur le cerveau</a></li>
<li><a href="../fr439414/index.html">Client pour ¬´Push Message Server¬ª</a></li>
<li><a href="../fr439418/index.html">Pentaho Data Integration (PDI), Python et Deep Learning</a></li>
<li><a href="../fr439420/index.html">Cr√©ation d'un package de transport sans installer MODX</a></li>
<li><a href="../fr439422/index.html">De quoi a besoin un programmeur pour d√©velopper des jeux et qui est un d√©veloppeur de jeux √† partir d'un programmeur?</a></li>
<li><a href="../fr439424/index.html">Comment j'ai lutt√© avec l'h√©bergement gratuit et Composer</a></li>
<li><a href="../fr439426/index.html">Situation: une nouvelle vague d'attaques avec interception de requ√™tes DNS - nous analysons les m√©thodes de base de protection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>