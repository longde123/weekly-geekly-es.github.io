<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïã üÜï üôÅ Apprenez la programmation fonctionnelle en Python en 10 minutes üêò üë®‚Äçüåæ üë®üèæ‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Photo: Chris Ried 

 Dans cet article, vous comprendrez ce qu'est un paradigme fonctionnel et comment utiliser la programmation fonctionnelle en Pytho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apprenez la programmation fonctionnelle en Python en 10 minutes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456814/"><img src="https://habrastorage.org/getpro/habr/post_images/539/971/24e/53997124e1acc9aa28c273b0daa540b3.jpg" alt="image"><br>  <i>Photo:</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Chris Ried</a> <br><br>  Dans cet article, vous comprendrez ce qu'est un paradigme fonctionnel et comment utiliser la programmation fonctionnelle en Python.  Vous en apprendrez √©galement sur l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">abstraction de liste</a> et d'autres compr√©hensions de liste. <br><br><h3>  Paradigme fonctionnel </h3><br>  Dans un paradigme imp√©ratif, vous √©crivez un programme en sp√©cifiant une s√©quence d'actions qui seront effectu√©es ult√©rieurement.  A ce moment, les √©tats ( <i>approximativement Translator: variables, tableaux, etc.</i> ) changent.  Par exemple, laissez la variable A stocker la valeur 5, plus tard vous modifiez la valeur de cette variable.  Vous utilisez des variables pour que leurs valeurs changent. <a name="habracut"></a><br><br>  Dans un paradigme fonctionnel, vous ne dites pas √† l'ordinateur quoi faire, mais sp√©cifiez plut√¥t la nature des actions elles-m√™mes.  Quel est le plus grand commun diviseur d'un nombre, le r√©sultat des calculs de 1 √† n, etc. <br><br>  Par cons√©quent, les variables ne changent pas.  Une fois qu'une variable est initialis√©e, sa valeur est sauvegard√©e pour toujours (notez que dans les langages fonctionnels purs, ils ne sont m√™me pas appel√©s variables).  Par cons√©quent, dans le paradigme fonctionnel, les fonctions n'ont pas d' <i>effets secondaires</i> .  Un effet secondaire peut √™tre d√©fini comme le moment pendant lequel une fonction change quelque chose au-del√† de ses limites.  Jetez un oeil √† un exemple: <br><br><pre><code class="python hljs">a = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> a a = <span class="hljs-number"><span class="hljs-number">5</span></span> some_func() print(a)</code> </pre> <br>  Le r√©sultat de l'ex√©cution de ce code est 5. En programmation fonctionnelle, le changement de variables est interdit, ainsi que le changement de fonctions de quelque chose au-del√† de leurs fronti√®res.  Tout ce que la fonction peut faire est de calculer / traiter quelque chose et de retourner le r√©sultat. <br><br>  Maintenant, vous pourriez penser: ¬´Pas de variables, pas d'effets secondaires?  Pourquoi est-ce bien? "  Vraiment une bonne question. <br><br>  Si une fonction a √©t√© appel√©e deux fois avec les m√™mes param√®tres, elle retournera √©videmment le m√™me r√©sultat.  Si vous avez √©tudi√© quelque chose sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les fonctions math√©matiques</a> , vous appr√©cierez cette opportunit√©.  C'est ce qu'on appelle la transparence des liens ou la transparence r√©f√©rentielle.  Comme les fonctions n'ont pas d'effets secondaires, si vous d√©veloppez un programme de calcul, vous pouvez acc√©l√©rer le processus d'ex√©cution.  Si le programme sait que func (2) vaut 3, nous pouvons nous en souvenir.  Cela emp√™che la fonction d'√™tre appel√©e √† nouveau lorsque nous connaissons d√©j√† le r√©sultat. <br><br>  Habituellement, dans la programmation fonctionnelle, les boucles ne sont pas utilis√©es.  La r√©cursivit√© est utilis√©e.  La r√©cursivit√© est un concept math√©matique, en fait, cela signifie ¬´se nourrir quelque chose¬ª.  Dans une fonction r√©cursive, la fonction elle-m√™me s'appelle le r√¥le d'une sous-fonction.  Voici un exemple de fonction r√©cursive en Python: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">factorial_recursive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Base case: 1! = 1 #   if n == 1: return 1 # Recursive case: n! = n * (n-1)! #    else: return n * factorial_recursive(n-1)</span></span></code> </pre> <br>  Certains langages de programmation sont <b>paresseux</b> .  Cela signifie qu'ils calculent tout au dernier moment.  Supposons que si le code doit ex√©cuter 2 + 2, le programme fonctionnel calculera le r√©sultat uniquement lorsque le r√©sultat est n√©cessaire.  Nous d√©couvrirons la paresse de Python un peu plus tard. <br><br><h3>  <font color="#9933FF">La carte</font> </h3><br>  Pour comprendre la carte, vous devez d'abord g√©rer les conteneurs it√©rables.  Ceci est un tel conteneur sur lequel vous pouvez "passer".  Ce sont souvent des listes ou des tableaux, mais il existe de nombreux conteneurs de ce type en Python.  Vous pouvez m√™me cr√©er votre propre conteneur en introduisant <i>des m√©thodes magiques</i> .  Ces m√©thodes, comme les API, aident les objets √† devenir plus pythoniques.  Il existe 2 m√©thodes de ce type pour rendre un objet it√©rable: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, low, high)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># set class attributes inside the magic method __init__ # for "inistalise" #      self.current = low self.high = high def __iter__(self): # first magic method to make this object iterable #    return self def __next__(self): # second magic method #    if self.current &gt; self.high: raise StopIteration else: self.current += 1 return self.current - 1</span></span></code> </pre> <br>  La premi√®re m√©thode magique est "___iter__" ou dunder (double soulign√© par des soulignements) iter renvoie un objet it√©rable, il est souvent utilis√© au d√©but d'une boucle.  Dunder next (__next__) renvoie l'objet suivant. <br><br>  V√©rifiez ceci: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Counter(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>): print(c)</code> </pre> <br>  R√©sultat d'ex√©cution: <br><br> <code>3 <br> 4 <br> 5 <br> 6 <br> 7 <br> 8</code> <br> <br>  En Python, un it√©rateur est un objet qui n'a que la m√©thode __iter__.  Cela signifie que vous pouvez acc√©der √† l'emplacement des cellules de l'objet (conteneur), mais que vous ne pouvez pas "les parcourir".  Certains objets n'ont que la merveilleuse m√©thode __next__, sans la m√©thode magique __iter__, par exemple, d√©finie (plus √† ce sujet plus tard).  Dans cet article, nous couvrirons tout ce qui concerne les objets it√©rables. <br><br>  Maintenant que nous savons ce qu'est un objet it√©rable, revenons √† la fonction map.  Cette fonction nous permet d'appliquer l'action d'une autre fonction √† chaque √©l√©ment d'un conteneur it√©r√©.  Nous voulons appliquer une fonction √† chaque √©l√©ment de la liste, cela est possible pour presque tous les conteneurs it√©rables.  Map, prend deux arguments: la fonction √† appliquer et le conteneur (liste, etc.). <br><br><pre> <code class="python hljs">map(function, iterable)</code> </pre> <br>  Supposons que nous ayons une liste avec les √©l√©ments suivants: <br><br> <code>[1, 2, 3, 4, 5]</code> <br> <br>  Et nous voulons cadrer chaque √©l√©ment, cela peut √™tre fait comme ceci: <br><br><pre> <code class="python hljs">x = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num*num print(list(map(square, x)))</code> </pre> <br>  Les fonctions fonctionnelles en Python sont paresseuses.  Si nous n'ajoutons pas ¬´list ()¬ª, la fonction stockera la description du conteneur (list), et non la liste elle-m√™me.  Nous devons directement dire √† Python de le convertir en liste. <br><br>  C'est un peu √©trange de passer d'une d√©finition non paresseuse √† une d√©finition paresseuse si soudainement.  Vous vous y habituerez si vous pensez plus d'une mani√®re fonctionnelle que d'un imp√©ratif. <br><br>  L'√©criture de fonctions, par exemple, ¬´carr√© (num)¬ª est normale, mais pas enti√®rement correcte.  Avons-nous besoin de d√©clarer une fonction enti√®re juste pour l'utiliser dans la carte?  Cela peut √™tre simplifi√© en introduisant des fonctions lambda (anonymes). <br><br><h3>  <font color="#9933FF">Expressions lambda</font> </h3><br>  Les expressions lambda sont des fonctions sur une seule ligne, par exemple, voici une expression lambda qui met au carr√© le nombre r√©sultant: <br><br><pre> <code class="python hljs">square = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x * x</code> </pre> <br>  Et ex√©cutez ceci: <br><br> <code>&gt;&gt;&gt; square(3) <br> 9</code> <br> <br>  Je vous entends.  "Brandon, o√π sont les arguments?"  De quoi s'agit-il?  Ce n'est pas comme une fonction. ¬ª <br><br>  Oui, cela peut √™tre d√©routant, mais cela peut s'expliquer.  Dans cette ligne, nous attribuons quelque chose √† la variable ¬´carr√©¬ª.  Cette partie: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: x * x</code> </pre> <br>  Indique √† Python que nous utilisons la fonction lambda, et l'entr√©e est nomm√©e x.  Tout ce qui se passera apr√®s les deux points est ce qui arrivera √† l'entr√©e, et nous obtiendrons automatiquement le r√©sultat plus tard. <br><br>  Pour notre programme a pris la forme d'une ligne, vous devez le faire: <br><br><pre> <code class="python hljs">x = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>] print(list(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num * num, x)))</code> </pre> <br>  Ainsi, dans les expressions lambda, les arguments sont √† gauche et les actions sur eux sont √† droite.  C'est un peu d√©sordonn√©, personne ne le nie.  La v√©rit√© est qu'il y a quelque chose dedans, pour √©crire un tel code fonctionnel.  De plus, il est tr√®s cool de convertir des fonctions en une seule ligne. <br><br><h3>  <font color="#9933FF">R√©duire</font> </h3><br>  R√©duire est une fonction qui transforme un conteneur it√©rable en une seule chose.  Autrement dit, des calculs sont effectu√©s qui transforment la liste en un seul num√©ro.  Cela ressemble √† ceci: <br><br><pre> <code class="python hljs">reduce(function, list)</code> </pre> <br>  Nous pouvons (et utiliserons souvent) des fonctions lambda comme argument de fonction. <br><br>  Si nous voulons multiplier tous les nombres de la liste, cela peut √™tre fait comme ceci: <br><br><pre> <code class="python hljs">product = <span class="hljs-number"><span class="hljs-number">1</span></span> x = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x: product = product * num</code> </pre> <br>  Et avec r√©duire, cela ressemblera √† ceci: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> functools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> reduce product = reduce((<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x, y: x * y),[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>])</code> </pre> <br>  Le r√©sultat sera le m√™me, mais le code est plus court et avec la connaissance de la programmation fonctionnelle pour l'utiliser plus pr√©cis√©ment. <br><br><h3>  <font color="#9933FF">Filtrer</font> </h3><br>  La fonction de filtre prend un conteneur it√©rable et le filtre selon une r√®gle donn√©e (√©galement une fonction). <br><br>  Habituellement, il prend une fonction et une liste en entr√©e.  Plus tard, il applique une fonction √† chaque √©l√©ment de la liste, si la fonction renvoie True, rien ne se passe et si False, l'√©l√©ment est supprim√© de la liste. <br><br>  Syntaxe: <br><br><pre> <code class="python hljs">filter(function, list)</code> </pre> <br>  Regardons un exemple sans utiliser de filtre: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) new_list = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>: new_list.append(num)</code> </pre> <br>  Avec filtre: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = list(filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>, x))</code> </pre> <br><h3>  <font color="#9933FF">Fonctions d'ordre sup√©rieur</font> </h3><br>  Les fonctions d'ordre sup√©rieur peuvent prendre des fonctions comme arguments et les renvoyer.  Un exemple simple ressemblerait √† ceci: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">summation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(nums)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum(nums) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(func, numbers)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> func(numbers) print(action(summation, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>])) <span class="hljs-comment"><span class="hljs-comment"># Output is 6 #  6</span></span></code> </pre><br>  Ou un exemple est encore plus simple: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rtnBrandon</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"brandon"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rtnJohn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"john"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rtnPerson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> age = int(input(<span class="hljs-string"><span class="hljs-string">"What's your age?"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> age == <span class="hljs-number"><span class="hljs-number">21</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rtnBrandon() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rtnJohn()</code> </pre> <br>  Rappelez-vous plus t√¥t, j'ai dit que la vraie programmation fonctionnelle n'utilisait pas de variables.  Les fonctions d'ordre sup√©rieur rendent cela possible.  Vous n'avez pas besoin de sauvegarder la variable quelque part si vous passez des informations √† travers un long ¬´tunnel¬ª de fonctions. <br><br>  Toutes les fonctions en Python sont des objets de premi√®re classe.  Un objet de la premi√®re classe est d√©fini comme tel, ce qui correspond √† un ou plusieurs des param√®tres suivants: <br><br><ul><li>  Cr√©e un cycle de service </li><li>  Attribu√© √† une variable ou un √©l√©ment dans une structure de donn√©es </li><li>  Pass√© comme argument de fonction </li><li>  Renvoy√© suite √† l'ex√©cution de la fonction </li></ul><br>  Ainsi, toutes les fonctions en Python sont des objets de premi√®re classe et peuvent √™tre utilis√©es comme des fonctions d'ordre sup√©rieur. <br><br><h3>  <font color="#9933FF">Application partielle</font> </h3><br>  Une utilisation partielle (√©galement interruption) est un peu √©trange, mais tr√®s cool.  Vous pouvez appeler la fonction sans utiliser tous les arguments donn√©s.  Regardons un exemple.  Nous voulons cr√©er une fonction qui prend 2 arguments, la base et le degr√©, et renvoie la base √©lev√©e √† la puissance, cela ressemble √† ceci: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">power</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(base, exponent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> base ** exponent</code> </pre><br>  Maintenant, nous devons cr√©er une fonction distincte pour la quadrature et la calculer √† l'aide de la fonction de puissance: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">square</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(base)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> power(base, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Cela fonctionne, mais que faire si nous voulons d√©couper un nombre en cubes?  Ou au 4e degr√©?  Devriez-vous √©crire ces fonctions pour toujours?  Bien s√ªr que vous le pouvez.  Mais les programmeurs sont paresseux.  Si vous r√©p√©tez la m√™me chose plusieurs fois, il existe probablement un moyen de le faire plus rapidement et d'arr√™ter de faire des r√©p√©titions.  Une application partielle peut √™tre utilis√©e ici.  Regardons un exemple de la fonction de puissance utilisant une application partielle: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> functools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> partial square = partial(power, exponent=<span class="hljs-number"><span class="hljs-number">2</span></span>) print(square(<span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># output is 4 #  4</span></span></code> </pre><br>  N'est-ce pas cool?  Nous pouvons appeler une fonction qui a besoin de 2 arguments, en utilisant seulement 1, et en sp√©cifiant ce que le second sera seul. <br><br>  Vous pouvez √©galement utiliser une boucle pour simuler une fonction de puissance qui fonctionnera avec des cubes jusqu'√† la 1000e puissance. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> functools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> partial powers = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1001</span></span>): powers.append(partial(power, exponent = x)) print(powers[<span class="hljs-number"><span class="hljs-number">0</span></span>](<span class="hljs-number"><span class="hljs-number">3</span></span>)) <span class="hljs-comment"><span class="hljs-comment"># output is 9 #  9</span></span></code> </pre> <br><h3>  <font color="#9933FF">La programmation fonctionnelle ne correspond pas aux canons pythoniques</font> </h3><br>  Vous avez peut-√™tre remarqu√© que beaucoup de choses que nous voulons faire dans la programmation fonctionnelle tournent autour des listes.  Outre la fonction de r√©duction et l'application partielle, toutes les fonctions que vous avez vues g√©n√®rent des listes.  Guido (le cr√©ateur de Python`a) n'aime pas les choses fonctionnelles en Python`e, car Python a sa propre m√©thode de cr√©ation de listes. <br><br>  Si vous √©crivez ¬´importer ceci¬ª dans la console, vous obtiendrez: <br> <code>&gt;&gt;&gt; import this <br> <br> The Zen of Python, by Tim Peters <br> <br> Beautiful is better than ugly. <br> Explicit is better than implicit. <br> Simple is better than complex. <br> Complex is better than complicated. <br> Flat is better than nested. <br> Sparse is better than dense. <br> Readability counts. <br> Special cases aren't special enough to break the rules. <br> Although practicality beats purity. <br> Errors should never pass silently. <br> Unless explicitly silenced. <br> In the face of ambiguity, refuse the temptation to guess. <br> There should be one ‚Äî and preferably only one ‚Äî obvious way to do it. <br> Although that way may not be obvious at first unless you're Dutch. <br> Now is better than never. <br> Although never is often better than *right* now. <br> If the implementation is hard to explain, it's a bad idea. <br> If the implementation is easy to explain, it may be a good idea. <br> Namespaces are one honking great idea ‚Äî let's do more of those!</code> <br> <br>  C'est Python Zen.  Ceci est un verset sur ce que signifie √™tre pythoniste.  La partie qui nous int√©resse est: <br><br><blockquote>  Il devrait y avoir une - et de pr√©f√©rence une seule - mani√®re √©vidente de le faire. </blockquote><br><blockquote>  <i>Il ne devrait y avoir qu'une seule - et de pr√©f√©rence une seule - fa√ßon √©vidente de faire quelque chose.</i> </blockquote><br>  En Python, la carte et le filtre peuvent faire la m√™me chose que l'abstraction de liste ( <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien</a></i> ).  Cela viole l'une des r√®gles de Python-Zen, donc cette partie de la programmation fonctionnelle n'est pas "pythonique". <br><br>  Les prochaines choses √† parler sont la fonction lambda.  En Python, une fonction lambda est une fonction normale.  Et en fait, c'est du sucre syntaxique.  Ces deux parties font la m√™me chose: <br><br><pre> <code class="python hljs">foo = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  Une fonction standard peut toujours √™tre la m√™me qu'une fonction lambda, mais pas l'inverse.  Une fonction Lambda ne peut pas √™tre la m√™me qu'une fonction normale. <br><br>  C'√©tait une petite remarque sur la raison pour laquelle la programmation fonctionnelle ne correspond pas tout √† fait √† l'id√©ologie pythonique.  Plus t√¥t, j'ai mentionn√© l'abstraction des listes ( <i>√©galement l'inclusion</i> des listes), maintenant parlons-en. <br><br><h3>  <font color="#9933FF">Abstraction de liste</font> </h3><br>  J'ai d√©j√† dit que tout ce qui peut √™tre fait en utilisant la carte et le filtre peut √™tre fait en utilisant l'abstraction de liste.  Dans cette partie, nous en discuterons. <br><br>  L'abstraction de listes est un moyen de cr√©er des listes en Python.  Syntaxe: <br><br><pre> <code class="python hljs">[function <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> iterable]</code> </pre> <br>  Carr√© chaque √©l√©ment de la liste, par exemple: <br><br><pre> <code class="python hljs">print([x * x <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>]])</code> </pre> <br>  D'accord, nous pouvons voir comment appliquer la fonction √† chaque √©l√©ment de la liste.  Comment contourner le filtre?  Jetez un oeil √† ce code: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = list(filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>, x)) print(all_less_than_zero)</code> </pre> <br>  Utilisez maintenant l'abstraction de liste: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = [num <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  L'abstraction de liste prend en charge les expressions conditionnelles de ce type.  Vous n'avez plus besoin d'utiliser un million de fonctions pour obtenir quelque chose.  En fait, si vous essayez de faire quelque chose avec une liste, il est possible qu'elle soit plus propre et plus facile √† r√©aliser avec l'abstraction des listes. <br><br>  Et si nous voulons mettre au carr√© chaque √©l√©ment de la liste qui est en dessous de z√©ro.  Avec la fonction lambda, la carte et le filtre, cela ressemblera √† ceci: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = list(map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num * num, list(filter(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> num: num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>, x))))</code> </pre><br>  Cette entr√©e n'est pas rationnelle et pas tr√®s simple.  En utilisant l'abstraction de liste, cela ressemblera √† ceci: <br><br><pre> <code class="python hljs">x = range(<span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) all_less_than_zero = [num * num <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre><br>  L'abstraction des listes n'est bonne, curieusement, que pour les listes.  La carte et le filtre fonctionnent pour chaque conteneur it√©rable, alors qu'est-ce qui ne va pas? .. Oui, vous pouvez utiliser l'abstraction pour chaque conteneur it√©rable que vous rencontrez. <br><br><h3>  <font color="#9933FF">Autres abstractions</font> </h3><br>  Vous pouvez appliquer l'abstraction pour chaque conteneur it√©rable. <br><br>  Chaque conteneur it√©rable peut √™tre cr√©√© en utilisant l'abstraction.  √Ä partir de la version 2.7, vous pouvez m√™me cr√©er un dictionnaire (table de hachage). <br><br>  Si quelque chose est un conteneur it√©rable, alors quelque chose peut √™tre g√©n√©r√©.  Regardons le dernier exemple en utilisant set.  Si vous ne savez pas de quel ensemble il s'agit, consultez √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet article</a> √©crit par moi.  En bref: <br><br><ul><li>  Set est un conteneur d'√©l√©ments; les √©l√©ments qu'il contient ne sont pas r√©p√©t√©s </li><li>  L'ordre n'est pas important </li></ul><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># taken from page 87, chapter 3 of Fluent Python by Luciano Ramalho #    Fluent Python, . 87, . 3 &gt;&gt;&gt; from unicodedata import name &gt;&gt;&gt; {chr(i) for i in range(32, 256) if 'SIGN' in name(chr(i), '')} {'√ó', '¬•', '¬∞', '¬£', '', '#', '¬¨', '%', '¬µ', '&gt;', '¬§', '¬±', '¬∂', '¬ß', '&lt;', '=', '', '$', '√∑', '¬¢', '+'}</span></span></code> </pre><br>  Comme vous l'avez peut-√™tre remarqu√©, l'ensemble, comme un dictionnaire, utilise des accolades.  Python est vraiment intelligent.  Il devinera si vous utilisez une abstraction de dictionnaire ou une abstraction set`a, selon que vous sp√©cifiez ou non des param√®tres suppl√©mentaires pour le dictionnaire.  Si vous voulez en savoir plus sur les abstractions, lisez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ceci</a> .  S'il s'agit d'abstractions et de g√©n√©ration, alors <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">celle-ci</a> . <br><br><h3>  <font color="#9933FF">R√©sum√©</font> </h3><br>  La programmation fonctionnelle est excellente.  Le code fonctionnel peut √™tre propre ou pas tr√®s.  Certains pythonistes inconditionnels n'acceptent pas le paradigme fonctionnel de Python.  Vous devez utiliser ce que vous voulez et ce qui vous convient. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Page d'auteur</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr456814/">https://habr.com/ru/post/fr456814/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr456798/index.html">Tutoriels SDL 2: Le√ßon 5 - Textures</a></li>
<li><a href="../fr456804/index.html">Suivez l'argent: comment le groupe RTM a commenc√© √† cacher les adresses des serveurs C&C dans un portefeuille crypt√©</a></li>
<li><a href="../fr456806/index.html">Un robot de tous les soucis</a></li>
<li><a href="../fr456808/index.html">Comment am√©liorer les performances des applications Web frontales: cinq conseils</a></li>
<li><a href="../fr456812/index.html">Ce qu'il y a √† l'Universit√© ITMO - festivals informatiques, hackathons, conf√©rences et s√©minaires ouverts</a></li>
<li><a href="../fr456818/index.html">L'administrateur syst√®me dans une entreprise inaccessible. Le fardeau insupportable d'√™tre?</a></li>
<li><a href="../fr456824/index.html">Qu'est-ce que la probabilit√© et comment la calculer</a></li>
<li><a href="../fr456826/index.html">Autoscaling DIY avec AWX, Ansible, haproxy et CROC Cloud</a></li>
<li><a href="../fr456828/index.html">Vias de r√©glage pour cartes de circuits imprim√©s</a></li>
<li><a href="../fr456830/index.html">Vivaldi 2.6 - Plaisirs d'√©t√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>