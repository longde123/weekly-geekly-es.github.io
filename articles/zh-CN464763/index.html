<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏳️ 👩🏾‍🔬 🙇🏼 Linux上服务器基准：一系列开放工具 💅🏼 ⚱️ ✍🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们将继续讨论在Linux机器上评估CPU性能的工具。 今天的材料：temci，uarch-bench，likwid，perf-tools和llvm-mca。 

 更多基准： 

 

- Sysbench，UnixBench，Phoronix测试套件，Vdbench和IOzone 
- Inte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Linux上服务器基准：一系列开放工具</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/464763/"> 我们将继续讨论在Linux机器上评估CPU性能的工具。 今天的材料：temci，uarch-bench，likwid，perf-tools和llvm-mca。 <br><br>  <sup><font color="#A9A9A9">更多基准：</font></sup> <sup><font color="#A9A9A9"><br><br></font></sup> <ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Sysbench，UnixBench，Phoronix测试套件，Vdbench和IOzone</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Interbench，Fio，Hdparm，S和Bonnie</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Iometer，DD，vpsbench，HammerDB和7-Zip</a> </li></ul><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/33/qq/fh/33qqfhsacasj3qlpx04nvoqsuy8.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>照片-Lukas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Blazek</a> -Unsplash</i></font> <br><br><hr><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">坦西</a> </h2><br> 这是用于估计两个程序的执行时间的工具。 实际上，它允许您比较两个应用程序的执行时间。 该实用程序由来自德国的一名学生Johannes Bechberger编写，他在2016年的本科工作中对其进行了开发。 今天，该工具<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">已</a>获得GNU通用公共许可证的许可。 <br><br>  Johannes想要创建一个工具，该工具可以在受控环境中测量计算系统的性能。 因此，temci的主要功能之一是配置测试环境的能力。 例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">您可以</a> ：更改CPU频率控制管理器的设置，禁用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">超线程</a>以及L1和L2高速缓存，在Intel处理器和其他处理器上关闭Turbo模式对于基准测试，temci使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">time</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">perf_stat</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">getrusage工具</a> 。 <br><br> 这是第一种情况下实用程序的工作方式： <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># compare the run times of two programs, running them each 20 times &gt; temci short exec "sleep 0.1" "sleep 0.2" --runs 20 Benchmark 20 times [####################################] 100% Report for single runs sleep 0.1 ( 20 single benchmarks) avg_mem_usage mean = 0.000, deviation = 0.0 avg_res_set mean = 0.000, deviation = 0.0 etime mean = 100.00000m, deviation = 0.00000% max_res_set mean = 2.1800k, deviation = 3.86455% stime mean = 0.000, deviation = 0.0 utime mean = 0.000, deviation = 0.0 sleep 0.2 ( 20 single benchmarks) avg_mem_usage mean = 0.000, deviation = 0.0 avg_res_set mean = 0.000, deviation = 0.0 etime mean = 200.00000m, deviation = 0.00000% max_res_set mean = 2.1968k, deviation = 3.82530% stime mean = 0.000, deviation = 0.0 utime mean = 0.000, deviation = 0.0</span></span></code> </pre> <br> 根据基准测试的结果，系统会生成一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">方便的报告</a> ，其中包含图表，表格和图形，从而将temci与类似的解决方案区分开来。 <br><br>  temci的缺点突出了他的“青年”。 因此，它<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">不支持所有</a>硬件和软件配置。 例如，很难在macOS下运行，并且某些功能在具有ARM处理器的系统上不可用。 随着作者积极地开发该项目，并且GitHub上的明星数量逐渐增加，这种情况将来可能会改变-不久前，甚至在Hacker News <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的评论中讨论了</a> temci。 <br><br><hr><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">长凳</a> </h2><br> 评估底层CPU功能性能的实用程序，它是由工程师Travis Downs（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Travis Downs</a> ）开发的。 最近，他在GitHub Pages上运行了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Performance Matters</a>博客，该博客讨论基准测试工具和其他相关内容。 总体而言，uarch工作台才刚刚开始流行，但是Hacker News居民已经在主题线程中经常<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">提到</a>它作为基准测试工具。 <br><br><blockquote>  Uarch-bench允许您评估内存性能，并行数据加载的速度以及清理<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">YMM寄存器</a> 。 该程序生成的基准测试结果看起来如何，可以在页面底部<a href="">的官方存储库</a>中找到。 </blockquote><br> 值得注意的是，与temci一样，uarch-bench <a href="">禁用</a>了Intel Turbo Boost功能（它会在负载下自动提高处理器时钟速度），以便测试结果一致。 <br><br> 到目前为止，该项目尚处于开发的早期阶段，因此uarch-bench没有详细的文档，并且其工作中可能存在错误-例如， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">已知</a>在Ryzen上运行<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">遇到的困难</a> 。 仅支持x86体系结构的基准测试。 作者承诺将来会添加更多功能，并邀请其加入开发。 <br><br><hr><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">likwid</a> </h2><br> 这是一个用于评估具有Intel，AMD和ARMv8处理器的Linux机器性能的工具包。 它是在2017年由德国联邦教育和研究部主持创建的，并已转移到开源中。 <br><br> 在likwid工具中，可以区分likwid-powermeter，它显示来自RAPL寄存器的有关系统消耗功率的信息，以及likwid-setFrequency-允许您控制处理器频率。 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在存储库中找到</a>完整列表。 <br><br> 该工具由从事HPC领域研究的工程师使用。 例如，德国埃尔兰根-纽伦堡大学（RRZE）区域计算中心的一组专家与likwid合作。 她积极参与这套工具的开发。 <br><br><hr><br><br><img src="https://habrastorage.org/webt/sk/dm/ec/skdmec5npfrscon2plp2qxmkjqi.jpeg"><br>  <font color="#A9A9A9"><i>照片<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-Clem</a> Onojeghuo-不飞溅</i></font> <br><br><hr><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">性能工具</a> </h2><br>  Brendan Gregg <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">引入了</a>这种用于分析Linux服务器性能的工具。 他是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DTrace</a>的开发人员之一， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DTrace</a>是用于实时调试应用程序的动态跟踪框架。 <br><br>  perf工具基于内核子系统perf_events和ftrace。 它们的实用程序使您可以分析输入/输出延迟（iosnoop），跟踪用于访问系统调用的参数（无计数，funcslower，funcgraph和functrace）以及收集有关文件高速缓存中“命中”的统计信息（cachestat）。 在后一种情况下，命令如下所示： <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ./cachestat -t Counting cache functions... Output every 1 seconds. TIME HITS MISSES DIRTIES RATIO BUFFERS_MB CACHE_MB 08:28:57 415 0 0 100.0% 1 191 08:28:58 411 0 0 100.0% 1 191 08:28:59 362 97 0 78.9% 0 8 08:29:00 411 0 0 100.0% 0 9</span></span></code> </pre><br> 这个工具周围已经形成了一个相当大的社区（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在GitHub上有近六千颗星</a> ）。 还有一些公司积极使用性能工具，例如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Netflix</a> 。 但是该工具正在最终确定和修改（尽管最近很少发布更新）。 因此，在他的工作中可能会发生错误-作者写道，有时perf-tools称为内核恐慌。 <br><br><hr><br><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">llvm-mca</a> </h2><br> 该实用程序可预测机器代码在不同CPU上需要多少计算资源。 它<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">评估</a>每个周期<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>指令（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IPC</a> ）和应用程序生成的硬件负载。 <br><br>  llvm-mca于2018年作为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">LLVM</a>项目的一部分推出，该项目正在开发用于程序分析，转换和优化的通用系统。 众所周知，llvm-mca的作者受到<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">英特尔IACA</a>软件性能分析解决方案的启发，并寻求创建替代方案。 根据用户的说法，该工具的输出（其标记和编号）确实类似于IACA- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在此处可以找到</a>示例。 但是，llvm-mca仅接受<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AT＆T语法</a> ，因此您可能需要使用转换器才能使用它。 <br><br><hr><br><blockquote>  <sup><b>我们在博客和社交网络中写的内容：</b></sup> <sup><br><br><img src="https://habrastorage.org/webt/lc/ev/ev/lcevevvhrpxsnxownufk6ykmvma.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">“垫子。</a></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">华尔街模式“或如何优化云成本</a></sup> <sup><br><br><img src="https://habrastorage.org/webt/nh/3b/vg/nh3bvginmatsrsxcu6loffpn5yc.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">保护您的Linux系统：10个技巧</a></sup> <sup><br><img src="https://habrastorage.org/webt/nh/3b/vg/nh3bvginmatsrsxcu6loffpn5yc.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">风险最小化：如何不丢失数据</a></sup> <sup><br><br><img src="https://habrastorage.org/webt/x1/6r/xu/x16rxu3buiqhpy-2jmr3iwscep0.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">为那些已经从事系统管理或打算开始学习的人准备的书</a></sup> <sup><br><img src="https://habrastorage.org/webt/x1/6r/xu/x16rxu3buiqhpy-2jmr3iwscep0.png"></sup>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">选择：网络上的五本书和一门课程</a></sup> </blockquote><br><hr><br><img src="https://habrastorage.org/webt/q1/no/qp/q1noqppulzyvqtet3bzj7tieoje.png" width="100" align="left"> 我们在1cloud.ru提供免费服务“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DNS托管</a> ”。 您可以在一个个人帐户中管理DNS记录。 <br><br><hr></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN464763/">https://habr.com/ru/post/zh-CN464763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN464753/index.html">输入IT：尼日利亚开发人员经验</a></li>
<li><a href="../zh-CN464755/index.html">进行成功的移动应用A / B测试的提示和技巧</a></li>
<li><a href="../zh-CN464757/index.html">在找到工作之前改善您的LinkedIn个人资料</a></li>
<li><a href="../zh-CN464759/index.html">2020年项目经理将需要的数十本敏捷书籍</a></li>
<li><a href="../zh-CN464761/index.html">一个小型Mod将特斯拉变成视频监控站</a></li>
<li><a href="../zh-CN464765/index.html">配置FreePBX + GoIP</a></li>
<li><a href="../zh-CN464769/index.html">Badoo如何使每秒发出20万张照片成为可能</a></li>
<li><a href="../zh-CN464773/index.html">富Internet应用程序中的异步打字稿及其装饰程序</a></li>
<li><a href="../zh-CN464775/index.html">9月21日Badoo PHP聚会＃3：性能</a></li>
<li><a href="../zh-CN464777/index.html">为什么const不加速C / C ++代码？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>