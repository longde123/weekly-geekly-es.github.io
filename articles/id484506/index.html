<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â†˜ï¸ ğŸ“ ğŸ‘¨â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ Saya seorang fotografer dan saya akan menjadikan diri saya alat yang berfungsi ğŸ“ ğŸš¤ ğŸ˜ </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Orang Cina" melakukan hal-hal yang sangat keren, termasuk di bidang perangkat untuk fotografer. Selama 10 tahun terakhir, kualitas telah sangat diper...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Saya seorang fotografer dan saya akan menjadikan diri saya alat yang berfungsi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484506/"> "Orang Cina" melakukan hal-hal yang sangat keren, termasuk di bidang perangkat untuk fotografer.  Selama 10 tahun terakhir, kualitas telah sangat diperketat, mereka mulai mengembangkan produk unik mereka sendiri, yang lebih tinggi oleh kepala daripada dari "produsen terkemuka".  Tetapi, untuk beberapa alasan, hampir setiap produk memiliki setidaknya satu, tetapi minus lemak yang sangat besar.  Tampaknya para pengembang elektronik dengan benar menggunakan mode tk: "terbang dalam salep - setidaknya 200 gram." <br><br>  Belum lama ini, saya memutuskan untuk merawat diri saya dengan cahaya konstan dan membeli beberapa "tongkat cahaya" yongnuo yn-360.  Tongkat ternyata hanya ajaib, tetapi tentu saja itu tidak bisa tanpa minus lemak - aplikasi android untuk remote control ternyata praktis tidak berfungsi.  Selain kelemahan kecil dari aplikasi - yang utama adalah ketidakmampuan untuk mengontrol beberapa perangkat sekaligus.  Minus ini membuat fungsi kontrol tidak berguna, karena saya masih harus berlari dari tongkat ke tongkat dan menyesuaikan cahaya secara manual. <br><br>  Saya memiliki pengalaman dalam pemrograman, jadi situasinya diperbaiki untuk beberapa malam. <br><br><img src="https://habrastorage.org/webt/hv/gu/hs/hvguhssym-nj5mamtnukvyf8vty.jpeg" alt="gambar"><br><a name="habracut"></a><br><h3>  Memilih alat pengembangan </h3><br>  Saya bukan pengembang profesional - pemrograman adalah hobi saya dan karenanya saya tidak siap menghabiskan banyak waktu mempelajari teknologi.  Kebetulan bahasa python favorit saya, tetapi untuk pengembangan ponsel, itu tidak cocok dengan baik.  Tentu saja, ada proyek luar biasa seperti kivy, tetapi sebenarnya tidak ada "baterai" yang cukup sehingga saya terbiasa dengan python (dan kemudian dalam JavaScript).  Akibatnya, pilihan jatuh pada JS dengan apache cordova, di mana saya sudah melakukan satu proyek (omong-omong, itu sedikit terkait dengan pekerjaan saya - dengan aplikasi ini saya "memompa" percikan dji quadcopter saya, yang dipotong oleh pemasar untuk <a href="https://pikabu.ru/story/dron_dji_spark__zhertva_marketologov_pobezhdaem_5917118">membaca di sini</a> ).  Dari kelebihan pengembangan pada cordova, itu adalah kecepatan dan kemudahan pengembangan dan kehadiran "baterai". <br><br><h3>  Bagaimana cara kerjanya </h3><br>  Sama sekali tidak sulit untuk menebak bagaimana tongkat ini bekerja dengan smartphone - ini adalah Bluetooth LE.  Saya beruntung seseorang sudah bingung dengan pertanyaan ini sebelum saya dan dalam beberapa menit saya menemukan <a href="https://github.com/kenkeiter/lantern">proyek python</a> di mana saya dapat memata-matai protokol operasi tongkat.  Ternyata sama sekali tidak rumit.  Untuk bekerja dengan ble, cordova menemukan plug-in <a href="https://github.com/evothings/cordova-ble">ble,</a> dan butuh waktu satu malam untuk menulis prototipe yang berfungsi. <br><br>  Semuanya dimulai dengan pemindaian perangkat LE Bluetooth.  Tetapi untuk mengecualikan yang tidak perlu dari pencarian (dan ada banyak di sekitar), Anda dapat memindai dengan menetapkan UUID layanan yang diinginkan.  Selanjutnya, terhubung dengan dia dan dapatkan layanan serta karakteristiknya.  UUID dari layanan dan karakteristik yang diinginkan dapat ditemukan, misalnya, menggunakan aplikasi BLE Scanner. <br><br>  Semua ini mengarah pada sepotong kode sederhana: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> devices_dev={}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> devices=[]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dev_main={}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start_scan</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ evothings.ble.startScan( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">device</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       if (! (device.address in devices_dev)){ //      devices_dev[device.address]=1; //  evothings.ble.connectToDevice( device, function(dev) { //  "" var service = evothings.ble.getService(dev, 'f000aa60-0451-4000-b000-000000000000'); //    var characteristic = evothings.ble.getCharacteristic(service, 'f000aa61-0451-4000-b000-000000000000'); //     .      . dev_main[dev.name]=[dev,characteristic]; devices.push(dev.name); } }, function(error) { console.log(error); }, //   UUID ,   . { serviceUUIDs: ['f000aa60-0451-4000-b000-000000000000'] } ) }</span></span></code> </pre> <br>  Dengan prinsip yang sama, omong-omong, Anda dapat terhubung ke perangkat BLE lainnya.  Saya menikmati timbangan Xiaomi yang cerdas, yang bisa menambah berat badan.  Saya juga bisa menyalakan ketel pintar dari redmond (serta mengetahui suhu saat ini). <br><br>  Setelah itu, tinggal mengirim informasi tentang warna atau kecerahan cahaya.  Ada beberapa jenis LED di tongkat ini: dingin 5500k, hangat 3200k dan dioda RGB.  Itu dibuat agar Anda dapat mengatur kecerahan dingin dan hangat (0-99%), atau menyalakan dioda RGB. <br>  Jika Anda perlu mengatur kecerahan dioda dingin atau hangat, kami mengirimkan urutan berikut: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> white=<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  5500  0-99 var yellow= 50; // 3200  0-99 var data= new Uint8Array([0xAE,0xAA,0x01,white,yellow,0x56]);</span></span></code> </pre><br>  Jika berwarna: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> RR=<span class="hljs-number"><span class="hljs-number">255</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   0-255 var GG=0; //   0-255 var BB=; //   0-255 var data=new Uint8Array([0xAE,0xA1,RR,GG,BB,0x56]);</span></span></code> </pre><br>  Fungsi pengiriman itu sendiri terlihat seperti ini: <br><br><pre> <code class="javascript hljs">evothings.ble.writeCharacteristic( dev, characteristic, data, <span class="hljs-comment"><span class="hljs-comment">// Buffer view with data to write function() { console.log('done!'); }, function(errorCode) { console.log('writeCharacteristic error: ' + errorCode); });</span></span></code> </pre><br>  Dalam proses pengerjaan lebih lanjut pada aplikasi, tongkat menemukan bug yang menjengkelkan, yang membutuhkan banyak waktu untuk mendeteksi: misalnya, jika Anda mengirim "putih 50%", lalu "nyalakan merah", dan sekali lagi "putih 50%", maka perintah terakhir tongkat tidak lagi merespons.  Saya harus memasukkan kruk untuk kasus-kasus seperti itu dan mengirim secara acak plus / minus 1% untuk tim terakhir dari urutan ini. <br><br><h3>  UI dan "chip" </h3><br>  Karena Anda harus bekerja dengan html + js + css stack standar, banyak pengembangan siap pakai tersedia untuk Anda.  <a href="https://materializecss.com/">Materialize css</a> dipilih untuk UI, dan <a href="https://iro.js.org/">iro.js</a> dipilih sebagai komponen utama UI. <br><br>  Dalam proses pengujian aplikasi, fitur dioda RGB terpisah keluar - campuran warna yang mengerikan.  Jika Anda menambahkan setidaknya 1% dari warna berbeda ke merah, Anda mendapatkan kekacauan warna yang aneh.  Pilihan warna biasanya (termasuk aplikasi resmi) diimplementasikan oleh standar "roda warna" untuk hal-hal seperti itu, di mana sangat sulit untuk mendapatkan "merah murni", dll.  Saya harus menerapkan kontrol saluran demi saluran dari kelompok dioda warna. <br><br>  Nah, beberapa chip juga dibuat yang membantu dalam pekerjaan nyata.  Misalnya, mengganti nama stik.  Anda tidak perlu menyimpan nomor seri mereka di kepala Anda dan mencari tahu mana yang berdiri di latar belakang - Anda cukup menentukan nama "belakang", "kiri", dll.  Nah, ada beberapa preset ketika Anda perlu dengan cepat mengubah cahaya ke yang telah ditentukan. <br><br><img src="https://habrastorage.org/webt/5j/co/zt/5jcoztsqdotrggryfpusnisodhk.png" alt="gambar"><br><br>  Dalam proses berkomunikasi dengan seorang kolega, ternyata stik ini lebih populer bukan di kalangan fotografer, tetapi di antara orang yang merekam video.  Dan ketika dia mendengar dari saya bahwa saya membuat aplikasi untuk mengelolanya, dia menulis bahwa jika Anda menerapkan satu fitur, aplikasi ini akan mengubah tongkat anggaran menjadi analog model dari produsen lain, yang harganya 5 kali lebih mahal. <br><br><h3>  "Animasi" </h3><br>  Untuk merekam video, kadang-kadang Anda membutuhkan semua jenis efek pencahayaan yang berbeda, misalnya, "cahaya" mobil polisi di latar belakang, dll.  Jika aplikasi dapat mengontrol cahaya "secara manual", maka mengapa tidak menerapkan "animasi".  Awalnya, muncul ide untuk menjahit 10-20 animasi yang berbeda, tetapi saya terlalu malas untuk duduk di atasnya, jadi setelah menghabiskan dua malam lagi, saya membuat editor animasi sederhana berbasis web.  Selain itu, Anda dapat mengedit hingga 10 saluran, lalu mendistribusikannya di aplikasi di antara tongkat. <br><br><img src="https://habrastorage.org/webt/9a/3l/pz/9a3lpzeciek33les2l_7paf6bqs.png" alt="gambar"><br><br>  Satu-satunya kelemahan tongkat ini, dibandingkan dengan rekan-rekan yang lebih mahal, adalah pekerjaan yang sangat lambat.  Dari mengirim perintah ke pergantian warna, mencapai 300-400 milidetik, sehingga Anda tidak dapat mencapai operasi yang lebih stabil pada kecepatan yang lebih tinggi. <br><br><h3>  Total </h3><br>  Akibatnya, <a href="https://play.google.com/store/apps/details%3Fid%3Dru.zalomskij.yn_light">aplikasi selesai</a> ditulis dan <a href="https://play.google.com/store/apps/details%3Fid%3Dru.zalomskij.yn_light">diterbitkan</a> pada malam hari, yang, menurut pendapat saya, adalah potongan di atas yang "resmi" dari produsen terkenal.  Cara kerjanya, tunjukkan di video ini: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/XK4WXWhlmak" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  PS Ini bukan artikel pertama saya tentang bagaimana pemrograman membantu dalam pekerjaan yang sama sekali tidak terkait dengan pemrograman itu sendiri.  Baca tentang topik ini: <br><br>  <a href="https://habr.com/ru/post/216039/">Transcend WiFi.</a>  <a href="https://habr.com/ru/post/216039/">Kami menulis klien Shoot &amp; View untuk Windows, Mac dan Linux</a> . <br>  <a href="https://habr.com/ru/post/275595/">Linux di saku Anda - siap melayani fotografer</a> <br>  <a href="https://habr.com/ru/post/279785/">Membuat booth foto mandiri di raspberry pi</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id484506/">https://habr.com/ru/post/id484506/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id484496/index.html">Menggunakan Cura pada Printer 3D SLA Photon</a></li>
<li><a href="../id484498/index.html">Sistem AI memperingatkan pejalan kaki di headphone tentang mobil yang mendekat</a></li>
<li><a href="../id484500/index.html">Script untuk menambahkan server dari Google Cloud ke config ssh</a></li>
<li><a href="../id484502/index.html">Facebook memaksa moderator untuk mendokumentasikan jam kerja mereka hingga detik - bahkan pergi ke toilet</a></li>
<li><a href="../id484504/index.html">Membuat ionizer udara kurang dari $ 10</a></li>
<li><a href="../id484512/index.html">TOP 25 ICO terbesar: ada apa dengan mereka sekarang?</a></li>
<li><a href="../id484514/index.html">Routing Universal untuk Aplikasi Bereaksi</a></li>
<li><a href="../id484518/index.html">Kami mendapatkan video dari kamera melalui DVRIP menggunakan PHP</a></li>
<li><a href="../id484520/index.html">Seperti apa bentuk arsip zip dan apa yang bisa kita lakukan dengannya. Bagian 3 - Aplikasi Praktis</a></li>
<li><a href="../id484522/index.html">Konferensi DEFCON 27. Peretasan polisi. Bagian 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>