<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨 🥡 🚪 BTS GSM disembunyikan di printer kantor 🐩 🌥️ ⛵️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Stasiun pangkalan GSM
 
 Layanan khusus dan intelijen di berbagai negara di dunia menggunakan stasiun pangkalan palsu (perangkap IMSI, orang Amerika m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>BTS GSM disembunyikan di printer kantor</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/398893/"><img src="https://habrastorage.org/files/19e/ea3/458/19eea3458cf148b0830f9a19e0496a63.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stasiun pangkalan GSM</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Layanan khusus dan intelijen di berbagai negara di dunia menggunakan stasiun pangkalan palsu (perangkap IMSI, orang Amerika menyebutnya StingRay), yang bekerja dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode pasif atau aktif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dalam mode pasif, stasiun palsu hanya menganalisis sinyal dari stasiun induk di sekitarnya. </font><font style="vertical-align: inherit;">Jauh lebih menarik ketika perangkat dimasukkan ke mode aktif. </font><font style="vertical-align: inherit;">Dalam hal ini, jebakan IMSI memaksa perangkat klien seluler di sekitar untuk menyambung ke perangkat itu sendiri, memutusnya dari stasiun pangkalan operator (MTS, VimpelCom, dll.). </font><font style="vertical-align: inherit;">Tugas ini dilakukan dengan menyiarkan sinyal yang lebih kuat daripada stasiun di sekitarnya (untuk rincian lebih lanjut tentang pengoperasian stasiun pangkalan palsu, lihat artikel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Dunia Baru yang Berani dari Simulator Situs Sel"</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Albany Law School: 11-12. Doi: 10.2139 / ssrn.2440982).</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BTS palsu tidak hanya digunakan oleh layanan khusus, tetapi juga oleh orang lain. Misalnya, di musim terakhir </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bp.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Peretas </font><i><font style="vertical-align: inherit;">robot</font></i><font style="vertical-align: inherit;"> memasang femtocell (stasiun komunikasi seluler mini berdaya rendah dan rendah) di kantor FBI, mendapat kesempatan untuk mendengarkan percakapan mereka. Dalam bisnis, pesaing dapat menggunakan perangkat semacam itu untuk mendengarkan percakapan pihak lain dengan tenang. Di Rusia, Natalya Kasperskaya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menyarankan untuk memasang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mata-mata femtocell di kantor perusahaan komersial sehingga manajemen dapat dengan tenang merekam percakapan antara karyawan dan pengunjung. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/cb1/522/72b/cb152272beb9ff10fb0ae696b630ed1c.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat terhubung ke stasiun seluler </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">PRISM</font></a><font style="vertical-align: inherit;"> palsu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Beacon Frame</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sebagai bagian dari proyek penelitian, stasiun mengirimkan pemberitahuan tentang koneksi ke telepon pelanggan. Infrastruktur nyata dari layanan khusus berfungsi tanpa mengirim pemberitahuan.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gadget seperti itu sangat populer di era modern, karena begitu banyak orang terus menggunakan komunikasi seluler, mentransmisikan informasi rahasia melalui saluran ini, tanpa menggunakan enkripsi ujung ke ujung. Sangat mudah untuk mengidentifikasi orang dengan nomor telepon mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pahlawan dari seri </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bp. Robot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">letakkan femtocell di bawah tabel di sebelah router. Jelas, dalam formulir ini tidak dapat bekerja untuk waktu yang lama, karena cepat atau lambat perangkat "ekstra" akan diperhatikan oleh petugas kebersihan atau agen acak yang akan membungkuk. Selain itu, femtocell memiliki jangkauan yang sangat kecil, sehingga tidak mungkin bahwa itu akan dapat mengganggu sinyal stasiun pangkalan nyata untuk perangkat pelanggan di lantai tetangga. Dijamin bekerja kecuali di kantor yang sama, dan kemudian betapa beruntungnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memperbaiki kekurangan ini, kantor perlu menginstal stasiun pangkalan yang lebih kuat. Tapi bagaimana cara menyamarkannya? Solusi yang sangat baik diusulkan oleh insinyur Selandia Baru Julian Oliver. Dia mendesain </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stasiun induk yang disamarkan sebagai printer kantor HP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di jalan-jalan, BTS menyamarkan diri mereka sebagai benda lingkungan - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pohon atau lentera</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/db8/7b6/e8a/db87b6e8a769a6e7a6edd3bf53162550.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stasiun seluler disamarkan sebagai pohon palem. Marrakech, Maroko Sebuah </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/997/ebd/9fe/997ebd9fe8b85e36bb37bc92788b5bd7.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stasiun sel yang menyamar sebagai lentera, untuk beberapa alasan, ditempatkan di sebelah lentera nyata. Milton Keynes, UK</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Printer kantor Hewlett-Packard Laserjet 1320 terlihat sealami lampu jalan. Dia tidak akan menimbulkan kecurigaan. Setidaknya selama itu terus bekerja dengan baik. Untuk tujuan demonstrasi, dalam proyek Oliver, printer dikonfigurasikan untuk secara otomatis mencetak metadata tentang panggilan yang disadap dan pesan SMS, bersama dengan teks dari pesan-pesan ini.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/e82/6e5/95f/e826e595fc53dca9c3be288f958404c9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penulis menjelaskan secara rinci cara kerja stasiun pangkalan palsu. Transceiver SDR yang dapat diprogram BladeRF ditempatkan di kasing printer (perangkat yang luar biasa ini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dijelaskan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada Habré). Di foto, itu diperbaiki di kanan atas. Transceiver terhubung ke papan miniatur Raspberry Pi 3 (kiri bawah), dan semua peretas elektronik terhubung ke motherboard printer (papan terbesar di foto). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/f97/310/466/f97310466a66f829ee1f0787d8c51c6a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk daya, adaptor USB mobil digunakan yang mengubah printer 21-22 V menjadi 5 V, diperlukan untuk transceiver dan raspberry. Adaptor semacam itu biasanya dimasukkan ke pemantik rokok mobil (12-24 V) untuk menghidupkan elektronik portabel. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/557/bbf/3f5/557bbf3f55d3c71ac48887ce256706d9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kompartemen kartrid sedikit dimodifikasi agar sesuai dengan dua antena omnidirectional (TX dan AX) yang dihubungkan oleh kabel SMA ke transceiver BladeRF.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penulis karya tersebut mengatakan bahwa mereka memilih printer Hewlett-Packard Laserjet 1320 karena beberapa alasan. Pertama, ia memiliki penampilan yang sangat mencolok - desain tanpa wajah yang sama sekali tidak menarik perhatian. Kedua, rongga internal di perumahan ideal untuk mengakomodasi semua elektronik dan kabel. Tidak ada bagian yang keluar dan tidak terlihat dari luar, kecuali kabel daya standar. Ketika adaptor USB terhubung ke konektor standar, Hewlett-Packard Laserjet 1320 berfungsi secara normal seperti printer kantor biasa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raspberry Pi 3 dipilih setelah upaya yang gagal untuk memastikan operasi yang stabil dari stasiun basis pengontrol program </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YateBTS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di bawah Intel Edison, Beaglebone Black, dan bahkan I-MX6 Marsboard. </font><font style="vertical-align: inherit;">Berbeda dengan OpenBTS kuno, YateBTS lebih menuntut kinerja prosesor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perangkat lunak stasiun pangkalan palsu di printer dijalankan di atas kode YateBTS sumber terbuka. </font><font style="vertical-align: inherit;">Untuk tujuan demonstrasi, beberapa skrip telah dikembangkan. </font><font style="vertical-align: inherit;">Misalnya, salah satu dari mereka memfilter log, membentuk dokumen PDF dan mengirimkannya untuk dicetak.</font></font><br>
<br>
<blockquote><pre><code class="bash hljs"><span class="hljs-meta"><span class="hljs-meta">#!/bin/bash
</span></span>
<span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> FH=/home/pi/yate.log<font></font>
rm -f <span class="hljs-variable"><span class="hljs-variable">$FH</span></span>
<span class="hljs-comment"><span class="hljs-comment"># Start the BTS, log to $FH and background</span></span>
yate 2&gt;&amp;1 -l <span class="hljs-variable"><span class="hljs-variable">$FH</span></span> &amp;<font></font>
sleep 1<font></font>
<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Starting up..."</span></span>
last=<span class="hljs-string"><span class="hljs-string">" "</span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
        <span class="hljs-comment"><span class="hljs-comment"># Poll every 10 seconds</span></span><font></font>
        sleep 10<font></font>
        <span class="hljs-comment"><span class="hljs-comment"># Check log for new sniffed 'call route' entries and do some subbing</span></span>
        cur=$(cat <span class="hljs-variable"><span class="hljs-variable">$FH</span></span> | grep -A 16 <span class="hljs-string"><span class="hljs-string">"Sniffed\ 'call.route'"</span></span> | sed -e <span class="hljs-string"><span class="hljs-string">"s/param\['//"</span></span> \<font></font>
        -e <span class="hljs-string"><span class="hljs-string">"s/'\]//"</span></span> -e <span class="hljs-string"><span class="hljs-string">'s/thread.*//'</span></span> -e <span class="hljs-string"><span class="hljs-string">'s/time\=[0-9].*//'</span></span> \<font></font>
        -e <span class="hljs-string"><span class="hljs-string">'s/\ data=(.*//'</span></span> -e <span class="hljs-string"><span class="hljs-string">'s/\ retval=.*//'</span></span> \<font></font>
        -e <span class="hljs-string"><span class="hljs-string">'s/\ tmsi.*//'</span></span> -e <span class="hljs-string"><span class="hljs-string">'s/ybts/Stealth\ Cell\ Tower/'</span></span> \<font></font>
        -e <span class="hljs-string"><span class="hljs-string">'s/Sniffed/Monitored\ =/'</span></span> -e <span class="hljs-string"><span class="hljs-string">'/^\s*$/d'</span></span> \<font></font>
        -e <span class="hljs-string"><span class="hljs-string">'s/^\s*//'</span></span> | tail -n 13)
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$cur</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$last</span></span></span><span class="hljs-string">"</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
            <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ <span class="hljs-variable"><span class="hljs-variable">${#cur}</span></span> -gt 1 ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> 
                <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"New SMS events detected"</span></span>
                <span class="hljs-comment"><span class="hljs-comment"># Test to see if an IMSI is in the string. If not, look it up and put it in</span></span>
                <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-variable"><span class="hljs-variable">$cur</span></span> != *imsi* ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
                    <span class="hljs-built_in"><span class="hljs-built_in">caller</span></span>=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$cur</span></span></span><span class="hljs-string">"</span></span> | grep <span class="hljs-string"><span class="hljs-string">"caller"</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ print $3 }'</span></span> | sed <span class="hljs-string"><span class="hljs-string">"s/'//g"</span></span> \<font></font>
                    | tr -<span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> <span class="hljs-string"><span class="hljs-string">'[:print:]'</span></span>)<font></font>
                    imsi=$(cat /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/yate/tmsidata.conf | grep <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$caller</span></span></span><span class="hljs-string">"</span></span> \<font></font>
                    | cut -d <span class="hljs-string"><span class="hljs-string">'='</span></span> -f 1)<font></font>
                    cur=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$cur</span></span></span><span class="hljs-string">"</span></span> | sed -e <span class="hljs-string"><span class="hljs-string">"s/\ called\ .*/imsi\ =\ '</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$imsi</span></span></span><span class="hljs-string">'/"</span></span> )
                <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span>
                <span class="hljs-comment"><span class="hljs-comment"># Make it all uppercase</span></span>
                event=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -e \\n<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$cur</span></span></span><span class="hljs-string">"</span></span> | tr <span class="hljs-string"><span class="hljs-string">'a-z'</span></span> <span class="hljs-string"><span class="hljs-string">'A-Z'</span></span>)
                <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"printing file..."</span></span>
                <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$event</span></span></span><span class="hljs-string">"</span></span> &gt; printme
                <span class="hljs-comment"><span class="hljs-comment"># Format a postscript file with enscript</span></span>
                enscript -r --header=<span class="hljs-string"><span class="hljs-string">'SMS EVENT RECORD|%W|%* UTC'</span></span> -i2cm --margins=10:10:30:10 \<font></font>
                -o printme.ps -f Courier@15/12 printme<font></font>
                <span class="hljs-comment"><span class="hljs-comment"># Convert to PDF</span></span><font></font>
                ps2pdfwr printme.ps printme.pdf<font></font>
                <span class="hljs-comment"><span class="hljs-comment"># Send it to the print queue for immediate processing</span></span><font></font>
                lp -U pi -o a4 -q 100 -d hp_LaserJet_1320_2 printme.pdf <font></font>
            <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span>
            last=<span class="hljs-variable"><span class="hljs-variable">$cur</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code></pre></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skrip lain secara acak memilih salah satu nomor telepon yang terhubung ke stasiun pangkalan, memanggilnya dan memainkan hit klasik Stevie Wonder </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"I Just Called To Say I Love You"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<blockquote><pre><code class="bash hljs"><span class="hljs-meta"><span class="hljs-meta">#!/bin/bash
</span></span>
<span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> HOST=127.0.0.1
<span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> PORT=5038
<span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> DATA=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/share/yate/sounds/stevie.au
<span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> TMSI=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/yate/tmsidata.conf
<span class="hljs-built_in"><span class="hljs-built_in">readonly</span></span> CC=49 <span class="hljs-comment"><span class="hljs-comment">#MSISDN prefix, matching that of definition in yate conf.</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callone</span></span></span></span> () {
  <span class="hljs-comment"><span class="hljs-comment"># Play "I Just Called To Say I Love You" by Stevie Wonder, on pickup </span></span>
  <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"call wave/play/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DATA</span></span></span><span class="hljs-string"> </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$mt</span></span></span><span class="hljs-string">"</span></span> | netcat -i 1 -q 1 <span class="hljs-variable"><span class="hljs-variable">$HOST</span></span> <span class="hljs-variable"><span class="hljs-variable">$PORT</span></span>
  <span class="hljs-comment"><span class="hljs-comment"># Or, setup channel and route to IAX/SIP</span></span>
  <span class="hljs-comment"><span class="hljs-comment"># echo "call 'iax/iax:$PORT@11.22.33.44/$PORT' $mt" | netcat -q 1 $HOST $PORT</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">callall</span></span></span></span>() {
  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> mt <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-variable"><span class="hljs-variable">${UES[@]}</span></span> <span class="hljs-comment"><span class="hljs-comment">#override $mt</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>
      <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"calling </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$mt</span></span></span><span class="hljs-string">"</span></span><font></font>
      callone<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">done</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">do</span></span><font></font>
<font></font>
    tmsilen=$(wc -l <span class="hljs-variable"><span class="hljs-variable">$TMSI</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{ print $1 }'</span></span>)<font></font>
    ues=($(cat <span class="hljs-variable"><span class="hljs-variable">$TMSI</span></span> | grep -A <span class="hljs-variable"><span class="hljs-variable">$tmsilen</span></span> ues | sed <span class="hljs-string"><span class="hljs-string">'s/\[ues\]//'</span></span> | cut -d <span class="hljs-string"><span class="hljs-string">','</span></span> -f 3))
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ ! -z <span class="hljs-variable"><span class="hljs-variable">$ues</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>
      ueslen=<span class="hljs-variable"><span class="hljs-variable">${#ues}</span></span>
      RANGE=<span class="hljs-variable"><span class="hljs-variable">$ueslen</span></span>
      select=<span class="hljs-variable"><span class="hljs-variable">$RANDOM</span></span>
      <span class="hljs-built_in"><span class="hljs-built_in">let</span></span> <span class="hljs-string"><span class="hljs-string">"select%=</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$RANGE</span></span></span><span class="hljs-string">"</span></span>
      mt=<span class="hljs-variable"><span class="hljs-variable">${ues[$select]}</span></span> <font></font>
      callone<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span><font></font>
    sleep 30<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code></pre></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Binari yang dikompilasi untuk Raspberry Pi 3: </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yate_r-pi3_4.4.11-v7_debian-8.0.tar.gz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semoga berhasil dengan eksperimen Anda!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id398893/">https://habr.com/ru/post/id398893/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id398881/index.html">Retas Landauer</a></li>
<li><a href="../id398883/index.html">Semua tentang cara membangun gedung pencakar langit tertinggi di Eropa</a></li>
<li><a href="../id398885/index.html">Harga untuk elektronik populer di masa lalu dalam uang hari ini: 1990-an</a></li>
<li><a href="../id398887/index.html">Uang kertas - kapan dan mengapa mereka muncul</a></li>
<li><a href="../id398889/index.html">Laporan Uji Keberhasilan EmDrive NASA Diterbitkan</a></li>
<li><a href="../id398895/index.html">Bagaimana saya memprogram ulang otak saya untuk mulai memahami matematika</a></li>
<li><a href="../id398897/index.html">Yandex telah meluncurkan layanan Kesehatan</a></li>
<li><a href="../id398899/index.html">Masterkeys Pro L: sesuaikan untuk semua bidang</a></li>
<li><a href="../id398901/index.html">Jaringan saraf LipNet membaca bibir dengan akurasi 93,4%</a></li>
<li><a href="../id398903/index.html">Keindahan kosmos yang abadi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>