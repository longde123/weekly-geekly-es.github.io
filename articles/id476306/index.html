<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüî¨ üïã üëÜüèª Instruksi TelegramBot untuk membuat fungsionalitas dasar untuk bot. (Bagian 1) üßóüèø ‚úÖ üéÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Belum lama ini saya menyarankan Anda menggunakan bot telegram saya. 

 Telegram Bot - Asisten Perencanaan Acara 

 Setelah menerima banyak pertanyaan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Instruksi TelegramBot untuk membuat fungsionalitas dasar untuk bot. (Bagian 1)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476306/"> Belum lama ini saya menyarankan Anda menggunakan bot telegram saya. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Telegram Bot - Asisten Perencanaan Acara</a> <br><br>  Setelah menerima banyak pertanyaan di PM, saya menyadari bahwa pertanyaan membuat bot untuk Telegram cukup populer. <br><br>  Mereka bertanya kepada saya kode sumber bot, diminta untuk berbagi contoh spesifik penerapan berbagai fitur bot, meminta saya menyarankan beberapa jenis fungsi untuk bekerja dengan bot dan pesan. <br><br>  Saya memutuskan untuk menulis serangkaian artikel di mana saya ingin menunjukkan hal-hal dasar yang Anda perlukan untuk menulis bot Anda. <br>  Java, Maven, TelegramAPI, Lombok, dan Log4j menunggu Anda. <br>  Siapa yang peduli - tolong, di bawah kucing ... <br><a name="habracut"></a><br>  Dan saya akan langsung dari kartu truf :) <br><br>  Apa yang diminta di artikel sebelumnya. <br><br>  Anda dapat menemukan kode sumber untuk proyek di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">sini</a> . <br><br>  Di cabang " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">master</a> " akan ada versi terakhir dari bot, yang akan kami tulis bersama Anda dalam proses penampilan artikel baru. <br><br>  Sumber lengkap untuk artikel ini akan berada di cabang " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Part1-Base</a> ". <br><br>  Di bagian ini, kami akan membuatkan Anda template dasar yang dapat: <br><br><ol><li>  daftar bot di server Telegram </li><li>  menerima pesan yang ditulis ke bot </li><li>  menanggapi perintah / mulai </li></ol><br><h3>  Buat proyek pakar standar </h3><br>  ( <i>Saya akan melewatkan manual tentang bekerja dengan lingkungan pengembangan dan hal-hal dasar dari pemrograman Java. Semua hal ini cukup mudah untuk google. Dan jika tidak berhasil, tulis pertanyaan</i> ). <br><br>  <b>Mari kita lihat dependensi apa yang akan kita butuhkan dalam proyek ini.</b> <br><br>  Pertama-tama, ini adalah <b>Lombok</b> .  Apa ini dan mengapa - Anda dapat membaca, misalnya, di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Dan pastikan untuk menambahkan logger.  Saya menggunakan <b>log4j</b> dan sedikit lebih jauh saya akan menunjukkan kepada Anda betapa bermanfaatnya itu dapat digunakan ketika men-debug aplikasi ini dan pemahaman yang lebih dalam tentang pengoperasian TelegramAPI. <br><br><pre><code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.projectlombok<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>lombok<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.18.10<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>provided<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>log4j<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>log4j<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.2.17<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Dan karena  kami menulis bot untuk Telegram, lalu perpustakaan itu sendiri dari Telegram: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.telegram<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>telegrambots<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>3.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Struktur file pom dapat ditemukan di <a href="" rel="nofollow">sini.</a> <br>  Struktur file pom.xml dapat dilihat di <a href="" rel="nofollow">sini</a> . <br><br>  Selanjutnya, kami menambahkan kelas dasar <a href="" rel="nofollow">Bot.java</a> , yang akan mengimplementasikan semua interaksi kami dengan layanan Telegram.  Kami akan bekerja dengan LongPolling, sebagai  Metode ini tidak memerlukan sertifikat enkripsi dan dapat diluncurkan dari mesin apa pun yang menggunakan Java. <br><br>  Untuk melakukan ini, kita mewarisi dari kelas <b>TelegramLongPollingBot</b> dan menerapkan metode dasar: <br><br>  <b>public void onUpdateReceived (Perbarui pembaruan)</b> <b><br></b>  <b>public String getBotUsername ()</b> <b><br></b>  <b>public String getBotToken ()</b> <br><br>  Dan dari diri kita sendiri kita perlu menambahkan prosedur yang akan menghubungkan bot kita ke TelegramAPI: <br><br>  <b>public void botConnect ()</b> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.AllArgsConstructor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.Getter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.NoArgsConstructor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.Setter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.log4j.Logger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.TelegramBotsApi; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.api.objects.Update; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.bots.TelegramLongPollingBot; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.exceptions.TelegramApiRequestException; <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bot</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TelegramLongPollingBot</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger log = Logger.getLogger(Bot.class); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> RECONNECT_PAUSE =<span class="hljs-number"><span class="hljs-number">10000</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> String userName; <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> String token; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUpdateReceived</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Update update)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> 11/18/2019     log.debug("new Update recieve"); } @Override public String getBotUsername() { return userName; } @Override public String getBotToken() { return token; } public void botConnect() { TelegramBotsApi telegramBotsApi = new TelegramBotsApi(); try { telegramBotsApi.registerBot(this); log.info("TelegramAPI started. Look for messages"); } catch (TelegramApiRequestException e) { log.error("Cant Connect. Pause " + RECONNECT_PAUSE / 1000 + "sec and try again. Error: " + e.getMessage()); try { Thread.sleep(RECONNECT_PAUSE); } catch (InterruptedException e1) { e1.printStackTrace(); return; } botConnect(); } } }</span></span></code> </pre><br>  Pada prinsipnya, semuanya.  Kode ini dapat terhubung ke server Telegram dan setelah menerima pesan yang ditujukan kepadanya, ia akan mencatat informasi dalam file log yang diterima Pembaruan. <br><br>  Mari kita buat kelas yang akan menjalankan aplikasi kita. <br><br>  Ini akan dilakukan oleh kelas App.java.  Tautan ke file: <a href="" rel="nofollow">di sini</a> <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example.telegrambot; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.example.telegrambot.bot.Bot; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.log4j.Logger; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.telegram.telegrambots.ApiContextInitializer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger log = Logger.getLogger(App.class); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ ApiContextInitializer.init(); Bot test_habr_bot = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Bot(<span class="hljs-string"><span class="hljs-string">"test_habr_bot"</span></span>, <span class="hljs-string"><span class="hljs-string">"1012522162:AAHLvPVqKF48LdqnsvS3l5YrJfvFey6dBa0"</span></span>); test_habr_bot.botConnect(); } }</code> </pre> <br>  Seperti yang Anda lihat, agar bot berfungsi, kita hanya perlu "nama bot" dan "token", yang akan kita lewati dalam konstruktor kelas Bot kita. <br><br>  Anda bisa mendapatkan nama dan token untuk bot dari ayah semua bot :) dengan menulis kepadanya di telegram. <br>  Nama panggilannya: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">@BotFather</a> <br>  Komunikasi dengannya sangat sederhana dan ringkas. <br><br>  Atas perintah <br><blockquote>  / newbot </blockquote><br>  Akibatnya, Anda harus mendapatkan dialog ini: <br><br><img src="https://habrastorage.org/webt/93/bo/fc/93bofc9fylsdmyu0polllzad-x4.png"><br><br>  Mereka juga menulis di sini bahwa ini lebih akurat, tidak menunjukkan informasi ini kepada siapa pun, jika tidak orang lain akan dapat mengontrol bot Anda :) <br><br>  Anda akan mengatakan bahwa saya tidak terlalu akurat ... Mungkin, tetapi ayah bot memungkinkan kami untuk mengubah token dan mengingat yang ada di akses publik.  Karena itu, ketika Anda mencoba terhubung dengan data saya, Anda akan menerima pesan berikut: <br><br><pre> <code class="plaintext hljs">2019-12-04 13:44:25,252[DEBUG][main ][ com.example.telegrambot.bot.Bot] - Bot token: 1012522162:AAF5D49N4NreEJfCk0aOsC-UnmIu_GLkoyc 2019-12-04 13:44:26,613[ERROR][main ][ com.example.telegrambot.bot.Bot] - Cant Connect. Pause 10sec and try again. Error: Error removing old webhook</code> </pre><br>  Jadi dengan data saya Anda tidak dapat terhubung.  Daftarkan milik Anda.  Tentukan data baru di <a href="" rel="nofollow">App.java</a> kelas <br><br>  Sekarang dengan menjalankan metode utama di kelas App, kami membiarkan bot kami terhubung dan menunggu pesan baru.  Dia akan menulis kepada kami tentang tindakan dan upayanya di konsol. <br><br><h3>  Log4j </h3><br>  Ingat, di atas saya berbicara tentang utilitas perpustakaan log4j.  Dan di sini untuk yang ingin tahu, klondike data berguna terbuka. <br><br>  File <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">log4j.properties</a> sudah berisi pengaturan dasar untuk pencatatan dan tingkat pencatatan khusus untuk kelas pihak ketiga dan bagi mereka yang bekerja di bot kami. <br><br><pre> <code class="plaintext hljs">log4j.rootLogger= error, file log4j.logger.com.example.telegrambot.App = debug, stdout log4j.logger.com.example.telegrambot.bot.Bot = debug, stdout</code> </pre> <br>  Tingkat dasar logging diindikasikan sebagai Kesalahan. <br><br>  Untuk kelas Bot dan Aplikasi, keluaran log di level Debug ditunjukkan. <br><br>  <i>Apa level-level ini dan perbedaannya - Anda dapat dengan mudah menemukannya di Google.</i> <br><br>  Jika Anda ingin melihat bagaimana dan dalam urutan apa perpustakaan Telegram menyelesaikan semua tindakan Anda, alihkan mode logging umum ke tingkat yang lebih rendah: info atau debug. <br><br>  Dan ketika Anda memulai aplikasi, Anda akan melihat di konsol berapa banyak hal menarik terjadi dalam proses menghubungkan, bekerja.  Berapa kali fungsi Anda disurvei dengan nama bot dan token. <br><br>  Level logging berubah dengan baris ini: <br>  Untuk mendapatkan log sesuai dengan tingkat info, masukkan seperti ini: <br><br><pre> <code class="plaintext hljs">log4j.rootLogger= info, file</code> </pre> <br>  Untuk level debug, seperti ini: <br><br><pre> <code class="plaintext hljs">log4j.rootLogger= debug, file</code> </pre> <br><h3>  Dan sebagai kesimpulan </h3><br>  Sekarang kami memiliki bot: itu terhubung, menunjukkan kepada kami log yang indah dan melaporkan bahwa pesan datang kepadanya. <br><br>  Tetapi di atas, saya berjanji kepada Anda bahwa bot akan menanggapi perintah mulai.  Mari kita ubah sedikit prosedur yang bertanggung jawab untuk memproses pesan yang diterima. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onUpdateReceived</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Update update)</span></span></span><span class="hljs-function"> </span></span>{ log.debug(<span class="hljs-string"><span class="hljs-string">"Receive new Update. updateID: "</span></span> + update.getUpdateId()); Long chatId = update.getMessage().getChatId(); String inputText = update.getMessage().getText(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (inputText.startsWith(<span class="hljs-string"><span class="hljs-string">"/start"</span></span>)) { SendMessage message = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SendMessage(); message.setChatId(chatId); message.setText(<span class="hljs-string"><span class="hljs-string">"Hello. This is start message"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { execute(message); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (TelegramApiException e) { e.printStackTrace(); } } }</code> </pre> <br>  Seperti yang dapat Anda lihat dari kode, bot melakukan hal berikut: <br><br><ul><li>  Ia menerima pembaruan dan menangkap nomor id dalam log. </li><li>  Mengambil ID obrolan dan teks pesan dari pesan yang dikirim </li><li>  Cek apakah teks ini adalah perintah "/ mulai" </li><li>  Dan jika perbandingan berhasil, ia membuat pesan sebagai respons dan mengirimkannya ke obrolan, dengan ID yang diterima sebelumnya </li></ul><br>  Semoga bermanfaat dan menarik. <br><br>  Di masa depan saya akan menunjukkan kepada Anda bagaimana ini diterapkan di bot saya: <br><br><ul><li>  penggunaan berbagai tim </li><li>  mengikat perintah-perintah ini ke penangan </li><li>  multithreading: menerima dan mengirim pesan secara mandiri </li><li>  pemformatan pesan </li><li>  bekerja dengan tombol dan panggilan balik </li><li>  mengedit posting lama </li></ul><br>  Atas dasar ini, dalam akses publik, 2 bot saya sekarang berfungsi untuk saya. <br><br>  Satu hal yang Anda tahu adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">asisten perencanaan acara</a> . <br><br>  Dan yang kedua - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">penggemar film Cheeky</a> .  Dia suka film dan tahu banyak tentang mereka.  Dan bahkan dia lebih suka membagikan ilmunya dengan Anda.  Dia memimpin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">salurannya dalam sebuah telegram</a> , di mana dia memutuskan film mana yang dia sukai dan menawarkannya kepada Anda.  Dia tahu cara membuat pilihan individu berdasarkan genre dan membuat berlangganan rekomendasi yang dipersonalisasi.  Dia tahu bagaimana menemukan karya agung yang belum pernah Anda dengar dan bahkan tidak tahu bagaimana film seperti itu dapat ditemukan sama sekali. <br><br>  Misalnya, apakah menurut Anda ada film dengan kombinasi genre "liar" seperti: dokumenter, horor, komedi. <br><br>  Tapi bot di perintah <br><br><pre> <code class="plaintext hljs">     2010-</code> </pre> <br>  Dia akan mengatakan bahwa dari 2010 hingga saat ini film-film tersebut telah diambil sebanyak 6 buah :) <br><br>  Cara bekerja dengan perintah serupa, cara mengurai string dan urutan perintah yang akan kami diskusikan dengan Anda dalam publikasi berikut. <br><br>  Terima kasih atas perhatian anda  Pemrograman itu menyenangkan :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id476306/">https://habr.com/ru/post/id476306/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id476294/index.html">Jaringan game yang didistribusikan sebagai alternatif untuk GFN: bagaimana dan mengapa itu bisa lepas landas, di mana ia sudah bekerja di Federasi Rusia</a></li>
<li><a href="../id476296/index.html">21 November, Rapat Rekayasa Produk: Siapa Insinyur Produk?</a></li>
<li><a href="../id476298/index.html">Pergi melalui duri untuk sepeda, bagian satu: mempelajari dasar-dasar menyesuaikan debugger Visual Studio menggunakan plugin</a></li>
<li><a href="../id476300/index.html">Majalah Tram adalah bintang yang terang dan cepat pudar dari avant-garde anak-anak Rusia</a></li>
<li><a href="../id476304/index.html">Otentikasi dongle perangkat keras perangkat Linux pada sistem tingkat atas</a></li>
<li><a href="../id476308/index.html">5 Praktik Pengembangan Perangkat Lunak Teratas yang Diikuti pada tahun 2020</a></li>
<li><a href="../id476310/index.html">CRM wajah manusia</a></li>
<li><a href="../id476312/index.html">Bereaksi atau Angular atau Vue.js - apa yang harus dipilih?</a></li>
<li><a href="../id476316/index.html">Vue Storefront: Isi data dalam ES</a></li>
<li><a href="../id476318/index.html">Kami sepenuhnya menyerang Joker 2019: bagaimana konferensi Jawa terbesar di Rusia berlangsung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>