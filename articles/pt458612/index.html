<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåØ üßìüèæ üëÉüèæ Cosmos. 7 anos üíª üëßüèø üêò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! 

 Em 2012, escrevi um post sobre meu hobby - Cosmos: modelando a evolu√ß√£o de organismos multicelulares 


 Quase 7 anos se passaram desde e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cosmos. 7 anos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458612/">  Ol√° Habr! <br><br>  Em 2012, escrevi um post sobre meu hobby - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cosmos: modelando a evolu√ß√£o de organismos multicelulares</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/7_yYU6lvvk4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Quase 7 anos se passaram desde ent√£o, durante os quais trabalhei no desenvolvimento deste projeto.  Hoje, quero contar um pouco sobre o que aprendi a fazer e como pretendo desenvolver ainda mais o projeto. <br><a name="habracut"></a><br><h4>  Motiva√ß√£o "Grande Evolu√ß√£o" </h4><br>  O Cosmos 2012 √© um √≥timo exemplo do sentimento do ‚Äúefeito de imers√£o‚Äù da visualiza√ß√£o, que foi o ponto de partida no desenvolvimento da ideia de fazer uma ‚Äúsimula√ß√£o de vida na GPU‚Äù. <br><br>  No entanto, a evolu√ß√£o real n√£o ocorreu l√°: o processo deve se desenvolver continuamente e n√£o chegar a um estado final poucos minutos ap√≥s o lan√ßamento. <br><br>  Verificou-se que o mais dif√≠cil √© apenas alcan√ßar a maior evolu√ß√£o poss√≠vel de esp√©cies que "n√£o convergem para o limite de desenvolvimento", gerando uma variedade real de formas.  Ent√£o ser√° poss√≠vel explorar esses formul√°rios, e haver√° um interesse real em executar a simula√ß√£o por dias, semanas, meses - aguardando o surgimento de formul√°rios cada vez mais complexos e desenvolvidos para estudo. <br><br><h4>  F√≠sica </h4><br>  Voc√™ pode pensar em qualquer f√≠sica: com a ajuda da GPU, voc√™ pode criar uma ampla gama de modelos com o n√∫mero de elementos suficientes para os processos evolutivos em tempo real.  Qualquer combina√ß√£o dos princ√≠pios de intera√ß√£o de certos "elementos", "√°tomos", "c√©lulas" - d√° origem a um construtor em evolu√ß√£o de formas nas quais alguma simula√ß√£o complexa organizada pode literalmente se auto-montar a partir do nada. <br><br>  No come√ßo, eu queria criar mat√©ria multicelular que permitisse que o cosmo se tocasse diretamente, "sem passar", tendo uma estrutura de bolas conectadas umas √†s outras em um mosaico, √† maneira dos tecidos celulares de organismos reais. <br><br>  Era necess√°rio que os organismos se tornassem mais parecidos com os reais, e o significado f√≠sico aparecia nas diferentes estruturas de seus corpos.  Voc√™ pode "desenhar" um corpo com pele, membros, m√∫sculos, pernas, √≥rg√£os internos com essas c√©lulas - e esses corpos literalmente existir√£o e se desenvolver√£o dentro da simula√ß√£o. <br><br>  Um exemplo do CUDA SDK foi a realiza√ß√£o de colis√µes de part√≠culas redondas com base em uma rede espacial, que permite que as part√≠culas interajam apenas com as pr√≥ximas. <br><br>  Eu descobri como o exemplo 3D funciona - e escrevi minha simula√ß√£o para 2D. <br>  No ent√£o GTX 580, isso permitiu calcular 256 mil part√≠culas em tempo real. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8eKQtesUK64" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  CUDA + JavaScript </h4><br>  Outro problema era que era conveniente criar um conceito c√≥smico em JavaScript, enquanto a simula√ß√£o em grande escala s√≥ era poss√≠vel na GPU. <br><br>  Aproximadamente 100 vezes mais conveniente e mais r√°pido em JS. <br>  E cerca de 1000 vezes mais r√°pido em uma GPU. <br><br>  A solu√ß√£o foi escrever a f√≠sica da intera√ß√£o de part√≠culas no CUDA e dar a oportunidade de criar part√≠culas e controlar seus par√¢metros a partir do JavaScript, integrando o mecanismo Google V8 que apareceu na simula√ß√£o como uma linguagem de script. <br><br>  Eu adicionei a capacidade de conectar as part√≠culas com os mesmos "el√°sticos" que foram conectados nos primeiros espa√ßos.  Como resultado, pode-se escrever o c√≥digo no script de controle JS: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ball1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ball(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ball2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ball(); ball1.xy = [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>]; ball1.rgb = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]; ball2.xy = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>]; ball2.rgb = [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> link = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Link(ball1, ball2);</code> </pre> <br>  e duas bolas brancas apareceram na tela, conectadas uma √† outra por um "el√°stico". <br><br>  J√° neste n√≠vel de desenvolvimento do mecanismo, surgiram oportunidades interessantes para experimentos com f√≠sica virtual: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/K0HQCr6aaO4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Pr√©dio </h4><br>  Ao adicionar v√°rias propriedades √†s bolas, como resist√™ncia da uni√£o, massa, tamanho, elasticidade - consegui um construtor controlado por JavaScript no qual pude desenhar as estruturas de milhares de criaturas que consistem em c√©lulas de diferentes propriedades f√≠sicas - e tudo isso foi calculado pela GPU em tempo real. <br><br>  Como equil√≠brio entre pre√ßo e qualidade, foi escolhida uma forma aerodin√¢mica e macia de um polvo. <br><br>  Cada elemento do corpo (centro, membros) √© realizado usando o n√∫mero m√≠nimo necess√°rio de bolas, enquanto o volume e a massa s√£o naturalmente distribu√≠dos - onde os membros engrossam para o centro - o assunto se torna mais dur√°vel e maci√ßo: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/djnDp02Ywp4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Motilidade </h4><br>  O pr√≥ximo passo foi criar a motilidade dos corpos c√≥smicos.  Os m√∫sculos eram f√°ceis de fazer - bastava apertar os la√ßos entre as bolas ao longo das patas, e isso causava o efeito da contra√ß√£o muscular. <br><br>  Os neur√¥nios atuantes se conectam a esses m√∫sculos e, se houver um sinal, o m√∫sculo se contrai.  Dois m√∫sculos por membro - um polvo bidimensional totalmente control√°vel. <br><br>  Com a ajuda de uma pequena rede neural recorrente com muta√ß√£o aleat√≥ria (da ordem de 10 a 100 neur√¥nios) e uma sele√ß√£o simples dos melhores indiv√≠duos de acordo com o crit√©rio, por exemplo, "quem poderia se mover mais", voc√™ pode chamar a cinem√°tica de movimento necess√°ria para cada forma corporal individual: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cqBveJ5xVMQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  G√™nesis </h4><br>  Outra forma do corpo ativamente explorada s√£o os "hex√≥ides".  Os corpos de tais criaturas s√£o compostos de c√©lulas que formam formas arbitr√°rias de bolas do mesmo tamanho com base em uma treli√ßa n√£o estrita pr√≥xima √† hexagonal. <br><br>  Este formul√°rio √© adequado para o estudo da evolu√ß√£o simult√¢nea da forma e motilidade do corpo "em conjunto", enquanto maximiza o potencial de experimentos com c√©lulas de v√°rios tipos, diferindo em for√ßa e fun√ß√£o.  Por exemplo, os corpos c√≥smicos podem consistir em combina√ß√µes de c√©lulas s√≥lidas que formam a estrutura da criatura e os m√∫sculos que colocam a estrutura em movimento. <br><br>  No futuro, quando imersos em um habitat complexo, com base nesses princ√≠pios, formas distintas de criaturas poder√£o ser desenvolvidas - algumas das quais ser√£o mais "blindadas", outras ser√£o projetadas para movimentos r√°pidos, outras para um ataque eficaz, etc. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P9FEgUQvYNo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Ca√ßa e cria√ß√£o </h4><br>  Se o cosmos √© ensinado a ca√ßar um ao outro, a quantidade de mat√©ria na simula√ß√£o pode permanecer constante, enquanto gera√ß√µes de criaturas se suceder√£o. <br><br>  Ent√£o, cadeias alimentares est√°veis ‚Äã‚Äãpodem se formar e um grande processo de co-evolu√ß√£o de diferentes esp√©cies de criaturas come√ßa. <br><br>  Para o primeiro experimento, usei 4 tipos de c√©lulas: <br><br><ul><li>  <b>c√©lula digestiva (colorida)</b> - ao tocar outro corpo c√≥smico, morde um peda√ßo </li><li>  <b>armadura (luz)</b> - uma gaiola mec√¢nica mais forte que n√£o pode ser arrancada </li><li>  <b>tecido conjuntivo (cinza)</b> - tecido el√°stico macio </li><li>  <b>c√©lula motora (escura)</b> - permite que o espa√ßo se mova mais rapidamente </li></ul><br>  Assim que o cosmos come um n√∫mero suficiente de c√©lulas, ele "se divide", formando pr√≥ximo a sua c√≥pia ligeiramente mutada. <br><br>  Esse processo j√° est√° gerando formul√°rios com estrutura e comportamento diferenciados: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/CFEB1gyZFrM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Tt1aRIbpqHI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Habitat </h4><br>  Espa√ßo frio vazio n√£o √© o melhor lugar para se viver. <br><br>  Para criar um bioma virtual, voc√™ pode usar materiais b√°sicos de constru√ß√£o - part√≠culas de solo, √°gua, luz e c√©lulas vegetais capazes de crescer. <br><br>  Part√≠culas de solo grudam umas nas outras, formando uma plataforma s√≥lida.  O solo pode ficar molhado se part√≠culas de √°gua entrarem nele. <br><br>  Em solo √∫mido, com boa luz, as plantas podem crescer.  A massa vegetal √© a principal fonte de alimento org√¢nico para formas animais. <br><br>  Os corpos animais, em decomposi√ß√£o, devolvem subst√¢ncias inorg√¢nicas de volta ao ecossistema do bioma. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/yAbSZe0AW1Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/8DvTednlNAA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ANQ-H6LSmEg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h4>  PS </h4><br>  Este √© um artigo de revis√£o, cujas dimens√µes n√£o permitem uma divulga√ß√£o coerente de todas as √°reas em que o projeto est√° sendo desenvolvido. <br><br>  Agora, estou trabalhando em um designer interativo com todos os recursos que lhe dar√° a oportunidade de "jogar jogos espaciais" no modo sandbox, projetar novos tipos de criaturas, desenhar ecossistemas "no modo Deus" e observar a evolu√ß√£o em tempo real. <br><br>  Quanto √† parte t√©cnica, o progresso n√£o p√°ra: desde 2012, o paradigma de desenvolvimento mudou 4 vezes, passando gradualmente do conceito CUDA + JS descrito neste artigo para modelos de GPU ORM que funcionam completamente no lado da GPU e t√™m sua pr√≥pria linguagem de objetos para procedimentos armazenados. <br><br>  <b>S√≥ isso, obrigado pela aten√ß√£o!</b> <br><br>  Siga o desenvolvimento do projeto e apoie o desenvolvimento aqui: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://www.patreon.com/samadhi_toolbox</a> <br><br>  Ainda existem poucas postagens no blog, mas se houver assinantes, prometo public√°-las. Ao longo de sete anos, acumulei inescrupulosamente muito conte√∫do <br><br>  Em conclus√£o - uma pequena vis√£o de trabalho: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SMI4lyOYtNY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt458612/">https://habr.com/ru/post/pt458612/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt458600/index.html">O que s√£o bicicletas el√©tricas (revis√£o em grupo em duas partes de cinco modelos de dois fabricantes), parte 1</a></li>
<li><a href="../pt458602/index.html">Como perfuramos o grande firewall chin√™s (parte 1)</a></li>
<li><a href="../pt458604/index.html">Por que os dois maiores fabricantes de eletr√¥nicos uniram for√ßas em um novo projeto de GPU</a></li>
<li><a href="../pt458606/index.html">Execute o OpenVPN no Docker em 2 segundos</a></li>
<li><a href="../pt458608/index.html">Ferramentas de desenvolvedor do Node.js. Fila de tarefas</a></li>
<li><a href="../pt458614/index.html">Criando um gancho UsePosition () reativo para obter e rastrear coordenadas do navegador</a></li>
<li><a href="../pt458622/index.html">Automa√ß√£o para os mais pequenos. Parte um (que √© depois de zero). Virtualiza√ß√£o de rede</a></li>
<li><a href="../pt458624/index.html">Como aprendemos a desenhar textos em tela</a></li>
<li><a href="../pt458626/index.html">StealthWatch: conceitos b√°sicos e requisitos m√≠nimos. Parte 1</a></li>
<li><a href="../pt458630/index.html">Um pouco de hist√≥ria do desenvolvimento do seu jogo em Windows Forms + C # puro nos meus 16 anos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>