<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🎨 💍 🧑🏾‍🤝‍🧑🏻 智能插座REDMOND智能插头SkyPlug RSP-100S（第2部分）。插座的主要缺点及其消除 🛸 🙈 🖥️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="因此，最后，我“完成了”关于智能插座Redmond SkyPlug RSP-100S的第二部分。
 
 正如我在第一部分中所说-文章“智能插座Redmond SkyPlug RSP-100S。分析设计和电路图。 “缺陷识别”，我被迫画出这个插座的示意图以便完成。在我看来，我真的再也不喜欢这种智能插座...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>智能插座REDMOND智能插头SkyPlug RSP-100S（第2部分）。插座的主要缺点及其消除</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395883/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，最后，我“完成了”关于智能插座Redmond SkyPlug RSP-100S的第二部分。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正如我在第一部分中所说-文章</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“智能插座Redmond SkyPlug RSP-100S。分析设计和电路图。 “缺陷识别”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我被迫画出这个插座的示意图以便完成。在我看来，我真的再也不喜欢这种智能插座的主要缺点，而我在第一部分中并未谈到。实际上，我喜欢修改某些东西，工作中的同事甚至开玩笑说，如果某些东西不是我自己开发的，那么这不是我的东西。 :)</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我们将宣布这一缺点，并且，如果许多人没有想到这张图，那就是缺少自动电源。事实是nRF51822 IC具有实时时钟，并且它们可以工作，即它们仅在网络通电时才计算时间，因为没有内部电源，电池，电池甚至离子电阻器。这意味着，即使发生电源中断，即使是很短的时间，时钟也将被重置，之前保存的开/关程序将变得无关紧要。使用智能插座，我立即提请注意此缺点，并非常重视此缺点，因为我市的电力经常被切断。特别是在雷暴天气等情况下经常会停电。另一个缺点是套接字无法保存当前状态，如果在断电期间处于“开”状态，则在供电后开始在“关”状态下工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我不得不以某种方式不得不离开家几个星期，然后我请一个好人来我家喂鱼。有一天，她打电话给我，说水族馆的照明灯熄灭了。我问看微波炉的小时数是否显示了我收到答案的时间-不，这是我的断电指示器。我立即意识到断电，并且在恢复电源时，智能插座没有打开，因为它没有提供固件中最后状态的存储。但是即使存储了该条件，但由于缺少准确的时间，因此该条件可能无关紧要，例如，如果白天关闭了电源并在深夜恢复了电源，而不再需要在同一水族馆中照明，那么该条件就可能无关紧要。在这里，提出了修改智能插座并向其中引入一些自主电源的想法。为此，我需要找出工作原理，并因此了解智能插座的电路图：电源电压是什么，哪些组件，哪个蓝牙控制器，在哪里存储了开/关程序以及在何处计算了星期几和几天？和日期。套接字中所有逻辑的时序应该是内置的，因为通过智能手机的开/关程序是在一周中的某天和某个时间设置的，并且不总是支持与智能手机的蓝牙连接，因此，智能插座的时间和程序不会保持恒定的同步。作为第一部分中描述的工作的结果，我确定开/关程序存储在Bluetooth控制器本身的内存中，并且还具有实时时钟，并且当智能插座通过Bluetooth连接到智能手机时，时钟将同步。每次连接都会从智能手机获取时间。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，很明显，需要至少在几个小时内防止在电照明网络中断电，这只能通过引入上述设备来解决：电池，电池或电离晶体管。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1寻找离线电源的方法</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，我决定尝试最简单的事情-电离电阻器，因为该设备不需要输入任何充电电路，并且足以将其与Bluetooth控制器的电源输出并联连接，并且电离电阻器将从电源充电到该电源的电压。我焊接到XP1插头的底座的针脚1和4（我记得这个插头不在板上，但是有一个地方和孔，其中的极端针脚1和4是连接到蓝牙控制器电源电路的针脚，应该有电压3.3 V）。该离子电阻器已充电至Bluetooth控制器的电源电压，但在将智能插座与网络断开连接后，该离子电阻器在大约一分钟后放电。电离器积累的能量不足以维持几个小时的功率，因为有些情况下会停电1-2小时。我必须说，我放置的离子电阻不是很大，只有0.33 F，因为更大的容量，离子电阻已经具有相当不错的尺寸，将它们插入插座并不容易。而且，正如实践所示，即使将电离电阻置于1.0 F，它也不会持续到我们想要的时间，但是，当然，它非常适合短期停电。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在离子发生器之后，有一个想法，就是要像锂电池那样放置类似于计算机的电池，型号为CR2032，但尺寸不大，但较小，型号为CR1620。但是，这个想法几乎立即被消除了，因为电池寿命短-它会很快坐下并且无法充电，并且连接起来也很困难-将导体焊接到它上不是一个好主意，因为您可能会过热，它将失败。我在我的城市中找不到要出售的带有焊接端子的小型电池，但是即使这样做，我也必须每次都拆下插座或更换它，这会增加智能插座的尺寸并使其外观失去美观。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当我在寻找离子电阻器和电池时，在窗户上的一家无线电商店中，我注意到小型的Li-Pol电池，其形状为长方体，重要的是，我认为合适的尺寸。该商店的电池容量为20、40、65和100 mAh。然后我发现它似乎整体上最适合65 mAh，但是我仍然不得不再次看一下插座内部并评估电池下方的空间，以免因买错电池而感到失望，而且价格也很高：从200起最高可达350卢布，而邪恶的是65 mAh-最昂贵。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2根据电池使用自治电源</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于已决定放置电池，因此该电池的充电电路的应用以及蓝牙控制器芯片的电源供应存在问题，因为根据数据表，它的允许工作电压为3.6 V，充满电的Li-Pol电池可产生4.2 V的电压。要给电池充电，尤其是小容量电池，需要的电流很小，并且有必要制造一个具有电流限制的充电电路。 TP4056 IC的电路立即浮现在脑海。现成的手帕-锂离子电池充电器，基于这种微电路，我不久前在一个著名的站点订购，当它们到达时，它们并没有立即使用，而是安全地送到了盒子里，等待着他们的命运。他们不必等待其中至少之一。木板看起来像下面的照片，它包含TP4056 IC，模式指示LED和线束的其余部分。尽管该芯片也适用于锂离子电池，但我认为它也适用于锂离子电池。</font></font><br>
<br>
<img src="https://habrastorage.org/files/b88/7d9/524/b887d9524fe84d80a4ae8b6e800dbba0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图1-基于TP4056 IC的电池充电控制器</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
根据卖方网站上的描述，此实例设计用于1 A的充电电流，这可以通过安装在公共线路（IN-）和微电路的引脚2之间的施加的电阻值来解释，在该图中该电阻低于-1.2 kOhm，这对应于数据表的限制充电电流为1A。根据数据表，其中根据电阻额定值给出了充电电流表，我无法选择一个充电电流小于130 mA的电阻，该电流是电池容量的两倍，并且电池通常不使用电流充电大于0.2（其中C是电池容量）。在这种情况下，我建议电池容量为65 mAh的电池适合我，即C = 65 mAh，据此可确定13 mA的充电电流。为了确保这种电流限制，必须在公共线和微电路的引脚2之间选择一个电阻。根据可用的电阻器值和相应的电流，我制作了一个曲线图，在该图上，我有条件地沿着增加电阻器电阻的方向继续布线，并在所需电流下近似确定所需值，我选择了62 kOhm的电阻。然后，根据数据手册，从电源到TP4056 IC引脚（引脚4）的电阻应为0.2到0.5欧姆，但是​​由于板上的电阻为0欧姆（跳线），因此我决定遵循数据手册。从可用的小型表面电阻器中我发现了一对一的欧姆和两个1.5欧姆的欧姆，将它们全部并联焊接，从而获得了约0.43欧姆的电阻。老实说，我不知道为什么，这个电阻，因为从电路上看，这个电阻不是分流器，但也许是因为电池短路限制了电流。在此条件下，我有条件地沿着增加电阻器电阻的方向继续布线，并在所需电流下大致确定了所需的值，我选择了62 kOhm的电阻。然后，根据数据手册，从电源到TP4056 IC引脚（引脚4）的电阻应为0.2到0.5欧姆，但是​​由于板上的电阻为0欧姆（跳线），因此我决定遵循数据手册。从可用的小型表面电阻器中我发现了一对一的欧姆和两个1.5欧姆的欧姆，将它们全部并联焊接，从而获得了约0.43欧姆的电阻。老实说，我不知道为什么，这个电阻，因为从电路上看，这个电阻不是分流器，但也许是因为电池短路限制了电流。在此条件下，我有条件地沿着增加电阻器电阻的方向继续布线，并在所需电流下大致确定了所需的值，我选择了62 kOhm的电阻。然后，根据数据手册，从电源到TP4056 IC引脚（引脚4）的电阻应为0.2到0.5欧姆，但是​​由于板上的电阻为0欧姆（跳线），因此我决定遵循数据手册。从可用的小型表面电阻器中我发现了一对一的欧姆和两个1.5欧姆的欧姆，将它们全部并联焊接，从而获得了约0.43欧姆的电阻。老实说，我不知道为什么，这个电阻，因为从电路上看，这个电阻不是分流器，但也许是因为电池短路限制了电流。根据数据表，从电源到TP4056 IC引脚（引脚4）的电阻应为0.2到0.5欧姆，但是​​由于板上的电阻为0欧姆（跳线），因此我决定遵循我发现其中一个较小的表面电阻器，一个为1欧姆，另一个为1.5欧姆，将它们全部并联焊接，从而获得约0.43欧姆的电阻。老实说，我不知道为什么，这个电阻，因为从电路上看，这个电阻不是分流器，但也许是因为电池短路限制了电流。根据数据表，从电源到TP4056 IC引脚（引脚4）的电阻应为0.2到0.5欧姆，但是​​由于板上的电阻为0欧姆（跳线），因此我决定遵循我发现其中一个较小的表面电阻器，一个为1欧姆，另一个为1.5欧姆，将它们全部并联焊接，从而获得约0.43欧姆的电阻。老实说，我不知道为什么，这个电阻，因为从电路上看，这个电阻不是分流器，但也许是因为电池短路限制了电流。将它们全部并联焊接，从而获得约0.43欧姆的电阻。老实说，我不知道为什么，这个电阻，因为从电路来看，这个电阻不是分流器，但也许是因为电池短路限制了电流。将它们全部并联焊接，从而获得约0.43欧姆的电阻。老实说，我不知道为什么，这个电阻，因为从电路来看，这个电阻不是分流器，但也许是因为电池短路限制了电流。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
既然已经选择了电阻器并进行了焊接，则有必要从电荷控制板上切下多余的部分，即mini-USB连接器的焊接区域，该区域不允许将板插入盒中为其提供的空间中；如果被切下，则董事会显然放在我定义的位置。因此，我们拆除了mini-USB插座，以便使用金属剪刀将多余的东西剪掉更加方便。在图的下方，您可以看到板完成后的外观。</font></font><br>
<br>
<img src="https://habrastorage.org/files/d14/b37/3d3/d14b373d3af54b1bbd0843f75d4f72cb.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图2-修改后的电池充电控制器</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但在此图中，您可以看到可以在智能插座外壳中放置充电控制器板的位置：</font></font><br>
<br>
<img src="https://habrastorage.org/files/4ed/ee9/c9b/4edee9c9bf0249eda12f00a0a0e917ba.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图3-电池充电控制器在智能插座外壳中的放置位置</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后，出现以下问题。现在我们需要给充电控制器供电，因为智能插座的无变压器电源设计为12 V，在继电器关闭的模式下，根据数据表，TP4056充电控制器由不超过8 V的电源供电。因此，您不能直接对充电控制器充电，并且必须降低电压以确保TP4056正确运行。但是最好用5 V供电，因为这是一个更常见的电压，此外板上还有一个mini-USB插座，暗示5 V的电源。要获得5 V电压，我能想到的最简单和最小的事情是在SOT-23或SOT-89封装中放置一个线性稳压器，因为负载（充电）电流将不超过100 mA，为此通常设计这种小型稳定器。我决定使用现有的军火库中的SOT-89封装中的L78L05ABUTR微电路，但必须将其安装在某处，焊接这样的琐事充满了安装的麻烦-可能会得出结论，并且有可能在某处关闭某物，因为智能插座的板上没有太多可用空间。因此，他迅速为此芯片制作了一条手帕，并在其上提供了陶瓷电容器的安装方法。</font></font><br>
<br>
<img src="https://habrastorage.org/files/991/482/c2f/991482c2f12b44beb6999c6f4b403a4e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图4-5 V的线性稳压器</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，当有一个充电控制器和一个用于充电控制器的电源板时，我能够评估其安装位置，现在已经可以看到-需要装一个电池。我再次访问了那家商店，再次查看了所有内容，但是我选择了65 mAh的那块电池，如下图所示。</font></font><br>
<br>
<img src="https://habrastorage.org/files/b2e/d0f/864/b2ed0f864f2d4bf9b9feedc15952a444.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图5-Li-Pol电池LP451124 </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3电源系统的组件</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
现在有一个电池，一个充电电路，一个用于充电电路的稳压器，我们按相应的顺序将它们全部连接起来，并得到下图的设计。</font></font><br>
<br>
<img src="https://habrastorage.org/files/1fe/7a2/995/1fe7a2995c7246ed8a353872e4ccba0a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图6-带有充电控制器的电池</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们在工作中检查此装配体。我们向稳定器施加略高于5 V的电压，并查看稳定器输出端和电池上的电压。就我而言，一切都可以立即工作，充电电流流向电池，并且红色LED点亮。在经受了一点点并控制了充电电流之后，我得出结论，充电发生缓慢，因此有必要增加充电电流。我再次查看了电池的数据表，并说此电池的标准充电电流为0.5•C，相当于27.5 mA的电流。然后，我降低了电阻器的电阻，该电阻将充电电流设置为47 kOhm，从而为电池充电更快，并且控制器上的绿色LED点亮，表明充电已结束。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有一个电池，一个充电控制器和一个用于充电控制器的稳压器，现在我们需要考虑nRF51822蓝牙控制器的电源电路，以使其不超过3.6 V的电源电压，甚至最好不超过3.0-3.3 V制造商保证正常运行。为此，您可以想到的最简单和最小的方法是，通过两个1N4148型串联二极管将电池电压提供给其，每个二极管上会下降0.5-0.6 V，因此，在二极管上获得3.0-3的电压后， 2 V，这对于IC nRF51822的操作是可接受的。同样，当网络中存在电压时，二极管将不允许电池放电，作为智能插座本机电路一部分的线性稳定器DD1的输出将具有3.3 V的电压，结果，当网络中存在电压时，二极管将关闭，电压将不会流向电池，并且来自电池的电压也将不会流向nRF51822。即使在nRF51822的数据表中，也可以说最低工作电压为1.8 V，当电池放电至2.8-3 V时，这将使我们能够在网络中没有电源的情况下支持nRF51822的工作，这意味着实时时钟仍不会重置为零。会在断电之前保持在“开”或“关”状态，并且该状态将一直保持到程序运行，设置时间到或电池耗尽。即使在nRF51822的数据表中，也可以说最低工作电压为1.8 V，当电池放电至2.8-3 V时，这将使我们能够在网络中没有电源的情况下支持nRF51822的工作，这意味着实时时钟仍不会重置为零。会在断电之前保持在“开”或“关”状态，并且该状态将一直保持到程序运行，设置时间到或电池耗尽。即使在nRF51822的数据表中，也可以说最低工作电压为1.8 V，当电池放电至2.8-3 V时，这将使我们能够在网络中没有电源的情况下支持nRF51822的工作，这意味着实时时钟仍不会重置为零。会在断电之前保持在“开”或“关”状态，并且该状态将一直保持到程序运行，设置时间到或电池耗尽。并且该状态将一直保持到程序运行（如果时间到了），已设置时间或电池耗尽。并且该状态将一直保持到程序运行（如果时间到了），已设置时间或电池耗尽。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
具有自动电源的智能插座的电路电路我们正在构建改进的智能插座的新电路图，该智能插座是基于锂聚合物电池的自主电源。下图显示了该图。</font></font><br>
<br>
<img src="https://habrastorage.org/files/276/ce6/7cb/276ce67cb6c84f5f8bb4879adbc8db97.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图7-智能插座的电气改进示意图</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在该图中，其他1N4148类型的二极管具有位置标记D1和D2，并且在A1板上也用虚线圈出，以方便查找。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5根据电池安装自动电源系统。新型智能插座的组装</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
根据计划，应在智能插座板上安装其他二极管，然后将电池，充电控制器和稳定器安装在智能插座外壳中的规定位置，并焊接所有输入和输出。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们如下图所示设置电荷控制器和稳定器。我们只需将充电控制器板插入螺钉支架和插头下方插座突出部之间的空间中，将其相对紧地插入-不会挂出也不会弹出，然后将控制器的稳压板放在热熔胶上，并将元件朝插座。还可以看到，我用耐热胶带将接地支架粘合了一半，下面将对此进行清楚说明。</font></font><br>
<br>
<img src="https://habrastorage.org/files/816/84c/e02/81684ce024e84159a68c7863a43edcd0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图8-安装充电控制器我们</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将电池安装到位，如下图所示：</font></font><br>
<br>
<img src="https://habrastorage.org/files/004/403/8cd/0044038cd6284fbbbf97c9c849b95142.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图9-电池安装</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如图所示，电池安装在接地支架一侧的插槽的一个角上。为了绝缘，我在支架上粘贴了两层耐热胶带，首先，它隔离了电池端子，其次，将进行附加的相和接地绝缘，因为电池具有断相电压。相应极性的导体焊接到电池端子，电池端子从充电控制板引出，再从充电控制板引出，通过二极管向插座板为Bluetooth控制器供电，如电路图所示。我用热缩管用焊接导体将电池端子绝缘，并弯曲端子和外壳的一部分，使之与安装接地支架的插座底部成90°角，而不会剧烈移动。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
稳定器电源和电池输出的接线，以及附加二极管D1和D2的安装，如下图所示。</font></font><br>
<br>
<img src="https://habrastorage.org/files/1e0/748/fe4/1e0748fe47ba4812bedba86bc9d90649.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图10-电池电路和附加二极管的接线</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
电池，充电控制器和用于充电控制器的电压调节器的这种安装使您可以自由地组装插座，即组装后的电池和附加板完全不会干扰主板：没有任何休息，也无需担心。但是，出于可靠性考虑，我还是用耐热胶带绝缘了将接地线从接地支架焊接到负载接地支架的位置。另外，您还应注意挠性导体，在组装时必须将其塞入，以免它们穿过电源插头的触点孔。就我而言，也许有必要用热胶将它们抓住。顺便说一下，由于我使用的导线是MGTF-0.12导线，它足够坚固，可以进行高压击穿，并且在焊接时绝缘不会熔化。</font></font><br>
<br>
<img src="https://habrastorage.org/files/b9b/2ab/e13/b9b2abe139b348f290c6cdd8fb801bf0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图11-围绕插座开口的导线包装</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装电池后，我注意到，将负载接地的支架（如果将负载插头插入智能插座）会用力压在电池上，这可能会损坏电池或使电池短路，因此必须使用此支架。完成，即弯曲，如下图所示。</font></font><br>
<br>
<img src="https://habrastorage.org/files/34a/929/4b3/34a9294b375a4e889f480f011754d34f.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图12-形成接地支架的触点</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，您可以完全卸下此支架，但是如果使用三线电源网络，则接地更安全。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6已开发的智能插座的工作检查和初步测试</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，在完成工作和组装之后，我们有了一个更智能的插座，即有了电池和板上的充电控制器后，对停电的依赖性已经大大降低，即使在这种情况下，您也可以看到充电控制器LED的辉光，红色-电量已打开，绿色-电量已结束。</font></font><br>
<br>
<img src="https://habrastorage.org/files/e3b/72c/b7c/e3b72cb7c9124964aca76bb1c1b3bc41.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图13-充电模式指示</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
组装后，进行了测试并进行了充电，随着时间的推移，绿色LED点亮，表明充电已结束，实时时钟分别认为还支持状态``开''/``关''，但如果不是，则表示支持。事实证明，如果在电源故障期间处于“导通”状态，即VT2晶体管保持打开状态，则在网络恢复供电后，插座已打开，并且很明显VD6 LED处于“导通”状态，但是由于晶体管处于打开状态，则在供电时，二极管电桥输出的电流立即流经继电器线圈和晶体管，结果是电容器没有时间充电至12V，电压立即被挤压至5-6V，这不足以保证继电器工作。原来它似乎是处于“打开”状态的插座，并且继电器无法打开-电源很弱，因此有必要增加其功率。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7智能插座电源中的其他修改。最后的测试</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我开始找出在此插座中使用了哪种镇流电容器C3和C5，以便找到相同的电容器并在可能的情况下添加。我测量了它们的电容，每个电容约为0.47微法拉，总共约为1微法拉。但是无法测量电压，但根据电容器的大小和网络中的电压来判断，电压应该在400至500 V左右。这些电容器的典型大小对于此类电容器的电压为500 V，但根据</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Murata网站上的信息到类似的电容器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在大约220 V的电压下，这些电容器的电容远低于在低压下的标称值。由此清楚了为什么这些电容器不能提供足够的功率，从而在该电源的输出端没有明显的电压降。然后添加了电池充电电路，该电路还需要大约10-20 mA的电流，直到电池被充电。由于此类电容器在高压下的性能不佳，因此我决定尝试寻找一种尺寸至少为400 V且正常容量较小的小型金属膜电容器。我开始研究各种设备的旧板，并在其中一块板上发现了一个小型进口金属薄膜电容器，电压为450 V，容量为0.47 uF。</font></font><br>
<br>
<img src="https://habrastorage.org/files/100/eb8/cc1/100eb8cc192744dfae4a323b7d700f46.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图14-450 V金属膜电容器-0.47μF </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我拔出了这个电容器，检查了智能插座的电路板，结果发现那里有一个非常合适的地方。</font></font><br>
<br>
<img src="https://habrastorage.org/files/a9c/7b4/e9c/a9c7b4e9c6924ff297266d5f8c5655f8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图15-检查是否可以放置额外的电容器</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
电容器的高度和厚度与上图所示位置相同，因此决定使用它-与镇流电容器C3和C5并联焊接，并且可以用热熔粘合剂固定。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我将MGTF-0.2线段焊接到电容器的端子上，用热缩管和另外的热熔胶绝缘了焊锡丝的有害物质。然后，电容器用热熔胶将继电器粘到继电器上，并焊接平行于电容器C3的导体。</font></font><br>
<br>
<img src="https://habrastorage.org/files/e6b/22f/a8e/e6b22fa8ea04440d84c95eecc7d68dcc.jpg"><br>
<img src="https://habrastorage.org/files/ccc/295/fb7/ccc295fb7fdf4ad89035d006dea3f679.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
图16-安装额外的镇流电容器</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安装此电容器后，我立即检查了智能插座在这种接通状态下的可操作性，即，在“接通”状态下，我将此插座插入了网络，结果继电器工作，触点闭合，C4电容器端子上的电压设置为约9 V，这足够了用于启动继电器和操作插座的其余器官。当然，在此电压下，继电器线圈的电流消耗较高，这意味着插座的功率消耗有所增加，我用数字瓦特表测得的空载功率为2.2瓦。您可以尝试进行优化，并进一步尝试将电压降低到一定水平，以确保继电器能够正常工作，并且电流消耗将降至最低，但是在这一阶段，我还没有打扰，主要是现在有了一个自治电源插座，这意味着当市电电压出现故障时时钟才不会误入歧途，直到电池用完并且状态为“开”或“关”。还对电池寿命进行了长达10到11小时的实验，这足够了，因为在此期间或更长的时间内很少关闭电源。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
具有自动电源的智能插座</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
的最终电路</font><b><font style="vertical-align: inherit;">原理</font></b><font style="vertical-align: inherit;">那么，在进行所有修改之后，智能插座的最终电路如下所示：</font></font><br>
<br>
<img src="https://habrastorage.org/files/aba/bea/ba6/ababeaba6ccf455384d24249350efc3a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图17-具有自主电源的智能插座的</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
电路在该电路中，附加的镇流电容器</font><b><font style="vertical-align: inherit;">显示为C，与C并联</font></b><font style="vertical-align: inherit;">， Cb并虚线。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就这样，第二个出口，也许我会以某种方式完成它。</font><font style="vertical-align: inherit;">欢迎提出批评和建议。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
感谢您的关注！</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN395883/">https://habr.com/ru/post/zh-CN395883/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN395871/index.html">科学家警告大脑电刺激不良的副作用</a></li>
<li><a href="../zh-CN395873/index.html">科学家首先研究并描述了导致攻击倾向的大脑神经元链的激活机制</a></li>
<li><a href="../zh-CN395875/index.html">使用Grandstream VoIP网关删除电话线</a></li>
<li><a href="../zh-CN395879/index.html">讨论：HFT交易员喜欢他们的工作吗？</a></li>
<li><a href="../zh-CN395881/index.html">寄生虫（故事）</a></li>
<li><a href="../zh-CN395887/index.html">国际热核实验堆的建设提前完成。首次血浆计划于2025年</a></li>
<li><a href="../zh-CN395889/index.html">巨人的秘密生活</a></li>
<li><a href="../zh-CN395891/index.html">Sega Saturn游戏机20年后破解了DRM保护</a></li>
<li><a href="../zh-CN395893/index.html">新型IP-PBX Yeastar S20概述</a></li>
<li><a href="../zh-CN395895/index.html">Chimia：瑞士食品伪造品</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>