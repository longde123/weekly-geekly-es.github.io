<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∫üèΩ üë©üèæ‚Äç‚öñÔ∏è ‚ùóÔ∏è Test des projets Node.js. Partie 2. √âvaluation des performances des tests, int√©gration continue et analyse de la qualit√© du code ‚ò∏Ô∏è üöü üßúüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‚Üí Test des projets Node.js. Partie 1. Anatomie d'essai et types d'essai 

 Aujourd'hui, dans la deuxi√®me partie de la traduction du mat√©riel consacr√© ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Test des projets Node.js. Partie 2. √âvaluation des performances des tests, int√©gration continue et analyse de la qualit√© du code</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/435464/">  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Test des projets Node.js.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1. Anatomie d'essai et types d'essai</a> <br><br>  Aujourd'hui, dans la deuxi√®me partie de la traduction du mat√©riel consacr√© aux tests des projets Node.js, nous parlerons de l'√©valuation de l'efficacit√© des tests et de l'analyse de la qualit√© du code. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/f16/1a0/3e2/f161a03e2b08ae35b31f718a083a39a0.jpg" alt="image"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Section 3. √âvaluation de l'efficacit√© des tests</font> </h2><br><h3>  <font color="#3AC1EF">‚ñç19.</font>  <font color="#3AC1EF">Atteindre un niveau de couverture de code suffisamment √©lev√© avec des tests afin de gagner en confiance dans son bon fonctionnement.</font>  <font color="#3AC1EF">Habituellement, une couverture d'environ 80% donne de bons r√©sultats.</font> </h3><br><h4>  Recommandations </h4><br>  Le but des tests est de s'assurer que le programmeur peut continuer √† travailler de mani√®re productive sur le projet, en s'assurant que ce qui a d√©j√† √©t√© fait est correct.  √âvidemment, plus le volume du code test√© est grand, plus la confiance que tout fonctionne comme il se doit est forte.  L'indicateur de couverture du code par les tests indique le nombre de lignes (branches, commandes) v√©rifi√©es par les tests.  Quel devrait √™tre cet indicateur?  Il est clair que 10 √† 30% est trop peu pour donner l'assurance que le projet fonctionnera sans erreur.  D'autre part, le d√©sir de couvrir √† 100% le code avec des tests peut √™tre un plaisir trop cher et peut distraire le d√©veloppeur des fragments de programme les plus importants, le for√ßant √† rechercher dans le code les endroits o√π les tests existants n'atteignent pas.  Si vous donnez une r√©ponse plus compl√®te √† la question de savoir quelle devrait √™tre la couverture du code avec des tests, alors nous pouvons dire que l'indicateur auquel nous devons nous efforcer d√©pend de l'application en cours de d√©veloppement.  Par exemple, si vous √©crivez un logiciel pour la prochaine g√©n√©ration d'Airbus A380, alors 100% est un indicateur qui n'est m√™me pas discut√©.  Mais si vous cr√©ez un site Web sur lequel des galeries de caricature seront affich√©es, alors probablement 50%, c'est d√©j√† beaucoup.  Bien que les experts en tests disent que le niveau de couverture du code avec des tests que vous devez rechercher d√©pend du projet, beaucoup d'entre eux mentionnent le chiffre de 80%, qui convient probablement √† la plupart des applications.  Par exemple, nous parlons ici de quelque chose de l'ordre de 80 √† 90%, et, selon l'auteur de ce document, une couverture √† 100% du code avec des tests le rend suspect, car cela peut indiquer que le programmeur √©crit des tests uniquement pour obtenir beau num√©ro dans le rapport. <br><br>  Afin d'utiliser les indicateurs des tests de couverture de code, vous devrez configurer correctement votre syst√®me pour une int√©gration continue (CI, int√©gration continue).  Cela permettra, si l'indicateur correspondant n'atteint pas un certain seuil, d'arr√™ter le montage du projet.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voici comment</a> configurer Jest pour collecter les informations de couverture de test.  De plus, vous pouvez configurer des seuils de couverture non pas pour tout le code, mais en vous concentrant sur les composants individuels.  En plus de cela, envisagez de d√©tecter une diminution de la couverture des tests.  Cela se produit, par exemple, lors de l'ajout de nouveau code √† un projet.  Le contr√¥le de cet indicateur encouragera les d√©veloppeurs √† augmenter le volume du code test√©, ou au moins √† maintenir ce volume au niveau existant.  Compte tenu de ce qui pr√©c√®de, la couverture du code par des tests n'est qu'un indicateur, quantifi√©, qui ne suffit pas pour √©valuer pleinement la fiabilit√© des tests.  De plus, comme cela sera montr√© ci-dessous, ses niveaux √©lev√©s ne signifient pas encore que le code ¬´couvert de tests¬ª est vraiment v√©rifi√©. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  La confiance du programmeur dans la haute qualit√© du code et des indicateurs associ√©s li√©s aux tests va de pair.  Un programmeur ne peut s'emp√™cher d'avoir peur des erreurs s'il ne sait pas que la majeure partie du code de son projet est couverte par des tests.  Ces pr√©occupations peuvent ralentir votre projet. <br><br><h4>  Exemple </h4><br>  Voici √† quoi ressemble un rapport de couverture de test typique. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/96b/951/4fc/96b9514fc0e5d96553a4fc8551793d27.png"></div><br>  <i><font color="#999999">Rapport de couverture des tests g√©n√©r√© par Istanbul</font></i> <br><br><h4>  Bonne approche </h4><br>  Voici un exemple de d√©finition du niveau souhait√© de couverture de test du code composant et du niveau g√©n√©ral de cet indicateur dans Jest. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e23/feb/473/e23feb47399296324bb96b2109d4b360.jpg"></div><br>  <i><font color="#999999">D√©finition du niveau de couverture de code souhait√© avec des tests pour l'ensemble du projet et pour un composant sp√©cifique</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç20.</font>  <font color="#3AC1EF">Examiner les rapports sur la couverture du code avec des tests pour identifier les parties non prot√©g√©es du code et d'autres anomalies</font> </h3><br><h4>  Recommandations </h4><br>  Certains probl√®mes ont tendance √† passer √† travers une vari√©t√© de syst√®mes de d√©tection d'erreurs.  De telles choses peuvent √™tre difficiles √† d√©tecter √† l'aide d'outils traditionnels.  Cela ne s'applique peut-√™tre pas aux vraies erreurs.  Nous parlons plut√¥t d'un comportement d'application inattendu, qui peut avoir des cons√©quences d√©vastatrices.  Par exemple, il arrive souvent que certains fragments de code ne soient jamais utilis√©s ou soient rarement appel√©s.  Par exemple, vous pensez que les m√©canismes de la classe <code>PricingCalculator</code> toujours utilis√©s pour fixer le prix d'un produit, mais en fait il s'av√®re que cette classe n'est pas utilis√©e du tout, et il y a des enregistrements de 10000 produits dans la base de donn√©es et dans la boutique en ligne o√π le syst√®me est utilis√©, beaucoup de ventes ... Les rapports sur la couverture du code avec des tests aident le d√©veloppeur √† comprendre si l'application fonctionne comme elle devrait fonctionner.  De plus, √† partir des rapports, vous pouvez savoir quel code de projet n'est pas test√©.  Si vous vous concentrez sur un indicateur g√©n√©ral qui indique que les tests couvrent 80% du code, vous ne pouvez pas savoir si des parties critiques de l'application sont test√©es.  Pour g√©n√©rer un tel rapport, il suffit de configurer correctement l'outil que vous utilisez pour ex√©cuter les tests.  De tels rapports sont g√©n√©ralement assez jolis, et leur analyse, qui ne prend pas beaucoup de temps, vous permet de d√©tecter toutes sortes de surprises. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  Si vous ne savez pas quelles parties de votre code restent non test√©es, vous ne savez pas o√π vous pouvez vous attendre √† des probl√®mes. <br><br><h4>  Mauvaise approche </h4><br>  Examinez le prochain rapport et r√©fl√©chissez √† ce qui semble inhabituel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ce/883/889/1ce88388923499c997c6fdc4606d3c10.png"></div><br>  <i><font color="#999999">Rapport indiquant un comportement inhabituel du syst√®me</font></i> <br><br>  Le rapport est bas√© sur un sc√©nario r√©el d'utilisation de l'application et vous permet de voir le comportement inhabituel du programme associ√© aux utilisateurs se connectant au syst√®me.  √Ä savoir, un nombre √©tonnamment √©lev√© de tentatives infructueuses pour entrer dans le syst√®me attire votre attention par rapport √† celles qui ont r√©ussi.  Apr√®s analyse du projet, il s'est av√©r√© que la raison en √©tait une erreur dans le frontend, en raison de laquelle la partie interface du projet envoyait constamment des demandes correspondantes √† l'API du serveur pour entrer dans le syst√®me. <br><br><h3>  <font color="#3AC1EF">‚ñç21.</font>  <font color="#3AC1EF">Mesurer la couverture du code logique avec des tests √† l'aide de tests de mutation</font> </h3><br><h4>  Recommandations </h4><br>  Les param√®tres d'analyse comparative traditionnels peuvent ne pas √™tre fiables.  Ainsi, dans le rapport, il peut y avoir un chiffre de 100%, mais en m√™me temps, absolument toutes les fonctions du projet renverront des valeurs incorrectes.  Comment expliquer √ßa?  Le fait est que l'indicateur de couverture du code par les tests n'indique que les lignes de code qui ont √©t√© ex√©cut√©es sous le contr√¥le du syst√®me de test, mais cela ne d√©pend pas de savoir si quelque chose a √©t√© vraiment v√©rifi√©, c'est-√†-dire si les d√©clarations du test ont √©t√© visant √† v√©rifier l'exactitude des r√©sultats du code.  Cela ressemble √† une personne qui, de retour d'un voyage d'affaires √† l'√©tranger, montre des tampons dans son passeport.  Les timbres prouvent qu'il est all√© quelque part, mais ils ne disent pas s'il a fait ce qu'il est all√© en voyage d'affaires. <br><br>  Ici, les tests de mutation peuvent nous √™tre utiles, ce qui nous permet de savoir combien de code a √©t√© r√©ellement test√©, et pas seulement visit√© par le syst√®me de test.  Pour les tests mutationnels, vous pouvez utiliser la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Stryker</a> JS.  Voici les principes selon lesquels cela fonctionne: <br><br><ol><li>  Elle modifie intentionnellement le code, cr√©ant des erreurs.  Par exemple, le code <code>newOrder.price===0</code> devient <code>newOrder.price!=0</code> .  Ces ¬´erreurs¬ª sont appel√©es mutations. </li><li>  Elle ex√©cute des tests.  S'ils s'av√®rent √™tre r√©ussis, alors nous avons des probl√®mes, car les tests ne remplissent pas leur t√¢che de d√©tection des erreurs, et les ¬´mutants¬ª, comme on dit, ¬´survivent¬ª.  Si les tests indiquent des erreurs dans le code, alors tout est en ordre - les "mutants" "meurent". </li></ol><br>  S'il s'av√®re que tous les "mutants" ont √©t√© "tu√©s" (ou, du moins, la plupart d'entre eux n'ont pas surv√©cu), cela donne un niveau de confiance plus √©lev√© dans la haute qualit√© du code et les tests qui le testent que les mesures traditionnelles pour couvrir le code avec des tests.  Dans le m√™me temps, le temps requis pour configurer et effectuer des tests mutationnels est comparable √† celui n√©cessaire lors de l'utilisation de tests conventionnels. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  Si l'indicateur traditionnel de couverture du code par des tests indique que 85% du code est couvert par des tests, cela ne signifie pas que les tests sont capables de d√©tecter des erreurs dans ce code. <br><br><h4>  Mauvaise approche </h4><br>  Voici un exemple de couverture √† 100% du code avec des tests, dans lequel le code n'est pas compl√®tement test√©. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addNewOrder</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">newOrder</span></span></span><span class="hljs-function">) </span></span>{   logger.log(<span class="hljs-string"><span class="hljs-string">`Adding new order </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${newOrder}</span></span></span><span class="hljs-string">`</span></span>);   DB.save(newOrder);   Mailer.sendMail(newOrder.assignee, <span class="hljs-string"><span class="hljs-string">`A new order was places </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${newOrder}</span></span></span><span class="hljs-string">`</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">approved</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}; } it(<span class="hljs-string"><span class="hljs-string">"Test addNewOrder, don't use such test names"</span></span>, () =&gt; {   addNewOrder({<span class="hljs-attr"><span class="hljs-attr">asignee</span></span>: <span class="hljs-string"><span class="hljs-string">"John@mailer.com"</span></span>,<span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">120</span></span>}); });<span class="hljs-comment"><span class="hljs-comment">//    100%, ,   ,    </span></span></code> </pre> <br><h4>  Bonne approche </h4><br>  Voici le rapport de test de mutation g√©n√©r√© par la biblioth√®que Stryker.  Il vous permet de savoir combien de code n'est pas test√© (cela est indiqu√© par le nombre de "mutants" "survivants"). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/037/f6c/9c0/037f6c9c038e09d219c1d06a1b255e4c.jpg"></div><br>  <i><font color="#999999">Rapport Stryker</font></i> <br><br>  Les r√©sultats de ce rapport permettent avec plus de confiance que les indicateurs habituels de couverture du code avec des tests de dire que les tests fonctionnent comme pr√©vu. <br><br><ul><li>  Une mutation est un code qui a √©t√© d√©lib√©r√©ment modifi√© par la biblioth√®que Stryker pour tester l'efficacit√© d'un test. </li><li>  Le nombre de ¬´mutants¬ª (tu√©s) ¬´tu√©s¬ª indique le nombre de d√©fauts de code (¬´mutants¬ª) cr√©√©s intentionnellement qui ont √©t√© identifi√©s au cours des tests. </li><li>  Le nombre de ¬´mutants¬ª ¬´surv√©cus¬ª (surv√©cu) vous permet de savoir combien de tests de d√©fauts de code n'ont pas trouv√©s. </li></ul><br><h2>  <font color="#3AC1EF">Section 4. Int√©gration continue, autres indicateurs de qualit√© du code</font> </h2><br><h3>  <font color="#3AC1EF">‚ñç 22.</font>  <font color="#3AC1EF">Profitez des capacit√©s de linter et interrompez le processus de construction du projet lorsqu'il d√©tecte les probl√®mes signal√©s</font> </h3><br><h4>  Recommandations </h4><br>  Aujourd'hui, les linters sont des outils puissants qui peuvent identifier de graves probl√®mes de code.  Il est recommand√©, en plus de quelques r√®gles de base de linting (telles que celles impl√©ment√©es par les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugins eslint-plugin-standard</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-config-airbnb</a> ), d'utiliser des r√®gles sp√©cialis√©es.  Par exemple, ce sont les r√®gles impl√©ment√©es au moyen du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin eslint-plugin-chai-expect</a> pour v√©rifier l'exactitude du code de test, ce sont les r√®gles du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin eslint-plugin-promise</a> qui contr√¥lent le travail avec les promesses, ce sont les r√®gles de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eslint-plugin-security</a> qui v√©rifient la pr√©sence du code il contient des expressions r√©guli√®res dangereuses.  Ici, vous pouvez √©galement mentionner le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plug-in eslint-plugin-you-dont-need-lodash-underscore</a> , qui vous permet de trouver dans le code l'utilisation de m√©thodes provenant de biblioth√®ques externes qui ont des analogues en JavaScript pur. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  Un jour de pluie est arriv√©, le projet donne des √©checs continus de production et il n'y a aucune information sur les piles d'erreurs dans les journaux.  Qu'est-il arriv√©?  Il s'est av√©r√© que ce que le code l√®ve comme exception n'est pas vraiment un objet d'erreur.  Par cons√©quent, les informations sur la pile n'entrent pas dans les journaux.  En fait, dans une telle situation, le programmeur peut tuer contre le mur ou, ce qui est beaucoup mieux, passer 5 minutes √† configurer le linter, ce qui d√©tectera facilement le probl√®me et assurera le projet contre des probl√®mes similaires qui pourraient survenir √† l'avenir. <br><br><h4>  Mauvaise approche </h4><br>  Voici le code qui, par inadvertance, l√®ve un objet ordinaire comme exception, alors qu'ici vous avez besoin d'un objet de type <code>Error</code> .  Sinon, les donn√©es sur la pile ne seront pas enregistr√©es dans le journal.  ESLint trouve ce qui pourrait causer des probl√®mes de production, aidant √† √©viter ces probl√®mes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6a/d40/bc0/d6ad40bc0f5e0c09840e3b52e2b878a6.jpg"></div><br>  <i><font color="#999999">ESLint vous aide √† trouver un bogue dans votre code</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç23.</font>  <font color="#3AC1EF">Retour d'information plus rapide avec les d√©veloppeurs utilisant l'int√©gration continue locale</font> </h3><br><h4>  Recommandations </h4><br>  Vous utilisez un syst√®me centralis√© d'int√©gration continue, qui aide √† contr√¥ler la qualit√© du code, √† le tester, √† l'aide du linter, √† le rechercher des vuln√©rabilit√©s?  Si tel est le cas, assurez-vous que les d√©veloppeurs peuvent ex√©cuter ce syst√®me localement.  Cela leur permettra de v√©rifier instantan√©ment leur code, ce qui acc√©l√®re les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">commentaires</a> et r√©duit le temps de d√©veloppement du projet.  Pourquoi en est-il ainsi?  Un processus de d√©veloppement et de test efficace implique de nombreuses op√©rations r√©p√©t√©es cycliquement.  Le code est test√©, puis le d√©veloppeur re√ßoit un rapport, puis, si n√©cessaire, le code est refactoris√©, apr√®s quoi tout est r√©p√©t√©.  Plus la boucle de r√©troaction fonctionne rapidement, plus les d√©veloppeurs re√ßoivent rapidement des rapports sur les tests de code, plus ils peuvent effectuer d'it√©rations d'am√©lioration de ce code.  S'il faut beaucoup de temps pour obtenir un rapport de test, cela peut entra√Æner une mauvaise qualit√© du code.  Supposons que quelqu'un travaille sur un module, puis commence √† travailler sur autre chose, puis re√ßoive un rapport sur le module, ce qui indique que le module doit √™tre am√©lior√©.  Cependant, d√©j√† occup√© par des sujets compl√®tement diff√©rents, le d√©veloppeur ne fera pas assez attention au module probl√®me. <br><br>  Certains fournisseurs de solutions CI (disons que cela s'applique √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CircleCI</a> ) vous permettent d'ex√©cuter le pipeline CI localement.  Certains outils payants, comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wallaby.js</a> (l'auteur note qu'il n'est pas connect√© √† ce projet), peuvent rapidement obtenir des informations pr√©cieuses sur la qualit√© du code.  De plus, le d√©veloppeur peut simplement ajouter le script npm appropri√© √† <code>package.json</code> , qui effectue des v√©rifications de la qualit√© du code (tests, analyses avec un linter, recherche des vuln√©rabilit√©s), et utilise m√™me le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">simultan√©ment</a> pour acc√©l√©rer les v√©rifications.  Maintenant, afin de v√©rifier compl√®tement le code, il suffira d'ex√©cuter une seule commande, comme la <code>npm run quality</code> , et d'obtenir imm√©diatement un rapport.  De plus, si les tests de code indiquent qu'il a des probl√®mes, vous pouvez annuler les validations √† l'aide de git hooks (la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">husky</a> peut √™tre utile pour r√©soudre ce probl√®me). <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  Si un d√©veloppeur re√ßoit un rapport sur la qualit√© du code un jour apr√®s avoir √©crit ce code, un tel rapport est susceptible de se transformer en quelque chose comme un document formel, et les tests de code seront dissoci√©s du travail, ne devenant pas sa partie naturelle. <br><br><h4>  Bonne approche </h4><br>  Voici un script npm qui v√©rifie la qualit√© du code.  La r√©alisation des v√©rifications est parall√©lis√©e.  Le script est ex√©cut√© lors de la tentative d'envoi de nouveau code au r√©f√©rentiel.  De plus, le d√©veloppeur peut le lancer de sa propre initiative. <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: {   <span class="hljs-string"><span class="hljs-string">"inspect:sanity-testing"</span></span>: <span class="hljs-string"><span class="hljs-string">"mocha **/**--test.js --grep \"sanity\""</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint ."</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:vulnerabilities"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm audit"</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:license"</span></span>: <span class="hljs-string"><span class="hljs-string">"license-checker --failOn GPLv2"</span></span>,   <span class="hljs-string"><span class="hljs-string">"inspect:complexity"</span></span>: <span class="hljs-string"><span class="hljs-string">"plato ."</span></span>,     <span class="hljs-string"><span class="hljs-string">"inspect:all"</span></span>: <span class="hljs-string"><span class="hljs-string">"concurrently -c \"bgBlue.bold,bgMagenta.bold,yellow\" \"npm:inspect:quick-testing\" \"npm:inspect:lint\" \"npm:inspect:vulnerabilities\" \"npm:inspect:license\""</span></span> }, <span class="hljs-string"><span class="hljs-string">"husky"</span></span>: {   <span class="hljs-string"><span class="hljs-string">"hooks"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"precommit"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run inspect:all"</span></span>,     <span class="hljs-string"><span class="hljs-string">"prepush"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run inspect:all"</span></span>   } }</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç24.</font>  <font color="#3AC1EF">Effectuer des tests de bout en bout sur un miroir d'environnement de production r√©aliste</font> </h3><br><h4>  Recommandations </h4><br>  Dans le vaste √©cosyst√®me de Kubernetes, il existe toujours un consensus pour utiliser des outils adapt√©s au d√©ploiement des environnements locaux, bien que de tels outils apparaissent assez souvent.  Une approche possible ici consiste √† ex√©cuter un Kubernetes ¬´minimis√©¬ª √† l'aide d'outils tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Minikube</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MicroK8</a> , qui vous permettent de cr√©er des environnements l√©gers qui ressemblent √† de vrais.  Une autre approche consiste √† tester des projets dans un environnement Kubernetes ¬´r√©el¬ª distant.  Certains fournisseurs de CI (tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Codefresh</a> ) permettent d'interagir avec les environnements int√©gr√©s de Kubernetes, ce qui simplifie le travail des pipelines de CI lors du test de projets r√©els.  D'autres vous permettent de travailler avec des environnements Kubernetes distants. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  L'utilisation de diff√©rentes technologies dans la production et les tests n√©cessite le support de deux mod√®les de d√©veloppement et conduit √† la s√©paration des √©quipes de programmeurs et de sp√©cialistes DevOps. <br><br><h4>  Bonne approche </h4><br>  Voici un exemple de cha√Æne CI, qui, comme on dit, cr√©e √† la vol√©e un cluster Kubernetes (c'est tir√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'ici</a> ). <br><br><pre> <code class="javascript hljs">deploy: stage: deploy image: registry.gitlab.com/gitlab-examples/kubernetes-deploy script: - ./configureCluster.sh $KUBE_CA_PEM_FILE $KUBE_URL $KUBE_TOKEN - kubectl create ns $NAMESPACE - kubectl create secret -n $NAMESPACE docker-registry gitlab-registry --docker-server=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY"</span></span> --docker-username=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY_USER"</span></span> --docker-password=<span class="hljs-string"><span class="hljs-string">"$CI_REGISTRY_PASSWORD"</span></span> --docker-email=<span class="hljs-string"><span class="hljs-string">"$GITLAB_USER_EMAIL"</span></span> - mkdir .generated - echo <span class="hljs-string"><span class="hljs-string">"$CI_BUILD_REF_NAME-$CI_BUILD_REF"</span></span> - sed -e <span class="hljs-string"><span class="hljs-string">"s/TAG/$CI_BUILD_REF_NAME-$CI_BUILD_REF/g"</span></span> templates/deals.yaml | tee <span class="hljs-string"><span class="hljs-string">".generated/deals.yaml"</span></span> - kubectl apply --namespace $NAMESPACE -f .generated/deals.yaml - kubectl apply --namespace $NAMESPACE -f templates/my-sock-shop.yaml environment: name: test-<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>-ci</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç25.</font>  <font color="#3AC1EF">S'efforcer de parall√©liser l'ex√©cution des tests</font> </h3><br><h4>  Recommandations </h4><br>  Si le syst√®me de test est bien organis√©, il deviendra votre ami fid√®le, 24 heures sur 24, pr√™t √† signaler les probl√®mes avec le code.  Pour ce faire, les tests doivent √™tre effectu√©s tr√®s rapidement.  En pratique, il s'av√®re que l'ex√©cution en mode unitaire 500 tests unitaires qui utilisent intensivement le processeur prend trop de temps.  Et ces tests doivent √™tre effectu√©s assez souvent.  Heureusement, les outils modernes pour ex√©cuter des tests ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jest</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AVA</a> , une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extension pour Mocha</a> ) et les plates-formes CI peuvent ex√©cuter des tests en parall√®le en utilisant plusieurs processus, ce qui peut consid√©rablement am√©liorer la vitesse de r√©ception des rapports de test.  Certaines plateformes CI savent m√™me comment parall√©liser les tests entre les conteneurs, ce qui am√©liore encore la boucle de r√©troaction.  Pour r√©ussir √† parall√©liser l'ex√©cution des tests, locaux ou distants, les tests ne doivent pas d√©pendre les uns des autres.  Les tests autonomes peuvent √™tre ex√©cut√©s sans probl√®me dans diff√©rents processus. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  Obtenir des r√©sultats de test une heure apr√®s l'envoi du code au r√©f√©rentiel tout en travaillant sur de nouvelles fonctionnalit√©s de projet est un excellent moyen de r√©duire l'utilit√© des r√©sultats de test. <br><br><h4>  Bonne approche </h4><br>  Gr√¢ce √† l'ex√©cution parall√®le de tests, la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mocha-parallel-test</a> et le framework <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jest</a> contournent facilement Mocha ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">c'est la</a> source de cette information). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c5f/aa2/e8e/c5faa2e8ee900ae5d3447d510bc1bf8f.png"></div><br>  <i><font color="#999999">Tester les outils de test de performance</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç26.</font>  <font color="#3AC1EF">Prot√©gez-vous contre les probl√®mes juridiques en utilisant la v√©rification de licence et la v√©rification du code de plagiat</font> </h3><br><h4>  Recommandations </h4><br>  Peut-√™tre que maintenant vous n'√™tes pas particuli√®rement pr√©occup√© par les probl√®mes avec la loi et le plagiat.  Cependant, pourquoi ne pas rechercher des probl√®mes similaires dans votre projet?  Il existe de nombreux outils pour organiser de telles inspections.  Par exemple, ce sont le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">v√©rificateur de licence et le v√©rificateur de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plagiat</a> (il s'agit d'un package commercial, mais il est possible de l'utiliser gratuitement).  Il est facile d'int√©grer de telles v√©rifications dans le pipeline CI et de v√©rifier le projet, par exemple, pour la pr√©sence de d√©pendances avec des licences limit√©es, ou pour la pr√©sence de code copi√© √† partir de StackOverflow et portant probablement atteinte aux droits d'auteur de quelqu'un d'autre. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  Le d√©veloppeur peut, par inadvertance, utiliser le package avec une licence qui ne convient pas √† son projet, ou copier le code commercial, ce qui peut entra√Æner des probl√®mes juridiques. <br><br><h4>  Bonne approche </h4><br>  Installez le package de v√©rificateur de licence localement ou dans un environnement CI: <br><br><pre> <code class="javascript hljs">npm install -g license-checker</code> </pre> <br>  Nous v√©rifierons les licences avec lui et s'il trouve quelque chose qui ne nous convient pas, nous reconna√Ætrons que le ch√®que a √©chou√©.  Le syst√®me CI, apr√®s avoir d√©tect√© un probl√®me lors de la v√©rification des licences, arr√™tera l'assemblage du projet. <br><br><pre> <code class="javascript hljs">license-checker --summary --failOn BSD</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/791/cde/326/791cde326f7185df4c78479ef4ab5757.png"></div><br>  <i><font color="#999999">V√©rification de licence</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç27.</font>  <font color="#3AC1EF">V√©rifier constamment le projet pour les d√©pendances vuln√©rables</font> </h3><br><h4>  Recommandations </h4><br>  M√™me les packages hautement respect√©s et fiables, tels qu'Express, pr√©sentent des vuln√©rabilit√©s.  Afin d'identifier ces vuln√©rabilit√©s, vous pouvez utiliser des outils sp√©ciaux - comme l'outil standard pour l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">audit des packages npm</a> ou le projet commercial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">snyk</a> , qui a une version gratuite.  Ces v√©rifications, ainsi que d'autres, peuvent faire partie du pipeline CI. <br><br><h4>  Cons√©quences de la d√©rogation aux recommandations </h4><br>  Afin de prot√©ger votre projet contre les vuln√©rabilit√©s de ses d√©pendances sans utiliser d'outils sp√©ciaux, vous devrez surveiller en permanence les publications sur ces vuln√©rabilit√©s.  C'est une t√¢che qui prend beaucoup de temps. <br><br><h4>  Bonne approche </h4><br>  Voici les r√©sultats de la v√©rification du projet √† l'aide de NPM Audit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/da1/3a9/9d5da13a900a066fbc6c15aba2cc0a0d.png"></div><br>  <i><font color="#999999">Rapport du package de v√©rification de la vuln√©rabilit√©</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç28.</font>  <font color="#3AC1EF">Automatiser les mises √† jour des d√©pendances</font> </h3><br><h4>  Recommandations </h4><br>  La route de l'enfer est pav√©e de bonnes intentions.  Cette id√©e est pleinement applicable au <code>package-lock.json</code> , dont l'utilisation, par d√©faut, bloque les mises √† jour des packages.  Cela se produit m√™me dans les cas o√π les projets sont amen√©s √† un √©tat sain par les commandes <code>npm install</code> et <code>npm update</code> .  Cela conduit, au mieux, √† l'utilisation de packages obsol√®tes, ou, au pire, √† l'apparition de code vuln√©rable dans le projet.  En cons√©quence, les √©quipes de d√©veloppement s'appuient soit sur une mise √† jour manuelle des informations sur les versions appropri√©es des packages, soit sur des utilitaires comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ncu</a> , qui, l√† encore, sont lanc√©s manuellement.  Le processus de mise √† jour des d√©pendances est mieux automatis√©, en se concentrant sur l'utilisation des versions les plus fiables des packages utilis√©s dans le projet.  Ce n'est pas la seule bonne solution, cependant, dans l'automatisation des mises √† jour de packages, il existe quelques approches notables.  La premi√®re consiste √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">injecter</a> quelque chose comme la v√©rification des packages en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm-obsol√®te</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">npm-check-updates</a> (ncu) dans le pipeline CI.  Cela aidera √† identifier les packages obsol√®tes et encouragera les d√©veloppeurs √† les mettre √† niveau.  La deuxi√®me approche consiste √† utiliser des outils commerciaux qui v√©rifient le code et effectuent automatiquement des requ√™tes d'extraction visant √† mettre √† jour les d√©pendances.  Dans le domaine de la mise √† jour automatique des d√©pendances, nous sommes confront√©s √† une autre question int√©ressante concernant la politique de mise √† jour.  Si elle est mise √† jour avec chaque nouveau patch, la mise √† jour peut mettre trop de pression sur le syst√®me.  Si vous mettez √† jour imm√©diatement apr√®s la publication de la prochaine version majeure du package, cela peut conduire √† l'utilisation de solutions instables dans le projet (les vuln√©rabilit√©s de nombreux packages se trouvent exactement dans les tout premiers jours apr√®s la publication, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lisez</a> l'incident avec eslint-scope).         ¬´ ¬ª,             ,    . ,      1.3.1,             1.3.2,      1.3.8. <br><br><h4>     </h4><br>       ,    ,        ,     . <br><br><h4>   </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ncu</a>     ,   ,   ,       . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6e/b2a/dcf/e6eb2adcf8720657a4e5c09c34691704.png"></div><br> <i><font color="#999999">   ncu</font></i> <br><br><h3> <font color="#3AC1EF">‚ñç29.        ,     Node.js</font> </h3><br><h4>  </h4><br>       ,     Node.js-,     ,   Node.js  . <br><br><ol><li>   .     ‚Äî   , , ,    Jenkins      . </li><li>  ,  Docker. </li><li>       . ,    ,      .    (,    ),       , ,  ,     . </li><li>   ,    ,      ,    .  ‚Äî   ,    ,   ,      . </li><li>     ,     . ,          feature,    ‚Äî   master, ,                 (   ). </li><li>        .        ,    . </li><li>     . </li><li>         (,     Docker)  . </li><li>     , ,  ,  . ,        <code>node_modules</code> . </li></ol><br><h4>     </h4><br>      ,     ,     . <br><br><h3> <font color="#3AC1EF">‚ñç30.    </font> </h3><br><h4>  </h4><br>      ,      .     ,      , ,    Node.js    ,            .  CI-,    ,    ¬´ ¬ª. ,      ,    ,   . , ,      mySQL,   ‚Äî Postgres.   ,        Node.js,  ‚Äî 8, 9  10.          ,     .     CI-. <br><br><h4>     </h4><br>         ,     ,    ,      . ,  ,     . <br><br><h4>   </h4><br>    CI- Travis        Node.js. <br><br><pre> <code class="javascript hljs">language: node_js node_js: - <span class="hljs-string"><span class="hljs-string">"7"</span></span> - <span class="hljs-string"><span class="hljs-string">"6"</span></span> - <span class="hljs-string"><span class="hljs-string">"5"</span></span> - <span class="hljs-string"><span class="hljs-string">"4"</span></span> install: - npm install script: - npm run test</code> </pre> <br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>      ,    ,       . ,   ,     . <br><br>  <b>Chers lecteurs!</b>      ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr435464/">https://habr.com/ru/post/fr435464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr435452/index.html">Test de bout en bout des microservices avec Catcher</a></li>
<li><a href="../fr435454/index.html">AOP vs fonctionnalit√©s</a></li>
<li><a href="../fr435456/index.html">Est-il dangereux de laisser un smartphone √† c√¥t√© de vous la nuit?</a></li>
<li><a href="../fr435460/index.html">Coworkidea Coworking Photo Tour (Barcelone)</a></li>
<li><a href="../fr435462/index.html">Test des projets Node.js. Partie 1. Anatomie d'essai et types d'essai</a></li>
<li><a href="../fr435466/index.html">Tutoriel React Partie 6: Quelques fonctionnalit√©s du cours, JSX et JavaScript</a></li>
<li><a href="../fr435468/index.html">Tutoriel React, partie 7: styles en ligne</a></li>
<li><a href="../fr435470/index.html">Tutoriel React, Partie 8: Poursuite des travaux sur une application TODO, pr√©sentation des propri√©t√©s des composants</a></li>
<li><a href="../fr435476/index.html">Mkcert: certificats HTTPS valides pour localhost</a></li>
<li><a href="../fr435480/index.html">Microsoft et Kroger vont combattre Amazon dans le domaine ... le commerce des aliments</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>