<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé∂ üë®üèº‚Äçüöí ‚õ±Ô∏è Como ajudei Alice a n√£o responder a outros nomes. Est√°gio Yandex ‚¨úÔ∏è üëºüèª üò•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi Habr. Meu nome √© Aleksey Rak, sou desenvolvedor da assistente de voz Alice no escrit√≥rio de Yandex em Minsk. Eu consegui essa posi√ß√£o indo para a m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como ajudei Alice a n√£o responder a outros nomes. Est√°gio Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/438768/">  Oi Habr.  Meu nome √© Aleksey Rak, sou desenvolvedor da assistente de voz Alice no escrit√≥rio de Yandex em Minsk.  Eu consegui essa posi√ß√£o indo para a mesma equipe para um est√°gio de tr√™s meses no ano passado.  Eu vou falar sobre ela.  Se voc√™ quiser tentar voc√™ mesmo, aqui est√° um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link para o est√°gio de 2019</a> . <br><br><img src="https://habrastorage.org/webt/4b/9m/2c/4b9m2c6ys4-cfjxicgd3-2kc2fw.jpeg"><br><br><a name="habracut"></a><h4>  Como eu me acomodei </h4><br>  Sou estudante do 4¬∫ ano da BSU, em 2018 me formei na Escola de An√°lise de Dados, vivo e moro em Minsk. <br><br>  Primeiro, eu, como outros graduados da SHAD, recebi um link para um est√°gio em 2018.  Dentro de uma semana ap√≥s o envio do question√°rio, era necess√°rio alocar tempo, 6 horas seguidas, para concluir o concurso on-line.  Continha tarefas sobre a teoria das probabilidades, a capacidade de codificar e criar algoritmos.  Foi poss√≠vel escrever o c√≥digo no idioma em que voc√™ sabe.  Escrevi v√°rias tarefas em C ++, v√°rias em Python, escolhi a linguagem dependendo da facilidade de uso para uma tarefa espec√≠fica. <br><br>  Quando voc√™ envia uma decis√£o, um veredicto chega imediatamente, ap√≥s o qual a tarefa pode ser resolvida novamente para obter uma resposta mais correta.  Demorei algumas horas para concluir todas as tarefas. N√£o resolvi alguns dos problemas na primeira tentativa. <br><br>  Alguns dias depois, os recrutadores entraram em contato comigo e pediram uma primeira entrevista presencial no escrit√≥rio de Minsk.  Foi com Alexei Kolesov - o chefe da equipe de modelos ac√∫sticos e biom√©tricos, onde eu tive que trabalhar.  A entrevista consistiu em resolver problemas em um peda√ßo de papel ou em um quadro negro e responder a perguntas sobre teoria das probabilidades, algoritmos e aprendizado de m√°quina.  Penso que os antecedentes da programa√ß√£o da Olimp√≠ada me permitiriam lidar com o concurso online, mesmo que eu n√£o tivesse estudado no ShAD, mas na entrevista, a experi√™ncia do ShAD foi realmente √∫til para mim. <br><br>  Alguns dias depois, ocorreu a segunda reuni√£o, onde me pediram mais duas tarefas sobre o conhecimento de algoritmos: aquecimento e b√°sico.  Em cada tarefa, era assim: propus uma solu√ß√£o, respondi a v√°rias perguntas sobre essa solu√ß√£o e depois escrevi o c√≥digo em um peda√ßo de papel. <br><br>  Alguns dias depois, fui informado de que havia sido aceito para um est√°gio.  Ela deveria durar tr√™s meses completos (como resultado, aconteceu).  Eles n√£o prometeram mudar para uma posi√ß√£o permanente, mas disseram que essa op√ß√£o √© poss√≠vel. <br><br><h4>  Introdu√ß√£o </h4> <br>  No primeiro dia, tendo resolvido as quest√µes organizacionais e adquirido um laptop, fui almo√ßar com meus colegas.  Conversamos, ent√£o montei um reposit√≥rio de equipe e assumi a primeira tarefa - compilando um script Python simples para come√ßar a executar um programa j√° conclu√≠do em v√°rios threads e, assim, acelerar sua execu√ß√£o.  No processo de cria√ß√£o do script, eu me familiarizei com o sistema de revis√£o de c√≥digo - quando outros funcion√°rios da equipe verificam seu c√≥digo.  Sabendo que seus colegas mais pr√≥ximos ir√£o lidar com ele primeiro e, no futuro, com outros desenvolvedores, voc√™ tenta escrever com mais clareza.  Na programa√ß√£o das olimp√≠adas, tudo √© um pouco diferente: a velocidade com a qual voc√™ programa √© importante e, provavelmente, voc√™ nem precisar√° olhar o que escreveu.  Por outro lado, quando tive que enfrentar uma situa√ß√£o antes do Yandex de que ainda precisava ler o c√≥digo, tamb√©m tentei torn√°-lo mais ou menos claro. <br><br>  Durante o est√°gio, resolvi v√°rias vezes problemas semelhantes a esse script, mas meu tempo principal foi gasto em um projeto muito maior - um novo decodificador para a observadora Alice. <br><br>  Para dispositivos e aplicativos Yandex em que o assistente pode ser chamado por voz, tudo funciona como o usu√°rio espera, voc√™ precisa de um observador de alta qualidade - um mecanismo de ativa√ß√£o por voz.  Na maioria das vezes, a frase de ativa√ß√£o (que voc√™ precisa pronunciar para iniciar Alice) cont√©m a palavra "Alice". <br><br>  O Spotter inclui a prepara√ß√£o de recursos (recursos para aprendizado de m√°quina), uma rede neural e um decodificador. <br><br><h4>  Decodificador anterior </h4><br>  A vers√£o anterior do decodificador trabalhava processando vetores de probabilidade.  Existe um modelo ac√∫stico - uma rede neural, que para cada quadro (um fragmento de fala com dura√ß√£o de 10 a 20 milissegundos) retorna a probabilidade de que agora ele foi pronunciado.  Os quadros podem se sobrepor.  O decodificador continha uma matriz com probabilidades para os √∫ltimos 100 quadros "ouvidos" pelo dispositivo.  O som de cada letra corresponde a um certo vetor de probabilidades.  No vetor da letra A, o algoritmo encontrou o elemento com a maior probabilidade, ap√≥s o qual considerou apenas a parte direita da matriz em rela√ß√£o a esse elemento.  Em seguida, a opera√ß√£o foi repetida para as letras L, I, C e A - cada vez que a matriz era "cortada" pelo elemento encontrado.  Os sons de A no in√≠cio e no final da palavra s√£o realmente diferentes - o segundo deles √© geralmente chamado Shva, parece A, E e O ao mesmo tempo. <br><br>  Se a probabilidade final for maior que o valor limite, o algoritmo considerou que a palavra foi realmente falada e ativou Alice para o usu√°rio. <br><br><img src="https://habrastorage.org/webt/wd/iu/ko/wdiukoij45gbcg83m_cmsvuqy0m.jpeg"><br><br>  Esse esquema levou ao fato de que o assistente √†s vezes ligava espontaneamente n√£o apenas quando as pessoas diziam "Alice", mas tamb√©m quando ouvia outras palavras, por exemplo, "Alexander".  Os sons na primeira parte desta palavra ("Alex") seguem na mesma ordem e basicamente coincidem com os sons da palavra "Alice".  A diferen√ßa est√° apenas nas letras E e K, mas E em seu som est√° muito pr√≥ximo de I, e o algoritmo n√£o levou em considera√ß√£o a presen√ßa da letra K. <br><br><img src="https://habrastorage.org/webt/nv/pr/ur/nvprurwxlaaatkavmzq3cwvhp8k.jpeg"><br><br>  Em teoria, voc√™ pode pesquisar no discurso proferido n√£o apenas a palavra "Alice", mas tamb√©m palavras semelhantes.  N√£o existem muitos deles: "Alexander", "Alexa", "preso", "escada", "aristarco".  Se o algoritmo acreditasse que o usu√°rio com alta probabilidade dissesse um deles, seria poss√≠vel proibir a ativa√ß√£o, independentemente do resultado do decodificador principal. <br><br>  No entanto, a ativa√ß√£o por voz deve funcionar mesmo sem a Internet.  Portanto, o decodificador √© um mecanismo local.  Ele funciona gra√ßas a uma rede neural, que sempre √© executada diretamente no dispositivo do usu√°rio (por exemplo, no telefone), sem se comunicar com os servidores Yandex.  E como tudo acontece localmente, o desempenho (do mesmo telefone em compara√ß√£o com todo o data center) deixa muito a desejar.  Reconhecer n√£o apenas a palavra "Alice" significaria complicar significativamente o trabalho dessa pequena rede neural e exceder os limites de desempenho.  A ativa√ß√£o come√ßaria a funcionar mais lentamente, o assistente responderia com um longo atraso. <br><br>  Era necess√°rio um decodificador fundamentalmente diferente.  Os colegas sugeriram que eu implementasse a ideia do Modelo Markov Oculto, HMM: no in√≠cio do meu est√°gio, ele j√° era bem descrito pela comunidade e tamb√©m encontrou aplica√ß√£o no assistente Alexa da Amazon. <br><br><h4>  Novo decodificador HMM </h4><br>  O decodificador HMM constr√≥i um gr√°fico de 6 v√©rtices: um para cada som na palavra "Alice", mais um para todos os outros sons - outro discurso ou ru√≠do.  As probabilidades de transi√ß√µes entre v√©rtices s√£o estimadas em uma amostra de fala gravada e anotada.  Para cada som ouvido, s√£o consideradas 6 probabilidades: coincidir com cada uma das cinco letras e com o sexto v√©rtice (ou seja, com qualquer som que n√£o seja o encontrado na palavra "Alice").  Se o usu√°rio disser "Alexander", o decodificador cair√° em K: a probabilidade de o som falado n√£o fazer parte da frase de ativa√ß√£o ser√° muito grande e o assistente n√£o funcionar√°. <br><br><img src="https://habrastorage.org/webt/ds/np/r3/dsnpr3vxuxavi5e_14wnnakigiq.jpeg"><br><br>  Em um futuro pr√≥ximo, essas altera√ß√µes estar√£o dispon√≠veis para todos os usu√°rios da biblioteca Alice e SpeechKit. <br><br><h4>  Conclus√£o do est√°gio e transi√ß√£o para um emprego permanente </h4><br>  Dos tr√™s meses de est√°gio, levei um ano e meio para escrever um decodificador HMM.  No final desses meses e meio, o gerente me disse que a transi√ß√£o para uma posi√ß√£o permanente e um contrato perp√©tuo seria poss√≠vel (embora n√£o garantida) se eu continuasse trabalhando de maneira produtiva.  Na mesma √©poca, tirei f√©rias de duas semanas para ir ao campo de programa√ß√£o da Olimp√≠ada.  Quando voltei, iniciei uma nova tarefa - treinando observadores para v√°rios dispositivos: Yandex.Phone, computador de bordo com o Yandex.Auto e outros. <br><br>  Depois de algumas semanas, cerca de um m√™s antes do final do est√°gio, minha primeira entrevista foi realizada sobre uma posi√ß√£o permanente e, alguns dias depois - a segunda, final.  Conversei com os l√≠deres de equipes relacionadas.  Na primeira entrevista, foram feitas perguntas te√≥ricas: sobre aprendizado de m√°quina, redes neurais, regress√£o log√≠stica, m√©todos de otimiza√ß√£o.  Al√©m disso, eles perguntaram sobre a regulariza√ß√£o, isto √©, sobre a redu√ß√£o do grau de reciclagem de um determinado algoritmo e sobre quais algoritmos os quais m√©todos de regulariza√ß√£o s√£o aplicados.  A segunda entrevista foi pr√°tica: conversamos no Skype com um colega de Moscou e, no processo, digitei o c√≥digo em um simples editor online. <br><br>  Por minha pr√≥pria iniciativa, n√£o consegui um emprego em per√≠odo integral, mas em "- o fato √© que meus estudos na BSU ainda n√£o terminaram.  Em uma posi√ß√£o constante, tamb√©m estou envolvido na sele√ß√£o autom√°tica de valores-limite e outros hiperpar√¢metros.  A todo momento, o sistema ganha a probabilidade de a palavra-chave "Alice" ter sido pronunciada.  O classificador final compara essa probabilidade com um valor limite e, se o limite for superado, ativa Alice.  Anteriormente, o limite era selecionado pelos desenvolvedores, a tarefa atual √© aprender como fazer isso automaticamente. <br><br>  Ent√£o cheguei ao Yandex, mantendo meu lugar no time de Alice. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438768/">https://habr.com/ru/post/pt438768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438756/index.html">Sexta verifica√ß√£o de cromo, posf√°cio</a></li>
<li><a href="../pt438758/index.html">Por que o Google altera a interface de URL padr√£o no navegador</a></li>
<li><a href="../pt438762/index.html">DBX: tente se livrar da compila√ß√£o de consultas MySQL</a></li>
<li><a href="../pt438764/index.html">Sexto teste de cromo, posf√°cio</a></li>
<li><a href="../pt438766/index.html">DNA extracelular como biomarcador do envelhecimento e v√°rias patologias</a></li>
<li><a href="../pt438770/index.html">Manipula√ß√£o de pressionamentos de tecla, tamb√©m conhecido como atalhos e depura√ß√£o</a></li>
<li><a href="../pt438772/index.html">HX711 ADC de 3.3V - n√£o acredite na documenta√ß√£o chinesa e n√£o apenas</a></li>
<li><a href="../pt438774/index.html">Tudo de bom de uma s√≥ vez. Os artigos mais v√≠vidos do blog da LANIT em Habr√© - 2018</a></li>
<li><a href="../pt438776/index.html">Dicas e truques do meu canal de telegrama @pythonetc, janeiro de 2019</a></li>
<li><a href="../pt438778/index.html">@Pythonetc janeiro de 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>