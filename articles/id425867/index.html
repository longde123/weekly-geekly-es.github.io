<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ’† ğŸŒ â›©ï¸ Pengujian kinerja layanan web sebagai bagian dari Integrasi Berkelanjutan. Pengalaman Yandex ğŸ‘©â€âš–ï¸ âšªï¸ ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hampir semua karyawan Yandex baru kagum pada besarnya tekanan yang dialami produk kami. Ribuan host dengan ratusan ribu permintaan per detik. Dan ini ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengujian kinerja layanan web sebagai bagian dari Integrasi Berkelanjutan. Pengalaman Yandex</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/425867/"><p>  Hampir semua karyawan Yandex baru kagum pada besarnya tekanan yang dialami produk kami.  Ribuan host dengan ratusan ribu permintaan per detik.  Dan ini hanyalah salah satu layanan.  Pada saat yang sama, kita harus menanggapi permintaan dalam sepersekian detik.  Bahkan sedikit perubahan pada produk dapat memiliki dampak signifikan pada kinerja, jadi penting untuk menguji dan mengevaluasi dampak kode Anda pada layanan. </p><br><p>  Dalam layanan kami tentang teknologi periklanan, pengujian bekerja dalam kerangka metodologi integrasi berkelanjutan, yang akan kami diskusikan secara lebih rinci tentang organisasi pada tanggal 25 Oktober di acara <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Yandex dari dalam</a> , dan hari ini kami akan berbagi dengan pembaca Habr pengalaman mengotomatisasi evaluasi metrik produk penting yang terkait dengan kinerja layanan.  Anda akan belajar cara mempercayakan analisis ke mesin, dan tidak mengikutinya pada grafik.  Ayo pergi! </p><br><img src="https://habrastorage.org/webt/iz/tt/0g/iztt0gctohbgmc0liwkarkwteye.jpeg"><br><p><a name="habracut"></a>  Ini bukan tentang cara menguji situs.  Ada banyak alat online untuk ini.  Hari ini kita akan berbicara tentang layanan backend internal yang sangat dimuat, yang merupakan bagian dari sistem besar dan menyiapkan informasi untuk layanan eksternal.  Dalam kasus kami, untuk halaman hasil pencarian dan situs mitra.  Jika komponen kami tidak punya waktu untuk merespons, maka informasi darinya tidak akan diberikan kepada pengguna.  Jadi, perusahaan akan kehilangan uang.  Karena itu, sangat penting untuk merespons tepat waktu. </p><br><p>  Metrik server penting apa yang dapat disorot? </p><br><ul><li>  <strong>Permintaan per detik (RPS)</strong> .  Kebahagiaan satu pengguna, tentu saja, penting bagi kami.  Tetapi bagaimana jika bukan satu, tetapi ribuan pengguna mendatangi Anda.  Berapa banyak permintaan per detik yang dapat ditahan server Anda dan tidak jatuh? </li><li>  <strong>Waktu per permintaan</strong> .  Konten situs harus diberikan secepat mungkin sehingga pengguna tidak bosan menunggu, dan dia tidak pergi ke toko untuk membeli popcorn.  Dalam kasus kami, dia tidak akan melihat bagian penting dari informasi di halaman. </li><li>  <strong>Resident set size (RSS)</strong> .  Pastikan untuk memantau seberapa banyak program Anda menggunakan memori.  Jika layanan memakan semua memori, hampir tidak mungkin untuk berbicara tentang toleransi kesalahan. </li><li>  <strong>Kesalahan HTTP</strong> . </li></ul><br><p>  Jadi mari kita selesaikan. </p><br><h3 id="request-per-second">  Minta per detik </h3><br><p>  Pengembang kami, yang telah berurusan dengan pengujian beban untuk waktu yang lama, suka berbicara tentang sumber daya kritis sistem.  Mari kita lihat apa itu. </p><br><p> Setiap sistem memiliki karakteristik konfigurasi sendiri yang menentukan operasi.  Misalnya, panjang antrian, batas waktu respons, kumpulan pekerja thread, dll.  Dan mungkin saja kapasitas layanan Anda bergantung pada salah satu sumber daya ini.  Anda dapat melakukan percobaan.  Tingkatkan setiap sumber daya secara bergantian.  Sumber daya, peningkatan yang akan meningkatkan kapasitas layanan Anda, akan sangat penting bagi Anda.  Dalam sistem yang dikonfigurasikan dengan baik, untuk meningkatkan kapasitas, Anda harus menambah bukan hanya satu sumber daya, tetapi beberapa.  Tapi ini masih bisa "dirasakan".  Akan sangat bagus jika Anda dapat mengkonfigurasi sistem Anda sehingga semua sumber daya bekerja dengan kekuatan penuh, dan layanan sesuai dengan kerangka waktu yang diberikan kepadanya. </p><br><p>  Untuk memperkirakan berapa banyak permintaan per detik yang dapat ditahan server Anda, Anda perlu mengarahkan aliran permintaan ke sana.  Karena kami memiliki proses ini dibangun ke dalam sistem CI, kami menggunakan "pistol" yang sangat sederhana dengan fungsi terbatas.  Tetapi dari perangkat lunak sumber terbuka Yandex.Tank sangat cocok untuk tugas ini.  Dia memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> terperinci.  Hadiah untuk Tank adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">layanan</a> untuk melihat hasilnya. </p><br><p>  <em>Sebuah offtop kecil.</em>  Yandex.Tank memiliki fungsionalitas yang cukup kaya, tidak terbatas pada permintaan shelling otomatis.  Ini juga akan membantu untuk mengumpulkan metrik layanan Anda, membuat grafik dan mengencangkan modul dengan logika yang Anda butuhkan.  Secara umum, kami sangat merekomendasikan untuk mengenalnya. </p><br><p>  Sekarang Anda perlu memberi makan permintaan ke Tank sehingga mereka dapat menembak layanan kami.  Permintaan yang Anda gunakan untuk meng-shell server bisa dari jenis yang sama, dibuat dan diperbanyak secara buatan.  Namun, pengukuran akan jauh lebih akurat jika Anda dapat mengumpulkan kumpulan permintaan nyata dari pengguna untuk periode waktu tertentu. </p><br><p>  Kapasitas dapat diukur dengan dua cara. </p><br><p>  <strong>Model beban terbuka (stress testing)</strong> </p><br><p>  Buat "pengguna", yaitu, beberapa utas yang akan mengirim permintaan ke sistem Anda.  Beban yang tidak akan kami berikan adalah konstan, tetapi menumpuk atau bahkan memberinya makan dalam gelombang.  Maka itu akan membawa kita lebih dekat ke kehidupan nyata.  Kami meningkatkan RPS dan menangkap titik di mana layanan yang dikupas "menerobos" SLA.  Dengan demikian, Anda dapat menemukan batasan sistem. </p><br><p>  Untuk menghitung jumlah pengguna, Anda dapat menggunakan rumus Little (Anda dapat membacanya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> ).  Menghilangkan teorinya, rumusnya terlihat seperti ini: </p><br><p>  RPS = 1000 / T * pekerja, di mana </p><br><p>  â€¢ T - waktu rata-rata pemrosesan permintaan (dalam milidetik); <br>  â€¢ pekerja - jumlah utas; <br>  â€¢ 1000 / T permintaan per detik - nilai ini akan dihasilkan oleh generator single-threaded. </p><br><p>  <strong>Model beban tertutup (uji beban)</strong> </p><br><p>  Kami mengambil sejumlah "pengguna" tetap.  Anda perlu mengkonfigurasinya sehingga antrian input yang sesuai dengan konfigurasi layanan Anda selalu tersumbat.  Pada saat yang sama, tidak masuk akal untuk membuat jumlah utas lebih besar dari batas antrian, karena kita akan bertumpu pada nomor ini, dan permintaan yang tersisa akan dibuang oleh server dengan kesalahan 5xx.  Kami melihat berapa banyak permintaan per detik yang dapat dikeluarkan desain.  Skema seperti itu dalam kasus umum tidak mirip dengan aliran permintaan yang sebenarnya, tetapi akan membantu untuk menunjukkan perilaku sistem pada beban maksimum dan mengevaluasi throughput saat ini. </p><br><p>  Untuk sebagian besar sistem (di mana sumber daya kritis tidak terkait dengan pemrosesan koneksi), hasilnya akan sama.  Pada saat yang sama, model tertutup memiliki lebih sedikit noise, karena sistem berada dalam area beban yang menarik bagi kami sepanjang waktu pengujian. </p><br><p>  Saat menguji layanan kami, kami menggunakan model tertutup.  Setelah penembakan, pistol memberi kami berapa banyak permintaan per detik yang dapat dikeluarkan layanan kami.  Yandex.Tank indikator ini juga mudah diceritakan. </p><br><h3 id="time-per-request">  Waktu per permintaan </h3><br><p>  Jika kita kembali ke paragraf sebelumnya, menjadi jelas bahwa dengan skema seperti itu, tidak masuk akal untuk mengevaluasi waktu respons terhadap permintaan.  Semakin kuat kita memuat sistem, semakin akan terdegradasi dan semakin lama akan merespons.  Oleh karena itu, untuk menguji waktu respons, pendekatannya harus berbeda. </p><br><p>  Untuk mendapatkan waktu respons rata-rata, kami akan menggunakan Yandex.Tank yang sama.  Hanya sekarang kami akan menetapkan RPS yang sesuai dengan indikator rata-rata sistem Anda dalam produksi.  Setelah penembakan kita mendapatkan waktu respons untuk setiap permintaan.  Berdasarkan data yang dikumpulkan, persentil waktu respons dapat dihitung. </p><br><p>  Selanjutnya Anda perlu memahami persentil apa yang kami anggap penting.  Sebagai contoh, kami membangun berdasarkan produksi.  Kami dapat meninggalkan 1% dari permintaan untuk kesalahan, non-jawaban, permintaan debugging yang bekerja untuk waktu yang lama, masalah dengan jaringan, dll.  Oleh karena itu, kami menganggap penting waktu respons, yang mengakomodasi 99% permintaan. </p><br><h3 id="resident-set-size">  Resident mengatur ukuran </h3><br><p>  Server kami langsung bekerja dengan file melalui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mmap</a> .  Mengukur indeks RSS, kami ingin tahu berapa banyak memori yang diambil program dari sistem operasi selama operasi. </p><br><p>  Di Linux, file / proc / PID / smaps ditulis - ini adalah ekstensi berbasis peta yang menunjukkan konsumsi memori untuk setiap pemetaan proses.  Jika proses Anda menggunakan tmpfs, maka memori anonim dan non-anonim akan bertabrakan.  Memori non-anonim mencakup, misalnya, file yang dimuat ke dalam memori.  Berikut adalah contoh entri di smaps.  File tertentu ditentukan, dan parameternya Anonim = 0kB. </p><br><pre><code class="hljs go"><span class="hljs-number"><span class="hljs-number">7f</span></span>ea65a60000<span class="hljs-number"><span class="hljs-number">-7f</span></span>ea65a61000 r--s <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">09</span></span>:<span class="hljs-number"><span class="hljs-number">03</span></span> <span class="hljs-number"><span class="hljs-number">79169191</span></span> /place/home/.../some.yabs Size: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Rss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Pss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Shared_Clean: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Shared_Dirty: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Private_Clean: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Private_Dirty: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Referenced: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Anonymous: <span class="hljs-number"><span class="hljs-number">0</span></span> kB AnonHugePages: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Swap: <span class="hljs-number"><span class="hljs-number">0</span></span> kB KernelPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB MMUPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Locked: <span class="hljs-number"><span class="hljs-number">0</span></span> kB VmFlags: rd mr me ms</code> </pre> <br><p>  Dan ini adalah contoh alokasi memori anonim.  Ketika suatu proses (mmap yang sama) membuat permintaan ke sistem operasi untuk mengalokasikan ukuran memori tertentu, alamat dialokasikan untuk itu.  Sementara prosesnya hanya memakan memori virtual.  Pada titik ini, kita belum tahu bagian memori mana yang akan dialokasikan.  Kami melihat catatan tanpa nama.  Ini adalah contoh alokasi memori anonim.  Sistem diminta ukuran 24572 kB, tetapi mereka tidak menggunakannya dan sebenarnya hanya RSS = 4 kB yang diambil. </p><br><pre> <code class="hljs go"><span class="hljs-number"><span class="hljs-number">7f</span></span>ea67264000<span class="hljs-number"><span class="hljs-number">-7f</span></span>ea68a63000 rw-p <span class="hljs-number"><span class="hljs-number">00000000</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Size: <span class="hljs-number"><span class="hljs-number">24572</span></span> kB Rss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Pss: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Shared_Clean: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Shared_Dirty: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Private_Clean: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Private_Dirty: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Referenced: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Anonymous: <span class="hljs-number"><span class="hljs-number">4</span></span> kB AnonHugePages: <span class="hljs-number"><span class="hljs-number">0</span></span> kB Swap: <span class="hljs-number"><span class="hljs-number">0</span></span> kB KernelPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB MMUPageSize: <span class="hljs-number"><span class="hljs-number">4</span></span> kB Locked: <span class="hljs-number"><span class="hljs-number">0</span></span> kB VmFlags: rd wr mr mw me ac</code> </pre> <br><p>  Karena memori non-anonim yang dialokasikan tidak akan pergi ke mana pun setelah proses dihentikan, file tidak akan dihapus, kami tidak tertarik dengan RSS tersebut. </p><br><p>  Sebelum Anda mulai memotret di server, kami merangkum RSS dari / proc / PID / smaps, dialokasikan untuk memori anonim, dan mengingatnya.  Kami melakukan penembakan, mirip dengan waktu pengujian per permintaan.  Setelah selesai, pertimbangkan RSS lagi.  Perbedaan antara kondisi awal dan akhir adalah jumlah memori yang digunakan proses Anda selama operasi. </p><br><h3 id="http-oshibki">  Kesalahan HTTP </h3><br><p>  Jangan lupa untuk mengikuti kode respons yang dikembalikan layanan selama pengujian.  Jika ada sesuatu dalam pengaturan pengujian atau lingkungan yang salah, dan server mengembalikan kesalahan 5xx dan 4xx untuk semua permintaan Anda, maka tidak banyak gunanya dalam pengujian semacam itu.  Kami memantau proporsi tanggapan buruk.  Jika ada banyak kesalahan, maka tes tersebut dianggap tidak valid. </p><br><h3 id="nemnogo-o-tochnosti-izmereniy">  Sedikit tentang akurasi pengukuran </h3><br><p>  Dan sekarang yang paling penting.  Mari kita kembali ke paragraf sebelumnya.  Nilai absolut dari metrik yang dihitung oleh kami, ternyata, tidak begitu penting bagi kami.  Tidak, tentu saja, Anda dapat mencapai stabilitas indikator, dengan mempertimbangkan semua faktor, kesalahan, dan fluktuasi.  Secara paralel, tulis karya ilmiah tentang topik ini (ngomong-ngomong, jika seseorang mencari satu, ini mungkin pilihan yang baik).  Tapi ini bukan yang menarik minat kita. </p><br><p>  Penting bagi kita untuk mempengaruhi komit spesifik pada kode relatif terhadap kondisi sistem sebelumnya.  Artinya, perbedaan antara metrik dari komit ke komit adalah penting.  Dan di sini perlu untuk mengatur proses yang akan membandingkan perbedaan ini dan pada saat yang sama memastikan stabilitas nilai absolut dalam interval ini. </p><br><p>  Lingkungan, permintaan, data, status layanan - semua faktor yang tersedia untuk kita harus diperbaiki.  Sistem inilah yang berfungsi bagi kami sebagai bagian dari integrasi berkelanjutan, yang memberi kami informasi tentang semua jenis perubahan yang terjadi dalam setiap komit.  Meskipun demikian, tidak akan mungkin untuk memperbaiki semuanya, akan ada kebisingan.  Kita dapat mengurangi kebisingan, jelas, dengan menambah sampel, yaitu, membuat beberapa iterasi pengambilan gambar.  Selanjutnya, setelah memotret, katakanlah, 15 iterasi, kita dapat menghitung median dari sampel yang dihasilkan.  Selain itu, perlu untuk menemukan keseimbangan antara kebisingan dan durasi pemotretan.  Sebagai contoh, kami menyelesaikan kesalahan 1%.  Jika Anda ingin memilih metode statistik yang lebih kompleks dan akurat sesuai dengan kebutuhan Anda, kami merekomendasikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">buku</a> yang mencantumkan opsi dengan deskripsi kapan dan mana yang digunakan. </p><br><h3 id="chto-eschyo-mozhno-sdelat-s-shumom">  Apa lagi yang bisa dilakukan dengan kebisingan? </h3><br><p>  Perhatikan bahwa lingkungan tempat Anda melakukan tes memainkan peran penting dalam pengujian tersebut.  Bangku tes harus andal, tidak boleh menjalankan program lain, karena dapat menyebabkan penurunan layanan Anda.  Selain itu, hasilnya dapat dan akan tergantung pada profil beban, lingkungan, basis data, dan berbagai "badai magnetik". </p><br><p>  Sebagai bagian dari tes komit tunggal, kami melakukan beberapa iterasi pada host yang berbeda.  Pertama, jika Anda menggunakan cloud, maka apa pun bisa terjadi di sana.  Sekalipun cloud itu khusus, seperti milik kami, proses layanan masih berfungsi di sana.  Karenanya, Anda tidak dapat mengandalkan hasil dari satu host.  Dan jika Anda memiliki inang besi, di mana tidak ada, seperti di awan, mekanisme standar untuk meningkatkan lingkungan, maka Anda bahkan dapat secara tidak sengaja memecahkannya sekali dan membiarkannya seperti itu.  Dan dia akan selalu berbohong padamu.  Karena itu, kami mengendarai pengujian kami di cloud. </p><br><p>  Benar, pertanyaan lain muncul dari ini.  Jika pengukuran Anda dilakukan setiap kali pada host yang berbeda, maka hasilnya dapat membuat sedikit kebisingan dan karena ini termasuk.  Kemudian Anda dapat menormalkan bacaan ke host.  Yaitu, menurut data historis, kumpulkan "koefisien tuan rumah" dan memperhitungkannya ketika menganalisis hasilnya. </p><br><p>  Analisis data historis menunjukkan bahwa perangkat kerasnya berbeda.  Kata "perangkat keras" di sini termasuk versi kernel dan konsekuensi dari uptime (tampaknya, objek kernel tidak bergerak dalam memori). </p><br><p>  Jadi, untuk setiap "host" (saat reboot, host "mati" dan "baru" muncul) kami mengasosiasikan koreksi yang dengannya kami melipatgandakan RPS sebelum agregasi. </p><br><p>  Kami mempertimbangkan dan memperbarui amandemen dengan cara yang sangat kikuk, mencurigakan mengingatkan pada beberapa opsi pelatihan penguatan. </p><br><p>  Untuk vektor koreksi posthost tertentu, kami mempertimbangkan fungsi tujuan: </p><br><ul><li>  dalam setiap tes kami mempertimbangkan standar deviasi dari hasil RPS "dikoreksi" yang diperoleh </li><li>  ambil rata-rata dari mereka dengan bobot yang sama <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>m</mi><mi>p</mi><mo>&amp;#x2212;</mo><mi>s</mi><mi>e</mi><mi>k</mi><mi>a</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>t</mi><mi>a</mi><mi>u</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.996ex" height="2.66ex" viewBox="0 -832 16789.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-78" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-70" x="1039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMAIN-28" x="1542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMAIN-28" x="1932" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-74" x="2321" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-65" x="2683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-73" x="3149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-74" x="3619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-74" x="3980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-69" x="4342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-6D" x="4687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-65" x="5566" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-73" x="6032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-74" x="6502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-61" x="6863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-6D" x="7393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-70" x="8271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMAIN-2212" x="8997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-73" x="9997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-65" x="10467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-6B" x="10933" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-61" x="11455" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-72" x="11984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-61" x="12436" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-6E" x="12965" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-67" x="13566" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMAIN-29" x="14046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMAIN-2F" x="14436" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-74" x="14936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-61" x="15298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMATHI-75" x="15827" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/yandex/blog/425867/&amp;usg=ALkJrhg7Wy38wg__AZ8uYghv7tNH1AEYNA#MJMAIN-29" x="16400" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>t</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>m</mi><mi>p</mi><mo>âˆ’</mo><mi>s</mi><mi>e</mi><mi>k</mi><mi>a</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>t</mi><mi>a</mi><mi>u</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> exp ((testtimestamp - sekarang) / tau) </script>  , </li><li>  kami punya tau = 1 minggu. </li></ul><br><p>  Kemudian kami memperbaiki satu koreksi (untuk host yang jumlah bobotnya adalah yang terbesar), memperbaikinya pada 1.0 dan mencari nilai-nilai semua koreksi lainnya yang memberikan minimum fungsi objektif. </p><br><p>  Untuk memvalidasi hasil pada data historis, kami mempertimbangkan koreksi pada data lama, kami mempertimbangkan hasil yang diperbaiki pada yang baru, dibandingkan dengan yang tidak dikoreksi. </p><br><p>  Pilihan lain untuk menyesuaikan hasil dan mengurangi kebisingan adalah normalisasi menjadi "sintetis."  Sebelum memulai layanan untuk diuji, jalankan "program sintetis" pada host, dari mana Anda dapat mengevaluasi keadaan host dan menghitung faktor koreksi.  Tetapi dalam kasus kami, kami menggunakan koreksi berbasis host, dan ide ini tetap merupakan ide.  Mungkin salah satu dari Anda akan menyukainya. </p><br><p>  Terlepas dari otomatisasi dan semua kelebihannya, jangan lupakan dinamika indikator Anda.  Penting untuk memastikan bahwa layanan tidak menurun seiring waktu.  Anda mungkin tidak melihat drawdown kecil, mereka dapat menumpuk, dan dalam jangka waktu yang lama, indikator Anda mungkin melorot.  Berikut adalah contoh grafik kami yang kami lihat di RPS.  Ini menunjukkan nilai relatif pada setiap komit yang diperiksa, jumlahnya dan kemampuan untuk melihat dari mana rilis tersebut dialokasikan. </p><br><img src="https://habrastorage.org/webt/qu/lj/_h/qulj_hvry8sfubkrt285xlzidsq.png"><br><img src="https://habrastorage.org/webt/gp/76/o9/gp76o9rgelvep5u8rrpyoricmfs.png"><br><p>  Jika Anda membaca artikel tersebut, maka pasti akan menarik bagi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda untuk melihat</a> laporan tentang Yandex.Tank dan analisis hasil pengujian beban. </p><br><p>  Kami juga mengingatkan Anda bahwa secara lebih rinci tentang organisasi integrasi Berkelanjutan kami akan berbicara tentang 25 Oktober di acara <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Yandex dari dalam</a> .  Datang untuk mengunjungi! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id425867/">https://habr.com/ru/post/id425867/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id425851/index.html">Infer.NET: Sistem Pembelajaran Mesin yang Kuat Sekarang OpenSource</a></li>
<li><a href="../id425853/index.html">Semua AI percakapan pada konferensi Percakapan pertama</a></li>
<li><a href="../id425855/index.html">Kedutan membuatku lebih baik dan membantuku bertahan selama tiga bulan tergelap dalam hidupku.</a></li>
<li><a href="../id425859/index.html">Operator regional menentang pembatalan roaming</a></li>
<li><a href="../id425861/index.html">Uji diri Anda: dapatkah Anda melindungi perusahaan dari serangan dunia maya?</a></li>
<li><a href="../id425869/index.html">iFixit: Apple belum mengaktifkan pemblokiran MacBook yang diperbaharui</a></li>
<li><a href="../id425871/index.html">Yekaterinburg, 11 Oktober - Atlassian bertemu dengan buruh pelabuhan</a></li>
<li><a href="../id425873/index.html">[CppCon 2018] Herb Sutter: Menuju C ++ yang Lebih Sederhana dan Lebih Kuat</a></li>
<li><a href="../id425875/index.html">Matriks notebook upgrade TN-> IPS atau cara mendapatkan laptop yang lebih maju dari laptop anggaran</a></li>
<li><a href="../id425877/index.html">CEO Apple mengatakan chip mata-mata Cina di server Supermicro adalah fiksi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>