<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ôüèø üèÇüèΩ üë©üèæ‚Äçüåæ La plataforma ARM y el agente MQTT como base moderna para las soluciones de IoT üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø üôÑ üßîüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El protocolo MQTT, por el momento, ha ganado popularidad y se ha convertido en el est√°ndar de facto en proyectos destinados a crear soluciones para In...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La plataforma ARM y el agente MQTT como base moderna para las soluciones de IoT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/unet/blog/407867/"> El protocolo MQTT, por el momento, ha ganado popularidad y se ha convertido en el est√°ndar de facto en proyectos destinados a crear soluciones para Internet de las cosas (IoT).  Por supuesto, Internet de las cosas es una cierta abstracci√≥n o, m√°s correctamente, el concepto de construir redes distribuidas de dispositivos o m√°quinas.  Al mismo tiempo, los problemas particulares de interacci√≥n entre m√°quinas de m√°quina a m√°quina (M2M) ya se est√°n resolviendo de manera efectiva, incluido el nivel de conexi√≥n de estos sistemas a Internet, tanto para crear sistemas de automatizaci√≥n industrial, por ejemplo, como para construir sistemas inteligentes para el hogar.  Obviamente, los sistemas cr√≠ticos requieren un √°rbitro o corredor local y dispositivos para encontrar una soluci√≥n a la situaci√≥n, independientemente de la calidad de la conexi√≥n a Internet, as√≠ como en el caso de una desconexi√≥n completa. <br><br>  Al mismo tiempo, los microprocesadores eficientes energ√©ticamente, pero no menos productivos, basados ‚Äã‚Äãen la arquitectura ARM han demostrado ser una plataforma de hardware para el lanzamiento de dicho corredor MQTT.  Esta interconexi√≥n de la plataforma de hardware, los protocolos de mensajer√≠a y su implementaci√≥n de software se ha convertido en el punto de partida en el r√°pido progreso del desarrollo de los sistemas de automatizaci√≥n modernos.  A continuaci√≥n, consideramos con m√°s detalle las soluciones de hardware y los componentes de software para implementar uno de los protocolos de mensajer√≠a m√°s exitosos en los sistemas t√©cnicos. <br><br><img src="https://habrastorage.org/webt/63/dw/zh/63dwzhuwymxu25gs3vbjmdkkdpq.jpeg"><br>  <font color="gray"><i>Revisi√≥n de ClusterHAT: kit de computadora de cl√∫ster Raspberry Pi.</i></font>  <font color="gray"><i>Foto: revista MagPi</i></font> <br><a name="habracut"></a><br>  La arquitectura de los microprocesadores ARM (Advanced RISC Machine) est√° firmemente arraigada en nuestras vidas.  Casi todos los tel√©fonos inteligentes ahora funcionan sobre la base de esta arquitectura.  Vale la pena se√±alar que el concepto de una m√°quina RISC es bastante vago hoy en d√≠a, porque su opuesto, la moderna plataforma x86-64, ha tomado mucho del mundo de los sistemas RISC.  Pero no se trata de eso, sino del hecho de que hoy se ha convertido en sin√≥nimo o una caracter√≠stica distintiva de una plataforma m√≥vil productiva y, al mismo tiempo, eficiente en energ√≠a, as√≠ como la base para varios dispositivos de bricolaje o "h√°galo usted mismo" de bajo costo.  En este contexto, por supuesto, uno no puede dejar de mencionar las diversas opciones de Raspberry Pi, hasta la decisi√≥n de un cl√∫ster basado en la placa ClusterHAT, etc.  Linux ha demostrado ser el principal sistema operativo para esta plataforma.  Pero aqu√≠, ¬øc√≥mo no recordar, por ejemplo, un sistema como Microsoft Windows 10 IoT Core? <br><br>  Es bueno cuando hay una opci√≥n, pero no todo es tan simple como nos gustar√≠a.  Microsoft Windows 10 IoT Core es un excelente sistema operativo, pero est√° dise√±ado principalmente para desarrollar y ejecutar programas, por ejemplo, escritos en C # en Microsoft Visual Studio.  Tal enfoque no puede llamarse universal.  Por lo tanto, si bien la opci√≥n cl√°sica para la mayor√≠a de las tareas sigue siendo ARM y Linux, as√≠ como Android, ¬øc√≥mo podr√≠a ser sin ella?  Tenga en cuenta que para la creaci√≥n r√°pida de prototipos, adem√°s de las placas Raspberry Pi, hay compa√±√≠as Orange Pi m√°s baratas de Xunlong Software o, por el contrario, ODROIDs m√°s caros de Hardkernel, pero al mismo tiempo est√°n justificados en precio.  Todo depende del problema que se resuelva.  Y tal, para el proyecto actual, fue el lanzamiento del servidor / corredor MQTT.  Al mismo tiempo, uno no debe centrarse en el hecho de que el proyecto est√° dedicado a la "casa inteligente" o soluciones para la rob√≥tica.  Esto no es importante, ya que el protocolo MQTT en s√≠ mismo es una soluci√≥n muy universal. <br><br><img src="https://habrastorage.org/webt/jn/ej/1k/jnej1kdojrfgxqgz3q-qv9sl7_w.png"><br>  <font color="gray"><i>CPU-351-13.</i></font>  <font color="gray"><i>Bajo consumo de energ√≠a, robusto i.MX6 SBC.</i></font>  <font color="gray"><i>Foto: Eurotech</i></font> <br><br>  Hablando de ARM, vale la pena pensar no solo en los tel√©fonos inteligentes modernos, muchas aplicaciones como enrutadores dom√©sticos o herramientas de creaci√≥n de prototipos.  Los procesadores con tal arquitectura pueden funcionar en condiciones bastante dif√≠ciles de los sistemas de automatizaci√≥n industrial.  Por ejemplo, una computadora de placa √∫nica CPU-351-13 de Eurotech.  La placa de esta computadora industrial se basa en el procesador iMX.6 ARM (1.2GHz) y es un sistema eficaz con un consumo de energ√≠a reducido (aproximadamente 4 W para cuatro n√∫cleos), que se utiliza en aplicaciones IoT / M2M, soportando la operaci√≥n en el rango de temperatura: -40 ¬∞ a + 85 ¬∞ C.  La placa contiene una salida de video, un cargador de bater√≠a, un m√≥dem celular (celular), WiFi, Bluetooth LE y es compatible con la tecnolog√≠a ZigBee.  La placa tambi√©n es ideal para resolver problemas en el transporte, ya que admite el bus CAN, tiene un sensor de aceleraci√≥n incorporado (aceler√≥metro) y un sistema de recepci√≥n de se√±al GPS. <br><br>  Adem√°s de las soluciones industriales, la arquitectura ARM penetra en el mercado de soluciones de servidor.  La experiencia de Scaleway, que implementa y arrienda no m√°quinas virtuales comunes, sino servidores f√≠sicos basados ‚Äã‚Äãen ARMv8, es interesante aqu√≠.  Esta soluci√≥n es interesante por su eficiencia energ√©tica, desde la perspectiva de un proveedor, y la falta de un hipervisor o entorno de virtualizaci√≥n, como tal, para el usuario del servicio.  Por lo tanto, un excelente entorno para lanzar contenedores Docker se convierte en realidad.  Se parece a algo as√≠ como ClusterHAT a escala industrial, y el rendimiento es una excelente opci√≥n para la virtualizaci√≥n de contenedores en la nube.  En general, uno no puede dejar de estar de acuerdo en que esta es una soluci√≥n empresarial audaz e innovadora en la direcci√≥n de servicios de alojamiento, que ha existido en el mercado durante bastante tiempo.  Resulta que si no compra su Raspberry Pi o equivalente, siempre puede experimentar con un servidor basado en ARM alquil√°ndolo. <br><br><img src="https://habrastorage.org/webt/jb/tk/9w/jbtk9wnvaov-qbvzgbwq2lxzams.png"><br>  <font color="gray"><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CloudMQTT</a> es una soluci√≥n perfecta para mensajes de "Internet de las cosas"</i></font> <br><br>  Al finalizar la elecci√≥n de la plataforma de hardware y el elogio de la arquitectura ARM, puede poner fin a esto, pero no debe olvidar que siempre puede encontrar una soluci√≥n alternativa, y esto solo empuja a entusiastas, geeks, hackers √©ticos a nuevas investigaciones y experimentos con plataformas de hardware abiertas.  Por lo tanto, tenemos una tarea basada en Linux para instalar el agente MQTT y experimentar un poco con √©l. <br><br>  Era posible no considerar la plataforma de hardware en absoluto, sino comenzar a trabajar de inmediato en el servicio en la nube CloudMQTT.  Pero el problema se considera sobre la base de la estructura de tres niveles de Internet de las cosas, donde en el nivel inferior hay sensores inteligentes y sistemas de control.  El medio es el lugar del agente MQTT, y debe ubicarse localmente para que los problemas con el acceso a Internet puedan resolverse parcialmente mediante equipos internos.  Y el nivel superior es una nube con Node-Red o AWS IoT, Azure IoT Hub, etc.  En este concepto, es dif√≠cil imaginar al mejor candidato para un micro servidor de bajo consumo y bajo consumo de energ√≠a, algo diferente de ARM. <br><br>  Pero as√≠ es como funciona el mundo, no se puede decir que todo est√° bien o, por el contrario, que todo est√° mal.  En todas partes tiene sus propios matices.  El hecho es que el sistema de tres niveles en consideraci√≥n no es exactamente el Internet de las cosas, sino que es una especie de versi√≥n intermedia del camino hacia tal concepto.  Solo no deber√≠a existir un IoT sin conexi√≥n a Internet, es decir  No en vano, esperamos la aparici√≥n de redes inal√°mbricas de quinta generaci√≥n, la mejora de las comunicaciones existentes, etc.  En el concepto de Internet de las cosas no hay lugar para la capa de la capa intermedia, los sensores y los sistemas ejecutivos deben ir directamente a la nube, donde interactuar√°n. <br><br><img src="https://habrastorage.org/webt/zc/qt/0m/zcqt0miov0jqnmw7me7lfkvxlck.png"><br>  <font color="gray"><i>Una introducci√≥n breve pero pr√°ctica al protocolo MQTT y su aplicaci√≥n a IoT.</i></font>  <font color="gray"><i>Imagen: Laboratorios Zoetrope</i></font> <br><br>  El protocolo MQTT (Transporte de telemetr√≠a de colas de mensajes) es un protocolo asincr√≥nico para transmitir mensajes telem√©tricos seg√∫n el principio de un editor / suscriptor que utiliza un intermediario.  Este protocolo fue desarrollado por IBM y transferido a la categor√≠a de proyectos abiertos de la organizaci√≥n Eclipse Foundation.  Una caracter√≠stica del protocolo es su compacidad, ya que  El tama√±o del encabezado del paquete de datos es de solo unos pocos bytes.  Se ejecuta sobre el protocolo TCP est√°ndar y, por razones de seguridad, implica el uso de mecanismos de autenticaci√≥n a nivel de nombre de usuario / contrase√±a y el uso del cifrado del protocolo de transporte TLS / SSL.  Actualmente, el protocolo MQTT se ha convertido en el est√°ndar de facto para construir soluciones de IoT. <br><br>  Dado que MQTT est√° dise√±ado para su uso en un entorno de conexi√≥n a Internet, que por definici√≥n no se considera confiable, el protocolo proporciona tres niveles de garant√≠a de calidad del servicio de entrega.  QoS 0: a lo m√°s una vez, "no m√°s de uno".  El editor publica el mensaje al corredor, luego el corredor lo publica al suscriptor.  En este nivel, no se garantiza la transferencia obligatoria de datos al suscriptor.  QoS 1: al menos una vez, "al menos uno".  El suscriptor debe recibir este mensaje al menos una vez.  Sin embargo, los mensajes pueden duplicarse y el suscriptor debe proporcionarlos en la l√≥gica de su trabajo.  QoS 2: Exactamente uno - "garantizado uno".  Proporciona garant√≠a de entrega suprema y no duplicaci√≥n de mensajes. <br><br>  Para escalar sus decisiones, puede usar la configuraci√≥n de "puente" entre los corredores, y as√≠ reducir la carga en cada corredor individualmente.  El protocolo MQTT tambi√©n permite a los suscriptores recibir datos en varios canales a la vez.  Para hacer esto, los s√≠mbolos comod√≠n ‚Äú+‚Äù y ‚Äú#‚Äù se usan para marcar todas las entradas en una suscripci√≥n particular, o solo un bloque de mensajes.  Por ejemplo, suscribi√©ndose a varios sensores de temperatura diferentes: "sensores / + / temperatura / +" o suscribi√©ndose inmediatamente a todos los canales: "#".  Puede discutir las caracter√≠sticas del protocolo durante mucho tiempo, pero es m√°s f√°cil intentarlo con un ejemplo real.  Se pueden elegir muchas soluciones como corredor, pero uno de los corredores m√°s populares y ligeros es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mosquitto</a> . <br><br>  Para implementar el agente Mosquitto, elegiremos una versi√≥n simple de una computadora de placa √∫nica, por ejemplo, una de las primeras versiones de la RAM Raspberry Pi Modelo B de 512 MB.  Esta elecci√≥n est√° dictada literalmente por lo que estaba a la mano.  Por supuesto, para un proyecto real, debe estudiar por separado el problema de la confiabilidad y el rendimiento de la placa y, adem√°s de elegir las soluciones √≥ptimas de hardware, tambi√©n debe estudiar los problemas de confiabilidad del caso, calidad de la fuente de alimentaci√≥n, seguridad del sistema en general, etc.  Todav√≠a era interesante tomar la placa Raspberry Pi para disipar finalmente el mito de las dificultades de comenzar un proyecto basado en soluciones de hardware abiertas y el sistema operativo Linux.  Por supuesto, el desarrollador necesita conocimientos b√°sicos, pero las plataformas modernas se han vuelto extremadamente amigables desde el punto de vista de la interfaz del software y al mismo tiempo est√°n bien documentadas. <br><br><img src="https://habrastorage.org/webt/my/3x/o2/my3xo2nxuh64qimqsegxldwjd3i.png"><br>  <font color="gray"><i>Foto: Raspberry Pi Modelo B 512MB RAM</i></font> <br><br>  Como sistema operativo, puede elegir el Raspbian Stretch oficial con escritorio o el firmware Raspbian Stretch Lite.  Estos son dos sistemas operativos id√©nticos basados ‚Äã‚Äãen la conocida distribuci√≥n Debian Stretch, que modificaron para funcionar con Raspberry Pi.  Las diferencias solo est√°n en la presencia de un escritorio gr√°fico, que est√° justificado para comenzar el conocimiento, pero para el servidor, por supuesto, no hay nada para el shell gr√°fico.  Para instalar, a√∫n elegimos la opci√≥n con un escritorio gr√°fico e instalamos todo esto en una tarjeta SD econ√≥mica de 8GB.  De hecho, queda por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cargar la</a> imagen del sistema operativo y usar la muy conveniente utilidad multiplataforma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Etcher</a> para transferir la imagen a una unidad f√≠sica. <br><br><img src="https://habrastorage.org/webt/im/0q/3q/im0q3qnxw4n9zb4ouhqxtpgcr4o.png"><br>  <font color="gray"><i>Captura de pantalla: Etcher en Windows 10</i></font> <br><br>  Ahora queda colocar la unidad flash en la placa Raspberry Pi y aplicar energ√≠a.  Hay una funci√≥n de oda, si necesita obtener acceso remoto a la l√≠nea de comando Raspbian Stretch usando el protocolo ssh, mientras que no hay un teclado conectado f√≠sicamente a la placa, puede escribir un archivo vac√≠o con el nombre ssh en la secci√≥n de inicio de la unidad flash, que activar√° el acceso correspondiente.  Despu√©s de encender la Raspberry Pi, se permite el acceso al sistema operativo al usuario "pi" con la contrase√±a "raspberry".  El usuario predeterminado "pi" puede obtener privilegios de root ejecutando el comando sudo.  Dado que todo est√° preparado en Raspbian para el trabajo c√≥modo de un usuario no preparado, el primer comando en el nuevo sistema puede ser llamar al men√∫ de configuraci√≥n del sistema: <br><br> <code>$ sudo raspi-config</code> <br> <br><img src="https://habrastorage.org/webt/io/qg/-o/ioqg-oztj8cposjn2rr38pkqjj4.png"><br>  <font color="gray"><i>Captura de pantalla: Conexi√≥n remota a Raspberry Pi por SSH y ejecutar raspi-config</i></font> <br><br>  La utilidad raspi-config le permite establecer una nueva contrase√±a para el usuario y, por ejemplo, en el men√∫ "Opciones de interfaz" puede configurar el comportamiento de las interfaces del sistema, habilitar el escritorio remoto a trav√©s del protocolo VNC, etc.  Tambi√©n en el men√∫: ‚ÄúOpciones de arranque‚Äù, puede establecer los par√°metros predeterminados para arrancar el sistema, por ejemplo, seleccione solo el modo de l√≠nea de comando, y en el submen√∫ ‚ÄúResoluci√≥n‚Äù del men√∫ ‚ÄúOpciones avanzadas‚Äù configure la resoluci√≥n deseada de la pantalla gr√°fica, por ejemplo, seleccionando el tama√±o requerido "DMT" - para la interfaz digital del monitor o "CEA" - entrada anal√≥gica, etc. <br><br>  Ahora puede actualizar los paquetes del sistema: <br> <code>$ sudo apt-get update <br> $ sudo apt-get upgrade</code> <br> <br>  E instale el intermediario Mosquitto y el cliente MQTT, por ejemplo, para probar el sistema: <br> <code>$ sudo apt-get install mosquitto <br> $ sudo apt-get sudo mosquitto-clients</code> <br> <br>  Ahora puede consultar el agente MQTT localmente, para lo cual puede suscribirse, por ejemplo, a un evento: <br> <code>$ mosquitto_sub -h localhost -t "sensor/temperature"</code> <br> <br>  Y publique algunos valores para el canal correspondiente: <br> <code>$ mosquitto_pub -h localhost -t "sensor/temperature" -m 21.0</code> <br> <br><img src="https://habrastorage.org/webt/f4/nl/tw/f4nltwnai_td1rvgdq8qd9chwae.png"><br>  <font color="gray"><i>Captura de pantalla: sesiones del terminal Raspberry Pi</i></font> <br><br>  Puede ver las suscripciones y hacer publicaciones utilizando el protocolo MQTT, as√≠ como probar la capacidad de carga del corredor en el entorno del navegador Chrome y los sistemas operativos: Linux, Mac, Windows gracias a la aplicaci√≥n multiplataforma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MQTTBox</a> . <br><br>  De hecho, el protocolo MQTT se ha generalizado tanto que es simplemente imposible no encontrar una soluci√≥n conveniente para sus tareas.  Adem√°s, en el marco del proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Eclipse Paho</a> , el desarrollo de soluciones de software y bibliotecas abiertas, en casi todos los lenguajes de programaci√≥n, se est√° desarrollando activamente para implementar el protocolo de mensajer√≠a MQTT y, por lo tanto, mejorar las soluciones para Internet de las cosas. <br><br>  Crear soluciones basadas en el agente MQTT ya se est√° convirtiendo en una tarea trivial.  Uno solo tiene que implementar el sistema, conectarse a la nube, por ejemplo, utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Node-RED</a> o una soluci√≥n especializada, y sigue siendo lo "peque√±o": conectar sensores y actuadores inteligentes.  Para considerar el nivel inferior de los sistemas IoT, se debe escribir un art√≠culo separado, pero para este ejemplo es bastante posible hacerlo sin considerar un ejemplo basado en el est√°ndar real para Internet de las cosas: placas NodeMCU basadas en SoC ESP8266 de ESPressif. <br><br><img src="https://habrastorage.org/webt/-g/ny/if/-gnyifglwy_iycntva_-ylxuu1w.png"><br>  <font color="gray"><i>Captura de pantalla: MQTTBox en Windows 10</i></font> <br><br>  La junta de NodeMCU se centr√≥ inicialmente en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desarrollo de eLua</a> .  Puede utilizar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servicio</a> en la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nube</a> para construir el firmware, y la placa del proyecto en s√≠ existe como una soluci√≥n de hardware abierta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NodeMCU DEVKIT V1.0</a> , para la cual ya se han lanzado muchos an√°logos.  Al mismo tiempo, se debe tener en cuenta una buena documentaci√≥n del proyecto.  Sin embargo, es muy subjetivo, pero cuando se desarrolla un sensor inteligente con el protocolo MQTT basado en firmware con eLua para NodeMCU DEVKIT, uno todav√≠a tiene que enfrentar una serie de dificultades con la implementaci√≥n del protocolo MQTT.  Al mismo tiempo, toda la infraestructura del proyecto parece de alguna manera insuficientemente preparada para su uso como entorno para el desarrollo r√°pido y de alta calidad de los sistemas de microprocesadores.  Siempre aparecen peque√±os detalles y matices, pero una vez m√°s vale la pena repetirlo: esta es una evaluaci√≥n muy subjetiva.  Curiosamente, ¬ølos lectores del blog tienen experiencias exitosas con eLua y MQTT? <br><br>  Sin embargo, la elecci√≥n del entorno de desarrollo Arduino IDE para trabajar con NodeMCU DEVKIT, como con otras placas basadas en ESP8266, es una cuesti√≥n completamente diferente.  Todo se hace casi instant√°neamente sobre la base de bibliotecas y muestras de c√≥digo listas para usar.  Para comenzar el desarrollo, debe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">descargar el</a> entorno de desarrollo abierto multiplataforma Arduino IDE desde el sitio oficial del proyecto Arduino.  Luego, en los par√°metros "Archivo" - "Preferencias" - "URL de Addition Boards Manager:", especifique el enlace al n√∫cleo Arduino para el proyecto de chip WiFi <a href="">ESP8266</a> : <a href="">arduino.esp8266.com/stable/package_esp8266com_index.json</a> Despu√©s de eso, en "Herramientas" - "Boards Manager ¬ªQueda por descargar e instalar el soporte para las placas de comunidad ESP8266.  Por cierto, no debemos olvidar que para trabajar con la placa NodeMCU, deber√° instalar el controlador del convertidor de interfaz CP210x o, tambi√©n llamado puente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UART a USB</a> . <br><br><img src="https://habrastorage.org/webt/zb/6g/oi/zb6goigiu0jlmmsxjkfgdbgziti.png"><br>  <font color="gray"><i>Foto: Trabajando con la Junta NodeMCU</i></font> <br><br>  Para trabajar con el protocolo MQTT, puede instalar la Biblioteca PubNub Arduino.  Para hacer esto, en el men√∫ "Boceto" - "Incluir biblioteca" - "Administrar bibliotecas" seleccione la biblioteca apropiada e inst√°lela.  Puede familiarizarse con las capacidades de la plataforma de software bas√°ndose en un c√≥digo de ejemplo, por ejemplo, el ejemplo b√°sico ESP8266 MQTT, donde el corredor publica el canal "outTopic", y tambi√©n se suscribe a "inTopic", y cuando se trata de "inTopic" el valor es "1", luego La placa enciende el LED incorporado.  Todo es simple, r√°pido y funciona de forma inmediata. <br><br><img src="https://habrastorage.org/webt/0z/tp/rk/0ztprkq3tdphos-9edhghtvp_og.png"><br>  <font color="gray"><i>Captura de pantalla: Arduino IDE con soporte ESP8266</i></font> <br><br>  En conclusi√≥n, quiero se√±alar que esta publicaci√≥n no exige el uso exclusivo de la arquitectura de los procesadores ARM para construir sistemas IoT y solo se refiri√≥ a las caracter√≠sticas de presentar el agente MQTT como un enlace para soluciones de automatizaci√≥n.  Pero al mismo tiempo, el lector puede formarse la opini√≥n de que hoy las soluciones para IoT son la gran cantidad de geeks, experimentadores y fan√°ticos, por ejemplo, las placas Raspberry Pi.  Esto es cierto, el progreso se basa en esto, pero el futuro ya est√° con nosotros. <br><br>  Un ejemplo es obvio: la soluci√≥n comercial de la plataforma de sensores inal√°mbricos Wzzard para IoT y Advantech B + B SmartWorx Specter Network Gateway.  Aqu√≠, como en muchas implementaciones en los ciclos de producci√≥n actuales, se propone la arquitectura de sensores industriales protegidos con el medio ambiente, que se combinan mediante una red inal√°mbrica basada en los est√°ndares 6LoWPAN e IEEE 802.15.4e.  Para el procesamiento de datos a nivel de la nube, se ofrece una puerta de enlace con soporte para el protocolo MQTT y la transmisi√≥n de datos a trav√©s de comunicaciones de una red inal√°mbrica 3G o Ethernet 10/100 con cable. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hUm1knByFo8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><hr><br><h3>  Recursos y enlaces relacionados: </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Procesadores ARM: caracter√≠sticas de arquitectura, diferencias y perspectivas - ITC.ua</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Orange Pi PC: una mini PC completa por $ 15 en Linux - revista Geek</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ODROID-C1: revisi√≥n y comparaci√≥n con RPi - blog diario de TI, noticias, revistas, tecnolog√≠as</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Primer vistazo a Scaleway: blog diario de TI, noticias, revistas, tecnolog√≠as</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IBM mueve el protocolo MQTT a la categor√≠a de proyectos abiertos - OpenNET</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Protocolo MQTT - iot.ru</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Protocolo MQTT.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Caracter√≠sticas, aplicaciones, procedimientos b√°sicos - Tecnolog√≠as y comunicaciones.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Documentaci√≥n de Raspberry Pi.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Acceso remoto - Fundaci√≥n Raspberry Pi</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Configuraci√≥n inicial de Raspberry Pi - Domoticz</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Comenzando con MQTT Mosquitto Broker en Raspberry Pi, Windows, MacOS y Linux - Proyectos de bricolaje</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Las siete mejores herramientas de cliente MQTT - HiveMQ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Carga de temperatura a trav√©s de MQTT usando NodeMCU y sensor DHT11 - The ThingsBoard Authors</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tutorial MQTT para Raspberry Pi, Arduino y ESP8266 - Blog de Baldengineer</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ESP8266 firmware, programaci√≥n en Arduino IDE - Geektimes</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Wireless Sensor Network Platform ‚Äì Connect2 Systems</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es407867/">https://habr.com/ru/post/es407867/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es407853/index.html">C√≥mo funciona la radio FM</a></li>
<li><a href="../es407857/index.html">Cuando no necesita latidos constantes - Lifetrak C400</a></li>
<li><a href="../es407859/index.html">Negocio de inflaci√≥n de tokens</a></li>
<li><a href="../es407863/index.html">C√≥mo compr√© un banco chino y c√≥mo hice de √©l una "persona"</a></li>
<li><a href="../es407865/index.html">Retrospectiva de gafas y cascos de realidad virtual.</a></li>
<li><a href="../es407869/index.html">Intel Optane SSD 900P - Expansi√≥n Optane</a></li>
<li><a href="../es407871/index.html">CBS demanda a New Yorker publicando una captura de pantalla de un programa de televisi√≥n de la d√©cada de 1950 en l√≠nea</a></li>
<li><a href="../es407873/index.html">No todo el oro es Bitcoin Gold. Las consecuencias de la bifurcaci√≥n dura de octubre</a></li>
<li><a href="../es407875/index.html">Invitado de Sunny California: MrSpeakers Ether Flow</a></li>
<li><a href="../es407877/index.html">Inspirado por p2p: el inspector cambia los pr√©stamos directos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>