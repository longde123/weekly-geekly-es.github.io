<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüç≥ üßú üçÅ 15 propri√©t√©s et m√©thodes peu connues des objets DOM ‚ÑπÔ∏è ‚õ±Ô∏è üôèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lors du d√©veloppement de sites Web modernes, les fonctionnalit√©s JavaScript pour travailler avec DOM sont largement utilis√©es. Les scripts vous permet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>15 propri√©t√©s et m√©thodes peu connues des objets DOM</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/416539/">  Lors du d√©veloppement de sites Web modernes, les fonctionnalit√©s JavaScript pour travailler avec DOM sont largement utilis√©es.  Les scripts vous permettent d'afficher et de masquer les √©l√©ments √† partir desquels les pages sont construites, de configurer les propri√©t√©s de ces √©l√©ments.  Les objets DOM qui interagissent avec des programmes ont des propri√©t√©s et des m√©thodes.  Pratiquement tous les programmeurs Web connaissent certains d'entre eux, selon l'auteur du mat√©riel, dont nous publions la traduction aujourd'hui.  Mais certains dont il veut parler ici sont beaucoup moins c√©l√®bres. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/lw/k4/ct/lwk4ctoknigawiym3hgeyacp5nu.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">HTML et DOM</font> </h2><br>  Tout d'abord, parlons de la diff√©rence entre HTML et DOM.  Par exemple, un √©l√©ment <code>&lt;table&lt;</code> normal est √©videmment du code HTML.  Cet √©l√©ment peut √™tre utilis√© dans des fichiers html; il poss√®de un ensemble d'attributs qui d√©termine l'apparence et le comportement de la table cr√©√©e avec son aide.  √Ä proprement parler, la <code>&lt;table&gt;</code> elle-m√™me n'a rien √† voir avec JavaScript.  La relation entre les √©l√©ments HTML pr√©sents dans le document et le code JavaScript est fournie par le DOM (Document Object Model).  Le DOM permet d'interagir avec les √©l√©ments HTML du code JavaScript comme s'il s'agissait d'objets. <br><br>  Tous les √©l√©ments HTML ont leurs propres ¬´interfaces DOM¬ª qui d√©finissent les propri√©t√©s (elles sont g√©n√©ralement associ√©es aux attributs des √©l√©ments HTML) et les m√©thodes.  Par exemple, l'√©l√©ment <code>&lt;table&gt;</code> poss√®de une interface appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HTMLTableElement</a> . <br><br>  Vous pouvez obtenir un lien vers un √©l√©ment, par exemple, en utilisant la construction suivante: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> searchBox = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'search-box'</span></span>);</code> </pre> <br>  Une fois le lien vers l'√©l√©ment re√ßu, le programmeur a acc√®s aux propri√©t√©s et m√©thodes de ces √©l√©ments.  Par exemple, vous pouvez travailler avec la propri√©t√© <code>value</code> d'un certain champ de texte, √©tant donn√© que le lien vers celui-ci est stock√© dans la variable <code>searchBox</code> √† l'aide d'une structure du formulaire <code>searchBox.value</code> .  Vous pouvez placer le curseur dans ce champ de texte en appelant sa m√©thode <code>searchBox.focus()</code> . <br><br>  C'est peut-√™tre l√† que nous pouvons terminer notre ¬´cours sur le DOM¬ª et aller, en fait, aux propri√©t√©s et m√©thodes peu connues des interfaces DOM des √©l√©ments HTML. <br><br>  Si vous souhaitez lire et exp√©rimenter tout de suite, ouvrez les outils de d√©veloppement du navigateur.  En particulier, afin d'obtenir un lien vers un certain √©l√©ment de page, vous pouvez le s√©lectionner dans l'arborescence des √©l√©ments, puis utiliser la construction <code>$0</code> dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">console</a> .  Pour afficher un √©l√©ment en tant qu'objet, tapez <code>dir($0)</code> dans la console.  Et au fait, si vous tombez sur quelque chose de nouveau pour vous, essayez de l'explorer √† l'aide de la console. <br><br><h2>  <font color="#3AC1EF">N ¬∞ 1: m√©thodes de tableau</font> </h2><br>  L'√©l√©ment <code>&lt;table&gt;</code> modeste (qui occupe toujours la premi√®re place parmi les technologies utilis√©es dans le d√©veloppement des mises en page Web) dispose d'un bon nombre de tr√®s bonnes m√©thodes qui simplifient consid√©rablement le processus de construction des tables. <br><br>  En voici quelques uns. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> tableEl = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelector(<span class="hljs-string"><span class="hljs-string">'table'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> headerRow = tableEl.createTHead().insertRow(); headerRow.insertCell().textContent = <span class="hljs-string"><span class="hljs-string">'Make'</span></span>; headerRow.insertCell().textContent = <span class="hljs-string"><span class="hljs-string">'Model'</span></span>; headerRow.insertCell().textContent = <span class="hljs-string"><span class="hljs-string">'Color'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newRow = tableEl.insertRow(); newRow.insertCell().textContent = <span class="hljs-string"><span class="hljs-string">'Yes'</span></span>; newRow.insertCell().textContent = <span class="hljs-string"><span class="hljs-string">'No'</span></span>; newRow.insertCell().textContent = <span class="hljs-string"><span class="hljs-string">'Thank you'</span></span>;</code> </pre> <br>  Comme vous pouvez le voir, ici nous n'utilisons pas de commandes comme <code>document.createElement()</code> .  Et la m√©thode <code>.insertRow()</code> , si vous l'appelez directement sur la table, fournira m√™me l'ajout de <code>&lt;tbody&gt;</code> .  N'est-ce pas merveilleux? <br><br><h2>  <font color="#3AC1EF"># 2: m√©thode scrollIntoView ()</font> </h2><br>  Vous savez probablement que si le lien a une construction comme <code>#something</code> , apr√®s le chargement de la page, le navigateur <code>#something</code> automatiquement jusqu'√† l'√©l√©ment avec l' <code>ID</code> correspondant?  La m√©thode est pratique, mais si l'√©l√©ment qui nous int√©resse est rendu apr√®s le chargement de la page, cela ne fonctionnera pas.  Voici comment recr√©er vous-m√™me ce mod√®le de comportement: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">document</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.querySelector</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">document</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.location</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.hash</span></span>)<span class="hljs-selector-class"><span class="hljs-selector-class">.scrollIntoView</span></span>();</code> </pre> <br><h2>  <font color="#3AC1EF">N ¬∞ 3: propri√©t√© cach√©e</font> </h2><br>  Ici, nous consid√©rons une propri√©t√©, cependant, tr√®s probablement, lors de l'acc√®s √† cette propri√©t√©, un certain setter sera appel√©, qui est une m√©thode.  Dans tous les cas, rappelez-vous, avez-vous d√©j√† utilis√© le dessin ci-dessous pour masquer un √©l√©ment? <br><br><pre> <code class="hljs swift">myElement.style.display = '<span class="hljs-keyword"><span class="hljs-keyword">none</span></span>'</code> </pre> <br>  Si vous l'utilisez, vous ne devriez plus le faire.  Pour masquer un √©l√©ment, √©crivez simplement <code>true</code> dans sa propri√©t√© <code>hidden</code> : <br><br><pre> <code class="hljs objectivec">myElement.hidden = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br><h2>  <font color="#3AC1EF"># 4: M√©thode toggle ()</font> </h2><br>  En fait, ce n'est pas une m√©thode d'un √©l√©ment.  Il s'agit d'une m√©thode de propri√©t√© d'√©l√©ment.  En particulier, cette m√©thode vous permet d'ajouter des classes √† un √©l√©ment et de les supprimer √† l'aide de la construction suivante: <br><br><pre> <code class="hljs scala">myElement.classList.toggle(<span class="hljs-symbol"><span class="hljs-symbol">'some</span></span>-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">')</span></span></code> </pre> <br>  Soit dit en passant, si vous avez d√©j√† ajout√© des classes √† l'aide de la construction <code>if</code> , sachez que vous n'avez plus besoin de le faire, et oubliez cette construction.  Le m√™me m√©canisme est impl√©ment√© √† l'aide du deuxi√®me param√®tre de la m√©thode <code>toggle()</code> .  S'il s'agit d'une expression qui a la valeur <code>true</code> , la classe pass√©e √† <code>toggle()</code> sera ajout√©e √† l'√©l√©ment. <br><br><pre> <code class="hljs scala">el.classList.toggle(<span class="hljs-symbol"><span class="hljs-symbol">'some</span></span>-orange-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">theme</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">===</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orange</span></span></span><span class="hljs-class">')</span></span>;</code> </pre> <br>  Probablement, ici, vous pouvez avoir des doutes sur l'ad√©quation de cette conception.  Apr√®s tout, le nom de la m√©thode, ¬´bascule¬ª, qui, √©tant donn√© que l'essence de l'action qu'elle accomplit y est cach√©e, peut √™tre traduit par ¬´commutateur¬ª, ne contient aucune mention que le ¬´commutateur¬ª implique l'accomplissement d'une certaine condition.  Cependant, la conception d√©crite ci-dessus existe sous cette forme, bien que les d√©veloppeurs d'Internet Explorer la consid√®rent probablement √©galement √©trange.  Dans leur impl√©mentation de <code>toggle()</code> deuxi√®me param√®tre n'est pas fourni.  Par cons√©quent, bien qu'il ait √©t√© dit ci-dessus que ceux qui connaissent <code>toggle()</code> peuvent oublier la construction <code>if</code> , l'oublier, n√©anmoins, ne le font pas. <br><br><h2>  <font color="#3AC1EF"># 5: M√©thode querySelector ()</font> </h2><br>  Vous connaissez certainement d√©j√† l'existence de cette m√©thode, mais on soup√ßonne qu'exactement 17% d'entre vous ne savent pas qu'elle peut √™tre utilis√©e en application √† n'importe quel √©l√©ment. <br><br>  Par exemple, la construction <code>myElement.querySelector('.my-class')</code> s√©lectionne uniquement les √©l√©ments qui ont la classe <code>my-class</code> et sont en m√™me temps des descendants de l'√©l√©ment <code>myElement</code> . <br><br><h2>  <font color="#3AC1EF"># 6: m√©thode la plus proche ()</font> </h2><br>  Tous les √©l√©ments qui prennent en charge la recherche d'√©l√©ments parents ont cette m√©thode.  C'est quelque chose comme l'inverse de <code>querySelector()</code> .  En utilisant cette m√©thode, par exemple, vous pouvez obtenir le titre de la section actuelle: <br><br><pre> <code class="hljs cs">myElement.closest(<span class="hljs-string"><span class="hljs-string">'article'</span></span>).querySelector(<span class="hljs-string"><span class="hljs-string">'h1'</span></span>);</code> </pre> <br>  Ici, lors de la recherche, le premier √©l√©ment parent <code>&lt;article&gt;</code> d√©tect√©, puis le premier √©l√©ment <code>&lt;h1&gt;</code> entre. <br><br><h2>  <font color="#3AC1EF"># 7: m√©thode getBoundingClientRect ()</font> </h2><br>  La m√©thode <code>getBoundingClientRect()</code> renvoie un petit objet joliment d√©cor√© contenant des informations sur la taille de l'√©l√©ment pour lequel cette m√©thode a √©t√© appel√©e. <br><br><pre> <code class="hljs css">{ <span class="hljs-attribute"><span class="hljs-attribute">x</span></span>: <span class="hljs-number"><span class="hljs-number">604.875</span></span>, y: <span class="hljs-number"><span class="hljs-number">1312</span></span>, width: <span class="hljs-number"><span class="hljs-number">701.625</span></span>, height: <span class="hljs-number"><span class="hljs-number">31</span></span>, top: <span class="hljs-number"><span class="hljs-number">1312</span></span>, right: <span class="hljs-number"><span class="hljs-number">1306.5</span></span>, bottom: <span class="hljs-number"><span class="hljs-number">1343</span></span>, left: <span class="hljs-number"><span class="hljs-number">604.875</span></span> }</code> </pre> <br>  Cependant, en utilisant cette m√©thode, il faut faire particuli√®rement attention √† deux points: <br><br><ul><li>  L'appel de cette m√©thode entra√Æne un nouveau trac√© de la page.  Selon le p√©riph√©rique sur lequel la page est affich√©e et la complexit√© de la page, cette op√©ration peut prendre plusieurs millisecondes.  Consid√©rez ceci si vous avez l'intention d'appeler cette m√©thode dans certains fragments de code r√©p√©titifs, par exemple, lors de l'ex√©cution d'une animation. </li><li>  Tous les navigateurs ne prennent pas en charge cette m√©thode. </li></ul><br><h2>  <font color="#3AC1EF"># 8: M√©thode matches ()</font> </h2><br>  Supposons que nous devons v√©rifier si un certain √©l√©ment a une certaine classe. <br><br>  Voici comment r√©soudre ce probl√®me, apparemment de la mani√®re la plus difficile: <br><br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (myElement.className.indexOf(<span class="hljs-symbol"><span class="hljs-symbol">'some</span></span>-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">') </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">&gt;</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">-1</span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -  }</span></span></code> </pre> <br>  Voici une autre option, c'est mieux, mais aussi loin d'√™tre id√©al: <br><br><pre> <code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (myElement.className.includes(<span class="hljs-symbol"><span class="hljs-symbol">'some</span></span>-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">')) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -  }</span></span></code> </pre> <br>  Et voici la meilleure fa√ßon de r√©soudre ce probl√®me: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (myElement.matches('.some-<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">')) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -  }</span></span></code> </pre> <br><h2>  <font color="#3AC1EF"># 9: M√©thode insertAdjacentElement ()</font> </h2><br>  Cette m√©thode est similaire √† <code>appendChild()</code> , mais donne un peu plus de pouvoir sur l'endroit o√π l'√©l√©ment enfant sera ajout√©. <br><br>  Ainsi, la commande <code>parentEl.insertAdjacentElement('beforeend', newEl)</code> similaire √† la commande <code>parentEl.appendChild(newEl)</code> , mais en utilisant la m√©thode <code>insertAdjacentElement()</code> , en plus de l'argument <code>beforeend</code> , vous pouvez lui passer des <code>beforebegin</code> , <code>afterbegin</code> et <code>afterend</code> , indiquant l'endroit o√π vous devez ajouter un √©l√©ment. <br><br><h2>  <font color="#3AC1EF">N ¬∞ 10: m√©thode contains ()</font> </h2><br>  Avez-vous d√©j√† voulu savoir si un √©l√©ment est √† l'int√©rieur d'un autre?  J'en ai besoin tout le temps.  Par exemple, si pendant le traitement d'un √©v√©nement de clic de souris vous avez besoin de savoir s'il s'est produit √† l'int√©rieur ou √† l'ext√©rieur de la fen√™tre modale (ce qui signifie qu'il peut √™tre ferm√©), vous pouvez utiliser la construction suivante: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleClick = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!modalEl.contains(e.target)) modalEl.hidden = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; };</code> </pre> <br>  Ici <code>modalEl</code> est un lien vers une fen√™tre modale, et <code>e.target</code> est n'importe quel √©l√©ment sur lequel on clique.  Fait int√©ressant, lorsque j'utilise cette technique, je n'arrive jamais √† tout √©crire correctement la premi√®re fois, m√™me lorsque je me souviens que je me trompe constamment et que j'essaie de corriger les erreurs possibles √† l'avance. <br><br><h2>  <font color="#3AC1EF"># 11: M√©thode getAttribute ()</font> </h2><br>  Cette m√©thode peut peut-√™tre √™tre consid√©r√©e comme la plus inutile, mais il existe une situation dans laquelle elle peut certainement √™tre utile. <br><br>  Rappelez-vous, nous avons dit plus t√¥t que les propri√©t√©s des objets DOM sont g√©n√©ralement associ√©es aux attributs des √©l√©ments HTML? <br><br>  Un des cas o√π ce n'est pas le cas est repr√©sent√© par l'attribut <code>href</code> , par exemple, comme ici: <code>&lt;a href="/animals/cat"&gt;Cat&lt;/a&gt;</code> . <br><br>  La construction <code>el.href</code> ne renverra pas, comme vous pouvez vous y attendre, <code>/animals/cat</code> .  En effet, l'√©l√©ment <code>&lt;a&gt;</code> impl√©mente l'interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HTMLHyperlinkElementUtils</a> , qui poss√®de de nombreuses propri√©t√©s d'assistance comme le <code>protocol</code> et le <code>hash</code> qui vous aident √† comprendre les d√©tails des liens. <br>  L'une de ces propri√©t√©s d'assistance est la propri√©t√© <code>href</code> , qui donne une URL compl√®te qui inclut tout ce que l'URL relative n'a pas dans l'attribut. <br><br>  Par cons√©quent, pour obtenir exactement ce qui est √©crit dans l'attribut <code>href</code> , vous devez utiliser la construction <code>el.getAttribute('href')</code> . <br><br><h2>  <font color="#3AC1EF">N ¬∞ 12: trois m√©thodes de l'√©l√©ment &lt;dialog&gt;</font> </h2><br>  L'√©l√©ment <code>&lt;dialog&gt;</code> relativement nouveau a deux m√©thodes utiles, mais tout √† fait ordinaires, et une m√©thode qui peut √™tre appel√©e simplement merveilleuse.  Ainsi, les m√©thodes <code>show()</code> et <code>close()</code> font exactement ce que vous pouvez en attendre, en affichant et en masquant la fen√™tre.  Nous les appelons utiles, mais ordinaires.  Mais la m√©thode <code>showModal()</code> affichera l'√©l√©ment <code>&lt;dialog&gt;</code> au-dessus de tout le reste, en l'affichant au centre de la fen√™tre.  En fait, un tel comportement est g√©n√©ralement attendu des fen√™tres modales.  Lorsque vous travaillez avec de tels √©l√©ments, vous n'avez pas besoin de penser √† la propri√©t√© <code>z-index</code> , d'ajouter manuellement un arri√®re-plan flou ou d'√©couter l'√©v√©nement d'appuyer sur la touche <code>Escape</code> pour fermer la fen√™tre correspondante.  Le navigateur sait comment les fen√™tres modales devraient fonctionner et s'assurera que tout fonctionne comme il se doit. <br><br><h2>  <font color="#3AC1EF"># 13: M√©thode forEach ()</font> </h2><br>  Parfois, lorsque vous obtenez un lien vers une liste d'√©l√©ments, vous pouvez <code>forEach()</code> ces √©l√©ments √† l'aide de la m√©thode <code>forEach()</code> .  Les boucles <code>for()</code> sont hier.  Supposons que nous devons r√©pertorier tous les √©l√©ments <code>&lt;a&gt;</code> de la page dans le journal.  Si nous proc√©dons comme indiqu√© ci-dessous, nous rencontrerons un message d'erreur: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByTagName(<span class="hljs-string"><span class="hljs-string">'a'</span></span>).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(el.href); });</code> </pre> <br>  Afin de r√©soudre ce probl√®me, vous pouvez utiliser la construction suivante: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'a'</span></span>).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(el.href); });</code> </pre> <br>  Le point ici est que des m√©thodes comme <code>getElementsByTagName()</code> retournent un objet de type <code>HTMLCollection</code> et <code>querySelectorAll</code> objet <code>querySelectorAll</code> .  C'est l'interface de l'objet <code>NodeList</code> nous donne acc√®s √† la m√©thode <code>forEach()</code> m√©thodes <code>keys()</code> , <code>values()</code> et <code>entries()</code> ). <br><br>  En fait, il serait beaucoup mieux que de telles m√©thodes retournent simplement des tableaux normaux et ne nous offrent pas quelque chose qui a une sorte de m√©thodes apparemment utiles qui ne sont pas tout √† fait comme des tableaux.  Cependant, ne vous <code>Array.from()</code> pas pour cette raison, car les gens intelligents de l'ECMA nous ont donn√© une excellente m√©thode - <code>Array.from()</code> , qui nous permet de transformer tout ce qui ressemble √† des tableaux en tableaux. <br><br>  Par cons√©quent, vous pouvez √©crire ce qui suit: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByTagName(<span class="hljs-string"><span class="hljs-string">'a'</span></span>)).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(el.href); });</code> </pre> <br>  Et voici une jolie petite chose.  En transformant en un tableau ce qui lui ressemblait, nous avons la possibilit√© d'utiliser de nombreuses m√©thodes de tableau, telles que <code>map()</code> , <code>filter()</code> et <code>reduce()</code> .  Voici, par exemple, comment former un tableau de liens externes sur la page: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>.from(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'a'</span></span>)) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">el</span></span></span><span class="hljs-function"> =&gt;</span></span> el.origin) .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">origin</span></span></span><span class="hljs-function"> =&gt;</span></span> origin !== <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.origin) .filter(<span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>);</code> </pre> <br>  Soit dit en passant, j'aime vraiment la construction <code>.filter(Boolean)</code> car lorsque je la rencontre dans le code que j'ai √©crit il y a longtemps, je peux √† peine comprendre imm√©diatement sa signification. <br><br><h2>  <font color="#3AC1EF">N ¬∞ 14: travailler avec des formulaires</font> </h2><br>  Vous savez tr√®s probablement que l'√©l√©ment <code>&lt;form&gt;</code> a une m√©thode <code>submit()</code> .  Cependant, il est moins probable que vous sachiez que les formulaires ont une m√©thode <code>reset()</code> et qu'ils ont une m√©thode <code>reportValidity()</code> , qui est applicable lorsque la validation du remplissage des √©l√©ments du formulaire est utilis√©e. <br><br>  Lorsque vous travaillez avec des formulaires, vous pouvez en outre utiliser leur propri√©t√© <code>elements</code> , qui, via un point, vous permet d'acc√©der aux √©l√©ments de formulaire √† l'aide de leurs attributs de <code>name</code> .  Par exemple, la construction <code>myFormEl.elements.email</code> l' <code>myFormEl.elements.email</code> <code>&lt;input name="email" /&gt;</code> appartenant au formulaire ("appartenance" ne signifie pas n√©cessairement "√™tre un descendant"). <br><br>  Il convient de noter ici que la propri√©t√© <code>elements</code> elle-m√™me ne renvoie pas une liste d'√©l√©ments ordinaires.  Il renvoie une liste de contr√¥les (et cette liste, bien s√ªr, n'est pas un tableau). <br><br>  Voici un exemple.  S'il y a trois boutons radio sur le formulaire et qu'ils ont tous le m√™me nom ( <code>animal</code> ), la construction <code>formEl.elements.animal</code> donnera un lien vers un ensemble de boutons radio (1 contr√¥le, 3 √©l√©ments HTML).  Et si vous utilisez la conception <code>formEl.elements.animal.value</code> , elle donnera la valeur du bouton radio s√©lectionn√© par l'utilisateur. <br><br>  Si vous y pensez, alors tout cela semble assez √©trange, alors examinons l'exemple pr√©c√©dent: <br><br><ul><li>  <code>formEl</code> est un √©l√©ment. </li><li>  <code>elements</code> est un objet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HTMLFormControlsCollection</a> qui ressemble √† un tableau mais ne l'est pas.  Ses √©l√©ments ne sont pas n√©cessairement des √©l√©ments HTML. </li><li>  <code>animal</code> est un ensemble de plusieurs boutons radio, pr√©sent√©s comme un ensemble car ils ont tous le m√™me attribut de <code>name</code> (il existe une interface <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RadioNodeList</a> con√ßue sp√©cifiquement pour travailler avec les boutons radio). </li><li>  <code>value</code> utilis√© pour acc√©der √† l'attribut <code>value</code> du bouton radio actif dans la collection. </li></ul><br><h2>  <font color="#3AC1EF"># 15: M√©thode Select ()</font> </h2><br>  Peut-√™tre qu'√† la fin du document, il serait pr√©f√©rable de parler d'une m√©thode absolument incroyable, bien que cette m√©thode soit peut-√™tre une r√©v√©lation pour quelqu'un.  Ainsi, la m√©thode <code>.select()</code> vous permet de s√©lectionner du texte dans les champs de saisie pour lesquels il est appel√©. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Dans cet article, nous avons parl√© de m√©thodes et de propri√©t√©s peu connues qui peuvent √™tre utilis√©es pour travailler avec le contenu des pages Web.  Nous esp√©rons que vous avez trouv√© ici quelque chose de nouveau pour vous-m√™me, et peut-√™tre pas seulement nouveau, mais aussi utile. <br><br>  <b>Chers lecteurs!</b>  Utilisez-vous des moyens d'interaction programmatique avec le contenu de pages Web peu connues? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416539/">https://habr.com/ru/post/fr416539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416527/index.html">Virgin Galactic a accept√© d'utiliser le port spatial italien</a></li>
<li><a href="../fr416531/index.html">Formation sur la durabilit√© GAN</a></li>
<li><a href="../fr416533/index.html">Le condens√© de mati√®res fra√Æches du monde du front-end de la derni√®re semaine n ¬∞ 322 (2 - 8 juillet 2018)</a></li>
<li><a href="../fr416535/index.html">√âv√©nements num√©riques √† Moscou du 9 au 15 juillet</a></li>
<li><a href="../fr416537/index.html">Ateliers √† Wireshark</a></li>
<li><a href="../fr416541/index.html">Foire aux questions sur les √©nergies renouvelables, partie 2</a></li>
<li><a href="../fr416543/index.html">PHP Digest n ¬∞ 134 (24 juin - 8 juillet 2018)</a></li>
<li><a href="../fr416545/index.html">Tranche d'exp√©rience personnelle: d√©veloppement, pull demandes, commits, comp√©tences logicielles</a></li>
<li><a href="../fr416547/index.html">Rostec quitte Yota Devices, un smartphone avec deux √©crans sera propos√© aux abonn√©s de l'agence de presse Xinhua</a></li>
<li><a href="../fr416549/index.html">Le mini sous-marin de sauvetage est en cours de test</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>