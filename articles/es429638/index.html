<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Ωüèº üìú üìï Chat, extracto: la arquitectura de chatbots complejos üôÖüèª üíÖüèΩ üßíüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los usuarios, despu√©s de hablar con asistentes de voz inteligentes, esperan inteligencia de los bots de chat. Si est√° desarrollando un bot para negoci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Chat, extracto: la arquitectura de chatbots complejos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429638/">  Los usuarios, despu√©s de hablar con asistentes de voz inteligentes, esperan inteligencia de los bots de chat.  Si est√° desarrollando un bot para negocios, las expectativas son a√∫n m√°s altas: el cliente quiere que el usuario siga el escenario deseado y preescrito, y el usuario quiere que el robot responda de manera inteligente y preferiblemente humana a las preguntas planteadas, ayude a resolver problemas y, a veces, solo apoye las peque√±as conversaciones. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0-/pv/i1/0-pvi1riz8k3g804x9fke0sre6w.jpeg"></div><br>  Hacemos bots de chat en ingl√©s que se comunican con los usuarios a trav√©s de varios canales: Facebook Messenger, SMS, Amazon Alexa y la web.  Nuestros bots reemplazan los servicios de soporte, los agentes de seguros y pueden simplemente chatear.  Cada una de estas tareas requiere su propio enfoque de desarrollo. <br><br>  En este art√≠culo le diremos en qu√© m√≥dulos est√° compuesto nuestro servicio, c√≥mo se hace cada uno de ellos, qu√© enfoque elegimos y por qu√©.  Compartiremos nuestra experiencia en el an√°lisis de diferentes herramientas: cuando las redes neuronales generativas no son la mejor opci√≥n, por qu√© en lugar de Doc2vec usamos Word2vec, cu√°l es el encanto y el horror de ChatScript, etc. <br><br><a name="habracut"></a><br>  A primera vista, puede parecer que los problemas que estamos resolviendo son bastante triviales.  Sin embargo, en el campo del procesamiento del lenguaje natural hay una serie de dificultades asociadas tanto con la implementaci√≥n t√©cnica como con el factor humano. <br><ol><li>  Mil millones de personas hablan ingl√©s, y cada hablante nativo lo usa a su manera: hay varios dialectos, caracter√≠sticas de habla individuales. </li><li>  Muchas palabras, frases y expresiones son ambiguas: un ejemplo t√≠pico est√° en esta imagen. </li><li>  La interpretaci√≥n correcta del significado de las palabras requiere contexto.  Sin embargo, el bot que le hace preguntas aclaratorias al cliente no parece tan bueno como el que puede cambiar a cualquier tema a solicitud del usuario y responder cualquier pregunta. <br></li><li>  A menudo, en el discurso y la correspondencia vivos, las personas descuidan las reglas gramaticales o responden tan brevemente que es casi imposible restaurar la estructura de la oraci√≥n. </li><li>  A veces, para responder la pregunta de un usuario, es necesario comparar su solicitud con los textos de preguntas frecuentes.  Al mismo tiempo, debe asegurarse de que el texto que se encuentra en las preguntas frecuentes es la respuesta y no solo contiene varias palabras que coinciden con la solicitud. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yz/zw/iy/yzzwiynir0jqsmzyjdcfrrrokoo.png"></div><br>  Estos son solo algunos de los aspectos m√°s obvios, y tambi√©n hay argot, jerga, humor, sarcasmo, errores de ortograf√≠a y pronunciaci√≥n, abreviaturas y otros problemas que dificultan el trabajo en esta √°rea. <br><br>  Para resolver estos problemas, desarrollamos un bot que utiliza un conjunto de enfoques.  La parte de IA de nuestro sistema consiste en un administrador de di√°logo, un servicio de reconocimiento e importantes microservicios complejos que resuelven problemas espec√≠ficos: clasificador de intenci√≥n, servicio de preguntas frecuentes, Small Talk. <br><br><h3>  Comienza una conversaci√≥n.  Gerente de di√°logo </h3><br>  La tarea de Dialog Manager en el bot es una simulaci√≥n de software de comunicaci√≥n con un agente en vivo: debe guiar al usuario a trav√©s de un escenario de conversaci√≥n hacia alg√∫n objetivo √∫til. <br>  Para hacer esto, en primer lugar, averig√ºe qu√© quiere el usuario (por ejemplo, calcule el costo del seguro para autom√≥viles) y, en segundo lugar, descubra la informaci√≥n necesaria (direcci√≥n y otros datos del usuario, datos sobre conductores y autom√≥viles).  Despu√©s de eso, el servicio deber√≠a dar una respuesta √∫til: complete el formulario y proporcione al cliente el resultado de estos datos.  Al mismo tiempo, no deber√≠amos preguntarle al usuario qu√© ya ha indicado. <br><br>  Dialog Manager le permite crear un escenario de este tipo: describirlo mediante programaci√≥n, construir a partir de peque√±os ladrillos: problemas o acciones espec√≠ficos que deber√≠an ocurrir en un momento determinado.  De hecho, el escenario es un gr√°fico dirigido, donde cada nodo es un mensaje, una pregunta, una acci√≥n, y el borde determina el orden y las condiciones de la transici√≥n entre estos nodos, si hay una opci√≥n m√∫ltiple de transici√≥n de un nodo a otro. <br>  Los principales tipos de nodos <br><ul><li>  Los nodos esperan hasta llegar a la cola y aparecer√°n en los mensajes. </li><li>  Nodos que esperan que el usuario muestre cierta intenci√≥n (por ejemplo, escriba: "Quiero obtener un seguro"). </li><li>  Nodos que esperan datos del usuario para validar y guardar. </li><li>  Nodos para la implementaci√≥n de varios dise√±os algor√≠tmicos (bucles, ramas, etc.). </li></ul><br>  Si el nodo est√° cerrado, el control ya no se transferir√° a √©l y el usuario no ver√° la pregunta que ya se le hizo.  Por lo tanto, si hacemos una b√∫squeda profunda en dicho gr√°fico hasta el primer nodo abierto, recibimos una pregunta que debe hacerse al usuario en un momento dado.  A su vez, respondiendo las preguntas que genera Dialog Manager, el usuario cerrar√° gradualmente todos los nodos en el gr√°fico, y se considerar√° que ha ejecutado el script prescrito.  Luego, por ejemplo, le damos al usuario una descripci√≥n de las opciones de seguro que podemos ofrecer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nt/sb/hp/ntsbhp9gpihkj2awmq8clkt6cl8.png"></div><br><h4>  "¬°Ya dije todo!" </h4><br>  Supongamos que le pedimos al usuario un nombre, y en un mensaje tambi√©n dar√° su fecha de nacimiento, nombre, sexo, estado civil, direcci√≥n o enviar√° una foto de su licencia de conducir.  El sistema extraer√° todos los datos relevantes y cerrar√° los nodos correspondientes, es decir, ya no se har√°n preguntas sobre la fecha de nacimiento y el g√©nero. <br><br><h4>  "Por cierto ..." </h4><br>  Dialog Manager tambi√©n brinda la capacidad de comunicarse simult√°neamente sobre varios temas.  Por ejemplo, un usuario dice: "Quiero obtener un seguro".  Luego, sin terminar este di√°logo, agrega: "Quiero hacer un pago en una p√≥liza previamente adjunta".  En tales casos, Dialog Manager guarda el contexto del primer tema, y ‚Äã‚Äãdespu√©s de completar el segundo script, ofrece reanudar el di√°logo anterior desde el lugar donde fue interrumpido. <br><br>  Es posible volver a las preguntas que el usuario ya ha respondido.  Para esto, el sistema guarda la instant√°nea del gr√°fico al recibir cada mensaje del cliente. <br><br><h4>  Cuales son las opciones? </h4><br>  Adem√°s del nuestro, consideramos otro enfoque de IA para la implementaci√≥n del administrador de di√°logo: la intenci√≥n del usuario y los par√°metros se alimentan a la entrada de la red neuronal, y el sistema mismo genera los estados correspondientes, la siguiente pregunta que debe formularse.  Sin embargo, en la pr√°ctica, este m√©todo requiere la adici√≥n de un enfoque basado en reglas.  Quiz√°s esta opci√≥n de implementaci√≥n sea adecuada para escenarios triviales, por ejemplo, para pedir comida, donde solo necesita obtener tres par√°metros: qu√© quiere pedir el usuario, cu√°ndo quiere recibir el pedido y d√≥nde llevarlo.  Pero en el caso de escenarios complejos, como en nuestra √°rea tem√°tica, esto a√∫n es inalcanzable.  Por el momento, las tecnolog√≠as de aprendizaje autom√°tico no pueden guiar cualitativamente al usuario hacia el objetivo en un escenario complejo. <br><br>  Dialog Manager est√° escrito en Python, Tornado framework, ya que inicialmente nuestra parte de IA fue escrita como un servicio √∫nico.  Se eligi√≥ un idioma en el que todo esto se puede realizar sin gastar recursos en comunicaci√≥n. <br><br><h3>  "Vamos a decidir".  Servicio de reconocimiento </h3><br>  Nuestro producto puede comunicarse a trav√©s de diferentes canales, pero la parte de IA es completamente independiente del cliente: esta comunicaci√≥n solo se presenta en forma de texto proxy.  El administrador de di√°logo transfiere el contexto, la respuesta del usuario y los datos recopilados al Servicio de reconocimiento, que es responsable de reconocer la intenci√≥n del usuario y recuperar los datos necesarios. <br>  Hoy, el Servicio de reconocimiento consta de dos partes l√≥gicas: el Administrador de reconocimiento, que gestiona la canalizaci√≥n de reconocimiento, y los extractores. <br><br><h4>  Gerente de reconocimiento </h4><br>  Recognition Manager es responsable de todas las etapas b√°sicas del reconocimiento del significado del habla: tokenizaci√≥n, lematizaci√≥n, etc. Tambi√©n determina el orden de los extractores (objetos que reconocen entidades y atributos en los textos) por los que se omitir√° un mensaje, y decide cu√°ndo detener el reconocimiento y devolverlo. Resultado terminado.  Esto le permite ejecutar solo los extractores necesarios en el orden m√°s esperado. <br><br>  Si le preguntamos cu√°l es el nombre del usuario, es l√≥gico verificar primero si el nombre figura en la respuesta.  El nombre ha llegado y no hay m√°s texto √∫til, lo que significa que el reconocimiento se puede completar en este paso.  Han aparecido otras entidades √∫tiles, lo que significa que el reconocimiento debe continuar.  Lo m√°s probable es que la persona haya agregado otros datos personales; en consecuencia, debe ejecutar el extractor para procesar datos personales. <br><br>  Dependiendo del contexto, el orden de puesta en marcha de los extractores puede variar.  Este enfoque nos permite reducir significativamente la carga en todo el servicio. <br><br><h4>  Extractores </h4><br>  Como se mencion√≥ anteriormente, los extractores pueden reconocer ciertas entidades y atributos en los textos.  Por ejemplo, un extractor reconoce n√∫meros de tel√©fono;  otro determina si una persona respondi√≥ positiva o negativamente a una pregunta;  el tercero: reconoce y verifica la direcci√≥n en el mensaje;  el cuarto son datos sobre el veh√≠culo del usuario.  Pasar un mensaje a trav√©s de un conjunto de extractores: este es el proceso de reconocer nuestros mensajes entrantes. <br><br>  Para el funcionamiento √≥ptimo de cualquier sistema complejo, es necesario combinar enfoques.  Nos adherimos a este principio cuando trabajamos en extractores.  Destacar√© algunos de los principios de trabajo que utilizamos en los extractores. <br><br>  Usando nuestros microservicios con Machine Learning dentro (los extractores env√≠an un mensaje a este servicio, a veces lo complementan con la informaci√≥n que tienen y devuelven el resultado). <br><br><ul><li>  Uso de etiquetado POS, an√°lisis sint√°ctico, an√°lisis sem√°ntico (por ejemplo, determinar la intenci√≥n del usuario por el verbo) </li><li>  Uso de la b√∫squeda de texto completo (se puede usar para encontrar la marca y el modelo de la m√°quina en los mensajes) </li><li>  Uso de expresiones regulares y patrones de respuesta </li><li>  Uso de API de terceros (como la API de Google Maps, SmartyStreets, etc.) </li><li>  Una b√∫squeda textual de oraciones (si una persona respondi√≥ "s√≠" en breve, entonces no tiene sentido pasarlo a trav√©s de algoritmos ML para buscar la intenci√≥n). </li><li>  Tambi√©n utilizamos soluciones de procesamiento de lenguaje natural listas para usar en extractores. </li></ul><br><h4>  Cuales son las opciones? </h4><br>  Observamos las bibliotecas NLTK, Stanford CoreNLP y SpaCy.  NLTK cae primero en los SERP de Google cuando comienza una revisi√≥n de NLP.  Es muy bueno para las soluciones de creaci√≥n de prototipos, tiene una amplia funcionalidad y es bastante simple.  Pero su rendimiento es pobre. <br><br>  Stanford CoreNLP tiene un serio inconveniente: extrae una m√°quina virtual Java con m√≥dulos muy grandes, bibliotecas integradas y consume muchos recursos.  Adem√°s, el resultado de esta biblioteca es dif√≠cil de personalizar. <br><br>  Como resultado, nos instalamos en SpaCy, porque tiene suficiente funcionalidad para nosotros y tiene la relaci√≥n √≥ptima de ligereza y velocidad.  La biblioteca SpaCy funciona docenas de veces m√°s r√°pido que NLTK y ofrece diccionarios mucho mejores.  Sin embargo, es mucho m√°s f√°cil que Stanford CoreNLP. <br><br>  Por el momento, utilizamos spaCy para la tokenizaci√≥n, vectorizaci√≥n de mensajes (utilizando la red neuronal entrenada incorporada), reconocimiento primario de par√°metros del texto.  Como la biblioteca cubre solo el 5% de nuestras necesidades de reconocimiento, tuvimos que agregar muchas funciones. <br><br><h4>  "Sol√≠a ‚Äã‚Äãser ..." </h4><br>  El servicio de reconocimiento no siempre ha sido una estructura de dos partes.  La primera versi√≥n fue la m√°s trivial: nos turnamos para usar diferentes extractores y tratamos de entender si hab√≠a alg√∫n par√°metro o intenci√≥n en el texto.  La IA ni siquiera ol√≠a all√≠: era un enfoque completamente basado en reglas.  La dificultad era que la misma intenci√≥n se puede expresar de una gran cantidad de formas, cada una de las cuales debe describirse en las reglas.  En este caso, es necesario tener en cuenta el contexto, ya que la misma frase de usuario, dependiendo de la pregunta planteada, puede requerir diferentes acciones.  Por ejemplo, del di√°logo: "¬øEst√°s casado?"  - "Ya dos a√±os", puede entender que el usuario est√° casado (significado booleano).  Y del di√°logo "¬øCu√°nto tiempo manejas este auto?"  - "Ya dos a√±os" necesita extraer el valor "2 a√±os". <br><br>  Desde el principio, entendimos que el soporte de soluciones basadas en reglas requerir√≠a mucho esfuerzo y, a medida que aumenta el n√∫mero de intenciones compatibles, el n√∫mero de reglas aumentar√° mucho m√°s r√°pido que en el caso de un sistema basado en ML.  Sin embargo, el punto de vista de los negocios.  necesit√°bamos ejecutar MVP, un enfoque basado en reglas nos permiti√≥ hacerlo r√°pidamente.  Por lo tanto, lo usamos y, en paralelo, trabajamos en el modelo ML de reconocimiento de intenciones.  Tan pronto como apareci√≥ y comenz√≥ a dar resultados satisfactorios, gradualmente comenzaron a alejarse del enfoque basado en reglas. <br><br>  Para la mayor√≠a de los casos de extracci√≥n de informaci√≥n, utilizamos ChatScript.  Esta tecnolog√≠a proporciona su propio lenguaje declarativo que le permite escribir plantillas para extraer datos de un lenguaje natural.  Gracias a WordNet, esta soluci√≥n es muy poderosa bajo el cap√≥ (por ejemplo, puede especificar un "color" en la plantilla de reconocimiento, y WordNet reconoce cualquier concepto de limitaci√≥n, como "rojo").  No vimos an√°logos en ese momento.  Pero ChatScript est√° escrito de forma muy torcida y con errores, con su uso es casi imposible implementar una l√≥gica compleja. <br><br>  Al final, las desventajas se superaron y abandonamos ChatScript en favor de las bibliotecas de PNL en Python. <br>  En la primera versi√≥n del Servicio de reconocimiento, llegamos al l√≠mite de la flexibilidad.  La introducci√≥n de cada nueva caracter√≠stica desaceler√≥ en gran medida todo el sistema en su conjunto. <br><br>  As√≠ que decidimos reescribir completamente el Servicio de reconocimiento, dividi√©ndolo en dos partes l√≥gicas: extractores peque√±os y livianos y el Administrador de reconocimiento, que administrar√° el proceso. <br><br><h3>  "¬øQu√© quieres?"  Clasificador de intenciones </h3><br>  Para que el bot se comunique adecuadamente, para proporcionar la informaci√≥n necesaria a pedido y registrar los datos del usuario, es necesario determinar la intenci√≥n (intenci√≥n) del usuario en funci√≥n del texto que se le envi√≥.  La lista de intenciones por las cuales podemos interactuar con los usuarios est√° limitada por las tareas comerciales del cliente: puede ser la intenci√≥n de averiguar las condiciones del seguro, completar informaci√≥n sobre usted, obtener una respuesta a una pregunta frecuente, etc. <br><br>  Existen muchos enfoques para la clasificaci√≥n de intentos basados ‚Äã‚Äãen redes neuronales, en particular, en LSTM / GRU recurrente.  Se han demostrado en estudios recientes, pero tienen un inconveniente com√∫n: se requiere una muestra muy grande para un funcionamiento adecuado.  En una peque√±a cantidad de datos, tales redes neuronales son dif√≠ciles de entrenar o producen resultados insatisfactorios.  Lo mismo ocurre con el marco de texto r√°pido de Facebook (lo revisamos porque es una soluci√≥n de vanguardia para procesar frases cortas y medianas). <br><br>  Nuestras muestras de capacitaci√≥n son de muy alta calidad: los conjuntos de datos est√°n formados por un equipo de ling√ºistas a tiempo completo que dominan el ingl√©s y conocen los detalles del campo de los seguros.  Sin embargo, nuestras muestras son relativamente peque√±as.  Intentamos diluirlos con conjuntos de datos p√∫blicos, pero esos, con raras excepciones, no coincid√≠an con nuestros detalles.  Tambi√©n intentamos atraer a freelancers con Amazon Mechanical Turk, pero este m√©todo tambi√©n result√≥ inoperante: los datos que enviaron eran de calidad parcialmente pobre, las muestras tuvieron que ser verificadas nuevamente. <br><br>  Por lo tanto, est√°bamos buscando una soluci√≥n que funcione en una muestra peque√±a.  La buena calidad del procesamiento de datos fue demostrada por el clasificador Random Forest, capacitado en datos que se convirtieron en los vectores de nuestro modelo de bolsa de palabras.  Mediante la validaci√≥n cruzada, seleccionamos los par√°metros √≥ptimos.  Entre las ventajas de nuestro modelo est√°n la velocidad y el tama√±o, as√≠ como la relativa facilidad de implementaci√≥n y reciclaje. <br><br>  En el proceso de trabajar en el Clasificador de intenci√≥n, qued√≥ claro que para algunas tareas su uso no es √≥ptimo.  Supongamos que un usuario desea cambiar el nombre indicado en el seguro o el n√∫mero del autom√≥vil.  Para que el clasificador determine correctamente esta intenci√≥n, habr√≠a que agregar manualmente al conjunto de datos todas las frases de plantilla que se utilizan en este caso.  Encontramos otra forma: hacer un peque√±o extractor para el Servicio de reconocimiento, que determina la intenci√≥n por palabras clave y m√©todos de PNL, y usar Clasificador de intenci√≥n para frases no est√°ndar en las que el m√©todo con palabras clave no funciona. <br><br><h3>  "Siempre preguntan por esto".  FAQ </h3><br>  Muchos de nuestros clientes tienen secciones de preguntas frecuentes.  Para que el usuario recibiera dichas respuestas directamente del chatbot, era necesario proporcionar una soluci√≥n que a) reconociera la solicitud de preguntas frecuentes;  b) encontrar√≠a la respuesta m√°s relevante en nuestra base de datos y la emitir√≠a. <br><br>  Hay varios modelos entrenados en el conjunto de datos de Stanford SQUAD.  Funcionan bien cuando el texto de respuesta de las preguntas frecuentes contiene las palabras de la pregunta del usuario.  Digamos que las preguntas frecuentes dicen: "Frodo dijo que llevar√≠a el Anillo a Mordor, aunque no sab√≠a el camino".  Si el usuario pregunta: "¬øA d√≥nde llevar√° Frodo el Anillo?", El sistema responder√°: "A Mordor". <br><br>  Nuestro escenario, como regla, era diferente.  Por ejemplo, para dos solicitudes similares: "¬øPuedo pagar?"  y "¬øPuedo pagar en l√≠nea?"  El bot debe responder de manera diferente: en el primer caso, ofrezca a una persona una forma de pago, en la segunda respuesta, s√≠, puede pagar en l√≠nea, aqu√≠ est√° la direcci√≥n de la p√°gina. <br><br>  Otra clase de soluciones para evaluar la similitud de los documentos se centra en respuestas largas, al menos algunas sugerencias, entre las cuales se incluye informaci√≥n de inter√©s para el usuario.  Desafortunadamente, en casos con preguntas y respuestas breves (‚Äú¬øC√≥mo pago en l√≠nea?‚Äù - ‚ÄúPuede pagar con PayPal‚Äù) funcionan de manera muy inestable. <br><br>  Otra soluci√≥n es el enfoque Doc2vec: el texto grande se destila en una representaci√≥n vectorial, que luego se compara con otros documentos en la misma forma y se revela el coeficiente de similitud.  Este enfoque tambi√©n tuvo que ser eliminado: se enfoca en textos largos, pero tratamos principalmente con preguntas y respuestas de una o dos oraciones. <br><br>  Nuestra decisi√≥n se bas√≥ en dos pasos.  Primero: usando incrustaciones, tradujimos cada palabra en una oraci√≥n en vectores usando el modelo Google Word2vec.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de eso, consideramos el vector promedio para todas las palabras, representando una oraci√≥n en forma de un vector. </font><font style="vertical-align: inherit;">El segundo paso, tomamos el vector de la pregunta y lo encontramos en la base de datos de preguntas frecuentes, almacenado en el mismo formulario vectorial, la respuesta m√°s cercana hasta cierto punto, en nuestro caso, el coseno. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las ventajas incluyen facilidad de implementaci√≥n, extensibilidad muy f√°cil e interpretabilidad bastante simple. </font><font style="vertical-align: inherit;">Las desventajas son una d√©bil oportunidad de optimizaci√≥n: este modelo es dif√≠cil de modificar: funciona bien en la mayor√≠a de sus casos de usuario o debe abandonarlo.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"¬øY hablar?" </font><font style="vertical-align: inherit;">Peque√±a charla</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A veces, el usuario escribe algo completamente irrelevante, por ejemplo: "Hoy hace buen tiempo". </font><font style="vertical-align: inherit;">Esto no est√° incluido en la lista de intenciones que nos interesan, pero a√∫n queremos responder de manera significativa, demostrando la inteligencia de nuestro sistema. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para tales decisiones, se usa una combinaci√≥n de los enfoques descritos anteriormente: se basan en soluciones muy simples basadas en reglas o en redes neuronales generativas. </font><font style="vertical-align: inherit;">Quer√≠amos obtener un prototipo temprano, por lo que tomamos un conjunto de datos p√∫blico de Internet y utilizamos un enfoque muy similar al utilizado para las preguntas frecuentes. </font><font style="vertical-align: inherit;">Por ejemplo, un usuario escribi√≥ algo sobre el clima, y ‚Äã‚Äãutilizando un algoritmo que compara las representaciones vectoriales de dos oraciones con una determinada medida del coseno, buscamos una oraci√≥n en el conjunto de datos p√∫blicos que est√© lo m√°s cerca posible del tema del clima.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Entrenamiento </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora no tenemos el objetivo de crear un bot que se capacite en cada mensaje recibido de los clientes: en primer lugar, como lo demuestra la experiencia, este es el camino hacia la muerte del bot (recuerde c√≥mo IBM Watson </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tuvo que borrar la base</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> porque comenz√≥ a diagnosticar con un tapete y el bot de Twitter de Microsoft </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logr√≥ convertirse en racista en</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> solo un d√≠a). En segundo lugar, nos esforzamos por cerrar las tareas de las compa√±√≠as de seguros de la manera m√°s cualitativa posible; Un robot de autoaprendizaje no es nuestra tarea comercial. Hemos escrito una serie de herramientas para ling√ºistas y comandos de control de calidad con los que pueden entrenar manualmente a los bots, explorar di√°logos y correspondencia con los usuarios durante la moderaci√≥n posterior.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo, nuestro bot ya parece estar listo para pasar la prueba de Turing. </font><font style="vertical-align: inherit;">Algunos usuarios comienzan una conversaci√≥n seria con √©l, creyendo que est√°n hablando con un agente de seguros, y uno incluso comenz√≥ a amenazar con una queja al jefe cuando el bot lo entendi√≥ mal.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Planes </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora estamos trabajando en la parte visual: mostrar el gr√°fico completo del script y la capacidad de componerlo usando la GUI. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el lado del Servicio de Reconocimiento, estamos introduciendo un an√°lisis ling√º√≠stico para reconocer y comprender el significado de cada palabra en el mensaje. </font><font style="vertical-align: inherit;">Esto mejorar√° la precisi√≥n de la reacci√≥n y extraer√° datos adicionales. </font><font style="vertical-align: inherit;">Por ejemplo, si una persona llena un seguro de auto y menciona que tiene una casa sin seguro, el bot podr√° recordar este mensaje y enviarlo al operador para contactar al cliente y ofrecerle un seguro de hogar.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otra caracter√≠stica en el trabajo es el procesamiento de comentarios. Despu√©s de completar el di√°logo con el bot, le preguntamos al usuario si le gust√≥ el servicio. Si Sentiment Analysis reconoci√≥ la opini√≥n del usuario como positiva, lo invitamos a compartir su opini√≥n en las redes sociales. Si el an√°lisis muestra que el usuario reaccion√≥ negativamente, el bot aclara lo que estaba mal, corrige la respuesta, dice: "OK, lo arreglaremos" y no ofrece compartir la revisi√≥n en la transmisi√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una de las claves para hacer que la comunicaci√≥n con el bot sea lo m√°s natural posible es hacer que el bot sea modular y ampliar el rango de reacciones disponibles. Estamos trabajando en eso. Tal vez debido a esto, el usuario estaba listo para tomar sinceramente nuestro bot como agente de seguros. El siguiente paso: aseg√∫rese de que la persona est√© tratando de agradecerle al bot.</font></font><br><br><hr><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El art√≠culo fue escrito con Sergei Kondratyuk y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Kazakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Escriba sus preguntas en los comentarios, prepararemos materiales m√°s pr√°cticos sobre ellas.</font></font></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429638/">https://habr.com/ru/post/es429638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429628/index.html">C√≥mo crear un bot de chat para VKontakte usando Python, Django y webhook</a></li>
<li><a href="../es429630/index.html">"Los monstruos en los juegos o hacen que el miedo sea diverso"</a></li>
<li><a href="../es429632/index.html">Razones para negarse a hospedarse cuando se agrega a directorios</a></li>
<li><a href="../es429634/index.html">As√≠ es como funciona la b√∫squeda de pr√©stamos en el Anti-Plagio</a></li>
<li><a href="../es429636/index.html">Instale 3CX PBX en Amazon Lightsail Cloud</a></li>
<li><a href="../es429640/index.html">Eliminemos los cuaterniones de todos los motores 3D.</a></li>
<li><a href="../es429642/index.html">Semana de la seguridad 46: Actualicemos algo</a></li>
<li><a href="../es429644/index.html">Foco regulable GX53 con √°ngulo de iluminaci√≥n ajustable</a></li>
<li><a href="../es429648/index.html">DNS Over TLS y Over HTTPS ahora en iOS / Android y todas las redes a la vez [Gracias Cloudflare]</a></li>
<li><a href="../es429652/index.html">Webinar abierto "Contrataci√≥n en TI: de la aplicaci√≥n a la oferta"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>