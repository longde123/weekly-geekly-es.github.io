<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🍳 👨🏽‍🎨 🏕️ Erstellen Sie prozedurale Planetenkugeln 🕓 🖥️ 👨🏿‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Verzerrung, nahtloses Rauschen und wie man damit arbeitet. 


 Wir erzeugen einen Planeten 
 Eine der einfachsten Möglichkeiten, einen Planeten zu erz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen Sie prozedurale Planetenkugeln</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448324/">  <em>Verzerrung, nahtloses Rauschen und wie man damit arbeitet.</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/400/20a/dde/40020adde06482d85b634f28a2d6e74a.png" alt="Bild"></div><br><h3>  Wir erzeugen einen Planeten </h3><br>  Eine der einfachsten Möglichkeiten, einen Planeten zu erzeugen, ist die Verwendung von Rauschen.  Wenn wir uns dafür entscheiden, haben wir einige mögliche Optionen.  Schauen wir uns die einzelnen an und ermitteln Sie die besten: <br><br><ul><li>  <strong>Perlin Noise</strong> ist die einfachste Option.  Das Perlin-Rauschen wurde 1983 von Ken Perlin entwickelt. Es weist einige Nachteile auf - visuelle Artefakte und die Geschwindigkeit bei der Erzeugung großer Bilder sind im Vergleich zu anderen Optionen eher gering. </li><li>  <strong>Simplex Noise (Simplex Noise)</strong> - 2001 von Ken Perlin entwickelt, um die Defekte des Perlin-Rauschens zu beseitigen  Dies ist eine sehr wertvolle und schnelle Lösung, jedoch mit einem schwerwiegenden Nachteil: Die Verwendung von dreidimensionalem Simplex-Rauschen ist durch ein Patent geschützt, was es ziemlich teuer macht. </li><li>  <strong>Open Simplex Noise</strong> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">KDotJPG</a> wurde mit einem einfachen Ziel entwickelt: eine moderne und kostenlose Version von Simplex Noise zu erstellen, relativ schnell und ohne Verzerrung. </li></ul><br>  Von diesen dreien bevorzuge ich persönlich Open Simplex Noise, das ich in meinen persönlichen Projekten verwende.  Es ist erwähnenswert, dass in der aktuellen OpenSimplexNoise-Implementierung zusätzliche Arbeit erforderlich ist, um einen einfachen Zugriff auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Skalierung, Oktaven und Generatoren zu erhalten</a> .  Im Internet gibt es viele Informationen darüber, was jedes dieser Elemente bewirkt, und ich empfehle Ihnen dringend, es zu studieren.  In meinem Artikel werde ich jedoch nicht darüber sprechen. <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa6/85f/5bb/fa685f5bb817c45cd368af2aa7c206a0.png"></div><br>  <i>So sieht Open Simplex Noise mit 16 Oktaven aus.</i> <br><br><h3>  Nahtloses Geräusch </h3><br>  Das Rauschen ist endlos, was bedeutet, dass, wenn wir einfach eine Leinwand mit einem Seitenverhältnis von 2: 1 erstellen, um eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Projektion mit gleichem Abstand zu erhalten</a> , diese nicht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">überlagert</a> wird, wenn <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sie einer Kugel überlagert wird</a> (ich bedanke mich bei dieser erstaunlichen Website), sondern auf einer horizontalen Naht und an den Polen große Unterschiede. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/69b/aa7/cce/69baa7ccea9425dfd0f641b2272905f0.png" alt="Bild"></div><br>  <i>Lärm ohne Nähte.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/497/873/4b0/4978734b0a9386c37eecbc9563bf7f96.png" alt="Bild"></div><br>  <i>Beachten Sie die riesigen Nähte, die auftraten, als das Rauschen auf die Kugel angewendet wurde.</i> <br><br>  Es gibt viele Möglichkeiten, dies zu beheben.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">In diesem hervorragenden Beitrag von</a> Red Blob Games <i>[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Übersetzung</a> auf Habré] war</i> es beispielsweise ausreichend, eine Insel mit einer Funktion zu generieren, die den Abstand zum Zentrum als Variable empfängt und die Höhe 0 an den Rändern festlegt, um die Nähte zu minimieren. <br><br>  Dies ist jedoch nicht das, was wir brauchen.  Wir wollen einen Planeten mit der Möglichkeit der Existenz des Nord- und Südpols erzeugen, und dafür benötigen wir komplexere mathematische Berechnungen. <br><br><h4>  Sphärische Überlagerung </h4><br>  Eine Methode, mit der sphärische Planeten erzeugt werden können, besteht darin, die kartesischen Koordinaten unserer Leinwand in sphärische Koordinaten umzuwandeln, basierend auf diesen Koordinaten Rauschen zu erzeugen und das Rauschen dann wieder in kartesische Koordinaten umzuwandeln und auf die Leinwand anzuwenden. <br><br>  Diese Implementierung hat jedoch ihre Grenzen, deren Ursachen in einem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">erstaunlichen Beitrag von Ron Valstar aufgezeigt werden</a> .  Das Wichtigste ist, dass die Formen der Kontinente in diesem Fall äußerst seltsam und verzerrt aussehen. Daher werden wir diese Option nicht verwenden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e18/349/329/e18349329ff3a646eba44e82bbde1bb7.png" alt="Bild"></div><br>  <i>Überlagerung mit sphärischem Rauschen.</i>  <i>Seltsame Formen und Verzerrungen machen die Kontinente ziemlich hässlich.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8df/652/984/8df6529849ed4df493b4243db9ce04a0.png" alt="Bild"></div><br>  <i>Aber zumindest gibt es keine Nähte mehr.</i> <br><br><h4>  Kubische Überlagerung </h4><br>  Als Ergebnis habe ich die zweite Methode verwendet, die aus einem Beitrag von Ron Valstar und einer Reihe von Artikeln von acko <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Making Worlds stammt</a> .  Sie beschreiben die Erzeugung eines Globus durch die Erzeugung eines Würfels und seine "Inflation", als wäre es ein Ballon, bis er ein Beispiel für die Form einer Kugel war. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e3/4ce/d5e/0e34ced5eea890cc14d43df596796c08.png"></div><br>  <i>Bild von acko.net genommen.</i>  <i>Es erklärt das Konzept einer kubischen Karte auf einfache visualisierte Weise.</i> <br><br>  Jetzt müssen wir nur noch sechs Gesichter erzeugen, was recht einfach ist. Es gibt viele Möglichkeiten, dies zu tun. <br><br>  Am Ende habe ich beschlossen, ein Array zu erstellen und es mit Daten zu füllen.  Ich habe die 2D-Koordinaten der Leinwand in die 3D-Koordinaten des Würfels konvertiert und dann für jede dieser 3D-Koordinaten Rauschen generiert, sodass ich sie auf dem entsprechenden 2D-Koordinatenwert gespeichert habe. <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//Z STATIC for(int y = 0; y &lt; cubeFaceSize; y++) { for(int x = 0; x &lt; cubeFaceSize * 2; x++) { //Generates FRONT if(x &lt; cubeFaceSize) { cubeMap[cubeFaceSize+x][cubeFaceSize+y] = noise.noise3D(x, y, 0); } //Generates BACK else { cubeMap[cubeFaceSize*3+(x-cubeFaceSize)][cubeFaceSize+y] = noise.noise3D(cubeFaceSize-(x-cubeFaceSize), y, cubeFaceSize); } } } //X STATIC for(int y = 0; y &lt; cubeFaceSize; y++) { for(int x = 0; x &lt; cubeFaceSize * 2; x++) { //Generates LEFT if(x &lt; cubeFaceSize) { cubeMap[x][cubeFaceSize+y] = noise.noise3D(0, y, cubeFaceSize-x); } //Generates RIGHT else { cubeMap[cubeFaceSize*2+(x-cubeFaceSize)][cubeFaceSize+y] = noise.noise3D(cubeFaceSize, y, x-cubeFaceSize); } } } //Y STATIC for(int y = 0; y &lt; cubeFaceSize * 2; y++) { for(int x = 0; x &lt; cubeFaceSize; x++) { //Generates TOP if(y &lt; cubeFaceSize) { cubeMap[cubeFaceSize+x][y] = noise.noise3D(x, 0, cubeFaceSize-y); } //Generates BOTTOM else { cubeMap[cubeFaceSize+x][cubeFaceSize*2+(y-cubeFaceSize)] = noise.noise3D(x, cubeFaceSize, y-cubeFaceSize); } } }</span></span></code> </pre> <br>  Auf diese Weise können wir eine kubische Karte erstellen, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit dem wunderbaren Code von Bartosz</a> leicht in eine Projektion <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit</a> gleichem Abstand konvertiert werden kann. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/79d/0b4/68a/79d0b468aeb2369d2d1dd7bb36e1b4c9.png" alt="Bild"></div><br>  <i>Algorithmus erzeugte kubische Karte.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/400/20a/dde/40020adde06482d85b634f28a2d6e74a.png" alt="Bild"></div><br>  <i>Äquidistante Transformation einer kubischen Karte.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c84/c0c/c95/c84c0cc95f5dd011a9db111d1677252b.png" alt="Bild"></div><br>  <i>Ein kubischer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kartenglobus, der</a> auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">maptoglobe.com</a> gerendert wurde.</i> <br><br>  Wie Sie sehen können, hat eine äquidistante Karte viel schönere Formen, und wenn sie einer Kugel überlagert wird, erzeugt sie ähnliche Ergebnisse wie die sphärische Überlagerung, ohne all ihre Nachteile.  Übrigens kann eine äquidistante Projektion von verschiedenen Programmen, beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NASA G.Projector</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">problemlos</a> in nahezu jeden Kartentyp konvertiert werden. <br><br><h2>  Abschließend </h2><br>  Das Erzeugen eines ganzen Planeten kann wie eine entmutigende Aufgabe erscheinen, und obwohl Rauschen bei korrekter Verwendung ein ziemlich mächtiges Werkzeug ist, hat es seine eigenen Probleme, mit denen Menschen seit vielen Jahrhunderten konfrontiert sind, wie das Überlagern eines Globus auf einer 2D-Leinwand mit minimaler Verzerrung. <br><br>  Die von mir vorgeschlagene Lösung erzeugt sehr grob erzeugte Planeten, die tektonische Platten, Flüsse, Inselketten und sogar Berge nicht berücksichtigen, und kann daher nur als Demonstration oder als Grundlage für komplexere Simulationen verwendet werden. <br><br>  Tatsächlich wird nur eine Wertematrix in einem bestimmten Wertebereich erstellt.  Für Graustufenbilder ist dies 0-255.  Die Werte werden dann in ein Pixel konvertiert, das ein Bild ähnlich dem ersten Bild in Graustufen erstellt, oder in ein Bild im Bereich von -11000 bis 8000, um den realen Höhenunterschied zu simulieren. Anschließend werden die Pixel gemäß den Höhenintervallen gefärbt <em>(z. B. Werte ab 0) 5 sind sandfarben gefärbt, um die Küste zu simulieren)</em> . <br><br><blockquote>  Beim Aufbau des Universums verwendete Gott Mathematik auf höherer Ebene. <br><br>  <i>- Paul Dirac</i> </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de448324/">https://habr.com/ru/post/de448324/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de448308/index.html">Data Science Digest (April 2019)</a></li>
<li><a href="../de448310/index.html">Schreiben eines Telegrammbots in Python mit der Telebot-Bibliothek Teil 1</a></li>
<li><a href="../de448316/index.html">Bestimmung der Hunderasse: Ein vollständiger Entwicklungszyklus, von einem neuronalen Netzwerk in Python bis zu einer Anwendung bei Google Play</a></li>
<li><a href="../de448320/index.html">Warum Silizium und warum CMOS?</a></li>
<li><a href="../de448322/index.html">C ++ Russia 2019: kostenlose Übertragung der ersten Halle und ein wenig darüber, was auf der Konferenz sein wird</a></li>
<li><a href="../de448326/index.html">Durchschauen. Wie kann man Fächer studieren, ohne sie zu brechen?</a></li>
<li><a href="../de448328/index.html">In Moskau wird ein Drucker gezeigt, der Organe und Gewebe druckt</a></li>
<li><a href="../de448330/index.html">Zufallszahlen und dezentrale Netzwerke: Eine praktische Anwendung</a></li>
<li><a href="../de448332/index.html">IT-Adhärenten initiieren: Zeigen Sie Ihre Stärke auf einem Riff</a></li>
<li><a href="../de448334/index.html">Wenn jemandes Produktivität Interesse weckt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>