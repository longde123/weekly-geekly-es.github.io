<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚¨úÔ∏è üßñüèø üöä Conectamos el LCD "dom√©stico" 16x2 MT-16S2S por SPI ü§õ üêç üë©üèº‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La tendencia de sustituci√≥n de importaciones empuj√≥ a probar el indicador LCD simb√≥lico de MELT. Tomamos el MT-16S2S en el ST7070. En cierto modo, est...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conectamos el LCD "dom√©stico" 16x2 MT-16S2S por SPI</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397977/"><img src="https://habrastorage.org/files/246/bc1/f9e/246bc1f9e3fb4d1aa8f5b4d1ecc5aca2.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tendencia de sustituci√≥n de importaciones empuj√≥ a probar el indicador LCD simb√≥lico de MELT. </font><font style="vertical-align: inherit;">Tomamos el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MT-16S2S</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el ST7070. </font><font style="vertical-align: inherit;">En cierto modo, este es un an√°logo del conocido WH-1602 en 44780. Tambi√©n es compatible con el modo SPI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MELT tambi√©n recopila pantallas en el controlador dom√©stico KB1013VG6 de Integral. </font><font style="vertical-align: inherit;">Tiene una diferencia de funcionamiento en modo de 4 bits con respecto al est√°ndar 44780, que ya se ha convertido en est√°ndar.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sitio del fabricante tiene un c√≥digo de ejemplo para trabajar en diferentes modos. Pero est√° escrito en ensamblador y bajo una plataforma abstracta en el vac√≠o. Rehacerlo en STM es como volver a escribir. La experiencia de usar bibliotecas listas para usar, incluso para el 44780 com√∫n, tampoco puedo llamar positivo. Deben editarse durante mucho tiempo bajo la plataforma deseada y el modelo de controlador. Y la mayor√≠a de ellos usan la funci√≥n de retraso bajo AVR, que "por alguna raz√≥n" no se proporciona para STM. E incluso lo que comenz√≥ funciona muy mal, ahora saca algo y luego se congela. Por lo tanto, se decidi√≥ escribir su propia biblioteca. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, el MT-16S2S tiene otra caracter√≠stica: la interfaz SPI, que le permite reducir el n√∫mero de patas del controlador a 4. Por lo tanto, la salida se organizar√° con precisi√≥n a trav√©s de SPI.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/7d9/81f/bcf/7d981fbcffac47de9590c44a473d7050.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sistema de comando se describe con cierto detalle. En general, en toda la situaci√≥n actual, cuando casi no hay productos electr√≥nicos dom√©sticos en la vida cotidiana, es muy agradable, aunque inusual, leer la descripci√≥n de microcircuitos y otros productos en ruso (no traducido del ingl√©s o chino, como "El b√°lsamo de tigre blanco cae la prote√≠na de la muerte"). Es cierto que a veces te encuentras con perlas que piensas que "ser√≠a mejor en ingl√©s". Pero aqu√≠ est√° todo bien.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/92e/1c9/04a/92e1c904a29147dba1b7428acd3b8054.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conexi√≥n es casi est√°ndar. VCC, E, D0-D4 m√°s potencia, A0, GND, R / W y PSB a tierra; Con√©ctese al controlador: D5‚Äì a CS, D6 ‚Äì‚Äì a SCK, D7 ‚Äì‚Äì a MOSI, XRES‚Äì a cualquier GPIO. Me conect√© a MISO, como todav√≠a lo gestiono program√°ticamente. En el sitio en la descripci√≥n, por cierto, se da el esquema incorrecto. Se indica que el D5 est√° tirando hacia la potencia plus, pero esto es CS. El foro escribi√≥ que lo sab√≠an, pero hasta ahora no se ha solucionado nada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las conclusiones para la luz de fondo se pueden dejar libres, pero es mejor, por supuesto, trabajar con la luz de fondo, y para esto, conectar el √°nodo a trav√©s de una resistencia de 10-30 ohmios a la alimentaci√≥n y el c√°todo a la tierra. La salida para controlar el contraste, por extra√±o que parezca, no controla nada en el indicador de 5 voltios. Lo dej√© colgando en el aire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra caracter√≠stica interesante es la presencia de dos p√°ginas del generador de caracteres. </font><font style="vertical-align: inherit;">Gracias a esto, puede mostrar una gran cantidad de </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">basura desconocida en una</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> amplia variedad de personajes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/2fe/da6/c3b/2feda6c3bcb34bae94f8d9b5065cce3e.PNG"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/a0b/c09/9ae/a0bc099ae8d6445f88bcd5a572d26372.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero si ha elegido una pantalla "dom√©stica" para trabajar con el alfabeto cir√≠lico, le espera una sorpresa. </font><font style="vertical-align: inherit;">Las letras rusas que no tienen an√°logos en el alfabeto latino se encuentran en la primera p√°gina. </font><font style="vertical-align: inherit;">Y los n√∫meros y el lat√≠n est√°n en cero. </font><font style="vertical-align: inherit;">Y para reunirlos, debes cambiar de p√°gina. </font><font style="vertical-align: inherit;">Por lo tanto, ninguna salida de l√≠nea funcionar√° por completo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este sentido, la pantalla de Winstar es m√°s conveniente. </font><font style="vertical-align: inherit;">Deje que no tenga tantos caracteres, pero est√°n en la misma p√°gina.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/0b0/969/8dd/0b09698dd0fc49679571b3a909ab541f.PNG"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero una persona rusa no necesitar√° el 90% del generador de caracteres MT-16S2S. Otro problema para el programador es la designaci√≥n en la hoja de datos de las coordenadas de los caracteres en la tabla en unidades y ceros por mordisco. Es a√∫n m√°s divertido etiquetarlos como H y L. Es decir, el n√∫mero de s√≠mbolo ser√°, por ejemplo, 1111 + 1101 o HHHH + HHLH. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© no usar el c√≥digo hexadecimal 0xFD conveniente para el desarrollador? Y despu√©s de todo en algunas pantallas, tales tablas son. ¬øEs realmente tan dif√≠cil hacer una cuadr√≠cula conveniente? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora sobre la biblioteca. Los siguientes requisitos estaban relacionados con la funcionalidad: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Derivaci√≥n de un s√≠mbolo de una tabla a una posici√≥n arbitraria; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. La salida de una l√≠nea de texto en una posici√≥n arbitraria; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Grabar en memoria del propio s√≠mbolo;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Limpiando la pantalla, activando y desactivando el cursor, desplaz√°ndolo, desplazando el √°rea de visualizaci√≥n y otros ajustes del indicador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo esto se implement√≥ con bastante rapidez. Pero a√∫n es molesto la necesidad de cambiar constantemente entre las p√°ginas del generador de caracteres cuando se usa el alfabeto cir√≠lico. No publico la biblioteca en s√≠, porque fue hecha "para m√≠". Con todas las deficiencias y muletas, y para un chip espec√≠fico: con puertos y frecuencias cableados (ya que el objetivo no era crear una versi√≥n comercial con juegos de cartas y hembras, la configuraci√≥n de los puertos, SPI y retrasos se escriben directamente en las funciones mismas, dependiendo de qu√© controlador y a qu√© SPI est√° conectada la pantalla). En el futuro, su revisi√≥n est√° prevista.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora sobre la experiencia de operar la pantalla. </font><font style="vertical-align: inherit;">Ha sido probado y funciona de manera estable en el rango de temperatura de -20 ¬∞ C a + 60 ¬∞ C. </font><font style="vertical-align: inherit;">Sin embargo, a -20 ¬∞ C comienza a disminuir la velocidad al cambiar la imagen. </font><font style="vertical-align: inherit;">Pero no hay nada que hacer. </font><font style="vertical-align: inherit;">Solo cambie a otro tipo de indicador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, la impresi√≥n es positiva. </font><font style="vertical-align: inherit;">Las fallas menores en la descripci√≥n en la pantalla y la falta de ejemplos de c√≥digo normal interfieren con esto. </font><font style="vertical-align: inherit;">El resto no est√° mal. </font><font style="vertical-align: inherit;">Incluso el precio no es m√°s alto que el del an√°logo Winstar-ovsky de WH-1602.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es397977/">https://habr.com/ru/post/es397977/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es397965/index.html">C√≥mo morir√° el universo</a></li>
<li><a href="../es397969/index.html">Los chips programables ayudan a Microsoft a optimizar sus servicios en la nube</a></li>
<li><a href="../es397971/index.html">Donkey Kong y yo</a></li>
<li><a href="../es397973/index.html">D-wave Systems presenta una computadora cu√°ntica de 2000 qubit</a></li>
<li><a href="../es397975/index.html">Soldadura por puntos ultrapresupuestaria de bater√≠as de litio en el hogar</a></li>
<li><a href="../es397979/index.html">Esto no es una carrera, es un ultramarat√≥n: la propagaci√≥n de las criptotecnolog√≠as</a></li>
<li><a href="../es397981/index.html">Lanzamiento de Apple Pay en Rusia</a></li>
<li><a href="../es397983/index.html">Hombre del futuro</a></li>
<li><a href="../es397985/index.html">Los sensores externos de presi√≥n de neum√°ticos FOBO siempre ayudan</a></li>
<li><a href="../es397987/index.html">La campa√±a No Man's Sky PR ser√° probada por la Agencia de Est√°ndares de Publicidad del Reino Unido</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>