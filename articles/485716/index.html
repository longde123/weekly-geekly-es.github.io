<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüíº üíç üíô Calico para redes en Kubernetes: conocer y un poco de experiencia üôèüèæ üßï üë®üèΩ‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El prop√≥sito del art√≠culo es presentar al lector los conceptos b√°sicos de las redes y la administraci√≥n de pol√≠ticas de red en Kubernetes, as√≠ como un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Calico para redes en Kubernetes: conocer y un poco de experiencia</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/485716/"><img src="https://habrastorage.org/webt/ij/rp/cx/ijrpcxvves8bmv7mgj1uc-ycrvs.png"><br><br>  El prop√≥sito del art√≠culo es presentar al lector los conceptos b√°sicos de las redes y la administraci√≥n de pol√≠ticas de red en Kubernetes, as√≠ como un complemento Calico de terceros que ampl√≠a las caracter√≠sticas est√°ndar.  En el camino, se demostrar√° la conveniencia de la configuraci√≥n y algunas caracter√≠sticas con ejemplos reales de la experiencia de nuestra operaci√≥n. <a name="habracut"></a><br><br><h2>  Introducci√≥n r√°pida al dispositivo de red Kubernetes </h2><br>  No se puede imaginar un cl√∫ster de Kubernetes sin una red.  Ya hemos publicado materiales sobre sus conceptos b√°sicos: " <a href="https://habr.com/ru/company/flant/blog/346304/">Una gu√≠a ilustrada para la creaci√≥n de redes en Kubernetes</a> " e " <a href="https://habr.com/ru/company/flant/blog/443190/">Introducci√≥n a las pol√≠ticas de red de Kubernetes para profesionales de la seguridad</a> ". <br><br>  En el contexto de este art√≠culo, es importante tener en cuenta que K8s no es responsable de la conectividad de red entre contenedores y nodos: para ello se utilizan todo tipo de <b>complementos CNI</b> (Interfaz de red de contenedores).  <a href="https://habr.com/ru/company/flant/blog/329830/">Tambi√©n hablamos</a> m√°s sobre este concepto. <br><br>  Por ejemplo, el m√°s com√∫n de estos complementos, <a href="https://github.com/coreos/flannel">Flannel</a> , proporciona conectividad de red completa entre todos los nodos del cl√∫ster al levantar puentes en cada nodo, asegurando una subred para √©l.  Sin embargo, la disponibilidad total y no regulada no siempre es √∫til.  Para proporcionar un aislamiento m√≠nimo en el cl√∫ster, es necesario intervenir en la configuraci√≥n del firewall.  En general, se da a la gesti√≥n de la propia CNI, por lo que cualquier intervenci√≥n de terceros en iptables puede interpretarse de forma incorrecta o ignorarse por completo. <br><br>  Y listo para usar, la <a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/"><b>API NetworkPolicy se</b></a> proporciona para organizar la administraci√≥n de pol√≠ticas de red en el cl√∫ster de Kubernetes.  Este recurso, que se extiende a espacios de nombres seleccionados, puede contener reglas para restringir el acceso de una aplicaci√≥n a otra.  Tambi√©n le permite configurar la accesibilidad entre pods espec√≠ficos, entornos (espacios de nombres) o bloques de direcciones IP: <br><br><pre><code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: test-network-policy namespace: default spec: podSelector: matchLabels: role: db policyTypes: - Ingress - Egress ingress: - from: - ipBlock: cidr: 172.17.0.0/16 except: - 172.17.1.0/24 - namespaceSelector: matchLabels: project: myproject - podSelector: matchLabels: role: frontend ports: - protocol: TCP port: 6379 egress: - to: - ipBlock: cidr: 10.0.0.0/24 ports: - protocol: TCP port: 5978</code> </pre> <br>  Este no es el ejemplo m√°s primitivo de la <a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/">documentaci√≥n oficial que</a> puede desalentar de una vez por todas el deseo de comprender la l√≥gica de las pol√≠ticas de red.  Sin embargo, todav√≠a tratamos de comprender los principios y m√©todos b√°sicos de procesamiento de flujos de tr√°fico utilizando pol√≠ticas de red ... <br><br>  Es l√≥gico que haya 2 tipos de tr√°fico: entrante a pod (Ingress) y saliente (Egress). <br><br><img src="https://habrastorage.org/webt/a7/zb/-5/a7zb-5tetbhwgbmagjou3liglyg.png"><br><br>  En realidad, la pol√≠tica se divide en estas 2 categor√≠as en la direcci√≥n del movimiento. <br><br>  El siguiente atributo requerido es un selector;  aquel a quien se aplica la regla.  Puede ser un pod (o un grupo de pods) o un entorno (es decir, un espacio de nombres).  Un detalle importante: ambos tipos de estos objetos deben contener una etiqueta ( <i>etiqueta</i> en terminolog√≠a de Kubernetes): estas son las pol√≠ticas que operan. <br><br>  Adem√°s de un n√∫mero finito de selectores unidos por alguna etiqueta, existe la posibilidad de escribir reglas como "Permitir / Denegar todo / Todo" en diferentes variaciones.  Para esto, se utilizan construcciones de la forma: <br><br><pre> <code class="plaintext hljs"> podSelector: {} ingress: [] policyTypes: - Ingress</code> </pre> <br>  - En este ejemplo, todos los pods del entorno cierran el tr√°fico entrante.  El comportamiento opuesto se puede lograr con tal construcci√≥n: <br><br><pre> <code class="plaintext hljs"> podSelector: {} ingress: - {} policyTypes: - Ingress</code> </pre> <br>  Del mismo modo para salientes: <br><br><pre> <code class="plaintext hljs"> podSelector: {} policyTypes: - Egress</code> </pre> <br>  - para deshabilitarlo.  Y esto es lo que debe incluir: <br><br><pre> <code class="plaintext hljs"> podSelector: {} egress: - {} policyTypes: - Egress</code> </pre> <br>  Volviendo a la elecci√≥n de un complemento CNI para un cl√∫ster, vale la pena se√±alar que <b>no todos los complementos de red admiten trabajar con NetworkPolicy</b> .  Por ejemplo, la Franela ya mencionada no sabe c√≥mo configurar las pol√≠ticas de red, como <a href="https://github.com/coreos/flannel">se indica expl√≠citamente</a> en el repositorio oficial.  Tambi√©n se menciona una alternativa: el proyecto <a href="https://www.projectcalico.org/">Calico</a> Open Source, que extiende significativamente la API est√°ndar de Kubernetes en t√©rminos de pol√≠ticas de red. <br><br><img src="https://habrastorage.org/webt/ut/_g/o1/ut_go1ror_jprp6n0bbwthgdkvs.png"><br><br><h2>  Conoce a Calico: teor√≠a </h2><br>  El complemento Calico se puede usar en integraci√≥n con Flannel (un subproyecto de <a href="https://github.com/projectcalico/canal">Canal</a> ) o solo, cubriendo tanto la conectividad de red como las funciones de administraci√≥n de disponibilidad. <br><br>  ¬øQu√© caracter√≠sticas ofrece la soluci√≥n en caja K8s y el conjunto de API Calico? <br><br>  Esto es lo que est√° integrado en NetworkPolicy: <br><br><ul><li>  los pol√≠ticos est√°n limitados por el medio ambiente; </li><li>  Las pol√≠ticas se aplican a los pods etiquetados con etiquetas. </li><li>  las reglas se pueden aplicar a pods, entornos o subredes; </li><li>  Las reglas pueden contener protocolos, instrucciones de puerto con nombre o simb√≥licas. </li></ul><br>  Y as√≠ es como Calico extiende estas caracter√≠sticas: <br><br><ul><li>  las pol√≠ticas se pueden aplicar a cualquier objeto: pod, contenedor, m√°quina virtual o interfaz; </li><li>  las reglas pueden contener una acci√≥n espec√≠fica (prohibici√≥n, permiso, registro); </li><li>  el objetivo o la fuente de las reglas puede ser un puerto, rango de puertos, protocolos, atributos HTTP o ICMP, IP o subred (4 o 6 generaciones), cualquier selector (nodos, hosts, entornos); </li><li>  Adem√°s, el flujo de tr√°fico se puede controlar mediante la configuraci√≥n de DNAT y las pol√≠ticas de reenv√≠o de tr√°fico. </li></ul><br>  El primer compromiso de GitHub en el repositorio de Calico data de julio de 2016, y un a√±o despu√©s, el proyecto tom√≥ una posici√≥n de liderazgo en la organizaci√≥n de la conectividad de red de Kubernetes; esto se indica, por ejemplo, en los resultados de una encuesta <a href="https://thenewstack.io/tigera-aims-ease-connectivity-pain-kubernetes/">realizada por The New Stack</a> : <br><br><img src="https://habrastorage.org/webt/0z/nq/8b/0znq8behc5xpv33ynlafbce9kr4.png"><br><br>  Muchas soluciones administradas grandes con K8, como <a href="https://docs.aws.amazon.com/en_us/eks/latest/userguide/calico.html">Amazon EKS</a> , <a href="https://docs.microsoft.com/ru-ru/azure/aks/use-network-policies">Azure AKS</a> , <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/network-policy">Google GKE</a> y otras, comenzaron a recomendar su uso. <br><br>  En cuanto al rendimiento, todo es genial aqu√≠.  Al probar su producto, el equipo de desarrollo de Calico demostr√≥ un rendimiento astron√≥mico al lanzar m√°s de 50,000 contenedores en 500 nodos f√≠sicos con una velocidad de creaci√≥n de 20 contenedores por segundo.  No hubo problemas con el escalado.  Dichos resultados ya <a href="https://www.projectcalico.org/announcing-calico-v1-0/">se anunciaron</a> en el anuncio de la primera versi√≥n.  La investigaci√≥n independiente sobre el ancho de banda y el consumo de recursos tambi√©n confirma el rendimiento de Calico, que es casi el mismo que el de Flannel.  <a href="https://itnext.io/benchmark-results-of-kubernetes-network-plugins-cni-over-10gbit-s-network-updated-april-2019-4a9886efe9c4">Por ejemplo</a> : <br><br><img src="https://habrastorage.org/webt/7j/k9/b7/7jk9b7obg2mb12rwmsddeyqiybq.png"><br><br>  El proyecto se est√° desarrollando muy r√°pido, admite el trabajo en las soluciones populares administradas K8, OpenShift, OpenStack, es posible usar Calico al implementar un cl√∫ster usando <a href="">kops</a> , hay referencias a la construcci√≥n de redes de Service Mesh ( <a href="https://docs.projectcalico.org/v3.10/security/enforce-policy-istio">aqu√≠ hay un ejemplo de</a> c√≥mo usarlo con Istio). <br><br><h2>  Practica con Calico </h2><br>  En el caso general de usar Kubernetes de vainilla, la instalaci√≥n de CNI se reduce a usar el archivo <code>calico.yaml</code> <a href="https://docs.projectcalico.org/v3.10/getting-started/kubernetes/installation/calico">descargado del sitio oficial</a> usando <code>kubectl apply -f</code> . <br><br>  Como regla general, la versi√≥n actual del complemento es compatible con las √∫ltimas 2-3 versiones de Kubernetes: el trabajo en versiones anteriores no se prueba y no garantiza.  Seg√∫n los desarrolladores, Calico se ejecuta en el kernel de Linux por encima de 3.10 en CentOS 7, Ubuntu 16 o Debian 8, adem√°s de iptables o IPVS. <br><br><h3>  Aislamiento en el medio ambiente. </h3><br>  Para una comprensi√≥n general, considere un caso simple para comprender c√≥mo las pol√≠ticas de red en notaci√≥n Calico difieren de las est√°ndares y c√≥mo el enfoque para compilar reglas simplifica su legibilidad y flexibilidad de configuraci√≥n: <br><br><img src="https://habrastorage.org/webt/ke/5n/ca/ke5ncaoa_gtjrzrckxd-yhw88sm.png"><br><br>  Hay 2 aplicaciones web implementadas en el cl√∫ster: Node.js y PHP, una de las cuales usa Redis.  Para bloquear el acceso a Redis desde PHP, mientras se deja la conectividad con Node.js, es suficiente aplicar la siguiente pol√≠tica: <br><br><pre> <code class="plaintext hljs">kind: NetworkPolicy apiVersion: networking.k8s.io/v1 metadata: name: allow-redis-nodejs spec: podSelector: matchLabels: service: redis ingress: - from: - podSelector: matchLabels: service: nodejs ports: - protocol: TCP port: 6379</code> </pre> <br>  Esencialmente, permitimos el tr√°fico entrante al puerto Redis desde Node.js.  Y obviamente no prohibieron nada m√°s.  Tan pronto como aparece NetworkPolicy, todos los selectores mencionados en √©l comienzan a aislarse, a menos que se indique lo contrario.  Adem√°s, las reglas de aislamiento no se aplican a otros objetos que no est√°n cubiertos por el selector. <br><br>  El ejemplo utiliza la apiVersion de <code>apiVersion</code> ‚Äúfuera de la caja‚Äù, pero nada impide usar <a href="https://docs.projectcalico.org/latest/reference/resources/networkpolicy">el recurso del mismo nombre de la entrega Calico</a> .  La sintaxis es m√°s extensa all√≠, por lo que debe volver a escribir la regla para el caso anterior en el siguiente formulario: <br><br><pre> <code class="plaintext hljs">apiVersion: crd.projectcalico.org/v1 kind: NetworkPolicy metadata: name: allow-redis-nodejs spec: selector: service == 'redis' ingress: - action: Allow protocol: TCP source: selector: service == 'nodejs' destination: ports: - 6379</code> </pre> <br>  Las construcciones mencionadas anteriormente para permitir o prohibir todo el tr√°fico a trav√©s de la API NetworkPolicy habitual contienen estructuras con corchetes que son dif√≠ciles de entender y recordar.  En el caso de Calico, para cambiar la l√≥gica de la regla del firewall al contrario, simplemente cambie la <code>action: Allow</code> a la <code>action: Deny</code> . <br><br><h3>  Aislamiento del ambiente </h3><br>  Ahora imagine una situaci√≥n en la que una aplicaci√≥n genera m√©tricas comerciales para recopilarlas en Prometheus y un an√°lisis m√°s detallado a trav√©s de Grafana.  La descarga puede contener datos confidenciales que, de forma predeterminada, vuelven a estar disponibles p√∫blicamente.  Cerremos estos datos de miradas indiscretas: <br><br><img src="https://habrastorage.org/webt/e-/u1/1m/e-u11mldmjhyjqhzal7ndgbcbwy.png"><br><br>  Prometheus, como regla, se coloca en un entorno de servicio separado; en el ejemplo, ser√° un espacio de nombres de la siguiente forma: <br><br><pre> <code class="plaintext hljs">apiVersion: v1 kind: Namespace metadata: labels: module: prometheus name: kube-prometheus</code> </pre> <br>  El campo <code>metadata.labels</code> aqu√≠ no fue accidental.  Como se mencion√≥ anteriormente, <code>namespaceSelector</code> (como <code>podSelector</code> ) opera en etiquetas.  Por lo tanto, para permitir tomar m√©tricas de todos los pods en un puerto espec√≠fico, deber√° agregar alguna etiqueta (o tomar de las existentes) y luego aplicar una configuraci√≥n como: <br><br><pre> <code class="plaintext hljs">apiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-metrics-prom spec: podSelector: {} ingress: - from: - namespaceSelector: matchLabels: module: prometheus ports: - protocol: TCP port: 9100</code> </pre> <br>  Y si usa las pol√≠ticas de Calico, la sintaxis ser√≠a: <br><br><pre> <code class="plaintext hljs">apiVersion: crd.projectcalico.org/v1 kind: NetworkPolicy metadata: name: allow-metrics-prom spec: ingress: - action: Allow protocol: TCP source: namespaceSelector: module == 'prometheus' destination: ports: - 9100</code> </pre> <br>  En general, al agregar este tipo de pol√≠tica a necesidades espec√≠ficas, puede protegerse contra interferencias maliciosas o accidentales en el funcionamiento de las aplicaciones en el cl√∫ster. <br><br>  La mejor pr√°ctica, seg√∫n los creadores de Calico, es el enfoque "Prohibir todo y descubrir expl√≠citamente lo necesario", como se registra en la <a href="https://docs.projectcalico.org/v3.10/security/kubernetes-default-deny">documentaci√≥n oficial</a> (otros siguen un enfoque similar, en particular, en el <a href="https://habr.com/ru/company/flant/blog/443190/">art√≠culo ya mencionado</a> ). <br><br><h3>  Usando objetos opcionales Calico </h3><br>  Perm√≠tame recordarle que a trav√©s del conjunto extendido de API de Calico, puede controlar la disponibilidad de nodos, no limitado a pods.  En el siguiente ejemplo, el uso de <code>GlobalNetworkPolicy</code> cierra la posibilidad de pasar solicitudes ICMP en el cl√∫ster (por ejemplo, pings de pod a un nodo, entre pods o de un nodo a IP pod): <br><br><pre> <code class="plaintext hljs">apiVersion: crd.projectcalico.org/v1 kind: GlobalNetworkPolicy metadata: name: block-icmp spec: order: 200 selector: all() types: - Ingress - Egress ingress: - action: Deny protocol: ICMP egress: - action: Deny protocol: ICMP</code> </pre> <br>  En el caso anterior, los nodos del cl√∫ster todav√≠a pueden "comunicarse" entre s√≠ a trav√©s de ICMP.  Y esta pregunta se resuelve mediante <code>GlobalNetworkPolicy</code> aplicada a la entidad <code>HostEndpoint</code> : <br><br><pre> <code class="plaintext hljs">apiVersion: crd.projectcalico.org/v1 kind: GlobalNetworkPolicy metadata: name: deny-icmp-kube-02 spec: selector: "role == 'k8s-node'" order: 0 ingress: - action: Allow protocol: ICMP egress: - action: Allow protocol: ICMP --- apiVersion: crd.projectcalico.org/v1 kind: HostEndpoint metadata: name: kube-02-eth0 labels: role: k8s-node spec: interfaceName: eth0 node: kube-02 expectedIPs: ["192.168.2.2"]</code> </pre> <br><h3>  Caso de VPN </h3><br>  Finalmente, dar√© un ejemplo muy real del uso de las funciones de Calico para el caso de interacci√≥n cercana al cl√∫ster, cuando el conjunto est√°ndar de pol√≠ticas no es suficiente.  Los clientes usan un t√∫nel VPN para acceder a la aplicaci√≥n web, y este acceso est√° estrictamente controlado y limitado a una lista espec√≠fica de servicios permitidos: <br><br><img src="https://habrastorage.org/webt/ft/sy/zt/ftsyztco2pulpbcbrunwdlnhn1u.png"><br><br>  Los clientes se conectan a la VPN a trav√©s del puerto UDP est√°ndar 1194 y, cuando est√°n conectados, reciben rutas a las subredes del cl√∫ster de pods y servicios.  Las subredes de inserci√≥n est√°n completamente para no perder servicios durante los reinicios y los cambios de direcci√≥n. <br><br>  El puerto en la configuraci√≥n es est√°ndar, lo que impone algunos matices en el proceso de configuraci√≥n de la aplicaci√≥n y su transferencia al cl√∫ster de Kubernetes.  Por ejemplo, en el mismo AWS, LoadBalancer for UDP apareci√≥ literalmente a fines del a√±o pasado en una lista limitada de regiones, y NodePort no se puede usar debido a su reenv√≠o en todos los nodos del cl√∫ster y es imposible escalar el n√∫mero de instancias del servidor para la tolerancia a fallas.  Adem√°s, debe cambiar el rango de puertos predeterminado ... <br><br>  Como resultado de una b√∫squeda de posibles soluciones, se eligi√≥ lo siguiente: <br><br><ol><li>  Las vainas VPN se programan por host en modo <code>hostNetwork</code> , es decir, en la IP real. </li><li>  El servicio se publica a trav√©s de <code>ClusterIP</code> .  El puerto se eleva f√≠sicamente en el host, al que se puede acceder desde el exterior con algunas advertencias (disponibilidad condicional de una direcci√≥n IP real). </li><li>  La definici√≥n del nodo en el que se levant√≥ la vaina est√° m√°s all√° del alcance de nuestra historia.  Solo puedo decir que puede "clavar" firmemente el servicio al host o escribir un peque√±o servicio de sidecar que supervisar√° la direcci√≥n IP actual del servicio VPN y editar√° los registros DNS registrados con los clientes, que tiene suficiente imaginaci√≥n. </li></ol><br>  Desde el punto de vista del enrutamiento, podemos identificar de forma exclusiva al cliente para la VPN por su direcci√≥n IP emitida por el servidor VPN.  A continuaci√≥n se muestra un ejemplo primitivo de restringir el acceso a dicho cliente a los servicios, una ilustraci√≥n en el mencionado Redis: <br><br><pre> <code class="plaintext hljs">apiVersion: crd.projectcalico.org/v1 kind: HostEndpoint metadata: name: vpnclient-eth0 labels: role: vpnclient environment: production spec: interfaceName: "*" node: kube-02 expectedIPs: ["172.176.176.2"] --- apiVersion: crd.projectcalico.org/v1 kind: GlobalNetworkPolicy metadata: name: vpn-rules spec: selector: "role == 'vpnclient'" order: 0 applyOnForward: true preDNAT: true ingress: - action: Deny protocol: TCP destination: ports: [6379] - action: Allow protocol: UDP destination: ports: [53, 67]</code> </pre> <br>  Aqu√≠, est√° estrictamente prohibido conectarse al puerto 6379, pero al mismo tiempo, se preserva el servicio DNS, cuyo funcionamiento a menudo sufre cuando se elaboran las reglas.  Porque, como se mencion√≥ anteriormente, cuando aparece un selector, se le aplica una pol√≠tica predeterminada prohibitiva, a menos que se especifique lo contrario. <br><br><h2>  Resumen </h2><br>  Por lo tanto, utilizando la API avanzada de Calico, puede configurar de manera flexible y cambiar din√°micamente el enrutamiento dentro y alrededor del cl√∫ster.  En general, su uso puede parecer disparos en gorriones, y la introducci√≥n de una red L3 con t√∫neles BGP e IP-IP parece monstruosa en una instalaci√≥n simple de Kubernetes en una red plana ... Sin embargo, el resto de la herramienta parece bastante viable y √∫til. <br><br>  El aislamiento del cl√∫ster por requisitos de seguridad no siempre es factible, y es en tales casos que Calico (o una soluci√≥n similar) viene al rescate.  Los ejemplos en este art√≠culo (con un poco de refinamiento) se utilizan en varias instalaciones de nuestros clientes en AWS. <br><br><h2>  PS </h2><br>  Lea tambi√©n en nuestro blog: <br><br><ul><li>  " <a href="https://habr.com/ru/company/flant/blog/443190/">Introducci√≥n a las pol√≠ticas de red de Kubernetes para profesionales de la seguridad</a> "; </li><li>  ‚ÄúGu√≠a ilustrada de redes en Kubernetes‚Äù: <a href="https://habr.com/ru/company/flant/blog/346304/">partes 1 y 2 (modelo de red, redes superpuestas)</a> , <a href="https://habr.com/ru/company/flant/blog/433382/">parte 3 (servicios y procesamiento de tr√°fico)</a> ; </li><li>  " <a href="https://habr.com/ru/company/flant/blog/329830/">La interfaz de red de contenedores (CNI) es la interfaz de red y el est√°ndar para los contenedores de Linux</a> ". </li></ul></div></div><p>Source: <a href="https://habr.com/ru/post/485716/">https://habr.com/ru/post/485716/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../485694/index.html">Embox en el procesador Elbrus. O nunca olvides lo que tienes en inteligencia</a></li>
<li><a href="../485702/index.html">Meetup FunCorp iOS # 2</a></li>
<li><a href="../485704/index.html">Pixel art para principiantes: arreglando errores comunes</a></li>
<li><a href="../485706/index.html">Te invitamos a la reuni√≥n "Transformaci√≥n digital y nuevos roles en la ciencia de datos"</a></li>
<li><a href="../485712/index.html">La gerencia no es una oraci√≥n</a></li>
<li><a href="../485718/index.html">Pac-Man: la historia no contada de c√≥mo jugamos este juego</a></li>
<li><a href="../485726/index.html">Hack Aircraft - 3</a></li>
<li><a href="../485732/index.html">15 de febrero Badoo PHP Meetup # 4. Legado</a></li>
<li><a href="../485738/index.html">Semana de la seguridad 05: vulnerabilidades cr√≠ticas de dispositivos m√©dicos</a></li>
<li><a href="../485740/index.html">El enfrentamiento en PHDays: participa en la batalla de aniversario de hackers y defensores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>