<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≥ ü§ê üÜô Myapp prolonge ses vacances üç† ü§õüèΩ üßëüèø‚Äçü§ù‚Äçüßëüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je suis s√ªr qu'il y aura ceux parmi le public respect√© qui me comprendront. Le fait est que dans toute l'abondance des biblioth√®ques et des cadres pop...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Myapp prolonge ses vacances</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485688/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/a1/gq/coa1gqqaalmvaklsbnzj_d69vc0.png"></div><br>  Je suis s√ªr qu'il y aura ceux parmi le public respect√© qui me comprendront.  Le fait est que dans toute l'abondance des biblioth√®ques et des cadres populaires pour le frontend Web, je n'aime personnellement <b>pas</b> presque <b>toutes les</b> alternatives.  Dans chacune des options, je me trouve des inconv√©nients importants qui m'emp√™chent de les utiliser calmement.  Tout commence toujours de fa√ßon rose: un concept int√©ressant, le son, √† premi√®re vue, le raisonnement en points ¬´pour¬ª ... Mais alors, tout, encore et encore, commence √† se heurter √† des d√©pendances redondantes, des entit√©s superflues et tente de r√©soudre les probl√®mes cr√©√©s par les d√©veloppeurs eux-m√™mes.  On nous propose d'apprendre une nouvelle syntaxe, d'accepter de nouvelles id√©es, d'apprendre un tas de mots √† la mode, d'installer de nombreux packages ¬´n√©cessaires¬ª.  Ok, j'aime tout ce qui est nouveau et j'aime les mots intelligents.  Mais je suis tr√®s d√©courag√© quand ce qui peut √™tre fait simplement, les gens commencent √† se compliquer fractalement.  Vous avez probablement d√©j√† lu les confessions de ceux qui, comme moi, d√©sesp√©raient de chercher le bon sens dans tout cela et ont d√©cid√© d'aller √† l'autre extr√™me - d'√©crire tout ¬´√† la vanille¬ª.  Cela m'est arriv√© lorsque j'ai √©t√© d√©√ßu par le projet <a href="https://www.polymer-project.org/">Polymer</a> , cr√©√© avec la participation active des d√©veloppeurs de Google.  Au d√©but, j'aimais beaucoup tout, la devise de ce mouvement √©tait la phrase ¬´Utilisez la plateforme!¬ª, Qui signifiait pour moi: ¬´vous ne devriez pas faire dans le code ce que le navigateur lui-m√™me fera plus efficacement¬ª.  L'√©quipe Polymer a fait beaucoup pour introduire de nouvelles normes et capacit√©s au niveau de la plateforme, et <b>merci</b> beaucoup pour cela.  Mais lorsque ces objectifs ont √©t√© <a href="https://caniuse.com/">atteints</a> , ils ont eux-m√™mes commenc√© √† violer leurs propres principes.  Et maintenant, leur nouvelle biblioth√®que ( <a href="https://lit-element.polymer-project.org/">LitElement</a> ) refuse d√©j√† de travailler directement dans le navigateur sans installer un environnement sp√©cial, car les gars ne suivent pas les normes ... Je continue de surveiller le d√©veloppement de LitElement, et m√™me de voir des signes √©vidents que ces personnes errantes retournent sur le vrai chemin, mais moi-m√™me d√©j√† Je ne vais pas l'utiliser, car maintenant j'ai quelque chose de mieux. <br><a name="habracut"></a><br><h3>  Quoi? </h3><br>  <a href="https://github.com/foxeyes/holiday">Holiday.js</a> est une biblioth√®que pour ceux qui ont besoin de tout ce dont ils ont besoin et qui n'ont besoin de rien de plus.  Vacances - parce que travailler avec elle pour moi est un jour f√©ri√©.  Et aussi parce que je l'ai √©crit, principalement en vacances ou en vacances.  N√©anmoins, il s'agit d'un projet tr√®s s√©rieux, avec l'aide duquel toute une s√©rie d'applications complexes sont en cours de d√©veloppement pour l'entreprise tr√®s sanglante, que les gens aiment effrayer les d√©butants de la construction de v√©los.  J'√©cris √©galement tous mes projets personnels sur Holiday.js. <br><br>  Tout est bas√© sur un groupe d' <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">√©l√©ments</a> standard et de normes <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">DOM Shadow</a> , comme vous l'avez peut-√™tre devin√©, et si vous les connaissez d√©j√†, il sera tr√®s facile de le comprendre. <br><br><div class="spoiler">  <b class="spoiler_title">Un peu de moi</b> <div class="spoiler_text">  J'ai 40 ans.  Actuellement, je suis un d√©veloppeur Web de premier plan et un ing√©nieur R&amp;D dans une entreprise n√©erlandaise sp√©cialis√©e dans les solutions d'int√©gration d'IBM.  Nos clients sont de grandes entreprises: p√©trole, gaz, p√©troliers, chemins de fer - c‚Äôest tout.  L'essence de mon travail consiste √† √©tendre les capacit√©s standard des syst√®mes d'entreprise grands et lents et √† am√©liorer l'exp√©rience utilisateur lorsque vous travaillez avec eux.  D'un c√¥t√©, j'ai des oncles li√©s, de l'autre - un vent frais de libert√© de d√©veloppement web moderne.  C'est une combinaison int√©ressante, elle vous permet de voir beaucoup de choses sous un nouvel angle.  Et j'aime √ßa.  Plus t√¥t, j'ai essay√© le r√¥le d'une startup, d'un ing√©nieur ux, d'un directeur artistique d'un petit studio de design, et bien d'autres, donc mon ¬´exp√©rience¬ª globale est comme une courtepointe patchwork.  Mais cela ne signifie pas que je sois superficiellement li√© √† tout, je trouve juste dans de nombreux types d'activit√©s des principes d'ing√©nierie similaires qui m'int√©ressent avant tout. <br></div></div><br><h3>  √Ä quoi √ßa sert? </h3><br>  Si je lis moi-m√™me un article similaire pour ne pas perdre tout int√©r√™t, j'aimerais voir un exemple de code composant.  Le voici: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">imageURL</span></span>: <span class="hljs-string"><span class="hljs-string">'images/photo.jpg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-attr"><span class="hljs-attr">secondName</span></span>: <span class="hljs-string"><span class="hljs-string">'Snow'</span></span>, }; } } MyComponent.template = <span class="hljs-comment"><span class="hljs-comment">/*html*/</span></span> <span class="hljs-string"><span class="hljs-string">` &lt;style&gt; :host { display: block; padding: 10px; background - color: #fff; color: #000; } &lt;/style&gt; &lt;img bind="src: imageURL" /&gt; &lt;div bind="textContent: firstName"&gt;&lt;/div&gt; &lt;div bind="textContent: secondName"&gt;&lt;/div&gt; `</span></span>; MyComponent.is = <span class="hljs-string"><span class="hljs-string">'my-component'</span></span>;</code> </pre> <br>  Ici, nous voyons que le composant a un certain √©tat et un mod√®le avec des attributs √©tranges des √©l√©ments " <b>bind</b> ".  Ces attributs sont la magie principale: ils vous permettent d'analyser le mod√®le et d'enregistrer une copie du r√©sultat en m√©moire pour une utilisation ult√©rieure (clonage) SANS traitement suppl√©mentaire de la cha√Æne de mod√®le dans l'ex√©cution JS, ce qui donne des performances √©lev√©es lors du rendu initial lorsque chaque composant est instanci√©.  Contrairement √† de nombreuses biblioth√®ques modernes dans lesquelles la partie DOM dont le composant est responsable est d√©termin√©e par la fonction de l'√©tat, dans Holiday.js, un mod√®le est un produit semi-fini qui d√©finit la structure initiale et permet de lier des donn√©es plus tard, en utilisant l'API DOM habituelle, et √ßa marche tr√®s vite.  Nous reviendrons sur la question de la vitesse. <br><br>  Je vais √©num√©rer d'autres avantages: <br><br><ul><li>  Proximit√© maximale avec les API natives, minimum d'abstractions suppl√©mentaires </li><li>  Syntaxe de mod√®le natif: vous n'avez pas besoin d'apprendre de nouveaux HTML et CSS </li><li>  Pour commencer, vous n'avez pas besoin d'installer quoi que ce soit suppl√©mentaire, votre projet peut ne pas avoir de dossier node_modules du tout </li><li>  Facilit√©: vous n'obligerez pas les utilisateurs √† attendre longtemps pour les t√©l√©chargements </li><li>  Le kit comprend la gestion globale de l'√©tat, le routage, une biblioth√®que d'interface utilisateur: vous ne vous sentirez pas dans le d√©sert </li></ul><br>  La documentation principale du projet: <a href="https://holiday-js.web.app/">https://holiday-js.web.app/</a> <br><br><h3>  Cycle de vie </h3><br>  Regardons les √©tapes du cycle de vie des composants: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleExample</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//   : this.state = { name: '', bigName: '', }; /*   ,      DOM  "   ",       .    ,      "defineAccessor": */ this.defineAccessor('name', (name) =&gt; { // Some accessor code: this.setStateProperty('name', name); }); /*    ,      DOM               . */ } connectedCallback() { super.connectedCallback(); /*  .    DOM.               . */ } stateUpdated(path) { /*        : */ if (path === 'name') { this.setStateProperty('bigName', this.state.name.toUpperCase()); } } attributeChangedCallback(attributeName, oldValue, newValue) { /*  .      . */ super.attributeChangedCallback(attributeName, oldValue, newValue); } disconnectedCallback() { /*  .    DOM.              */ } } LifecycleExample.template = /*html*/ ` &lt;div bind="textContent: name"&gt;&lt;/div&gt; &lt;div bind="textContent: bigName"&gt;&lt;/div&gt; `; /*  HTML-,     : */ LifecycleExample.logicAttributes = [ //   ,         'name', ]; /*     CustomElements: */ LifecycleExample.is = 'lifecycle-example';</span></span></code> </pre><br><h3>  Patterns </h3><br>  √âtant donn√© que les mod√®les dans Holiday.js ne sont que des <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">litt√©raux de mod√®le</a> standard, vous avez une totale libert√© sur la fa√ßon de les placer dans le projet et de former leur contenu.  Vous pouvez les placer dans des modules s√©par√©s, vous pouvez les d√©finir avec le code du composant ou vous pouvez les g√©n√©rer √† la vol√©e √† partir des donn√©es.  Vous pouvez utiliser des expressions et des r√©sultats de fonction dans des mod√®les.  Tout cela donne de grandes opportunit√©s et une libert√© d'expression.  Par exemple, vous pouvez importer des styles communs dans un mod√®le, utiliser des variables et calculer des valeurs en CSS sans utiliser de pr√©processeurs et avec une grande commodit√©, assembler des mod√®les √† partir de pi√®ces pr√™tes √† l'emploi. <br><br>  Les <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots">emplacements</a> sont une partie importante des mod√®les de composants Web.  Les emplacements vous permettent de d√©signer des emplacements sp√©ciaux dans le DOM "fant√¥me" de votre composant, dans lesquels ses descendants directs seront affich√©s dans l'arborescence DOM g√©n√©rale.  Un exemple: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Placement dans les cr√©neaux horaires: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>Header content<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Content of the default slot...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span>Footer content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Comme vous l'avez peut-√™tre devin√©, cela vous permet de cr√©er des dispositions de composants, o√π les modules souhait√©s peuvent √™tre facilement tri√©s en cellules. <br><br>  Comme mentionn√© ci-dessus, pour lier dynamiquement des donn√©es et des gestionnaires, l'attribut ¬´bind¬ª est utilis√©: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textContent: content; onclick: on.clicked"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Pour lier des valeurs d'attribut, utilisez le symbole "@" au d√©but du nom de la propri√©t√©: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style: style"</span></span></span><span class="hljs-tag">&gt;</span></span>Content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Vous pouvez trouver plus de d√©tails dans la section correspondante de la documentation: <a href="https://holiday-js.web.app/%3Ftemplates">https://holiday-js.web.app/?templates</a> <br><br><h3>  Gestion de l'√âtat </h3><br>  A l'int√©rieur du composant: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//        : this.state = { content: 'Initial Content', style: 'color: #f00', on: { clicked: () =&gt; { console.log('Clicked!'); }, }, }; //       "setStateProperty": window.setTimeout(() =&gt; { //   : this.setStateProperty('content', 'Updated Content'); //   : this.setStateProperty({ 'content': 'Updated Content', 'style': 'color: #00f', }); }, 1000); } }</span></span></code> </pre><br>  Pour contr√¥ler l'√©tat au niveau de l'application enti√®re, le module HdState est utilis√©. <br>  Exemple d'utilisation: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdState} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-state.js'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   : HdState.subscribe('ui.loading', (val) =&gt; { console.log(val); }); //   : HdState.publish('ui.loading', true); // : HdState.publish({ 'ui.loading': true, 'ui.sidePanelActive': true, });</span></span></code> </pre><br>  Pour travailler avec l'√©tat global, vous devez d'abord d√©terminer son sch√©ma g√©n√©ral: <br><br><pre> <code class="javascript hljs">HdState.applyScheme({ <span class="hljs-attr"><span class="hljs-attr">ui</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: { <span class="hljs-comment"><span class="hljs-comment">/*      ,       : */</span></span> type: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    : value: false, }, sidePanelActive: { type: Boolean, value: false, }, }, user: { authorized: { type: Boolean, value: false, }, name: { type: String, value: null, //          : cache: true, }, }, });</span></span></code> </pre><br>  Le circuit peut √©galement √™tre commod√©ment divis√© en blocs logiques s√©par√©s. <br><br>  Pour √©viter les fuites de m√©moire, les abonnements non pertinents doivent √™tre supprim√©s: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subscription = HdState.subscribe(<span class="hljs-string"><span class="hljs-string">'ui.loading'</span></span>, (val) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(val); }); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Unsubscribe: subscription.remove(); }, 10000);</span></span></code> </pre><br>  Documentation d'√âtat: <a href="https://holiday-js.web.app/%3Fstate">https://holiday-js.web.app/?state</a> <br><br><h3>  Outils de d√©veloppement </h3><br>  Le plus petit ensemble pour commencer est un √©diteur de texte et un navigateur.  Oui, c'est suffisant pour essayer.  Il convient de noter que dans cette configuration, le navigateur doit √™tre exactement Firefox.  Il peut charger des modules ES <b>sans</b> utiliser de serveur local. <br><br>  Pour un travail plus complet, vous aurez besoin de git et de tout serveur Web que vous avez aim√© (pour travailler avec des modules ES dans d'autres navigateurs). <br><br>  Pour mettre en √©vidence la syntaxe HTML et l'auto-compl√©tion dans les litt√©raux de mod√®le, j'utilise l'extension pour VS Code, initialement con√ßue pour fonctionner avec lit-html: <a href="https://github.com/pushqrdx/vscode-inline-html">https://github.com/pushqrdx/vscode-inline-html</a> <br><br>  Pour cr√©er le code avant la publication, vous pouvez utiliser n'importe quel <a href="https://webpack.js.org/">compilateur</a> populaire, tel que <a href="https://webpack.js.org/">webpack</a> ou <a href="https://rollupjs.org/guide/en/">rollup</a> . <br><br><h3>  Performances </h3><br>  Les rep√®res pour les frameworks ne sont pas faciles √† √©crire.  Pour une comparaison repr√©sentative, vous devez vous assurer que vous comparez des choses comparables et, dans la mesure du possible, en minimisant les effets des effets secondaires.  Ainsi, ils devraient avoir une id√©e claire de ce qui se passe ¬´sous le capot¬ª dans chaque cas.  Tout d'abord, vous devez d√©cider des param√®tres que nous mesurerons.  Pour notre cas, il est important pour nous: <br><br><ol><li>  Temps de d√©marrage de l'ex√©cution du programme principal (t√©l√©chargement) </li><li>  Temps de rendu initial du composant </li><li>  Il est temps de mettre √† jour ces composants et de les redessiner </li></ol><br>  Malheureusement, nous n'avons pas de moyen fiable de savoir √† quel moment le navigateur a ex√©cut√© le programme et termin√© le rendu.  Au niveau du navigateur, il y a beaucoup de nos propres optimisations, qui pour nous sont quelque chose comme une ¬´bo√Æte noire¬ª et peuvent diff√©rer selon les moteurs.  Ce que nous pouvons utiliser: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance">API de performance</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a> et <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">m√©thode requestIdleCallback</a> non standard, qui ne fonctionne que dans Chrome et Firefox.  Assez pour la premi√®re fois. <br><br>  √Ä quoi comparerons-nous Holiday.js?  J'ai commenc√© avec deux biblioth√®ques: React (o√π sans elle) et LitElement (technologies similaires au c≈ìur).  Vous pouvez trouver du code de r√©f√©rence dans ces r√©f√©rentiels: <br><br>  <a href="https://github.com/foxeyes/holiday-benchmark">https://github.com/foxeyes/holiday-benchmark</a> <br>  <a href="https://github.com/foxeyes/lit-benchmark">https://github.com/foxeyes/lit-benchmark</a> <br>  <a href="https://github.com/foxeyes/react-benchmark">https://github.com/foxeyes/react-benchmark</a> <br><br>  Malheureusement, je n'ai pas encore fini de tester l'automatisation, et ce n'est pas facile non plus, car l'automatisation ne devrait pas cr√©er par elle-m√™me des effets secondaires.  Pour le moment, je continue de travailler sur ce probl√®me et je pr√©pare un outil appropri√© en utilisant <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> (une chose tr√®s utile, je recommande).  En attendant, vous pouvez essayer les tests en mode manuel (Chrome / Firefox) et v√©rifier les r√©sultats dans la console du navigateur.  Vous verrez que Holiday.js est un <b>leader confiant dans tous les cas</b> . <br><br>  Vous pouvez remarquer que dans le cas de React, un conteneur div suppl√©mentaire est cr√©√© lorsque les composants sont affich√©s, ce qui permet de niveler le nombre d'√©l√©ments DOM cr√©√©s.  J'ai d√©cid√© que ce serait vrai, car un composant Web est toujours un √©l√©ment DOM et un conteneur, et la correspondance des structures arborescentes DOM dans diff√©rents tests est tr√®s importante.  De plus, il est possible de supprimer l'imbrication inutile dans Holiday.js et d'afficher les donn√©es de la m√™me mani√®re que dans React.  Cependant, si ce probl√®me vous semble controvers√©, faites tout d'abord attention √† la rapidit√© des mises √† jour. <br><br><h3>  Prise en charge du navigateur </h3><br>  Non, Internet Explorer n'est pas pris en charge.  Cela aurait pu √™tre r√©alis√© avec certains efforts (pour la 11e version), mais le rejet du soutien est une position de principe.  Premi√®rement, je pense qu'IE devrait mourir longtemps et en notre pouvoir d'y contribuer.  Deuxi√®mement, les personnes qui pr√©conisent la prise en charge d'IE font souvent une grave erreur logique: la part d'IE dans le trafic total, selon les donn√©es actuelles, est d'environ 1,6% pour <b>toutes les</b> versions trouv√©es.  Et le navigateur le plus populaire, qui devance largement les autres, est Chrome pour <b>mobile</b> (~ 35%).  Ainsi, en prenant en charge IE, vous refusez consciemment d'utiliser un grand nombre de technologies qui sont simplement n√©cessaires pour impl√©menter une adaptabilit√© et une mobilit√© compl√®tes dans vos applications, c'est-√†-dire, pour le bien d'une petite minorit√©, compliquer la vie d'une grande majorit√© de ses utilisateurs.  Ou augmentez <b>consid√©rablement</b> le co√ªt de d√©veloppement et de maintenance de vos produits.  Troisi√®mement, Microsoft a, ces derniers temps, forc√© activement les utilisateurs √† abandonner Windows 7, de sorte que la proportion du trafic IE dans un avenir proche diminuera de plus en plus rapidement.  J'admets qu'il y a des cas o√π le support d'IE ne peut pas √™tre contourn√©, mais de tels cas sont beaucoup plus rares que nous ne le pensions. <br><br>  Le 15 janvier de cette ann√©e, Microsoft a publi√© une version finale du nouveau <a href="https://www.microsoft.com/en-us/edge">Edge</a> , sur le moteur Chromium.  √Ä partir de ce moment, nous pouvons supposer que Holiday.js est nativement pris en charge dans <b>toutes</b> les versions actuelles des navigateurs populaires.  Pour les anciens Edge, un <a href="https://github.com/webcomponents/polyfills/tree/master/packages/webcomponentsjs">polyfill</a> est requis.  La possibilit√© de travailler avec des polyfills est impl√©ment√©e dans Holiday.js, mais le script lui-m√™me doit √™tre connect√© s√©par√©ment. <br><br><h3>  Minimalisme </h3><br>  Le concept de Holiday.js est bas√© sur la simplicit√© et le minimalisme.  L'une des √©tapes importantes dans le travail sur ce projet a √©t√© pour moi la <b>suppression de la fonctionnalit√©</b> , que j'ai h√¢te de mettre en ≈ìuvre, mais j'ai r√©alis√© plus tard que je pouvais m'en passer.  Par cons√©quent, s'il vous semble que quelque chose manque vraiment, posez-vous une question, est-ce vraiment le cas?  J'ai r√©pondu par moi-m√™me comme ceci: si quelque chose d'autre est vraiment n√©cessaire, il vaut mieux cr√©er une classe √©tendue s√©par√©ment, avec h√©ritage de la principale.  Jusqu'√† pr√©sent, cette approche ne m'a pas √©chou√©.  Holiday.js, dans son √©tat actuel, a √©t√© test√© au combat et s'est r√©v√©l√© tr√®s positif au travail. <br><br><h3>  Plans </h3><br>  Si vous lisez √† cet endroit, alors mes efforts ont d√©j√† √©t√© d√©pens√©s en vain.  M√™me si vous ne souhaitez pas utiliser Holiday.js, vous pouvez au moins obtenir quelque chose d'int√©ressant en travaillant avec des composants Web en tant que tels.  Je serai tr√®s heureux si ce mat√©riel marque le d√©but de la construction communautaire.  Je serai tr√®s heureux d'avoir une discussion constructive, des critiques, des rapports de bugs, des pullrequests et, bien s√ªr, des √©toiles sur GitHub.  Bien s√ªr, je ne pourrais pas aborder tous les aspects, et je serai heureux de r√©pondre √† vos questions.  Veuillez prendre en compte que jusqu'√† pr√©sent, j'ai travaill√© <b>seul</b> sur cette biblioth√®que, et faire tout seul, y compris la documentation, les tests et les outils associ√©s, en parall√®le avec les principaux travaux et projets pour animaux de compagnie, est difficile. <br><br>  Cependant, dans un avenir proche: <br><br><ul><li>  Plus de comparaisons avec d'autres biblioth√®ques et frameworks populaires. </li><li>  Outil de test PingPong minimaliste et flexible bas√© sur Puppeteer </li><li>  G√©n√©rateur de projet de base avec des exemples (Starter Kit) </li><li>  D√©veloppement de la documentation </li></ul><br>  Je croise les doigts, appuie sur "Publier" ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485688/">https://habr.com/ru/post/fr485688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485654/index.html">Une id√©e tir√©e de la physique aide l'IA √† travailler dans des dimensions plus √©lev√©es.</a></li>
<li><a href="../fr485660/index.html">La soci√©t√© de protection DDoS a elle-m√™me lanc√© des attaques DDoS, a reconnu son fondateur</a></li>
<li><a href="../fr485664/index.html">Cr√©ation de param√®tres dynamiques dans un travail Jenkins, ou comment rendre votre t√¢che conviviale</a></li>
<li><a href="../fr485672/index.html">Redis Best Practices, Partie 1</a></li>
<li><a href="../fr485682/index.html">La gestion du temps n'aidera pas: la procrastination est le probl√®me de la r√©gulation des √©motions, pas du temps</a></li>
<li><a href="../fr485692/index.html">Conseils d'un sp√©cialiste informatique au client, ou comment automatiser le d√©sordre</a></li>
<li><a href="../fr485694/index.html">Embox sur processeur Elbrus. Ou n'oublie jamais ce que tu as en intelligence</a></li>
<li><a href="../fr485702/index.html">FunCorp iOS Meetup # 2</a></li>
<li><a href="../fr485704/index.html">Pixel art pour d√©butants: corriger les erreurs courantes</a></li>
<li><a href="../fr485706/index.html">Nous vous invitons √† la r√©union ¬´Transformation num√©rique et nouveaux r√¥les en science des donn√©es¬ª</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>