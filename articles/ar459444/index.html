<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐พ ๐ ๐ง๐ผ ุงูุชุบููุฑุงุช ุงูุฃุฎูุฑุฉ ูู Linux IO stack ูู ูุฌูุฉ ูุธุฑ DBA ๐ ๐ฆ ๐ค๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุชุนูู ุงููุดููุงุช ุงูุฑุฆูุณูุฉ ููุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจููุฒุงุช ุฌูุงุฒ ูุธุงู ุงูุชุดุบูู ุงูุฐู ุชุนูู ุนููู ูุงุนุฏุฉ ุงูุจูุงูุงุช. Linux ูู ุงูุขู ูุธุงู ุงูุชุดุบูู ุงูุฑุฆูุณู ูููุงุนุฏ ุงูุจู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุชุบููุฑุงุช ุงูุฃุฎูุฑุฉ ูู Linux IO stack ูู ูุฌูุฉ ูุธุฑ DBA</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/459444/" style=";text-align:right;direction:rtl">  ุชุชุนูู ุงููุดููุงุช ุงูุฑุฆูุณูุฉ ููุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจููุฒุงุช ุฌูุงุฒ ูุธุงู ุงูุชุดุบูู ุงูุฐู ุชุนูู ุนููู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  Linux ูู ุงูุขู ูุธุงู ุงูุชุดุบูู ุงูุฑุฆูุณู ูููุงุนุฏ ุงูุจูุงูุงุช.  ูุง ุชุฒุงู ุชุณุชุฎุฏู Solaris ู Microsoft ูุญุชู HPUX ูู ุงููุคุณุณุฉ ุ ููููุง ูู ุชุญุชู ุงููุฑุชุจุฉ ุงูุฃููู ูุทูููุง.  ููุชุณุจ Linux ุจุซูุฉ ูุฃู ููุงู ุงููุฒูุฏ ูุงููุฒูุฏ ูู ููุงุนุฏ ุงูุจูุงูุงุช ููุชูุญุฉ ุงููุตุฏุฑ.  ูุฐูู ุ ูุฅู ูุณุฃูุฉ ุชูุงุนู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ูุธุงู ุงูุชุดุบูู ุชุชุนูู ุจูุถูุญ ุจููุงุนุฏ ุจูุงูุงุช Linux.  ูุชู ูุฑุถู ุนูู ูุดููุฉ DB ุงูุฃุจุฏูุฉ - ุฃุฏุงุก IO.  ูู ุงูุฌูุฏ ุฃูู ูู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ ุ ุฎุถุน ูุธุงู Linux ูุฅุตูุงุญ ูุจูุฑ ูููุฏุณ ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ (IO) ูููุงู ุฃูู ูู ุงูุชูููุฑ. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0o7uNUOS-Ho" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  ูุนูู Ilya Kosmodemyansky ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">hydrobiont</a> ) ูุฏู Data Egret ุ ููู ุดุฑูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">ุชุชุดุงูุฑ</a> ูุชุฏุนู PostgreSQL ุ ูุชุนุฑู ุงููุซูุฑ ุนู ุงูุชูุงุนู ุจูู ูุธุงู ุงูุชุดุบูู ูููุงุนุฏ ุงูุจูุงูุงุช.  ูู ุชูุฑูุฑ ุนู HighLoad ++ ุ ุชุญุฏุซ Ilya ุนู ุชูุงุนู IO ูููุงุนุฏ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ูุซุงู PostgreSQL ุ ููููู ุฃุธูุฑ ุฃูุถูุง ููู ุชุนูู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุฃุฎุฑู ูุน IO.  ูุธุฑุช ุฅูู ููุฏุณ Linux IO ุ ููุง ุงูุฃุดูุงุก ุงูุฌุฏูุฏุฉ ูุงูุฌูุฏุฉ ุงูุชู ุธูุฑุช ููู ูููุงุฐุง ูู ููู ูู ุดูุก ููุง ูุงู ูุจู ุนุงููู.  ูุชุฐููุฑ ูููุฏ - ูุงุฆูุฉ ูุญุต ูุฅุนุฏุงุฏุงุช PostgreSQL ู Linux ููุญุตูู ุนูู ุฃูุตู ุฃุฏุงุก ูููุธุงู ุงููุฑุนู IO ูู ุงูููุงุฉ ุงูุฌุฏูุฏุฉ. <br><a name="habracut"></a><br>  <i>ูุญุชูู ุชูุฑูุฑ ุงูููุฏูู ุนูู ุงููุซูุฑ ูู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุ ููุฏ ุชุฑุฌููุง ูุนุธููุง ูู ุงูููุงู.</i> <br><br><h2 style=";text-align:right;direction:rtl">  ููุงุฐุง ูุชุญุฏุซ ุนู IOุ </h2><br>  <strong>I / O ุงูุณุฑูุน ูู ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ููุณุคููู ูุงุนุฏุฉ ุงูุจูุงูุงุช</strong> .  ูุนูู ุงูุฌููุน ูุง ุงูุฐู ูููู ุชุบููุฑู ูู ุงูุนูู ูุน ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ููููู ุชูุณูุน ุชูู ุงูุฐุงูุฑุฉ ุ ููู I / O ูููู ุฃู ุชุฏูุฑ ูู ุดูุก.  ุฅุฐุง ูุงูุช ุณูุฆุฉ ูุน ุงูุฃูุฑุงุต ุ ูุงููุซูุฑ I / O ุ ุซู ุณูู ุชุดุชู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุณูู IO ุชุตุจุญ ุนูู ุงูุฒุฌุงุฌุฉ. <br><br><blockquote style=";text-align:right;direction:rtl">  ูุฌุนู ูู ุดูุก ูุนูู ุจุดูู ุฌูุฏ ุ ุชุญุชุงุฌ ุฅูู ุชูููู ูู ุดูุก. </blockquote><br>  ููุณ ููุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุงูุฃุฌูุฒุฉ ููุท - ูุฐุง ูู ุดูุก.  ุญุชู ุฃูุฑุงูู ุฑููุน ุงููุณุชูู ุ ูุงูุฐู ูู ูู ุญุฏ ุฐุงุชู ูุธุงู ุชุดุบูู ูู ุจุนุถ ุงูุฃูุงูู ุ ูุชุทูุจ ุงูุชูููู.  ููุฑุฃ ุงูุชุนูููุงุช ุงูููุฌูุฏุฉ ูู "ุฏููู ุงูุชุซุจูุช" ูู Oracle: ูู ุจุชุบููุฑ ูุนููุงุช kernel ูุฐู ุ ููู ุจุชุบููุฑ ุงูุขุฎุฑูู - ููุงู ุงูุนุฏูุฏ ูู ุงูุฅุนุฏุงุฏุงุช.  ุจุงูุฅุถุงูุฉ ุฅูู ุญูููุฉ ุฃูู ูู Unernableable Kernel ุ ูุฅู ุงููุซูุฑ ุจุงููุนู ุงูุชุฑุงุถููุง ุณููู ุฅูู Oracle Linux. <br><br>  ุจุงููุณุจุฉ ูู PostgreSQL ู MySQL ุ ููุฒู ุฅุฌุฑุงุก ุงููุฒูุฏ ูู ุงูุชุบููุฑุงุช.  ูุฐูู ูุฃู ูุฐู ุงูุชูููุงุช ุชุนุชูุฏ ุนูู ุขููุงุช ุงูุชุดุบูู.  ูุฌุจ ุฃู ูููู DBA ุงูุฐู ูุนูู ูุน PostgreSQL ุ ุฃู MySQL ุ ุฃู NoSQL ุงูุญุฏูุซ ูููุฏุณ ุชุดุบูู Linux ูุฃู ูุนูู ุนูู ุชุญุณูู ุฃูุธูุฉ ุงูุชุดุบูู ุงููุฎุชููุฉ. <br><br>  ูู ูู ูุฑูุฏ ุงูุชุนุงูู ูุน ุฅุนุฏุงุฏุงุช kernel ุ ูุชุญูู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LWN</a> .  ุงูููุฑุฏ ุนุจูุฑู ุ ุฃุถูู ุงูุญุฏูุฏ ุ ูุญุชูู ุนูู ุงููุซูุฑ ูู ุงููุนูููุงุช ุงููููุฏุฉ ุ ูููู ุชูุช <strong>ูุชุงุจุชู ุจูุงุณุทุฉ ูุทูุฑู kernel ููุทูุฑู kernel</strong> .  ูุงุฐุง ููุชุจ ูุทูุฑู ุงูููุงุฉ ุจุดูู ุฌูุฏุ  ุฌููุฑ ุ ูููุณ ุงููุงุฏุฉ ุ ูููููุฉ ุงุณุชุฎุฏุงููุง.  ูุฐูู ุ ุณุฃุญุงูู ุดุฑุญ ูู ุดูุก ูู ูููุทูุฑูู ุ ูุงูุณูุงุญ ููู ุจูุชุงุจุฉ ุงูููุงุฉ. <br><br>  ูู ุดูุก ูุนูุฏ ุนุฏุฉ ูุฑุงุช ุจุณุจุจ ุญูููุฉ ุฃู ุชุทููุฑ ููุงุฉ Linux ููุนุงูุฌุฉ ููุฏุณูุง ูู ุงูุจุฏุงูุฉ ูุงูุง ูุชุฎูููู ุ ููู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ ุฐูุจูุง ุจุณุฑุนุฉ ูุจูุฑุฉ.  ูุง ุงูุญุฏูุฏ ููุง ุงููุทูุฑูู ูุน ููุงูุงุช ูุฑุงุกู ููุงูุจุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููููุฐุฌูุฉ </h2><br>  ููุจุฏุฃ ุจุฃูุซูุฉ ูู PostgreSQL - ููุง ูุชู ุชุฎุฒููู ูุคูุชูุง I / O.  ูุญุชูู ุนูู ุฐุงูุฑุฉ ูุดุชุฑูุฉ ุ ูุชู ุชุฎุตูุตูุง ูู <strong>ูุณุงุญุฉ ุงููุณุชุฎุฏู</strong> ูู ูุฌูุฉ ูุธุฑ ูุธุงู ุงูุชุดุบูู ุ ููุฏูู ููุณ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช kernel ูู <strong>ูุณุงุญุฉ Kernel</strong> . <br><br><img src="https://habrastorage.org/webt/jd/dh/d2/jddhd25l97pocaqtqqf6ccygcxi.jpeg"><br><br>  <strong>ุงููููุฉ ุงูุฑุฆูุณูุฉ ููุงุนุฏุฉ ุจูุงูุงุช ุญุฏูุซุฉ</strong> : <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชูุงุท ุตูุญุงุช ูู ุงููุฑุต ูู ุงูุฐุงูุฑุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุญุฏูุซ ุชุบููุฑ ุ ูู ุจุชูููุฒ ุงูุตูุญุงุช ุนูู ุฃููุง ูุชุณุฎุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุงููุชุงุจุฉ ุฅูู ุณุฌู ุงููุชุงุจุฉ ุฅูู ุงูุฃูุงู ุ </li><li style=";text-align:right;direction:rtl">  ุซู ูู ุจูุฒุงููุฉ ุงูุฐุงูุฑุฉ ุจุญูุซ ุชุชูุงูู ูุน ุงููุฑุต. </li></ul><br>  ูู ูููู PostgreSQL ุ ุชุนุฏ ูุฐู ุฑุญูุฉ ุฐูุงุจูุง ูุฅูุงุจูุง ุซุงุจุชุฉ: ูู ุงูุฐุงูุฑุฉ ุงููุดุชุฑูุฉ ุงูุชู ูุชุญูู ูููุง PostgreSQL ูู ููุงุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุตูุญุฉ ุ ุซู ุฅูู ุงููุฑุต ูู ุฎูุงู ุญุฒูุฉ Linux ุจุฃููููุง.  ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุช ุนูู ูุธุงู ูููุงุช ุ ูุณุชุนูู ุนูู ูุฐู ุงูุฎูุงุฑุฒููุฉ ูุน ุฃู ูุธุงู ูุดุจู UNIX ูุฃู ูุงุนุฏุฉ ุจูุงูุงุช.  ุงูุงุฎุชูุงูุงุช ูู ุ ูููู ุถุฆููุฉ. <br><br>  ุณูููู ุงุณุชุฎุฏุงู Oracle ASM ูุฎุชูููุง - ูุชูุงุนู Oracle ููุณู ูุน ุงููุฑุต.  ููู ุงููุจุฏุฃ ูู ููุณู: ูุน Direct IO ุฃู ูุน Page Cache ุ ูููู ุงููููุฉ ูู <strong>ุฑุณู ุงูุตูุญุงุช ุนุจุฑ ููุฏุณ I / O ุจุฃูููู ุจุฃุณุฑุน ููุช ูููู</strong> ุ ูููุง ูุงู.  ููููู ุฃู ุชูุดุฃ ูุดุงูู ูู ูู ูุฑุญูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุดููุชูู ูู IO </h3><br>  ูู ุญูู ุฃู ูู ุดูุก <strong>ูููุฑุงุกุฉ ููุท</strong> ุ ูุง ุชูุฌุฏ ูุดุงูู.  ููุฑุคูู ุ ูุฅุฐุง ูุงูุช ููุงู ุฐุงูุฑุฉ ูุงููุฉ ุ ูุชู ูุถุน ุฌููุน ุงูุจูุงูุงุช ุงูุชู ูุฌุจ ูุฑุงุกุชูุง ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู.  ุญูููุฉ ุฃูู ูู ุญุงูุฉ PostgreSQL ูู <strong>Buffer Cache</strong> ูู ููุณูุง ุ ูุณูุง ููููู ููุบุงูุฉ. <br><br><img src="https://habrastorage.org/webt/mh/0j/sm/mh0jsmmdrh5bosmamuaiko9l-jw.jpeg"><br><br>  <strong>ุงููุดููุฉ ุงูุฃููู ูู IO ูู ุชุฒุงูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.</strong>  ูุญุฏุซ ุนูุฏ ุงูุชุณุฌูู ูุทููุจ.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูู ุชุถุทุฑ ุฅูู ุฏูุน ุงููุฒูุฏ ูุงููุฒูุฏ ูู ุงูุฐุงูุฑุฉ. <br><br><img src="https://habrastorage.org/webt/tq/mw/u7/tqmwu7fy-wlwqjx6nxec6jfcyrk.jpeg"><br><br>  ููููุง ูุฐูู ุ ุชุญุชุงุฌ ุฅูู ุชูููู PostgreSQL ุฃู MySQL ุจุญูุซ ูุญุตู ูู ุดูุก ุนูู ุงููุฑุต ูู ุงูุฐุงูุฑุฉ ุงููุดุชุฑูุฉ.  ูู ุญุงูุฉ PostgreSQL - ูุง ุชุฒุงู ุจุญุงุฌุฉ ุฅูู ุถุจุท ุงูุบุด ูู ุงูุฎูููุฉ ููุตูุญุงุช ุงููุฐุฑุฉ ูู Linux ูุฅุฑุณุงู ูู ุดูุก ุฅูู ุงููุฑุต. <br><br>  <strong>ุงููุดููุฉ ุงูุดุงุฆุนุฉ ุงูุซุงููุฉ ูู ูุดู ุงููุชุงุจุฉ ุฅูู ุงูุฃูุงู ุณุฌู</strong> .  ูุธูุฑ ุนูุฏูุง ูููู ุงูุชุญููู ููููุง ููุบุงูุฉ ุญุชู ุฃู ุงูุณุฌู ุงููุณุฌู ุจุงูุชุชุงุจุน ููุน ุนูู ุงููุฑุต.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุฃูุถูุง ุชุณุฌูููุง ุจุณุฑุนุฉ. <br><br>  ุงููููู ูุง ูุฎุชูู ูุซูุฑุง ุนู <strong>ุชุฒุงูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช</strong> .  ูู PostgreSQL ุ ูุนูู ูุน ุนุฏุฏ ูุจูุฑ ูู ุงููุฎุงุฒู ุงููุคูุชุฉ ุงููุดุชุฑูุฉ ุ ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุฏููุง ุขููุงุช ููุชุณุฌูู ุงููุนุงู ูุชุณุฌูู ุงูุฏุฎูู ุฅูู ุงูุณุฌู ุ ูุชู ุชุญุณูููุง ุฅูู ุงูุญุฏ ุงูุฃูุตู.  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูููู ุงูููุงู ุจู ูุฌุนู ุงูุณุฌู ููุณู ุฃูุซุฑ ูุงุนููุฉ ูู ุชุบููุฑ ุฅุนุฏุงุฏุงุช Linux. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุดุงูู ุงูุฑุฆูุณูุฉ ููุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช </h2><br>  <strong>ูููู ุฃู ุชููู ุดุฑูุญุฉ ุงูุฐุงูุฑุฉ ุงููุดุชุฑูุฉ ูุจูุฑุฉ ุฌุฏูุง</strong> .  ุจุฏุฃุช ุฃุชุญุฏุซ ุนู ูุฐุง ูู ุงููุคุชูุฑุงุช ูู ุนุงู 2012.  ุซู ููุช ุฃู ุงูุฐุงูุฑุฉ ุงูุฎูุถุช ูู ุงูุณุนุฑ ุ ุญุชู ุฃู ููุงู ุฎูุงุฏู ุจุณุนุฉ 32 ุฌูุฌุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู.  ูู ุนุงู 2019 ุ ูุฏ ูููู ููุงู ุจุงููุนู ุงููุฒูุฏ ูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููุญูููุฉ ุ ููู ูุซูุฑ ูู ุงูุฃุญูุงู ุนูู ุงูุฎูุงุฏู 128 ุ 256 ุ ุฅูุฎ. <br><br>  <strong>ุญูุง ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ</strong> .  ูุณุชุบุฑู ุชุณุฌูู ุงููุฃููู ููุชูุง ูุงูููุงุฑุฏ ุ <strong>ูุงูุชูููุงุช ุงูุชู ูุณุชุฎุฏููุง ูู ูุฐุง ุงูุฃูุฑ ูุชุญูุธุฉ</strong> .  ููุงุนุฏ ุงูุจูุงูุงุช ูุฏููุฉ ุ ููุฏ ุชู ุชุทููุฑูุง ููุชุฑุฉ ุทูููุฉ ุ ููู ุชุชุทูุฑ ุจุจุทุก.  ุงูุขููุงุช ุงูููุฌูุฏุฉ ูู ููุงุนุฏ ุงูุจูุงูุงุช ููุณุช ุตุญูุญุฉ ุชูุงููุง ูุน ุฃุญุฏุซ ุงูุชูููุงุช. <br><br>  <strong>ุชุฒุงูู ุงูุตูุญุงุช ูู ุงูุฐุงูุฑุฉ ูุน ุงููุฑุต ูุคุฏู ุฅูู ุนูููุงุช ุฅุฏุฎุงู / ุฅุฎุฑุงุฌ ุถุฎูุฉ</strong> .  ุนูุฏูุง ูููู ุจูุฒุงููุฉ ุฐุงูุฑุงุช ุงูุชุฎุฒูู ุงููุคูุช ุ ููุดุฃ ุฏูู ูุจูุฑ ูู IO ุ ูุชูุดุฃ ูุดููุฉ ุฃุฎุฑู - <strong>ูุง ูููููุง ุชุญุฑูู ุดูุก ูุฅููุงุก ูุธุฑุฉ ุนูู ุงูุชุฃุซูุฑ.</strong>  ูู ุชุฌุฑุจุฉ ุนูููุฉ ุ ูุงู ุงูุจุงุญุซูู ุจุชุบููุฑ ูุนููุฉ ูุงุญุฏุฉ - ุงูุญุตูู ุนูู ุงูุชุฃุซูุฑ ุ ูุงูุซุงูู - ุงูุญุตูู ุนูู ุงูุชุฃุซูุฑ ุ ูุงููุนูู ุงูุซุงูุซ.  ูู ููุฌุญ.  ูููู ุจุชุญุฑูู ุจุนุถ ุงููุนููุงุช ูู PostgreSQL ุ ููููู ุจุชูููู ููุงุท ุงูุชูุชูุด - ูู ูุฑ ุงูุชุฃุซูุฑ.  ุซู ูู ูุฑุฉ ุฃุฎุฑู ุจุชูููู ุงูููุฏุณ ุจุงููุงูู ููุญุตูู ุนูู ุจุนุถ ุงููุชุงุฆุฌ ุนูู ุงูุฃูู.  ุชุทูุฑ ูุนููุฉ ูุงุญุฏุฉ ูุง ูุนูู - ูุญู ูุถุทุฑูู ูุชูููู ูู ุดูุก ูู ููุช ูุงุญุฏ. <br><br>  ุชููู ูุนุธู ุฃุฏูุงุช ุฅุฏุฎุงู PostgreSQL ุจุฅูุดุงุก ูุฒุงููุฉ ุงูุตูุญุฉ: ููุงุท ุงูุชูุชูุด ูุขููุงุช ุงูุชุฒุงูู ุงูุฃุฎุฑู.  ุฅุฐุง ููุช ุชุนูู ูุน PostgreSQL ุ ูุฑุจูุง ุชููู ูุฏ ุดูุฏุช ุฒูุงุฏุฉ ุณุฑูุนุฉ ูู ููุงุท ุงูุชูุชูุด ุนูุฏ ุธููุฑ "ุงูููุดุงุฑ" ุจุดูู ุฏูุฑู ุนูู ุงููุฎุทุทุงุช.  ูู ุงูุณุงุจู ุ ูุงุฌู ุงููุซูุฑูู ูุฐู ุงููุดููุฉ ุ ูููู ููุงู ุงูุขู ุฃุฏูุฉ ุญูู ููููุฉ ุญููุง ุ ููุฏ ุฃุตุจุญ ุงูุฃูุฑ ุฃุณูู. <br><br>  ุณูุงูุงุช ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุงูููู ุฅููุงุฐ ุงููุถุน ุฅูู ุญุฏ ูุจูุฑ.  ูู PostgreSQL ุ ูุงุฏุฑุงู ูุง ููุน ุดูุก ูุง ูุจุงุดุฑุฉ ุนูู ุณุฌู ุงููููุฉ.  ูู ุดูุก ูุนุชูุฏ ุนูู ุงููุฒุงููุฉ: ุนูุฏ ุญุฏูุซ ููุทุฉ ุชูุชูุด ุ ูุชู ุงุณุชุฏุนุงุก fsync ูููุงู ููุน ูู "ุถุฑุจ" ููุทุฉ ุชูุชูุด ูุงุญุฏุฉ ุนูู ุฃุฎุฑู.  ุงููุซูุฑ ูู IO.  ููุทุฉ ุชูุชูุด ูุงุญุฏุฉ ูู ุชูุชู ุจุนุฏ ุ ููู ุชููู ุฌููุน ุนูููุงุชูุง ุงููุฒููุฉ ุ ูููููุง ุงูุชุณุจุช ุจุงููุนู ููุทุฉ ุชูุชูุด ุฃุฎุฑู ุ ูุจุฏุฃุช! <br><br>  PostgreSQL ูุฏูู ููุฒุฉ ูุฑูุฏุฉ ูู ููุนูุง - <strong>autov Vacuum</strong> .  ูุฐุง ูู ุชุงุฑูุฎ ุทููู ูู ุงูุนูุงุฒุงุช ูููุฏุณุฉ ููุงุนุฏ ุงูุจูุงูุงุช.  ูู ุญุงูุฉ ูุดู ุงูุชุนุจุฆุฉ ุงูุชููุงุฆูุฉ ุ ูุฅููุง ุนุงุฏุฉ ูุง ุชููู ุจุฅุนุฏุงุฏูุง ุจุญูุซ ุชุนูู ุจููุฉ ููุง ุชุชุฏุงุฎู ูุน ุงูุจุงูู: ููุงู ุงููุซูุฑ ูู ุนูุงู ุงูุชุนุจุฆุฉ ุงูุชููุงุฆูุฉ ุ ูุชุฏูููู ุจุดูู ูุชูุฑุฑ ููููุงู ุ ุทุงููุงุช ุงููุนุงูุฌุฉ ุจุณุฑุนุฉ.  ุฎูุงู ุฐูู ุ ุณูููู ููุงู ูุดุงูู ูุน DDL ููุน ุงูุฃููุงู. <br><br><blockquote style=";text-align:right;direction:rtl">  ูููู ุนูุฏูุง ูููู Autov Vacuum ุนุฏูุงูููุง ุ ูุฅูู ูุจุฏุฃ ูู ูุถุบ IO. </blockquote><br>  ุฅุฐุง ุชู ุชุซุจูุช ุงููุฑุงุบ ุงูุชููุงุฆู ุนูู ููุงุท ุงูุชูุชูุด ุ ูุบุงูุจูุง ูุง ูุชู ุฅุนุงุฏุฉ ุชุฏููุฑ ุงูุฃูุฑุงุต ุจูุณุจุฉ 100ูช ุชูุฑูุจูุง ุ ููุฐุง ูู ูุตุฏุฑ ุงููุดุงูู. <br><br>  ุงูุบุฑูุจ ุ ููุงู ูุดููุฉ <strong>ุฅุนุงุฏุฉ ููุก ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช</strong> .  ุงููุง ุนุงุฏุฉ ูุง ุชููู ุฃูู ุดูุฑุฉ ุฏูุณูุจู.  ูุซุงู ูููุฐุฌู: ุจุฏุฃุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูุชุจุงุทุฃ ูู ุดูุก ููุฃุณู ูุจุนุถ ุงูููุช.  ูุฐูู ุ ุญุชู ุฅุฐุง ูุงู ูุฏูู ุงููุซูุฑ ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (RAM) ุ ูู ุจุดุฑุงุก ุงูุฃูุฑุงุต ุงูุฌูุฏุฉ ุญุชู ูุณุฎู ุงูููุฏุณ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช. <br><br>  ูู ูุฐุง ูุคุซุฑ ุจุดูู ุฎุทูุฑ ุนูู ุงูุฃุฏุงุก.  ุชุจุฏุฃ ุงููุดุงูู ููุณ ูุจุงุดุฑุฉ ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ูููู ูู ููุช ูุงุญู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฑุช ููุทุฉ ุชูุชูุด ุ ูุงูุนุฏูุฏ ูู ุงูุตูุญุงุช ูุชุณุฎุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูุชู ูุณุฎูุง ุฅูู ุงููุฑุต ูุฃูู ุจุญุงุฌุฉ ุฅูู ูุฒุงููุชูุง.  ุซู ุชุทูุจ ุงูุทูุจุงุช ุฅุตุฏุงุฑูุง ุฌุฏูุฏูุง ูู ุตูุญุงุช ุงููุฑุต ููู ุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุณุชูุถุญ ุงูุฑุณูู ุงูุจูุงููุฉ ููููุฉ ุฅุนุงุฏุฉ ููุก ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุจุนุฏ ูู ููุทุฉ ุชูุชูุด ุชุณุงูู ุจูุณุจุฉ ูุฆููุฉ ูุนููุฉ ูู ุงูุชุญููู. <br><br>  ุฃูุซุฑ ุงูุฃุดูุงุก ุบูุฑ ุงูุณุงุฑุฉ ูู ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู <strong>Worker IO.</strong>  ุนูุฏูุง ูุจุฏุฃ ูู ุนุงูู ุชุทูุจู ุ ูู ุฅูุดุงุก IO ุงูุฎุงุต ุจู.  ูู Oracle ุ ุงูุฃูุฑ ุฃุณูู ุ ูููู ูู PostgreSQL ุ ุฅููุง ูุดููุฉ. <br><br>  ููุงู ุงูุนุฏูุฏ ูู ุฃุณุจุงุจ ูุดุงูู <strong>Worker IO</strong> : ูุง ุชูุฌุฏ ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ูุงููุฉ "ููุดุฑ" ุตูุญุงุช ุฌุฏูุฏุฉ ูู ุงููุฑุต.  ุนูู ุณุจูู ุงููุซุงู ุ ูุญุฏุซ ุฃู ูุชู ูุดุงุฑูุฉ ุฌููุน ุงููุฎุงุฒู ุงููุคูุชุฉ ุ ููู ูููุง ูุฐุฑุฉ ุ ูู ูุชู ุจุนุฏ ููุงุท ุงูุชูุชูุด.  ููู ูููู ุงูุนุงูู ุจุฃุฏุงุก ุงูุชุญุฏูุฏ ุงูุฃุจุณุท ุ ุชุญุชุงุฌ ุฅูู ุฃุฎุฐ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ููุงู ูุง.  ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ุญูุธ ูู ุดูุก ุนูู ุงููุฑุต.  ููุณ ูุฏูู ุนูููุฉ ูุญุต ูุชุฎุตุตุฉ ุ ููุจุฏุฃ ุงูุนุงูู ุจุฑูุงูุฌ fsync ูุชุญุฑูุฑู ูุชุนุจุฆุชู ุจุดูุก ุฌุฏูุฏ. <br><br>  ูุฐุง ูุซูุฑ ูุดููุฉ ุฃูุจุฑ: ุงูุนุงูู ูู ุดูุก ุบูุฑ ูุชุฎุตุต ุ ูุงูุนูููุฉ ูููุง ููุณุช ุงูุฃูุซู ุนูู ุงูุฅุทูุงู.  ูู ุงููููู ุชุญุณูู ููุงู ูุง ุนูู ูุณุชูู Linux ุ ููู ูู PostgreSQL ูุนุฏ ูุฐุง ุฅุฌุฑุงุกู ุทุงุฑุฆูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ูุดููุฉ IO ุงูุฑุฆูุณูุฉ ู DB </h2><br>  <strong>ูุง ุงููุดููุฉ ุงูุชู ูุญููุง ุนูุฏูุง ููุดุฆ ุดูุฆูุง ูุงุ</strong>  ูุฑูุฏ ุชุนุธูู ุงูุชูุงู ุงูุตูุญุงุช ุงููุฐุฑุฉ ุจูู ุงููุฑุต ูุงูุฐุงูุฑุฉ. <br><br>  ููู ุบุงูุจูุง ูุง ูุญุฏุซ ุฃู ูุฐู ุงูุฃุดูุงุก ูุง ุชููุณ ุงููุฑุต ูุจุงุดุฑุฉ.  ุญุงูุฉ ูููุฐุฌูุฉ - ุชุฑู ูุชูุณุท โโุญูู ูุจูุฑ ุฌุฏูุง.  ููุงุฐุง ูุฐุง  ูุฃู ููุงู ูู ููุชุธุฑ ุงููุฑุต ุ ูุฌููุน ุงูุนูููุงุช ุงูุฃุฎุฑู ุชูุชุธุฑ ุฃูุถูุง.  ูุจุฏู ุฃูู ูุง ููุฌุฏ ุงุณุชุฎุฏุงู ูุงุถุญ ูููุฑุต ููุฃูุฑุงุต ุ ูููู ููุงู ุดูุก ูุง ูุญุธุฑ ุงููุฑุต ููุงู ุ ูุงููุดููุฉ ูู ูู ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุนูู ุฃู ุญุงู. <br><br><blockquote style=";text-align:right;direction:rtl">  ูุดุงูู I / O ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฏููุงู ูุง ููู ุงูุฃูุฑุงุต ููุท. </blockquote><br>  ูู ุดูุก ูุชูุฑุท ูู ูุฐู ุงููุดููุฉ: ุงูุฃูุฑุงุต ูุงูุฐุงูุฑุฉ ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU) ูุฌุฏุงูู IO ูุฃูุธูุฉ ุงููููุงุช ูุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุงูุขู ุ ุฏุนูุง ููุชูู ูู ุงูููุฏุณ ููุฑู ูุงุฐุง ููุนู ุจู ููุง ุงูุฃุดูุงุก ุงูุฌูุฏุฉ ุงูุชู ุชู ุงุฎุชุฑุงุนูุง ูู ูุธุงู Linux ุจุญูุซ ูุนูู ูู ุดูุก ุจุดูู ุฃูุถู. <br><br><h3 style=";text-align:right;direction:rtl">  ุฃูุฑุงุต </h3><br>  ูุณููุงุช ุนุฏูุฏุฉ ุ ูุงูุช ุงูุฃูุฑุงุต ุจุทูุฆุฉ ุจุดูู ุฑููุจ ููู ูุดุงุฑู ุฃุญุฏ ูู ุฒูู ุงูุงูุชูุงู ุฃู ุชุญุณูู ุงููุฑุงุญู ุงูุงูุชูุงููุฉ.  ุชุญุณูู fsyncs ูู ููู ูู ูุนูู.  ูุงู ุงููุฑุต ูุฏูุฑ ุ ููุงูุช ุงูุฑุคูุณ ุชุชุญุฑู ุนูู ุทูููุง ูุซู ุณุฌู ุงูููููุบุฑุงู ุ ููุงู ุทูู ูุฐู ุงููุชุฑุฉ ุฃุทูู ูู ุฃู ุงููุดุงูู ูู ุชุธูุฑ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฐุงูุฑุฉ </h3><br>  ูู ุบูุฑ ุงููุฌุฏู ุงููุธุฑ ุฅูู ุฃูู ุงูุงุณุชุนูุงูุงุช ุฏูู ุถุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุณุชููู ุจุชูููู ูููุฉ ูุงููุฉ ูู ุงูุฐุงูุฑุฉ ุงููุดุชุฑูุฉ ุ ููุง ุฅูู ุฐูู ุ ูุณูููู ูุฏูู ุงุณุชุนูุงู ุฃุนูู ุฌุฏูุฏ - ุณูููู ุนููู ุชููููู ูุฑุฉ ุฃุฎุฑู.  ูุฐู ูู ููุณ ุงููุตุฉ.  ุชู ุฅูุดุงุก ููุฏุณ Linux ุจุงููุงูู ูู ูุฐุง ุงูุญุณุงุจ. <br><br><h3 style=";text-align:right;direction:rtl">  ุนุฑุถ ุงููุทุงู ุงูุชุฑุฏุฏู ูุงููููู </h3><br>  <strong>ุฅู ุชุนุธูู ุฃุฏุงุก IO ุนู ุทุฑูู ุฒูุงุฏุฉ ุงูุฅูุชุงุฌูุฉ ุฃูุฑ ุณูู ุฅูู ุญุฏ ูุง.</strong>  ุงุฎุชุฑุนุช ุนูููุฉ PageWriter ุงููุณุงุนุฏุฉ ูู PostgreSQL ุงูุชู ุชู ุชูุฑูุบูุง ูู ููุทุฉ ุงูุชูุชูุด.  ุฃุตุจุญ ุงูุนูู ููุงุฒูุง ุ ูููู ูุง ูุฒุงู ููุงู ุฃุณุงุณ ูุฅุถุงูุฉ ุงูุชูุงุฒู.  ููุชูููู ุฒูู ุงูุงูุชูุงู ุ ุชููู ูููุฉ ุงูููู ุงูุฃุฎูุฑ ุ ูุงูุชู ุชุญุชุงุฌ ุฅูู ุชูููุงุช ูุงุฆูุฉ. <br><br>  ูุฐู ุงูุชูููุงุช ุงููุงุฆูุฉ ุนุจุงุฑุฉ ุนู ูุญุฑูุงุช ุฃูุฑุงุต ุตูุจุฉ.  ุนูุฏูุง ุธูุฑุช ุ ุงูุฎูุถ ุงููููู ุจุญุฏุฉ.  ูููู ูู ุฌููุน ุงููุฑุงุญู ุงูุฃุฎุฑู ููููุฏุณ ุ ุธูุฑุช ูุดุงูู: ูู ุฌุงูุจ ุงูุดุฑูุงุช ุงููุตูุนุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช ููู ุดุฑูุงุช ุชุตููุน Linux.  ูุดุงูู ุชุญุชุงุฌ ุฅูู ูุนุงูุฌุฉ. <br><br>  ุชุฑูุฒ ุชุทููุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุญูู ุฒูุงุฏุฉ ุงูุฅูุชุงุฌูุฉ ุฅูู ุงูุญุฏ ุงูุฃูุตู ุ ููุง ูุนูุช ุชุทููุฑ ููุงุฉ Linux.  ุงูุนุฏูุฏ ูู ุงูุทุฑู ูุชุญุณูู ุนุตุฑ ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ููุฃูุฑุงุต ุงูุฏูุฑุงููุฉ ููุณุช ุฌูุฏุฉ ุฌุฏูุง ููุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุซุงุจุชุฉ. <br><br>  ูููุง ุจููููุง ุ ุงุถุทุฑุฑูุง ูุฅุฌุฑุงุก ูุณุฎ ุงุญุชูุงุทู ููุจููุฉ ุงูุฃุณุงุณูุฉ ููุธุงู Linux ุงูุญุงูู ุ ูููู ุจุงุณุชุฎุฏุงู ุฃูุฑุงุต ุฌุฏูุฏุฉ.  ุดุงูุฏูุง ุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก ูู ุงูุดุฑูุฉ ุงููุตูุนุฉ ูุน ุนุฏุฏ ูุจูุฑ ูู IOPS ูุฎุชููุฉ ุ ููุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุชุชุญุณู ุ ูุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณุช ููุท ูููุณ ุงููุซูุฑ ุนู IOPS.  ูุญุฏุซ ุบุงูุจูุง ุฃูู ูููููุง ุชุฎุทู 50000 IOPS ูู ุงูุซุงููุฉ ุ ููุฐุง ุฃูุฑ ุฌูุฏ.  ูููู ุฅุฐุง ููุง ูุง ูุนุฑู ุงููููู ุ ูุง ูุนุฑู ุชูุฒูุนูุง ุ ุซู ูุง ูููููุง ุฃู ูููู ุฃู ุดูุก ุนู ุงูุฃุฏุงุก.  ูู ูุฑุญูุฉ ูุง ุ ุณุชุจุฏุฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ููุทุฉ ุชูุชูุด ุ ูุณูุฒุฏุงุฏ ุงููููู ุจุดูู ูุจูุฑ. <br><br>  ููุชุฑุฉ ุทูููุฉ ุ ููุง ูู ุงูุญุงู ุงูุขู ุ ูุงูุช ูุฐู ูุดููุฉ ูุจูุฑุฉ ูู ุงูุฃุฏุงุก ุนูู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ.  ูุชููุฒ IO ุงูุธุงูุฑู ุจุงุฎุชูุงุก ุบูุฑ ูุชูุงูุฆ ุ ููู ูุง ูุณุชุชุจุน ุ ุจุงูุทุจุน ุ ูุดุงูู. <br><br><h2 style=";text-align:right;direction:rtl">  ูููุฉ IO.  ููุง ูุงู ูู ูุจู </h2><br><img src="https://habrastorage.org/webt/yl/3v/oz/yl3vozgbt2ltrkqo8lbey-wzdfo.jpeg"><br><br>  ููุงู ูุณุงุญุฉ ุงููุณุชุฎุฏู - ุชูู ุงูุฐุงูุฑุฉ ุ ุงูุชู ุชุฏูุฑูุง ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุง.  ูู DB ุชูููู ุจุญูุซ ุนููุช ูู ุดูุก ููุง ูุฌุจ.  ูููู ุงูููุงู ุจุฐูู ูู ุชูุฑูุฑ ูููุตู ุ ููุง ุญุชู ูู ุชูุฑูุฑ ูุงุญุฏ.  ุซู ูู ุดูุก ููุฑ ุญุชูุงู ุนุจุฑ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุตูุญุฉ ุฃู ูู ุฎูุงู ูุงุฌูุฉ Direct IO ุงูุชู ุชุฏุฎู <strong>ุทุจูุฉ ุญุธุฑ ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ</strong> . <br><br>  ุชุฎูู ูุงุฌูุฉ ูุธุงู ุงููููุงุช.  ุงูุตูุญุงุช ุงูุชู ูุงูุช ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุฎุฒู ุงููุคูุช ุ ููุง ูุงูุช ูู ุงูุฃุตู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุ ุฃู ูุชู ุ ุชุฃุชู ูู ุฎูุงููุง.  ุชุชุนุงูู ุทุจูุฉ IO ูุน ูุง ููู.  ููุงู ุจููุฉ C ุชุตู ูุชูุฉ ูู ุงูููุงุฉ.  ูุฃุฎุฐ ุงููููู ูุฐู ุงููุชู ููุฌูุน ูููุง ูุชุฌูุงุช (ุตูุงุฆู) ุทูุจุงุช ุงูุฅุฏุฎุงู ุฃู ุงูุฅุฎุฑุงุฌ.  ุฃุณูู ุทุจูุฉ BIO ูู ุทุจูุฉ ุงูุทุงูุจ.  ูุชู ุฌูุน ุงููุชุฌูุงุช ุนูู ูุฐู ุงูุทุจูุฉ ูุณูู ุชุฐูุจ ุฃุจุนุฏ ูู ุฐูู. <br><br>  ููุชุฑุฉ ุทูููุฉ ุ ุชู ุดุญุฐ ูุงุชูู ุงูุทุจูุชูู ูู Linux ููุชุณุฌูู ุงููุนุงู ุนูู ุงูุฃูุฑุงุต ุงููุบูุงุทูุณูุฉ.  ูุงู ูู ุงููุณุชุญูู ุงูุงุณุชุบูุงุก ุนู ุนูููุฉ ุงูุงูุชูุงู.  ููุงู ูุชู ููุงุฆูุฉ ูุฅุฏุงุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูู ุงูุถุฑูุฑู ุชุฌููุน ูุฐู ุงููุชู ูู ูุชุฌูุงุช ุชุชู ูุชุงุจุชูุง ุจุดูู ูุฑูุญ ุนูู ุงููุฑุต ุจุญูุซ ุชูุน ูู ููุงู ูุฑูุจ.  ูู ุฃุฌู ุฃู ูุนูู ูุฐุง ุจุดูู ูุนุงู ุ ุชูุตููุง ุฅูู ุงููุตุงุนุฏ ุ ุฃู ุงููุฌุฏูู IO. <br><br><h2 style=";text-align:right;direction:rtl">  ุงููุตุงุนุฏ </h2><br>  ุดุงุฑูุช ุงููุตุงุนุฏ ูู ุงูููุงู ุงูุฃูู ูู ุงูุฌูุน ุจูู ุงููุชุฌูุงุช ููุฑุฒูุง.  ูู ุฐูู ูู ุฃุฌู ุจุฑูุงูุฌ ุงูุชุดุบูู SD block - ุจุฑูุงูุฌ ุงูุชุดุบูู quasidisk - ูุตูู ูุชู ุงูุชุณุฌูู ุจุงูุชุฑุชูุจ ุงูููุงุณุจ ูู.  ุชุฑุฌู ุงูุณุงุฆู ูู ูุชู ุฅูู ูุทุงุนุงุชู ููุชุจ ุฅูู ุงููุฑุต. <br><br>  ูุงูุช ุงููุดููุฉ ุฃูู ูุงู ูู ุงูุถุฑูุฑู ุงูููุงู ุจุนุฏุฉ ุงูุชูุงูุงุช ุ ููู ูู ูููุง ุชูููุฐ ููุทููุง ุงูุฎุงุต ุจุงูุนูููุฉ ุงููุซูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุตุงุนุฏ: ุญุชู 2.6 ููุงุฉ </h3><br>  <strong>ูุจู kernel 2.6 ุ ูุงู ููุงู Linus Elevator</strong> - ุงูุฃูุซุฑ ุฌุฏููุฉ IO ุฌุฏููุฉ ุ ูุงูุฐู ูุชุจู ุชุฎููู ูู.  ููุชุฑุฉ ุทูููุฉ ูุงู ูุนุชุจุฑ ุบูุฑ ูุชุฒุนุฒุน ูุฌูุฏ ููุบุงูุฉ ุ ุญุชู ุทูุฑูุง ุดูุฆูุง ุฌุฏูุฏูุง. <br><br>  ูุงุฌูุช Linus Elevator ุงููุซูุฑ ูู ุงููุดููุงุช.  <strong>ุงูู ุงูุฌูุน ููุฑุฒูุง</strong> <strong>ูููุง ูููููุฉ ุชุณุฌูู ุฃูุซุฑ ููุงุกุฉ</strong> .  ูู ุญุงูุฉ ุงูุฃูุฑุงุต ุงููููุงููููุฉ ุงูุฏูุงุฑุฉ ุ ุฃุฏู ุฐูู ุฅูู ุธููุฑ " <strong>ุงููุฌุงุนุฉ"</strong> : ููู ุงููููู ุงูุฐู ุชุนุชูุฏ ููู ููุงุกุฉ ุงูุชุณุฌูู ุนูู ุฏูุฑุงู ุงููุฑุต.  ุฅุฐุง ููุช ุจุญุงุฌุฉ ูุฌุฃุฉ ุฅูู ุงููุฑุงุกุฉ ุจูุนุงููุฉ ูู ููุณ ุงูููุช ุ ูููู ุชู ุฅููุงููุง ุจุงููุนู ุจุดูู ุตุญูุญ ุ ูุณุชุชู ูุฑุงุกุชูุง ุจุดูู ุณูุฆ ูู ูุฐุง ุงููุฑุต. <br><br>  ุชุฏุฑูุฌูุง ุ ุฃุตุจุญ ูู ุงููุงุถุญ ุฃู ูุฐู ุทุฑููุฉ ุบูุฑ ูุนุงูุฉ.  ูุฐูู ุ ุจุฏุกูุง ูู kernel 2.6 ุ ุจุฏุฃุช ุชุธูุฑ ูุฌููุนุฉ ูุงููุฉ ูู ุฃุฏูุงุช ุงูุฌุฏููุฉ ุ ูุงูุชู ูุงูุช ูุฎุตุตุฉ ููููุงู ุงููุฎุชููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุตุงุนุฏ: ุจูู 2.6 ู 3 </h3><br>  ูุฎูุท ุงูุนุฏูุฏ ูู ุงูุฃุดุฎุงุต ุจูู ูุฐู ุงููุฌุฏููุงุช ูุฌุฏุงูู ูุธุงู ุงูุชุดุบูู ูุฃู ูุฏููู ุฃุณูุงุก ูุดุงุจูุฉ.  <strong>CFQ - ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ุงูุนุงุฏูุฉ ุชูุงููุง</strong> ููุณุช ูู ููุณูุง ุจุฑุงูุฌ ุฌุฏููุฉ ูุธุงู ุงูุชุดุบูู.  ููุท ุฃุณูุงุก ูุชุดุงุจูุฉ.  ุชู ุตูุงุบุชูุง ูุฌุฏูู ุฒููู ุนุงููู. <br><br>  <strong>ูุง ูู ุงููุฌุฏูู ุงูุนุงูููุ</strong>  ูู ุชุนุชูุฏ ุฃู ูุฏูู ูุชูุณุท โโุงูุญูู ุฃู ุ ุนูู ุงูุนูุณ ูู ุฐูู ุ ูุงุญุฏุฉ ูุฑูุฏุฉ ูู ููุนูุงุ  ููุงุนุฏ ุงูุจูุงูุงุช ูุฏููุง ุจุฑุงุนุฉ ุณูุฆุฉ ููุบุงูุฉ.  ุงูุญูู ุงูุนุงููู ูููู ุชุตูุฑู ูุฌูุงุฒ ููุจููุชุฑ ูุญููู ุนุงุฏู.  ูู ุดูุก ูุญุฏุซ ููุงู: ูุณุชูุน ุฅูู ุงูููุณููู ูุงููุนุจ ูููุน ุงููุต.  ููุฐุง ุ ูุงูุช ููุชูุจุฉ ููุท ุงููุฌุฏูู ุงูุนุงููู. <br><br>  <strong>ุงููููุฉ ุงูุฑุฆูุณูุฉ ููุฌุฏูู ุงูุนุงููู:</strong> ูู ุญุงูุฉ ูุธุงู Linux ุ ููู ูุญุทุฉ ุงูุชุฑุงุถูุฉ ูุนูููุฉ ุ ูู ุจุฅูุดุงุก ูุงุฆูุฉ ุงูุชุธุงุฑ ููุทูุจ.  ุนูุฏูุง ูุฑูุฏ ุงูุงุณุชูุงุน ุฅูู ุงูููุณููู ูู ูุดุบู ุตูุช ุ ูุฃุฎุฐ IO ุงูุฎุงุต ุจุงููุดุบู ูุงุฆูุฉ ุงูุชุธุงุฑ.  ุฅุฐุง ููุง ูุฑูุฏ ูุณุฎ ุงุญุชูุงุทู ูุดูุก ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ cp ุ ูููุงู ุดูุก ุขุฎุฑ ูุนูู. <br><br>  ูู ุญุงูุฉ ููุงุนุฏ ุงูุจูุงูุงุช ุ ุชุญุฏุซ ูุดููุฉ.  ููุงุนุฏุฉ ุนุงูุฉ ุ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุนูููุฉ ุจุฏุฃุช ุ ูุฎูุงู ุงูุนูููุฉ ูุดุฃุช ุนูููุงุช ููุงุฒูุฉ ุชูุชูู ุฏุงุฆููุง ูู ููุณ ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ.  ูุงูุณุจุจ ูู ุฃู ูุฐุง ูู ููุณ ุงูุชุทุจูู ุ ููุณ ุงูุนูููุฉ ุงูุฃุตู.  ุจุงููุณุจุฉ ููุฃุญูุงู ุงูุตุบูุฑุฉ ุฌุฏูุง ุ ูุงู ูุฐุง ุงูุฌุฏููุฉ ููุงุณุจูุง ุ ุฃูุง ุงูุจุงูู ููู ููู ูู ูุนูู.  ูุงู ูู ุงูุฃุณูู ุฅููุงูู ูุนุฏู ุงุณุชุฎุฏุงูู ุฅุฐุง ุฃููู ุฐูู. <br><br>  ุชุฏุฑูุฌูุง ุ ุธูุฑุช <strong>ุฌุฏููุฉ ุงูููุนุฏ ุงูููุงุฆู</strong> - ุฃููุง ุชุนูู ุจุดูู ุฃูุซุฑ ุฏูุงุก ุ ูููู ูู ุงูุฃุณุงุณ ูู ุฏูุฌ ูุงููุฑุฒ ููุฃูุฑุงุต ุงูุบุฒู.  ูุธุฑูุง ูุชุตููู ูุธุงู ูุฑุนู ูุนูู ูููุฑุต ุ ูููู ุจุชุฌููุน ูุชุฌูุงุช ุงููุชูุฉ ููุชุงุจุชูุง ุจุงูุทุฑููุฉ ุงููุซูู.  ูุงู ูุฏูู ูุดุงูู ุฃูู ูุน <strong>ุงูุฌูุน</strong> ุ ููููู ูุงููุง ููุงู. <br><br>  ูุฐูู ุ ุจุฏุง ุฃูุฑุจ ุฅูู ููุงุฉ ููููุณ ุงูุซุงูุซุฉ <strong>noop</strong> ุฃู <strong>ูุง ุดูุก</strong> ุ ูุงูุชู ุนููุช ุจุดูู ุฃูุถู ุจูุซูุฑ ูุน ุงูุชุดุงุฑ SSDs.  ุจูุง ูู ุฐูู ุฌุฏููุฉ noop ุ ูุญู ูู ุงููุงูุน ุชุนุทูู ุงูุฌุฏููุฉ: ูุง ุชูุฌุฏ ุนูููุงุช ูุฑุฒ ุ ูุฏูุฌ ุ ูุฃุดูุงุก ููุงุซูุฉ ูุนูุช CFQ ูุงูููุนุฏ ุงูููุงุฆู. <br><br>  ูุนูู ูุฐุง ุจุดูู ุฃูุถู ูุน ูุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุตูุจุฉ ุ ูุฃู ูุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุตูุจุฉ ูุชูุงุฒูุฉ ุจุทุจูุนุชูุง: ุชุญุชูู ุนูู ุฎูุงูุง ุฐุงูุฑุฉ.  ูููุง ุฒุงุฏ ุนุฏุฏ ูุฐู ุงูุนูุงุตุฑ ูู ููุญุฉ PCIe ุ ุฒุงุฏุช ูุงุนููุชูุง. <br><br>  ุงููุฌุฏูู ูู ุจุนุถ ุงูุนุงูู ุงูุขุฎุฑ ุ ูู ูุฌูุฉ ูุธุฑ SSD ุ ุงูุงุนุชุจุงุฑุงุช ุ ูุฌูุน ุจุนุถ ุงููุชุฌูุงุช ููุฑุณููุง ุฅูู ููุงู ูุง.  ูู ูุฐุง ููุชูู ูุน ุงูููุน.  ูุฐูู ูุญู ููุชู ุงูุชุฒุงูู ูู ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุ ูุง ูุณุชุฎุฏููุง ุนูู ุฃููู ูุฌู.  ูุฐูู ุ ูุฅู ุงูุฅุบูุงู ุงูุจุณูุท ุ ุนูุฏูุง ุชุชุญุฑู ุงูููุฌูุงุช ุนุดูุงุฆูุงู ุฏูู ุฃู ูุฑุฒ ุ ูุนูู ุจุดูู ุฃูุถู ูู ุญูุซ ุงูุฃุฏุงุก.  ูููุฐุง ุงูุณุจุจ ุ ูุนุชูุฏ ุฃู ุงููุฑุงุกุฉ ุงูุนุดูุงุฆูุฉ ุ ูุงููุชุงุจุฉ ุงูุนุดูุงุฆูุฉ ุฃูุถู ุนูู ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุตูุจุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุตุงุนุฏ: 3.13 ููุง ููู </h3><br>  ุจุฏุกูุง ูู kernel 3.13 ุ <strong>ุธูุฑ blk-mq</strong> .  ูุจู ุฐูู ุจูููู ูุงู ููุงู ูููุฐุฌ ุฃููู ุ ูููู ูู ุงูุฅุตุฏุงุฑ 3.13 ุธูุฑุช ูุณุฎุฉ ุงูุนูู ูุฃูู ูุฑุฉ. <br><br>  <strong>ุจุฏุฃุช Blk-mq ูุฌุฏูู</strong> ุฒููู ุ ููู ูู ุงูุตุนุจ ุฃู ูุณูููุง ูุฌุฏููุงู - ุฅููุง ูุงุฆูุฉ ุจุฐุงุชูุง ูู ุงููุงุญูุฉ ุงููุนูุงุฑูุฉ.  ูุฐุง ุจุฏูู ูุทุจูุฉ ุงูุทูุจ ูู ุงูููุงุฉ.  ุจุจุทุก ุ ุฃุฏู ุชุทููุฑ blk-mq ุฅูู ุฅุตูุงุญ ูุจูุฑ ูููุฏุณ ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ Linux ุจุฃูููู. <br><br>  ุงูููุฑุฉ ูู: ุฏุนูุง ูุณุชุฎุฏู ุงููุฏุฑุฉ ุงูุฃุตููุฉ ููุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุตูุจุฉ (SSD) ููููุงู ุจุชุฒุงูู ูุนุงู ููุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ.  ุงุนุชูุงุฏูุง ุนูู ุนุฏุฏ ุชุฏููุงุช ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุงููุชูุงุฒูุฉ ุงูุชู ููููู ุงุณุชุฎุฏุงููุง ุ ููุงู ููุงุฆู ุงูุชุธุงุฑ ููุชุจ ูู ุฎูุงููุง ุจุจุณุงุทุฉ ููุง ูู ุนูู SSD.   CPU     . <br><br>    <strong>blk-mq</strong>    .     .   ,  4  ,  <strong>blk-mq</strong>   โ  5-10%,   . <br><br><blockquote style=";text-align:right;direction:rtl"> blk-mq โ ,      SSD. </blockquote><br>    <strong>blk-mq</strong>    <strong>NVMe</strong> driver Linux.      Linux,     Microsoft.     <strong>blk-mq</strong>  NVMe driver โ      Linux,      . <br><br>       ,   .     -     PCIe SSD.      ,    . <br><br><blockquote style=";text-align:right;direction:rtl">  blk-mq  NVMe ,  .       . </blockquote><br>    ,  ,   .  NVMe ,     ,     . <br><br><h3 style=";text-align:right;direction:rtl">    elevators </h3><br><img src="https://habrastorage.org/webt/ya/82/ou/ya82oun8cusxylg0bsuz5y0e1la.jpeg"><br><br>  :  CPU,   ,   -   . <br><br>   Elevators  -.   CPU   . - , ,    ,       , IO      . <br><br><h3 style=";text-align:right;direction:rtl">    elevators </h3><br> blk-mq โ    .  CPU,  NUMA-   /   .     ,  ,  ,    .   SD ,    , . <br><br><img src="https://habrastorage.org/webt/zf/12/7n/zf127n1eqhli2qioregzrsiftp8.jpeg"><br><br>   .  -    RAID-   ,     RAID.   SSD โ   .    SD-   ,  blq-mq. <br><br><h2 style=";text-align:right;direction:rtl">    blk-mq </h2><br>      . <br><br><img src="https://habrastorage.org/webt/me/ma/3e/mema3e595wllaoub6thn61q8kvu.jpeg"><br><br>    . ,   . /    ,  ,   Block IO-.     <strong>blk-mq</strong> ,    ,   scheduler. <br><br>   3.13      ,       .    schedulers  <strong>blk-mq</strong> ,      .     Linux    schedulers IO โ  Kyber  BFQ.         <strong>blk-mq</strong> . <br><br> <strong>BFQ</strong> <strong>โ Budget Fair Queueing โ </strong> <strong></strong> <strong></strong> <strong>FQ</strong> .   ,     . BFQ โ  scheduler   .         IO.     IO,  / .       ,   .     โ  .   BFQ,   ,    . <br><br> <strong>Kyber โ  </strong> .   BFQ,   .  Kyber  scheduler   .    โ   CPU  . Kyber    . <br><br>      โ <strong>blk-mq    SD-</strong> .      ,    ,  ,    IO-.  blk-mq  NVMe driver      .     . <br><br>        โ   latency,      .   SSD,    โ     .      -, ,    NVMe-,   blk-mq    ,    .    . <br><br><h2 style=";text-align:right;direction:rtl">   Linux IO </h2><br>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> / Linux. <br><br><img src="https://habrastorage.org/webt/ak/05/qb/ak05qbritsgbiaeybq3dmz2mpyi.png"><br><br>   ,    ,   ,  Elevators,   . <br><br>   ,           ,    . <br><br><h2 style=";text-align:right;direction:rtl">  NVM Express </h2><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅู NVM Express ุฃู NVMe ูู ูุฌููุนุฉ ููุงุตูุงุช ุ ููู ูุฌููุนุฉ ูู ุงููุนุงููุฑ ุงูุชู ุชุณุงุนุฏู ุนูู ุงูุงุณุชูุงุฏุฉ ุจุดูู ุฃูุถู ูู ูุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุตูุจุฉ. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชูููุฐ ุงูููุงุตูุงุช ุจุดูู ุฌูุฏ ุนูู ูุธุงู Linux. </font><font style="vertical-align: inherit;">ูุนุชุจุฑ Linux ุฃุญุฏ ุงูููู ุงููุญุฑูุฉ ูููุนูุงุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูู ุงูุฅูุชุงุฌ ูู ุงูุฅุตุฏุงุฑ ุงูุซุงูุซ. </font><font style="vertical-align: inherit;">ููููุง ููููุงุตูุงุช ุ ูููู ุฃู ูุชุฌุงูุฒ ุจุฑูุงูุฌ ุชุดุบูู ูุฐุง ุงูุฅุตุฏุงุฑ ุญูุงูู 20 ุฌูุฌุงุจุงูุช / ุซุงููุฉ ููู ูุชูุฉ SSD ูุงุญุฏุฉ ุ ูุงูุฅุตุฏุงุฑ ุงูุฎุงูุณ ูู NVMe ุ ูุงูุฐู ูู ูุชููุฑ ุจุนุฏ ุ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุชู 32 ุฌูุฌุงุจุงูุช / ุซุงููุฉ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุง ูุญุชูู ุจุฑูุงูุฌ ุชุดุบูู SD ุนูู ูุงุฌูุงุช ุฃู ุขููุงุช ุจุฏุงุฎูู ูุชูููุฑ ูุฐุง ุงููุทุงู ุงูุชุฑุฏุฏู.</font></font><br><br><blockquote style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฐู ุงูููุงุตูุงุช ูู ุฃุณุฑุน ุจูุซูุฑ ูู ุฃู ุดูุก ูุงู ูู ูุจู. </font></font></blockquote><script type="text/javascript">function gtElInit() {var lib = new google.translate.TranslateService();lib.translatePage('ru', 'ar', function () {});}</script><script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=gtElInit&amp;client=wt"></script><br>  ุจูุฌุฑุฏ ูุชุงุจุฉ ููุงุนุฏ ุงูุจูุงูุงุช ููุฃูุฑุงุต ุงูุฏูุงุฑุฉ ูููุฌูุฉ ุฅูููุง - ูุฏููู ููุงุฑุณ ุนูู ุดูู ุดุฌุฑุฉ B ุ ุนูู ุณุจูู ุงููุซุงู.  ุงูุณุคุงู ุงูุฐู ูุทุฑุญ ููุณู: <strong>ูู ููุงุนุฏ ุงูุจูุงูุงุช ุฌุงูุฒุฉ ูู NVMe</strong> ุ  ูู ููุงุนุฏ ุงูุจูุงูุงุช ูุงุฏุฑุฉ ุนูู ูุถุบ ูุซู ูุฐุง ุงูุญููุ <br><br>  ููุณ ุจุนุฏ ุ ููููุง ุชุชููู.  ุชุญุชูู ูุงุฆูุฉ PostgreSQL ุงูุจุฑูุฏูุฉ ูุคุฎุฑูุง ุนูู ุจุถุนุฉ <code>pwrite()</code> ูุฃุดูุงุก ููุงุซูุฉ.  ูุชูุงุนู ูุทูุฑู PostgreSQL ู MySQL ูุน ูุทูุฑู kernel.  ุจุงูุทุจุน ุ ุฃูุฏ ุงููุฒูุฏ ูู ุงูุชูุงุนู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุทูุฑุงุช ุงูุฃุฎูุฑุฉ </h2><br>  ุฎูุงู ุงูุนุงู ุงููุงุถู ููุตู ุงูุนุงู ุ ุฃุถุงู NVMe <strong>ุงุณุชูุตุงุก IO</strong> . <br><br>  ูู ุงูุจุฏุงูุฉ ูุงู ููุงู ุฃูุฑุงุต ุงูุบุฒู ูุน ุงููููู ุนุงููุฉ.  ุซู ุฌุงุกุช ูุญุฑูุงุช ุฃูุฑุงุต ุงูุญุงูุฉ ุงูุตูุจุฉ ุ ููู ุฃุณุฑุน ุจูุซูุฑ.  ูููู ูุงู ููุงู ุฏุนุงูุฉ: fsync ูุณุชูุฑ ุ ูุจุฏุฃ ุงูุชุณุฌูู ุ ูุนูู ูุณุชูู ููุฎูุถ ุฌุฏูุง - ุนููููุง ูู ุจุฑูุงูุฌ ุงูุชุดุบูู ุ ูุชู ุฅุฑุณุงู ุทูุจ ูุจุงุดุฑุฉ ุฅูู ูุทุนุฉ ุงูุฃุฌูุฒุฉ - ูู ุจุชุฏููููุง. <br><br>  ูุงูุช ุงูุขููุฉ ุจุณูุทุฉ - ููุฏ ุฃุฑุณูููุง ูููุชุธุฑ ุญุชู ุชุชู ูุนุงูุฌุฉ ุงูููุงุทุนุฉ.  ูุง ููุซู ุงูุชุธุงุฑ ูุนุงูุฌุฉ ุงูููุงุทุนุฉ ูุดููุฉ ููุงุฑูุฉ ุจุงููุชุงุจุฉ ุนูู ูุฑุต ุฏูุงุฑ.  ุงุณุชุบุฑู ุงูุฃูุฑ ููุชูุง ุทูููุงู ูุงูุชุธุงุฑ ุฃูู ุจูุฌุฑุฏ ุงูุชูุงุก ุงูุชุณุฌูู ุ ูุฌุญุช ุงูููุงุทุนุฉ. <br><br>  ูุธุฑูุง ูุฃู SSD ุชูุชุจ ุจุณุฑุนุฉ ุดุฏูุฏุฉ ุ ููุฏ ุธูุฑุช ุขููุฉ ูุงุณุชูุตุงุก ูุทุนุฉ ุงูุฃุฌูุฒุฉ ุงููุชุนููุฉ ุจุงูุชุณุฌูู.  ูู ุงูุฅุตุฏุงุฑุงุช ุงูุฃููู ุ ูุตูุช ุงูุฒูุงุฏุฉ ูู ุณุฑุนุฉ ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุฅูู 50 ูช ุจุณุจุจ ุญูููุฉ ุฃููุง ูุง ููุชุธุฑ ุญุฏูุซ ุงููุทุงุน ุ ููููุง ูุณุฃู ุจูุดุงุท ูุทุนุฉ ุงูุญุฏูุฏ ุนู ุงูุณุฌู.  <strong>ูุชุณูู ูุฐู ุงูุขููุฉ ุงูุงูุชุฑุงุน IO</strong> . <br><br>  ุชู ุชูุฏููู ูู ุงูุฅุตุฏุงุฑุงุช ุงูุญุฏูุซุฉ.  ูู ุงูุฅุตุฏุงุฑ 4.12 ุ ุธูุฑุช <strong>ุฌุฏููุฉ IO</strong> ุ ุดุญุฐ ุฎุตูุตูุง ููุนูู ูุน <strong>blk-mq</strong> ู NVMe ุ ูุงูุชู ููุช ุนููุง <strong>Kyber ู BFQ</strong> .  ูู ุจุงููุนู ุฑุณููุง ูู ุงูููุงุฉ ุ ููููู ุงุณุชุฎุฏุงููุง. <br><br>  ุงูุขู ูู ุดูู ุตุงูุญ ููุงุณุชุฎุฏุงู ููุงู ูุง ูุณูู <strong>IO ุงูุนูุงูุงุช</strong> .  ูุนุธู ุงูุดุฑูุงุช ุงููุตูุนุฉ ููุบููู ูุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุณุชุณุงูู ูู ูุฐุง ุงูุชุทูุฑ.  ุชุญุฏุซ ุชูุฑูุจูุง ุ ูููู ุชูุงูู ุงูุฅุฏุฎุงู ูู ุชุทุจูู ูุนูู ูุฅุนุทุงุฆู ุงูุฃููููุฉ.  ููุงุนุฏ ุงูุจูุงูุงุช ููุณุช ุฌุงูุฒุฉ ููุฐุง ุจุนุฏ ุ ูููู ูุง ุชูุฒุนุฌ.  ุฃุนุชูุฏ ุฃูู ุณูููู ุงูุณุงุฆุฏุฉ ูุฑูุจุง. <br><br><h2 style=";text-align:right;direction:rtl">  ููุงุญุธุงุช IO ุงููุจุงุดุฑุฉ </h2><br>  <strong>ูุง ูุฏุนู PostgreSQL Direct IO ุ ูููุงู ุนุฏุฏ ูู ุงููุดููุงุช ุงูุชู ุชุฌุนู ูู ุงูุตุนุจ ุชูููู ุงูุฏุนู</strong> .  ุงูุขู ูุชู ุฏุนู ูุฐุง ููุท ูููููุฉ ุ ูููุท ุฅุฐุง ูู ูุชู ุชูููู ุงููุณุฎ ุงููุชูุงุซู.  <strong>ูุฌุจ ูุชุงุจุฉ ุงููุซูุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจูุธุงู ุงูุชุดุบูู</strong> ุ ููู ุงูููุช ุงูุญุงูู ุ ููุชูุน ุงูุฌููุน ุนู ุฐูู. <br><br>  ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃู ูุธุงู Linux ููุณู ุจุดุฏุฉ ุนูู ููุฑุฉ Direct IO ูููููุฉ ุชูููุฐูุง ุ ูุฅู ุฌููุน ููุงุนุฏ ุงูุจูุงูุงุช ุชุฐูุจ ุฅูู ููุงู.  ูู Oracle ู MySQL ุ ูุณุชุฎุฏู Direct IO ุจูุซุฑุฉ.  PostgreSQL ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญูุฏุฉ ุงูุชู ูุง ูุชุญูููุง Direct IO. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญูู ูู ุงููุงุฆูุฉ </h2><br>  ููู ุชุญูู ููุณู ูู ููุงุฌุขุช fsync ูู PostgreSQL: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ููุงุท ุงูุชูุชูุด ูุชููู ุฃูู ุชูุงุชุฑุง ูุฃูุจุฑ. </li><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ูุงุชุจ ุงูุฎูููุฉ ูููุณุงุนุฏุฉ ูู ููุทุฉ ุชูุชูุด. </li><li style=";text-align:right;direction:rtl">  ุณุญุจ Autov Vacuum ุจุญูุซ ูุง ููุฌุฏ I / O ุฒุงุฆูุฉ ูุง ูุฒูู ููุง </li></ul><br><blockquote style=";text-align:right;direction:rtl">  ููููุง ููุชูุงููุฏ ุ ูู ููููุจุฑ ููุชุธุฑ ุงููุทูุฑูู ุงููุญุชุฑููู ููุฎุฏูุงุช ุงููุญููุฉ ููุบุงูุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Skolkovo</a> ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HighLoad ++</a> .  ูุง ูุฒุงู ููุงู ุดูุฑ ูุชูุฏูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุทูุจ ููุญุตูู</a> ุนูู ุชูุฑูุฑ ุ ููููุง ูุจููุง ุจุงููุนู ุงูุชูุงุฑูุฑ ุงูุฃููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุจุฑูุงูุฌ</a> .  ุงูุงุดุชุฑุงู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุดุฑุฉ ุงูุฅุฎุจุงุฑูุฉ</a> ูุฏููุง ููุนุฑูุฉ ููุถูุนุงุช ุฌุฏูุฏุฉ ูุจุงุดุฑุฉ. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar459444/">https://habr.com/ru/post/ar459444/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar459430/index.html">ุชุทุจููุงุช ุงููุงุชู ุงููุชุญุฑู ูุน ุงูุฌูู ุงูุชููุงุฆู ุงููููุฐุฌ: ูุถูุชูุง</a></li>
<li><a href="../ar459432/index.html">RD-180: ูู ุชุณุชุทูุน ุงูููุงูุงุช ุงููุชุญุฏุฉ ุชุตููุน ูุญุฑูุงุช ุงูุตูุงุฑูุฎุ</a></li>
<li><a href="../ar459434/index.html">React Hook Router ุจุฏูู ุงูุชูุงุนู ุงูุญุงูู</a></li>
<li><a href="../ar459438/index.html">ุงูุจูุงูุงุช ูุง ุชุฒุงู ุฃูุซุฑ ุฃูููุฉ</a></li>
<li><a href="../ar459442/index.html">5 ุฃูุธูุฉ ุฅุฏุงุฑุฉ ุงูุฃุญุฏุงุซ ุงูุฃูููุฉ ููุชูุญุฉ ุงููุตุฏุฑ</a></li>
<li><a href="../ar459446/index.html">ุฎูุณุฉ ุงุชุฌุงูุงุช ูุฎููุฉ ููุชุตููู ุงูุญุฏูุซ</a></li>
<li><a href="../ar459450/index.html">ูุณูุญ ุชูุจูุฑ ุนุฏู ุญุตุงูุฉ ุจุฑุงูุฌ ุงููุคุชูุฑุงุช ุนู ุจูุนุฏ ูุฃู ูููุน ููุจ ุจุงูุชุฌุณุณ ุนูู ุงููุณุชุฎุฏููู ุนุจุฑ ูุงููุฑุง ุงูููุจ</a></li>
<li><a href="../ar459452/index.html">ุชุนูู ุงูุฑูุจูุช ุงูุฒุฑุงุนู ูุน ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุฌูุน ุงูุณูุทุฉ ุงููุงุถุฌุฉ ุจุนูุงูุฉ ูู ุงูุญุฏููุฉ</a></li>
<li><a href="../ar459454/index.html">ููู ูุงู ุฃูู hackathon ูู ูุฃุฒู</a></li>
<li><a href="../ar459456/index.html">ุฏุงุบุงุฒ: ุงูุญููุงุช (ุงูุฌุฒุก ุงูุฃูู)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>