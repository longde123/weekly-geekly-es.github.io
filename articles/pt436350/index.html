<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ôüèæ üéÑ üë©‚Äçüëß‚Äçüë¶ Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 7 üéâ üë©üèø‚Äçüî¨ üê†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Descoberta 
 Links para todas as partes: 

 Parte 1. Obtendo Acesso Inicial (Acesso Inicial) 
 Parte 2. Execu√ß√£o 
 Parte 3. Fixa√ß√£o (Persist√™ncia) 
 P...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 7</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436350/"><h1>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta</a> </h1><br>  <b>Links para todas as partes:</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1. Obtendo Acesso Inicial (Acesso Inicial)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2. Execu√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3. Fixa√ß√£o (Persist√™ncia)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 4. Escalonamento de Privil√©gios</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 5. Evas√£o de Defesa</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 6. Obtendo credenciais (acesso a credenciais)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 7. Descoberta</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 8. Movimento Lateral</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 9. Coleta de Dados (Cole√ß√£o)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 10 Exfiltra√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 11. Comando e Controle</a> <br><br>  Tendo obtido, como resultado de um compromisso inicial, acesso ao sistema, o advers√°rio deve ‚Äúolhar em volta‚Äù, entender que agora controla quais oportunidades ele tem e se o acesso atual √© suficiente para alcan√ßar um objetivo t√°tico ou final.  Este est√°gio do ataque √© chamado de "Descoberta" (Eng. <i>Descoberta</i> - "descoberta cient√≠fica", "divulga√ß√£o", "exposi√ß√£o"). <br><a name="habracut"></a><br>  <i>O autor n√£o se responsabiliza pelas poss√≠veis consequ√™ncias da aplica√ß√£o das informa√ß√µes contidas no artigo e tamb√©m se desculpa por eventuais imprecis√µes feitas em algumas formula√ß√µes e termos.</i>  <i>As informa√ß√µes publicadas s√£o uma recontagem gratuita do conte√∫do do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MITRE ATT &amp; CK</a> .</i> <br><br>  Os sistemas operacionais t√™m muitas ferramentas internas com as quais o advers√°rio pode estudar o per√≠metro interno da rede atacada depois que ela √© comprometida.  No Windows, a intera√ß√£o direta com a funcionalidade API do Windows, WMI e PowerShell pode ser usada para coletar informa√ß√µes. <br><br>  Um invasor usa m√©todos de detec√ß√£o enquanto estuda o ambiente atacado; portanto, a identifica√ß√£o de tal atividade deve ser considerada como parte da cadeia de ataques, seguida por tentativas de avan√ßar o inimigo pela rede. <br><br>  Como uma medida destinada a identificar a atividade descrita acima em sistemas protegidos, recomenda-se que processos e argumentos de linha de comando sejam monitorados para que possam ser usados ‚Äã‚Äãna coleta de informa√ß√µes sobre um sistema ou rede.  Uma recomenda√ß√£o geral para impedir a possibilidade de investiga√ß√£o interna n√£o autorizada do sistema e da rede protegidos √© auditar a presen√ßa de utilit√°rios desnecess√°rios do sistema e software potencialmente perigoso que podem ser usados ‚Äã‚Äãpara estudar o ambiente protegido e usar ferramentas para bloquear seu lan√ßamento, por exemplo, AppLocker ou pol√≠ticas de restri√ß√£o de software (Software Restriction Pol√≠ticas). <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta da conta</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: os</i> invasores podem tentar obter uma lista de contas no sistema ou dom√≠nio local. <br><br>  <b>Windows</b> <br>  Para obter informa√ß√µes da conta, os utilit√°rios <i>Net</i> ou <i>Dsquery</i> podem ser usados: <br> <code>net user <br> net group <br> net localgroup <br> dsquery user <br> dsquery group</code> <br> <br>  Um invasor pode usar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Descoberta do propriet√°rio / usu√°rio do sistema</i></a> para procurar o usu√°rio principal, o usu√°rio atual de um sistema ou um grupo de usu√°rios que normalmente usam o sistema. <br><br>  <b>Mac</b> <br>  No Mac, √© poss√≠vel obter grupos de usu√°rios usando os comandos <i>groups</i> e <i>id</i> .  Grupos de usu√°rios e usu√°rios tamb√©m podem ser listados usando os seguintes comandos: <br> <code>dscl . list /Groups <br> dscacheutile -q group</code> <br> <br>  <b>Linux</b> <br>  No Linux, os usu√°rios locais podem ser obtidos no <i>arquivo / etc / passwd</i> , que pode ser lido por todos os usu√°rios.  No Mac, o mesmo arquivo √© usado apenas no modo de usu√°rio √∫nico, al√©m do arquivo <i>/etc/master.passwd</i> .  Al√©m disso, os <i>grupos</i> e os comandos <i>id</i> tamb√©m est√£o dispon√≠veis no Linux. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> evite a possibilidade de listar contas de administrador ao elevar privil√©gios por meio do UAC, pois isso levar√° √† divulga√ß√£o de nomes de contas de administrador.  A chave do registro correspondente pode ser desabilitada usando o GPO: <br><br> <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\CredUI\ <br> EnumerateAdministrators <br> <br> GPO: Computer Configuration &gt; [Policies] &gt; Administrative Templates &gt; Windows Components &gt; Credential User Interface: Enumerate administrator accounts on elevation.</code> <br> <br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta da janela do aplicativo</a> </h3><br>  <i>Sistema:</i> Windows, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: os</i> invasores podem tentar obter listas de janelas abertas pelos aplicativos.  Essas listas podem indicar como o sistema √© usado no local ou descobrir o contexto das informa√ß√µes coletadas pelo keylogger.  Em um Mac, isso pode ser feito com um pequeno script AppleScript. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de marcadores do navegador</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o:</i> para descobrir o m√°ximo poss√≠vel de informa√ß√µes sobre um sistema comprometido, os invasores podem examinar os favoritos do navegador do usu√°rio.  Os marcadores podem revelar informa√ß√µes pessoais sobre usu√°rios (por exemplo, sites banc√°rios, interesses pessoais, redes sociais etc.), bem como informa√ß√µes sobre recursos de rede internos da rede - servidores, ferramentas, pain√©is e outros elementos de infraestrutura.  Um advers√°rio pode usar credenciais armazenadas em cache em um navegador para obter acesso aos servi√ßos do usu√°rio cujos endere√ßos est√£o armazenados nos indicadores do navegador.  Os locais de armazenamento para favoritos dependem da plataforma e das especificidades dos aplicativos e do SO.  Os favoritos do navegador geralmente s√£o armazenados como arquivos ou bancos de dados locais. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> como o armazenamento de informa√ß√µes em arquivos √© um recurso padr√£o do sistema operacional, as tentativas de suprimir essa atividade ser√£o inadequadas.  Por exemplo, restringir o acesso aos arquivos de favoritos do navegador pode levar a efeitos colaterais n√£o intencionais e interromper o software leg√≠timo.  Os esfor√ßos de defesa devem ser direcionados para impedir o lan√ßamento das ferramentas e ferramentas de um invasor nos est√°gios anteriores de um ataque. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de arquivos e diret√≥rios</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio, Administrador, Sistema <br>  <i>Descri√ß√£o: os</i> invasores podem listar arquivos e diret√≥rios ou procurar informa√ß√µes espec√≠ficas em locais espec√≠ficos no host ou em recursos de rede compartilhados. <br><br>  <b>Windows</b> <br>  Exemplos de utilit√°rios para obter informa√ß√µes sobre arquivos e diret√≥rios s√£o <i>dir</i> e <i>tree</i> .  Ferramentas personalizadas por meio de intera√ß√£o direta com a API do Windows tamb√©m podem ser usadas para coletar informa√ß√µes sobre arquivos e diret√≥rios. <br><br>  <b>Linux e macOS</b> <br>  No Linux e macOS, a navega√ß√£o em arquivos e diret√≥rios √© feita usando os comandos <i>ls, find</i> e <i>find</i> . <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> como a apresenta√ß√£o de informa√ß√µes na forma de arquivos e diret√≥rios √© um recurso padr√£o do sistema operacional, as tentativas de suprimir essa atividade ser√£o inadequadas.  Os esfor√ßos de defesa devem ser direcionados para impedir o lan√ßamento das ferramentas e ferramentas de um invasor nos est√°gios anteriores de um ataque. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Digitaliza√ß√£o do servi√ßo de rede</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Administrador, Sistema <br>  <i>Descri√ß√£o: os</i> invasores podem tentar obter uma lista de servi√ßos em execu√ß√£o em hosts remotos, incluindo aqueles que podem estar vulner√°veis ‚Äã‚Äã√†s ferramentas de acesso remoto.  Os m√©todos para obter essas informa√ß√µes incluem a verifica√ß√£o de portas e vulnerabilidades usando ferramentas baixadas no sistema. <br><br>  Dicas de <i>seguran√ßa:</i> Use os sistemas IDS / IPS para detectar e impedir verifica√ß√µes remotas.  Verifique se as portas desnecess√°rias est√£o fechadas, os servi√ßos n√£o utilizados est√£o desativados e a segmenta√ß√£o de rede adequada √© respeitada para proteger servidores e dispositivos cr√≠ticos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de compartilhamento de rede</a> </h3><br>  <i>Sistema:</i> Windows, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o:</i> nas redes locais, geralmente existem pastas e unidades de rede compartilhadas que permitem aos usu√°rios acessar diret√≥rios de rede de diret√≥rios de arquivos localizados em sistemas diferentes.  Os invasores podem procurar pastas e unidades de rede compartilhadas em sistemas remotos, a fim de procurar fontes de dados de destino e identificar sistemas em potencial para movimento adicional na rede. <br><br>  <b>Windows</b> <br>  O compartilhamento de arquivos nas redes Windows √© feito usando o protocolo SMB.  O utilit√°rio <i>Net</i> pode ser usado para obter informa√ß√µes de um sistema remoto sobre a presen√ßa de unidades de rede compartilhadas nele: <code>net view \remotesystem</code> <br>  Ou obtenha informa√ß√µes sobre unidades de rede compartilhadas no sistema local: <code>net share</code> . <br><br>  <b>Mac</b> <br>  Em um Mac, os compartilhamentos de rede montados localmente podem ser visualizados com o comando: <code>df -aH</code> . <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Detec√ß√£o de rede</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descri√ß√£o: um</i> invasor pode usar a interface de rede no <i>modo prom√≠scuo</i> ( <i>modo</i> "inaud√≠vel"), no qual a placa de rede aceita todos os pacotes, independentemente de quem eles s√£o endere√ßados ou usa portas de extens√£o (portas espelhadas) para capturar uma grande quantidade de dados transmitidos por fio. ou redes sem fio. <br><br>  Os dados capturados durante o sniffing podem conter credenciais enviadas por conex√µes n√£o seguras sem o uso de protocolos de criptografia.  V√°rios ataques aos servi√ßos de nome de rede, como envenenamento por LLMNR / NBT-NS, redirecionando o tr√°fego, tamb√©m podem ser usados ‚Äã‚Äãpara coletar credenciais em sites, proxies e sistemas internos.  Ao ouvir uma rede, um advers√°rio tamb√©m pode revelar v√°rias informa√ß√µes de configura√ß√£o (servi√ßos em execu√ß√£o, n√∫meros de vers√£o, endere√ßos IP, nomes de host, IDs de VLAN etc.) necess√°rias para um movimento adicional na rede e / ou para ignorar os recursos de seguran√ßa. <br><br>  <i>Dicas de seguran√ßa:</i> verifique se o tr√°fego sem fio est√° criptografado corretamente.  Se poss√≠vel, use autentica√ß√£o Kerberos, SSL e multifator.  Monitore os comutadores de rede para portas span, envenenamento por ARP / DNS e altera√ß√µes n√£o autorizadas na configura√ß√£o do roteador.  Use ferramentas para identificar e bloquear software potencialmente perigoso que pode ser usado para interceptar e analisar o tr√°fego de rede. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta da pol√≠tica de senha</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o:</i> uma pol√≠tica de senha na rede √© uma maneira de os usu√°rios garantidos usarem senhas complexas que s√£o dif√≠ceis de adivinhar ou decifrar pela for√ßa bruta.  Um invasor pode tentar acessar informa√ß√µes sobre as configura√ß√µes da diretiva de senha da rede atacada, a fim de criar uma lista de senhas conhecidas comuns que atendem aos requisitos da diretiva (por exemplo, se a diretiva tiver um tamanho m√≠nimo de senha de 8 caracteres, n√£o tente usar senhas como pass123 ou n√£o verifique mais de 3) 4 senhas por conta, se o n√∫mero de tentativas malsucedidas for igual a 6) e o in√≠cio subsequente da sele√ß√£o de senhas no dicion√°rio.  As pol√≠ticas de senha podem ser aplicadas e detectadas no Windows, Linux e macOS. <br><br>  <b>Windows</b> <br> <code>net accounts <br> net accounts /domain</code> <br> <br>  <b>Linux</b> <br> <code>chage -l <br> cat /etc/pam.d/comman-password</code> <br> <br>  <b>macOS</b> <br> <code>pwpolicy getaccountpolicies</code> <br> <br>  <i>Recomenda√ß√µes de prote√ß√£o: n√£o s√£o recomendadas</i> tentativas para impedir diretamente a detec√ß√£o de uma pol√≠tica de senha, pois as configura√ß√µes da pol√≠tica de senha devem ser conhecidas por todos os sistemas e usu√°rios da rede.  Verifique se a pol√≠tica de senha que voc√™ usa dificulta o uso de senhas com for√ßa bruta e n√£o permite o uso de senhas muito leves.  A maneira mais comum de aplicar uma diretiva de senha em uma rede corporativa √© implementar o Active Directory. <br><br>  Se houver uma tarefa para detectar atividades maliciosas, monitore os processos em busca de ferramentas e argumentos da linha de comandos que indiquem tentativas de identificar uma pol√≠tica de senha.  Combine essa atividade com outras atividades suspeitas do sistema de origem para reduzir a probabilidade de um evento falso relacionado √†s a√ß√µes do usu√°rio ou administrador.  O advers√°rio provavelmente tentar√° identificar os par√¢metros da pol√≠tica de senha nos est√°gios iniciais do ataque ou em conjunto com o uso de outras t√©cnicas do est√°gio de identifica√ß√£o e revis√£o. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de dispositivos perif√©ricos</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Direitos:</i> Usu√°rio, Administrador, Sistema <br>  <i>Descri√ß√£o: os</i> invasores podem tentar coletar informa√ß√µes sobre os perif√©ricos conectados aos computadores na rede atacada.  Essas informa√ß√µes podem ser usadas para aumentar a conscientiza√ß√£o sobre o ambiente atacado e podem ser usadas no planejamento de a√ß√µes maliciosas adicionais. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de grupos de permiss√£o</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: os</i> invasores podem tentar encontrar grupos de acesso local ou de dom√≠nio e examinar suas configura√ß√µes de permiss√£o. <br><br>  <b>Windows</b> <br>  Voc√™ pode listar grupos de acesso usando o utilit√°rio <i>Net</i> : <br> <code>net group /domain <br> ner localgroup</code> <br> <br>  <b>Linux</b> <br>  No Linux, grupos locais podem ser enumerados usando o comando <i>groups</i> , grupos de dom√≠nio podem ser enumerados usando o comando <i>ldapsearch</i> . <br><br>  <b>macOS</b> <br>  No Mac, voc√™ pode fazer o mesmo com os seguintes comandos: <br>  <code>dscacheutil -q</code> - para grupos de dom√≠nio; <br> <code>dscl . -list /Groups</code>  <code>dscl . -list /Groups</code> - para grupos locais. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de processos</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio, Administrador, Sistema <br>  <i>Descri√ß√£o: os</i> oponentes podem tentar obter informa√ß√µes sobre os processos em execu√ß√£o no sistema para obter informa√ß√µes sobre o software em execu√ß√£o nos sistemas da rede atacada. <br><br>  <b>Windows</b> <br>  Um exemplo de como obter informa√ß√µes sobre processos no Windows √© o utilit√°rio do sistema <i>Tasklist</i> . <br><br>  <b>Mac e Linux</b> <br>  No Mac e Linux, isso √© feito usando o comando <i>ps</i> . <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Registro de consulta</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Direitos:</i> Usu√°rio, Administrador, Sistema <br>  <i>Descri√ß√£o: os</i> invasores podem interagir com o registro do Windows para coletar informa√ß√µes sobre o sistema, a configura√ß√£o e o software instalado.  O registro cont√©m uma quantidade significativa de informa√ß√µes sobre o sistema operacional, configura√ß√£o, software e seguran√ßa.  Algumas informa√ß√µes podem ajudar o advers√°rio a realizar mais opera√ß√µes na rede atacada.  A intera√ß√£o com o registro pode ocorrer usando v√°rios utilit√°rios, por exemplo, <i>Reg</i> ou executando ferramentas de terceiros que usam a API do Windows. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de sistemas remotos (Descoberta remota do sistema)</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio, Administrador, Sistema <br>  <i>Descri√ß√£o:</i> o advers√°rio provavelmente tentar√° obter uma lista de sistemas na rede atacada.  Os sistemas remotos podem ser detectados pelo endere√ßo IP, nome do host ou outro identificador, que pode ser usado posteriormente para avan√ßar um invasor pela rede a partir do sistema atual.  A funcionalidade correspondente pode ser inclu√≠da nas Ferramentas de acesso remoto (RAT) e os utilit√°rios de sistema incorporados tamb√©m podem ser usados. <br><br>  <b>Windows</b> <br>  Comandos de <i>ping</i> ou <i>net view</i> . <br><br>  <b>Mac</b> <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O</a></i> protocolo <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bonjour</a></i> √© usado para detectar sistemas Mac dentro do dom√≠nio de broadcast.  Utilit√°rios como <i>ping</i> tamb√©m podem ser usados ‚Äã‚Äãpara coletar informa√ß√µes sobre sistemas remotos. <br><br>  <i>Linux</i> <br>  Utilit√°rios como ping tamb√©m podem ser usados ‚Äã‚Äãpara coletar informa√ß√µes sobre sistemas remotos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de software de seguran√ßa</a> </h3><br>  <i>Sistema:</i> Windows, macOS <br>  <i>Direitos:</i> Usu√°rio, Administrador, Sistema <br>  <i>Descri√ß√£o: os</i> invasores podem tentar obter listas de software de seguran√ßa, configura√ß√µes e sensores instalados no sistema.  A meta de um advers√°rio pode ser algo como regras locais de firewall, antiv√≠rus e ferramentas de virtualiza√ß√£o.  Essas verifica√ß√µes podem ser incorporadas nas ferramentas de acesso remoto (RATs) usadas nos est√°gios iniciais de um ataque. <br><br>  <b>Windows</b> <br>  Exemplos de comandos que podem ser usados ‚Äã‚Äãpara obter informa√ß√µes sobre ferramentas de seguran√ßa s√£o os <i>utilit√°rios</i> <i>netsh, reg query, dir</i> e <i>tasklist</i> , mas outras ferramentas mais espec√≠ficas tamb√©m podem ser usadas para identificar sistemas de seguran√ßa espec√≠ficos que um advers√°rio est√° procurando. <br><br>  <b>Mac</b> <br>  Uma maneira comum de verificar se h√° malware √© usar o <i>LittleSnitch</i> e o <i>KnockKnock</i> . <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de informa√ß√µes do sistema</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: um</i> advers√°rio pode tentar obter informa√ß√µes detalhadas sobre o sistema operacional e o hardware, incluindo arquitetura, vers√£o, patches e service packs instalados. <br><br>  <b>Windows</b> <br>  Exemplos de utilit√°rios para obter informa√ß√µes do sistema s√£o <i>ver, systeminfo</i> e <i>dir</i> para identificar informa√ß√µes do sistema com base em arquivos e diret√≥rios existentes. <br><br>  <b>Mac</b> <br>  O comando <i>systemsetup</i> fornece informa√ß√µes detalhadas do sistema, mas requer privil√©gios administrativos.  Al√©m disso, uma descri√ß√£o detalhada das configura√ß√µes, regras de firewall, volumes montados, hardware e muitas outras coisas sem a necessidade de escala√ß√£o de privil√©gios √© <i>fornecida pelo system_profiler</i> . <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta dos par√¢metros de configura√ß√£o de rede (System Network Configuration Discovery)</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: um</i> invasor provavelmente procurar√° informa√ß√µes detalhadas sobre a configura√ß√£o da rede e os par√¢metros do sistema aos quais ele tem acesso ou atrav√©s do estudo de sistemas remotos.  Alguns utilit√°rios projetados para administrar o sistema operacional podem ser usados ‚Äã‚Äãpara coletar as informa√ß√µes acima.  Exemplos de tais utilit√°rios: <i>arp, ipconfig / ifconfig, nbtstat, route, tracert / tracerout</i> , etc. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de conex√µes de rede (Descoberta de conex√µes de rede do sistema)</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio, Administrador <br>  <i>Descri√ß√£o: os</i> invasores podem tentar obter uma lista de conex√µes de rede recebidas e enviadas de um sistema comprometido ao qual eles t√™m acesso, ou um sistema remoto, solicitando informa√ß√µes pela rede. <br><br>  <b>Windows</b> <br>  Utilit√°rios e comandos para obter informa√ß√µes sobre conex√µes de rede: <br> <code>Netstat <br> net use <br> net session</code> <br> <br>  <b>Mac e Linux</b> <br>  <i>Netstat</i> e <i>lsof</i> podem ser usados ‚Äã‚Äãpara exibir as conex√µes atuais.  Semelhante √† " <i>sess√£o de rede</i> ", <i>quem</i> e os utilit√°rios <i>w</i> podem exibir os usu√°rios atuais que est√£o conectados. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Detec√ß√£o do propriet√°rio / usu√°rio do sistema</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio, Administrador <br>  <i>Descri√ß√£o: os</i> invasores podem tentar identificar o usu√°rio principal do sistema, o usu√°rio atual atualmente conectado, um grupo de usu√°rios que geralmente usam o sistema ou determinar quanto o usu√°rio est√° usando o sistema.  Um advers√°rio pode obter as informa√ß√µes acima usando m√©todos de descoberta de contas (consulte a t√©cnica "Descoberta de contas") ou m√©todos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dumping de credenciais</a> .  As informa√ß√µes sobre o usu√°rio e seu nome s√£o distribu√≠das por todo o sistema - s√£o inclu√≠das nas informa√ß√µes sobre os propriet√°rios dos processos, arquivos e diret√≥rios, nas informa√ß√µes sobre sess√µes e logs do sistema, para que o inimigo possa usar v√°rios m√©todos de detec√ß√£o. <br>  No Mac, o usu√°rio atual pode ser identificado usando os <i>usu√°rios de</i> utilit√°rios <i>, we</i> e <i>who</i> .  Em sistemas Linux, apenas com <i>we</i> <i>quem</i> . <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de servi√ßo do sistema</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Direitos:</i> Usu√°rio, Administrador, Sistema <br>  <i>Descri√ß√£o: um</i> invasor pode tentar obter informa√ß√µes sobre servi√ßos registrados.  Para coletar dados, um advers√°rio pode usar v√°rias ferramentas, incluindo utilit√°rios internos que podem receber informa√ß√µes sobre servi√ßos: <br> <code>sc <br> tasklist /svc <br> net start</code> <br> <br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta da hora do sistema</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: a</i> hora do sistema √© definida no dom√≠nio e armazenada pelo Windows Times Service para garantir a sincroniza√ß√£o da hora entre sistemas e servi√ßos na rede corporativa.  Um invasor pode obter a hora e / ou fuso hor√°rio do sistema de um sistema local ou remoto.  Essas informa√ß√µes podem ser coletadas de v√°rias maneiras: <br>  <code>net time \\hostname</code> - obt√©m a hora do sistema host; <br>  <code>w32tm /tz</code> - obtendo o fuso hor√°rio. <br>  Informa√ß√µes sobre a hora do sistema podem ser √∫teis para o inimigo usar v√°rios m√©todos de ataque, como executar um arquivo com uma tarefa agendada ou, com base em informa√ß√µes sobre o fuso hor√°rio, para revelar a localiza√ß√£o da v√≠tima. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> O software de alta qualidade usa processos leg√≠timos para coletar o tempo do sistema.  Os esfor√ßos de prote√ß√£o devem ser direcionados para impedir a execu√ß√£o de c√≥digo indesejado ou desconhecido no sistema.  Para impedir a recupera√ß√£o n√£o autorizada de informa√ß√µes de tempo de um sistema remoto, ferramentas como o utilit√°rio <i>Net</i> podem ser bloqueadas por uma pol√≠tica de seguran√ßa.  O monitoramento da linha de comando pode ser √∫til para detectar inst√¢ncias do Net.exe ou outros utilit√°rios usados ‚Äã‚Äãpara coletar a hora e o fuso hor√°rio do sistema.  O monitoramento de chamadas da API para esses fins √© menos √∫til devido ao fato de a API ser frequentemente usada por software leg√≠timo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt436350/">https://habr.com/ru/post/pt436350/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt436340/index.html">N√≠vel de log separado para cada solicita√ß√£o</a></li>
<li><a href="../pt436342/index.html">Uma introdu√ß√£o √† otimiza√ß√£o robusta [... e uma pequena lista de compras que eu esqueci ...]</a></li>
<li><a href="../pt436344/index.html">Fibaro Home Center 2 e termostato para aquecimento por piso radiante HeatIt. Como aumentar a temperatura</a></li>
<li><a href="../pt436346/index.html">Voc√™ sempre precisa de Docker, microsservi√ßos e programa√ß√£o reativa?</a></li>
<li><a href="../pt436348/index.html">Desenvolvendo uma equipe para solicitar dados de um banco de dados - parte 2</a></li>
<li><a href="../pt436352/index.html">Resumo de not√≠cias do PostgreSQL. Edi√ß√£o 14</a></li>
<li><a href="../pt436354/index.html">Militares dos EUA negligenciam quest√µes de seguran√ßa cibern√©tica</a></li>
<li><a href="../pt436356/index.html">[Interessante por tr√°s da colina] Como paramos a depend√™ncia tecnol√≥gica?</a></li>
<li><a href="../pt436358/index.html">Por que os desenvolvedores seniores ensinam os alunos</a></li>
<li><a href="../pt436360/index.html">Preciso ir r√°pido: Criando velocidade no iOS. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>