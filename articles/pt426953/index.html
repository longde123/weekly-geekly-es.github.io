<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêò üë©üèª‚Äçüåæ ü¶ó M√©todos de amostra e instala√ß√£o do Arch Linux üèÇüèø üëÑ üëàüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Agora falaremos sobre a instala√ß√£o em v√°rias vers√µes de uma distribui√ß√£o Linux t√£o not√°vel - o Arch Linux. No momento da reda√ß√£o deste artigo, ele cla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>M√©todos de amostra e instala√ß√£o do Arch Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426953/"> Agora falaremos sobre a instala√ß√£o em v√°rias vers√µes de uma distribui√ß√£o Linux t√£o not√°vel - o Arch Linux.  No momento da reda√ß√£o deste artigo, ele classifica a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">distrowatch</a> em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um</a> 12¬∫ lugar honor√°vel em termos de n√∫mero de pesquisas por 6 meses, com uma classifica√ß√£o m√©dia honor√°ria da pr√≥pria distribui√ß√£o 9,3 / 10.  Muitos consideram que √© o verdadeiro Linux, para programadores reais, mas √© famoso em primeiro lugar, n√£o por isso, mas por seu processo de instala√ß√£o n√£o trivial.  Ao iniciar a m√≠dia inicializ√°vel, o usu√°rio v√™, em primeiro lugar, a familiar interface de estilo "clique aqui para instalar o X", mas uma grande janela preta no mundo do Linux. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ix/hh/wb/ixhhwbzjhbdki6xv7b0qptpt-0q.png"></div><a name="habracut"></a><br><blockquote>  A esperan√ßa de uma interface gr√°fica para configurar / usar seu sistema acabar√° trazendo ao usu√°rio apenas problemas.  Em algum momento, o usu√°rio sentir√° que precisa saber o que a interface gr√°fica est√° ocultando ... <br></blockquote><h1>  Ato um: instala√ß√£o em uma m√°quina virtual </h1><br>  Essa √© provavelmente a maneira mais segura de tentar instalar este sistema, ou pelo menos uma boa maneira de " <i>ensaiar</i> " a instala√ß√£o <s>lado a lado, em</s> vez do Windows, outro Linux ou MacOS.  Eu usarei pessoalmente o VMware Workstation Pro 14 licenciado ... <br><br><img src="https://habrastorage.org/webt/om/jk/hf/omjkhfczx875d634y02gvi1d1pg.jpeg"><br><br>  Mas, em geral, qualquer outro programa para trabalhar com m√°quinas virtuais funciona. <br><br>  Para come√ßar, precisamos de uma nova <i>imagem ISO</i> baixada do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">archlinux.org</a> <br>  Voc√™ j√° baixou?  Legal! <br><br>  Crie uma nova m√°quina virtual com ela.  Desistimos de mem√≥ria, por mais que seja uma pena, lan√ßamos e <s>abrimos o guia na Internet e continuamos</s> lendo. <br><br>  Para instalar o sistema, precisamos de uma conex√£o com a Internet, que deve ser padr√£o com as configura√ß√µes padr√£o da nova m√°quina virtual.  Verificando com <br> <code>ping google.com</code> <br> <br>  Ent√£o precisamos particionar o disco.  Para isso, na imagem que lan√ßamos, existem v√°rios utilit√°rios, por exemplo <i>, cfdisk, fdisk, gdisk, cgdisk, partitionmanager, parted, gparted</i> ... A lista continua.  Eu gosto de usar o utilit√°rio cfdisk, como  permite marcar tanto em MBR quanto em GPT. <br><br>  Qual tabela de parti√ß√£o escolher √© da conta de todos, apenas digo que a GPT ser√° mais recente que a MBR.  Leia mais sobre como escolher entre GPT e MBR <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Iniciamos o <u>cfdisk</u> , que deve nos perguntar sobre a tabela de parti√ß√µes.  Escolha GPT (ou dos).  Criamos uma parti√ß√£o de 100 MB.  Ent√£o voc√™ pode ficar confuso e criar parti√ß√µes separadas para <i>diferentes pontos de montagem</i> : em / home, / boot, / var ... Mas em uma m√°quina virtual, acho que isso √© in√∫til - estamos vendo uma √∫nica parti√ß√£o para todo o espa√ßo restante como raiz. <br><br><img src="https://habrastorage.org/webt/ev/hm/xj/evhmxjj31btpficzzkx0ibqi4us.png"><br><br>  N√£o se esque√ßa de gravar as altera√ß√µes no disco selecionando grava√ß√£o. <br><br>  Em seguida, voc√™ precisa criar sistemas de arquivos com o utilit√°rio mkfs.  Se√ß√£o EFI que proponho formatar no FAT32: <br><br> <code>mkfs.vfat -F 32 /dev/sdaX</code> <br> <br>  Onde X √© o n√∫mero da parti√ß√£o (por exemplo, eu tenho sda1) <br><br>  O restante das se√ß√µes geralmente √© formatado em ext4 ou ext3: <br><br> <code>mkfs.ext4 /dev/sda2</code> <br> <br>  Em seguida, <i>monte a</i> parti√ß√£o raiz em / mnt primeiro e depois tudo o mais nos <i>diret√≥rios criados correspondentes</i> em / mnt <br><br><pre> <code class="hljs objectivec">mount /dev/sda2 /mnt mkdir /mnt/boot mount /dev/sda1 /mnt/boot <span class="hljs-comment"><span class="hljs-comment">//       </span></span></code> </pre><br>  Antes de instalar diretamente, eu gosto de configurar espelhos usando o utilit√°rio <u>refletor</u> : <br><br><pre> <code class="hljs powershell">pacman <span class="hljs-literal"><span class="hljs-literal">-S</span></span> reflector reflector ‚Äîverbose <span class="hljs-literal"><span class="hljs-literal">-l</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> ‚Äîsort rate ‚Äîsave /etc/pacman.d/mirrorlist</code> </pre><br>  <u>O Reflector</u> classificar√° todos os espelhos por ping e gravar√° os <i>200 primeiros</i> na lista de espelhos. <br>  Agora coloque o pr√≥prio <i>sistema</i> : <br> <code>pacstrap -i /mnt base base-devel</code> <br> <br>  Ap√≥s a conclus√£o do comando, precisamos deixar claro para o sistema quais parti√ß√µes devem ser <i>montadas</i> na inicializa√ß√£o - para isso, escrevemos: <br> <code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code> <br> <br>  E agora estamos flexionando os dedos, agora precisamos tocar um pouco mais no teclado ... <br><br><img src="https://habrastorage.org/webt/yw/qa/me/ywqamevyr6ypdsqabr7-crxud9e.jpeg"><br><br>  Vamos fazer uma pequena configura√ß√£o inicial do sistema.  Para fazer isso, v√° para o diret√≥rio raiz: <br> <code>arch-chroot /mnt</code> <br> <br>  Ajuste a hora: <br><br><pre> <code class="hljs pgsql">ln -sf /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/zoneinfo/%%/%% /etc/<span class="hljs-built_in"><span class="hljs-built_in">localtime</span></span> hwclock <span class="hljs-comment"><span class="hljs-comment">--systohc</span></span></code> </pre> <br>  Em seguida, no arquivo /etc/locale.gen, encontramos nossa <i>linguagem nativa</i> e a descomentamos, depois escrevemos, na verdade, <code>locale-gen</code> . <br><br>  Em seguida, especifique o nome do computador no arquivo / etc / hosts.  Arquivo de sa√≠da de exemplo: <br><br><pre> <code class="hljs css">127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">localhost</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">localhost</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> %%<span class="hljs-selector-class"><span class="hljs-selector-class">.localdomain</span></span> %%</code> </pre> <br>  Adicione um grama de usu√°rio <br><br><pre> <code class="hljs powershell">useradd <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-literal"><span class="hljs-literal">-g</span></span> users <span class="hljs-literal"><span class="hljs-literal">-G</span></span> wheel <span class="hljs-literal"><span class="hljs-literal">-s</span></span> /bin/bash %userName%</code> </pre> <br>  Uma pitada de senhas: <br><br><pre> <code class="hljs objectivec">passwd <span class="hljs-comment"><span class="hljs-comment">//    root passwd %userName% //      </span></span></code> </pre> <br>  E, finalmente, para inicializar o sistema, coloque o gerenciador de inicializa√ß√£o.  Mais informa√ß√µes sobre as que podem ser instaladas podem ser lidas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> .  Qual deles instalar √© com voc√™, √© claro, e aqui e agora vamos instalar o grub mais comum: <br><br><pre> <code class="hljs powershell">pacman <span class="hljs-literal"><span class="hljs-literal">-S</span></span> grub grub<span class="hljs-literal"><span class="hljs-literal">-install</span></span> -<span class="hljs-literal"><span class="hljs-literal">-target</span></span>=x86_64<span class="hljs-literal"><span class="hljs-literal">-efi</span></span> -<span class="hljs-literal"><span class="hljs-literal">-efi</span></span><span class="hljs-literal"><span class="hljs-literal">-directory</span></span>=/boot/EFI -<span class="hljs-literal"><span class="hljs-literal">-bootloader</span></span><span class="hljs-literal"><span class="hljs-literal">-id</span></span>=grub grub<span class="hljs-literal"><span class="hljs-literal">-mkconfig</span></span> <span class="hljs-literal"><span class="hljs-literal">-o</span></span> /boot/grub/grub.cfg</code> </pre> <br>  Em geral, est√° pronto, voc√™ pode sair do chroot, desmontar os discos e reiniciar a m√°quina.  Ent√£o voc√™ j√° pode colocar um <s>ambiente gr√°fico</s> nele.  Leia mais sobre isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Bem, voc√™ pode, em princ√≠pio, aproveitar ... <br><br><img src="https://habrastorage.org/webt/sw/hg/sa/swhgsa15obeqs2l69df_vb6h-e0.png"><br><br><h2>  Ato dois: instala√ß√£o em um meio externo </h2><br><img src="https://habrastorage.org/webt/yl/a6/sw/yla6swevqpqyvo9btkssnwnhzxu.png"><br><br>  Vamos resolver o problema: temos um disco r√≠gido entupido com o <b>Windows 10 / Mac Os Mojave</b> , no qual h√° uma imagem baixada do Arch Linux e tamb√©m um ssd ou hdd externo completamente vazio. <br><br>  <b>Tarefa:</b> <i>Instalar o sistema em uma unidade externa sem sair do Windows / MacOS</i> <br><br>  Pense por alguns minutos e depois veja o elegante <i>truque da vida</i> . <br><br><div class="spoiler">  <b class="spoiler_title">Veja a solu√ß√£o ...</b> <div class="spoiler_text">  E a solu√ß√£o √© bem simples: usamos a mesma m√°quina virtual para isso <br>  Para fazer isso, basta cri√°-lo sem nenhum disco r√≠gido virtual e conectar uma m√≠dia externa (doravante denominada unidade flash) a ela e repetir as etapas descritas acima. <br><img src="https://habrastorage.org/webt/mi/zr/n4/mizrn4dlyv_oydscheqjwqhp9lg.jpeg"><br>  Nota: ao inicializar a partir da unidade flash resultante, v√°rios tipos de problemas de rede podem ocorrer, na maioria dos casos devido a conflitos entre servi√ßos respons√°veis ‚Äã‚Äãpela conex√£o e implementa√ß√£o de nomes de dom√≠nio.  √â decidido escolhendo qual servi√ßo usar e, em seguida, desconectando todos os outros atrav√©s do systemctl.  Tamb√©m √© importante mencionar o utilit√°rio padr√£o <i>do menu wifi</i> <br></div></div><br>  O que isso pode ser √∫til mais tarde?  E eu direi - as situa√ß√µes s√£o diferentes.  Uma vez que sua m√°quina est√° quebrada, voc√™ vive uma semana ou duas sem ela, porque  est√° em reparo e voc√™ precisa trabalhar em qualquer coisa.  Ou voc√™ comprou / montou um computador novo no qual ainda n√£o existem ms-dos - voc√™ ter√° a oportunidade de, pelo menos, criar uma unidade / disco flash USB inicializ√°vel ou continuar trabalhando a partir de uma m√≠dia externa.  Portabilidade, por assim dizer.  Ao mesmo tempo, acho melhor instalar pelo menos o manjaro em uma unidade externa. <br><br><h2>  Ato tr√™s: instala√ß√£o ao lado de outro sistema operacional </h2><br>  Depois de treinar muito na instala√ß√£o do archa em m√°quinas virtuais, voc√™ pode tentar instal√°-lo em um disco real.  A √∫nica diferen√ßa √© que, se houvesse outros sistemas operacionais no disco antes, n√£o seria necess√°rio exclu√≠-los excluindo parti√ß√µes ... Voc√™ tamb√©m pode fazer algumas "melhorias" na instala√ß√£o: por exemplo, alocar espa√ßo para a parti√ß√£o de troca <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">mkswap</span></span> /dev/sdxy swapon /dev/sdxy</code> </pre> <br>  Resta apenas uma configura√ß√£o de usu√°rio, que n√£o descreverei aqui, porque esse √© um processo criativo e individual. <br><br><h2>  Ep√≠logo: por que tudo isso √© necess√°rio </h2><br>  Pessoalmente, estou inclinado a acreditar que o Arch Linux √© a <u>melhor</u> distribui√ß√£o.  Sim, √†s vezes pode quebrar durante a atualiza√ß√£o (muitos lan√ßamentos rolantes s√£o pecadores), mas em 2018 isso acontece o mais raramente poss√≠vel.  Arch √© a distribui√ß√£o mais leve "no mercado", apenas o Gentoo pode desafiar este t√≠tulo.  Ao contr√°rio do √∫ltimo, a prop√≥sito, n√£o precisamos for√ßar nossa m√°quina a compilar pacotes.  Os reposit√≥rios de arco s√£o enormes, eles t√™m quase tudo.  E se esse n√£o for o caso, quase qualquer pacote deb poder√° ser configurado especificamente para o PKGBUILD.  Se algo ainda de alguma forma quebrar, provavelmente j√° existe um artigo sobre o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">archwiki</a> sobre esse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">assunto</a> , que permite corrigi-lo facilmente se voc√™ puder l√™-lo.  O arco pode ser personalizado.  Como voc√™ deseja. <br>  Ele tamb√©m tem um logotipo bonito. <br><br>  Sobre isso, considero o t√≥pico esgotado, sobre o qual concluo esta narrativa fascinante.  Felicidade para quem leu at√© este ponto. <br><br>  UPD: <br>  Aparentemente, fiquei um pouco complicado com sinalizadores ao instalar o grub e tamb√©m esqueci de mencionar o os-prober - um utilit√°rio necess√°rio para detectar outros sistemas operacionais. <br>  Corrigido: <br><pre> <code class="hljs powershell">pacman <span class="hljs-literal"><span class="hljs-literal">-Syu</span></span> grub os<span class="hljs-literal"><span class="hljs-literal">-prober</span></span> grub<span class="hljs-literal"><span class="hljs-literal">-mkconfig</span></span> &gt; /boot/grub/grub.cfg grub<span class="hljs-literal"><span class="hljs-literal">-install</span></span> -<span class="hljs-literal"><span class="hljs-literal">-target</span></span>=i386<span class="hljs-literal"><span class="hljs-literal">-pc</span></span> /dev/sdX</code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt426953/">https://habr.com/ru/post/pt426953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt426943/index.html">A tradu√ß√£o mais abrangente para o russo do Harvard Programming CS50 2015, gr√°tis no YouTube</a></li>
<li><a href="../pt426945/index.html">O que eu gostei sobre Paul Allen</a></li>
<li><a href="../pt426947/index.html">"O diabo me puxou para ir trabalhar no escrit√≥rio" - 10 perguntas para o programador, 9¬™ edi√ß√£o</a></li>
<li><a href="../pt426949/index.html">Recriando o THX Deep Note Sound</a></li>
<li><a href="../pt426951/index.html">Altium Designer: o que fazer se um projeto se tornar complicado?</a></li>
<li><a href="../pt426957/index.html">Introdu√ß√£o aos servidores WSGI: Parte Um</a></li>
<li><a href="../pt426959/index.html">Instale o kubernetes via kubespray (armazenamento local, instale Elasticsearch + Fluentd + Kibana, prometheus)</a></li>
<li><a href="../pt426961/index.html">Como a Microsoft reescreveu o compilador C # em C # e o abriu</a></li>
<li><a href="../pt426963/index.html">Os aplicativos Flutter sonham com widgets baseados em plataforma?</a></li>
<li><a href="../pt426965/index.html">O que acontecer√° com o tratamento de erros no C ++ 2a</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>