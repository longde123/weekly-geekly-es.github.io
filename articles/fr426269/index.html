<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚åõÔ∏è üöä ü•Å Une application python kivy pour une alimentation vari√©e. Du code √† la r√©ception du fichier .apk pour Android üë®üèø‚Äçüíº üö∏ üï≥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'√©tudie le python kivy et d√©cide pour moi d'√©crire une petite application pour diversifier mon alimentation. J'ai d√©cid√© de le partager. Cet article ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Une application python kivy pour une alimentation vari√©e. Du code √† la r√©ception du fichier .apk pour Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426269/"><img src="https://habrastorage.org/webt/un/qp/bb/unqpbbu0zqrbyug9_oyhmkxfkrc.jpeg"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">J'√©tudie le</a> python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">kivy</a> et d√©cide pour moi d'√©crire une petite application pour diversifier mon alimentation.  J'ai d√©cid√© de le partager.  Cet article est destin√© aux nouveaux venus sur Kivy.  L'application prend environ 100 lignes de code. <br><br>  Objectif de la cr√©ation d'une <s>application</s> v√©lo: <br><br><ol><li>  √âvitez les r√©p√©titions fr√©quentes dans les aliments.  Afin de ne pas manger trop souvent le m√™me plat. </li><li>  N'oubliez pas les plats que j'ai mang√©s, puis oubli√©s, et pendant des ann√©es ne leur sont pas revenus, car je ne me souvenais pas ringard.  √áa m'arrive. </li></ol><a name="habracut"></a><br><h2>  <font color="#cc0000">Intro</font> </h2><br>  Vous ne pouvez pas lire dans l'intro des paroles. <br><br>  Je devais vivre dans un pays, dans un h√¥tel, o√π on me donnait des ≈ìufs tous les jours pour le petit d√©jeuner et rien de plus, alors un mois plus tard j'ai commenc√© √† me d√©manger.  Il a demand√© de l'aide m√©dicale, bien qu'il n'ait jamais souffert de quoi que ce soit auparavant.  Enseign√© par une exp√©rience am√®re, il a d√©cid√© ensuite d'autoriser le moins de r√©p√©titions possible dans la nourriture afin que rien ne puisse s'accumuler dans le corps.  C'est mon exp√©rience personnelle, je dis juste, sans imposer.  Il n'y a peut-√™tre pas de r√®gles sans exception, probablement la farine d'avoine peut √™tre consomm√©e tous les jours pendant des d√©cennies. <br><br><h2>  <font color="#cc0000">Captures d'√©cran</font> </h2><br><img src="https://habrastorage.org/webt/ub/o4/l2/ubo4l2ajlvsmzdaaqoiohlje7vw.png"><br><br>  Supposons que mon alimentation se compose de 50 plats.  Par exemple, j'ai mang√© une omelette aujourd'hui.  Je clique sur le bouton, et l'omelette est en ligne 50 en ligne, et devant elle se trouvent 49 plats que je mangerai afin de retrouver l'omelette.  C'est toute la logique de l'application.  (Dans les captures d'√©cran, les plats sont cuisin√©s, toutes les co√Øncidences sont al√©atoires, elles n'ont rien √† voir avec mon vrai r√©gime). <br><br><h2>  <font color="#cc0000">Code source et explications</font> </h2><br>  <b>main.py</b> <br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.button <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.boxlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BoxLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.screenmanager <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ScreenManager, Screen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.recycleview <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RecycleView <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.gridlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GridLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.core.window <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Window <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.textinput <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TextInput <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.label <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Label <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dp <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ast <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(MenuScreen, self).__init__(**kw) box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">'    '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'add_food'</span></span>))) self.add_widget(box) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SortedListFood</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(SortedListFood, self).__init__(**kw) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_enter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#       self.layout = GridLayout(cols=1, spacing=10, size_hint_y=None) self.layout.bind(minimum_height=self.layout.setter('height')) back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) self.layout.add_widget(back_button) root = RecycleView(size_hint=(1, None), size=(Window.width, Window.height)) root.add_widget(self.layout) self.add_widget(root) dic_foods = ast.literal_eval( App.get_running_app().config.get('General', 'user_data')) for f, d in sorted(dic_foods.items(), key=lambda x: x[1]): fd = f.decode('u8') + ' ' + (datetime.fromtimestamp(d).strftime('%Y-%m-%d')) btn = Button(text=fd, size_hint_y=None, height=dp(40)) self.layout.add_widget(btn) def on_leave(self): #       self.layout.clear_widgets() #   class AddFood(Screen): def buttonClicked(self, btn1): if not self.txt1.text: return self.app = App.get_running_app() self.app.user_data = ast.literal_eval( self.app.config.get('General', 'user_data')) self.app.user_data[self.txt1.text.encode('u8')] = int(time.time()) self.app.config.set('General', 'user_data', self.app.user_data) self.app.config.write() text = "  : " + self.txt1.text self.result.text = text self.txt1.text = '' def __init__(self, **kw): super(AddFood, self).__init__(**kw) box = BoxLayout(orientation='vertical') back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) box.add_widget(back_button) self.txt1 = TextInput(text='', multiline=False, height=dp(40), size_hint_y=None, hint_text=" ") box.add_widget(self.txt1) btn1 = Button(text=" ", size_hint_y=None, height=dp(40)) btn1.bind(on_press=self.buttonClicked) box.add_widget(btn1) self.result = Label(text='') box.add_widget(self.result) self.add_widget(box) def set_screen(name_screen): sm.current = name_screen sm = ScreenManager() sm.add_widget(MenuScreen(name='menu')) sm.add_widget(SortedListFood(name='list_food')) sm.add_widget(AddFood(name='add_food')) class FoodOptionsApp(App): def __init__(self, **kvargs): super(FoodOptionsApp, self).__init__(**kvargs) self.config = ConfigParser() def build_config(self, config): config.adddefaultsection('General') config.setdefault('General', 'user_data', '{}') def set_value_from_config(self): self.config.read(os.path.join(self.directory, '%(appname)s.ini')) self.user_data = ast.literal_eval(self.config.get( 'General', 'user_data')) def get_application_config(self): return super(FoodOptionsApp, self).get_application_config( '{}/%(appname)s.ini'.format(self.directory)) def build(self): return sm if __name__ == '__main__': FoodOptionsApp().run()</span></span></code> </pre> <br>  Je n'ai d√©lib√©r√©ment pas utilis√© de fichiers kv, car le code est donn√© √† des fins √©ducatives, pour les personnes familiaris√©es avec python.  Tout est √©crit en python nu.  Dans les explications, je ne m'attarderai pas sur l'explication du code python, mais passons imm√©diatement aux fonctionnalit√©s sp√©cifiques de Kivy. <br><br>  C'est parti: <br><br><ul><li><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span></code> </pre> <br>  La classe est responsable du lancement de la page de d√©marrage de l'application, elle peut s'appeler n'importe quoi, par exemple, StartScreen.  Et h√©rite du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">module kivy Screen</a> .  L'application se compose de 3 fen√™tres, ces fen√™tres sont cr√©√©es √† l'aide de ce module </li><li><pre> <code class="python hljs">box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>)</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">BoxLayout</a> divise l'√©cran en parties √©gales, horizontal par d√©faut, j'ai √©crit orientation = 'vertical' pour le diviser verticalement </li><li><pre> <code class="python hljs">Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Bouton</a> - cr√©e des boutons, on_press d√©finit la fonction qui sera lanc√©e lorsque vous appuyez dessus. <br></li><li><pre> <code class="python hljs">.add_widget()</code> </pre>  - ajoute des boutons aux calques et aux fen√™tres </li><li><pre> <code class="python hljs">self.layout = GridLayout(cols=<span class="hljs-number"><span class="hljs-number">1</span></span>, spacing=<span class="hljs-number"><span class="hljs-number">10</span></span>, size_hint_y=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">La disposition de la grille</a> rappelle quelque peu la balise table en html, indiquant cols - le nombre de colonnes ou de lignes - le nombre de lignes. <br><br>  Vous pouvez sp√©cifier les deux param√®tres ou un param√®tre. <br>  L'√©cran sera divis√© en le nombre de baies souhait√©. <br></li><li><pre> <code class="python hljs">root = RecycleView(size_hint=(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>), size=(Window.width, Window.height))</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">RecycleView</a> - le module avec lequel cr√©er un d√©filement vertical dans mon application.  Une caract√©ristique de RecycleView est qu'il construit des rouleaux avec des √©l√©ments de m√™me largeur et hauteur.  Et √ßa marche vite.  Et il y a un module <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ScrollView</a> , il peut cr√©er des parchemins avec des √©l√©ments de diff√©rentes tailles, mais il fonctionne plus lentement que RecycleView <br></li><li><pre> <code class="python hljs">config.get(<span class="hljs-string"><span class="hljs-string">'General'</span></span>, <span class="hljs-string"><span class="hljs-string">'user_data'</span></span>)</code> </pre>  - dans le code de telles lignes sont souvent trouv√©es.  Je viens d'utiliser le r√©f√©rentiel natif <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Config kivy</a> comme magasin de donn√©es.  Eh bien, qu'il y ait plusieurs milliers de plats, cela n'a aucun sens de cl√¥turer un jardin avec du sqlite et quelque chose comme √ßa.  Toutes les donn√©es sont stock√©es dans un seul fichier.  Ce fichier est stock√© dans le m√™me dossier que l'application elle-m√™me, si vous sp√©cifiez self.directory comme dans mon code, mais vous pouvez sp√©cifier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">self.user_data_dir</a> afin que ce fichier ne soit pas d√©truit lors de la permutation ou des mises √† jour. </li></ul><br><h2>  <font color="#cc0000">Fonctionnant sur windows &amp; linux &amp; macos</font> </h2><br>  Le principe pour tous les syst√®mes d'exploitation est le m√™me: <br><br><ol><li>  Nous mettons python3 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Nous mettons kivy</a> </li><li>  Nous cr√©ons le fichier main.py et y collons tout le code ci-dessus </li><li>  G√©r√© par √©quipe <br><br><pre> <code class="python hljs">python3 main.py</code> </pre> </li></ol><br>  Le programme devrait fonctionner. <br><br><h2>  <font color="#cc0000">Cr√©ez un fichier apk et ex√©cutez sur le t√©l√©phone avec Android</font> </h2><br>  Nous avons donc un fichier de code de programme √©crit en python.  Comment cr√©er une application pour la lancer sur un t√©l√©phone avec un Android?  Auparavant, c'√©tait un processus assez sophistiqu√© qui exigeait des comp√©tences et des danses avec un tambourin.  Maintenant, ce n'est pas un probl√®me. <br>  Voici une instruction √©tape par √©tape: <br><br><ol><li>  T√©l√©chargez une machine virtuelle pr√™te √† l'emploi aupr√®s des d√©veloppeurs kivy, dans laquelle tout est d√©j√† configur√©.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">https://github.com/Zen-CODE/kivybits/blob/master/KivyCompleteVM/ReadMe.txt</a> .  Mot de passe: kivy <br></li><li>  Nous le lan√ßons dans la Virtual Box. </li><li>  Ouvrez le terminal et entrez les commandes suivantes: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    python-for-android cd /home/kivy/Repos rm -fr python-for-android/ git clone https://github.com/kivy/python-for-android.git cd ~ mkdir Project cd Project git clone https://github.com/Alexmod/FoodOptions.git cd FoodOptions buildozer android debug #        100500  , #       .</span></span></code> </pre></li><li>  La derni√®re commande cr√©e le dossier bin dans le m√™me r√©pertoire, dans bin vous trouverez le fichier foodoptions-0.1-debug.apk, que vous pouvez t√©l√©charger sur votre t√©l√©phone, installer et profiter de l'application </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/nq/la/conqla41ldeuegbg4lwlbqztwqc.png"></div><br>  <b>Comment t√©l√©charger un fichier apk sur le t√©l√©phone?</b> <br><br>  Bien s√ªr, vous pouvez le faire comme vous le souhaitez, l'envoyer par courrier, le mettre quelque part, le mettre dans un t√©l√©gramme, etc., puis t√©l√©charger l'application sur votre t√©l√©phone. <br><br>  Mais il existe un outil sp√©cialis√© pour cela.  Nous activons le mode d√©veloppeur sur le t√©l√©phone, le connectons avec un c√¢ble USB.  La machine virtuelle doit voir que vous avez connect√© le t√©l√©phone.  Ensuite, installez adb: <br><br><pre> <code class="bash hljs">sudo apt install adb</code> </pre> <br>  Apr√®s l'installation, acc√©dez au dossier bin et entrez la commande <br><br><pre> <code class="bash hljs">adb install -r foodoptions-0.1-debug.apk</code> </pre> <br>  Et vous pouvez voir l'application sur le t√©l√©phone dans environ une minute apr√®s avoir vu <br>  Succ√®s dans la console. <br><br><pre> <code class="bash hljs">kivy@kivy-complete:~/Project/FoodOptions/bin$ adb install -r foodoptions-0.1-debug.apk 342 KB/s (10083019 bytes <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 28.730s) Success kivy@kivy-complete:~/Project/FoodOptions/bin$</code> </pre><br>  Si soudainement l'application se bloque ou ne se comporte pas comme pr√©vu, il existe une telle commande pour afficher les erreurs <br><br><pre> <code class="bash hljs">adb logcat| grep python</code> </pre> <br>  <b>Nom de l'application russe</b> <br><br>  Si vous souhaitez que votre demande soit appel√©e en russe, par exemple, "Journal alimentaire", vous devez apporter des modifications au fichier: <br><br><pre> <code class="plaintext hljs">.buildozer/android/platform/build/dists/foodoptions/templates/strings.tmpl.xml</code> </pre><br>  Le nom russe de l'application est √©crit dans la balise appName, ce dossier est cr√©√© apr√®s le premier lancement du d√©bogage android buildozer.  Apr√®s avoir modifi√© le fichier, retournez dans le dossier FoodOptions et r√©ex√©cutez le d√©bogage android buildozer.  Le fichier sera assembl√© d'une nouvelle mani√®re.  Apr√®s l'installation sur le t√©l√©phone, le nom du programme sera √©crit en russe. <br><br>  <b>√Ä propos du fichier buildozer.spec</b> <br><br>  Voici mon fichier github: <a href="" rel="nofollow">buildozer.spec</a> <br>  Ce fichier indique √† buildozer exactement comment construire le package. <br><br>  Il existe de nombreuses variantes diff√©rentes.  Peu importe, puis entrez la commande √† l'int√©rieur de la machine virtuelle: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /tmp buildozer init</code> </pre><br>  Un fichier buildozer.spec par d√©faut sera cr√©√© avec un tas de commentaires et d'explications.  Par exemple, si vous voulez une ic√¥ne pour votre application, indiquez dans la ligne: <br><br><pre> <code class="bash hljs">icon.filename = %(source.dir)s/data/icon.png</code> </pre> <br>  votre fichier avec une ic√¥ne.  Et l'application s'assemblera d√©j√† avec votre ic√¥ne. <br><br>  Si vous avez besoin de charger un module sp√©cifique qui ne fait pas partie de la biblioth√®que python officielle, cela se fait dans la ligne requirements =.  En g√©n√©ral, l'histoire du fichier buildozer.spec peut prendre un article entier, voire deux. <br><br>  <b>T√©l√©chargez une application sur Google Play</b> <br><br>  Il faut s'inscrire, passer par toutes les proc√©dures, r√©cup√©rer les cl√©s.  Et puis ex√©cutez: <br><br><pre> <code class="bash hljs">sudo apt install zipalign buildozer android release jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore /path/keystore bin/apk-unsigned.apk apkname zipalign -v 4 bin/apk-apkname-unsigned.apk bin/apk-apkname-release.apk</code> </pre> <br>  Le fichier r√©sultant apk-apkname-release.apk est t√©l√©charg√© sur Google Play. <br><br><h2>  <font color="#cc0000">Les r√©f√©rences</font> </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Tutoriels vid√©o sur Kivy en russe</a> .  J'ai personnellement aim√© </li><li>  Articles sur le habr sur kivy de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">HeaTTheatR</a> (et merci √† lui pour son aide!) </li></ul><br>  En principe, toute personne pouvant programmer en python pourra modifier l'application et ajouter facilement les √©l√©ments suivants: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Ajoutez un design</a> pour rendre l'application magnifique </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Utilisez des fichiers kv</a> pour faciliter le code.  Je donnerais une analogie: ceux qui sont familiers avec la programmation Web, imaginent du code sans mod√®les html et mod√®les html.  Supprimer des boutons, des couches et d'autres choses dans des fichiers kv est quelque chose comme jinja2 pour un programmeur web.  La logique reste dans les fichiers .py et les babioles restent dans les fichiers kv. </li><li>  Ajoutez les calories, les prot√©ines, les glucides et les graisses (BJU) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Ajoutez la possibilit√© de photographier des plats</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr426269/">https://habr.com/ru/post/fr426269/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr426255/index.html">Comment Vim a vol√© mon c≈ìur</a></li>
<li><a href="../fr426261/index.html">Cogear.JS - un g√©n√©rateur moderne de sites statiques</a></li>
<li><a href="../fr426263/index.html">Wi-Fi 6 annonc√©: ce que vous devez savoir sur la nouvelle norme</a></li>
<li><a href="../fr426265/index.html">Cadre d'automatisation de l'exp√©dition (SAF)</a></li>
<li><a href="../fr426267/index.html">Une chanson sur la fa√ßon dont la cr√©ation de projets s'est transform√©e en enfer</a></li>
<li><a href="../fr426271/index.html">S√©curit√© de la Tesla Model 3</a></li>
<li><a href="../fr426273/index.html">Installer et configurer Oracle Internet Directory pour r√©soudre les noms de base de donn√©es</a></li>
<li><a href="../fr426275/index.html">Comment nous avons recherch√© les signes d'erreur m√©dicale</a></li>
<li><a href="../fr426277/index.html">Choses √† retenir pour un programmeur passant √† Python</a></li>
<li><a href="../fr426279/index.html">Comment les formats audio et les technologies audio ont ¬´combattu¬ª et √©volu√©: un grand condens√© historique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>