<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🎤 👨‍🔧 ⛹️ La légende du cadre du pouvoir 👩🏽‍💻 ▫️ 🤘🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Récemment, la tendance à la «disparition des frameworks» gagne en popularité, dont la locomotive, sans aucun doute, peut être considérée comme SvelteJ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La légende du cadre du pouvoir</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420113/"> Récemment, la tendance à la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«disparition des frameworks»</a> gagne en popularité, dont la locomotive, sans aucun doute, peut être considérée comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SvelteJS</a> - un framework de buildtime et un compilateur javascript vanille. <br><br>  Malgré le fait que Svelte soit conceptuellement très simple et encore plus facile à utiliser, de nombreux développeurs se demandent quelle est la caractéristique la plus meurtrière de ce cadre, et toute l'approche?  Pourquoi n'est-ce pas «encore un autre framework javascript»? <br><br>  Dans cet article, je parlerai de l'une des nombreuses superpuissances de Svelte qui peuvent sérieusement vous faciliter la vie. <br><br>  Voyons cela, mais je vais d'abord vous raconter une légende ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7o/oi/xe/7ooixeqngyip_s7tw9zpxhcvygw.png"></div><br><a name="habracut"></a><br><h2>  La légende du cadre du pouvoir </h2><br><blockquote>  <i>Certains frameworks ont été créés par les gars de Google et Facebook, d'autres - des mecs sympas, mais tous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sous la "grande attention" de Rich Harris</a> .</i> <i><br><br></i>  <i>Neuf cadres ont été créés pour les humains, sept semblent être pour les nains.</i>  <i>Trois autres cadres (react, vue, angular) étaient pour les elfes.</i> <i><br><br></i>  <i>Après avoir créé les cadres et les avoir mis en œuvre dans des milliers de projets, Rich Harris a personnellement et secrètement créé un cadre ...</i> <i><br><br></i>  <i>Un cadre pour les gouverner tous,</i> <i><br></i>  <i>Un cadre pour les trouver,</i> <i><br></i>  <i>Un cadre pour tous les amener</i> <i><br></i>  <i>Et les lier ensemble.</i> <i><br></i> <br>  <b><i>- Le Seigneur des Cadres</i></b> <br></blockquote><h2>  Le problème </h2><br>  Je suis sûr que beaucoup d'entre vous qui ont été sérieusement et longtemps engagés dans le développement front-end ont été confrontés à plusieurs reprises au problème du choix des outils pour votre projet actuel et / ou suivant. <br>  La variété de toutes sortes de packages, utilitaires, baleines, frameworks, bibliothèques et autres solutions est hors échelle comme jamais auparavant.  Et surtout, tout ce mouvement continue de s'accélérer. <br><br>  Tout cela, d'une manière ou d'une autre, s'applique au choix du cadre.  Je ne me trompe probablement pas si je suppose que seules quelques équipes et entreprises modernes commencent de nouveaux projets sans utiliser de framework js.  Bien sûr, en ce qui concerne les applications Web modernes, pas seulement les sites Web.  Et tout irait bien si tant de choses dans votre projet n'en dépendaient pas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wj/fq/7d/wjfq7dchw2-jmtp1qsiieqgfp9c.jpeg"></div><br>  Jugez par vous-même, la composition et les caractéristiques de l'équipe dépendent en grande partie du cadre que vous choisissez, et tout le processus de chasse en dépend certainement.  Parfois, le budget et les délais en dépendent même.  En bref brrr. <br><br>  Mais les vrais problèmes commencent, si quelque part au milieu du projet, vous vous rendez compte que vous avez fait un mauvais choix.  Quelque chose n'a pas grandi ensemble et n'a pas tourné.  Le framework a nécessité un peu plus de temps à maîtriser, une équipe un peu plus grande, s'est avérée un peu moins rapide, un peu inadaptée à vos objectifs ou à votre style de développement, etc.  Et plus important encore, maintenant votre projet est lié à 100% à ce cadre et vous ne pouvez pas simplement le prendre et le réécrire sur autre chose. <br><br>  Encore plus offensant, quand malgré tout avoir terminé le projet avec succès, vous comprenez qu'en général, vous n'êtes pas très heureux.  Et probablement, nous ne voudrions pas écrire le prochain projet sur le même framework.  Ainsi, toutes ces solutions «réutilisées» que nous recherchons peuvent être jetées dans le tuyau. <br><br>  En fait, l'enfer avec, avec un code d'entreprise qui implémente une tâche métier spécifique, fonctionne très bien.  Mais vous avez écrit un super "% insérer votre% avec le blackjack et les filles à faible responsabilité sociale", et vous vouliez l'utiliser dans votre prochain projet, mais cette infection est étroitement liée au cadre actuel à partir duquel vous regardez déjà un type. <br><br>  Une autre variante du même problème - imaginez que vous êtes une grande entreprise, comme Yandex.  Vous avez une multitude de projets, dont certains ne sont connus que de certains employés, et chaque projet a déjà fait l'expérience de tout ce que j'ai décrit ci-dessus.  Le problème est que tous ces projets reposent et détestent les différents cadres qu'ils ont initialement sélectionnés. <br><br>  Et voici votre formidable leadership, décidé à concurrencer Google Material Design et à vous envoyer en croisade vers les interfaces variées de vos projets afin de les amener à un dénominateur commun.  Des concepteurs astucieux dessinent déjà de nouveaux boutons et sélecteurs et griffonnent des milliers de pages de directives pour le nouveau kit d'interface utilisateur unique de vos composants.  Vive camarades! <br><br>  Pas la vie, mais un conte de fées, non?  Il ne reste plus qu'à trouver comment extraire tous ces nouveaux composants sur tous ces projets que vous avez déjà réussi à écrire sur tous les frameworks possibles.  S'il y a vraiment beaucoup de temps et d'argent et qu'il y a un désir esthétique, et surtout la conviction que "tout doit être unifié", alors vous pouvez mettre une douzaine d'équipes pour réécrire tout cela, par exemple, sur React.  C'est exact, car la merde terne sur laquelle vous avez écrit les 2-3 dernières années est déjà moralement obsolète, mais React le sera pour toujours.  Bien, bien) <br><br>  Il y a une autre manière.  Vous pouvez écrire un merveilleux nouveau kit d'interface utilisateur sur un seul framework, créer une bibliothèque de composants réutilisables, pour ainsi dire, puis utiliser simplement ce kit d'interface utilisateur dans tous vos projets.  Ça a l'air cool?  Bien sûr, mais il reste un problème - l'exécution. <br><br>  Si votre projet est écrit en angulaire (~ 500 Ko), et que vous avez décidé d'écrire un kit d'interface utilisateur dans React (~ 98 Ko), puis faites glisser chaque projet sur un framework, un autre framework, et même avec un tas de dépendances, le kit d'interface utilisateur lui-même est direct disons que cela ne semble pas optimal. <br><br><h2>  Solution </h2><br>  Pour nous aider à venir les frameworks très "disparus", sans runtime.  La condition principale ici est qu'ils soient aussi isolés que possible en termes de leur écosystème et disposent de mécanismes d'intégration externes et des API correspondantes. <br><br>  Un bon exemple d'un tel cadre est SvelteJS, sur lequel pas mal d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">articles</a> ont déjà été écrits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur Habré</a> . <br><br>  Imaginez donc la situation dans laquelle nous avons une application sur React.  Peut-être que nous en avons assez et que nous voulons nous en débarrasser, mais tout réécrire à la fois est un luxe inadmissible.  Ou peut-être que certaines parties de l'application nécessitent une amélioration ou une refactorisation.  Eh bien, ou nous avons décidé de créer une bibliothèque de composants unique, et maintenant nous allons écrire tous les composants dans Svelte et les utiliser dans tous les projets.  Présenté?  Oui, bien sûr que non, personne n'a un tel fantasme.  Jetons un coup d'œil à un exemple réel. <br><br><img src="https://habrastorage.org/webt/h_/br/kr/h_brkrwgnkyf9oqewysg70boexg.png"><br><div class="spoiler">  <b class="spoiler_title">Clause de non-responsabilité</b> <div class="spoiler_text">  Je veux immédiatement attirer votre attention sur le fait que je ne suis pas développeur React et la dernière fois que j'ai "ressenti" React en 2015.  Par conséquent, je suppose que la façon dont j'ai écrit une partie de l'exemple React peut blesser les sentiments des réactifs <s>croyants</s> .  Je suis désolé de ne pas juger strictement, d'autant plus que le sens de l'article ne change pas. <br></div></div><br><br>  Ainsi, la tâche consiste à implémenter le composant Svelte prêt à l'emploi dans l'application React, sans modifier le composant lui-même et sans envelopper le runtime supplémentaire dans l'application.  Par exemple, je prendrai le composant qui recherche les utilisateurs de GitHub, que j'ai écrit pour l'article précédent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Comment rechercher des utilisateurs sur GitHub sans React + RxJS 6 + Recomposer"</a> . <br><br>  Le code de ce composant peut être affiché dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">REPL</a> et l'exemple de code de cet article dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">référentiel</a> . <br><br><h4>  Créer une application de réaction </h4><br>  Tout d'abord, créez un nouveau projet React à l'aide de l'outil standard de facto - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">create-react-app</a> : <br><br><pre><code class="bash hljs">npx create-react-app my-app <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> my-app npm start</code> </pre> <br>  D'accord, si vous allez au 3000ème port, cela semble fonctionner. <br><br><h4>  Personnalisez Svelte </h4><br>  Si vous ne savez rien de Svelte, alors je dirai ceci, dans le cadre de la tâche Svelte, ce n'est qu'une étape de plus de votre collecteur (webpack / rollup / gupl / grunt / etc), qui vous permettra d'écrire des composants au format SFC et de les compiler en vanille javascript. <br><br>  Dans la communauté Svelte, Rollup est plus préféré, ce qui n'est pas surprenant, car ils ont un auteur - Rich Harris.  Cependant, puisque l'ARC utilise le webpack, nous allons configurer Svelte à travers lui.  Pour ce faire, vous devez d'abord transférer les configurations webpack des scripts de réaction vers le projet afin que nous puissions les modifier.  Cela se fait à l'aide de la commande intégrée: <br><br><pre> <code class="bash hljs">npm run eject</code> </pre> <br><br>  Pour autant que je sache, ce n'est pas une approche casher, mais par exemple, c'est l'option la plus pratique. <br><br>  Maintenant que les configurations du webpack sont à la racine du projet, vous pouvez installer Svelte: <br><br><pre> <code class="bash hljs">npm i --save-dev svelte svelte-loader</code> </pre><br><br>  Faites attention au drapeau <b>--save-dev</b> , rappelez-vous oui, il n'y a pas d'exécution.)))) <br><br>  La touche finale, vous devez connecter le chargeur approprié dans les configurations: <br><br><pre> <code class="javascript hljs"> { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.svelte$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'svelte-loader'</span></span>, } },</code> </pre><br><br>  En général, il est courant dans la communauté Svelte d'écrire des fichiers de composants avec l'extension <b>.html</b> , car le composant Svelte est un fichier HTML valide.  Cependant, pour éviter les collisions potentielles, dans certains cas, il est préférable d'utiliser le <b>format de</b> fichier <b>.svelte</b> personnalisé. <br><br>  C'est ce que nous avons fait, maintenant tous les fichiers <b>.svelte inclus</b> dans le projet seront interceptés par ce chargeur et compilés par Svelte. <br><br><h4>  Écrire un composant Svelte </h4><br>  Tout d'abord, il est préférable de configurer l'éditeur de code, par exemple, afin qu'il applique la coloration syntaxique html aux fichiers avec l'extension correspondante.  Quelque chose comme ça se fait dans VS Code: <br><br><pre> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"files.associations"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"*.svelte"</span></span>: <span class="hljs-string"><span class="hljs-string">"html"</span></span> }</code> </pre><br>  Créez maintenant un dossier ./src/svelte_components/ et là le dossier du composant lui-même.  Après cela, nous transférons simplement tous les fichiers de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple REPL</a> dans ce dossier, en leur donnant simultanément une nouvelle extension <b>.svelte</b> , et appelons le fichier App.html Widget.svelte. <br><br>  Le résultat devrait être quelque chose comme ceci: <br><br><div style="text-align:center;"><img height="300" src="https://habrastorage.org/webt/ke/b7/v9/keb7v9dimbzchwje0xwwn6qevxy.png"></div><br>  Au même endroit, nous créons le fichier index.js dans lequel nous aurons le code d'intégration Svelte et React. <br><br><h4>  Intégrer </h4><br>  Peut-être que maintenant vous voulez savoir ce qu'est la magie?  La magie est que nous avons déjà fait toute la magie.  Magiquement, n'est-ce pas? <br><br>  Sérieusement, nous pouvons maintenant utiliser les composants Svelte dans notre application React en tant que constructeurs JS complètement ordinaires, ce qui signifie que le code d'intégration avec Svelte ne sera pas différent de l'intégration avec un autre autonome.  La documentation React contient même une section dédiée à cela: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intégration avec d'autres bibliothèques</a> . <br><br>  Le code d'intégration peut ressembler à ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { PureComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Widget.svelte'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PureComponent</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { username } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Widget({ <span class="hljs-attr"><span class="hljs-attr">target</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { username } }); } componentWillUnmount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget.destroy(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.el = el}&gt;</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br>  Au total, nous avons simplement enveloppé le code de notre composant Svelte complexe dans un composant React très simple, qui crée simplement une nouvelle instance du composant Svelte, transférant l'élément de montage et les données des accessoires lors de sa création.  De plus, nous n'oublions pas de désinstaller le composant Svelte dans le hook <b>componentWillUnmount</b> . <br><br>  La seule chose que nous n'avons pas encore faite est qu'ils n'ont pas synchronisé les valeurs de l'état du composant.  Autrement dit, si le composant parent a jeté d'autres accessoires dans le composant wrapper, ils doivent alors s'appliquer au composant Svelte.  Inversement, si les données ont été modifiées à l'intérieur du composant Svelte, elles doivent être annulées. <br><br>  Pour ce faire, nous supposons que le composant React de niveau supérieur transmettra le rappel onChange, que nous devrions extraire lorsque des modifications se produisent à l'intérieur, et nous nous attendrons à des changements dans les accessoires du <b>composant</b> wrapper dans le crochet <b>componentWillReceiveProps</b> .  Faisons-le: <br><br><pre> <code class="javascript hljs"> componentDidMount() { ... this.widget.on(<span class="hljs-string"><span class="hljs-string">'state'</span></span>, ({ <span class="hljs-attr"><span class="hljs-attr">current</span></span>: { username }, changed }) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (changed.username) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.onChange({ username }); } }); } componentWillReceiveProps({ username }) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget.set({ username }); }</code> </pre><br>  Ici, nous avons utilisé l'événement d' <b>état</b> intégré, qui se déclenche chaque fois que l' <b>état du</b> composant Svelte change.  Un objet contenant l'état actuel du composant ( <b>actuel</b> ), l'état <b>précédent</b> ( <b>précédent</b> ) et la liste des propriétés <b>modifiées</b> ( <b>modifiées</b> ) est transféré vers le rappel.  En conséquence, nous vérifions simplement si le nom d'utilisateur a été modifié et appelons le <b>rappel</b> onChange, le cas échéant. <br><br>  Dans le hook <b>componentWillReceiveProps</b> , nous définissons le nouveau <b>nom d'utilisateur</b> à l'aide de la méthode <b>set ()</b> intégrée. <br><br>  Outre les composants intégrés, les composants Svelte peuvent implémenter des événements et des méthodes personnalisés.  Ce sont ces fonctionnalités intéressantes qui vous permettent de décrire l'interface du composant et il est assez pratique d'organiser la communication avec le "monde extérieur". <br><br><h4>  Utiliser </h4><br>  Essayons maintenant d'utiliser notre widget directement dans l'application React.  Pour ce faire, modifiez le fichier App.js généré par le démarreur: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./App.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GithubWidget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./svelte_components/GithubWidget'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">username</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; } handleChange = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ ...state }); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App-header"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Github Widget for: {this.state.username}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.handleChange}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.username}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); } } export default App;</span></span></code> </pre><br>  En bref, nous l'utilisons comme un composant React régulier.  Et en conséquence, nous obtenons: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qd/0z/1k/qd0z1khfju_dcx2yxvczi8btoas.gif"></div><br>  Déjà pas mal, non?) Veuillez noter que la valeur du nom d'utilisateur que nous entrons dans le champ de texte du widget est immédiatement transmise à l'application React. <br><br><h4>  Nous finaliserons </h4><br>  Apprenons maintenant à notre widget à rechercher et à afficher non seulement la carte d'utilisateur GitHub, mais également la carte de référentiel. <br><br>  Tout d'abord, vous devez créer un nouveau composant Repo.svelte, qui dessinera la carte de référentiel.  Par souci de simplicité, je viens de copier le modèle et les styles de User.svelte et de l'adapter aux données du référentiel.  Cependant, théoriquement, il s'agit d'un composant distinct. <br><br>  Ensuite, vous devez apprendre au composant de contrôle Widget.svelte à commuter ces deux types de cartes à la volée.  En outre, vous devez lui apprendre à tirer différentes demandes pour l'utilisateur et le référentiel. <br><br>  Nous utiliserons un champ pour la saisie et déterminerons le type de données par la présence de "/" dans la valeur.  Autrement dit, si vous devez rechercher l'utilisateur, entrez son nom d'utilisateur, et si le référentiel, puis entrez le nom d'utilisateur de l'utilisateur, puis "/" et le nom du référentiel. <br><br>  À première vue, cela semble plutôt confus, mais sur Svelte, la solution prendra littéralement 5-6 lignes de code.  Tout d'abord, connectons un nouveau composant et une nouvelle méthode API, que nous encapsulons en anti-rebond: <br><br><pre> <code class="javascript hljs">... import Repo <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Repo.svelte'</span></span>; ... import { getUserCard, getRepoCard } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./api.js'</span></span>; ... const getRepo = debounce(getRepoCard, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre><br>  Ensuite, créez une propriété calculée qui déterminera quel type de carte nous devons montrer: <br><br><pre> <code class="javascript hljs">computed: { ... repo: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ username }</span></span></span><span class="hljs-function">) =&gt;</span></span> username.includes(<span class="hljs-string"><span class="hljs-string">'/'</span></span>), ... }</code> </pre><br>  Ajoutez maintenant le commutateur de requêtes à l'API: <br><br><pre> <code class="javascript hljs">computed: { ... card: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ username, repo }</span></span></span><span class="hljs-function">) =&gt;</span></span> username &amp;&amp; (repo ? getRepo : getUser)(username), ... }</code> </pre><br>  Et enfin, changer les composants de la carte en fonction du type: <br><br><pre> <code class="javascript hljs">computed: { ... Card: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ repo }</span></span></span><span class="hljs-function">) =&gt;</span></span> repo ? Repo : User, ... }</code> </pre><br>  De plus, afin de remplacer dynamiquement les composants, nous devons utiliser une balise Svelte spéciale, qui dessine le composant dont la valeur est passée à l'attribut <b>this</b> : <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">this</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{Card}</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...card</span></span></span><span class="hljs-tag">} /&gt;</span></span></code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nj/lf/ai/njlfaigk7v00mzr6bajdfz8hwai.gif"></div><br>  Ça marche.  L'avez-vous remarqué?  Nous écrivons déjà sur Svelte dans l'application React!  ))) <br><br>  Maintenant, apprenons à notre widget à masquer le champ de saisie et essayez de saisir le nom d'utilisateur non pas dans le widget, mais dans l'application React.  Est-il important que notre logique métier obtienne cette valeur? <br><br>  Nous introduisons une nouvelle propriété de <b>recherche</b> dont la valeur par défaut est false.  Selon cette propriété, le champ de saisie sera affiché ou non affiché.  Par défaut, en conséquence, il n'y aura pas de champ. <br><br><pre> <code class="html hljs xml">{#if search} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">username</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"username or username/repo"</span></span></span><span class="hljs-tag">&gt;</span></span> {/if} ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... data() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">username</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">search</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }; }, ... }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Maintenant, dans App.js, nous allons créer un champ d'entrée du côté React de l'application et écrire le traitement correspondant pour l'événement d'entrée: <br><br><pre> <code class="javascript hljs"> ... handleUsername = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">username</span></span>: e.target.value }); } ... &lt;h1&gt;Github Widget <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.username}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/h1&gt; &lt;input value={this.state.username} onChange={this.handleUsername} className="Username" placeholder="username or username/</span></span>repo<span class="hljs-string"><span class="hljs-string">" /&gt;</span></span></code> </pre><br>  Et copiez-le également dans le dossier avec le widget voici un tel fileur svg sur Svelte: <br><br><pre> <code class="javascript hljs">&lt;svg height={size} width={size} style=<span class="hljs-string"><span class="hljs-string">"animation-duration:{speed}ms;"</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"svelte-spinner"</span></span> viewbox=<span class="hljs-string"><span class="hljs-string">"0 0 32 32"</span></span> &gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">circle</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"presentation"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cx</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"16"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cy</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"16"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">r</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{radius}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{color}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fill</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"none"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-width</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{thickness}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-dasharray</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"{dash},100"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-linecap</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"round"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">size</span></span>: <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-attr"><span class="hljs-attr">speed</span></span>: <span class="hljs-number"><span class="hljs-number">750</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'rgba(0,0,0,0.4)'</span></span>, <span class="hljs-attr"><span class="hljs-attr">thickness</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">gap</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">radius</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> }; }, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { <span class="hljs-attr"><span class="hljs-attr">dash</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{radius, gap}</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * radius * (<span class="hljs-number"><span class="hljs-number">100</span></span> - gap) / <span class="hljs-number"><span class="hljs-number">100</span></span> } }; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;style&gt; .svelte-spinner { transition-property: transform; animation-name: svelte-spinner_infinite-spin; animation-iteration-count: infinite; animation-timing-<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">linear</span></span></span><span class="hljs-function">; } @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyframes</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">svelte</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">spinner_infinite</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">spin</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> { <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: rotate(<span class="hljs-number"><span class="hljs-number">0</span></span>deg); } to { <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: rotate(<span class="hljs-number"><span class="hljs-number">360</span></span>deg); } } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/style&gt;</span></span></code> </pre><br>  Et nous l'appliquerons dans le widget pour qu'il soit très beau: <br><br><pre> <code class="html hljs xml">... {#await card} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Spinner</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">speed</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"750"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#38b0ee"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">thickness</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40"</span></span></span><span class="hljs-tag"> /&gt;</span></span> {:then card} ...</code> </pre><br>  À mon avis, cela s'est avéré pas très mal: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/2l/cb/e_2lcbvrci4btwtg6wwhjrf9zic.gif"></div><br>  Le chapeau haut de forme avec un fond noir et un champ de saisie est une application React, le bloc blanc ci-dessous est un widget Svelte.  Ce sont les tartes.  ))) <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Référentiel</a> <br><br><h2>  Conclusions </h2><br>  Svelte est un excellent outil pour développer des applications Web modernes basées sur des composants.  De plus, vous pouvez rapidement et facilement y écrire des composants d'interface utilisateur autonomes réutilisables et des widgets, qui peuvent être utilisés dans toutes les applications Web, même en conjonction avec d'autres cadres.  Il est également idéal pour les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">microfronts</a> . <br><br><h4>  Svelte est parfait pour vous si: </h4><br><ol><li>  Vous souhaitez démarrer un nouveau projet et ne savez pas quel framework choisir pour cela. </li><li>  Vous avez un projet, ça marche et mieux vaut ne pas le toucher.  De nouveaux composants et modules, vous pouvez écrire dans Svelte et intégrer de manière transparente dans le code existant. </li><li>  Vous avez déjà un projet, mais il est partiellement ou complètement obsolète et / ou nécessite une refonte sérieuse, jusqu'à une réécriture complète.  Vous pouvez commencer à le réécrire en plusieurs parties.  Vous n'avez pas besoin de proposer des configurations complexes.  Il vous suffit de prendre un composant, de le réécrire dans Svelte et d'envelopper le nouveau composant avec l'ancien.  Cependant, le reste de l'application n'est même pas au courant des changements. </li><li>  Vous avez plusieurs projets sur différentes bases de code et en même temps, vous souhaitez avoir un seul kit d'interface utilisateur et l'utiliser dans l'un de ces projets.  Écrivez un kit d'interface utilisateur sur Svelte et utilisez-le n'importe où.  C'est sympa. </li></ol><br>  Vous voulez découvrir des cas plus intéressants?  Rejoignez notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chaîne Telegram</a> ! <br><br>  <b>MISE À JOUR:</b> merci <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">justboris</a> pour la bonne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">question</a> .  Poursuivant l'exemple: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { PureComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Widget.svelte'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PureComponent</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { ... this.widget = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Widget({ <span class="hljs-attr"><span class="hljs-attr">target</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { username }, <span class="hljs-attr"><span class="hljs-attr">slots</span></span>: { <span class="hljs-attr"><span class="hljs-attr">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.slot } }); ... } ... render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.el = el}&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.slot = el}&gt; {this.props.children} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleChange}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.state.username}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Hello world<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420113/">https://habr.com/ru/post/fr420113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420103/index.html">Les meilleurs anglophones avec HighLoad ++ 2017</a></li>
<li><a href="../fr420105/index.html">Adaptabilité maximale avec un nombre minimum de requêtes multimédias ou méthode d'adaptabilité inverse</a></li>
<li><a href="../fr420107/index.html">Typegram - Zen Blog Platform</a></li>
<li><a href="../fr420109/index.html">Elon Musk a déclaré que la société pourrait être vendue à des investisseurs privés. Ils se sont avérés être un fonds saoudien</a></li>
<li><a href="../fr420111/index.html">De zéro à héros «Actions sur Google»: votre code</a></li>
<li><a href="../fr420115/index.html">UE4 | Équipement pour multijoueur # 4 | Création et connexion d'un conteneur</a></li>
<li><a href="../fr420117/index.html">Guide des files d'attente simples sur Mikrotik</a></li>
<li><a href="../fr420119/index.html">10 frameworks Web Python à travailler en 2018</a></li>
<li><a href="../fr420121/index.html">Test de résistance: Termite LT450, LXI</a></li>
<li><a href="../fr420123/index.html">Qu'est-ce que Node.js vraiment?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>