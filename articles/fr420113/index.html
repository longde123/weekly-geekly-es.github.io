<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüé§ üë®‚Äçüîß ‚õπÔ∏è La l√©gende du cadre du pouvoir üë©üèΩ‚Äçüíª ‚ñ´Ô∏è ü§òüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, la tendance √† la ¬´disparition des frameworks¬ª gagne en popularit√©, dont la locomotive, sans aucun doute, peut √™tre consid√©r√©e comme SvelteJ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La l√©gende du cadre du pouvoir</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420113/"> R√©cemment, la tendance √† la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´disparition des frameworks¬ª</a> gagne en popularit√©, dont la locomotive, sans aucun doute, peut √™tre consid√©r√©e comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SvelteJS</a> - un framework de buildtime et un compilateur javascript vanille. <br><br>  Malgr√© le fait que Svelte soit conceptuellement tr√®s simple et encore plus facile √† utiliser, de nombreux d√©veloppeurs se demandent quelle est la caract√©ristique la plus meurtri√®re de ce cadre, et toute l'approche?  Pourquoi n'est-ce pas ¬´encore un autre framework javascript¬ª? <br><br>  Dans cet article, je parlerai de l'une des nombreuses superpuissances de Svelte qui peuvent s√©rieusement vous faciliter la vie. <br><br>  Voyons cela, mais je vais d'abord vous raconter une l√©gende ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7o/oi/xe/7ooixeqngyip_s7tw9zpxhcvygw.png"></div><br><a name="habracut"></a><br><h2>  La l√©gende du cadre du pouvoir </h2><br><blockquote>  <i>Certains frameworks ont √©t√© cr√©√©s par les gars de Google et Facebook, d'autres - des mecs sympas, mais tous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sous la "grande attention" de Rich Harris</a> .</i> <i><br><br></i>  <i>Neuf cadres ont √©t√© cr√©√©s pour les humains, sept semblent √™tre pour les nains.</i>  <i>Trois autres cadres (react, vue, angular) √©taient pour les elfes.</i> <i><br><br></i>  <i>Apr√®s avoir cr√©√© les cadres et les avoir mis en ≈ìuvre dans des milliers de projets, Rich Harris a personnellement et secr√®tement cr√©√© un cadre ...</i> <i><br><br></i>  <i>Un cadre pour les gouverner tous,</i> <i><br></i>  <i>Un cadre pour les trouver,</i> <i><br></i>  <i>Un cadre pour tous les amener</i> <i><br></i>  <i>Et les lier ensemble.</i> <i><br></i> <br>  <b><i>- Le Seigneur des Cadres</i></b> <br></blockquote><h2>  Le probl√®me </h2><br>  Je suis s√ªr que beaucoup d'entre vous qui ont √©t√© s√©rieusement et longtemps engag√©s dans le d√©veloppement front-end ont √©t√© confront√©s √† plusieurs reprises au probl√®me du choix des outils pour votre projet actuel et / ou suivant. <br>  La vari√©t√© de toutes sortes de packages, utilitaires, baleines, frameworks, biblioth√®ques et autres solutions est hors √©chelle comme jamais auparavant.  Et surtout, tout ce mouvement continue de s'acc√©l√©rer. <br><br>  Tout cela, d'une mani√®re ou d'une autre, s'applique au choix du cadre.  Je ne me trompe probablement pas si je suppose que seules quelques √©quipes et entreprises modernes commencent de nouveaux projets sans utiliser de framework js.  Bien s√ªr, en ce qui concerne les applications Web modernes, pas seulement les sites Web.  Et tout irait bien si tant de choses dans votre projet n'en d√©pendaient pas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wj/fq/7d/wjfq7dchw2-jmtp1qsiieqgfp9c.jpeg"></div><br>  Jugez par vous-m√™me, la composition et les caract√©ristiques de l'√©quipe d√©pendent en grande partie du cadre que vous choisissez, et tout le processus de chasse en d√©pend certainement.  Parfois, le budget et les d√©lais en d√©pendent m√™me.  En bref brrr. <br><br>  Mais les vrais probl√®mes commencent, si quelque part au milieu du projet, vous vous rendez compte que vous avez fait un mauvais choix.  Quelque chose n'a pas grandi ensemble et n'a pas tourn√©.  Le framework a n√©cessit√© un peu plus de temps √† ma√Ætriser, une √©quipe un peu plus grande, s'est av√©r√©e un peu moins rapide, un peu inadapt√©e √† vos objectifs ou √† votre style de d√©veloppement, etc.  Et plus important encore, maintenant votre projet est li√© √† 100% √† ce cadre et vous ne pouvez pas simplement le prendre et le r√©√©crire sur autre chose. <br><br>  Encore plus offensant, quand malgr√© tout avoir termin√© le projet avec succ√®s, vous comprenez qu'en g√©n√©ral, vous n'√™tes pas tr√®s heureux.  Et probablement, nous ne voudrions pas √©crire le prochain projet sur le m√™me framework.  Ainsi, toutes ces solutions ¬´r√©utilis√©es¬ª que nous recherchons peuvent √™tre jet√©es dans le tuyau. <br><br>  En fait, l'enfer avec, avec un code d'entreprise qui impl√©mente une t√¢che m√©tier sp√©cifique, fonctionne tr√®s bien.  Mais vous avez √©crit un super "% ins√©rer votre% avec le blackjack et les filles √† faible responsabilit√© sociale", et vous vouliez l'utiliser dans votre prochain projet, mais cette infection est √©troitement li√©e au cadre actuel √† partir duquel vous regardez d√©j√† un type. <br><br>  Une autre variante du m√™me probl√®me - imaginez que vous √™tes une grande entreprise, comme Yandex.  Vous avez une multitude de projets, dont certains ne sont connus que de certains employ√©s, et chaque projet a d√©j√† fait l'exp√©rience de tout ce que j'ai d√©crit ci-dessus.  Le probl√®me est que tous ces projets reposent et d√©testent les diff√©rents cadres qu'ils ont initialement s√©lectionn√©s. <br><br>  Et voici votre formidable leadership, d√©cid√© √† concurrencer Google Material Design et √† vous envoyer en croisade vers les interfaces vari√©es de vos projets afin de les amener √† un d√©nominateur commun.  Des concepteurs astucieux dessinent d√©j√† de nouveaux boutons et s√©lecteurs et griffonnent des milliers de pages de directives pour le nouveau kit d'interface utilisateur unique de vos composants.  Vive camarades! <br><br>  Pas la vie, mais un conte de f√©es, non?  Il ne reste plus qu'√† trouver comment extraire tous ces nouveaux composants sur tous ces projets que vous avez d√©j√† r√©ussi √† √©crire sur tous les frameworks possibles.  S'il y a vraiment beaucoup de temps et d'argent et qu'il y a un d√©sir esth√©tique, et surtout la conviction que "tout doit √™tre unifi√©", alors vous pouvez mettre une douzaine d'√©quipes pour r√©√©crire tout cela, par exemple, sur React.  C'est exact, car la merde terne sur laquelle vous avez √©crit les 2-3 derni√®res ann√©es est d√©j√† moralement obsol√®te, mais React le sera pour toujours.  Bien, bien) <br><br>  Il y a une autre mani√®re.  Vous pouvez √©crire un merveilleux nouveau kit d'interface utilisateur sur un seul framework, cr√©er une biblioth√®que de composants r√©utilisables, pour ainsi dire, puis utiliser simplement ce kit d'interface utilisateur dans tous vos projets.  √áa a l'air cool?  Bien s√ªr, mais il reste un probl√®me - l'ex√©cution. <br><br>  Si votre projet est √©crit en angulaire (~ 500 Ko), et que vous avez d√©cid√© d'√©crire un kit d'interface utilisateur dans React (~ 98 Ko), puis faites glisser chaque projet sur un framework, un autre framework, et m√™me avec un tas de d√©pendances, le kit d'interface utilisateur lui-m√™me est direct disons que cela ne semble pas optimal. <br><br><h2>  Solution </h2><br>  Pour nous aider √† venir les frameworks tr√®s "disparus", sans runtime.  La condition principale ici est qu'ils soient aussi isol√©s que possible en termes de leur √©cosyst√®me et disposent de m√©canismes d'int√©gration externes et des API correspondantes. <br><br>  Un bon exemple d'un tel cadre est SvelteJS, sur lequel pas mal d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">articles</a> ont d√©j√† √©t√© √©crits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur Habr√©</a> . <br><br>  Imaginez donc la situation dans laquelle nous avons une application sur React.  Peut-√™tre que nous en avons assez et que nous voulons nous en d√©barrasser, mais tout r√©√©crire √† la fois est un luxe inadmissible.  Ou peut-√™tre que certaines parties de l'application n√©cessitent une am√©lioration ou une refactorisation.  Eh bien, ou nous avons d√©cid√© de cr√©er une biblioth√®que de composants unique, et maintenant nous allons √©crire tous les composants dans Svelte et les utiliser dans tous les projets.  Pr√©sent√©?  Oui, bien s√ªr que non, personne n'a un tel fantasme.  Jetons un coup d'≈ìil √† un exemple r√©el. <br><br><img src="https://habrastorage.org/webt/h_/br/kr/h_brkrwgnkyf9oqewysg70boexg.png"><br><div class="spoiler">  <b class="spoiler_title">Clause de non-responsabilit√©</b> <div class="spoiler_text">  Je veux imm√©diatement attirer votre attention sur le fait que je ne suis pas d√©veloppeur React et la derni√®re fois que j'ai "ressenti" React en 2015.  Par cons√©quent, je suppose que la fa√ßon dont j'ai √©crit une partie de l'exemple React peut blesser les sentiments des r√©actifs <s>croyants</s> .  Je suis d√©sol√© de ne pas juger strictement, d'autant plus que le sens de l'article ne change pas. <br></div></div><br><br>  Ainsi, la t√¢che consiste √† impl√©menter le composant Svelte pr√™t √† l'emploi dans l'application React, sans modifier le composant lui-m√™me et sans envelopper le runtime suppl√©mentaire dans l'application.  Par exemple, je prendrai le composant qui recherche les utilisateurs de GitHub, que j'ai √©crit pour l'article pr√©c√©dent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Comment rechercher des utilisateurs sur GitHub sans React + RxJS 6 + Recomposer"</a> . <br><br>  Le code de ce composant peut √™tre affich√© dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">REPL</a> et l'exemple de code de cet article dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel</a> . <br><br><h4>  Cr√©er une application de r√©action </h4><br>  Tout d'abord, cr√©ez un nouveau projet React √† l'aide de l'outil standard de facto - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">create-react-app</a> : <br><br><pre><code class="bash hljs">npx create-react-app my-app <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> my-app npm start</code> </pre> <br>  D'accord, si vous allez au 3000√®me port, cela semble fonctionner. <br><br><h4>  Personnalisez Svelte </h4><br>  Si vous ne savez rien de Svelte, alors je dirai ceci, dans le cadre de la t√¢che Svelte, ce n'est qu'une √©tape de plus de votre collecteur (webpack / rollup / gupl / grunt / etc), qui vous permettra d'√©crire des composants au format SFC et de les compiler en vanille javascript. <br><br>  Dans la communaut√© Svelte, Rollup est plus pr√©f√©r√©, ce qui n'est pas surprenant, car ils ont un auteur - Rich Harris.  Cependant, puisque l'ARC utilise le webpack, nous allons configurer Svelte √† travers lui.  Pour ce faire, vous devez d'abord transf√©rer les configurations webpack des scripts de r√©action vers le projet afin que nous puissions les modifier.  Cela se fait √† l'aide de la commande int√©gr√©e: <br><br><pre> <code class="bash hljs">npm run eject</code> </pre> <br><br>  Pour autant que je sache, ce n'est pas une approche casher, mais par exemple, c'est l'option la plus pratique. <br><br>  Maintenant que les configurations du webpack sont √† la racine du projet, vous pouvez installer Svelte: <br><br><pre> <code class="bash hljs">npm i --save-dev svelte svelte-loader</code> </pre><br><br>  Faites attention au drapeau <b>--save-dev</b> , rappelez-vous oui, il n'y a pas d'ex√©cution.)))) <br><br>  La touche finale, vous devez connecter le chargeur appropri√© dans les configurations: <br><br><pre> <code class="javascript hljs"> { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.svelte$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'svelte-loader'</span></span>, } },</code> </pre><br><br>  En g√©n√©ral, il est courant dans la communaut√© Svelte d'√©crire des fichiers de composants avec l'extension <b>.html</b> , car le composant Svelte est un fichier HTML valide.  Cependant, pour √©viter les collisions potentielles, dans certains cas, il est pr√©f√©rable d'utiliser le <b>format de</b> fichier <b>.svelte</b> personnalis√©. <br><br>  C'est ce que nous avons fait, maintenant tous les fichiers <b>.svelte inclus</b> dans le projet seront intercept√©s par ce chargeur et compil√©s par Svelte. <br><br><h4>  √âcrire un composant Svelte </h4><br>  Tout d'abord, il est pr√©f√©rable de configurer l'√©diteur de code, par exemple, afin qu'il applique la coloration syntaxique html aux fichiers avec l'extension correspondante.  Quelque chose comme √ßa se fait dans VS Code: <br><br><pre> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"files.associations"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"*.svelte"</span></span>: <span class="hljs-string"><span class="hljs-string">"html"</span></span> }</code> </pre><br>  Cr√©ez maintenant un dossier ./src/svelte_components/ et l√† le dossier du composant lui-m√™me.  Apr√®s cela, nous transf√©rons simplement tous les fichiers de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple REPL</a> dans ce dossier, en leur donnant simultan√©ment une nouvelle extension <b>.svelte</b> , et appelons le fichier App.html Widget.svelte. <br><br>  Le r√©sultat devrait √™tre quelque chose comme ceci: <br><br><div style="text-align:center;"><img height="300" src="https://habrastorage.org/webt/ke/b7/v9/keb7v9dimbzchwje0xwwn6qevxy.png"></div><br>  Au m√™me endroit, nous cr√©ons le fichier index.js dans lequel nous aurons le code d'int√©gration Svelte et React. <br><br><h4>  Int√©grer </h4><br>  Peut-√™tre que maintenant vous voulez savoir ce qu'est la magie?  La magie est que nous avons d√©j√† fait toute la magie.  Magiquement, n'est-ce pas? <br><br>  S√©rieusement, nous pouvons maintenant utiliser les composants Svelte dans notre application React en tant que constructeurs JS compl√®tement ordinaires, ce qui signifie que le code d'int√©gration avec Svelte ne sera pas diff√©rent de l'int√©gration avec un autre autonome.  La documentation React contient m√™me une section d√©di√©e √† cela: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Int√©gration avec d'autres biblioth√®ques</a> . <br><br>  Le code d'int√©gration peut ressembler √† ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { PureComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Widget.svelte'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PureComponent</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { username } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Widget({ <span class="hljs-attr"><span class="hljs-attr">target</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { username } }); } componentWillUnmount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget.destroy(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.el = el}&gt;</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br>  Au total, nous avons simplement envelopp√© le code de notre composant Svelte complexe dans un composant React tr√®s simple, qui cr√©e simplement une nouvelle instance du composant Svelte, transf√©rant l'√©l√©ment de montage et les donn√©es des accessoires lors de sa cr√©ation.  De plus, nous n'oublions pas de d√©sinstaller le composant Svelte dans le hook <b>componentWillUnmount</b> . <br><br>  La seule chose que nous n'avons pas encore faite est qu'ils n'ont pas synchronis√© les valeurs de l'√©tat du composant.  Autrement dit, si le composant parent a jet√© d'autres accessoires dans le composant wrapper, ils doivent alors s'appliquer au composant Svelte.  Inversement, si les donn√©es ont √©t√© modifi√©es √† l'int√©rieur du composant Svelte, elles doivent √™tre annul√©es. <br><br>  Pour ce faire, nous supposons que le composant React de niveau sup√©rieur transmettra le rappel onChange, que nous devrions extraire lorsque des modifications se produisent √† l'int√©rieur, et nous nous attendrons √† des changements dans les accessoires du <b>composant</b> wrapper dans le crochet <b>componentWillReceiveProps</b> .  Faisons-le: <br><br><pre> <code class="javascript hljs"> componentDidMount() { ... this.widget.on(<span class="hljs-string"><span class="hljs-string">'state'</span></span>, ({ <span class="hljs-attr"><span class="hljs-attr">current</span></span>: { username }, changed }) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (changed.username) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.onChange({ username }); } }); } componentWillReceiveProps({ username }) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget.set({ username }); }</code> </pre><br>  Ici, nous avons utilis√© l'√©v√©nement d' <b>√©tat</b> int√©gr√©, qui se d√©clenche chaque fois que l' <b>√©tat du</b> composant Svelte change.  Un objet contenant l'√©tat actuel du composant ( <b>actuel</b> ), l'√©tat <b>pr√©c√©dent</b> ( <b>pr√©c√©dent</b> ) et la liste des propri√©t√©s <b>modifi√©es</b> ( <b>modifi√©es</b> ) est transf√©r√© vers le rappel.  En cons√©quence, nous v√©rifions simplement si le nom d'utilisateur a √©t√© modifi√© et appelons le <b>rappel</b> onChange, le cas √©ch√©ant. <br><br>  Dans le hook <b>componentWillReceiveProps</b> , nous d√©finissons le nouveau <b>nom d'utilisateur</b> √† l'aide de la m√©thode <b>set ()</b> int√©gr√©e. <br><br>  Outre les composants int√©gr√©s, les composants Svelte peuvent impl√©menter des √©v√©nements et des m√©thodes personnalis√©s.  Ce sont ces fonctionnalit√©s int√©ressantes qui vous permettent de d√©crire l'interface du composant et il est assez pratique d'organiser la communication avec le "monde ext√©rieur". <br><br><h4>  Utiliser </h4><br>  Essayons maintenant d'utiliser notre widget directement dans l'application React.  Pour ce faire, modifiez le fichier App.js g√©n√©r√© par le d√©marreur: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./App.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GithubWidget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./svelte_components/GithubWidget'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">username</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; } handleChange = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ ...state }); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App-header"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Github Widget for: {this.state.username}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.handleChange}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.username}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); } } export default App;</span></span></code> </pre><br>  En bref, nous l'utilisons comme un composant React r√©gulier.  Et en cons√©quence, nous obtenons: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qd/0z/1k/qd0z1khfju_dcx2yxvczi8btoas.gif"></div><br>  D√©j√† pas mal, non?) Veuillez noter que la valeur du nom d'utilisateur que nous entrons dans le champ de texte du widget est imm√©diatement transmise √† l'application React. <br><br><h4>  Nous finaliserons </h4><br>  Apprenons maintenant √† notre widget √† rechercher et √† afficher non seulement la carte d'utilisateur GitHub, mais √©galement la carte de r√©f√©rentiel. <br><br>  Tout d'abord, vous devez cr√©er un nouveau composant Repo.svelte, qui dessinera la carte de r√©f√©rentiel.  Par souci de simplicit√©, je viens de copier le mod√®le et les styles de User.svelte et de l'adapter aux donn√©es du r√©f√©rentiel.  Cependant, th√©oriquement, il s'agit d'un composant distinct. <br><br>  Ensuite, vous devez apprendre au composant de contr√¥le Widget.svelte √† commuter ces deux types de cartes √† la vol√©e.  En outre, vous devez lui apprendre √† tirer diff√©rentes demandes pour l'utilisateur et le r√©f√©rentiel. <br><br>  Nous utiliserons un champ pour la saisie et d√©terminerons le type de donn√©es par la pr√©sence de "/" dans la valeur.  Autrement dit, si vous devez rechercher l'utilisateur, entrez son nom d'utilisateur, et si le r√©f√©rentiel, puis entrez le nom d'utilisateur de l'utilisateur, puis "/" et le nom du r√©f√©rentiel. <br><br>  √Ä premi√®re vue, cela semble plut√¥t confus, mais sur Svelte, la solution prendra litt√©ralement 5-6 lignes de code.  Tout d'abord, connectons un nouveau composant et une nouvelle m√©thode API, que nous encapsulons en anti-rebond: <br><br><pre> <code class="javascript hljs">... import Repo <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Repo.svelte'</span></span>; ... import { getUserCard, getRepoCard } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./api.js'</span></span>; ... const getRepo = debounce(getRepoCard, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre><br>  Ensuite, cr√©ez une propri√©t√© calcul√©e qui d√©terminera quel type de carte nous devons montrer: <br><br><pre> <code class="javascript hljs">computed: { ... repo: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ username }</span></span></span><span class="hljs-function">) =&gt;</span></span> username.includes(<span class="hljs-string"><span class="hljs-string">'/'</span></span>), ... }</code> </pre><br>  Ajoutez maintenant le commutateur de requ√™tes √† l'API: <br><br><pre> <code class="javascript hljs">computed: { ... card: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ username, repo }</span></span></span><span class="hljs-function">) =&gt;</span></span> username &amp;&amp; (repo ? getRepo : getUser)(username), ... }</code> </pre><br>  Et enfin, changer les composants de la carte en fonction du type: <br><br><pre> <code class="javascript hljs">computed: { ... Card: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ repo }</span></span></span><span class="hljs-function">) =&gt;</span></span> repo ? Repo : User, ... }</code> </pre><br>  De plus, afin de remplacer dynamiquement les composants, nous devons utiliser une balise Svelte sp√©ciale, qui dessine le composant dont la valeur est pass√©e √† l'attribut <b>this</b> : <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">this</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{Card}</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...card</span></span></span><span class="hljs-tag">} /&gt;</span></span></code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nj/lf/ai/njlfaigk7v00mzr6bajdfz8hwai.gif"></div><br>  √áa marche.  L'avez-vous remarqu√©?  Nous √©crivons d√©j√† sur Svelte dans l'application React!  ))) <br><br>  Maintenant, apprenons √† notre widget √† masquer le champ de saisie et essayez de saisir le nom d'utilisateur non pas dans le widget, mais dans l'application React.  Est-il important que notre logique m√©tier obtienne cette valeur? <br><br>  Nous introduisons une nouvelle propri√©t√© de <b>recherche</b> dont la valeur par d√©faut est false.  Selon cette propri√©t√©, le champ de saisie sera affich√© ou non affich√©.  Par d√©faut, en cons√©quence, il n'y aura pas de champ. <br><br><pre> <code class="html hljs xml">{#if search} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">username</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"username or username/repo"</span></span></span><span class="hljs-tag">&gt;</span></span> {/if} ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... data() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">username</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">search</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }; }, ... }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Maintenant, dans App.js, nous allons cr√©er un champ d'entr√©e du c√¥t√© React de l'application et √©crire le traitement correspondant pour l'√©v√©nement d'entr√©e: <br><br><pre> <code class="javascript hljs"> ... handleUsername = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">username</span></span>: e.target.value }); } ... &lt;h1&gt;Github Widget <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.username}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/h1&gt; &lt;input value={this.state.username} onChange={this.handleUsername} className="Username" placeholder="username or username/</span></span>repo<span class="hljs-string"><span class="hljs-string">" /&gt;</span></span></code> </pre><br>  Et copiez-le √©galement dans le dossier avec le widget voici un tel fileur svg sur Svelte: <br><br><pre> <code class="javascript hljs">&lt;svg height={size} width={size} style=<span class="hljs-string"><span class="hljs-string">"animation-duration:{speed}ms;"</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"svelte-spinner"</span></span> viewbox=<span class="hljs-string"><span class="hljs-string">"0 0 32 32"</span></span> &gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">circle</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"presentation"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cx</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"16"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cy</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"16"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">r</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{radius}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{color}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fill</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"none"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-width</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{thickness}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-dasharray</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"{dash},100"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-linecap</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"round"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">size</span></span>: <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-attr"><span class="hljs-attr">speed</span></span>: <span class="hljs-number"><span class="hljs-number">750</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'rgba(0,0,0,0.4)'</span></span>, <span class="hljs-attr"><span class="hljs-attr">thickness</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">gap</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">radius</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> }; }, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { <span class="hljs-attr"><span class="hljs-attr">dash</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{radius, gap}</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * radius * (<span class="hljs-number"><span class="hljs-number">100</span></span> - gap) / <span class="hljs-number"><span class="hljs-number">100</span></span> } }; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;style&gt; .svelte-spinner { transition-property: transform; animation-name: svelte-spinner_infinite-spin; animation-iteration-count: infinite; animation-timing-<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">linear</span></span></span><span class="hljs-function">; } @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyframes</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">svelte</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">spinner_infinite</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">spin</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> { <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: rotate(<span class="hljs-number"><span class="hljs-number">0</span></span>deg); } to { <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: rotate(<span class="hljs-number"><span class="hljs-number">360</span></span>deg); } } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/style&gt;</span></span></code> </pre><br>  Et nous l'appliquerons dans le widget pour qu'il soit tr√®s beau: <br><br><pre> <code class="html hljs xml">... {#await card} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Spinner</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">speed</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"750"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#38b0ee"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">thickness</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40"</span></span></span><span class="hljs-tag"> /&gt;</span></span> {:then card} ...</code> </pre><br>  √Ä mon avis, cela s'est av√©r√© pas tr√®s mal: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/2l/cb/e_2lcbvrci4btwtg6wwhjrf9zic.gif"></div><br>  Le chapeau haut de forme avec un fond noir et un champ de saisie est une application React, le bloc blanc ci-dessous est un widget Svelte.  Ce sont les tartes.  ))) <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R√©f√©rentiel</a> <br><br><h2>  Conclusions </h2><br>  Svelte est un excellent outil pour d√©velopper des applications Web modernes bas√©es sur des composants.  De plus, vous pouvez rapidement et facilement y √©crire des composants d'interface utilisateur autonomes r√©utilisables et des widgets, qui peuvent √™tre utilis√©s dans toutes les applications Web, m√™me en conjonction avec d'autres cadres.  Il est √©galement id√©al pour les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">microfronts</a> . <br><br><h4>  Svelte est parfait pour vous si: </h4><br><ol><li>  Vous souhaitez d√©marrer un nouveau projet et ne savez pas quel framework choisir pour cela. </li><li>  Vous avez un projet, √ßa marche et mieux vaut ne pas le toucher.  De nouveaux composants et modules, vous pouvez √©crire dans Svelte et int√©grer de mani√®re transparente dans le code existant. </li><li>  Vous avez d√©j√† un projet, mais il est partiellement ou compl√®tement obsol√®te et / ou n√©cessite une refonte s√©rieuse, jusqu'√† une r√©√©criture compl√®te.  Vous pouvez commencer √† le r√©√©crire en plusieurs parties.  Vous n'avez pas besoin de proposer des configurations complexes.  Il vous suffit de prendre un composant, de le r√©√©crire dans Svelte et d'envelopper le nouveau composant avec l'ancien.  Cependant, le reste de l'application n'est m√™me pas au courant des changements. </li><li>  Vous avez plusieurs projets sur diff√©rentes bases de code et en m√™me temps, vous souhaitez avoir un seul kit d'interface utilisateur et l'utiliser dans l'un de ces projets.  √âcrivez un kit d'interface utilisateur sur Svelte et utilisez-le n'importe o√π.  C'est sympa. </li></ol><br>  Vous voulez d√©couvrir des cas plus int√©ressants?  Rejoignez notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cha√Æne Telegram</a> ! <br><br>  <b>MISE √Ä JOUR:</b> merci <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">justboris</a> pour la bonne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">question</a> .  Poursuivant l'exemple: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { PureComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Widget.svelte'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PureComponent</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { ... this.widget = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Widget({ <span class="hljs-attr"><span class="hljs-attr">target</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { username }, <span class="hljs-attr"><span class="hljs-attr">slots</span></span>: { <span class="hljs-attr"><span class="hljs-attr">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.slot } }); ... } ... render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.el = el}&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.slot = el}&gt; {this.props.children} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleChange}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.state.username}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Hello world<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420113/">https://habr.com/ru/post/fr420113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420103/index.html">Les meilleurs anglophones avec HighLoad ++ 2017</a></li>
<li><a href="../fr420105/index.html">Adaptabilit√© maximale avec un nombre minimum de requ√™tes multim√©dias ou m√©thode d'adaptabilit√© inverse</a></li>
<li><a href="../fr420107/index.html">Typegram - Zen Blog Platform</a></li>
<li><a href="../fr420109/index.html">Elon Musk a d√©clar√© que la soci√©t√© pourrait √™tre vendue √† des investisseurs priv√©s. Ils se sont av√©r√©s √™tre un fonds saoudien</a></li>
<li><a href="../fr420111/index.html">De z√©ro √† h√©ros ¬´Actions sur Google¬ª: votre code</a></li>
<li><a href="../fr420115/index.html">UE4 | √âquipement pour multijoueur # 4 | Cr√©ation et connexion d'un conteneur</a></li>
<li><a href="../fr420117/index.html">Guide des files d'attente simples sur Mikrotik</a></li>
<li><a href="../fr420119/index.html">10 frameworks Web Python √† travailler en 2018</a></li>
<li><a href="../fr420121/index.html">Test de r√©sistance: Termite LT450, LXI</a></li>
<li><a href="../fr420123/index.html">Qu'est-ce que Node.js vraiment?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>