<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”¯ ğŸ¥  ğŸ‘¨ğŸ¾â€ğŸ’» Sistem analisis server ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ¾ ğŸ§”ğŸ½ ğŸ”­</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ini adalah bagian kedua dari serangkaian artikel tentang sistem analitik ( tautan ke bagian 1 ). 



 Saat ini tidak ada keraguan bahwa pemrosesan dat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistem analisis server</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444254/"> Ini adalah bagian kedua dari serangkaian artikel tentang sistem analitik ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tautan ke bagian 1</a> ). <br><br><img src="https://habrastorage.org/webt/bn/xe/4l/bnxe4lnwruhoopwd582keuoybrc.png" alt="gambar"><br><br>  Saat ini tidak ada keraguan bahwa pemrosesan data dan interpretasi hasil yang akurat dapat membantu hampir semua jenis bisnis.  Dalam hal ini, sistem analitis menjadi semakin sarat dengan parameter, jumlah pemicu dan peristiwa pengguna dalam aplikasi meningkat. <br><br>  Karena itu, perusahaan memberikan analis mereka lebih banyak dan lebih banyak informasi "mentah" untuk dianalisis dan mengubahnya menjadi keputusan yang tepat.  Pentingnya sistem analitik bagi perusahaan tidak boleh diremehkan, dan sistem itu sendiri harus dapat diandalkan dan berkelanjutan. <br><a name="habracut"></a><br><h2>  Analisis pelanggan </h2><br>  Analisis klien adalah layanan yang disambungkan oleh perusahaan ke situs web atau aplikasinya melalui SDK resmi, diintegrasikan ke dalam basis kode sendiri dan memilih pemicu acara.  Pendekatan ini memiliki kelemahan yang jelas: semua data yang dikumpulkan tidak dapat diproses sepenuhnya seperti yang Anda inginkan, karena keterbatasan layanan yang dipilih.  Misalnya, dalam satu sistem tidak akan mudah untuk menjalankan tugas-tugas MapReduce, di lain sistem Anda tidak akan dapat menjalankan model Anda.  Kelemahan lain akan menjadi tagihan reguler (mengesankan) untuk layanan. <br>  Ada banyak solusi analitik klien di pasar, tetapi cepat atau lambat, para analis dihadapkan pada kenyataan bahwa tidak ada satu layanan universal yang cocok untuk tugas apa pun (sementara harga untuk semua layanan ini terus tumbuh).  Dalam situasi ini, perusahaan sering memutuskan untuk membuat sistem analitik mereka sendiri dengan semua pengaturan dan kemampuan khusus yang diperlukan. <br><br><h2>  Analisis server </h2><br>  Server analytics adalah layanan yang dapat digunakan secara internal di perusahaan di server sendiri dan (biasanya) dengan usahanya sendiri.  Dalam model ini, semua peristiwa pengguna disimpan di server internal, yang memungkinkan pengembang untuk mencoba berbagai database penyimpanan dan memilih arsitektur yang paling nyaman.  Dan bahkan jika Anda masih ingin menggunakan analitik klien pihak ketiga untuk beberapa tugas, itu masih mungkin. <br>  Analisis server dapat digunakan dalam dua cara.  Pertama: pilih beberapa utilitas open source, gunakan pada mesin Anda dan kembangkan logika bisnis. <br><br><table><tbody><tr><td>  <b>Pro</b> </td><td>  <b>Cons</b> </td></tr><tr><td>  Anda dapat menyesuaikan apa pun </td><td>  Seringkali sangat sulit dan pengembang individu diperlukan. </td></tr></tbody></table><br>  Kedua: ambil layanan SaaS (Amazon, Google, Azure) alih-alih menggunakan sendiri.  Tentang SaaS secara lebih rinci akan kami sampaikan di bagian ketiga. <br><br><table><tbody><tr><td>  <b>Pro</b> </td><td>  <b>Cons</b> </td></tr><tr><td>  Mungkin lebih murah pada volume menengah, tetapi dengan pertumbuhan besar itu masih akan menjadi terlalu mahal </td><td>  Tidak dapat mengontrol semua parameter </td></tr><tr><td>  Administrasi sepenuhnya ditransfer ke bahu penyedia layanan </td><td>  Tidak selalu diketahui apa yang ada di dalam layanan (mungkin tidak diperlukan) </td></tr></tbody></table><br><h2>  Cara mengumpulkan analitik server </h2><br>  Jika kita ingin melepaskan diri dari menggunakan analisis klien dan menyusun analisis kita sendiri, pertama-tama kita perlu memikirkan arsitektur sistem baru.  Di bawah ini saya akan langkah demi langkah memberi tahu Anda apa yang harus dipertimbangkan, mengapa setiap langkah diperlukan dan alat apa yang dapat Anda gunakan. <br><br><h3>  1. Akuisisi data </h3><br>  Sama seperti dalam kasus analitik klien, pertama-tama, analis perusahaan memilih jenis peristiwa yang ingin mereka pelajari di masa depan dan mengumpulkannya ke dalam daftar.  Biasanya, peristiwa ini berlangsung dalam urutan tertentu, yang disebut "pola acara". <br><br>  Selanjutnya, bayangkan aplikasi seluler (situs web) memiliki pengguna reguler (perangkat) dan banyak server.  Untuk mentransfer acara dari perangkat ke server dengan aman, lapisan perantara diperlukan.  Bergantung pada arsitektur, beberapa antrian acara yang berbeda dapat terjadi. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apache Kafka</a> adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pub / sub antrian</a> yang digunakan sebagai antrian untuk mengumpulkan acara. <br><blockquote>  Menurut sebuah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting di Kvor</a> pada tahun 2014, pencipta Apache Kafka memutuskan untuk memberi nama perangkat lunak tersebut setelah Franz Kafka karena "ini adalah sistem yang dioptimalkan untuk perekaman" dan karena ia menyukai karya-karya Kafka.  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Wikipedia</a> </blockquote><br>  Dalam contoh kami, ada banyak produsen data dan konsumen mereka (perangkat dan server), dan Kafka membantu menghubungkan mereka satu sama lain.  Konsumen akan dijelaskan secara lebih rinci dalam langkah-langkah selanjutnya, di mana mereka akan menjadi aktor utama.  Sekarang kami hanya akan mempertimbangkan produsen data (acara). <br><br>  Kafka merangkum konsep antrian dan partisi, lebih khusus, lebih baik untuk membacanya di tempat lain (misalnya, dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> ).  Tanpa merinci, bayangkan sebuah aplikasi seluler diluncurkan untuk dua OS yang berbeda.  Kemudian setiap versi membuat aliran acara yang terpisah.  Produsen mengirim acara ke Kafka, mereka direkam dalam antrian yang sesuai. <br><img src="https://habrastorage.org/webt/79/bi/0o/79bi0ooejp8zfiw4siua1gkhagu.png" alt="Antrian di Kafka"><br>  (gambar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari sini</a> ) <br><br>  Pada saat yang sama, Kafka memungkinkan Anda untuk membaca dalam keping-keping dan memproses aliran acara dengan kelelawar mini.  Kafka adalah alat yang sangat nyaman yang berskala baik dengan meningkatnya kebutuhan (misalnya, dengan geolokasi acara). <br><br>  Biasanya satu beling sudah cukup, tetapi hal-hal menjadi lebih sulit karena penskalaan (seperti biasa).  Mungkin tidak ada yang mau menggunakan hanya satu pecahan fisik dalam produksi, karena arsitekturnya harus toleran terhadap kesalahan.  Selain Kafka, ada solusi terkenal lainnya - RabbitMQ.  Kami tidak menggunakannya dalam produksi sebagai antrian untuk analitik acara (jika Anda memiliki pengalaman seperti itu, beri tahu kami tentang hal itu di komentar!).  Namun, mereka menggunakan AWS Kinesis. <br><br>  Sebelum melanjutkan ke langkah berikutnya, kita perlu menyebutkan satu lagi lapisan tambahan sistem - penyimpanan log mentah.  Ini bukan lapisan yang diperlukan, tetapi akan bermanfaat jika terjadi kesalahan dan antrian acara di Kafka diatur ulang.  Penyimpanan log mentah tidak memerlukan solusi yang rumit dan mahal, Anda dapat merekamnya di suatu tempat dalam urutan yang benar (bahkan pada hard drive). <br><img src="https://habrastorage.org/webt/yt/tn/we/yttnwe1yfgconmy3z4frdmnypmc.jpeg" alt="Acara mengantri"><br><h3>  2. Event stream stream memproses </h3><br>  Setelah kami menyiapkan semua acara dan menempatkannya dalam antrian yang sesuai, kami melanjutkan ke langkah pemrosesan.  Di sini saya akan berbicara tentang dua opsi pemrosesan yang paling umum. <br><br>  Opsi pertama adalah mengaktifkan Spark Streaming pada sistem Apache.  Semua produk Apache hidup dalam HDFS, sistem file replika file yang aman.  Spark Streaming adalah alat yang mudah digunakan yang memproses data streaming dan skala dengan baik.  Namun, ini bisa sedikit sulit untuk dipertahankan. <br><br>  Pilihan lain adalah membuat event handler Anda sendiri.  Untuk melakukan ini, misalnya, Anda perlu menulis aplikasi Python, membangunnya di buruh pelabuhan dan berlangganan antrian Kafka.  Ketika pemicu tiba pada penangan di buruh pelabuhan, pemrosesan akan dimulai.  Dengan metode ini, Anda harus terus menjalankan aplikasi. <br><br>  Misalkan kita telah memilih salah satu opsi yang dijelaskan di atas dan melanjutkan ke pemrosesan itu sendiri.  Prosesor harus mulai dengan memeriksa validitas data, memfilter sampah dan acara "rusak".  Untuk validasi, kami biasanya menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cerberus</a> .  Setelah itu, Anda dapat membuat pemetaan data: data dari berbagai sumber dinormalisasi dan distandarisasi untuk ditambahkan ke label umum. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/os/iu/m8/osium8y24ypxtq-bk3oesiszhc4.jpeg" alt="Acara datang ke pawang"></div><br><h3>  3. Basis Data </h3><br>  Langkah ketiga adalah mempertahankan acara yang dinormalisasi.  Ketika bekerja dengan sistem analitik yang siap pakai, kita sering harus menghubungi mereka, jadi penting untuk memilih basis data yang nyaman. <br><br>  Jika data cocok dengan skema tetap, Anda dapat memilih <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Clickhouse</a> atau database kolom lainnya.  Jadi agregasi akan bekerja dengan sangat cepat.  Yang minus adalah bahwa skema tersebut diperbaiki dengan kaku dan karenanya melipat objek sewenang-wenang tanpa penyempurnaan akan gagal (misalnya, ketika peristiwa non-standar terjadi).  Tetapi Anda dapat menghitung dengan sangat cepat. <br><br>  Untuk data yang tidak terstruktur, Anda dapat mengambil NoSQL, misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apache Cassandra</a> .  Ini bekerja pada HDFS, direplikasi dengan baik, Anda dapat meningkatkan banyak instance, toleran terhadap kesalahan. <br><br>  Anda dapat mengambil sesuatu yang lebih sederhana, misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MongoDB</a> .  Cukup lambat dan untuk volume kecil.  Namun plus adalah sangat sederhana dan karenanya cocok untuk memulai. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zc/z0/54/zcz054-gr2mczuf_dns72caehec.jpeg" alt="gambar"></div><br><h3>  4. Agregasi </h3><br>  Setelah dengan hati-hati menyimpan semua acara, kami ingin mengumpulkan semua informasi penting dari kumpulan yang datang dan memperbarui database.  Secara global, kami ingin mendapatkan dasbor dan metrik yang relevan.  Misalnya, dari acara untuk mengumpulkan profil pengguna dan entah bagaimana mengukur perilaku.  Acara dikumpulkan, dikumpulkan, dan disimpan lagi (sudah ada di tabel pengguna).  Pada saat yang sama, Anda dapat membangun sistem sehingga Anda juga menghubungkan filter ke agregator-koordinator: kumpulkan pengguna hanya dari jenis peristiwa tertentu. <br><br>  Setelah itu, jika seseorang dalam tim hanya membutuhkan analitik tingkat tinggi, Anda dapat menghubungkan sistem analitik eksternal.  Anda bisa minum Mixpanel lagi.  tetapi karena itu cukup mahal, mengirimkan tidak semua peristiwa pengguna di sana, tetapi hanya apa yang dibutuhkan.  Untuk melakukan ini, Anda perlu membuat koordinator yang akan mengirimkan beberapa peristiwa mentah atau sesuatu yang kami kumpulkan sebelumnya ke sistem eksternal, API, atau platform iklan. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pj/fn/ck/pjfnckuoonpbyua_5d3qbhyegfa.jpeg" alt="gambar"></div><br><h3>  5. Frontend </h3><br>  Anda harus menghubungkan antarmuka ke sistem yang dibuat.  Contoh yang baik adalah layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">redash</a> , GUI untuk database yang membantu membangun panel.  Bagaimana interaksi itu bekerja: <br><br><ol><li>  Pengguna membuat kueri SQL. </li><li>  Sebagai tanggapan, terima tablet. </li><li>  Baginya, dia menciptakan 'visualisasi baru' dan mendapatkan jadwal yang indah yang sudah bisa diselamatkan untuk dirinya sendiri. </li></ol><br>  Visualisasi dalam layanan diperbarui secara otomatis, Anda dapat mengonfigurasi dan melacak pemantauan Anda.  Redash gratis, dalam hal di-host-sendiri, dan bagaimana SaaS akan dikenakan biaya $ 50 per bulan. <br><img src="https://habrastorage.org/webt/mn/tv/vb/mntvvbd4vacpm4r6qvujl6xwc8s.jpeg" alt="gambar"><br><h2>  Kesimpulan </h2><br>  Setelah menyelesaikan semua langkah di atas, Anda akan membuat analitik server Anda.  Harap perhatikan bahwa ini bukan cara yang mudah dengan hanya menghubungkan analitik klien, karena semuanya perlu dikonfigurasi secara independen.  Karena itu, sebelum membuat sistem Anda sendiri, ada baiknya membandingkan kebutuhan akan sistem analisis serius dengan sumber daya yang siap Anda curahkan untuk itu. <br>  Jika Anda menghitung semuanya dan mendapatkan bahwa biayanya terlalu tinggi, pada bagian selanjutnya saya akan berbicara tentang cara membuat versi analitik server yang lebih murah. <br><br>  Terima kasih sudah membaca!  Saya akan senang pertanyaan di komentar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id444254/">https://habr.com/ru/post/id444254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id444244/index.html">Bergerak menembus ruang dan waktu</a></li>
<li><a href="../id444246/index.html">Memeriksa FreeRDP dengan PVS-Studio</a></li>
<li><a href="../id444248/index.html">Pengujian tanpa kepala di browser. Pro dan kontra</a></li>
<li><a href="../id444250/index.html">Apakah orang tidak siap untuk bitcoin atau bitcoin untuk adopsi massal?</a></li>
<li><a href="../id444252/index.html">AMD mengumumkan arsitektur chip 3D untuk mengejar ketinggalan dengan Intel Foveros 3D</a></li>
<li><a href="../id444256/index.html">Pembaca Sharp PC3000 pertama saya</a></li>
<li><a href="../id444260/index.html">Kami sedang mengembangkan sistem untuk mengevaluasi pekerjaan agen pendukung</a></li>
<li><a href="../id444262/index.html">Kode sumber Markdown2pdf untuk Linux</a></li>
<li><a href="../id444264/index.html">Bagaimana menjadi pengendara dan apakah Anda benar-benar membutuhkannya</a></li>
<li><a href="../id444268/index.html">Minggu Keamanan 12: Serangan Keyboard</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>