<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>◻️ 🥣 👶🏻 CLion 2019.3在这里！ 改进的编辑器速度和最令人期待的新功能 🌎 👨🏾‍🎓 ♟️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="哈Ha！ 许多人已经开始为新年假期做准备，购买礼物，有人正在计划漫长的新年假期。 在JetBrains，我们仍然是发布产品发布的热门时机。 今天，我急于与您分享有关我们最近发布的C和C ++跨平台开发环境-CLion 2019.3。的新闻。 



 此发行版的主要目标是，尽管听起来听起来有些可悲，...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CLion 2019.3在这里！ 改进的编辑器速度和最令人期待的新功能</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/JetBrains/blog/479318/"> 哈Ha！ 许多人已经开始为新年假期做准备，购买礼物，有人正在计划漫长的新年假期。 在JetBrains，我们仍然是发布产品发布的热门时机。 今天，我急于与您分享有关我们最近发布的C和C ++跨平台开发环境-CLion 2019.3。的新闻。 <br><br><div style="text-align:center;"><img alt="CLion发行" width="800" src="https://habrastorage.org/getpro/habr/post_images/44a/4cf/2b0/44a4cf2b04b8208e1cbf822d5f7d7ddf.png"></div><br><br> 此发行版的主要目标是，尽管听起来听起来有些可悲，但它的质量。 我们决定专注于困扰用户很长时间的问题-首先是编辑器的生产力和响应能力，其次是错误，缺陷和非常流行但缺少的功能。 <br><br> 首先，简要介绍此发行版中最重要的内容： <br><br><ul><li> 改进了编辑器的速度和响应能力，主要是在基于Clangd的引擎中实现了自动补全功能。 </li><li>  CMake中的Ninja生成器，默认CMake设置和其他设计模型改进。 </li><li> 与调试器集成的更新。 </li><li> 用于在头文件和源文件之间切换的新操作。 </li><li> 更准确的代码分析：虚拟功能的新检查，以及CMake和Doxygen注释中的拼写检查。 </li><li> 支持C ++ 20标准中的概念。 </li><li> 代码覆盖率指标。 </li><li>  WSL2，Microsoft的格式和命名约定，VCS支持更新等。 </li></ul><br> 我们将在下面详细讨论，但是如果您准备立即尝试，请进入并从<a href="https://www.jetbrains.com/clion/download">我们的网站</a>下载构建。 与往常一样，可以免费试用30天。 <br><a name="habracut"></a><br><h2> 编辑表现 </h2><br> 根据统计数据，我们的许多用户同意发送给我们，CLion中最常用的操作是<strong>自动完成</strong> 。 我们决定将重点放在他身上，以使其反应更快。 为此，我们基于Clangd在IDE中已经存在的自动完成提供程序中又添加了一个。 底线是所有供应商并行工作，一旦第一个结果准备就绪，CLion就会显示选项的下拉列表，并根据需要继续加载其他选项。 <br><br> 当然，我们想了解这种混合方法是否能带来好处。 测量结果表明，在简单项目中，CLion供应商和基于Clangd的供应商的速度相差不大。 但是在LLVM，Qt，Boost，Eigen等复杂项目上，来自Clangd的前一百个结果似乎要快得多。 自己判断： <br><br><div style="text-align:center;"><img alt="LLVM完成" width="455" src="https://habrastorage.org/getpro/habr/post_images/8e2/14b/078/8e214b078079e7626cf5b6729c08b8f8.png"></div><br><div style="text-align:center;"><img alt="Qt完成" width="455" src="https://habrastorage.org/getpro/habr/post_images/ed8/e95/008/ed8e9500884405ad3dd65fe6b2c9c4ef.png"></div><br><br> 在CLion英语博客上的另<a href="https://blog.jetbrains.com/clion/2019/09/clion-starts-2019-3-eap/">一篇文章中</a>了解有关测量的更多信息。 <br><br> 在其他重大改进中，值得注意的是IDE启动时间的平台加速。 它是通过在开始时并行处理许多进程，重新组织开始时加载的类并优化macOS上的字体加载来实现的。 要加速的具体数字取决于环境，汽车，平台和其他因素的设置。 <br><br> 在CLion中，非常遗憾的是，仍然存在用户界面挂起。 我们尝试根据原始问题将它们分组，然后一个接一个地解决。 因此，在此版本中，我们修复了以下情况：在打开的“用法”视图中，在切换到声明时，在重命名<em>#include</em>指令时，在使用面包屑和安全删除时以及在其他情况下的冻结。 用户界面暂停仍然是我们最紧迫的问题，因此我们一定会在将来的版本中继续进行此工作。 <br><br> 最后， <strong>重命名加速重构</strong> 。 这种重构不仅可以重命名代码中使用的名称，还可以重命名字符串文字和注释。 但这并非总是必要的，并且在IDE用户指示将重命名哪些特定用途之前进行了名称搜索。 这导致长时间找不到流行名称。 现在，您可以先仅通过代码选择搜索，然后再开始搜索本身。 为此，请转到“设置” /“首选项” |“设置”。 编辑器 一般| 必须禁用重构“启用就地模式”。 在这种情况下，当调用重构时（在Windows / Linux上默认为Shift + F6，在macOS上为⇧F6），CLion将立即打开“重命名”对话框，您可以在其中指定搜索参数： <br><br><div style="text-align:center;"><img alt="重命名法规" width="455" src="https://habrastorage.org/getpro/habr/post_images/d26/b2b/cd9/d26b2bcd9b0d30e1a5bd4151473c9e39.png"></div><br><br><h2>  CMake设计模型改进 </h2><br> 在这里，许多人肯定已经在等待对Makefiles支持的公告。 但是到目前为止，只有<a href="https://www.jetbrains.com/help/clion/managing-makefile-projects.html">半自动方法</a>可以通过编译数据库进行集成。 仍在开发更多的本机支持，但是在此发行周期中，我们取得了长足的进步，我们有机会在2020年3月底左右为下一个版本2020.1提供新的支持。 <br><br> 但是，我们获得了期待已久的机会来支持CMake-能够指定任何CMake生成器，包括用户期望的<strong>忍者</strong>生成器！ 以前，我们使用Makefile和类似的生成器，因为我们分析了生成的文件（更准确地说，它们是<em>-G“ CodeBlocks-Unix Makefiles”</em> ，在Windows上是<em>-G“ CodeBlocks-MinGW Makefiles”</em>和<em>-G“ CodeBlocks-NMake Makefiles”</em> ） 现在，您可以在CLion的CMake配置文件中指定任何生成器： <br><br><div style="text-align:center;"><img alt="忍者生成器" width="455" src="https://habrastorage.org/getpro/habr/post_images/732/533/41a/73253341a54f61e9fec772caa1a2ee77.png"></div><br><br> 仅当使用CMake版本3.15和更高版本时才有可能，因为它是通过CMake File API实现的，并且可以在所有平台上远程运行WSL / WSL2。 <br><br> 我注意到，Xcode和Visual Studio这样的生成器是多生成器，也就是说，它们为所有类型的程序集（Debug，Release等）生成文件，但是CLion将仅使用在中指定的程序集类型。 CMake配置文件。 <br><br> 此版本还引入了<strong>默认的CMake设置</strong> 。 这意味着对于CLion中的所有新项目，您可以使用相同的预定义设置，例如CMake生成器或用于生成CMake的目录。 可以在文件|文件中指定设置。 其他设置| 新项目的设置... <br><br><div style="text-align:center;"><img alt="CMake默认" width="455" src="https://habrastorage.org/getpro/habr/post_images/205/c5d/1a8/205c5d1a88cdc93f2ac090e2e6a6c715.png"></div><br><br> 在CMake项目模型的重要改进中，仍然值得指出的是，即使项目中存在其他无效配置，也可以重新加载有效配置。 如果您已配置了当前不可用的多个远程配置，但希望至少重新加载本地配置，则此功能很有用。 <br><br><h2> 调试器集成更新 </h2><br> 在调试器中，我们决定修复与用户最相关的问题和不足。 首先，CLion现在<strong>从项目目录</strong>读取<strong>.gdbinit / .lldbinit</strong> 。 如果您想自定义一些调试器设置或添加漂亮的打印机，但仅用于特定项目，这将很有用。 以前，您必须在用户目录的调试器配置文件中指定这些设置。 现在，您可以配置特定于项目的这些参数。 但是，要使此功能起作用，必须在调试器本身中的用户目录级别的设置中启用此行为（了解如何对<a href="https://youtrack.jetbrains.com/issue/CPP-17541">GDB</a>执行此操作以及如何对<a href="https://youtrack.jetbrains.com/issue/CPP-17608">LLDB进行操作</a> ）。 <br><br><div style="text-align:center;"><img alt="LLDB初始化配置" width="455" src="https://habrastorage.org/getpro/habr/post_images/0dd/145/cff/0dd145cffdce81bcce6a8e584a2dec61.png"></div><br><br> 在Linux和macOS上可以与LLDB集成。 在新版本中，我们将内置的LLDB升级到9.0版，并同时在全球范围内审查了所有内置的漂亮打印机。 因此，两个平台上的标准容器的性能都得到了显着提高。 可以在我们的<a href="https://blog.jetbrains.com/clion/2019/10/clion-2019-3-eap-debugger-improvements/">英语博客</a>上找到详细的比较。 值得注意的是，在macOS平台上， <em>libc ++库的</em>处理要比<em>libstdcxx好得多</em> 。 这似乎与这些库在该平台上的流行程度相对应，但是如果您在macOS上使用<em>libstdcxx</em> ，请在注释中告诉我们更多有关此类情况的信息。 <br><br> 现在，CLion有<a href="https://www.jetbrains.com/help/clion/remote-development.html">几个选项可用于</a>远程处理项目和调试。 从完全远程选项（当项目的组装和调试都在远程计算机上进行时）到仅远程调试项目的选项。 对于第二种情况就是这样，我们向CLion- <em>Remote GDB Server</em>添加了另一种配置。 与长期的<em>GDB远程调试不同</em> （是的，我们没有名字，我们同意），CLion在新配置中自行构建项目（也许您需要配置交叉编译设置），将可执行文件下载到远程计算机，然后在指定的gdbserver下运行程序。 现在，旧的配置现在更适合于复杂的选项，此时代码位于一台计算机上，汇编代码位于第二台计算机上，调试位于第三台计算机上。 或者，如果无法交叉编译。 <br><br><h2> 转到头文件/源文件 </h2><br> 是的，它做到了！ 最后，我们添加了一个单独的操作来在头文件和酸文件之间切换。 与旧平台<em>转到相关符号</em>的主要区别是什么？ 事实是，作为常见的平台操作， <em>转到相关符号会</em>尝试非常准确，并选择最正确的选项。 这既冗长又不总是C ++的正确。 新的“ <em>转到标题/源”</em>操作的行为有所不同： <br><br><ul><li> 如果在500毫秒内没有一个正确的选项，则将出现一个合适选项的下拉列表，用户可以从中选择最合适的选项。 </li><li> 如果用户已经从该文件导航过，那么他导航到的文件将位于列表的顶部。 </li><li> 列表中的其他名称将是来自相同目录的文件。 </li><li> 然后，匹配的声明和定义的搜索结果将继续。 </li></ul><br> 值得注意的是搜索功能（因为我们的用户已经使用了它）-现在对直接包含/包含文件进行搜索。 这是一个必要的时间限制，以免混淆来自不同目标的具有相同名称的字符。 <br><br><div style="text-align:center;"><img alt="转到标题/源" width="455" src="https://habrastorage.org/getpro/habr/post_images/1e7/824/9f8/1e78249f8ec9189e56986aa1cabbdfc1.gif"></div><br><br><h2> 代码分析 </h2><br>  CLion的代码分析器中出现了新检查。 它捕获了从构造函数或析构函数调用虚拟函数时的情况。 为什么这不好，已经<a href="https://stackoverflow.com/questions/962132/calling-virtual-functions-inside-constructors">讨论了很多</a> 。 现在，CLion警告此类情况： <br><br><div style="text-align:center;"><img alt="代码分析：虚拟" width="455" src="https://habrastorage.org/getpro/habr/post_images/88d/b8e/547/88db8e547c38317fb5b5d45e030c3d56.png"></div><br><br> 拼写检查器是集成开发环境的组成部分。 我们都犯了拼写错误，因此我们的同事很难阅读代码和注释。 因此，IDE突出显示此类错误是很好的。 在此版本中，我们在CMake文件和Doxygen格式文档注释中包括了拼写检查： <br><br><div style="text-align:center;"><img alt="Doxygen拼写检查" width="455" src="https://habrastorage.org/getpro/habr/post_images/e2e/215/509/e2e215509fe87277e1abd6cc92cffa0e.png"></div><br><br> 减少拼写错误-更具可读性的代码！ <br><br><h2>  C ++ 20中的概念 </h2><br> 我们的团队正在为基于Clangd的语言引擎付出很多努力。 全球C ++社区正在积极开发Clang。 在此版本中，我们共同努力-在Clang实验分支的支持下，该分支支持由Saar Raz开发的C ++ 20中的概念，并将其倒入我们的Clangd分支中。 因此，我们通过CLion中的Clang分析器的概念和基本检查突出显示了代码： <br><br><div style="text-align:center;"><img alt="概念检查" width="679" src="https://habrastorage.org/getpro/habr/post_images/be5/04e/ad4/be504ead43eaed8db9c43e5462c9755c.png"></div><br><br> 但是我们并没有就此止步。 在基于Clangd的引擎中，我们实现了一些自动完成的有用情况，检查概念的使用，为概念<em>重命名</em>重构，导航和搜索操作， <em>转到“定义</em>和<em>查找用法”</em> 。 <br><br> 自动完成受限制的模板参数： <br><br><div style="text-align:center;"><img alt="概念完成" width="544" src="https://habrastorage.org/getpro/habr/post_images/ff1/3f9/be4/ff13f9be4d4a05d9aaa1377c3352d915.png"></div><br><br> 自动<code>std::is_same&lt;Other, T&gt;</code>和<code>same_as&lt;T, U&gt;</code> ： <br><br><div style="text-align:center;"><img alt="概念完成" width="363" src="https://habrastorage.org/getpro/habr/post_images/c3c/3a3/b01/c3c3a3b01038cee37b47b53c2b06b0be.png"></div><br> 您可以在<a href="https://blog.jetbrains.com/clion/2019/11/cpp20-concepts-in-clion/">英语博客中</a>阅读有关我们在概念上的共同合作的更多信息。 还有CppCon 2019报告的录像带，其中Saar Raz在Clang展示了他的概念实现以及我们在CLion中有关概念支持的联合工作。 <br><br><h2> 代码覆盖率指标 </h2><br> 代码覆盖是CLion用户一直在等待和要求的机会。 在上一发行版中，AppCode团队朝着这个方向开始工作，在这一方面，我们为CLion中已经存在的跨平台C ++选择了它。 <br><br>  CLion代码覆盖率指标通过与llvm-cov / gcov工具集成而起作用。 在这种情况下，您可以运行单元测试和常规配置，并根据它们的执行情况，计算某些代码行的执行频率。 如果需要，几次发射的结果可以概括为一个整体。 <br><br> 您可以在特殊的Coverage窗口中直接查看结果： <br><br><div style="text-align:center;"><img alt="代码覆盖率" width="455" src="https://habrastorage.org/getpro/habr/post_images/665/224/9d5/6652249d50c33e7bfca22791b72badab.png"></div><br><br>  ...或在编辑器的左侧。 <br><br> 好，最重要的是：要使此工作正常，您需要传递特殊的编译选项： <br><br><ul><li> 对于GCC： <code>-fprofile-arcs -ftest-coverage</code>或<code>--coverage</code> 。 </li><li> 对于Clang：与GCC相同的标志，或<code>-fprofile-instr-generate -fcoverage-mapping</code> 。 差异仅在于组装覆盖率指标的方法。 </li></ul><br> 为什么CLion本身不传递这些参数？ 主要是因为我们有一条规则，不得干扰编译过程。 是的，如果不使用CMake，并不一定总是将这些参数传递到哪里。 但是现在我们正在考虑将来如何自动执行此类情况的选择（消毒剂也有类似的问题）。 <br><br> 您可以在我们的<a href="https://www.jetbrains.com/help/clion/code-coverage-clion.html">在线帮助中</a>阅读有关编译选项以及在CLion中显示指标的更多信息。 <br><br><h2> 其他改进 </h2><br> 此版本的其他重要改进包括： <br><br><ul><li> 支持WSL2子系统。  CLion中的设置与WSL第一版中的设置相同。 </li><li> 支持Microsoft提供的格式和命名规则。 此样式可与Google，LLVM，Qt，GNU，Stroustrup和其他在Settings / Preferences | 编辑器 代码样式|  C / C ++。 </li><li>  IntelliJ Rust插件更新（我们的英语博客上的<a href="https://blog.jetbrains.com/clion/2019/12/recent-updates-in-rust/">详细帖子</a>专门针对这些更改）。 </li><li>  VCS支持IntelliJ平台的更新，用户界面和其他更改。 </li></ul><br><h2> 演示版 </h2><br> 最后，关于CLion 2019.3新功能的传统视频（英语）： <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/40qdZrvE9ek" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br> 感谢您阅读到底！ 当然，您有问题，希望，错误报告和想法，我们正在评论中等待他们！ 与往常一样，我们将很乐意回答和讨论您的想法。 <br><br>  <em>您的JetBrains CLion团队</em> <em><br></em>  <em>发展动力</em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN479318/">https://habr.com/ru/post/zh-CN479318/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN479306/index.html">PHP摘要169（2019年11月26日至12月9日）</a></li>
<li><a href="../zh-CN479308/index.html">专业需求计划，Holt-Winters和XGboost</a></li>
<li><a href="../zh-CN479310/index.html">如何使1C程序员成为Java开发人员</a></li>
<li><a href="../zh-CN479312/index.html">为iOS团队创建增量服务器</a></li>
<li><a href="../zh-CN479316/index.html">Bank SOYUZ（AO）的集成总线：设计和自动测试</a></li>
<li><a href="../zh-CN479320/index.html">第28期：IT培训-领先公司的当前问题和挑战</a></li>
<li><a href="../zh-CN479322/index.html">Android，Google和免费内容许可证。 谁该怪谁该怎么办</a></li>
<li><a href="../zh-CN479324/index.html">如何设计通知系统。 带有示例的分步说明</a></li>
<li><a href="../zh-CN479326/index.html">带有Carnotzet的模块化和可重用的Docker环境</a></li>
<li><a href="../zh-CN479328/index.html">放弃中级英语学习的三个原因</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>