<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¼ğŸ¿ ğŸ¤¦ğŸ¿ ğŸ•Šï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ù…Ù† FreeRadius Ø¹Ø¨Ø± DHCP â„ï¸ ğŸ—ºï¸ ğŸ˜›</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙˆØµÙ„Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ù„ØªØ±ØªÙŠØ¨ Ø¥ØµØ¯Ø§Ø± Ø¹Ù†Ø§ÙˆÙŠÙ† IP Ù„Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†. Ø´Ø±ÙˆØ· Ø§Ù„Ù…Ù‡Ù…Ø©: 



- Ù„Ù† Ù†Ø¹Ø·ÙŠ Ø®Ø§Ø¯Ù…Ù‹Ø§ Ù…Ù†ÙØµÙ„Ø§Ù‹ Ù„Ù„ØªØ±Ø®ÙŠØµ - Ø³ØªØ¯ÙŠØ±Ù‡ Ø›) 
- ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ„Ù‚Ù‰ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙˆÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø¹...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ù…Ù† FreeRadius Ø¹Ø¨Ø± DHCP</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446586/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/xr/4d/ip/xr4dipb_zf-xknbveabx-fj5ifg.jpeg"></div><br>  ÙˆØµÙ„Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ù„ØªØ±ØªÙŠØ¨ Ø¥ØµØ¯Ø§Ø± Ø¹Ù†Ø§ÙˆÙŠÙ† IP Ù„Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†.  Ø´Ø±ÙˆØ· Ø§Ù„Ù…Ù‡Ù…Ø©: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ù„Ù† Ù†Ø¹Ø·ÙŠ Ø®Ø§Ø¯Ù…Ù‹Ø§ Ù…Ù†ÙØµÙ„Ø§Ù‹ Ù„Ù„ØªØ±Ø®ÙŠØµ - Ø³ØªØ¯ÙŠØ±Ù‡ Ø›) </li><li style=";text-align:right;direction:rtl">  ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ„Ù‚Ù‰ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙˆÙ† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø¹Ø¨Ø± DHCP </li><li style=";text-align:right;direction:rtl">  Ø§Ù„Ø´Ø¨ÙƒØ© Ù…ØªÙ†ÙˆØ¹Ø©.  Ù‡Ø°Ø§ Ù‡Ùˆ Ù…Ø¹Ø¯Ø§Øª PON ØŒ ÙˆØ§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© Ù…Ø¹ Ø§Ù„Ø®ÙŠØ§Ø± 82 Ø§Ù„Ù…ÙƒÙˆÙ†Ø© ÙˆÙ‚Ø§Ø¹Ø¯Ø© WiFi Ù…Ø¹ Ù†Ù‚Ø§Ø· </li><li style=";text-align:right;direction:rtl">  Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§ ØªÙ†Ø¯Ø±Ø¬ ØªØ­Øª Ø£ÙŠ Ù…Ù† Ø´Ø±ÙˆØ· Ø¥ØµØ¯Ø§Ø± IP ØŒ ÙÙ…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø¥ØµØ¯Ø§Ø± IP Ù…Ù† Ø´Ø¨ÙƒØ© "Ø§Ù„Ø¶ÙŠÙ" </li></ul><br>  Ù…Ù† Ø§Ù„Ø¬ÙŠØ¯: ÙŠÙˆØ¬Ø¯ Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ FreeBSD ÙŠÙ…ÙƒÙ†Ù‡ "Ø§Ù„Ø¹Ù…Ù„" ØŒ Ù„ÙƒÙ†Ù‡ "Ø¨Ø¹ÙŠØ¯" Ø›) ØŒ Ù„ÙŠØ³ "ØµØ­ÙŠØ­ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø¨ÙƒØ©." <br><a name="habracut"></a><br>  Ù‡Ù†Ø§Ùƒ Ø£ÙŠØ¶Ø§ Ø¬Ù‡Ø§Ø² Mikrotik Ø§Ù„Ø±Ø§Ø¦Ø¹.  Ù…Ø®Ø·Ø· Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø¹Ø§Ù… Ù‡Ùˆ Ø´ÙŠØ¡ Ù…Ø«Ù„ Ù‡Ø°Ø§: <br><br><img src="https://habrastorage.org/webt/xt/eo/lb/xteolbkbho0-dpea6bc7-j7koow.png"><br><br>  Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„ Ù…Ù† Ø§Ù„ØªÙÙƒÙŠØ± ØŒ ØªÙ‚Ø±Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø´ØªØ±ÙƒÙŠ FreeRadius Ù„Ø¥ØµØ¯Ø§Ø± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©.  Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù…Ø¨Ø¯Ø£ ØŒ ÙØ¥Ù† Ø§Ù„Ù…Ø®Ø·Ø· Ù‡Ùˆ Ø§Ù„Ù…Ø¹ØªØ§Ø¯: ÙÙŠ Microtick Ù†Ù‚ÙˆÙ… Ø¨ØªØ´ØºÙŠÙ„ Ø®Ø§Ø¯Ù… DHCP ØŒ ÙˆØ¹Ù„Ù‰ Ù†ÙØ³ Ø¹Ù…ÙŠÙ„ Radius.  Ù†Ø­Ù† ØªÙƒÙˆÙŠÙ† Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø®Ø§Ø¯Ù… DHCP -&gt; Radius Client -&gt; Radius server. <br><br>  ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ù‡ Ù„ÙŠØ³ Ù…Ù† Ø§Ù„ØµØ¹Ø¨.  ÙˆÙ„ÙƒÙ†!  Ø§Ù„Ø´ÙŠØ·Ø§Ù† Ù‡Ùˆ ÙÙŠ Ø§Ù„ØªÙØ§ØµÙŠÙ„.  ÙˆÙ‡ÙŠ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªÙ… Ø§Ù„ØªØµØ±ÙŠØ­ Ù„Ù€ PON OLT ÙˆÙÙ‚Ù‹Ø§ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø®Ø·Ø· ØŒ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø¥Ù„Ù‰ FreeRadius Ù…Ø¹ Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø§ÙˆÙ Ù„Ø¹Ù†ÙˆØ§Ù† MAC Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø­Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØŒ ÙˆØ³ÙŠØ· Ø¹Ø§Ù…Ù„ Agent-ID Ù…Ø³Ø§ÙˆÙ Ù„Ù€ PON Onu MAC ÙˆÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ÙØ§Ø±ØºØ©. </li><li style=";text-align:right;direction:rtl">  Ø¹Ù†Ø¯ Ø§Ù„ØªÙÙˆÙŠØ¶ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ù…ÙˆØ² Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù…Ø¹ Ø§Ù„Ø®ÙŠØ§Ø± 82 ØŒ ÙŠØ£ØªÙŠ Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ù‰ FreeRadius Ø¨Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙØ§Ø±Øº ÙŠØ³Ø§ÙˆÙŠ Ø¬Ù‡Ø§Ø² MAC Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø´ØªØ±Ùƒ ÙˆØ§Ù„Ø³Ù…Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù€ Agent-Circuit Ùˆ Agent-Remote-Id Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ ØŒ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ØŒ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ±Ø­ÙŠÙ„ MAC ÙˆØ§Ù„Ù…Ù†ÙØ° Ø§Ù„Ù…ØªØµÙ„ Ø¨Ø§Ù„Ù…Ø´ØªØ±Ùƒ. </li><li style=";text-align:right;direction:rtl">  ÙŠØªÙ… Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… Ù†Ù‚Ø§Ø· WiFI Ù…Ù† Ø®Ù„Ø§Ù„ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª PAP-CHAP </li><li style=";text-align:right;direction:rtl">  ÙŠØªÙ… Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø§Ù„Ø°ÙŠÙ† Ù„Ø¯ÙŠÙ‡Ù… Ù†Ù‚Ø§Ø· WIFI Ø¨Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø§ÙˆÙŠ Ù„Ø¹Ù†ÙˆØ§Ù† MAC Ù„Ù†Ù‚Ø·Ø© WIFI ØŒ Ø¯ÙˆÙ† ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±. </li></ul><br>  Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©: Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø®ÙŠØ§Ø± 82 Ù„ DHCP <br><br>  Ù‡Ø°Ù‡ Ù‡ÙŠ Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ DHCP ÙˆØ§Ù„ØªÙŠ ØªØ³Ù…Ø­ Ù„Ùƒ Ø¨Ù†Ù‚Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ØŒ Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ÙÙŠ Ø­Ù‚Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©-Ø§Ù„ÙˆÙƒÙŠÙ„ Ùˆ Ù…Ø¹Ø±Ù Ø§Ù„ÙˆÙƒÙŠÙ„ Ø¹Ù† Ø¨ÙØ¹Ø¯.  ÙˆØ¹Ø§Ø¯Ø© Ù…Ø§ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù„Ù†Ù‚Ù„ Ø¹Ù†ÙˆØ§Ù† MAC Ù„Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ±Ø­ÙŠÙ„ ÙˆØ§Ù„Ù…Ù†ÙØ° Ø§Ù„Ø°ÙŠ ÙŠØªØµÙ„ Ø¨Ù‡ Ø§Ù„Ù…Ø´ØªØ±Ùƒ.  ÙÙŠ Ø­Ø§Ù„Ø© Ù…Ø¹Ø¯Ø§Øª PON Ø£Ùˆ Ù…Ø­Ø·Ø§Øª WIFI Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ØŒ Ù„Ø§ ÙŠØ­Ù…Ù„ Ø­Ù‚Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©-Ø§Ù„ÙˆÙƒÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ÙÙŠØ¯Ø© (Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù†ÙØ° Ù…Ø´ØªØ±Ùƒ).  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© ØŒ ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ø¹Ø§Ù… Ù„Ù€ DHCP ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© ÙƒÙ…Ø§ ÙŠÙ„ÙŠ: <br><br><img src="https://habrastorage.org/webt/q2/5v/6b/q25v6bvigliru80rv6pu17c2ofm.png"><br><br>  Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© ØŒ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø®Ø·Ø· ÙŠØ¹Ù…Ù„ Ù…Ø«Ù„ Ù‡Ø°Ø§: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ØªÙ‚Ø¯Ù… Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ø·Ù„Ø¨ Ø¨Ø« DHCP Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© </li><li style=";text-align:right;direction:rtl">  ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø¬Ù‡Ø§Ø² (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø£Ùˆ Ù…Ø­Ø·Ø© WiFi Ø£Ùˆ PON Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©) Ø§Ù„ØªÙŠ ÙŠØªØµÙ„ Ø¨Ù‡Ø§ Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ù…Ø¨Ø§Ø´Ø±Ø© "Ø¨Ø§Ø¹ØªØ±Ø§Ø¶" Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø²Ù…Ø© ÙˆØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ ØŒ ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø®ÙŠØ§Ø±Ø§Øª Ø¹Ù†ÙˆØ§Ù† IP Ù„Ø¹Ø§Ù…Ù„ Ø§Ù„Ø®ÙŠØ§Ø± 82 Ùˆ Relay agent ØŒ ÙˆÙ†Ù‚Ù„Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ø¥Ø¶Ø§ÙÙŠ Ø¹Ø¨Ø± Ø§Ù„Ø´Ø¨ÙƒØ©. </li><li style=";text-align:right;direction:rtl">  ÙŠÙ‚Ø¨Ù„ Ø®Ø§Ø¯Ù… DHCP Ø§Ù„Ø·Ù„Ø¨ ÙˆÙŠØ´ÙƒÙ„ Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙˆÙŠØ±Ø³Ù„Ù‡ Ø¥Ù„Ù‰ Ø¬Ù‡Ø§Ø² Ø§Ù„ØªØ±Ø­ÙŠÙ„ </li><li style=";text-align:right;direction:rtl">  ÙŠÙ‚ÙˆÙ… Ø¬Ù‡Ø§Ø² Ø§Ù„ØªØ±Ø­ÙŠÙ„ Ø¨Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø­Ø²Ù…Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¥Ù„Ù‰ Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ø´ØªØ±Ùƒ </li></ol><br>  ÙƒÙ„ Ù‡Ø°Ø§ Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø¨Ø¨Ø³Ø§Ø·Ø© ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ Ø£Ù†Øª Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©. <br><br><h4 style=";text-align:right;direction:rtl">  ØªØ«Ø¨ÙŠØª FreeRadius </h4><br>  Ù…Ù† Ø®Ù„Ø§Ù„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªÙƒÙˆÙŠÙ† FreeRadius ØŒ Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù‚ÙŠÙ‚ ÙƒÙ„ Ø°Ù„Ùƒ ØŒ Ù„ÙƒÙ†Ù‡ Ø£Ù…Ø± ØµØ¹Ø¨ ÙˆØºÙŠØ± ÙˆØ§Ø¶Ø­ ... Ø®Ø§ØµØ©Ù‹ Ø¹Ù†Ø¯Ù…Ø§ ØªØªØµÙØ­ Ù‡Ù†Ø§Ùƒ Ø¨Ø¹Ø¯ N Ø§Ù„Ø´Ù‡ÙˆØ± "ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„".  Ù„Ø°Ù„Ùƒ ØŒ ØªÙ‚Ø±Ø± ÙƒØªØ§Ø¨Ø© ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ±Ø®ÙŠØµ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ù„Ù€ FreeRadius ÙÙŠ Ø¨ÙŠØ«ÙˆÙ†.  Ø³Ù†ØªØ®Ø° Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø°Ù† Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª MySQL.  Ù„Ø§ Ù…Ø¹Ù†Ù‰ Ù„ÙˆØµÙ Ù‡ÙŠÙƒÙ„Ù‡Ø§ ØŒ Ø¹Ù„Ù‰ Ø£ÙŠ Ø­Ø§Ù„ ØŒ ÙØ¥Ù† Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø³ÙˆÙ ÙŠÙØ¹Ù„ÙˆÙ† Ø°Ù„Ùƒ "Ù„Ø£Ù†ÙØ³Ù‡Ù…".  Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„Ø®ØµÙˆØµ ØŒ Ø£Ø®Ø°Øª Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù…Ø¹ ÙˆØ­Ø¯Ø© sql Ù„Ù€ FreeRadius ØŒ ÙˆÙ‚Ù…Øª Ø¨ØªØºÙŠÙŠØ±Ù‡ Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¥Ø¶Ø§ÙØ© Ø­Ù‚ÙˆÙ„ MAC ÙˆØ§Ù„Ù…Ù†ÙØ° Ù„ÙƒÙ„ Ù…Ø´ØªØ±Ùƒ ØŒ Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„. <br><br>  Ù„Ø°Ù„Ùƒ ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† ØŒ ØªØ«Ø¨ÙŠØª FreeRadius: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/ports/net/freeradius3 make config make install clean</code> </pre> <br>  ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØŒ Ù†Ø­ØªÙÙ„ Ø¨Ø§Ù„ØªØ«Ø¨ÙŠØª: <br><br><img src="https://habrastorage.org/webt/ny/ct/2j/nyct2jjsqsvzlc2cpjlqkex8z5a.png"><br><br>  Ù†Ù‚ÙˆÙ… Ø¨Ø¹Ù…Ù„ Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ ÙˆØ­Ø¯Ø© Ø¨ÙŠØ«ÙˆÙ† (Ø£ÙŠ ØŒ Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„Ù‡): <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">ln -s /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/raddb/mods-available/python /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/raddb/mods-enabled</code> </pre> <br>  ØªØ«Ø¨ÙŠØª ÙˆØ­Ø¯Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ø¨ÙŠØ«ÙˆÙ†: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">pip install mysql-connector</code> </pre> <br>  ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ­Ø¯Ø© python Ù„Ù€ FreeRadius ØŒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ­Ø¯ÙŠØ¯ Ù…Ø³Ø§Ø±Ø§Øª Ø¨Ø­Ø« Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ù†Ù…Ø·ÙŠØ© ÙÙŠ Ù…ØªØºÙŠØ± python_path.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ù„Ø¯ÙŠ Ù‡Ø°Ø§: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">python_path=<span class="hljs-string"><span class="hljs-string">"/usr/local/etc/raddb/mods-config/python:/usr/local/lib/python2.7:/usr/local/lib/python27.zip:/usr/local/lib/python2.7:/usr/local/lib/python2.7/plat-freebsd12:/usr/local/lib/python2.7/lib-tk:/usr/local/lib/python2.7/lib-old:/usr/local/lib/python2.7/lib-dynload:/usr/local/lib/python2.7/site-packages"</span></span></code> </pre><br>  ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ´ØºÙŠÙ„ Ù…ØªØ±Ø¬Ù… Ø¨Ø§ÙŠØ«ÙˆÙ† ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø£ÙˆØ§Ù…Ø±: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">root@phaeton:/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/raddb/mods-enabled<span class="hljs-comment"><span class="hljs-comment"># python Python 2.7.15 (default, Dec 8 2018, 01:22:25) [GCC 4.2.1 Compatible FreeBSD Clang 6.0.1 (tags/RELEASE_601/final 335540)] on freebsd12 Type "help", "copyright", "credits" or "license" for more information. &gt;&gt;&gt; import sys &gt;&gt;&gt; sys.path ['', '/usr/local/lib/python27.zip', '/usr/local/lib/python2.7', '/usr/local/lib/python2.7/plat-freebsd12', '/usr/local/lib/python2.7/lib-tk', '/usr/local/lib/python2.7/lib-old', '/usr/local/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/site-packages'] &gt;</span></span></code> </pre> <br>  Ø¥Ø°Ø§ Ù„Ù… ØªÙ‚Ù… Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ© ØŒ ÙÙ„Ù† ØªØ¬Ø¯ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠØ© Ø§Ù„Ù…ÙƒØªÙˆØ¨Ø© Ø¨ÙŠØ«ÙˆÙ† ÙˆÙŠØ¯ÙŠØ±Ù‡Ø§ FreeRadius ØªÙ„Ùƒ Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø¬Ø© ÙÙŠ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯.  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ Ù…Ù† Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ Ø¥Ù„ØºØ§Ø¡ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙÙˆÙŠØ¶ ÙˆØ§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ù†Ù…Ø·ÙŠØ©.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ ØªØ¨Ø¯Ùˆ Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ­Ø¯Ø© ÙƒÙ…Ø§ ÙŠÙ„ÙŠ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">python { python_path=<span class="hljs-string"><span class="hljs-string">"/usr/local/etc/raddb/mods-config/python:/usr/local/lib/python2.7:/usr/local/lib/python2.7/site-packages:/usr/local/lib/python27.zip:/usr/local/lib/python2.7:/usr/local/lib/python2.7/plat-freebsd12:/usr/local/lib/python2.7/lib-tk:/usr/local/lib/python2.7/lib-old:/usr/local/lib/python2.7/lib-dynload:/usr/local/lib/python2.7/site-packages"</span></span> module = work mod_instantiate = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> mod_detach = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> mod_authorize = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> func_authorize = authorize mod_authenticate = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> func_authenticate = authenticate mod_preacct = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> func_preacct = preacct mod_accounting = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> func_accounting = accounting mod_checksimul = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> mod_pre_proxy = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> mod_post_proxy = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> mod_post_auth = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> mod_recv_coa = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> mod_send_coa = <span class="hljs-variable"><span class="hljs-variable">${.module}</span></span> }</code> </pre> <br>  ÙŠØ¬Ø¨ ÙˆØ¶Ø¹ Ù†Øµ work.py (ÙˆÙƒÙ„ Ø§Ù„Ø¨Ø§Ù‚ÙŠ) ÙÙŠ / usr / local / etc / raddb / mods-config / python Ù‡Ù†Ø§Ùƒ Ø«Ù„Ø§Ø«Ø© Ù†ØµÙˆØµ Ø¨Ø±Ù…Ø¬ÙŠØ©. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">work.py:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/local/bin/python # coding=utf-8 import radiusd import func import sys from pprint import pprint mysql_host="localhost" mysql_username="" mysql_password="" mysql_base="" def instantiate(p): print ("*** instantiate ***") print (p) # return 0 for success or -1 for failure def authenticate(p): print ("*** !!***") print (p) def authorize(p): radiusd.radlog(radiusd.L_INFO, '*** radlog call in authorize ***') conn=func.GetConnectionMysql(mysql_host, mysql_username, mysql_password, mysql_base); param=func.ConvertArrayToNames(p); pprint(param) print ("***  ***") reply = () conf = () cnt=0 username="";mac=""; #   " ",   / if ("User-Name" in param) and ("User-Password" in param) : print ("  (1):  -") pprint(param["User-Name"]) pprint(param["User-Password"]) pprint(conn) print(sys.version_info) print (radiusd.config) sql="select radreply.attribute,radreply.value from radcheck inner join radreply on radreply.username=radcheck.username where radcheck.username=%s and radcheck.value=%s" print(sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql,[param["User-Name"], param["User-Password"]]); row = cursor.fetchone() while row is not None: cnt=cnt+1 username=row["username"] reply = reply+((str(row["attribute"]),str(row["value"])), ) row = cursor.fetchone() # ,  User-Name -    ,    if ("User-Name" in param) and ("User-Password" in param) and (cnt==0): if param["User-Password"] =='': if ":" in param["User-Name"]: pprint(param["User-Name"]) print ("  (2): User-Name -  MAC   ,    ") sql="select radreply.username,radreply.attribute,radreply.value from radcheck inner join radreply on radreply.username=radcheck.username where REPLACE(radcheck.mac,':','') = REPLACE(REPLACE('"+str(param["User-Name"])+"','0x',''),':','') and radcheck.sw_port=''" print (sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); row = cursor.fetchone() while row is not None: cnt=cnt+1 username=row["username"] mac=param["User-Name"] reply = reply+((str(row["attribute"]),str(row["value"])), ) row = cursor.fetchone() if ("Agent-Remote-Id" in param) and ("User-Password" in param) and (cnt==0): if param["User-Password"] =='': pprint(param["Agent-Remote-Id"]) print ("  (2.5): Agent-Remote-Id -  MAC  PON ") sql="select radreply.username,radreply.attribute,radreply.value from radcheck inner join radreply on radreply.username=radcheck.username where REPLACE(radcheck.mac,':','') = REPLACE(REPLACE('"+str(param["Agent-Remote-Id"])+"','0x',''),':','') and radcheck.sw_port=''" print (sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); row = cursor.fetchone() while row is not None: cnt=cnt+1 username=row["username"] mac=param["User-Name"] reply = reply+((str(row["attribute"]),str(row["value"])), ) row = cursor.fetchone() #,  Agent-Remote-Id -    ,        IP    if ("Agent-Remote-Id" in param) and ("User-Password" not in param) and (cnt==0): pprint(param["Agent-Remote-Id"]) print ("  (3): Agent-Remote-Id -   /.    ") sql="select radreply.username,radreply.attribute,radreply.value from radcheck inner join radreply on radreply.username=radcheck.username where REPLACE(radcheck.mac,':','') = REPLACE(REPLACE('"+str(param["Agent-Remote-Id"])+"','0x',''),':','') and radcheck.sw_port=''" print(sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); row = cursor.fetchone() while row is not None: cnt=cnt+1 mac=param["Agent-Remote-Id"] username=row["username"] reply = reply+((str(row["attribute"]),str(row["value"])), ) row = cursor.fetchone() #,      ,   Agent-Remote-Id  Agent-Circuit-Id if ("Agent-Remote-Id" in param) and ("Agent-Circuit-Id" in param) and (cnt==0): pprint(param["Agent-Remote-Id"]) pprint(param["Agent-Circuit-Id"]) print ("  (4):   Agent-Remote-Id  Agent-Circuit-Id,    /") sql="select radreply.username,radreply.attribute,radreply.value from radcheck inner join radreply on radreply.username=radcheck.username where upper(radcheck.sw_mac)=upper(REPLACE('"+str(param["Agent-Remote-Id"])+"','0x','')) and upper(radcheck.sw_port)=upper(RIGHT('"+str(param["Agent-Circuit-Id"])+"',2)) and radcheck.sw_port&lt;&gt;''" print(sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); row = cursor.fetchone() while row is not None: cnt=cnt+1 mac=param["Agent-Remote-Id"] username=row["username"] reply = reply+((str(row["attribute"]),str(row["value"])), ) row = cursor.fetchone() #      IP  ,      .. if cnt==0: print ("      ,  IP   ..") ip=func.GetGuestNet(conn) if ip!="": cnt=cnt+1; reply = reply+(("Framed-IP-Address",str(ip)), ) #    ,  Reject if cnt==0: conf = ( ("Auth-Type", "Reject"), ) else: #   (  ),     if username!="": func.InsertToHistory(conn,username,mac, reply); conf = ( ("Auth-Type", "Accept"), ) pprint (reply) conn=None; return radiusd.RLM_MODULE_OK, reply, conf def preacct(p): print ("*** preacct ***") print (p) return radiusd.RLM_MODULE_OK def accounting(p): print ("***  ***") radiusd.radlog(radiusd.L_INFO, '*** radlog call in accounting (0) ***') print (p) conn=func.GetConnectionMysql(mysql_host, mysql_username, mysql_password, mysql_base); param=func.ConvertArrayToNames(p); pprint(param) print("   ( 20   )"); sql="delete from radacct where TIMESTAMPDIFF(minute,acctupdatetime,now())&gt;20" cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); conn.commit() print("/   ") if (("Acct-Unique-Session-Id" in param) and ("User-Name" in param) and ("Framed-IP-Address" in param)): sql='insert into radacct (radacctid,acctuniqueid,username,framedipaddress,acctstarttime) values (null,"'+str(param['Acct-Unique-Session-Id'])+'","'+str(param['User-Name'])+'","'+str(param['Framed-IP-Address'])+'",now()) ON DUPLICATE KEY update acctupdatetime=now()' print(sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql) conn.commit() conn=None; return radiusd.RLM_MODULE_OK def pre_proxy(p): print ("*** pre_proxy ***") print (p) return radiusd.RLM_MODULE_OK def post_proxy(p): print ("*** post_proxy ***") print (p) return radiusd.RLM_MODULE_OK def post_auth(p): print ("*** post_auth ***") print (p) return radiusd.RLM_MODULE_OK def recv_coa(p): print ("*** recv_coa ***") print (p) return radiusd.RLM_MODULE_OK def send_coa(p): print ("*** send_coa ***") print (p) return radiusd.RLM_MODULE_OK def detach(): print ("***     ***") return radiusd.RLM_MODULE_OK</span></span></code> </pre><br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">func.py:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python2.7 # coding=utf-8 import mysql.connector from mysql.connector import Error #     MySQL def GetConnectionMysql(mysql_host, mysql_username, mysql_password, mysql_base): try: conn = mysql.connector.connect(host=mysql_host,database=mysql_base,user=mysql_username,password=mysql_password) if conn.is_connected(): print('---c   '+mysql_base+' ') except Error as e: print(": ",e); exit(1); return conn def ConvertArrayToNames(p): mass={}; for z in p: mass[z[0]]=z[1] return mass #        def InsertToHistory(conn,username,mac, reply): print("--  ") repl=ConvertArrayToNames(reply) if "Framed-IP-Address" in repl: sql='insert into radpostauth (username,reply,authdate,ip,mac,session_id,comment) values ("'+username+'","Access-Accept",now(),"'+str(repl["Framed-IP-Address"])+'","'+str(mac)+'","","")' print(sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); conn.commit() #       IP     def GetGuestNet(conn): ip="";id=0 sql="select * from guestnet order by dt limit 1" print (sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); row = cursor.fetchone() while row is not None: ip=row["ip"] id=row["id"] row = cursor.fetchone() if id&gt;0: sql="update guestnet set dt=now() where id="+str(id) print (sql) cursor = conn.cursor(dictionary=True,buffered=True) cursor.execute(sql); conn.commit() return ip</span></span></code> </pre> <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">radiusd.py:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python2.7 # coding=utf-8 # from modules.h RLM_MODULE_REJECT = 0 RLM_MODULE_FAIL = 1 RLM_MODULE_OK = 2 RLM_MODULE_HANDLED = 3 RLM_MODULE_INVALID = 4 RLM_MODULE_USERLOCK = 5 RLM_MODULE_NOTFOUND = 6 RLM_MODULE_NOOP = 7 RLM_MODULE_UPDATED = 8 RLM_MODULE_NUMCODES = 9 # from log.h L_AUTH = 2 L_INFO = 3 L_ERR = 4 L_WARN = 5 L_PROXY = 6 L_ACCT = 7 L_DBG = 16 L_DBG_WARN = 17 L_DBG_ERR = 18 L_DBG_WARN_REQ = 19 L_DBG_ERR_REQ = 20 # log function def radlog(level, msg): import sys sys.stdout.write(msg + '\n') level = level</span></span></code> </pre><br></div></div><br>  ÙƒÙ…Ø§ ØªØ±ÙˆÙ† Ù…Ù† Ø§Ù„Ø´ÙØ±Ø© ØŒ Ù†Ø­Ø§ÙˆÙ„ Ø¨ÙƒÙ„ Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù…ØªØ§Ø­Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø¹Ù†Ø§ÙˆÙŠÙ† MAC Ù„Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø§Ù„Ù…Ø¹Ø±ÙˆÙÙŠÙ† Ø¹Ù†Ù‡ Ø£Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ø± 82 ØŒ ÙˆØ¥Ø°Ø§ Ù„Ù… ÙŠÙ†Ø¬Ø­ Ø°Ù„Ùƒ ØŒ ÙØ³ÙˆÙ Ù†ØµØ¯Ø± Ø£Ù‚Ø¯Ù… Ø¹Ù†ÙˆØ§Ù† IP Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø´Ø¨ÙƒØ© "Ø§Ù„Ø¶ÙŠÙ".  ÙŠØ¨Ù‚Ù‰ Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø¨Ø­ÙŠØ« Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù…Ù† Ù†Ø´Ù„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ø¨ÙŠØ«ÙˆÙ† ÙÙŠ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø± Ø¥Ù„ÙŠÙ‡Ø§.  ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØŒ ÙŠÙƒÙÙŠ Ø¥Ø­Ø¶Ø§Ø± Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">server default { listen { <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> = auth ipaddr = * port = 0 <span class="hljs-built_in"><span class="hljs-built_in">limit</span></span> { max_connections = 16 lifetime = 0 idle_timeout = 30 } } listen { ipaddr = * port = 0 <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> = acct <span class="hljs-built_in"><span class="hljs-built_in">limit</span></span> { } } listen { <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> = auth port = 0 <span class="hljs-built_in"><span class="hljs-built_in">limit</span></span> { max_connections = 1600 lifetime = 0 idle_timeout = 30 } } listen { ipv6addr = :: port = 0 <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> = acct <span class="hljs-built_in"><span class="hljs-built_in">limit</span></span> { } } authorize { python filter_username preprocess expiration logintime } authenticate { Auth-Type PAP { pap python } Auth-Type CHAP { chap python } Auth-Type MS-CHAP { mschap python } eap } preacct { preprocess acct_unique suffix files } accounting { python <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> attr_filter.accounting_response } session { } post-auth { update { &amp;reply: += &amp;session-state: } <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> remove_reply_message_if_eap Post-Auth-Type REJECT { attr_filter.access_reject eap remove_reply_message_if_eap } Post-Auth-Type Challenge { } } pre-proxy { } post-proxy { eap } }</code> </pre><br></div></div><br>  Ù†Ø­Ù† Ù†Ø­Ø§ÙˆÙ„ ØªØ´ØºÙŠÙ„ ÙˆÙ†Ø±Ù‰ Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ·ÙŠØ± Ø¥Ù„Ù‰ Ø³Ø¬Ù„ Ø§Ù„ØªØµØ­ÙŠØ­: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/rc.d/radiusd debug</code> </pre> <br>  Ù…Ø§Ø°Ø§ Ø¨Ø¹Ø¯.  Ø¹Ù†Ø¯ Ø¥Ø¹Ø¯Ø§Ø¯ FreeRadius ØŒ Ù…Ù† Ø§Ù„Ù…Ø±ÙŠØ­ Ø§Ø®ØªØ¨Ø§Ø± ØªØ´ØºÙŠÙ„Ù‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© radclient.  Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ Ø¥Ø°Ù†: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"User-Name=4C:5E:0C:2E:7F:15,Agent-Remote-Id=0x9845623a8c98,Agent-Circuit-Id=0x00010006"</span></span> | radclient -x 127.0.0.1:1812 auth testing123</code> </pre> <br>  Ø£Ùˆ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"User-Name=4C:5E:0C:2E:7F:15,Agent-Remote-Id=0x00030f26054a,Agent-Circuit-Id=0x00010002"</span></span> | radclient -x 127.0.0.1:1813 acct testing123</code> </pre> <br>  Ø£Ø±ÙŠØ¯ Ø£Ù† Ø£Ø­Ø°Ø± Ù…Ù† Ø£Ù†Ù‡ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ­ÙŠÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø®Ø·Ø· ÙˆÙ†ØµÙˆØµ Ù…Ù…Ø§Ø«Ù„Ø© "Ø¨Ø¯ÙˆÙ† ØªØºÙŠÙŠØ±Ø§Øª" Ø¹Ù„Ù‰ Ù†Ø·Ø§Ù‚ "ØµÙ†Ø§Ø¹ÙŠ".  Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù…Ù„ÙØªØ© Ù„Ù„Ù†Ø¸Ø±: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Ù…Ù…ÙƒÙ† Ø¹Ù†ÙˆØ§Ù† "ÙˆÙ‡Ù…ÙŠØ©" Ù„Ø¬Ù†Ø© Ø§Ù„Ù‡Ø¯Ù†Ø© Ø§Ù„Ø¹Ø³ÙƒØ±ÙŠØ©.  ÙŠÙƒÙÙŠ Ø£Ù† ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ø¨ØªØ³Ø¬ÙŠÙ„ MAC Ø£Ø¬Ù†Ø¨ÙŠ Ù„Ù†ÙØ³Ù‡ ÙˆØ³ØªÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ </li><li style=";text-align:right;direction:rtl">  Ù…Ù†Ø·Ù‚ Ø¥ØµØ¯Ø§Ø± Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø¶ÙŠÙ Ù‡Ùˆ Ø£Ø¯Ù†Ù‰ Ù…Ù† Ø§Ù„Ù†Ù‚Ø¯.  Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­ØªÙ‰ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø¨Ø§Ù„ÙØ¹Ù„ Ø¹Ù…Ù„Ø§Ø¡ Ù…Ø¹ Ø¹Ù†ÙˆØ§Ù† IP Ù‡Ø°Ø§ØŸ" </li></ul><br>  Ø¥Ù†Ù‡ Ù…Ø¬Ø±Ø¯ "Ø­Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙƒØ¨Ø©" Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø®Ø§Øµ ÙÙŠ Ø¸Ø±ÙˆÙÙŠ ØŒ Ù„Ø§ Ø´ÙŠØ¡ Ø£ÙƒØ«Ø± Ù…Ù† Ø°Ù„Ùƒ.  Ù„Ø§ ØªØ­ÙƒÙ… Ø¨Ø¯Ù‚Ø© Ø›) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar446586/">https://habr.com/ru/post/ar446586/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar446570/index.html">Ù‚ØµØ© Ø£ÙˆÙ„ GPU: Rendition VÃ©ritÃ© 1000</a></li>
<li><a href="../ar446572/index.html">Editor.js Ù‡Ùˆ Ù…Ø­Ø±Ø± Ù…Ù…ØªØ§Ø² ÙŠØ­ÙØ¸ Ø´ÙØ±Ø© Ø§Ù„Ù…ØµØ¯Ø± Ø¨ØªÙ†Ø³ÙŠÙ‚ JSON</a></li>
<li><a href="../ar446576/index.html">Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ÙˆØ§Ø±Ø¯Ø§Øª ØŒ Ø£Ùˆ ÙƒÙŠÙ ÙØ¹Ù„Øª Ø§Ù„Ù…Ø±ÙˆØ­ÙŠØ§Øª Ø§Ù„Ø±ÙˆØ³ÙŠØ© Ø´ÙŠØ¡ Ø®Ø§Ø·Ø¦</a></li>
<li><a href="../ar446578/index.html">Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø© Ø¨Ø±ÙŠØ¯ÙŠØ©</a></li>
<li><a href="../ar446582/index.html">ØªØ£Ù…Ù„Ø§Øª Ø­ÙˆÙ„ Ø§Ù„Ø§Ø³ØªØ¶Ø§ÙØ© Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ù„Ù„Ù†Ø­Ù„</a></li>
<li><a href="../ar446588/index.html">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ¯Ø± Roslyn</a></li>
<li><a href="../ar446590/index.html">39 Ù…ÙŠØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© ÙÙŠ Ø¬Ø§ÙØ§ 12</a></li>
<li><a href="../ar446592/index.html">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙØ±Ø© Ø§Ù„Ù…ØµØ¯Ø± Ù„Ø±ÙˆØ²Ù„ÙŠÙ†</a></li>
<li><a href="../ar446598/index.html">Ø¥Ø¹Ø§Ø¯Ø© Ø®Ø·ÙˆØ· CRT</a></li>
<li><a href="../ar446602/index.html">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„Ø¹Ø§ØµÙ…Ø© Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø¬Ø§Ù„ ØªØ£Ø«ÙŠØ± Ø§Ù„ØªØ±Ø§Ù†Ø²Ø³ØªÙˆØ±</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>