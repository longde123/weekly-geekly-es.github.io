<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕔 🤜🏻 🌙 Alternative: «Comment apprendre à Zabbix à envoyer des notifications de problèmes directement sur le bureau» 🤞🏼 🧝🏽 💅🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans le sillage de l'article d'Ilya ( ableev ), je veux parler d'une approche différente pour les notifications du système de surveillance Zabbix sur ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Alternative: «Comment apprendre à Zabbix à envoyer des notifications de problèmes directement sur le bureau»</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418957/"><p><img src="https://habrastorage.org/getpro/habr/post_images/6b4/2b2/f6a/6b42b2f6a0a112ef613c50f55e0757b9.jpg" alt="Exemple de notification"></p><br><p> Dans le sillage de l'article d'Ilya ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">ableev</a> ), je veux parler d'une approche différente pour les notifications du système de surveillance Zabbix sur le bureau.  Depuis 3 mois, j'utilise l'extension pour le navigateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">zabbix vue</a> .  De ma part, seule une traduction en russe est entrée dans ce projet, donc ce n'est pas de la publicité, l'extension est gratuite, pas de marque-pages ou autre (à la fin de l'article, il y aura un lien vers le github de cette extension).  L'extension est destinée aux navigateurs de type chrome et à Firefox.  Contrairement aux solutions présentées dans l'article Badoo, les extensions de navigateur fonctionnent sur tous les Linux, Mac, Windows et même les chromos exotiques.  Une petite comparaison sous la coupe. </p><a name="habracut"></a><br><h3 id="mehanika-raboty">  Mécanique du travail </h3><br><h4 id="nastroyki">  Paramètres </h4><br><p><img src="https://habrastorage.org/webt/st/5i/ao/st5iaoip_akbeev_vjtzcdvknzq.png" alt="Paramètres d'extension"></p><br><p>  Voici à quoi ressemblent tous les paramètres d'extension.  Vous n'avez pas besoin de faire d'actions du côté serveur, de spécifier l'adresse du serveur, le login, le mot de passe et tout, les notifications commencent à couler.  Contrairement aux solutions présentées dans un autre article, la configuration est simplifiée au maximum.  Le bouton pour vérifier l'exactitude des données spécifiées sous la forme du symbole "mise à jour".  Il existe également des filtres supplémentaires (par exemple, par niveau d'importance) pour définir les déclencheurs à afficher afin de ne pas encombrer toutes les notifications.  Parmi les inconvénients, je peux immédiatement remarquer que Chrome ne synchronise pas les paramètres d'extension, donc à chaque fois que vous devez le configurer manuellement sur plusieurs ordinateurs ou lors de la réinstallation du système d'exploitation.  Eh bien, l'interface de l'extension et ses paramètres ne me plaisent pas esthétiquement. </p><br><p>  Je ne peux que remarquer une nuance importante.  Vous pouvez ajouter plusieurs serveurs zabbix à l'extension pour recevoir des notifications et afficher les problèmes.  Salut mauvais, et à des organisations d'externalisation, et à tous ceux qui ont plus d'un serveur. </p><br><p>  Pour Chrome, il y a un paramètre dans les drapeaux du type de notifications à utiliser - intégré à Chrome ou au système pour votre système d'exploitation.  Eh bien, dans Chrome, il existe également un paramètre pour les processus d'arrière-plan, qui permet aux extensions de fonctionner même lorsque la fenêtre du navigateur est fermée. </p><br><h4 id="poluchenie-uvedomleniy">  Recevoir des notifications </h4><br><p>  L'essence de l'extension est simple, elle fait tomber l'api dans les zabbiks et prend les données, elle ignore toutes les notifications affichées et en affiche de nouvelles.  Permettez-moi de vous rappeler que pour les utilisateurs, vous pouvez limiter les hôtes et les groupes d'hôtes qu'ils peuvent voir dans le Zabbix.  Ainsi, la séparation des droits est réalisée.  Dans les options alternatives, vous devez créer une action qui tirera une sorte de script sur le serveur zabbix afin qu'il envoie en quelque sorte une notification à l'application que vous avez.  La séparation des droits est, bien sûr, une occupation douteuse, je soutiens Ilya en cela, mais je ne refuserais pas une telle fonctionnalité sans un avantage significatif.  Eh bien, avec une utilisation abondante de l'API, il charge sérieusement la base de données.  Dans le contexte de lourdes charges d'api pas très haut débit, l'utilisation d'extensions de navigateur pose également la question de l'opportunité, au lieu des bonnes solutions, mais plus complexes, qu'Ilya a présentées. </p><br><h4 id="ps">  PS </h4><br><p>  En discutant de cette extension dans le canal télégramme russe par zabbix, quelqu'un a remarqué que des messages constants sur la connexion sont générés lors de l'audit, ce qui est vraiment terrible.  Après une courte enquête, le coupable a été trouvé, il s'agit de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">zabbix-notifier</a> de gigacom.  Aussi des extensions de navigateur, mais uniquement pour Chrome.  L'essence du problème est la suivante: lors de l'autorisation de l'API, votre action est enregistrée dans le journal d'audit dans zabbix, et l'extension de gigacom n'a pas utilisé le jeton reçu lors de la première autorisation, mais s'est simplement connectée en permanence, ce qui, en fait, a bloqué le journal d'audit.  Zabbix vue, dans les appels répétés, utilise constamment le jeton jusqu'à ce qu'il se détériore (il est déterminé par la réponse de l'api).  Si le jeton est pourri, il fait se reconnecter et ainsi de suite dans un cercle. </p><br><h3 id="ssylki">  Les références </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Extension Firefox</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Extension Chrome</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Page de partage Zabbix</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Référentiel d'extension Github.</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr418957/">https://habr.com/ru/post/fr418957/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr418943/index.html">Ordinateur chantant, cyborgs et musique de vague - discutez des sons inhabituels et des gadgets audio</a></li>
<li><a href="../fr418945/index.html">Meilleurs ICO août 2018 (vote)</a></li>
<li><a href="../fr418951/index.html">UE4 | Inventaire pour multijoueur # 2 | Connectez Blueprint à C ++</a></li>
<li><a href="../fr418953/index.html">Antiquités: antivirus vintage et archéologie numérique appliquée</a></li>
<li><a href="../fr418955/index.html">Dodo: une entreprise informatique qui fabrique des pizzas. Programmation et processus informatiques / AichiHype</a></li>
<li><a href="../fr418959/index.html">Gadget audio à usage spécial: une «chose» précieuse pour l'ambassade des États-Unis</a></li>
<li><a href="../fr418961/index.html">Commandez un moniteur au lieu d'une imprimante thermique de cuisine</a></li>
<li><a href="../fr418963/index.html">Test du robot de bureau DoBot Magician</a></li>
<li><a href="../fr418969/index.html">Comment sont les derniers jours de la course à 1 billion de dollars? (UPD.: Apple a gagné)</a></li>
<li><a href="../fr418971/index.html">Les cartes de rayonnement de Jupiter sont la clé d'une nouvelle exploration en Europe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>