<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😤 🔼 🍯 Julia. Par où commencer le projet? ... 🧖🏾 ♥️ 👿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Très souvent, lors de la résolution de problèmes d'analyse et de préparation de données, des scripts uniques sont écrits, dont le support et le dévelo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Julia. Par où commencer le projet? ...</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473290/"><p><img src="https://habrastorage.org/webt/uw/im/j-/uwimj-szeadoje1blyonhxftmsw.png"></p><br><p>  Très souvent, lors de la résolution de problèmes d'analyse et de préparation de données, des scripts uniques sont écrits, dont le support et le développement ne sont pas fournis du tout.  Cette approche a le droit d'exister, notamment dans la communauté étudiante.  Cependant, lorsque plusieurs personnes travaillent avec le code ou si le code doit être conservé pendant plus d'une journée de travail, l'option d'organiser le travail sous la forme d'un tas de fichiers n'est pas acceptable. <br>  Par conséquent, aujourd'hui, nous allons parler d'un sujet aussi important que la création d'un projet à partir de zéro dans la langue Julia, comment le remplir et quels outils technologiques existent pour soutenir le développement. </p><a name="habracut"></a><br><h2 id="proekt">  Projet </h2><br><p>  Comme déjà mentionné, les scripts à usage unique ou les ordinateurs portables Jupyter ont le droit d'exister sur le bureau d'une seule personne, en particulier lorsque le langage de programmation est utilisé comme une calculatrice avancée.  Mais cette approche est totalement inadaptée au développement de projets qui devraient être développés et exploités pendant des années.  Et, bien sûr, Julia, en tant que plate-forme technologique, dispose d'outils qui offrent aux développeurs cette opportunité. </p><br><p> Pour commencer, quelques points généraux.  Julia dispose d'un module Pkg pour la gestion des packages.  Toute bibliothèque Julia est un module.  Si le module n'est pas inclus dans le kit de base Julia, il est émis dans un package séparé.  Pour chaque package, il existe un fichier projet <code>Project.toml</code> , qui contient une description du projet et sa dépendance vis-à-vis des autres packages.  Il existe un deuxième fichier - <code>Manifest.toml</code> , qui, contrairement à <code>Project.toml</code> , est généré automatiquement et contient une liste de toutes les dépendances nécessaires avec les numéros de version des packages.  Le format de fichier Toml est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tom's Obvious, Minimal Language</a> . </p><br><h3 id="pravila-imenovaniya-paketa">  Règles de dénomination des packages </h3><br><p>  Selon la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> , le nom du package peut être composé de lettres et de chiffres latins.  Et ce nom doit être choisi de telle manière qu'il soit clair pour la plupart des utilisateurs de Julia, et pas seulement pour les experts dans un domaine restreint. </p><br><ul><li>  Le jargon et les contractions controversées utilisés différemment dans différents domaines doivent être évités. </li><li>  N'utilisez pas le mot Julia dans le nom du package. </li><li>  Les packages qui fournissent certaines fonctions ainsi que les nouveaux types qui y sont déclarés doivent être nommés au pluriel. <br>  ◦ DataFrames fournit un type DataFrame. <br>  ◦ BloomFilters fournit le type BloomFilter. <br>  ◦ Dans le même temps, JuliaParser ne fournit pas de nouveau type et la nouvelle fonctionnalité est la fonction JuliaParser.parse (). </li><li>  La transparence et l'intelligibilité en utilisant le nom complet doivent être préférées à l'abréviation.  <code>RandomMatrices</code> moins ambigu que <code>RndMat</code> ou <code>RMT</code> . </li><li>  Le nom peut correspondre aux spécificités du domaine.  Exemples: <br>  ◦ Julia n'a pas ses propres packages de dessin graphique.  Au lieu de cela, il existe des packages <code>Gadfly</code> , <code>PyPlot</code> , <code>Winston</code> , etc., chacun implémentant sa propre approche et méthodologie d'utilisation. <br>  ◦ En même temps, <code>SortingAlgorithms</code> fournit une interface complète pour l'utilisation d'algorithmes de tri. </li><li>  Dans les cas où les packages sont un wrapper sur certaines bibliothèques tierces, ils conservent le nom de cette bibliothèque.  Exemples: <br>  ◦ <code>CPLEX.jl</code> est un wrapper sur la bibliothèque <code>CPLEX</code> . <br>  ◦ <code>MATLAB.jl</code> fournit une interface pour activer <code>MATLAB</code> partir de Julia. </li></ul><br><p>  Dans le même temps, le nom du dépôt git a généralement le suffixe «.jl». </p><br><h3 id="generaciya-paketa">  Génération de packages </h3><br><p>  La façon la plus simple de créer un package est de le générer avec un générateur intégré à Julia.  Pour ce faire, dans la console, vous devez aller dans le répertoire dans lequel le package doit être créé, puis exécuter julia et le mettre en mode de gestion de package: </p><br><pre> <code class="julia hljs">julia&gt; ]</code> </pre> <br><p>  La dernière étape consiste à démarrer le générateur de package en spécifiant le nom que nous voulons donner au package. </p><br><pre> <code class="julia hljs">(v1<span class="hljs-number"><span class="hljs-number">.2</span></span>) pkg&gt; generate HelloWorld</code> </pre> <br><p>  En conséquence, un nouveau répertoire apparaît dans le répertoire courant correspondant au nom du package, dont la composition peut être vue à l'aide de la commande <code>tree</code> (si elle est installée): </p><br><pre> <code class="julia hljs">shell&gt; cd HelloWorld shell&gt; tree . . ├── Project.toml └── src └── HelloWorld.jl <span class="hljs-number"><span class="hljs-number">1</span></span> directory, <span class="hljs-number"><span class="hljs-number">2</span></span> files</code> </pre> <br><p>  Dans ce cas, nous voyons un ensemble de fichiers minimal mais insuffisant pour un projet bien conçu. Pour plus de détails, voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://julialang.github.io/Pkg.jl/v1/creating-packages/</a> . </p><br><p>  Une autre façon de créer des packages est d' <a href="">utiliser le</a> générateur <a href="">PkgTemplates.jl</a> .  Contrairement au générateur intégré, il vous permet de générer immédiatement un ensemble complet de fichiers de service pour l'entretien du package.  Le seul inconvénient est qu'il doit être installé en tant que package. </p><br><p>  La procédure de création d'un package avec son aide est la suivante.  Nous connectons un package: </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> PkgTemplates</code> </pre> <br><p>  Nous créons un modèle qui comprend une liste d'auteurs, une licence, les exigences pour Julia, une liste de plugins pour les systèmes d'intégration continue (un exemple de la documentation pour <code>PkgTemplates</code> ): </p><br><pre> <code class="julia hljs">julia&gt; t = Template(; user=<span class="hljs-string"><span class="hljs-string">"myusername"</span></span>, <span class="hljs-comment"><span class="hljs-comment">#   github license="ISC", #   authors=["Chris de Graaf", "Invenia Technical Computing Corporation"], dir="~/code", # ,    julia_version=v"1.0", #   Julia plugins=[ #     TravisCI(), Codecov(), Coveralls(), AppVeyor(), GitHubPages(), CirrusCI(), ], )</span></span></code> </pre> <br><p>  Nous obtenons le modèle: </p><br><pre> <code class="julia hljs">Template: → User: myusername → Host: github.com → License: ISC (Chris de Graaf, Invenia Technical Computing Corporation <span class="hljs-number"><span class="hljs-number">2018</span></span>) → Package directory: ~/code → Minimum Julia version: v0<span class="hljs-number"><span class="hljs-number">.7</span></span> → SSH remote: No → Commit Manifest.toml: No → Plugins: • AppVeyor: → Config file: Default → <span class="hljs-number"><span class="hljs-number">0</span></span> gitignore entries • Codecov: → Config file: None → <span class="hljs-number"><span class="hljs-number">3</span></span> gitignore entries: <span class="hljs-string"><span class="hljs-string">"*.jl.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.*.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.mem"</span></span> • Coveralls: → Config file: None → <span class="hljs-number"><span class="hljs-number">3</span></span> gitignore entries: <span class="hljs-string"><span class="hljs-string">"*.jl.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.*.cov"</span></span>, <span class="hljs-string"><span class="hljs-string">"*.jl.mem"</span></span> • GitHubPages: → <span class="hljs-number"><span class="hljs-number">0</span></span> asset files → <span class="hljs-number"><span class="hljs-number">2</span></span> gitignore entries: <span class="hljs-string"><span class="hljs-string">"/docs/build/"</span></span>, <span class="hljs-string"><span class="hljs-string">"/docs/site/"</span></span> • TravisCI: → Config file: Default → <span class="hljs-number"><span class="hljs-number">0</span></span> gitignore entries</code> </pre> <br><p>  Maintenant, en utilisant ce modèle, nous pouvons créer des packages simplement en spécifiant leur nom: </p><br><pre> <code class="julia hljs">julia&gt; generate(t, <span class="hljs-string"><span class="hljs-string">"MyPkg1"</span></span>)</code> </pre> <br><p>  Dans une version minimale, le modèle peut ressembler à ceci: </p><br><pre> <code class="julia hljs">julia&gt; t = Template(; user=<span class="hljs-string"><span class="hljs-string">"rssdev10"</span></span>, authors=[<span class="hljs-string"><span class="hljs-string">"rssdev10"</span></span>]) Template: → User: rssdev10 → Host: github.com → License: MIT (rssdev10 <span class="hljs-number"><span class="hljs-number">2019</span></span>) → Package directory: ~/.julia/dev → Minimum Julia version: v1<span class="hljs-number"><span class="hljs-number">.0</span></span> → SSH remote: No → Add packages to main environment: Yes → Commit Manifest.toml: No → Plugins: None</code> </pre> <br><p>  Si nous créons un package nommé MyPkg2 à partir de ce modèle: </p><br><pre> <code class="julia hljs">julia&gt; generate(t, <span class="hljs-string"><span class="hljs-string">"MyPkg2"</span></span>)</code> </pre> <br><p>  Ensuite, nous pouvons vérifier le résultat directement de Julia: </p><br><pre> <code class="julia hljs">julia&gt; run(<span class="hljs-string"><span class="hljs-string">`git -C </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">$(joinpath(t.dir, </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">"MyPkg2"</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)</span></span></span><span class="hljs-string">) ls-files`</span></span>); .appveyor.yml .gitignore .travis.yml LICENSE Project.toml README.md REQUIRE docs/Manifest.toml docs/Project.toml docs/make.jl docs/src/index.md src/MyPkg2.jl test/runtests.jl</code> </pre> <br><p>  Les champs suivants sont à noter: </p><br><ul><li>  <code>user="myusername"</code> , est le nom de l'entrée d'enregistrement git. </li><li>  <code>dir</code> - répertoire pour le placement du code du package.  S'il n'est pas spécifié, il sera créé dans le répertoire de développement <code>~/.julia/dev</code> .  De plus, conformément aux règles des systèmes de fichiers Unix, le <code>~/.julia</code> est caché. </li></ul><br><p>  Après avoir créé le projet, un ensemble suffisant de fichiers sera généré et un référentiel git sera créé.  De plus, tous les fichiers générés seront ajoutés automatiquement à ce référentiel. </p><br><h3 id="tipovoe-raspolozhenie-faylov-v-proekte">  Emplacement de fichier typique dans un projet </h3><br><p>  Nous emprunterons une image avec une disposition typique des fichiers et de leur contenu à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://en.wikibooks.org/wiki/Introducing_Julia/Modules_and_packages</a> , mais nous allons l'étendre un peu: </p><br><pre> <code class="julia hljs">Calculus.jl/ <span class="hljs-comment"><span class="hljs-comment">#    Calculus deps/ #       docs/ #       src/ #    Calculus.jl #    —   . module Calculus #        ! import Base.ctranspose #     , export derivative, check_gradient, #      ... include("derivative.jl") #     include("check_derivative.jl") include("integrate.jl") import .Derivative end #   Calculus.jl derivative.jl #     - , module Derivative #    Calculus.jl export derivative function derivative() ... end … end check_derivative.jl #     , function check_derivative(f::...)#     ... # "include("check_derivative.jl")"  Calculus.jl end … integrate.jl #     , function adaptive_simpsons_inner(f::Funct#      Calculus.jl ... end ... symbolic.jl #     Calculus.jl export processExpr, BasicVariable, ...#       import Base.show, ... #     Base , type BasicVariable &lt;: AbstractVariable# ...       ... end function process(x::Expr) ... end ... test/ #     Calculus runtests.jl #     using Calculus #    Calculus... using Test #   Base.Test... tests = ["finite_difference", ... #  -   ... for t in tests include("$(t).jl") # ...     end ... finite_difference.jl #    -   @test ... # ...      runtests.jl ...</span></span></code> </pre> <br><p>  Nous ajoutons que le répertoire <code>deps</code> peut contenir les fichiers nécessaires au bon assemblage du package.  Par exemple, <code>deps/build.jl</code> est un script qui s'exécute automatiquement lorsque le package est installé.  Le script peut contenir n'importe quel code pour la préparation des données (télécharger un ensemble de données ou effectuer un prétraitement) ou d'autres programmes nécessaires au travail. </p><br><p>  Il convient de noter qu'il ne peut y avoir qu'un seul module principal dans un projet.  Autrement dit, dans l'exemple ci-dessus - <code>Calculus</code> .  Cependant, dans le même exemple, il existe un module imbriqué <code>Derivative</code> qui se connecte via <code>include</code> .  Faites attention à cela.  <code>include</code> inclut le fichier en tant que texte, et non en tant que module, ce qui se produit lors de l' <code>using</code> ou de l' <code>import</code> .  Les deux dernières fonctions incluent non seulement le module, mais obligent Julia à le compiler en tant qu'entité distincte.  De plus, Julia essaiera de trouver ce module dans les packages de dépendances et émettra un avertissement qu'il manque dans <code>Project.toml</code> .  Par conséquent, si notre tâche consiste à créer un accès hiérarchique aux fonctions, en les délimitant par des espaces de noms, nous incluons les fichiers via <code>include</code> et activons le module via un point, indiquant son affiliation locale.  Soit: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span> Calculus include(<span class="hljs-string"><span class="hljs-string">"derivative.jl"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> .Derivative ... <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  La fonction <code>derivative</code> qui est exportée à partir du module <code>Derivative</code> sera disponible pour nous via <code>Calculus.Derivative.derivative()</code> </p><br><h2 id="fayl-proekta-projecttoml">  Fichier de projet Project.toml </h2><br><p>  Le fichier de projet est un fichier texte.  Ses sections principales sont décrites dans la description <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://julialang.github.io/Pkg.jl/v1/toml-files/</a> </p><br><p>  Une fois le fichier généré, tous les champs nécessaires y sont déjà présents.  Cependant, vous devrez peut-être modifier une partie de la description, modifier la composition des packages, leurs versions et les dépendances spécifiques des différents systèmes d'exploitation ou configurations. </p><br><p>  Les principaux domaines sont: </p><br><pre> <code class="plaintext hljs">name = "Example" uuid = "7876af07-990d-54b4-ab0e-23690620f79a" version = "1.2.5"</code> </pre> <br><p>  <code>name</code> - le nom du package choisi selon les règles de nommage.  <code>uuid</code> est un identifiant unifié qui peut être généré par un générateur de package ou tout autre générateur <code>uuid</code> .  <code>version</code> - numéro de version du package au format de trois nombres décimaux séparés par des points.  Ceci est conforme au format de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Semantic Versioning 2.0.0</a> .  Avant la version 1.0.0 déclarée, toute modification de l'interface du programme est possible.  Après la sortie de cette version, le propriétaire du package doit respecter les règles de compatibilité.  Toute modification compatible doit être reflétée dans le numéro mineur (à droite).  Les modifications incompatibles doivent être accompagnées d'une modification du nombre élevé.  Naturellement, il n'y a pas de contrôle automatique sur la règle de versionnage, mais le non-respect de la règle entraînera simplement le fait que les utilisateurs du package commenceront à cesser massivement d'utiliser et à migrer vers le package dont les auteurs se conformeront à cette règle. </p><br><p>  Toutes les dépendances de package sont présentées dans la section <code>[deps]</code> . </p><br><pre> <code class="plaintext hljs">[deps] Example = "7876af07-990d-54b4-ab0e-23690620f79a" Test = "8dfed614-e22c-5e08-85e1-65c5234f0b40"</code> </pre> <br><p>  Cette section contient une liste des dépendances directes de notre package.  Les dépendances en cascade sont reflétées dans le fichier <code>Manifest.toml</code> , qui est automatiquement généré dans le répertoire du projet.  Toutes les dépendances sont représentées par <code>=</code> paires <code>=</code> .  Et, généralement, cette partie n'est pas remplie de mains.  Pour cela, les fonctions du package <code>Pkg</code> sont fournies.  Et, le plus souvent, cela se fait à partir de <code>REPL</code> , en le basculant en mode de gestion des packages - <code>]</code> .  Suivant - les opérations <code>add</code> , <code>rm</code> , <code>st</code> , etc., mais toujours dans le contexte du package actuel.  Sinon, vous devez exécuter <code>activate .</code>  . </p><br><p>  <code>Manifest.toml</code> peut être enregistré dans le système de contrôle de version <code>git</code> .  Cette approche avec deux fichiers vous permet de fixer de manière rigide les packages dans l'arborescence de dépendances pendant le test du produit logiciel, après quoi il est garanti que si notre package est déployé dans un nouvel emplacement, les mêmes versions de packages tiers seront répétées au même endroit.  Ou, à l'inverse, en l'absence de <code>Manifest.toml</code> aurez la possibilité d'utiliser toutes les versions disponibles qui satisfont aux conditions de base. </p><br><p>  La section <code>[compat]</code> vous permet de spécifier des versions spécifiques des packages dont nous avons besoin. </p><br><pre> <code class="plaintext hljs">[deps] Example = "7876af07-990d-54b4-ab0e-23690620f79a" [compat] Example = "1.2" julia = "1.1"</code> </pre> <br><p>  Les packages sont identifiés par le nom précédemment utilisé dans la section <code>[compat]</code> .  <code>julia</code> indique la version de Julia elle-même. </p><br><p>  Lors de la spécification des versions, les règles répertoriées dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://julialang.github.io/Pkg.jl/dev/compatibility/</a> s'appliquent.  Cependant, les mêmes règles sont spécifiées dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">versioning sémantique</a> . </p><br><p>  Il existe plusieurs règles de version.  Par exemple: </p><br><pre> <code class="plaintext hljs">[compat] Example = "1.2, 2"</code> </pre> <br><p>  signifie que toute version de la gamme <code>[1.2.0, 3.0.0)</code> convient, à l' <code>3.0.0</code> .  Et cela est parfaitement cohérent avec une règle plus simple: </p><br><pre> <code class="plaintext hljs">[compat] Example = "1.2"</code> </pre> <br><p>  De plus, la simple spécification du numéro de version est une forme abrégée de <code>"^1.2"</code> .  Un exemple de l'application qui ressemble à: </p><br><pre> <code class="plaintext hljs">[compat] PkgA = "^1.2.3" # [1.2.3, 2.0.0) PkgB = "^1.2" # [1.2.0, 2.0.0) PkgC = "^1" # [1.0.0, 2.0.0) PkgD = "^0.2.3" # [0.2.3, 0.3.0) PkgE = "^0.0.3" # [0.0.3, 0.0.4) PkgF = "^0.0" # [0.0.0, 0.1.0) PkgG = "^0" # [0.0.0, 1.0.0)</code> </pre> <br><p>  Si nous devons spécifier des restrictions plus strictes, il est nécessaire d'utiliser un formulaire avec un tilde. </p><br><pre> <code class="plaintext hljs">[compat] PkgA = "~1.2.3" # [1.2.3, 1.3.0) PkgB = "~1.2" # [1.2.0, 1.3.0) PkgC = "~1" # [1.0.0, 2.0.0) PkgD = "~0.2.3" # [0.2.3, 0.3.0) PkgE = "~0.0.3" # [0.0.3, 0.0.4) PkgF = "~0.0" # [0.0.0, 0.1.0) PkgG = "~0" # [0.0.0, 1.0.0)</code> </pre> <br><p>  Eh bien et, bien sûr, une indication de signes / inégalités égaux est disponible: </p><br><pre> <code class="plaintext hljs">[compat] PkgA = "&gt;= 1.2.3" # [1.2.3, ∞) PkgB = "≥ 1.2.3" # [1.2.3, ∞) PkgC = "= 1.2.3" # [1.2.3, 1.2.3] PkgD = "&lt; 1.2.3" # [0.0.0, 1.2.2]</code> </pre> <br><p>  Il est possible de spécifier plusieurs options pour les dépendances dans la section <code>[targets]</code> .  Traditionnellement, dans Julia avant la version 1.2, il était utilisé pour spécifier les dépendances pour l'utilisation du package et pour l'exécution des tests.  Pour ce faire, des packages supplémentaires ont été spécifiés dans la section <code>[extras]</code> , et les configurations cibles avec des noms de packages ont été répertoriées dans <code>[targets]</code> . </p><br><pre> <code class="plaintext hljs">[extras] Markdown = "d6f4376e-aef5-505a-96c1-9c027394607a" Test = "8dfed614-e22c-5e08-85e1-65c5234f0b40" [targets] test = ["Markdown", "Test"]</code> </pre> <br><p>  À partir de Julia 1.2, il est recommandé d'ajouter simplement un fichier de projet distinct pour les <code>test/Project.toml</code> . </p><br><h2 id="dopolnitelnye-zavisimosti">  Dépendances supplémentaires </h2><br><p>  Des dépendances supplémentaires peuvent être connectées via le <code>deps/build.jl</code> , cependant, le fichier <code>Artifacts.toml</code> est fourni dans la structure du projet Julia.  La <code>Pkg.Artifacts</code> gestion de projet <code>Pkg.Artifacts</code> fournit des fonctions pour automatiser le chargement de dépendances supplémentaires.  Un exemple d'un tel fichier: </p><br><pre> <code class="plaintext hljs"># Example Artifacts.toml file [socrates] git-tree-sha1 = "43563e7631a7eafae1f9f8d9d332e3de44ad7239" lazy = true [[socrates.download]] url = "https://github.com/staticfloat/small_bin/raw/master/socrates.tar.gz" sha256 = "e65d2f13f2085f2c279830e863292312a72930fee5ba3c792b14c33ce5c5cc58" [[socrates.download]] url = "https://github.com/staticfloat/small_bin/raw/master/socrates.tar.bz2" sha256 = "13fc17b97be41763b02cbb80e9d048302cec3bd3d446c2ed6e8210bddcd3ac76" [[c_simple]] arch = "x86_64" git-tree-sha1 = "4bdf4556050cb55b67b211d4e78009aaec378cbc" libc = "musl" os = "linux" [[c_simple.download]] sha256 = "411d6befd49942826ea1e59041bddf7dbb72fb871bb03165bf4e164b13ab5130" url = "https://github.com/JuliaBinaryWrappers/c_simple_jll.jl/releases/download/c_simple+v1.2.3+0/c_simple.v1.2.3.x86_64-linux-musl.tar.gz" [[c_simple]] arch = "x86_64" git-tree-sha1 = "51264dbc770cd38aeb15f93536c29dc38c727e4c" os = "macos" [[c_simple.download]] sha256 = "6c17d9e1dc95ba86ec7462637824afe7a25b8509cc51453f0eb86eda03ed4dc3" url = "https://github.com/JuliaBinaryWrappers/c_simple_jll.jl/releases/download/c_simple+v1.2.3+0/c_simple.v1.2.3.x86_64-apple-darwin14.tar.gz" [processed_output] git-tree-sha1 = "1c223e66f1a8e0fae1f9fcb9d3f2e3ce48a82200"</code> </pre> <br><p>  Nous ne nous attarderons pas plus en détail, car la suite de la description dépend du cas d'utilisation spécifique.  Les fonctions de bibliothèque <code>artifact_hash</code> , <code>download</code> , <code>create_artifact</code> , <code>bind_artifact</code> .  Voir la documentation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://julialang.github.io/Pkg.jl/dev/artifacts/ pour</a> plus de détails. </p><br><h2 id="realizaciya-osnovnogo-koda-i-otladka">  Implémentation et débogage du code principal </h2><br><p>  Bien sûr, nous spécifions explicitement ou implicitement le répertoire de développement lors de la création du package.  Cependant, si nécessaire, nous pouvons le changer.  Si le package a été généré par <code>PkgTemplates</code> avec des paramètres par défaut, recherchez-le dans le <code>~/.julia/dev</code> .  Malgré le fait que le répertoire soit caché, la transition vers celui-ci est possible via un lien direct dans le navigateur de fichiers.  Pour MacOS dans le Finder, par exemple, cela se fait en appuyant sur Commande + Maj + G.  Si le package est créé dans un autre répertoire, ouvrez-le simplement dans un éditeur de texte.  Le meilleur éditeur pour travailler avec du code Julia est Atom et tout ce que le plugin <code>uber-juno</code> prend en charge.  Dans ce cas, vous obtenez un éditeur de texte avec mise en forme automatique du code, une console REPL pour l'exécution interactive de code, la possibilité d'exécuter uniquement des fragments de code sélectionnés et d'afficher les résultats, y compris l'affichage de graphiques.  Et aussi, un débogueur pas à pas.  Bien que, nous devons admettre que pour le moment, il est assez lent, donc le mode de débogage actuel - nous pensons d'abord que nous voulons vérifier et mettre la sortie de débogage, puis nous exécutons le test pour le tester. </p><br><p>  Il est recommandé de regarder les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modèles de conception</a> courants <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour les langages de programmation dynamiques</a> .  En outre, le livre "Patterns de conception pratique avec Julia 1.0. Tom Kwong" et un <a href="">exemple de code pour cela</a> .  Et lors de la mise en œuvre de programmes, vous devez tenir compte des recommandations sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">style de</a> programmation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Julia Style Guide</a> . </p><br><p>  Parmi les subtilités du débogage, le package <code>Revise.jl</code> peut être noté.  Son activation peut être définie dans le fichier <code>.julia/config/startup.jl</code> uniquement pour le mode interactif, dans lequel REPL peut être exécuté à partir de l'éditeur Atom.  Revise vous permet de modifier le code de fonction dans notre package sans redémarrer la session REPL, et chaque exécution en utilisant / import dans nos tests activera ces mises à jour. </p><br><p>  Pour un développement efficace, il est recommandé de développer en parallèle le code principal et les tests qui le testent.  Cela vous permet d'implémenter uniquement ce qui est vraiment nécessaire, car sinon, dans les tests, il y aura évidemment des fonctions inutiles.  Par conséquent, ils doivent être supprimés.  En substance, Julia n'offre rien de spécifique dans les principes de développement.  Cependant, l'accent est mis sur le développement par le biais de tests unitaires, car Julia compile le code assez lentement et en mode de débogage étape par étape, les performances sont très réduites.  Autrement dit, cela dépend du développement des tests, de leur organisation, de la rapidité avec laquelle le package en cours de développement sera débogué et vérifié. </p><br><h2 id="testy">  Les tests </h2><br><p>  Un emplacement de test typique est le répertoire de test.  Le fichier <code>test/runtests.jl</code> est le point de départ de tous les tests. </p><br><p>  En ce qui concerne l'exemple mentionné ci-dessus, la forme typique du fichier est: </p><br><pre> <code class="julia hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Calculus <span class="hljs-comment"><span class="hljs-comment">#    Calculus  ... using Test #   Test... tests = ["finite_difference", "..."]#      -... for t in tests include("$(t).jl") #        end</span></span></code> </pre> <br><p>  Il est recommandé de développer des fichiers de tests spécifiques sur la base du regroupement des fonctions testées.  Par exemple, dans le module de <code>Calculus</code> mentionné, divers algorithmes de calcul de dérivés, d'intégrales, etc. peuvent être présents, il sera logique de les tester avec différents tests situés dans différents fichiers. </p><br><p>  Pour les tests unitaires, Julia fournit le module <code>Test</code> partir de l'ensemble de bibliothèques de base.  La macro <code>@test</code> est définie dans ce module, dont le but est de vérifier l'exactitude de l'instruction spécifiée.  Exemples: </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> Test Passed julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] + [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] == [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] Test Passed julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test</span></span> <span class="hljs-literal"><span class="hljs-literal">π</span></span> ≈ <span class="hljs-number"><span class="hljs-number">3.14</span></span> atol=<span class="hljs-number"><span class="hljs-number">0.01</span></span> Test Passed</code> </pre> <br><p>  Faites attention à la forme complète de l'opérateur de comparaison approximatif <code>≈</code> . </p><br><p>  L'instruction vérifiant le choix de l'exception est <code>@test_throws</code> .  Exemple - créez un tableau et accédez à l'index au-delà: </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@test_throws</span></span> <span class="hljs-built_in"><span class="hljs-built_in">BoundsError</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">4</span></span>] Test Passed Thrown: <span class="hljs-built_in"><span class="hljs-built_in">BoundsError</span></span></code> </pre> <br><p>  Une construction utile est <code>@testset</code> .  Il vous permet de regrouper des instructions individuelles dans un test connecté de manière logique.  Par exemple: </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"trigonometric identities"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> θ = <span class="hljs-number"><span class="hljs-number">2</span></span>/<span class="hljs-number"><span class="hljs-number">3</span></span>*<span class="hljs-literal"><span class="hljs-literal">π</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> sin(-θ) ≈ -sin(θ) <span class="hljs-meta"><span class="hljs-meta">@test</span></span> cos(-θ) ≈ cos(θ) <span class="hljs-meta"><span class="hljs-meta">@test</span></span> sin(<span class="hljs-number"><span class="hljs-number">2</span></span>θ) ≈ <span class="hljs-number"><span class="hljs-number">2</span></span>*sin(θ)*cos(θ) <span class="hljs-meta"><span class="hljs-meta">@test</span></span> cos(<span class="hljs-number"><span class="hljs-number">2</span></span>θ) ≈ cos(θ)^<span class="hljs-number"><span class="hljs-number">2</span></span> - sin(θ)^<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; Test Summary: | Pass Total trigonometric identities | <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p>  Pour chaque ensemble déclaré via <code>@testset</code> , sa propre table de tests réussis est formée.  Les suites de tests peuvent être imbriquées.  En cas de réussite de leur passage, un tableau récapitulatif est émis, en cas d'échec - pour chaque groupe de tests ses propres statistiques seront émises. </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Foo Tests"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Animals"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Felines"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(<span class="hljs-string"><span class="hljs-string">"cat"</span></span>) == <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Canines"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(<span class="hljs-string"><span class="hljs-string">"dog"</span></span>) == <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-meta"><span class="hljs-meta">@testset</span></span> <span class="hljs-string"><span class="hljs-string">"Arrays"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(zeros(<span class="hljs-number"><span class="hljs-number">2</span></span>)) == <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-meta"><span class="hljs-meta">@test</span></span> foo(fill(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) == <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> Arrays: Test Failed Expression: foo(fill(<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) == <span class="hljs-number"><span class="hljs-number">15</span></span> Evaluated: <span class="hljs-number"><span class="hljs-number">16</span></span> == <span class="hljs-number"><span class="hljs-number">15</span></span> [...] Test Summary: | Pass Fail Total Foo Tests | <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> Animals | <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> Arrays | <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> ERROR: Some tests did not pass: <span class="hljs-number"><span class="hljs-number">3</span></span> passed, <span class="hljs-number"><span class="hljs-number">1</span></span> failed, <span class="hljs-number"><span class="hljs-number">0</span></span> errored, <span class="hljs-number"><span class="hljs-number">0</span></span> broken.</code> </pre> <br><p> <code>@test_broken</code> , <code>@test_skip</code>         . </p><br><h2 id="profilirovanie">  </h2><br><p>      .  <code>julia</code>     : </p><br><pre> <code class="plaintext hljs"> --code-coverage={none|user|all}, --code-coverage Count executions of source lines (omitting setting is equivalent to "user") --code-coverage=tracefile.info Append coverage information to the LCOV tracefile (filename supports format tokens). --track-allocation={none|user|all}, --track-allocation Count bytes allocated by each source line (omitting setting is equivalent to "user")</code> </pre> <br><p> <code>code-coverage</code> —     .     (  ),      .   ,          .     <code>.cov</code>      .              . <br>      : </p><br><pre> <code class="julia hljs"> - <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> vectorize(str::<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>) <span class="hljs-number"><span class="hljs-number">96</span></span> tokens = str |&gt; tokenizer |&gt; wordpiece <span class="hljs-number"><span class="hljs-number">48</span></span> text = [<span class="hljs-string"><span class="hljs-string">"[CLS]"</span></span>; tokens; <span class="hljs-string"><span class="hljs-string">"[SEP]"</span></span>] <span class="hljs-number"><span class="hljs-number">48</span></span> token_indices = vocab(text) <span class="hljs-number"><span class="hljs-number">48</span></span> segment_indices = [fill(<span class="hljs-number"><span class="hljs-number">1</span></span>, length(tokens) + <span class="hljs-number"><span class="hljs-number">2</span></span>);] <span class="hljs-number"><span class="hljs-number">48</span></span> sample = (tok = token_indices, segment = segment_indices) <span class="hljs-number"><span class="hljs-number">48</span></span> bert_embedding = sample |&gt; bert_model.embed <span class="hljs-number"><span class="hljs-number">48</span></span> collect(sum(bert_embedding, dims=<span class="hljs-number"><span class="hljs-number">2</span></span>)[:]) - <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p> <code>track-allocation</code> —      .       ,  ,    ,     ,    <code>.mem</code> . </p><br><p>    : </p><br><pre> <code class="julia hljs"> - <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> vectorize(str::<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> tokens = str |&gt; tokenizer |&gt; wordpiece <span class="hljs-number"><span class="hljs-number">6766790</span></span> text = [<span class="hljs-string"><span class="hljs-string">"[CLS]"</span></span>; tokens; <span class="hljs-string"><span class="hljs-string">"[SEP]"</span></span>] <span class="hljs-number"><span class="hljs-number">0</span></span> token_indices = vocab(text) <span class="hljs-number"><span class="hljs-number">11392</span></span> segment_indices = [fill(<span class="hljs-number"><span class="hljs-number">1</span></span>, length(tokens) + <span class="hljs-number"><span class="hljs-number">2</span></span>);] <span class="hljs-number"><span class="hljs-number">1536</span></span> sample = (tok = token_indices, segment = segment_indices) <span class="hljs-number"><span class="hljs-number">0</span></span> bert_embedding = sample |&gt; bert_model.embed <span class="hljs-number"><span class="hljs-number">170496</span></span> collect(sum(bert_embedding, dims=<span class="hljs-number"><span class="hljs-number">2</span></span>)[:]) - <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>       ,     . ,     ,    ,   ,    .      ,     .        . </p><br><p>     —       : </p><br><pre> <code class="plaintext hljs">julia --project=@. --code-coverage --track-allocation test/runtests.jl</code> </pre> <br><p>     —    <code>Profile.jl</code>   <code>@profile</code> .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://julialang.org/blog/2019/09/profilers</a>       .      <code>@noinline</code> ,          .  ,       <code>fib</code>  <code>fib_r</code> . </p><br><pre> <code class="julia hljs">julia&gt; <span class="hljs-meta"><span class="hljs-meta">@noinline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> fib(n) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ? fib_r(n - <span class="hljs-number"><span class="hljs-number">1</span></span>) + fib_r(n - <span class="hljs-number"><span class="hljs-number">2</span></span>) : <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> julia&gt; <span class="hljs-meta"><span class="hljs-meta">@noinline</span></span> fib_r(n) = fib(n) julia&gt; <span class="hljs-meta"><span class="hljs-meta">@time</span></span> fib(<span class="hljs-number"><span class="hljs-number">40</span></span>) <span class="hljs-number"><span class="hljs-number">0.738735</span></span> seconds (<span class="hljs-number"><span class="hljs-number">3.16</span></span> k allocations: <span class="hljs-number"><span class="hljs-number">176.626</span></span> KiB) <span class="hljs-number"><span class="hljs-number">165580141</span></span> julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Profile julia&gt; <span class="hljs-meta"><span class="hljs-meta">@profile</span></span> fib(<span class="hljs-number"><span class="hljs-number">40</span></span>) <span class="hljs-number"><span class="hljs-number">165580141</span></span> julia&gt; Profile.print(format=:flat, sortedby=:count) Count File Line <span class="hljs-built_in"><span class="hljs-built_in">Function</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> int.jl <span class="hljs-number"><span class="hljs-number">52</span></span> - <span class="hljs-number"><span class="hljs-number">14</span></span> int.jl <span class="hljs-number"><span class="hljs-number">53</span></span> + <span class="hljs-number"><span class="hljs-number">212</span></span> boot.jl <span class="hljs-number"><span class="hljs-number">330</span></span> eval <span class="hljs-number"><span class="hljs-number">5717</span></span> REPL[<span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span> fib_r <span class="hljs-number"><span class="hljs-number">6028</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span> fib julia&gt; count(==(<span class="hljs-number"><span class="hljs-number">0</span></span>), Profile.fetch()) <span class="hljs-number"><span class="hljs-number">585</span></span></code> </pre> <br><p> <code>@profile fib(40)</code>          .    <code>Profile.print(format=:flat, sortedby=:count)</code>       . ,   ,    ,  <code>fib_r</code>  <code>fib</code>    ,     .     ,     : </p><br><pre> <code class="julia hljs">julia&gt; Profile.print(format=:tree) <span class="hljs-number"><span class="hljs-number">260</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib(::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>) <span class="hljs-number"><span class="hljs-number">112</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r(::<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>) <span class="hljs-number"><span class="hljs-number">212</span></span> task.jl:<span class="hljs-number"><span class="hljs-number">333</span></span>; REPL.<span class="hljs-string"><span class="hljs-string">var"##26#27"</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> REPL.jl:<span class="hljs-number"><span class="hljs-number">118</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">macro</span></span> expansion <span class="hljs-number"><span class="hljs-number">212</span></span> REPL.jl:<span class="hljs-number"><span class="hljs-number">86</span></span>; eval_user_input <span class="hljs-number"><span class="hljs-number">212</span></span> boot.jl:<span class="hljs-number"><span class="hljs-number">330</span></span>; eval ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ╎ ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ╎ ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ╎ ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ╎ ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">1</span></span>; fib_r ╎ ╎ ╎ <span class="hljs-number"><span class="hljs-number">210</span></span> REPL[<span class="hljs-number"><span class="hljs-number">1</span></span>]:<span class="hljs-number"><span class="hljs-number">2</span></span>; fib ...</code> </pre> <br><p>             .    PProf.jl,           . </p><br><p><img src="https://habrastorage.org/webt/c6/6w/lk/c66wlkov5bfkuqbofid1ltdbctc.png"></p><br><p>   . <a href="">https://github.com/vchuravy/PProf.jl</a> . </p><br><h2 id="dokumentirovanie">  </h2><br><p>         <code>doc</code> .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://habr.com/ru/post/439442/</a> <br> , ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   Julia</a> . </p><br><p>        <code>Project.toml</code>   ,       .    ,      ,      - , ,   . </p><br><h2 id="ustanovka-paketa">   </h2><br><p>    ,        ,        .    ,     —     .   : </p><br><ul><li>       .       .   . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/JuliaRegistries/General</a>   . <a href="">https://github.com/JuliaRegistries/Registrator.jl</a> </li><li>       .         . . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://julialang.github.io/Pkg.jl/v1/registries/</a> </li><li>     git-.   —         ,             ,   Julia      ,     . </li><li>     ,     . </li></ul><br><p>   ,      ,   . ,       ,    git clone,         .     <code>PackageCompiler.jl</code> .  ,    ,  - . </p><br><h2 id="ckripty-dlya-obsluzhivaniya-paketa"> C    </h2><br><p>     - ,     ,    (    -  ,       ),        deps,     <code>deps/build.jl</code> .         .      , , ,      . ,   , ,       ,        .  , ,   <code>build.jl</code> ,     : </p><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env julia --project=@. using Pkg Pkg.activate(".") Pkg.build() # Pkg.build(; verbose = true) for Julia 1.1 and up Pkg.test() # (coverage=true)</span></span></code> </pre> <br><p>   .  <code>julia --project=@.</code>  Julia  <code>Project.toml</code>   . ,   —    <code>build.jl</code>   ,     <code>executable</code> .  ,       <code>julia --project=@. build.jl</code> . </p><br><p>  <code>Pkg.activate(".")</code>        ( <code>Project.toml</code> ). </p><br><p>  <code>Pkg.build()</code>         ,    C-,   .         <code>deps/build.jl</code> ,   . </p><br><p>  <code>Pkg.test()</code>    .    ,  -,     ,    .  -,         ,          .    <code>coverage=true</code>    .      ,      .    <code>build.jl</code>      . </p><br><p> ,         .     ,       <code>PkgTempletes</code> .     —   Gitlab CI,  Travis CI,   GitHub   ,      . </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p> ,       ,     Julia.  ,              ,     .     ,   —          , -,     ,    . ,      . </p><br><h2 id="ssylki">  Les références </h2><br><ul><li> <a href="">PkgTemplates: PkgTemplates is a Julia package for creating new Julia packages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pkg.jl: Creating Packages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Christopher Rackauckas. Developing Julia Packages. Video</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">A Brief Introduction to Package Management with Julia 1.0</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Introducing Julia/Modules and packages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pkg.jl: Artifacts</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pkg.jl: Project.toml and Manifest.toml</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Julia.    </a> </li><li> <a href="">Hands-On Design Patterns with Julia 1.0. Tom Kwong. November 22, 2019. 460 pages</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Julia Coding Style Guide</a> </li><li> <a href="">PProf.jl: Sometimes I need a hammer, sometimes I need a drill, this is a hammer-drill</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tom's Obvious, Minimal Language</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jameson Nash. Profiling tool wins and woes</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Semantic Versioning</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr473290/">https://habr.com/ru/post/fr473290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr473278/index.html">Mise à jour du terminal Windows: aperçu 1910</a></li>
<li><a href="../fr473282/index.html">Parthénon. Slumdog milliardaires: comment les frères Bukhman sont devenus milliardaires et Vologda en ligne - Global</a></li>
<li><a href="../fr473284/index.html">Senior, TechLead, Architecte - quelle est la prochaine étape? Comment gérer une routine de travail et où aller?</a></li>
<li><a href="../fr473286/index.html">Nous écrivons une protection contre les attaques DDoS sur XDP. Partie nucléaire</a></li>
<li><a href="../fr473288/index.html">Construisez votre code à partir de zéro, il pompera votre niveau</a></li>
<li><a href="../fr473292/index.html">Le condensé de matériaux intéressants pour le développeur mobile # 319 (du 21 au 27 octobre)</a></li>
<li><a href="../fr473294/index.html">Gestion de la mémoire ou moins souvent vous tirer une balle dans le pied</a></li>
<li><a href="../fr473296/index.html">Démarrage sans argent. Expérience personnelle</a></li>
<li><a href="../fr473298/index.html">Comment construire des processus et arrêter de se moquer d'une équipe</a></li>
<li><a href="../fr473300/index.html">PR à l'ère numérique, programmes de fidélisation modernes et marketing de festival</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>