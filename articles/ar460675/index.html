<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤠 👚 🏆 آلة التعلم استخراج البيانات 🛄 🥨 🚣🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="هل تريد التعرف على ثلاث طرق لاستخراج البيانات لمشروع ML القادم؟ ثم اقرأ ترجمة مقالة Rebecca Vickery المنشورة على مدونة Towards Data Science على Medium...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>آلة التعلم استخراج البيانات</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plarium/blog/460675/" style=";text-align:right;direction:rtl">  هل تريد التعرف على ثلاث طرق لاستخراج البيانات لمشروع ML القادم؟  ثم اقرأ ترجمة مقالة Rebecca Vickery المنشورة على مدونة Towards Data Science على Medium!  وقالت انها ستكون مثيرة للاهتمام للمبتدئين. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ba/ce/h3/baceh3syebhbwo_3rvemwpfl8l8.jpeg"></div><br>  الحصول على بيانات جيدة هو الخطوة الأولى والأكثر أهمية في أي مشروع تعليمي آلي.  غالبًا ما يستخدم متخصصو علوم البيانات طرقًا مختلفة للحصول على مجموعات البيانات.  يمكنهم استخدام البيانات المتاحة للجمهور ، وكذلك البيانات المتاحة عبر API أو الحصول عليها من قواعد بيانات مختلفة ، ولكن في معظم الأحيان تجمع هذه الأساليب. <br><br>  الغرض من هذه المقالة هو تقديم نظرة عامة مختصرة عن ثلاث طرق مختلفة لاسترداد البيانات باستخدام Python.  سأخبرك بكيفية القيام بذلك باستخدام Jupyter Notebook.  في مقالي السابق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">،</a> كتبت عن تطبيق بعض الأوامر التي تعمل في المحطة. <a name="habracut"></a><br><br><h3 style=";text-align:right;direction:rtl">  SQL </h3><br>  إذا كنت بحاجة إلى الحصول على بيانات من قاعدة بيانات علائقية ، فمن المرجح أنك ستعمل مع لغة SQL.  تتيح لك مكتبة SQLAlchemy ربط رمز الكمبيوتر المحمول الخاص بك بأنواع قواعد البيانات الأكثر شيوعًا.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ستجد هنا</a> معلومات حول قواعد البيانات المدعومة وكيفية الارتباط بكل نوع. <br><br>  يمكنك استخدام مكتبة SQLAlchemy لاستعراض الجداول وبيانات الاستعلام ، أو كتابة استعلامات أولية.  لربط قاعدة البيانات ، ستحتاج إلى عنوان URL مع بيانات الاعتماد الخاصة بك.  بعد ذلك ، تحتاج إلى تهيئة طريقة <code>create_engine</code> لإنشاء الاتصال. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sqlalchemy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> create_engine engine = create_engine(<span class="hljs-string"><span class="hljs-string">'dialect+driver://username:password@host:port/database'</span></span>)</code> </pre> <br>  الآن يمكنك كتابة استعلامات قاعدة البيانات والحصول على النتائج. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">connection = engine.connect() result = connection.execute(<span class="hljs-string"><span class="hljs-string">"select * from my_table"</span></span>)</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  Skraping </h3><br>  يستخدم كشط الويب لتنزيل البيانات من المواقع واستخراج المعلومات اللازمة من صفحاتهم.  هناك العديد من مكتبات Python المتاحة لهذا ، ولكن أبسطها هو <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">حساء جميل</a> . <br><br>  يمكنك تثبيت الحزمة من خلال نقطة. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">pip install BeautifulSoup4</code> </pre> <br>  لنلقِ نظرة بسيطة على كيفية استخدامها.  سوف نستخدم Beautiful Soup ومكتبة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">urllib</a> لكشط أسماء الفنادق والأسعار من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TripAdvisor</a> . <br><br>  أولاً ، نستورد جميع المكتبات التي سنعمل معها. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> bs4 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BeautifulSoup <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib.request</code> </pre> <br>  الآن تحميل محتوى الصفحة التي سنقوم الخردة.  أريد أن أجمع بيانات عن أسعار الفنادق في جزيرة كريت اليونانية وأخذ عنوان URL الذي يحتوي على قائمة بالفنادق في هذا المكان. <br><br><img src="https://habrastorage.org/webt/vt/jj/7i/vtjj7icfxauctiw_juiik0oqgfo.png"><br><br>  تحدد الشفرة أدناه عنوان URL كمتغير وتستخدم مكتبة urllib لفتح الصفحة ، ومكتبة حساء جميلة لقراءته وإرجاع النتائج بتنسيق بسيط.  يظهر جزء من بيانات المخرجات أسفل الكود. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">URL = <span class="hljs-string"><span class="hljs-string">'https://www.tripadvisor.co.uk/Hotels-g189413-Crete-Hotels.html'</span></span> page = urllib.request.urlopen(URL) soup = BeautifulSoup(page, <span class="hljs-string"><span class="hljs-string">'html.parser'</span></span>) print(soup.prettify())</code> </pre> <br><img src="https://habrastorage.org/webt/ul/n3/sn/uln3sn1bwjzjeft182k2dgbp7qo.png"><br><br>  الآن دعنا نحصل على قائمة بأسماء الفنادق على الصفحة.  سوف نقدم لك وظيفة <code>find_all</code> ، التي ستستخرج أجزاء من الوثيقة التي تهمنا.  يمكنك تصفيتها بشكل مختلف باستخدام دالة <code>find_all</code> لتمرير سطر واحد أو تعبير عادي أو قائمة.  يمكنك أيضًا تصفية إحدى سمات العلامات - هذه هي بالضبط الطريقة التي سنطبقها.  إذا كنت جديدًا في علامات وسمات HTML ، فراجع هذه <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">المقالة</a> للحصول على نظرة عامة سريعة. <br><br>  من أجل فهم أفضل السبل لتوفير الوصول إلى البيانات الموجودة في العلامة ، نحتاج إلى التحقق من الكود الخاص بهذا العنصر في الصفحة.  نجد رمز اسم الفندق بالنقر بزر الماوس الأيمن على الاسم في القائمة ، كما هو موضح في الشكل أدناه. <br><br><img src="https://habrastorage.org/webt/uh/k5/zs/uhk5zsci0kajsubpkghjff3qnye.png"><br><br>  بعد النقر فوق " <code>inspect</code> سيظهر رمز العنصر ، وسيتم إبراز القسم الذي يحمل اسم الفندق. <br><br><img src="https://habrastorage.org/webt/pc/fh/ms/pcfhmsrk8knqsjzr2lzsif2d2j4.png"><br><br>  نرى أن اسم الفندق هو النص الوحيد في الفصل الذي يحمل اسم <code>listing_title</code> .  بعد انتهاء الفصل الدراسي ، يأتي الرمز واسم هذه السمة في دالة <code>find_all</code> ، بالإضافة إلى علامة <code>div</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">content_name = soup.find_all(<span class="hljs-string"><span class="hljs-string">'div'</span></span>, attrs={<span class="hljs-string"><span class="hljs-string">'class'</span></span>: <span class="hljs-string"><span class="hljs-string">'listing_title'</span></span>}) print(content_name)</code> </pre> <br>  يتم إرجاع كل قسم من التعليمات البرمجية مع اسم الفندق كقائمة. <br><br><img src="https://habrastorage.org/webt/gi/u2/b1/giu2b1wmq7holjcoeyfqohasg6u.png"><br><br>  لاستخراج أسماء الفنادق من الكود ، نستخدم دالة <code>getText</code> Beautiful Soup. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">content_name_list = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> div <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> content_name: content_name_list.append(div.getText().split(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]) print(content_name_list)</code> </pre> <br>  يتم إرجاع أسماء الفنادق كقائمة. <br><br><img src="https://habrastorage.org/webt/z0/bc/t-/z0bct-wezpzc8exsahj_fywmjnq.png"><br><br>  بنفس الطريقة نحصل على بيانات الأسعار.  هيكل كود للسعر مبين أدناه. <br><br><img src="https://habrastorage.org/webt/v0/ok/oy/v0okoymlgmsbc6dtxicxwa_yz38.png"><br><br>  كما ترون ، يمكننا العمل مع رمز مشابه جدًا للرمز المستخدم للفنادق. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">content_price = soup.find_all(<span class="hljs-string"><span class="hljs-string">'div'</span></span>, attrs={<span class="hljs-string"><span class="hljs-string">'class'</span></span>: <span class="hljs-string"><span class="hljs-string">'price-wrap'</span></span>}) print(content_price)</code> </pre><br>  في حالة السعر ، هناك صعوبة تذكر.  يمكنك رؤيته عن طريق تشغيل الكود التالي: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">content_price_list = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> div <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> content_price: content_price_list.append(div.getText().split(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]) print(content_price_list)</code> </pre> <br>  والنتيجة مبينة أدناه.  في حالة الإشارة إلى تخفيض السعر في قائمة الفنادق ، بالإضافة إلى بعض النصوص ، يتم إرجاع كل من السعر الأولي والسعر النهائي.  لإصلاح هذه المشكلة ، نعيد ببساطة السعر الحالي لهذا اليوم. <br><br><img src="https://habrastorage.org/webt/52/6j/mn/526jmnbmxhchiyee4jr3feptxom.png"><br><br>  يمكننا استخدام المنطق البسيط للحصول على أحدث سعر مبين في النص. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">content_price_list = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> content_price: a_split = a.getText().split(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(a_split) &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>: content_price_list.append(a_split[<span class="hljs-number"><span class="hljs-number">-4</span></span>:]) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: content_price_list.append(a_split) print(content_price_list)</code> </pre> <br>  هذا سوف يعطينا النتيجة التالية: <br><br><img src="https://habrastorage.org/webt/kx/d0/sn/kxd0snvrauaecf_q4lvpjdu8-z0.png"><br><br><h3 style=";text-align:right;direction:rtl">  API </h3><br>  API - واجهة برمجة التطبيقات (من واجهة برمجة تطبيقات اللغة الإنجليزية).  من منظور استخراج البيانات ، هو نظام قائم على الويب يوفر نقطة نهاية للبيانات يمكنك الاتصال بها من خلال البرمجة.  عادة ما يتم إرجاع البيانات بتنسيق JSON أو XML. <br><br>  من المحتمل أن تكون هذه الطريقة مفيدة للتعلم الآلي.  سأقدم مثالًا بسيطًا لاسترجاع بيانات الطقس من واجهة تطبيق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Dark Sky</a> API العامة.  للاتصال به ، تحتاج إلى التسجيل ، وسيكون لديك 1000 مكالمة مجانية يوميًا.  هذا ينبغي أن يكون كافيا للاختبار. <br><br>  للوصول إلى البيانات من Dark Sky ، <code>requests</code> مكتبة <code>requests</code> .  بادئ ذي بدء ، أحتاج إلى الحصول على عنوان URL الصحيح للطلب.  بالإضافة إلى التوقعات ، يوفر Dark Sky بيانات الطقس التاريخية.  في هذا المثال ، سوف آخذها والحصول على عنوان URL الصحيح من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوثائق</a> . <br><br>  هيكل عنوان URL هذا هو: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">https://api.darksky.net/forecast/[key]/[latitude],[longitude],[time]</code> </pre> <br>  سوف نستخدم مكتبة <code>requests</code> للحصول عليها <br>  ينتج عن خطوط الطول والعرض المحددة ، وكذلك التاريخ والوقت.  تخيل أنه بعد استخراج بيانات الأسعار اليومية للفنادق في جزيرة كريت ، قررنا معرفة ما إذا كانت سياسة الأسعار مرتبطة بالطقس. <br><br>  على سبيل المثال ، دعنا نأخذ إحداثيات أحد الفنادق في القائمة - Mitsis Laguna Resort &amp; Spa. <br><br><img src="https://habrastorage.org/webt/1j/4a/is/1j4aissalsvek5uw2opv3v9hdhw.png"><br><br>  أولاً ، قم بإنشاء عنوان URL بالإحداثيات الصحيحة ، وكذلك الوقت والتاريخ المطلوبين.  باستخدام مكتبة <code>requests</code> ، يمكننا الوصول إلى البيانات بتنسيق JSON. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests request_url = <span class="hljs-string"><span class="hljs-string">'https://api.darksky.net/forecast/fd82a22de40c6dca7d1ae392ad83eeb3/35.3378,-25.3741,2019-07-01T12:00:00'</span></span> result = requests.get(request_url).json() result</code> </pre><br>  لتسهيل قراءة النتائج وتحليلها ، يمكننا تحويل البيانات إلى إطار بيانات. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd df = pd.DataFrame.from_dict(json_normalize(result), orient=<span class="hljs-string"><span class="hljs-string">'columns'</span></span>) df.head()</code> </pre> <br><img src="https://habrastorage.org/webt/jw/1w/sv/jw1wsv_9ixycnrfu44l7qhloxb4.png"><br><br>  هناك العديد من الخيارات لأتمتة استخراج البيانات باستخدام هذه الأساليب.  في حالة الكشط على الويب ، يمكنك كتابة وظائف مختلفة لأتمتة العملية وتسهيل استخراج البيانات لعدة أيام و / أو أماكن.  في هذه المقالة ، أردت مراجعة وتقديم أمثلة رمز كافية.  ستكون المواد التالية أكثر تفصيلاً: سأخبرك بكيفية إنشاء مجموعات بيانات كبيرة وتحليلها باستخدام الطرق الموضحة أعلاه. <br><br>  شكرا لاهتمامكم! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar460675/">https://habr.com/ru/post/ar460675/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar460665/index.html">مسودة الأسئلة الشائعة: لماذا تظهر معايير C ++ كل ثلاث سنوات؟</a></li>
<li><a href="../ar460667/index.html">أتمتة اختبار الخدمات المدفوعة على iOS</a></li>
<li><a href="../ar460669/index.html">كيفية ضمان سلامة التنمية ، وتوفير الوقت والأعصاب</a></li>
<li><a href="../ar460671/index.html">الملكية والاقتراض في د</a></li>
<li><a href="../ar460673/index.html">فضح سحر DiffUtil</a></li>
<li><a href="../ar460683/index.html">Laravel الحدث العارض ومفهوم الجيل الحدث</a></li>
<li><a href="../ar460685/index.html">نقوم بتوزيع الملفات من Google Drive باستخدام nginx</a></li>
<li><a href="../ar460687/index.html">كيف تبدو العلب من الداخل</a></li>
<li><a href="../ar460695/index.html">ما هو DAA ، وكيف يساعد هذا النظام الطائرات بدون طيار؟</a></li>
<li><a href="../ar460697/index.html">أصغر خط ممكن</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>