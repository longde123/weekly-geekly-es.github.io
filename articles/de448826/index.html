<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍🔧 🔝 🛴 Klimaanlage IT. Teil I. 🆎 🙉 🛀🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penny, es wird besser, wenn es Bluetooth gibt © Sheldon, TBBT 
 Obwohl das Haus " Test " ist, haben alle versucht, es so richtig wie möglich zu machen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Klimaanlage IT. Teil I.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448826/"><blockquote>  Penny, es wird besser, wenn es Bluetooth gibt © Sheldon, TBBT </blockquote><br>  Obwohl das Haus " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Test</a> " ist, haben alle versucht, es so richtig wie möglich zu machen - gute Isolierung, anständige doppelt verglaste Fenster usw. <br><br>  Im Winter erwärmte die Sonne bei klarem Wetter das Haus so weit, dass die Heizung mit Fußbodenheizung durch einen Thermostat abgeschaltet wurde.  Alles scheint in Ordnung zu sein, aber der Frühling kam und es wurde klar, dass das Haus nur überhitzt war und gekühlt werden musste. <br><br>  Wir haben dieses Szenario vorausgesehen und uns im Voraus auf die Installation einer Klimaanlage vorbereitet: Wir haben alle notwendigen Autobahnen in der Bauphase verlegt. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Zum Thema Windows</b> <div class="spoiler_text">  Im Allgemeinen würde es sich natürlich lohnen, doppelt verglaste Fenster mit MF- und I-Brille anzubringen, aber hier würde das „zweischneidige Schwert“ (jedoch wie immer) im Winter keine freie Wärme von der Sonne erhalten. <br><br>  Im Idealfall wäre es zunächst zu berechnen, was rentabler ist: Es ist weniger erforderlich, eine elektrische Fußbodenheizung zum Heizen in der kalten Zeit zu verwenden, als eine Klimaanlage zum Kühlen zum Erwärmen zu verwenden, und auf der Grundlage einer solchen Analyse zu wählen, welche doppelt verglasten Fenster <b>korrekter</b> installiert <b>werden sollen</b> . <br><br>  Aber niemand hat eine solche Analyse durchgeführt, also haben wir das, was wir haben. <br><br>  Übrigens haben weder Bauherren noch Fensterarbeiter empfohlen, welche doppelt verglasten Fenster in unserem Fall besser geeignet sind.  Sie müssen es selbst herausfinden (einschließlich der Bezahlung für Fehler). <br></div></div><br>  Eines der wichtigen Kriterien für die Auswahl einer Klimaanlage für mein „Testhaus“ ist die Möglichkeit ihrer Integration in das „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Smart House</a> “ -System. <br><br><div class="spoiler">  <b class="spoiler_title">Integration "billig und fröhlich"</b> <div class="spoiler_text">  Die einfachste Integration fast jeder Klimaanlage ist natürlich die Verwendung von IR-Fernbedienungsbefehlen.  Diese Option passt jedoch aus ideologischen Gründen nicht zu mir: Es gibt keine Informationen über den aktuellen Status des Geräts. <br><br>  Daher verwerfen wir diese Option sofort und fahren fort. <br></div></div><br><h3>  Mehl der Wahl </h3><br>  Natürlich sind auch die verbleibenden Parameter sehr wichtig (von den Hauptprioritäten: Beim leisesten Betrieb ist die Energieklasse nicht niedriger als „A“, der Preis). <br><br>  Die Wahl fiel auf den Wechselrichter Electrolux (Atrium-Serie).  Der Hersteller gibt ausdrücklich an, dass die Klimaanlage <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">über WLAN gesteuert werden kann</a> (Sie müssen nur das optionale WLAN-Modul erwerben). <br><br>  Der Preis ist relativ human (andere Wechselrichtermodelle mit WiFi sind etwa 30% teurer, was für ein Gästehaus irgendwie zu viel ist). <br><br><div class="spoiler">  <b class="spoiler_title">Weckruf</b> <div class="spoiler_text">  Der Lieferant spricht aus irgendeinem Grund zögernd über das WiFi-Modul und weicht unter verschiedenen Vorwänden auf jede mögliche Weise seiner Lieferung aus.  Jetzt verstehe ich, dass dies eine „Glocke“ ist, aber wir gehen weiter. <br></div></div><br>  Für Google-Hilfe, Handbücher und andere Informationen (ähnlich) ist das Smart Wi-Fi-Modul Electrolux ECH / WF-01 erforderlich.  Und es gibt überhaupt keinen Mangel (dieses Modul wird auch für Warmwasserbereiter und elektrische Konvektoren desselben Herstellers verwendet) und der Preis ist mehr als erschwinglich - weniger als tausend Rubel (im Allgemeinen hätte es leicht alarmiert werden müssen).  Die Verwaltungsanwendung ist eine für alle diese Gerätetypen, was durchaus vernünftig erscheint: Der Hersteller möchte, dass ein „Ökosystem“ gebildet wird. <br><br>  Ein wenig mehr Recherche (Blick auf den regulären Android-Anwendungscode) und es stellt sich heraus, dass die Anwendung unter der folgenden Adresse mit der Cloud kommuniziert: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dongle.rusklimat.ru/api</a> - ja, es wird noch interessanter und es erscheinen sofort Gedanken darüber, wie die Integration in das Smart-Home-System erforderlich sein wird (UD). <br><br><div class="spoiler">  <b class="spoiler_title">"Bell" Nummer zwei</b> <div class="spoiler_text">  Eine Kundenbewertung wurde an einem der Standorte durchgeführt, an dem er sagte, dass die Cloud häufig „herumrollt“ und er zunächst etwa zwei Monate auf den technischen Support wartete und ihn quälte, bevor das System wie angekündigt funktionierte.  Die Bewertung ist ziemlich alt - ich dachte, ich hätte die Probleme bereits behoben und alles wäre in Ordnung. <br></div></div><br>  Das Split-System wurde bestellt, der Tag der Installation wurde festgelegt - alles ist klar: Ein paar Stunden und eine angenehme Kühle sorgen. <br><br><img src="https://habrastorage.org/webt/xh/qa/eo/xhqaeou4lqkpkhzasferpb52qpg.jpeg"><br><br>  Jetzt ist es Zeit, ein optionales Modul zu bestellen. <br><br><h3>  Rechen </h3><br>  Das Smart WiFi-Modul ist da - es ist nichts Besonderes: ein raues „Flash-Laufwerk“ mit einer einzigen Taste und einer LED, die schwach durch das Gehäuse leuchtet (natürlich, wenn es an die Stromversorgung angeschlossen ist). <br><br><img src="https://habrastorage.org/webt/pd/ky/6z/pdky6zvzhyne4lpuo0ryek9yewq.jpeg"><br><br>  Ich habe es zuerst an den Laptop angeschlossen (ich muss mir ansehen, was das Modul „vorgibt zu sein“) ... aber es ist kein einziges neues Gerät im System erschienen (ich war überrascht, aber aus irgendeinem Grund nicht sehr). <br><br>  Okay, versuchen wir es regelmäßig zu verwenden: Das Modul hat den entsprechenden Stecker im Innengerät der Klimaanlage genommen. <br><br><img src="https://habrastorage.org/webt/kg/pn/uc/kgpnuc-pmsqnle2ce9k1xgxfbau.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Rückseite der Anzeigetafel</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/jo/6p/fg/jo6pfg5g7toybpwkbg-wig29kw0.jpeg"><br></div></div><br>  Installierte das Programm und befolgte die Anweisungen: Er drückte die Taste am Modul für fünf Sekunden - er begann eine gelbe LED zu blinken (Smartlink-Modus), in dem daraufhin angezeigten Dialogfeld wurde der Name des WLAN-Netzwerks und sein Passwort angezeigt ... das Licht am Modul blinkte und wurde blau (gemäß den Anweisungen - normaler Modus). <br><br>  Obwohl alles gemäß den Anweisungen durchgeführt wurde, erschien das Gerät nicht im Programm (verschiedene Befürchtungen begannen sich zu rechtfertigen). <br><br>  Okay, wir gehen weiter und versuchen zu verstehen, womit wir es zu tun haben - wir schauen uns die Weboberfläche des Routers an.  Router - zeigte, dass das neue WLAN-Gerät angeschlossen ist und funktioniert (Prost, ein kleiner Sieg und etwas funktioniert noch). <br><br>  Gleichzeitig hat der Router dieses Modul als Glasbehälter übergeben: Der Name des neuen Hosts lautet „HF-LPT220“. <br><br>  Eine schnelle Suche ergab, dass dies ein SoC UART-WiFi ist (ca. 5 US-Dollar pro Stück und 60-80 Cent für Großeinkäufe). <br><br><h3>  Eine Autopsie ergab, dass der Patient an einer Autopsie starb. </h3><br>  Wir trennen das Modul von der Klimaanlage und öffnen das Gehäuse dieser Pfeife (sie lässt sich leicht öffnen und leicht schließen). <br><br><img src="https://habrastorage.org/webt/ft/gv/v2/ftgvv2jtp8kwwninldqtekvt1iw.jpeg"><br><br>  Auf dem Foto oben ist zu sehen, dass der Router die wahre Wahrheit gesagt hat: ein Drei-Cent-Modul mit minimaler Bindung (Leistungsstabilisator, LED (zweifarbig), Taste, Pegelwandler) - es war bereits klar, dass selbst der angeforderte Preis für dieses Modul offensichtlich zu hoch war (okay Wir gehen davon aus, dass sie auch die Vergütung für die Arbeit von Programmierern festgelegt haben, die Firmware schreiben sollten, die die erforderliche Funktionalität bietet. <br><br>  Achten Sie auf die vorzeichenbehafteten Kontakte des USB-Steckers (von USB - nur der Fall des Steckers und die gleiche Position der Stromkabel) - daher ist es nicht verwunderlich, dass das Modul vom Computer nicht erkannt wurde. <br><br><img src="https://habrastorage.org/webt/_m/mk/o_/_mmko_2i4lh5xfeisxtzqekfhwk.jpeg"><br><br>  Für die Automatisierung der Steuerung dieser Klimaanlage - Sie können dies mit allem tun (zumindest mit dem Arduino) - müssen Sie nur wissen, welche Befehle das System erwartet. <br><br>  Aber diese Informationen über die Teams machen wir einfach nicht. <br><br><h3>  Gedankenvektoren </h3><br>  Da alle Komponenten verfügbar sind und einige zusätzliche Informationen über das, was wir tatsächlich haben, erschienen sind, erscheinen die folgenden Optionen logisch: <br><br><ol><li>  Netzwerkaustauschanalyse - Die Idee war, einen „Proxyserver“ zu implementieren, auf den der anfängliche Austausch zwischen der Klimaanlage und der „Cloud“ (mittels eines Routers) weitergeleitet und von diesem „Proxy“ aus die Interaktion mit der „Cloud“ organisiert werden kann.  Integrieren Sie diesen Server dann in das Smart-Home-System. Gleichzeitig wäre es möglich, sowohl über eine Standardanwendung für die Klimaanlage als auch über UD (automatische Skripte usw.) zu arbeiten. </li><li>  Schließen Sie einen Computer über das USB-UART-Modul an die interne Einheit des Systems an, wählen Sie den Wechselkurs aus und „hören“ Sie, was die Klimaanlage dem Modul mitteilt (ich möchte glauben, dass der Austausch stattfindet, unabhängig davon, ob das Standardmodul angeschlossen ist oder nicht).  Hoffe, dass die Klimaanlage nach dem Empfang von Befehlen von der IR-Fernbedienung diese ausführt und die entsprechende Nachricht über das WiFi-Modul an die „Cloud“ sendet, um den aktuellen Status anzuzeigen.  Und hoffe, dass die Entwickler faul sind und diese Nachrichten mit den Befehlen identisch sind, die vom WiFi-Modul empfangen werden. </li><li>  Schließen Sie den Computer über das USB-UART-Modul an das WiFi-Modul an und versuchen Sie, die Klimaanlage mit der Standardanwendung zu „steuern“ und gleichzeitig Befehle vom WiFi-Modul für das Split-System zu erhalten.  Diese Option ist für die Analyse sehr vielversprechend, aber leider wurde meine Klimaanlage (im Moment) nicht in der Standardanwendung angezeigt. Daher ist das Senden von Befehlen vom Telefon aus nicht möglich. </li></ol><br><h3>  Versuche </h3><br>  Da die reguläre Anwendung nicht mit dem WiFi-Modul begann, begann ich mit dem einfachsten - ich ging gemäß Option 2 vor: Ich nahm USB-UART und schloss es an das Innengerät der Klimaanlage an. <br><br>  Leider hat die Option kein Ergebnis gebracht - das Split-System ist bei allen Austauschgeschwindigkeiten „leise“ und reagiert in keiner Weise auf externe Reize.  Anscheinend ist ein „Hacking-Schutz“ integriert: Wahrscheinlich sendet das ursprüngliche WiFi-Modul einige Daten, nach denen das Hauptgerät „unsere“ darin erkennt und austauscht. <br><br>  Während er sich mit seiner Hypothese befasste, schrieb er mehrere Briefe: an Electrolux und an Entwickler mobiler Software. <br><br><h4>  Electrolux </h4><br>  Eigentlich werden alle Klimaanlagen unter der Marke Electrolux offiziell von Rusklimat geliefert (meine erste Bekanntschaft mit dieser Firma war vor ungefähr 10 Jahren und es war alles andere als angenehm, aber das ist eine andere Geschichte).  Daher war ich nicht sehr überrascht, als ich auf Anfrage auf der Electrolux-Website von einem technischen Spezialisten von Rusclimate kam. <br><br>  Die Antwort war so aussagekräftig, dass das von mir gekaufte Modul nicht für Klimaanlagen geeignet ist, aber es gibt noch keine „geeignete“ und wird erst Mitte Juli 2019 erwartet. <br><br><h4>  Entwickler mobiler Software </h4><br>  Der Entwickler von Software für Rusklimat ist die Firma Ipol LLC.  Die Entwickler antworteten, dass in der aktuellen Version die Klimaanlagen überhaupt nicht unterstützt würden, und auf die Aufforderung, das Austauschprotokoll zu teilen, antworteten sie natürlich, dass sie solche Informationen nicht offenlegten. <br><br><h3>  Das Ende? </h3><br>  Nein, natürlich!  Jetzt muss nur noch gewartet werden, bis der Hersteller ein „kompatibles“ WiFi-Modul freigegeben und alle Reverse Engineering-Vektoren wiederholt hat, jedoch mit dem „richtigen“ Modul. <br><br>  In der Zwischenzeit kehre ich zur "billigen und fröhlichen" Automatisierungsoption zurück (ich muss den Betrieb der Klimaanlage mit einer Videoüberwachungskamera steuern - das Innengerät kommt gerade in den Rahmen). <br><br>  Wenn sich plötzlich jemand einfallen lässt, wie man trotzdem das „Richtige“ macht, freue ich mich über einen Hinweis.  Und wenn jemand schon "diesen Weg gegangen" ist und das Austauschprotokoll teilt - ich werde einfach glücklich sein;) <br><br>  Übrigens gab es im Darm des Innengeräts eine sehr interessante Informationstafel, die ein paar neue „Vektoren“ enthält: <br><br><img src="https://habrastorage.org/webt/ik/zc/dg/ikzcdgu-kj8ygctuhrovp3cvqg4.jpeg"><br><br>  PS " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil II</a> " mit einer detaillierten Beschreibung der Lösung "billig und fröhlich" wird später sein (Sie müssen nur Zeit finden). <br><br>  Ich hoffe, dass PPS „Teil III“ mit der „richtigen“ Lösung nach dem Erwerb eines kompatiblen Moduls erscheint (es bleibt abzuwarten, bis es zum Verkauf angeboten wird). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de448826/">https://habr.com/ru/post/de448826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de448806/index.html">Erstellen eines Erweiterungssystems in der Qt-Bibliothek</a></li>
<li><a href="../de448810/index.html">Wie habe ich einen Hacker gefangen?</a></li>
<li><a href="../de448812/index.html">Mondmission „Bereshit“ - Suche nach der ersten Mondbibliothek nach Beginn des Unfalls ihres Trägers</a></li>
<li><a href="../de448814/index.html">Bosque Language - Microsofts neue Programmiersprache</a></li>
<li><a href="../de448820/index.html">Rost + CLion = Liebe</a></li>
<li><a href="../de448828/index.html">Tesla-Transformator mit gedruckten Spulen, drei Komponenten verlötet - und fertig</a></li>
<li><a href="../de448830/index.html">Wo soll man mit der Entwicklung der Architektur beginnen?</a></li>
<li><a href="../de448836/index.html">Ist Stadia eine Revolution in der Spielebranche?</a></li>
<li><a href="../de448838/index.html">Was ist Content Marketing in Großbritannien und warum einen Podcast mit Papa aufnehmen?</a></li>
<li><a href="../de448840/index.html">Digitale Veranstaltungen in Moskau vom 22. bis 28. April</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>