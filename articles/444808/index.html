<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>游꿖 游놂 游댋 Despliegues autom치ticos canarios con Flagger e Istio 游꿪 游볮 游늻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El CD es reconocido como una pr치ctica de desarrollo de software empresarial; es el resultado de una evoluci칩n natural de los principios de CI establec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Despliegues autom치ticos canarios con Flagger e Istio</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/444808/"><p><img src="https://habrastorage.org/webt/ol/eo/lt/oleoltogrvhcuhjuil5zmvmbpxi.png"></p><br><p>  El CD es reconocido como una pr치ctica de desarrollo de software empresarial; es el resultado de una evoluci칩n natural de los principios de CI establecidos.  Sin embargo, el CD sigue siendo una ocurrencia bastante rara, posiblemente debido a la complejidad de la administraci칩n y al temor de implementaciones fallidas que afectan la disponibilidad del sistema. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flagger</a> es un operador de c칩digo abierto de Kubernetes que tiene como objetivo eliminar las relaciones confusas.  Automatiza la promoci칩n de implementaciones canarias utilizando las compensaciones de tr치fico de Istio y las m칠tricas de Prometheus para analizar el comportamiento de la aplicaci칩n durante el despliegue administrado. </p><br><p>  A continuaci칩n hay una gu칤a paso a paso sobre c칩mo configurar y usar Flagger en Google Kubernetes Engine (GKE). </p><a name="habracut"></a><br><h3 id="nastroyka-klastera-kubernetes">  Configurar el cl칰ster de Kubernetes </h3><br><p>  Comienza creando un cl칰ster GKE con un complemento Istio (si no tiene una cuenta GCP, puede registrarse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu칤</a> para recibir cr칠ditos gratuitos). </p><br><p> Inicie sesi칩n en Google Cloud, cree un proyecto y habilite la facturaci칩n.  Instale la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">utilidad de</a> l칤nea de comandos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gcloud</a> y personalice su proyecto con <code>gcloud init</code> . </p><br><p>  Establezca el proyecto predeterminado, el 치rea de c치lculo y la zona (reemplace <code>PROJECT_ID</code> con su proyecto): </p><br><pre> <code class="plaintext hljs">gcloud config set project PROJECT_ID gcloud config set compute/region us-central1 gcloud config set compute/zone us-central1-a</code> </pre> <br><p>  Habilite el servicio GKE y cree un cl칰ster con los complementos HPA e Istio: </p><br><pre> <code class="plaintext hljs">gcloud services enable container.googleapis.com K8S_VERSION=$(gcloud beta container get-server-config --format=json | jq -r '.validMasterVersions[0]') gcloud beta container clusters create istio \ --cluster-version=${K8S_VERSION} \ --zone=us-central1-a \ --num-nodes=2 \ --machine-type=n1-standard-2 \ --disk-size=30 \ --enable-autorepair \ --no-enable-cloud-logging \ --no-enable-cloud-monitoring \ --addons=HorizontalPodAutoscaling,Istio \ --istio-config=auth=MTLS_PERMISSIVE</code> </pre> <br><p>  El comando anterior crear치 un grupo de nodos predeterminado que incluye dos m치quinas virtuales <code>n1-standard-2</code> (vCPU: 2, RAM 7.5 GB, disco: 30 GB).  Idealmente, debe aislar los componentes de Istio de sus cargas de trabajo, pero no hay una manera f치cil de ejecutar los pods de Istio en un grupo de nodos dedicado.  Los manifiestos de Istio se consideran de solo lectura, y GKE deshacer치 cualquier cambio, como vincular a un nodo o desconectarse de un hogar. </p><br><p>  Configure las credenciales para <code>kubectl</code> : </p><br><pre> <code class="plaintext hljs">gcloud container clusters get-credentials istio</code> </pre> <br><p>  Cree el enlace del rol de administrador del cl칰ster: </p><br><pre> <code class="plaintext hljs">kubectl create clusterrolebinding "cluster-admin-$(whoami)" \ --clusterrole=cluster-admin \ --user="$(gcloud config get-value core/account)"</code> </pre> <br><p>  Instale la herramienta de l칤nea de comando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Helm</a> : </p><br><pre> <code class="plaintext hljs">brew install kubernetes-helm</code> </pre> <br><p>  Homebrew 2.0 ahora tambi칠n est치 disponible para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Linux</a> . </p><br><p>  Cree una cuenta de servicio y enlace de rol de cl칰ster para Tiller: </p><br><pre> <code class="plaintext hljs">kubectl -n kube-system create sa tiller &amp;&amp; \ kubectl create clusterrolebinding tiller-cluster-rule \ --clusterrole=cluster-admin \ --serviceaccount=kube-system:tiller</code> </pre> <br><p>  Expanda Tiller en el <code>kube-system</code> : </p><br><pre> <code class="plaintext hljs">helm init --service-account tiller</code> </pre> <br><p>  Deber칤a considerar usar SSL entre Helm y Tiller.  Para obtener m치s informaci칩n sobre c칩mo asegurar una instalaci칩n de Helm, consulte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">docs.helm.sh</a> </p><br><p>  Confirmar configuraci칩n: </p><br><pre> <code class="plaintext hljs">kubectl -n istio-system get svc</code> </pre> <br><p>  Despu칠s de unos segundos, GCP deber칤a asignar una direcci칩n IP externa para el servicio de <code>istio-ingressgateway</code> . </p><br><h3 id="nastroyka-vhodnogo-shlyuza-istio">  Istio Input Gateway Setup </h3><br><p>  Cree una direcci칩n IP est치tica llamada <code>istio-gateway</code> utilizando la direcci칩n IP de la puerta de enlace Istio: </p><br><pre> <code class="plaintext hljs">export GATEWAY_IP=$(kubectl -n istio-system get svc/istio-ingressgateway -ojson | jq -r .status.loadBalancer.ingress[0].ip) gcloud compute addresses create istio-gateway --addresses ${GATEWAY_IP} --region us-central1</code> </pre> <br><p>  Ahora necesita un dominio de Internet y acceso a su registrador DNS.  Agregue dos entradas A (reemplace <code>example.com</code> con su dominio): </p><br><pre> <code class="plaintext hljs">istio.example.com A ${GATEWAY_IP} *.istio.example.com A ${GATEWAY_IP}</code> </pre> <br><p>  Verifique que el comod칤n DNS est칠 funcionando: </p><br><pre> <code class="plaintext hljs">watch host test.istio.example.com</code> </pre> <br><p>  Cree una puerta de enlace com칰n Istio para proporcionar servicios fuera de la malla de servicios a trav칠s de HTTP: </p><br><pre> <code class="plaintext hljs">apiVersion: networking.istio.io/v1alpha3 kind: Gateway metadata: name: public-gateway namespace: istio-system spec: selector: istio: ingressgateway servers: - port: number: 80 name: http protocol: HTTP hosts: - "*"</code> </pre> <br><p>  Guarde el recurso anterior como public-gateway.yaml y luego apl칤quelo: </p><br><pre> <code class="plaintext hljs">kubectl apply -f ./public-gateway.yaml</code> </pre> <br><p>  Ning칰n sistema de producci칩n debe proporcionar servicios en Internet sin SSL.  Para proteger la puerta de enlace Istio con cert-manager, CloudDNS y Let's Encrypt, lea la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci칩n de</a> Flagger GKE. </p><br><h3 id="ustanovka-flagger">  Instalaci칩n de abanderado </h3><br><p>  El complemento GKE Istio no incluye la instancia de Prometheus, que limpia el servicio de telemetr칤a de Istio.  Dado que Flagger utiliza las m칠tricas HTTP de Istio para realizar el an치lisis canario, debe implementar la siguiente configuraci칩n de Prometheus similar a la que se proporciona con el esquema oficial de Istio Helm. </p><br><pre> <code class="plaintext hljs">REPO=https://raw.githubusercontent.com/stefanprodan/flagger/master kubectl apply -f ${REPO}/artifacts/gke/istio-prometheus.yaml</code> </pre> <br><p>  Agregue el repositorio de Flagger Helm: </p><br><pre> <code class="plaintext hljs">helm repo add flagger https://flagger.app</code> </pre> <br><p>  Expanda Flagger en el <code>istio-system</code> del sistema <code>istio-system</code> habilitando las notificaciones Slack: </p><br><pre> <code class="plaintext hljs">helm upgrade -i flagger flagger/flagger \ --namespace=istio-system \ --set metricsServer=http://prometheus.istio-system:9090 \ --set slack.url=https://hooks.slack.com/services/YOUR-WEBHOOK-ID \ --set slack.channel=general \ --set slack.user=flagger</code> </pre> <br><p>  Puede instalar Flagger en cualquier espacio de nombres si puede comunicarse con el servicio Istio Prometheus a trav칠s del puerto 9090. </p><br><p>  Flagger tiene un tablero de Grafana para el an치lisis canario.  Instale Grafana en el <code>istio-system</code> : </p><br><pre> <code class="plaintext hljs">helm upgrade -i flagger-grafana flagger/grafana \ --namespace=istio-system \ --set url=http://prometheus.istio-system:9090 \ --set user=admin \ --set password=change-me</code> </pre> <br><p>  Expanda Grafana a trav칠s de una puerta de enlace abierta creando un servicio virtual (reemplace <code>example.com</code> con su dominio): </p><br><pre> <code class="plaintext hljs">apiVersion: networking.istio.io/v1alpha3 kind: VirtualService metadata: name: grafana namespace: istio-system spec: hosts: - "grafana.istio.example.com" gateways: - public-gateway.istio-system.svc.cluster.local http: - route: - destination: host: flagger-grafana</code> </pre> <br><p>  Guarde el recurso anterior como grafana-virtual-service.yaml y luego apl칤quelo: </p><br><pre> <code class="plaintext hljs">kubectl apply -f ./grafana-virtual-service.yaml</code> </pre> <br><p>  Cuando vaya a <code>http://grafana.istio.example.com</code> en un navegador, deber칤a ser dirigido a la p치gina de inicio de sesi칩n de Grafana. </p><br><h3 id="deploy-veb-prilozheniy-s-flagger">  Implementaci칩n de aplicaciones web con Flagger </h3><br><p>  Flagger implementa Kubernetes y, si es necesario, escala autom치tica horizontal (HPA), luego crea una serie de objetos (implementaciones de Kubernetes, servicios ClusterIP y servicios virtuales Istio).  Estos objetos abren la aplicaci칩n en la malla de servicios y gestionan el an치lisis y la promoci칩n canarios. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/la/cg/h5/lacgh59saaxevwtpgoiby77xe7u.png"></a> </p><br><p>  Cree un espacio de nombres de prueba con la implementaci칩n de Istio Sidecar habilitada: </p><br><pre> <code class="plaintext hljs">REPO=https://raw.githubusercontent.com/stefanprodan/flagger/master kubectl apply -f ${REPO}/artifacts/namespaces/test.yaml</code> </pre> <br><p>  Cree una herramienta de escala horizontal autom치tica de despliegue y hogar: </p><br><pre> <code class="plaintext hljs">kubectl apply -f ${REPO}/artifacts/canaries/deployment.yaml kubectl apply -f ${REPO}/artifacts/canaries/hpa.yaml</code> </pre> <br><p>  Implemente un servicio de carga de prueba para generar tr치fico durante el an치lisis canario: </p><br><pre> <code class="plaintext hljs">helm upgrade -i flagger-loadtester flagger/loadtester \ --namepace=test</code> </pre> <br><p>  Cree un recurso canario personalizado (reemplace <code>example.com</code> con su dominio): </p><br><pre> <code class="plaintext hljs">apiVersion: flagger.app/v1alpha3 kind: Canary metadata: name: podinfo namespace: test spec: targetRef: apiVersion: apps/v1 kind: Deployment name: podinfo progressDeadlineSeconds: 60 autoscalerRef: apiVersion: autoscaling/v2beta1 kind: HorizontalPodAutoscaler name: podinfo service: port: 9898 gateways: - public-gateway.istio-system.svc.cluster.local hosts: - app.istio.example.com canaryAnalysis: interval: 30s threshold: 10 maxWeight: 50 stepWeight: 5 metrics: - name: istio_requests_total threshold: 99 interval: 30s - name: istio_request_duration_seconds_bucket threshold: 500 interval: 30s webhooks: - name: load-test url: http://flagger-loadtester.test/ timeout: 5s metadata: cmd: "hey -z 1m -q 10 -c 2 http://podinfo.test:9898/"</code> </pre> <br><p>  Guarde el recurso anterior como podinfo-canary.yaml y luego apl칤quelo: </p><br><pre> <code class="plaintext hljs">kubectl apply -f ./podinfo-canary.yaml</code> </pre> <br><p>  El an치lisis anterior, si tiene 칠xito, se realizar치 dentro de cinco minutos, con m칠tricas HTTP verificadas cada medio minuto.  Puede determinar el tiempo m칤nimo requerido para verificar y promover una implementaci칩n canaria utilizando la siguiente f칩rmula: <code>interval * (maxWeight / stepWeight)</code> .  Los campos de Canary CRD se documentan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu칤</a> . </p><br><p>  En un par de segundos, Flagger crear치 objetos canarios: </p><br><pre> <code class="plaintext hljs"># applied deployment.apps/podinfo horizontalpodautoscaler.autoscaling/podinfo canary.flagger.app/podinfo # generated deployment.apps/podinfo-primary horizontalpodautoscaler.autoscaling/podinfo-primary service/podinfo service/podinfo-canary service/podinfo-primary virtualservice.networking.istio.io/podinfo</code> </pre> <br><p>  Abra un navegador y vaya a <code>app.istio.example.com</code> , deber칤a ver el n칰mero de versi칩n de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplicaci칩n de demostraci칩n</a> . </p><br><h3 id="avtomaticheskiy-canary-analiz-i-prodvizhenie">  An치lisis autom치tico canario y promoci칩n </h3><br><p>  Flagger implementa un bucle de control que gradualmente mueve el tr치fico a canario, mientras mide indicadores clave de rendimiento, por ejemplo, la tasa de 칠xito de las solicitudes HTTP, la duraci칩n promedio de las solicitudes y el rendimiento del hogar.  Seg칰n el an치lisis, el KPI canario progresa o se interrumpe, y los resultados del an치lisis se publican en Slack. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/bw/85/ua/bw85uavib13od3yhfyv7yaqbdmo.png"></a> </p><br><p>  La implementaci칩n de Canary comienza cuando cambia uno de los siguientes objetos: </p><br><ul><li>  Implemente PodSpec (imagen del contenedor, comando, puertos, env, etc.) </li><li>  ConfigMaps se montan como vol칰menes o se convierten en variables de entorno </li><li>  Los secretos se montan como vol칰menes o se convierten en variables de entorno. </li></ul><br><p>  Lanzamiento de una implementaci칩n canaria al actualizar una imagen de contenedor: </p><br><pre> <code class="plaintext hljs">kubectl -n test set image deployment/podinfo \ podinfod=quay.io/stefanprodan/podinfo:1.4.1</code> </pre> <br><p>  Flagger descubre que la versi칩n de implementaci칩n ha cambiado y comienza a analizarla: </p><br><pre> <code class="plaintext hljs">kubectl -n test describe canary/podinfo Events: New revision detected podinfo.test Scaling up podinfo.test Waiting for podinfo.test rollout to finish: 0 of 1 updated replicas are available Advance podinfo.test canary weight 5 Advance podinfo.test canary weight 10 Advance podinfo.test canary weight 15 Advance podinfo.test canary weight 20 Advance podinfo.test canary weight 25 Advance podinfo.test canary weight 30 Advance podinfo.test canary weight 35 Advance podinfo.test canary weight 40 Advance podinfo.test canary weight 45 Advance podinfo.test canary weight 50 Copying podinfo.test template spec to podinfo-primary.test Waiting for podinfo-primary.test rollout to finish: 1 of 2 updated replicas are available Promotion completed! Scaling down podinfo.test</code> </pre> <br><p>  Durante el an치lisis, los resultados canarios se pueden rastrear usando Grafana: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/so/xr/cr/soxrcrt3wvsgtnbwpukfwbzityy.png"></a> </p><br><p>  Tenga en cuenta: si se aplican nuevos cambios a la implementaci칩n durante el an치lisis canario, Flagger reiniciar치 la fase de an치lisis. </p><br><p>  Haga una lista de todos los "canarios" en su grupo: </p><br><pre> <code class="plaintext hljs">watch kubectl get canaries --all-namespaces NAMESPACE NAME STATUS WEIGHT LASTTRANSITIONTIME test podinfo Progressing 15 2019-01-16T14:05:07Z prod frontend Succeeded 0 2019-01-15T16:15:07Z prod backend Failed 0 2019-01-14T17:05:07Z</code> </pre> <br><p>  Si ha habilitado las notificaciones de Slack, recibir치 los siguientes mensajes: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/xx/0v/cn/xx0vcnpcarb8nb3xivkmfz_6pfw.png"></a> </p><br><h3 id="avtomaticheskiy-otkat">  Retroceso autom치tico </h3><br><p>  Durante el an치lisis canario, puede generar errores sint칠ticos HTTP 500 y un alto retraso de respuesta para verificar si Flagger detendr치 la implementaci칩n. </p><br><p>  Cree un sub de prueba y haga lo siguiente en 칠l: </p><br><pre> <code class="plaintext hljs">kubectl -n test run tester \ --image=quay.io/stefanprodan/podinfo:1.2.1 \ -- ./podinfo --port=9898 kubectl -n test exec -it tester-xx-xx sh</code> </pre> <br><p>  HTTP 500 Error Generation: </p><br><pre> <code class="plaintext hljs">watch curl http://podinfo-canary:9898/status/500</code> </pre> <br><p>  Generaci칩n de retraso: </p><br><pre> <code class="plaintext hljs">watch curl http://podinfo-canary:9898/delay/1</code> </pre> <br><p>  Cuando el n칰mero de comprobaciones sin 칠xito alcanza el valor umbral, el tr치fico se enruta de nuevo al canal primario, el canario se escala a cero y la implementaci칩n se marca como no exitosa. </p><br><p>  Los errores de Canary y los picos de retraso se registran como eventos de Kubernetes y Flagger los registra en formato JSON: </p><br><pre> <code class="plaintext hljs">kubectl -n istio-system logs deployment/flagger -f | jq .msg Starting canary deployment for podinfo.test Advance podinfo.test canary weight 5 Advance podinfo.test canary weight 10 Advance podinfo.test canary weight 15 Halt podinfo.test advancement success rate 69.17% &lt; 99% Halt podinfo.test advancement success rate 61.39% &lt; 99% Halt podinfo.test advancement success rate 55.06% &lt; 99% Halt podinfo.test advancement success rate 47.00% &lt; 99% Halt podinfo.test advancement success rate 37.00% &lt; 99% Halt podinfo.test advancement request duration 1.515s &gt; 500ms Halt podinfo.test advancement request duration 1.600s &gt; 500ms Halt podinfo.test advancement request duration 1.915s &gt; 500ms Halt podinfo.test advancement request duration 2.050s &gt; 500ms Halt podinfo.test advancement request duration 2.515s &gt; 500ms Rolling back podinfo.test failed checks threshold reached 10 Canary failed! Scaling down podinfo.test</code> </pre> <br><p>  Si ha habilitado las notificaciones de Slack, recibir치 un mensaje cuando se alcance el plazo o cuando se alcance el n칰mero m치ximo de cheques fallidos durante el an치lisis: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/wo/te/dq/wotedqdhoxxyhjug_lcuy57wno0.png"></a> </p><br><h3 id="v-zaklyuchenie">  En conclusi칩n </h3><br><p>  El lanzamiento de una malla de servicios, como Istio, adem치s de Kubernetes proporcionar치 m칠tricas, registros y protocolos autom치ticos, pero la implementaci칩n de cargas de trabajo a칰n depende de herramientas externas.  Flagger busca cambiar esto agregando las capacidades de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">entrega progresiva</a> de Istio. </p><br><p>  Flagger es compatible con cualquier soluci칩n Kubernetes CI / CD, y el an치lisis canario puede ampliarse f치cilmente utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">webhooks</a> para realizar pruebas de integraci칩n / aceptaci칩n del sistema, pruebas de estr칠s o cualquier otra prueba de usuario.  Debido a que Flagger es declarativo y responde a los eventos de Kubernetes, se puede usar en tuber칤as de GitOps con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Weave Flux</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JenkinsX</a> .  Si est치 utilizando JenkinsX, puede instalar Flagger con complementos jx. </p><br><p>  Flagger es compatible con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Weaveworks</a> y proporciona implementaciones canarias en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Weave Cloud</a> .  El proyecto se prueba en GKE, EX y metal desnudo con kubeadm. </p><br><p>  Si tiene alguna sugerencia para mejorar Flagger, env칤e una pregunta o relaciones p칰blicas a GitHub en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">stefanprodan / flagger</a> .  춰Las contribuciones son m치s que bienvenidas! </p><br><p>  Gracias <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ray Tsang</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/444808/">https://habr.com/ru/post/444808/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444796/index.html">Ingenier칤a inversa del tractor: c칩mo acelerar el proceso de medici칩n a la mitad</a></li>
<li><a href="../444798/index.html">Descripci칩n general de la secci칩n Frontend en la conferencia DUMP: desarrollo frontend en su totalidad</a></li>
<li><a href="../444800/index.html">El c칩digo abierto no genera dinero porque no fue creado para esto</a></li>
<li><a href="../444804/index.html">El operador de intercambio BTC-e pide ser extraditado a Rusia</a></li>
<li><a href="../444806/index.html">Moira participa en Google Summer of Code 2019</a></li>
<li><a href="../444810/index.html">Procesadores y marketing en inform치tica.</a></li>
<li><a href="../444814/index.html">Criptograf칤a en Java. Cifrado de clase</a></li>
<li><a href="../444816/index.html">Carpinter칤a de bricolaje: expectativas y realidad</a></li>
<li><a href="../444818/index.html">Citymobil: una gu칤a para nuevas empresas para aumentar la estabilidad en medio del crecimiento. Parte 1</a></li>
<li><a href="../444820/index.html">Mockdown: la forma m치s r치pida de crear wireframes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>