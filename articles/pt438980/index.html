<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëäüèø üî¢ üïâÔ∏è Spring Boot 2: o que h√° de novo? üöö ‚ôèÔ∏è üë∏üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De um tradutor: apesar do fato de um ano j√° ter passado, as perguntas sobre o que h√° de novo nos deu o 2nd Boot n√£o param por a√≠. Escrever esse conte√∫...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Spring Boot 2: o que h√° de novo?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/438980/"><p>  <em>De um tradutor: apesar do fato de um ano j√° ter passado, as perguntas sobre o que h√° de novo nos deu o 2nd Boot n√£o param por a√≠.</em>  <em>Escrever esse conte√∫do do zero n√£o √© a id√©ia mais inteligente.</em>  <em>Por isso, decidimos traduzir o artigo, que nos parece o mais conciso e, ao mesmo tempo, bastante completo.</em> </p><br><p>  O lan√ßamento do Spring Boot 2 ocorreu no in√≠cio de 2018 e todos est√£o ansiosos para v√™-lo em breve.  Este lan√ßamento foi o culminar de 17 meses de trabalho e mais de 6.800 confirma√ß√µes de 215 pessoas diferentes.  H√° muitos recursos interessantes que vale a pena discutir, ent√£o vamos falar sobre o que h√° de novo no Spring Boot 2. </p><br><p>  Neste artigo, consideraremos: </p><br><ul><li>  A hist√≥ria do Spring Boot </li><li>  Novidades do Spring Boot </li><li>  Guia de atualiza√ß√£o do Spring Boot 2 </li></ul><a name="habracut"></a><br><h2 id="istoriya-spring-boot">  Hist√≥ria do Spring Boot </h2><br><p>  Antes de me aprofundar nas inova√ß√µes, gostaria de aproveitar esta oportunidade e contar um pouco sobre a hist√≥ria do Spring Boot.  Em uma postagem publicada em agosto de 2013, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Phil Webb anunciou o primeiro lan√ßamento de um projeto chamado Spring Boot</a> em seu blog. </p><br><p>  <em>O Spring Boot foi criado para simplificar a cria√ß√£o de aplicativos e servi√ßos prontos para uso no Spring, sem esfor√ßo desnecess√°rio.</em>  <em>O Spring Boot √© uma vis√£o subjetiva da plataforma Spring, que permite que usu√°rios iniciantes e experientes do Spring encontrem tudo o que precisam.</em>  <em>Usando o Boot, voc√™ pode criar aplicativos independentes que s√£o executados como 'java-jar' ou distribu√≠dos em um formato WAR mais tradicional.</em> </p><br><p>  Ap√≥s cerca de 9 meses, em abril de 2014, o Spring Boot 1.0 foi lan√ßado.  Desde ent√£o, houve muitos lan√ßamentos menores e novos recursos √∫teis. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring Boot 1.1 (junho de 2014)</a> </p><br><ul><li>  teste de inicializa√ß√£o de inicializa√ß√£o de mola </li><li>  M√©tricas e pontos finais de integridade </li><li>  Auto-configura√ß√£o do Elastic Search, Apache Solr, Spring Social e Spring Integration </li><li>  Suporte a modelos (Freemaker, Groovy e Velocity) </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring Boot 1.2 (mar√ßo de 2015)</a> </p><br><ul><li>  Servlet 3.1, Tomcat 8 e Jetty 9 </li><li>  Primavera 4.1 </li><li>  Anota√ß√£o @SpringBootApplication </li><li>  Suporte por e-mail </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring Boot 1.3 (dezembro de 2016)</a> </p><br><ul><li>  Atualizando o Spring Framework para a vers√£o 4.2 </li><li>  Atualizando o Spring Security para a vers√£o 4.0 </li><li>  Ferramentas do desenvolvedor </li><li>  Armazenando em cache a configura√ß√£o autom√°tica </li><li>  JARs totalmente execut√°veis ‚Äã‚Äãe suporte de servi√ßo </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring Boot 1.4 (janeiro de 2017)</a> </p><br><ul><li>  Primavera 4.3 </li><li>  Hibernate 5 </li><li>  Testando aprimoramentos </li><li>  Iniciador de integra√ß√£o </li><li>  Suporte para Couchbase e Neo4J </li></ul><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring Boot 1.5 (fevereiro de 2017)</a> </p><br><ul><li>  Terminal de registradores </li><li>  Suporte para Apache Kafka </li><li>  Mecanismos avan√ßados para Cloud Foundry </li><li>  Suporte LDAP </li><li>  Atualiza√ß√µes de teste </li></ul><br><h2 id="chto-novogo-v-spring">  Novidades da Primavera </h2><br><p>  Ent√£o, o que h√° de novo no Spring Boot 2?  Se falamos da maior inova√ß√£o, essa √© uma atualiza√ß√£o do Spring Framework para a 5¬™ vers√£o.  Desde que o Spring Framework 5 foi lan√ßado em setembro de 2017, a maioria dos desenvolvedores (como eu) aguardava o lan√ßamento do Spring Boot 2. O Spring Framework 5 tem uma lista consider√°vel de novos recursos, mas eu gostaria de falar apenas sobre alguns dos mais importantes. </p><br><h3 id="chto-novogo-v-spring-framework-5">  O que h√° de novo no Spring Framework 5 </h3><br><h4 id="podderzhka-versiy-java-8">  Suporte √† vers√£o Java 8+ </h4><br><p> Se voc√™ continuar criando aplicativos no Spring Framework, precisar√° trabalhar com o Java vers√£o 8+.  Voc√™ provavelmente pensou que esta √© uma mudan√ßa muito importante para todos n√≥s, mas para a equipe da Primavera √© ainda mais importante.  Isso permitiu atualizar a base de c√≥digo-fonte para o Java 8 com todos os seus novos recursos, como express√µes ou fluxos lambda.  Isso n√£o apenas torna o c√≥digo mais leg√≠vel, mas tamb√©m melhora o desempenho do n√∫cleo da plataforma. </p><br><h4 id="podderzhka-java-9">  Suporte para Java 9 </h4><br><p>  Se voc√™ deseja usar o Java 9, precisa atualizar para o Spring Framework 5 e tamb√©m para o Spring Boot 2. Sei que muitos ainda n√£o usam as vers√µes mais recentes do Java em produ√ß√£o, e esta √© uma √≥tima oportunidade para experimentar novos e legais "brinquedos".  Tudo deve funcionar sem problemas ao usar o caminho de classe padr√£o, mas li sobre algumas dificuldades ao mudar para os m√≥dulos Java 9. </p><br><h4 id="spring-mvc">  Spring mvc </h4><br><p>  Embora o Spring MVC n√£o esteja no centro da hist√≥ria neste artigo, vale a pena dizer que houve v√°rias atualiza√ß√µes agrad√°veis.  N√£o vou me debru√ßar sobre eles; para detalhes, consulte a <a href="">documenta√ß√£o do Spring Framework 5</a> . </p><br><h4 id="spring-webflux">  Spring webflux </h4><br><p>  Os fluxos de dados ass√≠ncronos s√£o fundamentais para a hist√≥ria do Spring Framework 5. Esse √© um tipo de pensamento completamente diferente, mas, felizmente para n√≥s, n√£o h√° necessidade de reaprender a escrever aplicativos de uma maneira completamente nova.  O Spring WebFlux √© uma estrutura absolutamente ass√≠ncrona e sem bloqueio, constru√≠da do zero, que permite lidar com um grande n√∫mero de conex√µes paralelas.  Embora seja uma revolu√ß√£o no paradigma, n√£o ser√° t√£o dif√≠cil come√ßar. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/77f/704/951/77f704951fdd78f0cf3d4e6a4836ed17.png" alt="Webflux"></p><br><h4 id="podderzhka-kotlin">  Suporte Kotlin </h4><br><p>  O suporte ao Kotlin foi adicionado novamente em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://start.spring.io</a> , mas o Spring Framework 5 possui suporte especializado para esse idioma que traz recursos √∫teis, voc√™ pode ler sobre eles <a href="">aqui</a> . </p><br><h4 id="uluchsheniya-v-mehanizmah-testirovaniya">  Testando aprimoramentos </h4><br><p>  A maior mudan√ßa no sistema de teste √© o suporte total ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JUnit</a> 5 Jupiter.  Falarei mais sobre isso mais tarde, mas quando voc√™ inicia um novo aplicativo no Spring Boot 2, ainda usa o JUnit 4 por padr√£o; no entanto, mudar para o JUnit 5 √© uma tarefa trivial. </p><br><h3 id="chto-novogo-v-spring-boot-2">  O que h√° de novo no Spring Boot 2 </h3><br><h4 id="obnovleniya-storonnih-bibliotek">  Atualiza√ß√µes da biblioteca de terceiros </h4><br><p>  A cada nova vers√£o do Spring Boot, a equipe do Spring tem a oportunidade de atualizar v√°rias depend√™ncias. </p><br><ul><li>  Timeleaf 3 * </li><li>  Jetty 9.4 </li><li>  Tomcat 8.5 </li><li>  Hibernate 5.2 </li><li>  Via 5 </li><li>  Gradle 4 </li></ul><br><p>  * <em>O iniciador do Thymeleaf agora possui um thymeleaf-extras-java8time embutido.</em> </p><br><h4 id="bezopasnost-i-reactive-spring-data">  Dados de seguran√ßa e primavera reativos </h4><br><p>  Com a mudan√ßa para o Spring WebFlux, o Spring Data adicionou suporte para aplicativos com fluxos de dados ass√≠ncronos.  Cassandra, MongoDB, Couchbase e Redis atualmente t√™m suporte a API ass√≠ncrona.  O Spring Boot possui entradas para POM para todos eles, facilitando o in√≠cio. </p><br><p>  H√° tamb√©m uma oportunidade de usar o Spring Security 5.0 em nossos aplicativos reativos. </p><br><h4 id="actuator">  Atuador </h4><br><p>  O Spring Boot Actuator n√£o √© novidade, mas foi reescrito do zero.  Se voc√™ ainda n√£o est√° familiarizado com o Atuador, eis o que ele faz: ele exibe automaticamente pontos de extremidade para obter informa√ß√µes sobre o status do aplicativo.  O atuador no Spring Boot 1.x foi escrito sobre os servlets e, com as novas abordagens reativas, a equipe do Spring precisava de uma solu√ß√£o que suporta as abordagens antiga e reativa.  Al√©m disso, as seguintes altera√ß√µes foram feitas no Atuador: </p><br><ul><li>  Redesenha para suportar servlets e reatividade </li><li>  Status e verifica√ß√£o de sa√∫de detalhada tornam-se separados </li><li>  Modelo de seguran√ßa simplificado </li><li>  Mudando para Micr√¥metro (√© como SLF4J, apenas para m√©tricas) </li><li>  Estrutura de dados JSON aprimorada </li><li>  Um processo simplificado para criar pontos de extremidade personalizados. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Ponto final</a> </li><li>  @WebEndpoint </li><li>  @JmxEndpoint </li></ul><br><p> √â prov√°vel que haja dificuldades na atualiza√ß√£o devido a altera√ß√µes no modelo de seguran√ßa, sobre as quais falaremos mais adiante.  Por padr√£o, todos os pontos de extremidade da Web s√£o acess√≠veis atrav√©s do caminho <code>/actuator</code> com uma URL no formato <code>/actuator/{id}</code> .  O caminho / <code>actuator</code> pode ser alterado nas configura√ß√µes de <code>management.endpoints.web.base-path</code> . </p><br><p>  H√° um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bloco de documenta√ß√£o</a> separado e detalhado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para os pontos de extremidade da API da Web do Spring Boot Actuator.</a> Vale a pena iniciar a introdu√ß√£o a essa ferramenta. </p><br><h4 id="plagin-gradle">  Gradle Plugin </h4><br><p>  Eu sempre gostei muito de Gradle, e estou muito feliz que a equipe tenha decidido reescrever o plugin para Gradle. <br>  O plug-in Spring Boot Gradle permite implementar o suporte ao Spring Boot no Gradle e permite empacotar arquivos jar ou war execut√°veis, executar aplicativos no Spring Boot e gerenciar depend√™ncias por meio das depend√™ncias do spring boot.  O plug-in Gradle no Spring Boot requer o Gradle vers√£o 4.0 e posterior. </p><br><p>  <strong>Introdu√ß√£o</strong> </p><br><p>  Para come√ßar a trabalhar com o plug-in, voc√™ precisa envi√°-lo para o projeto. </p><br><pre> <code class="plaintext hljs">buildscript { repositories { maven { url 'https://repo.spring.io/libs-milestone' } } dependencies { classpath 'org.springframework.boot:spring-boot-gradle-plugin:2.0.0.RC1' } } apply plugin: 'org.springframework.boot'</code> </pre> <br><p>  <strong>Criando jar execut√°vel e arquivos de guerra</strong> </p><br><p>  A tarefa bootRepackage foi substitu√≠da por bootJar e bootWar para criar arquivos jar e war, respectivamente.  Ambas as tarefas t√™m mais funcionalidade do que o comando similar Gradle padr√£o, fornecendo acesso a todas as configura√ß√µes e l√≥gica. </p><br><p>  <strong>Gerenciamento de Depend√™ncias</strong> </p><br><p>  O plug-in Spring Boot Gradle n√£o puxa mais o plug-in de gerenciamento de depend√™ncia automaticamente.  Em vez disso, o plug-in Gradle Spring Boot v√™ que o plug-in de gerenciamento de depend√™ncias est√° conectado e importa a vers√£o correta da BOM.  Isso permite que voc√™ controle melhor onde e como o gerenciamento de depend√™ncias est√° configurado.  Para a maioria dos aplicativos, adicionar um plug-in de gerenciamento de depend√™ncia √© suficiente: </p><br><pre> <code class="plaintext hljs">apply plugin: 'io.spring.dependency-management'</code> </pre> <br><p>  O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plugin Gradle possui sua pr√≥pria documenta√ß√£o</a> , que cont√©m informa√ß√µes muito √∫teis.  Eu recomendo que quem quiser come√ßar a trabalhar com a Gradle siga este link. </p><br><h4 id="uproschennaya-sistema-bezopasnosti">  Seguran√ßa simplificada </h4><br><p>  Um dos principais objetivos do Spring Boot 2.x era simplificar a configura√ß√£o de seguran√ßa e facilitar a adi√ß√£o de configura√ß√µes de seguran√ßa personalizadas.  Por padr√£o, todos os dados s√£o protegidos, incluindo recursos est√°ticos e pontos de extremidade do atuador.  Se o Spring Security estiver no caminho de classe, o Spring Boot adicionar√° a anota√ß√£o <code>@EnableWebSecurity</code> e qual mecanismo de autentica√ß√£o espec√≠fico ser√° usado determinar√° o mecanismo de negocia√ß√£o de conte√∫do do Spring Security. </p><br><p>  Quando um usu√°rio define suas regras de seguran√ßa, a configura√ß√£o padr√£o de seguran√ßa do Spring Boot para de funcionar.  Nesse ponto, o usu√°rio precisar√° definir todas as regras de seguran√ßa com a maior precis√£o poss√≠vel.  Isso significa que todas as configura√ß√µes de seguran√ßa s√£o coletadas em um √∫nico local e n√£o h√° problemas com a ordem de processamento de comandos com os <code>WebSecurityConfigurerAdapters</code> existentes. </p><br><p>  Exemplo de configura√ß√µes de seguran√ßa individuais: </p><br><pre> <code class="plaintext hljs">http .authorizeRequests() // 1 .requestMatchers(EndpointRequest.to("status", "info")) .permitAll() // 2 .requestMatchers(EndpointRequest.toAnyEndpoint()) .hasRole("ACTUATOR") // 3 .requestMatchers(StaticResourceRequest.toCommonLocations()) .permitAll() // 4 .antMatchers("/**") .hasRole("USER") .and() ... // additional configuration</code> </pre> <br><ol><li>  <code>/status</code> e <code>/info</code> n√£o requerem autoriza√ß√£o. </li><li>  Todos os outros atuadores s√£o protegidos usando a fun√ß√£o <code>ACTUATOR</code> . </li><li>  A localiza√ß√£o dos recursos est√°ticos compartilhados est√° dispon√≠vel para todos. </li><li>  Todos os outros pontos de extremidade do aplicativo s√£o protegidos pela fun√ß√£o <code>USER</code> . </li></ol><br><h4 id="actuator-security">  Seguran√ßa do atuador </h4><br><p>  Considerando que os pontos de extremidade do atuador s√£o fixos, voc√™ deve ativar ou excluir os pontos de extremidade, dependendo de quais voc√™ precisa.  Aqui est√£o as configura√ß√µes que controlam isso, elas foram alteradas desde o lan√ßamento 1.x. </p><br><pre> <code class="plaintext hljs"># ENDPOINTS WEB CONFIGURATION (WebEndpointProperties) management.endpoints.web.exposure.include=info,health # Endpoint IDs that should be included or '*' for all. management.endpoints.web.exposure.exclude= # Endpoint IDs that should be excluded. management.endpoints.web.base-path=/actuator # Base path for Web endpoints. Relative to server.servlet.context path or management.server.servlet.context-path if management.server.port is configured. management.endpoints.web.path-mapping= # Mapping between endpoint IDs and the path that should expose them.</code> </pre> <br><p>  Se voc√™ n√£o tiver certeza de como definir essas configura√ß√µes, adicione a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">documenta√ß√£o para as configura√ß√µes gerais do aplicativo</a> . </p><br><h4 id="podderzhka-http2">  Suporte HTTP / 2 </h4><br><p>  Incrivelmente, o lan√ßamento da especifica√ß√£o HTTP 1.1 j√° estava em 1996.  Suponho que voc√™ n√£o precise lembrar que uma rede moderna difere em todos os aspectos.  Se voc√™ deseja implementar o suporte HTTP / 2 em um aplicativo no Spring MVC ou WebFlux, use o seguinte par√¢metro. </p><br><pre> <code class="plaintext hljs">server.http2.enabled=true</code> </pre> <br><p>  O suporte a HTTP / 2 depende do servidor da web e do ambiente de aplicativos selecionados, pois esse protocolo n√£o √© suportado no JDK8 imediatamente.  Leia mais sobre isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/howto-embedded-web-servers.html&amp;usg=ALkJrhiYYHwIbxhBylBLtAqNPdZBvl_9BA#howto-configure-">na documenta√ß√£o</a> . </p><br><h4 id="konfiguracionnye-parametry">  Op√ß√µes de configura√ß√£o </h4><br><p>  No Spring Boot 1.x, a chamada liga√ß√£o relaxada era suportada; em outras palavras, era poss√≠vel determinar o nome do par√¢metro de v√°rias maneiras (caso do camelo, sublinhado, h√≠fen) e, no final, o valor foi atribu√≠do √† mesma propriedade. </p><br><p>  A liga√ß√£o relaxada funciona da mesma maneira e a maneira como voc√™ l√™ vari√°veis ‚Äã‚Äãno seu c√≥digo mudou: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c96/e1b/0bc/c96e1b0bc18fb75d2192f855682d766a.png" alt="Dados lidos"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">24. Configura√ß√£o externalizada</a> </p><br><p>  O Spring Boot permite que voc√™ externalize sua configura√ß√£o para poder trabalhar com o mesmo c√≥digo de aplicativo em diferentes ... docs.spring.io </p><br><h4 id="metrika">  M√©trica </h4><br><p>  A m√©trica personalizada do Spring Boot foi substitu√≠da pelo micr√¥metro.  √â desenvolvido pela equipe Pivotal e se adapta rapidamente aos projetos Pivotal. </p><br><p>  O Spring Boot Actuator fornece configura√ß√£o autom√°tica para o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">micr√¥metro</a> , uma interface m√©trica de aplicativo que suporta muitos tipos de monitoramento, incluindo: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Atlas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Datadog</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ganglia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Grafite</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Influx</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Jmx</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Nova rel√≠quia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Prometeu</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Signalfx</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Simples (na mem√≥ria)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Statsd</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wavefront</a> </li></ul><br><p><img src="https://habrastorage.org/getpro/habr/post_images/80f/d29/c55/80fd29c553f5e2747119d4345a660111.png" alt="Micr√¥metro"></p><br><p>  Mais informa√ß√µes sobre o micr√¥metro em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://micrometer.io/</a> . </p><br><p>  Uma atualiza√ß√£o por causa disso pode ser dolorosa para quem registra toneladas de m√©tricas personalizadas. </p><br><h4 id="quartz-scheduler">  Programador de quartzo </h4><br><p>  O Spring Boot 2 tem suporte para a biblioteca de execu√ß√£o de tarefas agendadas do Quartz, que √© f√°cil de adicionar usando o iniciador do spring-boot-starter-quartz.  Trabalho suportado na RAM e no JDBC. </p><br><pre> <code class="plaintext hljs">&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt; &lt;/dependency&gt;</code> </pre> <br><h4 id="hikaricp-connection-pool">  Pool de Conex√£o HikariCP </h4><br><p>  O conjunto de conex√µes padr√£o mudou de Tomcat para HikariCP.  Se voc√™ usou spring.datasource.type para fazer o Hikari funcionar no seu aplicativo Tomcat, voc√™ pode remov√™-lo.  Da mesma forma, se voc√™ quiser continuar usando o pool do Tomcat, basta adicionar o seguinte √† sua configura√ß√£o: </p><br><pre> <code class="plaintext hljs">spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource</code> </pre> <br><h4 id="instrumenty-razrabotchika">  Ferramentas do desenvolvedor </h4><br><p>  Por padr√£o, sempre que o aplicativo √© reiniciado, um relat√≥rio sobre a diferen√ßa nas configura√ß√µes √© registrado.  Em outras palavras, o relat√≥rio mostra altera√ß√µes na configura√ß√£o autom√°tica do aplicativo que ocorrem quando voc√™ faz altera√ß√µes, como excluir / adicionar beans e definir par√¢metros de configura√ß√£o. </p><br><p>  Para desativar a grava√ß√£o deste relat√≥rio, configure o seguinte par√¢metro: </p><br><pre> <code class="plaintext hljs">spring.devtools.restart.log-condition-evaluation-delta=false</code> </pre> <br><h4 id="podderzhka-kotlin-1">  Suporte Kotlin </h4><br><p>  No in√≠cio deste artigo, o suporte oficial da Kotlin foi mencionado.  H√° tamb√©m um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bloco especializado de documenta√ß√£o para o Kotlin</a> . </p><br><h4 id="junit-5">  5 de junho </h4><br><p>  Como mencionado acima, o JUnit 4 ainda √© usado por padr√£o nos aplicativos Spring Boot. Se voc√™ deseja atualizar para o JUnit 5, √© necess√°rio excluir o JUnit 4 do spring-boot-starter-test e adicionar as depend√™ncias necess√°rias.  Voc√™ tamb√©m precisar√° de plugins da lista abaixo. </p><br><pre> <code class="plaintext hljs">&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt; &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt; &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.junit.platform&lt;/groupId&gt; &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt; &lt;version&gt;${junit-platform.version}&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;</code> </pre> <br><h4 id="rukovodstvo-po-perehodu-na-spring-boot-2">  Guia de atualiza√ß√£o do Spring Boot 2 </h4><br><p>  Eu acho que voc√™ n√£o pode falar sobre um fato t√£o √≥bvio que, com um lan√ßamento t√£o grande, apenas alterar o n√∫mero da vers√£o em produ√ß√£o n√£o √© a melhor maneira de atualizar.  Antes de tudo, eu recomendaria a leitura do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia de Migra√ß√£o</a> do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spring Boot 2.0</a> .  Pessoalmente, encontrei uma solu√ß√£o para a maioria dos meus problemas em um modelo de seguran√ßa simplificado e altera√ß√µes de par√¢metros.  Este guia tem √≥timas dicas sobre a migra√ß√£o de arquivos de par√¢metros. </p><br><p>  <em>No Spring Boot 2.0, muitos par√¢metros de configura√ß√£o foram renomeados / exclu√≠dos e os desenvolvedores precisam atualizar <code>application.properties</code> / <code>application.yml</code> para refletir essas altera√ß√µes.</em>  <em>Para facilitar essa tarefa, o Spring Boot entregou um novo m√≥dulo <code>spring-boot-properties-migrator</code> .</em>  <em>Sendo adicionado ao seu projeto como uma depend√™ncia, ele n√£o apenas analisar√° o ambiente do aplicativo e exibir√° os resultados do diagn√≥stico na inicializa√ß√£o, mas tamb√©m migrar√° temporariamente os par√¢metros no tempo de execu√ß√£o.</em>  <em>Esta √© uma etapa necess√°ria ao migrar um aplicativo:</em> </p><br><pre> <code class="plaintext hljs">&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt; &lt;/dependency&gt;</code> </pre> <br><p>  N√£o sei o que voc√™ pensa sobre isso, mas definitivamente vou come√ßar a mexer com o Spring Boot 2 e trabalhar na migra√ß√£o do c√≥digo para esta vers√£o, mas geralmente em qualquer vers√£o principal, espero a pr√≥xima vers√£o menor.  Isso se aplica n√£o apenas ao Spring, mas tamb√©m a outras marcas, da Apple √† Pivotal e at√© ao Angry Birds! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438980/">https://habr.com/ru/post/pt438980/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438970/index.html">Diz-se que Haskell √© uma linguagem para g√™nios e acad√™micos. Certo?</a></li>
<li><a href="../pt438972/index.html">O c√©rebro por dentro (visualiza√ß√£o da passagem do padr√£o atrav√©s do modelo de rede neural artificial)</a></li>
<li><a href="../pt438974/index.html">Realidade virtual ajuda a lidar com transtornos mentais</a></li>
<li><a href="../pt438976/index.html">O livro "Primavera. Todos os padr√µes de design ¬ª</a></li>
<li><a href="../pt438978/index.html">Aprendendo sempre e em qualquer lugar! Podcasts para desenvolvedores em ingl√™s</a></li>
<li><a href="../pt438982/index.html">Guia Kubernetes, Parte 1: Aplicativos, Microsservi√ßos e Cont√™ineres</a></li>
<li><a href="../pt438984/index.html">Guia Kubernetes, Parte 2: Criando e trabalhando com um cluster</a></li>
<li><a href="../pt438986/index.html">Tutorial Reagir Parte 14: Workshop sobre componentes baseados em classe, status do componente</a></li>
<li><a href="../pt438988/index.html">Tutorial Reagir Parte 15: Workshops sobre o estado dos componentes</a></li>
<li><a href="../pt438992/index.html">Di√°rio do desenvolvedor ou decis√µes incorretas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>