<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìº ‚úíÔ∏è üÜë Volle selbstfahrende Computerentwicklung üßí üçì üöá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√úbersetzung des ersten Teils der Pr√§sentation zum Tesla Autonomy Investor Day √ºber die Entwicklung eines voll selbstfahrenden Computers f√ºr den Tesla-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Volle selbstfahrende Computerentwicklung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450500/"> <em>√úbersetzung des ersten Teils der Pr√§sentation zum Tesla Autonomy Investor Day √ºber die Entwicklung eines voll selbstfahrenden Computers f√ºr den Tesla-Autopiloten.</em>  <em>Wir f√ºllen die L√ºcke zwischen den Reviews der Dissertation f√ºr die Pr√§sentation und deren Inhalt.</em> <br><a name="habracut"></a><br>  <em>Der Text der Pr√§sentation wird nahe am Original √ºbersetzt.</em>  <em>Fragen an den Sprecher - selektiv mit Abk√ºrzungen.</em> <br><br>  <strong>Gastgeber:</strong> Hallo an alle.  Verzeihen Sie mir f√ºr die Versp√§tung.  Willkommen zu unserem ersten Tag des autonomen Fahrens.  Ich hoffe, wir k√∂nnen dies regelm√§√üiger tun, um Sie √ºber unsere Entwicklungen auf dem Laufenden zu halten. <br><br>  Vor ungef√§hr drei Monaten haben wir uns mit Ilon und anderen F√ºhrungskr√§ften auf den Ergebnisbericht f√ºr das vierte Quartal vorbereitet.  Ich sagte dann, dass die gr√∂√üte L√ºcke in den Gespr√§chen mit Investoren zwischen dem, was ich im Unternehmen sehe und der Wahrnehmung von au√üen, unser Fortschritt beim autonomen Fahren ist.  Und das ist verst√§ndlich. In den letzten Jahren haben wir √ºber die Steigerung der Produktion von Modell 3 gesprochen, um das es viele Kontroversen gab.  Tats√§chlich ist im Hintergrund viel passiert. <br><br>  Wir haben an einem neuen Chip f√ºr den Autopiloten gearbeitet, das neuronale Bildverarbeitungsnetzwerk komplett neu gestaltet und schlie√ülich mit der Ver√∂ffentlichung des Full Self-Driving Computer (FSDC) begonnen.  Wir hielten es f√ºr eine gute Idee, einfach den Schleier zu √∂ffnen, alle einzuladen und √ºber alles zu erz√§hlen, was wir in den letzten zwei Jahren getan haben. <br><br>  Vor ungef√§hr drei Jahren wollten wir den besten Chip f√ºr autonomes Fahren finden.  Wir haben festgestellt, dass es keinen Chip gibt, der von Grund auf f√ºr neuronale Netze entwickelt wurde.  Deshalb haben wir meinen Kollegen Pete Bannon, Vizepr√§sident f√ºr Design integrierter Schaltkreise, eingeladen, einen solchen Chip f√ºr uns zu entwickeln.  Er hat ungef√§hr 35 Jahre Erfahrung in der Chipentwicklung.  Darunter 12 Jahre bei PASemi, das sp√§ter von Apple √ºbernommen wurde.  Er arbeitete an Dutzenden verschiedener Architekturen und Implementierungen und war der Chefdesigner des Apple iPhone 5, kurz bevor er zu Tesla kam.  Begleitet uns auch auf Elon Musk.  Vielen Dank. <br><br>  <strong>Ilon:</strong> Eigentlich wollte ich Pete vorstellen, aber da sie dies bereits getan haben, m√∂chte ich hinzuf√ºgen, dass er einfach der beste System- und integrierte Schaltungsarchitekt der Welt ist, den ich kenne.  Es ist eine Ehre, dass Sie und Ihr Team bei Tesla.  Bitte erz√§hlen Sie uns einfach von der unglaublichen Arbeit, die Sie geleistet haben. <br><br>  <strong>Pete:</strong> Danke Ilon.  Ich freue mich, heute Morgen hier zu sein, und es ist wirklich sch√∂n, Ihnen von all der Arbeit zu erz√§hlen, die meine Kollegen und ich hier in Tesla in den letzten drei Jahren geleistet haben.  Ich werde Ihnen ein wenig dar√ºber erz√§hlen, wie alles begann, und dann werde ich Ihnen den FSDC-Computer vorstellen und Ihnen ein wenig erz√§hlen, wie es funktioniert.  Wir werden uns mit dem Chip selbst befassen und einige Details betrachten.  Ich werde beschreiben, wie der von uns entworfene spezialisierte Beschleuniger f√ºr neuronale Netze funktioniert, und dann einige Ergebnisse zeigen, und ich hoffe, dass Sie zu diesem Zeitpunkt noch nicht einschlafen werden. <br><br>  Ich wurde im Februar 2016 eingestellt.  Ich fragte Ilon, ob er bereit sei, so viel wie n√∂tig f√ºr die Schaffung dieses spezialisierten Systems auszugeben. Er fragte: "Werden wir gewinnen?", Ich antwortete: "Nun ja, nat√ºrlich", dann sagte er "Ich bin im Gesch√§ft" und alles begann .  Wir stellten eine Menge Leute ein und begannen dar√ºber nachzudenken, wie ein Chip aussehen w√ºrde, der speziell f√ºr vollst√§ndig autonomes Fahren entwickelt wurde.  Wir haben achtzehn Monate damit verbracht, die erste Version zu entwickeln, und sie im August 2017 f√ºr die Produktion freigegeben.  Wir haben den Chip im Dezember bekommen, er hat funktioniert und beim ersten Versuch tats√§chlich sehr gut funktioniert.  Im April 2018 haben wir mehrere √Ñnderungen vorgenommen und Version B zero Rev. ver√∂ffentlicht.  Im Juli 2018 wurde der Chip zertifiziert und wir begannen mit der Serienproduktion.  Im Dezember 2018 wurde der autonome Fahrstapel f√ºr neue Ger√§te eingef√ºhrt, und wir konnten mit der Umr√ºstung von Dienstwagen und Tests in der realen Welt fortfahren.  Im M√§rz 2019  Wir haben mit der Installation eines neuen Computers in den Modellen S und X und im April begonnen - in Modell 3. <br><br>  Das gesamte Programm, von der Einstellung der ersten Mitarbeiter bis zur vollst√§ndigen Einf√ºhrung aller drei Modelle unserer Autos, dauerte etwas mehr als drei Jahre.  Dies ist vielleicht das schnellste Systementwicklungsprogramm, an dem ich jemals teilgenommen habe.  Und es spricht wirklich von den Vorteilen einer hohen vertikalen Integration, die es Ihnen erm√∂glicht, parallel zu entwerfen und die Bereitstellung zu beschleunigen. <br><br>  In Bezug auf die Ziele haben wir uns ausschlie√ülich auf die Anforderungen von Tesla konzentriert, was das Leben erheblich vereinfacht.  Wenn Sie einen einzelnen Kunden haben, m√ºssen Sie sich keine Sorgen um andere machen.  Eines der Ziele war es, die Leistung unter 100 Watt zu halten, damit wir vorhandene Maschinen umr√ºsten k√∂nnen.  Wir wollten auch die Kosten senken, um Redundanz f√ºr mehr Sicherheit zu gew√§hrleisten. <br><br>  Zu der Zeit, als wir unsere Finger in den Himmel steckten, argumentierte ich, dass das Autofahren eine Leistung des neuronalen Netzwerks von mindestens 50 Billionen Operationen pro Sekunde erfordern w√ºrde.  Deshalb wollten wir mindestens genauso viel und besser mehr.  Die Stapelgr√∂√üen bestimmen die Anzahl der Artikel, mit denen Sie gleichzeitig arbeiten.  Beispielsweise haben Google TPUs eine Paketgr√∂√üe von 256 und Sie m√ºssen warten, bis 256 Elemente verarbeitet werden m√ºssen, bevor Sie beginnen k√∂nnen.  Wir wollten nicht warten und entwickelten unseren Motor mit einer Packungsgr√∂√üe von eins.  Sobald das Bild angezeigt wird, verarbeiten wir es sofort, um Verz√∂gerungen zu minimieren und die Sicherheit zu erh√∂hen. <br><br>  Wir brauchten einen Grafikprozessor f√ºr die Nachbearbeitung.  Anfangs nahm es ziemlich viel ein, aber wir gingen davon aus, dass es mit der Zeit kleiner werden w√ºrde, da neuronale Netze immer besser werden.  Und es ist wirklich passiert.  Wir sind Risiken eingegangen, indem wir einen eher bescheidenen Grafikprozessor in das Design integriert haben, und das hat sich als gute Idee herausgestellt. <br><br>  Sicherheit ist sehr wichtig. Wenn Sie kein gesch√ºtztes Auto haben, k√∂nnen Sie kein sicheres Auto haben.  Daher wird der Sicherheit und nat√ºrlich der Sicherheit viel Aufmerksamkeit geschenkt. <br><br>  In Bezug auf die Chiparchitektur gab es, wie Ilon bereits erw√§hnte, 2016 keinen Beschleuniger, der urspr√ºnglich f√ºr neuronale Netze entwickelt wurde.  Jeder f√ºgte einfach Anweisungen zu seiner CPU, GPU oder DSP hinzu.  Niemand hat mit 0 entwickelt. Deshalb haben wir beschlossen, es selbst zu machen.  F√ºr andere Komponenten haben wir Standard-IP-Industrie-CPUs und -GPUs gekauft, wodurch wir die Entwicklungszeit und die Risiken reduzieren konnten. <br><br>  Eine andere Sache, die f√ºr mich etwas unerwartet war, war die M√∂glichkeit, vorhandene Befehle in Tesla zu verwenden.  Tesla verf√ºgte √ºber hervorragende Entwicklerteams f√ºr Netzteile, Signalintegrit√§tsanalyse, Geh√§usedesign, Firmware, Systemsoftware, Leiterplattenentwicklung und ein wirklich gutes Systemvalidierungsprogramm.  All dies konnten wir nutzen, um das Programm zu beschleunigen. <br><br><img src="https://habrastorage.org/webt/xe/mh/pf/xemhpf4cvjuh2ry86hx_kor7fru.png"><br><br>  So sieht es aus.  Rechts sehen Sie die Anschl√ºsse f√ºr Videos, die von den Kameras des Autos stammen.  Links zwei autonome Fahrcomputer in der Mitte der Platine - die Netzteil- und Steueranschl√ºsse.  Ich liebe es, wenn eine L√∂sung auf ihre Grundelemente hinausl√§uft.  Sie haben ein Video, einen Computer und Strom, einfach und klar.  Hier ist die vorherige Hardware 2.5-L√∂sung, die den Computer enthielt und die wir in den letzten zwei Jahren installiert haben.  Hier ist ein neues Design f√ºr einen FSD-Computer.  Sie sind sehr √§hnlich.  Dies ist nat√ºrlich auf die Einschr√§nkungen des Programms zur Fahrzeugmodernisierung zur√ºckzuf√ºhren.  Ich m√∂chte darauf hinweisen, dass dies eigentlich ein eher kleiner Computer ist.  Es befindet sich hinter dem Handschuhfach und nimmt nicht die H√§lfte des Kofferraums ein. <br><br>  Wie ich bereits sagte, befinden sich zwei v√∂llig unabh√§ngige Computer auf der Platine.  Sie sind blau und gr√ºn hervorgehoben.  Auf den Seiten jedes SoC sehen Sie DRAM-Chips.  Unten links sehen Sie FLASH-Chips, die das Dateisystem darstellen.  Es gibt zwei unabh√§ngige Computer, die unter ihrem eigenen Betriebssystem gestartet und ausgef√ºhrt werden. <br><br>  <strong>Ilon:</strong> Das allgemeine Prinzip ist, dass sich die Maschine weiter bewegen kann, wenn ein Teil ausf√§llt.  Die Kamera, der Stromkreis und einer der Tesla-Computerchips fallen aus - die Maschine bewegt sich weiter.  Die Wahrscheinlichkeit eines Ausfalls dieses Computers ist erheblich geringer als die Wahrscheinlichkeit, dass der Fahrer das Bewusstsein verliert.  Dies ist ein Schl√ºsselindikator, mindestens eine Gr√∂√üenordnung. <br><br>  <strong>Pete:</strong> Ja, eines der Dinge, die wir tun, um den Computer am Laufen zu halten, sind redundante Netzteile.  Der erste Chip l√§uft auf einer Stromquelle und der zweite auf einer anderen.  Gleiches gilt f√ºr Kameras. Die H√§lfte der Kameras am Netzteil ist blau und die andere H√§lfte gr√ºn markiert.  Beide Chips empfangen das gesamte Video und verarbeiten es unabh√§ngig voneinander. <br><br>  Unter dem Gesichtspunkt des Fahrens besteht die Sequenz darin, viele Informationen aus der Welt um Sie herum zu sammeln. Wir haben nicht nur Kameras, sondern auch Radar, GPS, Karten, Kreiselstabilisator (IMU) und Ultraschallsensoren rund um das Auto.  Wir haben einen Lenkwinkel, wir wissen, wie die Beschleunigung eines Autos sein sollte.  All dies kommt zusammen, um einen Plan zu bilden.  Wenn der Plan fertig ist, tauschen die beiden Computer ihre Versionen des Plans aus, um sicherzustellen, dass sie √ºbereinstimmen. <br><br>  Unter der Annahme, dass der Plan derselbe ist, geben wir Steuersignale aus und fahren.  Jetzt, da Sie mit den neuen Steuerelementen arbeiten, m√∂chten Sie sie auf jeden Fall testen.  Wir √ºberpr√ºfen, ob die √ºbertragenen Steuersignale mit dem √ºbereinstimmen, was wir an die Aktuatoren im Auto senden wollten.  Sensoren werden verwendet, um zu √ºberpr√ºfen, ob die Steuerung tats√§chlich stattfindet.  Wenn Sie das Auto bitten, zu beschleunigen oder zu verlangsamen oder nach rechts oder links abzubiegen, k√∂nnen Sie auf die Beschleunigungsmesser schauen und sicherstellen, dass dies wirklich geschieht.  Sowohl unsere Daten als auch unsere Daten√ºberwachungsfunktionen sind erheblich redundant und doppelt vorhanden. <br><br>  Reden wir √ºber den Chip.  Es ist in einem 37,5-mm-BGA mit 1600 Pins verpackt, von denen die meisten Strom und Masse sind.  Wenn Sie die Abdeckung entfernen, sehen Sie das Substrat und den Kristall in der Mitte.  Wenn Sie den Kristall trennen und umdrehen, sehen Sie 13.000 C4-Unebenheiten auf der Oberfl√§che.  Unten sind die zw√∂lf Metallschichten der integrierten Schaltung aufgef√ºhrt.  Dies ist ein 14-Nanometer-FinFET-CMOS-Prozess mit einer Gr√∂√üe von 260 mm¬≤, einer kleinen Schaltung.  Zum Vergleich ist ein herk√∂mmlicher Handy-Chip etwa 100 mm2 gro√ü.  Ein Hochleistungsgrafikprozessor hat eine Gr√∂√üe von ca. 600-800 mm.kv.  Wir sind also in der Mitte.  Ich w√ºrde es das goldene Mittel nennen, dies ist eine bequeme Gr√∂√üe f√ºr die Montage.  Es gibt 250 Millionen Logikelemente und 6 Milliarden Transistoren, die mich, obwohl ich die ganze Zeit daran gearbeitet habe, in Erstaunen versetzen.  Der Chip wird gem√§√ü der Automobilnorm AEC Q100 hergestellt und getestet. <br><br>  Ich w√ºrde einfach um den Chip herumgehen und alle seine Teile erkl√§ren.  Ich gehe in der gleichen Reihenfolge wie das Pixel, das von der Kamera kommt.  In der oberen linken Ecke sehen Sie die Kameraoberfl√§che.  Wir k√∂nnen 2,5 Milliarden Pixel pro Sekunde aufnehmen, was f√ºr alle verf√ºgbaren Sensoren mehr als ausreichend ist.  Ein Netzwerk, das Daten von einem Speichersystem an Speichercontroller am rechten und linken Rand des Chips verteilt.  Wir verwenden Standard-LPDDR4 mit einer Geschwindigkeit von 4266 Gigabit pro Sekunde.  Dies ergibt einen maximalen Durchsatz von 68 Gigabyte pro Sekunde.  Dies ist eine ziemlich gute Bandbreite, aber nicht √ºberm√§√üig. Wir versuchen, im Mittelweg zu bleiben.  Der Bildverarbeitungsprozessor verf√ºgt √ºber eine interne 24-Bit-Pipeline, mit der wir die im Auto befindlichen HDR-Sensoren voll nutzen k√∂nnen.  Es f√ºhrt eine erweiterte Tonzuordnung durch, die dazu beitr√§gt, Details und Schatten besser hervorzuheben, und f√ºhrt eine erweiterte Rauschunterdr√ºckung durch, die einfach die Gesamtqualit√§t der Bilder verbessert, die wir in einem neuronalen Netzwerk verwenden. <br><br><img src="https://habrastorage.org/webt/bv/tl/fb/bvtlfbnqm6y9qdogsqgzse9ap_4.png"><br><br>  Der neuronale Netzwerkbeschleuniger selbst.  Es gibt zwei auf dem Chip.  Jeder von ihnen verf√ºgt √ºber 32 Megabyte SRAM zum Speichern tempor√§rer Ergebnisse.  Dies minimiert die Datenmenge, die wir auf den Chip √ºbertragen m√ºssen, und umgekehrt, wodurch der Stromverbrauch gesenkt wird.  Jedes enth√§lt ein Array von 96x96-Multiplikatoren mit Akkumulation, mit denen wir fast 10.000 MUL / ADD-Operationen pro Zyklus ausf√ºhren k√∂nnen.  Es gibt einen dedizierten ReLU-Beschleuniger, einen Pooling-Beschleuniger.  Jeder von ihnen liefert 36 Billionen Operationen pro Sekunde bei einer Frequenz von 2 GHz.  Zwei Beschleuniger auf einem Chip ergeben 72 Billionen Operationen pro Sekunde, was deutlich √ºber dem Ziel von 50 Billionen liegt. <br><br>  Der Video-Encoder, das Video, das wir im Auto f√ºr viele Aufgaben verwenden, einschlie√ülich der Ausgabe von Bildern von der R√ºckfahrkamera, der Videoaufzeichnung sowie der Aufzeichnung von Daten in die Cloud, werden Stuart und Andrew sp√§ter besprechen.  Auf dem Chip befindet sich ein eher bescheidener Grafikprozessor.  Es unterst√ºtzt 32- und 16-Bit-Gleitkommazahlen.  Au√üerdem 12 64-Bit-Allzweck-A72-Prozessoren.  Sie arbeiten mit einer Frequenz von 2,2 GHz, was ungef√§hr dem 2,5-fachen der Leistung der vorherigen L√∂sung entspricht.  Das Sicherheitssystem enth√§lt zwei Prozessoren, die im Lockstep-Modus arbeiten.  Dieses System trifft die endg√ºltige Entscheidung, ob es sicher ist, Steuersignale an die Antriebe des Fahrzeugs zu √ºbertragen.  Hier kommen die beiden Flugzeuge zusammen und wir entscheiden, ob es sicher ist, vorw√§rts zu kommen.  Und schlie√ülich ein Sicherheitssystem, dessen Aufgabe es ist, sicherzustellen, dass auf diesem Chip nur kryptografisch signierte Tesla-Software verwendet wird. <br><br>  Ich habe Ihnen viele verschiedene Leistungsindikatoren genannt, und ich denke, es w√§re n√ºtzlich, in die Zukunft zu schauen.  Wir werden ein neuronales Netzwerk von unserer (schmalen) Kamera aus betrachten.  Es dauert 35 Milliarden Operationen.  Wenn wir alle 12 CPUs verwenden, um dieses Netzwerk zu verarbeiten, k√∂nnen wir 1,5 Bilder pro Sekunde erstellen, es ist sehr langsam.  Absolut nicht genug, um ein Auto zu fahren.  Wenn wir GPUs mit 600 GFLOPs f√ºr dasselbe Netzwerk verwenden w√ºrden, w√ºrden wir 17 Bilder pro Sekunde erhalten, was immer noch nicht ausreicht, um ein Auto mit 8 Kameras zu fahren.  Unser neuronaler Netzwerkbeschleuniger kann 2100 Bilder pro Sekunde erzeugen.  Sie k√∂nnen sehen, dass der Rechenaufwand in der CPU und der GPU im Vergleich zum Beschleuniger f√ºr neuronale Netze vernachl√§ssigbar ist. <br><br>  Lassen Sie uns weiter √ºber einen Beschleuniger f√ºr neuronale Netze sprechen.  Ich trinke nur etwas Wasser.  Auf der linken Seite sehen Sie eine Zeichnung eines neuronalen Netzwerks, um Ihnen eine Vorstellung davon zu geben, was los ist.  Die Daten kommen oben an und durchlaufen jeden der Bl√∂cke.  Daten werden entlang der Pfeile an verschiedene Bl√∂cke √ºbertragen, bei denen es sich normalerweise um Faltungen oder umgekehrte Faltungen mit Aktivierungsfunktionen (ReLUs) handelt.  Gr√ºne Bl√∂cke kombinieren Schichten.  Es ist wichtig, dass die von einem Block empfangenen Daten dann vom n√§chsten Block verwendet werden und Sie sie nicht mehr ben√∂tigen - Sie k√∂nnen sie wegwerfen.  Alle diese tempor√§ren Daten werden beim Durchlaufen des Netzwerks erstellt und zerst√∂rt.  Es ist nicht erforderlich, sie au√üerhalb des Chips im DRAM zu speichern.  Daher speichern wir sie nur in SRAM, und in wenigen Minuten werde ich erkl√§ren, warum dies sehr wichtig ist. <br><br><img src="https://habrastorage.org/webt/_u/yq/o0/_uyqo0ngomf_emvueuf3soglms0.png"><br><br>  Wenn Sie auf die rechte Seite schauen, werden Sie sehen, dass in diesem Netzwerk von 35 Milliarden Operationen fast alle Faltungen sind, im Wesentlichen skalare Produkte, der Rest Entfaltung (umgekehrte Faltungen), ebenfalls basierend auf dem skalaren Produkt, und dann ReLU und Pooling relativ einfach sind Operationen.  Wenn Sie einen Beschleuniger entwickeln, konzentrieren Sie sich daher darauf, skalare Produkte basierend auf Addition mit Akkumulation zu implementieren und zu optimieren.  Stellen Sie sich jedoch vor, Sie beschleunigen diesen Vorgang um das 10.000-fache und 100% werden zu 0,1%.  Pl√∂tzlich werden ReLU- und Pooling-Operationen sehr bedeutsam.  Daher umfasst unsere Implementierung dedizierte Beschleuniger f√ºr die ReLU-Verarbeitung und das Pooling. <br><br>  Der Chip arbeitet mit einem begrenzten W√§rmebudget.  Wir mussten sehr vorsichtig sein, wie wir Strom verbrennen.  Wir wollen die Menge an Arithmetik maximieren, die wir tun k√∂nnen.  Daher haben wir die 32-Bit-Ganzzahladdition gew√§hlt, die 9-mal weniger Energie verbraucht als die Gleitkommaaddition.  Und wir haben uns f√ºr eine 8-Bit-Ganzzahlmultiplikation entschieden, die auch deutlich weniger Energie verbraucht als andere Multiplikationsoperationen und wahrscheinlich genau genug ist, um gute Ergebnisse zu erzielen.  Wie f√ºr die Erinnerung.  Der Zugriff auf einen externen DRAM ist im Hinblick auf den Stromverbrauch etwa hundertmal teurer als die Verwendung eines lokalen SRAM.  Es ist klar, dass wir das lokale SRAM optimal nutzen wollen. <br><br>  Aus Managementsicht sind hier die Daten, die in einem Artikel von Mark Horowitz ver√∂ffentlicht wurden, in dem er kritisch untersuchte, wie viel Energie erforderlich ist, um einen einzelnen Befehl auf einem regul√§ren Ganzzahlprozessor auszuf√ºhren.  Und Sie sehen, dass der Additionsvorgang nur 0,15% der Gesamtleistung verbraucht.  Alles andere ist Overhead f√ºr das Management und mehr.  Deshalb bem√ºhen wir uns in unserem Design, all dies so weit wie m√∂glich loszuwerden.  Was uns wirklich interessiert, ist die Arithmetik. <br><br><img src="https://habrastorage.org/webt/oj/gm/ae/ojgmaegdd7ztkk58mziq_9tsq-8.png"><br><br>  Hier ist also das Design, das wir fertiggestellt haben.  Sie k√∂nnen sehen, dass darin der Hauptplatz von 32 Megabyte SRAM belegt ist, sie befinden sich links, rechts, in der Mitte und unten.  Alle Berechnungen werden im oberen Mittelteil durchgef√ºhrt.  In jedem Zyklus lesen wir 256 Bytes Aktivierungsdaten aus dem SRAM-Array, 128 Bytes Gewichte aus dem SRAM-Array und kombinieren sie in einem 96x96-Array, das 9000 Additionen mit Akkumulation pro Zyklus bei 2 GHz ausf√ºhrt.  Das sind nur 36,8 Billionen.  Operationen.  Nachdem wir mit dem Skalarprodukt fertig sind, laden wir die Daten hoch, leiten sie durch die dedizierte ReLU, optional durch Ziehen, und legen sie schlie√ülich in den Schreibpuffer, wo alle Ergebnisse aggregiert werden.  Und dann schreiben wir 128 Bytes pro Takt zur√ºck in den SRAM.  Und das alles passiert ununterbrochen.  Wir arbeiten mit skalaren Produkten, w√§hrend wir fr√ºhere Ergebnisse entladen, ziehen und die Ergebnisse zur√ºck in den Speicher schreiben.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie alles mit 2 GHz stapeln, ben√∂tigen Sie 1 Terabyte pro Sekunde SRAM-Bandbreite, um den Betrieb zu unterst√ºtzen. Und Eisen liefert dies. Ein Terabyte pro Sekunde Bandbreite pro Beschleuniger, zwei Beschleuniger pro Chip - zwei Terabyte pro Sekunde. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Beschleuniger hat einen relativ kleinen Befehlssatz. Es gibt eine DMA-Leseoperation zum Laden von Daten aus dem Speicher, eine DMA-Schreiboperation zum Hochladen von Ergebnissen zur√ºck in den Speicher. Drei Faltungsanweisungen (Faltung, Entfaltung, inneres Produkt). Zwei relativ einfache Operationen sind die Verschiebung und die elementweise Operation (eltwise). Und nat√ºrlich die Stoppoperation, wenn die Berechnungen abgeschlossen sind.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir mussten einen Compiler f√ºr neuronale Netze entwickeln. Wir haben ein von unserem Entwicklungsteam geschultes neuronales Netzwerk in der Form verwendet, in der es in der alten Hardware verwendet wurde. Wenn Sie es f√ºr die Verwendung auf einem neuen Beschleuniger kompilieren, f√ºhrt der Compiler eine Fusion von Ebenen durch, wodurch wir die Anzahl der Berechnungen f√ºr jeden Aufruf von SRAM erh√∂hen k√∂nnen. Es f√ºhrt auch eine Gl√§ttung der Speicherzugriffe durch. Wir f√ºhren Kanalauff√ºllungen durch, um Konflikte zwischen Speicherb√§nken zu reduzieren. Die Speicherzuweisung ber√ºcksichtigt auch SRAM-Banken. Dies ist der Fall, wenn die Konfliktverarbeitung in Hardware implementiert werden k√∂nnte. Bei der Softwareimplementierung sparen wir jedoch aufgrund der Komplexit√§t der Software Hardware. Wir f√ºgen auch automatisch DMA-Operationen ein, damit die Daten p√ºnktlich zur Berechnung eintreffen, ohne die Verarbeitung zu stoppen. Am Ende generieren wir den Code,Gewichtet Daten, komprimiert und f√ºgt eine CRC-Pr√ºfsumme hinzu, um die Zuverl√§ssigkeit zu gew√§hrleisten. Das neuronale Netzwerk wird beim Start in den SRAM geladen und ist st√§ndig vorhanden.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um das Netzwerk zu starten, geben Sie die Adresse des Eingabepuffers an, der das neue Bild enth√§lt, das gerade von der Kamera angekommen ist. Stellen Sie die Adresse des Ausgabepuffers ein. Setzen Sie den Zeiger auf das Netzwerkgewicht. lass uns gehen Der Beschleuniger "geht in sich selbst" und durchl√§uft nacheinander das gesamte neuronale Netzwerk, normalerweise f√ºr ein oder zwei Millionen Taktzyklen. Nach Abschluss erhalten Sie eine Unterbrechung und k√∂nnen die Ergebnisse nachbearbeiten.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenden wir uns den Ergebnissen zu. Unser Ziel war es, 100 Watt zu erreichen. Messungen an Autos, die mit einem vollen Stapel Autopiloten fahren, haben gezeigt, dass wir 72 Watt verbrauchen. Dies ist etwas gr√∂√üer als im vorherigen Projekt, aber eine signifikante Leistungsverbesserung ist eine gute Ausrede. Von diesen 72 Watt werden in neuronalen Netzen etwa 15 Watt verbraucht. Die Kosten f√ºr diese L√∂sung betragen ungef√§hr 80% der Kosten, die wir zuvor bezahlt haben. In Bezug auf die Leistung haben wir das neuronale Netzwerk (eng) der Kamera, das ich bereits erw√§hnt habe, mit 35 Milliarden Operationen verwendet, es mit alten Ger√§ten gestartet und 110 Bilder pro Sekunde empfangen. Wir haben dieselben Daten und dasselbe Netzwerk f√ºr den neuen FSD-Computer zusammengestellt und k√∂nnen mit allen vier Beschleunigern 2300 Bilder pro Sekunde verarbeiten. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich denke, dies ist vielleicht </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bedeutendste Folie </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> Ich habe noch nie an einem Projekt gearbeitet, bei dem die Produktivit√§tsverbesserung √ºber 3 lag. Es hat also ziemlich viel Spa√ü gemacht. Im Vergleich zur nvidia Drive Xavier-L√∂sung liefert der Chip dort 21 Billionen. Operationen, w√§hrend unser FSDC mit zwei Chips - 144 Billionen. Operationen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassend denke ich, dass wir eine L√∂sung geschaffen haben, die eine hervorragende Leistung von 144 Billionen liefert. Operationen zum Verarbeiten eines neuronalen Netzwerks. Es hat hervorragende Leistungseigenschaften. Wir haben es geschafft, all diese Produktivit√§t in das W√§rmebudget zu stecken, das wir hatten. Auf diese Weise k√∂nnen Sie eine Duplizierungsl√∂sung implementieren. Der Computer hat moderate Kosten, und was wirklich wichtig ist, das FSDC bietet ein neues Ma√ü an Sicherheit und Autonomie in Tesla-Fahrzeugen, ohne deren Kosten und Kilometerleistung zu beeintr√§chtigen. Wir freuen uns alle darauf. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn Sie Fragen zu Ger√§ten haben, stellen Sie diese jetzt.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Grund, warum ich Pete gebeten habe, ein detailliertes, viel detaillierteres zu machen, als es die meisten Leute vielleicht gerne in einen Tesla FSD-Computer getaucht h√§tten, ist folgender. Auf den ersten Blick scheint es unglaublich, wie es passieren kann, dass Tesla, das noch nie zuvor solche Chips entwickelt hatte, den besten Chip der Welt geschaffen hat. Aber genau das ist passiert. Und nicht nur das Beste mit kleinem Vorsprung, sondern das Beste mit gro√üem Abstand. Alle Tesla, die derzeit hergestellt werden, haben diesen Computer. Wir haben vor ungef√§hr einem Monat von der Nvidia-L√∂sung f√ºr S und X gewechselt und vor ungef√§hr zehn Tagen Modell 3 gewechselt. Alle produzierten Autos verf√ºgen √ºber die notwendige Hardware und alles, was f√ºr ein v√∂llig autonomes Fahren erforderlich ist. Ich werde es noch einmal sagen: Alle Tesla-Autos, die jetzt produziert werden,Sie haben alles, was Sie f√ºr ein voll autonomes Fahren ben√∂tigen. Sie m√ºssen lediglich die Software verbessern. Sp√§ter heute k√∂nnen Sie Autos mit einer Version f√ºr Entwickler verbesserter autonomer Fahrsoftware fahren. Sie werden es selbst sehen.</font></font> Fragen. <br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> K√∂nnen Sie andere Aktivierungsfunktionen als ReLU verwenden? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ja, wir haben ein Sigmoid, zum Beispiel </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vielleicht hat es sich gelohnt, auf einen kompakteren </font><font style="vertical-align: inherit;">Herstellungsprozess </font><font style="vertical-align: inherit;">umzusteigen, vielleicht 10 nm oder 7 nm? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete: Zu</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Zeit, als wir mit dem Design begannen, waren nicht alle IPs, die wir erhalten wollten, in 10 nm verf√ºgbar. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Es ist erw√§hnenswert, dass wir dieses Design vor ungef√§hr anderthalb Jahren fertiggestellt und die n√§chste Generation gestartet haben. Heute sprechen wir nicht √ºber die n√§chste Generation, aber wir sind schon auf halbem Weg. All das ist f√ºr den Chip der n√§chsten Generation offensichtlich. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F: Der</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Computer ist f√ºr die Arbeit mit Kameras ausgelegt. Kann ich es mit Lidar verwenden? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lidar ist eine katastrophale Entscheidung, und jeder, der sich auf Lidar verl√§sst, ist zum Scheitern verurteilt. Zum Scheitern verurteilt.</font></font> Teuer<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liebe Sensoren, die nicht ben√∂tigt werden. Es ist wie eine Menge teurer unn√∂tiger Apps. Ein kleiner ist nichts, aber ein Haufen ist schon ein Albtraum. Das ist dumm, du wirst sehen. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> K√∂nnen Sie die Auswirkungen des Energieverbrauchs auf die Kilometerleistung bewerten? </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> F√ºr Modell 3 betr√§gt der Zielverbrauch 250 Watt pro Meile. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kommt auf die Art des Fahrens an. In der Stadt wird der Effekt viel gr√∂√üer sein als auf der Autobahn. Sie fahren eine Stunde in der Stadt und haben eine hypothetische L√∂sung, die 1 kW verbraucht. Bei Modell 3 verlieren Sie 6 km. Wenn die Durchschnittsgeschwindigkeit 25 km / h betr√§gt, verlieren Sie 25%. Der Verbrauch des Systems hat einen enormen Einfluss auf die Kilometerleistung in einer Stadt, in der wir glauben, dass es einen gro√üen Teil des Robotax-Marktes geben wird. Daher ist Leistung √§u√üerst wichtig. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie zuverl√§ssig ist Ihre Technologie in Bezug auf IP? Werden Sie IP nicht kostenlos ausgeben? </font></font><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pete:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wir haben ein Dutzend Patente f√ºr diese Technologie angemeldet. Dies ist im Wesentlichen eine lineare Algebra, die Sie meiner Meinung nach nicht patentieren k√∂nnen. (Ilon lacht) </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ihre Mikroschaltung kann etwas tun, vielleicht alle Gewichte verschl√ºsseln, damit Ihr geistiges Eigentum im Inneren bleibt, und niemand kann es einfach stehlen. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Oh, ich w√ºrde gerne jemanden treffen, der dies kann. Ich w√ºrde ihn sofort einstellen. Dies ist ein sehr schwieriges Problem. Selbst wenn Sie die Daten extrahieren k√∂nnen, ben√∂tigen Sie eine gro√üe Menge an Ressourcen, um sie irgendwie zu verwenden.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der gro√üe nachhaltige Vorteil f√ºr uns ist die Flotte. Niemand hat eine Flotte. Die Gewichte werden basierend auf Milliarden von zur√ºckgelegten Kilometern st√§ndig aktualisiert und verbessert. Tesla hat hundertmal mehr Autos mit der f√ºr das Training erforderlichen Hardware als alle anderen zusammen. Bis Ende dieses Quartals werden wir 500.000 Fahrzeuge mit 8 Kameras und 12 Ultraschallsensoren haben. In einem Jahr werden wir mehr als eine Million Autos mit FSDC haben. Dies ist nur ein gro√üer Datenvorteil. Dies √§hnelt dem gro√üen Vorteil der Google-Suchmaschine, da die Nutzer sie verwenden und Google tats√§chlich mit ihren Suchanfragen schulen. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gastgeber:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Sache, an die Sie sich bei unserem FSD-Computer erinnern sollten, ist, dass er mit viel komplexeren neuronalen Netzen f√ºr eine viel genauere Bilderkennung arbeiten kann. Es ist Zeit dar√ºber zu sprechen, wie wir diese Bilder tats√§chlich erhalten und wie wir sie analysieren. Hier haben wir einen Senior Director von AI - Andrey Karpaty, der Ihnen das alles erkl√§ren wird. Andrei ist Doktor der Stanford University, wo er Informatik mit Schwerpunkt auf Anerkennung und tiefem Lernen studierte. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilon:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Andrey, warum f√§ngst du nicht einfach an? Viele √Ñrzte kamen aus Stanford, das spielt keine Rolle. Andrey unterrichtet in Stanford einen Computer-Vision-Kurs, der viel wichtiger ist. Bitte erz√§hle von dir.</font></font><br><br><hr><br> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Die √úbersetzung erwies sich als eher nicht schnell, ich wei√ü nicht, ob ich f√ºr den zweiten Teil genug √ºber das Trainingssystem f√ºr neuronale Netze habe, obwohl es mir am interessantesten erscheint.)</font></font></em> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de450500/">https://habr.com/ru/post/de450500/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de450488/index.html">Chock Norris Fakten Android App auf Kotlin</a></li>
<li><a href="../de450490/index.html">6,9-Milliarden-Dollar-Deal: Warum kauft ein GPU-Entwickler einen Netzwerkger√§tehersteller?</a></li>
<li><a href="../de450492/index.html">Sozialarbeit und offenes Design. Einf√ºhrung</a></li>
<li><a href="../de450494/index.html">Wie h√§ngt die √úbersetzung des Begriffs Trunk vom Switch-Anbieter ab?</a></li>
<li><a href="../de450498/index.html">Wie man die Zeit dr√ºckt?</a></li>
<li><a href="../de450504/index.html">So erstellen Sie eine Anwendung von der Website aus und stellen sie in wenigen Stunden auf Google Play. Teil 1/2: Progressive Web App</a></li>
<li><a href="../de450506/index.html">So erstellen Sie eine Anwendung von der Website aus und stellen sie in wenigen Stunden auf Google Play. Teil 2/2: Vertrauensw√ºrdige Webaktivit√§t</a></li>
<li><a href="../de450508/index.html">Joe Armstrong √ºber Elixir, Erlang, FP und OOP</a></li>
<li><a href="../de450510/index.html">F√ºnf Probleme im Betriebs- und Supportprozess von Highload-IT-Systemen</a></li>
<li><a href="../de450514/index.html">CVT gegen Zustand</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>