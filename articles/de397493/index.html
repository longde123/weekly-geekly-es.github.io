<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé• ü¶ñ üëù Wie ich eine elektronische Karte f√ºr Telemetriesensoren und zur Steuerung von Peripherieger√§ten hergestellt habe üîò üòñ üì´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei der Erstellung eines Roboter-Kellners, eines Telepr√§senz-Roboters und eines Selfie-Bots haben sich einige Entwicklungen herausgestellt, dass es ei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie ich eine elektronische Karte f√ºr Telemetriesensoren und zur Steuerung von Peripherieger√§ten hergestellt habe</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397493/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei der Erstellung eines Roboter-Kellners, eines Telepr√§senz-Roboters und eines Selfie-Bots haben sich einige Entwicklungen herausgestellt, dass es eine S√ºnde ist, nicht mit der Community zu teilen, dh Open Source zu machen. Eine der Arbeitsversionen war eine elektronische Karte mit dem Codenamen SB Version 4.0, die ein kosteng√ºnstiges und relativ wenig funktionierendes Arduino verwendete, n√§mlich Nano 3.0. Die SB 4.0-Platine ist einfach genug und verst√§ndlich, um ihre Kenntnisse √ºber Elektronik und L√∂tf√§higkeiten w√§hrend der Montage zu festigen. Sie ist funktional genug, um eigene praktische Projekte durchzuf√ºhren (z. B. das Einschalten der Gl√ºhbirne durch Signale vom Bewegungssensor und vom Lichtsensor oder durch Ihren Befehl √ºber Bluetooth). und die Kosten f√ºr Komponenten mit Lieferung bei der Bestellung bei unseren chinesischen Freunden mit Taobao betrugen ca. 55 USD (einschlie√ülich der Sensoren selbst).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Hauptzweck der SB 4.0-Karte ist die Hardwareschnittstelle. Nach der Erfassung k√∂nnen Sie damit Daten von mehreren vorinstallierten Sensoren empfangen und verarbeiten sowie weitere Entscheidungen treffen und Algorithmen ausf√ºhren. Zur Vereinfachung des Debuggens wurde unter OS Windows eine Schnittstelle erstellt, in der telemetrische Messwerte von Sensoren und einer Stromquelle, der Status von Tasten und Servos klar angezeigt werden und Befehle an den Mikrocontroller gesendet werden k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser Ver√∂ffentlichung werde ich die Eigenschaften des Boards und ein Beispiel f√ºr seine Anwendung beschreiben. Auch dies ist alles Open Source, lizenziert unter CC Attribution Non-Commercial Share Alike.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, es gibt bereits √§hnliche Steuerplatinen und KITs mit Sensoren (teurere Arduino-Platinen mit Abschirmungen f√ºr Raspberry Pi f√ºr Jodampere), aber SB 4.0 unterscheidet sich von diesen durch das Vorhandensein einer Leistungsplatine und eines praktischen Steuerungsprogramms, das mit der LabView-Entwicklungsumgebung geschrieben wurde. </font><font style="vertical-align: inherit;">Das hei√üt, SB 4.0 besteht aus zwei Karten: Steuerung + Leistung. </font><font style="vertical-align: inherit;">Dies wird in Fotos und Videos zu sehen sein.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foto von beiden Boards, Bewegungssensor, Batterie:</font></font><br>
<br>
<img src="https://habrastorage.org/files/f3b/5bb/f14/f3b5bbf14c7f406280a317e1138d6a3b.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmierung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr die Programmierung des Mikrocontrollers verwenden wir wie immer C / C ++. </font><font style="vertical-align: inherit;">Wir entwickeln in der Arduino IDE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Screenshot zeigt die Benutzeroberfl√§che des Selfiebot Control Panel-Programms, in der die telemetrischen Messwerte der Sensoren und der Stromquelle, der Status der Tasten und Servos deutlich angezeigt werden. Sie k√∂nnen Befehle an den Mikrocontroller senden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Screenshot des Interface-Teils:</font></font><br>
<br>
<img src="https://habrastorage.org/files/d3d/c40/b80/d3dc40b80e214cca9f599049adf0de92.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leistung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SB 4.0 verwendet eine der kosteng√ºnstigsten Arduino Nano 3.0-Plattformen mit einem 8-Bit-ATmega328-Mikrocontroller. </font><font style="vertical-align: inherit;">Dies reicht aus, um den Code zu verarbeiten und Probleme zu l√∂sen: Steuerroboter, Smart-Home-Systeme usw.</font></font><br>
<br>
<img src="https://habrastorage.org/files/018/864/920/018864920429492b8e0e999fcacc371b.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kompatibilit√§t</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die logische Spannung betr√§gt 5 V, was die elektrische Kompatibilit√§t mit den Arduino-Peripherieger√§ten gew√§hrleistet.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eingangs- / Ausgangsanschl√ºsse</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mikrocontroller-Steuerstifte verf√ºgbar. </font><font style="vertical-align: inherit;">In Klammern gab er vorinstallierte Elemente an, mit denen die Platine bereits arbeiten kann.</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 Pins, die als digitaler Ein- / Ausgang und PWM-Ausgang konfiguriert werden k√∂nnen (f√ºr zwei digitale Servos);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 Pin, digitaler Ein- / Ausgang (f√ºr Bewegungssensor);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 Pins, digitaler Ein- / Ausgang (f√ºr RGB-LEDs);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 Pin, digitaler Ein- / Ausgang (f√ºr Grenzwertsensor, Tasten);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 Pin, digitaler Ausgang + 5V / 0V (zur Steuerung der externen Last).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Der I2C-Bus und der UART-Port werden jeweils f√ºr die Port-Expander-Karte und das Bluetooth-Modul verwendet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Die Universalit√§t der SB 4.0-Karte ist gegeben. </font><font style="vertical-align: inherit;">Passen Sie Leistungspegel, Signalpegel, Eingangs- / Ausgangstyp an! </font><font style="vertical-align: inherit;">Ersetzen Sie die vorinstallierten Sensoren durch Ihre Sensoren:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temperatur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ger√§uschpegel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luftfeuchtigkeit</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Druck usw.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Eingangspin arbeitet geschlossen / offen. </font><font style="vertical-align: inherit;">Das hei√üt, </font><font style="vertical-align: inherit;">auf dem Pin, der zum MK oder + 5V oder 0 geht. Diese Werte sind in den Telemetriedaten enthalten, die an die Selfiebot Control Panel-Software gesendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Ausgangspin erzeugt entweder 5 V mit einer Lastkapazit√§t von 1A oder ist deaktiviert - 0 V. </font><font style="vertical-align: inherit;">Das Anlegen einer Spannung an diesen Anschluss oder nicht ist nur durch einen externen Befehl oder durch einen Befehl des Firmware-Algorithmus m√∂glich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es macht keinen Sinn, analoge Sensoren an digitale Pins anzuschlie√üen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ern√§hrung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Stromversorgung erfolgt √ºber die 2,1-mm-Steckdose oder √ºber Li-Ion-Akkus mit Laderegler. </font><font style="vertical-align: inherit;">Die Quelle wird automatisch ermittelt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei Stromversorgung √ºber eine Steckdose betr√§gt die empfohlene Eingangsspannung 12-12,6 V. DC-DC-Spannungswandler liefern 7 V an Servos, 5 V an USB1, USB2 und andere Lasten. Ein Netzteil oder Batterien k√∂nnen als Stromquelle verwendet werden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwenden Sie 5-V-Pins, um Peripherieger√§te mit Strom zu versorgen. </font><font style="vertical-align: inherit;">Bei Verwendung einer externen Stromquelle k√∂nnen bis zu 1A von einem 5-V-Pin erhalten werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Netzteil enth√§lt:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3x18650 Akku, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batterie 18650, 3,7 V, ab 2200 mAh, 3 Stk.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laderegler, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 x Stromanschluss</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DC-DC-Wandler, 4-tlg.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallsensor, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transistoren, 3 Stk.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optokoppler und Widerst√§nde.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/8de/0b3/887/8de0b3887e7247568c131ecc2dd8bcca.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommunikation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Arduino Nano-Mikrocontroller wird √ºber USB mit kostenloser Standardsoftware von der Hersteller-Website MK programmiert. </font><font style="vertical-align: inherit;">Um wie immer Daten zwischen SB 4.0 und einem Computer zu √ºbertragen, habe ich mich f√ºr das kosteng√ºnstige gemeinsame Bluetooth HC-06-Modul entschieden, die Daten√ºbertragungsrate von 9600 Kb / s. </font><font style="vertical-align: inherit;">Telemetriedaten und Steuerbefehle werden √ºber diesen Funkkanal √ºbertragen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abmessungen</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe die Abmessungen der elektronischen Leistungsplatine - 100 √ó 70 √ó 40 mm. </font><font style="vertical-align: inherit;">Die Abmessungen der elektronischen Steuerkarte betragen 90 √ó 70 √ó 45 mm. </font><font style="vertical-align: inherit;">Aber ich bin sicher, Sie k√∂nnen immer noch schamanisieren und die Gr√∂√üe reduzieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Kontaktabstand betr√§gt 2,54 mm.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikrocontroller-Spezifikationen</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikrocontroller: 8-Bit-ATmega328.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taktfrequenz: 16 MHz.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flash-Speicher: 32 KB (2 KB werden f√ºr den Bootloader verwendet, 30 KB - zum Speichern des Codes Ihres Programms).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM 2 KB.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EEPROM 1 Kb.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nennbetriebsspannung: 5 V.</font></font></li>
</ul><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merkmale der elektronischen Karte SB 4.0</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nennbetriebsspannung: 12,6 V. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empfohlene Eingangsspannung: 12‚Äì12,6 V.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maximaler Strom vom Bus 5 V: 1000 mA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allzweck-E / A-Ports: 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ports mit PWM-Unterst√ºtzung: 2</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Steuerplatine enth√§lt die folgenden Elemente:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth-Modul HC-06, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elektronische Karte des Mikrocontroller-Port-Expanders, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikrocontroller Arduino Nano 3.0, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 Stk. Elektronische Beleuchtungsplatine</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servos TowerPro MG966R, 2 Stk.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fotowiderstand, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bewegungssensor, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 x RGB LED</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knopf, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherung, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jumper, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transistor, 1 Stck.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kondensator, 1 Stck.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/e89/2f1/727/e892f1727ca7412db2dd3314cb78c8d6.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Praktische Anwendung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Optionen f√ºr den praktischen Gebrauch: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. √ñffnen / Schlie√üen von Fenstern, wenn sich die Temperatur √§ndert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Schalten Sie den L√ºfter ein / aus, wenn sich die Luftfeuchtigkeit im Raum √§ndert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Schalten Sie das Licht bei Bewegung im Dunkeln ein / aus. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Schalten Sie die Wasserversorgung ein / aus, wenn Sie die Bodenfeuchtigkeit √§ndern. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Schalten Sie die IR-Beleuchtung im Dunkeln ein. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. √úbertragung von Telemetriedaten √ºber die Internetverbindung an den Server.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsbeispiel f√ºr die SB 4.0-Karte</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweck: Wenn die Taste gedr√ºckt wird, schalten Sie das Licht ein, wenn eine Bewegung erkannt wird.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/tS3hikUysTQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dazu ben√∂tigen wir zus√§tzlich ein Relaismodul, eine Gl√ºhbirne (220 ADC oder bis 12 VDC). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Am h√§ufigsten finden wir Relais 12VDC und 05VDC. Die Zahl gibt an, welcher Gleichspannungswert an den Relaiseingang geliefert werden muss. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Betrachten Sie den Betrieb des beliebten SRD-05VDC-Relais von Arduino von Songle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Wenn der Vcc-Pin mit Strom versorgt und mit dem ‚ÄûGND‚Äú -Pin kurzgeschlossen wird, leuchtet die gr√ºne LED auf.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Seit </font><font style="vertical-align: inherit;">Wir haben ein Einkanalmodul, dann sehen Sie auf der Platine nur einen Signalstift In1. </font><font style="vertical-align: inherit;">Wenn Sie den Spannungspegel LOW auf In1 einstellen, leuchtet die rote LED am Relaismodul auf und das Relais arbeitet mit einem charakteristischen Klick. </font><font style="vertical-align: inherit;">Auf Arduino ist der Befehl digitalWrite (Pin, LOW) f√ºr die Einstellung des Spannungspegels am Pin verantwortlich. </font><font style="vertical-align: inherit;">Verwenden Sie den Befehl digitalWrite (Pin, HIGH), um das Relais in seinen vorherigen Zustand zur√ºckzusetzen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Schlie√üen Sie das Relaismodul an die SB 4.0-Karte an, auf der ein Bewegungssensor und eine Benutzertaste installiert sind. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.1. </font><font style="vertical-align: inherit;">Der Signalstift In1 des Relaismoduls ist mit Stift 13 verbunden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.2. </font><font style="vertical-align: inherit;">Im Programmcode von Arduino Nano finden wir:</font></font><pre><code class="cpp hljs">***********************************
 <span class="hljs-comment"><span class="hljs-comment">//     -   ,       timeout_SnSM</span></span>
 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (var_Tlm_SnSM == <span class="hljs-number"><span class="hljs-number">1</span></span>) { time_Move_detect = millis(); }
 <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (millis() - time_Move_detect &lt; timeout_Move_detect) { Move_detect = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Move_detect = <span class="hljs-number"><span class="hljs-number">0</span></span>; }<font></font>
***********************************<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºgen Sie die folgenden Zeilen hinzu:</font></font><br>
<pre><code class="cpp hljs">***********************************
  <span class="hljs-comment"><span class="hljs-comment">//     (== 0),     (== 1)     13 (== LOW),   timeout_SnSM</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (var_Tlm_BUT == <span class="hljs-number"><span class="hljs-number">0</span></span>) { 
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Move_detect == <span class="hljs-number"><span class="hljs-number">1</span></span>) { digitalWrite(PIN_D13, LOW); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {  digitalWrite(PIN_D13, HIGH); }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    digitalWrite(PIN_D13, HIGH); <font></font>
  }<font></font>
***********************************<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.3. </font><font style="vertical-align: inherit;">Laden Sie die neue Firmware herunter und schalten Sie die Karte ein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Bewegungssensor eine Bewegung erkannt hat, erscheint dank unseres Algorithmus der LOW-Pegel am Stromversorgungsstift der externen Last, das Relais arbeitet, schlie√üt den Stromkreis und die Lampe leuchtet auf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn also eine Person an einem Bewegungssensor vorbeikommt, geht das Licht an.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de397493/">https://habr.com/ru/post/de397493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de397479/index.html">50 Farbt√∂ne von PNA * ADC und ADC mit Microchip-Mikrocontroller-Computer</a></li>
<li><a href="../de397481/index.html">√úbersicht √ºber den Router der Draytek 2925-Serie Teil 1: √úbersicht, Funktionen und Tests</a></li>
<li><a href="../de397487/index.html">Heimdall - Amateur Mond Begleiter</a></li>
<li><a href="../de397489/index.html">Wissenschaftler haben die Wahrscheinlichkeit berechnet, dass Au√üerirdische uns absichtlich meiden</a></li>
<li><a href="../de397491/index.html">Marine sagt, dass er 17 Jahre auf dem Mars gedient hat</a></li>
<li><a href="../de397495/index.html">Elon Musk - √ºber die Hardwareverbesserung von Menschen</a></li>
<li><a href="../de397497/index.html">AI beschloss, Sportereignisse zu kommentieren</a></li>
<li><a href="../de397499/index.html">Drones of the Wing-Projekt wird Fast Food an Studentenwohnheime an der University of Virginia liefern</a></li>
<li><a href="../de397501/index.html">Wir wissen, was Sie am Wochenende machen werden.</a></li>
<li><a href="../de397503/index.html">Sony Xperia XCompact wird in Russland verkauft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>