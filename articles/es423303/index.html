<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçü§ù‚Äçüë®üèª üïò üë• AI, curso pr√°ctico. Transformaci√≥n de m√∫sica basada en la emoci√≥n üë©‚Äç‚úàÔ∏è üè§ üêπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este es otro art√≠culo de una serie de art√≠culos de capacitaci√≥n para desarrolladores en el campo de la inteligencia artificial. En art√≠culos anteriore...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AI, curso pr√°ctico. Transformaci√≥n de m√∫sica basada en la emoci√≥n</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/423303/"><img src="https://habrastorage.org/webt/uw/8j/jx/uw8jjx68eugeafuymvummauetrg.jpeg"><br><br>  Este es otro art√≠culo de una serie de art√≠culos de capacitaci√≥n para desarrolladores en el campo de la inteligencia artificial.  En art√≠culos anteriores, examinamos la recopilaci√≥n y preparaci√≥n de datos con im√°genes, en este art√≠culo continuaremos la discusi√≥n sobre la recopilaci√≥n y el estudio de datos musicales. <br><br>  El prop√≥sito de este proyecto es: <br><br><ul><li>  Cree una aplicaci√≥n que acepte un conjunto de im√°genes como entrada. </li><li>  Enfatizando el colorido emocional de las im√°genes. </li><li>  Recibir la salida de una pieza musical que refleja la emoci√≥n correspondiente. </li></ul><br><a name="habracut"></a><br>  Este proyecto utiliza para generar m√∫sica modulada con la ayuda de las emociones, un algoritmo (transformaci√≥n musical basada en las emociones), que realiza un cambio en la melod√≠a b√°sica de acuerdo con una emoci√≥n espec√≠fica y la posterior armonizaci√≥n y finalizaci√≥n de la melod√≠a utilizando el modelo de aprendizaje profundo.  Para completar esta tarea, se requieren los siguientes conjuntos de datos de m√∫sica: <br><ul><li>  Un conjunto de datos para aprender el algoritmo de finalizaci√≥n de la melod√≠a (corales de Bach). </li><li>  Un conjunto de canciones populares que sirven como plantillas para modular las emociones. </li></ul><br><h2>  <font color="#0071c5">Recopilaci√≥n y estudio de un conjunto de datos musicales.</font> </h2><br><h3>  <font color="#0071c5">Bach Chorales - Proyecto Music21</font> </h3><br>  Music21 es un kit de herramientas basado en Python para la ciencia de la m√∫sica que usa una computadora.  Contiene una colecci√≥n completa de coros de Bach como parte de sus obras recopiladas.  Por lo tanto, el procedimiento de recopilaci√≥n de datos es muy simple: solo necesita instalar el paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">music21</a> (los manuales est√°n disponibles para macOS *, Windows * y Linux *). <br>  Despu√©s de la instalaci√≥n, se puede obtener acceso a los corales de Bach utilizando el siguiente c√≥digo: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> corpus <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> score <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> corpus.chorales.Iterator(numberingSystem=<span class="hljs-string"><span class="hljs-string">'bwv'</span></span>, returnType=<span class="hljs-string"><span class="hljs-string">'stream'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-comment"><span class="hljs-comment"># do stuff with scores here</span></span></code> </pre> <br>  <i>Iteraci√≥n sobre todos los coros de Bach</i> <br><br>  Como alternativa, puede usar el siguiente c√≥digo: devuelve una lista de nombres de archivo para todos los corales de Bach, que pueden procesarse a√∫n m√°s utilizando la funci√≥n de an√°lisis: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> corpus chorales = corpus.getBachChorales() score = corpus.parse(chorales[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># do stuff with score</span></span></code> </pre> <br>  <i>Recuperando una lista de todos los corales de Bach</i> <br><br><h3>  <font color="#0071c5">Exploraci√≥n de datos.</font> </h3><br>  Despu√©s de completar la recopilaci√≥n de datos (en este caso, despu√©s de obtener acceso a ella), el siguiente paso es verificar y estudiar los signos de estos datos. <br><br>  El siguiente c√≥digo muestra la representaci√≥n de texto de un archivo de m√∫sica: <br><br> <code>&gt;&gt;&gt; from music21 import corpus <br> &gt;&gt;&gt; chorales = corpus.getBachChorales() <br> &gt;&gt;&gt; score = corpus.parse(chorales[0]) <br> &gt;&gt;&gt; score.show('text') <br> <br> {0.0} &lt;music21.text.TextBox "BWV 1.6 W..."&gt; <br> {0.0} &lt;music21.text.TextBox "Harmonized..."&gt; <br> {0.0} &lt;music21.text.TextBox "PDF 2004 ..."&gt; <br> {0.0} &lt;music21.metadata.Metadata object at 0x117b78f60&gt; <br> {0.0} &lt;music21.stream.Part Horn 2&gt; <br> {0.0} &lt;music21.instrument.Instrument P1: Horn 2: Instrument 7&gt; <br> {0.0} &lt;music21.stream.Measure 0 offset=0.0&gt; <br> {0.0} &lt;music21.layout.PageLayout&gt; <br> {0.0} &lt;music21.clef.TrebleClef&gt; <br> {0.0} &lt;music21.key.Key of F major&gt; <br> {0.0} &lt;music21.meter.TimeSignature 4/4&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {1.0} &lt;music21.stream.Measure 1 offset=1.0&gt; <br> {0.0} &lt;music21.note.Note G&gt; <br> {0.5} &lt;music21.note.Note C&gt; <br> {1.0} &lt;music21.note.Note F&gt; <br> {1.5} &lt;music21.note.Note F&gt; <br> {2.0} &lt;music21.note.Note A&gt; <br> {2.5} &lt;music21.note.Note F&gt; <br> {3.0} &lt;music21.note.Note A&gt; <br> {3.5} &lt;music21.note.Note C&gt; <br> {5.0} &lt;music21.stream.Measure 2 offset=5.0&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {0.25} &lt;music21.note.Note B-&gt; <br> {0.5} &lt;music21.note.Note A&gt; <br> {0.75} &lt;music21.note.Note G&gt; <br> {1.0} &lt;music21.note.Note F&gt; <br> {1.5} &lt;music21.note.Note G&gt; <br> {2.0} &lt;music21.note.Note A&gt; <br> {3.0} &lt;music21.note.Note A&gt; <br> {9.0} &lt;music21.stream.Measure 3 offset=9.0&gt; <br> {0.0} &lt;music21.note.Note F&gt; <br> {0.5} &lt;music21.note.Note G&gt; <br> . <br> . <br> . <br> <br> &gt;&gt;&gt; print(score) <br> &lt;music21.stream.Score 0x10bf4d828&gt;</code> <br>  <i>Representaci√≥n textual del coral</i> <br><br>  Arriba se muestra la representaci√≥n textual del coral como un objeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">music21.stream</a> .Score.  Es interesante aprender c√≥mo music21 representa la m√∫sica en c√≥digo, pero no es muy √∫til en t√©rminos de estudiar atributos de datos importantes.  Por lo tanto, necesitamos un software que pueda mostrar la puntuaci√≥n. <br><br>  Como se indic√≥ anteriormente en el art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Configuraci√≥n del modelo y los hiperpar√°metros para reconocer las emociones en las im√°genes</a> , la puntuaci√≥n en music21 se almacena en archivos MusicXML * (con extensiones .xml o .mxl).  Para ver estos archivos en notaci√≥n musical, se utiliza la aplicaci√≥n gratuita Finale NotePad * 2 (versi√≥n de prueba del paquete profesional Finale * para trabajar con notaci√≥n musical).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Finale NotePad est√°</a> disponible para Mac y Windows.  Despu√©s de descargar Finale Notepad, ejecute el siguiente c√≥digo para configurar music21 para que funcione con Finale Notepad: <br><br> <code>&gt;&gt;&gt; import music21 <br> &gt;&gt;&gt; music21.configure.run()</code> <br> <br>  Ahora podemos ejecutar el c√≥digo anterior, pero use el fragmento <i>score.show () en</i> lugar de <i>score.show ('text')</i> .  En este caso, el archivo MusicXML se abrir√° en la aplicaci√≥n Finale, que se ve as√≠: <br><br><img src="https://habrastorage.org/webt/qb/q1/gd/qbq1gd78vomvj4dtzilgrjyim8e.jpeg"><br>  <i>La primera p√°gina de Bach en notaci√≥n musical</i> <br><br>  Este formato proporciona una presentaci√≥n visual m√°s clara para los corales.  Al examinar varios corales, nos aseguramos de que los datos cumplan nuestras expectativas: son piezas musicales cortas que contienen al menos cuatro partes (soprano, viola, tenor y bajo), divididas en frases separadas por medio de granjas. <br><br>  T√≠picamente, ciertas estad√≠sticas descriptivas se calculan como parte del procedimiento de estudio de datos.  En este caso, podemos determinar cu√°ntas veces aparece cada clave en los trabajos recopilados.  El siguiente es un ejemplo de un c√≥digo que le permite calcular y visualizar la calificaci√≥n de utilizaci√≥n de cada clave en un conjunto de datos. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> music21 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt chorales = corpus.getBachChorales() dict = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> chorale <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> chorales: score = corpus.parse(chorale) key = score.analyze(<span class="hljs-string"><span class="hljs-string">'key'</span></span>).tonicPitchNameWithCase dict[key] = dict[key] + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dict.keys() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> ind = [i <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(dict))] fig, ax = plt.subplots() ax.bar(ind, dict.values()) ax.set_title(<span class="hljs-string"><span class="hljs-string">'Frequency of Each Key'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">'Frequency'</span></span>) plt.xticks(ind, dict.keys(), rotation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>) plt.show()</code> </pre> <br><img src="https://habrastorage.org/webt/ng/98/7f/ng987fslbsim1uozhklangge9f4.jpeg"><br>  <i>Frecuencia de uso de cada clave en trabajos recopilados.</i>  <i>Las teclas menores se representan con letras min√∫sculas, y las teclas principales se representan con letras min√∫sculas.</i>  <i>Los pisos se indican con un "-"</i> <br><br>  A continuaci√≥n se presentan algunas estad√≠sticas relacionadas con los trabajos recopilados. <br><br><img src="https://habrastorage.org/webt/lo/gy/9l/logy9ll6qwagckyiptkpbpyypt0.jpeg"><br>  <i>La distribuci√≥n de claves usadas en un conjunto de composiciones.</i> <br><br><img src="https://habrastorage.org/webt/i4/28/hj/i428hj1q-r_sqqmbz0cjxtn5mi0.png"><br>  <i>Ubicaci√≥n de las notas, calculadas como la compensaci√≥n desde el comienzo de la medida en las notas negras</i> <br><br>  Las estad√≠sticas descriptivas de inter√©s para el c√°lculo variar√°n para cada proyecto.  Sin embargo, en la mayor√≠a de los casos, puede ayudarlo a determinar con qu√© tipo de datos est√° trabajando e incluso administrar ciertas acciones durante el preprocesamiento de datos.  Estas estad√≠sticas tambi√©n pueden servir como punto de partida para examinar los resultados del preprocesamiento de datos. <br><br><h2>  <font color="#0071c5">Transformaci√≥n musical - Informaci√≥n te√≥rica</font> </h2><br>  Hay dos portadores principales de expresi√≥n en la m√∫sica: tono y ritmo.  Utilizamos estos medios de expresi√≥n como par√°metros para reescribir nuestra melod√≠a en el estado de √°nimo elegido. <br><br>  En teor√≠a musical, cuando se trata del tono de los sonidos en una melod√≠a, la relaci√≥n de las alturas entre las notas est√° impl√≠cita.  Un sistema de notas musicales basado en una secuencia de sonidos de cierto tono se llama escala.  Los intervalos o la medida del ancho de cada paso de la secuencia pueden diferir entre s√≠.  Tal diferencia o su ausencia crea una relaci√≥n entre tonos y tendencias mel√≥dicas en las que las combinaciones estables y las gravitaciones crean una expresi√≥n de humor.  En la tradici√≥n musical occidental, cuando se trata de una escala diat√≥nica simple, la posici√≥n de la nota con respecto a la primera nota de la escala se llama <i>etapa de la escala</i> (I-II-III-IV-V-VI-VII).  De acuerdo con combinaciones estables y gravitaciones, la escala de la escala proporciona un tono musical que realiza su funci√≥n en el sistema.  Esto hace que la noci√≥n de una etapa de escala sea muy √∫til para analizar un patr√≥n mel√≥dico simple y codificarlo con la posibilidad de asignar diferentes valores. <br><br>  En el nivel inicial, debemos elegir las escalas adecuadas desde un punto de vista art√≠stico para crear un estado de √°nimo espec√≠fico.  Por lo tanto, si necesitamos cambiar el estado de √°nimo de la melod√≠a, debemos estudiar su estructura funcional utilizando la noci√≥n descrita de la escala, y luego asignar nuevos valores a la plantilla existente a partir de los pasos de la escala.  Al igual que el mapa, esta plantilla tambi√©n contiene informaci√≥n sobre las direcciones y los per√≠odos en la melod√≠a. <br><br>  Para cada estado de √°nimo espec√≠fico, utilizamos algunos par√°metros adicionales para hacer que nuestras nuevas melod√≠as sean m√°s expresivas, armoniosas y expresivas. <br><br>  El ritmo es una forma de organizar los sonidos a tiempo.  Incluye informaci√≥n como: el orden de aparici√≥n de los tonos en la melod√≠a, su longitud relativa, pausas entre ellos y varios acentos.  Por lo tanto, se crean per√≠odos de tiempo para estructurar el tama√±o musical.  Si necesitamos preservar el patr√≥n mel√≥dico original, entonces debemos preservar su estructura r√≠tmica.  Para lograr este objetivo solo es necesario cambiar algunos par√°metros de ritmo, la duraci√≥n de las notas y las pausas, y esto deber√≠a ser suficiente desde un punto de vista art√≠stico.  Adem√°s, para hacer que nuestra melod√≠a modificada sea m√°s expresiva, podemos usar algunos m√©todos adicionales para enfatizar su estado de √°nimo. <br><br>  Por ejemplo, ANSIEDAD se puede expresar con una clave menor y un ritmo m√°s en√©rgico.  La plantilla para nuestra escala original es la siguiente: VV-VI-VI-VII VV-VI-V-II-I VVV (transici√≥n una octava m√°s alta) -III-I-VII-VI IV-IV-III-I-II-I . <br><br><img src="https://habrastorage.org/webt/fz/dk/jn/fzdkjn1h4l3zc5mizwbhrtnkkxe.png"><br>  <i>Plantilla fuente</i> <br><br>  La melod√≠a original est√° escrita en una clave mayor, que difiere de una menor en tres notas: en la clave principal de las etapas III, VI y VII son mayores (medio tono arriba), y en una clave menor, un menor (medio tono abajo).  Por lo tanto, si necesitamos cambiar la tonalidad utilizada, solo necesitamos reemplazar los pasos superiores por los inferiores (o viceversa).  Sin embargo, para crear un efecto a√∫n m√°s prominente de ansiedad, es necesario abandonar la etapa VII de una mayor (mayor); esto aumentar√° la inestabilidad de este tono y enfatizar√° nuestra escala de una manera especial. <br><br>  Para hacer que el ritmo sea m√°s en√©rgico, podemos agregarle un s√≠ncope o una interrupci√≥n sinc√≥pica del movimiento del ritmo regular, cambiando la posici√≥n de algunas notas.  En este caso, avanzaremos algunas notas similares un latido hacia adelante. <br><br><img src="https://habrastorage.org/webt/k9/ca/lf/k9calfijffankvpiqrhjdwxpklq.png"><br>  <i>Ansiedad de conversi√≥n</i> <br><br>  La tristeza tambi√©n se puede expresar con una simple tecla menor, pero su ritmo debe ser tranquilo.  Por lo tanto, reemplazamos los pasos principales con los menores, incluido el paso VII.  Para hacer que el ritmo sea m√°s relajado, debe completar las pausas aumentando la longitud de las notas delante de ellas. <br><br><img src="https://habrastorage.org/webt/op/k4/hq/opk4hqsvdmkqmrij8ky26au6gda.png"><br>  <i>Conversi√≥n SAD</i> <br><br>  Para expresar BENDICI√ìN, debemos evitar entonaciones decisivas y estrictas: este ser√° el principio de la transformaci√≥n correspondiente.  Como puede ver, de acuerdo con las diferencias en la secuencia de sonidos utilizados, los pasos de la escala tienen diferentes significados y la distancia desde el primer paso (I).  Por lo tanto, su importancia se crea en la imagen general.  Por lo tanto, el movimiento desde la etapa IV a la etapa I es muy sencillo debido a su funci√≥n.  La entonaci√≥n al pasar de la etapa V a la etapa I tambi√©n suena muy sencilla.  Evitaremos estas dos entonaciones para crear una impresi√≥n de espacio e incertidumbre. <br><br>  Por lo tanto, en cada elemento de la plantilla, en la que la etapa I sigue a la etapa V, o la etapa IV sigue a la etapa IV, y tambi√©n en el orden inverso de estos pasos, reemplazaremos una de estas notas (o ambas notas) con los pasos m√°s cercanos a ellos.  Puede cambiar el ritmo de forma similar a crear el efecto de GRUSH, simplemente reduciendo el ritmo. <br><br><img src="https://habrastorage.org/webt/ke/uv/be/keuvbebvzgcssrx7xlwrnx2igds.png"><br>  <i>Convertir BENDICION</i> <br><br>  La DECISI√ìN est√° asociada con un movimiento poderoso, por lo que la forma m√°s sencilla de mostrarlo es cambiar el ritmo de forma similar al cambio para el efecto ANSIEDAD.  Tambi√©n es necesario reducir la duraci√≥n de todas las notas, excepto para cada √∫ltima nota de cada per√≠odo, VV-VI-VI-VII VV-VI-V-II-I. <br><br><img src="https://habrastorage.org/webt/o8/si/ro/o8siroxq5a254hfedjcj1iue5ey.png"><br>  <i>DECISI√ìN DE TRANSFORMACI√ìN</i> <br><br>  La clave principal en s√≠ misma suena positiva y alegre, sin embargo, para enfatizar y expresar FELICIDAD / ALEGR√çA, utilizamos la clave pentat√≥nica principal.  Consiste en los mismos pasos, con la excepci√≥n de dos de ellos: el cuarto y el s√©ptimo, I-II-III-V-VI. <br><br>  Por lo tanto, cada vez que encontramos estos dos pasos en nuestra plantilla, los reemplazamos con los pasos m√°s cercanos a ellos.  Para enfatizar la simplicidad proporcionada por nuestra tonalidad, utilizamos un fragmento mel√≥dico descendente que consta de cinco o m√°s notas como una demostraci√≥n paso a paso de nuestra escala. <br><br><img src="https://habrastorage.org/webt/0b/wv/vh/0bwvvhdmhjiml19y-0c2ovf6yn4.png"><br>  <i>Convirtiendo ALEGR√çA</i> <br><br>  Tranquilidad / Tranquilidad se puede expresar no solo cambiando la tonalidad, sino que tambi√©n requiere la transformaci√≥n del movimiento mel√≥dico.  Para hacer esto, debe analizar la plantilla de origen y seleccionar segmentos similares en ella.  La primera nota de cada segmento determina el contexto arm√≥nico de toda la frase, por lo que estas notas son de gran valor para nosotros: <b>V</b> - <b>V</b> -VI-VI-VII-VII <b>V</b> -V-VI-V-II-I <b>V</b> -VV-III-I-VII-VI IV-IV-III-I-II-I. <br><br>  Para el primer segmento, solo se deben utilizar los siguientes pasos: IV-VI-VII;  para el segundo: V-VII-II-I;  para el tercero: VI-VII-III-II;  para el cuarto: VII-IV-I-VII. <br><br>  Estos conjuntos de pasos posibles son en realidad otro tipo de estructura musical, los acordes.  Sin embargo, a√∫n podemos usarlos como un sistema para convertir melod√≠as.  Los pasos de la escala se pueden reemplazar por los pasos m√°s cercanos a ellos desde los patrones de acordes indicados.  Si todo el segmento comienza con un tono que es m√°s bajo que el original, entonces es necesario reemplazar todos los pasos en √©l con los pasos m√°s bajos que est√°n disponibles en la plantilla especificada.  Para crear un efecto de retraso, tambi√©n es necesario dividir la duraci√≥n de cada nota en corcheas y reducir gradualmente la velocidad de estas nuevas corcheas. <br><br><img src="https://habrastorage.org/webt/05/ia/jp/05iajpxyhk1ft08pz74zrk4hfgq.png"><br>  <i>Conversi√≥n Tranquilidad / Tranquilidad</i> <br><br>  Para enfatizar GRATITUD, es necesario usar su despliegue estil√≠stico en ritmo, creando el efecto de arpegio: volvemos a la primera nota al final de cada segmento (frase).  Es necesario reducir a la mitad la duraci√≥n de cada √∫ltima nota en un segmento y colocar all√≠ la primera nota de este segmento. <br><br><img src="https://habrastorage.org/webt/8z/wu/4e/8zwu4ezo9nzzcbuubagzeintiha.png"><br>  <i>Conversi√≥n GRATITUD</i> <br><br><h2>  <font color="#0071c5">Parte pr√°ctica</font> </h2><br><h3>  <font color="#0071c5">Python y music21 toolkit</font> </h3><br>  El script de transformaci√≥n se implement√≥ utilizando el lenguaje Python y el kit de herramientas music21. <br><br>  Music21 es una clase muy vers√°til y de alto nivel para manipular conceptos musicales tales como: notas, tama√±o, acordes, tonalidad, etc. Le permite realizar operaciones directamente en el √°rea tem√°tica, en lugar de manipulaciones de bajo nivel con datos sin procesar de un archivo Interfaz digital de instrumentos musicales (MIDI).  Sin embargo, el trabajo directo con archivos MIDI en music21 no siempre es conveniente, especialmente cuando se trata de visualizar la partitura.  Por lo tanto, para la visualizaci√≥n e implementaci√≥n del algoritmo, una forma m√°s conveniente es convertir los archivos MIDI de origen al formato musicXML.  Adem√°s, el formato musicXML es el formato de entrada para BachBot, que representa el siguiente paso en nuestra secuencia de procesamiento. <br>  La conversi√≥n se puede hacer usando Musescore: <br>  para obtener la salida del archivo musicXML: <br><br> <code>musescore input.mid -o output.xml</code> <br>  para obtener la salida de un archivo MIDI: <br><br> <code>musescore input.mid -o output.mid</code> <br> <br><h3>  <font color="#0071c5">Jupyter</font> </h3><br>  El kit de herramientas music21 est√° bien integrado con la aplicaci√≥n Jupyter.  Adem√°s, la integraci√≥n con Musescore le permite visualizar la partitura directamente en el documento del cuaderno Jupyter y escuchar los resultados a trav√©s del reproductor incorporado durante el desarrollo y la experimentaci√≥n. <br><br><img src="https://habrastorage.org/webt/yc/zh/ta/yczhtaio9hcodjurkoqwxjtzuvk.png"><br>  <i>Documento de cuaderno Jupyter con c√≥digo, puntaje y jugador</i> <br><br>  La funci√≥n Score Show es especialmente √∫til para el trabajo en equipo de un programador y un m√∫sico-te√≥rico.  La combinaci√≥n de la naturaleza interactiva de Jupyter, el dominio espec√≠fico de la m√∫sica21 y la simplicidad de Python hacen que este flujo de trabajo sea particularmente prometedor para este tipo de investigaci√≥n interdisciplinaria. <br><br><h3>  <font color="#0071c5">Implementaci√≥n</font> </h3><br>  El script de transformaci√≥n se implement√≥ como un m√≥dulo de Python, por lo que permite una llamada directa: <br><br> <code>python3 emotransform.py --emotion JOY input.mid</code> <br>  O puede llamarlo a trav√©s de un script externo (o Jupyter): <br><br> <code>from emotransform import transform transform('input.mid','JOY')</code> <br>  En ambos casos, el resultado del trabajo ser√° un archivo modulado con cierta emoci√≥n. <br><br>  Las transformaciones asociadas con los cambios en los pasos musicales (ANSIEDAD, TRISTE, BENDICI√ìN y ALEGR√çA) se basan en el uso de la funci√≥n music21.Note.transpose en combinaci√≥n con un an√°lisis de la posici√≥n actual y requerida de los pasos musicales.  Aqu√≠ usamos el m√≥dulo music21.scale y sus funciones para construir la escala requerida de cualquier t√≥nico.  Para obtener el t√≥nico de una melod√≠a espec√≠fica, puede usar <i>la funci√≥n de an√°lisis ('clave')</i> del m√≥dulo music21.Stream7. <br><br>  Para las conversiones basadas en frases (DECISI√ìN, GRATITUD, Tranquilidad / Tranquilidad), se requiere investigaci√≥n adicional.  Este estudio nos permitir√° detectar con precisi√≥n el comienzo y el final de las frases musicales. <br><br><h2>  <font color="#0071c5">Conclusi√≥n</font> </h2><br>  En este art√≠culo, presentamos la idea principal que subyace a la transformaci√≥n musical basada en las emociones: cambiar la posici√≥n de una sola nota en la escala en relaci√≥n con el t√≥nico (paso musical), el tempo de la pieza, as√≠ como la frase musical.  Esta idea fue implementada como un script en Python.  Sin embargo, la implementaci√≥n de ideas te√≥ricas en el mundo real no siempre es f√°cil, por lo que encontramos algunas dificultades e identificamos posibles direcciones para futuras investigaciones.  Este estudio est√° relacionado principalmente con la detecci√≥n de frases musicales y sus transformaciones.  La elecci√≥n correcta de instrumentos (m√∫sica21) y la investigaci√≥n en el campo de la informaci√≥n musical son factores clave para resolver tales problemas. <br><br>  La transformaci√≥n musical basada en las emociones representa la primera etapa en nuestra secuencia de procesamiento de datos musicales, la siguiente etapa es la presentaci√≥n de la melod√≠a convertida y preparada a la entrada de BachBot. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423303/">https://habr.com/ru/post/es423303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423291/index.html">Los rusos establecieron un r√©cord: 110 pel√≠culas piratas por persona</a></li>
<li><a href="../es423293/index.html">C√≥mo no dispararte en la pierna con una m√°quina de estado</a></li>
<li><a href="../es423295/index.html">Conferencia de desarrollo m√≥vil m√°s √∫til</a></li>
<li><a href="../es423297/index.html">Del desarrollador de Android a DevOps</a></li>
<li><a href="../es423299/index.html">Coordinador de aplicaciones en aplicaciones iOS</a></li>
<li><a href="../es423305/index.html">Rendimiento de la ruina</a></li>
<li><a href="../es423307/index.html">Solicitudes de extracci√≥n de GitHub en c√≥digo de Visual Studio</a></li>
<li><a href="../es423309/index.html">Transacciones DBMS</a></li>
<li><a href="../es423311/index.html">Asociaci√≥n Naviaddress y ACTUM</a></li>
<li><a href="../es423313/index.html">Toca el I2C. Haz un analizador l√≥gico simple</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>