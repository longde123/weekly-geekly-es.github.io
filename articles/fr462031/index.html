<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëæ üçá üë©üèæ‚Äçüî¨ Comme si vous lisiez les journaux!: Lancez Hotspot 2.0 sur le r√©seau Wi-Fi du m√©tro üë®üèº‚Äçüéì üò¥ üòá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous partageons notre exp√©rience dans la cr√©ation d'un r√©seau Wi-Fi ferm√© dans le m√©tro en utilisant la technologie Hotspot 2.0, les premi√®res statist...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comme si vous lisiez les journaux!: Lancez Hotspot 2.0 sur le r√©seau Wi-Fi du m√©tro</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/maximatelecom/blog/462031/">  Nous partageons notre exp√©rience dans la cr√©ation d'un r√©seau Wi-Fi ferm√© dans le m√©tro en utilisant la technologie Hotspot 2.0, les premi√®res statistiques et les recommandations de s√©curit√©.  Et nous vous invitons √©galement √† ouvrir les tests d'un nouveau r√©seau. <br><br><img src="https://habrastorage.org/webt/eo/gq/fc/eogqfc7vibf0po_malf2ofbfwra.jpeg"><br><a name="habracut"></a><br>  √Ä partir de la mi-f√©vrier sur le vert, et √† partir de la fin avril, un nouveau r√©seau Wi-Fi ferm√©, <b>MT, a √©t√©</b> lanc√© sur toutes les lignes du m√©tro de Moscou.  Le r√©seau fonctionnait en mode test.  Pendant tout ce temps, nous avons effectu√© des tests internes par des employ√©s, et √©galement observ√© la stabilit√© des points d'acc√®s et des contr√¥leurs, l'impact possible sur le service dans le SSID ouvert MT_FREE. <br><br>  Le lancement de ce r√©seau n'est pas pass√© inaper√ßu chez nos utilisateurs.  Par le biais de divers canaux, nous avons re√ßu plusieurs questions sur la fa√ßon d'obtenir des informations d'identification.  Mais beaucoup n'ont pas abandonn√© les tentatives de connexion via des comptes invent√©s.  Pendant la dur√©e de disponibilit√© de ce SSID, 14 488 demandes d'autorisation uniques ont √©t√© enregistr√©es.  De plus, certains abonn√©s nous ont m√™me √©crit des messages en utilisant le formulaire de saisie du nom d'utilisateur.  Un de ces messages, la phrase ¬´Comme si vous lisiez les journaux!¬ª, √âtait particuli√®rement agr√©able √† lire.  Mutuelle comme! <br><br><img src="https://habrastorage.org/webt/vt/fm/fg/vtfmfgugcsmtd34wt35woq9igp4.png"><br><br>  Examinons bri√®vement les conditions pr√©alables au d√©marrage d'un r√©seau ferm√©, les possibilit√©s et les limitations, l'aspect technique de la mise en ≈ìuvre de Hotspot 2.0. <br><br><h3>  Pourquoi avons-nous besoin d'un r√©seau MT ferm√©? </h3><br>  Nous avons discut√© √† plusieurs reprises du d√©marrage d'un r√©seau ferm√© √† l'aide d'informations d'identification qui identifient de mani√®re unique un appareil ou un utilisateur.  Les pilotes de lancement sont principalement des probl√®mes de s√©curit√©.  Il est n√©cessaire d'exclure la possibilit√© de se connecter aux points de phishing avec notre SSID et de le faire de mani√®re transparente afin qu'aucune action suppl√©mentaire ne soit requise de la part de l'utilisateur.  Bien que presque tout le trafic Internet sensible soit chiffr√© √† l'aide de TLS, les abonn√©s consid√®rent que les r√©seaux Wi-Fi sans chiffrement sont moins fiables. <br><br>  Une autre raison de d√©marrer un r√©seau avec une autorisation d'acc√®s est la tendance √† randomiser les adresses MAC des appareils lorsqu'ils sont connect√©s √† des r√©seaux Wi-Fi.  Cette tendance est de plus en plus apparente sur les appareils Android.  De plus, si auparavant les variables d'adresse MAC √©taient un attribut des smartphones bon march√© (principalement chinois) et √©taient utilis√©es par les fabricants simplement en raison du manque de pools d'adresses MAC officiellement r√©serv√©s, Google a r√©cemment annonc√© officiellement l'introduction d'une telle technologie dans le syst√®me d'exploitation Android afin d'emp√™cher le suivi des abonn√©s.  Cela cr√©e des obstacles √† la pleine utilisation du Wi-Fi public en Russie, car √† chaque entr√©e, une nouvelle identification de l'appareil sera n√©cessaire (conform√©ment aux d√©crets gouvernementaux 758 et 801).  Ainsi, l'adresse MAC cesse progressivement d'√™tre un moyen acceptable d'identifier un appareil sur le r√©seau. <br><br><h3>  Caract√©ristiques des points d'acc√®s en un coup d'≈ìil </h3><br>  √Ä la recherche d'une solution √† ces probl√®mes, nous avons tourn√© notre attention vers la technologie Hotspot 2.0, en cours de d√©veloppement, notamment Wi-Fi Alliance et Wireless Broadband Alliance.  Au premier examen, la technologie devrait fermer tous les besoins √©mergents - une connexion s√©curis√©e √† un SSID de confiance et une connexion crypt√©e.  Vous trouverez ci-dessous une comparaison du nouveau paradigme pour l'organisation des r√©seaux Wi-Fi des op√©rateurs et l'√©tat actuel. <br><br><img src="https://habrastorage.org/webt/p1/en/fq/p1enfqhqxhc3npbb3rmdadeln04.jpeg"><br>  <i><font color="999999">Comparaison des approches de l'organisation des r√©seaux Wi-Fi - avant et apr√®s l'introduction de la technologie Hotspot 2.0.</font></i> <br><br>  La pile Hotspot 2.0 comprend trois technologies cl√©s: <br><br><ul><li>  La possibilit√© de prendre une d√©cision concernant la connexion au r√©seau et l'√©tablissement de la connexion par l'appareil lui-m√™me sans action de l'utilisateur (802.11u), quel que soit le SSID; </li></ul><br><ul><li>  Utilisation s√ªre et priv√©e du r√©seau - cryptage du trafic sur la partie radio (802.11i, ou dans la terminologie de la Wi-Fi Alliance connue de tous les WPA2); </li></ul><br><ul><li>  Un ensemble de m√©thodes d'authentification et d'autorisation pour les informations d'identification et la gestion des informations d'identification (EAP, provisioning). </li></ul><br>  La technologie est assez jeune, la premi√®re sortie a eu lieu fin 2012, mais elle se d√©veloppe assez activement.  Fin f√©vrier de cette ann√©e, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">troisi√®me version a</a> √©t√© annonc√©e.  Il est √† noter que l'√©cosyst√®me de Hotspot 2.0 d√©veloppe non seulement la Wi-Fi Alliance. <br><br><img src="https://habrastorage.org/webt/uu/rf/5e/uurf5ef9qhjb5kvipiqn7g0gqpi.jpeg"><br><br>  Il est peu probable que je me trompe si je suppose que de nombreux lecteurs associent la technologie Hotspot 2.0 √† la d√©charge (d√©chargement du trafic) d'un r√©seau Wi-Fi √† un r√©seau mobile. <br><br>  En effet, le plus grand nombre d'impl√©mentations Hotspot 2.0 s'est produit parmi les op√©rateurs mobiles, et AT&amp;T est un pionnier ici.  Il y a une explication √† cela - une condition pr√©alable au fonctionnement des communications mobiles est la pr√©sence dans l'appareil d'une carte SIM physique ou virtuelle.  Associ√©e aux profils des op√©rateurs et √† la possibilit√© de les mettre √† jour ¬´over the air¬ª, cette condition permet un provisionnement transparent pour le client (dans le cadre de Hotspot 2.0 - transfert des justificatifs d'identit√©, leur validation et application dans le syst√®me d'exploitation). <br><br>  Dans le m√™me temps, l'exp√©rience client dans le r√©seau Wi-Fi d'un op√©rateur devient comparable (et, dans certaines conditions, meilleure) que l'exp√©rience dans un r√©seau mobile.  Le cas est √©galement applicable aux op√©rateurs MVNO, mais tout d√©pend du sch√©ma de travail avec l'op√©rateur h√¥te.  Pour d'autres op√©rateurs, comme nous, le principal d√©fi est la question de l'approvisionnement des appareils et de tout ce qui y est li√©.  Essayons de le comprendre. <br><br><h3>  Tout est une question de pouvoirs </h3><br>  Les informations d'identification sont une entit√© qui identifie de mani√®re unique un utilisateur.  Ces donn√©es doivent √™tre prot√©g√©es de mani√®re s√©curis√©e afin qu'un attaquant ne puisse pas les intercepter et les r√©utiliser.  La pr√©sence d'informations d'identification r√©sout le probl√®me de l'authentification MAC, lorsque vous pouvez ¬´√©couter¬ª la radio √† l'aide d'un renifleur, trouver et remplacer l'adresse MAC √† partir du p√©riph√©rique de quelqu'un d'autre. <br><br>  Les types d'informations d'identification et les m√©thodes d'authentification les plus courants sont les suivants: <br><br><ul><li>  Carte SIM, m√©thodes EAP-SIM, EAP-AKA </li></ul><br><ul><li>  Identifiant et mot de passe, EAP-PEAP, EAP-TTLS </li></ul><br><ul><li>  Certificat, EAP-TLS </li></ul><br>  Les op√©rateurs cellulaires et MVNO avec leurs propres cartes SIM sont dans une position privil√©gi√©e - les informations d'identification adapt√©es au r√©seau Wi-Fi sont d√©j√† dans le t√©l√©phone, elles sont prot√©g√©es de mani√®re fiable et aucune action suppl√©mentaire n'est requise de la part du client.  Que devraient faire les autres? <br><br>  La configuration manuelle est un processus complexe, fortement d√©pendant du syst√®me d'exploitation particulier.  Pour les abonn√©s, cela est extr√™mement g√™nant.  Le transfert des informations d'identification sur un r√©seau avec la configuration automatique de l'appareil peut √™tre une bonne solution.  Ce processus sera appel√© approvisionnement, et c'est l√† que r√©side la principale limitation de la technologie au stade actuel de d√©veloppement. <br><br><h3>  Hotspot 2.0 Evolution </h3><br>  √Ä l'heure actuelle, trois versions de Hotspot avec les d√©signations non triviales 1, 2, 3. ont √©t√© publi√©es et la technologie s'appelle toujours 2.0.  En fait, Hotspot 2.0 est un ensemble de normes qui d√©finit une nouvelle approche de l'organisation des r√©seaux Wi-Fi des op√©rateurs, lorsque l'exp√©rience d'utilisation de tels r√©seaux est comparable √† l'utilisation d'un r√©seau mobile.  Et dans le cadre des versions (1, 2, 3), les normes elles-m√™mes sont form√©es, pour lesquelles les appareils sont certifi√©s. <br><br>  Ainsi, le principal ¬´truc¬ª de la premi√®re version et de la base technologique √† temps partiel est la norme IEEE 802.11u.  La prise en charge de 802.11u est n√©cessaire √† la fois du c√¥t√© de l'infrastructure du r√©seau Wi-Fi (points d'acc√®s et contr√¥leurs) et du c√¥t√© des appareils clients.  Dans le cas du mat√©riel, il n'y a pas de probl√®mes particuliers: de plus en plus de fournisseurs prennent en charge la norme, car  sur des puces plus ou moins modernes, la mise en place du protocole logiciel.  Mais nous √©tudierons la situation avec les appareils clients un peu plus tard. <br><br>  La deuxi√®me version standardise le processus d'approvisionnement et une nouvelle infrastructure sp√©cifique - Online Signup Server (OSU).  Il s'agit d'un serveur qui effectue la formation et la transmission des param√®tres r√©seau aux appareils clients. <br><br>  La version 3 r√©cemment publi√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©veloppe des outils de provisioning</a> .  Dans une analyse superficielle, je n'ai pas remarqu√© les nouvelles ¬´fonctionnalit√©s de tueur¬ª, et il n'y a aucun appareil ou infrastructure √† port√©e de main pour le ressentir dans la pratique.  Si nous voyons l'int√©r√™t des lecteurs, nous pouvons essayer d'examiner plus en d√©tail les fonctions et les diff√©rences de chaque version dans un autre article. <br><br><h3>  Provisioning </h3><br>  Nous √©tudions le probl√®me de la p√©n√©tration de la pile technologique Hotspot sur les appareils clients.  Pour ce faire, nous utiliserons l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">outil</a> de la Wi-Fi Alliance, o√π sont pr√©sent√©s les r√©sultats de la certification des appareils.  La certification est un processus volontaire, les r√©sultats ne sont donc pas valables pour tous les appareils.  Par exemple, seuls quelques appareils d'Apple ont r√©ussi la certification - iPhone 3, iPhone 4, iPad.  N√©anmoins, tous les appareils iOS actuels prennent en charge toute la pile Hotspot 2.0 n√©cessaire et, surtout, ils le font presque de la m√™me mani√®re d'une version √† l'autre. <br><br>  Ainsi, nous regardons les r√©sultats de la certification, √† l'exception des appareils iOS, pour la p√©riode 2012 (publication de la premi√®re version).  Nous visualisons les statistiques obtenues sous la forme d'un diagramme ci-dessous.  Conclusion - seul un cinqui√®me des appareils non iOS prend en charge la premi√®re version (802.11u), tous les dixi√®mes - dispose d'une interface de provisionnement standardis√©e.  Cette situation complique l'application de masse. <br><br><img src="https://habrastorage.org/webt/ct/rd/ia/ctrdia_5i9rbagh0airfiu_-qk8.jpeg"><br>  <i><font color="999999">P√©n√©tration de Hotspot 2.0 sur les appareils clients (sauf iOS)</font></i> <br><br>  D'un point de vue technique, le r√©sultat de l'approvisionnement est la pr√©sence sur l'appareil d'informations d'identification valides et d'autres param√®tres n√©cessaires pour un r√©seau SSID ou Wi-Fi sp√©cifique.  La deuxi√®me version a standardis√© la structure de repr√©sentation des param√®tres r√©seau sous forme de documents XML et les m√©canismes de leur transfert vers les appareils.  Un ensemble de param√®tres r√©seau qui contient, en particulier, des informations d'identification, est appel√© un profil r√©seau.  Initialement, une solution similaire a √©t√© propos√©e par Apple, mais son d√©veloppement a finalement √©t√© standardis√© avec des changements importants.  La capture d'√©cran ci-dessous est un exemple de profil pour iOS.  De plus, tout utilisateur de Mac OS peut s'exercer √† cr√©er des profils √† l'aide de l'utilitaire Apple Configurator et √† suivre la documentation officielle. <br><br><img src="https://habrastorage.org/webt/zj/f-/qu/zjf-qur4nmgeknxj1t3mimg3yxo.png"><br>  <i><font color="999999">Exemple de profil pour iOS</font></i> <br><br>  √Ä quoi ressemble le processus d'approvisionnement pour l'utilisateur?  Il existe plusieurs solutions OSU commerciales sur le march√© - GlobalReach Odyssys, Ruckus CloudPath, Aruba ClearPass - afin que nous puissions voir le processus en utilisant l'une d'entre elles comme exemple.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le lien</a> fournit des captures d'√©cran de la solution de GlobalReach Odyssys.  Le lien doit √™tre ouvert uniquement dans le navigateur Safari, sinon le syst√®me d'exploitation du smartphone ne reconna√Ætra pas le fichier de profil (a l'extension mobileconfig) et ne proposera pas de l'installer. <br><br>  Ici, le r√©glage du profil est affich√© avec le nombre maximum d'√©tapes de la part de l'utilisateur, par exemple, quand en plus du smartphone il y a aussi une Apple Watch (oui, vous pouvez mettre un profil sur la montre et elle se connectera au Wi-Fi).  Le provisionnement Web des appareils iOS n'est possible que via le navigateur Safari, c'est une exigence du syst√®me d'exploitation.  Le provisionnement des appareils Android, selon la version, peut √™tre effectu√© √† la fois via le navigateur et en utilisant l'application. <br><br><img src="https://habrastorage.org/webt/sy/ow/__/syow__ffcmqtbevqm3hxxkqtwqg.jpeg"><br><br><img src="https://habrastorage.org/webt/ch/xa/cn/chxacn5hpb1br53nvrk83jwdh4g.jpeg"><br><br>  En g√©n√©ral, l'algorithme de configuration du r√©seau est le m√™me pour tous les appareils: <br><br><ul><li>  l'utilisateur se connecte √† un r√©seau Wi-Fi ouvert (un sc√©nario de connexion √† un r√©seau ferm√© sp√©cial o√π seul OSU sera disponible est possible) ou utilise l'Internet mobile pour ouvrir la page OSU; </li></ul><br><ul><li>  √† l'√©tape suivante, nous identifions l'utilisateur (confirmation par SMS, saisie des identifiants depuis votre compte personnel, identification via l'application); </li></ul><br><ul><li>  c√¥t√© backend, nous g√©n√©rons des informations d'identification, les enregistrons et les transmettons √† l'utilisateur; </li></ul><br><ul><li>  les informations d'identification et les param√®tres r√©seau sont stock√©s sur l'appareil de l'utilisateur; </li></ul><br><ul><li>  l'appareil est pr√™t √† fonctionner sur le r√©seau Hotspot 2.0, aucune action suppl√©mentaire n'est requise de l'appareil, il vous suffit d'√™tre dans la zone de couverture d'un tel r√©seau. </li></ul><br>  De notre point de vue, et je pense que le public sera d'accord avec cela, l'approvisionnement Web n√©cessite trop d'action de la part de l'utilisateur, et le processus lui-m√™me n'est pas transparent.  Personne n'a de question, quel mot de passe doit √™tre entr√© dans le formulaire? <br><br>  L'utilisation de l'application r√©duit le besoin d'action √† un minimum, √† un ou deux.  Mais, malheureusement, la technologie ne s'oriente activement que vers le d√©veloppement et la standardisation du Web-Provisioning, le Mobile Device Management Protocol (OAM DM), tandis que la possibilit√© d'utiliser l'application n'est pas refl√©t√©e dans la norme.  N√©anmoins, les fabricants de syst√®mes d'exploitation mobiles introduisent la fonctionnalit√© des param√®tres logiciels pour les param√®tres r√©seau Hotspot 2.0, mais les impl√©mentations des diff√©rents fournisseurs sont sensiblement diff√©rentes, il n'y a pas d'universalit√©. <br><br><h3>  Sous-total </h3><br>  En r√©sumant tout ce qui pr√©c√®de, nous r√©sumons les brefs r√©sultats de l'examen et l'√©tat actuel de la technologie: <br><br><ul><li>  Peut r√©soudre le probl√®me de randomisation des adresses MAC; </li></ul><br><ul><li>  Il peut exclure la possibilit√© de se connecter √† de faux SSID de cybercriminels pour nos utilisateurs; </li></ul><br><ul><li>  N√©cessite le provisioning des informations d'identification; </li></ul><br><ul><li>  Faible p√©n√©tration d'une partie de la pile technologique (802.11u, provisioning) sur les appareils Android; </li></ul><br><ul><li>  Provisionnement Web standardis√©; </li></ul><br><ul><li>  Les dispositions utilisant le protocole OMA DM sont normalis√©es, dont la port√©e est limit√©e aux r√©seaux d'entreprise; </li></ul><br><ul><li>  Malgr√© la normalisation, la mise en ≈ìuvre et les fonctionnalit√©s prises en charge d√©pendent du fournisseur (particuli√®rement pertinent pour Android). </li></ul><br>  Compte tenu des avantages importants de la technologie, ainsi que de l'√©tat actuel de son d√©veloppement, nous avons d√©cid√© d'introduire Hotspot 2.0 sur notre r√©seau. <br><br><h3>  Impl√©mentation de Hotspot 2.0 sur un r√©seau √† grande √©chelle </h3><br>  Lors du lancement, il a fallu r√©soudre plusieurs probl√®mes majeurs. <br><br>  <b>1. Modifications apport√©es √† l'√©quipement du r√©seau sans fil</b> <br><br>  Nos plus grands r√©seaux, dans le m√©tro de Moscou et de Saint-P√©tersbourg, sont construits sur des √©quipements Cisco prenant en charge la technologie Hotspot 2.0.  La mise en place de tous les contr√¥leurs sur mat√©riel roulant a probablement √©t√© la plus volumineuse.  La configuration de contr√¥leur de r√©f√©rence d√©velopp√©e et test√©e pr√©c√©demment √† l'aide de l'auto-configurateur (nous en avons parl√© dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> s√©par√©) a √©t√© appliqu√©e √† toutes les compositions.  Application r√©partie en plusieurs √©tapes.  Tout d'abord, sur la branche verte du m√©tro de Moscou, pour √©valuer les effets et l'influence locaux, puis sur l'ensemble du r√©seau.  Maintenant, le deuxi√®me SSID MT est d√©ploy√© sur l'ensemble du mat√©riel roulant du m√©tro de Moscou. <br><br>  <b>2. Raffinement c√¥t√© infrastructure interne, notamment sur le serveur RADIUS</b> <b><br></b> <br>  Comme nous avons un serveur RADIUS enti√®rement d√©velopp√©, nous avons d√ª impl√©menter la prise en charge d'EAP et la m√©thode d'authentification interne. <br><br>  <b>3. Choix d'un type d'informations d'identification et d'une m√©thode d'authentification</b> <b><br></b> <br>  Le choix doit non seulement fournir une authentification et une autorisation fiables et transparentes pour l'abonn√© du r√©seau, mais √©galement maintenir l'efficacit√© de nos mod√®les de mon√©tisation actuels et futurs.  Permettez-moi de vous rappeler que la mon√©tisation (via la publicit√© et des services suppl√©mentaires) nous permet de fournir un acc√®s gratuit au r√©seau. <br><br>  Le type d'informations d'identification est choisi entre la paire nom d'utilisateur / mot de passe et le certificat X.509.  √Ä premi√®re vue, l'utilisation du certificat semble plus fiable, moderne et prometteuse.  Par exemple, vous pouvez organiser l'utilisation du m√™me certificat pour l'authentification dans les applications (m√™me dans notre propre compte personnel), en outre de mani√®re transparente.  Cependant, la question de la gestion des certificats d'utilisateurs sur un grand r√©seau public (plut√¥t que sur un r√©seau d'entreprise limit√© lorsqu'il y a un acc√®s physique aux appareils) semble non triviale, en particulier compte tenu des diff√©rences dans les impl√©mentations des fabricants. <br><br>  Par cons√©quent, nous choisissons la paire nom d'utilisateur / mot de passe.  La m√©thode est TTLS, car elle est largement utilis√©e pour l'itin√©rance Wi-Fi inter-op√©rateurs internationale.  Pour authentifier le serveur et exclure la possibilit√© de se connecter √† de faux SSID (il y a des nuances, nous les consid√©rerons dans la section sur la s√©curit√©), nous √©mettrons une cl√© et un certificat, dont la partie priv√©e sera plac√©e sur le serveur AAA, et celle ouverte sera incluse dans le profil.  Ainsi, au stade de la connexion, l'authentification du serveur d'autorisation aura lieu. <br><br>  <b>4. Providence</b> <br><br>  La question la plus difficile, qui n'est pas compl√®tement close.  Nous devons nous assurer que les informations d'identification sont transf√©r√©es sur les appareils de l'utilisateur avec un minimum d'actions de la part du propri√©taire, et il vaut mieux √™tre transparent pour lui en g√©n√©ral.  Il est n√©cessaire d'assurer le m√™me flux pour les propri√©taires d'iOS et d'Android, o√π non seulement la version vers la version du syst√®me d'exploitation, mais aussi pour les appareils de diff√©rents fabricants, les param√®tres d'informations d'identification peuvent consid√©rablement diff√©rer.  Malheureusement, il n'y a pas encore de solution universelle.  Nous avons eu des id√©es pour transf√©rer la fonctionnalit√© d'approvisionnement et de gestion de la connexion Wi-Fi √† une application mobile en tant que solution universelle, mais nous avons rencontr√© des limitations des deux plates-formes. <br><br>  En ce moment, nous poursuivons nos recherches et, √©ventuellement, dans la version finale, il y aura des changements dans la proc√©dure d'approvisionnement ou une partie de la fonctionnalit√©.  Nous consid√©rons toujours l'id√©e d'utiliser l'application comme la plus prometteuse et la plus conviviale et continuons √† d√©velopper cette id√©e. <br><br>  Mais vous devez commencer quelque part, et comme le processus d'approvisionnement est unifi√© sur tous les appareils iOS, nous avons commenc√© √† impl√©menter Hotspot 2.0 avec des gadgets Apple.  Nous avons d√©velopp√© un provisionnement de service web.  Nous invitons tout le monde √† participer aux tests ouverts du nouveau r√©seau, instructions d√©taill√©es √† la fin de l'article. <br><br><h3>  √Ä propos de la s√©curit√© </h3><br>  La fourniture de r√©seaux Wi-Fi et d'informations d'identification √† l'aide de profils iOS n'est qu'une petite partie de la fonctionnalit√© MDM (Mobile Device Management).  Entre les mains des attaquants, la fonctionnalit√© peut entra√Æner des cons√©quences n√©gatives pour les utilisateurs, jusqu'au blocage complet de l'appareil ou sa gestion par des tiers.  En particulier, des restrictions sur l'installation / suppression d'applications peuvent √™tre ajout√©es via le profil, un attaquant peut contr√¥ler l'installation des applications, diriger le trafic des utilisateurs via son proxy, etc.  Par cons√©quent, le processus d'installation d'un profil requiert une attention accrue de l'utilisateur - <b>vous devez vous assurer que le profil est publi√© par une entreprise de confiance.</b> <br><br>  D√©sormais, le seul moyen transparent de provisionner des appareils iOS pour qu'ils fonctionnent dans les r√©seaux Hotspot 2.0 est de d√©finir des profils.  Nous aimerions donner quelques recommandations sur l'installation de profils qui seront utiles non seulement dans le contexte des param√®tres Wi-Fi: <br><br><ul><li>  Installez les profils uniquement √† partir d'une source fiable.  La fiabilit√© de la source est confirm√©e par une signature num√©rique valide.  La signature valide dans la fen√™tre d'installation du profil est indiqu√©e par une inscription verte - V√©rifi√© ou V√©rifi√©.  Vous pouvez √©galement faire attention au domaine pour lequel le certificat est √©mis.  Dans notre cas, il s'agit de hotspot.wi-fi.ru.  √Ä l'avenir, il peut √™tre arbitraire dans le domaine wi-fi.ru.  Il n'est pas recommand√© d'installer un profil avec une signature non valide. </li></ul><br><br><img src="https://habrastorage.org/webt/6x/qw/u4/6xqwu4wfryik18k81cram30sbbi.jpeg"><br>  <i><font color="999999">Exemple de profil valide et invalide</font></i> <br><br><ul><li>  Avant d'installer le certificat, vous voyez quelles modifications et quels param√®tres seront effectu√©s.  Notre profil contient les param√®tres du r√©seau Wi-Fi et un certificat interm√©diaire pour authentifier un serveur RADIUS.  Dans l'onglet ¬´Plus de d√©tails¬ª, vous pouvez voir des informations d√©taill√©es sur les param√®tres du r√©seau Wi-Fi et les certificats install√©s.  Il n'est pas recommand√© de d√©finir un profil o√π ¬´Proxy¬ª est d√©fini dans les param√®tres du r√©seau Wi-Fi. </li></ul><br><img src="https://habrastorage.org/webt/ie/am/dz/ieamdznpfqe4g5von4skmvpulio.jpeg"><br><br><ul><li>  Il est fortement recommand√© de ne pas installer de certificats contenant d'autres param√®tres, en particulier SCEP - cela permettra aux attaquants d'obtenir un contr√¥le total sur l'appareil en installant n'importe quel profil sans votre participation. </li></ul><br><br><img src="https://habrastorage.org/webt/om/fs/3o/omfs3o7g5ti5shzewn6inkck-vi.jpeg"><br>  <i><font color="999999">Exemple de profil avec diverses limitations des fonctionnalit√©s des appareils mobiles</font></i> <br><br><ul><li>  Pour les appareils Android, la principale recommandation est de s'assurer que le certificat de serveur est utilis√© dans les param√®tres du r√©seau Wi-Fi, sinon il sera possible de se connecter √† de faux SSID.    iOS, Android    ,    ‚Äî   /  .           . </li></ul><br><br><img src="https://habrastorage.org/webt/jy/lz/yf/jylzyfwvfiekmfcyovq1j5coiak.jpeg"><br><br><h3>   </h3><br>    Hotspot 2.0            ,     ,             .  ,      ,      Wi-Fi.  ,  Hotspot 2.0   MT_FREE   ,        Wi-Fi      . <br><br>      Hotspot 2.0       iOS.      ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">wi-fi.ru/hotspot</a>   .      Wi-Fi        ,         MT_FREE (,  , MT). <br><br>         .   :             hotspot@maximatelecom.ru. <br><br><h3>     <br></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le lien avec le service de g√©n√©ration de profil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wi-fi.ru/hotspot ne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> doit √™tre ouvert qu'√† partir d'appareils iOS et dans le navigateur Safari. </font><font style="vertical-align: inherit;">Il s'agit d'une limitation du syst√®me d'exploitation. </font><font style="vertical-align: inherit;">Nous utilisons un tel sc√©nario d'approvisionnement uniquement pendant les tests de r√©seau ouvert. </font><font style="vertical-align: inherit;">Dans un avenir proche, nous pr√©voyons de publier une option d√©j√† cibl√©e √† l'aide de l'application. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les param√®tres de profil de flux pour iOS jusqu'√† la version 11 incluse et √† partir de 12 diff√®rent. </font><font style="vertical-align: inherit;">Vous trouverez ci-dessous le flux des versions jusqu'√† la version 11 incluse: </font></font><br><br><img src="https://habrastorage.org/webt/hh/id/1i/hhid1i3proju1r9me-pf9pqu_mw.jpeg"><br><br><img src="https://habrastorage.org/webt/de/lq/c0/delqc06oo0ab0evbopwrny6rckc.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diff√©rences dans le flux d'installation d'un profil pour iOS √† partir de la version 12:</font></font><br><br><img src="https://habrastorage.org/webt/wd/wr/jx/wdwrjxauf2xa1znuiobyvz2iofa.jpeg"><br><br><img src="https://habrastorage.org/webt/3j/xv/y8/3jxvy8esulddfxtqwasghn_q1yu.jpeg"><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instructions de suppression de profil </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un profil est g√©n√©r√© avec une p√©riode de validit√© jusqu'au 30 novembre 2019. </font><font style="vertical-align: inherit;">Apr√®s cette p√©riode, le profil est supprim√© automatiquement sans aucune action de l'utilisateur. </font><font style="vertical-align: inherit;">S'il est devenu n√©cessaire de supprimer un profil plus t√¥t, cela peut √™tre fait manuellement.</font></font><br><br><img src="https://habrastorage.org/webt/aw/mp/kf/awmpkfiqub0wjtjcinozellwm3m.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462031/">https://habr.com/ru/post/fr462031/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462021/index.html">Comment arr√™ter de faire la m√™me chose</a></li>
<li><a href="../fr462023/index.html">Cascadeur: L'avenir de l'animation de jeux</a></li>
<li><a href="../fr462025/index.html">Mod√®le de donn√©es de r√©seau relationnel</a></li>
<li><a href="../fr462027/index.html">Comment Dark d√©ploie le code 50 ms</a></li>
<li><a href="../fr462029/index.html">19 fonctionnalit√©s utiles du fichier .htaccess</a></li>
<li><a href="../fr462033/index.html">La derni√®re c√®ne des d√©veloppeurs</a></li>
<li><a href="../fr462035/index.html">Python Vs R - Science des donn√©es</a></li>
<li><a href="../fr462041/index.html">Approches de segmentation mobile - Traduction</a></li>
<li><a href="../fr462043/index.html">P√™che intelligente chez FishSensor</a></li>
<li><a href="../fr462045/index.html">Un autre avis sur la diff√©rence entre bin, sbin, usr / bin, usr / sbin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>