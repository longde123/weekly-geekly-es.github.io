<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∫üèø üéÖ ‚ùå Syst√®me d'exploitation Haiku: portage d'applications et cr√©ation de packages üà¥ üë®üèª‚Äçüç≥ üë£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√Ä l'automne de cette ann√©e, apr√®s 6 ans de d√©veloppement, la premi√®re version b√™ta de "R1 / beta1" du syst√®me d'exploitation Haiku est sortie. Je suis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Syst√®me d'exploitation Haiku: portage d'applications et cr√©ation de packages</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434690/">  √Ä l'automne de cette ann√©e, apr√®s 6 ans de d√©veloppement, la premi√®re version b√™ta de "R1 / beta1" du syst√®me d'exploitation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Haiku, Syst√®me d'exploitation, page Wikipedia.">Haiku</a> est sortie.  Je suis depuis longtemps ce projet int√©ressant qui vise √† recr√©er et √† d√©velopper le syst√®me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="BeOS, page Wikipedia.">BeOS</a> qui existait en 1994-2000.  Par cons√©quent, d√®s que j'ai vu des nouvelles sur la sortie de la version b√™ta de Haiku sur les sites de nouvelles informatiques, j'ai imm√©diatement d√©cid√© de voir ce qui √©tait ajout√© √† cette version tant attendue.  Apr√®s avoir install√© le syst√®me dans la machine virtuelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="VirtualBox, site officiel.">VirtualBox</a> et un peu de familiarisation avec ses fonctionnalit√©s de base, j'ai pens√© qu'il serait bien d'aider la communaut√© OpenSource, qui d√©veloppe ce syst√®me d'exploitation, un peu aujourd'hui.  J'ai d√©cid√© de commencer par ce que j'ai acquis un peu d'exp√©rience: le portage de certains projets de jeux. <br><br><div style="text-align:center;"><img title="Le bureau du syst√®me d'exploitation Haiku." src="https://habrastorage.org/webt/aw/eo/qy/aweoqyqziwcmq_qcwirvpf6drno.png"></div><br>  <i>Le bureau du syst√®me d'exploitation Haiku.</i> <br><br>  Plus tard, j'ai essay√© d'affiner certaines applications et biblioth√®ques existantes.  C'est ma petite activit√© dans divers r√©f√©rentiels open source √† laquelle cet article sera consacr√©.  Dans ce document, je d√©crirai constamment les probl√®mes que j'ai rencontr√©s et parlerai des m√©thodes pour les r√©soudre.  J'ai essay√© d'envoyer la plupart des correctifs qui ont √©t√© faits au cours de ce travail √† des projets existants en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="En amont, d√©veloppement de logiciels, page Wikipedia.">amont</a> afin de leur fournir un support Haiku et d'int√©resser leurs d√©veloppeurs √† l'existence de syst√®mes d'exploitation alternatifs. <br><a name="habracut"></a><br>  Le syst√®me d'exploitation Haiku utilise un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Noyau hybride, page Wikipedia.">noyau hybride</a> , qui est une impl√©mentation de l'architecture micro-noyau avec la capacit√© de charger dynamiquement les modules n√©cessaires.  Il est bas√© sur la fourche du noyau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="NewOS, site officiel.">NewOS</a> , qui a √©t√© d√©velopp√© par un ancien ing√©nieur de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Be Inc., page Wikipedia.">Be Inc.</a>  , Par Travis Geiselbrecht.  Aujourd'hui, ce d√©veloppeur travaille chez Google sur un noyau appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Zircon, miroir de sources en lecture seule, r√©f√©rentiel GitHub.">Zircon</a> pour le nouveau syst√®me d'exploitation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Google Fuchsia, page Wikipedia.">Google Fuchsia</a> , mais c'est une autre histoire.  Ainsi, puisque les d√©veloppeurs de Haiku d√©clarent la compatibilit√© binaire avec BeOS, ils sont oblig√©s de prendre en charge non pas deux branches architecturales famili√®res, mais trois: x86_64, x86 et x86_gcc2.  Cette derni√®re architecture est une charge de compatibilit√© avec le compilateur de l'ancienne version de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Collection du compilateur GNU, page Wikipedia.">GCC</a> 2.95.  C'est gr√¢ce √† elle qu'il est possible d'ex√©cuter des applications √©crites pour le syst√®me d'exploitation BeOS d'origine.  Malheureusement, en raison de cette charge de compatibilit√©, les d√©veloppeurs Haiku ne peuvent pas utiliser les fonctionnalit√©s modernes du langage de programmation C ++ dans les API syst√®me.  Cependant, ils pr√©parent des images d'installation pour seulement deux architectures: x86_64 et x86.  Le fait est que la distribution Haiku pour x86 est hybride: malgr√© le fait que tous les composants du syst√®me sont construits sous x86_gcc2 pour la compatibilit√© binaire, l'utilisateur a la possibilit√© d'installer ou de construire des applications modernes con√ßues avec des compilateurs modernes et une architecture x86 .  La distribution Haiku pour l'architecture x86_64 est enti√®rement 64 bits et n'a pas la possibilit√© d'ex√©cuter des applications BeOS et Haiku 32 bits.  Cependant, il existe une compatibilit√© au niveau de l'API, donc si vous avez le code source de l'application sous BeOS ou Haiku x86, vous pouvez facilement le compiler sous Haiku x86_64 et tout devrait fonctionner.  Une image du syst√®me d'exploitation pour l'architecture x86_64 est recommand√©e pour l'installation sur du mat√©riel r√©el si vous n'avez pas besoin de prise en charge pour des applications BeOS sp√©cifiques ou des applications Haiku 32 bits. <br><br>  Il convient de noter que ce syst√®me d'exploitation prend en charge partiellement le standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="POSIX, page Wikipedia.">POSIX</a> .  Cette fondation s'apparente √† des syst√®mes de type UNIX et facilite le portage de leurs logiciels.  Le langage de programmation principal est le C ++, il est activement utilis√©, car les API publiques de Haiku poursuivent principalement un paradigme de programmation orient√© objet.  N√©anmoins, personne n'interdit l'utilisation du langage de programmation C, mais dans la plupart des cas, vous devrez √©crire les couches de compatibilit√© correspondantes.  L'interface logicielle du syst√®me d'exploitation est regroup√©e dans des cadres syst√®me distincts qui sont responsables d'une opportunit√© particuli√®re, par exemple, pour une interface ou un support r√©seau.  C'est un peu comme ce qui est disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Documentation d√©veloppeur Apple.">macOS</a> ou dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Tous les modules Qt, documentation officielle.">framework Qt</a> .  Il convient de noter que ce syst√®me d'exploitation est mono-utilisateur, bien que certains d√©veloppements dans le sens de fournir un mode de travail multi-utilisateurs pour les d√©veloppeurs de Haiku soient disponibles. <br><br>  Je ne peux que partager avec les lecteurs de cet article l'exp√©rience positive de l'utilisation du syst√®me avanc√© de gestion des fen√™tres d'application disponible dans Haiku.  √Ä mon avis, c'est l'un des plus pratiques et √† sa mani√®re est la marque de fabrique de cet OS. <br><br><div style="text-align:center;"><img title="Gestion avanc√©e des fen√™tres dans le syst√®me d'exploitation Haiku: prise en charge du pavage et des onglets." src="https://habrastorage.org/webt/tw/cm/qe/twcmqedw1ofbempjx2ktaxjesmi.png"></div><br>  <i>Gestion avanc√©e des fen√™tres dans le syst√®me d'exploitation Haiku: prise en charge du pavage et des onglets.</i> <br><br>  Les fen√™tres peuvent √™tre attach√©es ensemble dans des onglets, comme cela se fait dans les navigateurs modernes, attach√©es les unes aux autres et redimensionn√©es de mani√®re pratique.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Gestionnaire de fen√™tres en mosa√Øque, page Wikipedia.">Mosa√Øque simple</a> , transfert des contextes de certaines applications d'une fen√™tre √† une autre et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Replicant, BeOS, site Wikipedia.">r√©plicants</a> pris en charge.  Vous pouvez en savoir plus sur toutes les fonctionnalit√©s du syst√®me de fen√™tres locales dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="GUI de Haiku, documentation officielle de Haiku.">documentation officielle</a> , l√† toutes les touches de raccourci n√©cessaires y sont d√©crites. <br><br>  Je n'√©crirai pas dans cet article un aper√ßu complet de toutes les fonctionnalit√©s et capacit√©s de Haiku, car ceux qui s'y int√©ressent pourront facilement trouver eux-m√™mes les informations n√©cessaires sur Internet. <br><br><a name="article-content"></a><h2>  Contenu: </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1. Packages et r√©f√©rentiels dans Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2. Premi√®res √©tapes: Porter l'aventure d'affection de l'armure adamante</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3. Modification du port NXEngine existant (Cave Story)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">4. Portage du jeu Gish</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">5. Le projet BeGameLauncher, qui vous permet de cr√©er rapidement des lanceurs de jeux</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">6. Portage de Xash3D: jeu de demi-vie l√©gendaire et modules compl√©mentaires officiels</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">7. Portage des deux parties du jeu Serious Sam: The First Encounter et The Second Encounter</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">8. Portage du jeu Vangers</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">9. Impl√©mentation de dialogues dans la biblioth√®que SDL2 pour Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">10. Portage de ma fourchette de Cool Reader</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">11. Finalisation du programme KeymapSwitcher</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">12. Conclusion</a> <br><br><a name="packages"></a><h2>  1. Packages et r√©f√©rentiels dans Haiku </h2><br>  Par rapport au BeOS d'origine, une innovation importante est apparue dans Haiku: un syst√®me de gestion de paquets qui comprend divers outils pour obtenir et installer des logiciels √† partir de diverses sources.  Ces sources peuvent √™tre les r√©f√©rentiels officiels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="R√©f√©rentiels, documentation officielle Haiku.">Haiku</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="HaikuPorts, r√©f√©rentiel GitHub.">HaikuPorts</a> , des r√©f√©rentiels non officiels et des packages HPKG simplement s√©par√©s et sp√©cialement pr√©par√©s.  De telles capacit√©s d'installation et de mise √† jour de logiciels sont connues depuis longtemps dans le monde des syst√®mes d'exploitation de type Unix, mais maintenant toute leur puissance et leur commodit√© ont atteint Haiku, ce qui ne peut que plaire aux utilisateurs ordinaires de ce syst√®me d'exploitation.  Gr√¢ce √† l'infrastructure construite autour du gestionnaire de packages, tout d√©veloppeur peut d√©sormais facilement porter une nouvelle application open source ou la modifier, puis ajouter les r√©sultats de son travail au r√©f√©rentiel de port du logiciel HaikuPorts, apr√®s quoi ils seront disponibles pour tous les utilisateurs de Haiku.  En cons√©quence, l'√©cosyst√®me r√©sultant ressemble √† celui des syst√®mes d'exploitation macOS avec leur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Homebrew, le gestionnaire de paquets manquant pour macOS.">Homebrew</a> , FreeBSD avec leurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="√Ä propos des ports FreeBSD, site officiel de FreeBSD.">ports</a> , Windows avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="MSYS2 est une distribution de logiciels et une plate-forme de construction pour Windows.">MSYS2</a> ou Arch Linux avec son <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="R√©f√©rentiel d'utilisateurs Arch Linux.">AUR</a> . <br><br>  Un outil de construction de packages et de logiciels de portage, appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="HaikuPorter, r√©f√©rentiel GitHub.">HaikuPorter</a> , est fourni s√©par√©ment du syst√®me d'exploitation et est install√© √† l'aide d'un petit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Documentation HaikuPorts, page wiki GitHub.">manuel</a> situ√© dans le r√©f√©rentiel sur GitHub.  Apr√®s avoir install√© cet utilitaire √† partir du m√™me GitHub, l'arborescence de recette enti√®re est t√©l√©charg√©e, sur laquelle le d√©veloppeur travaille.  La recette est un script Shell standard avec des instructions sur lesquelles HaikuPorter collectera le package HPKG requis.  Il est √† noter que l'outil lui-m√™me est √©crit dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Python, langage de programmation, page Wikipedia.">langage de</a> programmation <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Python, langage de programmation, page Wikipedia.">Python</a> 2, interagit √©troitement avec le syst√®me de gestion de packages existant et utilise l'outil standard <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Git, page Wikipedia.">Git en</a> interne pour corriger les modifications du code source du logiciel et g√©n√©rer un ensemble de correctifs.  Gr√¢ce √† cette pile technologique, faire des recettes pour cr√©er des packages HPKG et des correctifs logiciels sous forme de fichiers de patchs est tr√®s pratique et simple.  Dans la plupart des cas, je n'ai d√ª utiliser que trois commandes lorsque je travaillais avec HaikuPorter: <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> hp=<span class="hljs-string"><span class="hljs-string">"haikuporter -S -j4 --get-dependencies --no-source-packages"</span></span> hp libsdl2 hp libsdl2 -c hp libsdl2 -e</code> </pre> <br>  La premi√®re commande collecte simplement le package s√©lectionn√©, la deuxi√®me commande efface le r√©pertoire de construction et la troisi√®me cr√©e ou met √† jour un ensemble de correctifs en fonction de vos modifications enregistr√©es dans le r√©f√©rentiel Git du r√©pertoire de travail via les validations. <br><br>  Ainsi, afin de publier un package dans le r√©f√©rentiel HaikuPorts et de le mettre √† la disposition de tous les utilisateurs Haiku, le d√©veloppeur doit installer HaikuPorter, d√©velopper l'arborescence de recettes, collecter le package HPKG localement et le tester, puis valider √† sa fourchette de l'arbre de recettes. puis faites une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Contr√¥le de version distribu√©, demandes Pull, page Wikipedia.">requ√™te Pull</a> sur GitHub.  Les d√©veloppeurs de Haiku devraient consid√©rer le travail publi√©, apr√®s quoi ils d√©cident de fusionner vos modifications dans le r√©f√©rentiel ou de les envoyer pour r√©vision.  Si les modifications sont accept√©es, le m√™me HaikuPorter install√© sur le serveur de g√©n√©ration collectera √† distance le package et le publiera automatiquement dans le r√©f√©rentiel. <br><br>  Un programme sp√©cial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="HaikuDepot, documentation officielle Haiku.">HaikuDepot</a> a √©t√© ajout√© √† la version b√™ta de ¬´R1 / beta1¬ª du syst√®me d'exploitation Haiku, qui permet de travailler avec des packages et des r√©f√©rentiels via une interface utilisateur graphique, plut√¥t que via des commandes de console dans le terminal. <br><br><div style="text-align:center;"><img title="Le programme HaikuDepot fonctionnant sur le syst√®me d'exploitation Haiku." src="https://habrastorage.org/webt/bv/7d/bt/bv7dbtkhvrdz4nunutpahn4kate.png"></div><br>  <i>Le programme HaikuDepot fonctionnant sur le syst√®me d'exploitation Haiku.</i> <br><br>  Gr√¢ce √† cet outil, les utilisateurs inexp√©riment√©s et novices de Haiku peuvent facilement g√©rer leur base de packages.  Il convient de noter que cette application n'est pas seulement un shell GUI sur le gestionnaire de packages existant, mais qu'elle impl√©mente √©galement des fonctionnalit√©s suppl√©mentaires.  Par exemple, les utilisateurs autoris√©s peuvent √©valuer et r√©diger des avis sur les packages disponibles pour l'installation.  De plus, HaikuDepot dispose d'un site <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Site Web de Haiku Depot.">Web</a> sp√©cial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Site Web de Haiku Depot.">Haiku Depot</a> qui vous permet de visualiser les modifications des packages sur Internet ou de t√©l√©charger des packages HPKG individuels. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>&lt;&lt; Passer au contenu</em></a> <br><br><a name="aaaa"></a><h2>  2. Premi√®res √©tapes: Porter l'aventure d'affection de l'armure adamante </h2><br>  Apr√®s avoir pris connaissance des fonctionnalit√©s du syst√®me d'exploitation dans la machine virtuelle VirtualBox, j'ai d√©cid√© d'√©valuer la biblioth√®que SDL2 et de porter le jeu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Portage d'Adamant Armor Affection Adventure sur Android OS.">Adamant Armor Affection Adventure</a> sur Haiku, que j'ai √©crit plus t√¥t sur le transfert vers la plate-forme Android.  La construction du programme n'a n√©cessit√© aucune modification du code source, j'ai juste install√© tous les outils n√©cessaires, les biblioth√®ques, leurs fichiers d'en-t√™te √† partir du r√©f√©rentiel et effectu√© les op√©rations suivantes: <br><br><pre> <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> = off -DCMAKE_C_FLAGS = "- D__linux__" -DSDL2_INCLUDE_DIR = `finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR =` finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> </pre><br>  Puisque Haiku a POSIX, les d√©finitions -D__linux__ ou <strong>-D__unix__</strong> r√©solvent de nombreux probl√®mes associ√©s √† la d√©finition d'une plate-forme.  Cependant, il convient de noter qu'il est pr√©f√©rable d'abandonner leur utilisation et d'impl√©menter la prise en charge de Haiku dans le code source du projet s'il existe des probl√®mes de construction similaires.  L'appel de l' <strong>utilitaire</strong> syst√®me <strong>finddir</strong> avec un argument sp√©cifique vous permet d'obtenir le chemin d'acc√®s correct aux fichiers d'en-t√™te pour diverses architectures. <br><br>  Donc, en ex√©cutant les commandes ci-dessus, j'ai compil√© un fichier ex√©cutable qui fonctionnait parfaitement et le jeu fonctionnait parfaitement.  Je pensais que ce serait cool de pr√©parer un package HPKG autosuffisant avec le jeu et pour cela, je suis all√© profond√©ment dans Internet √† la recherche des informations dont j'avais besoin.  Ensuite, je ne connaissais pas d'outils pratiques pour le portage de logiciels, tels que HaikuPorter, dont j'ai parl√© dans la section ci-dessus, donc pour atteindre mon objectif, j'ai d√©cid√© de tricher et de d√©monter un paquet syst√®me pour voir comment il est organis√© √† l'int√©rieur et faire par analogie. <br><br>  Sur Internet, j'ai trouv√© les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Cr√©ation d'un package HPKG, HaikuOS - Wiki en langue russe.">informations</a> souhait√©es, apr√®s quoi j'ai d√©ball√© un package syst√®me al√©atoire √† l'aide de l'archiveur <strong>Expander</strong> int√©gr√© au gestionnaire de fichiers local, trouv√© le fichier <strong>.PackageInfo</strong> , l' <strong>ai</strong> √©dit√© et, conform√©ment √† la structure de mon application, j'ai remplac√© les fichiers.  Ensuite, je viens d'ex√©cuter les commandes pour cr√©er le package HPKG et l'installer sur le syst√®me: <br><br><pre> <code class="bash hljs">package create -C AAAA/ aaaa.pkg pkgman install aaaa.pkg</code> </pre><br>  Malheureusement, le lancement du jeu √† partir du menu "Applications" n'a pas r√©ussi.  En ex√©cutant l'ex√©cutable dans le terminal, j'ai re√ßu une erreur disant qu'il √©tait impossible de trouver les fichiers de donn√©es n√©cessaires pour ex√©cuter et ex√©cuter l'application.  Dans ce cas, si dans le terminal allez dans le r√©pertoire du package d'application, alors tout a bien commenc√©.  Cela m'a conduit √† l'id√©e que lors du d√©marrage du jeu √† partir du menu, vous devez effectuer une modification forc√©e dans le r√©pertoire de l'application.  Cela peut se faire soit avec un script Shell, soit en changeant la source du jeu.  J'ai choisi la deuxi√®me option et ajout√© quelque chose de similaire √† ce code: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __HAIKU__ </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// To make it able to start from Deskbar chdir(dirname(argv[0])); #endif</span></span></span></span></code> </pre><br>  Au tout d√©but de la fonction de d√©marrage <strong>main ()</strong> , qui a compl√®tement r√©solu ce probl√®me et le paquet s'est av√©r√© √™tre r√©alisable.  Dans les commentaires sur les nouvelles de la sortie de la version b√™ta de Haiku sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Haiku R1 / beta1 est sorti - Open Source - News.">Linux.org.ru,</a> j'ai laiss√© tomber le lien vers mon package assembl√© et demand√© √† quelqu'un de m'envoyer dans certaines communaut√©s d'utilisateurs actifs de ce syst√®me d'exploitation, puis je me suis couch√©. <br><br><div style="text-align:center;"><img title="Port de jeu d'Adamant Armor Affection Adventure fonctionnant sur Haiku." src="https://habrastorage.org/webt/fw/v-/lg/fwv-lgs1iqaf-bm-gdsoft2dwww.png"></div><br>  <i>Port de jeu d'Adamant Armor Affection Adventure fonctionnant sur Haiku.</i> <br><br>  Le matin, une personne utilisant le surnom de <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">3dEyes</a></strong> m'a √©crit un e-mail.  Comme il s'est av√©r√© plus tard, <strong>Gerasim Troeglazov</strong> , l'un des d√©veloppeurs Haiku actifs et auteur du port de framework Qt pour ce syst√®me d'exploitation, se cachait derri√®re ce nom.  Il m'a montr√© le r√©f√©rentiel HaikuPorts et m'a expliqu√© comment utiliser l'utilitaire HaikuPorter.  En outre, il a √©crit une recette pour la construction du package HPKG pour Adamant Armor Affection Adventure et l'a ajout√© √† HaikuDepot. <br><br>  Apr√®s avoir analys√© toutes les modifications apport√©es par ce d√©veloppeur, j'ai remarqu√© qu'il y avait des inconv√©nients dans mon package assembl√© manuellement, par exemple, les param√®tres n'√©taient pas enregistr√©s, car les r√©pertoires mont√©s des packages install√©s n'avaient pas de capacit√©s d'√©criture.  Ce probl√®me d'√©criture des param√®tres ou des sauvegardes dans son package a √©t√© √©l√©gamment r√©solu √† l'aide de liens symboliques dans un r√©pertoire sp√©cial accessible pour l'enregistrement et destin√© √† la sauvegarde des donn√©es utilisateur.  Mon colis n'avait pas non plus sa propre ic√¥ne d'origine. <br><br>  De plus, j'ai appris que Haiku n'a pas d'acc√©l√©ration mat√©rielle des graphiques 3D, et le m√™me OpenGL est rendu par programme en utilisant la puissance du processeur.  Pour les applications graphiques lourdes, cela n'est bien s√ªr pas bon, mais pour les jeux plus anciens, c'est plus que suffisant.  J'ai m√™me d√©cid√© de v√©rifier sp√©cifiquement le package du jeu et d'installer Haiku sur mon ancien ordinateur portable, c'est-√†-dire sur du vrai mat√©riel.  √Ä ma grande surprise, l'image d'Adamant Armor Affection Adventure a rendu si vite que s'ils ne m'avaient pas parl√© du manque d'acc√©l√©ration mat√©rielle, je n'aurais pas remarqu√© que le rendu est fait par mon processeur. <br><br>  <strong>Source du projet: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Adamant Armor Affection Adventure, r√©f√©rentiel GitHub.">https://github.com/EXL/AdamantArmorAffectionAdventure</a></strong> <br><br>  J'ai report√© la cr√©ation manuelle des packages HPKG jusqu'√† des temps meilleurs et suis compl√®tement pass√© √† l'utilisation de l'outil HaikuPorter et √† l'√©criture de recettes.  Mais parfois, il existe des situations o√π une reconstruction manuelle du package est n√©cessaire.  Par exemple, si HaikuPorter d√©finit la version de nuit de Haiku dans le fichier <strong>.PackageInfo</strong> trop haut et que le package doit √™tre test√© sur la version <strong>finale</strong> du syst√®me d'exploitation.  Il convient de noter que c'est gr√¢ce √† la r√©activit√© et √† l'exp√©rience de Gerasim que j'ai pu comprendre les nombreuses subtilit√©s de la cr√©ation de packages pour le syst√®me d'exploitation Haiku et continuer mon travail. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>&lt;&lt; Passer au contenu</em></a> <br><br><a name="nxengine"></a><h2>  3. Modification du port NXEngine existant (Cave Story) </h2><br>  J'ai √©t√© incroyablement surpris de trouver une recette dans le r√©f√©rentiel HaikuPorts qui faisait r√©f√©rence √† ma fourchette du moteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Cave Story (Doukutsu Monogatari) via NXEngine pour diverses plateformes.">NXEngine pour le jeu Cave Story</a> , que j'avais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Cave Story (Doukutsu Monogatari) via NXEngine pour diverses plateformes.">analys√©</a> sur mon <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Cave Story (Doukutsu Monogatari) via NXEngine pour diverses plateformes.">blog depuis</a> tr√®s longtemps.  La recette et les patchs ont √©t√© pr√©par√©s par un d√©veloppeur nomm√© <strong>Zolt√°n Mizsei</strong> , utilisant le surnom <strong>extrowerk</strong> et un mainteneur actif de nombreux packages pour Haiku. <br><br>  Une analyse superficielle, l'installation du package et le lancement de l'application ont r√©v√©l√© les m√™mes probl√®mes que ceux d√©crits dans la section pr√©c√©dente de cet article: la sauvegarde du jeu n'a pas fonctionn√©, les param√®tres n'ont pas √©t√© enregistr√©s non plus, et le package n'avait pas l'ic√¥ne d'origine.  J'ai d√©cid√© de corriger ces lacunes et j'ai commenc√© √† travailler sur le patch, en int√©grant d'abord toutes les id√©es de l'extrowerk.  J'ai √©crit le <strong>Makefile</strong> original pour le syst√®me d'exploitation Haiku et corrig√© l'√©criture et la sauvegarde de diverses donn√©es utilisateur. <br><br><div style="text-align:center;"><img title="Port du jeu Cave Story bas√© sur le moteur NXEngine, lanc√© dans le syst√®me d'exploitation Haiku." src="https://habrastorage.org/webt/cu/fy/xs/cufyxskkttfmgcra7wcq9blp88g.png"></div><br>  <i>Port du jeu Cave Story bas√© sur le moteur NXEngine, lanc√© dans le syst√®me d'exploitation Haiku.</i> <br><br>  Depuis que le jeu a assum√© les versions russe et anglaise avec un ensemble diff√©rent de fichiers ex√©cutables et de fichiers de donn√©es, j'ai d√©cid√© de cr√©er un package commun qui combine deux versions √† la fois et s√©lectionne automatiquement la bonne en fonction de la langue du syst√®me choisie par l'utilisateur.  Cela a √©t√© impl√©ment√© par le script Shell le plus simple: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash if [[ `locale -l` == ru* ]] ; then EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/RUS/Cave Story" else EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/ENG/Cave Story" fi "$EXE" $@</span></span></code> </pre><br>  Ce script est lanc√© lorsqu'un √©l√©ment de jeu est s√©lectionn√© dans le menu "Applications" et d√©termine les param√®tres r√©gionaux actuels du syst√®me.  Dans le cas o√π l'utilisateur a choisi le russe comme langue syst√®me, la version russe du jeu d√©marrera, et dans tous les autres cas, la version anglaise. <br><br>  Mais avec la cr√©ation de l'ic√¥ne originale de l'application j'ai d√ª bricoler assez.  Le fait est que dans le syst√®me d'exploitation Haiku, seules les ic√¥nes vectorielles du format <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Images de 500 octets: le format d'ic√¥nes vectorielles Haiku.">HVIF</a> sp√©cial sont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Images de 500 octets: le format d'ic√¥nes vectorielles Haiku.">autoris√©es</a> , qui sont d√©finies comme des attributs du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Be File System, page Wikipedia.">syst√®me de</a> fichiers <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Be File System, page Wikipedia.">Be File System</a> .  Dans la documentation officielle, il y a deux grands manuels sur la cr√©ation de vos propres ic√¥nes pour les applications: le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Icon Guidelines, Development, Official Haiku site.">premier manuel</a> d√©crit le style de dessin et de conception, et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Icon-O-Matic, documentation officielle de Haiku.">deuxi√®me manuel</a> explique en d√©tail comment utiliser le programme syst√®me <strong>Icon-O-Matic</strong> pour cr√©er des ic√¥nes. <br><br>  Icon-O-Matic vous permet d'importer les fichiers SVG les plus simples et d'exporter l'ic√¥ne r√©sultante dans le format n√©cessaire pour HaikuPorter, appel√© HVIF RDef et repr√©sentant le m√™me HVIF, mais converti en vue texte.  Les fichiers RDef peuvent contenir non seulement des images, mais √©galement des informations suppl√©mentaires, par exemple la version de l'application et sa description.  √Ä certains √©gards, ces fichiers ressemblent aux fichiers RES utilis√©s dans Windows.  Les commandes suivantes de la recette compilent les fichiers RDef et d√©finissent le r√©sultat sur des attributs sp√©ciaux: <br><br><pre> <code class="bash hljs">rc nxengine-launcher.rdef resattr -o <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/Cave Story"</span></span> nxengine-launcher.rsrc addResourcesToBinaries <span class="hljs-variable"><span class="hljs-variable">$sourceDir</span></span>/build/nxengine-rus.rdef <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/RUS/Cave Story"</span></span></code> </pre><br>  De plus, la fonction <strong>addResourcesToBinaries est</strong> d√©finie dans les recettes, ce qui permet d'automatiser ce travail.  Il y a un probl√®me, mais tr√®s grave, avec Icon-O-Matic: les fichiers SVG que l'√©diteur de vecteurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Inkscape, site officiel.">Inkscape</a> populaire enregistre ne s'ouvrent pas ou sont import√©s sans prendre en charge certaines fonctionnalit√©s n√©cessaires, par exemple les d√©grad√©s.  Par cons√©quent, une qu√™te d'aventure avec la conversion d'images raster en images vectorielles gr√¢ce √† l'utilisation de divers convertisseurs en ligne et hors ligne payants et gratuits, puis en ouvrant les fichiers SVG r√©sultants dans Icon-O-Matic, j'ai √©chou√© lamentablement.  Plus tard, j'ai r√©solu le probl√®me de l'ouverture des fichiers SVG et trouv√© une solution de contournement, mais j'√©crirai √† ce sujet ci-dessous.  En attendant, j'ai d√©cid√© de profiter des fonctionnalit√©s standard d'Icon-O-Matic et de dessiner l'ic√¥ne moi-m√™me.  Apr√®s une demi-heure de copie papier des pixels, j'ai obtenu l'art suivant: <br><br><div style="text-align:center;"><img title="Le programme Icon-O-Matic standard dans le syst√®me d'exploitation Haiku." src="https://habrastorage.org/webt/3d/zw/pk/3dzwpkyex_ccbhffzoqovf9ioue.png"></div><br>  <i>Le programme Icon-O-Matic standard dans le syst√®me d'exploitation Haiku.</i> <br><br>  Oui, j'ai utilis√© un √©diteur de vecteur pour cr√©er une image dans le genre Pixel Art.  Dans mon point de vue amateur d'un homme qui conna√Æt mal l'art, cela s'est plut√¥t bien pass√©.  J'ai enregistr√© cette ic√¥ne dans le format requis, pr√©par√© toutes les modifications, mis √† jour la recette et tout envoy√© au r√©f√©rentiel HaikuPorts. <br><br>  <strong>Code source du projet: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="NXEngine, r√©f√©rentiel GitHub.">https://github.com/EXL/NXEngine</a></strong> <br><br>  J'ai envoy√© les packages r√©sultants juste au cas o√π et sur le site de fans du jeu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="T√©l√©chargez Cave Story, Cave Story (Doukutsu Monogatari), A Tribute Site.">Cave Story (Doukutsu Monogatari)</a> , dont l'administration a ajout√© le syst√®me d'exploitation Haiku √† la section de t√©l√©chargement. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>&lt;&lt; Passer au contenu</em></a> <br><br><a name="gish"></a><h2>  4. Portage du jeu Gish </h2><br>  Le prochain projet que j'ai d√©cid√© de transf√©rer vers Haiku √©tait le jeu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Portage de Gish sur Android OS: Utilisation des biblioth√®ques OpenAL et GL4ES.">Gish</a> , que j'avais pr√©c√©demment port√© sur Android.  Le r√©f√©rentiel HaikuPorts avait une recette pour une impl√©mentation gratuite inachev√©e d'un jeu appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Freegish, page Wikipedia.">Freegish</a> , j'ai donc d√©cid√© d'y ajouter le jeu original √©galement, mais sans fichiers de donn√©es, car contrairement au moteur, ils sont livr√©s s√©par√©ment et ne sont pas du tout gratuits. <br><br><div style="text-align:center;"><img title="Port de jeu Gish fonctionnant sur le syst√®me d'exploitation Haiku." src="https://habrastorage.org/webt/yu/dm/r9/yudmr9o3bxzmrc5a6shyyxjvj_w.jpeg"></div><br>  <i>Port de jeu Gish fonctionnant sur le syst√®me d'exploitation Haiku.</i> <br><br>  Je n'ai eu aucun probl√®me particulier avec le portage de ce jeu.  Le fichier ex√©cutable a √©t√© compil√© imm√©diatement apr√®s l'ex√©cution des commandes de g√©n√©ration suivantes: <br><br><pre> <code class="bash hljs">cmake gish/src/main/cpp/ \ -DGLES=0 \ -DANDROID=0 \ -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` \ -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"`sdl2-config --cflags` -D__linux__"</span></span> \ -DCMAKE_BUILD_TYPE=Release cmake --build .</code> </pre><br>  Ensuite, j'ai impl√©ment√© la possibilit√© de lancer le jeu √† partir du menu "Applications" et fourni un support pour l'enregistrement des donn√©es utilisateur dans un r√©pertoire accessible pour l'enregistrement et destin√© √† cela: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHaikuSettingsPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> path[PATH_MAX]; find_directory(B_USER_SETTINGS_DIRECTORY, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, path, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(path)); <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(path, <span class="hljs-string"><span class="hljs-string">"/Gish/"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strdup(path); }</code> </pre><br>  La fonction <strong>getHaikuSettingsPath ()</strong> utilisant la fonction <strong>find_directory ()</strong> de l'API Haiku forme le chemin complet vers le r√©pertoire dont j'ai besoin. <br><br>  <strong>Code source du projet: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Gish, r√©f√©rentiel GitHub.">https://github.com/EXL/Gish</a></strong> <br><br>  Il restait √† r√©soudre la question suivante: comment l'utilisateur devrait-il choisir le r√©pertoire avec les fichiers originaux du jeu Gish?  Vous pouvez essayer de r√©soudre le probl√®me en utilisant des scripts Shell et l'utilitaire de syst√®me d' <strong>alerte</strong> , mais j'ai d√©cid√© d'aborder ce probl√®me de mani√®re plus approfondie et d'impl√©menter un lanceur GUI pratique √† l'aide de l'API Haiku et du cadre du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Kit d'interface, documentation officielle Haiku.">kit d'interface</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em>&lt;&lt; Passer au contenu</em></a> <br><br><a name="launcher"></a><h2>  5. Le projet BeGameLauncher, qui vous permet de cr√©er rapidement des lanceurs de jeux </h2><br>  Il a √©t√© d√©cid√© d'√©crire mon projet BeGameLauncher en C ++ de l'ancien standard de 1998, en utilisant les outils natifs du syst√®me d'exploitation pour cr√©er des applications avec une interface utilisateur graphique.  √âtant donn√© que les noms de nombreux programmes pour Haiku et BeOS commencent par le pr√©fixe ¬´Be¬ª, j'ai √©galement d√©cid√© de choisir un tel nom pour le projet.  J'ai d√©cid√© de commencer par me familiariser avec le framework Interface Kit, qui fait partie de l'API Haiku.  En plus de la documentation assez d√©taill√©e sur le site officiel de Haiku, j'ai trouv√© deux excellents cours de <strong>DarkWyrm</strong> qui permettent √† un d√©veloppeur novice de comprendre rapidement comment certaines classes syst√®me fonctionnent.  Le premier cours s'intitule <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Apprendre √† programmer avec Haiku, site officiel de Haiku.">Apprendre √† programmer avec Haiku</a> et au tout d√©but couvre les bases du langage de programmation C ++, qui seront tr√®s utiles pour les d√©butants.  Le deuxi√®me cours est appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Programmation avec Haiku, site officiel de Haiku.">Programmation avec Haiku</a> et est destin√© √† ceux qui sont d√©j√† familiers avec C ++ et ont des connaissances de base de ce langage.  Les deux cours parlent des aspects les plus divers de l'API Haiku et seront donc tr√®s utiles √† quiconque souhaite commencer √† cr√©er des applications pour ce syst√®me d'exploitation. <br><br>  Apr√®s avoir lu cet excellent mat√©riel en diagonale, j'ai fait une impression g√©n√©rale de l'API Haiku et j'ai commenc√© √† r√©fl√©chir √† mes prochaines √©tapes.  J'avais d√©j√† une certaine exp√©rience dans le d√©veloppement d'applications d'application en utilisant le framework Qt, qui est √©galement √©crit dans le langage de programmation C ++ et utilise le paradigme de programmation orient√© objet.  Ainsi, l'API Haiku est tr√®s similaire √† celle-ci, √† l'exception de l'absence d'un syst√®me de signal et de slots, donc je vais souvent faire des parall√®les et des comparaisons avec Qt.  En outre, il convient de noter l'utilisation du principe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Programmation √©v√©nementielle, page Wikipedia.">programmation pilot√© par</a> les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Programmation √©v√©nementielle, page Wikipedia.">√©v√©nements</a> , qui est courant dans l'API Haiku, qui permet √† diverses entit√©s d'interagir les unes avec les autres par la transmission d'√©v√©nements ou de messages.  Un analogue de la classe <strong>QEvent</strong> est ici la classe <strong>BMessage</strong> , autour de laquelle se construit le syst√®me d'interaction des objets.  Une instance de la classe <strong>BMessage</strong> obtient g√©n√©ralement un num√©ro unique qui vous permet d'identifier l'exp√©diteur et son action dans un filtre d'√©v√©nement commun. <br><br>  Pour mon projet, j'ai d√ª choisir les classes API Haiku appropri√©es qui me permettraient d'impl√©menter les fonctionnalit√©s pr√©vues.  Premi√®rement, pour lancer une application externe, il √©tait n√©cessaire de trouver un analogue de la classe <strong>QProcess</strong> ou de la fonction <strong>POSVE execve ()</strong> , qui, soit dit en passant, fonctionne √©galement tr√®s bien dans le syst√®me d'exploitation Haiku, cependant, j'ai d√©cid√© que l'utilisation d'outils natifs serait pr√©f√©rable, mais juste au cas o√π l'affaire laissait la possibilit√© de lancer des applications via la fonction POSIX.  La classe de communication interprocessus <strong>BRoster √©tait</strong> id√©ale √† cet effet.  Il a trouv√© une m√©thode <strong>Launch ()</strong> appropri√©e qui vous permet de sp√©cifier le chemin d'acc√®s au fichier ex√©cutable et de lui passer des arguments.  √âtant donn√© que le lanceur devrait √™tre en mesure d'enregistrer certains param√®tres, par exemple, un r√©pertoire s√©lectionn√© par l'utilisateur avec des fichiers de donn√©es de jeu, j'avais besoin d'une classe qui fait tout cela.  Dans Qt, une telle classe est appel√©e <strong>QSettings</strong> , et dans l'API Haiku, comme Gerasim me l'a <strong>demand√©</strong> , il y a une classe <strong>BMessage que</strong> je <strong>connais</strong> d√©j√†, qui a une fonctionnalit√© tr√®s utile.  Le fait est que les informations de cette classe peuvent √™tre facilement s√©rialis√©es et, par exemple, enregistr√©es sur disque.  C'est tr√®s pratique et souvent utilis√© pour enregistrer des donn√©es utilisateur dans des programmes, c'est pourquoi j'ai choisi cette classe pour enregistrer les param√®tres dans mon projet pour impl√©menter des lanceurs.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malheureusement, l'API Haiku n'a pas trouv√© d'analogue de la classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QDebug</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , donc je viens de m'envoyer la sortie de d√©bogage pendant le d√©veloppement √† </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr en</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisant la fonction </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fprintf ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du langage de programmation C standard:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// .h #if __cplusplus &gt;= 201103L #define BeDebug(...) fprintf(stderr, __VA_ARGS__) #else extern void BeDebug(const char *format, ...); #endif // __cplusplus == 201103L // .cpp #if __cplusplus &lt; 201103L #include &lt;cstdarg&gt; void BeDebug(const char *format, ...) { va_list args; va_start(args, format); vfprintf(stderr, format, args); va_end(args); } #endif</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai envelopp√© cette fonction dans une entit√© </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeDebug () qui</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> me convient </font><font style="vertical-align: inherit;">, qui, selon la norme de langue s√©lectionn√©e, est soit une macro, soit √©galement une fonction. Cela a √©t√© fait du fait que C ++ 98 ne prend pas en charge les macros avec un nombre variable d'arguments. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt Framework poss√®de √©galement une classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QMessageBox</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utile √† </font><font style="vertical-align: inherit;">travers laquelle vous pouvez cr√©er une bo√Æte de dialogue modale avec toutes les informations auxquelles l'utilisateur doit pr√™ter attention, par exemple, une erreur ou un avertissement. L'API Haiku poss√®de une classe </font><strong><font style="vertical-align: inherit;">BAlert</font></strong><font style="vertical-align: inherit;"> √† cet effet </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dont l'impl√©mentation est quelque peu diff√©rente de ce qui est disponible dans Qt. Par exemple, un objet de cette classe doit √™tre cr√©√© sur le tas, et non sur la pile, car apr√®s une action utilisateur, il doit se supprimer. Quant aux autres classes de l'interface graphique, ici je n'ai eu absolument aucune difficult√© et j'ai trouv√© tout ce dont j'avais besoin sans aucun probl√®me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, j'aurais d√ª penser √† l'architecture simple du projet. J'ai d√©cid√© de me concentrer sur la cr√©ation d'une biblioth√®que statique, dans laquelle il y aurait deux classes con√ßues pour en h√©riter leurs propres classes d√©riv√©es. La premi√®re classe et la plus importante, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeLauncherBase</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, est responsable de la cr√©ation de la fen√™tre principale du lanceur, du transfert de tous les param√®tres utilisateur et offre la possibilit√© d'ajouter vos propres √©l√©ments GUI. </font><font style="vertical-align: inherit;">La deuxi√®me classe, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeAboutWindow</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , est simplement responsable de l'ouverture de la bo√Æte de dialogue "A propos du programme ..." avec des informations qui sont affich√©es dans une fen√™tre s√©par√©e. </font><font style="vertical-align: inherit;">Ainsi, un programmeur doit faire deux √©tapes simples pour cr√©er son lanceur, par exemple, pour jouer √† Gish:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishAboutWindow</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeAboutWindow { ... }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishLauncher</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeLauncherBase { ... }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ BeApp *beApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BeApp(SIGNATURE); GishLauncher *gishLauncher = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GishLauncher(BeUtils::GetPathToHomeDir()); beApp-&gt;SetMainWindow(gishLauncher); beApp-&gt;Run(); <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> beApp; beApp = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Premi√®rement, cr√©ez une fonction de d√©marrage appropri√©e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et deuxi√®mement, h√©ritez simplement des deux classes ci-dessus et impl√©mentez-y les m√©thodes n√©cessaires. </font><font style="vertical-align: inherit;">Apr√®s cela, nous compilons le fichier C ++ r√©sultant avec un lien vers ma biblioth√®que statique et notre lanceur pour le jeu Gish est pr√™t.</font></font><br><br><div style="text-align:center;"><img title=" ' ...'     Gish." src="https://habrastorage.org/webt/k1/hy/iw/k1hyiwbvnz6gnxaar4p7k2tnsso.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dialogue "A propos du programme ..." dans le lanceur du port du jeu Gish.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ensuite, j'ai r√©fl√©chi √† la fa√ßon de transf√©rer les param√®tres de mon lanceur vers le moteur lui-m√™me ou vers le fichier ex√©cutable du jeu. Je n'ai vu que deux fa√ßons de r√©soudre ce probl√®me. La premi√®re fa√ßon √©tait de changer les variables d'environnement. En pratique, apr√®s avoir cliqu√© sur le bouton "Ex√©cuter", le lanceur met simplement tous les param√®tres dans des variables d'environnement en appelant la fonction </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setenv ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et le moteur de jeu lit ensuite ces param√®tres en utilisant la fonction </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getenv ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui semble assez simple. Le seul probl√®me qui pourrait survenir ici √©tait dans la classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRoster</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et sa m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Je ne savais pas si l'application lanc√©e √† l'aide de cette classe h√©ritera de toutes les variables d'environnement qui ont √©t√© d√©finies dans le lanceur. Apr√®s une petite exp√©rience, l'h√©ritage des variables d'environnement a √©t√© confirm√©, et j'ai compl√®tement impl√©ment√© cette m√©thode dans mon projet. La deuxi√®me fa√ßon de r√©soudre le probl√®me √©tait de d√©finir des param√®tres de ligne de commande sp√©ciaux. En pratique, le lanceur place simplement tous les param√®tres dans les arguments appropri√©s et appelle l'ex√©cutable de l'application avec eux. Mais le moteur de jeu devait d√©j√† les traiter ind√©pendamment, ce qui a cr√©√© quelques difficult√©s. Par exemple, si le jeu ne supposait pas la possibilit√© de sp√©cifier le chemin d'acc√®s aux fichiers du jeu via les param√®tres de ligne de commande, il √©tait alors n√©cessaire de modifier l'analyseur d'arguments dans le moteur lui-m√™me. Malgr√© ces probl√®mes,J'ai mis en ≈ìuvre ce mode d'interaction et, par cons√©quent, j'ai eu une excellente occasion de tout combiner ensemble. Cela m'a permis de cr√©er une cha√Æne pour sp√©cifier les arguments utilisateur dans certains lanceurs.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque tout a √©t√© con√ßu, j'ai d√©cid√© de choisir un syst√®me d'assemblage pour mon projet. Seules deux options ont √©t√© envisag√©es: Makefile "on steroids" et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="CMake, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans le premier cas, les d√©veloppeurs du syst√®me d'exploitation Haiku ont pr√©par√© un package de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moteur de makefile</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pratique </font><font style="vertical-align: inherit;">dans lequel ils ont collect√© toutes les fonctionnalit√©s n√©cessaires auxquelles un d√©veloppeur aurait √©t√© confront√© en commen√ßant √† √©crire une application sur l'API Haiku, par exemple, la g√©n√©ration de traduction automatique et la compilation des ressources d'application. Mais je ne fais pas partie de ceux qui recherchent des moyens faciles, j'ai donc choisi CMake et y ai transf√©r√© une partie du travail du package makefile-engine. En cons√©quence, vous pouvez regarder le script d'assemblage monstrueux r√©sultant dans le r√©f√©rentiel du projet, un lien vers lequel je laisserai ci-dessous.</font></font><br><br><div style="text-align:center;"><img title="    Gish  Haiku." src="https://habrastorage.org/webt/jy/fw/wh/jyfwwhdhgxzofr_3cczuxxvmsig.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capture d'√©cran du lanceur de port de jeu Gish pour Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Je voudrais √©crire quelques mots sur la localisation des applications. Dans le framework Qt, il existe une fonction wrapper </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tr ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pratique pour cela </font><font style="vertical-align: inherit;">, deux utilitaires auxiliaires </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lrelease</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lupdate</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui sont impliqu√©s dans la g√©n√©ration de fichiers de traduction. Le cadre inclut m√™me un programme sp√©cial </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt Linguist</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec une interface utilisateur graphique pratique con√ßue pour les traducteurs. Dans l'API Haiku, les outils de localisation d'application sont moins pratiques et plus archa√Øques. Il est propos√© d'encapsuler les lignes √† traduire dans une macro sp√©ciale </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B_TRANSLATE ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et d'ajouter la d√©finition </font><strong><font style="vertical-align: inherit;">B_TRANSLATION_CONTEXT</font></strong><font style="vertical-align: inherit;"> au fichier source</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui s√©pare un groupe de cha√Ænes traduisibles d'un autre. Apr√®s cela, une chose tr√®s √©trange doit √™tre faite: d√©finir le pr√©processeur du compilateur avec l'indicateur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DB_COLLECTING_CATKEYS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur absolument tous les fichiers source du projet, faire de la magie avec l'utilitaire </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et enfin obtenir un √©norme fichier PRE. C'est avec ce fichier que l'utilitaire </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">collectcatkeys</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fonctionnera </font><font style="vertical-align: inherit;">, qui cr√©era d√©j√† des fichiers CATKEYS de traducteur lisibles par l'homme et faciles √† modifier. Apr√®s avoir localis√© les cha√Ænes, vous devez utiliser l'utilitaire </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linkcatkeys</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui ajoute des traductions aux ressources du fichier ex√©cutable. Ainsi, lors du choix d'une langue syst√®me sp√©cifique, l'application affiche les lignes traduites. √âtrange, la documentation de l'API Haiku sur la localisation des applications contient tr√®s peu d'informations. Cependant, sur le site officiel, j'ai trouv√© un excellent article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Localizing an application, Official Haiku site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localiser une application</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui d√©taille de nombreux aspects de la traduction d'applications pour ce syst√®me d'exploitation. Si je comprends bien, le BeOS d'origine n'avait pas le framework </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Locale Kit, Official Haiku documentation."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Locale Kit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et il a √©t√© ajout√© uniquement √† Haiku. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ma prochaine √©tape a √©t√© de choisir un environnement pour d√©velopper des applications dans le langage de programmation C ++. En raison du fait que le framework Qt a √©t√© port√© sur Haiku, des IDE tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Qt Creator, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt Creator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font><font style="vertical-align: inherit;">disponibles dans le r√©f√©rentiel HaikuPorts</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="KDevelop, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDevelop</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . De plus, il existe un port </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Java virtual machine, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JVM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui vous permet d'utiliser des IDE √©crits dans le langage de programmation Java, par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="NetBeans, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetBeans</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="IntelliJ IDEA, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IntelliJ IDEA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . J'ai opt√© pour l'environnement de d√©veloppement Qt Creator, d'autant plus que dans ses derni√®res versions, il existe une analyse de haute qualit√© du code √† l'aide de l'analyseur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibClang</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui fonctionne </font><strong><font style="vertical-align: inherit;">beaucoup</font></strong><font style="vertical-align: inherit;"> plus pr√©cis√©ment et plus rapidement que l'analyseur standard.</font></font><br><br><div style="text-align:center;"><img title="   Qt Creator,     Haiku." src="https://habrastorage.org/webt/sk/jg/he/skjgheksjieuiyylk7uhe1_dk6e.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'environnement de d√©veloppement int√©gr√© Qt Creator fonctionnant sur le syst√®me d'exploitation Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En termes d'IDE bien connus et multiplateformes √† Haiku, tout va bien. Mais qu'en est-il des solutions exclusives? Je ne peux que mentionner un projet tr√®s int√©ressant, parrain√© par </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DarkWyrm</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et qui soutient actuellement </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Fowler</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il s'appelle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Paladin, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paladin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ce programme rend l'√©diteur de texte </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pe</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> disponible dans la distribution du syst√®me d'exploitation </font><font style="vertical-align: inherit;">presque un v√©ritable IDE.</font></font><br><br><div style="text-align:center;"><img title="   Paladin  Haiku,    HaikuPorts." src="https://habrastorage.org/webt/xp/ad/jp/xpadjpfvl4sfridhlc4wob9s3a0.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paladin IDE pour Haiku install√© √† partir du r√©f√©rentiel HaikuPorts.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En utilisant le carrelage int√©gr√© dans le syst√®me de fen√™tres Haiku, vous pouvez attacher la fen√™tre Paladin sur le c√¥t√© de l'√©diteur Pe et ajouter un terminal. Toujours dans le r√©f√©rentiel HaikuPorts, il existe un √©diteur de texte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Koder, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koder</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pratique </font><font style="vertical-align: inherit;">qui ressemble au populaire programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Notepad++, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notepad ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour Windows et est √©galement bas√© sur l'exp√©rience du projet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Scintilla, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scintilla</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour mon application, j'ai cr√©√© un fichier PLD de projet et maintenant tout d√©veloppeur qui utilise l'IDE Paladin peut facilement ouvrir mon projet dans ce programme.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque l'environnement de d√©veloppement Qt Creator a √©t√© configur√© et pr√™t √† fonctionner, j'ai commenc√© √† r√©aliser toutes les fonctionnalit√©s pr√©vues. Le premier probl√®me que j'ai rencontr√© √©tait li√© aux contr√¥les de mise √† l'√©chelle lors du changement de la taille de la police syst√®me. Initialement, dans BeOS, tout le code de placement des √©l√©ments GUI √©tait d√©fini explicitement en coordonn√©es. C'√©tait tr√®s g√™nant, bavard et a cr√©√© un √©norme tas de probl√®mes, par exemple, avec le m√™me changement de taille de police, toute la forme de l'application a √©t√© dispers√©e et est devenue inutilisable. Heureusement, Haiku a essay√© de r√©soudre ce probl√®me et a ajout√© l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Layout API, Official Haiku documentation."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Layout</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui fait partie du cadre du kit d'interface.</font></font><br><br><div style="text-align:center;"><img title="  Layout API          Haiku." src="https://habrastorage.org/webt/qt/m1/te/qtm1tehjp2cilj-wfflmps8hi8m.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gr√¢ce √† l'utilisation de l'API Layout, les lanceurs r√©pondent correctement √† la modification de la taille de la police syst√®me dans Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cette innovation a compl√®tement r√©solu mon probl√®me avec les commandes de positionnement et j'ai r√©√©crit l'application en utilisant l'API Layout, ce qui a consid√©rablement r√©duit la longueur du code √† certains endroits. Sur le site officiel de Haiku, j'ai trouv√© une s√©rie d'articles int√©ressants </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Laying It All Out, Official Haiku site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laying It All Out</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui expliquent simplement les raisons pour lesquelles cette interface logicielle a √©t√© cr√©√©e et montre des exemples de son utilisation.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un autre probl√®me a √©t√© identifi√© par Gerasim lorsqu'il a essay√© d'utiliser ma biblioth√®que pour cr√©er un lanceur pour le jeu qu'il a port√©. Le fait √©tait que je me suis souvent tourn√© vers le code source du syst√®me d'exploitation Haiku lui-m√™me pour impl√©menter diverses fonctionnalit√©s. En particulier, </font><font style="vertical-align: inherit;">j'ai trouv√© </font><font style="vertical-align: inherit;">un exemple d'utilisation de la m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur un objet de la classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRoster</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le probl√®me s'est manifest√© par le fait que cet exemple √©tait incorrect et que le moteur de jeu port√© par Gerasim n'a pas pu analyser correctement les arguments d√©finis par le lanceur. Apr√®s avoir √©tudi√© le code source de Haiku plus en profondeur, j'ai r√©ussi √† d√©couvrir que le premier argument, qui devrait contenir le chemin d'acc√®s complet au fichier ex√©cutable, </font><font style="vertical-align: inherit;">n'a pas besoin d'√™tre d√©fini explicitement </font><font style="vertical-align: inherit;">dans le cas de la m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , car il sera d√©fini automatiquement.</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Error const char* args[] = { "/bin/open", fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 2, args); // Good const char* args[] = { fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 1, args); // See "src/kits/app/Roster.cpp", BRoster::ArgVector::Init() method: if (error == B_OK) { fArgs[0] = fAppPath.Path(); // &lt;= Here if (argc &gt; 0 &amp;&amp; args != NULL) { for (int i = 0; i &lt; argc; i++) fArgs[i + 1] = args[i]; if (hasDocArg) fArgs[fArgc - 1] = fDocPath.Path(); } // NULL terminate (eg required by load_image()) fArgs[fArgc] = NULL; }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La documentation de la m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ne dit pas que le premier argument n'est pas requis, c'est probablement pourquoi le d√©veloppeur a mal √©crit ce code. J'ai corrig√© cette erreur dans mon projet et le probl√®me de Gerasim a √©t√© r√©solu par lui-m√™me. Mais qu'en est-il de cette petite erreur dans le syst√®me d'exploitation Haiku lui-m√™me? J'ai d√©cid√© de la r√©parer aussi. Heureusement, cela s'est av√©r√© tr√®s facile √† faire! Vous devez vous connecter en utilisant GitHub √† la ressource Gerrit de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Haiku Code Review, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haiku Code Review</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ajouter votre cl√© SSH publique, bifurquer le code source de Haiku, cr√©er un commit commit et envoyer le patch r√©sultant √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Code review, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code review √†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des d√©veloppeurs privil√©gi√©s:</font></font><br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ssh://EXL@git.haiku-os.org/haiku --depth=1 -b master &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> haiku git commit git push origin master:refs/<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>/master</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous devez mettre √† jour des correctifs qui ont d√©j√† √©t√© envoy√©s, avant d'envoyer des modifications ou de nouvelles validations, assurez-vous d'ajouter l'ID que le service Haiku Code Review nous a donn√© √† la fin du message de validation. Une fois le correctif envoy√©, les d√©veloppeurs de Haiku doivent l'approuver, le rejeter ou le soumettre pour r√©vision. Dans mon cas, la correction a √©t√© accept√©e imm√©diatement et ce petit d√©faut est d√©sormais corrig√© partout. Si vous devez tester vos correctifs avant de les envoyer au r√©f√©rentiel, vous pouvez essayer de </font><font style="vertical-align: inherit;">compiler une application distincte </font><font style="vertical-align: inherit;">√† l'aide de l'utilitaire </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jam</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est un fork du syst√®me de </font><font style="vertical-align: inherit;">g√©n√©ration </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Perforce Jam and Haiku Jam, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perforce Jam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et qui est utilis√© pour cr√©er la base de code enti√®re du syst√®me d'exploitation Haiku. Le r√©f√©rentiel de code source a le fichier </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReadMe.Compiling.md</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui vous aidera √† g√©rer toutes les astuces de compilation. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors de la finalisation de mon projet, j'ai trouv√© la raison pour laquelle le programme Icon-O-Matic n'ouvre pas les fichiers SVG cr√©√©s √† l'aide de l'√©diteur vectoriel Inkscape. Le fait est que Icon-O-Matic n'est pas en mesure de traiter l'attribut </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">viewBox</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cependant, si vous trouvez un fichier SVG simple sans cet attribut, modifiez-le avec Inkscape et enregistrez-le en tant que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier SVG ordinaire</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il s'ouvrira dans Icon-O -Matic. Par cons√©quent, j'ai mis dans mon r√©f√©rentiel un fichier SVG sp√©cialement pr√©par√© qui peut √™tre √©dit√© et qui s'ouvrira dans Icon-O-Matic sans aucun probl√®me. De plus, j'ai ajout√© une petite instruction au fichier Lisez-moi du projet sur la fa√ßon de cr√©er des ic√¥nes pour mes lanceurs √† l'aide d'Inkscape.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai d√©cid√© de v√©rifier le code de mon projet avec une vari√©t√© d'analyseurs statiques, mais ils n'ont trouv√© aucun probl√®me s√©rieux. Mais j'ai trouv√© plus tard un probl√®me qu'ils n'ont pas pu d√©tecter. Le fait que la m√©thode statique </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetBitmap ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BTranslationUtils</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pourrait retourner NULL:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Somewhere fBitmap = BTranslationUtils::GetBitmap(B_PNG_FORMAT, fIndex); void BeImageView::Draw(BRect rect) { // Fail const BRect bitmapRect = fBitmap-&gt;Bounds(); ... }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et dans la m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Draw ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">j'ai oubli√© par inadvertance de v√©rifier la </font><font style="vertical-align: inherit;">validit√© </font><font style="vertical-align: inherit;">du champ de la classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fBitmap</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Par cons√©quent, l'application devait se planter si elle ne trouvait pas une certaine image, mais selon le plan, elle devait dessiner un carr√© rouge √† la place. J'ai racont√© cette histoire au fait que les analyseurs statiques sont loin d'√™tre une panac√©e et qu'il faut de toute fa√ßon √™tre attentif lorsque l'on travaille avec du code dans le langage de programmation C ++. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le code source du projet BeGameLauncher et toutes mes meilleures pratiques sont t√©l√©charg√©s dans le r√©f√©rentiel sur GitHub. J'esp√®re que ce programme sera utile √† quelqu'un et pourra √™tre une sorte de tutoriel comme une simple application pour Haiku: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source du projet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="BeGameLauncher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXL/BeGameLauncher</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un petit conseil pour ceux qui utiliseront mon lanceur dans leurs recettes pour le r√©f√©rentiel HaikuPorts. </font><font style="vertical-align: inherit;">Si vous souhaitez masquer l'ex√©cutable du jeu de la liste des applications Haiku que certains programmes lisent et ne laisser que le lanceur, vous pouvez utiliser l'astuce suivante:</font></font><br><br><pre> <code class="bash hljs">settype -t application/x-vnd.Be-elfexecutable <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish rc <span class="hljs-variable"><span class="hljs-variable">$portDir</span></span>/additional-files/gish.rdef -o gish.rsrc resattr -o <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish gish.rsrc</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela exclura la possibilit√© d'ex√©cuter des fichiers ex√©cutables sans param√®tres transmis par le lanceur √† partir de divers programmes tels que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QuickLaunch</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui sont engag√©s dans le lancement rapide d'applications. </font><font style="vertical-align: inherit;">Dans ce cas, votre ic√¥ne d'origine sur le fichier ex√©cutable sera enregistr√©e. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> <br><br><a name="xash3d"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 6. Portage de Xash3D: jeu de demi-vie l√©gendaire et modules compl√©mentaires officiels </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le projet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Xash3D Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xash3D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une impl√©mentation gratuite du moteur GoldSrc, qui est utilis√© dans le jeu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Half-Life, Video Game, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Half-Life</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et dans ses add-ons officiels. Derri√®re le d√©veloppement de Xash3D se trouve le programmeur domestique </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oncle Misha</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui coordonne toujours son d√©veloppement et son am√©lioration. Un peu plus tard, d'autres d√©veloppeurs ont rejoint le projet qui ont cr√©√© un fork de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="FWGS Xash3D, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FWGS Xash3D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , avec la prise en charge d'un grand nombre de syst√®mes d'exploitation non Windows. Aujourd'hui, les programmeurs cl√©s du projet FWGS Xash3D sont </font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mittorn</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a1batross</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libpony</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), la derni√®re personne √©tait un participant actif au forum </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="MotoFan.Ru -   ."><font style="vertical-align: inherit;">MotoFan.Ru,</font></a><font style="vertical-align: inherit;"> autrefois populaire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="MotoFan.Ru -   ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que j'administre toujours pendant mon temps libre. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je me suis demand√©: pourquoi ne pas porter ce moteur sur Haiku, ajoutant la prise en charge d'un syst√®me d'exploitation aussi int√©ressant au projet Xash3D, et donner aux utilisateurs de Haiku la possibilit√© de jouer au l√©gendaire Half-Life, un jeu de tous les temps? Le probl√®me est rest√© limit√© - il a √©t√© n√©cessaire de commencer imm√©diatement les travaux de portage et, en cas de succ√®s, de publier les r√©sultats de ces travaux. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s avoir pass√© plusieurs heures √† √©tudier la structure du projet et les parties du code qui sont responsables de la prise en charge de diverses plates-formes, j'ai commenc√© √† apporter des modifications au moteur Xash3D pour prendre en charge le syst√®me d'exploitation Haiku. √Ä l'ancienne, j'ai d√©fini le compilateur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-D__linux__</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et a essay√© de construire un ex√©cutable et un tas de biblioth√®ques. √âtonnamment, les choses se sont d√©roul√©es assez rapidement et le soir, apr√®s avoir transmis les fichiers de donn√©es du jeu, j'ai r√©ussi √† lancer Half-Life et √† prendre le train jusqu'√† la gare principale de Black Mesa.</font></font><br><br><div style="text-align:center;"><img title="   Xash3D  Haiku     Qt Creator." src="https://habrastorage.org/webt/8t/rd/59/8trd59d_6xk6-5nvpyjjvnvl0q0.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processus de portage du moteur Xash3D vers Haiku dans l'IDE Qt Creator.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √âtant donn√© que le projet utilise la biblioth√®que SDL2 multiplateforme, le portage du moteur est grandement simplifi√©, car vous n'avez pas besoin d'√©crire de morceaux de code qui d√©pendent de la plate-forme, par exemple: sortie de son, cr√©ation d'une fen√™tre avec un contexte OpenGL ou gestion des √©v√©nements d'entr√©e. Tout cela a d√©j√† √©t√© impl√©ment√© dans la biblioth√®que SDL2 et est pr√™t √† l'emploi. Un petit probl√®me est survenu avec la prise en charge du r√©seau, car Haiku a une biblioth√®que distincte qui impl√©mente la pile r√©seau, elle devait donc √™tre li√©e au moteur.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le projet de cr√©ation de lanceurs, sur lequel j'ai √©crit un peu plus haut, m'a √©t√© tr√®s utile. En utilisant l'h√©ritage des classes C ++, j'ai s√©rieusement √©tendu ses fonctionnalit√©s et impl√©ment√© la possibilit√© de s√©lectionner divers ajouts au jeu:</font></font><br><br><div style="text-align:center;"><img title="    Xash3D  Haiku." src="https://habrastorage.org/webt/fc/-5/ta/fc-5tazmkwvtk5e553ztbwipdoy.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capture d'√©cran du lanceur de port du moteur Xash3D pour Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'id√©e √©tait la suivante: d√©finir trois variables d'environnement qui vous permettraient de configurer de mani√®re flexible le moteur de jeu pour lancer un module compl√©mentaire sp√©cifique. Dans ce cas, il serait utile de laisser l'utilisateur jouer avec les diff√©rents arguments du fichier ex√©cutable et de laisser la possibilit√© de lancement portable du moteur lorsqu'il se trouve juste dans le r√©pertoire contenant les fichiers de donn√©es requis. Ainsi, la premi√®re variable d'environnement </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_BASEDIR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est responsable du r√©pertoire avec les fichiers de jeu que l'utilisateur s√©lectionne dans le lanceur. La deuxi√®me variable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_GAME</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est responsable de l'ajout que l'utilisateur a s√©lectionn√© pour le lancement dans le lanceur. Et voici la troisi√®me variable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_MIRRORDIR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, utile uniquement aux utilisateurs avanc√©s. Il vous permet de mettre en miroir le r√©pertoire syst√®me Xash3D sur n'importe quel espace disque accessible en √©criture pour l'utilisateur. Ainsi, une personne qui souhaite publier son jeu compl√©mentaire sur le moteur Xash3D sous Haiku a juste besoin de collecter plusieurs biblioth√®ques dynamiques pour diff√©rentes architectures √† partir du code source de son projet: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./cl_dlls/libclient-haiku.so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./dlls/libserver-haiku .so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./cl_dlls/libclient-haiku64.so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./dlls/libserver-haiku64.so </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et puis placez-les dans les r√©pertoires appropri√©s de votre module compl√©mentaire. Pour mon port Xash3D, j'ai d√©cid√© de pr√©compiler des biblioth√®ques de modules compl√©mentaires populaires pour le jeu Half-Life, √† savoir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Half-Life: Blue Shift, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blue Shift</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Half-Life: Opposing Force, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opposing Force</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui permet aux utilisateurs de t√©l√©charger simplement leurs fichiers de donn√©es, de s√©lectionner un r√©pertoire et de d√©marrer le jeu sans aucune compilation de biblioth√®que. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le processus de portage du moteur Xash3D, j'ai rencontr√© des probl√®mes amusants. Il s'av√®re que pour d√©terminer la longueur du message d'aide pour les arguments du fichier ex√©cutable qui est g√©n√©r√© lorsque le param√®tre </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--help</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est pass√© </font><font style="vertical-align: inherit;">, le moteur a utilis√© la taille pr√©d√©finie de la constante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_SYSPATH</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est un alias d'une autre constante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dont la valeur est d√©j√† extraite de l'API Haiku. Donc, pendant longtemps, je n'ai pas pu comprendre pourquoi ce certificat est d√©livr√© incomplet et coup√© √† l'endroit le plus int√©ressant. Au d√©but, j'ai p√©ch√© que d'une mani√®re √©trange au flux de sortie d'erreur standard</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr a</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> connect√© la mise en m√©moire tampon et a m√™me essay√© de la d√©sactiver de force. Apr√®s un certain temps, je me suis souvenu que j'√©tais surpris par la tr√®s petite taille de la constante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le syst√®me d'exploitation Haiku. Cette constante suppose une taille de chemin de seulement 1024 octets. Ma conjecture a pay√©, d√®s que j'ai augment√© la taille du message √† 4096 octets standard, le probl√®me a √©t√© r√©solu. La conclusion suivante doit √™tre tir√©e de cette histoire amusante: vous ne devez pas utiliser la constante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans des tableaux de caract√®res qui ne sont en aucun cas associ√©s √† des chemins de fichier.</font></font><br><br><div style="text-align:center;"><img title="    Half-Life,      Blue Shift  Opposing Force,     Xash3D    Haiku (,   )." src="https://habrastorage.org/webt/j-/9m/58/j-9m58kzb6pha8dsg5-_rlbbfvw.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un collage de captures d'√©cran du jeu Half-Life, ainsi que ses ajouts officiels Blue Shift et Opposing Force, lanc√©s √† l'aide du moteur Xash3D dans le syst√®me d'exploitation Haiku (aper√ßu, augmentation par </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Un autre probl√®me √©tait le plantage lors de l'utilisation des fonctionnalit√©s du moteur lui-m√™me pour s√©lectionner le module compl√©mentaire pour le jeu. Il s'est av√©r√© que lorsque la d√©finition XASH_INTERNAL_GAMELIBS a √©t√© </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finie, la</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> biblioth√®que cliente a √©t√© charg√©e non pas une, mais deux fois. Ce qui entra√Ænait un probl√®me similaire. Comme </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m'a</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> expliqu√© </font><strong><font style="vertical-align: inherit;">a1batross</font></strong><font style="vertical-align: inherit;"> , cela a √©t√© fait afin qu'il soit possible de lier statiquement la biblioth√®que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenVGUI</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† la biblioth√®que cliente. Dans mon port Xash3D sur Haiku, cette biblioth√®que n'est pas utilis√©e en aucune fa√ßon, j'ai donc juste √©vit√© d'utiliser la valeur par d√©faut</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH_INTERNAL_GAMELIBS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et a signal√© ce bogue aux d√©veloppeurs du moteur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puis je suis tomb√© sur l'impossibilit√© d'ouvrir le navigateur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPositive</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> int√©gr√© √† Haiku </font><font style="vertical-align: inherit;">en cliquant sur les liens √† l'int√©rieur d'un jeu fonctionnant sous Xash3D. Le probl√®me √©tait vraiment √©trange, car lorsque le moteur a √©t√© d√©marr√© √† partir du terminal, le navigateur s'est ouvert, mais lorsqu'il a commenc√© √† utiliser le lanceur, il a refus√© de le faire. Apr√®s avoir √©tudi√© un peu le code, j'ai trouv√© l'appel </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">execve ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que j'ai essay√© de remplacer par </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">system ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , apr√®s quoi le navigateur a commenc√© √† s'ouvrir sans aucun probl√®me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsqu'une erreur se produit, le moteur Xash3D utilise activement les appels de fonction </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowSimpleMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, seul le port de biblioth√®que SDL2 actuel pour Haiku ne prend pas en charge la cr√©ation de ces bo√Ætes de dialogue. </font><font style="vertical-align: inherit;">Notre version de la biblioth√®que n'a tout simplement pas cette fonctionnalit√©. </font><font style="vertical-align: inherit;">Mais je vais parler de r√©soudre ce probl√®me ci-dessous.</font></font><br><br><div style="text-align:center;"><img title="  Xash3D,    Haiku Depot." src="https://habrastorage.org/webt/jo/fn/8q/jofn8q1crxkrfms-cr5c4mivrf8.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le port du moteur Xash3D, publi√© dans le r√©f√©rentiel Haiku Depot.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient √©galement de noter qu'avant mon transfert du moteur Xash3D vers Haiku, Gerasim Troeglazov a impl√©ment√© une capture de curseur de souris en SDL2; Avant cela, jouer √† des jeux 3D √©tait presque impossible. Un peu plus tard, il a corrig√© un bug d√©licat, dans lequel le mouvement du joueur dans l'espace √©tait progressivement ralenti, et le jeu commen√ßait √† ralentir terriblement. Il s'av√®re que le fait √©tait que par d√©faut les √©v√©nements du curseur de la souris √©taient transmis avec toute son histoire de mouvement autour de l'√©cran. En cons√©quence, cette histoire s'est rapidement gonfl√©e pendant le jeu et tout a commenc√© √† ralentir consid√©rablement. La d√©sactivation de cette fonctionnalit√© dans le port Haiku SDL2 a r√©solu ce probl√®me et vous pouvez maintenant jouer √† Half-Life sans aucun probl√®me. Cependant, le manque d'acc√©l√©ration 3D sur du mat√©riel faible se fait sentir. Et si le jeu fonctionne d√©cemment dans la fen√™tre et ne ralentit pas du tout, alors en mode plein √©cran, le FPS est consid√©rablement r√©duit.Mais ici, cela n'aidera qu'√† ajouter une acc√©l√©ration mat√©rielle au pilote vid√©o pour au moins les GPU int√©gr√©s aux processeurs Intel populaires.</font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source du projet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Xash3D, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/FWGS/xash3d</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'ai envoy√© toutes les modifications du code source aux d√©veloppeurs du projet FWGS Xash3D qui les ont accept√©s dans le r√©f√©rentiel, et les packages avec ce moteur sont depuis longtemps disponibles dans HaikuPorts et dans le programme HaikuDepot pour tout utilisateur de Haiku . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> <br><br><a name="serious"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7. Portage des deux parties du jeu Serious Sam: The First Encounter et The Second Encounter </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©cemment, les d√©veloppeurs de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Croteam, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Croteam ont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> publi√© le code source de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Serious Engine, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serious Engine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est utilis√© dans les jeux de la s√©rie Serious Sam: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Serious Sam: The First Encounter, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The First Encounter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Serious Sam: The Second Encounter, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Second Encounter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">J'ai d√©cid√© de le porter sur le syst√®me d'exploitation Haiku, j'ai t√©l√©charg√© le code source et j'ai commenc√© √† travailler.</font></font><br><br><div style="text-align:center;"><img title="    Serious Engine  Haiku." src="https://habrastorage.org/webt/lk/3b/ep/lk3bep2lrqjisyvfokrzp3tnovi.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capture d'√©cran du lanceur de port Serious Engine pour Haiku. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'assemblage du fichier ex√©cutable apr√®s les modifications a √©t√© effectu√© sans aucun probl√®me, mais il n'a pas √©t√© si facile de d√©marrer le jeu en raison du fait que des erreurs ont √©t√© vers√©es dans les bo√Ætes de dialogue SDL2, qui ne sont pas impl√©ment√©es dans la version de cette biblioth√®que pour Haiku. </font><font style="vertical-align: inherit;">Par cons√©quent, j'ai d√ª prendre le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le flux de sortie d'erreur standard √©prouv√© dans le temps, </font><font style="vertical-align: inherit;">et trier lentement les probl√®mes, qui se sont r√©v√©l√©s √™tre principalement en l'absence des fichiers de donn√©es de jeu requis.</font></font><br><br><div style="text-align:center;"><img title="  Serious Sam: The Second Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/dt/us/dy/dtusdy2gusdfijgdvipexqfcb0o.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capture d'√©cran du jeu Serious Sam: The Second Encounter lanc√© √† l'aide du port Serious Engine pour le syst√®me d'exploitation Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s avoir d√©compos√© les fichiers t√©l√©charg√©s dans les r√©pertoires requis, j'ai pu ex√©cuter la deuxi√®me partie de ce merveilleux jeu sans aucun probl√®me et j'ai m√™me parcouru un peu la belle jungle. Malgr√© le manque d'acc√©l√©ration 3D, le processeur dessine les charmes graphiques du jeu si vous l'ex√©cutez dans une fen√™tre, et non en mode plein √©cran. Ce moteur fonctionne, bien s√ªr, avec des FPS beaucoup plus faibles que le moteur Xash3D, dont j'ai √©crit ci-dessus, mais les graphismes ici sont plus modernes et meilleurs. Apr√®s des manipulations mineures, il a √©t√© possible de lancer la premi√®re partie du jeu, qui n√©cessite un fichier ex√©cutable diff√©rent et un ensemble diff√©rent de biblioth√®ques dynamiques. √âtonnamment, elle a gagn√© un peu plus vite, apparemment les graphismes ne sont pas si exigeants. En gravissant les param√®tres du moteur, j'ai trouv√© un grand nombre de param√®tres graphiques qui peuvent r√©duire consid√©rablement la charge sur le processeur,ce qui s‚Äôest av√©r√© tr√®s utile dans le cas de Haiku.</font></font><br><br><div style="text-align:center;"><img title="  Serious Sam: The First Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/lb/bw/uq/lbbwuq6ei6thjz8evtumifyuqso.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capture d'√©cran du jeu Serious Sam: The First Encounter lanc√© √† l'aide du port du Serious Engine pour le syst√®me d'exploitation Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'ai d√©cid√© de cr√©er un package pour deux parties du jeu √† la fois, le basculement entre celles-ci s'effectuant simplement en s√©lectionnant un r√©pertoire avec l'ensemble de fichiers de donn√©es appropri√©. Par exemple, si un utilisateur du lanceur s√©lectionne le r√©pertoire contenant les fichiers du jeu Serious Sam: The First Encounter, alors le fichier ex√©cutable correspondant est lanc√© et l'ensemble correspondant de biblioth√®ques dynamiques est charg√©. Et s'il s√©lectionne le r√©pertoire contenant les fichiers du jeu Serious Sam: The Second Encounter, alors le lanceur lancera en cons√©quence un autre fichier ex√©cutable qui chargera son propre ensemble de biblioth√®ques partag√©es.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malheureusement, cela n'a pas √©t√© sans probl√®me. Un changement r√©p√©t√© de la r√©solution du mode vid√©o dans le jeu a entra√Æn√© la chute de l'ensemble du moteur. Dans ce cas, dans ma distribution Linux, ce plantage ne l'√©tait pas. J'ai pass√© beaucoup de temps √† localiser le probl√®me et √† le r√©soudre. Il s'est av√©r√© que le fait √©tait qu'√† chaque changement de r√©solution, la fen√™tre </font><strong><font style="vertical-align: inherit;">SDL_Window</font></strong><font style="vertical-align: inherit;"> √©tait d√©truite et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recr√©√©e</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le m√™me temps, le moteur de rendu OpenGL n'a pas pu basculer dans le temps et a essay√© de dessiner quelque chose dans la fen√™tre en ruine. De telles astuces que le port de la biblioth√®que SDL2 sur Haiku ne permettait pas de lancer. Toutes les tentatives simples pour r√©soudre ce probl√®me n'ont pas aid√©, et j'ai d√ª s√©rieusement entrer dans la logique et changer le comportement afin que la fen√™tre ne se casse pas lorsque la r√©solution a √©t√© modifi√©e, mais ses param√®tres ont simplement chang√©. Cela a aid√© √† supprimer le crash, mais a ajout√© une restriction suppl√©mentaire: maintenant, pour activer le mode plein √©cran, vous devez red√©marrer le moteur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un autre probl√®me √©tait le manque de musique dans le jeu. Cependant, sous Linux, encore une fois, ce probl√®me ne s'est pas produit. En examinant le code source du moteur, j'ai trouv√© que la lecture de musique d√©pend de la biblioth√®que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libvorbisfile</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais le moteur lui-m√™me n'y est pas li√©, mais utilise la fonction syst√®me </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dlopen ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour alimenter le flux de fichiers audio OGG vers cette biblioth√®que. Le probl√®me √©tait que le moteur ne pouvait pas trouver cette biblioth√®que sur Haiku, car il n'y avait pas de lien symbolique vers le fichier de biblioth√®que sans version.</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CUnixDynamicLoader::DoOpen(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *lib) { <span class="hljs-comment"><span class="hljs-comment">// Small HACK for Haiku OS (: #ifdef __HAIKU__ static int vorbis_cnt = 3; char path[PATH_MAX]; char libpath[PATH_MAX]; find_directory(B_SYSTEM_LIB_DIRECTORY, -1, false, libpath, PATH_MAX); if (strstr(lib, "vorbis")) { snprintf(path, sizeof(path), "%s/libvorbisfile.so.%c", libpath, char(vorbis_cnt + '0')); vorbis_cnt++; lib = path; } #endif // fprintf(stderr, "dlopen =&gt; %s\n", lib); module = ::dlopen(lib, RTLD_LAZY | RTLD_GLOBAL); SetError(); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une petite astuce qui a remplac√© le chemin complet de la biblioth√®que requise dans la fonction s'est av√©r√©e √™tre une solution compl√®tement fonctionnelle. Et puisque la biblioth√®que en son absence est recherch√©e plusieurs fois par le moteur, pour l'avenir j'ai laiss√© la possibilit√© de charger la prochaine version majeure. J'esp√®re qu'ils n'y cassent pas l'API. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le probl√®me suivant que j'ai rencontr√© √©tait l'incapacit√© de d√©terminer la fr√©quence du processeur sur l'architecture x86, bien que tout fonctionnait bien sur x86_64. Lors de l'ex√©cution sur x86, le moteur a demand√© de d√©finir une variable d'environnement avec le nom </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SERIOUS_MHZ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et d√©finir la fr√©quence appropri√©e, ce qui m'a beaucoup surpris. J'ai essay√© de le faire et le jeu a vraiment commenc√©, mais pour une raison quelconque, cela a fonctionn√© trop lentement. En gravissant le code source du jeu, pendant longtemps, je n'ai pas pu trouver la source du probl√®me et j'ai m√™me √©crit un morceau de code qui utilise l'API Haiku pour obtenir la fr√©quence de processeur correcte et la remplacer dans le moteur de jeu, voici √† quoi cela ressemblait:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;kernel/OS.h&gt; #include &lt;stdio.h&gt; ... uint64 cpuFreq = 0; uint32 count = 0; get_cpu_topology_info(NULL, &amp;count); if (count != 0) { cpu_topology_node_info *topology = new cpu_topology_node_info[count]; get_cpu_topology_info(topology, &amp;count); for (uint32 i = 0; i &lt; count; ++i) { if(topology[i].type == B_TOPOLOGY_CORE) { cpuFreq = topology[i].data.core.default_frequency; } } delete[] topology; } fprintf(stderr, "%llu\n", cpuFreq);</span></span></span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais cela n'a pas aid√©. Ensuite, j'ai v√©rifi√© les journaux du moteur sur x86_64 et j'ai vu que la fr√©quence du processeur est g√©n√©ralement d√©termin√©e √† 1 MHz, mais tout fonctionne bien. En continuant √† examiner le code plus loin, je suis tomb√© sur un d√©ni de la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finition de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> __GNU_INLINE_X86_32__ </font><font style="vertical-align: inherit;">, qui est automatiquement expos√© lorsque l'application est construite pour l'architecture x86, mais pas pour x86_64. En dessous de cette d√©finition, l'indicateur qui utilisait les minuteries SDL2 √©tait cach√©, au lieu d'obtenir la fr√©quence du processeur en utilisant diverses magies comme l'assembleur en ligne et l'instruction </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rdtsc</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou en lisant le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier / proc / cpuinfo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , j'ai donc activ√© cet indicateur et pour x86, ce qui a r√©solu mon probl√®me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le dernier d√©faut √©tait li√© √† ma n√©gligence. J'ai rat√© dans le dossier d'assemblage</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMakeLists.txt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©finissant le drapeau </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-march = native</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui indique litt√©ralement au compilateur: lors de la g√©n√©ration de blocs de code machine, utilisez toutes les instructions sophistiqu√©es et modernes disponibles sur le processeur de votre ordinateur.</font></font><br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> PANDORA <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">message</span></span>(<span class="hljs-string"><span class="hljs-string">"Warning: arch-native will be used!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">add_compile_options</span></span>(-march=native) <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(CMAKE_SIZEOF_VOID_P <span class="hljs-keyword"><span class="hljs-keyword">EQUAL</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 32-bit message("Warning: Will building 32-bit executable with MMX, SSE, SSE2 support.") add_compile_options(-mmmx -msse -msse2) else() # 64-bit message("Warning: Will building 64-bit executable.") endif() endif()</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour cette raison, les packages dans le r√©f√©rentiel se sont r√©unis exclusivement sous le serveur de g√©n√©ration le plus puissant et ont refus√© de s'ex√©cuter sur les ordinateurs des mortels ordinaires, jurant les mauvaises instructions et les mauvais codes d'op√©ration. La d√©sactivation de cet indicateur et l'ajout manuel de la prise en charge des instructions MMX, SSE et SSE2 ont non seulement r√©solu ce probl√®me, mais nous ont √©galement permis de compiler un √©norme groupe d'assembleurs en ligne dans ce projet, qui est tomb√© apr√®s la suppression de cet indicateur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä mon grand regret, les d√©veloppeurs de Croteam n'acceptent aucun correctif dans le r√©f√©rentiel du moteur, j'ai donc bifurqu√© et y mettre tout mon travail: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source du projet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Serious Engine fork, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXLMOTODEV/Serious-Engine</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des packages pr√™ts √† installer pour le lancement de jeux Serious Sam sont d√©j√† disponibles dans le r√©f√©rentiel HaikuPorts. </font><font style="vertical-align: inherit;">N'oubliez pas de t√©l√©charger les fichiers de donn√©es du jeu. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> <br><br><a name="vangers"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8. Portage du jeu Vangers </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Franchement, jusqu'√† r√©cemment, je n'√©tais pas du tout familier avec ce jeu, qui dans les ann√©es 90 lointaines a √©t√© r√©alis√© par le studio de d√©veloppement national KD Lab. </font><font style="vertical-align: inherit;">Mais les participants √† la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="OS Haiku - ,   Telegram."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conf√©rence de Telegram IM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , consacr√©e √† discuter du syst√®me d'exploitation Haiku, m'ont demand√© de porter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Vangers, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vangerov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et m'ont donn√© un lien vers le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Vangers, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rentiel GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dans lequel se trouvaient les sources de ce jeu.</font></font><br><br><div style="text-align:center;"><img title="      Haiku." src="https://habrastorage.org/webt/sd/k8/db/sdk8dbv4o-8hgoaohnzuk4xoo0w.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capture d'√©cran du lanceur de port de jeu Vanger pour Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Apr√®s avoir introduit le code source dans Haiku, j'ai essay√© de le compiler et j'ai r√©ussi sans aucun probl√®me particulier. J'ai d√ª bricoler un peu avec le manque de certains fichiers d'en-t√™te et avec les chemins vers les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="FFmpeg, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioth√®ques FFmpeg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui sont utilis√©es par le moteur de ce jeu. J'ai imm√©diatement commenc√© √† pr√©parer le code source pour l'empaquetage, j'ai donc ajout√© la variable d'environnement </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VANGERS_DATA</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et d√©plac√© le journal du moteur dans le r√©pertoire utilisateur accessible en √©criture.</font></font><br><br><div style="text-align:center;"><img title="     Haiku     Qt Creator." src="https://habrastorage.org/webt/_i/_o/mi/_i_omiac7lqewaq6ml8p4ow4dwg.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processus de portage d'un jeu Vanger vers Haiku dans l'IDE Qt Creator.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'ai commenc√© le jeu lui-m√™me et apr√®s un moment j'ai appr√©ci√© toute l'atmosph√®re que les gars de KD Lab ont r√©ussi √† cr√©er. Apr√®s un certain temps, j'ai commenc√© √† porter l√©g√®rement le Nimbus √† l'incubateur et le flegme √† Podish, apr√®s quoi j'ai m√™me r√©ussi √† amener l'Elik au troisi√®me. Ayant suffisamment jou√©, j'ai commenc√© √† pr√©parer un lanceur pour ce jeu bas√© sur ma biblioth√®que, sur laquelle j'ai √©crit ci-dessus.</font></font><br><br><div style="text-align:center;"><img title="  ,     Haiku." src="https://habrastorage.org/webt/cf/l6/yv/cfl6yvi5euj0sn29wrvgzdpzo2k.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un port de jeu pour Vanger fonctionnant sur le syst√®me d'exploitation Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le premier probl√®me que j'ai rencontr√© √©tait que les fichiers de donn√©es de jeu, qui pouvaient √™tre obtenus officiellement en utilisant les services de distribution num√©rique </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Vangers on GOG.com"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GOG.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Vangers on Steam."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Steam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ne voulaient pas fonctionner avec le moteur. J'ai d√ª contacter une personne qui utilise le surnom de </font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stalkerg</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et qui portait Wanger sur Linux. Il m'a dit quels fichiers remplacer, pour que tout commence et commence √† fonctionner. J'ai suivi ses recommandations et obtenu ce dont j'avais besoin.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme dans le cas du port NXEngine (Cave Story), dont j'ai parl√© ci-dessus, les versions russe et anglaise diff√®rent dans diff√©rents fichiers ex√©cutables, mais le r√©pertoire avec les fichiers de donn√©es est courant, les diff√©rences ne concernent que les scripts. √Ä la pointe de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stalkerg,</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai essay√© de compiler le moteur de jeu avec l'option </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DBINARY_SCRIPT = Off</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui a activ√© la compilation dynamique de ces scripts au moment de l'ex√©cution, s'ils se trouvent dans le r√©pertoire du fichier de donn√©es de jeu. Tout cela m'a permis de cr√©er un lanceur, dans lequel il est possible de changer de langue. L'id√©e est la suivante: le r√©pertoire du jeu est pr√©-v√©rifi√©, et s'il n'a pas les scripts n√©cessaires, ils sont copi√©s √† partir des entrailles du package, apr√®s quoi le fichier ex√©cutable de la version russe ou anglaise est d√©j√† en cours d'ex√©cution.</font></font><br><br><div style="text-align:center;"><img title="  ,    Haiku Depot." src="https://habrastorage.org/webt/zx/c3/ys/zxc3yseedkzeexk3yxb-3x08azs.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le port de jeu de Vanger, publi√© dans le r√©f√©rentiel Haiku Depot.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lors du portage de Wanger, j'ai utilis√© une fonctionnalit√© int√©ressante li√©e aux biblioth√®ques partag√©es que j'aime √† propos de Haiku. Le moteur de jeu d√©pend de la biblioth√®que dynamique </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libclunk.so</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est responsable de la g√©n√©ration de sons binauraux en temps r√©el. Et si sous Linux, je dois me casser les doigts, en rempla√ßant le </font><font style="vertical-align: inherit;">chemin vers cette biblioth√®que </font><font style="vertical-align: inherit;">dans la variable d'environnement </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LD_LIBRARY_PATH</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , afin que ce qui √©tait dans cette variable avant cela soit √©galement enregistr√©, alors dans Haiku, cela se fait de mani√®re pratique, comme dans Windows. Il suffit de mettre la biblioth√®que partag√©e √† c√¥t√© du fichier ex√©cutable et elle sera r√©cup√©r√©e, √† la seule diff√©rence que dans le cas de Haiku, la biblioth√®que doit √™tre plac√©e dans le r√©pertoire </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./lib/</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui, √† mon avis, peut consid√©rablement √©conomiser du temps et des nerfs. </font><font style="vertical-align: inherit;">Par cons√©quent, j'ai d√©cid√© de ne pas consid√©rer la compilation statique de cette biblioth√®que. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source du projet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Vangers, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/KranX/Vangers Les</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©veloppeurs de Wanger ont accept√© mes modifications de leur moteur de jeu, et des packages pr√™ts √† installer sont disponibles en t√©l√©chargement √† partir du r√©f√©rentiel HaikuPorts ou du programme HaikuDepot, malgr√© le r√©cent fakap dans l'infrastructure du r√©f√©rentiel qui s'est produit apr√®s Mise √† jour de la distribution Fedora Linux vers la nouvelle version. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> <br><br><a name="sdl2"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 9. Impl√©mentation de dialogues dans la biblioth√®que SDL2 pour Haiku </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors du portage des moteurs Xash3D et Serious Engine, dont j'ai parl√© ci-dessus, je suis tomb√© sur un port local de la biblioth√®que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="SDL2 (Simple DirectMedia Layer) library, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL2 o√π</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> il y avait un manque total d'impl√©mentation des dialogues. Les dialogues sont appel√©s par deux fonctions </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowSimpleMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui permettent d'informer l'utilisateur de toute information importante, par exemple, sur une erreur. L'impl√©mentation de ces bo√Ætes de dialogue est disponible sur de nombreuses plates-formes et syst√®mes d'exploitation: Windows, macOS, iOS, X11 et Android, mais pour une raison quelconque, il manque √† Haiku. J'ai d√©cid√© de corriger cette omission et d'ajouter cette fonctionnalit√© au port de biblioth√®que SDL2. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans l'API Haiku, ou plut√¥t dans le framework Interface Kit, il y a une merveilleuse classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce qui est id√©al pour mettre en ≈ìuvre de tels dialogues. J'ai d√©cid√© de le choisir comme base. La seule chose qui m'a d√©rang√©, c'est que je n'√©tais pas s√ªr que </font><font style="vertical-align: inherit;">plus de trois boutons puissent √™tre plac√©s </font><font style="vertical-align: inherit;">dans la bo√Æte de dialogue que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> construit </font><font style="vertical-align: inherit;">. Je me suis √©galement souvenu des fonctionnalit√©s de gestion de la m√©moire de cette classe dont j'ai parl√© ci-dessus: ses objets ne peuvent √™tre cr√©√©s que sur le tas et ne peuvent pas √™tre cr√©√©s sur la pile, car apr√®s avoir appel√© la m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et l'action utilisateur suivante, il se supprime. Apr√®s avoir men√© quelques exp√©riences, j'ai dissip√© tous mes doutes, h√©rit√©s de cette classe et commenc√© √† √©crire une impl√©mentation.</font></font><br><br><div style="text-align:center;"><img title="    SDL2    Haiku." src="https://habrastorage.org/webt/wj/lu/an/wjluanrt_t4sy9sq7tjzzwtsfje.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impl√©mentation de dialogues dans la biblioth√®que SDL2 pour le syst√®me d'exploitation Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La premi√®re difficult√© que j'ai rencontr√©e a √©t√© que lors de l'utilisation d'un objet de la classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou de ses descendants, il √©tait n√©cessaire de cr√©er une instance de la classe syst√®me </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BApplication</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , apparemment afin d'enregistrer l'application dans </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app_server</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour pouvoir interagir avec elle. J'ai cr√©√© une instance de cette classe, mais lors de l'appel de la bo√Æte </font><font style="vertical-align: inherit;">de </font><font style="vertical-align: inherit;">dialogue </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert √†</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> partir d'un autre processus ou de la fen√™tre cr√©√©e, j'ai eu une autre erreur li√©e au fait que l'application ne peut pas avoir deux objets de la classe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BApplication</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , heureusement j'ai trouv√© une solution √† ce probl√®me. L'API Haiku a un pointeur global sur l'instance actuelle de la classe</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BApplication</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , appel√©e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">be_app</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , son homologue dans le cadre Qt est une macro </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qApp</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sp√©ciale </font><font style="vertical-align: inherit;">, qui d√©finit √©galement un pointeur vers l'objet d'application actuel. Donc, il suffit de simplement v√©rifier le pointeur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">be_app</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour NULL, et si la v√©rification r√©ussit, cr√©ez l'objet requis. Ainsi, tous ces probl√®mes ont √©t√© r√©solus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient de noter que la biblioth√®que SDL2 est √©crite dans le langage de programmation C et que l'API Haiku, comme vous le savez, utilise le langage de programmation C ++. Pour cette raison, certaines parties du code doivent √™tre recouvertes de conventions de liaison </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">externes "C"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> afin qu'il n'y ait aucun probl√®me avec la r√©solution de caract√®res lors de la liaison. De plus, au lieu de</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vous devez utiliser le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nouvel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> op√©rateur </font><strong><font style="vertical-align: inherit;">(std :: nothrow)</font></strong><font style="vertical-align: inherit;"> pour pouvoir v√©rifier la m√©moire allou√©e pour NULL, au lieu de lever des exceptions, dont le traitement que SDL2, bien s√ªr, ne prend pas en charge. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le reste n'a rien de compliqu√©. Nous √©crivons plusieurs fonctions qui convertissent les entit√©s et les repr√©sentations SDL2 de mani√®re √† ce qu'elles soient compatibles avec l'API Haiku et v√©rifions qu'elles fonctionnent correctement. Pour diverses v√©rifications, j'ai √©largi le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="SDL2_messagebox_test.c, GitHubGist repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">petit test.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que j'ai r√©guli√®rement ex√©cut√© sur diff√©rents syst√®mes d'exploitation, analys√© les r√©sultats et √©valu√© mon travail. En fin de compte, je me suis tellement emport√© que j'ai m√™me pris en charge la personnalisation, comme la d√©finition de diff√©rentes couleurs pour les boutons et l'arri√®re-plan de la bo√Æte de dialogue. Ceci est pris en charge dans l'API de la biblioth√®que SDL2, mais au d√©part, je n'avais pas pr√©vu de mettre en ≈ìuvre de telles choses. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si le programmeur d√©cide de cracher une tr√®s, tr√®s longue ligne dans cette bo√Æte de dialogue, l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> classe </font><strong><font style="vertical-align: inherit;">BTextView</font></strong><font style="vertical-align: inherit;"> , qui est utilis√© √† l'int√©rieur de l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objet de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> classe </font><strong><font style="vertical-align: inherit;">BAlert</font></strong><font style="vertical-align: inherit;"> , doit appeler la m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetWordWrap ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec l'argument </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">true</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour frapper un tel programmeur dans ses bras et faire tenir le dialogue √† l'√©cran. Il semblerait qu'il n'y ait rien de plus simple: nous v√©rifions la longueur de la cha√Æne en utilisant la fonction </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strlen ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et faisons ce qu'il faut. Le seul probl√®me est que SDL2 fonctionne √©galement avec UTF-8, ce qui signifie que la fonction </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strlen ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> renverra le nombre d'octets, pas le nombre de caract√®res. L'API Haiku et la classe de cha√Æne </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BString viennent √† la rescousse</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui a la m√©thode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CountChars ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui vous permet de trouver la longueur de la cha√Æne en caract√®res, pas en octets:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckLongLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *aMessage)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> final = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// This UTF-8 friendly. PS G_MAX_STRING_LENGTH = 120 BString message = aMessage; int32 length = message.CountChars(); for (int i = 0, c = 0; i &lt; length; ++i) { c++; if (*(message.CharAt(i)) == '\n') { c = 0; } if (c &gt; final) { final = c; } } return (final &gt; G_MAX_STRING_LENGTH); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette fonction v√©rifie le texte du message pour les lignes de plus de 120 caract√®res et, le cas √©ch√©ant, renvoie true. Quant √† UTF-8, il y avait encore un moment tel que dans certaines polices syst√®me Haiku, il n'y avait pas de support pour les caract√®res chinois. Par cons√©quent, par exemple, vous ne pouvez pas d√©finir d‚Äôinscription chinoise dans le titre de la fen√™tre. Mais le texte en russe est install√© sans probl√®me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors de la pr√©paration du package, j'ai rencontr√© une erreur de g√©n√©ration pour l'architecture x86_gcc2, qui est activ√©e dans la recette de la biblioth√®que SDL2. Il s'est av√©r√© que le plus ancien compilateur GCC 2.95 ne pouvait pas deviner que le code comment√© √©tait √©quivalent √† celui ci-dessous:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">rgb_color </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertColorType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SDL_MessageBoxColor *aColor)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// return { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, 255 }; rgb_color color = { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, color.alpha = 255 }; return color; }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par cons√©quent, j'ai d√ª r√©√©crire ce fragment dans l'ancien style et toujours supprimer l'initialisation de certaines constantes de la classe directement dans leurs d√©clarations, l'ancien compilateur n'aimait pas cela non plus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai envoy√© des correctifs pour l'impl√©mentation des bo√Ætes de dialogue SDL2 au r√©f√©rentiel HaikuPorts, donc maintenant les moteurs Xash3D et Serious Engine peuvent correctement envoyer toutes les informations √† l'utilisateur, par exemple, sur les erreurs. Mais je n'ai pas encore contact√© les d√©veloppeurs SDL2, mais ce serait bien de transf√©rer tous les correctifs du r√©f√©rentiel HaikuPorts vers la biblioth√®que SDL2 en amont. Bien que le travail de portage de nos correctifs soit devenu un peu plus compliqu√© en raison du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Rename internal functions from BE_* to HAIKU_*, SDL2 mercurial repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©cent changement de nom des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pr√©fixes </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Rename internal functions from BE_* to HAIKU_*, SDL2 mercurial repository."><font style="vertical-align: inherit;">de</font></a><font style="vertical-align: inherit;"> fonction de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BE_ *</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HAIKU_ *</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ce n'est pas un probl√®me si s√©rieux. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> <br><br><a name="coolreader"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10. Portage de ma fourchette de Cool Reader </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je d√©veloppe depuis longtemps une fourchette du programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="   Cool Reader."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cool Reader</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui a √©t√© √©crit par </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vadim Lopatin</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buggins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), l'article correspondant √† ce sujet est disponible sur mon site Web. </font><font style="vertical-align: inherit;">Dans les commentaires de cet article, les lecteurs de mon blog se d√©sabonnent constamment, qui veulent voir une nouvelle fonctionnalit√© dans leur application pr√©f√©r√©e pour lire des livres √©lectroniques, ou veulent corriger des erreurs et des lacunes dans les fonctions de programme d√©j√† impl√©ment√©es.</font></font><br><br><div style="text-align:center;"><img title="   Cool Reader,     Haiku." src="https://habrastorage.org/webt/ug/ib/ys/ugibysukgq3yqipkk3w_ar8sn1y.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ma fourchette de Cool Reader fonctionnant sur Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans le r√©f√©rentiel HaikuPorts, j'ai trouv√© une recette pour construire le programme Cool Reader original, cependant, en raison de certains changements constants qui se produisent avec la ressource </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="SourceForge, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SourceForge</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cette recette s'est av√©r√©e inop√©rante, car le code source de l'application est devenu indisponible pour le t√©l√©chargement. J'ai ensuite d√©cid√© de transf√©rer ma fourchette vers le r√©f√©rentiel HaikuPorts, en tant que nouvelle version de Cool Reader. J'ai mis tous les correctifs de Gerasim sur le code, corrig√© quelques lacunes dans la recette et bas√© sur lui, j'ai cr√©√© un nouveau package qui est d√©j√† disponible pour tous les utilisateurs de Haiku. Vous pouvez trouver le code source de ma fourchette Cool Reader dans ce r√©f√©rentiel GitHub: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source du projet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Cool Reader fork, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXLMOTODEV/coolreader</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le seul probl√®me que j'ai rencontr√© √©tait les inexactitudes dans le transfert des correctifs de Gerasim. </font><font style="vertical-align: inherit;">En plus de la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finition de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> __HAIKU__ </font><font style="vertical-align: inherit;">, ailleurs dans le syst√®me de construction, la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finition de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> _LINUX </font><strong><font style="vertical-align: inherit;">a</font></strong><font style="vertical-align: inherit;"> √©galement </font><strong><font style="vertical-align: inherit;">√©t√© d√©finie</font></strong><font style="vertical-align: inherit;"> et, puisque dans la plupart des cas, le dernier dans la liste de code source √©tait le premier, la compilation conditionnelle m'a laiss√© tomber. </font><font style="vertical-align: inherit;">Conform√©ment aux r√®gles de priorit√© du pr√©processeur, pour Haiku exactement ces morceaux de code ont √©t√© compil√©s qui ont √©t√© encadr√©s par la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finition de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> _LINUX </font><font style="vertical-align: inherit;">, bien que j'avais besoin de quelque chose de compl√®tement diff√©rent. </font><font style="vertical-align: inherit;">Mais malgr√© cela, le programme a d√©marr√© et a fonctionn√©, mais il n'a enregistr√© ses param√®tres que l√† o√π il √©tait n√©cessaire. </font><font style="vertical-align: inherit;">J'ai correctement prioris√©, reconstruit le package et le probl√®me a √©t√© compl√®tement r√©solu. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> <br><br><a name="keymap"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 11. Finalisation du programme KeymapSwitcher </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©cemment, de nombreux syst√®mes d'exploitation populaires sont pass√©s √† un nouveau raccourci clavier </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meta / Opt / Cmd / Win + Space</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour changer de disposition de clavier. Cela m'a sembl√© tr√®s pratique car je n'ai plus besoin de changer quoi que ce soit et de le configurer. Vous vous asseyez sur n'importe quel ordinateur ex√©cutant macOS, Windows ou Linux avec le shell GNOME 3 et cette combinaison pratique de changement de langue d'entr√©e fonctionne juste partout. M√™me le syst√®me d'exploitation mobile Android a son analogue. En g√©n√©ral, je suis pass√© √† ce raccourci clavier il y a longtemps et je m'y suis beaucoup habitu√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä mon grand regret, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="KeymapSwitcher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeymapSwitcher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, fourni avec Haiku, ne m'a pas permis de d√©finir une combinaison de touches aussi pratique pour changer de disposition, c'est pourquoi je me sentais constamment incommode lorsque je travaillais avec du texte dans ce syst√®me d'exploitation. Par cons√©quent, j'ai d√©cid√© de modifier un peu cette application et j'ai commenc√© √† rechercher son code source. Il s'est av√©r√© que ce programme, bien qu'inclus dans la distribution Haiku, est fourni s√©par√©ment du code source du syst√®me d'exploitation lui-m√™me. De plus, l'application est disponible dans le r√©f√©rentiel HaikuPorts et elle est √©galement mise √† jour via celui-ci. Comme j'ai √©t√© inform√©, KeymapSwitcher n'√©tait pas inclus dans Haiku, car il est pr√©vu de mettre en ≈ìuvre une API sp√©ciale pour changer les dispositions de clavier et un jour, la n√©cessit√© de ce programme dispara√Ætra compl√®tement.</font></font><br><br><div style="text-align:center;"><img title=" KeymapSwitcher    Haiku        ." src="https://habrastorage.org/webt/o1/cq/xn/o1cqxnduzeop30tx6zpzbq7c62i.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeymapSwitcher sur Haiku avec un raccourci clavier populaire pour changer la disposition du clavier.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Malgr√© le fait que j'ai √©t√© effray√© par la complexit√© du code KeymapSwitcher, j'ai rapidement trouv√© la bonne place gr√¢ce aux commentaires et introduit un petit patch dans le code du programme, ce qui a grandement facilit√© la saisie de tous les textes en ha√Øku. Le seul d√©faut mineur que je n'ai pas pu surmonter est que la touche </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> doit √™tre rel√¢ch√©e pour changer de langue. Autrement dit, maintenez </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et un espace pour basculer entre les langues s√©lectionn√©es ne fonctionnera pas. </font><font style="vertical-align: inherit;">Mais cela n'interf√®re absolument pas avec le changement de langue pendant la frappe, j'ai donc envoy√© le correctif au r√©f√©rentiel du programme et mis √† jour le package d'application dans HaikuPorts, apr√®s quoi la nouvelle version de KeymapSwitcher est devenue disponible pour l'installation pour tous les utilisateurs de Haiku. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source du projet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="KeymapSwitcher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/HaikuArchives/KeymapSwitcher</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'esp√®re que je ne suis pas le seul utilisateur de ce raccourci clavier √† changer de disposition de clavier. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> <br><br><a name="theend"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12. Conclusion </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'√©tude de l'API Haiku, ainsi que la r√©solution de divers probl√®mes exotiques qui sont survenus √† la suite du portage de nouvelles applications et de la mise √† jour des applications existantes pour ce syst√®me d'exploitation, m'ont apport√© beaucoup d'exp√©rience et de plaisir. J'ai pu promouvoir les correctifs de support Haiku dans le r√©f√©rentiel de code source de certains grands projets et j'ai rencontr√© de nouvelles personnes int√©ressantes qui √©taient en quelque sorte li√©es √† ce beau syst√®me d'exploitation.</font></font><br><br><div style="text-align:center;"><img title=" ,     Haiku." src="https://habrastorage.org/webt/ew/rw/oy/ewrwoyfj--hee2fsb4xz0qrl5ck.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diverses applications fonctionnant sur le syst√®me d'exploitation Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'esp√®re sinc√®rement qu'√† l'avenir, tous les probl√®mes d'aujourd'hui comme le manque d'acc√©l√©ration mat√©rielle 3D et les navigateurs populaires, ainsi que la mauvaise prise en charge du mat√©riel moderne, seront r√©solus avec succ√®s et Haiku recevra un afflux de sang neuf de d√©veloppeurs et d'utilisateurs qui appr√©cieront ses capacit√©s uniques et sa conception originale . Heureusement, le d√©veloppement est loin d'√™tre arr√™t√© et aujourd'hui sur le forum local de ce syst√®me d'exploitation, des sujets d'actualit√© sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="What about bounty? 3D acceleration bounty?, Official Haiku forums."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'acc√©l√©ration 3D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le portage de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Ported GTK3 [Live], Official Haiku forums."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioth√®que GTK + 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont </font><font style="vertical-align: inherit;">√©voqu√©s </font><font style="vertical-align: inherit;">, et la possibilit√© de porter le composant </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository."><font style="vertical-align: inherit;">QtWebEngine</font></a><font style="vertical-align: inherit;"> est discut√©e dans les r√©f√©rentiels HaikuPorts</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository."><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le port GTK + 3 peut impliquer la possibilit√© de lancer et de travailler les navigateurs populaires Firefox et Chromium, et QtWebEngine permettra d'utiliser le moteur Blink dans les navigateurs modernes bas√©s sur le framework Qt, comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Otter Browser, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otter Browser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Falkon, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falkon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©j√† maintenant, je peux recommander ce syst√®me d'exploitation √† ceux qui ont des ordinateurs portables ou des netbooks anciens et faibles, par exemple, au lieu de la distribution </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Lubuntu, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lubuntu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou de Windows XP. Vous serez √©tonn√© de sa rapidit√© et de sa r√©activit√©. Oui, vous devrez vous limiter un peu √† la visualisation de certains sites en raison d'anciens navigateurs et d'un tas de probl√®mes qui leur sont associ√©s, mais pour la plupart des cas sur l'ancien mat√©riel, cette limitation n'a aucune importance.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous mes ports et am√©liorations ont d√©j√† √©t√© publi√©s et sont disponibles pour l'installation pour tous les utilisateurs de Haiku. Toutes les modifications apport√©es au code source sont disponibles dans les r√©f√©rentiels respectifs sous leurs licences d'origine. Dans ce travail, j'ai utilis√© une √©norme quantit√© de mat√©riaux, dont je soulignerai les principaux dans les liens utiles ci-dessous. Un grand merci √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Stack Overflow, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stackoverflow.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Google, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">google.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour leur pr√©sence. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Le site officiel du syst√®me d'exploitation Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Le forum officiel du syst√®me d'exploitation Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Documentation officielle pour les utilisateurs de Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Documentation officielle pour les d√©veloppeurs Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Description des fonctionnalit√©s de l'interface utilisateur graphique Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="      Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Recommandations pour la cr√©ation d'ic√¥nes pour les applications Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="  Icon-O-Matic     ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Description du programme Icon-O-Matic et conseils d'utilisation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    HVIF."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Description du format des ic√¥nes vectorielles HVIF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    Interface Kit."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9. La documentation officielle du cadre du kit d'interface</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    Locale Kit."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10. La documentation officielle pour le framework Locale Kit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title=",      Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11. Article sur les aspects de localisation des applications pour Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="     Layout API."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12. La documentation officielle de l'API Layout</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title=" ,     Haiku   Layout API."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13. Une s√©rie d'articles d√©crivant l'impl√©mentation de l'API Layout dans Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="GitHub-     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14. D√©p√¥t GitHub du code source du syst√®me d'exploitation Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="GitHub-   HaikuPorts."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15. D√©p√¥t GitHub de l'arbre de recette HaikuPorts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="    HPKG- Haiku Depot Web."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16. La version Internet du r√©f√©rentiel de packages HPKG pr√™ts √† l'emploi Haiku Depot Web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="  'Haiku:  -'    INSTEAD,  ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17. Un article int√©ressant "Haiku: lampe geek-OS" sur le blog du d√©veloppeur INSTEAD, Peter Kosykh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title=" 'Haiku: '    INSTEAD,  ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18. The Haiku: Immersion article sur le blog des d√©veloppeurs d'INSTEAD, Pyotr Kosykh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="   'Learning to Program' with Haiku  DarkWyrm."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19. Le cours de programmation des le√ßons "Apprendre √† programmer avec Haiku" de DarkWyrm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="   'Programming With Haiku'  DarkWyrm."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20. Le cours de programmation des le√ßons "Programmation avec Haiku" de DarkWyrm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title=" '    Haiku?'   Linux.org.ru,  ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21. Publication ¬´Y a-t-il de la vie sur Haiku?¬ª sur la ressource Linux.org.ru, de moi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="  Telegram IM,     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22. Conf√©rence en t√©l√©gramme IM, consacr√©e √† la discussion du syst√®me d'exploitation Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> F√©licitations √† tous les utilisateurs de la ressource</font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="habr, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bonne ann√©e et leur souhaite de joyeuses f√™tes de No√´l! </font><font style="vertical-align: inherit;">Bonne chance √† vous tous dans la nouvelle ann√©e 2019! </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Passer au contenu</font></font></em></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr434690/">https://habr.com/ru/post/fr434690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr434680/index.html">Evolution du planificateur de t√¢ches</a></li>
<li><a href="../fr434682/index.html">T√©l√©porteur personnel de la ville</a></li>
<li><a href="../fr434684/index.html">Rouille 2019 et au-del√†: restrictions de croissance</a></li>
<li><a href="../fr434686/index.html">Cours magistral sur JavaScript et Node.js dans KPI</a></li>
<li><a href="../fr434688/index.html">FreeBSD pr√©voit de passer √† ZFSonLinux</a></li>
<li><a href="../fr434692/index.html">Les 25 startups am√©ricaines les plus ch√®res √† mourir en 2018</a></li>
<li><a href="../fr434694/index.html">Pr√©sentation de NeurIPS-2018 (ex. NIPS)</a></li>
<li><a href="../fr434696/index.html">Les employ√©s des g√©ants de l'informatique ont compris comment influencer les politiques de leurs entreprises</a></li>
<li><a href="../fr434698/index.html">Pessimisme √† propos du multithreading</a></li>
<li><a href="../fr434700/index.html">Avantages de suivre les guides de style lors du d√©veloppement d'applications angulaires</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>