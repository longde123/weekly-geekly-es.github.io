<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐น MVCC-5. ุงูุชูุธูู ูู ุงูุตูุญุฉ ูุงูุณุงุฎูุฉ โ๏ธ ๐๐ฟ ๐๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุงุณูุญูุง ูู ุฃู ุฃุฐูุฑู ุจุฃููุง ุฏุฑุณูุง ุงููุถุงูุง ุงููุชุนููุฉ ุจุงูุนุฒูุฉ ุ ููููุง ุจุงุณุชูุจุงุท ุญูู ุชูุธูู ุงูุจูุงูุงุช ุนูู ูุณุชูู ููุฎูุถ ุ ุซู ุชุญุฏุซูุง ุจุงูุชูุตูู ุนู ุฅุตุฏุงุฑุงุช ุงูุตู ูููู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MVCC-5. ุงูุชูุธูู ูู ุงูุตูุญุฉ ูุงูุณุงุฎูุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/449704/" style=";text-align:right;direction:rtl">  ูุงุณูุญูุง ูู ุฃู ุฃุฐูุฑู ุจุฃููุง ุฏุฑุณูุง ุงููุถุงูุง ุงููุชุนููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุงูุนุฒูุฉ</a> ุ ููููุง ุจุงุณุชูุจุงุท ุญูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุธูู ุงูุจูุงูุงุช ุนูู ูุณุชูู ููุฎูุถ</a> ุ ุซู ุชุญุฏุซูุง ุจุงูุชูุตูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนู ุฅุตุฏุงุฑุงุช ุงูุตู</a> ูููู ูุชู ุงูุญุตูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุทุงุช</a> ูู ุงูุฅุตุฏุงุฑุงุช. <br><br>  ุงูููู ุณูุชุนุงูู ูุน ูุถูุชูู ูุฑุชุจุทุชูู ุจุดูู ูุซูู: <em>ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ</em> <em>ูุงูุชุญุฏูุซุงุช ุงูุนุงุฌูุฉ</em> .  ูููู ุชุตููู ููุชุง ุงูุขููุชูู ูุชุญุณููุงุช ุ  ุฃููุง ูููุฉ ุ ููู ูุง ูุชู ุชุบุทูุชูุง ุชูุฑูุจูุง ูู ูุซุงุฆู ุงููุณุชุฎุฏู. <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุชูุธูู ูู ุงูุตูุญุฉ ูุน ุชุญุฏูุซุงุช ููุชุธูุฉ </h1><br>  ุนูุฏ ุงููุตูู ุฅูู ุงูุตูุญุฉ - ุฃุซูุงุก ุงูุชุญุฏูุซ ูุนูุฏ ุงููุฑุงุกุฉ - ูููู ุฃู ูุญุฏุซ ุงูุชูุธูู ุงูุณุฑูุน ุฏุงุฎู ุงูุตูุญุฉ ุฅุฐุง ููู PostgreSQL ุฃู ุงูุตูุญุฉ ููุฏุช ูุณุงุญุชูุง.  ูุญุฏุซ ูุฐุง ูู ุญุงูุชูู. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ูุนุซุฑ ุงูุชุญุฏูุซ ุงูุฐู ุชู ุชูููุฐู ูุณุจููุง ุนูู ูุฐู ุงูุตูุญุฉ (UPDATE) ุนูู ูุณุงุญุฉ ูุงููุฉ ููุถุน ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุตู ูู ููุณ ุงูุตูุญุฉ.  ูุชู ุชุฐูุฑ ูุฐุง ุงููููู ูู ุนููุงู ุงูุตูุญุฉ ุ ููู ุงููุฑุฉ ุงูุชุงููุฉ ุงูุชู ูุชู ูููุง ูุณุญ ุงูุตูุญุฉ. </li><li style=";text-align:right;direction:rtl">  ุชูุชูุฆ ุงูุตูุญุฉ ุฃูุซุฑ ูู ุนูู fillfactor.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุญุฏุซ ุงูุชูุธูู ุนูู ุงูููุฑ ุ ุฏูู ุชุฃุฎูุฑ ูู ุงููุฑุฉ ุงููุงุฏูุฉ. </li></ol><a name="habracut"></a><br>  Fillfactor ูู ูุนููุฉ ุงูุชุฎุฒูู ุงูุชู ูููู ุชุนุฑูููุง ููุฌุฏูู (ูุงูููุฑุณ).  ูููู PostgreSQL ุจุฅุฏุฑุงุฌ ุตู ุฌุฏูุฏ (INSERT) ุนูู ุตูุญุฉ ููุท ุฅุฐุง ูุงูุช ูุฐู ุงูุตูุญุฉ ุฃูู ูู ููุก ุงููุณุจุฉ ุงููุฆููุฉ ุจุงููุงูู.  ุงููุณุงุญุฉ ุงููุชุจููุฉ ูุฎุตุตุฉ ููุฅุตุฏุงุฑุงุช ุงูุฌุฏูุฏุฉ ูู ุงูุณูุงุณู ุงูุชู ุชูุชุฌ ุนู ุงูุชุญุฏูุซุงุช (UPDATE).  ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ููุฌุฏุงูู ูู 100 ุ ุฃู ุ ุงููุณุงุญุฉ ุบูุฑ ูุญุฌูุฒุฉ (ููููุฉ ุงูููุงุฑุณ ูู 90). <br><br>  ูุนูู ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ ุนูู ุฅุฒุงูุฉ ุฅุตุฏุงุฑุงุช ุงูุตููู ุบูุฑ ุงููุฑุฆูุฉ ูู ุฃู ุตูุฑุฉ (ุชูุน ุฎุงุฑุฌ "ุฃูู ุงูุญุฏุซ" ููุงุนุฏุฉ ุงูุจูุงูุงุช ุ ุชุญุฏุซูุง ุนู ูุฐู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฑุฉ ุงูุฃุฎูุฑุฉ</a> ) ุ ูููููุง ุชุนูู ุจุดูู ุตุงุฑู ุฏุงุฎู ููุณ ุตูุญุฉ ุงูุฌุฏุงูู.  ูุง ูุชู ุชุญุฑูุฑ ุงููุคุดุฑุงุช ุฅูู ุงูุฅุตุฏุงุฑุงุช ุงูุชู ุชู ูุณุญูุง ูู ุงูุณูุงุณู ุ ูุฃูู ูููู ุงูุฑุฌูุน ุฅูููุง ูู ุงูููุงุฑุณ ุ ูุงูููุฑุณ ูู ุตูุญุฉ ุฃุฎุฑู.  ูุง ูุชุฌุงูุฒ ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ ุตูุญุฉ ุฌุฏูููุฉ ูุงุญุฏุฉ ุ ูููู ุณุฑูุน ุฌุฏูุง. <br><br>  ูููุณ ุงูุฃุณุจุงุจ ุ ูุง ูุชู ุชุญุฏูุซ ุฎุฑูุทุฉ ุงููุณุงุญุฉ ุงูุญุฑุฉ ุ  ููุง ูููุฑ ูุณุงุญุฉ ููุชุญุฏูุซุงุช ุ ูููุณ ููุฅุฏุฑุงุฌ.  ูู ูุชู ุชุญุฏูุซ ุฎุฑูุทุฉ ุงูุฑุคูุฉ ุฃูุถูุง. <br><br>  ุญูููุฉ ุฃู ุงูุตูุญุฉ ูููู ูุญููุง ุนูุฏ ุงููุฑุงุกุฉ ุชุนูู ุฃู ุทูุจ ุงููุฑุงุกุฉ (SELECT) ูููู ุฃู ูุชุณุจุจ ูู ุชุบููุฑ ุงูุตูุญุงุช.  ูุฐู ุญุงูุฉ ุฃุฎุฑู ูู ูุฐุง ุงููุจูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุชุบููุฑ ุงููุคุฌู ุณุงุจููุง ูู ุจุชุงุช ุงูุชูููุญ. <br><br>  ุฏุนููุง ูุฑู ููู ูุนูู ูุฐุง ุ ูุฐูู ุจุงุณุชุฎุฏุงู ูุซุงู.  ูู ุจุฅูุดุงุก ุฌุฏูู ูููุงุฑุณ ูู ููุง ุงูุนููุฏูู. <br><br><pre style=";text-align:right;direction:rtl"><code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> hot(id <span class="hljs-type"><span class="hljs-type">integer</span></span>, s <span class="hljs-type"><span class="hljs-type">char</span></span>(<span class="hljs-number"><span class="hljs-number">2000</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (fillfactor = <span class="hljs-number"><span class="hljs-number">75</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> hot_id <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> hot(id); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> hot_s <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> hot(s);</code> </pre> <br>  ุฅุฐุง ุชู ุชุฎุฒูู ุงูุฃุญุฑู ุงููุงุชูููุฉ ููุท ูู ุงูุนููุฏ s ุ ูุณูุดุบู ูู ุฅุตุฏุงุฑ ูู ุงูุตู 2004 ุจุงูุช ุจุงูุฅุถุงูุฉ ุฅูู 24 ุจุงูุช ูู ุงูุฑุฃุณ.  ุญุฏุฏูุง ูุนููุฉ ุชุฎุฒูู fillfactor ุนูู 75 ูช - ุณูููู ููุงู ูุณุงุญุฉ ูุงููุฉ ูุซูุงุซุฉ ุฎุทูุท. <br><br>  ููุฑุงุญุฉ ุ ูููู ุจุฅุนุงุฏุฉ ุฅูุดุงุก ูุธููุฉ ูุฃูููุฉ ุจุงููุนู ุ ูุน ุงุณุชููุงู ุงูุฅุฎุฑุงุฌ ุจุญูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> heap_page(relname <span class="hljs-type"><span class="hljs-type">text</span></span>, pageno <span class="hljs-type"><span class="hljs-type">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span>(ctid tid, state <span class="hljs-type"><span class="hljs-type">text</span></span>, xmin <span class="hljs-type"><span class="hljs-type">text</span></span>, xmax <span class="hljs-type"><span class="hljs-type">text</span></span>, hhu <span class="hljs-type"><span class="hljs-type">text</span></span>, hot <span class="hljs-type"><span class="hljs-type">text</span></span>, t_ctid tid) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $$<span class="pgsql"><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">SELECT</span></span></span><span class="pgsql"> (pageno,lp)::</span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">text</span></span></span><span class="pgsql">::tid </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> ctid, </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> lp_flags </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'unused'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">1</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'normal'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">2</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'redirect to '</span></span></span><span class="pgsql">||lp_off </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">3</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'dead'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> state, t_xmin || </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">256</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (c)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">512</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (a)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">ELSE</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">''</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> xmin, t_xmax || </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">1024</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (c)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">2048</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">' (a)'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">ELSE</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">''</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> xmax, </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask2 &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">16384</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'t'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> hhu, </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">CASE</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHEN</span></span></span><span class="pgsql"> (t_infomask2 &amp; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">32768</span></span></span><span class="pgsql">) &gt; </span><span class="hljs-number"><span class="pgsql"><span class="hljs-number">0</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">THEN</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'t'</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">END</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> hot, t_ctid </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">FROM</span></span></span><span class="pgsql"> heap_page_items(get_raw_page(relname,pageno)) </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">ORDER</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">BY</span></span></span><span class="pgsql"> lp; $$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span> <span class="hljs-keyword"><span class="hljs-keyword">LANGUAGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>;</code> </pre><br>  ูุฏุนูุง ููุดุฆ ูุธููุฉ ูููุธุฑ ุฏุงุฎู ุตูุญุฉ ุงูููุฑุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FUNCTION</span></span> index_page(relname <span class="hljs-type"><span class="hljs-type">text</span></span>, pageno <span class="hljs-type"><span class="hljs-type">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">RETURNS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span>(itemoffset <span class="hljs-type"><span class="hljs-type">smallint</span></span>, ctid tid) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> $$<span class="pgsql"><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">SELECT</span></span></span><span class="pgsql"> itemoffset, ctid </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">FROM</span></span></span><span class="pgsql"> bt_page_items(relname,pageno); $$</span><span class="undefined"></span></span><span class="pgsql"><span class="undefined"></span></span> <span class="hljs-keyword"><span class="hljs-keyword">LANGUAGE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SQL</span></span>;</code> </pre><br>  ุณูู ูุชุญูู ูู ููููุฉ ุนูู ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ.  ููููุงู ุจุฐูู ุ ุฃุฏุฎู ุณุทุฑูุง ูุงุญุฏูุง ููู ุจุชุบููุฑู ุนุฏุฉ ูุฑุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'A'</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'C'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'D'</span></span>;</code> </pre><br>  ููุงู ุฃุฑุจุนุฉ ุฅุตุฏุงุฑุงุช ูู ุงูุณุทุฑ ูู ุงูุตูุญุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+----------+-----+-----+-------- (0,1) | normal | 3979 (c) | 3980 (c) | | | (0,2) (0,2) | normal | 3980 (c) | 3981 (c) | | | (0,3) (0,3) | normal | 3981 (c) | 3982 | | | (0,4) (0,4) | normal | 3982 | 0 (a) | | | (0,4) (4 rows)</code> </pre><br>  ููุง ูู ูุชููุน ุ ููุฏ ุชุฌุงูุฒูุง ุนุชุจุฉ fillfactor.  ูุดุงุฑ ุฅูู ูุฐุง ุจุงููุฑู ุจูู ุงูููู ุนูู ุงูุตูุญุงุช ูุงูููู ุงูุนููุง: ููู ูุชุฌุงูุฒ ุญุฏ 75ูช ูู ุญุฌู ุงูุตูุญุฉ ุ ููู 6144 ุจุงูุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> lower, upper, pagesize <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> page_header(get_raw_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> lower | upper | pagesize -------+-------+---------- 40 | 64 | 8192 (1 row)</code> </pre><br>  ูุฐูู ุ ูู ุงููุฑุฉ ุงูุชุงููุฉ ุงูุชู ุชุฏุฎู ูููุง ุฅูู ุงูุตูุญุฉ ุ ูุฌุจ ุฃู ูุญุฏุซ ุชูุธูู ูู ุงูุตูุญุฉ.  ุชุญูู ูู ุฐูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'E'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+-------+-----+-----+-------- (0,1) | dead | | | | | (0,2) | dead | | | | | (0,3) | dead | | | | | (0,4) | normal | 3982 (c) | 3983 | | | (0,5) (0,5) | normal | 3983 | 0 (a) | | | (0,5) (5 rows)</code> </pre><br>  ูุชู ูุณุญ ูุงูุฉ ุงูุฅุตุฏุงุฑุงุช ุบูุฑ ุฐุงุช ุงูุตูุฉ ูู ุงูุฎุทูุท (0ุ1) ู (0ุ2) ู (0ุ3) ุ  ุจุนุฏ ุฐูู ุ ุชุชู ุฅุถุงูุฉ ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุณุทุฑ (0.5) ุฅูู ุงููุณุงุญุฉ ุงูุชู ุชู ุฅุฎูุงุคูุง. <br><br>  ูุชู ุชุญููู ุฅุตุฏุงุฑุงุช ุงูุฎุทูุท ุงููุชุจููุฉ ุจุนุฏ ุงูุชูุธูู ูุนูููุง ุฅูู ุฌุงูุจ ุนูุงููู ุงูุตูุญุงุช ุงูุนููุง ุจุญูุซ ูุชู ุชูุซูู ูู ุงููุณุงุญุฉ ุงูุญุฑุฉ ุจุดุธูุฉ ูุงุญุฏุฉ ูุชุตูุฉ.  ุชุชุบูุฑ ููู ุงููุคุดุฑุงุช ููููุง ูุฐูู.  ุจูุถู ูุฐุง ุ ูุง ุชูุฌุฏ ูุดุงูู ูู ุชุฌุฒุฆุฉ ุงููุณุงุญุฉ ุงูุญุฑุฉ ูู ุงูุตูุญุฉ. <br><br>  ูุง ูููู ุชุญุฑูุฑ ูุคุดุฑุงุช ุงูุฅุตุฏุงุฑุงุช ุงููุญุฐููุฉ ูู ุงูุณูุงุณู ูุฃูู ูุชู ุงูุฑุฌูุน ุฅูููุง ูู ุตูุญุฉ ููุฑุณ.  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ุงูุตูุญุฉ ุงูุฃููู ูู ููุฑุณ hot_s (ูุฃู ุงูุตูุฑ ูุดุบูู ุจูุนูููุงุช ุงูุชุนุฑูู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_s'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,1) 2 | (0,2) 3 | (0,3) 4 | (0,4) 5 | (0,5) (5 rows)</code> </pre><br>  ุณูุฑู ููุณ ุงูุตูุฑุฉ ูู ููุฑุณ ุขุฎุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_id'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,5) 2 | (0,4) 3 | (0,3) 4 | (0,2) 5 | (0,1) (5 rows)</code> </pre><br>  ููููู ููุงุญุธุฉ ุฃู ุงููุคุดุฑุงุช ุฅูู ุตููู ุงูุฌุฏูู ุชุฐูุจ ููุง "ููุฎูู" ุ ูููู ูุง ููู ุ ูุฃูู ูู ุฌููุน ุฅุตุฏุงุฑุงุช ุงูุตููู ุชููู ุงููููุฉ ููุณูุง ูู id = 1. ููู ูู ุงูููุฑุณ ุงูุณุงุจู ุ ูุชู ุชุฑุชูุจ ุงููุคุดุฑุงุช ุญุณุจ ููู s ุ ููุฐุง ุฅูู ุญุฏ ูุจูุฑ. <br><br>  ุจุงุณุชุฎุฏุงู ุงูููุฑุณ ุ ูููู ูู PostgreSQL ุงูุญุตูู ุนูู (0ุ1) ุฃู (0ุ2) ุฃู (0ุ3) ููุนุฑู ุฅุตุฏุงุฑ ุงูุตู.  ุจุนุฏ ุฐูู ุณูุญุงูู ุงูุญุตูู ุนูู ุงูุตู ุงูููุงุจู ูู ุตูุญุฉ ุงูุฌุฏูู ุ ูููู ุจูุถู ุงูุญุงูุฉ ุงูููุชุฉ ูููุคุดุฑ ุ ุณูุฌุฏ ุฃู ูุฐุง ุงูุฅุตุฏุงุฑ ูู ูุนุฏ ููุฌูุฏูุง ูุณูู ูุชุฌุงููู.  (ูู ุงููุงูุน ุ ูู ุงููุฑุฉ ุงูุฃููู ุงูุชู ููุชุดู ูููุง ุนุฏู ูุฌูุฏ ูุณุฎุฉ ูู ุตู ุงูุฌุฏูู ุ ุณูุบูุฑ PostgreSQL ุฃูุถูุง ุญุงูุฉ ุงููุคุดุฑ ูู ุตูุญุฉ ุงูููุฑุณ ุจุญูุซ ูุง ูุตู ุฅูู ุตูุญุฉ ุงูุฌุฏูู ูุฑุฉ ุฃุฎุฑู.) <br><br>  ูู ุงูููู ุฃูุง ูุนูู ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ ุฅูุง ุฏุงุฎู ุตูุญุฉ ุฌุฏูููุฉ ูุงุญุฏุฉ ููุง ูุคุฏู ุฅูู ูุณุญ ุตูุญุงุช ุงูููุฑุณ. <br><br><h1 style=";text-align:right;direction:rtl">  ุชุญุฏูุซุงุช ุณุงุฎูุฉ </h1><br>  ููุงุฐุง ูู ุงูุณูุก ุงูุงุญุชูุงุธ ุจุฑูุงุจุท ูุฌููุน ุฅุตุฏุงุฑุงุช ุณูุณูุฉ ูู ุงูููุฑุณุ <br><br>  ุฃููุงู ุ ูุน ุฃู ุชุบููุฑ ูู ุงูุตู ุ ูุฌุจ ุนููู ุชุญุฏูุซ ุฌููุน ุงูููุงุฑุณ ุงูุชู ุชู ุฅูุดุงุคูุง ููุฌุฏูู: ููุฐ ุธููุฑ ุฅุตุฏุงุฑ ุฌุฏูุฏ ุ ูุฌุจ ุฃู ูููู ูุฏูู ุฑูุงุจุท ุฅููู.  ูุชุญุชุงุฌ ุฅูู ุงูููุงู ุจุฐูู ูู ุฃู ุญุงู ุ ุญุชู ุฅุฐุง ุชุบูุฑุช ุงูุญููู ุงูุชู ูู ูุชู ุชุถููููุง ูู ุงูููุฑุณ.  ูู ุงููุงุถุญ ุ ูุฐู ููุณุช ูุนุงูุฉ ุฌุฏุง. <br><br>  ุซุงููุงู ุ ุชุฌูุน ุงูููุงุฑุณ ุฑูุงุจุท ููุฅุตุฏุงุฑุงุช ุงูุชุงุฑูุฎูุฉ ูู ุงูุณูุณูุฉ ุ ูุงูุชู ูุฌุจ ุชูุธูููุง ูุน ุงูุฅุตุฏุงุฑุงุช ููุณูุง (ุณููุธุฑ ุฅูู ุฐูู ูุงุญููุง). <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ููุงู ููุฒุฉ ูุชูููุฐ ุงูุดุฌุฑุฉ B ูู PostgreSQL.  ุฅุฐุง ูู ุชูู ููุงู ูุณุงุญุฉ ูุงููุฉ ุนูู ุตูุญุฉ ุงูููุฑุณ ูุฅุฏุฑุงุฌ ุตู ุฌุฏูุฏ ุ ูุชู ุชูุณูู ุงูุตูุญุฉ ุฅูู ูุณููู ููุชู ุฅุนุงุฏุฉ ุชูุฒูุน ุฌููุน ุงูุจูุงูุงุช ุจููููุง.  ููุฐุง ูุง ูุณูู ุตูุญุฉ ุงูุงููุณุงู.  ููุน ุฐูู ุ ุนูุฏ ุญุฐู ุงูุตููู ุ ูู ุชุนุฏ ุตูุญุชุงู ูู ุงูููุฑุณ "ุชูุชุตูุงู ูุนูุง" ูู ุตูุญุฉ ูุงุญุฏุฉ.  ููุฐุง ุงูุณุจุจ ุ ูุฏ ูุง ููุฎูุถ โโุญุฌู ุงูููุฑุณ ุญุชู ุฅุฐุง ุชู ุญุฐู ุฌุฒุก ูุจูุฑ ูู ุงูุจูุงูุงุช. <br><br>  ุจุทุจูุนุฉ ุงูุญุงู ุ ูุชู ุฅูุดุงุก ุงููุฒูุฏ ูู ุงูููุงุฑุณ ุนูู ุงูุทุงููุฉ ุ ููููุง ุฒุงุฏุช ุงูุตุนูุจุงุช ุงูุชู ุชูุงุฌููุง. <br><br>  ููุน ุฐูู ุ ุฅุฐุง ุชุบูุฑุช ูููุฉ ุงูุนููุฏ ุงูุฐู ูุง ููุชูู ุฅูู ุฃู ููุฑุณ ุ ููุง ูุงุฆุฏุฉ ูู ุฅูุดุงุก ุณุฌู ุฅุถุงูู ูู ุงูุดุฌุฑุฉ B ุงูุชู ุชุญุชูู ุนูู ููุณ ูููุฉ ุงูููุชุงุญ.  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ูุนูู ุจูุง ุงูุชุญุณูู ุ ูุณูู ุงูุชุญุฏูุซ ุงูุณุฑูุน - ุชุญุฏูุซ ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ููุท. <br><br>  ุจุงุณุชุฎุฏุงู ูุฐุง ุงูุชุญุฏูุซ ุ ููุฌุฏ ุฅุฏุฎุงู ูุงุญุฏ ููุท ูู ุตูุญุฉ ุงูููุฑุณ ูุดูุฑ ุฅูู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงูุตู ูู ุตูุญุฉ ุงูุฌุฏูู.  ูุจุงููุนู ุฏุงุฎู ูุฐู ุงูุตูุญุฉ ุงููุฌุฏููุฉ ุ ูุชู ุชูุธูู ุณูุณูุฉ ูู ุงูุฅุตุฏุงุฑุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชู ูุถุน ุนูุงูุฉ ุนูู ุงูุณูุงุณู ุงูุชู ุชู ุชุบููุฑูุง ูุฅุฏุฑุงุฌูุง ูู ุงูุณูุณูุฉ ูุน ุจุช ุชุญุฏูุซ ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉุ </li><li style=";text-align:right;direction:rtl">  ูุชู ุชูููุฒ ุงูุตููู ุงูุชู ูู ูุชู ุงูุฑุฌูุน ุฅูููุง ูู ุงูููุฑุณ ุจุช ุจุช Heap Only Tuple (ุฃู ุ "ููุท ุงูุฅุตุฏุงุฑ ุงููุฌุฏูู ููุตู") ุ </li><li style=";text-align:right;direction:rtl">  ูุชู ุฏุนู ุงูุฑุจุท ุงูููุชุธู ูุฅุตุฏุงุฑุงุช ุงูุณูุณูุฉ ูู ุฎูุงู ุงูุญูู ctid. </li></ul><br>  ูู ุญุงูุฉ ุฏุฎูู PostgreSQL ุฅูู ุตูุญุฉ ุฌุฏูู ุนูุฏ ูุณุญ ููุฑุณ ุ ูููุชุดู ุฅุตุฏุงุฑูุง ุชู ูุถุน ุนูุงูุฉ ุนููู ู Heap Hot ูุญุฏุซูุง ุ ููุฐุง ูุนูู ุฃูู ูุง ูุญุชุงุฌ ุฅูู ุงูุชููู ูููุถู ุฃูุซุฑ ูู ุณูุณูุฉ ุงูุชุญุฏูุซ ุจุฃููููุง.  ุจุงูุทุจุน ุ ุจุงููุณุจุฉ ูุฌููุน ุฅุตุฏุงุฑุงุช ุงูุณูุงุณู ุงูุชู ูุชู ุงูุญุตูู ุนูููุง ุจูุฐู ุงูุทุฑููุฉ ุ ูุชู ุงูุชุญูู ูู ุงูุฑุคูุฉ ูุจู ุฃู ูุชู ุฅุฑุฌุงุนูุง ุฅูู ุงูุนููู. <br><br>  ูุฅููุงุก ูุธุฑุฉ ุนูู ุชุดุบูู ุชุญุฏูุซ HOT ุ ุงุญุฐู ููุฑุณูุง ูุงุญุฐู ุงูุฌุฏูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INDEX</span></span> hot_s; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">TRUNCATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> hot;</code> </pre><br>  ูุฑุฑ ุงูุฅุฏุฑุงุฌ ูุชุญุฏูุซ ุงูุตู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'A'</span></span>); =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'B'</span></span>;</code> </pre><br>  ุฅููู ูุง ูุฑุงู ูู ุตูุญุฉ ุงูุฌุฏูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+-------+-----+-----+-------- (0,1) | normal | 3986 (c) | 3987 | t | | (0,2) (0,2) | normal | 3987 | 0 (a) | | t | (0,2) (2 rows)</code> </pre><br>  ูู ุงูุตูุญุฉ ููุงู ุณูุณูุฉ ูู ุงูุชุบููุฑุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุดูุฑ ุฅุดุงุฑุฉ ุชุญุฏูุซ Heap Hot ุฅูู ุฃูู ุจุญุงุฌุฉ ุฅูู ุงูุณูุฑ ูู ุณูุณูุฉ ctid ุ </li><li style=";text-align:right;direction:rtl">  ุชุดูุฑ ุนูุงูุฉ Heap Only Tuple ุฅูู ุฃูู ูุง ุชูุฌุฏ ุฑูุงุจุท ููุฑุณ ููุฐุง ุงูุฅุตุฏุงุฑ ูู ุงูุตู. </li></ul><br>  ูุน ูุฒูุฏ ูู ุงูุชุบููุฑุงุช ุ ุณูู ุชููู ุงูุณูุณูุฉ (ุฏุงุฎู ุงูุตูุญุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'C'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'D'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+----------+----------+-----+-----+-------- (0,1) | normal | 3986 (c) | 3987 (c) | t | | (0,2) (0,2) | normal | 3987 (c) | 3988 (c) | t | t | (0,3) (0,3) | normal | 3988 (c) | 3989 | t | t | (0,4) (0,4) | normal | 3989 | 0 (a) | | t | (0,4) (4 rows)</code> </pre><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ููุฌุฏ ูู ุงููุคุดุฑ ุฅุดุงุฑุฉ ูุงุญุฏุฉ ุฅูู "ุฑุฃุณ" ุงูุณูุณูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_id'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (0,1) (1 row)</code> </pre><br>  ูุคูุฏ ุฃู ุชุญุฏูุซุงุช HOT ุชุนูู ุฅุฐุง ูู ูุชู ุชุถููู ุงูุญููู ุงููุญุฏุซุฉ ูู ุฃู ููุฑุณ.  ุฎูุงู ุฐูู ุ ูู ุจุนุถ ุงูููุฑุณ ุณูููู ููุงู ุฑุงุจุท ูุจุงุดุฑ ุฅูู ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูู ุงูุณูุณูุฉ ุ ูุงูุฐู ูุชูุงูุถ ูุน ููุฑุฉ ูุฐุง ุงูุชุญุณูู. <br><br>  ูุนูู ุงูุชุญุณูู ููุท ุถูู ุญุฏูุฏ ุตูุญุฉ ูุงุญุฏุฉ ุ ูุฐูู ุ ูุง ูุชุทูุจ ุฃู ุชุฌุงูุฒ ุฅุถุงูู ููุณูุณูุฉ ุงููุตูู ุฅูู ุงูุตูุญุงุช ุงูุฃุฎุฑู ููุง ูุถุนู ุงูุฃุฏุงุก. <br><br><h1 style=";text-align:right;direction:rtl">  ุงูุชูุธูู ูู ุงูุตูุญุฉ ูุน ุชุญุฏูุซุงุช HOT </h1><br>  ููุงู ุญุงูุฉ ุฎุงุตุฉ ูููููุง ูููุฉ ููุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ ููู ุงูุชูุธูู ุฃุซูุงุก ุงูุชุญุฏูุซุงุช ุงูุณุงุฎูุฉ. <br><br>  ูุซู ุขุฎุฑ ูุฑุฉ ุ ุชุฌุงูุฒูุง ุจุงููุนู ุนุชุจุฉ fillfactor ุ ูุฐูู ูุฌุจ ุฃู ูุคุฏู ุงูุชุญุฏูุซ ุงูุชุงูู ุฅูู ุชูุธูู ูู ุงูุตูุญุฉ.  ูููู ูุฐู ุงููุฑุฉ ูู ุงูุตูุญุฉ ูู ุณูุณูุฉ ูู ุงูุชุญุฏูุซุงุช.  ูุฌุจ ุฃู ูุธู "ุฑุฃุณ" ูุฐู ุงูุณูุณูุฉ ุงูุณุงุฎูุฉ ุฏุงุฆููุง ูู ููุงูู ุ ุญูุซ ูุดูุฑ ุงูููุฑุณ ุฅูููุง ุ ููููู ุชุญุฑูุฑ ุจููุฉ ุงููุคุดุฑุงุช: ูู ุงููุนุฑูู ุฃูู ูู ูุชู ุงูุฑุฌูุน ุฅูููุง ูู ุงูุฎุงุฑุฌ. <br><br>  ูู ุฃุฌู ุนุฏู ููุณ "ุงูุฑุฃุณ" ุ ูุชู ุงุณุชุฎุฏุงู ุนูููุฉ ูุฒุฏูุฌุฉ: ูุชููู ุงููุคุดุฑ ุงูุฐู ูุดูุฑ ุฅููู ุงูููุฑุณ - ูู ูุฐู ุงูุญุงูุฉ (0ุ1) - ุญุงูุฉ "ุฅุนุงุฏุฉ ุงูุชูุฌูู" ุ ูุน ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุงูุฅุตุฏุงุฑ ุงููุทููุจ ูู ุงูุณูุณูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'E'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+-------+-----+-----+-------- (0,1) | redirect to 4 | | | | | (0,2) | normal | 3990 | 0 (a) | | t | (0,2) (0,3) | unused | | | | | (0,4) | normal | 3989 (c) | 3990 | t | t | (0,2) (4 rows)</code> </pre><br>  ูุฑุฌู ููุงุญุธุฉ ุฃู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชู ูุณุญ ุงูุฅุตุฏุงุฑุงุช (0ุ1) ู (0ุ2) ู (0ุ3) ุ </li><li style=";text-align:right;direction:rtl">  ุจูู ูุคุดุฑ ุงูุฑุฃุณ (0ุ1) ุ ูููู ุชููู ุญุงูุฉ ุฅุนุงุฏุฉ ุงูุชูุฌูู ุ </li><li style=";text-align:right;direction:rtl">  ุชูุช ูุชุงุจุฉ ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูู ุงูุณุทุฑ ูู ููุงูู (0.2) ุ ูุธุฑูุง ูุฃูู ุชู ุถูุงู ุนุฏู ูุฌูุฏ ุฑูุงุจุท ูู ุงูููุงุฑุณ ูุชู ุชุญุฑูุฑ ุงููุคุดุฑ (ุบูุฑ ูุณุชุฎุฏู). </li></ul><br>  ูู ุจุฅุฌุฑุงุก ุงูุชุญุฏูุซ ุนุฏุฉ ูุฑุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'F'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'G'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+----------+-----+-----+-------- (0,1) | redirect to 4 | | | | | (0,2) | normal | 3990 (c) | 3991 (c) | t | t | (0,3) (0,3) | normal | 3991 (c) | 3992 | t | t | (0,5) (0,4) | normal | 3989 (c) | 3990 (c) | t | t | (0,2) (0,5) | normal | 3992 | 0 (a) | | t | (0,5) (5 rows)</code> </pre><br>  ูุคุฏู ุงูุชุญุฏูุซ ุงูุชุงูู ูุฑุฉ ุฃุฎุฑู ุฅูู ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'H'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+-------+-----+-----+-------- (0,1) | redirect to 5 | | | | | (0,2) | normal | 3993 | 0 (a) | | t | (0,2) (0,3) | unused | | | | | (0,4) | unused | | | | | (0,5) | normal | 3992 (c) | 3993 | t | t | (0,2) (5 rows)</code> </pre><br>  ูุฑุฉ ุฃุฎุฑู ุ ูุชู ูุณุญ ุจุนุถ ุงูุฅุตุฏุงุฑุงุช ุ ูุจุงูุชุงูู ูุชู ุชุบููุฑ ุงููุคุดุฑ ุฅูู "ุงูุฑุฃุณ". <br><br>  ุงูุฎูุงุตุฉ: ูุน ูุฌูุฏ ุชุญุฏูุซุงุช ูุชูุฑุฑุฉ ููุฃุนูุฏุฉ ุฎุงุฑุฌ ุงูููุงุฑุณ ุ ูุฏ ูููู ูู ุงูููุทูู ุชูููู ูุนููุฉ fillfactor ูุญุฌุฒ ุจุนุถ ุงููุณุงุญุฉ ุนูู ุงูุตูุญุฉ ููุชุญุฏูุซุงุช.  ุจุงูุทุจุน ุ ูุฌุจ ุฃู ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃูู ูููุง ุงูุฎูุถ ุนุงูู ุงูุชุนุจุฆุฉ ุ ุชุธู ุงููุณุงุญุฉ ุบูุฑ ุงููุฎุตุตุฉ ุนูู ุงูุตูุญุฉ ุ ูุจุงูุชุงูู ุ ูุฒุฏุงุฏ ุงูุญุฌู ุงููุนูู ููุฌุฏูู. <br><br><h1 style=";text-align:right;direction:rtl">  ูุณุฑ ุณูุณูุฉ ุงูุณุงุฎูุฉ </h1><br>  ุฅุฐุง ูู ุชูู ููุงู ูุณุงุญุฉ ุฎุงููุฉ ูุงููุฉ ุนูู ุงูุตูุญุฉ ููุดุฑ ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุงูุฎุท ุ ูุณุชุชููู ุงูุณูุณูุฉ.  ุณูุชุนูู ุนูู ุฅุตุฏุงุฑ ุงูุณุทุฑ ุงูููุดูุฑ ุนูู ุตูุญุฉ ุฃุฎุฑู ุฅูุดุงุก ุฑุงุจุท ูููุตู ุนู ุงูููุฑุณ. <br><br>  ููุญุตูู ุนูู ูุฐุง ุงููููู ุ ูุจุฏุฃ ูุนุงููุฉ ููุงุฒูุฉ ููููู ุจุฅูุดุงุก ููุทุฉ ุจูุงูุงุช ูููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ISOLATION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LEVEL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPEATABLE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">READ</span></span>; | =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> hot;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">| count | ------- | 1 | (1 row)</code> </pre><br>  ูู ุชูุณุญ ููุทุฉ ุฅุตุฏุงุฑ ุงูุฃุณุทุฑ ุนูู ุงูุตูุญุฉ.  ุงูุขู ูููู ุจุฅุฌุฑุงุก ุงูุชุญุฏูุซ ูู ุงูุฌูุณุฉ ุงูุฃููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'I'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'J'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'K'</span></span>; =&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+----------+-----+-----+-------- (0,1) | redirect to 2 | | | | | (0,2) | normal | 3993 (c) | 3994 (c) | t | t | (0,3) (0,3) | normal | 3994 (c) | 3995 (c) | t | t | (0,4) (0,4) | normal | 3995 (c) | 3996 | t | t | (0,5) (0,5) | normal | 3996 | 0 (a) | | t | (0,5) (5 rows)</code> </pre><br>  ูู ุงููุฑุฉ ุงูุชุงููุฉ ุงูุชู ูุชู ูููุง ุชุญุฏูุซ ุงูุตูุญุฉ ุ ูู ูููู ููุงู ูุณุงุญุฉ ูุงููุฉ ุนูู ุงูุตูุญุฉ ุ ููู ุงูุชูุธูู ุฏุงุฎู ุงูุตูุญุฉ ูุง ููููู ุชุญุฑูุฑ ุฃู ุดูุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">UPDATE</span></span> hot <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> s = <span class="hljs-string"><span class="hljs-string">'L'</span></span>;</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">| =&gt; <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-comment"><span class="hljs-comment">--    </span></span></code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+---------------+----------+----------+-----+-----+-------- (0,1) | redirect to 2 | | | | | (0,2) | normal | 3993 (c) | 3994 (c) | t | t | (0,3) (0,3) | normal | 3994 (c) | 3995 (c) | t | t | (0,4) (0,4) | normal | 3995 (c) | 3996 (c) | t | t | (0,5) (0,5) | normal | 3996 (c) | 3997 | | t | (1,1) (5 rows)</code> </pre><br>  ูู ุงูุฅุตุฏุงุฑ (0.5) ูุฑู ุฑุงุจุทูุง ูู (1.1) ูุคุฏู ุฅูู ุงูุตูุญุฉ 1. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> heap_page(<span class="hljs-string"><span class="hljs-string">'hot'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ctid | state | xmin | xmax | hhu | hot | t_ctid -------+--------+------+-------+-----+-----+-------- (1,1) | normal | 3997 | 0 (a) | | | (1,1) (1 row)</code> </pre><br>  ููุฌุฏ ุงูุขู ุตููู ูู ุงููุคุดุฑ ุ ูุดูุฑ ูู ููููุง ุฅูู ุจุฏุงูุฉ ุณูุณูุฉ HOT: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">=&gt; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> index_page(<span class="hljs-string"><span class="hljs-string">'hot_id'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> itemoffset | ctid ------------+------- 1 | (1,1) 2 | (0,1) (2 rows)</code> </pre><br><blockquote style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ุงููุนูููุงุช ุญูู ุงูุชูุธูู ูู ุงูุตูุญุฉ ูุงูุชุญุฏูุซุงุช ุงูุณุงุฎูุฉ ุบูุฑ ููุฌูุฏุฉ ุนูููุงู ูู ุงููุซุงุฆู ุ ููุฌุจ ุงูุจุญุซ ุนู ุงูุญูููุฉ ูู ุงูููุฏ ุงููุตุฏุฑู.  ุฃูุตู ุจุงูุจุฏุก ุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">README.HOT</a> . <br></blockquote><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃู ุชุณุชูุฑ</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar449704/">https://habr.com/ru/post/ar449704/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar449688/index.html">ุงุฎุชุจุงุฑ ุฅุนุฏุงุฏุงุช sendBeacon ูุฅุฑุณุงู ุงูุจูุงูุงุช</a></li>
<li><a href="../ar449690/index.html">ุฏุงุฎู ุงููุฎุชุจุฑ ุงูุณุฑู ููุฏุฌุฑ</a></li>
<li><a href="../ar449696/index.html">ุงููุดุงุฑูุฉ ูู ุงููุณุงุจูุฉ ูุฑูุน ุชุฑุฏุฏ ุงูุชุดุบูู RAM - HyperX Memory OC Competition 2019</a></li>
<li><a href="../ar449700/index.html">ููุงุฐุง ูุชุญูู ุงููุฑูุฑ ูุฌุฃุฉ ุฅูู ุงุฒุฏุญุงู ุงููุฑูุฑ</a></li>
<li><a href="../ar449702/index.html">ุนูู ุงููุณุฑุญ ูุฑุฉ ุฃุฎุฑู ุงููุงุฆุฒูู ูู ุงููุณุงุจูุงุช ุงูุฏูููุฉ SSH ู sudo. ุจุชูุฌูู ูู ุฏููู ุงููุดุท ุฏููู ุงูุดุฑู</a></li>
<li><a href="../ar449706/index.html">ุงูุนูู ูุน KOMPAS-3D API โ ุงูุฏุฑุณ 15 โ ุงูุฎุทูุท ุงููุฑูุจุฉ ุจูุงุกู ุนูู ุงูููุฑุฉ</a></li>
<li><a href="../ar449708/index.html">Citymobil - ุฏููู ูุชุญุณูู ุงูุชูุงูุฑ ูุณุท ููู ุงูุฃุนูุงู ููุดุฑูุงุช ุงููุงุดุฆุฉ. ุงูุฌุฒุก 3</a></li>
<li><a href="../ar449712/index.html">ุงูุฃุฎุจุงุฑ ุงูุฃุณุจูุนูุฉ: ุงูุฎูุงุถ ุงูุทูุจ ุนูู ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุ ูุงุนุชูุงุฏ ูุงููู ุงูุฅูุชุฑูุช ุงูุณูุงุฏู ุ ูุฅูุชุงุฌ ูุนุฏุงุช 5G ูู ุฑูุณูุง</a></li>
<li><a href="../ar449714/index.html">ูุง ุดูุก ููุณ ุฏุงุฆููุง</a></li>
<li><a href="../ar449716/index.html">Acronis ูุฃูู ูุฑุฉ ููุชุญ ุงููุตูู ุฅูู API ูููุทูุฑูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>