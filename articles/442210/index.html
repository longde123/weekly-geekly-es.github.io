<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüöí üë©üèæ‚Äçüè´ ü§¶üèº C√≥mo decid√≠ proteger los documentos de la falsificaci√≥n e "invent√©" una firma digital electr√≥nica üçø üç∑ üç≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="De que se trata 
 La idea de crear mi propio peque√±o proyecto de Internet para proteger los documentos de la falsificaci√≥n fue motivada por una discus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo decid√≠ proteger los documentos de la falsificaci√≥n e "invent√©" una firma digital electr√≥nica</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442210/"><h2>  De que se trata </h2><br>  La idea de crear mi propio peque√±o proyecto de Internet para proteger los documentos de la falsificaci√≥n fue motivada por una discusi√≥n en el foro de defectoscopistas dedicada a la falsificaci√≥n total de las conclusiones de control de calidad que emitieron. <br><br>  Durante la implementaci√≥n de mi proyecto, me di cuenta de que llegu√© al concepto de firma digital electr√≥nica, es decir, una bicicleta, por supuesto, no la invent√©, pero la historia sobre mi camino puede ser instructiva. <br><br><h2>  Relevancia de la tarea de protecci√≥n contra falsificaciones </h2><br>  El hecho es que en nuestro siglo de informaci√≥n sin papel, ni una sola construcci√≥n de capital, ya sea un gasoducto o un centro comercial, puede prescindir de la preparaci√≥n de un conjunto completo de documentaci√≥n tal como est√° construida, que incluye conclusiones de pruebas no destructivas (visuales, radiogr√°ficas, de ultrasonido). <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/cm/7n/ee/cm7nee3ngx3tpo1yb-ihvnpregc.png"><br><br>  Esta conclusi√≥n es un documento elaborado en cierta forma con una conclusi√≥n sobre la idoneidad o no de, por ejemplo, una soldadura.  Los servicios de pruebas no destructivas cuestan dinero y, a menudo, son bastante considerables.  Un cliente / intermediario sin escr√∫pulos puede contratar un laboratorio acreditado, recibir varias opiniones de este y detener o suspender el trabajo. <br><br>  Lo que puede sorprender al operador del detector de fallas o al jefe del laboratorio cuando se enteran de que incluso despu√©s de la finalizaci√≥n del trabajo, se emiten conclusiones en su nombre, se colocan sellos falsos y firmas falsificadas.  La reputaci√≥n del laboratorio est√° sufriendo y, de hecho, se est√° violando la ley.  Es solo que en varios casos nadie lo sabr√°. <br><br>  Como parte de la discusi√≥n: c√≥mo proteger sus documentos, se expres√≥ la idea de poner un c√≥digo QR en el documento en el que se registrar√° el n√∫mero de conclusi√≥n, la fecha y la conclusi√≥n sobre la idoneidad o no idoneidad del objeto de control.  ¬øPor qu√© es bueno este m√©todo? El c√≥digo QR seguir√° siendo claramente distinguible al escanear y copiar un documento. <br><br>  Sin embargo, los estafadores tambi√©n podr√°n generar simplemente un c√≥digo QR con el contenido necesario. <br><br><h2>  El nacimiento de una idea </h2><br>  Y luego se me ocurri√≥ una idea: ¬øpor qu√© no cifrar el contenido de dicho c√≥digo QR con un algoritmo confiable?  Si es as√≠, debe encontrar una forma de descifrarlo al escanear, por ejemplo, a trav√©s de la c√°mara de un tel√©fono inteligente.  Aqu√≠ naci√≥ la idea de descifrar del lado del servicio web, que almacenar√° la clave para el descifrado. <br><br>  La √∫ltima vez que hice un sitio en 2000 en el bloc de notas y no estoy muy familiarizado con las tecnolog√≠as modernas de construcci√≥n de sitios, eleg√≠ Wix, pensando que con la ayuda del servicio obtendr√© una imagen hermosa y posibilidades m√≠nimas para trabajar con una base de datos, y con el c√≥digo Wix codificar√© eso que necesito <br><br>  Debo decir de inmediato que lo hice sin mucha dificultad y, en algunas tardes, como aficionado, pude reunir la soluci√≥n que necesitaba a partir de bloques m√°s o menos preparados. <br><br><h2>  Cifrado </h2><br>  Tom√© el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">algoritmo de</a> encriptaci√≥n AES de 128 bits con la implementaci√≥n de Java Script en Github y lo coloqu√© en la secci√≥n de fondo del sitio. <br><br>  Esta fue quiz√°s la parte m√°s f√°cil del trabajo.  C√≥mo funciona el cifrado en s√≠ mismo no fue del todo desinteresado para m√≠.  Estaba preocupado por la grandeza del plan. <br><br>  Lo principal es no olvidar traducir el texto codificado a Bytes, y el resultado del cifrado en HEX. <br><br><pre><code class="plaintext hljs">// Convert text to bytes var textBytes = aesjs.utils.utf8.toBytes(text); // The counter is optional, and if omitted will begin at 1 var aesCtr = new aesjs.ModeOfOperation.ctr(key, new aesjs.Counter(5)); var encryptedBytes = aesCtr.encrypt(textBytes); // To print or store the binary data, you may convert it to hex var encryptedHex = aesjs.utils.hex.fromBytes(encryptedBytes);</code> </pre> <br><h2>  Generaci√≥n de c√≥digo QR </h2><br>  Us√© la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">API ya</a> hecha. <br><br>  Para trabajar, simplemente cree un objeto html1: para mostrar un c√≥digo html arbitrario y llamar a la funci√≥n API <br><br><pre> <code class="plaintext hljs">let val = ‚Äú " $w("#html1").src = "https://api.qrserver.com/v1/create-qr-code/?size=100x100&amp;data=" + val.toString(); $w("#html1").show();</code> </pre> <br><h2>  Trabajar con los usuarios </h2><br>  Wix admite funciones b√°sicas de registro de usuarios y edici√≥n de perfiles.  La herramienta es algo defectuosa, pero viable. <br><br>  Solo necesitaba agregar un campo que describa el nombre de la organizaci√≥n que representa el usuario registrado, pero este campo es de solo lectura y el administrador del servicio lo completa cuando recibe la confirmaci√≥n de que el usuario registrado realmente representa la organizaci√≥n especificada. <br><br>  Tambi√©n fue necesario ajustar la l√≥gica m√°s simple asociada con el acceso pagado / gratuito a las funciones (se pueden proteger hasta 20 documentos por mes de forma gratuita) y el plazo para pagar los servicios. <br><h2>  Principio de funcionamiento </h2><br>  Una clave de cifrado privada √∫nica est√° vinculada a la cuenta del usuario. <br><br>  Un usuario conectado completa un formulario con informaci√≥n sobre la conclusi√≥n (n√∫mero, fecha, resultado): <br><br><img src="https://habrastorage.org/webt/fo/id/ct/foidct3dccu6c3_6lorfm6c7pai.png"><br><br>  Luego, el algoritmo devuelve una URL que contiene el texto cifrado TEXTO y act√∫a como la clave p√∫blica USER_ID, como en el siguiente ejemplo: <br><br> <code>https:// <i>* *</i> /checkqr?user=3b01b0aa-68a0-4521-ab12-f17b86d3eabc&amp;v=1.0&amp;text=8a026594c26be959f4280e28fe8402c1acef233e369a31613d654d3b0a5bbaca206f3058d27d2fde66b65cb64a5a6caecb69b07ad39c0015e923dad89eb723</code> <br> <br>  La URL se convierte en un c√≥digo QR, que el usuario ya coloca en su documento copi√°ndolo en el portapapeles (puede incluirlo en el archivo de origen o pegarlo como una pegatina en un documento impreso terminado). <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/lp/f-/0o/lpf-0ojmmbrd1bh7ylqqa-pmyzu.png"></a> <br><br>  Lo que es importante aqu√≠: como tal, la informaci√≥n no ingresa a la base de datos del sitio, sino que solo permanece en la forma de este enlace y un c√≥digo QR que contiene este enlace.  Por lo tanto, no se almacena informaci√≥n sobre el contenido del documento protegido en el servidor. <br><br><h2>  El sitio verifica el c√≥digo al analizar el enlace </h2><br>  Para analizar cuando un sitio reconoce un enlace, utilic√© la ayuda sobre el c√≥digo Wix <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://www.wix.com/code/reference/wix-">www.wix.com/code/reference/wix-http-functions.html</a> <br><br>  Si algo sali√≥ mal durante el descifrado, podr√≠a ser si se hicieron algunos cambios en el c√≥digo QR original <br><blockquote>  ‚ÄúEl c√≥digo del documento fue descifrado con un error.  Posible falso.  P√≥ngase en contacto con la organizaci√≥n que prepar√≥ el documento para su aclaraci√≥n ". </blockquote>  Si el descifrado se completa con √©xito, se emite el texto descifrado que contiene el nombre del laboratorio, el n√∫mero de documento, la fecha de emisi√≥n y el resultado, y se le pide al usuario que compare el resultado del descifrado con lo que ve en el documento real. <br><br><h2>  Conclusi√≥n </h2><br>  Desde el nacimiento de la idea, con la ayuda de varios ladrillos prefabricados, llegu√© a una implementaci√≥n funcional. <br><br>  Los invito a una discusi√≥n sobre la idea que se me ocurri√≥, un intento de probar / piratear mi servicio. <br><br><h4>  Lo que queda por completar </h4><br><ul><li>  <s>Escriba sobre los resultados de la implementaci√≥n en habr</s> </li><li>  Comprenda c√≥mo restablecer la consulta si ya ha habido una comprobaci√≥n de enlace una vez </li><li>  Para descubrir c√≥mo reducir el texto cifrado, porque cuando se codifica una URL larga, el tama√±o del c√≥digo QR es demasiado grande </li><li>  Agregue la capacidad de copiar c√≥digo al portapapeles o enviarlo por correo electr√≥nico con solo hacer clic en un bot√≥n (hasta que descubra c√≥mo hacerlo en JavaScript) </li><li>  Mejora el trabajo con la versi√≥n m√≥vil </li></ul><br><h4>  Respuesta preliminar a posibles cr√≠ticas: </h4><br><blockquote>  ¬øNo es m√°s f√°cil para un laboratorio mantener un registro de conclusiones en su sitio web, y una etiqueta QR similar conducir√° a este registro o incluso mostrar√° una copia del informe? </blockquote>  Esto se puede hacer, pero se requerir√° un trabajo manual significativo o la introducci√≥n de su propia soluci√≥n de TI como la desarrollada por m√≠, pero obviamente costar√° m√°s que usar una soluci√≥n preparada. <br><br>  Es imposible hacer que dicho registro sea completamente accesible al p√∫blico, porque la informaci√≥n no es p√∫blica, pero solo puede ser considerada por el contratista, el cliente y Rostekhnadzor. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/442210/">https://habr.com/ru/post/442210/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442200/index.html">Misi√≥n lunar Bereshit: los ingenieros de SpaceIL e Israel Aerospace Industries (IAI) MCC resolvieron los problemas</a></li>
<li><a href="../442202/index.html">Notificaciones push del servidor SpringBoot</a></li>
<li><a href="../442204/index.html">Computadora port√°til Compaq LTE 5000, primera parte: presentaci√≥n</a></li>
<li><a href="../442206/index.html">Preparaci√≥n para la inspecci√≥n de Roskomnadzor: pr√°ctica dura para los valientes</a></li>
<li><a href="../442208/index.html">Publicar errores tipogr√°ficos en publicaciones</a></li>
<li><a href="../442212/index.html">Resumen de ciencia de datos</a></li>
<li><a href="../442214/index.html">C√≥mo establecemos la estaci√≥n base de mayor altitud en Europa del Este</a></li>
<li><a href="../442218/index.html">FunTech iOS-meetup # 1</a></li>
<li><a href="../442222/index.html">Perversiones curiosas del mundo de TI - 3</a></li>
<li><a href="../442224/index.html">Mal consejo: ¬øc√≥mo escribir documentaci√≥n t√©cnica? Parte dos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>