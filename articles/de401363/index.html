<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüî¨ üòº üåö Dunkle Seite MH-Z19 üìß üë©üèº‚Äçü§ù‚Äçüë®üèø üë®üèø‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Was nochmal?  Wie viel kannst du?
 
 Ja, heute sprechen wir noch einmal √ºber unseren beliebten Kohlendioxidsensor Winsen MH-Z19. Nein, es wird keine W...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dunkle Seite MH-Z19</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401363/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was nochmal? </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie viel kannst du?</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ja, heute sprechen wir noch einmal √ºber unseren beliebten Kohlendioxidsensor Winsen MH-Z19. Nein, es wird keine Wiederholungen geben *. </font></font><br>
<br>
<img src="https://habrastorage.org/files/fbf/b65/069/fbfb65069dd446b180901d854abd0dd1.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fast * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie auf den Seiten dieser Ressource sehen regelm√§√üig erscheinen </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Horror </font></font></s> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ºber die Gefahren einer hohen Konzentration von CO2 in den Raum. Und obwohl Behauptungen, dass Konzentrationen √ºber 1000 ppm die H√∂lle und den Tod mit sich bringen, leicht √ºbertrieben sind ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sagt, dass zumindest einige Effekte mit 1% beginnen, das sind 10.000 ppm, w√§hrend der Sensor den gesamten Bereich von 5000 ppm hat) - CO2 kann dienen als Indikator f√ºr das Vorhandensein anderer schlechter Dinge aufgrund unzureichender Bel√ºftung. Deshalb habe ich mich auch f√ºr die faszinierende Welt der CO2-Metrie entschieden und den genannten Sensor in die Hand genommen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als erstes habe ich es nat√ºrlich mit Arduino verbunden. </font><font style="vertical-align: inherit;">Ich habe (mit den notwendigen √Ñnderungen) den Code aus dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kopiert </font><font style="vertical-align: inherit;">, die gesch√§tzten Zahlen erschienen auf dem Bildschirm. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber w√§hrend ich es kopierte, kroch ein Wurm des Zweifels in meine Seele - warum gab dieser Sensor neun Bytes aus und nur zwei Bytes erkl√§ren CO2 von ihnen? </font><font style="vertical-align: inherit;">Vielleicht will er mir noch etwas sagen?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Suche im Internet f√ºhrte mich zu einer so </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interessanten Seite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Der Autor experimentiert mit dem MH-Z19 und zeigt seine Reaktion auf undokumentierte (und dokumentierte) Befehle. </font><font style="vertical-align: inherit;">Er hat noch nicht alle Teams ausprobiert, daher kann unser Teil noch herumtollen. </font><font style="vertical-align: inherit;">Das werden wir tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst besch√§ftigen wir uns mit dem ‚Äûklassischen‚Äú Team 0x86 (oder einfach 134), mit dem wir die CO2-Konzentration erhalten. </font><font style="vertical-align: inherit;">Revspace-Berichte:</font></font><br>
<br>
<blockquote>A response to command 0x86 typically looks like this:<br>
0xFF CM HH LL TT SS Uh Ul CS<br>
where<br>
CM is the command repeated back<br>
HH/LL is the CO2 ppm value, high/low part<br>
TT is the temperature in degrees Celcius, plus 40. For example, when temperature is 25 deg C, then TT = 0x41<br>
SS is some kind of status byte, this byte always has only one bit set!<br>
Uh/Ul is some unknown value, perhaps related to pressure? After booting the sensor, it starts out at 15000 exactly, then typically settles to about 10500.<br>
Cs is the checksum</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das hei√üt, die Antwort des Sensors auf diesen Befehl enth√§lt auch die Temperatur T (um 40 Grad verschoben) und zwei unbekannte Zielwerte - ein Byte S und zwei Byte U. S nimmt Werte von zwei Grad an, und U f√§llt beim Starten des Sensors von 15.000 auf etwas mehr als 10 ab 000. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie kann man verstehen, was die Zahlen S und U bedeuten? </font><font style="vertical-align: inherit;">Nat√ºrlich m√ºssen Sie eine Grafik zeichnen! </font><font style="vertical-align: inherit;">Zeichnen Sie in jeder unverst√§ndlichen Situation ein Diagramm.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Langweilige technische Details</font></font></b><div class="spoiler_text">   ,       .      Serial.println().            USB-UART,          .    ( ) :<br>
<br>
<pre><code class="bash hljs">rlwrap cat | cu -l /dev/ttyACM0 &gt; sensor_$(date <span class="hljs-string"><span class="hljs-string">'+%Y%m%d_%H%M%S'</span></span>).<span class="hljs-built_in"><span class="hljs-built_in">log</span></span></code></pre><br>
<br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text">,  ,     cat /dev/ttyACM0 &gt; ..,  -       ,      .   (rlwrap cat | cu -l /dev/ttyACM0)    ,          (       ).        ,  ,  ,   .<br>
</div></div><br>
          :<br>
<br>
<pre><code class="hljs pgsql">tail -f sensor_.<span class="hljs-keyword"><span class="hljs-keyword">log</span></span></code></pre><br>
     :<br>
<br>
<pre><code class="hljs erlang">...
<span class="hljs-number"><span class="hljs-number">1188</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> 
<span class="hljs-number"><span class="hljs-number">1188</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> 
<span class="hljs-number"><span class="hljs-number">1190</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> 
<span class="hljs-number"><span class="hljs-number">1191</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> 
<span class="hljs-number"><span class="hljs-number">1192</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> 
<span class="hljs-number"><span class="hljs-number">1193</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> 
<span class="hljs-number"><span class="hljs-number">1195</span></span> <span class="hljs-number"><span class="hljs-number">62</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-number"><span class="hljs-number">38</span></span> <span class="hljs-number"><span class="hljs-number">10790</span></span> 
...</code></pre><br>
   ‚Äî CO2, T, S, U (U   ‚Äî      ,   ).<br>
<br>
    .       ipython --pylab.<br>
<br>
<pre><code class="python hljs">y = map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: map(int, a.split()), open(<span class="hljs-string"><span class="hljs-string">"sensor1.log"</span></span>, <span class="hljs-string"><span class="hljs-string">"r"</span></span>).readlines()) <span class="hljs-comment"><span class="hljs-comment">#     ,     ,   </span></span><font></font>
yt = transpose(y)<font></font>
x = arange(len(yt[<span class="hljs-number"><span class="hljs-number">0</span></span>])) / <span class="hljs-number"><span class="hljs-number">720.</span></span> <span class="hljs-comment"><span class="hljs-comment">#    ,       </span></span><font></font>
figure()<font></font>
plot(x, yt[<span class="hljs-number"><span class="hljs-number">0</span></span>]) <span class="hljs-comment"><span class="hljs-comment"># CO2</span></span>
figure(); plot(x, yt[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-string"><span class="hljs-string">"g"</span></span>); <span class="hljs-comment"><span class="hljs-comment"># T</span></span>
figure(); plot(x, yt[<span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-string"><span class="hljs-string">"r"</span></span>); <span class="hljs-comment"><span class="hljs-comment"># S</span></span>
figure(); plot(x, yt[<span class="hljs-number"><span class="hljs-number">-1</span></span>], <span class="hljs-string"><span class="hljs-string">"m"</span></span>); <span class="hljs-comment"><span class="hljs-comment"># U</span></span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also der CO2-Graph: </font></font><br>
<img src="https://habrastorage.org/files/bb5/58b/958/bb558b958d4b484c9b70307c3f05d8e1.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Prinzip scheint es die Wahrheit zu sein. Traurig nur periodische Ausbr√ºche. Es scheint, dass dies daran liegt, dass der Sensor einfach auf dem Tisch liegt und mit der geringsten Brise seine Messwerte verloren gehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temperatur: </font></font><br>
<img src="https://habrastorage.org/files/793/05e/1be/79305e1be11a4a69a29ef67608b2ad47.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Moment, in dem ich das Fenster ge√∂ffnet habe, ist deutlich sichtbar. Schwenkt um 1 - 2 Grad, was f√ºr eine undokumentierte Gelegenheit nicht schlecht ist. Wenn Sie sich jedoch an das </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">NDIR-</font></a><font style="vertical-align: inherit;"> Prinzip erinnern</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Sensor, Sie k√∂nnen verstehen, dass Sie vom eingebauten Thermometer keine hohe Genauigkeit erwarten sollten. Diese Instrumente messen die Absorption von Licht im fernen Infrarotbereich, und Ilyichs gute alte Gl√ºhbirne wird verwendet, um dieses Licht zu erzeugen, und Sie k√∂nnen sogar durch die Fenster sehen, wie es alle f√ºnf Sekunden aufleuchtet (ein solcher Moment wird vom KDPV erfasst). Und diese Gl√ºhbirne verbraucht viel Energie und erw√§rmt dadurch den gesamten Sensor. Wie stark er sich erw√§rmt, h√§ngt von der momentanen Konjunktur der Luftstr√∂me ab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir n√§hern uns den interessantesten. Wert S: </font></font><br>
<img src="https://habrastorage.org/files/739/510/7bd/7395107bd5e94483a0e746cfe94c3580.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sagt nichts? Mir auch. Mit Trauer zeichnen wir CO2 und S in derselben Grafik und erh√∂hen leicht:</font></font><br>
<img src="https://habrastorage.org/files/c34/f9d/634/c34f9d63486441ae971fc9b76de17566.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja! Jetzt ist alles klar! Wenn alles in Ordnung ist, ist S 64, und wenn der CO2-Sensor zu w√ºrfeln beginnt, f√§llt er auf 4. Mit S k√∂nnen Sie also herausfinden, wie gut sich der Sensor anf√ºhlt und wie genau seine Messwerte sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt, wie die Fallschirmj√§ger sagen, der Extremwert U: </font></font><br>
<img src="https://habrastorage.org/files/75f/af7/b52/75faf7b522b840968649ca3163900f4a.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider macht der Fokus mit der √úberlagerung hier wenig. Es ist nur sichtbar, dass es, wie versprochen, am Anfang 15.000 entspricht und dann auf etwas mehr als 10.000 abf√§llt (aber es kann nach langer Zeit ein wenig fallen). Und einmal am Tag wiederholt sich der Zyklus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber als ich die Sensorleistung nicht an 5, sondern an 3,3 Volt Arduino anschloss, √§nderte sich die Situation:</font></font><br>
<img src="https://habrastorage.org/files/3f6/765/09e/3f676509e04e4530a0e96794c5aff651.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3,3 Volt am Arduino werden vom LP2985-Chip entnommen, der ein linearer Stabilisator mit 160 Milliampere ist. Und die Gl√ºhbirne frisst nach den Artikeln im Internet ungef√§hr so ‚Äã‚Äãviel. Beim Betrachten des Sensors f√§llt auf, dass die Gl√ºhbirne mit diesem Netzteil l√§nger aufleuchtet als bei f√ºnf Volt. Und der Wert von U ist eineinhalb Mal h√∂her. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgende Hypothese stellt sich heraus: Der Sensor ermittelt automatisch, wie lange es dauert, bis die Gl√ºhbirne angez√ºndet ist, um gen√ºgend Infrarotstrahlung zu erhalten. Wenn nicht gen√ºgend Strom vorhanden ist, brennt er die Gl√ºhbirne l√§nger. Und der Wert von U spiegelt nur die Brenndauer der Gl√ºhbirne wider (oder einen anderen verwandten Wert, zum Beispiel den Energieverbrauch). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um diese Annahme zu testen, versorgen wir den Sensor mit einer Lithium-Ionen-Batterie, die offensichtlich einen viel gr√∂√üeren Strom erzeugen kann:</font></font><br>
<img src="https://habrastorage.org/files/4de/df5/1cc/4dedf51cc236498787bec68a5673b17a.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Tat f√§llt U manchmal unter 10.000! </font><font style="vertical-align: inherit;">Dies ist jedoch offensichtlich kein absoluter Beweis, und nach 24 Stunden wird fast das Gegenteil. </font><font style="vertical-align: inherit;">Die Hypothese bleibt also nur eine Hypothese, aber ich habe mir nichts Besseres ausgedacht. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lieber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unsvp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> noch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gel√∂st</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das R√§tsel des Wertes von U. Ich gebe ihm das Wort:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Wert von U ist offensichtlich der Mindestwert der gemessenen Absorption von IR-CO2 pro Tag in einigen internen Ma√üeinheiten.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nichts hinzuzuf√ºgen, au√üer vielleicht den Zeitplan: </font></font><br>
<img src="https://habrastorage.org/files/a10/338/7ce/a103387ce60f4df38695e4842a06feae.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum habe ich nicht selbst daran gedacht? </font><font style="vertical-align: inherit;">Alles ist einfach. </font><font style="vertical-align: inherit;">Ich habe ein Diagramm mit vier Werten gleichzeitig gezeichnet und mich darauf festgelegt. </font><font style="vertical-align: inherit;">Es war jedoch notwendig, zwei Gr√∂√üen zu zeichnen (wie im obigen Bild), dann w√ºrde fremder M√ºll angesichts der Gr√∂√üe S die Wahrnehmung nicht beeintr√§chtigen. </font><font style="vertical-align: inherit;">Wiederhole meine Fehler nicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht f√ºge ich Folgendes hinzu: Sehen Sie nach 48 Stunden einen Schritt gr√∂√üer als 1000 ppm? Dieser Sensor wird so automatisch kalibriert. In diesem Fall fiel der Wert von U im Vergleich zu dem vor der Kalibrierung. Es ist offensichtlich, dass die tats√§chliche CO2-Konzentration in diesem Zeitraum nur zugenommen hat. Die Schlussfolgerung daraus ist sehr einfach: Der U-Wert ist kein sehr ‚Äûroher‚Äú Absorptionswert, sondern wird bereits f√ºr die aktuelle Kalibrierung angepasst berechnet, was anscheinend einen gewissen Unterschied in den Mindestwerten im aktuellen und vorherigen Kalibrierungszyklus darstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen ist meiner Meinung nach die automatische Kalibrierung (zumindest in der Form, in der sie im MH-Z19 implementiert ist) b√∂se. Revspace gibt an, dass es mit dem Befehl 0x79: ABC-Logik ein / aus deaktiviert werden kann. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ UPD</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, mit einem Team erledigt. </font><font style="vertical-align: inherit;">Es ist Zeit, weiter zu gehen, und dann n√§hert sich der Artikel dem Ende und weitere 255 Teams wurden nicht getestet! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revspace-Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> endet </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">die</font></a><font style="vertical-align: inherit;"> Liste der getesteten Befehle wie </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">folgt</font></a><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Befehl 0x89-0x8F </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird keine Antwort zur√ºckgegeben, jedoch scheint der Befehl 0x8d den Sensor zur√ºckzusetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Befehl 0x99 (Bereich) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au√üerdem werden nicht alle Teams mit niedrigeren Zahlen verifiziert. </font><font style="vertical-align: inherit;">Somit bleibt etwas mehr als die H√§lfte der Gesamtzahl unbekannter Teams √ºbrig. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ohne weiteres habe ich beschlossen, Befehle zuf√§llig zu geben (genauer gesagt pseudozuf√§llig). </font><font style="vertical-align: inherit;">Und hier ist was ich habe:</font></font><br>
<br>
<pre><code class="hljs perl">...<font></font>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">47</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">208</span></span>  Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 17 0 0 0 0 0 238  Response: 0 0 0 0 0 0 0 0 0  CRC: 00 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0
Command: 255 1 45 0 0 0 0 0 210  Response: 0 0 0 0 0 0 0 0 0  CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">250</span></span>  Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 88 0 0 0 0 0 167  Response: 0 0 0 0 0 0 0 0 0  CRC: 00 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0
Command: 255 1 245 0 0 0 0 0 10  Response: 0 0 0 0 0 0 0 0 0  CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">107</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">148</span></span>  Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 214 0 0 0 0 0 41  Response: 0 0 0 0 0 0 0 0 0  CRC: 00 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0
Command: 255 1 136 0 0 0 0 0 119  Response: 0 0 0 0 0 0 0 0 0  CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">248</span></span>  Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">00</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 153 0 0 0 0 0 102  Response: 255 153 1 0 0 0 0 0 102  CRC: 102102 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 256 0 0 0
Command: 255 1 146 0 0 0 0 0 109  Response: 0 0 0 0 0 0 0 0 0  CRC: 00 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">72</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">183</span></span>  Response: <span class="hljs-number"><span class="hljs-number">96</span></span> <span class="hljs-number"><span class="hljs-number">249</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">211</span></span> <span class="hljs-number"><span class="hljs-number">215</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">215</span></span> <span class="hljs-number"><span class="hljs-number">204</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">159204</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 723 215 212 4567
Command: 255 1 51 0 0 0 0 0 204  Response: 93 151 80 143 212 255 255 255 217  CRC: 185217 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 20623 212 255 -1
Command: 255 1 98 0 0 0 0 0 157  Response: 16 136 252 75 66 50 48 48 13  CRC: 9313 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: -<span class="hljs-number"><span class="hljs-number">949</span></span> <span class="hljs-number"><span class="hljs-number">66</span></span> <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-number"><span class="hljs-number">12336</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">65</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">190</span></span>  Response: <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 243 0 0 0 0 0 12  Response: 0 0 0 0 0 0 0 0 0  CRC: 0 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0
Command: 255 1 13 0 0 0 0 0 242  Response: 0 0 0 0 0 0 0 0 0  CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">35</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">220</span></span>  Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 229 0 0 0 0 0 26  Response: 0 0 0 0 0 0 0 0 0  CRC: 0 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0
Command: 255 1 95 0 0 0 0 0 160  Response: 0 0 0 0 0 0 0 0 0  CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">48</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">207</span></span>  Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 209 0 0 0 0 0 46  Response: 0 0 0 0 0 0 0 0 0  CRC: 0 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0
Command: 255 1 200 0 0 0 0 0 55  Response: 0 0 0 0 0 0 0 0 0  CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier wurde der Befehl an den Sensor gesendet (die Befehlsnummer selbst ist die dritte Nummer von Anfang an). Die Antwort ist die Antwort des Sensors. Sie k√∂nnen den Rest nicht betrachten (CRC ist die berechnete / tats√§chliche Pr√ºfsumme, CO2 / t / s / u ist das Aufschl√ºsselungsergebnis Sensorantwort auf vier Zahlen, als w√ºrde sie auf einen "Standard" -Befehl reagieren). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen k√∂nnen, nicht viel. Dar√ºber hinaus weigerte sich der Sensor irgendwann v√∂llig, etwas anderes als Nullen auszugeben. Das Letzte, was ich vom Sensor bekam, war:</font></font><br>
<br>
<pre><code class="hljs perl">Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">134</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">121</span></span>  Response: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: 0 0 0 0
Command: 255 1 130 0 0 0 0 0 125  Response: 242 98 200 201 207 216 178 130 33  CRC: 50 33 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: -14135 207 216 -19838
Command: 255 1 134 0 0 0 0 0 121  Response: 204 91 151 80 143 212 255 255 236  CRC: 93 236 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: -<span class="hljs-number"><span class="hljs-number">26800</span></span> <span class="hljs-number"><span class="hljs-number">143</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> -<span class="hljs-number"><span class="hljs-number">1</span></span>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">55</span></span>  Response: <span class="hljs-number"><span class="hljs-number">181</span></span> <span class="hljs-number"><span class="hljs-number">156</span></span> <span class="hljs-number"><span class="hljs-number">252</span></span> <span class="hljs-number"><span class="hljs-number">77</span></span> <span class="hljs-number"><span class="hljs-number">79</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">66</span></span> <span class="hljs-number"><span class="hljs-number">85</span></span> <span class="hljs-number"><span class="hljs-number">83</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">241</span></span> <span class="hljs-number"><span class="hljs-number">83</span></span> CO2/t/<span class="hljs-regexp"><span class="hljs-regexp">s/u: -947 79 68 16981
Command: 255 1 134 0 0 0 0 0 121  Response: 13 10 0 0 0 0 0 0 0  CRC: 246 0 CO2/t/s</span></span><span class="hljs-regexp"><span class="hljs-regexp">/u: 0 0 0 0
Command: 255 1 216 0 0 0 0 0 39  Response: 0 0 0 0 0 0 0 0 0  CRC: 0 0 CO2/t</span></span><span class="hljs-regexp"><span class="hljs-regexp">/s/u</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann Nullen. Ich habe versucht, Befehle nacheinander einzugeben, beginnend mit 0x8e - wieder Nullen. Ich habe versucht, den "Standard" -Befehl 0x86 - Nullen zu geben. Habe ich den Sensor abgeschaltet? In Wahrheit sind alle Voraussetzungen daf√ºr gegeben - ich gebe kleine undokumentierte Befehle ein, also verbinde ich auch die Sensorschnittstelle direkt mit dem F√ºnf-Volt-Arduin, obwohl das Datenblatt ausdr√ºcklich angibt, dass es f√ºr 3,3 Volt ausgelegt ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst habe ich das gute alte Rezept eines jeden Enikeyshchik ausprobiert - schalte es aus und wieder ein. Das hei√üt, er nahm es heraus und steckte es an den Sensor plus Strom, w√§hrend alles andere funktionierte. Der Sensor produzierte ungef√§hr das gleiche wie in der letzten zitierten Passage (jedoch mit leicht unterschiedlichen Zahlen). Ja, das bedeutet, dass der Sensor nicht vollst√§ndig abgestorben ist und bei jedem Start etwas sagt, vermuteten die Shtirlits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann gab ich meinem Gehirn etwas mehr und vermutete noch vor einer Wahrheit - diese Nullen, die wir oben gesehen haben, sind √ºberhaupt nicht die Antwort des Sensors. Tats√§chlich ist der Sensor stumm und mein Programm zeichnet, was die Arduin-Funktion des Empfangens von n Bytes ausgegeben hat (um Nullen zu sagen). Und wenn jedes Mal vor dem Empfang sichergestellt wird, dass etwas zu nehmen ist, stellt sich heraus, dass es nichts zu akzeptieren gibt. Au√üer in F√§llen, in denen der Sensor gerade neu gestartet wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellt sich heraus, dass der Sensor keine Befehle mehr akzeptiert. Anscheinend waren 5 Volt an der seriellen Schnittstelle nicht umsonst. Ja, der Artikel hat irgendwie nicht gefragt. Vielen Dank f√ºr Ihre Aufmerksamkeit. Wir sind uns nicht einig, es gibt nichts zu sehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ah warte ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sehen Sie diese Zahlen am Ende?</font></font><br>
<br>
<pre><code class="hljs">13 10</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ñhnelt nichts? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist nat√ºrlich ein guter alter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeilenvorschub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font><font style="vertical-align: inherit;">Mit anderen Worten, 0x0D 0x0A - dies ist die Methode zum √úbersetzen einer Zeichenfolge, beispielsweise unter Windows (und unter Unix ist dies einfacher - 0x0A, da einige Dateien beim √ñffnen in einem Windows-Notizbuch Zeilenumbr√ºche verlieren). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht m√∂chte der Sensor uns etwas in menschlicher Sprache sagen? </font><font style="vertical-align: inherit;">Wenn diese Sprache jedoch Chinesisch ist, hilft es mir nicht viel. </font><font style="vertical-align: inherit;">Hoffen wir also, dass dies eine verst√§ndlichere Sprache ist, und dekodieren Sie die Nachricht gem√§√ü der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASCII-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tabelle </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> reduce(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a, b: a + b, map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: chr(int(a)), <span class="hljs-string"><span class="hljs-string">"255 255 255 250 24 220 207 254 77 79 68 66 85 83 13 10"</span></span>.split()))<font></font>
        MODBUS</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erhielt bis zu sechs Briefe. </font><font style="vertical-align: inherit;">Und hier ist, was derselbe Sensor beim Laden etwas fr√ºher sagte:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> reduce(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a, b: a + b, map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> a: chr(int(a)), <span class="hljs-string"><span class="hljs-string">"96 249 2 211 215 212 17 215 204  93 151 80 143 212 255 255 255 217  16 136 252 75 66 50 48 48 13  10 "</span></span>.split()))<font></font>
`        ] P         KB200</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Unterschied liegt auf der Hand - Zeile KB200 wurde in Zeile MODBUS ge√§ndert. Der Rest - es scheint, dass es √ºberhaupt kein Text ist, nicht einmal chinesische Schriftzeichen - schon allein deshalb, weil sich die meisten von Zeit zu Zeit √§ndern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sagt uns der Sensor? Auf Anfrage von KB200 erzeugt eine Internetsuche eine Tastatur, einen Core-Sampler, ein B√ºgeleisen, einen Wickeltisch, eine Steuerung zur Steuerung von PTZ-Kameras und einen Mixer, mit Ausnahme einer kahlen. Nun, aber es ist nicht klar, wie dieses Wissen auf unseren Fall angewendet werden soll. Nun, suchen wir nach MODBUS. Diesmal steht </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> selbst zu unseren Diensten </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modbus ist ein offenes Kommunikationsprotokoll, das auf der Master-Slave-Architektur basiert. </font><font style="vertical-align: inherit;">Es wird in der Industrie h√§ufig zur Organisation der Kommunikation zwischen elektronischen Ger√§ten verwendet. </font><font style="vertical-align: inherit;">Es kann zur Daten√ºbertragung √ºber die seriellen Kommunikationsleitungen RS-485, RS-422, RS-232 sowie ein TCP / IP-Netzwerk (Modbus TCP) verwendet werden.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hypothese selbst bietet sich an - nach einem der undokumentierten Befehle hat der Sensor auf das Modbus-Protokoll umgeschaltet und informiert uns nun mit den verf√ºgbaren Methoden dar√ºber. </font><font style="vertical-align: inherit;">Da keine anderen Optionen vorgesehen sind, werden wir diese Hypothese direkt testen, dh versuchen, den Sensor √ºber Modbus zu kontaktieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Internet wurde eine </font><font style="vertical-align: inherit;">Modbus- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementierung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr Arduine </font><font style="vertical-align: inherit;">gefunden </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aber das ist ein Pech - Arduino Leonardo wird nicht unterst√ºtzt, aber ich habe zuf√§llig nur Leonardo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wie ich bald merkte, ist dies sogar das Beste. </font><font style="vertical-align: inherit;">Das Modbus-Protokoll ist so einfach wie drei Cent. </font><font style="vertical-align: inherit;">Und au√üerdem schmerzlich √§hnlich dem "nativen" Protokoll MH-Z19. </font><font style="vertical-align: inherit;">Warum also b√∂se Dinge aus dem Internet ziehen und sie schmerzhaft verstehen, wenn Sie alles, was Sie brauchen, in zwei Minuten (also zwei Stunden) selbst implementieren k√∂nnen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Messwerte herauszufinden, haben wir den Sensor zuvor gebeten, sie wie folgt auszugeben:</font></font><br>
<br>
<pre><code class="hljs">0xFF, 0x01, 0x86, 0x00, 0x00, 0x00, 0x00, 0x00, 0x79</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oder in Dezimalzahl:</font></font><br>
<br>
<pre><code class="hljs">255, 1, 134, 0, 0, 0, 0, 0, 121</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wobei 255 die magische Zahl ist, 1 die Sensoradresse ist, 134 der Befehl ist, 121 das Byte der Pr√ºfsumme ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wie wird es in Modbus aussehen? </font><font style="vertical-align: inherit;">Es wird keine genaue √úbereinstimmung geben, aber Sie k√∂nnen zum Beispiel Folgendes tun:</font></font><br>
<br>
<pre><code class="hljs">1, 4, 0, 0, 0, 4, 213, 197</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 - Sensoradresse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 - Teamnummer. Befehle in Modbus k√∂nnen an den Fingern gez√§hlt werden, und bisher werden wir nur an zwei von ihnen interessiert sein - 3 und 4. Aus Gr√ºnden, die im Dunkeln der Jahrhunderte verborgen sind, werden sie als Read Multiple Holding Registers und Read Input Registers bezeichnet, aber tats√§chlich geben sie einen Befehl zum Lesen eines bestimmten Registers die Anzahl der Doppelbyte-Nummern an einer bestimmten Adresse. Befehl 3 liest die zum Lesen / Schreiben verf√ºgbaren Zahlen und Befehl 4 liest nur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0, 0 ist die Adresse, die wir lesen werden (in diesem Fall 0). Wenn Sie dieselbe Adresse mit einem Team von 3 oder 4 Personen festlegen, erhalten wir im Allgemeinen unterschiedliche Ergebnisse.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0, 4 - die Anzahl der Zahlen, die wir lesen m√∂chten (in diesem Fall 4). Hier ist ein lustiger Moment. Obwohl Sie diese Nummer bis zu 65535 angeben k√∂nnen, k√∂nnen Sie mit dem Protokoll nicht mehr als 125 Nummern gleichzeitig lesen. Und das alles, weil die Antwort die Anzahl der Bytes der gesendeten Informationen angibt und nur ein Byte ben√∂tigt (und die Zahlen zwei Byte sind). Soweit ich wei√ü, ist die L√§nge der Antwort selbst auf 255 Byte begrenzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
213, 197 - zwei Bytes einer Pr√ºfsumme ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRC16</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Im Allgemeinen ist dies der schwierigste Moment in unserer gesamten Implementierung. In Wahrheit habe ich mich nicht einmal damit befasst, wie es betrachtet wird, sondern einfach den Code </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kopiert </font><font style="vertical-align: inherit;">. Da es ein Meer verschiedener CRC16 gibt, muss man sich der Wahl der Funktion verantwortungsbewusst n√§hern. √úberpr√ºfen Sie, ob eine bestimmte Funktion f√ºr Modbus geeignet ist, z.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist in der Tat alles, was wir √ºber Modbus wissen m√ºssen. Zumindest f√ºr den Anfang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie haben zwar lange vermutet, dass mein Appell an den MH-Z19 auf Modbus ein Erfolg war, aber tun wir so, als ob die Intrige bestehen bleibt. Bisher wissen wir noch nicht einmal, wie unsere Sensoradresse lautet (obwohl es "im Original" 1 ist, ist es weit davon entfernt, dass es bei Modbus dasselbe ist). Sie m√ºssen den Befehl also mit verschiedenen Adressen wiederholen (und es gibt nur 255 davon) und sehen, auf was unser Sensor reagiert:</font></font><br>
<br>
<pre><code class="hljs vbscript">...<font></font>
Command: <span class="hljs-number"><span class="hljs-number">254</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">213</span></span> <span class="hljs-number"><span class="hljs-number">197</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">213</span></span> <span class="hljs-number"><span class="hljs-number">197</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <font></font>
Command: <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">212</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">212</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <font></font>
Command: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <font></font>
Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">202</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">202</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <font></font>
Command: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">249</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">249</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">132</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">194</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> 
Command: <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <font></font>
Command: <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">159</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">193</span></span> <span class="hljs-number"><span class="hljs-number">159</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <font></font>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint, dass die Adresse 2 ist. Ich wiederhole mehrere Befehle mit Adresse 2 - es gibt keine Antwort. Ich √§ndere die Adresse auf 1 - es gibt eine Antwort! Somit ist die Sensoradresse dieselbe wie sie war - 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und warum erschien die Adresse 2 in der obigen Passage? Auch hier kriecht die Hinduness meines Codes heraus. Nach der Ausgabe des Befehls √ºberpr√ºfe ich, ob Bytes zu empfangen sind. Da ich dies jedoch sofort mache, hat der Sensor keine Zeit, etwas zu senden, sodass die Sensorantwort erst im n√§chsten Zyklus vom Programm akzeptiert wird. Wie Sie im angegebenen Protokoll sehen k√∂nnen, ist die erste Zahl in der Antwort 1 und gibt nur die Adresse des Sensors an. Ich habe dieses Problem umgangen, indem ich einfach eine Verz√∂gerung von 50 Millisekunden hinzugef√ºgt habe, bevor ich eine Antwort erhalten habe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die Sensorreaktion auf unseren Befehl:</font></font><br>
<br>
<pre><code class="hljs">1 132 2 194 193</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 - wie wir bereits herausgefunden haben - die Adresse des Sensors. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
132 - Befehlscode und Fehlercode. Wenn es keinen Fehler g√§be, w√§re diese Nummer dieselbe wie der gesendete Befehl - das ist 4. Es ist jedoch ein Fehler aufgetreten, wie durch das h√∂chstwertige Bit auf 1 angezeigt, sodass die Nummer 4 + 128 = 132 wurde. Ein Befehl in Modbus darf keine Nummer gr√∂√üer als 127 haben. F√ºr einen solchen Befehl entspricht der Erfolgscode dem Fehlercode. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 - Fehlercode. Sagt genau, welcher Fehler aufgetreten ist. Wie Wikipedia sagt, 02 - Die in der Anfrage angegebene Datenadresse ist nicht verf√ºgbar. An dieser Adresse gibt es also keinen Fisch und es gibt nichts zu fangen. Wir werden andere Adressen ausprobieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
194 193 - CRC16.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt ist es endlich Zeit, den Adressraum des Sensors zu zerkratzen, um zu verstehen, wo sich der Fisch befindet. Ich habe das einfach gemacht - ich habe einen Befehl gesendet, alle 0,1 Sekunden eine Nummer mit einer neuen Adresse zu lesen. Da die Adressen 65536 sind, ist dieser Vorgang in ungef√§hr zwei Stunden abgeschlossen. Die Ergebnisse sind kurz wie folgt: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Befehl 1 (Read Coils) - mit einem beliebigen Adressfehler 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Team 2 (Read Discrete Inputs) - mit einem beliebigen Adressfehler 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Befehl 4 (Read Input Registers) - mit einem beliebigen Adressfehler 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Befehl 3 (Read Multiple) Holding Registers) - gibt Erfolg bei Adressen von 0 bis 289. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Befehle zum Schreiben von Werten (z. B. 6) scheinen zu funktionieren, aber es scheint, dass der aufgezeichnete Wert bald durch den Wert ersetzt wird, der er war. Aber ich habe dieses Problem nicht genau untersucht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Suchkreis verengt sich also - wir ben√∂tigen Zahlen bei Befehl 3 und Adressen von 0 bis 289. Die Idee der reichen inneren Welt des Sensors kann aus diesen Zeilen erhalten werden:</font></font><br>
<br>
<pre><code class="hljs vbscript">Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">58</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">58</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">158</span></span> <span class="hljs-number"><span class="hljs-number">124</span></span> 
Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">238</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">238</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">27</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> 
Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">210</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">69</span></span> <span class="hljs-number"><span class="hljs-number">210</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">73</span></span> <span class="hljs-number"><span class="hljs-number">82</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">153</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">177</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">19</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">196</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">214</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">21</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">232</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">250</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">23</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">137</span></span> <span class="hljs-number"><span class="hljs-number">122</span></span> 
Command: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">64</span></span> <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>  CRC: <span class="hljs-number"><span class="hljs-number">68</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Response</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">232</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">90</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">63</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">30</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">15</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">60</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">232</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">255</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">165</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">163</span></span> <span class="hljs-number"><span class="hljs-number">198</span></span></code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Richtig, Zahlen wurden im Archiv nur unter der Adresse 255 gespeichert. Auch hier ist 1 3 die Adresse und der Befehl, 128 die Anzahl der √ºbertragenen Bytes, zwei Bytes am Ende sind CRC und alles andere ist der Inhalt des Speichers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Von all dieser Pracht interessieren uns offensichtlich diejenigen Adressen, deren Inhalt sich im Laufe der Zeit √§ndert. Und hier stellte sich heraus, dass der Sensor zwei Neuigkeiten f√ºr mich war - gut und schlecht. Gut - es gibt solche Adressen. Und die schlechten - es gibt nur zwei von ihnen - 261 und 264. Vergleichen Sie mit dem ‚Äûvergangenen Leben‚Äú, als vier Nummern gleichzeitig auf einen Befehl gegeben wurden! Ich rollte bereits mit der Lippe - ich dachte, ich w√ºrde Zugriff auf alle internen Variablen bekommen. Nun, zwei so zwei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zeit, wieder Diagramme zu erstellen! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wert an Adresse 261:</font></font><br>
<img src="https://habrastorage.org/files/e92/388/2e5/e923882e53d54fa382b6a110a0fda313.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sieht aus wie eine CO2-Konzentration. Es ist zu sehen, als ich versuchte, auf dem Sensor zu atmen. Der Minimalwert liegt zwar deutlich unter dem "Referenzwert" von 400 ppm, so dass die Kalibrierung zu w√ºnschen √ºbrig l√§sst. Auf die eine oder andere Weise wird der Sensor f√ºr wiederbelebt erkl√§rt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wert bei 264: </font></font><br>
<img src="https://habrastorage.org/files/c7f/588/0a0/c7f5880a047c4b5bb3e3767579824987.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ungef√§hr gleich, nur in einem anderen Ma√üstab und verkehrt herum. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und beide Gr√∂√üen befinden sich in derselben Grafik: </font></font><br>
<img src="https://habrastorage.org/files/281/22a/172/28122a1724d7413ca57b665d6c705a5d.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellt sich nat√ºrlich die Frage, ob eine dieser Gr√∂√üen der sehr ‚Äûrohe‚Äú Wert ist, der vom ADC stammt und den der Sensor auf eine Slave-Weise in die CO2-Sch√§tzung umwandelt. In diesem Fall ergeben sich gro√üe M√∂glichkeiten zur Neukalibrierung und Verbesserung der Genauigkeit des Sensors und m√∂glicherweise zur Verwendung f√ºr andere Zwecke. Die Antwort auf diese Frage (und einige andere) werden wir in der n√§chsten Serie versuchen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Kommentare und Vorschl√§ge werden akzeptiert - wie man den MH-Z19 sonst im n√§chsten Artikel verspottet. </font><font style="vertical-align: inherit;">Es stimmt, ich werde nichts versprechen.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de401363/">https://habr.com/ru/post/de401363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de401353/index.html">Wissenschaftler haben einen kompakten Sensor zur Diagnose des Influenzavirus entwickelt</a></li>
<li><a href="../de401355/index.html">Und zu dieser Zeit</a></li>
<li><a href="../de401357/index.html">STRG Der Roboter - von der Werkstatt bis zum Tisch</a></li>
<li><a href="../de401359/index.html">Ping-IP-Adressen als universelles Werkzeug der Sozialwissenschaften</a></li>
<li><a href="../de401361/index.html">Willkommen bei Alcatraz: Eine der gr√∂√üten verteilten Energieeinrichtungen in den USA</a></li>
<li><a href="../de401367/index.html">Das Buch "Programmieren von Arduino. Professionelle Arbeit mit Skizzen "</a></li>
<li><a href="../de401369/index.html">Smartphone Bewertung ASUS ZenFone 3 max</a></li>
<li><a href="../de401371/index.html">Analyse von Datens√§tzen aus dem offenen Datenportal data.gov.ru</a></li>
<li><a href="../de401375/index.html">Forschung: Schlaf ist n√∂tig, um zu vergessen</a></li>
<li><a href="../de401379/index.html">Virtuelle 3D-Simulation von Schiffen f√ºr die russische Marine - befinden wir uns auf dem H√∂hepunkt der IT?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>