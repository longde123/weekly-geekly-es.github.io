<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚣🏽 📆 🕺🏿 Objet de domaine avec Lombok: Battle Classic 😜 👨🏼‍🏭 👄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Objet de domaine ( russe. "Objet de domaine" ) - l'une des approches les plus populaires pour utiliser les données de test directement dans la logique...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Objet de domaine avec Lombok: Battle Classic</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442606/">  <b>Objet de domaine</b> ( <i>russe. "Objet de domaine"</i> ) - l'une des approches les plus populaires pour utiliser les données de test directement dans la logique du script.  À l'heure actuelle, c'est l'une des approches les plus populaires et les plus répandues en raison de sa <i>simplicité, de sa compréhensibilité et de sa logique.</i> <br><br>  Il est applicable dans tous les types d'automatisation des tests fonctionnels (End-to-End, API, Intégration), quelle que soit la plateforme testée, qu'elle soit Web, Mobile ou Desktop. <br><blockquote>  <b>IMPORTANT</b> : ne confondez pas objet de domaine et objet de <i>transfert de données (DTO)</i> .  Ce sont des approches complètement différentes qui sont appliquées dans différents domaines. </blockquote> <b>Quelle est son essence?</b> <br><br><a name="habracut"></a>  D'un autre nom de l'approche - «Business Object» - il devient clair qu'il s'agit d'une sorte d'abstraction, qui est un modèle et une description d'un objet qui est important pour la compréhension et le fonctionnement de la <b>logique métier de l'application</b> .  Il n'est pas capable d'exécuter d'autres fonctions que le «transfert» des champs et de leurs valeurs vers une unité commerciale spécifique. <br><img src="https://habrastorage.org/getpro/habr/post_images/787/fee/f37/787feef3760d3330f87aeec8c9802a55.jpg" alt="image"><br><br><hr><br><h2>  À quoi ça ressemble </h2><br>  Par exemple, prenez n'importe quelle application qui prévoit la création d'un compte d'utilisateur.  C'est l'utilisateur qui devient notre objet de domaine.  Dans presque tous les cas, l'utilisateur doit avoir un nom d'utilisateur et un mot de passe: <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//    User public class User { // ,  User    Login private String login; // ,  User    Password private String password; }</span></span></code> </pre> <br>  Les personnes particulièrement prudentes remarqueront que tous les champs internes sont privés.  La définition et la lecture de valeurs directement à partir des champs d'un objet est considérée comme une mauvaise pratique.  Au lieu de cela, il est habituel d'utiliser des getters et setters bien connus: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String login; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String password; <span class="hljs-comment"><span class="hljs-comment">//      login public void setLogin(String login) { this.login = login; } //     login public String getLogin() { return this.login; } //    public void setPassword(String password) { this.password = password; } public String getPassword() { return this.password; } }</span></span></code> </pre><br>  Maintenant, nous avons accès aux champs, et nous pouvons définir et lire leurs valeurs.  Mais dans cet exemple, nous n'utilisons que deux champs.  Et que se passe-t-il s'il y a quinze de ces domaines?  Certes, la classe User se développe à des tailles sans précédent, grâce à la pâte de copie sans fin des getters et setters.  Comment allons-nous y faire face? <br><br><hr><br><h2>  Magic lombok </h2><br>  C'est là que <b>Project Lombok</b> vient à la rescousse - une bibliothèque populaire qui nous permet de réduire plusieurs fois le code, d'éviter les souffrances de copier / coller et de réduire considérablement le temps nécessaire pour écrire des classes d'objets de données.  Quelques liens utiles: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Site officiel du projet Lobmok</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide d'installation du plug-in IntelliJ IDEA</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lombok à Maven Central</a> </li></ul><br>  Que fait-il?  Crée automatiquement des getters et setters pour tous les champs de la classe, en lui affectant l'annotation correspondante: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.Getter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> lombok.Setter; <span class="hljs-comment"><span class="hljs-comment">//       User @Getter //       User @Setter public class User { private String login; private String password; }</span></span></code> </pre><br>  Simple, rapide, pratique.  Ainsi, notre code devient beaucoup plus lisible, les classes sont plus concises et le développement est plus rapide. <br><br><hr><br><h2>  Appliquer en test </h2><br>  <i>Un bon test est un test dans lequel les données de test, la logique de test et sa mise en œuvre sont clairement séparées.</i> <br><br>  Essayons de connecter notre utilisateur.  Nous créons une classe avec des données de test et les «remplissons» avec un nouvel utilisateur: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  Test Data  public class TestDataUser { //  private-    private final static String DEFAULT_LOGIN = "vasiliy_pupkin"; private final static String DEFAULT_PASSWORD = "q1w2e3"; //        public static User getDefaultUser() { //  ""  User user = new User(); //      Login user.setLogin(DEFAULT_LOGIN); //      Password user.setPassword(DEFAULT_PASSWORD); //    User,     return user; } }</span></span></code> </pre><br>  Nous décrivons le modèle de la page de connexion: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginPage</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  public- ,    User public void loginUser(User user) { //          enterLogin() enterLogin(user.getLogin()); //    enterPassword(user.getPassword()); } private void enterLogin(String login) { this.loginInput.sendKeys(login); } private void enterPassword(String password) { this.passwordInput.sendKeys(password); } }</span></span></code> </pre><br>  Il ne reste plus qu'à implémenter la classe de test: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginAsDefaultUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    credentials   User user = TestDataUser.getDefaultUser(); //  Login- LoginPage loginPage = new LoginPage(); // ,     loginPage.loginUser(user); } }</span></span></code> </pre><br>  C'est fait!  Tu es génial! <br><hr><br><h2>  Pour résumer </h2><br>  Au final, nous obtenons une architecture de projet <i>soignée</i> , avec une séparation claire de la logique, des données et de l'implémentation.  Lombok vous aide à vous débarrasser de la duplication de code, Domain Object s'intègre parfaitement dans la philosophie Page Page Object et le support de code devient un vrai plaisir. <br><br>  <i>Devrait-il y avoir des inconvénients?</i> <br><br><ol><li>  Immunité.  Ou plutôt, son absence.  En cela, cette approche utilisant Lombok perd face au principal concurrent - Builder ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article sur Habré</a> ).  Mais, à mon avis, le code ci-dessus est plus «propre», compréhensible et agréable sur le plan esthétique, par rapport à la chaîne sans fin du générateur et au tas de méthodes de la classe Object. </li><li>  Augmentez la complexité là où elle n'est pas nécessaire.  Pas tant moins qu'un petit rappel.  <b>Toute approche ou modèle est problématique et devrait résoudre un certain problème.</b>  Vous ne devez pas essayer d'utiliser l'objet de données dans un test unitaire qui vérifie uniquement que 2 + 2 = 4. </li></ol><br>  Merci beaucoup pour votre attention.  Je serai ravi des critiques et critiques. <br><br>  <i>PS Dites dans les commentaires quelles approches vous utilisez dans votre travail.</i>  <i>Ce sera très intéressant à lire.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442606/">https://habr.com/ru/post/fr442606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442594/index.html">Allez-vous surveiller tout pour moi? Ouais</a></li>
<li><a href="../fr442596/index.html">Bande originale du jeu: les sciences humaines pleurent aussi</a></li>
<li><a href="../fr442598/index.html">Les chasseurs de têtes sont-ils nécessaires?</a></li>
<li><a href="../fr442600/index.html">Mon système domotique</a></li>
<li><a href="../fr442602/index.html">La vitesse diminue-t-elle?</a></li>
<li><a href="../fr442608/index.html">Les portefeuilles froids de l'échange de crypto-monnaie QuadrigaCX, dont le fondateur est décédé, se sont avérés vides</a></li>
<li><a href="../fr442610/index.html">Télégramme-bot + Google Analytics</a></li>
<li><a href="../fr442612/index.html">Moteur en carton pour un jeu de société électrique. Comment nous l'avons rapproché de la réalité</a></li>
<li><a href="../fr442614/index.html">CI / CD utilisant Jenkins sur Kubernetes</a></li>
<li><a href="../fr442616/index.html">Nous accélérons le traitement des événements à 1,6 million par seconde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>