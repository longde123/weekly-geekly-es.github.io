<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöæ üññüèæ üôÖüèΩ Python de aprendizaje: m√≥dulo argparse üîØ üñïüèΩ ‚òïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Si est√° involucrado en el procesamiento y an√°lisis de datos usando Python, entonces, tarde o temprano, tendr√° que ir m√°s all√° de Jupyter Notebook, con...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Python de aprendizaje: m√≥dulo argparse</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/440654/">  Si est√° involucrado en el procesamiento y an√°lisis de datos usando Python, entonces, tarde o temprano, tendr√° que ir m√°s all√° de Jupyter Notebook, convirtiendo su c√≥digo en scripts que se pueden ejecutar usando la l√≠nea de comando.  Aqu√≠ es donde el m√≥dulo argparse es √∫til.  Para los principiantes, acostumbrados al cuaderno Jupyter, este paso significa la necesidad de abandonar la zona de confort y mudarse a un nuevo entorno.  El material, cuya traducci√≥n publicamos hoy, est√° escrito para facilitar tal transici√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/17b/7ac/55a/17b7ac55a4b8da7b7fdd54d354da19d9.jpg"></div><br>  <i><font color="#999999">M√≥dulo Argparse</font></i> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">M√≥dulo Argparse</font> </h2><br>  El m√≥dulo argparse se puede comparar con las fuerzas de la naturaleza que han erigido picos de monta√±as que se elevan por encima de las nubes.  Gracias a este m√≥dulo en scripts, es posible trabajar con algo que, sin su uso, estar√≠a oculto del c√≥digo de estos scripts. <br><br>  Cabe se√±alar que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">argparse</a> es el m√≥dulo de biblioteca Python est√°ndar recomendado para trabajar con argumentos de l√≠nea de comandos.  No pude encontrar una buena gu√≠a de discusi√≥n para principiantes, as√≠ que decid√≠ escribirla. <br><br><h2>  <font color="#3AC1EF">La vida m√°s all√° del cuaderno Jupyter</font> </h2><br>  Cuando encontr√© por primera vez argparse en el script de Python que necesitaba para un proyecto que hice en mi tiempo libre, pens√©: "¬øQu√© es esta misteriosa construcci√≥n?"  Despu√©s de eso, transfer√≠ r√°pidamente el c√≥digo al Cuaderno Jupyter, pero tal movimiento result√≥ ser irracional. <br><br>  Necesitaba poder ejecutar el script y no trabajar con √©l usando el Jupyter Notebook.  Un script independiente que usara el m√≥dulo argparse ser√≠a mucho m√°s f√°cil de usar, trabajar en √©l ser√≠a m√°s f√°cil que confiar en las capacidades de Jupyter Notebook.  Sin embargo, ten√≠a prisa y, cuando mir√© la documentaci√≥n del argumento, no pude comprender de inmediato su esencia, por lo que no utilic√© la versi√≥n original del gui√≥n. <br><br>  Desde entonces, descubr√≠ argparse y realmente me gust√≥ este m√≥dulo.  Ahora lo considero absolutamente vital.  Sin embargo, dominarlo no es tan dif√≠cil. <br><br><h2>  <font color="#3AC1EF">¬øPor qu√© necesitamos el m√≥dulo argparse?</font> </h2><br>  El m√≥dulo argparse le permite analizar los argumentos pasados ‚Äã‚Äãal script cuando se ejecuta desde la l√≠nea de comandos, y hace posible usar estos argumentos en el script.  Es decir, estamos hablando del hecho de que este m√≥dulo permite que el script proporcione algunos datos en el momento de su lanzamiento, y el script podr√° usar estos datos durante la ejecuci√≥n de su c√≥digo.  El m√≥dulo argparse es un medio por el cual puede establecer comunicaci√≥n entre el autor del programa y el que lo utiliza, por ejemplo, entre usted cuando escribe un gui√≥n hoy y usted cuando lo lanza ma√±ana, pas√°ndole algo. <br><br>  El uso de argparse significa que, si es necesario, cambia el comportamiento del script o, si es necesario, le transfiere algunos datos, si el autor del script lo proporciona, el usuario no necesita editar el c√≥digo del programa.  Como resultado, los scripts obtienen un cierto nivel de flexibilidad. <br><br><h2>  <font color="#3AC1EF">Ejemplo</font> </h2><br>  Suponga que desea escribir un script para convertir archivos de video a im√°genes normales utilizando la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca OpenCV</a> .  Para que el script resuelva este problema, necesita saber el lugar donde se almacenan los archivos de video y el lugar donde necesita colocar la imagen terminada.  Es decir, necesita informaci√≥n sobre dos carpetas, las rutas a las cuales, lo que no es muy conveniente, puede codificarse en el c√≥digo del script, o, lo que es mucho mejor, puede permitir que el usuario especifique el script ingres√°ndolo como argumentos de l√≠nea de comandos cuando ejecuta el script.  Para equipar el script con tal oportunidad, el m√≥dulo argparse es √∫til para nosotros.  As√≠ es como se ver√≠a la secci√≥n del script (llamemos a este script <code>videos.py</code> ), en el que se <code>videos.py</code> los argumentos de la l√≠nea de comandos: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># videos.py import argparse parser = argparse.ArgumentParser(description='Videos to images') parser.add_argument('indir', type=str, help='Input dir for videos') parser.add_argument('outdir', type=str, help='Output dir for image') args = parser.parse_args() print(args.indir)</span></span></code> </pre> <br>  Aqu√≠, al comienzo del archivo, se importa el m√≥dulo argparse.  Luego, utilizando la construcci√≥n <code>argparse.ArgumentParser()</code> , se crea un objeto <code>parser</code> con su descripci√≥n.  A continuaci√≥n, usando el m√©todo <code>parser.add_argument()</code> , se <code>indir</code> variable <code>parser.add_argument()</code> , en la que se planea escribir la ruta a la carpeta con archivos de video.  Al mismo tiempo, se indica que tiene un tipo de cadena y tambi√©n se establece informaci√≥n de referencia al respecto.  Despu√©s de eso, de la misma manera, se <code>outdir</code> variable <code>outdir</code> , en la que se <code>outdir</code> la ruta a la carpeta en la que el script tendr√° que colocar las im√°genes creadas en base a los archivos de video.  En el siguiente paso, el resultado de analizar los argumentos de la l√≠nea de comando se introduce en la variable <code>args</code> .  Lo que se pasa al script al inicio ahora estar√° disponible como las propiedades <code>outdir</code> y <code>outdir</code> del objeto <code>args</code> .  Ahora puedes trabajar con estos valores.  En este caso, simplemente imprimimos en la consola lo que se pasa al script en el argumento <code>indir</code> . <br><br>  Aqu√≠ se explica c√≥mo ejecutar este script desde la l√≠nea de comandos: <br><br><pre> <code class="python hljs">python videos.py /videos /images</code> </pre> <br>  Tenga en cuenta que las l√≠neas <code>/videos</code> e <code>/images</code> no necesitan ser citadas.  Una secuencia de comandos iniciada de esta manera generar√° la l√≠nea <code>/videos</code> en el terminal, confirmando as√≠ la posibilidad de utilizar los argumentos que se le pasan en su c√≥digo.  Esta es la magia de argparse en acci√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a8/e05/614/9a8e056143381f2aba21f091e8ac522d.jpg"></div><br>  <i><font color="#999999">La magia de analizar argumentos de l√≠nea de comando</font></i> <br><br><h2>  <font color="#3AC1EF">Detalles de Argparse</font> </h2><br>  Acabamos de ver un ejemplo de argparse simple.  Ahora analicemos algunos detalles sobre argparse. <br><br><h3>  <font color="#3AC1EF">‚ñç Argumentos posicionales</font> </h3><br>  Una construcci√≥n del formulario <code>parser.add_argument('indir', type=str, help='Input dir for videos')</code> del script <code>videos.py</code> como objetivo crear un argumento posicional.  Cuando se llama a un script, el orden en que se especifican dichos argumentos es importante.  Entonces, el primer argumento pasado al script se convierte en el primer argumento posicional, el segundo argumento se convierte en el segundo argumento posicional. <br><br>  ¬øQu√© sucede si el script se ejecuta sin ning√∫n argumento ejecutando el comando <code>python videos.py</code> en la terminal? <br><br>  En este caso, se mostrar√° el siguiente mensaje de error: <br><br><pre> <code class="python hljs">videos.py: error: the following arguments are required: indir, outdir</code> </pre> <br>  Como resultado, resulta que para ejecutar un script que permita el uso de argumentos posicionales, dichos argumentos siempre deben especificarse cuando se ejecuta. <br><br><h3>  <font color="#3AC1EF">‚ñç Argumentos opcionales</font> </h3><br>  ¬øQu√© sucede cuando nuestro script se ejecuta con el comando <code>python videos.py --help</code> ? <br><br>  En respuesta, se mostrar√° informaci√≥n de ayuda al respecto.  Esta es exactamente la informaci√≥n sobre los argumentos posicionales que indicamos al describir las variables correspondientes: <br><br><pre> <code class="python hljs">usage: videos.py [-h] indir outdir Videos to images positional arguments: indir       Input dir <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> videos outdir      Output dir <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> image optional arguments: -h, --help  show this help message <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> exit</code> </pre> <br>  El script nos dijo muchas cosas interesantes sobre lo que espera del usuario, y la <code>help</code> es un ejemplo de un argumento opcional.  Tenga en cuenta que <code>--help</code> (o <code>-h</code> ) es el √∫nico argumento opcional est√°ndar que podemos usar cuando trabajamos con argparse, pero si necesita otros argumentos opcionales, puede crearlos usted mismo. <br><br>  Los argumentos opcionales se crean de la misma manera que los argumentos posicionales.  La principal diferencia entre los comandos para crearlos es que al especificar los nombres de tales argumentos, estos nombres comienzan con una secuencia de caracteres, o, para formas cortas de argumentos, con un car√°cter.  Por ejemplo, se podr√≠a crear un argumento opcional como este: <br><br><pre> <code class="python hljs">parser.add_argument(<span class="hljs-string"><span class="hljs-string">'-m'</span></span>, <span class="hljs-string"><span class="hljs-string">'--my_optional'</span></span>)</code> </pre> <br>  Aqu√≠ hay un ejemplo de c√≥mo crear y usar argumentos opcionales.  Tenga en cuenta que al describir el argumento opcional aqu√≠, especificamos su tipo como <code>int</code> .  Es decir, es un n√∫mero entero.  En una situaci√≥n similar, puede usar otros tipos de Python. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># my_example.py import argparse parser = argparse.ArgumentParser(description='My example explanation') parser.add_argument(   '--my_optional',   type=int,   default=2,   help='provide an integer (default: 2)' ) my_namespace = parser.parse_args() print(my_namespace.my_optional)</span></span></code> </pre> <br>  El argumento descrito como <code>--my_optional</code> est√° disponible en el programa como una propiedad del objeto <code>my_optional</code> llamado <code>my_optional</code> . <br><br>  A los argumentos opcionales se les pueden asignar los valores que tendr√°n por defecto.  En nuestro caso, si no se da ning√∫n valor al argumento <code>my_example</code> cuando se llama al script, se escribir√° el n√∫mero 2, que se enviar√° a la consola.  Para establecer el valor de este argumento durante la ejecuci√≥n del script, puede usar la siguiente construcci√≥n: <br><br><pre> <code class="python hljs">python my_example.py  --my_optional=<span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">¬øPara qu√© m√°s se puede usar argparse?</font> </h2><br>  El m√≥dulo argparse se puede usar para desarrollar aplicaciones Python que se planean empaquetar en contenedores Docker.  Entonces, por ejemplo, si necesita pasarle argumentos de l√≠nea de comando al iniciar una aplicaci√≥n empaquetada en un contenedor, puede describirlo en la etapa de ensamblaje del contenedor en el Dockerfile usando la instrucci√≥n <code>RUN</code> .  Puede usar las instrucciones <code>CMD</code> o <code>ENTRYPOINT</code> para ejecutar scripts durante la <code>ENTRYPOINT</code> contenedor.  Los detalles sobre Dockerfiles se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  Examinamos las formas b√°sicas de trabajar con el m√≥dulo argparse, mediante el cual puede equipar sus scripts con la capacidad de aceptar y procesar argumentos de l√≠nea de comandos.  Cabe se√±alar que las caracter√≠sticas argparse no terminan all√≠.  Por ejemplo, usar el par√°metro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">nargs</a> al describir argumentos le permite trabajar con listas de argumentos, y el par√°metro de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">opciones le</a> permite especificar conjuntos de valores que los argumentos pueden tomar.  De hecho, ahora, habiendo dominado las caracter√≠sticas principales de argparse, usted, sin mucha dificultad, puede estudiar este m√≥dulo m√°s profundamente, utilizando la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n</a> para ello. <br><br>  Si est√° acostumbrado a trabajar con Jupyter Notebook y desea alejarse de esta pr√°ctica, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠ tiene</a> : materiales sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥mo</a> trabajar con variables de entorno.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ est√° el</a> material de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">herramienta repo2docker</a> , que le permite convertir los repositorios de Jupyter Notebook en im√°genes de Docker. <br><br>  <b>Estimados lectores!</b>  ¬øC√≥mo trabajas con argumentos de l√≠nea de comandos en scripts de Python? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/440654/">https://habr.com/ru/post/440654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../440644/index.html">El resumen de materiales frescos del mundo de la interfaz para la √∫ltima semana No. 352 (11-17 de febrero de 2019)</a></li>
<li><a href="../440646/index.html">Frontend Weekly Digest (11-17 de febrero de 2019)</a></li>
<li><a href="../440648/index.html">Descripci√≥n general de la legislaci√≥n rusa en el campo de la accesibilidad web</a></li>
<li><a href="../440650/index.html">C√≥mo funciona la conciencia: conclusiones del libro de Alexander Nevzorov</a></li>
<li><a href="../440652/index.html">Video computarizado en 755 megap√≠xeles: ple√≥pticos ayer, hoy y ma√±ana</a></li>
<li><a href="../440656/index.html">Contenedor profesional de aplicaciones Node.js usando Docker</a></li>
<li><a href="../440658/index.html">Explorando Docker, Parte 4: Reduciendo el tama√±o de las im√°genes y acelerando su ensamblaje</a></li>
<li><a href="../440660/index.html">Aprendizaje Docker, Parte 5: Comandos</a></li>
<li><a href="../440662/index.html">Tutorial React Parte 18: La sexta fase de trabajar en una aplicaci√≥n TODO</a></li>
<li><a href="../440666/index.html">Clasificaci√≥n de dibujos escritos a mano. Informar en Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>