<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❄️ ▪️ 📬 如何在19年第二季度组织对WordPress博客的开发和支持，而不是对其进行修复 🏺 💡 💹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="事先考虑缩放问题，充分利用标准的Wordpress解决方案，亲手制作WP主题，照顾版式设计师的便利，专注于移动性-更新公司的博客，以便读者，编辑和管理人员喜欢它。 我们做到了。 




 Promopult的博客已经9岁了。 在此期间，他经历了几次转型。 我们博客的技术专家Sergey Glazo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>如何在19年第二季度组织对WordPress博客的开发和支持，而不是对其进行修复</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/promopult/blog/457402/"><p> 事先考虑缩放问题，充分利用标准的Wordpress解决方案，亲手制作WP主题，照顾版式设计师的便利，专注于移动性-更新公司的博客，以便读者，编辑和管理人员喜欢它。 我们做到了。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/31/ab/3s/31ab3sbtd1tyy1cfaneyga9do8s.png" alt="PromoPult博客"></div><br><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Promopult</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">博客</a>已经9岁了。 在此期间，他经历了几次转型。 我们博客的技术专家<strong>Sergey</strong> Glazov以及Promopult系统中的其他重要内容，都在讨论后者。 </p><a name="habracut"></a><br><p> 不再讨论，因为它已经成为一种规范：公司博客，个人，个人（是的，无论是什么）的一种快速简单的标准。 您可以争论，但事实仍然存在。 </p><br><p> 我想谈谈我在组织代码，使用WordPress博客及其支持方面遇到的问题。 这个故事是关于过程的，因为当前状态是该过程的最后一点，并且与组织方法中的所有过去迭代相比，当前状态似乎是最成功的。 </p><br><div class="spoiler">  <b class="spoiler_title">文章内容</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">（我）开始时发生了什么-2016年</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">首要任务：动员和设计</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">就像我们在代码上所做的一样</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">正如他们所说，我想得到的是“在理想的世界中”</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">重新设计，第一种方法</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第二种方法：结构的新版本</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PromoPult博客：工作原理</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">发布前的清单</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">博客文章设置</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">好东西</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">关于有趣的技术</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">我们使用什么插件</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">针对公司博客工作人员的总结提示</a> <br></div></div><br><a name="id1"></a><h2>  （我）开始时发生了什么-2016年 </h2><br><p> 开发人员从头开始创建并仔细思考所有内容的情况很少见。 事实证明， <em>通常</em> （ <em>甚至是很久以前，有单独的历史记录</em> ）已经有一个项目需要得到支持。 重新设计，编辑，大量传统知识和要求。 在现有一切条件下，有必要以某种方式快速导航并解决问题。 </p><br><p> 我在2016年接受了该博客，当时该博客已有悠久的历史，但并非一切都像我想要的那样美丽。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hl/8m/ao/hl8maolspww0uzcsvc2nrzc4_x8.png" alt="这就是SeoPult在2016年初的博客的样子。"></div><br><br><ol><li> 具有九年历史的旧博客设计。 </li><li> 缺少任何形式的手机/平板电脑版本。 </li><li>  600多个帖子。 </li><li>内容及其组织的结构性问题：20多个类别和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">9多个数百个标签</a> （现在更多了，但我们已经停止了）。 </li><li> 这些计划已经进行了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">品牌重塑</a>并转移到新的领域。 这也适用于博客。 </li><li> 使用代码时的一连串动作。 </li><li> 在没有版本控制（.git）的情况下工作。 </li></ol><br><a name="id2"></a><h2> 首要任务：动员和设计 </h2><br><p> 主要任务是增加对博客现有主题的适应性：使移动用户能够阅读文章并充分使用该网站-他们越来越多地谈论和撰写<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有关Mobile First的文章</a> ，而统计数据表明他们是从移动阅读博客的。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/er/oc/q3/erocq3hilkqxx99etqmtjmouzvy.png" alt="Yandex.Metrica中的统计数据"></div><br><br><p> 与这些作品同时，绘制了新的设计。 </p><br><p> 作为开发人员，我与设计师紧密合作，在讨论中没有不必要的调解员链，因此沟通过程更快，更生动。 当然，这是显而易见的事实，但是由于某些原因，它在许多过程中都被忽略了。 事实证明，设计师所做的事情与现实截然不同。 说话，讨论所有要点。 过程中的每个参与者都对做好事和冷静感到感兴趣。 但是，并非所有人都知道该过程是一个相互联系的链条，如果单个表演者错过或没有在其工作现场做某件事，那么下一个过程中的人们将很困难。 </p><br><p> 在移动版本的工作过程中，我看到了组织开发过程的利弊。 我想加快并简化一切。 </p><br><a name="id3"></a><h3> 就像我们在博客上处理代码一样 </h3><br><p> 博客的DEV版本带有单独的测试数据库。 使用文件的操作是在远程服务器上进行的，而测试是在外部环境无法访问的单独地址进行的。 下班后，测试和某种意义单元的诞生-通过向管理员发出呼吁，将其推广到了战斗博客。 他所做的是一个单独的魔术。 </p><br><p> 对于每年都会更改一次的博客来说，这是一个很棒的过程。 但是对于新版本及其需求，这样的过程将是一个很大的痛苦。 </p><br><a name="id4"></a><h3> 正如他们所说，我想得到的是“在理想的世界中” </h3><br><p>所有代码都位于其中。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">git</a>存储库。 博客的实战版本是该存储库的<code>master</code>版本。 使用代码的所有工作都是通过提交到<code>dev</code>分支或与各个大型任务相关联的其他分支进行的。 </p><br><p> 任务完成后，将通过一组编辑创建请求请求（PR）和/或合并请求（MR）。  MR和PR中的含义相同，但是在不同的服务中-名称不同。 我们有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitLab</a> ，所以有合并请求。 </p><br><p> 创建MR时，可以使用名称为<code>-git--test.dev.blog.promopult.ru</code>形式的临时地址，该地址只能由IP访问，以便在测试环境中进行实时验证。 </p><br><p> 创建的MR中的代码将自动检查和检查（代码linter，我会根据预定义的规则检查语法），并在手动模式下（团队中的力量垂直者，timlid用海军凸面细心的眼睛仔细看一下它）。 通过审核后-从.git存储库的浏览器界面中，单击“合并”按钮，并且经过一段短暂的明显时间后，所有更改都会显示在战斗博客的广播中。 </p><br><a name="id5"></a><h2> 重新设计，第一种方法 </h2><br><p> 博客重新设计工作计划： </p><br><ol><li> 静态原型的布局，用于所有页面的设计布局； </li><li> 将（“拉伸”）布局转换为WordPress主题。 </li></ol><br><p> 布局-一个单独的工作阶段。 为了方便使用样式（CSS），标记和JS，在项目中使用了一组插件和模块，这些插件和模块是通过<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SPT</a> （启动项目模板）构建器中描述的Gulp任务组装而成的。 </p><br><p> 在静态博客主题的收集器中使用的关键字是：HTML，CSS，JS，Babel，Gulp，PostCSS，SCSS，Nunjucks。 </p><br><p> 布局完成后，结构如下（ <em>仅指示第一级目录</em> ）： </p><br><blockquote><pre>  ├──设计＃设计，布局及所有
 ├──app /＃项目来源：单独的模块
 ├──dist /＃项目的汇编版本（html文件）和所有静态变量
 ├──gulpfile.js /＃配置Gulp.js
 └──package.json＃收集器配置文件：软件包，脚本 </pre></blockquote><br><p> 页面上每个单独的视觉语义元素，例如明信片（ <code>/components/article_card/</code> ），都是一个文件夹，其中： </p><br><p>  -标记文件（ <code>article_card.html</code> ）， </p><br><p>  -样式文件（ <code>article_card.scss</code> ）， </p><br><p>  -JS文件（ <code>article_card.js</code> ）。 </p><br><p> 每个页面都是从这样的独立组件块组装而成的。 块易于操作，并且任何更改都不会影响相邻的元素。 </p><br><p> 在输出中，收集器创建了<code>dist</code>文件夹，其中包含现成的HTML文件页面，以供在编辑和协调阶段在浏览器中直观查看，以及一个样式文件，所有主题和两个JS文件：一个文件（ <code>app.js</code> ）描述了逻辑和行为网站，第二个网站（ <code>vendor.js</code> ）包含该网站使用的所有库（jQuery，fotorama，magnific-popup等）。 </p><br><p> 接下来，您需要将所有这些变成一个WordPress主题并考虑文件结构。 这样您就可以方便地使用静态布局，并在其旁边放置一个WP主题。 </p><br><p> 设计师准备的布局清单。 它们与WordPress博客主题文件相同： </p><br><ul><li> 主页（ <code>home.php</code>文件）。 </li><li>  <code>single.php</code>帖子/帖子页面（ <code>single.php</code> ）。 </li><li> 单个文本页面（ <code>page.php</code> ）的视图。 </li><li> 时事通讯订阅页面（subscription.php）。 </li><li> 错误404（ <code>404.php</code> ）。 </li><li> 单独的标记页（ <code>tag.php</code> ）。 </li><li> 单独的类别页面（ <code>category.php</code> ）。 </li><li> 搜索和搜索结果（ <code>search.php</code> ）。 </li></ul><br><p> 采用这种方法并将主题的静态版本和WordPress版本分开的工作流程如下：如果您需要在视觉部分修复某些内容-更改将在静态版本中进行，并且在测试之后转移到主题中。 如果需要在某些非可视部分进行编辑，则仅更改WP主题文件。 </p><br><p> 博客主题文件夹为<code>bsp</code> 。 它位于包含博客本身<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">主题的文件夹中的路径中</a> ： </p><br><blockquote><pre>  ├──wp-content /＃自定义WordPress网站文件
 │├──主题/＃网站主题
 ││├──app /＃静态主题的来源
 │││├──gulpfile.js /＃组装的Gulp任务
 ││├──dist /＃建立一个静态主题
 │││├──资产/＃资源：JS，CSS和图形 
 ││├──bsp /＃WP-PromoPult博客主题
 │││├──资产/＃资源：JS，CSS和图形，从`/ dist /`复制
 │││├──home.php＃博客的主页以及位于主题根目录的其他文件 </pre></blockquote><br><p>  WordPress主题的位置很明显，并且由WordPress本身的文件结构预先确定。 </p><br><blockquote><p> 主题目录中没有其他主题-所有标准都已删除。 以这种方式提高生产率存在一个神话，但是我们没有注意到这一点。 对于代码中的命令，可以完成更多操作。 无需存储不使用的东西，并且绝对不会使用。 </p></blockquote><br><p> 在.git中，还使用了所有WP插件。 在我们的网站上，这些是Google XML网站地图，用于Yandex Turbo的RSS，RusToLat和WP-PostViews。 </p><br><p> 博客页面和源文件的静态编译原型已移至博客主题目录：为了方便地与模板的逻辑部分以及与负责页面元素外观和行为的所有内容进行交互。 </p><br><p> 项目程序集的静态版本-带有源以及所有在第一次尝试组织结构时的依赖关系-放置在主题目录中。 </p><br><p> 也就是说，在主要<code>bsp</code>主题旁边，添加了<code>/app</code>目录，其中包含了主题布局和gulp-collector的源代码。 但是在此版本中有一个困难时刻：静态文件是在单独的目录中生成的，并且为了使更改能够在WP主题中进行，有必要将静态样式文件和脚本复制到主题内的<code>assets</code>文件夹中。 </p><br><a name="id6"></a><h2> 第二种方法：结构的新版本 </h2><br><br><p> 在最初的几周中，这是由一个简单的控制台脚本决定的，该脚本将收集的文件从静态主题复制到WP主题。 过度的操作会导致错误。 因此，选择仅是纠正结构。 </p><br><p> 我们有三个重要的目录（从根开始一直）： </p><br><ol><li>  WP主题： <code>/wp-content/themes/bsp</code> </li><li> 静态主题的来源： <code>/app</code> </li><li> 收集的静态主题： <code>/dist</code> </li></ol><br><p> 里面有带有样式文件，图形和JS的<code>assets</code> </p><br><p> 您需要安排所有内容，以便将静态样式和脚本文件收集在所需的文件夹（ <code>/wp-content/themes/bsp/assets</code> ）中。 </p><br><p> 该结构的新版本如下： </p><br><blockquote><pre>  ├──gulpfile.js /＃组装的Gulp任务
 ├──wp-content /＃自定义WordPress网站文件
 │├──插件/＃WP插件
 │├──主题/＃网站主题
 ││├──bsp /＃PromoPult博客主题
 │││├──app /＃静态主题的来源
 │││├──资产/＃资源：JS，CSS和图形（自动生成）
 │││├──home.php＃博客的主页以及位于主题根目录的其他文件
 ├──wp-admin /＃用于管理面板的WP文件
 ├──wp-includes /系统的WP文件 </pre></blockquote><br><p> 整个项目的根源是gulp任务-从根开始执行。  gulp-task配置描述了从<code>wp-content/themes/bsp/app</code>目录收集静态文件到<code>wp-content/themes/bsp/assets</code>静态文件的结构，无需任何其他操作，例如复制等。 </p><br><p>  WP主题文件保持不变，并且工作根据旧方案进行：静态编辑→传输到WP文件。  CSS和JS静态变量会立即在主题文件夹中生成，并且一切正常。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ol/o8/ng/olo8ng_m6qpok93yhphs56hnesm.png" alt="PromoPult博客的MR示例"></div><br><br><p> 所有这些都是关于工作过程的。 现在介绍博客的排列方式。 </p><br><a name="id7"></a><h2>  PromoPult博客：工作原理 </h2><br><p> 博客的主要力量是团队。 编辑，作者，布局设计师。 </p><br><p> 最大的任务是在管理区域中方便地处理博客内容。 考虑到我们博客的主题是专门针对内容任务和编辑请求的，因此对管理面板进行了相应的修改。 </p><br><a name="id8"></a><h3> 发布前的清单 </h3><br><p> 任何工作对控制都很重要。 文章的布局是一个标准的，正式的过程，可以很容易地以检查表的形式呈现。 </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">伙计们从EmailSoldiers</a>看到了这个主意。 我们决定在家中使用它。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/so/vz/dgsovzoervieowv432hrwobhdsy.png" alt="PromoPult博客发布清单"></div><br><br><p> 如果未选中任何项目，系统将在发布前警告您。 </p><br><p> 通过单击链接，列表项中带下划线的链接-突出显示特定项。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9t/-e/qp/9t-eqpm2rmrrih17jfmkcdb8bfi.png" alt="管理面板中的其他帖子设置"></div><br><br><p> 清单的编译顺序与管理面板中的其他帖子设置相同。 </p><br><a name="id9"></a><h3> 博客文章设置 </h3><br><p> 与上述出版物清单紧密交织。 </p><br><p> 在开发主题时，我尝试不使用插件，而是为主题的任务提供一个简单的解决方案。 重点： </p><br><ul><li>  SEO元标记的描述。 </li><li> 使用社交网络共享材料并形成精美文章卡的OpenGraph标签的说明。 </li><li> 便利的工作，带有张贴的封面图片。 需要一张图片-将其添加到发布图块中的明信片上，该图块显示在主页上以及标题或标签页面上。 </li><li> 其他主题设置：帖子可以带或不带封面，标题中带有封面的简短公告文本，也用于摘要邮件列表中文章的描述。 </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7_/j4/zu/7_j4zuiopxxg4qahpvu9_j3watk.png" alt="具有PromoPult博客文章设置部分的屏幕"></div><br><br><p> 帖子设置部分是通过WordPress中的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">元框和自定义字段实现</a>的。 </p><br><p> 通过元框，还添加了发布清单。 </p><br><p> 在模板中，使用字段很简单：如果字段不为空且未填充，我们将获取值并显示出来。 例如，这是显示对该帖子的屏蔽反应的方式： </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (get_post_meta($post-&gt;ID, <span class="hljs-string"><span class="hljs-string">'postreaction'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) { <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">article_reaction</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">label</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">reaction</span></span></span><span class="hljs-class">"&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_post_meta</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ID</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">postreaction</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">); ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;&lt;!-- /.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">article_reaction</span></span></span><span class="hljs-class"> --&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> } ?&gt;</span></span></code> </pre> <br><p> 明信片上反应输出的示例： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/lv/qq/wglvqqicz681nx0m0yrgv8lzbhy.png" alt="明信片上的反应结论"></div><br><a name="id10"></a><h3> 好东西 </h3><br><p> 有一些美好的小事情，也许没人会看到。 但是，如果有人注意到-好。 </p><br><p> 例如，卡片<strong>中的</strong>帖子<strong>的发布日期以及</strong>我们的西里尔字母中的单独帖子<strong>的发布日期，</strong>并且知道如何鞠躬。 由于某种原因，这不在WordPress框中。 如果发布日期为当年，则不与我们一起显示年份；如果年份与当前年份不同，则日期与发布年一起显示。 </p><br><p>  <strong>发表评论计数器。</strong> 他们争论了很长时间，“ 0条评论”或“无评论”非常令人困惑。 解决方案非常简单：如果评论少于一个，则根本不显示评论计数器。 </p><br><p> 总的来说，我们正在单独开发评论系统，并希望在单独的大型帖子中进行讨论。 我们通过社交网络通过简单的授权创建了一个简单便捷的评论系统。 </p><br><p>  <strong>自己喜欢：</strong>评论或共享社交网络中的链接对内容的消耗率来说是一个漫长的问题，但是请单击“喜欢”并清楚表明文章很酷-简单，快捷。 我们简单点赞，然后将柜台放在明信片上。 和喜欢到达很快。 并且由于它们位于文章的底部，因此也表明已阅读文本。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2n/cn/mr/2ncnmrkkdwdlru1tsmetmuqvura.png" alt="像PromoPult博客上的发布按钮"></div><br><br><p> 他们为博客写了一个<strong>黑暗的主题</strong> -现在它很流行。 考虑到模块化结构（实际上，该站点是一组以某种方式相互组合的块）和样式的组织，因此很快就可以完成。 </p><br><a name="id11"></a><h3> 关于有趣的技术 </h3><br><p> 主题中<strong>的</strong>标记<strong>代码</strong> ，CSS和JS的最小化。  CSS和JS是通过statics收集器中的<code>WP_HTML_Compression</code>任务压缩的，但是标记的<code>WP_HTML_Compression</code>是通过WordPress钩子<code>WP_HTML_Compression</code> 。 </p><br><p> 在标记的注释中，我们添加了一个促销代码，用于那些对内部布局如何感兴趣并首先查看源代码的人： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ro/o_/s2/roo_s2bjblolfsrief4wedscr2y.png" alt="PromoPult博客的源代码"></div><br><br><p>  <strong>CSS和JS缓存。</strong> 为了缓存样式和脚本文件，但是始终保持相关性，如果要重做一些事情，则使用filemtime（）。 许多情况下使用<code>?&lt;?php echo time(); ?&gt;</code>  <code>?&lt;?php echo time(); ?&gt;</code> 。 但是此选项下载文件并在每次调用时发出请求。 </p><br><p> 最好使用这样的技巧： </p><br><pre> <code class="php hljs">&lt;link rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/css"</span></span> href=<span class="hljs-string"><span class="hljs-string">"&lt;?php echo get_template_directory_uri(); ?&gt;/assets/styles/style.css?t=&lt;?php echo filemtime(get_theme_file_path().'/assets/styles/style.css'); ?&gt;"</span></span> /&gt;</code> </pre> <br><p> 在这种情况下，如果文件已更改，将下载它们，并将文件的修改日期添加到request参数中。 </p><br><a name="id12"></a><h2> 我们使用什么插件 </h2><br><p> 尽管在某些情况下有可能并希望您做出决定，但我们仍然使用插件。 我们的清单如下： </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Google XML Sitemaps-</a>为机器人生成XML Sitemaps； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Yandex Turbo的RSS-Yandex的</a> turbo页面； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">RusToLat-</a>将俄语字符URL音译成英语； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WP-PostViews-</a>统计材料的视图； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">经典编辑器</a> -包括经典的WordPress编辑器，而不是新的代码块Gutenberg； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">授权尝试的局限性</a>是出于安全性考虑：由于几次错误的登录尝试，我们都将自定义时间段内禁止传入的尝试； </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AMP</a> -Google的AMP页面。 </li></ul><br><a name="id13"></a><h2> 针对公司博客工作人员的总结提示 </h2><br><ul><li> 我建议您在项目开始之初立即考虑扩展。 </li><li> 确保在工作中使用<code>.git</code> 。 当然，对于2019年来说，这是一个奇怪的建议，但是这个建议可以将某人从白发中拯救出来，并在出现问题时予以谴责。 </li><li> 最好将WordPress主题的开发和工作分为两个阶段：首先，组成静态对象，然后完成“拉出” WordPress主题之类的操作。 </li><li> 如果有机会-时间，团队和对您为什么需要所有这些的理解-自己动手，无需使用现成的选项。 赢得胜利并了解一切。 您不会产生拐杖。 </li><li> 如果您的博客是基于它的，请使用标准的WordPress挂钩和功能。 定制和制定便捷的解决方案非常容易。 </li><li> 方便用户和编辑者。 </li><li> 不要忘记社交网络和微布局。 </li><li> 不要忘记移动版本。 </li><li> 不要忘记对插件和系统进行定期更新。 </li><li> 仅选择经过验证的插件。 </li></ul><br><p> 博客上的工作仍在继续-与我们同在。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN457402/">https://habr.com/ru/post/zh-CN457402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN457390/index.html">马达加斯加-对比之岛</a></li>
<li><a href="../zh-CN457392/index.html">节省移动跨平台开发费用：Skyeng案例研究</a></li>
<li><a href="../zh-CN457396/index.html">热启动后自动解锁根LUKS容器</a></li>
<li><a href="../zh-CN457398/index.html">但是我在胡说八道吗？ 开发人员为什么要去gemba</a></li>
<li><a href="../zh-CN457400/index.html">戏剧性的场面大大夸大了切尔诺贝利这类核灾难的受害者人数</a></li>
<li><a href="../zh-CN457404/index.html">OpenStreetMap第465号世界新闻（06/11/2019-06/17/2019）</a></li>
<li><a href="../zh-CN457406/index.html">俄罗斯各大学的毕业生赚多少钱</a></li>
<li><a href="../zh-CN457408/index.html">6月26日欢迎来到DINS Java EVENING</a></li>
<li><a href="../zh-CN457410/index.html">Acronis基金会：学校已经在8个国家/地区建立。 你和我们在一起吗</a></li>
<li><a href="../zh-CN457412/index.html">Cookie横幅广告：如何快速检查GDPR的合规性</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>