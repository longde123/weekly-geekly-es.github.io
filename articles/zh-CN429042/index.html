<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏻 👨🏻‍🏭 🛌🏼 我们正在测试SharxBase，这是俄罗斯供应商SharxDC的软件和硬件虚拟化平台 🐢 🤫 💀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今天，我将讨论SharxBase超融合平台。 哈布雷（Habré）上没有对这一复杂事件进行审查，因此决定结束这种不公正现象。 我们的团队设法在“战斗中”测试了该解决方案，结果如下。 



 PS：削减后有很多桌子，实数和其他“肉”。 对于那些沉浸在精华中的人-欢迎光临！ 

 关于商品 
 Sha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>我们正在测试SharxBase，这是俄罗斯供应商SharxDC的软件和硬件虚拟化平台</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/429042/"> 今天，我将讨论SharxBase超融合平台。 哈布雷（Habré）上没有对这一复杂事件进行审查，因此决定结束这种不公正现象。 我们的团队设法在“战斗中”测试了该解决方案，结果如下。 <br><br><img src="https://habrastorage.org/webt/my/e0/-f/mye0-flo3itmlmf2o1zry6tu-eg.png" alt="图片"><br><br>  PS：削减后有很多桌子，实数和其他“肉”。 对于那些沉浸在精华中的人-欢迎光临！ <br><a name="habracut"></a><br><h2> 关于商品 </h2><br>  SharxBase平台基于Intel制造的服务器以及OpenNebula和StorPool开源软件。 它以盒装解决方案的形式出现，其中包括具有预安装虚拟化功能的服务器硬件和分布式存储软件。 <br><br> 可以订购四种基本标准配置（小，中，大，存储），它们的可用计算资源（处理器，RAM）和磁盘空间的数量不同。 服务器被设计为模块：一个典型的2RU机箱，最多可容纳四台服务器，以安装在标准的19英寸服务器机架中。该平台通过增加节点数来支持水平扩展，并通过增加节点中的RAM数量来支持垂直扩展。 ，安装其他驱动器和扩展卡。我们目前支持网络适配器，启动控制模块和NVMe驱动器的安装。 <br><br><h2> 储存架构 </h2><br> 为了组织分布式容错存储闪存驱动器（SSD和/或NVMe）。 使用的介质是以太网。 要传输存储存储，需要使用专用的网络接口-至少两个25 GbE接口。 提供分布式存储的服务在群集中的每个服务器上工作，并使用其部分计算资源。 资源量取决于安装的驱动器的数量和数量，平均而言，每个主机的开销为34 GB RAM。 通过iSCSI块访问协议连接到分布式存储。 为了确保容错能力，支持两次或三次数据备份。 对于生产性安装，制造商建议使用三重冗余。 当前，从存储优化技术开始，仅支持精简配置。 不支持使用分布式存储的重复数据删除和数据压缩。 将来的版本将支持擦除编码。 <br><br><h2> 虚拟化 </h2><br> 要启动虚拟机（VM），请使用KVM管理程序。 支持其创建和管理的所有基本功能： <br><br><ul><li> 从头开始创建VM，并指示所需的硬件配置（处理器核心，RAM大小，虚拟磁盘的数量和大小，网络适配器的数量等）； </li><li> 从现有或模板克隆虚拟机； </li><li> 创建即时快照（快照），删除快照，回滚从创建快照以来对VM所做的更改； </li><li> 更改先前创建的VM的硬件配置，包括为包含的VM连接或断开虚拟磁盘或网络适配器（热插拔/热拔插）； </li><li> 虚拟服务器之间的VM迁移 </li><li> 监视VM的状态，包括监视计算资源和虚拟磁盘的负载（当前大小，以MB / s或IOPS为单位的I / O量）； </li><li> 根据计划（启动，关闭，创建快照等）计划对VM的操作； </li><li> 通过Web控制台通过VNC或SPICE协议连接和管理VM。 </li></ul><br><img src="https://habrastorage.org/webt/s3/3z/cn/s33zcnamce-04s6gj2jf5oc31iy.png" alt="图片"><br>  <i>典型框图（4个节点）</i> <br><br> 平台管理是从图形界面或命令行（通过SSH连接时本地或远程）以及公共API执行的。 <br><br> 在虚拟化平台的局限性中，可以注意到缺乏在群集主机之间自动平衡VM的机制。 <br><br> 除了支持服务器虚拟化之外，SharxBase还具有创建软件配置的数据中心和私有云基础架构的能力。 作为此类功能的示例，可以注意到： <br><br><ul><li> 基于组和访问控制列表（ACL）中的用户成员资格来管理访问权限：可以将权限分配给限制对虚拟基础架构组件的访问的不同用户组； </li><li> 资源消耗核算（accounting）：处理器，RAM，磁盘资源； </li><li> 根据所消耗的资源及其价格，以任意单位估算计算资源的消耗成本（Showback）； </li><li>  IPAM（IP地址管理）的基本功能：在预定范围内自动为VM网络接口分配IP地址； </li><li>  SDN的基本功能：创建虚拟路由器以在虚拟网络之间传输流量。 </li></ul><br> 使用开发的信息安全模块，SharxBase采取了其他措施来确保平台管理系统的信息安全：用户帐户密码的可自定义要求（复杂性，长度，使用期限，可重复性等），阻止用户，管理控制台当前访问会话，注册事件和其他事件该软件被输入到俄语软件注册簿中（编号4445）。 从测试实验室收到了关于在FSTEC RF认证系统中成功完成SharxBase软件的认证测试的肯定结论，该测试用于监视NDV的缺失的第4级，并且符合GIS等级1 / ISPD安全等级（包括在内）的技术规范（满足保护虚拟化环境的要求）。 预计将在2018年12月获得符合信息安全认证系统要求的证书，即ROSS RU.0001.01BI00号（俄罗斯联邦FSTEC）。 <br><br> 下表中提供了对该功能的详细说明。 <br><br><h2> 监控方式 </h2><br>  SharxBase Monitoring提供对高级平台状态信息，警报设置和平台状态分析的访问。 <br> 监视子系统是一个分布式系统，安装在每个群集节点上，并向虚拟化管理系统提供有关平台状态的数据。 <br><br> 实时监视子系统收集有关平台资源的信息，例如： <br><br><table><tbody><tr><th> 服务器节点 </th><th> 电源供应器 </th><th> 开关 </th><th> 虚拟机 </th><th> 分布式数据仓库 </th></tr><tr><td>  -单元序列号 <br>  -节点和主板的序列号 <br>  -单位和单位温度 <br>  -CPU型号和负载 <br>  -插槽号，频率，RAM的大小和可用性 <br>  -节点和存储地址 <br>  -冷却风扇的转速 <br>  -网络适配器状态 <br>  -网络适配器序列号 <br>  -磁盘的状态及其系统信息 <br></td><td>  -电源序列号 <br>  -电源状况及其负载 <br></td><td>  -开关型号 <br>  -交换机及其端口的状态 <br>  -冷却风扇的转速 <br>  -冷却风扇的状态 <br>  -显示VLAN列表 <br></td><td>  -CPU负载 <br>  -RAM负载 <br>  -网络负载 <br>  -虚拟机状态 <br>  -磁盘读写速度 <br>  -传入/传出连接速度 <br></td><td>  -显示可用空间 <br>  -磁盘状态 <br>  -使用的磁盘空间 <br>  -驱动器错误 <br></td></tr></tbody></table><br><h2> 小计 </h2><br> 该解决方案的优势包括： <br><br><ul><li> 有可能交付制裁名单上的组织； </li><li> 该解决方案基于OpenNebula项目，该项目已经开发了很长时间。 </li><li> 支持有关服务器虚拟化的所有必要功能，足以用于中小型安装（最多128台主机）； </li><li> 信息安全模块的存在，可确保信息安全领域中法规要求的实施。 </li></ul><br> 该解决方案的缺点包括： <br><br><ul><li> 与市场上其他HCI解决方案（例如Dell VxRail，Nutanix）相比，功能较低； </li><li> 备份系统的支持有限（当前已宣布Veritas NetBackup支持）； </li><li> 有些管理任务是从控制台执行的，无法通过Web访问。 </li></ul><br><h2> 功能性 </h2><br><img src="https://habrastorage.org/webt/o6/lt/el/o6ltelcxnsjd_c96lx8knqgqxna.png" alt="图片"><br><img src="https://habrastorage.org/webt/r9/qa/r-/r9qar-ldggojsce4ual_tty2lku.png" alt="图片"><br><img src="https://habrastorage.org/webt/k4/bg/_y/k4bg_ybgnbidmtqxvxyby2hgubu.png" alt="图片"><br><img src="https://habrastorage.org/webt/gc/km/28/gckm28xyjnpyrti65uxzlzos4cu.png" alt="图片"><br><br> 在扩展超融合解决方案的产品组合时，我们与供应商一起进行了性能和容错性测试。 <br><br><h2> 性能测试 </h2><br> 测试平台是Intel HNS2600TP服务器的4节点集群。 所有服务器的配置都是相同的。 这些服务器具有以下硬件特征： <br><br><ul><li> 服务器型号-Intel HNS2600TP; </li><li> 两个Intel Xeon E5-2650 v4处理器（12个内核，时钟频率为2.2 GHz，支持超线程）； </li><li>  256 GB的RAM（224 GB的内存可用于运行VM）； </li><li> 具有2个QSFP +端口的网络适配器，数据传输速率为40 Gb / s； </li><li>  1个RAID控制器LSI SAS3008； </li><li>  6个SATA SSD驱动器，每个Intel DC S3700容量为800 GB； </li><li> 两个额定功率分别为1600 W的电源。 </li><li> 服务器上已安装SharxBase v1.5虚拟化软件。 </li></ul><br> 所有连接到Mellanox网络交换机的服务器。 连接图如图所示。 <br><br><img src="https://habrastorage.org/webt/mn/-c/ve/mn-cveotdolbvmhfd0ugghmpaos.png" alt="图片"><br>  <i>测试台上服务器的连接图</i> <br><br> 功能测试的结果证实了先前描述的所有功能。 <br><br> 磁盘子系统的测试是使用Vdbench软件5.04.06版进行的。 在每个物理服务器上，使用具有8个vCPU，16 GB RAM的Linux OS创建了一个VM。 为了在每个VM上进行测试，创建了8个100 GB的虚拟磁盘。 <br><br> 在测试期间，检查了以下类型的负载： <br><br><ul><li>  （备份）0％随机，100％读取，64 KB块大小，1个出色的IO; </li><li>  （还原）0％随机，100％写，64 KB块大小，1个未完成IO; </li><li>  （典型值）100％随机，70％读取，4 KB块大小，4个出色的IO; </li><li>  （VDI）100％随机，20％读取，4 KB块大小，8个出色IO; </li><li>  （OLTP）100％随机，70％读取，8 KB块大小，4个出色的IO。 </li></ul><br> 下表中列出了这些类型的测试结果： <br><br><img src="https://habrastorage.org/webt/_w/pf/it/_wpfitc9wrh6hgycysn3ywpne2g.png" alt="图片"><br><img src="https://habrastorage.org/webt/1j/0q/sy/1j0qsyi-8tbdj8usufyacft_1fg.png" alt="图片"><br><img src="https://habrastorage.org/webt/98/y6/uq/98y6uqj2sre-qyh_ocldf8sagrs.png" alt="图片"><br> 该存储在顺序读取和写入操作分别为8295.71 MB和2966.16 MB方面提供了特别高性能的指示器。 在典型负载（具有70％读取的4KB块的随机I / O）下的存储性能达到133977.94 IOPS，平均I / O延迟为1.91 ms，并且随着写入操作与读取操作的比率增加而降低。 <br><br><h2> 容错测试 </h2><br> 通过这些测试，可以验证系统组件之一的故障不会导致整个系统关闭。 <br><table><tbody><tr><th> 测验 </th><th> 测试细节 </th><th> 留言 </th></tr><tr><td> 存储池中的磁盘故障 </td><td>  14:00-系统正常运行； <br>  14:11-禁用服务器1中的第一个SSD； <br>  14:12-SSD故障显示在平台管理控制台中； <br>  14:21-禁用服务器2中的第一个SSD； <br>  14:35-平台管理控制台中显示了两个SSD的故障； <br>  14:38-将驱动器返回服务器1和2。SSD上的LED指示灯不显示； <br>  14:40-工程师通过CLI执行了将SSD添加到存储库的操作； <br>  14:50-在平台管理控制台中显示为正在工作； <br>  15:00-VM组件同步完成； <br></td><td> 系统正常运行。 容错指示器如前所述。 </td></tr><tr><td> 网络故障 </td><td>  15:02-系统正常运行； <br>  15:17-禁用两个服务器1端口之一； <br>  15:17-Web控制台的IP地址（隔离的服务器充当领导者）的一个Echo请求丢失，该服务器上运行的VM可通过网络访问； <br>  15:18-禁用服务器1上的第二个端口，VM和服务器管理控制台不可用； <br>  15:20-VM在服务器3节点上重新启动； <br>  15:26-服务器1的网络接口已连接，服务器返回到群集； <br>  15:35-VM磁盘组件的同步完成； <br></td><td> 系统正常运行。 </td></tr><tr><td> 一台物理服务器故障 </td><td>  15:35-系统正常运行； <br>  15:36-通过IPMI界面中的poweroff命令关闭服务器3； <br>  15:38-测试VM在服务器1上重新启动； <br>  15:40-包含服务器3； <br>  15:43-服务器操作已恢复； <br>  15:47-同步完成。 <br></td><td> 系统正常运行。 </td></tr></tbody></table><br><h2> 测试结果 </h2><br>  SharxBase平台可在任何一个主要硬件组件出现故障的情况下提供高度的可用性和容错能力。 由于磁盘子系统具有三重冗余，因此该平台可确保在出现双重故障的情况下数据的可用性和安全性。 <br><br> 该平台的缺点包括：由于需要存储和同步三个完整数据副本而导致对磁盘空间的高要求，以及缺乏用于更有效磁盘空间利用率的机制，例如重复数据删除，压缩或擦除编码。 <br><br> 根据所有测试的结果，我们可以得出结论，SharxBase超融合平台能够为各种类型的负载（包括OLTP系统，VDI和基础结构服务）提供高水平的可用性和性能。 <br><br>  <i>伊利亚·库金（Ilya Kuykin），</i> <i><br></i>  <i>领先的计算机系统设计工程师，</i> <i><br></i>  <i>喷气信息系统</i> <i><br></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN429042/">https://habr.com/ru/post/zh-CN429042/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN429032/index.html">Splunk Essentials for Financial Services Industry App，或Splunk如何进入金融分析市场</a></li>
<li><a href="../zh-CN429034/index.html">关于地下程序员的一些故事</a></li>
<li><a href="../zh-CN429036/index.html">相信我，我知道我在做什么：模块化机器人对任务执行环境的自适应</a></li>
<li><a href="../zh-CN429038/index.html">Rust新闻＃2（2018年10月）</a></li>
<li><a href="../zh-CN429040/index.html">无需麻醉即可在生产中修补Java代码</a></li>
<li><a href="../zh-CN429044/index.html">自2014年以来，苹果股价经历了最严重的下跌。 大投资者损失了数十亿美元</a></li>
<li><a href="../zh-CN429046/index.html">SObjectizer-5.5的四年开发。 在这段时间内SObjectizer发生了什么变化？</a></li>
<li><a href="../zh-CN429048/index.html">给新手托管者的提示</a></li>
<li><a href="../zh-CN429050/index.html">Gate.io加密货币交换攻击记录</a></li>
<li><a href="../zh-CN429052/index.html">为什么在触摸式笔记本电脑上某些SPA不再支持触摸事件</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>