<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö†Ô∏è üë®‚Äçüíº üë©‚Äçüéì Wie kann man Besprechungsr√§ume √ºber das Internet der Dinge effektiv nutzen? üßëüèø‚Äçü§ù‚Äçüßëüèª üêã üßôüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Juli haben wir in Moskau unser eigenes Technologie- und Ausstellungszentrum er√∂ffnet, das Digital Leadership Center. Dies ist eine neue Plattform f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie kann man Besprechungsr√§ume √ºber das Internet der Dinge effektiv nutzen?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sap/blog/422475/">  Im Juli haben wir in Moskau unser eigenes Technologie- und Ausstellungszentrum er√∂ffnet, das Digital Leadership Center.  Dies ist eine neue Plattform f√ºr Veranstaltungen, die neue innovative Szenarien demonstriert, die gemeinsam mit Kunden und SAP-Partnern entwickelt wurden. <br><br><img src="https://habrastorage.org/webt/iy/sh/hj/iyshhjwysnjmzo_qn6o8aqir7g0.jpeg"><br><br>  W√§hrend des Baus unseres eigenen Zentrums haben wir beschlossen, dass neue Technologien nicht nur als Demo-St√§nde gezeigt, sondern auch in die Arbeit des Zentrums selbst eingef√ºhrt werden m√ºssen. <br>  Zum Beispiel k√∂nnen alle S√§le und das Publikum im Zentrum - in mehrere Teile unterteilt - umgewandelt und in einem einzigen Raum zusammengefasst werden.  Die Site ist au√üerdem mit einem ‚ÄûSmart Office‚Äú ausgestattet - Ressourcenmanagementl√∂sungen, Kameras mit Gesichtserkennung, Sensoren f√ºr das Internet der Dinge. <br><br>  Dabei haben wir ein einfaches und effektives Szenario basierend auf der SAP Cloud Platform entwickelt, um zu √ºberwachen, wie die Besprechungsr√§ume effektiv genutzt werden.  In diesem Artikel erfahren Sie, wie Sie ein solches Szenario schnell und einfach an einem Tag zusammenstellen k√∂nnen. <br><br>  <i>Weiter - √ºber Sensoren, IoT-Service in der SAP Cloud Platform und ‚ÄûKarma-Bewertung‚Äú f√ºr Mitarbeiter.</i> <i><br></i> <a name="habracut"></a><br>  Wir haben zun√§chst Services auf der SAP Cloud Platform f√ºr die Integration mit Sensoren f√ºr das Internet der Dinge vorbereitet.  Zur Entwicklung der L√∂sung verwendeten wir den IoT-Service in der SAP Cloud Platform (SCP) zur Automatisierung der Daten√ºbertragung sowie die Cloud Foundry-Entwicklungsumgebung in SCP. <br><br>  Mit diesen Sensoren haben wir eine Demo erstellt: <br><br><ol><li>  Magnetkontaktsensor, der sowohl beim √ñffnen als auch beim Schlie√üen von T√ºren funktioniert </li><li>  Infrarot-Bewegungssensor zur Erkennung des Eindringens in den gesch√ºtzten Bereich und in unserem Fall auch in den Besprechungsraum </li></ol><br>  Die √úberwachung der Besprechungsr√§ume sollte durchgef√ºhrt werden, um zu √ºberpr√ºfen, wie die Mitarbeiter die R√§umlichkeiten tats√§chlich nutzen - ob die Besprechung stattgefunden hat oder der Besprechungsraum zu diesem Zeitpunkt leer war, wie viele Personen an der Besprechung teilgenommen haben und andere Details.  Auf diese Weise k√∂nnen Sie Statistiken dar√ºber sammeln, wie Mitarbeiter die Besprechungsr√§ume √ºber einen bestimmten Zeitraum effektiv genutzt haben. <br><br><img src="https://habrastorage.org/webt/du/nm/us/dunmusoraoz-1kkv3tfr8pbk0qi.png"><br>  <i>Abbildung 1. Architektur des Internet of Things-Dienstes in der SAP Cloud Platform</i> <i><br></i> <br>  Als Grundlage f√ºr dieses Beispiel haben wir die SAP Cloud Platform und den Internet of Things-Service verwendet.  Die Plattformarchitektur ist in Abb. 1 dargestellt. Sie unterst√ºtzt Funktionen zum Kombinieren einzelner Ger√§te und Access Points (Gateways) zu einem gemeinsamen Netzwerk, das auf dem Internet of Things-Dienst in der SAP Cloud Platform basiert. <br><br>  F√ºr Ger√§te ohne HTTPS / MQTT-Protokolle sowie zum Aufteilen von Ger√§ten in Segmente, die Nachrichten konsolidieren und zentral an das SAP Cloud Internet of Things senden, wird IoT GateWay Edge verwendet.  Dies ist eine Softwarekomponente, die √ºber Protokolle mit Ger√§ten kommunizieren kann: HTTPS, MQTT, Modbus (1), CoAP, Datei (2), OPC UA (3), SigFox (4), SNMP (5).  Dar√ºber hinaus kann der Entwickler das SDK verwenden, um die GateWay-Funktionen zu erweitern und seine Protokolle f√ºr den Datenaustausch mit Ger√§ten zu implementieren. <br><br><div class="spoiler">  <b class="spoiler_title">Anmerkungen</b> <div class="spoiler_text">  Hinweise aus der Dokumentation zur SAP Cloud Platform: <br><br>  1) Der Modus wird derzeit implementiert mit: <br>  ‚Ä¢ TCP / IP √ºber Ethernet <br>  ‚Ä¢ Asynchrone serielle √úbertragung √ºber verschiedene Medien (Kabel: RS-232, RS-485; Glasfaser, Radio usw.) <br>  ‚Ä¢ ModbusPLUS, ein Hochgeschwindigkeits-Token-Passing-Netzwerk. <br>  Modbus definiert eine einfache Protokolldateneinheit, die unabh√§ngig von den zugrunde liegenden Kommunikationsschichten ist.  Die Zuordnung in bestimmten Bussen oder Netzwerken kann einige zus√§tzliche Felder in der Anwendungsdateneinheit einf√ºhren.  Das Protokoll folgt einem Client-Server-Ansatz, bei dem ein Client eine Modbus-Transaktion initiiert, um einen Server nach Daten abzufragen. <br><br>  2) Der typische Arbeitsablauf des Adapters ist folgender: <br>  1. Lesen Sie eine bestimmte Datei basierend auf einer Reihe von Konfigurationsparametern. <br>  2. Gehen Sie den Dateiinhalt durch und extrahieren Sie wertvolle Felder, wie von einer Adapter-Parsing-Schemadatei angewiesen. <br>  3. Ordnen Sie solche Felder den Konzepten und Entit√§ten des Internet of Things-Dienstes zu (z. B. Ger√§teadressierungsmetadaten, Messungen usw.), auch basierend auf der Parsing-Schemadatei des Adapters. <br>  4. Streamen Sie normalisierte Daten bis zum Internet of Things Core Service. <br>  5. Entfernen Sie die Zieldatei von ihrem urspr√ºnglichen Speicherort und sichern Sie sie optional in einem anderen Ordner. <br>  Die unterst√ºtzten Dateiformate sind JSON, CSV und Bin√§r.  Bei Bin√§rdateien wird die Datei als Base64-codierte Zeichenfolge an den Internet of Things Core Service √ºbertragen. <br><br>  3) Das Internet of Things Gateway integriert OPC UA-Server als OPC UA-Client.  Der Adapter kann eine Verbindung zum Server herstellen, um eine OPC-UA-Sitzung einzurichten.  Bei der ersten Verbindung durchsucht der Adapter den Serveradressraum und erstellt ein entsprechendes Ger√§t mit einer Reihe von Sensoren.  Anschlie√üend wird der Abruf von Daten anhand von zwei m√∂glichen Optionen konfiguriert: <br>  ‚Ä¢ Periodischer Pull-Modus: Der Adapter fragt den Server regelm√§√üig nach Daten mit einem konfigurierbaren Abfrageintervall ab <br>  ‚Ä¢ Abonnementmodus: Der Adapter erstellt ein Abonnement auf den Serverknoten, das vom Server selbst benachrichtigt wird, wenn sich der Wert eines Knotens √§ndert <br><br>  4) SigFox ist ein franz√∂sisches Unternehmen, das eine UNB-basierte Funktechnologie (Ultra Narrow Band) einsetzt, um IoT-Ger√§te mit seinem Netzwerk zu verbinden.  Derzeit wird das ISM-Band auf 868 MHz (wie von ETSI und CEPT definiert) in Europa und auf 902 MHz in den USA (wie von der FCC definiert) verwendet, abh√§ngig von spezifischen regionalen Vorschriften.  Um den Servicebereich zu erweitern, unterh√§lt SigFox Partnerschaften mit mehreren Netzbetreibern auf der ganzen Welt.  Durch die Nutzung der von diesen Partnern bereitgestellten UNB-Infrastruktur erm√∂glicht SigFox die Kommunikation zwischen Ger√§ten, die das SigFox-Funkprotokoll betreiben, und der SigFox-Cloud.  In diesem Zusammenhang fungiert die SigFox-Infrastruktur als Transportschicht, die die von den Ger√§ten generierten Daten an die Cloud sendet.  Diese Schicht ist datenunabh√§ngig, dh sie interpretiert die Daten nicht, sondern √ºbertr√§gt sie einfach.  In Anbetracht dessen k√∂nnen Ger√§tehersteller, die die SigFox-Firmware auf ihren Produkten installieren, den SigFox-Dienst verwenden, um auf ihre Daten zuzugreifen, und eine Reihe von REST-APIs, um Anwendungen basierend auf diesen Daten zu erstellen.  Die Grafik zeigt das SigFox-Netzwerk auf vereinfachte Weise. <br><br>  5) Der Datenfluss folgt zwei Wegen: <br>  ‚Ä¢ Das Internet of Things Gateway f√ºhrt eine zyklische Abfrage √ºber alle Ger√§te durch und f√ºhrt f√ºr jedes angeschlossene Ger√§t einen vollst√§ndigen MIB-WALK durch. <br>  ‚Ä¢ Das Internet of Things Gateway empf√§ngt Traps von Ger√§ten, wenn die Ger√§te die Traps senden k√∂nnen. <br></div></div><br>  In der Internet of Things-Architektur kann der GateWay-Service sowohl innerhalb der SAP Cloud Platform als auch auf dem Endger√§t bereitgestellt werden.  Einer der Hauptvorteile von GateWay ist die Integration in die SAP Cloud Platform, da hierdurch das Problem der Daten√ºbertragung von Ger√§ten auf die Cloud-Plattform gel√∂st wird.  Es ist jedoch auch m√∂glich, mithilfe der MQTT / HTTPS-Protokolle ohne GateWay in den Internet of Things-Dienst zu integrieren. <br><br>  Die Architektur des Internet of Things-Dienstes basiert auf der Cloud Foundry-Umgebung, mit der Sie Ihre Anwendungen, die auf der Grundlage der Sprachen Python, JavaScript (Nodejs), Java (Tomcat), Go, Scala <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">usw.</a> entwickelt wurden, auf der SAP Cloud Platform bereitstellen k√∂nnen.  In diesem Szenario haben wir den Nodejs-Anwendungsserver verwendet, um unseren eigenen Service f√ºr die Verarbeitung von Nachrichten von Sensoren in der SAP Cloud Platform-Umgebung zu erstellen. <br><br><div class="spoiler">  <b class="spoiler_title">Beispielcode f√ºr einen Nodejs-basierten Dienst finden Sie hier.</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hdb = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'hdb'</span></span>); http.createServer(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (req.method === <span class="hljs-string"><span class="hljs-string">'POST'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> body = <span class="hljs-string"><span class="hljs-string">''</span></span>; req.on(<span class="hljs-string"><span class="hljs-string">'data'</span></span>, chunk =&gt; { body += chunk.toString(); <span class="hljs-comment"><span class="hljs-comment">// convert Buffer to string }); req.on('end', () =&gt; { var data = JSON.parse(body); var id = data.id; var data = data.payload; var timestamp = data.TIMESTAMP; var vcap_services = JSON.parse(process.env.VCAP_SERVICES); var db_cred = vcap_services["hana-db"]; var credentials = db_cred[0].credentials; var port = credentials.port; var host = credentials.host; var crt = credentials.certificate; var client = hdb.createClient({ host : host, port : port, user : 'user_name', password : 'password', useTLS: true }); client.on('error', function (err) { console.error('Network connection error', err); }); console.log(client.readyState); // new client.connect(function (err) { if (err) { return console.error('Error:', err); } console.log(client.readyState); // connected }); client.prepare('call NEW_EVENT (?, ?, ?)', function(err, statement){ if (err) { return console.error('Prepare error:', err); } statement.exec({ ID: id, PAYLOAD : data, TS: timestamp}, function(err, affectedRows) { if (err) { return console.error('Exec error:', err); } console.log('Number of affected rows:', affectedRows); }); }); res.write("OK"); res.end(); }</span></span></code> </pre> <br></div></div><br>  Um den Code in Nodejs vorzubereiten, haben wir das Node-HDB-Modul verwendet, das die Kommunikation mit dem HANA-DBMS erm√∂glicht und bereits in den Buildpack-Nodejs in CloudFoundry vorhanden ist. <br><br>  In einer CloudFoundry-Umgebung m√ºssen Sie die Abh√§ngigkeiten zwischen der Anwendung und den verwendeten Modulen definieren.  In diesem Fall kann Nodejs auf das Modul zugreifen und unsere Anwendung starten. Daher geben wir den Link in der Datei package.json an <br><br><div class="spoiler">  <b class="spoiler_title">Abh√§ngigkeit</b> <div class="spoiler_text"> <code>"dependencies" : { <br> "hdb" : "0.xx" <br> }</code> <br> </div></div><br>  Als Haupt-Data Warehouse und Engine zum Erstellen von analytischen Abfragen verwenden wir das HANA-DBMS.  Mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Node-HDB-</a> Modul k√∂nnen Sie die Funktionen Bulk Insert (um das Einf√ºgen von Daten zu beschleunigen), Transaktionsmanagement (Commit, Rollback, Autocommit) und das Aufrufen gespeicherter SQL-Prozeduren nutzen. <br><br>  Die mit den Sensoren des Internet der Dinge erhaltenen Daten gelangen √ºber den Internet of Things Service zur SAP Cloud Platform - direkt zu unserem Nodejs-basierten Service.  Sie m√ºssen zuerst das Datenmodell und das Nachrichtenformat in SAP Cloud Internet of Things konfigurieren. <br><br><h3>  Wie kann man schnell eine Benutzeroberfl√§che erstellen und die grundlegenden Komponenten von SAP UI5 anpassen? </h3><br>  Um den Status des Besprechungsraums im Service anzuzeigen, haben wir die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GenericTile-</a> Komponente verwendet.  Abbildung 2 zeigt ein Beispiel f√ºr eine benutzerdefinierte GenericTile-Komponente, die den Status des Besprechungsraums angibt. <br><br><img src="https://habrastorage.org/webt/yy/fp/ib/yyfpibdnrv_4dhqmh7juyfvkvlm.png"><br><br>  Zum Zeichnen von Symbolen und Farbanzeigen in der GenericTile-Komponente haben wir die HTML5-Canvas-Erweiterung und die Renderer-Methode des SAP UI5-Objektmodells verwendet. <br><br><div class="spoiler">  <b class="spoiler_title">Beispielcode finden Sie hier.</b> <div class="spoiler_text"><pre> <code class="javascript hljs">renderer: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oRM, oControl</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> model; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> d; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view = sap.ui.getCore().byId(<span class="hljs-string"><span class="hljs-string">"samplecontainer---mainview"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status = {<span class="hljs-string"><span class="hljs-string">"door"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"motion"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"color"</span></span>:<span class="hljs-string"><span class="hljs-string">"#2bbc2d"</span></span>,<span class="hljs-string"><span class="hljs-string">"busy"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (view != <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>) model = view.getModel(<span class="hljs-string"><span class="hljs-string">"DT1"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (model != <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>){ d = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(model.getJSON()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.busy = d.busy; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.door = d.door; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.motion = d.motion; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.color = d.color; } } oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;div"</span></span>); oRM.writeControlData(oControl); oRM.write(<span class="hljs-string"><span class="hljs-string">"&gt;"</span></span>); <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">spoiler</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.busy == <span class="hljs-number"><span class="hljs-number">0</span></span>){ oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;img id='iDT1' src='/iotex/images/room_empty.png' alt='Empty' height='64' width='70'&gt;"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;img id='iDT1' src='/iotex/images/room_booked.png' alt='Booked' height='64' width='70'&gt;"</span></span>); } oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;canvas id='cDT1' width='30' height='30'&gt;&lt;/canvas&gt;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;script&gt;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var canvas = document.getElementById('cDT1');"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var context = canvas.getContext('2d');"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var centerX = canvas.width / 2;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var centerY = canvas.height / 2;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var radius = 12;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"context.beginPath();"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.busy == <span class="hljs-number"><span class="hljs-number">1</span></span>)&amp;&amp;((<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.door != <span class="hljs-number"><span class="hljs-number">0</span></span>)||(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.motion != <span class="hljs-number"><span class="hljs-number">0</span></span>))){ oRM.write(<span class="hljs-string"><span class="hljs-string">"context.fillStyle = '#f46e41';"</span></span>);<span class="hljs-comment"><span class="hljs-comment">//red } else { oRM.write("context.fillStyle = '#ffff00';"); //yellow } if (this.status.busy == 0){ oRM.write("context.fillStyle = '#2bbc2d';"); //green } oRM.write("context.fill();"); oRM.write("&lt;/script&gt;"); oRM.write("&lt;/div&gt;"); }</span></span></code> </pre> <br></div></div><br>  <b>Wie kann ich analytische Abfragen erstellen und Diagramme in einer Benutzeroberfl√§che in einer Anwendung auf SCP anzeigen?</b> <br><br>  Der einfachste Weg, √ºber UI5 auf Daten in SAP HANA zuzugreifen, ist das OData-Protokoll.  Sie k√∂nnen ein vorgefertigtes Objektmodell verwenden, um Daten an ein UI5-Anzeigeelement zu √ºbertragen.  Wenn jedoch eine komplexe analytische Abfrage erforderlich ist, um einen Datensatz zu bilden, helfen SQLScript und gespeicherte Prozeduren in SAP HANA.  Sie k√∂nnen auch nicht auf die komplexe Entwicklung von Abfragen in SQLScript zur√ºckgreifen, sondern verwenden einfach den Editor f√ºr die Berechnungsansicht in der SAP Web IDE. <br><br><img src="https://habrastorage.org/webt/f9/4r/un/f94runnzbafdsnd1cgmjd8ryxcm.png"><br>  <i>Abbildung 3. Ein Beispiel f√ºr ein Kreisdiagramm aus der Bibliothek sap.viz.ui5</i> <br><br>  Beispiel f√ºr Javascript und SAP UI5-Code zum Anzeigen eines Kreisdiagramms <br><br><div class="spoiler">  <b class="spoiler_title">hier gezeigt</b> <div class="spoiler_text"><pre> <code class="javascript hljs">$.ajax ({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"GET"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"/iotex/odatasource/rooms.xsodata/rooms?$format=json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataType</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">async</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data, status</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> aData = data.d.results; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> UData = {<span class="hljs-attr"><span class="hljs-attr">Data</span></span>: aData}; room_model.setData(UData); } }); View.setModel(room_model,<span class="hljs-string"><span class="hljs-string">"Rooms"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oVizFrame = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.oVizFrame = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getView().byId(<span class="hljs-string"><span class="hljs-string">"idVizFrame"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oDataset = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> sap.viz.ui5.data.FlattenedDataset({ <span class="hljs-attr"><span class="hljs-attr">dimensions</span></span> : [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'Time'</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : <span class="hljs-string"><span class="hljs-string">"{Time}"</span></span>}], <span class="hljs-attr"><span class="hljs-attr">measures</span></span> : [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'Usage'</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : <span class="hljs-string"><span class="hljs-string">'{Value}'</span></span>} ], <span class="hljs-attr"><span class="hljs-attr">data</span></span> : { <span class="hljs-attr"><span class="hljs-attr">path</span></span> : <span class="hljs-string"><span class="hljs-string">"/Data"</span></span> } }); oVizFrame.setDataset(oDataset); oVizFrame.setVizProperties({ <span class="hljs-attr"><span class="hljs-attr">title</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">"   "</span></span> }, <span class="hljs-attr"><span class="hljs-attr">plotArea</span></span>: { <span class="hljs-attr"><span class="hljs-attr">colorPalette</span></span> : [<span class="hljs-string"><span class="hljs-string">'#2bbc2d'</span></span>,<span class="hljs-string"><span class="hljs-string">'#f46e41'</span></span>,<span class="hljs-string"><span class="hljs-string">'#c5f442'</span></span>], <span class="hljs-attr"><span class="hljs-attr">drawingEffect</span></span>: <span class="hljs-string"><span class="hljs-string">"glossy"</span></span> }}); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> feedSize = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> sap.viz.ui5.controls.common.feeds.FeedItem({ <span class="hljs-string"><span class="hljs-string">'uid'</span></span>: <span class="hljs-string"><span class="hljs-string">"size"</span></span>, <span class="hljs-string"><span class="hljs-string">'type'</span></span>: <span class="hljs-string"><span class="hljs-string">"Measure"</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span>: [<span class="hljs-string"><span class="hljs-string">"Usage"</span></span>] }), feedColor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> sap.viz.ui5.controls.common.feeds.FeedItem({ <span class="hljs-string"><span class="hljs-string">'uid'</span></span>: <span class="hljs-string"><span class="hljs-string">"color"</span></span>, <span class="hljs-string"><span class="hljs-string">'type'</span></span>: <span class="hljs-string"><span class="hljs-string">"Dimension"</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span>: [<span class="hljs-string"><span class="hljs-string">"Time"</span></span>] }); oVizFrame.addFeed(feedSize); oVizFrame.addFeed(feedColor);</code> </pre> <br></div></div><br>  Um die Daten im Kreisdiagramm korrekt anzuzeigen, m√ºssen Sie den Datenpfad in dem Format √ºberpr√ºfen, das in der Path-Eigenschaft des FlattenedDataset-Objekts angegeben ist.  In diesem Fall zeigt die Path-Eigenschaft auf das Objekt / Data, sodass die gew√ºnschte JSON-Struktur in der gezeigten Form dargestellt werden muss <br><br><div class="spoiler">  <b class="spoiler_title">hier</b> <div class="spoiler_text"><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">var</span></span> datapiechart = { <span class="hljs-string"><span class="hljs-string">"Data"</span></span> : []}; var yellow = {<span class="hljs-string"><span class="hljs-string">"Time"</span></span>:<span class="hljs-string"><span class="hljs-string">"Abused"</span></span>,<span class="hljs-string"><span class="hljs-string">"Value"</span></span>:<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">.yellow}; var red = {"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Time</span></span></span><span class="hljs-class">":"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Occupied</span></span></span><span class="hljs-class">","</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">":</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">red</span></span></span><span class="hljs-class">}; var green = {"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Time</span></span></span><span class="hljs-class">":"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Free</span></span></span><span class="hljs-class">","</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">":</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">green</span></span></span><span class="hljs-class">}; datapiechart.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">.push(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yellow</span></span></span><span class="hljs-class">); datapiechart.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">.push(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">red</span></span></span><span class="hljs-class">); datapiechart.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">.push(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">green</span></span></span><span class="hljs-class">); var mod = viz.getModel(); mod.setData(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">datapiechart</span></span></span><span class="hljs-class">); viz.setModel(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mod</span></span></span><span class="hljs-class">);</span></span></code> </pre> <br></div></div><br>  Um Statistiken (siehe Abb. 4) √ºber Benutzer anzuzeigen, die Besprechungsr√§ume buchen, haben wir ein einfaches UI5-Tabellenelement verwendet.  Es werden die gesammelten ‚ÄûPunkte‚Äú angezeigt, abh√§ngig von der Anzahl der ‚ÄûBesuche‚Äú bei Veranstaltungen.  So k√∂nnen skrupellose Mitarbeiter identifiziert werden, die Besprechungsr√§ume reservieren. <br><br><img src="https://habrastorage.org/webt/xo/4c/e9/xo4ce9mlpn1-614bazbu4zfbslw.png"><br>  <i>Abb. 4. Statistik der Besuche f√ºr einen bestimmten Benutzer</i> <br><br>  Mit dem Internet of Things-Dienst sowie der CloudFoundry-Umgebung in der SAP Cloud Platform k√∂nnen Sie Ihre IoT-Dienste schnell erstellen und problemlos in jedes Ger√§t integrieren.  Als Referenzquelle f√ºr den Internet of Things-Dienst k√∂nnen Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> verwenden, √ºber den die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dienstarchitektur</a> ausf√ºhrlich beschrieben und Codebeispiele bereitgestellt werden. <br><br><img src="https://habrastorage.org/webt/rj/jl/12/rjjl12bkcija7bpkqnvkiz-lzi8.jpeg"><br><br>  Sie k√∂nnen hier auch den Testzugriff verwenden, um die Cloud Foundry-Umgebung zu testen, indem Sie zuerst auf die Schaltfl√§che Anmelden klicken und den Registrierungsvorgang abschlie√üen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de422475/">https://habr.com/ru/post/de422475/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de422463/index.html">Wir untersuchen das Klima russischer St√§dte mit Python</a></li>
<li><a href="../de422465/index.html">Verwenden von Slots in Vue als Beispiel f√ºr ein Produkt-Snippet</a></li>
<li><a href="../de422467/index.html">Architektur der Ereigniskategorisierung - Warja</a></li>
<li><a href="../de422469/index.html">Anschlie√üen von FXstream-Gateways Grandstream GXW4216, GXW4224, GXW4232, GXW4248 an 3CX</a></li>
<li><a href="../de422473/index.html">GitLab 11.2 ver√∂ffentlicht: Vorschau in Web IDE und Importieren von Projekten f√ºr Android</a></li>
<li><a href="../de422477/index.html">Wie schlecht UX Entwicklern hilft, Geld zu verlieren</a></li>
<li><a href="../de422479/index.html">Die Zertifizierung dient nicht zur Zertifizierung</a></li>
<li><a href="../de422483/index.html">MIS. Insertionen und entfernte Organe</a></li>
<li><a href="../de422485/index.html">So sparen Sie Geld bei der Gr√ºndung eines Unternehmens in den USA: Unternehmensregistrierung, B√ºro, Buchhaltung und Werbung</a></li>
<li><a href="../de422487/index.html">Kurzanleitung f√ºr CSS-Variablen (Anwendungsf√§lle, Syntax und Beispiele)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>