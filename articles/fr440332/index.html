<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👰🏽 👩🏻‍🔬 🚖 Base de données dans les nuages: à qui et pourquoi - l'avis des spécialistes de Data Egret 🤹🏾 👮 🧝🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On pense que l'avenir est pour DB as Service. Cela vaut-il la peine pour tout le monde de déclencher un DBA et d'accéder à un cloud public ou de créer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Base de données dans les nuages: à qui et pourquoi - l'avis des spécialistes de Data Egret</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/440332/"> On pense que l'avenir est pour DB as Service.  Cela vaut-il la peine pour tout le monde de déclencher un DBA et d'accéder à un cloud public ou de créer un cloud privé sur Docker avec Kubernetes?  Trois experts de Data Egret - Alexei Lesovsky, Viktor Yegorov et Andrey Salnikov - sur la chaîne #RuPostgres ont partagé en direct leurs points de vue sur le type de projets auxquels les modèles de cloud sont adaptés. <br><br>  Le modérateur et le modérateur de la discussion était Nikolay Samokhvalov, fondateur de Postgres.ai et co-fondateur de la communauté RuPostgres.org. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/435/264/8c6/4352648c6057ce6a634580c2b3195212.jpg"><br><br>  Sous la coupe - transcription de la conversation. <br><a name="habracut"></a><br>  <b>- Aujourd'hui, nous allons parler de Postgres dans les nuages.</b>  <b>Et je vais commencer par une question délicate: est-il vrai que vous avez déjà plus de la moitié des clients dans les nuages?</b> <br><br>  <b>Alexei:</b> Je ne pense pas.  Se sent comme moins de la moitié.  Chacun est assis dans son propre centre de données ou loue des morceaux de fer. <br><br>  Mais avant de parler des nuages, définissons les termes.  Qu'entendons-nous par «nuages»: Amazon, Google Cloud, DB as Service? <br><br>  <b>- Je différencierais Postgres dans le cloud, préparé sur une instance Amazon EC2 (ou un analogue de Google), où vous pouvez, en gros, vous connecter via ssh et corriger la configuration, et Postgres sous contrôle (en anglais «managed»), lorsque l'accès direct au niveau du fichier ou pas de ssh, mais il n'y a que la possibilité de se connecter et d'exécuter des requêtes SQL.</b>  <b>Ils devraient en principe être examinés séparément.</b>  <b>Et ma première question concernait les Postgres gérés.</b> <br><br>  <b>Alexei:</b> Ces clients représentent nettement moins de la moitié. <br><br>  <b>Victor:</b> Eh bien, dans le premier cas - quels avantages importants avons-nous du cloud?  Quelle est la signification du cloud? <br><br>  <b>- Dans le premier cas, en utilisant divers outils modernes, tels que patroni et kubernetes (nous en parlerons séparément), vous pouvez obtenir de l'élasticité, des microservices et tout ça.</b>  <b>Ce n'est pas la même chose qu'un simple morceau de fer.</b>  <b>C'est comme «les animaux de compagnie contre le troupeau» - l'attitude envers le fer quand un animal de compagnie se développe en relation avec les machines virtuelles comme avec un troupeau.</b>  <b>Vous ne savez pas déjà quel type de presse-étoupe y est installé.</b>  <b>Vous ne les avez pas commandés, vous n'avez pas travaillé avec le fournisseur, vous n'avez pas réfléchi à la topologie.</b>  <b>Vous pouvez gagner du temps.</b> <br><br>  <b>Victor:</b> Oui.  À mon avis, le premier cas simplifie simplement le processus d'achat de fer neuf.  Vous savez ce dont vous avez besoin: combien de cœurs et de RAM, quels lecteurs.  Et vous choisissez une machine virtuelle parmi ce qu'ils vous proposent.  C'est rapide.  Mais sinon, vous devez toujours configurer et maintenir ce serveur normalement. <br><br>  <b>- Et que pensez-vous du surcoût ajouté par les machines virtuelles (aux processus à l'intérieur d'une machine virtuelle qui ne sont pas sur du bare metal, des surperformances ou des difficultés d'administration)?</b>  <b>Avez-vous mesuré cela?</b> <br><br>  <b>Alexei: Les</b> frais généraux peuvent être mesurés si vous contrôlez l'hyperviseur.  Dans les services publics, ce n'est pas le cas - ce qu'ils donnent, c'est ce que vous utilisez. <br><br>  Les frais généraux des systèmes de virtualisation habituels qui peuvent être déployés à la maison (KVM, Xen), j'ai mesuré il y a cinq ans, puis il était d'environ 7 à 8%.  De plus, cela dépendait des paramètres de la machine virtuelle et de la charge de travail.  Par exemple, il y avait beaucoup plus de frais généraux sur Redis et Postgres que sur Unicorn, qui sert les backends de Rails. <br><br>  Peut-être que maintenant les chiffres sont différents. <br><br>  <b>- Même 5-7% est un surcoût acceptable par rapport aux avantages dont Victor a parlé.</b> <b><br><br></b>  <b>Et comment modifiez-vous la composition des clients: y a-t-il un mouvement vers des bases gérées?</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eef/936/610/eef936610631c542266211cc32d168ae.png"><br><br>  <b>Alexey:</b> Non.  La tendance est plutôt l'inverse.  Les gens qui travaillent avec des choses comme RDS manquent de flexibilité pour administrer et gérer.  En conséquence, nous obtenons la même attitude «comme aux animaux de compagnie», mais dans les cas EC2. <br><br>  <b>Victor:</b> Cette situation se profile.  Il y a des clients dont les principales bases de production sont très occupées.  Naturellement, ils sont placés sur les pièces de fer allouées et sous surveillance constante.  Mais lorsque l'entreprise se développe, le développement nécessite un grand nombre d'instances de test et de développement, et elles passent à la virtualisation.  C'est-à-dire qu'il s'agit d'un cas hybride: sous des tests et des environnements de développement, du matériel peut être acheté ou des machines virtuelles peuvent être louées.  Mais la production reste sur un matériel sérieux normal. <br><br>  <b>- Amazon RDS est-il utilisé pour cela?</b> <br><br>  <b>Alexey:</b> Nos clients, au contraire, refusent RDS.  La raison, comme je l'ai dit, est le manque de flexibilité dans la gestion. <br><blockquote>  Les instances se bloquent et, dans certains cas, le problème n'est pas résolu uniquement en louant un morceau de fer plus puissant. </blockquote><br>  Vous ne pouvez pas résoudre vous-même de nombreux problèmes - uniquement avec l'aide de l'assistance. <br><br>  <b>- Est-il possible de donner des exemples?</b>  <b>Il semblerait que récemment Amazon a acheté OpenSCG - des gars formidables qui auraient dû développer l'expertise interne de Postgres.</b>  <b>Et je sais par ma propre expérience qu'il y a un examen.</b>  <b>Si vous ouvrez un ticket avec la prise en charge d'Amazon RDS et que vous tombez sur une personne qui ne peut pas vous aider, fermez simplement le ticket et ouvrez-le à nouveau, pour en trouver un plus compétent.</b> <br><br>  <b>Alexey:</b> OpenSCG est, bien sûr, une équipe de professionnels.  Mais acheter une telle équipe ne ferme pas 100% des situations possibles.  Il y a des problèmes qui supportent les visages pour la première fois.  Cela arrive aussi chez nous. <br><br>  Sur ce dernier, sur l'une des répliques PostgreSQL 10.6, la charge moyenne du client sur l'hôte a soudainement augmenté de 30 à 40 unités, bien qu'il n'y ait pas de charge.  Un tel coup souterrain incompréhensible.  Cela n'affecte pas beaucoup, mais l'image même du rebond moyen de la charge est incompréhensible.  Et elle agace les administrateurs du client.  Nous avons quelques hypothèses, ce qui a provoqué cela, mais nous n'avons pas encore pu les tester, car le système est productif et tout ne peut pas être fait rapidement là-bas. <br><br>  Et ces «coups clandestins» sortent environ une fois par an, et vous commencez à aborder la tâche de manière créative.  Et Amazon RDS est un plus grand nombre d'instances, un plus grand nombre d'installations et de tickets, respectivement, et toutes sortes de situations sont beaucoup plus importantes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe0/652/ed5/fe0652ed54fd4fbc40ce73f159f001c7.png"><br><br>  <b>Andrew:</b> Je voudrais ajouter sur la comparaison des instances RDS et EC2. <br>  Nous avions un client avec une production sur RDS.  Il a demandé conseil.  Dev-circuit était situé dans Microsoft Azure, apparemment, Azure était initialement considéré comme le principal service cloud. <br><br>  J'ai fait glisser la base de circuits de développement d'Azure vers Amazon dans EC2 pour se rapprocher de la production, et les problèmes de prévision se sont rapprochés de la base de données des produits. <br><br><blockquote>  Bien que le serveur EC2 soit deux fois plus simple que sous les instances RDS et que la charge de test soit plus élevée que le produit, dans le circuit de développement après ma configuration, les résultats étaient bien meilleurs que dans Amazon sur l'instance RDS en production. <br></blockquote><br>  Je soupçonne qu'en raison du manque d'expertise PostgreSQL au sein de l'entreprise du client, RDS a été utilisé avec la configuration par défaut.  Nous tordons tous les paramètres. <br><br>  En conséquence, le client a été très impressionné.  Je me suis tourné vers la direction avec une proposition au lieu de RDS pour prendre et configurer des instances simples. <br><br>  <b>- Au fait, comment a été mesuré, ce qui est mieux, ce qui est pire?</b> <br><br>  <b>Andrew:</b> Le client a examiné les paramètres de son application, la rapidité avec laquelle les données ont été téléchargées et traitées. <br><br>  <b>- Nous réprimandons maintenant RDS, mais il présente d'énormes avantages - il supprime beaucoup de maux de tête associés au déploiement, aux sauvegardes et à la réplication.</b>  <b>Êtes-vous d'accord</b> <br><br>  <b>Andrew:</b> Oui.  Et, très probablement, la principale raison pour laquelle le client est resté dans RDS était précisément le manque mentionné d'expertise PostgreSQL.  Ils obtiennent tout ce dont ils ont besoin avec RDS, ils paient simplement plus pour les instances. <br><br>  <b>- En plus d'Amazon RDS, il existe d'autres postgres gérés basés sur le cloud.</b>  <b>Avez-vous rencontré, par exemple, le service Yandex?</b> <br><br>  <b>Andrei:</b> Je suis tombé sur leurs machines virtuelles et je ne les aimais pas vraiment - les disques NVMe ne sont pas très honnêtes là-bas.  En fait, il existe des disques connectés sur un réseau. <br><br>  <b>- Honest NVMe (disques locaux) est également un problème.</b>  <b>Google et Amazon ont NVMe, mais les disques sont éphémères.</b>  <b>Si vous redémarrez l'instance, vous perdez toutes les données car vous disposez d'une autre machine virtuelle.</b> <br><br>  <b>Andrei:</b> Ils ont commenté sur moi à Yandex Cloud qu'ils ont honnête NVMe dans DB en tant que service, mais je n'ai pas encore rencontré ce service.  Apparemment, il existe une architecture légèrement différente au niveau de la fourniture des ressources. <br><br>  Ils travaillent très dur sur DB en tant que service, car ils l'utilisent pour leurs services.  C'est juste qu'il y a différents points d'entrée pour les clients externes et à usage interne. <br><br>  <b>- Et qu'en pensez-vous, y a-t-il des perspectives pour les Postgres russes dans le cloud?</b>  <b>Va décoller ou ne pas décoller?</b> <br><br>  <b>Andrew:</b> <br><blockquote>  Yandex dispose d'une excellente équipe, assez expérimentée, avec une bonne expertise.  Je pense qu'ils vont décoller. </blockquote><br>  Premièrement, ils exploitent eux-mêmes beaucoup de Postgres (plus de 1000 bases de données sur leurs projets), et depuis  exploiter, tous les cônes et les points douloureux fonctionneront et se répareront plus rapidement.  Je pense que le client recevra un service final d'assez bonne qualité. <br><br>  Et il existe une demande pour de telles solutions.  Prenez une startup qui au début ne peut pas avoir l'expertise nécessaire en Postgres pour diverses raisons: chères, elles ne voient pas l'intérêt, essayez différentes technologies.  Pour lui, c'est une bonne solution, car dans ces services, il y a des «rebondissements» limités qui ne devraient pas être déformés, et si cela, je pense, il y aura un support technique. <br><br>  Certes, Yandex Cloud est encore au début, et peu de fonctionnalités sont présentées pour le moment. <br><br>  <b>- Nous avons des questions de la salle de chat: que pensez-vous du fait que lors de l'émission de machines virtuelles, quelqu'un peut physiquement s'asseoir sur cette machine (limitation, vol de temps).</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd9/d21/08d/fd9d2108d4134177d49c1785c7336c9a.jpg"><br><br>  <b>Victor:</b> Oui, il y a une telle expérience.  Je voulais juste le mentionner.  Certains clients ont déployé leurs propres systèmes de virtualisation.  De temps en temps, ils demandent à voir un serveur non-produit, et nous voyons une situation incompréhensible: nous n'observons pas les raisons pour lesquelles il devrait se casser sur ce serveur.  Ensuite, nous redirigeons les questions vers leurs administrateurs avec une demande pour voir ce qui se passe sur l'hôte. <br><br>  <b>- Et que faire, y a-t-il un effet similaire sur Amazon?</b>  <b>Existe-t-il des méthodes pour déterminer que vous êtes «coincé»?</b>  <b>pgbench pour conduire?</b> <br><br>  <b>Alexei:</b> Je ne m'en souviens pas.  Mais la manière habituelle est de déterminer le temps de vol.  Sur les graphiques de surveillance, en règle générale, nous ne voyons pas de grandes valeurs. <br><br>  <b>- Je pense que vous n'aimez pas vraiment Postgres géré.</b>  <b>Est-ce dû au fait que RDS prend votre travail?</b> <br><br>  <b>Alexey:</b> Non.  Cela est probablement dû au fait que nous ne l'avons tout simplement pas.  Managed Postgres est bon car vous pouvez déployer l'infrastructure en un clic.  Tant que vous êtes une startup et que vous ajoutez ou lisez simplement des données sans logique complexe, tout va bien.  Et lorsque vous franchissez une certaine ligne, par exemple, vous commencez à exécuter un grand nombre de JOIN, faites du SQL complexe, la tâche se pose pour optimiser les requêtes et RDS cesse d'être suffisant.  Cela prend plus de liberté et d'influence, mais les outils disponibles ne vous aident pas à résoudre les problèmes profonds associés à la cession des ressources au sein même de Postgres.  Il n'y a que l'occasion d'augmenter la puissance du morceau de fer: payé plus d'argent - reçu. <br><br>  <b>Andrew:</b> Il n'y a pas tellement d'aversion pour RDS et de peur pour le travail.  Le problème est différent.  Supposons qu'une startup prenne RDS, il leur donne tout.  Mais il n'a pas augmenté son expertise dans Postgres.  Ensuite, disons une photo de démarrage.  Les charges augmentent - l'écriture et la lecture ont augmenté.  En l'absence de son expertise, une startup doit chercher des personnes de côté.  Les DBA sévères viennent voir qu'ils ne peuvent plus tirer parti du RDS, mais à partir d'une instance EC2 régulière, il est tout à fait possible d'obtenir plus de performances, comme dans l'exemple que j'ai mentionné plus tôt.  Si nous étions autorisés sur RDS, nous pourrions peut-être modifier et améliorer la base de données, mais nous ne l'avons pas fait. <br><br>  <b>- Le problème d'accès est en cours de résolution.</b>  <b>Il existe des Postgres gérés qui fournissent un accès ssh (et même complètement root), par exemple une petite entreprise finlandaise Aiven.</b>  <b>Par défaut, ils ne donnent pas d'accès root, mais le fondateur (et je lui ai parlé plusieurs fois) a parlé de sa volonté d'accorder l'accès sur demande.</b> <br><br>  <b>Andrew: Le</b> problème n'est pas seulement l'accès.  Pourquoi sommes-nous mieux avec des glandes pures?  Parce que nous avons beaucoup de clients différents et chacun a sa propre infrastructure.  Et les infrastructures sont si éloignées que la méthodologie générale qui fonctionne de la même manière partout, nous ne pouvons tout simplement pas.  Parce qu'il y a ceux qui ont leur propre matériel, et ils ne peuvent tout simplement pas héberger quelque part (selon certaines de leurs propres règles et restrictions), et il y a ceux qui sont dans les nuages. <br><br>  <b>- Vous voulez dire que la définition des index non utilisés dépend du morceau de fer?</b>  <b>Ou d'autres choses banales?</b> <br><br>  <b>Andrew:</b> Du point de vue de l'administration, c'est le schéma de la base de données et la définition des index non utilisés que les clouds ne sont pas différents de leur matériel.  Tout est unifié. <br><br>  La différence entre un cloud et un véritable matériel - dans la couche entre la base et spécifiquement le matériel qui se trouve en dessous - est le système d'exploitation et les virtualisations utilisées.  Lorsque vous avez de grandes bases de données, il est important pour vous de savoir à quelle vitesse les disques envoient et reçoivent des données, à quel point la mémoire et le processeur sont utilisés efficacement, il est donc extrêmement important de réduire l'influence de cette couche afin que la base de données fonctionne plus efficacement. <br><br>  <b>- Une autre question du public: qu'en est-il des paramètres du noyau?</b> <br><br>  <b>Victor:</b> Dans EC2, ces choses sont personnalisables. <br><br>  <b>- Il existe de nouvelles solutions pour la classe "Postgres gérés" de fournisseurs bien connus, en plus d'Amazon et de Google.</b>  <b>Par exemple, Nutanix et SAP ont annoncé en 2018 la création de solutions basées sur Postgres.</b>  <b>Ne pensez-vous pas que tous ces gars nous conduisent à l'émergence de certaines décisions qui feront de même, mais uniquement sur votre morceau de fer?</b>  <b>Pour que vous puissiez cliquer sur le bouton et déployer le nouveau Postgres, où les sauvegardes et la réplication sont déjà configurées.</b> <br><br>  <b>Alexei:</b> Il me semble que SAP et d'autres ne sont pas entièrement rentables.  Ce sont de grands fournisseurs de fer et de logiciels.  Ils fabriquent un produit dans le but de gagner de l'argent.  Vendez du support au moins.  Par conséquent, nous devons voir comment ils en profiteront.  Si un tel modèle de livraison de produits leur est bénéfique, pourquoi pas? <br><br>  <b>- Je voulais dire un peu différent.</b>  <b>Plus précisément, ces gars-là ne publieront rien en open source et donneront gratuitement.</b>  <b>Mais ne pensez-vous pas que quelqu'un du plus petit, mais fringant fera quelque chose comme ça?</b>  <b>Peut-être que cela se concentrera sur Kubernetes, Operator Framework.</b>  <b>Il y a déjà quelques développements que les opérateurs font - Zalando, par exemple.</b>  <b>Et ne pensez-vous pas que le RDS basé sur le cloud facilite une transition progressive vers de telles solutions?</b>  <b>Nous voyons comment vous pouvez vivre sans grimper dans les configs avec vos mains.</b> <br><br>  <b>Alexey:</b> Il s'avère que ce n'est pas tout à fait réussi. <br><blockquote>  Vous aurez tout de même besoin de spécialistes qui surveilleront tout cela et grimperont sous le capot en cas de problème. <br></blockquote><br>  Même le très Kubernetes est une machine très complexe, avec de nombreux composants sous le capot.  Formellement, ce ne sont que cinq binaires.  Mais leur interaction les uns avec les autres est décrite par des volumes de documentation et de nombreuses informations sur les forums de discussion, les newsletters et les groupes Google.  C'est-à-dire  vous avez toujours besoin d'un spécialiste qui suivra cette cuisine. <br><br>  De plus, tout cela se développe de manière très dynamique.  La compatibilité descendante passe de version en version.  C'est-à-dire  tout est très instable et instable.  Lorsque tout se calme, nous obtiendrons peut-être un produit adapté, stable et fiable.  Mais jusqu'à présent, tout n'est pas très. <br><br>  <b>Victor:</b> Nous commençons à parler du fait que nous avons une couche supplémentaire d'infrastructure qui doit être gérée - pour orchestrer ce Kubernetes. <br><br><blockquote>  Je ne suis pas d'accord pour dire qu'il fonctionnera toujours comme par magie d'un simple clic sur un bouton.  Il est nécessaire de garder des spécialistes compétents. <br></blockquote><br>  Et le second - nos clients s'adaptent constamment aux changements commerciaux.  En conséquence, la charge dans la base de données change constamment.  Et si nous avons tout léché il y a trois mois, à la suite de quoi toutes les demandes ont fonctionné comme prévu, et tout s'est bien passé, une nouvelle demande peut arriver aujourd'hui ou demain, ou en raison de modifications des données, la demande existante cessera de fonctionner comme il se doit.  Et nous devons analyser la situation et entrer dans les paramètres du système.  Et c'est cette automatisation qui, me semble-t-il, rend ces instances gérées très difficiles.  Lorsque les nuages ​​atteignent un état tel qu'ils s'adapteront également à de telles situations, je ne sais pas.  Mais bien que ce soit une partie importante du travail qui doit être fait, il est nécessaire d'adapter les paramètres de la base de données aux changements dans le modèle des demandes entrantes. <br><br>  Et comme le cloud lui-même est une charge administrative supplémentaire, il est plus facile pour nous lorsque cette couche n’est tout simplement pas là, car nous pouvons nous concentrer sur les problèmes de la base de données. <br><br>  Si le client veut vivre dans le cloud et possède l'expertise, nous n'avons rien contre.  L'essentiel est que nous ayons la possibilité, lorsque la base de données n'est pas très bonne, de grimper (de préférence par ssh), de tout vérifier et d'avoir accès à toutes les statistiques. <br><br>  <b>Alexey:</b> Pas nécessairement par ssh.  Mais dans tous les cas, des outils de diagnostic sont nécessaires.  Parce que le diagnostic par email est très long et fastidieux.  C'est ennuyeux lorsque vous envoyez un lien de discussion vers une demande à exécuter, le client, en revanche, clique sur ce lien, copie la demande, puis vous copie le résultat ou vous envoie une capture d'écran.  C'est tout le temps. <br><br>  Il est beaucoup plus facile de se connecter et de voir directement, de tester certaines de vos hypothèses et d'agir plus loin. <br><br>  <b>- Avez-vous des exemples actifs où Kubernetes est déjà utilisé et où Postgres y réside?</b> <br><br>  <b>Alexei:</b> Malheureusement, non.  Mais j'aimerais vraiment.  J'aime beaucoup Kubernetes, je suis proche de son concept et de sa philosophie. <br><br><blockquote>  À mon avis, Kubernetes est une chose qui encourage les gens à programmer davantage, à créer un produit plus, sans penser à des choses secondaires comme la structure interne de l'infrastructure. </blockquote><br>  Un rôle similaire était auparavant joué par la POO.  Il est apparu et beaucoup de gens se sont intéressés à ce domaine, car la programmation est devenue un peu plus facile.  Kubernetes ferme également beaucoup de choses sur lui-même, les cache sous le capot et permet à une personne de se concentrer sur l'aspect créatif et de programmer davantage. <br><br>  Kubernetes implémente la prise en charge des instances, des foyers et des applications.  S'il se bloque soudainement - eh bien, Kubernetes le relancera.  C'est-à-dire  le développeur et l'administrateur sont exempts de maux de tête et d'un suivi constant.  J'aime cette réponse à la situation.  Quand quelque chose tombe, il redémarre automatiquement. <br><br>   , ,       .      —    ,       ,   .       . <br><br> <b>– ,     ?</b> <br><br> <b>:</b>   ,   .  ,     .     -   ,        .     ,  ,     Kubernetes.   Kubernetes .   CNCF      . ,   . <br><br>        –      - kubernetes_ru.      github,        Kubernetes:      .    Postgres,    . <br><br> , , ,  .  , Kubernetes –    ,   .    -     IT. <br><br> <b>–      ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon Aurora PostgreSQL Serverless</a> ?    ,    ,         .         ,  . ..      .</b> <br><br> <b>:</b> <br><blockquote>    .      . </blockquote><br> ,     .     ,  ,           .      :   ,    .    ,       - .    . <br><br> <b>–     .                    .       ,   ,    .</b> <br><br> <b>:</b>    .  ,     .  ,      , –     .    ,  ,      ,           ,      . <br><br><blockquote>  C'est-à-dire  .     –  ,  ,   70% .         .      . <br><br>   ,  ,   « »,      . </blockquote><br> <b>–   .    ,   ,  DBA    : -    ,  - —  , ?</b> <br><br> <b>:</b>  , ,   , –    DBA,  SQL-developer.     Oracle   SQL-developer,      ,  ,   ,    .    ,     Oracle.          .   DBA     ,   - . <br><br> DBA —  -  «» ,        . <br><br>      Kubernetes.      ,     .        .     ,    Kubernetes    .       ,           volume   .  C'est-à-dire     ,    .         ,    . <br><br> <b>–    ?</b> <br><br> <b>:</b> . <br><blockquote>   ,     . ,  ,       .      ,   Postgres (        ).      Postgres   - .  C'est-à-dire    (,  ),      . </blockquote><br>       ,             . <br><br>         ,   ,      .       .      .             . <br><br> <b>–     ?</b> <br><br> <b>:</b>     - . ,    ,    . <br><br> ,     Cassandra.      .  C'est-à-dire      —   ,    Kubernetes. <br><br><blockquote>   ,  ,   .   ,  ,      . <br><br>  C'est-à-dire    .  DBA,  ,       –     .   ,    ,      -  –       . <br></blockquote><br> <b>–      ?</b> <br><br> <b>:</b>     . ,    . , ,  ,         Kubernetes .  ,  , ,  ,     - -         Kubernetes (       ). <br><br> <b>:</b>      Kubernetes.      –   patroni.    Zalando   Kubernetes.     ,    ,       (     –  ,   Amazon   ,    ).   ,          –   .    ,  – .   –  - Kubernetes. <br><br> <b>–       RDS.    EC2   Postgres   .      patroni ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/zalando/patroni</a> ),      .</b> <br><br> <b>:</b> ,  ,     -  high availability. <br><br> <b>– .   —   ,        ?</b> <br><br> <b>:</b>  ,       -  . <br>      Zalando     DBA,   patroni.  C'est-à-dire   ,        Kubernetes     , DBA . <br><br> <b>– .     DBA,   DBA  «»  «».</b> <br><br> <b>:</b> ,     .        .   ,   ,    . <br><br> <b>–    -  Kubernetes?    ?</b> <br><br> <b>:</b>      -  ,      .   Kubernetes     –     ,  .   Kubernetes  -     .                .          DBA.      Kubernetes (,    Kubernetes      ,        ,     ). <br><br>      -   ,       ,     -     -          -. <br><br> <b>:</b>      ( Kubernetes   ),    -   .       ,       —      —       .     - ,   ,  , , ,  ,         . <br><br> <b>:</b> <br><blockquote>       .    Kubernetes    ,        .     ,    .   . </blockquote><br>      ,      —   .    ,     Postgres-    ,    , .     . <br><br> <b>:</b>    … <br><br> <b>– ..      :    -  —   dev environment,   production –    Kubernetes.  ...</b> <br><br> <b>:</b>     latency    ,    ,  .      . <br><br> <b>–   ,     .    . <br>    ,                <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petersburg HighLoad ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></b> <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Une vidéo complète de la conversation peut être trouvée </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr440332/">https://habr.com/ru/post/fr440332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr440322/index.html">Pourquoi les disques durs deviennent moins susceptibles de tomber en panne</a></li>
<li><a href="../fr440324/index.html">La nouvelle fondation de la Linux Foundation - elle développera l'informatique de pointe</a></li>
<li><a href="../fr440326/index.html">Gestion du changement client par le modèle ADKAR</a></li>
<li><a href="../fr440328/index.html">La probabilité de gagner un match avec la probabilité connue de gagner un point II</a></li>
<li><a href="../fr440330/index.html">En bref sur les abstractions</a></li>
<li><a href="../fr440334/index.html">Webinaire ouvert "Développement de systèmes hautement chargés en PHP"</a></li>
<li><a href="../fr440336/index.html">HTML que nous avons perdu</a></li>
<li><a href="../fr440338/index.html">Comment garantir la disponibilité d'un service Web dans le cloud en cas de panne du centre de données</a></li>
<li><a href="../fr440342/index.html">Code C # universel pour NET et JavaScript</a></li>
<li><a href="../fr440350/index.html">Flying Bear Tornado 2 - un nouvel ours est arrivé</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>