<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘°ğŸ½ ğŸ‘©ğŸ»â€ğŸ”¬ ğŸš– Base de donnÃ©es dans les nuages: Ã  qui et pourquoi - l'avis des spÃ©cialistes de Data Egret ğŸ¤¹ğŸ¾ ğŸ‘® ğŸ§ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On pense que l'avenir est pour DB as Service. Cela vaut-il la peine pour tout le monde de dÃ©clencher un DBA et d'accÃ©der Ã  un cloud public ou de crÃ©er...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Base de donnÃ©es dans les nuages: Ã  qui et pourquoi - l'avis des spÃ©cialistes de Data Egret</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/440332/"> On pense que l'avenir est pour DB as Service.  Cela vaut-il la peine pour tout le monde de dÃ©clencher un DBA et d'accÃ©der Ã  un cloud public ou de crÃ©er un cloud privÃ© sur Docker avec Kubernetes?  Trois experts de Data Egret - Alexei Lesovsky, Viktor Yegorov et Andrey Salnikov - sur la chaÃ®ne #RuPostgres ont partagÃ© en direct leurs points de vue sur le type de projets auxquels les modÃ¨les de cloud sont adaptÃ©s. <br><br>  Le modÃ©rateur et le modÃ©rateur de la discussion Ã©tait Nikolay Samokhvalov, fondateur de Postgres.ai et co-fondateur de la communautÃ© RuPostgres.org. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/435/264/8c6/4352648c6057ce6a634580c2b3195212.jpg"><br><br>  Sous la coupe - transcription de la conversation. <br><a name="habracut"></a><br>  <b>- Aujourd'hui, nous allons parler de Postgres dans les nuages.</b>  <b>Et je vais commencer par une question dÃ©licate: est-il vrai que vous avez dÃ©jÃ  plus de la moitiÃ© des clients dans les nuages?</b> <br><br>  <b>Alexei:</b> Je ne pense pas.  Se sent comme moins de la moitiÃ©.  Chacun est assis dans son propre centre de donnÃ©es ou loue des morceaux de fer. <br><br>  Mais avant de parler des nuages, dÃ©finissons les termes.  Qu'entendons-nous par Â«nuagesÂ»: Amazon, Google Cloud, DB as Service? <br><br>  <b>- Je diffÃ©rencierais Postgres dans le cloud, prÃ©parÃ© sur une instance Amazon EC2 (ou un analogue de Google), oÃ¹ vous pouvez, en gros, vous connecter via ssh et corriger la configuration, et Postgres sous contrÃ´le (en anglais Â«managedÂ»), lorsque l'accÃ¨s direct au niveau du fichier ou pas de ssh, mais il n'y a que la possibilitÃ© de se connecter et d'exÃ©cuter des requÃªtes SQL.</b>  <b>Ils devraient en principe Ãªtre examinÃ©s sÃ©parÃ©ment.</b>  <b>Et ma premiÃ¨re question concernait les Postgres gÃ©rÃ©s.</b> <br><br>  <b>Alexei:</b> Ces clients reprÃ©sentent nettement moins de la moitiÃ©. <br><br>  <b>Victor:</b> Eh bien, dans le premier cas - quels avantages importants avons-nous du cloud?  Quelle est la signification du cloud? <br><br>  <b>- Dans le premier cas, en utilisant divers outils modernes, tels que patroni et kubernetes (nous en parlerons sÃ©parÃ©ment), vous pouvez obtenir de l'Ã©lasticitÃ©, des microservices et tout Ã§a.</b>  <b>Ce n'est pas la mÃªme chose qu'un simple morceau de fer.</b>  <b>C'est comme Â«les animaux de compagnie contre le troupeauÂ» - l'attitude envers le fer quand un animal de compagnie se dÃ©veloppe en relation avec les machines virtuelles comme avec un troupeau.</b>  <b>Vous ne savez pas dÃ©jÃ  quel type de presse-Ã©toupe y est installÃ©.</b>  <b>Vous ne les avez pas commandÃ©s, vous n'avez pas travaillÃ© avec le fournisseur, vous n'avez pas rÃ©flÃ©chi Ã  la topologie.</b>  <b>Vous pouvez gagner du temps.</b> <br><br>  <b>Victor:</b> Oui.  Ã€ mon avis, le premier cas simplifie simplement le processus d'achat de fer neuf.  Vous savez ce dont vous avez besoin: combien de cÅ“urs et de RAM, quels lecteurs.  Et vous choisissez une machine virtuelle parmi ce qu'ils vous proposent.  C'est rapide.  Mais sinon, vous devez toujours configurer et maintenir ce serveur normalement. <br><br>  <b>- Et que pensez-vous du surcoÃ»t ajoutÃ© par les machines virtuelles (aux processus Ã  l'intÃ©rieur d'une machine virtuelle qui ne sont pas sur du bare metal, des surperformances ou des difficultÃ©s d'administration)?</b>  <b>Avez-vous mesurÃ© cela?</b> <br><br>  <b>Alexei: Les</b> frais gÃ©nÃ©raux peuvent Ãªtre mesurÃ©s si vous contrÃ´lez l'hyperviseur.  Dans les services publics, ce n'est pas le cas - ce qu'ils donnent, c'est ce que vous utilisez. <br><br>  Les frais gÃ©nÃ©raux des systÃ¨mes de virtualisation habituels qui peuvent Ãªtre dÃ©ployÃ©s Ã  la maison (KVM, Xen), j'ai mesurÃ© il y a cinq ans, puis il Ã©tait d'environ 7 Ã  8%.  De plus, cela dÃ©pendait des paramÃ¨tres de la machine virtuelle et de la charge de travail.  Par exemple, il y avait beaucoup plus de frais gÃ©nÃ©raux sur Redis et Postgres que sur Unicorn, qui sert les backends de Rails. <br><br>  Peut-Ãªtre que maintenant les chiffres sont diffÃ©rents. <br><br>  <b>- MÃªme 5-7% est un surcoÃ»t acceptable par rapport aux avantages dont Victor a parlÃ©.</b> <b><br><br></b>  <b>Et comment modifiez-vous la composition des clients: y a-t-il un mouvement vers des bases gÃ©rÃ©es?</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eef/936/610/eef936610631c542266211cc32d168ae.png"><br><br>  <b>Alexey:</b> Non.  La tendance est plutÃ´t l'inverse.  Les gens qui travaillent avec des choses comme RDS manquent de flexibilitÃ© pour administrer et gÃ©rer.  En consÃ©quence, nous obtenons la mÃªme attitude Â«comme aux animaux de compagnieÂ», mais dans les cas EC2. <br><br>  <b>Victor:</b> Cette situation se profile.  Il y a des clients dont les principales bases de production sont trÃ¨s occupÃ©es.  Naturellement, ils sont placÃ©s sur les piÃ¨ces de fer allouÃ©es et sous surveillance constante.  Mais lorsque l'entreprise se dÃ©veloppe, le dÃ©veloppement nÃ©cessite un grand nombre d'instances de test et de dÃ©veloppement, et elles passent Ã  la virtualisation.  C'est-Ã -dire qu'il s'agit d'un cas hybride: sous des tests et des environnements de dÃ©veloppement, du matÃ©riel peut Ãªtre achetÃ© ou des machines virtuelles peuvent Ãªtre louÃ©es.  Mais la production reste sur un matÃ©riel sÃ©rieux normal. <br><br>  <b>- Amazon RDS est-il utilisÃ© pour cela?</b> <br><br>  <b>Alexey:</b> Nos clients, au contraire, refusent RDS.  La raison, comme je l'ai dit, est le manque de flexibilitÃ© dans la gestion. <br><blockquote>  Les instances se bloquent et, dans certains cas, le problÃ¨me n'est pas rÃ©solu uniquement en louant un morceau de fer plus puissant. </blockquote><br>  Vous ne pouvez pas rÃ©soudre vous-mÃªme de nombreux problÃ¨mes - uniquement avec l'aide de l'assistance. <br><br>  <b>- Est-il possible de donner des exemples?</b>  <b>Il semblerait que rÃ©cemment Amazon a achetÃ© OpenSCG - des gars formidables qui auraient dÃ» dÃ©velopper l'expertise interne de Postgres.</b>  <b>Et je sais par ma propre expÃ©rience qu'il y a un examen.</b>  <b>Si vous ouvrez un ticket avec la prise en charge d'Amazon RDS et que vous tombez sur une personne qui ne peut pas vous aider, fermez simplement le ticket et ouvrez-le Ã  nouveau, pour en trouver un plus compÃ©tent.</b> <br><br>  <b>Alexey:</b> OpenSCG est, bien sÃ»r, une Ã©quipe de professionnels.  Mais acheter une telle Ã©quipe ne ferme pas 100% des situations possibles.  Il y a des problÃ¨mes qui supportent les visages pour la premiÃ¨re fois.  Cela arrive aussi chez nous. <br><br>  Sur ce dernier, sur l'une des rÃ©pliques PostgreSQL 10.6, la charge moyenne du client sur l'hÃ´te a soudainement augmentÃ© de 30 Ã  40 unitÃ©s, bien qu'il n'y ait pas de charge.  Un tel coup souterrain incomprÃ©hensible.  Cela n'affecte pas beaucoup, mais l'image mÃªme du rebond moyen de la charge est incomprÃ©hensible.  Et elle agace les administrateurs du client.  Nous avons quelques hypothÃ¨ses, ce qui a provoquÃ© cela, mais nous n'avons pas encore pu les tester, car le systÃ¨me est productif et tout ne peut pas Ãªtre fait rapidement lÃ -bas. <br><br>  Et ces Â«coups clandestinsÂ» sortent environ une fois par an, et vous commencez Ã  aborder la tÃ¢che de maniÃ¨re crÃ©ative.  Et Amazon RDS est un plus grand nombre d'instances, un plus grand nombre d'installations et de tickets, respectivement, et toutes sortes de situations sont beaucoup plus importantes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe0/652/ed5/fe0652ed54fd4fbc40ce73f159f001c7.png"><br><br>  <b>Andrew:</b> Je voudrais ajouter sur la comparaison des instances RDS et EC2. <br>  Nous avions un client avec une production sur RDS.  Il a demandÃ© conseil.  Dev-circuit Ã©tait situÃ© dans Microsoft Azure, apparemment, Azure Ã©tait initialement considÃ©rÃ© comme le principal service cloud. <br><br>  J'ai fait glisser la base de circuits de dÃ©veloppement d'Azure vers Amazon dans EC2 pour se rapprocher de la production, et les problÃ¨mes de prÃ©vision se sont rapprochÃ©s de la base de donnÃ©es des produits. <br><br><blockquote>  Bien que le serveur EC2 soit deux fois plus simple que sous les instances RDS et que la charge de test soit plus Ã©levÃ©e que le produit, dans le circuit de dÃ©veloppement aprÃ¨s ma configuration, les rÃ©sultats Ã©taient bien meilleurs que dans Amazon sur l'instance RDS en production. <br></blockquote><br>  Je soupÃ§onne qu'en raison du manque d'expertise PostgreSQL au sein de l'entreprise du client, RDS a Ã©tÃ© utilisÃ© avec la configuration par dÃ©faut.  Nous tordons tous les paramÃ¨tres. <br><br>  En consÃ©quence, le client a Ã©tÃ© trÃ¨s impressionnÃ©.  Je me suis tournÃ© vers la direction avec une proposition au lieu de RDS pour prendre et configurer des instances simples. <br><br>  <b>- Au fait, comment a Ã©tÃ© mesurÃ©, ce qui est mieux, ce qui est pire?</b> <br><br>  <b>Andrew:</b> Le client a examinÃ© les paramÃ¨tres de son application, la rapiditÃ© avec laquelle les donnÃ©es ont Ã©tÃ© tÃ©lÃ©chargÃ©es et traitÃ©es. <br><br>  <b>- Nous rÃ©primandons maintenant RDS, mais il prÃ©sente d'Ã©normes avantages - il supprime beaucoup de maux de tÃªte associÃ©s au dÃ©ploiement, aux sauvegardes et Ã  la rÃ©plication.</b>  <b>ÃŠtes-vous d'accord</b> <br><br>  <b>Andrew:</b> Oui.  Et, trÃ¨s probablement, la principale raison pour laquelle le client est restÃ© dans RDS Ã©tait prÃ©cisÃ©ment le manque mentionnÃ© d'expertise PostgreSQL.  Ils obtiennent tout ce dont ils ont besoin avec RDS, ils paient simplement plus pour les instances. <br><br>  <b>- En plus d'Amazon RDS, il existe d'autres postgres gÃ©rÃ©s basÃ©s sur le cloud.</b>  <b>Avez-vous rencontrÃ©, par exemple, le service Yandex?</b> <br><br>  <b>Andrei:</b> Je suis tombÃ© sur leurs machines virtuelles et je ne les aimais pas vraiment - les disques NVMe ne sont pas trÃ¨s honnÃªtes lÃ -bas.  En fait, il existe des disques connectÃ©s sur un rÃ©seau. <br><br>  <b>- Honest NVMe (disques locaux) est Ã©galement un problÃ¨me.</b>  <b>Google et Amazon ont NVMe, mais les disques sont Ã©phÃ©mÃ¨res.</b>  <b>Si vous redÃ©marrez l'instance, vous perdez toutes les donnÃ©es car vous disposez d'une autre machine virtuelle.</b> <br><br>  <b>Andrei:</b> Ils ont commentÃ© sur moi Ã  Yandex Cloud qu'ils ont honnÃªte NVMe dans DB en tant que service, mais je n'ai pas encore rencontrÃ© ce service.  Apparemment, il existe une architecture lÃ©gÃ¨rement diffÃ©rente au niveau de la fourniture des ressources. <br><br>  Ils travaillent trÃ¨s dur sur DB en tant que service, car ils l'utilisent pour leurs services.  C'est juste qu'il y a diffÃ©rents points d'entrÃ©e pour les clients externes et Ã  usage interne. <br><br>  <b>- Et qu'en pensez-vous, y a-t-il des perspectives pour les Postgres russes dans le cloud?</b>  <b>Va dÃ©coller ou ne pas dÃ©coller?</b> <br><br>  <b>Andrew:</b> <br><blockquote>  Yandex dispose d'une excellente Ã©quipe, assez expÃ©rimentÃ©e, avec une bonne expertise.  Je pense qu'ils vont dÃ©coller. </blockquote><br>  PremiÃ¨rement, ils exploitent eux-mÃªmes beaucoup de Postgres (plus de 1000 bases de donnÃ©es sur leurs projets), et depuis  exploiter, tous les cÃ´nes et les points douloureux fonctionneront et se rÃ©pareront plus rapidement.  Je pense que le client recevra un service final d'assez bonne qualitÃ©. <br><br>  Et il existe une demande pour de telles solutions.  Prenez une startup qui au dÃ©but ne peut pas avoir l'expertise nÃ©cessaire en Postgres pour diverses raisons: chÃ¨res, elles ne voient pas l'intÃ©rÃªt, essayez diffÃ©rentes technologies.  Pour lui, c'est une bonne solution, car dans ces services, il y a des Â«rebondissementsÂ» limitÃ©s qui ne devraient pas Ãªtre dÃ©formÃ©s, et si cela, je pense, il y aura un support technique. <br><br>  Certes, Yandex Cloud est encore au dÃ©but, et peu de fonctionnalitÃ©s sont prÃ©sentÃ©es pour le moment. <br><br>  <b>- Nous avons des questions de la salle de chat: que pensez-vous du fait que lors de l'Ã©mission de machines virtuelles, quelqu'un peut physiquement s'asseoir sur cette machine (limitation, vol de temps).</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd9/d21/08d/fd9d2108d4134177d49c1785c7336c9a.jpg"><br><br>  <b>Victor:</b> Oui, il y a une telle expÃ©rience.  Je voulais juste le mentionner.  Certains clients ont dÃ©ployÃ© leurs propres systÃ¨mes de virtualisation.  De temps en temps, ils demandent Ã  voir un serveur non-produit, et nous voyons une situation incomprÃ©hensible: nous n'observons pas les raisons pour lesquelles il devrait se casser sur ce serveur.  Ensuite, nous redirigeons les questions vers leurs administrateurs avec une demande pour voir ce qui se passe sur l'hÃ´te. <br><br>  <b>- Et que faire, y a-t-il un effet similaire sur Amazon?</b>  <b>Existe-t-il des mÃ©thodes pour dÃ©terminer que vous Ãªtes Â«coincÃ©Â»?</b>  <b>pgbench pour conduire?</b> <br><br>  <b>Alexei:</b> Je ne m'en souviens pas.  Mais la maniÃ¨re habituelle est de dÃ©terminer le temps de vol.  Sur les graphiques de surveillance, en rÃ¨gle gÃ©nÃ©rale, nous ne voyons pas de grandes valeurs. <br><br>  <b>- Je pense que vous n'aimez pas vraiment Postgres gÃ©rÃ©.</b>  <b>Est-ce dÃ» au fait que RDS prend votre travail?</b> <br><br>  <b>Alexey:</b> Non.  Cela est probablement dÃ» au fait que nous ne l'avons tout simplement pas.  Managed Postgres est bon car vous pouvez dÃ©ployer l'infrastructure en un clic.  Tant que vous Ãªtes une startup et que vous ajoutez ou lisez simplement des donnÃ©es sans logique complexe, tout va bien.  Et lorsque vous franchissez une certaine ligne, par exemple, vous commencez Ã  exÃ©cuter un grand nombre de JOIN, faites du SQL complexe, la tÃ¢che se pose pour optimiser les requÃªtes et RDS cesse d'Ãªtre suffisant.  Cela prend plus de libertÃ© et d'influence, mais les outils disponibles ne vous aident pas Ã  rÃ©soudre les problÃ¨mes profonds associÃ©s Ã  la cession des ressources au sein mÃªme de Postgres.  Il n'y a que l'occasion d'augmenter la puissance du morceau de fer: payÃ© plus d'argent - reÃ§u. <br><br>  <b>Andrew:</b> Il n'y a pas tellement d'aversion pour RDS et de peur pour le travail.  Le problÃ¨me est diffÃ©rent.  Supposons qu'une startup prenne RDS, il leur donne tout.  Mais il n'a pas augmentÃ© son expertise dans Postgres.  Ensuite, disons une photo de dÃ©marrage.  Les charges augmentent - l'Ã©criture et la lecture ont augmentÃ©.  En l'absence de son expertise, une startup doit chercher des personnes de cÃ´tÃ©.  Les DBA sÃ©vÃ¨res viennent voir qu'ils ne peuvent plus tirer parti du RDS, mais Ã  partir d'une instance EC2 rÃ©guliÃ¨re, il est tout Ã  fait possible d'obtenir plus de performances, comme dans l'exemple que j'ai mentionnÃ© plus tÃ´t.  Si nous Ã©tions autorisÃ©s sur RDS, nous pourrions peut-Ãªtre modifier et amÃ©liorer la base de donnÃ©es, mais nous ne l'avons pas fait. <br><br>  <b>- Le problÃ¨me d'accÃ¨s est en cours de rÃ©solution.</b>  <b>Il existe des Postgres gÃ©rÃ©s qui fournissent un accÃ¨s ssh (et mÃªme complÃ¨tement root), par exemple une petite entreprise finlandaise Aiven.</b>  <b>Par dÃ©faut, ils ne donnent pas d'accÃ¨s root, mais le fondateur (et je lui ai parlÃ© plusieurs fois) a parlÃ© de sa volontÃ© d'accorder l'accÃ¨s sur demande.</b> <br><br>  <b>Andrew: Le</b> problÃ¨me n'est pas seulement l'accÃ¨s.  Pourquoi sommes-nous mieux avec des glandes pures?  Parce que nous avons beaucoup de clients diffÃ©rents et chacun a sa propre infrastructure.  Et les infrastructures sont si Ã©loignÃ©es que la mÃ©thodologie gÃ©nÃ©rale qui fonctionne de la mÃªme maniÃ¨re partout, nous ne pouvons tout simplement pas.  Parce qu'il y a ceux qui ont leur propre matÃ©riel, et ils ne peuvent tout simplement pas hÃ©berger quelque part (selon certaines de leurs propres rÃ¨gles et restrictions), et il y a ceux qui sont dans les nuages. <br><br>  <b>- Vous voulez dire que la dÃ©finition des index non utilisÃ©s dÃ©pend du morceau de fer?</b>  <b>Ou d'autres choses banales?</b> <br><br>  <b>Andrew:</b> Du point de vue de l'administration, c'est le schÃ©ma de la base de donnÃ©es et la dÃ©finition des index non utilisÃ©s que les clouds ne sont pas diffÃ©rents de leur matÃ©riel.  Tout est unifiÃ©. <br><br>  La diffÃ©rence entre un cloud et un vÃ©ritable matÃ©riel - dans la couche entre la base et spÃ©cifiquement le matÃ©riel qui se trouve en dessous - est le systÃ¨me d'exploitation et les virtualisations utilisÃ©es.  Lorsque vous avez de grandes bases de donnÃ©es, il est important pour vous de savoir Ã  quelle vitesse les disques envoient et reÃ§oivent des donnÃ©es, Ã  quel point la mÃ©moire et le processeur sont utilisÃ©s efficacement, il est donc extrÃªmement important de rÃ©duire l'influence de cette couche afin que la base de donnÃ©es fonctionne plus efficacement. <br><br>  <b>- Une autre question du public: qu'en est-il des paramÃ¨tres du noyau?</b> <br><br>  <b>Victor:</b> Dans EC2, ces choses sont personnalisables. <br><br>  <b>- Il existe de nouvelles solutions pour la classe "Postgres gÃ©rÃ©s" de fournisseurs bien connus, en plus d'Amazon et de Google.</b>  <b>Par exemple, Nutanix et SAP ont annoncÃ© en 2018 la crÃ©ation de solutions basÃ©es sur Postgres.</b>  <b>Ne pensez-vous pas que tous ces gars nous conduisent Ã  l'Ã©mergence de certaines dÃ©cisions qui feront de mÃªme, mais uniquement sur votre morceau de fer?</b>  <b>Pour que vous puissiez cliquer sur le bouton et dÃ©ployer le nouveau Postgres, oÃ¹ les sauvegardes et la rÃ©plication sont dÃ©jÃ  configurÃ©es.</b> <br><br>  <b>Alexei:</b> Il me semble que SAP et d'autres ne sont pas entiÃ¨rement rentables.  Ce sont de grands fournisseurs de fer et de logiciels.  Ils fabriquent un produit dans le but de gagner de l'argent.  Vendez du support au moins.  Par consÃ©quent, nous devons voir comment ils en profiteront.  Si un tel modÃ¨le de livraison de produits leur est bÃ©nÃ©fique, pourquoi pas? <br><br>  <b>- Je voulais dire un peu diffÃ©rent.</b>  <b>Plus prÃ©cisÃ©ment, ces gars-lÃ  ne publieront rien en open source et donneront gratuitement.</b>  <b>Mais ne pensez-vous pas que quelqu'un du plus petit, mais fringant fera quelque chose comme Ã§a?</b>  <b>Peut-Ãªtre que cela se concentrera sur Kubernetes, Operator Framework.</b>  <b>Il y a dÃ©jÃ  quelques dÃ©veloppements que les opÃ©rateurs font - Zalando, par exemple.</b>  <b>Et ne pensez-vous pas que le RDS basÃ© sur le cloud facilite une transition progressive vers de telles solutions?</b>  <b>Nous voyons comment vous pouvez vivre sans grimper dans les configs avec vos mains.</b> <br><br>  <b>Alexey:</b> Il s'avÃ¨re que ce n'est pas tout Ã  fait rÃ©ussi. <br><blockquote>  Vous aurez tout de mÃªme besoin de spÃ©cialistes qui surveilleront tout cela et grimperont sous le capot en cas de problÃ¨me. <br></blockquote><br>  MÃªme le trÃ¨s Kubernetes est une machine trÃ¨s complexe, avec de nombreux composants sous le capot.  Formellement, ce ne sont que cinq binaires.  Mais leur interaction les uns avec les autres est dÃ©crite par des volumes de documentation et de nombreuses informations sur les forums de discussion, les newsletters et les groupes Google.  C'est-Ã -dire  vous avez toujours besoin d'un spÃ©cialiste qui suivra cette cuisine. <br><br>  De plus, tout cela se dÃ©veloppe de maniÃ¨re trÃ¨s dynamique.  La compatibilitÃ© descendante passe de version en version.  C'est-Ã -dire  tout est trÃ¨s instable et instable.  Lorsque tout se calme, nous obtiendrons peut-Ãªtre un produit adaptÃ©, stable et fiable.  Mais jusqu'Ã  prÃ©sent, tout n'est pas trÃ¨s. <br><br>  <b>Victor:</b> Nous commenÃ§ons Ã  parler du fait que nous avons une couche supplÃ©mentaire d'infrastructure qui doit Ãªtre gÃ©rÃ©e - pour orchestrer ce Kubernetes. <br><br><blockquote>  Je ne suis pas d'accord pour dire qu'il fonctionnera toujours comme par magie d'un simple clic sur un bouton.  Il est nÃ©cessaire de garder des spÃ©cialistes compÃ©tents. <br></blockquote><br>  Et le second - nos clients s'adaptent constamment aux changements commerciaux.  En consÃ©quence, la charge dans la base de donnÃ©es change constamment.  Et si nous avons tout lÃ©chÃ© il y a trois mois, Ã  la suite de quoi toutes les demandes ont fonctionnÃ© comme prÃ©vu, et tout s'est bien passÃ©, une nouvelle demande peut arriver aujourd'hui ou demain, ou en raison de modifications des donnÃ©es, la demande existante cessera de fonctionner comme il se doit.  Et nous devons analyser la situation et entrer dans les paramÃ¨tres du systÃ¨me.  Et c'est cette automatisation qui, me semble-t-il, rend ces instances gÃ©rÃ©es trÃ¨s difficiles.  Lorsque les nuages â€‹â€‹atteignent un Ã©tat tel qu'ils s'adapteront Ã©galement Ã  de telles situations, je ne sais pas.  Mais bien que ce soit une partie importante du travail qui doit Ãªtre fait, il est nÃ©cessaire d'adapter les paramÃ¨tres de la base de donnÃ©es aux changements dans le modÃ¨le des demandes entrantes. <br><br>  Et comme le cloud lui-mÃªme est une charge administrative supplÃ©mentaire, il est plus facile pour nous lorsque cette couche nâ€™est tout simplement pas lÃ , car nous pouvons nous concentrer sur les problÃ¨mes de la base de donnÃ©es. <br><br>  Si le client veut vivre dans le cloud et possÃ¨de l'expertise, nous n'avons rien contre.  L'essentiel est que nous ayons la possibilitÃ©, lorsque la base de donnÃ©es n'est pas trÃ¨s bonne, de grimper (de prÃ©fÃ©rence par ssh), de tout vÃ©rifier et d'avoir accÃ¨s Ã  toutes les statistiques. <br><br>  <b>Alexey:</b> Pas nÃ©cessairement par ssh.  Mais dans tous les cas, des outils de diagnostic sont nÃ©cessaires.  Parce que le diagnostic par email est trÃ¨s long et fastidieux.  C'est ennuyeux lorsque vous envoyez un lien de discussion vers une demande Ã  exÃ©cuter, le client, en revanche, clique sur ce lien, copie la demande, puis vous copie le rÃ©sultat ou vous envoie une capture d'Ã©cran.  C'est tout le temps. <br><br>  Il est beaucoup plus facile de se connecter et de voir directement, de tester certaines de vos hypothÃ¨ses et d'agir plus loin. <br><br>  <b>- Avez-vous des exemples actifs oÃ¹ Kubernetes est dÃ©jÃ  utilisÃ© et oÃ¹ Postgres y rÃ©side?</b> <br><br>  <b>Alexei:</b> Malheureusement, non.  Mais j'aimerais vraiment.  J'aime beaucoup Kubernetes, je suis proche de son concept et de sa philosophie. <br><br><blockquote>  Ã€ mon avis, Kubernetes est une chose qui encourage les gens Ã  programmer davantage, Ã  crÃ©er un produit plus, sans penser Ã  des choses secondaires comme la structure interne de l'infrastructure. </blockquote><br>  Un rÃ´le similaire Ã©tait auparavant jouÃ© par la POO.  Il est apparu et beaucoup de gens se sont intÃ©ressÃ©s Ã  ce domaine, car la programmation est devenue un peu plus facile.  Kubernetes ferme Ã©galement beaucoup de choses sur lui-mÃªme, les cache sous le capot et permet Ã  une personne de se concentrer sur l'aspect crÃ©atif et de programmer davantage. <br><br>  Kubernetes implÃ©mente la prise en charge des instances, des foyers et des applications.  S'il se bloque soudainement - eh bien, Kubernetes le relancera.  C'est-Ã -dire  le dÃ©veloppeur et l'administrateur sont exempts de maux de tÃªte et d'un suivi constant.  J'aime cette rÃ©ponse Ã  la situation.  Quand quelque chose tombe, il redÃ©marre automatiquement. <br><br>   , ,       .      â€”    ,       ,   .       . <br><br> <b>â€“ ,     ?</b> <br><br> <b>:</b>   ,   .  ,     .     -   ,        .     ,  ,     Kubernetes.   Kubernetes .   CNCF      . ,   . <br><br>        â€“      - kubernetes_ru.      github,        Kubernetes:      .    Postgres,    . <br><br> , , ,  .  , Kubernetes â€“    ,   .    -     IT. <br><br> <b>â€“      ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon Aurora PostgreSQL Serverless</a> ?    ,    ,         .         ,  . ..      .</b> <br><br> <b>:</b> <br><blockquote>    .      . </blockquote><br> ,     .     ,  ,           .      :   ,    .    ,       - .    . <br><br> <b>â€“     .                    .       ,   ,    .</b> <br><br> <b>:</b>    .  ,     .  ,      , â€“     .    ,  ,      ,           ,      . <br><br><blockquote>  C'est-Ã -dire  .     â€“  ,  ,   70% .         .      . <br><br>   ,  ,   Â« Â»,      . </blockquote><br> <b>â€“   .    ,   ,  DBA    : -    ,  - â€”  , ?</b> <br><br> <b>:</b>  , ,   , â€“    DBA,  SQL-developer.     Oracle   SQL-developer,      ,  ,   ,    .    ,     Oracle.          .   DBA     ,   - . <br><br> DBA â€”  -  Â«Â» ,        . <br><br>      Kubernetes.      ,     .        .     ,    Kubernetes    .       ,           volume   .  C'est-Ã -dire     ,    .         ,    . <br><br> <b>â€“    ?</b> <br><br> <b>:</b> . <br><blockquote>   ,     . ,  ,       .      ,   Postgres (        ).      Postgres   - .  C'est-Ã -dire    (,  ),      . </blockquote><br>       ,             . <br><br>         ,   ,      .       .      .             . <br><br> <b>â€“     ?</b> <br><br> <b>:</b>     - . ,    ,    . <br><br> ,     Cassandra.      .  C'est-Ã -dire      â€”   ,    Kubernetes. <br><br><blockquote>   ,  ,   .   ,  ,      . <br><br>  C'est-Ã -dire    .  DBA,  ,       â€“     .   ,    ,      -  â€“       . <br></blockquote><br> <b>â€“      ?</b> <br><br> <b>:</b>     . ,    . , ,  ,         Kubernetes .  ,  , ,  ,     - -         Kubernetes (       ). <br><br> <b>:</b>      Kubernetes.      â€“   patroni.    Zalando   Kubernetes.     ,    ,       (     â€“  ,   Amazon   ,    ).   ,          â€“   .    ,  â€“ .   â€“  - Kubernetes. <br><br> <b>â€“       RDS.    EC2   Postgres   .      patroni ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://github.com/zalando/patroni</a> ),      .</b> <br><br> <b>:</b> ,  ,     -  high availability. <br><br> <b>â€“ .   â€”   ,        ?</b> <br><br> <b>:</b>  ,       -  . <br>      Zalando     DBA,   patroni.  C'est-Ã -dire   ,        Kubernetes     , DBA . <br><br> <b>â€“ .     DBA,   DBA  Â«Â»  Â«Â».</b> <br><br> <b>:</b> ,     .        .   ,   ,    . <br><br> <b>â€“    -  Kubernetes?    ?</b> <br><br> <b>:</b>      -  ,      .   Kubernetes     â€“     ,  .   Kubernetes  -     .                .          DBA.      Kubernetes (,    Kubernetes      ,        ,     ). <br><br>      -   ,       ,     -     -          -. <br><br> <b>:</b>      ( Kubernetes   ),    -   .       ,       â€”      â€”       .     - ,   ,  , , ,  ,         . <br><br> <b>:</b> <br><blockquote>       .    Kubernetes    ,        .     ,    .   . </blockquote><br>      ,      â€”   .    ,     Postgres-    ,    , .     . <br><br> <b>:</b>    â€¦ <br><br> <b>â€“ ..      :    -  â€”   dev environment,   production â€“    Kubernetes.  ...</b> <br><br> <b>:</b>     latency    ,    ,  .      . <br><br> <b>â€“   ,     .    . <br>    ,                <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petersburg HighLoad ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></b> <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Une vidÃ©o complÃ¨te de la conversation peut Ãªtre trouvÃ©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr440332/">https://habr.com/ru/post/fr440332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr440322/index.html">Pourquoi les disques durs deviennent moins susceptibles de tomber en panne</a></li>
<li><a href="../fr440324/index.html">La nouvelle fondation de la Linux Foundation - elle dÃ©veloppera l'informatique de pointe</a></li>
<li><a href="../fr440326/index.html">Gestion du changement client par le modÃ¨le ADKAR</a></li>
<li><a href="../fr440328/index.html">La probabilitÃ© de gagner un match avec la probabilitÃ© connue de gagner un point II</a></li>
<li><a href="../fr440330/index.html">En bref sur les abstractions</a></li>
<li><a href="../fr440334/index.html">Webinaire ouvert "DÃ©veloppement de systÃ¨mes hautement chargÃ©s en PHP"</a></li>
<li><a href="../fr440336/index.html">HTML que nous avons perdu</a></li>
<li><a href="../fr440338/index.html">Comment garantir la disponibilitÃ© d'un service Web dans le cloud en cas de panne du centre de donnÃ©es</a></li>
<li><a href="../fr440342/index.html">Code C # universel pour NET et JavaScript</a></li>
<li><a href="../fr440350/index.html">Flying Bear Tornado 2 - un nouvel ours est arrivÃ©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>