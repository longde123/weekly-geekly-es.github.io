<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎞️ 🔪 🍳 1. Basierend auf Meyers "Effektives und modernes c ++" - Inferenz des Vorlagentyps 😤 👵🏻 👇🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, lieber Leser! 


 Dieser Artikel ist der erste in einer Reihe von abstrakten Artikeln, die ich schreiben werde, während ich Scott Meyers 'B...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>1. Basierend auf Meyers "Effektives und modernes c ++" - Inferenz des Vorlagentyps</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414233/"><h4 id="dobryy-den-dorogoy-chitatel">  Guten Tag, lieber Leser! </h4><br><p>  Dieser Artikel ist der erste in einer Reihe von abstrakten Artikeln, die ich schreiben werde, während ich Scott Meyers 'Buch Effective and Modern c ++ lese.  Jeder dieser Artikel verfügt über ein separates Verzeichnis in <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einem speziell auf github.com eingerichteten Projekt</a></strong> mit Beispielen für die Verwendung der beschriebenen Funktionen und Techniken. </p><a name="habracut"></a><br><h1 id="vyvod-tipa-shablona">  Inferenz des Vorlagentyps </h1><br><p>  <strong>Erfolgreiches Design</strong> ist, wenn der Verbraucher nicht weiß, wie das Gerät funktioniert, aber alles zu ihm passt. </p><br><p>  <strong>Die Schlussfolgerung des Vorlagentyps</strong> ist beispielsweise, wenn eine Vorlagenfunktion vorhanden ist und diese ohne Vorlagen- und spitze Klammern aufgerufen wird.  Gleichzeitig errät der Compiler, welchen Typ er in einem bestimmten Objekt der Funktion verwenden muss. </p><br><p> Meyers teilt den <strong>Typ - "T"</strong> , der angezeigt wird, und den <strong>Typ - "ParamType"</strong> , der vom Programmierer in der Definition des Parameters vorgeschrieben wird. </p><br><h3 id="1-vid-parametra---ssylka-ili-ukazatel">  1. Parameteransicht - Link oder Zeiger </h3><br><p>  Um die Ableitungsregel schnell zu verstehen, werde ich sie in Form einer Vorlage wiedergeben: </p><br><p>  <strong>Eingabetyp</strong> -&gt; <strong>Typ, Parameter</strong> -&gt; <strong>Ausgabetyp</strong> [, <strong>endgültiger Parametertyp</strong> ] </p><br><h4 id="primer-so-ssylkoy">  Beispiel mit einem Link: </h4><br><pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;typename T&gt; //   T <span class="hljs-type"><span class="hljs-type">void</span></span> func(T&amp; param) //   - T&amp; <span class="hljs-type"><span class="hljs-type">int</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; //   <span class="hljs-type"><span class="hljs-type">int</span></span> func(x);</code> </pre> <br><p>  Wenn der Typ <strong>T</strong> abgeleitet wird, wird die Referenzialität (*, &amp;) verworfen, da sie bereits bei der Definition der Funktion angegeben wird, als ob dies bedeutet, dass Sie dort etwas übergeben. Wir gehen davon aus, dass dies kein Link ist, da die Referenzialität bereits am Ort des Verbrauchs hinzugefügt wurde. in unserer Funktion f " </p><br><p>  Nach dem gleichen Prinzip wird die Konstanz verworfen, wenn sie im Funktionsparameter angegeben ist.  Links, Zeigern und Konstanz wird sozusagen eine exklusive Maske auferlegt. </p><br><h4 id="shema-vyvedeniya">  Auszahlungsschema </h4><br><pre> <code class="hljs pgsql">//   <span class="hljs-type"><span class="hljs-type">int</span></span> —&gt; (T &amp; param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> —&gt; (T &amp; param) —&gt; const <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> &amp; —&gt; (T &amp; param) —&gt; const <span class="hljs-type"><span class="hljs-type">int</span></span> //   <span class="hljs-type"><span class="hljs-type">int</span></span> —&gt; (const T &amp; param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> —&gt; (const T &amp; param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> &amp; —&gt; (const T &amp; param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>; //   <span class="hljs-type"><span class="hljs-type">int</span></span> * —&gt; (T * param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> —&gt; (T * param) —&gt; const <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> * —&gt; (T * param) —&gt; const <span class="hljs-type"><span class="hljs-type">int</span></span>; //   <span class="hljs-type"><span class="hljs-type">int</span></span> * —&gt; (const T * param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> —&gt; (const T * param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>; const <span class="hljs-type"><span class="hljs-type">int</span></span> * —&gt; (const T * param) —&gt; <span class="hljs-type"><span class="hljs-type">int</span></span>;</code> </pre> <br><h3 id="2-tip-argumenta---universalnaya-ssylka">  2. Art des Arguments - universelle Referenz </h3><br><p>  Scott erwähnt, dass universelle Verknüpfungen später in Betracht gezogen werden, daher müssen die Regeln für die Parameter, die er hier in rvalue und lvalue unterteilt, nur mit wenig Nachdenken in Erinnerung bleiben. </p><br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> T&amp;&amp; param)</span></span></span></span></code> </pre> <br><h4 id="pravila-vyvoda-dlya-lvalue">  Inferenzregeln für lWert </h4><br><p>  Dies ist laut Scott der einzige Fall, in dem T als Referenz ausgegeben wird. <br>  In den folgenden Beispielen ist der Typ des Parameters in der Funktionsbeschreibung eine <strong>universelle Wertreferenz</strong> .  Es ist ersichtlich, dass T je nach Link oder als konstanter Link angezeigt wird <br>  Aus dem Eingabeargument ergibt sich in diesem Fall auch der Typ des Parameter param selbst. </p><br><pre> <code class="hljs objectivec">lvalue <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> —&gt; (T &amp;&amp;param) —&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &amp;, param - <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&amp; lvalue <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> —&gt; (T &amp;&amp;param) —&gt; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &amp;, param - <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&amp; lvalue <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &amp; —&gt; (T &amp;&amp;param) —&gt; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &amp;, param - <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&amp;</code> </pre> <br><p>  Der Typ des Parameters selbst wird ebenfalls ersetzt.  Ich denke, dies liegt an der Tatsache, dass die Sprache eine Wertvariable nicht berücksichtigen kann, die irgendwo über der zugewiesenen liegt, die weiter verschoben werden kann.  Wir werden es später herausfinden, wenn wir zu universellen Links kommen. <br>  Um zu überprüfen, ob <strong>T</strong> wirklich eine <strong>Typreferenz ist</strong> , habe ich <strong>T myVar</strong> in den Hauptteil der Vorlagenfunktion geschrieben, die dieses T sowohl <strong>anzeigte</strong> als auch erwartungsgemäß eine Nachricht erhielt - <strong>"als Referenz deklariert, aber nicht initialisiert"</strong> - den Link :) </p><br><h4 id="pravila-vyvoda-dlya-rvalue">  Inferenzregeln für rWert </h4><br><p>  Es gelten die „normalen“ Regeln von Absatz 1. </p><br><pre> <code class="hljs objectivec">rvalue <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> —&gt; (T &amp;&amp;param) —&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, param - <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&amp;&amp;</code> </pre> <br><p>  Es ist bereits offensichtlich, dass universelle Referenzen nur für rvalue-temporäre Objekte "enthalten" sind, in anderen Fällen, wenn das Argument keine universelle Referenz ist, wird rvalue, lvalue nicht unterschieden </p><br><h3 id="3-peredacha-po-znacheniyu-kak-est">  3. Wert übergeben (wie er ist) </h3><br><p>  Bei der Übergabe von Werten wird die Konstanz und Referenzialität des ursprünglichen Arguments als unnötig verworfen, da es sich um völlig neue unabhängige Objekte handelt. Warum benötigen sie Qualifizierer für das, womit sie nicht verbunden sind? </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> —&gt; (T param) —&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> —&gt; (T param) —&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> &amp; —&gt; (T param) —&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> <span class="hljs-comment"><span class="hljs-comment">//       ,     const char * const —&gt; (T param) —&gt; const char *</span></span></code> </pre> <br><h4 id="predpolozhu-chto-drugie-bezumnye-i-nelogichnye-sochetaniya-vyzovut-oshibki-kompilyacii-pochti-vsegda-okazyvaetsya-rabota-kompilyatora-obyasnima-nado-tolko-eti-obyasneniya-odin-raz-vyslushat">  Ich nehme an, dass andere verrückte und unlogische Kombinationen fast immer Kompilierungsfehler verursachen. Es stellt sich heraus, dass die Arbeit des Compilers verständlich ist. Sie müssen diese Erklärungen nur einmal anhören. </h4></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414233/">https://habr.com/ru/post/de414233/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414223/index.html">C #: Abwärtskompatibilität und Überlastung</a></li>
<li><a href="../de414225/index.html">Erstellen eines eigenen Netzwerks von hausgemachten Geräten basierend auf Arduino (Teil 1)</a></li>
<li><a href="../de414227/index.html">Eine neue Studie zu Telegrammindikatoren nach dem Blockieren: Abonnenten wachsen, Abdeckung sinkt</a></li>
<li><a href="../de414229/index.html">Analyse verschiedener IT-Schulungsmethoden</a></li>
<li><a href="../de414231/index.html">Wie ich einen völlig leisen Computer gemacht habe</a></li>
<li><a href="../de414235/index.html">Die mysteriöse Geschichte eines Schizophrenen und eines Schamanen</a></li>
<li><a href="../de414237/index.html">Make-up für Cyber-Aschenputtel. Arduino Wochenendprojekt. Led Wimpern</a></li>
<li><a href="../de414239/index.html">Windows und Dateisystem mit Groß- und Kleinschreibung</a></li>
<li><a href="../de414243/index.html">Kostenloses Werk über Einstellungen, Interviews und Müll auf dem Markt für IT-Personal</a></li>
<li><a href="../de414245/index.html">Polynom-Regressionsmodell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>