<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧓🏿 👎 👆🏻 Lua à Moscou 2019: entretien avec Roberto Jérusalem 💪 🙇🏼 🔀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelque temps, Roberto de Jérusalem, auteur de la langue Lua, a visité notre bureau de Moscou. Nous l'avons interviewé, au cours duquel nous av...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lua à Moscou 2019: entretien avec Roberto Jérusalem</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/459464/"><img src="https://habrastorage.org/getpro/habr/post_images/2e2/088/efd/2e2088efd08efa95d7b7d335d3d59696.jpg"><br><br>  Il y a quelque temps, Roberto de Jérusalem, auteur de la langue Lua, a visité notre bureau de Moscou.  Nous l'avons interviewé, au cours duquel nous avons posé des questions aux lecteurs de Habr.  Enfin, nous pouvons partager avec vous l'intégralité de l'enregistrement de la conversation. <br><a name="habracut"></a><br>  <b>- Philosophisons pour commencer.</b>  <b>Si vous deviez reconstruire Lua à partir de zéro, quelles trois choses changeriez-vous dans cette langue?</b> <br><br>  - Ouah!  Question difficile.  Il y a toute une histoire derrière la création et le développement de la langue.  Ce n'était pas une grosse décision.  Il y a des décisions que j'ai regrettées et que j'ai pu corriger au fil des ans.  Et les programmeurs s'en plaignent tout le temps car la compatibilité est rompue.  Nous l'avons fait plusieurs fois.  Et je ne pense qu'à quelques petites tâches. <br><br>  <b>- Valeurs par défaut globales (Global par défaut)?</b>  <b>Pensez-vous que c'est la bonne façon?</b> <br><br>  - Peut-ętre.  Mais ce chemin est très difficile pour les langues dynamiques.  Vous devriez peut-être abandonner complètement le concept de "défaut", mais il sera alors difficile d'utiliser des variables. <br>  Par exemple, vous devez en quelque sorte déclarer toutes les bibliothèques standard.  Vous avez besoin d' <code>one-liner</code> , <code>print(sin(x))</code> , puis vous devez déclarer «print» et un autre «sin».  C'est étrange d'avoir des publicités pour des scripts aussi courts. <br><br>  Tout ce qui est plus gros ne devrait rien avoir par défaut, comme il me semble.  Local-by-default n'est pas une solution, il n'existe pas du tout.  C'est uniquement pour l'affectation, pas pour l'utilisation.  Nous attribuons quelque chose, puis utilisons et attribuons à nouveau, et une erreur complètement inexplicable se produit. <br><br>  Peut-être que la globalité par défaut n'est pas parfaite, mais la localité par défaut n'est certainement pas une option.  Je pense qu'une sorte d'annonce, peut-être facultative ... Nous avons eu plusieurs fois l'intention de faire une sorte d'annonce mondiale.  Mais si nous introduisons aveuglément tout ce qu'on nous demande, rien de bon n'en sortira. <br><br>  (sarcastique) Oui, nous allons introduire une annonce globale, ajouter que, sho, cinquième, dixième, en retirer une autre, et par conséquent, nous réalisons que la solution finale ne satisfait pas la plupart des programmeurs, et nous n'ajouterons pas toutes les fonctionnalités qui nous sont demandées, et donc nous n'implémentons rien.  Après tout, le mode strict est un compromis raisonnable. <br><br>  Il y a un problème: le plus souvent, nous utilisons, par exemple, les champs à l'intérieur des modules, et là encore vous rencontrez les mêmes problèmes.  Ce n'est là qu'un cas d'erreurs très spécifique, qui devrait probablement être pris en compte dans la solution générale.  Donc, si vous en avez vraiment besoin, il est préférable d'utiliser un langage typé statiquement. <br><br>  <b>- La globalité par défaut est toujours pratique pour les petits fichiers de configuration.</b> <br><br>  "Oui, c'est vrai, pour les petits scripts et autres." <br><br>  <b>- Et pas de compromis dans ce cas?</b> <br><br>  - Il y a toujours des compromis.  Dans ce cas, un compromis entre de petits scripts et de vrais programmes, quelque chose comme ça. <br><br>  <b>- Et ici, nous revenons à la première grande question: quelles trois choses changeriez-vous s'il y avait une telle opportunité?</b>  <b>Il me semble que vous êtes assez satisfait de l'état actuel des choses, non?</b> <br><br>  "Eh bien, je n'appellerais pas cela un grand changement, et pourtant ... L'une des décisions infructueuses qui sont devenues un grand changement est nulle dans les tableaux."  J'en suis désolé.  J'ai fait ce hack ... Tu sais de quoi je parle?  Il y a six mois ou un an, j'ai sorti une version de Lua dans laquelle il n'y avait rien dans les tableaux. <br><br>  <b>- Des valeurs nulles?</b> <br><br>  - Exactement.  Je pense que cela s'appelle zéro dans les tableaux - c'est-à-dire nul.  Nous avons fait un hack de grammaire pour assurer la compatibilité. <br><br>  <b>- Pourquoi est-il nécessaire?</b> <br><br>  «Je suis vraiment convaincu que c'est tout le problème ... Je pense que la plupart des problèmes avec zéro dans les tableaux disparaîtraient si nous pouvions avoir [zéro dans les tableaux] ... Plus précisément, le problème n'est pas avec zéro dans les tableaux.  Ils me disent que les tableaux ne peuvent pas avoir zéro, donc les tableaux doivent être séparés des tables.  Le vrai problème est que nous ne pouvons pas garder zéro dans les tableaux!  Par conséquent, le problème n'est pas de savoir comment nous représentons les tableaux, mais dans les tableaux.  Si nous pouvions avoir nil dans les tableaux, alors nous aurions nil dans les tableaux sans tout le reste.  Je suis donc très désolé à ce sujet, et beaucoup de gens ne comprennent pas comment les choses auraient pu changer si Lua avait permis que rien ne soit placé dans les tables. <br><br>  <b>- Puis-je vous raconter une histoire sur Tarantool?</b>  <b>Nous avons notre propre implémentation de null, qui est un CDATA vers un pointeur null.</b>  <b>Nous l'utilisons dans les cas où vous devez créer des fragments vides dans votre mémoire pour insérer des arguments de positionnement pour les appels distants, etc.</b>  <b>Mais généralement, c'est un problème car CDATA est toujours converti en vrai.</b>  <b>Et zéro dans les tableaux résoudrait beaucoup de problèmes.</b> <br><br>  - Oui je sais.  C’est de cela que je parle - cela résoudrait beaucoup de problèmes pour beaucoup, mais cela conduit à un problème de compatibilité encore plus important.  Nous n'avons pas le courage de publier une version qui sera si incompatible, puis de détruire la communauté et de publier d'autres documents pour Lua 5, Lua 6, etc.  Mais peut-être qu'un jour nous publierons une telle version.  Ce seraient de très gros changements.  Je crois que cela aurait dû être fait dès le début, et ensuite nous aurions parlé d'un changement trivial dans la langue, sauf pour la compatibilité.  Et aujourd'hui, il va casser de nombreux programmes. <br><br>  <b>- Quelles lacunes voyez-vous en dehors du problème de compatibilité?</b> <br><br>  - Deux nouvelles fonctions primitives seront nécessaires.  Quelque chose comme «Supprimer la clé», car l'attribution de nil ne supprimera pas la clé, vous aurez donc besoin d'une opération primitive pour la supprimer de la table.  Et vous aurez besoin d'un «test» pour vérifier exactement où il y a une différence entre zéro et le manque de données. <br><br>  <b>- Avez-vous analysé l'impact de ces innovations dans les implémentations pratiques?</b> <br><br>  - Oui, nous avons sorti une telle version de Lua.  Comme je l'ai dit, cela a brisé tranquillement le code.  Certains utilisent l'appel de fonction <code>table.insert(f(x))</code> .  Et intentionnellement fait pour que si la fonction ne veut rien insérer, elle retourne nil.  Ainsi, au lieu d'une vérification distincte, "Est-ce que je veux intégrer?"  J'appelle <code>table.insert</code> , et si j'obtiens zéro, alors je sais qu'il ne sera pas inséré.  Comme dans toute autre langue, le bogue est devenu une fonctionnalité et les gens l'utilisent.  Mais si vous changez la fonctionnalité, cela cassera le code. <br><br>  <b>- Et le type de vide?</b>  <b>Comme rien, seulement vide?</b> <br><br>  "Eh bien, non, c'est un cauchemar."  Vous retardez simplement la résolution du problème.  Si vous entrez une «béquille», vous en aurez besoin d'une de plus, de plus et de plus.  Ce n'est pas une solution.  L'un des problèmes est que le néant a déjà pris racine dans de nombreux endroits de la langue.  Voici un exemple typique: nous disons «évitez le zéro dans les tableaux, c'est-à-dire les trous».  Et puis nous écrivons une fonction qui retourne nil et quelque chose après, et nous obtenons un code d'erreur.  Une telle construction implique déjà elle-même ce que nil est ... Par exemple, si je veux faire une liste des résultats retournés par la fonction, juste pour les attraper tous. <br><br>  <b>- Pour cela, vous avez un hack :)</b> <br><br>  "C'est vrai, mais vous n'êtes pas obligé d'utiliser des hacks pour résoudre des tâches aussi simples et évidentes."  Cependant, les bibliothèques le font ... D'une certaine manière, j'y ai pensé: peut-être que les bibliothèques devraient retourner false au lieu de nil, bien que ce soit une option grossière, cela ne résoudra qu'une petite partie du problème.  Le vrai problème, comme je l'ai dit, c'est que nous devons avoir zéro dans les tableaux.  Sinon, nous ne devrions pas utiliser nil aussi souvent que je le pense.  En général, ce n'est pas clair.  Donc, si vous avez créé void, ces fonctions renverront toujours nil et nous ne résoudrons pas le problème tant que nous n'aurons pas créé un nouveau type et que les fonctions renverront void au lieu de nil. <br><br>  <b>- En utilisant void, vous pouvez explicitement dire que la clé doit être stockée dans la table, la clé avec la valeur void.</b>  <b>Et rien peut fonctionner comme avant.</b> <br><br>  "Oui, c'est ce que je veux dire."  Toutes ces fonctions dans les bibliothèques doivent renvoyer void ou nil. <br><br>  <b>"Ils peuvent aussi retourner nul, pourquoi pas?"</b> <br><br>  - Parce qu'alors pour certains cas nous ne résoudrons pas le problème de l'impossibilité de capturer toutes les valeurs que la fonction retourne. <br><br>  <b>"Mais nous n'aurons pas la première clé, seulement la seconde."</b> <br><br>  - Non, il n'y aura pas de seconde, car le calcul sera mal effectué et un trou apparaîtra dans le tableau. <br><br>  <b>- Alors tu veux dire que tu as besoin d'une fausse métaméthode?</b> <br><br>  - Oui.  J'en rêve: <br><br> <code>{f(x)}</code> <br> <br>  Vous devez intercepter tous les résultats renvoyés par <code>f(x)</code> .  Et puis je peux dire <code>%x</code> ou <code>#x</code> , et de cette façon je connais le nombre de résultats retournés.  Voilà comment une langue normale devrait fonctionner.  Donc, créer un vide ne résoudra pas le problème tant qu'il n'y aura pas de règle très stricte selon laquelle les fonctions ne retournent jamais nul.  Mais alors pourquoi avons-nous même besoin de zéro?  Peut-être vaut-il la peine d'y renoncer. <br><br>  <b>- Roberto, y aura-t-il un soutien beaucoup plus fort pour l'analyse statique à Lua?</b>  <b>Comme Lua Check sur les stéroïdes?</b>  <b>Bien sûr, je comprends que cela ne résoudra pas tous les problèmes.</b>  <b>Vous avez dit que cette fonctionnalité apparaîtra dans la version 6.0, le cas échéant, non?</b>  <b>Et si dans 5.x il y aura un outil puissant pour l'analyse statique - si des heures de travail y sont investies - cela aidera-t-il?</b> <br><br>  "Non, je crois qu'un outil d'analyse statique vraiment puissant s'appelle ... un système de type!"  Si vous avez besoin d'un outil vraiment puissant, utilisez un langage de type statique comme Haskell, ou un type de langage avec des types dépendants.  Ensuite, vous aurez certainement un puissant outil d'analyse. <br><br>  <b>"Mais alors je n'aurai pas Lua."</b> <br><br>  - C'est vrai, Lua est nécessaire pour ... <br><br>  <b>- Des incertitudes?</b>  <b>J'aime bien ta photo avec une girafe sur les types statiques et dynamiques.</b> <br><br>  - Oui, ceci est ma dernière diapositive de la présentation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac9/66a/5b2/ac966a5b2ccf1b45ab798727ee382617.jpg"><br>  <i>La dernière diapositive de la présentation du discours de Roberto Jérusalem «Pourquoi Lua?</i>  <i>(et pourquoi pas) »lors de la conférence Lua à Moscou 2019.</i> <br><br>  <b>- Pour poser la question suivante, revenons à cette image.</b>  <b>Si je comprends bien, vous pensez que Lua est un petit outil pratique pour résoudre des tâches pas très importantes.</b> <br><br>  - Non, je crois que vous pouvez résoudre de gros problèmes, mais sans impliquer d'analyse statique.  Je crois aux tests de tout mon cœur.  Soit dit en passant, je ne suis pas d'accord avec vous en ce qui concerne la couverture, que nous ne devrions pas poursuivre la couverture ... Je veux dire, je suis entièrement d'accord avec le point de vue que la couverture ne fournit pas de test complet, mais le manque de couverture ne permet pas du tout de tester.  J'ai parlé à Stockholm de la salle de test, vous y étiez.  J'ai commencé à tester avec [plusieurs] bogues - c'est la chose la plus étrange - l'un d'eux était largement connu, et les autres étaient complètement inconnus.  Quelque chose s'est complètement cassé dans le fichier d'en-tête Microsoft, C et C ++.  J'ai fouillé le net, mais personne ne s'en inquiétait ni ne le remarquait. <br><br>  Par exemple, il existe une fonction mathématique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modf ()</a> , à laquelle il faut passer un pointeur vers une valeur double, car elle renvoie deux doubles.  Nous convertissons l'entier ou la partie fractionnaire d'un nombre.  Cette fonctionnalité fait depuis longtemps partie de la bibliothèque standard.  Puis vint C 99, et cette fonction est maintenant nécessaire pour les nombres flottants.  Et le fichier d'en-tête Microsoft a simplement enregistré cette fonction et en a déclaré une autre en tant que macro.  Autrement dit, la première fonction a subi une conversion de type implicite.  Double a été converti en flotteur, puis un pointeur à double a été converti en pointeur en flotteur! <br><br>  <b>- Quelque chose ne va pas avec cette image.</b> <br><br>  - Il s'agit du fichier d'en-tête de Visual C ++ et Visual C 2007. Si vous appelez cette fonction une fois, avec tous les paramètres, puis vérifiez le résultat, il sera erroné, sauf s'il est 0. Toute autre valeur ne sera pas vraie.  Vous ne pouvez jamais utiliser cette fonction.  Couverture zéro.  Et puis il y a eu beaucoup de discussions sur les tests ... Il suffit d'appeler la fonction une fois et de vérifier le résultat!  Ce problème existe depuis longtemps, pendant de nombreuses années il n'a dérangé personne.  Apple avait un bug très célèbre, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">quelque chose comme</a> " <code>if… what… goto… ok</code> ".  Quelqu'un a inséré une autre expression ici, et tout est devenu normal.  Et puis ils ont beaucoup discuté de la nécessité de règles, de l'utilisation des accolades dans le style de code, etc.  Personne n'a mentionné qu'il existe de nombreux autres «si».  Personne ne l'a fait ... <br><br>  <b>- Il y a aussi un problème de sécurité, si je me souviens bien.</b> <br><br>  - C'est vrai.  Après tout, ils ne testent que des situations confirmées.  Ils ne testent pas tout de suite, car tout sera confirmé.  Cela signifie que dans l'application qui vérifie la sécurité, il n'y a pas un seul test qui vérifierait l'échec de toute connexion, ou ce qui devrait y être refusé.  Et tout le monde se demande si les supports sont nécessaires ... Nous avons besoin de tests, au moins de tests!  Après tout, personne n'a même testé ce que j'entends par «revêtement».  C'est incroyable, les gens ne font même pas de tests de base.  Bien sûr, il serait très difficile de fournir une couverture avec des tests de base, d'exécuter toutes les lignes de code.  Les gens évitent même les tests de base, la couverture est donc minimale.  Je vous demande instamment de prêter attention aux parties du programme que vous avez oubliées.  Quelque chose comme un indice pour améliorer un peu vos tests. <br><br>  <b>- Savez-vous quelle couverture de test à Tarantool?</b>  <b>83%!</b>  <b>Quelle est la couverture à Lua?</b> <br><br>  - Environ 99,6%.  Combien de lignes de code avez-vous?  Un million, des centaines de milliers?  C'est énorme.  1% de cent mille, c'est mille lignes de code qui n'ont jamais été testées.  Vous ne les avez pas exécutées du tout.  Vos utilisateurs ne testent rien. <br><br>  <b>- Autrement dit, environ 17% des fonctions de Tarantool ne sont pas utilisées actuellement?</b> <br><br>  - Il est peu probable que vous souhaitiez revenir à ce dont nous parlions à nouveau ... Je pense que l'un des problèmes avec les langages dynamiques (et les statiques aussi) est que les gens ne testent pas leur code.  Même en utilisant un langage statique - pas comme Haskell, mais quelque chose comme Coq - jusqu'à ce que vous ayez un système de vérification, vous changerez ceci en cela.  Et aucun outil d'analyse statique ne peut détecter ces erreurs, vous avez donc besoin de tests.  Et si vous les avez, vous pouvez identifier les problèmes globaux, les fautes de frappe dans les noms, etc., toutes sortes d'erreurs.  Vous avez certainement besoin de tests.  Parfois, il sera difficile de déboguer, sinon c'est simple - cela dépend de la langue et du type de bogue.  Mais l'essentiel est qu'aucun outil d'analyse statique ne peut remplacer les tests.  En revanche, ils ne garantissent pas l'absence d'erreurs, mais avec eux je me sens beaucoup plus en confiance. <br><br>  <b>- Nous avons une question sur le test des modules Lua.</b>  <b>En tant que développeur, je souhaite tester certaines fonctions locales que je pourrai utiliser plus tard.</b>  <b>Question: vous avez besoin d'une couverture au niveau de 99%, mais le nombre de situations fonctionnelles que le module pour l'API devrait générer est bien inférieur à la quantité de fonctionnalités qu'il prend en charge en interne.</b> <br><br>  - Excusez-moi, pourquoi? <br><br>  <b>- Il existe des fonctionnalités qui ne sont pas disponibles pour les interfaces publiques.</b> <br><br>  "Elle ne devrait pas être là, supprimez simplement ce code." <br><br>  <b>- Il suffit de le retirer?</b> <br><br>  - Oui, je le fais parfois à Lua.  Il y avait une sorte de couverture de code, je ne pouvais pas arriver ici, là ou là, j'ai décidé que c'était impossible et j'ai juste supprimé le code.  Rarement, mais ça arrive.  Si certaines situations sont impossibles, écrivez simplement dans les commentaires pourquoi cela n'est pas possible.  Si vous ne pouvez pas accéder à la fonction à partir de l'API publique, cela ne devrait pas l'être.  Il est nécessaire d'écrire des API publiques avec des données d'entrée erronées, ceci est important pour les tests. <br><br>  <b>- La suppression du code est bonne, elle réduit la complexité.</b>  <b>Moins de complexité - stabilité plus élevée et facilité d'entretien.</b>  <b>Ne vous compliquez pas.</b> <br><br>  - Oui, dans la programmation extrême, il existe une telle règle.  Si quelque chose ne peut pas être testé, il n'existe pas. <br><br>  <b>- Quelles langues t'as inspiré pour créer Lua?</b>  <b>Quels paradigmes, caractéristiques fonctionnelles ou parties de langues que vous aimez?</b> <br><br>  - J'ai conçu Lua dans un but très étroit, ce n'était pas un projet académique.  Alors quand vous m'avez demandé de recréer la langue, j'ai répondu qu'il y avait toute une histoire derrière.  Je n'ai pas commencé à développer Lua avec "Je vais créer un langage que j'aime, ou que je veux utiliser, ou dont tout le monde a besoin."  J'ai eu un problème: ici j'ai besoin d'un langage de configuration pour les géologues et les ingénieurs, il doit être petit et avec une interface simple pour qu'ils puissent l'utiliser.  Par conséquent, l'API a toujours fait partie intégrante du langage.  Telle était la tâche.  Quant à l'inspiration, à cette époque, je connaissais une dizaine de langues différentes. <br><br>  <b>"Je me demande quelles langues vous voulez inclure dans Lua."</b> <br><br>  - J'ai emprunté des idées à de nombreuses langues, tout ce qui convenait pour résoudre mon problème.  La syntaxe du langage Modula a eu la plus grande influence, bien qu'elle soit difficile à dire, car il y a tellement de langues.  Quelque chose a pris à AWK.  Bien sûr, de Scheme et Lisp ... Je ne suis pas indifférent à Lisp depuis que j'ai commencé la programmation. <br><br>  <b>- Et il n'y a toujours pas de macros à Lua!</b> <br><br>  - Oui, la syntaxe est complètement différente.  La première langue était probablement le Fortran ... non, ma première langue était l'assembleur, puis le Fortran.  J'ai étudié, mais je n'ai jamais utilisé le CLU.  Beaucoup programmé sur Smalltalk et SNOBOL.  A également étudié, mais n'a pas utilisé Icon, également une langue très intéressante.  J'ai beaucoup emprunté à Pascal et C. Quand j'ai créé Lua, le C ++ était déjà trop compliqué pour moi, c'était avant les templates et autres.  J'ai commencé à travailler en 1991 et j'ai libéré Lua en 1993. <br><br>  <b>- L'URSS s'est effondrée et vous avez commencé à créer Lua :) Vous n'aimiez pas les points-virgules et les objets lorsque vous avez commencé Lua?</b>  <b>Il me semblait que sa syntaxe serait similaire à C, car Lua y est intégré.</b>  <b>Mais ...</b> <br><br>  - Je crois que la syntaxe doit être différente, alors vous ne vous tromperez pas, car ce sont deux langues différentes. <br><br>  C'est vraiment drôle, et est lié à la réponse concernant les tableaux commençant par un, que vous ne m'avez pas permis d'exprimer [lors de la conférence].  Ma réponse était trop longue. <br><br>  Quand Lua a été libéré, le monde était différent.  Tous les langages n'étaient pas similaires à C. Il n'y avait toujours pas Java et JavaScript, Python était un bébé et ne dépassait pas la version 1.0.  Donc, tous les langages n'étaient pas similaires à C; sa syntaxe était l'une des nombreuses. <br><br>  Même chose avec les tableaux.  C'est drôle que la plupart de cela ne soit pas au courant.  Les tableaux commençant par 0 et 1 ont leurs propres mérites. <br><br>  C'est grâce à C que les langages les plus populaires utilisent aujourd'hui des tableaux commençant par 0. Leurs créateurs ont été inspirés par C. Et c'est drôle qu'il n'y ait pas d'indexation en C.    ,      ,       .        ,      —   ,   (offset).    ,      ,    ,  ,   . <br><br>   ,  ,         . Java, JavaScript    —      .     0,    .       ,  « ». <br><br> <b>—  ,      ,        .     -,  ,     ,   -  ,    ,    .     ,   Lua     ?</b>  <b>Pourquoi?</b> <br><br> —     ? <br><br> <b>—  .</b> <br><br> — .    ,      ,      .      .    ?   ,  ,     .         .        . <br><br> <b>—   Lua   C.</b> <br><br> — ,    ,     .     ,   ,    …     ,       ,    -      .      :     ,   … . <br><br>  ,      .  ,          ?      ,     -  …        ? <br><br> <b>—    .</b> <br><br> — .    ?     C   ,    ,    …     ? <br><br> <b>— 16 ?</b> <br><br> —  ,        . <br><br> <b>— ,  ,     .</b> <br><br> — ,      .    ,    ,      …     ,    ,    .          —  ,    .     ,   ,   .       ,    …   :       ? <br><br> <b>—  C++   .</b> <br><br> — ,  C++   . <br><br> <b>—    ? <code>ptrdiff_t</code> ?</b> <br><br> — <code>ptrdiff_t</code> —     (signed type). ,              ,           .      ? <br><br>   ,     diff ,    .     .   ,   ?  Pas question. ,    ,      .       2   ,          . <br><br>    ,       .         ,       .              diff ,    . <br><br>      ,        ++. <br><br> <b>—     Lua   ?</b> <br><br> —   ,   C++,     - ,      . ,  -   ++, …         . <br><br> <b>—  , ?</b> <br><br> —      .    ,      .    ,      ,    .    ,      . <br><br> <b>—   JVM?</b> <br><br> — , JVM.  ,       …  —  ,      .  JVM  ,   .NET,   .  JVM     ,   Lua.  ,      .    JVM,        . JVM   .    Java-,    10 .      ,  JVM   ,      . <br><br> <b>—     JVM, , Mobile JVM?</b> <br><br> —  ,   JVM. -  Java,   Java. <br><br> <b>—    ,  Go  Oberon?       Lua,       ?</b> <br><br> — Oberon… …  Go    ,  runtime-    Lua. Oberon   ,       . ,    ,    . , ,   const  Pascal  Oberon.       ,   .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> . <br> ,  1994-    Oberon  Self.   Self?       JIT-  . Self    ,      ,    .  - ,   — ! —  ,     - .    ,       … <br><br>      Oberon,    ,     10     Self,   .  Oberon ,    ,    . <br><br>       ,      . <br><br> <b>— Haskell?</b> <br><br> —    Haskell,   ,     Lua. <br><br> <b>—      Python, R  Julia        Lua?</b> <br><br> — ,        . <br><br> R   .       ,     . <br><br> Python ,       . ,      .         ,    . <br><br>   Python   ,   ,     .   ,      ,    -  .         API… ,    Python,    .           ,    ,  « ». <br><br>       , -: ,   , ,  -.  .  ,       API    ,   - .  ,     .     ,     ,       … <br><br>    - ,         (pattern matching).  ,   ,      ,     .    ,    ,    . <br><br>  :             Perl.     Lua,       . , Python  .            ,       ,   .      -    . <br><br> <b>—        ?</b> <br><br> —        Python.   Perl  :        $1, $2, $3.        Perl,  … <br><br> <b>—      Python,   ,      (     Tarantool).</b> <br><br> — ,     ,    ,     API,   . Python   ,    . <br><br>     Julia,      LuaJIT,    ,       .     ,     ,   .   ,        . ,   ,   ,   .           ,      ,  .      : ,     - .   ,   ,    -  ,    . <br><br>     Julia,       : ,   ,      .   ,  -    .       ,    double,      []…   .     . <br><br> () «,  ,    ,     ,      ,   . ,  ». , ,      . <br><br>     .    R,     Python. <br><br> <b>—    Erlang?</b> <br><br> —   .       ,   .   ,    ,       ,  -  .   Erlang     ,  ,    .      ,      . <br><br>         ,           . ,      .       ?   ,    .      . <br><br> <b>— , Erlang    ,  Python    .     Lua?</b> <br><br> —  ,   . Lua     ,       ,  Lua  ,   . <br><br> <b>—     ?</b> <br><br> — Forth,   . <br><br> <b>—        Lua?</b> <br><br> —  ,    .   ,      .    - ,     .     Lua,     Lua,      . <br><br>     Java.    Java,      ?  Non.   (reflection)?  Non.    ?    Java,    ,     Java.   ,    ,     Java,     . <br><br>     ,    Lua,     … ,     ,  FFI. <br><br> <b>—     Lua?</b> <br><br> — ,  . <br><br> <b>—   Lua    ?      ?</b> <br><br> — ,    .    ,     Haskell.       ,   ,  …      Lua,  ,    ,   ,   ,      . <br><br> <b>— ,        Lua.</b> <br><br> — ,    ,    .      .    ,    . <br><br> <b>—     ,            . Lua    ?</b> <br><br> — ,     ,  … <br><br> <b>— «  »? ,     ?</b> <br><br> — , . ,    ,        ,  .         ,        . <br><br> <b>—         Lua?</b> <br><br> —  .      ,     ,     LaTex  DocBook.   ,       …     LaTex,   .     @,        . Gsub   ,    ,  -   - .      ,      ,  ,      . <br><br> <b>—      LaTeX?</b> <br><br> —  LaTeX? -,   ,      .   ,    ,    LaTex. ,      inline-.      /,    .   —   .    ,     ,         ,     .       ,   .     ,    . <br><br> <b>—         LaTeX?</b> <br><br> — ,     .    ,        ,  . ,    3+1,     .   ,     ,      .     ,   .   ,     ,    . ,   1   «and»,     .     .   ,   . <br><br> <b>—     ?</b> <br><br> — ,  <a href="">git</a> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2html</a> .     HTML… ,   .     ,    ,  . ,       ,     .     ,    TeX.    TeX-   TeX. <br><br> <b>—   ?</b> <br><br> — ,  .  ,    TeX.    ,    .             DocBook,    .  ,       . <br><br> <b>—     2html   DocBook?</b> <br><br> — ,   DocBook. <br><br> <b>— ,    ,     !</b> <br><br> —       . <br><br><hr><br>     - ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lua Mailing List</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459464/">https://habr.com/ru/post/fr459464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459454/index.html">Comment s'est passé le premier hackathon à The Standoff</a></li>
<li><a href="../fr459456/index.html">Dagaz: épisodes (partie 1)</a></li>
<li><a href="../fr459458/index.html">ok.tech: Explication des données # 2</a></li>
<li><a href="../fr459460/index.html">Les difficultés de travailler avec Redux et leur solution</a></li>
<li><a href="../fr459462/index.html">SEO pour Yandex. Recherchez tout?</a></li>
<li><a href="../fr459466/index.html">Lua à Moscou 2019: entretien avec Roberto Ierusalimschy</a></li>
<li><a href="../fr459470/index.html">Partie 4: Toujours en cours d'exécution Linux sur RISC-V RISC-V</a></li>
<li><a href="../fr459472/index.html">Heroku + Docker + Spring Boot</a></li>
<li><a href="../fr459474/index.html">Comment faire du texte parfaitement tapé en une seconde: une macro dans Word pour ceux qui écrivent beaucoup</a></li>
<li><a href="../fr459478/index.html">Mon expérience dans la création d'une application multi-thread pour travailler avec des sauvegardes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>