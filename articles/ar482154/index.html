<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐ผโ๐ ๐ฉ๐พโ๐คโ๐จ๐ป ๐ฉ๐ผโ๐ ููุงุฐุง ุงูุญุฏ ูู ุงูููุฑุงุซ ูุน ุงูููุงุฆูุ ๐ฒ๐ฝ ๐ ๐๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุฑุจูุง ุณูุนุช ูุฐุง ุงูุจูุงู ุงูุดููุฑ ูู GoF: "ุฃูุถู ุชูููู ูููุฑุงุซ ุงูุตู". ูุจุนุฏ ุฐูู ุ ูููุงุนุฏุฉ ุนุงูุฉ ุ ุงุณุชูุฑุช ุงูุฃููุงุฑ ุงูุทูููุฉ ุญูู ููู ุฃู ุงูููุฑุงุซ ุงููุญุฏุฏ ุจุดูู ุซุงุจุช ููุณ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููุงุฐุง ุงูุญุฏ ูู ุงูููุฑุงุซ ูุน ุงูููุงุฆูุ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482154/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุฑุจูุง ุณูุนุช ูุฐุง ุงูุจูุงู ุงูุดููุฑ ูู GoF: "ุฃูุถู ุชูููู ูููุฑุงุซ ุงูุตู".  ูุจุนุฏ ุฐูู ุ ูููุงุนุฏุฉ ุนุงูุฉ ุ ุงุณุชูุฑุช ุงูุฃููุงุฑ ุงูุทูููุฉ ุญูู ููู ุฃู ุงูููุฑุงุซ ุงููุญุฏุฏ ุจุดูู ุซุงุจุช ููุณ <em>ูุฑููุง</em> ููุงุฑูุฉู ุจุงูุชุฑููุจุฉ ุงูุฏููุงููููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุงููุฑููุฉ ูู ุจุงูุทุจุน ููุฒุฉ ุชุตููู ูููุฏุฉ.  ููุน ุฐูู ุ ุนูุฏ ุงุฎุชูุงุฑ ุจููุฉ ุ ูุญู ููุชููู ูู ุงูููุงู ุงูุฃูู ุจุงูุตูุงูุฉ ููุงุจููุฉ ุงูุงุฎุชุจุงุฑ ููุงุจููุฉ ูุฑุงุกุฉ ุงูููุฏ ูุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงููุญุฏุงุช.  ูุฐูู ูุน ูุฐู ุงููุนุงููุฑ ูู ุงูุชุตููู ุงูุฌูุฏ ุ ูุงูููุฑุงุซ ุฃูุถุง ูุดุงูู.  "ูุงูุขู ุ ูุง ุชุณุชุฎุฏู ุงูููุฑุงุซ ุนูู ุงูุฅุทูุงูุ" - ุชุณุฃู. </p><br><p style=";text-align:right;direction:rtl"> ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ููู ุฃู ุงูุชุจุนูุฉ ุงููููุฉ ุจูู ุงููุฆุงุช ูู ุฎูุงู ุงูููุฑุงุซ ูููู ุฃู ุชุฌุนู ุจููุฉ ูุธุงูู ุฌุงูุฏุฉ ููุดุฉ ููุบุงูุฉ.  ูููุงุฐุง ุงุณุชุฎุฏุงู ูุงุญุฏุฉ ูู ุฃูุซุฑ ุงููููุงุช ุงูุฑุฆูุณูุฉ ุบุงูุถุฉ ููุฑุงูุบุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ - <code>final</code> .  ูุชู ุนุฑุถ ุงูุฃููุงุฑ ุงููุตุงุบุฉ ุจุงุณุชุฎุฏุงู ูุซุงู ุดุงูู ุจุณูุท.  ูู ููุงูุฉ ุงูููุงู ุ ููุงู ุญูู ูุฃุฏูุงุช ููุนูู ุงููุฑูุญ ูุน ุงููุตูู <code>final</code> . </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ub/8n/_e/ub8n_esvqmijrl-trdc_xtpqtfe.gif" alt="ูุดููุฉ ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ ุงููุดุฉ"></p><br><p style=";text-align:right;direction:rtl">  <em>ูุดููุฉ ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ ุงููุดุฉ</em> </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ูุงุญุฏุฉ ูู ุงููุนุงููุฑ ุงูุฑุฆูุณูุฉ ููุจููุฉ ุงูุฌูุฏุฉ ูู <a href="https://en.wikipedia.org/wiki/Loose_coupling" rel="nofollow">ุงูุงูุชุฑุงู ุงููุถูุงุถ</a> ุ ุงูุฐู ูููุฒ ุฏุฑุฌุฉ ุงูุชุฑุงุจุท ุจูู ูุญุฏุงุช ุงูุจุฑุงูุฌ.  ููุณ ูุดูุก ุฃู ุงููุดุงุฑูุฉ ุงูุถุนููุฉ ูู ุฌุฒุก <a href="https://ru.wikipedia.org/wiki/GRASP" rel="nofollow">ูู</a> ูุงุฆูุฉ <a href="https://ru.wikipedia.org/wiki/GRASP" rel="nofollow">ุฃููุงุท GRASP</a> ุงูุชู ุชุตู ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ูุชูุงุณู ุงููุณุคูููุฉ ุจูู ุงูุทุจูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุงููุดุงุฑูุฉ ุงูุถุนููุฉ ููุง ุงูุนุฏูุฏ ูู ุงููุฒุงูุง. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุฎูุงู ุชุฎููู ุงูุชุจุนูุงุช ุจูู ูุญุฏุงุช ุงูุจุฑุงูุฌ ุ ูุฅูู ุชุณูู ุตูุงูุฉ ูุฏุนู ุงููุธุงู ูู ุฎูุงู ุฅูุดุงุก ุจููุฉ ุฃูุซุฑ ูุฑููุฉ. </li><li style=";text-align:right;direction:rtl">  ููุงู ุฅููุงููุฉ ููุชุทููุฑ ุงููุชูุงุฒู ูููุญุฏุงุช ุงูููุทูุฉ ูุถูุงุถุฉ ุฏูู ุงูุชุนุฑุถ ูุฎุทุฑ ุชุนุทูู ุนูููุง. </li><li style=";text-align:right;direction:rtl">  ูุตุจุญ ููุทู ุงููุตู ุฃูุซุฑ ูุถูุญูุง ุ ูุตุจุญ ูู ุงูุฃุณูู ุงุณุชุฎุฏุงู ุงููุตู ุจุดูู ุตุญูุญ ููุบุฑุถู ุงูููุตูุฏ ุ ููุตุนุจ ุงุณุชุฎุฏุงูู - ุฎุทุฃ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุชูููุฏููุง ุ ูุชู ููู ุงูุชุจุนูุงุช ูู ุงููุธุงู ุจุดูู ุฃุณุงุณู ุนูู ุฃููุง ุงุชุตุงูุงุช ุจูู ุงููุงุฆู ุงููุณุชุฎุฏู (ุงูุฎุฏูุฉ) ูุงููุงุฆู ุงููุณุชุฎุฏู (ุงูุนููู).  ุชููู ูุซู ูุฐู ุงูุนูุงูุฉ <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25B3%25D1%2580%25D0%25B5%25D0%25B3%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow">ุจููุฐุฌุฉ ุนูุงูุฉ ุงูุชุฌููุน</a> ุนูุฏูุง ุชููู ุงูุฎุฏูุฉ "ุฌุฒุกูุง ูู" ุงูุนููู ( <a href="https://en.wikipedia.org/wiki/Has-a" rel="nofollow">ูุฏูู ุนูุงูุฉ</a> ) ุ ููููู ุงูุนููู ูุณุคูููุฉ ุงูุณููู ุฅูู ุงูุฎุฏูุฉ ุงููุถููุฉ ููู.  ููุนุจ <a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle" rel="nofollow">ูุจุฏุฃ ุงูุนูุงุณ ุงูุชุจุนูุฉ</a> ( <em>DIP</em> ) ุฏูุฑูุง ุฑุฆูุณููุง ูู ุฅุถุนุงู ุงูุนูุงูุฉ ุจูู ุงูุนููู ูุงูุฎุฏูุฉ ุ ูุงูุฐู ููุชุฑุญ ุชุญููู ุงูุชุจุนูุฉ ุงููุจุงุดุฑุฉ ุจูู ุงููุญุฏุงุช ุฅูู ุงุนุชูุงุฏ ูุชุจุงุฏู ูููุญุฏุงุช ุนูู ุชุฌุฑูุฏ ูุดุชุฑู. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ููููู ุฃูุถูุง ุชุญุณูู ุจููุฉ ุงูุชุทุจูู ุจุดูู ูุจูุฑ ุนู ุทุฑูู ุชุฎููู ุงูุชุจุนูุงุช ูู ุฅุทุงุฑ <a href="https://en.wikipedia.org/wiki/Is-a" rel="nofollow">ุนูุงูุฉ</a> .  ุชุฎูู ุนูุงูุฉ ุงููุฑุงุซุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุชุฑุงููุง <a href="https://en.wikipedia.org/wiki/Tight_coupling" rel="nofollow">ุถูููุง</a> ุ ุงูุฃููู ุจูู ุฌููุน ุฃุดูุงู ุงูุชุจุนูุงุช ุงูููููุฉ ุ ูุจุงูุชุงูู ูุฌุจ ุงุณุชุฎุฏุงููุง ุจุนูุงูุฉ ูุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mv/u8/u0/mvu8u0gs0chkxt4jly0h0defdpe.jpeg" alt="ุงุฑุชุจุงุท ููู ูููุง ูุชุนูู ุจุงูููุฑุงุซ"></p><br><p style=";text-align:right;direction:rtl">  <em>ุงุฑุชุจุงุท ููู ูููุง ูุชุนูู ุจุงูููุฑุงุซ</em> </p><br><p style=";text-align:right;direction:rtl">  ุญุฌู ุงูููุฏ ุงููุดุชุฑู ุจูู ูุฆุชู ุงููุงูุฏูู ูุงูุทูู ูุจูุฑ ุฌุฏูุง.  ุชุจุฏุฃ ูุฐู ุงููุดููุฉ ูู ุงูุธููุฑ ุจููุฉ ุฎุงุตุฉ ุนูุฏ ุฅุณุงุกุฉ ุงุณุชุฎุฏุงู ููููู ุงูููุฑุงุซ - ุงุณุชุฎุฏุงู ุงูููุฑุงุซ ุญุตุฑููุง ูุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุดูุฑุฉ ุงูุฃูููุฉ ุ ูููุณ ูุฅูุดุงุก ูุฆุงุช ูุฑุนูุฉ ูุชุฎุตุตุฉ.  ูุฃู ุงูููุฑุงุซ ูู ุฃุณูู ุทุฑููุฉ ูุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูููุฏ.  ูุง ุนููู ุณูู ุงููุชุงุจุฉ <code>extends ParentClass</code> ููุฐุง ูู ุดูุก!  ุจุนุฏ ูู ุดูุก ุ ูู ุฃุจุณุท ุจูุซูุฑ ูู ุงูุชุฌููุน ุ <a href="https://en.wikipedia.org/wiki/Dependency_injection" rel="nofollow">ุญูู ุงูุชุจุนูุฉ</a> (DI) ุ ุชุฎุตูุต ุงููุงุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูููุต ุงูุฑุจุท ุงูุทุจูู ูู ุงูุชุณูุณู ุงููุฑูู ููููุฑุงุซ ุจุดูู ุชูููุฏู ุจุงุณุชุฎุฏุงู ุงููุนุฏูุงุช ุงูุชูููุฏูุฉ ูููุทุงู ( <code>private</code> ุ <code>protected</code> ).  ุญุชู ุฃู ููุงู ุฑุฃููุง ููุงุฏู ุฃูู ูุฌุจ ุงูุฅุนูุงู ุนู ุฎุตุงุฆุต ุงููุตู ุญุตุฑููุง ูุน ุงููุนุฏู <code>private</code> .  ููุฌุจ ุชุทุจูู ุงูุชุนุฏูู <code>protected</code> ุจุนูุงูุฉ ูุงุฆูุฉ ูููุท ุนูู ุงูุทุฑู ุ ูุฃู  ุฃูู ูุดุฌุน ุงูุชุจุนูุงุช ุจูู ุงููุงูุฏูู ูุงูุทูู ุงูุทุจูุงุช. </p><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุง ูุชู ุฅุฎูุงุก ูุดุงูู ุงูููุฑุงุซ ููุท ูู ุงูุฎุตุงุฆุต ูุงูุฃุณุงููุจ ุ ุจู ูู ุฃุนูู ุจูุซูุฑ.  ุงููุซูุฑ ูู ุงูุฃุฏุจูุงุช ุงููุชุนููุฉ ุจุจููุฉ ุงูุชุทุจูู ุ ุจูุง ูู ุฐูู <a href="https://ru.wikipedia.org/wiki/Design_Patterns" rel="nofollow">ูุชุงุจ GoF</a> ุงูููุงุณููู <a href="https://ru.wikipedia.org/wiki/Design_Patterns" rel="nofollow">ุ</a> ูููุก ุจุงูุดู ูู ุงููุฑุงุซุฉ ูููุชุฑุญ ุงููุธุฑ ุฅูู ุชุตุงููู ุฃูุซุฑ ูุฑููุฉ.  ูููู ูู ูู ุงููุฑููุฉ ููุทุ  ุฃูุชุฑุญ ุฃุฏูุงู ูุชูุธูู ูุดููุงุช ุงูููุฑุงุซ ุจุดูู ูููุฌู ุ ูุจุนุฏ ุฐูู ููุฑ ูู ููููุฉ ุชุฌูุจูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุฃุฎุฐ "ุงูุฃุฑูุจ ุงูุชุฌุฑูุจู" ุฃุจุณุท ูุฆุฉ ูู ูุฌููุนุฉ ุงูุชุนูููุงุช ูุน ูุฌููุนุฉ ูู ุงูุชุนูููุงุช ูู ุงูุฏุงุฎู.  ุชู ุงูุนุซูุฑ ุนูู ูุฆุงุช ููุงุซูุฉ ูุน ูุฌููุนุฉ ูู ุงูุฏุงุฎู ุจุฃุนุฏุงุฏ ูุจูุฑุฉ ูู ุฃู ูุดุฑูุน. </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> Comment[]   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $comments = []; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุชู ุชุจุณูุท ุงูุฃูุซูุฉ ุฃุฏูุงู ุนูุฏุง ุจุฃุณููุจ <a href="https://en.wikipedia.org/wiki/KISS_principle" rel="nofollow">KISS ูู</a> ุฃุฌู ุฅุธูุงุฑ ุงูุฃููุงุฑ ุงูููุถูุนุฉ ูู ุงูููุฏ.  ููููู ุงูุนุซูุฑ ุนูู ุฃูุซูุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุงูููุงูุฉ ูุชุนููู ุชูุถูุญู ุชูุตููู ุญูู ุงุณุชุฎุฏุงููุง ูู <a href="https://github.com/parshikovpavel/final-keyword" rel="nofollow">ูุฐุง ุงููุณุชูุฏุน</a> . </p><br><h2 id="problemy-nasledovaniya" style=";text-align:right;direction:rtl">  ูุถุงูุง ุงูููุฑุงุซ </h2><br><p style=";text-align:right;direction:rtl">  ููุจุฏุฃ ูุน ุงููุดููุฉ ุงูุฃูุซุฑ ูุถูุญุง ุ ูุงูุชู ุชุนุทู ูู ุงูููุงู ุงูุฃูู ูู ุงูุฃุฏุจ ุนูู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ. </p><br><h3 id="nasledovanie-narushaet-princip-sokrytiya" style=";text-align:right;direction:rtl">  ุงูููุฑุงุซ ููุชูู ูุจุฏุฃ ุงูุฅุฎูุงุก </h3><br><blockquote style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุงููุฆุฉ ุงููุฑุนูุฉ ูุฏููุง ุฅููุงููุฉ ุงููุตูู ุฅูู ุชูุงุตูู ุชูููุฐ ุงููุตู ุงูุฃุตู ุ ูููุงู ุฅู ุงูููุฑุงุซ ููุชูู ุงูุชุบููู. <br><br>  <em>ุฃููุงุท ุงูุญูุงุฉ</em> </blockquote><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃู ุงููุชุงุจ ุงูููุงุณููู ุ The Gangs of Four ุ ูุชุนุงูู ูุน ุงูุชูุงูุงุช ุงูุชุบููู ุ ุฅูุง ุฃูู ูู ุงูุฃุตุญ ุงูููู ุฃู <em>"ุงูููุฑุงุซ ููุชูู ูุจุฏุฃ ุงูุฅุฎูุงุก"</em> .  ุจุนุฏ ูู ุดูุก ุ <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D0%25BA%25D0%25B0%25D0%25BF%25D1%2581%25D1%2583%25D0%25BB%25D1%258F%25D1%2586%25D0%25B8%25D1%258F_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow">ุงูุชุบููู</a> ูู ูุฒูุฌ ูู ุงูุจูุงูุงุช ูุน ุงูุฃุณุงููุจ ุงููุตููุฉ ููุนุงูุฌุชูุง.  ููู <a href="https://en.wikipedia.org/wiki/Information_hiding" rel="nofollow">ูุจุฏุฃ ุงูุฅุฎูุงุก</a> ูุถูู ููุท ุชูููุฏ ูุตูู ุจุนุถ ููููุงุช ุงููุธุงู ุฅูู ุชูุงุตูู ุชูููุฐ ุงูููููุงุช ุงูุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุชุจุงุน ูุจุฏุฃ ุงูุฅุฎูุงุก ูู ุงููููู ูุณูุญ ุจุถูุงู ูุดุงุฑูุฉ ุงููุญุฏุงุช ูู ุฎูุงู ูุงุฌูุฉ ูุณุชูุฑุฉ.  ูุฅุฐุง ุณูุญ ุงููุตู ุจุงููุฑุงุซุฉ ุ ูุฅูู ูููุฑ ุชููุงุฆููุง ุงูุฃููุงุน ุงูุชุงููุฉ ูู ุงููุงุฌูุงุช ุงููุณุชูุฑุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ุงููุงุฌูุฉ ุงูุนุงูุฉ</em> ุงููุณุชุฎุฏูุฉ ูู ูุจู ุฌููุน ุงูุนููุงุก ูู ูุฐู ุงููุฆุฉ ุ </li><li style=";text-align:right;direction:rtl">  <em>ูุงุฌูุฉ ูุญููุฉ</em> ุชุณุชุฎุฏููุง ุฌููุน ุงูุทุจูุงุช ุงูุชุงุจุนุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฃู  ุงูุทุจูุฉ ุงููุฑุนูุฉ ูุฏููุง ุชุฑุณุงูุฉ ูู ุงููุฏุฑุงุช ุฃูุจุฑ ุจูุซูุฑ ููุง ุชููุฑู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุนุงูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุฃู ูุคุซุฑ ุนูู ุงูุญุงูุฉ ุงูุฏุงุฎููุฉ ูููุฆุฉ ุงูุฃุตู ุงููุฎููุฉ ูู ุฎุตุงุฆุตูุง <code>protected</code> . </p><br><p style=";text-align:right;direction:rtl">  ุบุงูุจูุง ุ ูุง ูุญุชุงุฌ ุงููุตู ุงููุฑุนู ุฅูู ุงููุตูู ุฅูู ุฌููุน ุนูุงุตุฑ ุงููุฆุฉ ุงูุฃุตู ุงูุชู ูููู ุงููุตูู ุฅูููุง ูู ุฎูุงู ุงูููุฑุงุซ ุ ููุน ุฐูู ุ ูุง ููููู ุชูููุฑ ุงููุตูู ุจุดูู ุงูุชูุงุฆู ุฅูู ุฃุนุถุงุก ุงููุฆุงุช <code>protected</code> ูุจุนุถ ุงููุฆุงุช ุงููุฑุนูุฉ.  ุชุจุฏุฃ ุงููุฆุฉ ุงููุฑุนูุฉ ูู ุงูุงุนุชูุงุฏ ุนูู <em>ุงููุงุฌูุฉ ุงููุญููุฉ</em> ูููุฆุฉ ุงูุฃุตู. </p><br><p style=";text-align:right;direction:rtl">  ุงูุณุจุจ ุงูุฑุฆูุณู ูููุฑุงุซ ุงููุฆุฉ ุ ูู ูุนุธู ุงูุฃุญูุงู ุ ูู ุชูุณูุน ูุธุงุฆู ุงููุฆุฉ ุงูุฃุตู ุนู ุทุฑูู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงููุง.  ุฅุฐุง ูุงู ุงููุตูู ุงููุจุฏุฆู ุฅูู ุชูููุฐ ุงููุฆุฉ ุงูุฃุตู ุนุจุฑ <em>ุงููุงุฌูุฉ ุงููุญููุฉ</em> ูุง ููุฐุฑ ุจุงููุดุงูู ุ ูุนูุฏูุง ูุชุทูุฑ ุงููุธุงู ุ ูุจุฏุฃ ุงููุจุฑูุฌ ูู ุงุณุชุฎุฏุงู ูุฐุง ุงููุตูู ูู ุฃุณุงููุจ ุงููุฆุฉ ุงููุฑุนูุฉ ูุชุนุฒูุฒ ุงูุงุฑุชุจุงุท ูู ุงูุชุณูุณู ุงููุฑูู. </p><br><p style=";text-align:right;direction:rtl">  ุฃุตุจุญุช ุงููุฆุฉ ุงูุฃุตู ูุถุทุฑุฉ ุงูุขู ููุญูุงุธ ุนูู ุงูุงุณุชูุฑุงุฑ ููุณ ููุท <em>ูููุงุฌูุฉ ุงูุนุงูุฉ</em> ุ ูููู ุฃูุถูุง <em>ูููุงุฌูุฉ ุงููุญููุฉ</em> ุ ูุฃู ุฃู ุชุบููุฑุงุช ูู ุฐูู ุณูุคุฏู ุฅูู ูุดุงูู ูู ุนูู ุงููุตูู ุงููุฑุนูุฉ.  ููุน ุฐูู ุ ูู ุงููุณุชุญูู ุฑูุถ ุงุณุชุฎุฏุงู ุฃุนุถุงุก ุงููุตู <code>protected</code> .  ุฅุฐุง ูุงูุช <em>ุงููุงุฌูุฉ ุงููุญููุฉ</em> ุณูู ุชุชุทุงุจู ุชูุงููุง ูุน <em>ุงููุงุฌูุฉ ุงูุนุงูุฉ</em> ุงูุฎุงุฑุฌูุฉ ุ ุฃู  ุณูู ุชุณุชุฎุฏู ุงููุฆุฉ ุงูุฃุตู ููุท ุงูุฃุนุถุงุก ูู <code>public</code> <code>private</code> ุ ุซู ุงูููุฑุงุซ ุนูููุง ูุง ูุนูู ูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ุ ูุฅู ุงููููุฉ <code>protected</code> ุงููุงูุน ูุง ุชููุฑ ุฃู ุญูุงูุฉ ูุฃุนุถุงุก ุงููุตู.  ูููุตูู ุฅูู ูุคูุงุก ุงูุฃุนุถุงุก ุ ูููู ุฃู ุชุฑุซ ูู ุงููุตู ุ ููู ุฅุทุงุฑ ูุฆุฉ ุงูุทูู ูุฏูู ูู ูุฑุตุฉ ูุงูุชูุงู ูุจุฏุฃ ุงูุฅุฎูุงุก.  ูุตุจุญ ูู ุงูุณูู ุฌุฏูุง ุงุณุชุฎุฏุงู ุงููุตู ุจุทุฑููุฉ ุบูุฑ ุตุญูุญุฉ ุ ูุงูุชู ุชุนุฏ ูุงุญุฏุฉ ูู ุฃููู ุนูุงูุงุช ุงูุนูุงุฑุฉ ุงูุถุนููุฉ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/kz/lj/u2/kzlju2j0kqgao50qols46uwvz0e.gif" alt="ุจุงุณุชุฎุฏุงู ูุฆุฉ ูู ุฎูุงู ูุงุฌูุฉ ูุญููุฉ"></p><br><p style=";text-align:right;direction:rtl">  <em>ุงูุชูุงู ูุจุฏุฃ ุงูุฅุฎูุงุก ูู ุฎูุงู ูุงุฌูุฉ ูุญููุฉ</em> </p><br><p style=";text-align:right;direction:rtl">  ุงูุฃูู ูู ุฐูู ุ ุฃู ุงูุนูุงุตุฑ ุงููุบููุฉ (ุงูุซูุงุจุช ูุงูุฎุตุงุฆุต ูุงูุฃุณุงููุจ) ูุง ูููู ูุฑุงุกุชูุง ูุงุณุชุฏุนุงุกูุง ููุท ูู ุงููุตู ุงููุฑุนู ุ ูููู ูููู ุฃูุถูุง ุชุฌุงูุฒูุง.  ูุฐู ุงููุฑุตุฉ ูุญูููุฉ ุจุฎุทุฑ ุฎูู - ุจุณุจุจ ูุฐู ุงูุชุบููุฑุงุช ุ ูุฏ ูุตุจุญ ุณููู ูุงุฆูุงุช ุงููุฆุฉ ุงููุฑุนูุฉ ุบูุฑ ูุชูุงูู ูุน ูุงุฆูุงุช ุงููุฆุฉ ุงูุฃุตู.  ูู ูุฐู ุงูุญุงูุฉ ุ ุงุณุชุจุฏุงู ูุงุฆูุงุช ุงููุฆุฉ ุงููุฑุนูุฉ ูู ุชูู ุงูููุงุท ูู ุงูููุฏ ุญูุซ ูุงู ูู ุงูููุชุฑุถ ุฃู ูุคุฏู ุณููู ูุงุฆูุงุช ุงููุฆุฉ ุงูุฑุฆูุณูุฉ ุฅูู ุนูุงูุจ ุบูุฑ ูุชููุนุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุถูู ูุธููุฉ ูุฆุฉ <code>CommentBlock</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> Comment[]   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $comments = []; <span class="hljs-comment"><span class="hljs-comment">/**       `$comments` */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: ?</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Comment</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key] ?? <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุณูู ูุฑุซ ููู ุงููุฆุฉ <code>CustomCommentBlock</code> ุ ูุงูุชู ูุณุชุบู ูููุง ูู ุงูุงุญุชูุงูุงุช ููุณุฑ ุงูุฅุฎูุงุก. </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *    * *    (information hiding) *     `CommentBlock::$comments`, *     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $comments)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments = $comments; } <span class="hljs-comment"><span class="hljs-comment">/** *    ,   `Comment::getKey()` * *       */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: ?</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Comment</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $comment) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($comment-&gt;getKey() === $key) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $comment; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre><br><p style=";text-align:right;direction:rtl">  ุงูุญุงูุงุช ุงูุดุงุฆุนุฉ ูุงูุชูุงูุงุช ุงูุฅุฎูุงุก ูู ููุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูุดู ุทุฑู ุงููุตู ุงููุฑุนู ุนู ุญุงูุฉ ุงููุตู ุงูุฃุตู ูุชููุฑ ุงููุตูู ุฅูู ุงูุฃุนุถุงุก ุงููุฎูููู ูููุฆุฉ ุงูุฃุตู.  ุฑุจูุง ูู ููู ูุฐุง ุงูุณููุงุฑูู ูุชููุนูุง ุนูุฏ ุชุตููู ุงููุฆุฉ ุงูุฃุตู ุ ููุง ูุนูู ุฃูู ูู ุงููุญุชูู ุฃู ูุชู ุงูุชูุงู ููุทู ุฃุณุงููุจูุง. <br>  ูู ุงููุซุงู ุ ุชููุฑ ุงููุฆุฉ ุงููุฑุนูุฉ ุทุฑููุฉ ุชุนููู <code>CustomCommentBlock::setComments()</code> ูุชุนุฏูู ุฎุงุตูุฉ <code>CommentBlock::$comments</code> ุงููุญููุฉ ุงููุฎููุฉ ูู ุงููุฆุฉ ุงูุฃุตู. </li><li style=";text-align:right;direction:rtl">  ุชุฌุงูุฒ ุณููู ุทุฑููุฉ ุงููุฆุฉ ุงูุฃุตู ูู ุงููุตู ุงููุฑุนู.  ูู ุจุนุถ ุงูุฃุญูุงู ููุธุฑ ุงููุทูุฑูู ุฅูู ูุฐู ุงูููุฒุฉ ููุณููุฉ ูุญู ูุดููุงุช ุงููุฆุฉ ุงูุฃุตู ุนู ุทุฑูู ุฅูุดุงุก ูุฆุงุช ูุฑุนูุฉ ุฐุงุช ุณููู ูุนุฏู. <br>  ูู ุงููุซุงู ุ ุชุนุชูุฏ <code>CommentBlock::getComment()</code> ูู ุงููุฆุฉ ุงูุฃุตู ุนูู ุงูููุงุชูุญ ุงูููุฌูุฏุฉ ูู <code>CommentBlock::$comments</code> .  ููู ุงููุฆุฉ ุงููุฑุนูุฉ - ุฅูู ููุงุชูุญ ุงูุชุนูููุงุช ููุณูุง ุ ูููู ุงููุตูู ุฅูููุง ูู ุฎูุงู ุฃุณููุจ <code>Comment::getKey()</code> . </li></ul><br><h3 id="problema-banan-obezyana-dzhungli" style=";text-align:right;direction:rtl">  ูุดููุฉ ูุฑุฏ ุงูููุฒ </h3><br><blockquote style=";text-align:right;direction:rtl">  ุงููุดููุฉ ูู ุงููุบุงุช ุงูููุฌูุฉ ูููุงุฆูุงุช ูู ุฃููุง ุชุทูู ุนูู ุจูุฆุชูุง ุงูุถูููุฉ ุจุงููุงูู.  ุฃุฑุฏุช ููุท ููุฒุฉ ุ ููู ููุชูุฌุฉ ุญุตูุช ุนูู ุบูุฑููุง ุชุญูู ูุฐุง ุงูููุฒ ููู ุงูุบุงุจุฉ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู. <br><br>  <em>ุฌู ุฃุฑูุณุชุฑููุบ ุ ุฎุงูู ุฅุฑูุงูุฌ</em> </blockquote><p style=";text-align:right;direction:rtl">  ุงูุชุจุนูุงุช ููุฌูุฏุฉ ุฏุงุฆููุง ูู ุจููุฉ ุงููุธุงู.  ููุน ุฐูู ุ ูุญูู ุงูููุฑุงุซ ุนุฏุฏูุง ูู ุงูุนูุงูู ุงููุนูุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุญุชูู ุฃู ุชููู ูุฏ ูุงุฌูุช ูููููุง ุญูุซ ููุง ุงูุชุณูุณู ุงููุฑูู ูููุตูู ุจุดูู ูุจูุฑ ูุน ุชุทูุฑ ููุชุฌ ุงูุจุฑูุงูุฌ.  ุนูู ุณุจูู ุงููุซุงู </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Block</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Block</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PopularCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CachedPopularCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PopularCommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-comment"><span class="hljs-comment">/* .... */</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃูุช ุชุฑุซ ูุชุฑุซ ุ ููู ูุง ููููู ุฃู ุชูุฑุฑ ุฃู ูู ุงูุฃุนุถุงุก ุณูุฑุซ.  ุชุฑุซ ูู ุดูุก ููู ุดูุก ุ ูุฑุงุซุฉ ุฃุนุถุงุก ูู ุฌููุน ุงูุทุจูุงุช ูู ุฌููุน ุฃูุญุงุก ุดุฌุฑุฉ ุงูุชุณูุณู ุงููุฑูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุญุตู ุงุนุชูุงุฏูุง ูุจูุฑูุง ุนูู ุชุทุจูู ุงููุฆุฉ ุงูุฃุตู ุ ูุนูู ุงููุฆุฉ ุงูุฃุตู ูููุฆุฉ ุงูุฃุตู ุ ููุง ุฅูู ุฐูู.  ููุง ูููู ุฅุถุนุงู ูุฐู ุงูุชุจุนูุงุช ุจุฃู ุดูู ูู ุงูุฃุดูุงู (ุนูู ุนูุณ ุงูุชุฌููุน ุงููุงูู ูุน <em>DIP</em> ). </p><br><p style=";text-align:right;direction:rtl">  ูุงููู ุนู ุญูููุฉ ุฃู ุงูุทุจูุฉ ุงููุฑููุฉ ูู ูุซู ูุฐุง ุงูุชุณูุณู ุงููุฑูู ุงูุนููู ุณุชูุชูู ุจุดูู ุดุจู ูุคูุฏ <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle" rel="nofollow">ูุจุฏุฃ ุงููุณุคูููุฉ ุงููุฑุฏูุฉ</a> ( <em>SRP</em> ) ูุชุนุฑู ูุชูุนู ูุซูุฑูุง.  ููุฏ ุจุฏุฃุช ุงูุชุทููุฑ ุจุงุณุชุฎุฏุงู ูุฆุฉ <code>Block</code> ุจุณูุทุฉ ุ ุซู ุฃุถูุช ุฅูููุง ูุธุงุฆู ูุชุญุฏูุฏ ุงูุชุนูููุงุช ุ ุซู ููุฒุงุช ูููุฑุฒ ุญุณุจ ุงูุดุนุจูุฉ ุ ูุงูุชุฎุฒูู ุงููุคูุช ุงููุฑูู ... ููุชูุฌุฉ ูุฐูู ุ ุญุตูุช ุนูู ูุตู ุฏุฑุงุณู ุจู ุงููุซูุฑ ูู ุงููุณุคูููุงุช ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ <a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25B2%25D1%258F%25D0%25B7%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow">ูุชุตู ุจุดูู ูุถูุงุถ</a> ( <a href="https://en.wikipedia.org/wiki/Cohesion_(computer_science)" rel="nofollow">ุชูุงุณู ููุฎูุถ</a> ) </p><br><p style=";text-align:right;direction:rtl">  ุฃุฑุฏุช ููุท ุงูุญุตูู ุนูู ููุฒุฉ (ูู ุจุฅูุดุงุก ูุงุฆู ูุจุงุช ูู ุงูุชุณูุณู ุงููุฑูู) ููุง ุชูุชู ุจููููุฉ ุงููุตูู ุฅูู ุฃูุฑุจ ุณูุจุฑ ูุงุฑูุช (ููููุฉ ุชูููุฐ ุงูุณููู ุ ูุงููุชูุฌุฉ ูู ูุฐุง ุงููุงุฆู).  ููุน ุฐูู ุ ูุน ุงูููุฑุงุซ ุ ูุฃูุช ูุถุทุฑ ูุชุญูู ุชุญููู ุงูุชุณูุณู ุงููุฑูู ุจุฃูููู ุ ุจุฏุกุง ูู ุงูุบุงุจุฉ ููุณูุง.  ูุฌุจ ุฃู ุชุถุน ูู ุงุนุชุจุงุฑู ููุฒุงุช ุงูุบุงุจุฉ ูุงููุฑูู ุงูุฏูููุฉ ูู ุชูููุฐูุง ุ ุจูููุง ุชุฑุบุจ ูู ุงูุชุฑููุฒ ุนูู ุงูููุฒ. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ ุชูุชุดุฑ ุญุงูุฉ ูุตูู ุนูู ุงูุนุฏูุฏ ูู ูุตูู ุงูุขุจุงุก.  ููููู ุญู ูุฐู ุงููุดููุฉ ููุท ุนู ุทุฑูู ุงูุญุฏ ูู ุชุฃุซูุฑ ุงูุจูุฆุฉ ุงูุฎุงุฑุฌูุฉ (ุงูุบุงุจุฉ) ุนูู ูุตูู ูู ุฎูุงู ุงูุชุบููู ูุงูุงุฎุชุจุงุก.  ููุน ุฐูู ุ ูุฅูู ูู ุงููุณุชุญูู ุชุญููู ุฐูู ูุน ุงูููุฑุงุซ ุ ูุฃูู  ุงูููุฑุงุซ ููุชูู ูุจุฏุฃ ุงูุฅุฎูุงุก. </p><br><p style=";text-align:right;direction:rtl">  ููู ุงูุขู ูุงุฎุชุจุงุฑ ุงููุตูู ุงููุฑุนูุฉ ูู ููุงู ูุง ูู ุดุฌุฑุฉ ุงูุชุณูุณู ุงููุฑูู ุ ูุฐูู ูุฃู ุชุทุจูููุง ููุชุดุฑ ูู ุงููุตูู ุงูุฑุฆูุณูุฉุ  ููุงุฎุชุจุงุฑ ุ ุณุชุญุชุงุฌ ุฅูู ุฌููุน ุงููุฆุงุช ุงูุฑุฆูุณูุฉ ุ ููุง ููููู ุชุฌุงูุฒูุง ุจุฃู ุทุฑููุฉ ุ ูุฃู  ูุฏูู ุงุฑุชุจุงุท ููุณ ูู ุงูุณููู ุ ูููู ูู ุงูุชูููุฐ.  ูุธุฑูุง ูุฃูู ูุง ูููู ุนุฒู ูุตูู ูุงุฎุชุจุงุฑู ุจุณูููุฉ ุ ูุณูู ุชุฑุซ ุงููุซูุฑ ูู ุงููุดููุงุช - ูุน ุฅููุงููุฉ ุงูุตูุงูุฉ ูุงูุชูุณุนุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู. </p><br><h3 id="otkrytaya-rekursiya-po-umolchaniyu" style=";text-align:right;direction:rtl">  ุงูุนูุฏูุฉ ููุชูุญุฉ ุงูุงูุชุฑุงุถูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุง ุชุนุชูุฏ ุงููุฆุฉ ุงููุฑุนูุฉ ููุท ุนูู <em>ุงููุงุฌูุฉ ุงููุญููุฉ ูู</em> ุงูุฃุตู.  ููุง ูุดุงุฑูู ุฌุฒุฆูุงู ูู ุฅุฏุฑุงูู ุงูุฌุณุฏู ููุนุชูุฏ ุนููู ูููููู ุงูุชุฃุซูุฑ ุนููู.  ูุฐุง ูุง ููุชูู ููุท ูุจุฏุฃ ุงูุฅุฎูุงุก ุ ุจู ูุฌุนู ุณููู ูุฆุฉ ุงูุทูู ูุฑุจููุง ุจุดูู ุฎุงุต ููุง ูููู ุงูุชูุจุค ุจู. </p><br><p style=";text-align:right;direction:rtl">  ุชููุฑ ุงููุบุงุช ุงูููุฌูุฉ ูููุงุฆูุงุช ุนูุฏูุฉ ููุชูุญุฉ ุจุดูู ุงูุชุฑุงุถู.  ูู PHP ุ ูุชู ุชุทุจูู ุงูุนูุฏูุฉ ุงูููุชูุญุฉ ุจุงุณุชุฎุฏุงู ุงููุชุบูุฑ ุงูุฒุงุฆู <code>$this</code> .  ุชุณูู ุทุฑููุฉ ุงุณุชุฏุนุงุก ุฎูุงู <code>$this</code> ุงุณุชุฏุนุงุก <em>ุงูุฐุงุช</em> ูู ุงูุฃุฏุจ. </p><br><p style=";text-align:right;direction:rtl">  ูุคุฏู <em>ุงูุงุชุตุงู ุงูุฐุงุชู</em> ุฅูู ุงุณุชุฏุนุงุกุงุช ุงูุทุฑููุฉ ูู ุงููุฆุฉ ุงูุญุงููุฉ ุ ุฃู ูููู ุฅุนุงุฏุฉ ุชูุฌูููุง ุฏููุงูููููุง ูุฃุนูู ุฃู ูุฃุณูู ุงูุชุณูุณู ุงููุฑูู ููููุฑุงุซ ุงุณุชูุงุฏูุง ุฅูู ุงูุฑุจุท ุงููุชุฃุฎุฑ.  ุจูุงุกู ุนูู ุฐูู ุ <em>ูุชู</em> ุชูุณูู <em>ุงูุฏุนูุฉ ุงูุฐุงุชูุฉ</em> ุฅูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>ุงุณุชุฏุนุงุก ูุฃุณูู</em> - ููุงููุฉ ุฅูู ุฃุณููุจ ุชู ุฅุจุทุงู ุชุทุจููู ูู ูุตู ูุฑุนู ุ ูู ุชุฏุฑุฌ ูุฑูู. </li><li style=";text-align:right;direction:rtl">  <em>up-call</em> - ุงุณุชุฏุนุงุก ุฅูู ุทุฑููุฉ ููุฑูุซ ุชูููุฐูุง ูู ุงููุฆุฉ ุงูุฃุตู ุ ุฃุนูู ูู ุงูุชุณูุณู ุงููุฑูู.  ููููู ุฅุฌุฑุงุก <em>ููุงููุฉ ูุงุชููุฉ</em> ุจุดูู ุตุฑูุญ ูู PHP ูู ุฎูุงู ุจููุฉ <code>parent::method()</code> . </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุงุณุชุฎุฏุงู ุงููุชูุฑุฑ <em>ูููุฏุงุก</em> <em>ุงููุงุชูู ูุงูุงุชุตุงู ุงููุงุชูู</em> ูู ุชูููุฐ ุงูุฃุณุงููุจ ูุฑุจุท ุจูู ุงูุทุจูุงุช ุจุดูู ุฃูุซู ุ ููุง ูุฌุนู ุงูููุฏุณุฉ ุตุนุจุฉ ููุดุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุฃุฎุฐ ูุซุงูุง.  <code>getComments()</code> ุทุฑููุฉ <code>getComments()</code> ูู ูุฆุฉ <code>CommentBlock</code> ุงูุฃุตู ุ ูุงูุชู ุชูุฑุฌุน ูุฌููุนุฉ ูู ุงูุชุนูููุงุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** *        `getComment()`. * *        `CustomCommentBlock`, * ..   `CommentBlock::getComment()`  * `CustomCommentBlock::getComment()` . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ $comments = []; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $comments[] = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getComment($key); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $comments; } }</code> </pre><br><p style=";text-align:right;direction:rtl">  ุชุนุชูุฏ ูุฐู ุงูุทุฑููุฉ ุนูู ููุทู <code>CommentBlock::getComment()</code> ูุชููู <code>CommentBlock::getComment()</code> ุงูุชุนูููุงุช ูู ุฎูุงู ููุงุชูุญ ุตููู ุงูุฌูุนูุงุช <code>$comments</code> .  ูู ุณูุงู ูุฆุฉ <code>CustomCommentBlock</code> ูู ุฃุณููุจ <code>CommentBlock::getComments()</code> ุ ุณูุชู <em>ุชูููุฐ ุงุณุชุฏุนุงุก ูุฃุณูู</em> ููุฃุณููุจ <code>CustomCommentBlock::getComment()</code> .  ููุน ุฐูู ุ ุฃุณููุจ <code>CustomCommentBlock::getComment()</code> ูุฏูู ุณููู ูุฎุชูู ุนู ุงููุชููุน ูู ุงููุฆุฉ ุงูุฃุตู.  ููุนููุฉ ุ ุชุชููุน ูุฐู ุงูุทุฑููุฉ ุงูุฎุงุตูุฉ <code>key</code> ููุชุนููู ููุณู. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ <code>CommentBlock::getComments()</code> ุงูููุฑูุซุฉ ุชููุงุฆููุง ูู ุงููุฆุฉ ุงูุฃุตู ุ ุบูุฑ ูุชูุงูู ูู ุงูุณููู ูุน <code>CustomCommentBlock::getComment()</code> .  ุงุณุชุฏุนุงุก <code>getComments()</code> ูู ุณูุงู <code>CustomCommentBlock</code> ุณูุนูุฏ ุนูู ุงูุฃุฑุฌุญ ุตููู ูู ุงูููู <code>null</code> . </p><br><p style=";text-align:right;direction:rtl">  ุจุณุจุจ ุงููุดุงุฑูุฉ ุงููููุฉ ุ ุนูุฏ ุฅุฌุฑุงุก ุชุบููุฑุงุช ุนูู ุงููุตู ุ ูุง ููููู ุงูุชุฑููุฒ ููุท ุนูู ุณููููุง.  ุฃูุช ูุฌุจุฑ ุนูู ุฃู ุชุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูููุทู ุงูุฏุงุฎูู ูุฌููุน ุงูุทุจูุงุช ุ ุฅูู ุฃุณูู ูุฅูู ุฃุนูู ุงูุชุณูุณู ุงููุฑูู.  ูุฌุจ ุฃู ุชููู ูุงุฆูุฉ ูุชุฑุชูุจ ูุงุฆูุฉ <em>ุงูุฏุนูุฉ</em> ูู ุงููุตู ุงูุฃุตู ูุนุฑููุฉ ูููุซูุฉ ุ ููุง ููุชูู ุจุดูู ูุจูุฑ ูุจุฏุฃ ุงูุฅุฎูุงุก.  ุชุตุจุญ <em>ุชูุงุตูู ุงูุชูููุฐ</em> ุฌุฒุกูุง ูู ุนูุฏ ุงููุฆุฉ ุงูุฃุตู. </p><br><h3 id="kontrol-pobochnyh-effektov" style=";text-align:right;direction:rtl">  ุงูุณูุทุฑุฉ ุนูู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูู ุงููุซุงู ุงูุณุงุจู ุ <code>getComment()</code> ุงููุดููุฉ ุจุณุจุจ ุงูุงุฎุชูุงู ูู ููุทู ุฃุณุงููุจ <code>getComment()</code> ูู ูุตูู ุงูุฃุตู ูุงูุทูู.  ููุน ุฐูู ุ ูุง ูููู ุงูุชุญูู ูู ุชุดุงุจู ุณููู ุงูุทุฑู ูู ุงูุชุณูุณู ุงููุฑูู ูููุฆุฉ.  ูุฏ ุชูุชุธุฑู ุงููุดููุงุช ุฅุฐุง ูุงูุช ูุฐู ุงูุทุฑู ููุง ุขุซุงุฑ ุฌุงูุจูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุชุนูู ุงููุธููุฉ ุฐุงุช <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D0%25B1%25D0%25BE%25D1%2587%25D0%25BD%25D1%258B%25D0%25B9_%25D1%258D%25D1%2584%25D1%2584%25D0%25B5%25D0%25BA%25D1%2582_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow">ุงูุชุฃุซูุฑุงุช ุงูุฌุงูุจูุฉ</a> (ูุธููุฉ ุฐุงุช <a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" rel="nofollow">ุชุฃุซูุฑุงุช ุฌุงูุจูุฉ</a> ) ุนูู ุชุบููุฑ ุญุงูุฉ ุงููุธุงู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุชุฃุซูุฑ ุงูุฑุฆูุณู - ุฅุนุงุฏุฉ ุงููุชูุฌุฉ ุฅูู ููุทุฉ ุงูุงุชุตุงู.  ุฃูุซูุฉ ุนูู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงููุชุบูุฑุงุช ุงูุฎุงุฑุฌูุฉ ููุทุฑููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุฎุตุงุฆุต ุงููุงุฆู) ุ </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงููุชุบูุฑุงุช ุงูุซุงุจุชุฉ ุงููุญููุฉ ุฅูู ุงูุฃุณููุจ ุ </li><li style=";text-align:right;direction:rtl">  ุงูุชูุงุนู ูุน ุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุฐูู ูุฅู ูุฐู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ูู ุฃูุถูุง <em>ุฌุฒุก ูู ุงูุชูููุฐ</em> ุ ูุงูุฐู ูุง ูููู ุฅุฎูุงุคู ุฃูุถูุง ุจุดูู ูุนุงู ูู ุนูููุฉ ุงูููุฑุงุซ. </p><br><p style=";text-align:right;direction:rtl">  ุชุฎูู <code>CommentBlock</code> ูุญุชุงุฌ ุฅูู ุชุถููู ุทุฑููุฉ <code>viewComment()</code> ูู ูุฆุฉ <code>CommentBlock</code> ููุญุตูู ุนูู ุชูุซูู ูุตู ูุฃุญุฏ ุงูุชุนูููุงุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> Comment[]   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $comments = []; <span class="hljs-comment"><span class="hljs-comment">/**         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุถู ุชุฃุซูุฑูุง ุฌุงูุจููุง ุนูู ุงููุตู ุงููุฑุนู ูุญุฏุฏ ุงูุบุฑุถ ููู.  ูุญู ูุทุจู ูุฆุฉ <code>CountingCommentBlock</code> ุ ุงูุชู ุชููู <code>CommentBlock</code> ุงููุฏุฑุฉ ุนูู ุญุณุงุจ ูุฌูุงุช ูุธุฑ ุงูุชุนูููุงุช ุงููุฑุฏูุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.  ุฏุน ุงููุตู ููุจู <a href="https://en.wikipedia.org/wiki/Dependency_injection" rel="nofollow">ุญูู</a> ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงููุชูุงููุฉ ูุน <a href="https://www.php-fig.org/psr/psr-16/" rel="nofollow">PSR-16</a> ูู ุงูููุดุฆ ( <a href="https://en.wikipedia.org/wiki/Dependency_injection" rel="nofollow">ุญูู ุงูููุดุฆ</a> ) ุนุจุฑ ูุงุฌูุฉ <code>CounterInterface</code> (ูุงูุชู <a href="https://github.com/php-fig/fig-standards/pull/847/" rel="nofollow">ุชู ุงุณุชุจุนุงุฏูุง ูู ุงูููุงูุฉ</a> ูู PSR-16).  ุณูุณุชุฎุฏู ุทุฑููุฉ <code>increment()</code> ูุฒูุงุฏุฉ ูููุฉ ุงูุนุฏุงุฏ ุชููุงุฆููุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช. </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> CounterInterface  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $cache; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CounterInterface $cache)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache = $cache; } <span class="hljs-comment"><span class="hljs-comment">/**        */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache-&gt;increment($key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::viewComment($key); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุดูุก ูุนูู ุจุดูู ุฌูุฏ.  ููุน ุฐูู ุ ูู ูุฑุญูุฉ ูุง ุ ุชูุฑุฑ ุฅุถุงูุฉ ูุธููุฉ <code>viewComments()</code> ูุชุดููู ุชูุซูู ูุตู ูุฌููุน ุงูุชุนูููุงุช ูู ุงููุชูุฉ.  ุชุชู ุฅุถุงูุฉ ูุฐู ุงูุทุฑููุฉ ุฅูู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ <code>CommentBlock</code> ุ ููู ููุญุฉ ุณุฑูุนุฉ ุ ุชุจุฏู ูุฑุงุซุฉ ุชูููุฐ ูุฐู ุงูุทุฑููุฉ ูู ูุจู ุฌููุน ุงููุตูู ุงููุฑุนูุฉ ูุฑูุญุฉ ููุบุงูุฉ ูุชุชุฌูุจ ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฅุถุงููุฉ ูู ุงููุตูู ุงููุฑุนูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-comment"><span class="hljs-comment">/**           */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= $comment-&gt;view(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูุง ูุนุฑู ุงููุตู ุงูุฃุตู ุฃู ุดูุก ุญูู ููุฒุงุช ุงูุชูููุฐ ูููุฆุงุช ุงูุชุงุจุนุฉ.     <code>viewComments()</code>    (responsibility)  <code>CountingCommentBlock</code> โ      . </p><br><p style=";text-align:right;direction:rtl">  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$commentBlock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CountingCommentBlock(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeCache()); <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> $commentBlock-&gt;viewComments();</code> </pre> <br><p style=";text-align:right;direction:rtl">      .      ,     . </p><br><p style=";text-align:right;direction:rtl">         ยซ  ยป          .   ,    <code>viewComments()</code>     (  ). </p><br><h3 id="hrupkost-bazovogo-klassa" style=";text-align:right;direction:rtl">    </h3><br><p style=";text-align:right;direction:rtl">  ,        . ,   ,             ,     .        โ ยซ <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D1%2580%25D1%2583%25D0%25BF%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B1%25D0%25B0%25D0%25B7%25D0%25BE%25D0%25B2%25D1%258B%25D0%25B9_%25D0%25BA%25D0%25BB%25D0%25B0%25D1%2581%25D1%2581" rel="nofollow">  </a> ยป (" <a href="https://en.wikipedia.org/wiki/Fragile_base_class" rel="nofollow">Fragile base class</a> ").       ยซ- ยป   <a href="https://habr.com/ru/post/331732/">  </a> โ  (fragility). </p><br><p style=";text-align:right;direction:rtl">    ,    <em> </em>     ?   . ,      <code>CommentBlock</code> ,               . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> Comment[]   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $comments = []; <span class="hljs-comment"><span class="hljs-comment">/**         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } <span class="hljs-comment"><span class="hljs-comment">/**           */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= $comment-&gt;view(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre> <br><p style=";text-align:right;direction:rtl">   <code>CountingCommentBlock</code>           . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> CounterInterface  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $cache; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CounterInterface $cache)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache = $cache; } <span class="hljs-comment"><span class="hljs-comment">/**        */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache-&gt;increment($key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::viewComment($key); } <span class="hljs-comment"><span class="hljs-comment">/**        */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache-&gt;increment($key); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::viewComments(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">              <code>CommentBlock::viewComments()</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$view .= $comment-&gt;view();</code> </pre> <br><p style=";text-align:right;direction:rtl">      ,    <code>viewComment()</code> , โ     .            .      <code>viewComment()</code>  <code>viewComments()</code> .      ,   <code>CommentBlock::viewComment()</code>  <code>CommentBlock::viewComments()</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;viewComment($key); <span class="hljs-comment"><span class="hljs-comment">//  `$comment-&gt;view()` } return $view; } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">     <code>CommentBlock</code>   ,  ,    .      <code>CommentBlock</code> โ   ,  ยซยป.        . </p><br><p style=";text-align:right;direction:rtl">     ,    .        <code>CountingCommentBlock</code> .  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">$commentBlock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CountingCommentBlock(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SomeCache()); <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> $commentBlock-&gt;viewComments();</code> </pre> <br><p style=";text-align:right;direction:rtl">    : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">CountingCommentBlock::viewComments() -&gt; CommentBlock::viewComments() -&gt; (n ) CountingCommentBlock::viewComment()</code> </pre> <br><p style=";text-align:right;direction:rtl">            :   <code>CountingCommentBlock::viewComments()</code>  <code>CountingCommentBlock::viewComment()</code> .  ุฃู      โ        .       <code>CountingCommentBlock</code> ,    ,  ! </p><br><p style=";text-align:right;direction:rtl">         ,    <em>protected </em>  .     ,       .      .          ,    . </p><br><p style=";text-align:right;direction:rtl">       .        ,     .         ,           .         ,      ,    ยซ <a href="https://en.wikipedia.org/wiki/Yo-yo_problem" rel="nofollow"> -</a> ยป. </p><br><p style=";text-align:right;direction:rtl">     ,     .     ,            ยซ <em>  </em> ยป.       ยซ <em> </em> ยป  <code>$this</code> ,            <code>private</code> ,    . </p><br><p style=";text-align:right;direction:rtl"> ,        . ,               ,      .     PHP      ( <code>public</code> , <code>protected</code> , <code>private</code> )    <code>final</code> . </p><br><h2 id="klyuchevoe-slovo-final" style=";text-align:right;direction:rtl">   final </h2><br><p style=";text-align:right;direction:rtl">     PHP          .     ,    , ..     ,          ,   ,  . ,           <code>final</code> . </p><br><blockquote style=";text-align:right;direction:rtl"> PHP 5    <code>final</code> ,      ,       .         ,      . <br><br>  #1. <br>  ... <br>  #2 <br>  ... <br><br> :        ,    . </blockquote><p style=";text-align:right;direction:rtl"> <em>  PHP, ยซ <a href="https://www.php.net/manual/ru/language.oop5.final.php" rel="nofollow">  final</a> ยป</em> </p><br><p style=";text-align:right;direction:rtl">      PHP     .                   .     <code>final</code>     ,       . </p><br><p style=";text-align:right;direction:rtl"> ,  <code>final</code> โ        PHP,         .      ,     PHP      :   <em>typehints</em> ,      .. </p><br><p style=";text-align:right;direction:rtl">   <code>final</code> ,     ,       <a href="https://en.wikipedia.org/wiki/Defensive_programming" rel="nofollow"> </a> .  ุฃู              ,  .     . </p><br><p style=";text-align:right;direction:rtl">   ,            ,   <code>private</code> ,         .          ,     . </p><br><p style=";text-align:right;direction:rtl"> ,   ,       ,      API.       ,      ยซยป   ,    .      ยซยป     -    .     ยซยป           ,       . </p><br><p style=";text-align:right;direction:rtl">     API     ยซ  ยป.   ,                  . </p><br><p style=";text-align:right;direction:rtl">    ,              <code>final</code>          . </p><br><h2 id="primenenie-final-dlya-uluchsheniya-arhitektury" style=";text-align:right;direction:rtl">  final    </h2><br><h3 id="pattern-shablonnyy-metod" style=";text-align:right;direction:rtl">  ยซ ยป </h3><br><p style=";text-align:right;direction:rtl">          โ   .        ,       <em>public</em>  <em>protected</em> . </p><br><p style=";text-align:right;direction:rtl">   ,     ,      .     PHP (    -)          .        โ   ,        ,  ,    . </p><br><p style=";text-align:right;direction:rtl">    ,     ()           .       ยซ <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B5%25D1%2582%25D0%25BE%25D0%25B4_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)" rel="nofollow"> </a> ยป ( <a href="https://en.wikipedia.org/wiki/Template_method_pattern" rel="nofollow">Template method</a> ). </p><br><p style=";text-align:right;direction:rtl">     ,        : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <u>   </u> .   ,   () .   <em> </em>  .       <code>final</code> .          โ       . </li><li style=";text-align:right;direction:rtl"> <u>   </u> .       .     ,          .     <em> ()  </em> . </li></ul><br><p style=";text-align:right;direction:rtl">     <em>  </em>   ,      <em>abstract </em> ,    ,  <em>final </em> ,     .      ,  ,      .          , ..      <code>final</code> . </p><br><p style=";text-align:right;direction:rtl">      .  ,     ,         .    ,              .        . .., ,   -   ,    , , .            : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">       <code>abstract</code>      ; </li><li style=";text-align:right;direction:rtl">        <code>final</code> ,  ,   . </li></ul><br><p style=";text-align:right;direction:rtl">      .         ยซ ยป     <em>abstract</em>  <em>final </em> . </p><br><p style=";text-align:right;direction:rtl">     <code>CommentBlock</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $comments = []; <span class="hljs-comment"><span class="hljs-comment">/**         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/**           */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;viewComment($key); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre><br><p style=";text-align:right;direction:rtl">         <code>SimpleCommentBlock</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ,  ,   : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $cache; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CounterInterface $cache)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache = $cache; } <span class="hljs-comment"><span class="hljs-comment">/**        */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache-&gt;increment($key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">      ยซยป,       <em>   </em> .            <em>final </em>  <em>final </em> . </p><br><p style=";text-align:right;direction:rtl">              . ,   .  ,    ยซ ยป   <em>down-call</em> ,       ,     .      . </p><br><p style=";text-align:right;direction:rtl">     ,        ,         .  ,         . </p><br><h3 id="predpochitay-realizaciyu-interfeysa-nasledovaniyu" style=";text-align:right;direction:rtl">     </h3><br><p style=";text-align:right;direction:rtl">            - ,         .            <code>extends</code> ,     <code>implements</code> . </p><br><p style=";text-align:right;direction:rtl">            -   .     <code>CommentBlock</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/**           */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; }</code> </pre><br><p style=";text-align:right;direction:rtl">        : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $comments = []; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;viewComment($key); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre> <br><p style=";text-align:right;direction:rtl">       ,  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $comments = []; <span class="hljs-comment"><span class="hljs-comment">/**  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $cache; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CounterInterface $cache)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache = $cache; } <span class="hljs-comment"><span class="hljs-comment">/**        */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache-&gt;increment($key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;viewComment($key); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre><br><p style=";text-align:right;direction:rtl">          <code>implements</code>  - <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D1%2581%25D1%2581%25D0%25BE%25D1%2586%25D0%25B8%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F_(%25D0%25BE%25D0%25B1%25D1%258A%25D0%25B5%25D0%25BA%25D1%2582%25D0%25BD%25D0%25BE-%25D0%25BE%25D1%2580%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5)" rel="nofollow"></a> ( <a href="https://en.wikipedia.org/wiki/Association_(object-oriented_programming)" rel="nofollow"><em>association</em></a> )   . </p><br><p style=";text-align:right;direction:rtl"> -,    <em>   </em> .            -  .    <code>final</code> ,         :   ,         .. </p><br><p style=";text-align:right;direction:rtl">  .  <em></em>            .  ,      <em></em>     <code>public</code> .       <code>implements</code> ,    ()        , ,    <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D1%2580%25D0%25B0%25D0%25B7%25D0%25B4%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_%25D0%25B8%25D0%25BD%25D1%2582%25D0%25B5%25D1%2580%25D1%2584%25D0%25B5%25D0%25B9%25D1%2581%25D0%25B0" rel="nofollow">  </a> ( <a href="https://en.wikipedia.org/wiki/Interface_segregation_principle" rel="nofollow">ISP</a> ).             ,      . </p><br><p style=";text-align:right;direction:rtl">    <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25B8%25D0%25BD%25D1%2586%25D0%25B8%25D0%25BF_%25D0%25BE%25D1%2582%25D0%25BA%25D1%2580%25D1%258B%25D1%2582%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8/%25D0%25B7%25D0%25B0%25D0%25BA%25D1%2580%25D1%258B%25D1%2582%25D0%25BE%25D1%2581%25D1%2582%25D0%25B8" rel="nofollow"> /</a> ( <a href="https://en.wikipedia.org/wiki/Open%25E2%2580%2593closed_principle" rel="nofollow">OCP</a> )?     <code>final</code>  <code>implements</code> โ     PHP    . </p><br><p style=";text-align:right;direction:rtl">   , ,   ,    .    ,     <code>implements</code> ,     .          . </p><br><p style=";text-align:right;direction:rtl">   <code>final</code>  ,         .     .     โ        ,            <code>implements</code>       <code>final</code> . </p><br><p style=";text-align:right;direction:rtl">        ยซ ยป,    .   <code>implements</code>       ,    <code>final</code>       . </p><br><p style=";text-align:right;direction:rtl">   ,     ยซ ยป,      ,       .       โ   <code>SimpleCommentBlock</code>  <code>CountingCommentBlock</code>      <code>viewComments()</code>         . </p><br><h3 id="predpochitay-agregaciyu-nasledovaniyu" style=";text-align:right;direction:rtl">    </h3><br><p style=";text-align:right;direction:rtl"> ,     <code>viewComments()</code>     ,       , , ,   .        ,      .        <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5%25D0%25BA%25D0%25BE%25D1%2580%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580_(%25D1%2588%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25BE%25D0%25BD_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B5%25D0%25BA%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F)" rel="nofollow"> </a> ( <a href="https://en.wikipedia.org/wiki/Decorator_pattern" rel="nofollow">decorator pattern</a> ).         ,   ยซ ยป, โ    <code>final</code>    ,    <code>implements</code> . </p><br><p style=";text-align:right;direction:rtl">     ,   <code>CommentBlock</code> ,      . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCommentKeys</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/**         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/**           */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ,      <code>getCommentKeys()</code>    .           .    ,        <em>protected </em> ,            <code>CommentBlock</code> . </p><br><p style=";text-align:right;direction:rtl"> <code>SimpleCommentBlock</code>      - ยซยป  . ,    ,      <code>implements</code>       <code>final</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $comments = []; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCommentKeys</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> array_keys(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;viewComment($key); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre><br><p style=";text-align:right;direction:rtl"> <code>CountingCommentBlock</code>  - ยซยป             โ     <abbr title="Openโclosed principle">OCP</abbr> . <code>CountingCommentBlock</code>   :        <code>CommentBlock</code>      . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**  CommentBlock */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $commentBlock; <span class="hljs-comment"><span class="hljs-comment">/**  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $cache; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CommentBlock $commentBlock, CounterInterface $cache)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;commentBlock = $commentBlock; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache = $cache; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCommentKeys</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;commentBlock-&gt;getCommentKeys(); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache-&gt;increment($key); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;commentBlock-&gt;viewComment($key); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $commentKeys = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;getCommentKeys(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($commentKeys <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $commentKey) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;cache-&gt;increment($commentKey); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;commentBlock-&gt;viewComments(); } }</code> </pre> <br><p style=";text-align:right;direction:rtl"> - <code>CountingCommentBlock</code>           . ,  <code>viewComment()</code>       .      ( <em>forwarding methods</em> ). </p><br><p style=";text-align:right;direction:rtl">          ,     ยซ ยป.   <code>getCommentKeys()</code> .   ,  ยซยป        ,         ,        . </p><br><p style=";text-align:right;direction:rtl">         ,    .   ,    -       ยซยป  .  ,      โ         ( ,  SOLID)     ( ,  ,   ). </p><br><p style=";text-align:right;direction:rtl">     .  <code>SimpleCommentBlock</code>  <code>CountingCommentBlock</code>    <code>CommentBlock</code> ,       .           -,     . </p><br><p style=";text-align:right;direction:rtl"> ,           <em> </em>  <em>  </em> ,    <code>final</code>        <em>   </em> ,       <code>CommentBlock</code> . </p><br><p style=";text-align:right;direction:rtl">   <code>SimpleCommentBlock</code>  <code>CountingCommentBlock</code>    -  ยซ ยป,            .   ยซ ยป    ,     .            ,       ยซ ยป.       โ        . </p><br><p style=";text-align:right;direction:rtl">     ,  <code>final</code>   ,   .     ,     ยซ--ยป   โ         .    <abbr title="Dependency inversion principle">DIP</abbr> ,       . </p><br><p style=";text-align:right;direction:rtl">       : <code>SimpleCommentBlock</code> โ     ;  <code>CountingCommentBlock</code> โ   <code>SimpleCommentBlock</code> ,       ().  ุฃู      ,        โ    <abbr title="Single responsibility principle">SRP</abbr> .     ,    ,     ( <em>cohesion</em> )          . </p><br><p style=";text-align:right;direction:rtl">       ยซ  ยป โ      (, , ),    ,      .       ,                  . </p><br><p style=";text-align:right;direction:rtl">   . </p><br><p style=";text-align:right;direction:rtl">     <code>viewRandomComment()</code>    <code>SimpleCommentBlock</code>         - <code>CountingCommentBlock</code> .    ,                โ   <code>viewRandomComment()</code>     .  <code>CountingCommentBlock::viewRandomComment()</code>      . </p><br><p style=";text-align:right;direction:rtl">  ,    <code>viewComments()</code>    <code>SimpleCommentBlock</code>       . <code>CountingCommentBlock</code>         <code>SimpleCommentBlock</code> ,     . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-comment"><span class="hljs-comment">/**         */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewRandomComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $key = array_rand(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } <span class="hljs-comment"><span class="hljs-comment">/**      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { <span class="hljs-comment"><span class="hljs-comment">/*    `$this-&gt;viewComment()`      */</span></span> $view .= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre> <br><h3 id="klass-dolzhen-byt-podgotovlen-k-nasledovaniyu" style=";text-align:right;direction:rtl">       </h3><br><p style=";text-align:right;direction:rtl">       :    ,  ,       ,   ,   ,   ..           . </p><br><p style=";text-align:right;direction:rtl">    PHP     ,  ,        <code>final</code> ,          .     , ,   ,    .          ,      .        .         โ        ,     โ         . </p><br><p style=";text-align:right;direction:rtl">      ,            .     <a href="" rel="nofollow">PHPDoc</a>   ,           .     :           . </p><br><p style=";text-align:right;direction:rtl">     ,         ,    (.. ,   <code>public</code>  <code>protected</code> ).  <a href="" rel="nofollow">PSR-19: PHPDoc tags</a> ,    ,        .         <em>PHPDoc</em> ,     ยซ    -ยป. </p><br><p style=";text-align:right;direction:rtl">     <a href="https://en.wikipedia.org/wiki/Javadoc" rel="nofollow">JavaDoc</a>  <a href="https://openjdk.java.net/jeps/8068562" rel="nofollow">@implSpec</a> ,              .  , <em>PHPDoc</em>   <em>API</em>         , ..  <em>public </em> .  <code>@implSpec</code>     ,    <em>API</em> .        ,    <em>protected </em>     . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** *         *       *  (,    ) * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@implSpec</span></span></span><span class="hljs-comment">      `$key` *    `$this-&gt;comments`      `view()` * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $key   * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string    */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments[$key]-&gt;view(); } }</code> </pre><br><p style=";text-align:right;direction:rtl">  <em>PHPDoc</em>    <code>@implSpec</code>     .        <code>$key</code>      .        โ     <code>view()</code> . </p><br><p style=";text-align:right;direction:rtl">        ,     <code>@implSpec</code> : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">         (   ,  ,    ,    ..). </li><li style=";text-align:right;direction:rtl">              <code>parent::method()</code> . </li></ul><br><p style=";text-align:right;direction:rtl">  ,   ยซยป  .  ,  <em>self-call</em>  ( <code>$this</code> )  ,      ,  : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">        <code>$this</code> ; </li><li style=";text-align:right;direction:rtl">    ; </li><li style=";text-align:right;direction:rtl">    . </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** *           * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@implSpec</span></span></span><span class="hljs-comment">    `$this-&gt;comments` *        `$this-&gt;viewComment()`. *       . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ $view = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;comments <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $key =&gt; $comment) { $view .= <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;viewComment($key); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $view; } }</code> </pre><br><p style=";text-align:right;direction:rtl">  ,   <code>viewComments()</code>   <code>final</code>       .       <code>viewComment()</code> ,        .        : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    <code>viewComment()</code>   <code>viewComments()</code> ; </li><li style=";text-align:right;direction:rtl">       <code>viewComments()</code>   <code>viewComment()</code> . </li></ul><br><p style=";text-align:right;direction:rtl">     ,    .       ,      ,        .  ยซ  ยป,     <code>CommentBlock</code>  <code>CountingCommentBlock</code> ,  .         <code>viewComment()</code>    <code>viewComments()</code> ,   ,      . </p><br><p style=";text-align:right;direction:rtl">      ,   ,    .  <em>PHPDoc</em>     <em>API</em>        :       ,      ,    . </p><br><p style=";text-align:right;direction:rtl">  ,     ,    ,    ,    ,            ,  ยซยป.       โ   .  <em>PHPDoc</em>      ,         . </p><br><p style=";text-align:right;direction:rtl"> ,           ,            .   โ          <code>final</code> ,        .        .          โ ยซ            ยป. </p><br><p style=";text-align:right;direction:rtl">           : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    .              ; </li><li style=";text-align:right;direction:rtl">       <code>final</code> .  . </li></ul><br><p style=";text-align:right;direction:rtl">  , ,   <code>final</code>      .      <code>final</code>     ,        .          ,       .         ,        ? </p><br><p style=";text-align:right;direction:rtl">   <code>final</code>            .     ,      ,     .   ,       ,  <code>final</code>     ,   . </p><br><h3 id="final-zastavlyaet-zadumatsya-o-neobhodimosti-nasledovaniya" style=";text-align:right;direction:rtl"> final      </h3><br><p style=";text-align:right;direction:rtl">      ยซ ยป,    ,     , ,  ,    .  ,      <em>protected </em>   .   ,   <code>final</code> โ     ,    ,     ,      <em>public </em> ,    . </p><br><p style=";text-align:right;direction:rtl">       ,    ,      .  ,            ,   ,   .   โ    <code>final</code> . </p><br><p style=";text-align:right;direction:rtl">        ,           <code>final</code> ?  ูุง.  -   ,      <em>Opensource</em> ,    ,    .              <em>IDE</em> .  ,           . </p><br><p style=";text-align:right;direction:rtl"> ,  ,     <code>final</code>      .      <code>final</code>  ,              .          . </p><br><p style=";text-align:right;direction:rtl"> <code>final</code>     ,           .          <em>public </em> ?           โ     ,   ? </p><br><p style=";text-align:right;direction:rtl">      ,           .   ,      <code>final</code> ,      ,   <em>protected </em>  . </p><br><p style=";text-align:right;direction:rtl"> <code>final</code>       ,              <em>code review</em> (    <em>code review</em> ? ;). , . </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">      <code>final</code> ?    ?  ุฃู ูููุงุ </li><li style=";text-align:right;direction:rtl">      <code>final</code> ?             ?       ? </li></ul><br><p style=";text-align:right;direction:rtl">            .        ,   ,    <em>code review</em>       .     . </p><br><p style=";text-align:right;direction:rtl">    .   <code>final</code>        <em>PHP5</em> . ,  ,     ( ,   )        . </p><br><p style=";text-align:right;direction:rtl">       ,             ,     .     ยซ ยป      ,   . ,  <em>C#</em>          <code>virtual</code> ,    โ <code>override</code> .     <em>PHP</em>  <code>final</code>    <code>extandable</code> ,    ยซ       <code>final</code> ยป,              <code>extend</code>    . </p><br><h3 id="klass-dolzhen-byt-podgotovlen-k-agregacii" style=";text-align:right;direction:rtl">       </h3><br><p style=";text-align:right;direction:rtl"> ,      โ    .     .          .               . </p><br><p style=";text-align:right;direction:rtl">    . ,   .    ,        .     <code>final</code>    ,      ,    -.  ,     ,    <code>implements</code>      . </p><br><p style=";text-align:right;direction:rtl">  ,        ,   <code>final</code>       . </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">         <code>final</code>    : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCommentKeys</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } }</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">         .   , <code>final</code>          .          ,      .            . </p><br><p style=";text-align:right;direction:rtl">   ,      <code>public</code>      . ,               ,     . </p><br><p style=";text-align:right;direction:rtl">        ,              . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCommentKeys</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">array</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; }</code> </pre><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">     . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">     -,          .   -    <code>CommentBlock</code>   .  -           . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $commentBlock; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CommentBlock $commentBlock </span></span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-params"><span class="hljs-comment">/* ,... */</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;commentBlock = $commentBlock; } <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br></li></ol><br><p style=";text-align:right;direction:rtl">             ,     .  ,       <code>final</code>  ,    ,     -   .   ,         <code>final</code>   . </p><br><p style=";text-align:right;direction:rtl">      <code>final</code> ,      .   ,             ยซยป.   ,          .         <code>final</code>      . </p><br><h3 id="ispolzovanie-final-klassov-v-testah" style=";text-align:right;direction:rtl">  final    </h3><br><p style=";text-align:right;direction:rtl">         <code>final</code>       โ     ( <em>PHPUnit, Mockery</em> )     <em> ยซยป</em> ( <a href="https://en.wikipedia.org/wiki/Test_double" rel="nofollow">test doubles</a> ).       ,           . </p><br><p style=";text-align:right;direction:rtl"> ,  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlockTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testCreatingTestDouble</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> </span></span>{ $mock = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createMock(SimpleCommentBlock::class); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">   : </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">Class <span class="hljs-string"><span class="hljs-string">"SimpleCommentBlock"</span></span> is declared <span class="hljs-string"><span class="hljs-string">"final"</span></span> and cannot be mocked.</code> </pre> <br><p style=";text-align:right;direction:rtl">   ,   ยซ ยป <em>PHPUnit</em>    ,  : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mock_SimpleCommentBlock_591bc3f3</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">      <em> ยซยป</em> . -,           , ..   . , -,    ,   <em>PHPUnit</em>       . ,      . </p><br><p style=";text-align:right;direction:rtl">   <code>final</code>               .         :   .   . </p><br><p style=";text-align:right;direction:rtl"> <strong> </strong> </p><br><p style=";text-align:right;direction:rtl">    โ     <em> ยซยป</em>   . ,    ( <code>Post</code> , <code>Comment</code> )  - ( <a href="https://en.wikipedia.org/wiki/Value_object" rel="nofollow">value object</a> )   ( <em>stable</em> )      .       .    <a href="https://martinfowler.com/articles/mocksArentStubs.html" rel="nofollow">classical TDD</a> (  <a href="https://martinfowler.com/articles/mocksArentStubs.html" rel="nofollow">mockist TDD</a> ) </p><br><p style=";text-align:right;direction:rtl">  ,      ( <em>volatile</em> )       .   ,  ,  <em> ยซยป</em> โ     ,   .   ,  <em> ยซยป</em>        ,       .           ( <em>DIP</em> ),      ,  <em> ยซยป</em>       . </p><br><p style=";text-align:right;direction:rtl">  ,            .  ุฃู     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl">      <em> ยซยป</em> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlockTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testCreatingTestDouble</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> </span></span>{ $mock = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createMock(CommentBlock::class); } }</code> </pre> <br><p style=";text-align:right;direction:rtl">        <em> ยซยป</em>    ,       .    : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">      <em> ยซยป</em> ; </li><li style=";text-align:right;direction:rtl">         ; </li><li style=";text-align:right;direction:rtl"> <em> ยซยป</em>       , ..  <em>DIP</em>      . </li></ul><br><p style=";text-align:right;direction:rtl"> <strong> </strong> </p><br><p style=";text-align:right;direction:rtl">   ,    ยซยป โ      ,     -. ,         (  ,  ).           ,    ยซ   ยป  ยซ    ยป. </p><br><p style=";text-align:right;direction:rtl"> ,          <code>final</code>   . </p><br><p style=";text-align:right;direction:rtl">   โ     -.          -. ,   -,       .         <a href="http://docs.mockery.io/en/latest/reference/final_methods_classes.html" rel="nofollow"> </a>   <a href="https://github.com/mockery/mockery" rel="nofollow">Mockery</a> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlockTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestCase</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testCreatingProxyDouble</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> $simpleCommentBlock = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SimpleCommentBlock(); <span class="hljs-comment"><span class="hljs-comment">/*  - */</span></span> $proxy = Mockery::mock($simpleCommentBlock); <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> $proxy-&gt;shouldReceive(<span class="hljs-string"><span class="hljs-string">'viewComment'</span></span>) -&gt;andReturn(<span class="hljs-string"><span class="hljs-string">'text'</span></span>); <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;assertEquals(<span class="hljs-string"><span class="hljs-string">'text'</span></span>, $proxy-&gt;viewComment(<span class="hljs-string"><span class="hljs-string">'1'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/* `$proxy`     `SimpleCommentBlock`  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;assertNotInstanceOf(SimpleCommentBlock::class, $proxy); } }</code> </pre><br><p style=";text-align:right;direction:rtl">     โ -             .   ,      <code>instanceof</code> .      <a href="https://www.php.net/manual/ru/functions.arguments.php" rel="nofollow"> </a> ( <a href="https://www.php.net/manual/en/functions.arguments.php" rel="nofollow"><em>type declarations</em></a> ),  -     . </p><br><p style=";text-align:right;direction:rtl">   ยซ ยป โ  PHP,        ,   .       <a href="https://github.com/dg/bypass-finals" rel="nofollow">Bypass Finals</a> ,             <code>final</code>   .     <em>composer</em>    <code>final</code>      : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testUsingBypassFinals</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*   `final` */</span></span> BypassFinals::enable(); $mock = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createMock(SimpleCommentBlock::class); }</code> </pre> <br><h3 id="instrumenty-dlya-udobnoy-raboty-s-final-klassami" style=";text-align:right;direction:rtl">      final  </h3><br><p style=";text-align:right;direction:rtl"> ,  PHP       .      ยซ ยป     ,      <code>final</code>  .  ,   <em>IDE</em>     <code>final</code>     . </p><br><p style=";text-align:right;direction:rtl"> <strong>PHPStorm   </strong> </p><br><p style=";text-align:right;direction:rtl">  <em>PHPStorm</em>       .      <strong>File | Settings | Editor | File and Code Templates</strong>   <strong>Files</strong>    <strong>PHP Class</strong> .        <code>final</code> . </p><br><p style=";text-align:right;direction:rtl"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ss/ox/hd/ssoxhdbjwapvnacnr2yfxbbk5nk.png" alt="   `PHP Class`"></a> </p><br><p style=";text-align:right;direction:rtl">      <strong>File | New | PHP Class</strong>     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br><p style=";text-align:right;direction:rtl"> ,    .          .      โ  . </p><br><p style=";text-align:right;direction:rtl">    <em>PHPStorm</em>     <strong>Refactor | Extract | Interface</strong> .        ,   .           ( <strong>Replace class reference with interface where possible</strong> )   <em>PHPDoc</em>   ( <strong>Move PHPDoc</strong> ). </p><br><p style=";text-align:right;direction:rtl">      : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** PHPDoc */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span>; }</code> </pre> <br><p style=";text-align:right;direction:rtl">       : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> } }</code> </pre> <br><p style=";text-align:right;direction:rtl">     <strong>File | New | PHP Class</strong>     -,  .             : </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> CommentBlock */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $commentBlock; }</code> </pre> <br><p style=";text-align:right;direction:rtl">       <strong>Code | Generate | Constructor</strong> .         . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CommentBlock $commentBlock)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;commentBlock = $commentBlock; } }</code> </pre><br><p style=";text-align:right;direction:rtl">    โ      .   <strong>Code | Generate | Implement Methods</strong> .  ,        .     <em>PHPStorm</em>      ยซยป       ,       <em>IntelliJ IDEA</em>  <em>ReSharper</em> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CountingCommentBlock</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommentBlock</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritDoc</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewComment</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $key)</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> Implement viewComment() method. } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl"> PHPDoc     .     . </p><br><p style=";text-align:right;direction:rtl"> <strong>PHPStan    </strong> </p><br><p style=";text-align:right;direction:rtl">        ,          . ,    , ,      <code>final</code>    .          ( <a href="https://habr.com/ru/company/badoo/blog/426605/">  </a> ). </p><br><p style=";text-align:right;direction:rtl">      <a href="https://github.com/phpstan/phpstan" rel="nofollow">PHPStan</a> .  ยซ ยป        .  <em>PHPStan</em>            .           . </p><br><p style=";text-align:right;direction:rtl">        <a href="https://github.com/localheinz/phpstan-rules/blob/master/src/Classes/FinalRule.php" rel="nofollow"><code>FinalRule</code></a>    <a href="https://github.com/localheinz/phpstan-rules" rel="nofollow"><code>localheinz/phpstan-rules</code></a> .     <code>PHPStan\Rules\Rule</code>        <code>processNode()</code> . </p><br><p style=";text-align:right;direction:rtl">      . ,   <code>FinalRule</code>         ยซ ยป   <code>allowAbstractClasses</code> .   ,    ,     <code>classesNotRequiredToBeAbstractOrFinal</code> . </p><br><p style=";text-align:right;direction:rtl">          ,    <em>composer</em> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">composer require --dev phpstan/phpstan composer require --dev localheinz/phpstan-rules</code> </pre> <br><p style=";text-align:right;direction:rtl">   <code>FinalRule</code>    <code>phpstan.neon</code>   : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">services: - class: Localheinz\PHPStan\Rules\Classes\FinalRule arguments: allowAbstractClasses: true classesNotRequiredToBeAbstractOrFinal: [] tags: - phpstan.rules.rule</code> </pre> <br><p style=";text-align:right;direction:rtl">          ( <code>max</code> ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">vendor/bin/phpstan -lmax analyse src</code> </pre> <br><p style=";text-align:right;direction:rtl">     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> ------ ------------------------------------------------------------------------ Line CommentBlock.php ------ ------------------------------------------------------------------------ 10 Class CommentBlock is neither abstract nor final. ------ ------------------------------------------------------------------------</code> </pre> <br><p style=";text-align:right;direction:rtl">     <em>JSON</em>      <em>Continuous Integration</em> . </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br><p style=";text-align:right;direction:rtl"> ,    :     <code>final</code>  !       IDE,    . </p><br><p style=";text-align:right;direction:rtl"> ,       ,        .      โ    <em>SOLID</em>   .      ,         ,          . </p><br><p style=";text-align:right;direction:rtl"> ,           .   : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">              ; </li><li style=";text-align:right;direction:rtl">   <code>final</code> , ,  ,    ; </li><li style=";text-align:right;direction:rtl">            . </li></ul><br><p style=";text-align:right;direction:rtl">     ,   -      - .             .           .  ,           , ,      ,         .   ,       .        ? </p><br><p style=";text-align:right;direction:rtl">   ,      โ    ,     .       <code>final</code>     .       <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B8%25D1%258F_%25D0%25BA%25D0%25BE%25D0%25B3%25D0%25BD%25D0%25B8%25D1%2582%25D0%25B8%25D0%25B2%25D0%25BD%25D0%25BE%25D0%25B9_%25D0%25BD%25D0%25B0%25D0%25B3%25D1%2580%25D1%2583%25D0%25B7%25D0%25BA%25D0%25B8" rel="nofollow"> </a> ( <a href="https://en.wikipedia.org/wiki/Cognitive_load" rel="nofollow">cognitive load</a> ) โ          .     โ       . </p><br><p style=";text-align:right;direction:rtl">         :        <code>final</code> .            .   โ      .        .            .    ,      .  ,     . </p><br><p style=";text-align:right;direction:rtl">   <code>final</code>        .    ( <em>SOLID</em> )     ( <em>fragile</em> ) .         ,      . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar482154/">https://habr.com/ru/post/ar482154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar482136/index.html">ููู ูููู ููุดุฑูุน ุฃุญุงุฏู ุงูุนูุงูุฉ ุงูุฏุฎูู ุฅูู ุงูููุฉ ูู ุฎูุงู ูุฒููุฉ ุงููุฌูุนูู ูุงูุฎุฏูุงุช ุงูุฏุงุฎููุฉ ููุญุฑูุงุช ุงูุจุญุซุ</a></li>
<li><a href="../ar482140/index.html">ุฃูุนุงุจ ุงูุทุงููุฉ ูููุจุฑูุฌูู ุงูุดุจุงุจ ูู 4 ุฅูู 10 ุณููุงุช. ูุง ูููู ุงูุนุซูุฑ ุนููู ูู ุงูุณูู ูู ููุงูุฉ ุนุงู 2019</a></li>
<li><a href="../ar482142/index.html">23 ุฏูููุฉ ุชุจุฑูุฑ ุงูุจุทูุก</a></li>
<li><a href="../ar482146/index.html">ุงูุฎุตูุตูุฉ ุญุณุจ ุงูุชุตููู ุฃู ููููุฉ ุฅูุดุงุก ุชุทุจูู ุญุชู ูุง ูุชุนุทู ูู ุงูุฃุณูุงู</a></li>
<li><a href="../ar482152/index.html">ููุงุท ุงูุถุนู ูู ุฃูุธูุฉ ุงูุชุดุบูู ูู ุงูููุช ุงูุญูููู</a></li>
<li><a href="../ar482156/index.html">ููุงุจูุฉ ูุน ููู ููุฑุช ุญูู ูุชุงุจู ุงูุฌุฏูุฏ ุ ุฅุญุตุงุฆูุงุช ุจุงูุฒู - ุฅูู ุฑุงุฆุน</a></li>
<li><a href="../ar482158/index.html">ุชูุจูุฉ ุงูุฅูุจุฑุงุทูุฑ ุฃููุชุงู</a></li>
<li><a href="../ar482162/index.html">ููุฏ ูุฌุฏ ุนููุงุก ุงูุฑูุงุถูุงุช ููุทูุง ุ ููู ููููุฉ ุชุฌูุจ ุธููุฑู</a></li>
<li><a href="../ar482166/index.html">ุฎุฏูุฉ ุชุฏุฑูุจ ุงูููุงุจ ูู ุงููุทุงุฑ: ููุฏ ุงุณุชูุดูุช ุจุงููุนู</a></li>
<li><a href="../ar482168/index.html">"ุนูุฏูุง ุชุถุฑุจ ุงูุณุงุนุฉ ุงุซูู ุนุดุฑ". ุฃู ุฅูููู ูู ุงููุชุตูุญ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>