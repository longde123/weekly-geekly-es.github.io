<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòü ‚ìÇÔ∏è üö¥üèæ Resolver la escasez de direcciones con CGNAT üìπ üë© üêû</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Internet ha llegado a todos los aspectos de nuestras vidas sin excepci√≥n. Desde el conocimiento de qu√© dispositivos tienen puertos para conectarse a l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Resolver la escasez de direcciones con CGNAT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nag/blog/410325/"><img src="https://habrastorage.org/webt/u_/sw/9z/u_sw9zekm8jepuprzoayoppwiye.jpeg"><br><br>  Internet ha llegado a todos los aspectos de nuestras vidas sin excepci√≥n.  Desde el conocimiento de qu√© dispositivos tienen puertos para conectarse a la red, puede volverse loco.  Mientras tanto, el n√∫mero de direcciones IP disminuye en proporci√≥n directa. <br><a name="habracut"></a><br>  Un ejemplo simple: soy bastante conservador en este sentido, pero ya me he conectado: <br><br><ul><li>  TV (2 piezas); </li><li>  tel√©fono (2 sim); </li><li>  DVR </li><li>  un carro </li><li>  perro (collar con GPS / GPRS). </li></ul><br>  Siguiente en l√≠nea: <br><br><ul><li>  luz en la casa; </li><li>  hervidor de agua </li><li>  tabla de planchar </li></ul><br>  Y en el futuro, hay mucho m√°s.  En casa, en el trabajo, en el autom√≥vil, en el transporte p√∫blico, en el pa√≠s, en todas partes hay acceso a Internet.  Es m√°s f√°cil decir d√≥nde no est√° ... Aunque, por el contrario, es m√°s dif√≠cil porque Internet est√° en todas partes. <br><br>  El n√∫mero de dispositivos "conectados" est√° creciendo a un ritmo exorbitante.  Las estad√≠sticas y los pron√≥sticos de crecimiento para el hardware que necesita una direcci√≥n IP no pueden analizarse, pero todas las fuentes coinciden en que el crecimiento es exponencial, y esta tendencia continuar√° en los pr√≥ximos 5-10 a√±os. <br><br>  Con la pr√≥xima expansi√≥n de la red, el siguiente bloque de direcciones IP entr√≥ en producci√≥n, y casi no quedaban agallas ... LIR PI no se rinde (que previsiblemente ya tiene 5 a√±os), y PA se est√° volviendo m√°s caro cada a√±o, y alquilar un recurso tan cr√≠tico da miedo.  Hubo pr√°cticamente la √∫ltima oportunidad de obtener el estado de LIR y el codiciado / 22, y, a juzgar por las √∫ltimas noticias de RIPE, pronto esta posibilidad no existir√≠a en absoluto: el registrador europeo entreg√≥ m√°s de la mitad del √∫ltimo bloque / 8. <br><br><img src="https://habrastorage.org/webt/xe/vt/pi/xevtpienobbeec7n7yuthbvtf78.png"><br><br>  Y todo el stock de direcciones se est√° agotando: <br><br><img src="https://habrastorage.org/webt/mc/hr/dr/mchrdrds2wk-k6t814sjggs9_ss.jpeg"><br><br>  Mirando el gr√°fico, queda claro que los pron√≥sticos de registradores se hacen realidad.  A pesar de todos los esfuerzos de RIPE para prolongar la agon√≠a, en 2017 se emitieron alrededor de 4 millones de direcciones, y hubo 11 millones en total.  Y esto sugiere que para 2020 no estar√°n en absoluto.  Y los operadores tendr√°n que elegir: guardar IPv4 de forma intensiva o cambiar a IPv6. <br><br>  Al reflexionar sobre la arquitectura futura de la red, llego a la conclusi√≥n de que, a juzgar por el ritmo de implementaci√≥n de IPv6, los pr√≥ximos (al menos) 10-15 a√±os, el tr√°fico principal seguir√° en la versi√≥n 4 del protocolo de Internet.  Hoy en Rusia, en los anuncios de BGP, solo alrededor del 15% de los AS tienen IPv6, y en el mundo, un poco m√°s del 25%, <br><br><img src="https://habrastorage.org/webt/v3/9x/6q/v39x6qekc0bo6msrsj9pyfmhaii.png"><br><br>  El tr√°fico IPv6 en MSK-IX es inferior al 1% de IPv4 (Fuente), <br><br><img src="https://habrastorage.org/webt/0i/xk/ib/0ixkibpqzir39pvuanb3wrnrr4i.png"><br><br><img src="https://habrastorage.org/webt/1r/o_/tv/1ro_tvylgwt9ffb-osdbk3govvw.png"><br><br>  Seg√∫n Google, un poco m√°s del 20% de los usuarios en el mundo (y solo el 1.34% en Rusia) provienen de IPv6. <br><br><img src="https://habrastorage.org/webt/qe/bi/qx/qebiqxf0n-jssx4m-cryi8hx6ic.jpeg"><br><br>  Hay un aumento en el tr√°fico de IPv6, pero no es tan importante como para preocuparse seriamente y apresurarse con su implementaci√≥n.  ¬°Esto se debe al hecho de que el soporte nativo para IPv6 todav√≠a no est√° implementado en todos los dispositivos cliente!  Incluso los nuevos, incluso en cosas supermodernas, que reclaman una nueva generaci√≥n de dispositivos IoT.  Entonces, como el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo de</a> uno de los empleados de Google, Avery Pennarun, correctamente, despu√©s de la transici√≥n total de las redes a IPv6, todav√≠a necesitamos ... NAT.  Para que las bombillas IPv4 obsoletas puedan acceder a Internet. <br><br>  Hay muchos art√≠culos sobre la implementaci√≥n de IPv6.  Con un promedio de megabytes de texto le√≠do y nuestros propios experimentos, la conclusi√≥n a fines de 2017 es la siguiente: debe implementar IPv6, pero con cuidado.  Habr√° muchos rastrillos, y cada uno tendr√° el suyo.  Con el soporte v6, todo sigue siendo malo incluso en el equipo del operador (puede leer sobre el rastrillo de implementaci√≥n al menos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ).  Necesita implementar DualStack, es decir  Emita direcciones IPv6 e IPv4 al cliente al mismo tiempo.  Esto significa que los restos de IPv4 a√∫n deben distribuirse a los clientes, y pronto valdr√°n su peso en oro, y deben salvarse.  Por lo tanto, en los pr√≥ximos (al menos) 10 a√±os, NAT no ir√° a ninguna parte, lo que significa que debe planificar el desarrollo de redes teniendo en cuenta la implementaci√≥n de Dual Stack, o simplemente comprar nuevas piezas de hierro solo con soporte v6 para obtener posteriormente la menor cantidad de problemas posible. <br><br>  Al predecir el crecimiento del tr√°fico y la cantidad de suscriptores, estoy convencido de que en el hardware existente que implementa NAT, los recursos se agotar√°n pronto y ser√° necesario expandirse.  Es necesario resolver las siguientes tareas: <br><br><ul><li>  proporcionar un n√∫mero determinado de transmisiones por suscriptor; </li><li>  proporcionar agrupaci√≥n de direcciones: todas las conexiones de un cliente deben transmitirse a la misma IP blanca; </li><li>  limitar la vida √∫til de una transmisi√≥n; </li><li>  mantener un registro de transmisi√≥n (para SORM). </li></ul><br>  ¬øQu√© soluciones nos ofrece el mercado? <br><br><img src="https://habrastorage.org/webt/l2/1k/zx/l21kzx7bdd6kfikn3s3inpyy9pg.jpeg"><br><br>  La elecci√≥n de las soluciones de hardware es la elecci√≥n de la marca y la esperanza de estabilidad y confiabilidad.  Se trata de c√≥mo elegir un autom√≥vil de alta gama: Ferrari, Lamborghini, Maclaren ... Todos ellos son ciertamente buenos, pero el presupuesto para su compra es muy grande y la operaci√≥n requiere ingenieros altamente calificados.  Y esta calificaci√≥n, adem√°s de ser muy costosa, debe adaptarse a un fabricante espec√≠fico.  Por ejemplo, Juniper est√° listo para ense√±arle a su administrador a configurar NAT en su equipo por un poco m√°s de 700 USD (aqu√≠), y solo sujeto a la disponibilidad de un certificado AJSPR.  Por lo tanto, si ya tiene Cisco ASR en el n√∫cleo de la red, entonces, por supuesto, no tiene sentido considerar, por ejemplo, Ericcsson para que realice una sola funci√≥n en √©l. <br><br>  Por otro lado, la implementaci√≥n de NAT en hardware puro (ASIC) es bastante ex√≥tica, y como prueba de esto, el m√≥dulo CGSE para Cisco no es m√°s que un servidor x.86 con software patentado basado en FreeBSD, adaptado para funcionar como parte de enrutador de hardware.  Y en este sentido, su precio parece completamente alto.  Pero la funcionalidad m√°s codiciada de las soluciones de hardware de marca es "configurar y olvidar", es una pena, solo que a√∫n no ha sido implementada al 100% por nadie.  Valdr√≠a la pena poner plataformas virtualizadas, como NFWare Virtual Carrier Grade NAT, Juniper vSRX / vMX y otras soluciones NFV, para las cuales NAT es un caso interesante para el concepto de NFV distribuido (dNFV), cuando las funciones de red est√°n centralizadas l√≥gicamente (tenemos un solo grupo) direcciones y recursos, y un √∫nico punto de gesti√≥n), pero al mismo tiempo est√°n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">distribuidos</a> geogr√°ficamente.  Pero este tema merece una revisi√≥n separada y suficientemente exhaustiva. <br><br>  Se cree que el futuro de NFV no es en vano interesante para estos temas, tanto las marcas eminentes que tradicionalmente ocupan las primeras posiciones en el mercado de hierro del operador como los grandes inversores que financian activamente todo lo relacionado con la virtualizaci√≥n, incluidas las funciones de red (por ejemplo, AFK Sistemas y NFWare).  Pero NFV, en el marco de este art√≠culo, no tocar√© m√°s. <br><br>  Adem√°s, Mikrotik se destaca un poco, lo que se puede implementar en las plataformas x.86 y no x.86 (CCR), y en un entorno virtualizado (CHR), pero, sin embargo, este es un enrutador virtual puro que procesa casi todas las funciones procesadores id√©nticos  Pero, en vista del hecho de que CCR es un dispositivo completo con software propietario, tambi√©n lo inclu√≠ en la secci√≥n de hardware (por cierto, esta es una de las pocas soluciones para redes peque√±as, el l√≠mite de rendimiento en modo NAT + es de aproximadamente 4-5 Gb / s para modelos CCR-1036) y RouterOs para x.86 - software - termin√≥ en la secci√≥n x.86. <br><br>  El autoensamblaje en Linux / FreeBSD es, si vuelve a los temas automotrices, un auto de rally.  Necesitamos tomar una plataforma que originalmente estaba destinada a fines civiles, mec√°nicos competentes, y que vio, gir√≥, ajust√≥, afin√≥, reconstruy√≥ y esperamos que al final todos podamos ir muy r√°pido para alcanzar la victoria ... Todo depende del 90% de los que ser√°n Implementar y apoyar.  Como regla general, esa persona solo en la empresa.  Y construye un sistema basado en su comprensi√≥n del proceso.  Y √©l apoya el sistema.  ¬øQu√© pasar√° si se va?  ¬øCu√°n bien documentada est√° la funcionalidad?  Mantener el sistema de otra persona de este tipo es tan costoso como escribirlo desde cero. <br><br>  Las soluciones de software puro, como RDP.ru, Carbon Soft, VAS Experts, etc., son una alternativa a las marcas famosas y de autocolecci√≥n.  En t√©rminos automotrices, este es un estudio de ajuste que, por una cierta cantidad de dinero, puede hacer un autom√≥vil deportivo muy impresionante con un autom√≥vil civil, que no es de ninguna manera inferior a las marcas famosas.  Hoy, para redes medianas e incluso grandes, esta opci√≥n cautiva con muchas ventajas.  A saber: x.86 es una plataforma com√∫n, cuyos componentes se pueden comprar en casi cualquier ciudad grande, y a menudo est√°n en stock en el proveedor.  El hardware es notablemente m√°s barato que los mismos m√≥dulos para Cisco o Juniper, lo que le permite mantenerlos en repuestos.  Puede actualizar la plataforma reemplazando el hardware por uno m√°s productivo y comprando licencias, y usar el equipo lanzado para otros fines.  Es decir  los problemas de reserva se resuelven f√°cilmente y el concepto de pago a medida que crece es visible en todo su esplendor.  Adem√°s, las soluciones de software, como SCAT DPI de VAS Experts, realizan una serie de tareas que deber√°n implementarse por separado en el caso de soluciones de hardware.  Esto es el almacenamiento en cach√© del tr√°fico, la protecci√≥n contra DDOS y otras delicias de un DPI completo, como el bloqueo de acuerdo con la Ley Federal-139, el bloqueo y reemplazo de anuncios, la difusi√≥n de revistas y la exportaci√≥n de datos a SORM-3, la recopilaci√≥n de estad√≠sticas sobre tipos de tr√°fico y la posibilidad de implementar algunos adicionales.  servicios, como "Internet para ni√±os", etc.  Es importante destacar que los fabricantes nacionales est√°n muy bien representados en el mercado de soluciones de software, y esto, adem√°s de estar orgullosos de su tierra natal, tambi√©n es un soporte en idioma ruso, que no tiene una barrera de idioma con los desarrolladores. <br><br>  Las desventajas de las soluciones x.86 tambi√©n son obvias: en primer lugar, esto se refiere a la selecci√≥n competente de componentes de hardware.  Los errores est√°n plagados de problemas de rendimiento y tolerancia a fallas.  La instalaci√≥n de un sistema (si el fabricante no proporciona dicho servicio) puede ser extremadamente no trivial.  Sin embargo, un proveedor de software adecuado siempre debe ayudar tanto con la selecci√≥n del hardware como con la instalaci√≥n y la puesta en servicio.  Por separado, vale la pena se√±alar que la soluci√≥n debe estar certificada, creo que las preguntas "por qu√©" y "por qu√©" no deber√≠an surgir. <br><br>  En conclusi√≥n, puedo decir que para m√≠ la elecci√≥n es obvia: NAT y DPI en una caja son la mejor soluci√≥n para la combinaci√≥n de requisitos de costo, funcionalidad, escalabilidad y mantenibilidad. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es410325/">https://habr.com/ru/post/es410325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es410315/index.html">Ideas de regalos para el 23 de febrero - Smart Geek Pens</a></li>
<li><a href="../es410317/index.html">Observaci√≥n de estrellas por la tarde o astronom√≠a diurna.</a></li>
<li><a href="../es410319/index.html">¬øPor qu√© algunas aplicaciones no usan barras de progreso reales?</a></li>
<li><a href="../es410321/index.html">Complementos para Hombre: Empoderamiento</a></li>
<li><a href="../es410323/index.html">C√≥mo pasar por intermedio y llevar el ingl√©s a avanzado</a></li>
<li><a href="../es410327/index.html">Jeff Bezos comenz√≥ a instalar un reloj mec√°nico de 150 metros que durar√° 10,000 a√±os.</a></li>
<li><a href="../es410329/index.html">Casos de esp√≠as (Parte 1)</a></li>
<li><a href="../es410331/index.html">La administraci√≥n Trump planea privatizar el segmento ISS de EE. UU. Despu√©s de 2024</a></li>
<li><a href="../es410333/index.html">La nave alien√≠gena Oumuamua gira al azar</a></li>
<li><a href="../es410335/index.html">Los hackers piratearon la instancia de Tesla en AWS y minaron criptomonedas all√≠</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>