<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚚 🙌🏻 💓 Frontend pour développeur backend 👩‍🚀 🙉 🧜🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je veux faire une réserve tout de suite que cet article n'est pas destiné à ceux qui ont le développement frontend l'activité principale. Ce message e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Frontend pour développeur backend</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438584/"> Je veux faire une réserve tout de suite que cet article n'est pas destiné à ceux qui ont le développement frontend l'activité principale.  Ce message est destiné aux développeurs de backend qui avaient un besoin urgent de fixer l'interface utilisateur Web ou à ceux qui sont simplement intéressés par de nouveaux domaines, ainsi qu'aux développeurs fullstack. <br><br>  Passons donc au problème.  Je me souviens d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article</a> , et aussi, dans les espaces ouverts de Habr, il y en avait plusieurs autres similaires.  Ils sont tous présentés comme des bandes dessinées, mais comme on dit «dans chaque blague, il y a un grain de vérité», et ici ce n'est même pas un peu ... Mais voici la question, à quel point tous ces cadres sont-ils utiles, sont-ils nécessaires? <br><br>  La question que je voudrais soulever concerne principalement le montage.  C'est à ce stade que la communauté js propose un nombre incroyable d'outils dont le besoin n'est pas du tout évident.  Par exemple, la communauté offre diverses options pour travailler avec des modules, ce qui était logique à l'époque, mais pour le moment, la spécification d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">importation</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exportation</a> est prise en charge par tous les navigateurs modernes, et même pas par le navigateur de bord.  Comme nous avons mentionné précédemment que nous n'avons aucune raison de travailler avec les anciennes bibliothèques, nous allons examiner les spécifications d'importation / exportation.  Mais ce dont nous avons vraiment besoin, c'est d'une sorte de travail avec des dépendances. <br><a name="habracut"></a><br>  Je vais faire une petite digression pour expliquer le choix des technologies qui seront utilisées dans l'exemple pour le frontend lui-même.  Afin de ne pas nous plonger dans la multitude de cadres, passons d'un merveilleux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">standard</a> .  Donc, tout devient assez simple, il n'y a pas de DOM virtuel, il y a des composants web.  Cela pourrait être terminé, mais toujours js.  Si nous décidons de nous débarrasser des js <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">purs</a> , alors nous devrons résoudre les problèmes d'infrastructure, se débarrasser du code de la chaudière, etc.  En d'autres termes, pour rendre votre vélo un peu ... Pour ne pas le faire, je voudrais prendre quelque chose où tout a déjà été fait et est de assez bonne qualité.  En conséquence, mon choix s'est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">porté</a> sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Polymer</a> - un framework de Google, qui a poussé les composants Web dans la norme. <br><br>  Retour à l'assemblée.  Beaucoup d'entre vous (développeurs Java en tout cas) sont habitués à un outil tel que maven et gradle, et vous avez probablement réussi à découvrir qu'ils font un excellent travail avec la manipulation des ressources (pour maven c'est bien sûr un peu pire, mais pour gradle il n'y a aucun problème du tout quoi que ce soit).  La communauté frontend nous propose de prendre npm, pour lequel nodeJs est nécessaire, mais cela ne suffit pas, webpack est également au top.  Et ils doivent encore comprendre et mettre à la disposition de chaque développeur.  Hum ... Je voudrais simplement dégonfler le dépôt, faire construire gradlew et commencer à travailler, alors arrêtons-nous au gradle habituel. <br><br>  Bien sûr, nous ne pouvons pas nous passer du tout de npm, au moins nous avons besoin d'un référentiel d'où obtenir les bibliothèques js et que npm le fournit, mais l'utilitaire est facultatif.  Vous pouvez trouver de bonnes solutions comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">celle-ci</a> , mais ils téléchargent toujours nodeJs et exécutent des tâches npm.  Une option, mais je voudrais minimiser la communication avec npm avant d'interagir avec le référentiel et plus encore.  Comme solution, écrivez votre propre plugin pour gradle.  Bien que l'écriture de plugins pour gradle soit assez simple, en raison de la grande variété d'options pour spécifier les versions du référentiel npm, la tâche est un peu plus compliquée.  Heureusement, il existe une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> claire à ce sujet. <br><cut></cut><br>  Écrivons donc un script gradle pour charger les dépendances.  Il est utilisé par kotlin dsl pour la raison que la réécriture en groovy dsl est assez banale, mais au contraire, cela aurait pris du temps s'il n'y avait pas d'expérience précédente. <br><br><pre><code class="kotlin hljs">repositories { mavenLocal() jcenter() } dependencies { classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-npm-repository-plugin:0.0.3"</span></span>) } apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.npm"</span></span>) configure&lt;GradleNpmRepositoryExtension&gt; { output = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$projectDir</span></span></span><span class="hljs-string">/src/libs/"</span></span> dependencies = mapOf( Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/polymer"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.5"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/app-layout"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/paper-toolbar"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/paper-icon-button"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@polymer/iron-icons"</span></span>, <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"@webcomponents/webcomponentsjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"2.1.3"</span></span>) ) }</code> </pre> <br>  Ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plugin</a> nous ajoutera <i>npmLoad</i> .  Pour laisser le groupe IDE bien, définissez-le dans un groupe <br><br><pre> <code class="kotlin hljs">tasks[<span class="hljs-string"><span class="hljs-string">"npmLoad"</span></span>].group = <span class="hljs-string"><span class="hljs-string">"frontend"</span></span></code> </pre> <br>  Très bien, vous pouvez essayer d'écrire du code pour notre frontend.  Le serveur Intellij intégré vous indiquera par défaut que la <i>méthode non autorisée</i> tente de connecter des scripts via l'importation.  Pour éviter cela, cochez la case <i>Autoriser l'utilisation des requêtes</i> .  (dans les dernières versions il fonctionne sans). <br><br><img src="https://habrastorage.org/webt/xq/pv/h5/xqpvh57s9uum5zynuqx_muf0rc4.png" alt="Paramètres (image 1)"><br><br>  Essayons de commencer maintenant, et ... Pourtant, rien n'a fonctionné.  Les dépendances à l'intérieur des composants en polymère se sont effondrées.  Le fait est que de nombreuses bibliothèques js poussent les importations dans l'attente d'une sorte de transpilateur comme babel.  Une telle importation ressemble à ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'@polymer/polymer/polymer-legacy.js'</span></span>;</code> </pre> <br>  Cette importation de syntaxe n'est pas correcte, car pour un navigateur, le chemin ne doit commencer que par '/', './' ou '../'.  De plus, sous cette forme, il ne peut être pris ni comme relatif ni comme absolu, car ici le calcul est fait pour le début à partir de la racine du répertoire de la bibliothèque.  Par conséquent, ces chemins doivent être corrigés et pour ne pas le faire vous-même, vous pouvez prendre un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">plug-in</a> préparé. <br><br>  Selon <br><br><pre> <code class="kotlin hljs">classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-js-import-fix-plugin:0.0.1"</span></span>)</code> </pre><br><pre> <code class="kotlin hljs">apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.js.import.fix"</span></span>) configure&lt;GradleJsImportFixExtension&gt; { directory = <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$projectDir</span></span></span><span class="hljs-string">/src/libs"</span></span> }</code> </pre><br>  La tâche <i>jsImportFix</i> sera <i>ajoutée,</i> ce qui mettra toutes les importations en ordre. <br><cut></cut><br>  Juste comme ça, et sans avoir à faire face à une montagne de nouveaux outils, vous pouvez mettre en place un front.  Mais regardons à nouveau la question des styles.  Franchement, les composants Web peuvent se débarrasser d'un passe-partout, et les variables en CSS qui sont déjà dans la norme ouvrent de nombreuses possibilités, donc des choses comme Sass ne sont plus nécessaires.  Mais soudain, par exemple, vous avez beaucoup aimé le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bootstrap</a> et avez voulu faire un design sur cette base. <br><br>  Trouver un plug-in pour construire sur ce sujet n'est pas un problème, fondamentalement, ils prennent tous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">libsass</a> comme base et il y a un wrapper en java - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jsass</a> .  Le seul problème pour tout le monde (au moins au moment où je les ai considérés) est la duplication des fichiers dépendants. <br><br>  Un exemple: <br><br>  Fichier a: <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> “b”; @<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> “c”;</code> </pre><br>  Fichiers _B et _c: <br><br><pre> <code class="css hljs">@<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> “d”;</code> </pre> <br>  En conséquence, nous obtenons dans le fichier principal 2 blocs identiques du fichier _c.  Vous pouvez tout simplement le corriger, si vous ajoutez l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">importateur</a> à jsass, api le permet.  En fait, donc, je suis à nouveau avec ma décision <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> (s'il n'y a pas de telles exigences, alors il vaut mieux utiliser une autre solution). <br><br>  Ajouter des dépendances npm à la liste <br><br><pre> <code class="kotlin hljs">Pair(<span class="hljs-string"><span class="hljs-string">"bootstrap"</span></span>, <span class="hljs-string"><span class="hljs-string">"4.1.3"</span></span>)</code> </pre> <br>  Dépendance du plugin <br><br><pre> <code class="kotlin hljs">classpath(<span class="hljs-string"><span class="hljs-string">"com.github.artfable.gradle:gradle-sass-plugin:0.0.1"</span></span>)</code> </pre> <br><pre> <code class="kotlin hljs">apply(plugin = <span class="hljs-string"><span class="hljs-string">"artfable.sass"</span></span>) configure&lt;GradleLibsassPluginExtension&gt; { group(delegateClosureOf&lt;GradleLibsassPluginGroup&gt; { sourceDir = <span class="hljs-string"><span class="hljs-string">"src/sass"</span></span> outputDir = <span class="hljs-string"><span class="hljs-string">"src/css"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Closure&lt;Any&gt;) } tasks.create(<span class="hljs-string"><span class="hljs-string">"processResources"</span></span>)</code> </pre><br>  La fausse tâche processResources <i>devra</i> être créée si le plug-in java n'est pas connecté (et nous n'en avons pas besoin ici).  C'est bien sûr un défaut, alors je vais définitivement le corriger. <br><br>  Veuillez noter que le fichier css résultant ne doit pas être connecté à la <i>tête</i> , car à l'intérieur du composant, il ne sera pas visible, mais directement dans le modèle du composant lui-même. <br><br>  La dernière étape consiste à modifier légèrement le script pour obtenir le répertoire de <i>construction</i> habituel, avec un projet prêt à l'emploi qui peut être déployé sur prod. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le code complet a été</a> téléchargé sur github (vous devrez probablement migrer vers gitlab plus tard ...). <br><br>  J'espère que l'idée de base est claire, et ensuite vous pourrez ajouter tout simplement tout ce que vous voudrez.  Merci d'avoir lu. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr438584/">https://habr.com/ru/post/fr438584/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr438574/index.html">Bases de l'architecture d'application Flutter: vanille, modèle de portée, BLoC</a></li>
<li><a href="../fr438576/index.html">Open source populaire - troisième partie: 5 outils pour les développeurs</a></li>
<li><a href="../fr438578/index.html">Comment le géant de l'informatique a été «contourné» pour la deuxième fois</a></li>
<li><a href="../fr438580/index.html">Mots de passe générés automatiquement dans iOS 12</a></li>
<li><a href="../fr438582/index.html">AntiRating 2018</a></li>
<li><a href="../fr438588/index.html">Widget googleTranslate personnalisé pour le site</a></li>
<li><a href="../fr438590/index.html">Thunder in Paradise ou pourquoi vous ne devriez pas utiliser FlylinkDC ++</a></li>
<li><a href="../fr438592/index.html">Que rechercher lors du choix d'un lecteur - nous parlons du facteur de forme et de l'affichage</a></li>
<li><a href="../fr438594/index.html">Lieu de travail et 4k @ 60Hz</a></li>
<li><a href="../fr438596/index.html">Enregistrement des données utilisateur après le rechargement de la page</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>