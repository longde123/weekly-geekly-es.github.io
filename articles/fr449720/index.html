<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÜüèø üëâüèæ üíº Comment monter un arc-en-ciel: l'histoire de la cr√©ation d'un th√®me sombre üë∏üèæ ü§¥üèΩ üë©üèæ‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En septembre, nous avons publi√© le th√®me sombre de l'application officielle VK pour iOS, et il y a une semaine, la sortie a √©galement eu lieu sur Andr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment monter un arc-en-ciel: l'histoire de la cr√©ation d'un th√®me sombre</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vk/blog/449720/"><p><img src="https://habrastorage.org/webt/p4/md/2m/p4md2mlmfaohgyosbxkyo9jbfyq.jpeg"></p><br><p>  En septembre, nous avons publi√© le th√®me sombre de l'application officielle VK pour iOS, et il y a une semaine, la sortie a √©galement eu lieu sur Android.  Derri√®re ce lancement se trouve un excellent travail conjoint des d√©veloppeurs et des concepteurs.  Ensemble, nous avons non seulement fait basculer VK du c√¥t√© obscur, mais nous avons √©galement chang√© s√©rieusement l'approche du travail avec les couleurs dans nos interfaces, simplifiant leur choix et r√©duisant la probabilit√© d'erreurs et engendrant des styles inutiles. </p><br><p>  Mon nom est Mikhail Likhachev, je suis l'un des principaux concepteurs de VK.  Je vais vous dire comment une petite √©quipe a adapt√© 300 √©crans et syst√©matis√© toutes les couleurs qui existent dans les applications mobiles - pour cela, nous les avons synchronis√©es entre les plates-formes et regroupons le travail avec elles dans un syst√®me de conception unique avec des jetons.  Je partagerai mes impressions sur la fa√ßon dont nous vivons maintenant avec cela et si le processus de conception est devenu plus compliqu√©. </p><a name="habracut"></a><br><h3 id="zachem-nuzhna-tyomnaya-tema">  Pourquoi avons-nous besoin d'un th√®me sombre </h3><br><p>  Un contraste r√©duit et un fond sombre aident √† utiliser l'application en basse lumi√®re, sans forcer les yeux.  Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">confirme</a> que lors de l'utilisation d'un th√®me sombre, les appareils dot√©s d'√©crans AMOLED durent plus longtemps sans se recharger.  Et beaucoup de gens aiment juste la couleur noire ou veulent un nouveau th√®me de design (tout en √©tant bien s√ªr sans refonte). </p><br><p>  Maintenant, le th√®me sombre est mis en ≈ìuvre non seulement dans les applications populaires, mais aussi dans les syst√®mes d'exploitation macOS, tvOS, dans les lanceurs Android.  Et son apparition sur tous les appareils iOS et Android ne tardera certainement pas √† venir. </p><br><p>  Pour nous, c'√©tait aussi la mise en ≈ìuvre d'une fonction tant attendue - les utilisateurs posaient plus souvent des questions sur un sujet sombre.  Il s'est av√©r√© √™tre tr√®s demand√© - maintenant plus de 20% du public utilise r√©guli√®rement un th√®me sombre sur iOS et Android. </p><br><h1 id="sistema-cvetov">  Syst√®me de couleur </h1><br><p>  Avant de cr√©er un th√®me sombre, nous devions r√©organiser la palette de couleurs de notre application.  L'objectif √©tait le suivant: √† la fois dans le code et dans la conception, il ne devrait pas y avoir de couleurs qui ne soient pas incluses dans la palette fixe.  Pour un petit ensemble de couleurs, il sera plus facile de faire correspondre le th√®me sombre. </p><br><p>  Lorsque nous avons v√©rifi√© l'ensemble de l'application et collect√© toutes les couleurs, nous avions plus de 200 valeurs HEX uniques.  Depuis la sortie de la premi√®re version de VK App sur iOS, plus de 6 ans se sont √©coul√©s, l'application a subi plusieurs remaniements.  Quelque part jusqu'√† pr√©sent, les √©crans non mis √† jour ont √©t√© conserv√©s, et quelque part il y a eu des situations o√π la m√™me couleur avait une valeur qui diff√®re de mani√®re extr√™mement insignifiante.  Par exemple, une seule couleur dans HSB peut avoir diff√©rentes valeurs HEX dans Photoshop et Sketch. </p><br><p> Notre application est tr√®s large.  Nous pouvons dire que ce sont plusieurs applications en une: nouvelles, musique, vid√©o, histoires, √©missions, tout un messager et de nombreuses autres sections et services tout aussi importants.  Nous avons compt√© 300 √† 400 √©crans uniques, chacun ayant plusieurs √©tats.  Les nouvelles √† elles seules ont plusieurs types d'affichage des enregistrements et plus de 15 types de documents joints.  Pour une telle application, un syst√®me plus complexe est n√©cessaire o√π les couleurs seraient d√©compos√©es par niveaux de contraste afin qu'il serait plus facile de les s√©lectionner non seulement pour un th√®me sombre, mais aussi pour de nouveaux contr√¥les. </p><br><p>  En termes d'organisation du syst√®me de couleurs, nous avons le plus appr√©ci√© l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">approche de Material Design</a> .  Nous avons pr√©par√© trois palettes √©tendues dans un syst√®me similaire: gris, gris froid et bleu.  Dans le m√™me temps, nous avons divis√© les couleurs par niveaux de contraste avec des valeurs conditionnelles de 0 √† 1000, o√π 0 est le plus clair et 1000 est le plus sombre.  Ces num√©ros sont devenus des identificateurs de couleurs avec le nom de la palette - Gris 100, Bleu 300 et ainsi de suite. </p><br><p><img src="https://habrastorage.org/webt/w1/pm/lx/w1pmlx_zb1l2-tsbdr_10qauyz4.png"></p><br><p>  Lors du choix des couleurs, le mod√®le de couleur HSB est utile.  Dans ce document, Hue est la tonalit√© de couleur, la saturation est la saturation et la luminosit√© est la luminosit√©.  La teinte varie de 0 √† 360 ¬∞, et nous utilisons une valeur fixe de 212 ¬∞ dans les interfaces comme tonalit√© de couleur de notre marque.  La saturation et la luminosit√© sont d√©finies de 0 √† 100%. </p><br><p>  Comme nous divisons la palette de gris en 10 nuances principales, dans Luminosit√©, nous utilisons un pas de 10%.  Ensuite, nous m√©langeons la couleur bleue avec la saturation le long d'une petite courbe, tout en ajustant les valeurs de luminosit√© pour pr√©server la gradation de contraste dont nous avons besoin. </p><br><p>  De la m√™me mani√®re, nous avons ramass√© les palettes froides de gris et de bleu.  Le gris froid est utilis√© dans les endroits o√π une teinte plus satur√©e est n√©cessaire pour se combiner avec le bleu, et plusieurs couleurs bleues sont n√©cessaires pour les accents, les diff√©rents boutons, le texte et les liens. </p><br><p><img src="https://habrastorage.org/webt/ev/n-/co/evn-coa5bfuvnnkoeaopv3muzqk.png"></p><br><p>  Nous utilisons le gris le plus souvent pour une grande vari√©t√© d'√©l√©ments: arri√®re-plans, substrats, s√©parateurs, ic√¥nes, textes de diff√©rents niveaux.  La plupart des nuances de gris que nous avions d√©j√† s√©lectionn√©es avec une diff√©rence de contraste similaire, et lors de la mise √† jour de la palette, nous avons l√©g√®rement d√©cal√© les valeurs de plusieurs couleurs pour correspondre √† la nouvelle logique.  Et a √©galement compl√©t√© la partie manquante des couleurs dans le spectre sombre afin de les utiliser pour un th√®me sombre. </p><br><p>  Absolument toutes les couleurs utilis√©es dans l'application ont √©t√© ajout√©es √† la palette, y compris celles repr√©sentant diff√©rents √©v√©nements dans les notifications, et m√™me les couleurs du mode de dessin graffiti dans les histoires.  Tout est devenu beaucoup plus transparent: d√©sormais toutes les couleurs de l'application sont rassembl√©es en un seul endroit.  Et lorsque vous ajoutez une nouvelle couleur pour un cas particulier, vous devez r√©fl√©chir soigneusement et v√©rifier si la couleur est appropri√©e par rapport aux couleurs existantes. </p><br><p>  Apr√®s avoir pr√©par√© la palette pr√©d√©finie, elle a d√ª √™tre appliqu√©e dans l'application, rempla√ßant plus de 200 valeurs HEX disponibles par un nouvel ensemble de plus de 50.  Et mettez toutes ces couleurs dans un fichier sous la forme de variables statiques, o√π chaque couleur de la palette a un nom unique. </p><br><p>  Nos d√©veloppeurs de l'√©quipe infrastructure sur iOS et Android ont repris cela.  Les gars ont pr√©par√© un algorithme qui remplace la couleur par la plus proche de la nouvelle palette, ce qui a consid√©rablement acc√©l√©r√© le processus.  Ensuite, nous avons v√©rifi√© tous les √©crans avec des testeurs afin que la mauvaise couleur ne soit appliqu√©e nulle part, et finalement nous avons repris le th√®me sombre. </p><br><h2 id="podbor-cvetov-v-tyomnoy-teme">  Couleurs assorties dans un th√®me sombre </h2><br><p>  Nous avons commenc√© √† essayer les couleurs du th√®me sombre sur les dispositions des √©crans principaux afin de d√©terminer les principales nuances utilis√©es.  Pour l'arri√®re-plan, nous utilisons le gris 900 - la couleur est un ton plus claire que le noir pour r√©duire le contraste entre l'arri√®re-plan et le texte.  Pour la m√™me raison, le texte a √©t√© choisi non pas Blanc, mais Gris 100. </p><br><p>  Toutes les couleurs principales du th√®me sombre ont √©t√© identifi√©es par la m√™me gradation qu'√† la lumi√®re.  Apr√®s avoir mis les styles les uns apr√®s les autres en luminosit√©, nous avons s√©lectionn√© les valeurs appropri√©es, en les inversant et en d√©calant le niveau de contraste d'une tonalit√©.  Nous avons ensuite test√© les couleurs sur les mises en page, en nous assurant que tous les √©l√©ments conservaient la lisibilit√©. </p><br><p><img src="https://habrastorage.org/webt/l2/zn/_h/l2zn_hvobwvuaboaqjff-xctl9i.png"></p><br><p>  <em>Tableau des couleurs primaires utilis√©es</em> </p><br><p>  Dans le th√®me sombre, nous avons utilis√© moins de couleurs: le chapeau bleu et les boutons bleus sont devenus monochromes, la gamme de nuances de gris utilis√©es s'est r√©tr√©cie et la palette de gris froid s'est transform√©e en un gris ordinaire, maintenant le contraste.  Les √©l√©ments d'accent sont rest√©s bleus - pour un th√®me sombre, une teinte plus claire et moins satur√©e a √©t√© choisie. </p><br><p><img src="https://habrastorage.org/webt/my/8y/md/my8ymdnjeingejpr0z0az7eiyqi.png"></p><br><p>  Il y avait aussi des probl√®mes, comme les fen√™tres modales et les cartes.  La gradation sous eux ne voulait pas √™tre invers√©e en blanc, et sans mesures suppl√©mentaires dans un th√®me sombre, l'arri√®re-plan habituel du contenu fusionnerait avec l'environnement.  Pour √©viter cela, pour les cartes modales, nous avons s√©lectionn√© l'arri√®re-plan un ton plus clair que d'habitude, et avons √©galement ajout√© un trait (jusqu'√† pr√©sent uniquement sur Android) pour mieux les s√©parer du calque inf√©rieur. </p><br><p>  Ces exemples ont montr√© que nous avons besoin d'un syst√®me plus flexible lors de la mise en ≈ìuvre d'un sujet sombre. </p><br><h1 id="tehnicheskaya-realizaciya">  Impl√©mentation technique </h1><br><p>  Apr√®s avoir choisi les couleurs appropri√©es pour le th√®me sombre sur les maquettes, nous avons commenc√© √† transf√©rer cette question dans le code. </p><br><p>  Comme nous l'avons vu sur les maquettes, introduire simplement la correspondance des couleurs d'un th√®me clair dans un th√®me sombre n'est pas notre option.  Le blanc n'est pas toujours remplac√© par le noir: les √©l√©ments de m√™me couleur dans un th√®me clair peuvent avoir des couleurs diff√©rentes dans un th√®me sombre.  Nous avions besoin d'un contr√¥le pr√©cis sur la fa√ßon dont chaque √©l√©ment ou groupe de styles communs est repeint dans un th√®me sombre.  Les √©l√©ments doivent changer de couleur conform√©ment √† la signification inscrite dans le nom de la variable. </p><br><p>  Nous avons d√©cid√© de l'approche suivante, o√π le jeton est le nom unique d'un √©l√©ment ou d'un groupe d'√©l√©ments (par exemple, background_content), et sa valeur ne peut √™tre qu'une couleur d'une palette fixe (par exemple, le blanc).  Nous avons cr√©√© un sch√©ma au format JSON, √† l'int√©rieur duquel tous les jetons sont √©crits avec leurs valeurs dans chaque rubrique. </p><br><p>  Un tel sch√©ma est tr√®s similaire √† un fichier CSS avec des identifiants d'√©l√©ments et leurs styles, mais au format JSON. </p><br><p><img src="https://habrastorage.org/webt/ip/6a/n8/ip6an8f3myqgg-tl_z5uxminlye.png"><br>  <em>√Ä quoi ressemble le sch√©ma avec les jetons background_content et text_primary?</em> </p><br><p>  Tout ce que nous avons est disponible sur GitHub: </p><br><ul><li>  <a href="">une palette</a> avec toutes les couleurs et leurs noms uniques; </li><li>  <a href="">sch√©ma</a> avec tous les jetons et leurs valeurs dans les sujets clairs et sombres. </li></ul><br><p>  √Ä partir du sch√©ma JSON, les d√©veloppeurs sur toutes les plateformes g√©n√®rent du code au format dont ils ont besoin.  Vous pouvez lire √† ce sujet des exemples de code sur iOS sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">diapositives d'</a> Anton Spivak tir√©es de son discours √† CodeFest.  Le rapport sur la mise en ≈ìuvre d'Android du discours d'Arseniy Vasiliev √† AppConf peut √™tre consult√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Rappelons que nous avons d√©cid√© de cr√©er un syst√®me strict o√π vous pouvez sp√©cifier la couleur uniquement √† partir de la palette interne, c'est-√†-dire que vous ne pouvez pas enregistrer un code couleur HEX arbitraire dans la valeur du jeton.  Le param√®tre alpha peut √™tre ajout√© √† la valeur du jeton pour indiquer une transparence de couleur suppl√©mentaire.  Nous pr√©voyons d'utiliser ce param√®tre pour ajouter un √©tat d√©sactiv√© et un √©tat lorsque vous touchez les commandes, afin de ne pas ajouter les m√™mes couleurs avec une transparence diff√©rente √† la palette. </p><br><p>  √Ä l'heure actuelle, le syst√®me compte d√©j√† plus de 150 jetons.  Il existe des variables globales, ainsi que des styles compl√®tement peints de chaque contr√¥le, ainsi que des cas uniques qui ne se pr√™teraient pas √† une combinaison plus logique, par exemple, les styles de bulles des messages. </p><br><p><img src="https://habrastorage.org/webt/vu/6o/aq/vu6oaqrhkgf7nvec62hjrkqshai.png"><br>  <em>Exemples de jetons couramment utilis√©s</em> </p><br><p>  Un point important est qu'il est n√©cessaire de nommer clairement et bri√®vement les jetons afin de les trouver facilement et rapidement.  Le principe de d√©nomination a √©t√© choisi comme suit - du plus grand au plus petit.  Par cette logique, dans les styles globaux, le type g√©n√©ral est d'abord indiqu√©, et les composants, dans l'ordre, ont un nom, un √©tat et √† la fin un √©l√©ment repeint sp√©cifique.  Si possible, le jeton doit √™tre universel - refl√©ter le type et la signification s√©mantique, et non son emplacement et son contenu dans un cas particulier. </p><br><h1 id="dalneyshaya-rabota-so-shemoy">  Poursuivre le travail avec le circuit </h1><br><h2 id="sketch-i-zeplin">  Sketch and Zeplin </h2><br><p>  L'√©tape suivante: vous devez fournir aux d√©veloppeurs des informations compr√©hensibles sur les jetons utilis√©s dans les mises en page.  Pour ce faire, nous avons visualis√© le jeton sous la forme d'un symbole, o√π en plus du nom, il y a un aper√ßu de la couleur utilis√©e dans les th√®mes sombres et clairs, ainsi que les noms des couleurs de la palette. </p><br><p>  Nous avons g√©n√©r√© de tels jetons sous forme de symboles apr√®s avoir constitu√© la majeure partie du circuit, et il y avait d√©j√† beaucoup de jetons.  Afin de ne pas les composer manuellement, nous avons pr√©par√© un petit plug-in qui a extrait la version actuelle du sch√©ma JSON et a g√©n√©r√© des jetons √† partir d'eux sous la forme de symboles √† partir du mod√®le, en rempla√ßant les couleurs des styles g√©n√©raux de la biblioth√®que de couleurs.  En utilisant le m√™me plugin, nous g√©n√©rons une mise √† jour de la biblioth√®que: de nouveaux jetons sont ajout√©s et les valeurs des jetons existants sont mises √† jour.  Le symbole de la biblioth√®que est mis √† jour dans toutes les pr√©sentations o√π il est utilis√©. </p><br><p><img src="https://habrastorage.org/webt/u3/y6/fy/u3y6fyjdsadpikzvudxylefq8cq.png"><br>  <em>Voici √† quoi le jeton ressemble √† un symbole</em> </p><br><p>  Nous ajoutons de tels jetons √† c√¥t√© des mises en page et envoyons tout ensemble √† Zeplin.  S'il n'est pas imm√©diatement clair par son nom ou si vous devez clarifier √† quel √©l√©ment les jetons appartiennent, ajoutez une description et divisez les jetons en sections, d√©crivant des √©l√©ments sp√©cifiques.  En utilisant le plugin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sketch Runner</a> pour rechercher rapidement les noms de symboles, nous avons obtenu notre constructeur de description de th√®me sombre sous la forme d'annotations de disposition. </p><br><p><img src="https://habrastorage.org/webt/7n/wu/ts/7nwutsgqh_zensn7zzid_re9ddm.gif"><br>  <em>Ajout d'une description des jetons utilis√©s</em> </p><br><p>  Nous n'avons pas trouv√© de solution plus native, simple et visuelle sur la fa√ßon d'int√©grer des jetons dans des mises en page avec un envoi ult√©rieur √† Zeplin.  Bien que Zeplin puisse nommer des couleurs uniques, dans notre sch√©ma, une couleur peut √™tre utilis√©e dans plusieurs jetons √† la fois. </p><br><p>  Au lieu de dessiner une version sombre pour chacun des centaines d'√©crans, nous d√©crivons simplement tout sous forme de jetons, ce qui fait gagner du temps aux concepteurs.  Toutes les valeurs de jeton disponibles pour les composants ont d√©j√† √©t√© test√©es, et il vous suffit de remplacer les bonnes.  Le seul point de v√©rit√© est le kit d'interface utilisateur - vous y trouverez non seulement l'√©tat actuel du composant, mais aussi ses jetons utilis√©s. </p><br><p>  Des erreurs dans la mise en ≈ìuvre du th√®me sombre peuvent d√©j√† √™tre trouv√©es lors de la phase de test lors de la v√©rification des captures d'√©cran.  Les testeurs eux-m√™mes peuvent remarquer une couleur clairement fausse et demander de l'aide au concepteur - pour corriger un d√©faut, vous n'avez besoin que du nom du jeton correct. </p><br><h2 id="obnovleniya-shemy">  Mises √† jour du sch√©ma </h2><br><p>  Lorsque vous devez mettre √† jour le sch√©ma, remplacer les valeurs des jetons existants ou en cr√©er de nouveaux, il vous suffit de modifier le fichier JSON.  Pour ce faire, nous r√©cup√©rons la version actuelle du sch√©ma et apportons des modifications dans un √©diteur de texte, sans oublier d'ajouter des valeurs pour tous les sujets lors de l'ajout d'un jeton.  Il est pr√©vu de cr√©er une application pour elle-m√™me qui vous permette de modifier le sch√©ma de mani√®re plus simple, mais pour l'instant cela suffit. </p><br><p>  Apr√®s avoir pr√©par√© le sch√©ma mis √† jour, nous envoyons la demande d'extraction √† GitHub (demande de modification du fichier), qui est v√©rifi√©e et approuv√©e par les d√©veloppeurs.  Apr√®s avoir fusionn√© les modifications, les d√©veloppeurs doivent resserrer la mise √† jour de la biblioth√®que d'interface utilisateur, puis de nouvelles couleurs appara√Ætront dans le prochain assemblage de d√©veloppeurs dans 15 minutes. </p><br><p>  Pour renommer ou supprimer des jetons dans le sch√©ma, nous cr√©ons une mise √† jour majeure en augmentant sa version dans GitHub.  Cela signifie qu'une telle version ne pourra pas √™tre appliqu√©e automatiquement, et avant de mettre √† jour la version de la biblioth√®que d'interface utilisateur, les d√©veloppeurs doivent prendre en charge toutes les modifications: mettre √† jour les noms des jetons, et si le jeton supprim√© a √©t√© utilis√© quelque part, vous devez suivre le commentaire de la liste des modifications indiquant quel jeton est n√©cessaire utiliser √† la place. </p><br><p>  Nous pouvons publier de telles mises √† jour lors de la refactorisation du sch√©ma: lorsqu'il y a une compr√©hension de la meilleure fa√ßon de nommer les jetons, ou s'il s'av√®re combiner plusieurs jetons en un, tout en pr√©servant la logique. </p><br><h2 id="krossplatformennost-i-vkui">  Multiplateforme et VKUI </h2><br><p>  Les couleurs dans les applications iOS et Android sont presque identiques, donc le sch√©ma de couleurs cr√©√© lorsque vous travaillez avec iOS convient √† Android.  S'il y avait des diff√©rences de plate-forme, vous pouvez toujours cr√©er des jetons avec le suffixe de plate-forme. </p><br><p>  En plus des applications natives, nous avons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VKUI</a> .  Il s'agit d'un ensemble de composants React avec lesquels vous pouvez cr√©er des interfaces qui ne se distinguent pas de nos applications.  Nous utilisons VKUI pour cr√©er des produits de test dans VK, ainsi que pour des √©crans que nous aimerions contr√¥ler depuis le serveur sans mettre √† jour l'application.  De plus, cette biblioth√®que est utilis√©e pour cr√©er des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">services VK Apps</a> tiers. </p><br><p>  VKUI est construit selon la m√™me conception et avec le m√™me ensemble de composants que les applications natives, donc l'application du sch√©ma et la prise en charge d'un th√®me sombre ne n√©cessitaient pas de nouvelles dispositions.  Pour nous, c'est une autre plate-forme que nous prenons en charge, seulement elle contient un commutateur entre iOS et Android. </p><br><p>  Vous pouvez voir la mise en ≈ìuvre du syst√®me de conception VK sous la forme de composants React sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VKUI Styleguide</a> .  Et la chose la plus int√©ressante est que sur cette page, vous pouvez voir en direct les composants que nous utilisons avec la possibilit√© de changer de th√®me et de plate-forme. </p><br><p>  Dans un avenir proche, nous mettrons √† jour la documentation de VKUI et collecterons plus d'informations sur le travail de notre √©quipe de conception - il y aura beaucoup de choses int√©ressantes Ô∏è </p><br><h2 id="otdelnaya-tema-dlya-messendzhera">  Sujet s√©par√© pour le messager </h2><br><p>  VK Me, qui n'est test√© qu'au Kazakhstan jusqu'√† pr√©sent, est un messager distinct avec la possibilit√© de s'enregistrer par num√©ro de t√©l√©phone.  Dans ce document, nous avons non seulement facilit√© la fonctionnalit√©, ne laissant que la communication, mais √©galement simplifi√© la conception. </p><br><p>  Le chapeau dans le sujet clair est devenu blanc pour se concentrer sur la communication, et le bleu est devenu plus lumineux et plus satur√©. </p><br><p><img src="https://habrastorage.org/webt/v2/u1/dm/v2u1dmccrno937eo3etdilsncqs.png"></p><br><p>  Le messager est bas√© sur le module de message de l'application principale, ce qui signifie qu'il utilise les m√™mes composants et le m√™me sch√©ma pour d√©crire toutes les couleurs.  Par exemple, pour repeindre l'en-t√™te et la recherche, il √©tait n√©cessaire de remplacer les valeurs des jetons correspondants: header_background, header_tint, header_text, search_bar_background, search_bar_field_background search_bar_field_tint et autres. </p><br><p>  D'une mani√®re assez simple, nous avons pu repeindre l'ensemble de l'application en peu de temps, cr√©ant un nouveau th√®me de conception. </p><br><h2 id="rabota-s-grafikoy">  Travailler avec des graphiques </h2><br><p>  L'ensemble des ic√¥nes utilis√©es dans les applications est coup√© en blanc et peut √™tre facilement repeint √† l'aide d'un jeton du circuit. </p><br><p>  Des difficult√©s sont apparues avec les ic√¥nes bicolores: les ic√¥nes qui se superposaient au dessus des avatars sous forme de badges et qui n√©cessitaient un trait blanc, √©taient d√©coup√©es en deux couleurs.  Il ne serait pas facile de repeindre cela.  Nous avons divis√© ces ic√¥nes en deux couches, l'avant et l'arri√®re-plan, qui sont utilis√©es comme masque et d√©coupent la forme n√©cessaire. </p><br><p><img src="https://habrastorage.org/webt/0f/dg/l8/0fdgl8i9br4-dzygwalhfgaobyi.png"></p><br><p>  Android dispose √©galement de graphiques √† 9 patchs, qui sont utilis√©s, par exemple, pour dessiner des cartes avec des ombres.  L'ombre en eux est noire et le remplissage de la carte est blanc.  Afin de ne pas diviser les graphiques ici en deux couches, les d√©veloppeurs ont utilis√© le mode de fusion des couleurs Multiplier - de cette fa√ßon, l'ombre noire n'est pas repeinte et la couleur n'est appliqu√©e qu'√† la partie blanche des images, ce qui √©tait n√©cessaire pour nous. </p><br><h2 id="itogi">  R√©sum√© </h2><br><p>  Lors de la mise en ≈ìuvre d'un sujet sombre, nous avons s√©rieusement stimul√© les processus, portant la relation entre la conception et le d√©veloppement √† un nouveau niveau. </p><br><p>  Un sch√©ma unique, qui int√®gre tout le travail avec les couleurs dans l'application, est devenu un outil puissant mais abordable pour les concepteurs et simplifie les futures mises √† jour de conception.  Le niveau de responsabilit√© et de sens dans la cr√©ation de styles et l'ajout de couleurs a augment√©. </p><br><p>  Lorsque des noms clairs refl√©tant le contraste des couleurs sont apparus, il est devenu beaucoup plus facile de naviguer avec eux qu'avec les valeurs HEX.  Il en va de m√™me pour les jetons - ils sont m√©moris√©s en raison de leur signification, et l'adh√©sion √† la logique des styles utilis√©s sur plusieurs plates-formes et applications devient une partie indispensable du processus. </p><br><p>  Le processus prenait du temps non seulement pour les concepteurs, mais aussi pour les d√©veloppeurs et les testeurs.  Mais cela en valait la peine - le sujet sombre a recueilli des critiques positives des utilisateurs et les commentaires sur le ¬´sujet sombre¬ª qui se sont r√©pandus dans VK et sont m√™me all√©s au-del√† ont r√©ussi √† devenir un m√®me. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr449720/">https://habr.com/ru/post/fr449720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr449708/index.html">Citymobil - un manuel pour am√©liorer la disponibilit√© au milieu de la croissance des entreprises pour les startups. 3e partie</a></li>
<li><a href="../fr449712/index.html">Actualit√© hebdomadaire: la demande de disques durs diminue, la loi souveraine sur Internet approuv√©e, la production d'√©quipements 5G en Russie</a></li>
<li><a href="../fr449714/index.html">Nul n'est pas toujours nul</a></li>
<li><a href="../fr449716/index.html">Acronis ouvre pour la premi√®re fois l'acc√®s √† l'API pour les d√©veloppeurs</a></li>
<li><a href="../fr449718/index.html">L'IA a appris √† d√©terminer le syndrome post-traumatique par la voix humaine</a></li>
<li><a href="../fr449722/index.html">Effets de coin</a></li>
<li><a href="../fr449724/index.html">Liquidateurs en acier</a></li>
<li><a href="../fr449728/index.html">Trafic ou cryptage du trafic dans Direct Connect, partie 3</a></li>
<li><a href="../fr449730/index.html">Crypto-monnaie: vit ou meurt? Partie 2. Tendances politiques et √©conomiques</a></li>
<li><a href="../fr449740/index.html">Nous regardons ¬´Window on the city¬ª en haute qualit√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>