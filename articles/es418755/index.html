<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè∏ üç≠ üåÇ C√≥mo el comercio electr√≥nico sobrevive a las promociones a gran escala. Prepar√°ndose para las cargas m√°ximas en la web [Parte 1] üï∑Ô∏è üíÇ üßñüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos, estoy en contacto con Alexey Pristavko, director del proyecto web DataLine. 
 Black Friday, el evento de comercio electr√≥nico m√°s grande...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo el comercio electr√≥nico sobrevive a las promociones a gran escala. Prepar√°ndose para las cargas m√°ximas en la web [Parte 1]</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/418755/"><img src="https://habrastorage.org/webt/xo/km/zi/xokmzi3k5y0axobkc_okaweyr3s.png"><br><br>  Hola a todos, estoy en contacto con Alexey Pristavko, director del proyecto web DataLine. <br>  Black Friday, el evento de comercio electr√≥nico m√°s grande del mundo, tiene lugar anualmente en los √∫ltimos d√≠as de noviembre.  Este es el momento de descuentos r√©cord, las tiendas abren casi a la medianoche y los sitios que participan en la acci√≥n caen, a pesar del fuerte aumento en el flujo de tr√°fico. <br><br>  Por lo tanto, utilizando su ejemplo, analizaremos c√≥mo prepararse para un aumento serio de la carga en un sitio web o aplicaci√≥n web. <br>  Debajo del gato, hablaremos en detalle sobre c√≥mo los gerentes de TI, desarrolladores y administradores de tiendas en l√≠nea pueden sobrevivir a eventos a gran escala. <br><a name="habracut"></a><br><h2>  Lo que amenaza el viernes negro </h2><br>  Como escrib√≠ anteriormente, el Black Friday es un d√≠a que causa muchos problemas a todos los involucrados en el mantenimiento de sitios de comercio electr√≥nico. <br><br>  Para sentirlo, considere la tabla a continuaci√≥n.  Refleja el aumento en el n√∫mero de solicitudes en el sitio durante el Black Friday. <br><br><img src="https://habrastorage.org/webt/ro/hz/3h/rohz3h6wrf481mhayxaie3jm0ia.png"><br><br>  En comparaci√≥n con los picos diarios normales, cuando no se mantienen acciones, en Black Friday el tr√°fico crece en un 100-200%, y este no es el l√≠mite. <br><br>  Si un sitio grande ya tiene mucho tr√°fico propio, entonces una tienda en l√≠nea modesta durante el per√≠odo de la campa√±a recibir√° f√°cilmente la mayor cantidad de visitantes y estrangulamiento.  Para parafrasear un poco la vieja broma: "el negocio hizo que todas las tiendas fueran diferentes, y el Black Friday en l√≠nea igual√≥ a todos". <br><br>  Obtenido el Black Friday "alimenta" al vendedor todo el pr√≥ximo a√±o.  El negocio est√° extremadamente interesado en atraer el n√∫mero m√°ximo de nuevos clientes que regresar√°n al sitio para comprar una y otra vez.  Pero para esto, su primera experiencia con el sitio debe ser fluida y garantizar que esta sea la tarea de los especialistas de TI. <br><br>  Mientras m√°s clientes est√©n simult√°neamente en el sitio, mayores ser√°n los requisitos para su estabilidad y velocidad de respuesta.  Seguramente not√≥ que el sitio web de la tienda, al que cambi√≥ desde la p√°gina de inicio de blackfridaysales, funcion√≥ extremadamente lento o no funcion√≥ en absoluto.  Dudo que te hayan dejado esperando la descarga, pero no te fuiste despu√©s de unos segundos. <br><br>  Hablaremos sobre c√≥mo proteger a los clientes de experiencias negativas y el sitio de fallas debido a sobrecargas, a continuaci√≥n.  Sin embargo, otros consejos son v√°lidos para cualquier carga m√°xima esperada. <br><br>  En general, hay dos etapas de preparaci√≥n de un sitio para aumentar el tr√°fico: <b>t√©cnico</b> y <b>organizativo.</b>  En este art√≠culo discutiremos la etapa t√©cnica, y describir√© los detalles de la organizaci√≥n en detalle en la segunda parte, que se lanzar√° en una semana. <br><br><h2>  Preparaci√≥n t√©cnica del sitio. </h2><br><img src="https://habrastorage.org/webt/bs/7p/o3/bs7po31te56sxn9utnni3txekqm.png"><br><br>  <i><b>Un peque√±o descargo de responsabilidad:</b> no espere encontrar aqu√≠ instrucciones detalladas sobre qu√©, d√≥nde y c√≥mo apretarlo para que "la felicidad para todos sea en vano y nadie se sienta ofendido".</i>  <i>En primer lugar, los sitios y proyectos son diferentes para todos.</i>  <i>En segundo lugar, el asesoramiento t√©cnico espec√≠fico sobre un software en particular es m√°s que suficiente.</i>  <i>Incluido en Habr√©.</i>  <i>En primer lugar, quiero transmitir a los lectores los principios fundamentales de trabajar con proyectos web y mostrar los puntos de partida, introducir t√©cnicas b√°sicas y matices independientes de la plataforma.</i> <br><br>  Comencemos con el axioma: al usuario no le gusta esperar, por lo que es extremadamente importante trabajar con tiempos y velocidad de respuesta.  En el Black Friday, habr√° muchas m√°s solicitudes al sitio de lo habitual, y puede encontrar no solo una ca√≠da en las conversiones debido a una carga larga, sino tambi√©n un exceso de tiempos de espera HTTP (el sitio no responde). <br><br>  Muy a menudo, los sitios caen bajo carga no debido a fallas f√≠sicas, sino porque el tiempo de respuesta comenz√≥ a exceder los tiempos de espera debido a la sobrecarga en alg√∫n nodo.  Esto es similar a un atasco de tr√°fico, y por un tiempo tendr√° que tomar el control en sus propias manos: expandir (escalar) el equipo, ajustar, cortar y configurar (tiempos de espera), optimizar la carga en los veh√≠culos (paquetes y solicitudes) y trabajar con excepciones. <br><br>  Dado que en el contexto del rendimiento del sitio tiene dos aspectos: la velocidad de respuesta y el n√∫mero de solicitudes procesadas simult√°neamente, mejoraremos estos par√°metros. <br><blockquote>  Muy a menudo, una empresa representa la velocidad de respuesta como la velocidad del sitio seg√∫n Google Analytics, y la cantidad de solicitudes simult√°neas como la cantidad de usuarios simult√°neos en el sitio. <br><br>  En el trabajo t√©cnico, no es muy conveniente operar con estos par√°metros. <br>  A continuaci√≥n, propondr√© una m√©trica m√°s adecuada para los c√°lculos. </blockquote><h3>  Optimizamos la velocidad de respuesta </h3><br><img src="https://habrastorage.org/webt/j4/do/3l/j4do3lxf6g5ycfmttgtobr16wfq.png"><br><br>  Al optimizar la velocidad de respuesta, nos interesan dos indicadores: la <b>velocidad de respuesta del servidor</b> y <b>el tiempo de carga de la p√°gina.</b> <br><br>  El tiempo de carga de la p√°gina consta de los siguientes enlaces: <br><br><ul><li>  Tiempo de generaci√≥n de la p√°gina del servidor; </li><li>  Tiempo de transferencia de p√°gina del servidor al cliente; </li><li>  El tiempo de procesamiento de la p√°gina en el navegador del cliente. </li></ul><br>  Cuando todo funciona como de costumbre, el factor decisivo para el Tiempo de carga de la p√°gina no es el momento en que el servidor gener√≥ la p√°gina y el momento en que la p√°gina se entreg√≥ a trav√©s de la red, sino la calidad del front-end y la velocidad del sitio en el navegador.  Dado que este √∫ltimo est√° completamente del lado del usuario, no puede temerle a los frenos el Black Friday.  Sin embargo, pueden surgir problemas debido a sobrecargas en su canal de Internet o en la entrega de un componente externo (contadores de afiliados, chats en l√≠nea, complementos de CRM, etc.). <br>  ¬øC√≥mo lidiar con eso?  Aqu√≠ hay algunos consejos de trabajo: <br><br><ol><li>  Verifique la carga del canal de Internet.  Cuente el crecimiento estimado.  En caso de duda, expanda el canal.  Algunos proveedores, adem√°s de las extensiones costosas de forma continua, pueden ofrecerle una extensi√≥n temporal para el per√≠odo pico (mucho m√°s barato) o incluso permitirle exceder brevemente la velocidad m√°xima. </li><li>  ¬øUsando un CDN?  P√≥ngase en contacto con el soporte t√©cnico y advierta sobre el crecimiento planificado del tr√°fico.  Tambi√©n se est√°n preparando para el pico general, y su pron√≥stico ser√° √∫til.  Si el CDN promete que todo estar√° bien, pero, a pesar de todo, se "acostar√°", la presencia de correspondencia ayudar√° a presentar reclamos de indemnizaci√≥n. </li><li>  De antemano, elabore un script para deshabilitar temporalmente los componentes externos en caso de problemas.  Alinear el escenario con el negocio.  No ser√° superfluo comunicarse con el soporte t√©cnico de los servicios utilizados, de todos modos, por lo general, es imposible influenciarlos de alguna manera. </li><li>  En muchos sitios, la est√°tica se representa con el servidor de aplicaciones.  Bajo alta carga, el n√∫mero de solicitudes de estad√≠sticas aumenta muchas veces, y comienzan a competir por los recursos con la aplicaci√≥n misma.  Aseg√∫rese de configurar el retorno est√°tico directamente desde Nginx.  En primer lugar, ser√° mucho mejor para esto y, en segundo lugar, habr√° un trabajo mucho m√°s √∫til para sus hilos Apache, Tomcat o Jetty. </li></ol><br><h3>  Mejorando la velocidad de respuesta </h3><br><img src="https://habrastorage.org/webt/fg/s3/tf/fgs3tfdn9y_uw4e0i2bqg5lhzlc.png"><br><br>  La optimizaci√≥n de la velocidad de respuesta per se se refiere a la mejora general en el rendimiento del sitio.  Te√≥ricamente, ayuda a reducir la cantidad de trabajo realizado por la aplicaci√≥n, y debido a esto mejora la escala, porque si cada solicitud se vuelve "m√°s barata", puede procesar m√°s solicitudes con los mismos recursos. <br><br>  Pero en la pr√°ctica, la optimizaci√≥n de la velocidad de respuesta requiere una gran cantidad de trabajo independiente.  Es imposible optimizar todo de una vez, pero romper algo en el proceso es f√°cil. <br><blockquote>  Consejo: piense sistem√°ticamente.  Digamos que el rendimiento del c√≥digo ha aumentado y la aplicaci√≥n ha comenzado a realizar m√°s consultas simult√°neas en la base de datos.  Pero aqu√≠ est√° el problema: el rendimiento de la base de datos no permite procesar tantas solicitudes, y el sitio en su conjunto solo empeor√≥, y se dedic√≥ un tiempo valioso antes del inicio de la acci√≥n. </blockquote>  Por lo tanto, es mejor centrarse en la escalabilidad y la escalabilidad, y realizar una optimizaci√≥n general por separado de la preparaci√≥n para el Black Friday, para no equivocarse debido a plazos estrictos.  Recuerde, ahora nuestra tarea es asegurar que en el pico de cargas el sitio no funcione peor que afuera. <br><br>  La velocidad de generaci√≥n de p√°ginas ser√° de inter√©s para nosotros solo junto con otro indicador: la cantidad de carga entrante. <br><br>  <b>Tenga en cuenta:</b> para el sitio, solo importa el n√∫mero de solicitudes simult√°neas creadas por los usuarios, y no el n√∫mero de usuarios en l√≠nea en el sitio.  Y calcular con precisi√≥n aceptable el <b>n√∫mero de solicitudes por segundo</b> por el <b>n√∫mero de visitantes es</b> bastante dif√≠cil (escrib√≠ sobre esto anteriormente).  Es mejor pedirle a la empresa otras m√©tricas: p√°ginas vistas por hora y hora del servidor. <br><br>  Como resultado, obtenemos un objetivo comprensible: garantizar la generaci√≥n de p√°ginas en el tiempo X con el n√∫mero de solicitudes por segundo Y. Teniendo m√©tricas num√©ricas espec√≠ficas en la mano, es mucho m√°s f√°cil evaluar el nivel de preparaci√≥n y el resultado actual. <br><br>  Aqu√≠ hay un plan general de capacitaci√≥n t√©cnica: <br><br><ol><li>  Averig√ºe los indicadores actuales (realice pruebas de carga de la versi√≥n actual del sitio); </li><li>  Para entender qu√© es exactamente lo que falta y cu√°ntos recursos se requieren para ordenar; </li><li>  Agregar recursos; </li><li>  Repita las pruebas de estr√©s y vea si eso ayuda. </li></ol><br>  ¬øParece demasiado f√°cil?  Tienes raz√≥n, cada punto est√° lleno de muchas sorpresas. <br><br>  Muy a menudo, agregar recursos mejora parcialmente la situaci√≥n, pero no salva todo.  O en un entorno de prueba, el sitio funciona como un reloj, y en el producto, nuevamente los frenos. <br><br>  A continuaci√≥n, le mostrar√© c√≥mo identificar posibles problemas y corregir las debilidades.  Comencemos con c√≥mo realizar pruebas de estr√©s y obtener un resultado realista. <br><br><h3>  Realizamos pruebas de carga correctamente </h3><br><img src="https://habrastorage.org/webt/t9/mf/fe/t9mffe4gx1ujdnadqnyvplep6sa.png"><br><br><h4>  ¬øD√≥nde hacer la prueba? </h4><br>  A menudo, las pruebas de estr√©s se realizan en un sistema productivo.  Esto puede ser bueno para controlar la situaci√≥n como un todo, pero no para resolver iterativamente problemas espec√≠ficos.  Recuerde, generalmente despu√©s de los problemas recientemente descubiertos despu√©s de la eliminaci√≥n, pueden aparecer otros nuevos.  Las balas de plata rara vez golpean el objetivo. <br><br>  Una prueba de carga fallida puede causar inconvenientes para los usuarios del sitio o incluso "interrumpirla" por un tiempo.  Es mejor usar un √°rea dedicada como conejo experimental. <br><br>  Debe cumplir los siguientes requisitos: <br><br><ul><li>  El √°rea dedicada debe ser completamente independiente y aislada de la productiva; <br></li><li>  Idealmente, un √°rea dedicada debe ser consistente con el tama√±o del producto.  Un modelo a gran escala tambi√©n es adecuado, pero reducir√° la calidad y la importancia de las pruebas.  Si la carga en un recurso crece de manera no lineal (como suele suceder), su modelo no mostrar√° que bajo carga completa el recurso se agota antes de tiempo; <br></li><li>  Es mejor usar exactamente el mismo equipo (¬°pero no el mismo!) Para pruebas que en productos.  De lo contrario, incluso si se observan los valores cuantitativos de los recursos, no ser√° posible proporcionar calidad.  Puede jugar una broma cruel en el momento crucial.  Si esto no es posible, pruebe el rendimiento del equipo bajo su carga y determine el coeficiente de ajuste. <br></li></ul><br>  Ahora hablemos sobre formas de generar una carga de prueba.  Dar√© algunas t√©cnicas b√°sicas, cada una de las cuales tiene sus ventajas y desventajas. <br><br><h4>  ¬øC√≥mo generar una carga? </h4><br>  <b>1. Prueba de solicitudes de los registros</b> <br><br>  Es posible emular el flujo de tr√°fico a trav√©s de los registros del servidor de batalla.  Una ventaja obvia de este enfoque es que no tiene que molestarse con an√°lisis, modelos estad√≠sticos y un perfil de tr√°fico sint√©tico. <br><br>  Pero a√∫n tiene que limpiar los registros de las solicitudes que no se pueden hacer o no son necesarias. <br>  Por ejemplo, no necesita "comprar" productos de manera productiva, esto causar√° problemas con el contenido del producto de la base de datos. <br><br>  Ser√° dif√≠cil reproducir retrasos realistas entre las solicitudes. <br>  Emular sesiones de usuario tambi√©n es extremadamente dif√≠cil, este m√©todo est√° muy cerca de las pruebas basadas en resultados. <br><br>  <b>2. Usando Yandex.Tank y Phantom</b> <br><br>  El tanque junto con Phantom es una herramienta muy conveniente y popular para pruebas basadas en golpes.  Tiene una interfaz bien pensada y le permite administrar la carga.  Para comenzar a bombardear un tanque, debe preparar "cartuchos": archivos especiales que contienen solicitudes de un generador. <br><br>  Pero, a pesar de todas las ventajas, el Tank tiene un gran inconveniente: no sabe c√≥mo usar las sesiones de usuario. <br><br>  Puede olvidarse de la autorizaci√≥n, del trabajo completo con cookies y de los retrasos variables.  Un tanque solo puede "picotear" solicitudes de una sola direcci√≥n. <br><br>  Te conviene si: <br><br><ul><li>  No hay diferencia en el tiempo de respuesta del servidor para usuarios autorizados y no autorizados, o es insignificante; </li><li>  Prueba de API sin sesiones HTTP expl√≠citamente; </li><li>  Este enfoque generalmente es coherente con la l√≥gica de su sitio (generalmente no es adecuado para tiendas en l√≠nea). </li></ul><br><img src="https://habrastorage.org/webt/c4/nh/em/c4nhemg4hescy14wza4hbwsfmfg.png"><br><br>  <b>3. Usando Apache JMeter</b> <br><br>  Esta es la herramienta m√°s flexible que le permite emular sesiones de usuario en detalle.  Entonces, con su ayuda, a√∫n puede responder la pregunta de la empresa "¬øcu√°ntos usuarios soporta el sitio?"  Adem√°s, JMeter puede trabajar en conjunto con Yandex.Tank. <br>  Su clave menos es el consumo de recursos y la complejidad de la preparaci√≥n de pruebas. <br><br>  El consejo principal directamente sobre JMeter: trate de evitar analizar los cuerpos de las p√°ginas con sus fuerzas, es mejor usar conjuntos de datos preparados previamente para reproducir la l√≥gica de la sesi√≥n.  En principio, es mejor minimizar el trabajo realizado por JMeter en general.  Al igual que Tank, es posible adjuntarle "cartuchos" pregenerados.  Aqu√≠ es donde deben tener en cuenta la distribuci√≥n de p√°ginas espec√≠ficas dentro de un tipo, la variabilidad de las solicitudes, etc. <br><br>  En JMeter, los modelos de comportamiento del usuario deben programarse.  Si la tarea es probar no solo la parte del servidor, sino tambi√©n el retorno del contenido est√°tico, ejecute esta prueba por separado usando Phantom, si es necesario simult√°neamente con la prueba JMeter.  Esto ayudar√° a reducir significativamente el consumo de recursos del generador de carga y aumentar√° la reproducibilidad de la prueba. <br><br>  <b>Recomendaciones de pruebas de estr√©s</b> <br><br>  Las buenas pruebas de carga se basan en un an√°lisis de tr√°fico competente y una preparaci√≥n de alta calidad de un modelo estad√≠stico y perfiles para la emulaci√≥n. <br><br>  Resalte 5-7 tipos principales de p√°ginas (no se olvide tambi√©n de las p√°ginas de destino para las existencias), calcule el porcentaje del tr√°fico total distribuido entre ellas.  Tenga en cuenta que puede haber varias solicitudes de contenido din√°mico por p√°gina.  Para usted, la p√°gina es el grupo completo de tales solicitudes.  Analice cu√°nto tiempo pasan los usuarios en cada tipo de p√°gina: promedio, promedio m√≠nimo, promedio m√°ximo. <br><br>  Si la p√°gina se basa en varias solicitudes, considere la demora entre ellas.  Vea cu√°ntas p√°ginas suele visitar un usuario por sesi√≥n, cu√°l es la distribuci√≥n de este n√∫mero.  Resalte 5-10 de las rutas de usuario m√°s comunes por tipo de p√°gina. <br><br>  Utilizando los datos obtenidos, construya los escenarios de tal manera que reproduzca todos los par√°metros estad√≠sticos descritos con extrema precisi√≥n.  No se olvide de la variabilidad de los escenarios, deben variar tanto en el n√∫mero como en la composici√≥n de los clics. <br><br>  Dentro de cada tipo de p√°gina, resalte las direcciones individuales.  Cuanto m√°s, mejor, pero un par de miles de las direcciones m√°s populares ya estar√°n fuera de la vista.  Puede preparar listas de consultas a partir de ellas agregando cada direcci√≥n a la lista tantas veces como sea necesario. <br><br>  Si hay demasiadas p√°ginas, div√≠dalas en varios grupos seg√∫n el porcentaje de tr√°fico. <br><br>  Los perfiles juegan un papel solo para JMeter, pero al crear listas de consultas, puede equipar cartuchos "tanque". <br><blockquote>  Y de nuevo: cuando use JMeter en modo de emulaci√≥n de usuario, no se olvide de los retrasos entre las solicitudes.  ¬°Si no los agrega, su carga generada ser√° muchas veces mayor de lo planeado! </blockquote>  Despu√©s de una ejecuci√≥n de prueba, aseg√∫rese de verificar los registros del servidor web para ver si el tr√°fico emulado es productivo. <br><br>  Aerobatics preparar√° los guiones por adelantado para llevar la base de datos del sitio al estado que necesita.  Por lo general, los datos preparados de la manera descrita anteriormente solo funcionan con el estado de la base de datos para la que se recopil√≥ informaci√≥n sobre los bienes.  Puede ser prohibitivamente largo recargar el volcado de SQL cada vez.  Adem√°s, es muy deseable aprender a administrar las existencias en ejecuci√≥n utilizando scripts en el √°rea de prueba.  A menudo son importantes para el funcionamiento del sistema, y ‚Äã‚Äãdebe comprender <b>con qu√© conjunto</b> y <b>c√≥mo</b> se prueban <b>exactamente</b> las existencias de trabajo. <br><br>  ¬øEst√° todo listo?  Genial, adelante! <br><br><h3>  Usamos monitoreo en pruebas </h3><br><img src="https://habrastorage.org/webt/tg/f0/3c/tgf03cquqgwujw_gyjflqij1s5c.png"><br><br>  Entonces, realizamos pruebas competentes y obtuvimos los resultados.  Si todo est√° bien y su sitio est√° lidiando con una gran carga, entonces ning√∫n Black Friday le da miedo.  Pero este art√≠culo estar√≠a incompleto si no consideramos un <s>triste</s> escenario realista. <br><br>  Imagine que un sitio puede soportar una velocidad aceptable ... bueno, incluso si solo una quinta parte de lo que la empresa quiere obtener.  ¬øEs realmente necesario llamar al hoster en p√°nico y pedir cinco veces m√°s capacidad? <br><br>  En principio, al anfitri√≥n le gustar√° este enfoque.  Incluso puede obtener el estado de un cliente de oro. <br><br>  Pero antes de actuar precipitadamente, intentemos averiguar qu√© sali√≥ mal exactamente. <br><br>  Su salvavidas en el mar de posibles causas es un sistema de monitoreo. <br><br><img src="https://habrastorage.org/webt/sp/kt/og/spktoglx5xwtzcea9x6itlmzcfs.png"><br><br>  Por lo tanto, damos un paso atr√°s e instalamos tantas muestras como sea posible antes de realizar la prueba.  Idealmente, todos los recursos agotables deben ser monitoreados. <br><br>  A continuaci√≥n hay una lista para ayudarlo a comenzar: <br><br><ul><li>  Carga de CPU (uso de CPU, carga de CPU); </li><li>  Carga de RAM; </li><li>  Carga de disco (IOPS, Latencia); </li><li>  N√∫mero de conexiones de red (tiempo de espera, fin de espera, cierre de espera, establecido); </li><li>  El n√∫mero de tomas abiertas; </li><li>  El n√∫mero de procesos de usuario; </li><li>  El n√∫mero de archivos abiertos; </li><li>  Tr√°fico de red (en megabits y en paquetes, m√°s errores y ca√≠das). </li></ul><br>  Y tambi√©n: <br><br><ul><li>  El n√∫mero de consultas, respuestas y conexiones a la base de datos y otros componentes; </li><li>  Velocidad de respuesta de componentes (base de datos, servidor de b√∫squeda, cach√©s, etc.); </li><li>  Todos los registros disponibles para errores. </li></ul><br>         .       ,    ¬´ ¬ª.  ,    ¬´¬ª  ,    . <br><br> ,    ,   . <br><br> -   ,   : ,  HDD  SSD.       -,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">.</a> <br><br>          <b> </b>      <b>.</b>       . <br><br> <b>  :</b> ,  ,      ?     ,    , ,  2-         ,  - (,  0,5 )      1,5    .              - ¬´,   ¬ª. <br><br>          1 ,   .        ,    . ,              .   ,     (      )    ,   . <br><br><h3>   </h3><br>  ,    ,   ,   . <br><br>     ¬´¬ª ,     .    2-3 ,      ,    . <br><br>     , :        .     ,     . , , ,      ,   . <br><br>           .          .  ,   SLA, ,  ,  ,      ,      ¬´¬ª . <br><br>       .        ,     .      . <br><br>     ,  ,           .       ,      ,        . <br><br>       ,    . <br> -,       (   ),  -,      .            . <br><br> ,   .       -    ,            . <br><br>     ,       ,   ,    ¬´   e-commerce.  ¬ª,   16   .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418755/">https://habr.com/ru/post/es418755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418741/index.html">Agregue cifrado y empuje a SIP normal</a></li>
<li><a href="../es418743/index.html">Historia del primer lugar en ML Boot Camp VI</a></li>
<li><a href="../es418747/index.html">Resoluci√≥n de problemas: ¬øc√≥mo resolver eficazmente los problemas en un equipo?</a></li>
<li><a href="../es418751/index.html">Dex imp√∫dico esp√≠a chino</a></li>
<li><a href="../es418753/index.html">vSAN en la nube de VMware</a></li>
<li><a href="../es418757/index.html">Reducci√≥n de los plazos (criptomonedas, divisas, intercambios)</a></li>
<li><a href="../es418759/index.html">¬øCu√°nto le cuesta a un estudiante emitir un chip?</a></li>
<li><a href="../es418761/index.html">El libro "Pure Python. Las sutilezas de la programaci√≥n para profesionales ¬ª</a></li>
<li><a href="../es418763/index.html">Middle / senior: ¬øc√≥mo salir del pantano?</a></li>
<li><a href="../es418765/index.html">Los consejos de datos ayudan a completar cualquier formulario de entrada. Ahora sanar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>