<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚠️ 🏇🏽 🏳️‍🌈 2000 نمط مدهش على تطبيقات Windows 10 الحديثة 🧛🏻 🍋 🙅🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="التين. 1. كدمات ، ولكن لم ينكسر. تحولت حاسبة Windows ، التي تم نشر رمزها مؤخرًا على Github ، إلى واحد من تطبيقين تم اختبارهما ولم يتم تعليقهما ولم يتع...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>2000 نمط مدهش على تطبيقات Windows 10 الحديثة</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451816/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/cb6/3b4/ca2/cb63b4ca2a435ac151253934fcb775b6.png"><br>  <i><font color="gray">التين.</font></i>  <i><font color="gray">1. كدمات ، ولكن لم ينكسر.</font></i>  <i><font color="gray">تحولت حاسبة Windows ، التي تم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نشر رمزها</a> مؤخرًا <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">على Github</a> ، إلى واحد من تطبيقين تم اختبارهما ولم يتم تعليقهما ولم يتعارضا مع fuzzer لرسائل النافذة التي تم تطويرها في عام 2000.</font></i>  <i><font color="gray">حجم النافذة الموسع خصيصا لإظهار التحف المذهلة</font></i> <br><br>  لقد حان الوقت للجزء الثاني من جهودنا لاختبار التقنيات القديمة المذهلة على الأنظمة الحديثة.  إذا فاتتك ، إليك <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجزء الأول</a> .  هذه المرة سنختبر نظام التشغيل Windows 10 باستخدام تقنيات مضحكة من مقال "البحث التجريبي عن موثوقية تطبيقات Windows NT باستخدام اختبار عشوائي" (يُعرف باسم "تقرير Fuzzing NT") بقلم جوستين فورستر وبارتون ميلر ، الذي نشر في عام 2000. <br><br>  قام الباحثون باختبار 33 تطبيقًا من Windows NT وإصدارًا سابقًا من نظام التشغيل Windows 2000 لمعرفة مدى قابلية رسائل الإطار المشوهة وأحداث الماوس ولوحة المفاتيح العشوائية.  نظرًا لأن Dr. Miller نشر رمز fuzzer ، فقد استخدمنا <b>بالضبط نفس الأدوات</b> التي استخدمها المؤلفون الأصليون للبحث عن الأخطاء في تطبيقات Windows الحديثة. <br><a name="habracut"></a><br>  النتائج متطابقة تقريبًا: قبل 19 عامًا ، تعطل أو تعطل 100٪ من التطبيقات التي تم اختبارها عندما واجهوا رسائل نافذة مشوهة.  اليوم ، انخفض نفس الشغف أو علق 93٪ من التطبيقات المختبرة.  وقفت اثنين فقط ، بما في ذلك <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">حاسبة</a> صديقنا القديم (الشكل 1).  وجدنا أيضًا خللًا (ولكن ليس مشكلة أمنية) على Windows. <br><br><h1 style=";text-align:right;direction:rtl">  مقدمة موجزة لنظام التشغيل Windows </h1><br>  إذن ما هي رسائل النافذة ولماذا تتسبب في تعطل البرنامج؟ <br><br>  تطبيقات Windows GUI تعتمد على الأحداث: حركات الماوس ، الضغط على الزر ، ضغطات المفاتيح ، وما إلى ذلك. لن يقوم التطبيق الذي يحركه الحدث بأي شيء حتى يتلقى حدثًا.  بمجرد استلام الحدث ، ينفذ التطبيق الإجراء بناءً على الحدث ، ثم يتوقع أحداث أخرى.  يبدو مألوفا؟  حصلت هذه البنية <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">على حياة ثانية على الأنظمة الأساسية مثل node.js.</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">رسائل النافذة هي طريقة لإعلام أحداث Windows</a> .  كل واحد منهم لديه <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">رمز رقمي يرتبط بحدث معين</a> .  كل رسالة لها معلمة واحدة أو أكثر ، والتي <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تسمى اصطلاحًا بـ lParam و wParam</a> .  وهي تحدد معلومات أكثر تفصيلاً حول الحدث.  أمثلة على هذه المعلومات هي إحداثيات حركة الماوس ، أي المفتاح مضغوط أو أي نص لعرضه في النافذة.  يمكن إرسال هذه الرسائل بواسطة البرنامج نفسه أو نظام التشغيل أو البرامج الأخرى.  يمكن أن يصلوا في أي وقت وبأي ترتيب ويجب معالجته بواسطة التطبيق على جانب المتلقي. <br><br><h3 style=";text-align:right;direction:rtl">  الآثار المترتبة على السلامة </h3><br>  قبل نظام التشغيل Windows Vista ، يمكن لعملية منخفضة الامتياز إرسال رسالة إلى عملية عالية الامتياز.  باستخدام المزيج الصحيح من الرسائل ، يمكنك تنفيذ التعليمات البرمجية في هذه العملية.  في نظام التشغيل Vista ، كانت هذه <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"الهجمات الهدامة"</a> محمية بشكل كبير بواسطة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">UIPI</a> وعزل خدمات النظام في جلسة منفصلة. <br><br>  من غير المرجح أن تؤثر معالجة رسائل النافذة غير الصحيحة على أمان أنظمة Windows الحديثة لسببين.  أولاً ، لا يمكن إرسال رسائل النافذة عبر الشبكة.  ثانياً ، تعطل تطبيق أو رمز تنفيذ في نفس مستوى الامتياز ليس مفيدًا جدًا للمهاجمين.  ربما ، كان واضحا لمؤلفي تقرير NT المزيف.  لا تصدر بيانات أمان ، ولكنها تشير بشكل صحيح إلى أن حالات الفشل في معالجة رسائل النافذة تعني عدم وجود اختبارات صارمة. <br><br>  هناك بعض المناطق حيث تنفيذ التعليمات البرمجية مع نفس الامتيازات يمكن أن يعرض الأمان للخطر.  تجمع بعض التطبيقات بين بدائل الأمان المختلفة لإنشاء مستوى امتياز اصطناعي لم يتم العثور عليه أصلاً في نظام التشغيل.  مثال نموذجي هو رمل لتقديم في المتصفح.  يدرك المصنعون المستعرضون جيدًا هذه المشكلات <a href="">واتخذوا خطوات لمعالجتها</a> .  مثال آخر هو منتجات مكافحة الفيروسات.  هناك ، تعمل لوحة التحكم بامتيازات عادية ، ولكنها معزولة عن وحدات مكافحة الفيروسات الأخرى. <br><br><h1 style=";text-align:right;direction:rtl">  منهجية الاختبار </h1><br>  لإخفاء جميع التطبيقات في مجموعة الاختبار ، استخدمنا نفس الكود الأساسي وتقنية الدمج الموصوفة في تقرير NT الأولي.  على وجه الخصوص ، في كلا وضعي <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SendMessage</a> و <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PostMessage</a> ، استخدم fazer ثلاث تكرارات من 500000 رسالة مع 42 بذرة وثلاث تكرارات من 500000 رسالة مع 1337 بذرة.  ظهرت النتائج بعد إجراء تكرار واحد فقط لكل طريقة. <br><br>  لقد فاتنا إدخال الماوس ولوحة المفاتيح بشكل عشوائي بسبب ضيق الوقت والرغبة في التركيز فقط على رسائل النافذة.  ونحن نشجع أيضًا أولئك الذين يرغبون في تكرار الاختبار وتأكيد النتائج. <br><br><h1 style=";text-align:right;direction:rtl">  المزالق </h1><br>  ل fuzzer في ويندوز 10 كان لا بد من إجراء تغييرين طفيفين.  أولاً ، قم بتكييفه لمنصة 64 بت.  التغيير الثاني سمح fuzzer لتحديد مؤشر إطار معين باستخدام وسيطة سطر الأوامر.  يعد دمج واصف محدد حلاً سريعًا لتطبيقات تطبيقات <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Universal Windows Platform (UWP)</a> .  يركز البرنامج الأصلي على دمج النوافذ التي تنتمي إلى عملية معينة ، لكن جميع تطبيقات UWP تعرض واجهة المستخدم الخاصة بها من خلال نفس العملية (الشكل 2).  هذا يعني أنه لا يمكن توجيه fuzzer إلى نافذة تطبيق UWP الرئيسية. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a4f/7e8/8fb/a4f7e88fbbd79bdb92b2de8f1c48697a.png"><br>  <i><font color="gray">التين.</font></i>  <i><font color="gray">2. على نظام UWP ، تنتمي جميع التطبيقات إلى عملية واحدة ( <code>ApplicationFrameHost.exe</code> ).</font></i>  <i><font color="gray">لخلط هذه التطبيقات ، اضطررت إلى تغيير fuzzer الأصلي NT وتوجيهه إلى مقابض نافذة محددة</font></i> <br><br>  كان هناك خلل خطير في تعديل fuzzer: القيم المحددة للمصدرين الرئيسيين للإدخال العشوائي ، <code>lParam</code> و <code>wParam</code> لـ <code>SendMessage</code> و <code>PostMessage</code> ، تقتصر على أعداد صحيحة 16 بت.  كلا الوسيطتين 32 بت على Windows 32 بت و 64 بت على 64 بت Windows.  المشكلة تحدث في <code>Fuzz.cpp</code> ، حيث <code>wParam</code> <code>lParam</code> و <code>wParam</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> wParam = (UINT) rand(); lParam = (LONG) rand();</code> </pre> <br>  تقوم الدالة rand () بإرجاع رقم في النطاق [0 ، 2 <sup>16</sup> ] ، مما يحد بشكل كبير من مجموعة القيم المختبرة.  لقد قمنا بحفظ هذا الخطأ عن قصد أثناء الاختبار بحيث تتم مطابقة النتائج بدقة مع العمل الأصلي. <br><br><h1 style=";text-align:right;direction:rtl">  تطبيقات اختبار </h1><br>  في تقرير NT الأصلي ، تم اختبار 33 برنامجا.  لدينا 28 فقط ، لأنه يتم استخدام إصدار واحد فقط من كل برنامج للاختبار.  لقد تغير النظام البيئي لبرنامج Windows بشكل كبير منذ عام 2000 ، على الرغم من أن الكثير من المستغرب لم يتغير.  يحتوي مجموعة Microsoft Office على نفس البرامج كما في الاختبارات الأصلية.  تطورت Netscape Communicator إلى Firefox.  تم تغيير اسم Adobe Acrobat إلى Adobe Reader ، لكنه لا يزال ساري المفعول.  أصدرت Winamp إصدارًا جديدًا في عام 2018 ، والذي يسمح بإجراء مقارنة عادلة مع التقرير الأصلي.  ومع ذلك ، كان لا بد من استبدال بعض البرامج القديمة.  انظر أدناه للحصول على قائمة التغييرات وأسبابها: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>مشغل CD ⇨ Windows Media Player:</b> يتم تضمين وظيفة CD Player في البرنامج الجديد. <br></li><li style=";text-align:right;direction:rtl">  <b>بريد Windows Eudora:</b> يتعامل Qualcomm الآن مع الرقائق بدلاً من عملاء البريد الإلكتروني.  نظرًا لأن Eudora لم يعد موجودًا ، تم اختبار عميل بريد Windows الافتراضي بدلاً من ذلك. <br></li><li style=";text-align:right;direction:rtl">  <b>Command AntiVirus ⇨ Avast Free Edition:</b> لم يعد Command AntiVirus متاحًا.  تم استبدال Avast بأكثر برامج مكافحة الفيروسات شيوعًا. <br></li><li style=";text-align:right;direction:rtl">  <b>GSView ⇨ الصور:</b> لم يعد GSView مدعومًا.  تم استبداله مع عارض الصور الافتراضي في Windows. <br></li><li style=";text-align:right;direction:rtl">  <b>JavaWorkshop Net NetBeans IDE:</b> لم يعد JavaWorkshop IDE مدعومًا.  يبدو NetBeans كبديل مجاني جيد يطابق روح ما يجب التحقق منه. <br></li><li style=";text-align:right;direction:rtl">  <b>Secure CRT ⇨ BitVise SSH:</b> لا يزال Secure CRT موجودًا ، ولكن يلزم وجود نموذج ويب طويل للغاية لتنزيل الإصدار التجريبي.  عرضت BitVise SSH تمهيد سريع. <br></li><li style=";text-align:right;direction:rtl">  <b>Telnet ⇨ Putty:</b> لا يزال تطبيق telnet موجودًا على Windows ، ولكنه الآن تطبيق وحدة تحكم.  لتضمين واجهة المستخدم الرسومية ، استبدلناها بـ Putty ، المحاكي الشهير للمصدر المفتوح لنظام التشغيل Windows. <br></li><li style=";text-align:right;direction:rtl">  وجدنا <b>Freecell and Solitaire</b> في مجموعة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Microsoft Solitaire</a> من كتالوج تطبيق Windows App Store. </li></ul><br>  يتم عرض الإصدار المحدد من التطبيق في جدول النتائج.  تم تنفيذ كل عمليات الدمج على نظام Windows 10 Pro الإصدار 649 من نظام 64 بت (بناء 17763.253). <br><br><h1 style=";text-align:right;direction:rtl">  النتائج </h1><br>  كما هو مذكور في التقرير الأصلي ، لا ينبغي اعتبار النتائج بمثابة ثغرات أمنية ، ولكن كمؤشر لموثوقية البرامج وجودتها. <br><br><blockquote style=";text-align:right;direction:rtl">  <i>"أخيرًا ، تشكل نتائجنا نقطة انطلاق كمية للحكم على التحسن النسبي في موثوقية البرنامج."</i> <br><br>  - من "الدراسة التجريبية لموثوقية تطبيق Windows NT باستخدام اختبار عشوائي" بقلم جاستن فورستر وبارتون ميلر </blockquote><br>  الأرقام ليست مشجعة بشكل خاص ، على الرغم من أن الوضع يتحسن.  في تقرير NT الأولي ، تعطلت جميع التطبيقات أو علقت على الغموض.  الآن برنامجان: الحاسبة و Avast Antivirus ، نجا من مراحل رسائل النافذة دون أي عواقب سلبية.  نثني على فريقي Avast و Windows Calculator لنهجهما في رسائل النوافذ الخاطئة.  حصل فريق الحاسبة على احترام إضافي لفتح الشفرة المصدرية وإظهار كيفية إنشاء تطبيق UWP عالي الجودة.  انظر الجدول 1 للاطلاع على جميع النتائج المزيفة ، بالإضافة إلى الإصدار المحدد من البرنامج المستخدم. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>البرنامج</b> </td><td>  <b>نص</b> </td><td>  <b>SendMessage</b> </td><td>  <b>PostMessage</b> </td></tr><tr><td>  مايكروسوفت اكسس </td><td>  1901 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  برنامج Adobe Reader DC </td><td>  2019.010.20098 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  آلة حاسبة </td><td>  10.1812.10048.0 </td><td>  حسنا </td><td>  حسنا </td></tr><tr><td>  ويندوز ميديا ​​بلاير </td><td>  12.0.17763.292 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  رمز الاستوديو البصري </td><td>  1.30.2 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  أفاست مجانا </td><td>  2364/02/19 </td><td>  حسنا </td><td>  حسنا </td></tr><tr><td>  بريد ويندوز </td><td>  16005.11231.20182.0 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  تفوق </td><td>  1901 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  أدوبي فرامكر </td><td>  15.0.2.503 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  الخلية الحرة </td><td>  4.3.2112.0 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  غوستسكريبت </td><td>  9.26 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  صور </td><td>  2019.18114.17710.0 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  جنو إيماكس </td><td>  26.1 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  IE Edge </td><td>  44.17763.1.0 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  نتبيانس </td><td>  10 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  فايرفوكس </td><td>  64.0.2 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  المفكرة </td><td>  1809 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  طلاء </td><td>  1809 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  بينت شوب برو 2019 </td><td>  21.1 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  باور بوينت </td><td>  1901 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  Bitvise سه </td><td>  8.23 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  سوليتير </td><td>  4.3.2112.0 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  معجن </td><td>  0.70 </td><td>  podvisanie </td><td>  podvisanie </td></tr><tr><td>  VS Community 2017 </td><td>  15.9.5 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  WinAmp 5.8 </td><td>  5.8 بناء 3660 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  كلمة </td><td>  1901 </td><td>  فشل </td><td>  حسنا </td></tr><tr><td>  الدفتر </td><td>  1809 </td><td>  فشل </td><td>  فشل </td></tr><tr><td>  WS_FTP </td><td>  12.7.0.1903 </td><td>  فشل </td><td>  فشل </td></tr></tbody></table></div>  <i><font color="gray">جدول 1. نتائج تشغيل الانصهار الأصلي على Windows 10. بعد 19 عامًا ، ما زالت جميع التطبيقات تقريبًا لا تعالج رسائل النافذة المشوهة بشكل صحيح</font></i> <br><br><h1 style=";text-align:right;direction:rtl">  علة ويندوز؟ </h1><br>  لسوء الحظ ، ساد الفضول ، واضطررنا إلى استثناء واحد.  يبدو أن العديد من التطبيقات التي لا صلة لها بالمشكلة قد واجهتها مشكلة واحدة مشتركة.  أظهر التصحيح أن المشكلة تتعلق برسالة <code>WM_DEVICECHANGE</code> .  عندما أرسل fuzzer هذه الرسالة ، سقط التطبيق أبسط - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HelloWorld ، المثال الرسمي لواجهة برمجة تطبيقات Windows</a> (الشكل 3). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e6b/74b/cae/e6b74bcae36402b21b948256fe726315.png"><br>  <i><font color="gray">التين.</font></i>  <i><font color="gray">3. تعطل HelloWorld.exe 32 بت عند تلقي رسالة نافذة من fuzzer.</font></i>  <i><font color="gray">لا ينبغي أن يحدث هذا ، لأن البرنامج بسيط تمامًا.</font></i>  <i><font color="gray">ومن المعلوم أن المشكلة في مكان ما في ويندوز</font></i> <br><br>  بعد سقوط HelloWorld ، أدركنا على الفور أن المشكلة تؤثر على تطبيقات 32 بت فقط ، ولكن ليس على تطبيقات 64 بت.  أظهرت بعض التصحيح السريع أن التعطل يحدث في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">wow64win.dll ، طبقة توافق التطبيقات 32 بت لـ 64 بت</a> .  يؤدي تحليلي السطحي (وربما غير الصحيح) للمشكلة إلى استنتاج مفاده أن الدالة <code>wow64win.dll!whcbfnINDEVICECHANGE</code> تعتبر wParam بمثابة مؤشر إلى بنية <code>DEV_BROADCAST_HANDLE64</code> في البرنامج الهدف.  تحول الوظيفة هذه البنية إلى بنية <code>DEV_BROADCAST_HANDLE32</code> للتوافق مع تطبيقات 32 بت.  يحدث الفشل لأن قيمة <code>wParam</code> التي تم إنشاؤها بواسطة fuzzer تشير إلى ذاكرة غير صالحة. <br><br>  تعتبر معاملة <code>wParam</code> كمؤشر محلي فكرة سيئة ، على الرغم من أنه قد يكون قرار تصميم متعمد لإعلامات الجهاز القابل للإزالة للعمل مع تطبيقات Windows 32 بت القديمة.  ولكن لا يزال من الخطأ أن تتمكن من تعطل تطبيق آخر دون أي مشاكل.  أبلغنا MSRC عن المشكلة ، على الرغم من أن الحدود الأمنية لم تعبر.  وأكدوا أن الخطأ لم يكن مشكلة أمنية.  نأمل أن نرى إصلاحًا لهذه المشكلة الغريبة المقبولة عمومًا في إصدار مستقبلي من Windows. <br><br><h1 style=";text-align:right;direction:rtl">  استنتاج </h1><br>  يتم التقليل من أهمية رسائل النافذة وغالبًا ما يتم تجاهلها باعتبارها مدخلات غير موثوق بها لبرامج Windows.  حتى بعد مرور 19 عامًا على ظهور أول رسالة من رسائل مفتوحة المصدر ، ما زال 93٪ من التطبيقات التي تم اختبارها تتجمد أو تتعطل عند بدء تشغيل البرنامج نفسه.  لكن من المشجع أن بعض التطبيقات تتعامل بأمان مع هذه المدخلات المشوهة: وهذا يعني أن بعض المنظمات لديها أطر ومعرفة مؤسسية لتجنب مثل هذه الأخطاء. <br><br>  بالطبع ، يمكن تحسين fuzzer بعدة طرق ، ولكن حتى أبسط الطرق تحطمت 93٪ من التطبيقات.  ربما في بعض الحالات ، تعبر رسائل النافذة عن الحدود الأمنية الحقيقية.  إذا كنت تستكشف هذا المجال ، نأمل أن تشارك النتائج. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar451816/">https://habr.com/ru/post/ar451816/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar451800/index.html">صنع مودم سونار بسيط</a></li>
<li><a href="../ar451802/index.html">. صافي مجتمع Raiffeisenbank تدعو إلى UPD mitap البث</a></li>
<li><a href="../ar451806/index.html">ملخص نظام التشغيل iOS رقم 5 (27 أبريل - 16 مايو)</a></li>
<li><a href="../ar451812/index.html">الآن يتم قياس المطورين الجيدين من خلال المشاهدات والمشتركين - وهذا أمر سيء</a></li>
<li><a href="../ar451814/index.html">RBKmoney المدفوعات تحت غطاء محرك السيارة الأساسي</a></li>
<li><a href="../ar451818/index.html">Rook or not Rook - هذا هو السؤال</a></li>
<li><a href="../ar451820/index.html">Habramitap المواضيعية # 1: الخلفية التنمية</a></li>
<li><a href="../ar451822/index.html">توظيف والانخراط: الإجابة على الأسئلة من الجانبين</a></li>
<li><a href="../ar451826/index.html">تعزيز عبثية التسويق: حالات مثبتة</a></li>
<li><a href="../ar451828/index.html">السر الرئيسي لـ Google I / O 2019 ، والذي لا يمكن العثور عليه على الإنترنت</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>