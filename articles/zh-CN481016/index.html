<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤞🏿 🚄 🧘🏾 VonmoTrade实验。 第1部分：交流与现代技术 🔸 💪🏼 🈵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="系列文章重点介绍了由一个人以最小的预算和最短的时间创建一个反应系统的尝试。 


 实验目的： 


- 对主题领域有更深入的了解并提高了技术专长 
- 识别在开发交易系统中使用功能语言和开源项目的优缺点 本文介绍了项目的动机部分和任务的分解。 


 我计划在2019年春季开始实验，但是情况改变了...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VonmoTrade实验。 第1部分：交流与现代技术</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481016/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ug/vx/tm/ugvxtmtcasedx_hsmqskdxvc4qo.png"></div><br><p> 系列文章重点介绍了由一个人以最小的预算和最短的时间创建一个反应系统的尝试。 </p><br><p> 实验目的： </p><br><ul><li> 对主题领域有更深入的了解并提高了技术专长 </li><li> 识别在开发交易系统中使用功能语言和开源项目的优缺点 <br> 本文介绍了项目的动机部分和任务的分解。 </li></ul><a name="habracut"></a><br><p> 我计划在2019年春季开始实验，但是情况改变了截止日期。 因此，对于正在等待有关此主题的文章的少数订阅者，我表示歉意。 </p><br>
<h2 id="kak-ya-doshel-do-takoy-zhizni"> 我怎么过这样的生活？ </h2><br><p> 当我意识到自己对工作项目的常规感到厌倦时，我想做一些不寻常的事情。 我考虑了各种主题和方向，其实施过程对我来说是一个挑战。 制定了该项目的主要要求： </p><br><ul><li> 我感兴趣的知识领域； </li><li> 应用程序的分布式和高度可访问性； </li><li> 数据密集型应用程序具有的高信息容量和大量存储数据； </li><li> 充分利用开源项目。 </li></ul><br><p> 由于已经有一些开发对象数据仓库的经验，因此提出了一个主题，即使用冗余编码和快速哈希函数编写与s3兼容的存储的新实现的想法。 但是我想要一些更有趣的东西。 从开发人员的角度来看，金融系统对它们在近实时模式下的工作，大量的更新和存储的数据量感到好奇。 因此，我决定实施该交换系统。 </p><br><h2 id="pro-birzhi"> 关于交流 </h2><br><p> 从广义上讲，交易所（来自拉特布尔萨-钱包）是买卖双方进行交易的市场。 根据什么是交易资产（工具），确定交易所的详细信息： </p><br><ul><li> 商品，包括劳动力交换 </li><li> 存货 </li><li> 货币 </li><li> 期货 </li></ul><br><p> 从历史上看，交易所确实是买卖双方在约定的时间聚集的买卖双方的地方。 <br> 交换的主要功能包括： </p><br><ul><li> 交易所交易流程的组​​织： <br><ul><li> 根据适用法律定义贸易规则 </li><li> 设定产品标准 </li><li> 材料和人员配置 </li></ul></li><li> 信息活动。 提供有关工具价格，市场和公司的信息； </li><li> 制定示范合同； </li><li> 争端的解决（仲裁）； </li><li> 为执行交易提供一定的保证。 </li></ul><br><p> 现代交易所组织有序的交易大厅，可以根据特定规则运作，并集中供需。 交易所的经济性也很明显，交易所上的交易越多，交易所对所提供服务的回报就越高。 </p><br><p> 因此，该解决方案的一般功能是可以理解的，现在有必要限制工作量，以便在合理的时间内满足该想法的实施要求。 </p><br><h2 id="mvp"> 最有价值球员 </h2><br><p> 由于有限的资源，原型的功能有限。 但是重要的和根本的事情需要得到充分执行。 </p><br><h3 id="dekompoziciya-zadachi-i-vybor-arhitektury"> 问题分解与架构选择 </h3><br><p> 在技​​术方面，交换是一个排队系统，在该系统中，参与者生成呼叫流-订单，并且该系统根据先前已知的规则对其执行操作。 </p><br><p> 服务订单应在最短的时间内完成。 交换必须容错并且高度可访问。 </p><br><p> 我们将项目分为服务和公共部分。 服务部分将允许您管理平台的组件和交易所的交易过程。 公共部分包括客户交互接口：Web API，Trading API，通知子系统。 这两部分都将基于分布式应用程序平台，负责整个系统的可伸缩性和可靠性。 </p><br><p> 由于我们受到预算的限制，因此我们将仅使用经过验证的开源解决方案来组织数据存储。 对于较热的系统数据，适用于Tarantool；对于较冷的PostgreSQL，则适用。 </p><br><p> 我们将描述系统的计划组成（图片可点击）： <br></p><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/qx/ae/ew/qxaeewotutdwkirapp61qwo-rbi.png"></a> </div><p></p><br><p> 人们会感到架构和设计与常规系统没有什么不同。 挑战在哪里？ 要回答这个问题，请考虑为货币兑换创建订单和完成交易的过程。 </p><br><p>  <strong>订单创建</strong> </p><br><ol><li> 检查授权 </li><li> 确保用户当前有足够的资金来创建订单。 </li><li> 创建订单 </li><li> 通知用户成功创建或错误 </li></ol><br><p>  <strong>成交交易</strong> </p><br><ol><li> 查找配对订单 </li><li> 检查各方资产负债表上的资金是否充足以完成交易 </li><li> 固定交易：账户之间转移+交易佣金到交易佣金账户的转移。 </li><li> 保存已执行订单的历史记录。 </li><li> 更新信息数据：原始交易数据和图表的汇总数据。 </li><li> 通知所有感兴趣的交易方。 </li></ol><br><p> 当我们从运行在同一台机器上的整体式设备迁移到部署在集群上的分布式容错系统时，困难就开始了。 我将每个市场的最低系统性能定为每秒5-7k笔已完成交易。 这对体系结构和数据使用施加了其他限制。 </p><br><p> 遵循KISS原则，每个应用程序应仅执行处理在其中实现的实体所需的那些功能：市场，帐户，授权等。 </p><br><p>  VTrade建立在水平缩放的原则上。 每个应用程序可以复数形式运行。 这使您可以实现容错能力和所需的性能水平。 </p><br><h2 id="tehnologicheskiy-stek"> 技术栈 </h2><br><p> 为了不增加熵，我们限制使用的语言和技术。 <br> 对于服务器，此集合将包括： </p><br><ol><li>  Erlang 我认为，这是构建基础架构事物的理想语言。 </li><li> 铁锈。 非常适合系统问题和优化问题。 </li><li>  PostgreSQL的 作为长期数据存储的主要基础 </li><li>  Tarantool。 作为热数据存储（仅适用于MVP的时间） </li><li>  Clickhouse。 用于分析日志和深度分析功能。 </li><li> 的Linux 该系统必须支持现代发行版。 </li></ol><br><p> 客户端软件是通过使用Vuex的Vue框架实现的。 </p><br><p> 由于项目最初涉及大量组件，为确保最终解决方案的质量达到适当水平，我们将编写大量基于属性的测试和集成测试。 </p><br><h2 id="pro-plany"> 关于计划 </h2><br><p> 我计划在不久的将来分析该理论的基础知识，并在以下领域进行实践研究： </p><br><ul><li> 认股权证。 类型，处理功能。 存储贸易信息的方面。 </li><li> 权证书。 视觉表示市场。 </li><li> 出价历史。 印刷品，图形，个人历史记录。 </li></ul><br><p> 正如他们所说的...如果有兴趣，例如订阅） </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN481016/">https://habr.com/ru/post/zh-CN481016/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN481000/index.html">基于OpenWhisk的无服务器计算，第4部分</a></li>
<li><a href="../zh-CN481004/index.html">12月18日的Java摘要</a></li>
<li><a href="../zh-CN481010/index.html">Android在Kotlin中的16个开发技巧。 第三部分</a></li>
<li><a href="../zh-CN481012/index.html">我在10年的堆栈溢出学习中学到了什么</a></li>
<li><a href="../zh-CN481014/index.html">我/我们不是Ayhor托管。 或如何面对行业吐痰</a></li>
<li><a href="../zh-CN481018/index.html">关于保护虚拟基础架构</a></li>
<li><a href="../zh-CN481020/index.html">使用纯JavaScript编写触摸打字模拟器：第2部分</a></li>
<li><a href="../zh-CN481024/index.html">为什么我放弃了Google Maps API</a></li>
<li><a href="../zh-CN481028/index.html">使用OpenVPN组织到工业PLC的远程连接的指南</a></li>
<li><a href="../zh-CN481030/index.html">我想为自己做什么样的Cyber​​dec</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>