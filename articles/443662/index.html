<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëó üíπ üîî Comprender el c√≥digo limpio en Android üë©‚Äçüë©‚Äçüë¶ üò§ üêä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Como introducci√≥n, me gustar√≠a recordar la cita del t√≠o Bob 
 Est√°s leyendo este art√≠culo por dos razones. El primero, usted es un programador, el seg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comprender el c√≥digo limpio en Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443662/">  Como introducci√≥n, me gustar√≠a recordar la cita del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">t√≠o Bob</a> <br><blockquote>  Est√°s leyendo este art√≠culo por dos razones.  El primero, usted es un programador, el segundo, quiere ser el mejor programador. </blockquote><a name="habracut"></a>  Imagina que est√°s en una biblioteca y buscas algunos libros.  Si la biblioteca est√° ordenada, tiene categor√≠as de libros, encontrar√° r√°pidamente el que necesita.  Adem√°s, el dise√±o interior y la arquitectura geniales har√°n que su estancia en esta biblioteca sea bastante c√≥moda para usted. <br><br>  Al igual que con la escritura de libros, si desea crear algo grandioso, entonces necesita saber c√≥mo escribir y c√≥mo organizar su c√≥digo.  Si tiene miembros del equipo u otra persona que tiene su c√≥digo (obsoleto), solo necesitan ver los nombres de las variables o paquetes o clases, y lo entender√°n de inmediato.  No necesitan decir "E ** l" I este c√≥digo y comenzarlo de nuevo desde cero. <br><br><h3>  ¬øQu√© es un c√≥digo limpio? </h3><br><img src="https://habrastorage.org/webt/v4/r0/yl/v4r0ylqrnss6avbpaws2xrhfjrq.png"><br><br><div class="spoiler">  <b class="spoiler_title">Traducci√≥n</b> <div class="spoiler_text">  Estimado programador: <br><br>  Cuando escrib√≠ este c√≥digo, ¬°solo Dios y yo sab√≠amos c√≥mo funciona! <br>  ¬°Ahora solo Dios lo sabe! <br><br>  Antes de intentar optimizar esta rutina y no conducir√° al √©xito (muy probablemente), aumente el contador de tiempo para advertir al pr√≥ximo desarrollador <br><br>  Total de horas dedicadas: 567 <br></div></div><br>  Como puede ver, no es suficiente terminar el desarrollo m√°s r√°pido.  Si en el futuro no pueden resolver este c√≥digo, tambi√©n se convertir√° en una deuda t√©cnica. <br><br>  Su c√≥digo est√° en un estado "Puro" si todos los miembros de su equipo pueden entenderlo.  Cualquier desarrollador que no sea el autor original puede leer y mejorar el c√≥digo limpio.  Con la comprensi√≥n viene la legibilidad, mutabilidad, extensibilidad y mantenibilidad. <br><br><h3>  ¬øDebo ocuparme de esto? </h3><br>  La raz√≥n por la que deber√≠a preocuparse por la limpieza de su c√≥digo es porque describe sus pensamientos a otros desarrolladores.  Es por eso que debe tener cuidado de que su c√≥digo sea m√°s elegante, simple y legible. <br><br><h3>  Se√±ales de c√≥digo limpio </h3><br><ul><li>  Tu c√≥digo debe ser elegante: tu c√≥digo debe hacerte sonre√≠r como una caja de m√∫sica bien hecha o un autom√≥vil bien dise√±ado </li><li>  Su c√≥digo debe estar enfocado: cada funci√≥n, cada clase, cada m√≥dulo implementa una tarea, que permanece completamente no distra√≠da y no contaminada por los detalles circundantes. </li><li>  El c√≥digo no contiene duplicados </li><li>  Pase todas las pruebas con √©xito </li><li>  Minimiz√≥ el n√∫mero de entidades, m√©todos, clases, etc. </li></ul><br><blockquote>  La diferencia entre un buen programador y un profesional es que un programador profesional comprende que la comprensi√≥n del c√≥digo es primordial.  Un profesional usa este poder para escribir c√≥digo que todos entienden - Robert C. Martin </blockquote><h3>  Escribe los nombres conscientes </h3><br>  Elegir un buen nombre puede llevar mucho tiempo, pero luego ahorrar√° m√°s.  El nombre de una variable, funci√≥n, clase deber√≠a responder a todas las preguntas importantes.  Deber√≠a decirle por qu√© existe, por qu√© es necesario y c√≥mo usarlo.  Si el nombre requiere comentario, el nombre no revela su prop√≥sito <br><br>  Ejemplo simple <br><br><pre><code class="kotlin hljs"><span class="hljs-comment"><span class="hljs-comment">// Bad variables naming var a = 0 // user ages var w = 0 // user weight var h = 0 // user height // Bad functions naming fun age() fun weight() fun height() // Bad classes naming to get user data class UserInfo() // Best practices varibales naming var userAge = 0 var userWeight = 0 var userHeight = 0 // Best practices functions naming fun setUserAge() fun setUserWeight() fun setUserHeight() // Best practices classes naming to get user data class Users()</span></span></code> </pre> <br><h3>  Nombres de clase </h3><br>  Las clases y los objetos deben ser sustantivos, como Custom, WikiPage, Account y AddressParser.  Evite palabras como Administrador, Procesador, Datos o Informaci√≥n.  Tambi√©n recuerde que el nombre de la clase no debe ser un verbo. <br><br><h3>  Nombres de m√©todos </h3><br>  Los nombres de los m√©todos deben ser verbos, por ejemplo postPayment, deletePage o save.  Modificadores de acceso, los predicados deben nombrarse por su valor y con el prefijo get, set y de acuerdo con el est√°ndar JavaBean. <br><br>  Antes de continuar, tome un breve descanso, abastecerse de caf√© y galletas. <br><br><img src="https://habrastorage.org/webt/y3/v6/mq/y3v6mquhag8gv1eacnkv96tcdge.gif"><br><br>  Bien, ahora pasemos a los principios S√ìLIDOS. <br><br><h3>  Escribir c√≥digo que se adhiera a los principios de SOLID </h3><br>  Estos principios fueron desarrollados por el t√≠o Bob, SOLID es una abreviatura que describe un conjunto de principios dise√±ados para escribir un buen c√≥digo. <br><br><h3>  Principio de responsabilidad √∫nica (S) </h3><br>  Esto significa que cada clase debe tener una sola responsabilidad.  Nunca debe haber m√°s de una raz√≥n para cambiar una clase.  No es necesario agregar todo a tu clase, simplemente porque puedes hacerlo.  Divide las clases grandes en clases m√°s peque√±as y evita las clases de Dios. <br><br>  Un ejemplo: <br><br>  Tenemos un RecyclerView.Adapter con l√≥gica de negocios dentro de onBindViewHolder <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyAdapter</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> friendList: List&lt;FriendListData.Friend&gt;) : RecyclerView.Adapter&lt;CountryAdapter.MyViewHolder&gt;() { <span class="hljs-keyword"><span class="hljs-keyword">inner</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyViewHolder</span></span></span></span>(view: View) : RecyclerView.ViewHolder(view) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name: TextView = view.findViewById(R.id.text1) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> popText: TextView = view.findViewById(R.id.text2) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(holder: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">MyViewHolder</span></span></span></span><span class="hljs-function"><span class="hljs-params">, position: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> friend = friendList[position] <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> status = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(friend.maritalStatus == <span class="hljs-string"><span class="hljs-string">"Married"</span></span>) { <span class="hljs-string"><span class="hljs-string">"Sold out"</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-string"><span class="hljs-string">"Available"</span></span> } holder.name.text = friend.name holder.popText.text = friend.email holder.status.text = status } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItemCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> friendList.size } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parent: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ViewGroup</span></span></span></span><span class="hljs-function"><span class="hljs-params">, viewType: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: MyViewHolder { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> view = LayoutInflater.from(parent.context).inflate(R.layout.item_friendlist, parent, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MyViewHolder(view) } }</code> </pre> <br>  Esto hace que RecyclerView.Adapter no sea el √∫nico responsable porque contiene l√≥gica de negocios dentro de onBindViewHolder.  Este m√©todo solo es responsable de insertar datos en la vista. <br><br><h3>  El principio de apertura / cierre (O) </h3><br>  Las entidades de software deben estar abiertas para expansi√≥n, pero cerradas para modificaci√≥n.  Esto significa que si est√° desarrollando la clase A y sus colegas querr√°n cambiar la funci√≥n dentro de esta clase.  Pueden hacerlo f√°cilmente expandiendo esta clase sin cambiar la clase misma. <br>  Un ejemplo simple es la clase RecyclerView.Adapter.  Puede expandirlo f√°cilmente y crear su propio adaptador con un comportamiento no est√°ndar sin modificar el RecyclerView.Adapter. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendListAdapter</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> friendList: List&lt;FriendListData.Friend&gt;) : RecyclerView.Adapter&lt;CountryAdapter.MyViewHolder&gt;() { <span class="hljs-keyword"><span class="hljs-keyword">inner</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyViewHolder</span></span></span></span>(view: View) : RecyclerView.ViewHolder(view) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name: TextView = view.findViewById(R.id.text1) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> popText: TextView = view.findViewById(R.id.text2) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(holder: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">MyViewHolder</span></span></span></span><span class="hljs-function"><span class="hljs-params">, position: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> friend = friendList[position] holder.name.text = friend.name holder.popText.text = friend.email } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItemCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> friendList.size } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parent: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ViewGroup</span></span></span></span><span class="hljs-function"><span class="hljs-params">, viewType: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: MyViewHolder { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> view = LayoutInflater.from(parent.context).inflate(R.layout.item_friendlist, parent, <span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MyViewHolder(view) } }</code> </pre> <br><h3>  El principio de sustituci√≥n de Barbara Lisk (L) </h3><br>  La clase secundaria debe complementar al padre y no cambiarlo.  Esto significa que la subclase debe anular los m√©todos principales que no violan la funcionalidad de esta clase principal.  Por ejemplo, creamos una interfaz de clase que tiene un oyente onClick () y luego aplica el oyente en MyActivity y le da una acci√≥n Toast cuando se llama a onClick (). <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClickListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyActivity</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>(), ClickListener { <span class="hljs-comment"><span class="hljs-comment">//........ override fun onClick() { // Do the magic here toast("OK button clicked") } }</span></span></code> </pre> <br><h3>  Principio de separaci√≥n de interfaz </h3><br>  Este principio establece que el cliente no debe depender de m√©todos que no utiliza. <br>  Esto significa que si desea escribir la clase A y agregarle la funcionalidad de otra clase B. No es necesario redefinir todas las clases A dentro de la clase B. <br><br>  Ejemplo: en nuestra actividad, necesitamos implementar SearchView.OnQueryTextListener (), pero solo necesitamos el m√©todo onQuerySubmit (). <br><br><pre> <code class="kotlin hljs">mSearchView.setOnQueryTextListener(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : SearchView.OnQueryTextListener{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextSubmit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Only need this method return true } override fun onQueryTextChange(query: String?): Boolean { // We don't need to implement this method return false } })</span></span></code> </pre> <br>  ¬øC√≥mo hacemos esto?  F√°cil!  Simplemente cree una devoluci√≥n de llamada y una clase que extienda SearchView.OnQueryTextListener () <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchViewQueryTextCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextSubmit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchViewQueryTextListener</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> callback: SearchViewQueryTextCallback): SearchView.OnQueryTextListener { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextSubmit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> { callback.onQueryTextSubmit(query) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }</code> </pre> <br>  Y as√≠ lo agregamos a nuestra vista <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> listener = SearchViewQueryTextListener( <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : SearchViewQueryTextCallback { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextSubmit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// Do the magic here } } ) mSearchView.setOnQueryTextListener(listener)</span></span></code> </pre> <br>  O as√≠ usando la funci√≥n de extensi√≥n en Kotlin <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchViewQueryTextCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextSubmit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> SearchView.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupQueryTextSubmit</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(callback: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">SearchViewQueryTextCallback</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { setOnQueryTextListener(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : SearchView.OnQueryTextListener{ <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextSubmit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> { callback.onQueryTextSubmit(query) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span> } }) }</code> </pre> <br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> listener = <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : SearchViewQueryTextCallback { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onQueryTextSubmit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(query: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// Do the magic here } } mSearchView.setupQueryTextSubmit(listener)</span></span></code> </pre> <br><h3>  Principio de inversi√≥n de dependencia </h3><br>  Dependencia de abstracciones, sin dependencia de algo espec√≠fico. <br>  La definici√≥n de inversi√≥n de dependencia del t√≠o Bob consta de dos conceptos. <br><br>  Los m√≥dulos de nivel superior no deben depender de los m√≥dulos de nivel inferior.  Ambos deben estar vinculados a las abstracciones.  Las abstracciones no deber√≠an depender de los detalles.  Los detalles deben depender de las abstracciones.  Los m√≥dulos de alto nivel que implementan una l√≥gica compleja deber√≠an ser f√°cilmente reutilizables sin cambios en los m√≥dulos de nivel inferior.  Para hacer esto, debe ingresar una abstracci√≥n que separe los m√≥dulos de los niveles superior e inferior entre s√≠. <br><br>  Un ejemplo simple de este patr√≥n MVP.  Tiene un objeto de interfaz que lo ayuda a comunicarse con clases espec√≠ficas.  Qu√© se entiende: las clases de IU (Actividad / Fragmento) no necesitan conocer la implementaci√≥n real de los m√©todos del presentador.  Por lo tanto, si realiza cambios dentro del presentador, las clases de IU no tienen que preocuparse por estos cambios. <br><br>  Veamos un ejemplo. <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserActionListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserPresenter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">UserActionListener</span></span></span></span>() { <span class="hljs-comment"><span class="hljs-comment">// ..... override fun getUserData() { val userLoginData = gson.fromJson(session.getUserLogin(), DataLogin::class.java) } // ..... }</span></span></code> </pre> <br>  Y ahora en la actividad <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AppCompatActivity</span></span></span></span>() { <span class="hljs-comment"><span class="hljs-comment">//..... val presenter = UserPresenter() override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) // Activity doesn't need to know how presenter works // for fetching data, it just know how to call the functions // So, if you add method inside presenter, it won't break the UI. // even the UI doesn't call the method. presenter.getUserData() } //.... }</span></span></code> </pre> <br>  De esta manera, creamos una interfaz que abstrae la implementaci√≥n del presentador, y nuestra clase de vista mantiene una referencia a PresenterInterface. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443662/">https://habr.com/ru/post/443662/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443652/index.html">Todos los d√≠as en Outlook solo tengo harina ...</a></li>
<li><a href="../443654/index.html">Siguiendo el rastro de las calculadoras: calcular</a></li>
<li><a href="../443656/index.html">Siguiendo los pasos de las calculadoras: calcular</a></li>
<li><a href="../443658/index.html">Configuraci√≥n del cl√∫ster de Kubernetes HA en bare metal, monitoreo, registros y ejemplos de uso. Parte 3/3</a></li>
<li><a href="../443660/index.html">Expertos: "Un esc√°ner 3D costar√° 10 veces m√°s barato que un error con el control de calidad tradicional"</a></li>
<li><a href="../443664/index.html">Estaci√≥n Meteorol√≥gica Arduino</a></li>
<li><a href="../443666/index.html">Nuestro enfoque para colorear hilos</a></li>
<li><a href="../443668/index.html">Volver a los microservicios con Istio. Parte 3</a></li>
<li><a href="../443670/index.html">Error en la nueva versi√≥n de Google Chrome (73.0.3683.75)</a></li>
<li><a href="../443672/index.html">Pruebas basadas en riesgo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>