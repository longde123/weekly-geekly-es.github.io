<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗿 👉 👈🏼 Data Science-Projekt von der Forschung bis zur Implementierung am Beispiel von Talking Hat ⛹️ 🧑🏿‍🤝‍🧑🏼 🕣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor einem Monat startete Lenta einen Wettbewerb, bei dem der gleiche Talking Hat von Harry Potter Teilnehmer identifiziert, die Zugang zu dem sozialen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Data Science-Projekt von der Forschung bis zur Implementierung am Beispiel von Talking Hat</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ods/blog/430006/"><p><img src="https://habrastorage.org/webt/4h/il/lk/4hillkjrgatenqqix3nypmyn8vm.png"></p><br><p>  Vor einem Monat startete Lenta einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wettbewerb,</a> bei dem der gleiche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Talking Hat</a> von Harry Potter Teilnehmer identifiziert, die Zugang zu dem sozialen Netzwerk einer von vier Fakultäten haben.  Die Konkurrenz ist nicht schlecht, die Namen, die unterschiedlich klingen, werden von verschiedenen Fakultäten bestimmt, und ähnliche englische und russische Vor- und Nachnamen werden auf ähnliche Weise verteilt.  Ich weiß nicht, ob die Verteilung nur von den Vor- und Nachnamen abhängt und ob die Anzahl der Freunde oder andere Faktoren irgendwie berücksichtigt werden, aber dieser Wettbewerb schlug die Idee dieses Artikels vor: Versuchen Sie, einen Klassifikator von Grund auf neu zu trainieren, damit Benutzer auf verschiedene Fakultäten verteilt werden können. </p><a name="habracut"></a><br><p>  In diesem Artikel werden wir ein einfaches ML-Modell erstellen, das Personen je nach Vor- und Nachnamen an die Abteilungen von Harry Potter verteilt, nachdem sie einen kleinen Forschungsprozess nach der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CRISP-</a> Methodik durchlaufen haben.  Nämlich wir: </p><br><ul><li>  Wir formulieren das Problem; </li><li>  Wir untersuchen mögliche Lösungsansätze und formulieren Datenanforderungen (Lösungsmethoden und Daten); </li><li>  Wir werden die notwendigen Daten (Lösungsmethoden und Daten) sammeln; </li><li>  Wir werden den gesammelten Datensatz untersuchen (Exploratory Research); </li><li>  Features aus Rohdaten extrahieren (Feature Engineering); </li><li>  Lassen Sie uns ein Modell des maschinellen Lernens lehren (Modellbewertung); </li><li>  Vergleichen Sie die erzielten Ergebnisse, bewerten Sie die Qualität der Lösungen und wiederholen Sie gegebenenfalls die Absätze 2-6. </li><li>  Wir verpacken die Lösung in einen Service, der genutzt werden kann (Produktion). </li></ul><br><p><img src="https://habrastorage.org/webt/6l/pf/oa/6lpfoa17u8pxjkf7wke7pm19-h0.png"></p><br><p>  Diese Aufgabe mag trivial erscheinen, daher werden wir den gesamten Prozess (so dass es weniger als 2 Stunden dauert) und diesen Artikel (so dass seine Lesezeit weniger als 15 Minuten beträgt) zusätzlich einschränken. </p><br><p>  Wenn Sie bereits in die wunderschöne und wunderbare Welt der Datenwissenschaft eingetaucht sind und Kagglite nicht ständig sehen oder (Gott bewahre) die Länge Ihres Hadup bei Besprechungen mit Kollegen messen möchten, erscheint Ihnen der Artikel höchstwahrscheinlich einfach und uninteressant.  Darüber hinaus: Die Qualität der endgültigen Modelle ist nicht der Hauptwert dieses Artikels.  Wir haben dich gewarnt.  Lass uns gehen. </p><br><p>  Ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github-Repository</a> mit dem im Artikel verwendeten Code steht auch neugierigen Lesern zur Verfügung.  Im Fehlerfall öffnen Sie bitte PR. </p><br><h2 id="formuliruem-zadachu">  Wir formulieren das Problem </h2><br><p>  Es ist möglich, ein Problem zu lösen, für das es unendlich lange keine klaren Entscheidungskriterien gibt. Daher werden wir sofort entscheiden, ob wir eine Lösung suchen, mit der wir die Antwort "Gryffindor", "Ravenclaw", "Hufflepuff" oder "Slytherin" als Antwort auf die eingegebene Zeile erhalten. </p><br><p>  Tatsächlich wollen wir eine Black Box bekommen: </p><br><pre><code class="plaintext hljs">" " =&gt; [?] =&gt; Griffindor</code> </pre> <br><p>  Der ursprüngliche schwarze Hut verteilte junge Zauberer je nach Art und persönlichen Qualitäten an Abteilungen.  Da uns keine Daten über den Charakter und die Persönlichkeit gemäß den Bedingungen des Problems zur Verfügung stehen, verwenden wir den Vor- und Nachnamen des Teilnehmers, wobei wir uns daran erinnern, dass wir in diesem Fall die Charaktere des Buches an diejenigen Fakultäten verteilen sollten, die ihren einheimischen Fähigkeiten aus dem Buch entsprechen.  Und die Potteromanen wären definitiv verärgert, wenn unsere Entscheidung Harry an Hufflepuff oder Ravenclaw verteilen würde (aber es sollte Harry mit gleicher Wahrscheinlichkeit zu Gryffindor und Slytherin schicken, um den Geist des Buches zu vermitteln). </p><br><p>  Da es sich um Wahrscheinlichkeiten handelt, formalisieren wir das Problem in strengeren mathematischen Begriffen.  Aus Sicht von Data Science lösen wir das Klassifizierungsproblem, indem wir einem Objekt (Linie in Form eines Vor- und Nachnamens) eine bestimmte Klasse zuweisen (tatsächlich handelt es sich nur um eine Bezeichnung oder Bezeichnung, bei der es sich um eine Zahl oder 4 Variablen mit einem Ja / Nein-Wert handeln kann )  Wir verstehen, dass es zumindest im Fall von Harry richtig ist, zwei Antworten zu geben: Gryffindor und Slytherin. Es ist daher besser, nicht die spezifische Fakultät vorherzusagen, die der Hut definiert, sondern die Wahrscheinlichkeit, dass eine Person dieser Fakultät zugeordnet wird, damit unsere Entscheidung getroffen wird eine Art Funktion </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;&amp;lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;</mo><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>g</mi><mi>r</mi><mi>i</mi><mi>f</mi><mi>f</mi><mi>i</mi><mi>n</mi><mi>d</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>r</mi><mi>a</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>l</mi><mi>a</mi><mi>w</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>h</mi><mi>u</mi><mi>f</mi><mi>f</mi><mi>l</mi><mi>p</mi><mi>u</mi><mi>f</mi><mi>f</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>i</mi><mi>n</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="70.102ex" height="2.78ex" viewBox="0 -832 30182.9 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3C" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4E" x="1996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="2884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6D" x="3414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="4292" y="0"></use><g transform="translate(5037,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3C" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4E" x="6871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="7760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6D" x="8289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="9168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3E" x="9912" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-29" x="10691" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3D" x="11358" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-28" x="12414" y="0"></use><g transform="translate(12804,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-72" x="480" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-69" x="932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="1277" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="1827" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-69" x="2378" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="2724" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-64" x="3324" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6F" x="3848" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-72" x="4333" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3B" x="16930" y="0"></use><g transform="translate(17375,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="451" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-76" x="981" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="1466" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="1932" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-63" x="2533" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6C" x="2967" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="3265" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-77" x="3795" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3B" x="21307" y="0"></use><g transform="translate(21753,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-68" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-75" x="576" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="1149" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="1699" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6C" x="2250" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-70" x="2548" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-75" x="3052" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="3624" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="4175" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3B" x="25837" y="0"></use><g transform="translate(26282,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-73" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6C" x="469" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-69" x="768" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-74" x="1113" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-68" x="1475" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="2051" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-72" x="2518" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-69" x="2969" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="3315" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-29" x="29793" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>f</mi><mo stretchy="false">(</mo><mo>&lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;&lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;</mo><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>g</mi><mi>r</mi><mi>i</mi><mi>f</mi><mi>f</mi><mi>i</mi><mi>n</mi><mi>d</mi><mi>o</mi><mi>r</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>r</mi><mi>a</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>c</mi><mi>l</mi><mi>a</mi><mi>w</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>h</mi><mi>u</mi><mi>f</mi><mi>f</mi><mi>l</mi><mi>p</mi><mi>u</mi><mi>f</mi><mi>f</mi></mrow></msub><mo>;</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>s</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>i</mi><mi>n</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> f (<Name> <Name>) = (P_ {griffindor}; P_ {ravenclaw}; P_ {hufflpuff}; P_ {slitherin}) </script></p><br><h3 id="metriki-i-ocenka-kachestva">  Metriken und Qualitätsbewertung </h3><br><p>  Die Aufgabe und das Ziel sind formuliert, <del>  Jetzt werden wir überlegen, wie wir es lösen können </del>  aber das ist noch nicht alles  Um die Studie zu starten, müssen Sie Qualitätsmetriken eingeben.  Mit anderen Worten, um zu bestimmen, wie wir zwei verschiedene Lösungen untereinander vergleichen. </p><br><p>  Alles im Leben ist gut und einfach - wir verstehen intuitiv, dass ein Spam-Detektor ein Minimum an Spam an eingehende Nachrichten sowie ein Maximum an erforderlichen Briefen weiterleiten muss und auf keinen Fall die erforderlichen Briefe an Spam senden sollte. </p><br><p>  In Wirklichkeit ist alles komplizierter und die Bestätigung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dafür ist eine</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">große</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anzahl von</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikeln</a> , die erklären, wie und welche Metriken verwendet werden.  Übung hilft, dies am besten zu verstehen, aber dies ist ein so umfangreiches Thema, dass wir versprechen, einen separaten Beitrag darüber zu schreiben und einen offenen Tisch zu erstellen, damit jeder herumspielen und in der Praxis verstehen kann, wie sich dies unterscheidet. </p><br><p>  Der Haushalt "aber wählen wir das Beste" für uns wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ROC AUC sein</a> .  Dies ist genau das, was wir in diesem Fall von der Metrik erwarten: Je weniger Fehlalarme und je genauer die tatsächliche Vorhersage ist, desto größer ist die ROC-AUC. </p><br><p>  Für ein ideales ROC-Modell ist AUC 1, für ein ideales Zufallsmodell, das Klassen <em>absolut zufällig</em> definiert - 0,5. </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>R</mi><mi>O</mi><mi>C</mi><mtext>&amp;#xA0;</mtext><mi>A</mi><mi>U</mi><mi>C</mi><mtext>&amp;#xA0;</mtext><mi>i</mi><mi>n</mi><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>5</mn><mo>;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.803ex" height="2.66ex" viewBox="0 -832 8956.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4F" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-43" x="1523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-41" x="2533" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-55" x="3284" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-43" x="4051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-69" x="5062" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="5407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-5B" x="6008" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-30" x="6286" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-2C" x="6787" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-35" x="7232" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3B" x="7732" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-31" x="8177" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-5D" x="8678" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>R</mi><mi>O</mi><mi>C</mi><mtext>&nbsp;</mtext><mi>A</mi><mi>U</mi><mi>C</mi><mtext>&nbsp;</mtext><mi>i</mi><mi>n</mi><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mn>5</mn><mo>;</mo><mn>1</mn><mo stretchy="false">]</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> ROC \ AUC \ in [0,5; 1] </script></p><br><h2 id="algoritmy">  Algorithmen </h2><br><p>  Unsere Black Box sollte die Verteilung der Helden der Bücher berücksichtigen, einen anderen Vor- und Nachnamen als Eingabe verwenden und das Ergebnis angeben.  Um das Klassifizierungsproblem zu lösen, können Sie verschiedene Algorithmen für maschinelles Lernen verwenden: </p><br><p>  Neuronale Netze, Faktorisierungsmaschinen, lineare Regression oder beispielsweise SVM. </p><br><p>  Entgegen der landläufigen Meinung beschränkt sich Data Science nicht nur auf neuronale Netze. Um diese Idee bekannt zu machen, werden neuronale Netze in diesem Artikel <em>als Übung für einen neugierigen Leser</em> belassen.  Diejenigen, die keinen einzigen Kurs in Datenanalyse belegt haben (insbesondere den subjektiv <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">besseren</a> aus dem ODS) oder einfach <em>n</em> Nachrichten über maschinelles Lernen oder KI gelesen haben, die jetzt sogar in den Amateurfischermagazinen veröffentlicht werden, müssen die Namen allgemeiner Gruppen von Algorithmen getroffen haben : Absacken, Boosten, Support Vector Method (SVM), lineare Regression.  Mit ihnen werden wir unser Problem lösen. </p><br><p>  Und um genauer zu sein, vergleichen wir: </p><br><ul><li>  Lineare Regression </li><li>  Boosting (XGboost, LightGBM) </li><li>  Bäume entscheiden (genau genommen ist dies der gleiche Schub, aber wir werden ihn separat herausnehmen: Extra Bäume) </li><li>  Absacken (Random Forest) </li><li>  SVM </li></ul><br><p>  Wir können das Problem der Verteilung jedes Hogwarts-Schülers auf eine der Fakultäten lösen, indem wir die ihm entsprechende Fakultät definieren. Genau genommen besteht diese Aufgabe darin, das Problem der Bestimmung zu lösen, ob jede Klasse einzeln gehört.  Daher haben wir uns im Rahmen dieses Artikels das Ziel gesetzt, 4 Modelle zu erhalten, eines für jede Fakultät. </p><br><h2 id="dannye">  Daten </h2><br><p>  Das Finden des richtigen Datensatzes für die Schulung und vor allem der legalen Verwendung für den richtigen Zweck ist eine der komplexesten und zeitaufwändigsten Aufgaben in Data Science.  Für unsere Aufgabe werden wir die Daten von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wikia aus</a> der ganzen Welt von Harry Potter übernehmen.  Unter diesem Link finden Sie beispielsweise alle Charaktere, die an der Fakultät von Gryffindor studiert haben.  Es ist wichtig, dass wir in diesem Fall die Daten für nichtkommerzielle Zwecke verwenden, daher verletzen wir nicht die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lizenz</a> dieser Website. </p><br><p><img src="https://habrastorage.org/webt/ff/f8/4e/fff84efaafg_yqwbhuhbfyz17k0.jpeg"></p><br><p>  Für diejenigen, die Data Scientists für so coole Typen halten, gehe ich zu Data Scientists und lasse mich unterrichten. Wir erinnern Sie daran, dass es einen Schritt wie das Bereinigen und Vorbereiten von Daten gibt.  Heruntergeladene Daten müssen manuell moderiert werden, um beispielsweise "Der siebte Präfekt von Gryffindor" und das "Unbekannte Mädchen aus Gryffindor" halbautomatisch zu löschen.  In der realen Arbeit ist ein proportional großer Teil der Aufgabe immer mit der Vorbereitung, Reinigung und Wiederherstellung fehlender Werte im Datensatz verbunden. </p><br><p>  Ein wenig Strg + C &amp; Strg + V und am Ausgang erhalten wir 4 Textdateien, die die Namen der Zeichen in 2 Sprachen enthalten: Englisch und Russisch. </p><br><h2 id="izuchaem-sobrannye-dannye--eda-exploratory-data-analysis">  Wir untersuchen die gesammelten Daten (EDA, Exploratory Data Analysis) </h2><br><p>  Für diese Phase haben wir 4 Dateien mit den Namen der Studierenden der Fakultäten, wir werden genauer hinschauen: </p><br><pre> <code class="bash hljs">$ ls ../input griffindor.txt hufflpuff.txt ravenclaw.txt slitherin.txt</code> </pre> <br><p>  Jede Datei enthält 1 Vor- und Nachnamen (falls vorhanden) des Schülers pro Zeile: </p><br><pre> <code class="bash hljs">$ wc -l ../input/*.txt 250 ../input/griffindor.txt 167 ../input/hufflpuff.txt 180 ../input/ravenclaw.txt 254 ../input/slitherin.txt 851 total</code> </pre> <br><p>  Die gesammelten Daten haben die Form: </p><br><pre> <code class="bash hljs">$ cat ../input/griffindor.txt | head -3 &amp;&amp; cat ../input/griffindor.txt | tail -3      Charlie Stainforth Melanie Stanmore Stewart</code> </pre> <br><p>  Unsere ganze Idee basiert auf der Annahme, dass die Vor- und Nachnamen etwas Ähnliches enthalten, das unsere Black Box (oder unser schwarzer Hut) unterscheiden kann. </p><br><p>  Der Algorithmus kann die Zeilen so wie sie sind füttern, aber das Ergebnis wird nicht gut sein, da die Grundmodelle nicht unabhängig verstehen können, wie sich „Draco“ von „Harry“ unterscheidet. Daher müssen wir Zeichen aus unseren Vor- und Nachnamen extrahieren. </p><br><h3 id="podgotovka-dannyh-feature-engineering">  Datenvorbereitung (Feature Engineering) </h3><br><p>  <strong>Zeichen</strong> (oder Merkmale aus dem <em>englischen</em> <strong>Merkmal</strong> - Eigenschaft) sind die unterscheidenden Eigenschaften eines Objekts.  Die Häufigkeit, mit der eine Person im letzten Jahr den Arbeitsplatz gewechselt hat, die Anzahl der Finger an der linken Hand, die Motorleistung des Motors, unabhängig davon, ob der Kilometerstand des Autos 100.000 km überschreitet oder nicht.  Alle Arten von Klassifikationen von Zeichen wurden von einer sehr großen Anzahl erfunden. Es gibt in dieser Hinsicht kein und kann kein einziges System geben. Wir werden daher Beispiele dafür geben, was Zeichen sein können: </p><br><ol><li>  Rationale Nummer </li><li>  Kategorie (bis zu 12, 12-18 oder 18+) </li><li>  Binärwert (Erstes Darlehen zurückgegeben oder nicht) </li><li>  Datum, Farbe, Anteile usw. </li></ol><br><p>  <strong>Die Suche</strong> (oder Bildung) von <strong>Features</strong> (im <em>englischen</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Feature Engineering</a> ) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">fällt</a> sehr oft als separate Forschungsphase oder als Arbeit eines Datenanalysespezialisten auf.  In der Tat helfen gesunder Menschenverstand, Erfahrung und Hypothesentests im Prozess selbst.  Das richtige Erraten der richtigen Zeichen ist eine Frage der Kombination von voller Hand, grundlegendem Wissen und Glück.  Manchmal steckt Schamanismus darin, aber der allgemeine Ansatz ist sehr einfach: Sie müssen das tun, was Ihnen in den Sinn kommt, und dann prüfen, ob es möglich war, die Lösung durch Hinzufügen eines neuen Attributs zu verbessern.  Als Zeichen für unsere Aufgabe können wir beispielsweise die Anzahl der Brutzeln im Namen nehmen. </p><br><p>  In der ersten Version (da die eigentliche Data Science-Studie - als Meisterwerk niemals abgeschlossen werden kann) unseres Modells werden wir die folgenden Funktionen für den Vor- und Nachnamen verwenden: </p><br><ol><li>  1 und der letzte Buchstabe des Wortes - Vokal oder Konsonant </li><li>  Doppelvokale und Konsonanten </li><li>  Anzahl der Vokale, Konsonanten, taub, stimmhaft </li><li>  Namenslänge, Nachnamenlänge </li><li>  ... </li></ol><br><p>  Dazu nehmen wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Repository als Grundlage und fügen eine Klasse hinzu, damit es für lateinische Buchstaben verwendet werden kann.  Dies gibt uns die Möglichkeit zu bestimmen, wie jeder Buchstabe klingt. </p><br><pre> <code class="python hljs">&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Phonetic <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RussianLetter, EnglishLetter &gt;&gt; RussianLetter(<span class="hljs-string"><span class="hljs-string">''</span></span>).classify() {<span class="hljs-string"><span class="hljs-string">'consonant'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'deaf'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'mark'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'paired'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'shock'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'sonorus'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>} &gt;&gt; EnglishLetter(<span class="hljs-string"><span class="hljs-string">'d'</span></span>).classify() {<span class="hljs-string"><span class="hljs-string">'consonant'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'deaf'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'mark'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'paired'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'shock'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, <span class="hljs-string"><span class="hljs-string">'sonorus'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">False</span></span>}</code> </pre> <br><p>  Jetzt können wir einfache Funktionen zur Berechnung von Statistiken definieren, zum Beispiel: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">starts_with_letter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(word, letter_type=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'vowel'</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""   ,    . :param word:  :param letter_type: 'vowel'  'consonant'.   . :return: Boolean """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(word) == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Letter(word[<span class="hljs-number"><span class="hljs-number">0</span></span>]).classify()[letter_type] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">count_letter_type</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(word)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""       . :param word:  :param debug:    :return: :obj:`dict` of :obj:`str` =&gt; :int:count """</span></span> count = { <span class="hljs-string"><span class="hljs-string">'consonant'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'deaf'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'mark'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'paired'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'shock'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'sonorus'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> letter <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> word: classes = Letter(letter).classify() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> count.keys(): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> classes[key]: count[key] += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> count</code> </pre> <br><p>  Mit diesen Funktionen können wir bereits die ersten Anzeichen erhalten: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> feature_engineering <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * &gt;&gt; print(<span class="hljs-string"><span class="hljs-string">"  («»): "</span></span>, len(<span class="hljs-string"><span class="hljs-string">""</span></span>))   («»): <span class="hljs-number"><span class="hljs-number">5</span></span> &gt;&gt; print(<span class="hljs-string"><span class="hljs-string">" («»)   : "</span></span>, starts_with_letter(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'vowel'</span></span>))  («»)   : <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> &gt;&gt; print(<span class="hljs-string"><span class="hljs-string">" («»)   : "</span></span>, starts_with_letter(<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'consonant'</span></span>))  («»)   : <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt; count_Harry = count_letter_type(<span class="hljs-string"><span class="hljs-string">""</span></span>) &gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"     («»): "</span></span>, count_Harry[<span class="hljs-string"><span class="hljs-string">'paired'</span></span>])      («»): <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  Genau genommen können wir mit Hilfe dieser Funktionen eine Vektordarstellung des Strings erhalten, dh wir erhalten das Mapping: </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mo>&amp;lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;&amp;lt;</mo><mi>N</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&amp;gt;</mo><mo stretchy=&quot;false&quot;>)</mo><mo>=&amp;gt;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>L</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE4;</mo></mrow><mi>n</mi><mi>g</mi><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>,</mo><mi>L</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xE4;</mo></mrow><mi>n</mi><mi>g</mi><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>,</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>,</mo><mi>A</mi><mi>n</mi><mi>z</mi><mi>a</mi><mi>h</mi><mi>l</mi><mi>d</mi><mi>e</mi><mi>r</mi><msub><mtext>&amp;#xA0;</mtext><mi>V</mi></msub><mi>o</mi><mi>k</mi><mi>a</mi><mi>l</mi><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="95.505ex" height="2.66ex" viewBox="0 -832 41119.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3C" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4E" x="1996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="2884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6D" x="3414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="4292" y="0"></use><g transform="translate(5037,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3E"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3C" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4E" x="6871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="7760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-63" x="8289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-68" x="8723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="9299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="9900" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6D" x="10429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="11308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3E" x="12052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-29" x="12831" y="0"></use><g transform="translate(13498,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-3E" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-28" x="15333" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4C" x="15722" y="0"></use><g transform="translate(16404,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ä</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="16819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-67" x="17419" y="0"></use><g transform="translate(17900,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6D" x="1418" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="2296" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-2C" x="20420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4C" x="20865" y="0"></use><g transform="translate(21547,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ä</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="21962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-67" x="22562" y="0"></use><g transform="translate(23043,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-63" x="1418" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-68" x="1851" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="2428" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="3028" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6D" x="3558" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="4436" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-2C" x="27076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-2E" x="27521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-2E" x="27966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-2E" x="28411" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-2C" x="28857" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-41" x="29302" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="30052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-7A" x="30653" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="31121" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-68" x="31651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6C" x="32227" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-64" x="32526" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="33049" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-72" x="33516" y="0"></use><g transform="translate(33967,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-56" x="353" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6F" x="34861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6B" x="35347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="35868" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6C" x="36398" y="0"></use><g transform="translate(36696,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="888" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-63" x="1418" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-68" x="1851" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6E" x="2428" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-61" x="3028" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-6D" x="3558" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMATHI-65" x="4436" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/company/ods/blog/430006/&amp;usg=ALkJrhiaHuccWqluxcfRjoJBy9m4rEnVCQ#MJMAIN-29" x="40730" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>f</mi><mo stretchy="false">(</mo><mo>&lt;</mo><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;&lt;</mo><mi>N</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi><mo>&gt;</mo><mo stretchy="false">)</mo><mo>=&gt;</mo><mo stretchy="false">(</mo><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mo>ä</mo></mrow><mi>n</mi><mi>g</mi><msub><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>,</mo><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mo>ä</mo></mrow><mi>n</mi><mi>g</mi><msub><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>,</mo><mo>.</mo><mo>.</mo><mo>.</mo><mo>,</mo><mi>A</mi><mi>n</mi><mi>z</mi><mi>a</mi><mi>h</mi><mi>l</mi><mi>d</mi><mi>e</mi><mi>r</mi><msub><mtext>&nbsp;</mtext><mi>V</mi></msub><mi>o</mi><mi>k</mi><mi>a</mi><mi>l</mi><msub><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mi>N</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>n</mi><mi>a</mi><mi>m</mi><mi>e</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> f (<Name> <Nachname>) => (Länge_ {Name}, Länge_ {Nachname}, ..., Anzahl der \ _Vokale_ {Nachname}) </script></p><br><p>  Jetzt können wir unsere Daten in Form eines Datensatzes präsentieren, der in den Algorithmus für maschinelles Lernen eingegeben werden kann: </p><br><pre> <code class="python hljs">&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> data_loaders <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> load_processed_data &gt;&gt; hogwarts_df = load_processed_data() &gt;&gt; hogwarts_df.head()</code> </pre> <br><p><img src="https://habrastorage.org/webt/5-/-e/4g/5--e4gvhmdhe00fxjhwqnxzdajk.png"></p><br><p>  Darüber hinaus erhalten wir für jeden Schüler die folgenden Symptome: </p><br><pre> <code class="python hljs">&gt;&gt; hogwarts_df[hogwarts_df.columns].dtypes</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Zeichen erhalten</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">name object surname object is_english bool name_starts_with_vowel bool name_starts_with_consonant bool name_ends_with_vowel bool name_ends_with_consonant bool name_length int64 name_vowels_count int64 name_double_vowels_count int64 name_consonant_count int64 name_double_consonant_count int64 name_paired_count int64 name_deaf_count int64 name_sonorus_count int64 surname_starts_with_vowel bool surname_starts_with_consonant bool surname_ends_with_vowel bool surname_ends_with_consonant bool surname_length int64 surname_vowels_count int64 surname_double_vowels_count int64 surname_consonant_count int64 surname_double_consonant_count int64 surname_paired_count int64 surname_deaf_count int64 surname_sonorus_count int64 is_griffindor int64 is_hufflpuff int64 is_ravenclaw int64 is_slitherin int64 dtype: object</code> </pre> </div></div><br><p>  Die letzten 4 Spalten sind zielgerichtet - sie enthalten Informationen darüber, an welcher Fakultät ein Student eingeschrieben ist. </p><br><h2 id="obuchenie-algoritmov">  Algorithmus-Training </h2><br><p>  Kurz gesagt, Algorithmen werden wie Menschen trainiert: Sie machen Fehler und lernen daraus.  Um zu verstehen, wie viel sie einen Fehler gemacht haben, verwenden die Algorithmen <strong>Fehlerfunktionen</strong> (Verlustfunktionen, <em>englische</em> <strong>Verlustfunktion</strong> ). </p><br><p>  Der Lernprozess ist in der Regel sehr einfach und besteht aus mehreren Schritten: </p><br><ol><li>  Machen Sie eine Vorhersage. </li><li>  Bewerten Sie den Fehler. </li><li>  Korrigieren Sie die Modellparameter. </li><li>  Wiederholen Sie 1-3, bis das Ziel erreicht ist, der Prozess stoppt oder die Daten enden. </li><li><p>  Bewerten Sie die Qualität des resultierenden Modells. </p><br><p>  In der Praxis ist natürlich alles etwas komplizierter.  Zum Beispiel gibt es das Phänomen der <strong>Überanpassung</strong> - der Algorithmus kann sich buchstäblich merken, welche Merkmale der Antwort entsprechen, und somit das Ergebnis für Objekte verschlechtern, die denen, auf denen er trainiert wurde, nicht ähnlich sind.  Um dies zu vermeiden, gibt es verschiedene Techniken und Hacks. </p><br></li></ol><br><p>  Wie oben erwähnt, werden wir 4 Probleme lösen: eines für jede Fakultät.  Daher werden wir Daten für Slytherin vorbereiten: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  ,     - : &gt;&gt; data_full = hogwarts_df.drop( [ 'name', 'surname', 'is_griffindor', 'is_hufflpuff', 'is_ravenclaw' ], axis=1).copy() #    ,   : &gt;&gt; X_data = data_full.drop('is_slitherin', axis=1) #     ,   1    &gt;&gt; y = data_full.is_slitherin</span></span></code> </pre> <br><p>  Während des Lernens vergleicht der Algorithmus seine Ergebnisse ständig mit realen Daten, da dieser Teil des Datensatzes zur Validierung zugewiesen wird.  Die Regel des guten Tons wird auch berücksichtigt, um das Ergebnis des Algorithmus anhand einzelner Daten zu bewerten, die der Algorithmus überhaupt nicht gesehen hat.  Daher teilen wir jetzt die Stichprobe im Verhältnis 70/30 und trainieren den ersten Algorithmus: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.cross_validation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_test_split <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RandomForestClassifier <span class="hljs-comment"><span class="hljs-comment">#      &gt;&gt; seed = 7 #    &gt;&gt; test_size = 0.3 &gt;&gt; X_train, X_test, y_train, y_test = train_test_split(X_data, y, test_size=test_size, random_state=seed) &gt;&gt; rfc = RandomForestClassifier() &gt;&gt; rfc_model = rfc.fit(X_train, y_train)</span></span></code> </pre> <br><p>  Fertig.  Wenn Sie nun Daten an die Eingabe dieses Modells senden, wird ein Ergebnis erstellt.  Das macht Spaß, also werden wir zuerst prüfen, ob das Modell in Harry den Slytherin erkennt.  Bereiten Sie dazu zunächst die Funktionen vor, um die Vorhersage des Algorithmus zu erhalten: </p><br><div class="spoiler">  <b class="spoiler_title">Code anzeigen</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> data_loaders <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> parse_line_to_hogwarts_df <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_single_student_features</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""      :param name: string     :return: pd.DataFrame     """</span></span> featurized_person_df = parse_line_to_hogwarts_df(name) person_df = pd.DataFrame(featurized_person_df, columns=[ <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname'</span></span>, <span class="hljs-string"><span class="hljs-string">'is_english'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_starts_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_starts_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_ends_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_ends_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_length'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_double_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_double_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_paired_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_deaf_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'name_sonorus_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_starts_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_starts_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_ends_with_vowel'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_ends_with_consonant'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_length'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_double_vowels_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_double_consonant_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_paired_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_deaf_count'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname_sonorus_count'</span></span>, ], index=[<span class="hljs-number"><span class="hljs-number">0</span></span>] ) featurized_person = person_df.drop( [<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname'</span></span>], axis = <span class="hljs-number"><span class="hljs-number">1</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> featurized_person <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_predictions_vector</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(model, person)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    :param model:   :param person: string   :return: list    """</span></span> encoded_person = get_single_student_features(person) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> model.predict_proba(encoded_person)[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> </div></div><br><p>  Stellen wir nun einen kleinen Testdatensatz ein, um die Ergebnisse des Algorithmus zu berücksichtigen. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">score_testing_dataset</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(model)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""      . :param model:   """</span></span> testing_dataset = [ <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Kirill Malev"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Harry Potter"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>,<span class="hljs-string"><span class="hljs-string">"Severus Snape"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Tom Riddle"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Salazar Slytherin"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> testing_dataset: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">"{} — {}"</span></span>.format(name, get_predictions_vector(model, name)[<span class="hljs-number"><span class="hljs-number">1</span></span>])) score_testing_dataset(rfc_model)</code> </pre> <br><pre> <code class="plaintext hljs">  — 0.5 Kirill Malev — 0.5   — 0.0 Harry Potter — 0.0   — 0.75   — 0.9 Severus Snape — 0.5   — 0.2 Tom Riddle — 0.5   — 0.2 Salazar Slytherin — 0.3</code> </pre> <br><p>  Die Ergebnisse waren zweifelhaft.  Selbst der Gründer der Fakultät wäre nach diesem Modell nicht in seiner Fakultät.  Daher müssen Sie die strenge Qualität bewerten: Sehen Sie sich die Metriken an, die wir zu Beginn gefragt haben: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> accuracy_score, roc_auc_score, classification_report predictions = rfc_model.predict(X_test) print(<span class="hljs-string"><span class="hljs-string">"Classification report: "</span></span>) print(classification_report(y_test, predictions)) print(<span class="hljs-string"><span class="hljs-string">"Accuracy for Random Forest Model: %.2f"</span></span> % (accuracy_score(y_test, predictions) * <span class="hljs-number"><span class="hljs-number">100</span></span>)) print(<span class="hljs-string"><span class="hljs-string">"ROC AUC from first Random Forest Model: %.2f"</span></span> % (roc_auc_score(y_test, predictions)))</code> </pre> <br><pre> <code class="plaintext hljs">Classification report: precision recall f1-score support 0 0.66 0.88 0.75 168 1 0.38 0.15 0.21 89 avg / total 0.56 0.62 0.56 257 Accuracy for Random Forest Model: 62.26 ROC AUC from first Random Forest Model: 0.51</code> </pre> <br><p>  Es ist nicht überraschend, dass die Ergebnisse so zweifelhaft waren - die ROC AUC von etwa 0,51 legt nahe, dass das Modell etwas besser vorhersagt als ein Münzwurf. </p><br><h2 id="testirovanie-poluchennyh-rezultatov-metriki-kachestva">  Testen der Ergebnisse.  Qualitätsmetriken </h2><br><p>  Anhand eines obigen Beispiels haben wir uns angesehen, wie 1 Algorithmus trainiert wird, der sklearn-Schnittstellen unterstützt.  Der Rest wird genauso trainiert, so dass wir nur alle Algorithmen trainieren und jeweils den besten auswählen können. </p><br><p><img src="https://habrastorage.org/webt/ff/i0/fq/ffi0fqqs7gbi3aczbucvusrw2qi.jpeg"></p><br><p>  Dies ist nicht kompliziert, da wir für jeden Algorithmus 1 mit Standardeinstellungen trainieren und auch einen ganzen Satz trainieren, wobei verschiedene Optionen sortiert werden, die sich auf die Qualität des Algorithmus auswirken.  Diese Phase wird als Modelloptimierung oder Hyperparameteroptimierung bezeichnet und ist im Wesentlichen sehr einfach: Der Satz von Einstellungen, der das beste Ergebnis liefert, wird ausgewählt. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> model_training <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_classifiers <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> data_loaders <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> load_processed_data <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> warnings warnings.filterwarnings(<span class="hljs-string"><span class="hljs-string">'ignore'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   hogwarts_df = load_processed_data() #     data_full = hogwarts_df.drop( [ 'name', 'surname', 'is_griffindor', 'is_hufflpuff', 'is_ravenclaw' ], axis=1).copy() X_data = data_full.drop('is_slitherin', axis=1) y = data_full.is_slitherin #    slitherin_models = train_classifiers(data_full, X_data, y) score_testing_dataset(slitherin_models[5])</span></span></code> </pre> <br><pre> <code class="plaintext hljs">  — 0.09437856871661066 Kirill Malev — 0.20820536334902712   — 0.07550095601699099 Harry Potter — 0.07683794773639624   — 0.9414529336862744   — 0.9293671807790949 Severus Snape — 0.6576783576162999   — 0.18577792617672767 Tom Riddle — 0.8351835484058869   — 0.25930925139546795 Salazar Slytherin — 0.24008788903854789</code> </pre> <br><p>  Die Zahlen in dieser Version sehen subjektiv besser aus als in der Vergangenheit, sind aber für einen internen Perfektionisten immer noch nicht gut genug.  Daher werden wir eine Ebene tiefer gehen und zum Produktgefühl unserer Aufgabe zurückkehren: Wir müssen die wahrscheinlichste Fähigkeit vorhersagen, für die der Held durch den verteilenden Hut bestimmt wird.  Dies bedeutet, dass Sie Modelle für jede der Fakultäten trainieren müssen. </p><br><p><img src="https://habrastorage.org/webt/hc/ag/ci/hcagciojsjdzpglovd1xabohtym.jpeg"></p><br><pre> <code class="python hljs">&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> model_training <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_all_models <span class="hljs-comment"><span class="hljs-comment">#      &gt;&gt; slitherin_models, griffindor_models, ravenclaw_models, hufflpuff_models = \ train_all_models()</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Langer Abschluss der Ergebnisse und Ergebnisse der multinomialen Regression</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SVM Default Report Accuracy for SVM Default: 73.93 ROC AUC for SVM Default: 0.53 Tuned SVM Report Accuracy for Tuned SVM: 72.37 ROC AUC for Tuned SVM: 0.50 KNN Default Report Accuracy for KNN Default: 70.04 ROC AUC for KNN Default: 0.58 Tuned KNN Report Accuracy for Tuned KNN: 69.65 ROC AUC for Tuned KNN: 0.58 XGBoost Default Report Accuracy for XGBoost Default: 70.43 ROC AUC for XGBoost Default: 0.54 Tuned XGBoost Report Accuracy for Tuned XGBoost: 68.09 ROC AUC for Tuned XGBoost: 0.56 Random Forest Default Report Accuracy for Random Forest Default: 73.93 ROC AUC for Random Forest Default: 0.62 Tuned Random Forest Report Accuracy for Tuned Random Forest: 74.32 ROC AUC for Tuned Random Forest: 0.54 Extra Trees Default Report Accuracy for Extra Trees Default: 69.26 ROC AUC for Extra Trees Default: 0.57 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 73.54 ROC AUC for Tuned Extra Trees: 0.55 LGBM Default Report Accuracy for LGBM Default: 70.82 ROC AUC for LGBM Default: 0.62 Tuned LGBM Report Accuracy for Tuned LGBM: 74.71 ROC AUC for Tuned LGBM: 0.53 RGF Default Report Accuracy for RGF Default: 70.43 ROC AUC for RGF Default: 0.58 Tuned RGF Report Accuracy for Tuned RGF: 71.60 ROC AUC for Tuned RGF: 0.60 FRGF Default Report Accuracy for FRGF Default: 68.87 ROC AUC for FRGF Default: 0.59 Tuned FRGF Report Accuracy for Tuned FRGF: 69.26 ROC AUC for Tuned FRGF: 0.59 SVM Default Report Accuracy for SVM Default: 70.43 ROC AUC for SVM Default: 0.50 Tuned SVM Report Accuracy for Tuned SVM: 71.60 ROC AUC for Tuned SVM: 0.50 KNN Default Report Accuracy for KNN Default: 63.04 ROC AUC for KNN Default: 0.49 Tuned KNN Report Accuracy for Tuned KNN: 65.76 ROC AUC for Tuned KNN: 0.50 XGBoost Default Report Accuracy for XGBoost Default: 69.65 ROC AUC for XGBoost Default: 0.54 Tuned XGBoost Report Accuracy for Tuned XGBoost: 68.09 ROC AUC for Tuned XGBoost: 0.50 Random Forest Default Report Accuracy for Random Forest Default: 66.15 ROC AUC for Random Forest Default: 0.51 Tuned Random Forest Report Accuracy for Tuned Random Forest: 70.43 ROC AUC for Tuned Random Forest: 0.50 Extra Trees Default Report Accuracy for Extra Trees Default: 64.20 ROC AUC for Extra Trees Default: 0.49 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 70.82 ROC AUC for Tuned Extra Trees: 0.51 LGBM Default Report Accuracy for LGBM Default: 67.70 ROC AUC for LGBM Default: 0.56 Tuned LGBM Report Accuracy for Tuned LGBM: 70.82 ROC AUC for Tuned LGBM: 0.50 RGF Default Report Accuracy for RGF Default: 66.54 ROC AUC for RGF Default: 0.52 Tuned RGF Report Accuracy for Tuned RGF: 65.76 ROC AUC for Tuned RGF: 0.53 FRGF Default Report Accuracy for FRGF Default: 65.76 ROC AUC for FRGF Default: 0.53 Tuned FRGF Report Accuracy for Tuned FRGF: 69.65 ROC AUC for Tuned FRGF: 0.52 SVM Default Report Accuracy for SVM Default: 74.32 ROC AUC for SVM Default: 0.50 Tuned SVM Report Accuracy for Tuned SVM: 74.71 ROC AUC for Tuned SVM: 0.51 KNN Default Report Accuracy for KNN Default: 69.26 ROC AUC for KNN Default: 0.48 Tuned KNN Report Accuracy for Tuned KNN: 73.15 ROC AUC for Tuned KNN: 0.49 XGBoost Default Report Accuracy for XGBoost Default: 72.76 ROC AUC for XGBoost Default: 0.49 Tuned XGBoost Report Accuracy for Tuned XGBoost: 74.32 ROC AUC for Tuned XGBoost: 0.50 Random Forest Default Report Accuracy for Random Forest Default: 73.93 ROC AUC for Random Forest Default: 0.52 Tuned Random Forest Report Accuracy for Tuned Random Forest: 74.32 ROC AUC for Tuned Random Forest: 0.50 Extra Trees Default Report Accuracy for Extra Trees Default: 73.93 ROC AUC for Extra Trees Default: 0.52 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 73.93 ROC AUC for Tuned Extra Trees: 0.50 LGBM Default Report Accuracy for LGBM Default: 73.54 ROC AUC for LGBM Default: 0.52 Tuned LGBM Report Accuracy for Tuned LGBM: 74.32 ROC AUC for Tuned LGBM: 0.50 RGF Default Report Accuracy for RGF Default: 73.54 ROC AUC for RGF Default: 0.51 Tuned RGF Report Accuracy for Tuned RGF: 73.93 ROC AUC for Tuned RGF: 0.50 FRGF Default Report Accuracy for FRGF Default: 73.93 ROC AUC for FRGF Default: 0.53 Tuned FRGF Report Accuracy for Tuned FRGF: 73.93 ROC AUC for Tuned FRGF: 0.50 SVM Default Report Accuracy for SVM Default: 80.54 ROC AUC for SVM Default: 0.50 Tuned SVM Report Accuracy for Tuned SVM: 80.93 ROC AUC for Tuned SVM: 0.52 KNN Default Report Accuracy for KNN Default: 78.60 ROC AUC for KNN Default: 0.50 Tuned KNN Report Accuracy for Tuned KNN: 80.16 ROC AUC for Tuned KNN: 0.51 XGBoost Default Report Accuracy for XGBoost Default: 80.54 ROC AUC for XGBoost Default: 0.50 Tuned XGBoost Report Accuracy for Tuned XGBoost: 77.04 ROC AUC for Tuned XGBoost: 0.52 Random Forest Default Report Accuracy for Random Forest Default: 77.43 ROC AUC for Random Forest Default: 0.49 Tuned Random Forest Report Accuracy for Tuned Random Forest: 80.54 ROC AUC for Tuned Random Forest: 0.50 Extra Trees Default Report Accuracy for Extra Trees Default: 76.26 ROC AUC for Extra Trees Default: 0.48 Tuned Extra Trees Report Accuracy for Tuned Extra Trees: 78.60 ROC AUC for Tuned Extra Trees: 0.50 LGBM Default Report Accuracy for LGBM Default: 75.49 ROC AUC for LGBM Default: 0.51 Tuned LGBM Report Accuracy for Tuned LGBM: 80.54 ROC AUC for Tuned LGBM: 0.50 RGF Default Report Accuracy for RGF Default: 78.99 ROC AUC for RGF Default: 0.52 Tuned RGF Report Accuracy for Tuned RGF: 75.88 ROC AUC for Tuned RGF: 0.55 FRGF Default Report Accuracy for FRGF Default: 76.65 ROC AUC for FRGF Default: 0.50 #   ,       </code> </pre> <br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> LogisticRegression clf = LogisticRegression(random_state=<span class="hljs-number"><span class="hljs-number">0</span></span>, solver=<span class="hljs-string"><span class="hljs-string">'lbfgs'</span></span>, multi_class=<span class="hljs-string"><span class="hljs-string">'multinomial'</span></span>) hogwarts_df = load_processed_data_multi() <span class="hljs-comment"><span class="hljs-comment">#     data_full = hogwarts_df.drop( [ 'name', 'surname', ], axis=1).copy() X_data = data_full.drop('faculty', axis=1) y = data_full.faculty clf.fit(X_data, y) score_testing_dataset(clf)</span></span></code> </pre> <br><pre> <code class="plaintext hljs">  — [0.3602361 0.16166944 0.16771712 0.31037733] Kirill Malev — [0.47473072 0.16051924 0.13511385 0.22963619]   — [0.38697926 0.19330242 0.17451052 0.2452078 ] Harry Potter — [0.40245098 0.16410043 0.16023278 0.27321581]   — [0.13197025 0.16438855 0.17739254 0.52624866]   — [0.17170203 0.1205678 0.14341742 0.56431275] Severus Snape — [0.15558044 0.21589378 0.17370406 0.45482172]   — [0.39301231 0.07397324 0.1212741 0.41174035] Tom Riddle — [0.26623969 0.14194379 0.1728505 0.41896601]   — [0.24843037 0.21632736 0.21532696 0.3199153 ] Salazar Slytherin — [0.09359144 0.26735897 0.2742305 0.36481909]</code> </pre> <br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Und confusion_matrix: </font></font></p><br><pre> <code class="python hljs">confusion_matrix(clf.predict(X_data), y)</code> </pre> <br><pre> <code class="plaintext hljs">array([[144, 68, 64, 78], [ 8, 9, 8, 6], [ 22, 18, 31, 20], [ 77, 73, 78, 151]])</code> </pre> </div></div><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_predctions_vector</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(models, person)</span></span></span><span class="hljs-function">:</span></span> predictions = [get_predictions_vector (model, person)[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> model <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> models] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'slitherin'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">0</span></span>], <span class="hljs-string"><span class="hljs-string">'griffindor'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-string"><span class="hljs-string">'ravenclaw'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">2</span></span>], <span class="hljs-string"><span class="hljs-string">'hufflpuff'</span></span>: predictions[<span class="hljs-number"><span class="hljs-number">3</span></span>] } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">score_testing_dataset</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(models)</span></span></span><span class="hljs-function">:</span></span> testing_dataset = [ <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Kirill Malev"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Harry Potter"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>,<span class="hljs-string"><span class="hljs-string">"Severus Snape"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Tom Riddle"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"Salazar Slytherin"</span></span>] data = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> testing_dataset: predictions = get_predctions_vector(models, name) predictions[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] = name data.append(predictions) scoring_df = pd.DataFrame(data, columns=[<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'slitherin'</span></span>, <span class="hljs-string"><span class="hljs-string">'griffindor'</span></span>, <span class="hljs-string"><span class="hljs-string">'hufflpuff'</span></span>, <span class="hljs-string"><span class="hljs-string">'ravenclaw'</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scoring_df <span class="hljs-comment"><span class="hljs-comment"># Data Science —    ,       top_models = [ slitherin_models[3], griffindor_models[3], ravenclaw_models[3], hufflpuff_models[3] ] score_testing_dataset(top_models)</span></span></code> </pre> <br><pre> <code class="plaintext hljs"> name slitherin griffindor hufflpuff ravenclaw 0   0.349084 0.266909 0.110311 0.091045 1 Kirill Malev 0.289914 0.376122 0.384986 0.103056 2   0.338258 0.400841 0.016668 0.124825 3 Harry Potter 0.245377 0.357934 0.026287 0.154592 4   0.917423 0.126997 0.176640 0.096570 5   0.969693 0.106384 0.150146 0.082195 6 Severus Snape 0.663732 0.259189 0.290252 0.074148 7   0.268466 0.579401 0.007900 0.083195 8 Tom Riddle 0.639731 0.541184 0.084395 0.156245 9   0.653595 0.147506 0.172940 0.137134 10 Salazar Slytherin 0.647399 0.169964 0.095450 0.26126</code> </pre> <br><p><img src="https://habrastorage.org/webt/kc/pq/r7/kcpqr7dw_t-yudtoda54qj1su3o.jpeg"></p><br><p>     , <del>     </del>   .    ROC AUC  ,  0.5.    ,   : </p><br><ul><li>   ; </li><li>    ; </li><li>    ,        ; </li><li>      ,     ; </li><li>  ,            ,   . </li></ul><br><p>            ,    ,   ,   ,          XGBoost      CV ,       . </p><br><p>  Wichtig! ,       70% .     ,    4          . </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> model_training <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_production_models <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> xgboost <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> XGBClassifier best_models = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>): best_models.append(XGBClassifier(base_score=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, booster=<span class="hljs-string"><span class="hljs-string">'gbtree'</span></span>, colsample_bylevel=<span class="hljs-number"><span class="hljs-number">1</span></span>, colsample_bytree=<span class="hljs-number"><span class="hljs-number">0.7</span></span>, gamma=<span class="hljs-number"><span class="hljs-number">0</span></span>, learning_rate=<span class="hljs-number"><span class="hljs-number">0.05</span></span>, max_delta_step=<span class="hljs-number"><span class="hljs-number">0</span></span>, max_depth=<span class="hljs-number"><span class="hljs-number">6</span></span>, min_child_weight=<span class="hljs-number"><span class="hljs-number">11</span></span>, missing=<span class="hljs-number"><span class="hljs-number">-999</span></span>, n_estimators=<span class="hljs-number"><span class="hljs-number">1000</span></span>, n_jobs=<span class="hljs-number"><span class="hljs-number">1</span></span>, nthread=<span class="hljs-number"><span class="hljs-number">4</span></span>, objective=<span class="hljs-string"><span class="hljs-string">'binary:logistic'</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">0</span></span>, reg_alpha=<span class="hljs-number"><span class="hljs-number">0</span></span>, reg_lambda=<span class="hljs-number"><span class="hljs-number">1</span></span>, scale_pos_weight=<span class="hljs-number"><span class="hljs-number">1</span></span>, seed=<span class="hljs-number"><span class="hljs-number">1337</span></span>, silent=<span class="hljs-number"><span class="hljs-number">1</span></span>, subsample=<span class="hljs-number"><span class="hljs-number">0.8</span></span>)) slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model = \ train_production_models(best_models) top_models = slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model score_testing_dataset(top_models)</code> </pre> <br><pre> <code class="plaintext hljs">name slitherin griffindor hufflpuff ravenclaw 0   0.273713 0.372337 0.065923 0.279577 1 Kirill Malev 0.401603 0.761467 0.111068 0.023902 2   0.031540 0.616535 0.196342 0.217829 3 Harry Potter 0.183760 0.422733 0.119393 0.173184 4   0.945895 0.021788 0.209820 0.019449 5   0.950932 0.088979 0.084131 0.012575 6 Severus Snape 0.634035 0.088230 0.249871 0.036682 7   0.426440 0.431351 0.028444 0.083636 8 Tom Riddle 0.816804 0.136530 0.069564 0.035500 9   0.409634 0.213925 0.028631 0.252723 10 Salazar Slytherin 0.824590 0.067910 0.111147 0.085710</code> </pre> <br><p>      ,  ,   . </p><br><p>    ,           ,     .   . </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pickle pickle.dump(slitherin_model, open(<span class="hljs-string"><span class="hljs-string">"../output/slitherin.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>)) pickle.dump(griffindor_model, open(<span class="hljs-string"><span class="hljs-string">"../output/griffindor.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>)) pickle.dump(ravenclaw_model, open(<span class="hljs-string"><span class="hljs-string">"../output/ravenclaw.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>)) pickle.dump(hufflpuff_model, open(<span class="hljs-string"><span class="hljs-string">"../output/hufflpuff.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"wb"</span></span>))</code> </pre> <br><h2 id="prodakshn">  </h2><br><p>           ,     .   ,     , ,       . </p><br><p>           ,  ,      .        ,       .  ,   Data Scientist —       -. </p><br><p>     : </p><br><ul><li>     ; </li><li>     json-       json; </li><li>            . </li></ul><br><p> ,     docker-,           python-.  ,           flask. </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> __future__ <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> print_function <span class="hljs-comment"><span class="hljs-comment"># In python 2.7 import os import subprocess import json import re from flask import Flask, request, jsonify from inspect import getmembers, ismethod import numpy as npb import pandas as pd import math import os import pickle import xgboost as xgb import sys from letter import Letter from talking_hat import * from sklearn.ensemble import RandomForestClassifier import warnings def prod_predict_classes_for_name (full_name): featurized_person = parse_line_to_hogwarts_df(full_name) person_df = pd.DataFrame(featurized_person, columns=[ 'name', 'surname', 'is_english', 'name_starts_with_vowel', 'name_starts_with_consonant', 'name_ends_with_vowel', 'name_ends_with_consonant', 'name_length', 'name_vowels_count', 'name_double_vowels_count', 'name_consonant_count', 'name_double_consonant_count', 'name_paired_count', 'name_deaf_count', 'name_sonorus_count', 'surname_starts_with_vowel', 'surname_starts_with_consonant', 'surname_ends_with_vowel', 'surname_ends_with_consonant', 'surname_length', 'surname_vowels_count', 'surname_double_vowels_count', 'surname_consonant_count', 'surname_double_consonant_count', 'surname_paired_count', 'surname_deaf_count', 'surname_sonorus_count', ], index=[0] ) slitherin_model = pickle.load(open("models/slitherin.xgbm", "rb")) griffindor_model = pickle.load(open("models/griffindor.xgbm", "rb")) ravenclaw_model = pickle.load(open("models/ravenclaw.xgbm", "rb")) hufflpuff_model = pickle.load(open("models/hufflpuff.xgbm", "rb")) predictions = get_predctions_vector([ slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model ], person_df.drop(['name', 'surname'], axis=1)) return { 'slitherin': float(predictions[0][1]), 'griffindor': float(predictions[1][1]), 'ravenclaw': float(predictions[2][1]), 'hufflpuff': float(predictions[3][1]) } def predict(params): fullname = params['fullname'] print(params) return prod_predict_classes_for_name(fullname) def create_app(): app = Flask(__name__) functions_list = [predict] @app.route('/&lt;func_name&gt;', methods=['POST']) def api_root(func_name): for function in functions_list: if function.__name__ == func_name: try: json_req_data = request.get_json() if json_req_data: res = function(json_req_data) else: return jsonify({"error": "error in receiving the json input"}) except Exception as e: data = { "error": "error while running the function" } if hasattr(e, 'message'): data['message'] = e.message elif len(e.args) &gt;= 1: data['message'] = e.args[0] return jsonify(data) return jsonify({"success": True, "result": res}) output_string = 'function: %s not found' % func_name return jsonify({"error": output_string}) return app if __name__ == '__main__': app = create_app() app.run(host='0.0.0.0')</span></span></code> </pre> </div></div><br><p> Dockerfile: </p><br><pre> <code class="bash hljs">FROM datmo/python-base:cpu-py35 <span class="hljs-comment"><span class="hljs-comment">#  python3-wheel,        RUN apt-get update; apt-get install -y python3-pip python3-numpy python3-scipy python3-wheel ADD requirements.txt / RUN pip3 install -r /requirements.txt RUN mkdir /code;mkdir /code/models COPY ./python_api.py ./talking_hat.py ./letter.py ./request.py /code/ COPY ./models/* /code/models/ WORKDIR /code CMD python3 /code/python_api.py</span></span></code> </pre> <br><p>    : </p><br><pre> <code class="bash hljs">docker build -t talking_hat . &amp;&amp; docker rm talking_hat &amp;&amp; docker run --name talking_hat -p 5000:5000 talking_hat</code> </pre> <br><h2 id="testirovanie-prodakshn-modeli">    </h2><br><p>     —            .  ,         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://">Apache Benchmark</a> .      ,      .  —  . </p><br><pre> <code class="bash hljs">$ ab -p data.json -T application/json -c 50 -n 10000 http://0.0.0.0:5000/predict</code> </pre> <br><div class="spoiler"> <b class="spoiler_title"> ab</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">This is ApacheBench, Version 2.3 &lt;$Revision: 1807734 $&gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking 0.0.0.0 (be patient) Completed 1000 requests Completed 2000 requests Completed 3000 requests Completed 4000 requests Completed 5000 requests Completed 6000 requests Completed 7000 requests Completed 8000 requests Completed 9000 requests Completed 10000 requests Finished 10000 requests Server Software: Werkzeug/0.14.1 Server Hostname: 0.0.0.0 Server Port: 5000 Document Path: /predict Document Length: 141 bytes Concurrency Level: 50 Time taken for tests: 238.552 seconds Complete requests: 10000 Failed requests: 0 Total transferred: 2880000 bytes Total body sent: 1800000 HTML transferred: 1410000 bytes Requests per second: 41.92 [#/sec] (mean) Time per request: 1192.758 [ms] (mean) Time per request: 23.855 [ms] (mean, across all concurrent requests) Transfer rate: 11.79 [Kbytes/sec] received 7.37 kb/s sent 19.16 kb/s total Connection Times (ms) min mean[+/-sd] median max Connect: 0 0 0.1 0 3 Processing: 199 1191 352.5 1128 3352 Waiting: 198 1190 352.5 1127 3351 Total: 202 1191 352.5 1128 3352 Percentage of the requests served within a certain time (ms) 50% 1128 66% 1277 75% 1378 80% 1451 90% 1668 95% 1860 98% 2096 99% 2260 100% 3352 (longest request)</code> </pre> </div></div><br><p>     ,      : </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prod_predict_classes_for_name</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(full_name)</span></span></span><span class="hljs-function">:</span></span> &lt;...&gt; predictions = get_predctions_vector([ app.slitherin_model, app.griffindor_model, app.ravenclaw_model, app.hufflpuff_model ], person_df.drop([<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'surname'</span></span>], axis=<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'slitherin'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]), <span class="hljs-string"><span class="hljs-string">'griffindor'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]), <span class="hljs-string"><span class="hljs-string">'ravenclaw'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">2</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]), <span class="hljs-string"><span class="hljs-string">'hufflpuff'</span></span>: float(predictions[<span class="hljs-number"><span class="hljs-number">3</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>]) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_app</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> &lt;...&gt; <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> app.app_context(): app.slitherin_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/slitherin.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) app.griffindor_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/griffindor.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) app.ravenclaw_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/ravenclaw.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) app.hufflpuff_model = pickle.load(open(<span class="hljs-string"><span class="hljs-string">"models/hufflpuff.xgbm"</span></span>, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> app</code> </pre> <br><p>    : </p><br><pre> <code class="bash hljs">$ docker build -t talking_hat . &amp;&amp; docker rm talking_hat &amp;&amp; docker run --name talking_hat -p 5000:5000 talking_hat $ ab -p data.json -T application/json -c 50 -n 10000 http://0.0.0.0:5000/predict</code> </pre> <br><div class="spoiler"> <b class="spoiler_title"> ab</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">This is ApacheBench, Version 2.3 &lt;$Revision: 1807734 $&gt; Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/ Licensed to The Apache Software Foundation, http://www.apache.org/ Benchmarking 0.0.0.0 (be patient) Completed 1000 requests Completed 2000 requests Completed 3000 requests Completed 4000 requests Completed 5000 requests Completed 6000 requests Completed 7000 requests Completed 8000 requests Completed 9000 requests Completed 10000 requests Finished 10000 requests Server Software: Werkzeug/0.14.1 Server Hostname: 0.0.0.0 Server Port: 5000 Document Path: /predict Document Length: 141 bytes Concurrency Level: 50 Time taken for tests: 219.812 seconds Complete requests: 10000 Failed requests: 3 (Connect: 0, Receive: 0, Length: 3, Exceptions: 0) Total transferred: 2879997 bytes Total body sent: 1800000 HTML transferred: 1409997 bytes Requests per second: 45.49 [#/sec] (mean) Time per request: 1099.062 [ms] (mean) Time per request: 21.981 [ms] (mean, across all concurrent requests) Transfer rate: 12.79 [Kbytes/sec] received 8.00 kb/s sent 20.79 kb/s total Connection Times (ms) min mean[+/-sd] median max Connect: 0 0 0.1 0 2 Processing: 235 1098 335.2 1035 3464 Waiting: 235 1097 335.2 1034 3462 Total: 238 1098 335.2 1035 3464 Percentage of the requests served within a certain time (ms) 50% 1035 66% 1176 75% 1278 80% 1349 90% 1541 95% 1736 98% 1967 99% 2141 100% 3464 (longest request)</code> </pre> </div></div><br><p>  Fertig.   .         ,          . </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>            ,             .       -     . </p><br><p> ,     : </p><br><ul><li>    feature engineering-     ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>  ),  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Soundex</a>     . </li><li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>   PyTorch        .       ,        ,         . </li><li>     flask   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quart</a> ,        ,          . </li><li>    -  -,     . </li></ul><br><p>      ,           ,     .   ,  ! </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dieser Artikel wäre ohne die Open Data Science-Community, die eine große Anzahl russischsprachiger Experten auf dem Gebiet der Datenanalyse zusammenbringt, nicht veröffentlicht worden. </font></font></p><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430006/">https://habr.com/ru/post/de430006/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429996/index.html">Cloud-Netzwerkadministrator</a></li>
<li><a href="../de429998/index.html">Wissenschaftliche Möglichkeiten zur Verbesserung der Aufmerksamkeit: Nootropika, Neuro-Schnittstellen und elektrische Stimulation</a></li>
<li><a href="../de430000/index.html">Der letzte Mohikaner. Der älteste CEO der Fortune 500 setzt alles auf den Fall von Smartphones</a></li>
<li><a href="../de430002/index.html">Red Hat Enterprise Linux 8 Beta - Zur gleichen Zeit mit der Welt</a></li>
<li><a href="../de430004/index.html">Nicht zertifizierter GPS-Tracker aus China. Ist es in Russland legal?</a></li>
<li><a href="../de430008/index.html">Ugears: Pferde, Segeln und andere königliche Unterhaltungen</a></li>
<li><a href="../de430010/index.html">Offene Lektion "Wie man nicht: Anti-Beispiele bei der Analyse von Geschäftsprozessen"</a></li>
<li><a href="../de430014/index.html">Versiegelte Klassen. Semantik gegen Leistung</a></li>
<li><a href="../de430016/index.html">Wissenschaftler geben verwirrt zu, dass sie das genaue Ausmaß der Gravitationswechselwirkung immer noch nicht kennen</a></li>
<li><a href="../de430024/index.html">Wie ein Flugzeugabsturz die IT-Analyse verbessern kann</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>