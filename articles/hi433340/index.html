<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯд╡ЁЯП╗ ЁЯСйЁЯП╜тАНЁЯдЭтАНЁЯСиЁЯП╝ ЁЯШб рд╢реНрдпрд╛рдУрдореА рд╡рд╛рдпрд░рд▓реЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ ioBroker рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рдореЗрдВ ЁЯУп ЁЯд▒ЁЯП╜ ЁЯСПЁЯП╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╣реЛрдо рдСрдЯреЛрдореЗрд╢рди рдХреЗ рд╕рднреА рдкреНрд░реЗрдорд┐рдпреЛрдВ рдХреЛ рд╢реБрднрдХрд╛рдордирд╛рдПрдВред рдореИрдВрдиреЗ рдЬрд╝рд┐рдЧреЙрдмреА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде Xiaomi рд╡рд╛рдпрд░рд▓реЗрд╕ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдЕрдиреБрднрд╡ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред рдИрдорд╛рдирджрд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╢реНрдпрд╛рдУрдореА рд╡рд╛рдпрд░рд▓реЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ ioBroker рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рдореЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/iobroker/blog/433340/">  рд╣реЛрдо рдСрдЯреЛрдореЗрд╢рди рдХреЗ рд╕рднреА рдкреНрд░реЗрдорд┐рдпреЛрдВ рдХреЛ рд╢реБрднрдХрд╛рдордирд╛рдПрдВред  рдореИрдВрдиреЗ рдЬрд╝рд┐рдЧреЙрдмреА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде Xiaomi рд╡рд╛рдпрд░рд▓реЗрд╕ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдЕрдиреБрднрд╡ рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ, рдореИрдВ рдХрд┐рд╕реА рднреА рд╕реНрд╡рдЪрд╛рд▓рди рдореЗрдВ рдХрд┐рд╕реА рднреА рд╡рд╛рдпрд░рд▓реЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдЦрд┐рд▓рд╛рдл рд╣реВрдВ, рдмрдбрд╝реА рд╡рд╕реНрддреБрдУрдВ рдХреА рдЧрдВрднреАрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рд╕реЗ рд▓реЗрдХрд░ рдЖрдЧ рд╕реНрд╡рдЪрд╛рд▓рди рдпрд╛ рд╕реНрдорд╛рд░реНрдЯ рдШрд░реЛрдВ рдЬреИрд╕реЗ рдЫреЛрдЯреЗ рд╕реНрд╡рдЪрд╛рд▓рди рддрдХ, рд▓реЗрдХрд┐рди ... Xiaomi рд╕рдорд╛рдзрд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рд╕рд╕реНрддреЗрдкрди, рдкрд╣реБрдВрдЪ, рдЙрддреНрдХреГрд╖реНрдЯ рдбрд┐рдЬрд╛рдЗрди рдФрд░ рдХрдИ рд╕рдХрд╛рд░рд╛рддреНрдордХ рд╕рдореАрдХреНрд╖рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд░рд┐рд╢реНрд╡рдд рджреЗрддрд╛ рд╣реИ, рдореИрдВрдиреЗ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ред рдкреНрд░рдпрд╛рд╕ рдХрд░рдирд╛ред <br><br>  рдЗрд╕ рдкреЛрд╕реНрдЯ рдХреЛ ZigBee рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдореЗрдВ рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд░рдг-рджрд░-рдЪрд░рдг рдирд┐рд░реНрджреЗрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣рд╛рдВ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдХреЛрдИ рд╕реНрд╡рдпрдВрд╕рд┐рджреНрдз рд╕рд╛рдзрди рдирд╣реАрдВ рд╣реИ рдФрд░ рдЖрдк ZigBee рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдХрдИ рдЕрдиреНрдп рддрд░реАрдХреЗ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдпрджрд┐ рдЖрдк рдЕрднреА рднреА рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг рдХреЛ рдЫреЛрдбрд╝ рджреЗрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк ZigBee рдФрд░ ioBroker рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдирд┐рд░реНрдорд╛рддрд╛рдУрдВ рд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рдВрдпреЛрдЬрди рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдпрд╛ рдЖрд╕рд╛рдиреА рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдмрд╛рдж рдореЗрдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ)ред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдКрдВрдЧрд╛ рдХрд┐ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рд╕реЗ рдХреИрд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдП, рдЯреИрдмрд▓реЗрдЯ рдкрд░ рдпрд╛ рдмрд╕ рдПрдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдЙрдирд╕реЗ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ рдФрд░ рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрджреЗрд╢ рднреЗрдЬреЗрдВред  рдЕрдЧрд░ рдореБрдЭреЗ рддреБрдореНрд╣рд╛рд░реА рдХреЛрдИ рджрд┐рд▓рдЪрд╕реНрдкреА рд╣реИ, рддреЛ рдореИрдВ рдПрдХ рдмрд┐рд▓реНрд▓реА рдХреЗ рд▓рд┐рдП рдкреВрдЫрддрд╛ рд╣реВрдВред <br><a name="habracut"></a><br>  Xiaomi рдХреЗ рдирд┐рд░реНрдорд╛рддрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдХреНрд▓рд╛рдЙрдб рдХрдиреЗрдХреНрд╢рди рдФрд░ ZigBee рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд╛рдИ-рдлрд╛рдИ рдЧреЗрдЯрд╡реЗ рдХреЗ рд╕рд╛рде рдПрдХ рдореВрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдирд┐рдпрдВрддреНрд░рдг рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдбреЗрд╡рд▓рдкрд░ рдореЛрдб рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреА рдПрдХ рд╡рд┐рдзрд┐ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдЬреНрдЮрд╛рдд рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╕реНрдерд╛рдиреАрдп рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдЕрдВрджрд░, рдЖрдк рдЧреЗрдЯрд╡реЗ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдорд┐рд╣реЛрдо</a> рдЪрд╛рд▓рдХ рдХреЛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ioBroker</a> рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред <br><br>  ioBroker IoT рдХреЗ рд▓рд┐рдП рдПрдХ рдЦреБрд▓рд╛ рдордВрдЪ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рд╕рд┐рд╕реНрдЯрдо рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рд╢рд╛рдорд┐рд▓ рд╣реИред  рдХреНрдпрд╛ рд╣реИ ioBroker рдкрд┐рдЫрд▓реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЕрдм рдореЗрд░рд╛ рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо 80GB рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡, 5000mAh рд░рд┐рдЪрд╛рд░реНрдЬреЗрдмрд▓ рдмреИрдЯрд░реА, 1-рд╡рд╛рдпрд░ USB рдорд╛рд╕реНрдЯрд░, USB- RS485 рдХрдирд╡рд░реНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ modbus рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХреБрдЫ "рдмреЙрдбреА рдХрд┐рдЯ" рдХреЗ рд╕рд╛рде рдПрдХ рдХреНрдпреВрдмреНрд░реАрдХреНрд░реВ рдПрдЖрд░рдПрдо-рдмреЛрд░реНрдб рдкрд░ "рдХрддрд╛рдИ" рд╣реИред  рдЖрд░реНрдордмрд┐рдпрди рдУрдПрд╕ рдХреЛ рд░реВрдЯ рд╡рд┐рднрд╛рдЬрди рдХреЗ рд╣рд╕реНрддрд╛рдВрддрд░рдг рдХреЗ рд╕рд╛рде рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдХреЗрд╡рд▓ рдмреВрдЯрд▓реЛрдбрд░ рдорд╛рдЗрдХреНрд░реЛрдПрд╕рдбреА рдореЗрдореЛрд░реА рдХрд╛рд░реНрдб рдкрд░ рд░рд╣рддрд╛ рд╣реИред <br><br>  рдореИрдВрдиреЗ рддрд╛рдкрдорд╛рди рдФрд░ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдВрд╕рд░ рдЦрд░реАрджрдХрд░ Xiaomi рд╡рд╛рдпрд░рд▓реЗрд╕ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рдкрд░рд┐рдЪрд┐рдд рдХреА рд╢реБрд░реБрдЖрдд рдХреАред  рдЙрд╕ рд╕рдордп, рдЙрдирдХреЗ рдПрдХреАрдХрд░рдг рдХреА рдПрдХрдорд╛рддреНрд░ рд╕рдВрднрд╛рд╡рдирд╛ <b>рдорд┐рд╣реЛрдо</b> рдЪрд╛рд▓рдХ рдереА, рдЬрд┐рд╕рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдКрдкрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br><br><h4>  рдорд┐рд╣реЛрдо рдЪрд╛рд▓рдХ </h4><br>  рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдбреНрд░рд╛рдЗрд╡рд░ рдЬреЛрдбрд╝рдирд╛ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИ, рдЖрдкрдХреЛ рдЙрдкрд▓рдмреНрдз рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ "+" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рд╕реНрдерд╛рдкрдирд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/1q/uv/gs/1quvgskqfsscaszi1df_weidl_k.png"><br><br>  рдореИрдВ рдореВрд▓ рдПрдВрдбреНрд░реЙрдЗрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди Mi Home рдХреА рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рд╡рд░реНрдгрди рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛, рдЖрдк рдЗрд╕реЗ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдердм</a> рдкреГрд╖реНрда рдкрд░ рдпрд╛ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред  рддреЛ, рдбреЗрд╡рд▓рдкрд░ рдореЛрдб рд╕рдХреНрд░рд┐рдп рд╣реИ, рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рд╣реБрдЖ рд╣реИ, рд╣рдо mihome рдПрдбреЗрдкреНрдЯрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ, рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ рдФрд░ рдЪрд▓рд╛рддреЗ рд╣реИрдВ рдЕрдЧрд░ рдпрд╣ рд╢реБрд░реВ рдирд╣реАрдВ рд╣реБрдЖ рд╣реИред <br><br><img src="https://habrastorage.org/webt/hg/gi/uz/hggiuzkuphbirpnjp1xdcwcxy2e.png"><br><br>  Xiaomi рдЧреЗрдЯрд╡реЗ рдФрд░ Mi рд╣реЛрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдЬреБрдбрд╝реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдЯреНрд░реА рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рдЪрд╛рд╣рд┐рдПред <br><br><img src="https://habrastorage.org/webt/tm/wf/gs/tmwfgsbmgvfncvw-gyezzdjhamw.png"><br><br>  рдЕрдЧрд▓рд╛, рдЖрдк рдирдИ рдмрдирд╛рдИ рдЧрдИ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рддрд╛рдкрдорд╛рди рдФрд░ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдВрд╕рд░ рдХреЗ рдЗрддрд┐рд╣рд╛рд╕ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдирд╛ред  рдореИрдВ SQLite рдбреЗрдЯрд╛рдмреЗрд╕ рдкрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП SQL рдбреНрд░рд╛рдЗрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред <br><br><img src="https://habrastorage.org/webt/wv/op/yk/wvopykrwhlu2pcgdru82m1yv8sg.png"><br><br>  рдЪрд░ рдХреЗ рдЗрддрд┐рд╣рд╛рд╕ рдХрд╛ рднрдВрдбрд╛рд░рдг рд╕рд┐рд╕реНрдЯрдо рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: рдСрдмреНрдЬреЗрдХреНрдЯ рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ, рдЖрдкрдХреЛ рд╕реНрд╡рдпрдВ рдЪрд░ рдкрд░ рдЬрд╛рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рджрд╛рдИрдВ рдУрд░ рдПрдХ рд░рд┐рдВрдЪ рдХреЗ рд╕рд╛рде рдмрдЯрди рджрдмрд╛рдирд╛ рд╣реЛрдЧрд╛ред  "рд╕реЗрдЯрд┐рдВрдЧ" рдЯреИрдм рдкрд░, рдореЗрд░реЗ рдкрд╛рд╕ рд╕реЗрдВрд╕рд░ рджреНрд╡рд╛рд░рд╛ рд╕рдХреНрд░рд┐рдп рдХрд┐рдпрд╛ рдЧрдпрд╛ рдЗрддрд┐рд╣рд╛рд╕ рднрдВрдбрд╛рд░рдг рд╣реИ - рдХреЗрд╡рд▓ рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ рд╣реИред <br><br>  рдЕрдиреНрдп рд╕реЗрдЯрд┐рдВрдЧреНрд╕: <br><br><ul><li>  10 рд╕реЗрдХрдВрдб рдХрд╛ рдиреНрдпреВрдирддрдо рдЕрдВрддрд░рд╛рд▓ - рдпрджрд┐ рдЪрд░ рдЕрдзрд┐рдХ рдмрд╛рд░ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛, рддреЛ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдХреЛ рдирдЬрд░рдЕрдВрджрд╛рдЬ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ </li><li>  рд╣рд░ 300 рд╕реЗрдХрдВрдб (5 рдорд┐рдирдЯ) рдореЗрдВ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдорд╛рди - рдпрджрд┐ рдЪрд░ 5 рдорд┐рдирдЯ рд╕реЗ рдЕрдзрд┐рдХ рд╕рдордп рддрдХ рдирд╣реАрдВ рдмрджрд▓рддрд╛ рд╣реИ, рддреЛ рд╡рд░реНрддрдорд╛рди рдорд╛рди рдбреЗрдЯрд╛рдмреЗрд╕ рдкрд░ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдорд╛рди рдкреНрд░рдХрд╛рд░ - рд╕рдВрдЦреНрдпрд╛ </li><li>  рд╢реЗрд▓реНрдл рдЬреАрд╡рди - 1 рд╡рд░реНрд╖ </li></ul><br><img src="https://habrastorage.org/webt/a2/6n/ed/a26nedcztddt2fo4vofcdndkadu.png"><br><br>  рдирдП рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдореВрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрддрд╛ рд╣реИред  рдпрд╛рдиреА  рдЖрдкрдХреЛ рд╕рдВрд▓рдЧреНрди рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЧреЗрдЯрд╡реЗ рдХреЗ рд╕рд╛рде рдирдП рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдкреЗрдпрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдмрд╛рдж рдпрд╣ рд╕реНрд╡рддрдГ рд╣реА ioBlker рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреА рд╕реВрдЪреА рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред <br><br><h4>  Zigbee рдбреНрд░рд╛рдЗрд╡рд░ </h4><br>  рджреЗрд╢реА рд╢реНрдпрд╛рдУрдореА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдореЗрд░реЗ рд▓рд┐рдП рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдерд╛, рдЦрд╛рд╕рдХрд░ рдЬрдм рд╕реЗ рдореБрдЭреЗ рдПрдХ рдЪреАрдиреА рдкреНрд▓рдЧ рдХреЗ рд╕рд╛рде рдПрдХ рдЧреЗрдЯрд╡реЗ рдЦрд░реАрджрдирд╛ рдкрдбрд╝рд╛, рдЬреЛ рдХрд┐ рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХрд┐рд╕реА рднреА рдЪреАрдЬ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рдирд╣реАрдВ рдерд╛ред  рд╣рд╛рдВ, рдЗрд╕реЗ рдПрдХ рдирд╛рдЗрдЯрд▓рд╛рдЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╛ рдХреБрдЫ рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдореЗрдВ рдкреНрд░рдХрд╛рд╢ рд╕рдВрд╡реЗрджрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЖрдк рдирд┐рд░реНрджреЗрд╢ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЕрдкрдиреЗ рд░реЗрдбрд┐рдпреЛ рд╕реНрдЯреЗрд╢рдиреЛрдВ рдХреЛ рдЦреЗрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рд╡реЗрд╢ рджреНрд╡рд╛рд░ рдХреЗ рд▓рд┐рдП "рдкреНрд▓реЗрд▓рд┐рд╕реНрдЯ" рдХреИрд╕реЗ рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди рдЗрд╕рдореЗрдВ рд╕реЗ рдХреЛрдИ рднреА рдореЗрд░реЗ рд╕рд╛рде рдирд╣реАрдВ рд╣реИред  рд╕рд╛рде рд╣реА, рдпрд╣ рд╕реЛрдЪрд╛ рдХрд┐ рдореЗрд░рд╛ рдбреЗрдЯрд╛ рдХрд╣реАрдВ рд▓реАрдХ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдФрд░ рдХрд╣реАрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред <br><br>  рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ ioBroker рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд╕рдХреНрд░рд┐рдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдиреЛрдб- zs рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">zigbee-shepherd</a> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдореЗрдВ рдкрд╛рдпрд╛ рдЧрдпрд╛, рдЬрд┐рд╕рдореЗрдВ Xiaomi рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдерд╛ред  IoBroker рдХреЗ рд▓рд┐рдП рдПрдХ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рдЙрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдЗрд╕ рдбреНрд░рд╛рдЗрд╡рд░ рдХрд╛ рд▓реЗрдЦрдХ рдХреЗрд╡рд▓ Xiaomi рдЙрдкрдХрд░рдгреЛрдВ рддрдХ рд╣реА рд╕реАрдорд┐рдд рдирд╣реАрдВ рдерд╛, рд╕рдорд░реНрдерд┐рдд рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕реВрдЪреА рд▓рдЧрд╛рддрд╛рд░ рдЕрдкрдбреЗрдЯ рдХреА рдЬрд╛рддреА рд╣реИ рдФрд░ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдердм</a> рдкреГрд╖реНрда рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред <br><br>  рдпрд╣ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рд╕рдордиреНрд╡рдпрдХ рдХреЗ рд░реВрдк рдореЗрдВ TI рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">CC25xx</a> рдЪрд┐рдкреНрд╕ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рд╕реНрддреЗ рддреИрдпрд╛рд░ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рд╣реИред  рдЖрдк USB рдХрдиреЗрдХреНрд╢рди рдФрд░ рдПрдХ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдПрдВрдЯреАрдирд╛ рдХреЗ рд╕рд╛рде рддреИрдпрд╛рд░ рдХрд┐рдП рдЧрдП ZigBee рдореЙрдбреНрдпреВрд▓ рдЦрд░реАрдж рд╕рдХрддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА рдЕрдзрд┐рдХ рдорд╣рдВрдЧрд╛ рдФрд░ рдЕрдзрд┐рдХ рдЧрдВрднреАрд░ рдореЙрдбрд▓: UART рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рд╣рд░реА рдПрдВрдЯреАрдирд╛, рдПрдореНрдкрд▓реАрдлрд╛рдпрд░ рдФрд░ рдХрдиреЗрдХреНрд╢рди рдХреЗ рд╕рд╛рдеред <br><br>  рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдмрд╕ рдлрд░реНрдорд╡реЗрдпрд░ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдЗрд╕ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рдорд╣рдВрдЧреЗ рдЧреЗрдЯрд╡реЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд╡рд╛рдИ-рдлрд╛рдИ рдиреЗрдЯрд╡рд░реНрдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  "рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ" рд╕рдордиреНрд╡рдпрдХ рд╣реИ - рд╡рд┐рд╢реЗрд╖ рдлрд░реНрдорд╡реЗрдпрд░ рдХреЗ рд╕рд╛рде SS25xx рдЪрд┐рдк рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдПрдХ рдЙрдкрдХрд░рдгред  рд╕рдордиреНрд╡рдпрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдЬрд╝рд┐рдЧрдмреА рдЙрдкрдХрд░рдгреЛрдВ рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рд╕реАрдзрд╛ рд╕рдВрдЪрд╛рд░ рд╣реЛрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдирдП рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдмрдВрдзрди рднреА рд╣реЛрддрд╛ рд╣реИред <br><br>  рдПрдХ рд╕рдордиреНрд╡рдпрдХ рдХреЗ рд░реВрдк рдореЗрдВ, рдореИрдВ рдПрдХ рдмрд╛рд╣рд░реА рдПрдВрдЯреАрдирд╛ рдХреЗ рд╕рд╛рде CC2530 рдЪрд┐рдк рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдПрдХ рддреИрдпрд╛рд░ рдорджрд░рдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ, рдЬрд┐рд╕реЗ рдореИрдВ UART рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд░реНрд╡рд░ рд╕реЗ рдЬреБрдбрд╝рд╛ рдерд╛ред <br><br>  рдбрд┐рд╡рд╛рдЗрд╕ рдлрд╝рд░реНрдорд╡реЗрдпрд░ рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡рд┐рд╢реЗрд╖ SmartRF04EB рдбрд┐рдмрдЧрд░ рдЦрд░реАрджрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд┐рд╕рдХрд╛ рдорд╛рдЗрдХреНрд░реЛрдпреВрдПрд╕рдмреА рдкреЛрд░реНрдЯ рдореИрдВрдиреЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдерд╛, рдФрд░ рдЬрд╝рд┐рдЧрдмреА рдореЙрдбреНрдпреВрд▓ рд╕реНрдХреАрдо рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╡рд╛рдпрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЬреБрдбрд╝рд╛ рдерд╛: <br><table><tbody><tr><th>  SS2530 </th><th>  SmartRF04EB рдмреЛрд░реНрдб </th></tr><tr><td>  P22 </td><td>  рдбреАрд╕реА </td></tr><tr><td>  P21 </td><td>  рдбреАрдбреА </td></tr><tr><td>  рдЖрд░рдПрд╕рдЯреА </td><td>  рд░реАрд╕реЗрдЯ </td></tr><tr><td>  GND </td><td>  GND </td></tr><tr><td>  VCC </td><td>  3.3 </td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/zy/g3/mf/zyg3mfircqqapiz8vz59afyrm5g.jpeg"><br><br>  рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдЧрд┐рдердм рдкреГрд╖реНрда рдкрд░, рдлрд░реНрдорд╡реЗрдпрд░ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ (рдЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓ рдХреЛ CC2530ZNP-Pro-Secure_LinkKeyJoin.hex рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдФрд░ рдлрд╝рд░реНрдорд╡реЗрдпрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдо (рдлреНрд▓реИрд╢-рдкреНрд░реЛрдЧреНрд░рд╛рдорд░), рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдбреНрд░рд╛рдЗрд╡рд░ рдЬреЛрдбрд╝реЗ рдЧрдП рд╣реИрдВред <br>  рдЬрдм рдЖрдк рдбрд┐рдмрдЧрд░ рдмреЛрд░реНрдб рдХреЛ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рдпреВрдПрд╕рдмреА рдкреЛрд░реНрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдо рддреБрд░рдВрдд рдХрдиреЗрдХреНрдЯреЗрдб рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧрд╛ред  рдЖрдкрдХреЛ рдмрд╕ рдлрд░реНрдорд╡реЗрдпрд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдкрде рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ "рдкреНрд░рджрд░реНрд╢рди рдХреНрд░рд┐рдпрд╛" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ <br><br><img src="https://habrastorage.org/webt/7z/rd/w8/7zrdw8e3iwpyvisw6dzohkfn3zs.png"><br><br>  ZigBee- рдореЙрдбреНрдпреВрд▓ рдкреЛрд░реНрдЯ P03 (Rx) рдФрд░ P02 (Tx) UART4 (OS рдореЗрдВ ttyS4 рдХреА рддрд░рд╣) рдХреНрдпреВрдмрд┐рдПрдЯреНрд░рдХ рдмреЛрд░реНрдб рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реИрдВ, рд╕рдВрдЪрд╛рд▓рд┐рдд 3V3, GND рдиреЗ рдкрдбрд╝реЛрд╕реА рдкрд┐рди рдкрд░ рд▓рд┐рдпрд╛ред  рд╕реНрдерд┐рд░ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрднреА рднреА рд╕рдордиреНрд╡рдпрдХ рдХреЗ рдкреЛрд░реНрдЯ P20, P4, P5 рдХреЛ рдЬрдореАрди рдкрд░ рдЦреАрдВрдЪрдирд╛ рд╣реЛрдЧрд╛ред  рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдКрдкрд░ рд▓рд┐рдЦрд╛ рдерд╛, рдореИрдВ рдЖрд░реНрдордмрд┐рдпрди рдУрдПрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ, UART рдкреЛрд░реНрдЯ рдХреЛ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓рддрд╛ рд╕реЗ рд╕рдХреНрд░рд┐рдп рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, <b>рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ</b> <b>рд╣рд╛рд░реНрдбрд╡реЗрдпрд░</b> <b>-рдХреЙрдиреНрдлрд┐рдЧ</b> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП - <b>рд╣рд╛рд░реНрдбрд╡реЗрдпрд░</b> рд╕реЗрдХреНрд╢рди, рдЖрдкрдХреЛ рд╡рд╛рдВрдЫрд┐рдд рдкреЛрд░реНрдЯ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рдиреЗ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рд░рд┐рдмреВрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/ic/7l/il/ic7lilxwfsext55fvjnpdyxfiuq.png"><br><br>  Zigbee рдбреНрд░рд╛рдЗрд╡рд░ рдХреЛ рдПрдХ рдХреНрд▓рд┐рдХ рдХреЗ рд╕рд╛рде рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдкреИрдирд▓ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/uw/-d/zm/uw-dzmkdrsbgnunfmchqtzqq8ta.png"><br><br>  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕рдордиреНрд╡рдпрдХ рдкреЛрд░реНрдЯ <b>/ рджреЗрд╡ / ttyS4</b> рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдКрдкрд░ рд▓рд┐рдЦрд╛ рд╣реИ), рд╣рдо рдЗрд╕реЗ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/eu/2i/bo/eu2ibog5mba2paet4ecec7jo7aw.png"><br><br>  рдЕрдиреНрдп рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЫреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рдкрд╣рд▓реЗ рд▓реЙрдиреНрдЪ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ (рдЬреЛрдбрд╝рдирд╛) рдЪрд╛рд╣рд┐рдПред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрд┐рддреБрдм</a> рдкрд░ рдкреВрд░рд╛ рдирд┐рд░реНрджреЗрд╢, рдЗрд╕ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдпреБрдЧреНрдорди рджреЗрд╢реА рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рдереАред <br><br>  рдЗрд╕рд▓рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, Xiaomi рдмрдЯрди (Mijia рд╢реНрд░реГрдВрдЦрд▓рд╛) рдЬреЛрдбрд╝реЗрдВ, рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо рдбреНрд░рд╛рдЗрд╡рд░ рд╕реЗрдЯрд┐рдВрдЧ рдореЗрдВ рд╣рд░реЗ рдмрдЯрди рдХреЛ рджрдмрд╛рддреЗ рд╣реИрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреЗ рд╣реБрдП, рдкрд╣рд▓реЗ рдмреИрдХрд┐рдВрдЧ рдмрдЯрди рдХреЛ рдПрдХ рдкреЗрдкрд░ рдХреНрд▓рд┐рдк рдХреЗ рд╕рд╛рде рдкрдХрдбрд╝рддреЗ рд╣реИрдВ, рдЬрдм рддрдХ рдХрд┐ рдПрд▓рдИрдбреА рдЪрдордХрдирд╛ рд╢реБрд░реВ рди рд╣реЛ рдЬрд╛рдП, рддрдм рд╣рд░ 2 рд╕реЗрдХрдВрдб рдореЗрдВ рд▓рдЧрднрдЧ рдПрдХ рдмрд╛рд░ рдЗрд╕ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рдмрд╛рдБрдзрдирд╛ рдкреНрд░рдЧрддрд┐ рджреЗрдЦреЗрдВред <br><br><img src="https://habrastorage.org/webt/mm/vq/ok/mmvqokw8ors3oszymkuqv5jsswq.png"><br><br>  рдореЗрд░рд╛ рдЕрдкрд╛рд░реНрдЯрдореЗрдВрдЯ рдмрдбрд╝рд╛ рдирд╣реАрдВ рд╣реИ, рд╕рднреА рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд┐рд░ рд╣реИ, рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд▓реИрдВрдбрд┐рдВрдЧ рдкрд░ рдПрдХ рджрд░рд╡рд╛рдЬрд╛ рдЦреБрд▓рд╛ рд╕реЗрдВрд╕рд░ рдХреЗ рд╕рд╛рде (рдкреНрд░рдмрд▓рд┐рдд рдХрдВрдХреНрд░реАрдЯ рдХреА рджреАрд╡рд╛рд░ 100 рдорд┐рдореА рдФрд░ рдПрдХ рд╕реАрдзреА рд░реЗрдЦрд╛ рдореЗрдВ 5 рдореАрдЯрд░ рд╣реИ)ред  рд╕рдорд╕реНрдпрд╛рдПрдВ рддрдм рд╢реБрд░реВ рд╣реБрдИрдВ, рдЬрдм рдореИрдВрдиреЗ рд╕рдбрд╝рдХ рдХреА рд╣рд╡рд╛ рдореЗрдВ рдПрдХ рддрд╛рдкрдорд╛рди рдФрд░ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдВрд╕рд░ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдШрд░ рдХреЗ рдмрд╛рд╣рд░реА рджреАрд╡рд╛рд░ рдкрд░ рдЗрдВрд╕реБрд▓реЗрдЯреЗрдб рд▓реЙрдЬрд┐рдпрд╛ рдХреА рддрд░рдл рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдерд╛ред  рдПрдХ рдХрдордЬреЛрд░ рд╕реЗрдВрд╕рд░ рдХрд╛ рд╕рдВрдХреЗрдд, рдЬреЛ рд╕рдбрд╝рдХ рдкрд░ рднреА рдерд╛, рд╕реНрд╡рдЪрд╛рд▓рди рдХреИрдмрд┐рдиреЗрдЯ рддрдХ рдирд╣реАрдВ рдкрд╣реБрдВрдЪрд╛ред  рд╕рдорд╕реНрдпрд╛ рдХреЛ рдмрд╕ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - рдЖрдкрдХреЛ ZigBee рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдПрдХ рд░рд╛рдЙрдЯрд░ рдЬреЛрдбрд╝рдиреЗ рдФрд░ рдЗрд╕реЗ рд╕реЗрдВрд╕рд░ рдХреЗ рдХрд░реАрдм рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдХреБрдЫ рд╡рд╛рдпрд░рд▓реЗрд╕ рдбрд┐рд╡рд╛рдЗрд╕, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, Xiaomi рд╕реЙрдХреЗрдЯ, рдПрдХ рд░рд╛рдЙрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдкрд╛рд╕ рдРрд╕реЗ рдЙрдкрдХрд░рдг рдирд╣реАрдВ рдереЗред  рдореИрдВ рд╕рдбрд╝рдХ рдкрд░ рдПрдХ рд╕реЗрдВрд╕рд░ рд╕реЗ "рдЕрдЧреНрд░реЗрд╖рдг" рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдорд╣рдВрдЧреЗ рдЖрдЙрдЯрд▓реЗрдЯ рдпрд╛ рдПрдХ рдирд┐рдпрдВрддреНрд░рд┐рдд рдкреНрд░рдХрд╛рд╢ рдЦрд░реАрджрдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдирд┐рдХрд▓рд╛, SS25xx рдЪрд┐рдк рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рдорд╛рди рдЯрд░реНрдорд┐рдирд▓ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢реЗрд╖ рдлрд░реНрдорд╡реЗрдпрд░ рд╣реИ рдЬреЛ рдЙрдиреНрд╣реЗрдВ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд░рд╛рдЙрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдирддреАрдЬрддрди, рдореИрдВрдиреЗ USB рдХрдиреЗрдХреНрд╢рди рдХреЗ рд╕рд╛рде CC2531 рдЪрд┐рдк рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдПрдХ рд░рд╛рдЙрдЯрд░ рдЬреЛрдбрд╝рд╛ред  рдореИрдВ рдлрд╝рд░реНрдорд╡реЗрдпрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкрд░ рдирд╣реАрдВ рд░рд╣рддрд╛, рд╕реНрдХреАрдо рдФрд░ рдлрд╝рд░реНрдорд╡реЗрдпрд░ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреАрдердм</a> рдкреГрд╖реНрда рдкрд░ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЪреВрдВрдХрд┐, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпреВрдПрд╕рдмреА рдкреЛрд░реНрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдпреВрдПрд╕рдмреА рдкреЛрд░реНрдЯ рдХреЗ рд╕рд╛рде рдЪрд╛рд░реНрдЬрд┐рдВрдЧ рдореЗрдВ рдкреНрд▓рдЧ рдХрд┐рдпрд╛ рдФрд░ рдЗрд╕реЗ рд░рд╕реЛрдИ рдореЗрдВ рдПрдХ рдЖрдЙрдЯрд▓реЗрдЯ рдореЗрдВ рдкреНрд▓рдЧ рдХрд┐рдпрд╛ред  рдирд┐рдХрдЯ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдореИрдВ рдЗрд╕реЗ рд▓реЙрдЧрдЧрд┐рдЖ рдкрд░ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЗрдорд╛рд░рдд рдореЗрдВ рдФрд░ рдПрдХ рдШрд░ рдпреВрдкреАрдПрд╕ рд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рд╢рдХреНрддрд┐ рдХреЗ рд╕рд╛рде рд╕реНрдерд┐рд░ рд░рдЦрдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛ рд░рд╣рд╛ рд╣реВрдВред <br><br><img src="https://habrastorage.org/webt/kh/an/8v/khan8vzw8f5ueqs2n-jf-9kc2e4.jpeg"><br><br>  рд░рд╛рдЙрдЯрд░ рдХреЛ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рд░рд▓ рд╣реИ: рдбреНрд░рд╛рдЗрд╡рд░ рдореЗрдВ рдкреЗрдпрд░рд┐рдВрдЧ рдмрдЯрди рдХреЛ рджрдмрд╛рдПрдВ рдФрд░ рд░рд╛рдЙрдЯрд░ рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд┐рдП рдЧрдП рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рддрдХ S2 рдмрдЯрди рдХреЛ рдХрдИ рдмрд╛рд░ рджрдмрд╛рдПрдВред <br><br><img src="https://habrastorage.org/webt/6g/x_/gf/6gx_gfpctjiecwfz8mtz3ah8bne.png"><br><br>  рдЖрдЗрдП рдПрдХ рддрд╛рдкрдорд╛рди / рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдВрд╕рд░ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рдореИрдВ рдмрд╛рд╣рд░ рд▓реЙрдЧрдЧрд┐рдЖ рдкрд░ рд╕реНрдерд┐рдд рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рдЬреЛ рдПрдХ рд░рд╛рдЙрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдЖрдк рдмрд╕ рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдпреБрдЧреНрдорди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕реЗрдВрд╕рд░ рдХреЛ рд░рд╛рдЙрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрдЧрд░ рдпрд╣ рдХрд░реАрдм рд╣реИред  рд▓реЗрдХрд┐рди рдЖрдк рдЬрдмрд░рди рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдпреБрдЧреНрдорди рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд░рд╛рдЙрдЯрд░ рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рд░рд╛рдЙрдЯрд░ рдХреЗ рдЖрдЗрдХрди рдкрд░ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ, рд╣рд░реЗ рдпреБрдЧреНрдорди рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред <br><br><img src="https://habrastorage.org/webt/bz/df/tr/bzdftrouwfsmd3qq0yyztpsfyee.png"><br><br>  рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рд╕реЗрдВрд╕рд░ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ - рдиреЗрдЯрд╡рд░реНрдХ рдореИрдк рджреЗрдЦреЗрдВред <br><br><img src="https://habrastorage.org/webt/g9/bj/ru/g9bjruowwwdc7tvq03p0vychauo.png"><br><br>  рдирдХреНрд╢рд╛ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рдмреАрдЪ рд╕рд┐рдЧреНрдирд▓ рдХреА рдЧреБрдгрд╡рддреНрддрд╛ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдпреБрдЧреНрдорди рд░реЗрдЦрд╛рдУрдВ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИред  рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдКрдкрд░ рд▓рд┐рдЦрд╛ рд╣реИ, рдореЗрд░реЗ рдкрд╛рд╕ 35 рд╡рд░реНрдЧ рдореАрдЯрд░ рдХрд╛ рдЫреЛрдЯрд╛ рдУрдбрдиреБрд╖реНрдХрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдирдХреНрд╢рд╛ рдХрд╛рдлреА рдорд╛рдореВрд▓реА рд╣реИред  рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдЕрдиреБрдорддрд┐ рд╕реЗ, рдореИрдВ рдПрдХ рдмрдбрд╝реЗ рдХрд╛рд░реНрдб рдХреЗ рд╕рд╛рде рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░реВрдВрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/9b/r9/g6/9br9g6psblxtppn56-khinqtf90.png"><br><br><img src="https://habrastorage.org/webt/jo/--/ux/jo--uxxcnxpn_qtlah5yd4awl_g.png"><br><br><img src="https://habrastorage.org/webt/p0/lg/ba/p0lgba6-rpbvnqkcttsabf6wnaa.jpeg"><br><br>  рдЗрд╕ рдПрдбреЗрдкреНрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреБрдЫ Xiaomi рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рджреЗрд╢реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдФрд░ mihome рдбреНрд░рд╛рдЗрд╡рд░ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝реА рдЕрдзрд┐рдХ рд╣реИред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдореИрдВ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдереЛрдбрд╝рд╛ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдФрд░ рдирдП рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдкрд░реНрджреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдорд╛рд░реНрдЯ рдбреНрд░рд╛рдЗрд╡ рдФрд░ рдПрдХ рд╕реЗрдВрд╕рд░ рдХреНрдпреВрдмред <br><br><h4>  рд╕рд╛рдордЧреНрд░реА рдЪрд╛рд▓рдХ </h4><br>  рд╣рдореЗрдВ рдбреЗрдЯрд╛ рдорд┐рд▓рд╛, рдПрдХреНрдЯреНрдпреВрдПрдЯрд░реНрд╕ рдиреЗ рдмрд╛рдВрдз рджрд┐рдпрд╛, рдЕрдм рдЙрдирдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ?  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рд╕реБрдВрджрд░ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдореЗрд░реЗ рдкрд╛рд╕ рд╡рд┐рдЬрд╝ рдбреНрд░рд╛рдЗрд╡рд░ рдореЗрдВ рдПрдХ рдмрдбрд╝реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╣реИ, рдЬреЛ рд╡рд┐рднрд┐рдиреНрди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдХрдИ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдореМрдЬреВрдж рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдЕрд▓рдЧ рд▓реЗрдЦ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╕рд╛рдордЧреНрд░реА рд╣реИред  рд╢рд╛рдпрдж рд╡рд╣ рдЖрдЧреЗ рд╣реЛрдЧреАред <br><br>  рд╡рд┐рднрд┐рдиреНрди рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рдФрд░ рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд╕рд░рд▓ рдФрд░ рддреНрд╡рд░рд┐рдд рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП, рдореИрдВ рд╕рд╛рдордЧреНрд░реА рдЪрд╛рд▓рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред  рдХреНрд▓рд┐рдХ рдХреЗ рдПрдХ рдЬреЛрдбрд╝реЗ рдореЗрдВ рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣ рд╕реНрдерд╛рдкрдирд╛ред  рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЯрд╛рдЗрд▓реЗрдВ рд╢реНрд░реЗрдгреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдбреЗрдЯрд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреА рд╣реИрдВ, рдЬреЛ рдЙрд╕реА рдирд╛рдо рдХреЗ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рд╡рд┐рдВрдбреЛ рдореЗрдВ рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВред  рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХреА рд╕реВрдЪреА рдХреЗрд╡рд▓ рдХрд▓реНрдкрдирд╛ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реИ, рдореИрдВ "рдХрдорд░реЗ-рд╕рдорд╛рд░реЛрд╣" рдпреЛрдЬрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВ, рдФрд░ рдЙрдирдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдореВрд╣рди рд╣реЛрддрд╛ рд╣реИред  рд╕рднреА рдХрдорд░реЛрдВ (рд░рд╕реЛрдИ, рдЧрд▓рд┐рдпрд╛рд░реЗ, рдХрдорд░реЗ, рдмрд╛рд▓рдХрдиреА, рдЖрджрд┐) рдФрд░ рдХрд╛рд░реНрдпреЛрдВ (рдкреНрд░рдХрд╛рд╢ рд╡реНрдпрд╡рд╕реНрдерд╛, рд╕реЗрдВрд╕рд░, рд╕рд┐рд╕реНрдЯрдо, рдЖрджрд┐) рдХреЛ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ред <br><br><img src="https://habrastorage.org/webt/le/nt/7p/lent7pos1th-k5mzz9yezdmug-m.png"><br><br>  рдЕрдм, рд╕рд┐рд╕реНрдЯрдо рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╡рд┐рдВрдбреЛ рдореЗрдВ, рдЙрди рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдЬреЛ рдХрдорд░реЗ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреНрд░реАрди рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрдВрдЧреЗ, рдХрд╛рд░реНрдп рдХрд░реЗрдВрдЧреЗ рдФрд░ рдПрдХ рднреВрдорд┐рдХрд╛ (рдЙрдЪрд┐рдд рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП) рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВрдЧреЗред  рдПрдХ рдЙрджрд╛рд╣рд░рдг Xiaomi рдХреЗ рдЗрдирдбреЛрд░ рджреАрд╡рд╛рд░ рддрд╛рдкрдорд╛рди рдФрд░ рдЖрд░реНрджреНрд░рддрд╛ рд╕реЗрдВрд╕рд░ рд╣реИ, рдЬреЛ рдмреНрд▓реВрдЯреВрде рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред <br><br><img src="https://habrastorage.org/webt/by/2u/ws/by2uwskolk1rxomzcm-mvg_rccw.png"><br><br>  рдЗрди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдЯрд╛рдЗрд▓ рд╕реНрдХреНрд░реАрди рдкрд░ рдбреЗрдЯрд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧреА, рдЖрдЗрдХрди рдХрд╕ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдкреНрд░рдХрд╛рд░ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдг рдЙрдкрд▓рдмреНрдз рд╣реЛрдЧрд╛ред <br><br>  <b>рдЙрджрд╛рд╣рд░рдг 1.</b> рдПрдХ рд╢реНрд░реЗрдгреА рдореЗрдВ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрддреНрдкрд╛рджрди - рдлрд╝рдВрдХреНрд╢рдиред  рдкреВрд░реЗ рдЕрдкрд╛рд░реНрдЯрдореЗрдВрдЯ рдореЗрдВ рдкреНрд░рдХрд╛рд╢ред <br><br><img src="https://habrastorage.org/webt/jp/xs/m3/jpxsm3v67xbi7otryix6xqemigu.png"><br><br>  <b>рдЙрджрд╛рд╣рд░рдг 2.</b> рдХрдорд░реЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрддреНрдкрд╛рджрди - рдмрд╛рдерд░реВрдоред <br><br><img src="https://habrastorage.org/webt/5x/ce/2m/5xce2mjrmxjetxojelprdg95chg.png"><br><br>  <b>рдЙрджрд╛рд╣рд░рдг 3.</b> рд╕рднреА Xiaomi рд╡рд╛рдпрд░рд▓реЗрд╕ рдЙрдкрдХрд░рдгреЛрдВ <b>рдХрд╛</b> рд╡реЛрд▓реНрдЯреЗрдЬ рдФрд░ рдмреИрдЯрд░реА рдбрд┐рд╕реНрдЪрд╛рд░реНрдЬ рд╕реНрддрд░ред <br><br><img src="https://habrastorage.org/webt/40/t4/p3/40t4p3d-ggn71albkiy7aarsylo.png"><br><br>  рдпрд╣ рдбреНрд░рд╛рдЗрд╡рд░ рдореЛрдмрд╛рдЗрд▓ рдлреЛрди рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕реНрдерд╛рдиреАрдп рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд▓рд┐рдП рдореЗрд░реЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рджреАрд╡рд╛рд░ рдкрд░ рдПрдХ рд╕реНрдерд┐рд░ рдЯреИрдмрд▓реЗрдЯред  рдХрднреА-рдХрднреА рдореИрдВ рд╡реАрдкреАрдПрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реВрдВред  рджреВрд░рд╕реНрде рд░реВрдк рд╕реЗ рд░рд╛рдЬреНрдпреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдФрд░ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рд╕реВрдЪрдирд╛рдПрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдЪрд╛рд▓рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред <br><br><h4>  рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдЪрд╛рд▓рдХ </h4><br>  рдореИрдВ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХрд╛ рд╡рд░реНрдгрди рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛, рдмрд╕ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдкрд░ рдЬрд╛рдПрдВред  рдореИрдВ рд╕рдордп-рд╕рдордп рдкрд░ рдорддрджрд╛рди (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ 300ms) рдФрд░ рдкреНрд░реЙрдХреНрд╕реА рд╕рд░реНрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдСрдкрд░реЗрд╢рди рдХреЗ рдореЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред  рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдмреЙрдЯ, рдмреЙрдЯрдлрд╝рд╛рджрд░ рдХреЗ рдирд┐рд░реНрдорд╛рддрд╛ рдХреЗ рд╕рд╛рде "рдмрд╛рдд" рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рд░рд▓ рд╣реИ - рдЗрд╕ рдмреЙрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдЦреЛрдЬ рдХрд░реЗрдВ, рдПрдХ рдирдпрд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдорд╛рдВрдб рджреЗрдВ, рдЗрд╕рдХрд╛ рдЕрджреНрд╡рд┐рддреАрдп рдирд╛рдо рдФрд░ рдЕрдкрдиреА рдХреБрдВрдЬреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ, рдЗрд╕реЗ рдбреНрд░рд╛рдЗрд╡рд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд░реЗрдВ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП, "рд╕реНрд╡рд╛рдЧрдд" рдкрд╛рд╕рд╡рд░реНрдб рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВред  рдирдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рддреЗ рд╕рдордп рдЖрдкрдХрд╛ рдмреЙрдЯ рдЙрд╕реЗ рдкреВрдЫреЗрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/du/nw/jt/dunwjtmlt874q5t1hma81lpz0qs.png"><br><br>  рдЕрдм рдЖрдкрдХреЛ рдмреЙрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрдЪрд╛рд░ рдорд╛рдорд▓реЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЖрдк рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП text2command рдбреНрд░рд╛рдЗрд╡рд░ рдпрд╛ JavaScript рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд░реВрдк рд╕реЗ рд╣реБрдЖ рд╣реИ рдХрд┐ рдореИрдВ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдкрд╛рда рдФрд░ рдмреНрд▓реЙрдХ рдмреНрд▓реЙрдХ рджреЛрдиреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд░рддрд╛ рд╣реВрдВред  рдЬреЗрдПрд╕ рдЪрд╛рд▓рдХ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдХрд╛ рдХрд╛рд░рдг рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рд▓реЙрдиреНрдЪ рдХреЗ рдмрд╛рдж, рдЖрдкрдХреЛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдиреЗ рдФрд░ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрдиреВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/wj/tc/pb/wjtcpbty2ro46bn6a5orrwbvpis.png"><br><br>  <b>рдЙрджрд╛рд╣рд░рдг 1.</b> рдЕрд▓рд░реНрдЯред <br><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рд╕рд╛рдордиреЗ рдХреЗ рджрд░рд╡рд╛рдЬреЗ рдХреЗ рдЙрджреНрдШрд╛рдЯрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рднреЗрдЬрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВред  рдореЗрд░реЗ рд╕рд╛рдордиреЗ рджрд░рд╡рд╛рдЬреЗ рдкрд░ рдПрдХ Xiaomi рд╡рд╛рдпрд░рд▓реЗрд╕ рд╕реЗрдВрд╕рд░-рд░реАрдб рд╕реНрд╡рд┐рдЪ рд╣реИред  рдореИрдВ рдореЙрдирд┐рдЯрд░ рдХрд░рддрд╛ рд╣реВрдВ рдХрд┐ рдЬрдм рдореИрдВ рдХрд╛рдо рдкрд░ рд╣реЛрддрд╛ рд╣реВрдВ рддреЛ рдореЗрд░реА рдкрддреНрдиреА рдХреНрд╖реБрджреНрд░ рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдЪрд▓рддреА рд╣реИред  рдХреЙрдорди рдЧреНрд░реБрдк рдореЗрдВ рдПрдХ рдирдИ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдПрдВред <br><br><img src="https://habrastorage.org/webt/cu/l6/5j/cul65jefd-k794nct-cicju7x64.png"><br><br>  рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ рдХрд┐ рдмреНрд▓реЙрдХ рдореЗрдВ "рдбреНрд░рд╛" рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдФрд░ рдЗрд╕реЗ "рдЯреЗрд▓реАрдЧреНрд░рд╛рдо_рдмреЙрдЯ" рдХрд╣реЗрдВред <br><br><img src="https://habrastorage.org/webt/os/ed/kq/osedkqplopwii7ckmd3eftjliwo.png"><br><br>  "рдИрд╡реЗрдВрдЯ" рд╕рдореВрд╣ рдореЗрдВ, рд╣рдо рдЪрд░ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЗрдХрд╛рдИ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдХрд╛рд░реНрдп рдХреНрд╖реЗрддреНрд░ рдкрд░ рдЦреАрдВрдЪрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/1h/o6/yq/1ho6yq_kluvryjb48bdo9iijn-a.png"><br><br>  рдЗрд╕рдХреЗ рдмрд╛рдж, рдЬрд┐рд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╣рдо рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЙрд╕ рдЖрдИрдбреА рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ, рдСрдмреНрдЬреЗрдХреНрдЯ рдЪреЗрдХ рдХреЛ "if" - "рдЕрдиреНрдпрдерд╛ рдпрджрд┐" рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд╣реА / рдЧрд▓рдд рдкрд░ рдбрд╛рд▓реЗрдВред  рдкрд░рд┐рдгрд╛рдо рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╕реЗ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><img src="https://habrastorage.org/webt/9u/-r/0s/9u-r0sajaneojinyzpgojw2lnoa.png"><br><br>  рдареАрдХ рд╣реИ, рдЕрдм рд╣рдо рдЪрд▓ рд░рд╣реЗ рд╣реИрдВ, рд╣рдо рджрд░рд╡рд╛рдЬрд╛ рдЦреЛрд▓рддреЗ рд╣реИрдВ - рд╣рдо рджрд░рд╡рд╛рдЬрд╛ рдмрдВрдж рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╣рдо рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдореЗрдВ рд╕рдВрджреЗрд╢ рджреЗрдЦрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/ae/07/u6/ae07u62jmarzp0nw1hv2a3bhv9y.png"><br><br>  <b>рдЙрджрд╛рд╣рд░рдг 2.</b> рдореЗрдиреВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдХрд╛рд╢ рдирд┐рдпрдВрддреНрд░рдгред <br>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ, рдЪрд▓реЛ рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдореЗрдВ рдореЗрдиреВ рдмрдЯрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдХрд╛рд╢ рдирд┐рдпрдВрддреНрд░рдг рдмрдирд╛рддреЗ рд╣реИрдВред  рдпрд╣рд╛рдВ рдЖрдкрдХреЛ рдереЛрдбрд╝рд╛ рдШреВрдордирд╛ рд╣реЛрдЧрд╛, рдпрд╛рдиреА  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рддреЗ рд╕рдордп, рдЖрдкрдХреЛ JS рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдХрд╛рд░реНрдп рд▓рдЧрднрдЧ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╣реИ: рдмрдЯрди рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдкрд╛рда рдореЗрдВ рддреБрд░рдВрдд рдкреНрд░рджрд░реНрд╢рд┐рдд рдЬреБрдбрд╝рдирд╛рд░ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рдореЗрдиреВ рдХреЗ рд░реВрдк рдореЗрдВ рдмрдЯрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред  рдлрд┐рд░ рднреА рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ рдХрд┐ рдЬрдм рдЖрдк рдмрдЯрди рджрдмрд╛рддреЗ рд╣реИрдВ, рддреЛ рдкреНрд░рдХрд╛рд╢ рдХреА рд╕реНрдерд┐рддрд┐ рдЙрд▓рдЯреА рд╣реЛ рдФрд░ рдкреНрд░рдХрд╛рд╢ рдмрд▓реНрдм рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ / рдЧрд╛рдпрдм рд╣реЛрдиреЗ рдХреЗ рд╕рд╛рде рдмрдЯрди рдкрд╛рда рдореЗрдВ рд╕реНрдерд┐рддрд┐ рддреБрд░рдВрдд рдЕрдкрдбреЗрдЯ рд╣реЛ рдЬрд╛рддреА рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдореЗрдиреВ рдкрд╣рд▓реЗ рд╕реЗ рдЪрд▓ рд░рд╣рд╛ рд╣реИ рдФрд░ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдмрдЯрди рдХреЗ рд╕рд╛рде рдкреНрд░рдХрд╛рд╢ рдХреЛ рдЪрд╛рд▓реВ / рдмрдВрдж рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдореЗрдиреВ рдХреЛ рдЬреБрдбрд╝рдирд╛рд░ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рднреА рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПред <br>  рдЗрд╕ рдХреЛрдб рдореЗрдВ рдЯрд┐рдкреНрдкрдгрд┐рдпрд╛рдВ рд╣реИрдВ рдФрд░ рдпрд╣ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╕рд░рд▓ рд╣реИ: <br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/c980b9dd1c2e9d050810b11ed712b0c0.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist93669305" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-telegram_bot" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-text ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-telegram_bot-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-telegram_bot-LC1" class="blob-code blob-code-inner js-file-line">//    ID   </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-telegram_bot-LC2" class="blob-code blob-code-inner js-file-line">const LIGHT1 = ' ',     CH_LIGHT1 = 'mqtt.0.PLC55_Lighting.lighting.MainRoom_main1';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-telegram_bot-LC3" class="blob-code blob-code-inner js-file-line">const LIGHT2 = ' ',      CH_LIGHT2 = 'mqtt.0.PLC55_Lighting.lighting.MainRoom_main2';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-telegram_bot-LC4" class="blob-code blob-code-inner js-file-line">const LIGHT3 = ' ',    CH_LIGHT3 = 'mqtt.0.PLC55_Lighting.lighting.MainRoom_sec';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-telegram_bot-LC5" class="blob-code blob-code-inner js-file-line">const LIGHT4 = ' ',      CH_LIGHT4 = 'mqtt.0.PLC55_Lighting.lighting.Kitchen_main';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-telegram_bot-LC6" class="blob-code blob-code-inner js-file-line">const LIGHT5 = ' 1',  	CH_LIGHT5 = 'mqtt.0.PLC55_Lighting.lighting.Kitchen_sec_top';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-telegram_bot-LC7" class="blob-code blob-code-inner js-file-line">const LIGHT6 = ' 2',    CH_LIGHT6 = 'mqtt.0.PLC55_Lighting.lighting.Kitchen_sec_bottom';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-telegram_bot-LC8" class="blob-code blob-code-inner js-file-line">const LIGHT7 = ' ',     CH_LIGHT7 = 'mqtt.0.PLC55_Lighting.lighting.BathRoom_main';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-telegram_bot-LC9" class="blob-code blob-code-inner js-file-line">const LIGHT8 = ' ',       CH_LIGHT8 = 'mqtt.0.PLC55_Lighting.lighting.Hall_main';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-telegram_bot-LC10" class="blob-code blob-code-inner js-file-line">const LIGHT9 = ' ',    CH_LIGHT9 = 'mqtt.0.PLC55_Lighting.lighting.Balcon_main';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-telegram_bot-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-telegram_bot-LC12" class="blob-code blob-code-inner js-file-line">//    </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-telegram_bot-LC13" class="blob-code blob-code-inner js-file-line">function sendLightMenu(message_text) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-telegram_bot-LC14" class="blob-code blob-code-inner js-file-line">	//   </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-telegram_bot-LC15" class="blob-code blob-code-inner js-file-line">    var l1 = getState(CH_LIGHT1).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-telegram_bot-LC16" class="blob-code blob-code-inner js-file-line">    var l2 = getState(CH_LIGHT2).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-telegram_bot-LC17" class="blob-code blob-code-inner js-file-line">    var l3 = getState(CH_LIGHT3).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-telegram_bot-LC18" class="blob-code blob-code-inner js-file-line">    var l4 = getState(CH_LIGHT4).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-telegram_bot-LC19" class="blob-code blob-code-inner js-file-line">    var l5 = getState(CH_LIGHT5).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-telegram_bot-LC20" class="blob-code blob-code-inner js-file-line">    var l6 = getState(CH_LIGHT6).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-telegram_bot-LC21" class="blob-code blob-code-inner js-file-line">    var l7 = getState(CH_LIGHT7).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-telegram_bot-LC22" class="blob-code blob-code-inner js-file-line">    var l8 = getState(CH_LIGHT8).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-telegram_bot-LC23" class="blob-code blob-code-inner js-file-line">    var l9 = getState(CH_LIGHT9).val ? 'ЁЯТб' : '';</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-telegram_bot-LC24" class="blob-code blob-code-inner js-file-line">    // </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-telegram_bot-LC25" class="blob-code blob-code-inner js-file-line">	sendTo('telegram.0', {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-telegram_bot-LC26" class="blob-code blob-code-inner js-file-line">        text:   message_text,</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-telegram_bot-LC27" class="blob-code blob-code-inner js-file-line">        reply_markup: {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-telegram_bot-LC28" class="blob-code blob-code-inner js-file-line">            keyboard: [</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-telegram_bot-LC29" class="blob-code blob-code-inner js-file-line">                [LIGHT1+l1, LIGHT2+l2, LIGHT3+l3],</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-telegram_bot-LC30" class="blob-code blob-code-inner js-file-line">                [LIGHT4+l4, LIGHT5+l5, LIGHT6+l6],</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-telegram_bot-LC31" class="blob-code blob-code-inner js-file-line">                [LIGHT7+l7, LIGHT8+l8, LIGHT9+l9]</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-telegram_bot-LC32" class="blob-code blob-code-inner js-file-line">            ],</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-telegram_bot-LC33" class="blob-code blob-code-inner js-file-line">            resize_keyboard:   true,</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-telegram_bot-LC34" class="blob-code blob-code-inner js-file-line">            one_time_keyboard: true</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-telegram_bot-LC35" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-telegram_bot-LC36" class="blob-code blob-code-inner js-file-line">    });</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-telegram_bot-LC37" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-telegram_bot-LC38" class="blob-code blob-code-inner js-file-line">//  </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-telegram_bot-LC39" class="blob-code blob-code-inner js-file-line">function changeLight(room, channel) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-telegram_bot-LC40" class="blob-code blob-code-inner js-file-line">	//   </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-telegram_bot-LC41" class="blob-code blob-code-inner js-file-line">    var alive = getState("mqtt.0.info.connection").val;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-telegram_bot-LC42" class="blob-code blob-code-inner js-file-line">    if (alive.includes("PLC55_Lighting")) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-telegram_bot-LC43" class="blob-code blob-code-inner js-file-line">        if (getState(channel).val) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-telegram_bot-LC44" class="blob-code blob-code-inner js-file-line">            setState(channel, false, false, function () {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-telegram_bot-LC45" class="blob-code blob-code-inner js-file-line">                sendLightMenu(room+' ');</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-telegram_bot-LC46" class="blob-code blob-code-inner js-file-line">            });</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-telegram_bot-LC47" class="blob-code blob-code-inner js-file-line">        } else { </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-telegram_bot-LC48" class="blob-code blob-code-inner js-file-line">            setState(channel, true, false, function () {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-telegram_bot-LC49" class="blob-code blob-code-inner js-file-line">                sendLightMenu(room+' ');</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-telegram_bot-LC50" class="blob-code blob-code-inner js-file-line">            });</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-telegram_bot-LC51" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-telegram_bot-LC52" class="blob-code blob-code-inner js-file-line">    } else {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-telegram_bot-LC53" class="blob-code blob-code-inner js-file-line">        sendLightMenu('  OFFLINE');</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-telegram_bot-LC54" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-telegram_bot-LC55" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-telegram_bot-LC56" class="blob-code blob-code-inner js-file-line">//   request  ,    </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-telegram_bot-LC57" class="blob-code blob-code-inner js-file-line">on({id: "telegram.0.communicate.request", ack: false, change: 'any'}, function (obj) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-telegram_bot-LC58" class="blob-code blob-code-inner js-file-line">    var msg = obj.state.val;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-telegram_bot-LC59" class="blob-code blob-code-inner js-file-line">    var command = obj.state.val.substring(obj.state.val.indexOf(']')+1);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-telegram_bot-LC60" class="blob-code blob-code-inner js-file-line">    var user = obj.state.val.substring(obj.state.val.indexOf('[')+1,obj.state.val.indexOf(']'));</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-telegram_bot-LC61" class="blob-code blob-code-inner js-file-line">    var chat_id = getState("telegram.0.communicate.requestChatId").val;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-telegram_bot-LC62" class="blob-code blob-code-inner js-file-line">    var message_id = getState("telegram.0.communicate.requestMessageId").val;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-telegram_bot-LC63" class="blob-code blob-code-inner js-file-line">    var handled = false;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-telegram_bot-LC64" class="blob-code blob-code-inner js-file-line">    //     </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-telegram_bot-LC65" class="blob-code blob-code-inner js-file-line">	if (command == '/start' || command == '/menu' || command == '' || command == '') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-telegram_bot-LC66" class="blob-code blob-code-inner js-file-line">        sendLightMenu("");</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-telegram_bot-LC67" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-telegram_bot-LC68" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-telegram_bot-LC69" class="blob-code blob-code-inner js-file-line">//######################## Lighting menu and commands ################</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-telegram_bot-LC70" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT1 || command == LIGHT1+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-telegram_bot-LC71" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT1, CH_LIGHT1);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-telegram_bot-LC72" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-telegram_bot-LC73" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-telegram_bot-LC74" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT2 || command == LIGHT2+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-telegram_bot-LC75" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT2, CH_LIGHT2);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-telegram_bot-LC76" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-telegram_bot-LC77" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-telegram_bot-LC78" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT3 || command == LIGHT3+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-telegram_bot-LC79" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT3, CH_LIGHT3);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-telegram_bot-LC80" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-telegram_bot-LC81" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-telegram_bot-LC82" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT4 || command == LIGHT4+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-telegram_bot-LC83" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT4, CH_LIHT4);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-telegram_bot-LC84" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-telegram_bot-LC85" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-telegram_bot-LC86" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT5 || command == LIGHT5+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-telegram_bot-LC87" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT5, CH_LIGHT5);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-telegram_bot-LC88" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-telegram_bot-LC89" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-telegram_bot-LC90" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT6 || command == LIGHT6+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-telegram_bot-LC91" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT6, CH_LIGHT6);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-telegram_bot-LC92" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-telegram_bot-LC93" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-telegram_bot-LC94" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT7 || command == LIGHT7+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-telegram_bot-LC95" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT7, CH_LIGHT7);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-telegram_bot-LC96" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-telegram_bot-LC97" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-telegram_bot-LC98" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT8 || command == LIGHT8+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-telegram_bot-LC99" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT8, CH_LIGHT8);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-telegram_bot-LC100" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-telegram_bot-LC101" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-telegram_bot-LC102" class="blob-code blob-code-inner js-file-line">    if (command == LIGHT9 || command == LIGHT9+'ЁЯТб') {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-telegram_bot-LC103" class="blob-code blob-code-inner js-file-line">        changeLight(LIGHT9, CH_LIGHT9);</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-telegram_bot-LC104" class="blob-code blob-code-inner js-file-line">        handled = true;</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-telegram_bot-LC105" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-telegram_bot-LC106" class="blob-code blob-code-inner js-file-line">	//       ,      text2command</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-telegram_bot-LC107" class="blob-code blob-code-inner js-file-line">    if (!handled) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-telegram_bot-LC108" class="blob-code blob-code-inner js-file-line">        sendTo('text2command.0', {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-telegram_bot-LC109" class="blob-code blob-code-inner js-file-line">            text: command.replace(/\//g, '#').replace(/_/g, ' '),</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-telegram_bot-LC110" class="blob-code blob-code-inner js-file-line">            id: chat_id,</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-telegram_bot-LC111" class="blob-code blob-code-inner js-file-line">            user: user</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-telegram_bot-LC112" class="blob-code blob-code-inner js-file-line">        }, function (response) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-telegram_bot-LC113" class="blob-code blob-code-inner js-file-line">            if (response &amp;&amp; response.response) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-telegram_bot-LC114" class="blob-code blob-code-inner js-file-line">                sendTo('telegram.0', {user: user, text: response.response});</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-telegram_bot-LC115" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-telegram_bot-LC116" class="blob-code blob-code-inner js-file-line">        });</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-telegram_bot-LC117" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-telegram_bot-LC118" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-telegram_bot-LC119" class="blob-code blob-code-inner js-file-line">//   ,   </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-telegram_bot-LC120" class="blob-code blob-code-inner js-file-line">on({id: /^mqtt\.0\.PLC55_Lighting\.lighting\..*$/, ack: true, change: 'ne'}, function (obj) {</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-telegram_bot-LC121" class="blob-code blob-code-inner js-file-line">    sendLightMenu(" ");</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-telegram_bot-LC122" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-telegram_bot-LC123" class="blob-code blob-code-inner js-file-line">//       </td>
      </tr>
      <tr>
        <td id="file-telegram_bot-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-telegram_bot-LC124" class="blob-code blob-code-inner js-file-line">sendLightMenu("");</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">telegram_bot</a>
        hosted with тЭд by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><br>  рдкрд░рд┐рдгрд╛рдо рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/wm/kw/dj/wmkwdjedebx86h6ujqutsik93sa.png"><br><br><h4>  рдирд┐рд╖реНрдХрд░реНрд╖ </h4><br>  рд▓реЗрдЦ рд▓рдВрдмрд╛ рдЪрд▓рд╛, рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдпрд╣ рдЙрдкрдпреЛрдЧреА рд╣реИ, рдФрд░ рд╢рд╛рдпрдж рдпрд╣ рдХреБрдЫ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЬреАрд╡рди рдЖрд╕рд╛рди рдмрдирд╛ рджреЗрдЧрд╛ рдпрд╛ рдХрд┐рд╕реА рдХреЛ рдЕрдкрдирд╛ рд╕реНрдорд╛рд░реНрдЯ рдШрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрддреНрд╕рд╛рд╣рд┐рдд рдХрд░реЗрдЧрд╛ред <br>  рдлрд┐рд▓рд╣рд╛рд▓, рдореЗрд░рд╛ ioBroker- рдЖрдзрд╛рд░рд┐рдд рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо рд╕рд┐рд╕реНрдЯрдо 4 рд╕рд╛рд▓ рд╕реЗ рдШреВрдо рд░рд╣рд╛ рд╣реИ рдФрд░ рдореИрдВ рдЗрд╕рд╕реЗ рдХрд╛рдлреА рдЦреБрд╢ рд╣реВрдВред  ZigBee рдХреЗ рдЕрд▓рд╛рд╡рд╛, MQTT рдФрд░ HTTP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдИ рдШрд░-рдирд┐рд░реНрдорд┐рдд рдирд┐рдпрдВрддреНрд░рдХ рднреА рдкреНрд░рдХрд╛рд╢, рд╡реЗрдВрдЯрд┐рд▓реЗрд╢рди рдФрд░ рдЕрдиреНрдп рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реБрдП рд╣реИрдВ, 1-рддрд╛рд░ рдмрд╕ рдкрд░ рддрд╛рдкрдорд╛рди рд╕реЗрдВрд╕рд░ рдХрд╛ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ, RS4 рдмрд╕ рдФрд░ рдореЛрдбрдмрд╕ рдЖрд░рдЯреАрдпреВ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдкрд░ рдПрдХ рдмрд┐рдЬрд▓реА рдЖрдкреВрд░реНрддрд┐ рдирд┐рдЧрд░рд╛рдиреА рдЙрдкрдХрд░рдг, рдФрд░ рдмрд╣реБрдд рдХреБрдЫред <br><br>  рд╕реНрдорд╛рд░реНрдЯ рдШрд░ рдХреЗ рд▓рд┐рдП рд╕рдорд╛рдзрд╛рди рдХреЗ рдЕрдкрдиреЗ рдЧреБрд▓реНрд▓рдХ рдореЗрдВ, рдореИрдВрдиреЗ рдХрдИ рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреЛ рд╕рдВрдЪрд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╢рд╛рдпрдж, рдЙрдиреНрд╣реЗрдВ рд╕реНрдорд╛рд░реНрдЯ рдШрд░ рдХреЗ рд▓рд┐рдП рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдЧреБрд▓реНрд▓рдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдзрд┐рдХ рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдЬреЛ рд▓реЛрдЧ рдореЗрд░реЗ рдорддрд▓рдм рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╖рдп рдХреЛ рд╕рдордЭрддреЗ рд╣реИрдВ)ред  рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдХреЗ рд╡рд┐рд╖рдп рдкрд░ рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рдореЗрдВ рдореЗрд░реА рдорджрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рдЕрдкрдиреА рдЗрдЪреНрдЫрд╛рдУрдВ рдХреЛ рдЫреЛрдбрд╝ рджреЗрдВред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi433340/">https://habr.com/ru/post/hi433340/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi433330/index.html">рд╕реИрдЯ рд╕реЙрд▓реНрд╡рд░ рдХреЗ рд╕рд╛рде рдЬрд╛рдкрд╛рдиреА рд╡рд░реНрдЧ рдкрд╣реЗрд▓реА рдХреЛ рд╣рд▓ рдХрд░реЗрдВ</a></li>
<li><a href="../hi433332/index.html">рдЕрдЬреНрдпреЛрд░ рдлрдВрдХреНрд╢рдВрд╕ рдореЗрдВ рдкрд╛рдпрдерди рд╕рдкреЛрд░реНрдЯ</a></li>
<li><a href="../hi433334/index.html">WPF рдХреЗ рд▓рд┐рдП XAML рд╡реНрдпрд╡рд╣рд╛рд░ рдЕрдм рдУрдкрди рд╕реЛрд░реНрд╕ рд╣реИ</a></li>
<li><a href="../hi433336/index.html">рдмреЗрдмреАрд▓реЛрдирд┐рдпрди рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a></li>
<li><a href="../hi433338/index.html">Creality 3D рдкреНрд░рд┐рдВрдЯрд░ рдирд┐рд░реНрдорд╛рддрд╛ рдЕрд╡рд▓реЛрдХрди</a></li>
<li><a href="../hi433342/index.html">рдПрдХ рдФрд░ рд╕рд░рд▓ verilog рдкреНрд░реЛрд╕реЗрд╕рд░</a></li>
<li><a href="../hi433344/index.html">рдирд┐рдЬреА рд╕реНрдерд╛рди рдХреА рджреЛ рд╕рдлрд▓рддрд╛рдПрдБ</a></li>
<li><a href="../hi433346/index.html">Redshift рд╕реЗ ClickHouse рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдХрд░рдирд╛</a></li>
<li><a href="../hi433348/index.html">JSX рд╕реЗ рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЯрд╛рдЗрдк рдбреАрдПрд╕рдПрд▓</a></li>
<li><a href="../hi433350/index.html">рдорд╛рд╕реНрдХреЛ рдореЗрдВ 17 рджрд┐рд╕рдВрдмрд░ рд╕реЗ 23 рджрд┐рд╕рдВрдмрд░ рддрдХ рдбрд┐рдЬрд┐рдЯрд▓ рдХрд╛рд░реНрдпрдХреНрд░рдо</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>