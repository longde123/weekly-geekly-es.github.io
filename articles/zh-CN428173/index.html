<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❕ 📏 🧗🏽 Prettier，ESLint，Husky，Lint-Staged和EditorConfig：用于编写简洁代码的工具 🌵 👶🏼 🤙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="您努力编写整洁的代码，但不知道从哪里开始...阅读了Airbnb的样式指南，尝试遵循领先专家的实用建议...是否必须删除未使用的代码？ 必须寻找不必要的变量？ 您是否要确定程序中使用的错误模式？ 例如-您想了解，阅读某个函数代码的复杂性，无论该函数是否返回某些内容。 听起来很熟悉？ 问题是程序员很难...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prettier，ESLint，Husky，Lint-Staged和EditorConfig：用于编写简洁代码的工具</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/428173/"> 您努力编写整洁的代码，但不知道从哪里开始...阅读了Airbnb的样式指南，尝试遵循领先专家的实用建议...是否必须删除未使用的代码？ 必须寻找不必要的变量？ 您是否要确定程序中使用的错误模式？ 例如-您想了解，阅读某个函数代码的复杂性，无论该函数是否返回某些内容。 听起来很熟悉？ 问题是程序员很难做很多事情并且学到很多东西。 <br><br> 也许您是一个团队负责人，在这个团队的领导下，一个不同级别的开发人员团队正在工作？ 您的团队中有新人吗？ 他们编写的代码不符合您的标准是否会困扰您？ 当这些检查主要涉及对标准的合规性而不是与程序逻辑的合规性时，您的日子是否过去了？ <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/qg/vq/eo/qgvqeoxevihpbwwmwuogpsfc-ow.jpeg"></a> <br><br> 该材料的作者说，他面临着刚才提出的问题所涉及的所有问题。 他面临的是疲惫和疲惫。 在这里，他想谈一谈工具，正确使用这些工具可以使我们解决上述问题。 <br><br> 即，这里我们将讨论诸如Prettier，ESLint，Husky，Lint-Staged，EditorConfig之类的工具，以及有关格式化和代码插入的自动化。 这些材料主要集中在React开发上，但是这里讨论的原理可以应用于任何Web项目。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是一个</a>存储库，除其他外，这里对这里讨论的内容进行了编译。 <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">更漂亮</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Prettier</a>是一种代码格式化工具，旨在使用硬编码规则来设计程序。 它会自动格式化代码。 这是它的外观。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/731/385/f28/731385f28d65452936073391d84ba02d.gif"></div><br>  <i><font color="#999999">更漂亮的代码遵循规则</font></i> <br><br><h3>  <font color="#3AC1EF">▍漂亮的优势</font> </h3><br> 以下是Prettier的功能，使我们可以讨论此工具的实用性： <br><br><ul><li>整理现有的代码库。 使用Prettier，您只需一个命令就可以做到这一点。 手动处理大量代码将花费更多时间。 例如，想象一下手动格式化20,000行代码所需的劳动。 </li><li> 漂亮更容易实现。 格式化代码时，Prettier使用“平均”，争议最小的样式进行样式设置。 由于该项目是开源的，因此许多人对此做出了贡献，对其进行了改进并消除了尖锐的角落。 </li><li> 使用“更漂亮”，您可以专注于编写代码，而不是对其进行格式化。 许多人根本没有意识到格式化代码花费了多少时间和精力。 使用Prettier，您无需考虑格式化，而可以进行编程。 以我为例，得益于Prettier，工作效率提高了10％。 </li><li> 漂亮的东西可以帮助初学者。 如果您是由经验丰富的专业人员在同一团队中工作的初学者程序员，并且希望在他们的背景下看起来很有价值，那么Prettier将为您提供帮助。 </li></ul><br><h3>  <font color="#3AC1EF">▍配置更漂亮</font> </h3><br> 这是在新项目中使用Prettier的方法。 创建<code>app</code>文件夹，然后在命令行上运行以下命令： <br><br><pre> <code class="hljs swift">npm <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> -y</code> </pre> <br> 借助此命令， <code>npm</code>通过在其中创建<code>package.json</code>文件在<code>app</code>文件夹中初始化了一个新项目。 <br><br> 我将在这种材料中使用<code>yarn</code> ，但是在这里您可以使用<code>npm</code> 。 漂亮的人也可以连接到现有项目。 <br><br>  <code>prettier</code>软件包安装为我们项目的开发依赖项： <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev prettier</span></span></code> </pre> <br> 由于此命令， <code>package.json</code>依赖项将添加到<code>package.json</code> ，如下所示： <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br> 稍后，我们将讨论<code>"prettier": "prettier — write src/**/*.js"</code>行的含义<code>"prettier": "prettier — write src/**/*.js"</code> 。 同时，在<code>app</code>文件夹中创建<code>src</code>文件夹。 在此文件夹中，创建<code>index.js</code>文件，尽管您可以随意命名。 <br><br> 我们将以下代码添加到该文件中（采用难看的形式）： <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person =                     { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Yoda"</span></span>,               <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'Jedi Master '</span></span>               };             <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trainJedi</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">jediWarrion</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (jediWarrion.name === <span class="hljs-string"><span class="hljs-string">'Yoda'</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'No need! already trained'</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Training </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${jediWarrion.name}</span></span></span><span class="hljs-string"> complete`</span></span>)             } trainJedi(person)             trainJedi({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Adeel'</span></span>,             <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'padawan'</span></span> });</code> </pre> <br> 因此，目前，我们有<code>src/app/index.js</code> ，其中包含一个设计不良的代码。 <br><br> 如何解决？ 有三种方法可以处理格式错误的代码： <br><br><ol><li> 手动格式化此代码。 </li><li> 使用自动化工具。 </li><li> 保持原样继续工作（我请您不要选择这种方法）。 </li></ol><br> 我将选择第二个选项。 现在在我们的项目中有一个相应的依赖项，此外，在<code>package.json</code>文件的<code>scripts</code>部分中，有关于Prettier的记录。 显然，我们将使用此工具来格式化代码。 为此，请在<code>app</code>文件夹中创建<code>prettier.config.js</code>文件，并在其中添加Prettier的规则： <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = { printWidth: <span class="hljs-number"><span class="hljs-number">100</span></span>, singleQuote: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, trailingComma: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, bracketSpacing: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, jsxBracketSameLine: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, tabWidth: <span class="hljs-number"><span class="hljs-number">2</span></span>, semi: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, };</code> </pre> <br> 让我们分析以下规则： <br><br><ul><li>  <code>printWidth: 100</code>不能超过100个字符。 </li><li>  <code>singleQuote: true</code>所有双引号将转换为单引号。 有关更多详细信息，请参见《 Airbnb样式<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">指南》</a> 。 我真的很喜欢本指南，我用它来提高代码质量。 </li><li>  <code>trailingComma: 'all'</code> all'-在对象的最后一个属性之后提供逗号。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这是</a>一篇关于该主题<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的</a>好文章。 </li><li>  <code>bracketSpacing: true</code>负责在对象的正文和对象常量中的花括号之间插入空格。 如果将此属性设置为<code>true</code> ，则使用对象文字声明的对象将如下所示： <code>{ foo: bar }</code> 。 如果将其设置为<code>false</code> ，则此类构造将如下所示： <code>{foo: bar}</code> 。 </li><li>  <code>jsxBracketSameLine: false</code>由于此规则，多行JSX元素中的<code>&gt;</code>符号将放置在最后一行。 如果此规则设置为<code>true</code> ，则代码如下所示： </li></ul><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-class"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span><span class="hljs-tag">&gt;</span></span> Click Here <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> 如果将其设置为<code>false</code>将发生以下情况： <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-class"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span><span class="hljs-tag"> &gt;</span></span> Click Here <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><ul><li>  <code>tabWidth: 2</code>设置每个对齐级别的空格数。 </li><li>  <code>semi: true</code>如果此规则设置为<code>true</code> ，则在表达式的末尾添加分号。 </li></ul><br> 在此处找到所有更漂亮的规则。 <br><br> 现在已经配置了规则，让我们讨论一下此脚本： <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier  — write src/**/*.js"</span></span></code> </pre> <br> 由于有了这种设计，Prettier可以启动并在<code>src</code>文件夹中找到所有<code>.js</code>文件。  <code>--write</code>标志告诉他在处理格式化文件时保存它们，并更正其中发现的格式化错误。 <br><br> 从命令行运行脚本： <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">yarn</span></span> prettier</code> </pre> <br> 之后就是上面显示的格式不良的代码。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90a/7d3/969/90a7d3969ed2861181de76d899aed951.gif"></div><br>  <i><font color="#999999">使用Prettier格式化代码的结果</font></i> <br><br> 在此基础上，我们将假设有了Prettier，我们就知道了。 让我们谈谈短毛绒。 <br><br><h2>  <font color="#3AC1EF">ESLint</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Linting</a>是一种静态代码分析类型，通常用于查找有问题的设计模式或未遵循某些样式准则的代码。 <br><br> 有针对大多数编程语言设计的lint，有时编译器在编译代码的过程中包含lint。 棉绒的定义来自开源JavaScript JavaScript ESLint的开源信息<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">页面</a> ，我们将在后面进行讨论。 <br><br><h3>  <font color="#3AC1EF">hy为什么我需要一个lint用于JavaScript？</font> </h3><br> 由于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">JavaScript</a>是具有弱类型的动态编程语言，因此用它编写的代码很容易出现开发人员所犯的错误。  JavaScript是一种解释性语言，因此通常仅在运行此代码后才能检测到代码中的语法和其他错误。 <br><br> 像<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ESLint</a>一样， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Linters</a>使开发人员无需启动即可发现代码中的问题。 <br><br><h3>  <font color="#3AC1EF">ES为什么ESLint是特殊工具？</font> </h3><br> 本部分的标题中有一个很好的问题。 这里的重点是ESLint支持插件。 因此，代码验证规则不应是一个整体的程序包。 您需要的一切都可以根据需要连接。 添加到系统中的每个皮棉规则都是自治的，可以独立于其他规则打开或关闭它。 可以根据开发人员的需求为每个规则分配警报级别-这可以是警告（警告）或错误（错误）。 <br><br> 使用ESLint时，您将使用完全可定制的系统，该系统可以反映出您对正确代码的外观的理解，并捕获您遵循的规则集。 <br><br> 在现有的JavaScript样式指南中，以下非常流行： <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Google JavaScript样式指南</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Airbnb JavaScript样式指南</a> </li></ul><br> 如前所述，我使用了Airbnb样式指南。 我的职业生涯始于公司的经理向我提供了这份文件的建议，我认为这份风格指南是我最有价值的资产。 <br><br> 本指南已得到积极维护-查看其在GitHub上的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">存储库</a> 。 在这里，我将基于一组规则。 <br><br> 现在让我们处理<code>package.json</code>文件，向其中添加一些依赖项： <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>   } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br> 在讨论如何使用此配置之前，我想先谈谈添加到<code>package.json</code>的项目依赖项。 我相信在使用某些依赖项之前，您应该知道它们扮演的角色。 <br><br> 因此，我们将讨论此处介绍的软件包的作用： <br><br><ul><li>  <code>babel-eslint</code>允许您使用棉绒将其应用于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Babel</a>提供的所有产品。 如果您不使用ESLint尚不支持的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Flow</a>或实验性功能，则不需要此插件。 </li><li>  <code>eslint</code>是用于编码代码的主要工具。 </li><li>  <code>eslint-config-airbnb</code>提供Airbnb规则作为可修改的配置。 </li><li>  <code>eslint-plugin-babel</code>是一个ESLint插件，是对<code>babel-eslint</code>补充。 它重新设计了规则，这些规则在使用<code>babel-eslint</code>时会在处理实验特征时引起问题。 </li><li>  <code>eslint-plugin-import</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此</a>软件包支持链接新鲜的<code>import/export</code>语法结构，并有助于防止与文件路径和导入模块名称的拼写错误有关的问题。 </li><li>  <code>eslint-plugin-jsx-a11y</code>提供有关残疾人使用JSX元素的规则。  Web可访问性非常重要。 </li><li>  <code>eslint-plugin-prettier</code> prettier-帮助ESLint和Prettier一起工作。 看起来像这样：当Prettier格式化代码时，它会考虑ESLint规则。 </li><li>  <code>eslint-plugin-react</code> react-包含为React设计的ESLint规则。 </li></ul><br> 在本文中，我们不是在讨论代码测试，而是在上面的<code>package.json</code> ，有一些依赖项设计用于使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Jest / Enzyme</a>进行单元测试。 现在，如果您决定使用这些工具进行测试，请参阅相关软件包的说明。 <br><br><ul><li>  <code>eslint-config-jest-enzyme</code>此软件包专用于使用<code>jest-environment-enzyme</code> ，这会导致React和Enzyme变量是全局变量。 因此，ESLint不会发出有关此类变量的警告。 </li><li>  <code>eslint-plugin-jest —</code> jest-用于Jest的ESlint插件。 </li></ul><br> 文件中还有几个软件包，我们将在后面讨论自动化问题。 这是<code>husky</code> ，是<code>husky</code> 。 <br><br> 现在，我们已经大致讨论了我们的工具，我们将继续努力。 <br> 在<code>app</code>文件夹中创建<code>.eslintrc.js</code>文件： <br><br><pre> <code class="hljs powershell">module.exports = {   env: {       es6: true,       browser: true,       node: true,   },   extends: [<span class="hljs-string"><span class="hljs-string">'airbnb'</span></span>, <span class="hljs-string"><span class="hljs-string">'plugin:jest/recommended'</span></span>, <span class="hljs-string"><span class="hljs-string">'jest-enzyme'</span></span>],   plugins: [       <span class="hljs-string"><span class="hljs-string">'babel'</span></span>,       <span class="hljs-string"><span class="hljs-string">'import'</span></span>,       <span class="hljs-string"><span class="hljs-string">'jsx-a11y'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react'</span></span>,       <span class="hljs-string"><span class="hljs-string">'prettier'</span></span>,   ],   parser: <span class="hljs-string"><span class="hljs-string">'babel-eslint'</span></span>,   parserOptions: {       ecmaVersion: <span class="hljs-number"><span class="hljs-number">6</span></span>,       sourceType: <span class="hljs-string"><span class="hljs-string">'module'</span></span>,       ecmaFeatures: {           jsx: true       }   },   rules: {       <span class="hljs-string"><span class="hljs-string">'linebreak-style'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //    Windows.       <span class="hljs-string"><span class="hljs-string">'arrow-parens'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'object-curly-newline'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'no-mixed-operators'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'arrow-body-style'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //  -   ?       <span class="hljs-string"><span class="hljs-string">'function-paren-newline'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'no-plusplus'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'space-before-function-paren'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'max-len'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-type"><span class="hljs-type">ignoreUrls</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span>, }], // airbnb           <span class="hljs-string"><span class="hljs-string">'no-console'</span></span>: <span class="hljs-string"><span class="hljs-string">'error'</span></span>, // airbnb         <span class="hljs-string"><span class="hljs-string">'no-alert'</span></span>: <span class="hljs-string"><span class="hljs-string">'error'</span></span>, // airbnb         <span class="hljs-string"><span class="hljs-string">'no-param-reassign'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //  -   ?       <span class="hljs-string"><span class="hljs-string">"radix"</span></span>: <span class="hljs-string"><span class="hljs-string">"off"</span></span>, // parseInt, parseFloat  radix .    .       <span class="hljs-string"><span class="hljs-string">'react/require-default-props'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // airbnb           <span class="hljs-string"><span class="hljs-string">'react/forbid-prop-types'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // airbnb           <span class="hljs-string"><span class="hljs-string">'react/jsx-filename-extension'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>, { <span class="hljs-type"><span class="hljs-type">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">'.js'</span></span>] }], // airbnb  .jsx       <span class="hljs-string"><span class="hljs-string">'prefer-destructuring'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react/no-find-dom-node'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //           <span class="hljs-string"><span class="hljs-string">'react/no-did-mount-set-state'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react/no-unused-prop-types'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //            <span class="hljs-string"><span class="hljs-string">'react/jsx-one-expression-per-line'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">"jsx-a11y/anchor-is-valid"</span></span>: [<span class="hljs-string"><span class="hljs-string">"error"</span></span>, { <span class="hljs-string"><span class="hljs-string">"components"</span></span>: [<span class="hljs-string"><span class="hljs-string">"Link"</span></span>], <span class="hljs-string"><span class="hljs-string">"specialLink"</span></span>: [<span class="hljs-string"><span class="hljs-string">"to"</span></span>] }],       <span class="hljs-string"><span class="hljs-string">"jsx-a11y/label-has-for"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, {           <span class="hljs-string"><span class="hljs-string">"required"</span></span>: {               <span class="hljs-string"><span class="hljs-string">"every"</span></span>: [<span class="hljs-string"><span class="hljs-string">"id"</span></span>]           }       }], //     htmlFor  label       <span class="hljs-string"><span class="hljs-string">'prettier/prettier'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>],   }, };</code> </pre> <br> 现在，将<code>.eslintignore</code>文件添加到<code>app</code>文件夹： <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">/.git /</span></span>.vscode node_modules</code> </pre> <br> 现在让我们讨论<code>.eslintrc.js</code>文件的<code>.eslintrc.js</code> ，以及其中显示的<code>.eslintrc.js</code>的含义。 <br><br> 该文件具有以下结构： <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = {  env:{},  extends: {},  plugin: {},  parser: {},  parserOptions: {},  rules: {}, };</code> </pre> <br> 考虑由具有相应名称的对象表示的该文件的块： <br><br><ul><li>  <code>env</code>允许您指定计划检查其代码的环境列表。 在我们的例子中， <code>es6</code> ， <code>browser</code>和<code>node</code>属性设置为<code>true</code> 。  <code>es6</code>参数包括ES6功能（模块除外）（此功能在<code>parserOptions</code>块中将<code>ecmaVersion</code>参数自动设置为<code>6</code> ）。  <code>browser</code>参数<code>browser</code>全局浏览器变量，例如<code>Windows</code> 。  <code>node</code>参数添加全局Node.js环境变量和范围，例如<code>global</code> 。 有关环境的详细信息，请参见<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a> 。 </li><li>  <code>extends</code> -是具有配置的线的阵列，每个其他配置都扩展前一个配置。  <code>airbnb</code>使用Airbnb <code>airbnb</code>规则，将其扩展为<code>jest</code> ，然后扩展为<code>jest-enzyme</code> 。 </li><li>  <code>plugins</code> -这是我们要使用的整理规则。 我们应用了已经讨论过的规则<code>babel</code> ， <code>import</code> ， <code>jsx-a11y</code> ， <code>react</code> ， <code>jsx-a11y</code> 。 </li><li>  <code>parser</code> -ESLint默认使用Espree <code>parser</code> ，但是由于我们使用Babel，因此需要使用<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Babel-ESLint</a> 。 </li><li>  <code>parserOptions</code>由于我们将标准解析器更改为<code>babel-eslint</code> ，因此我们还需要在此块中设置属性。  <code>ecmaVersion</code>属性设置为<code>6</code>指示ESLint将检查ES6代码。 由于我们正在<code>EcmaScript</code>模块中编写代码，因此<code>sourceType</code>属性设置为<code>module</code> 。 最后，由于我们使用React，这意味着使用JSX，因此<code>jsx</code>键设置为<code>true</code>的对象将写入<code>ecmaFeatures</code>属性。 </li><li>  <code>rules</code> -我最喜欢<code>.eslintrc.js</code>文件的这一部分，因为它允许您配置ESLint规则。 我们使用插件扩展或添加的所有规则都可以更改或重新定义，这是在<code>rules</code>块中完成的。 该文件的文本包含有关规则的注释。 </li></ul><br> 现在让我们谈谈<code>.eslintignore</code>文件。 该文件接受表示文件夹的路径的列表，这些文件夹的内容不应使用ESLint进行处理。 <br><br> 此处定义了三个文件夹： <br><br><ul><li>  <code>/.git</code>我不需要ESLint来检查与Git相关的文件。 </li><li>  <code>/.vscode</code>由于我使用VS Code，因此该项目具有此文件夹。 在此，编辑器存储可以为每个项目设置的配置信息。 短绒也不应处理此数据。 </li><li>  <code>node-modules</code> -依赖项文件也不需要使用linter检查。 </li></ul><br> 现在，让我们看一下出现在<code>package.json</code>中的几个新脚本。 它们是： <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span> <span class="hljs-string"><span class="hljs-string">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span></code> </pre> <br> 如果执行第一个命令，则使用<code>yarn lint</code>或<code>npm run lint</code>命令执行操作，这将使linter查找<code>src</code>目录中的所有文件，并显示发现错误的文件的详细报告。 使用此报告，您可以纠正这些错误。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a5/568/b35/9a5568b35f1d443687849ba93badea49.gif"></div><br>  <i><font color="#999999">运行皮棉脚本</font></i> <br><br> 如果执行第二个脚本（ <code>yarn lint:write</code> ），则ESLint将执行与之前相同的检查。 唯一的区别是，在此模式下，系统将尝试修复检测到的错误，并尝试以最合适的形式显示代码。 <br><br><h2>  <font color="#3AC1EF">ESLint VS代码扩展</font> </h2><br> 我们已经配置了Prettier和ESLint，但是为了使用这些工具的功能，我们必须运行脚本。 这不是很方便，因此请尝试修复它。 即，我们要确保通过命令执行代码的格式化和插入操作，以将文件保存在编辑器中。 另外，我们要在提交之前执行代码的整理和格式化。 <br><br> 例如，我们使用VS Code编辑器。 我们需要VS Code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">的ESLint扩展</a> 。 为了安装它，您可以打开VS Code扩展面板（ <code>ctrl+shift+x</code> ）。 在此处的搜索字段中，输入<code>eslint</code> 。 出现扩展列表。 我们感兴趣的是其开发人员信息为Dirk Ba​​eumer的信息。 安装此扩展程序后，重新启动编辑器。 <br><br> 现在，在项目（ <code>app</code> ）的根文件夹中，创建<code>.vscode</code>文件夹（请注意名称开头的点-这很重要）。 在此文件夹中，创建一个具有以下内容的<code>settings.json</code>文件： <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"editor.formatOnSave"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint.autoFixOnSave"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }</code> </pre> <br> 考虑其内容。 <br><br><ul><li>  <code>editor.formatOnSave</code>属性设置为<code>false</code>表示我们不需要将标准配置应用于文件格式设置，因为这可能导致与ESLint和Prettier发生冲突。 </li><li>  <code>eslint.autoFixOnSave</code>属性设置为<code>true</code> ，因为必须在每次保存文件时触发已安装的插件。 由于ESLint和Prettier在项目中一起工作，因此保存文件会导致格式设置和代码掉落。 </li></ul><br> 重要的是要注意，现在，当运行<code>lint:write</code>脚本时，它将同时执行linting和代码格式化。 <br><br> 想象一下，如果您得到一个需要检查和改进的20,000行项目代码，您的感受。 现在想象一下，您将必须手动执行此操作。 这项工作可能需要一个月的时间。 借助上述自动化工具，所有这些操作大约只需三十秒钟。 <br><br> 现在，设置完所需的所有内容之后，每次使用代码保存文件时，编辑器都会检查并格式化程序文本。 但是，这里我们谈论的是VS Code编辑器。 您团队中的某人可能更喜欢其他一些编辑。 这样做没有错，但是为了使每个人都可以方便地工作，我们将不得不制定其他一些方案来实现自动化。 <br><br><h2>  <font color="#3AC1EF">哈士奇</font> </h2><br> 赫斯基包允许您使用Git挂钩。 这意味着您有机会在提交或发送存储库代码之前执行某些操作。 <br><br> 为了利用Husky的功能，请首先安装此软件包： <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev husky</span></span></code> </pre> <br> 之后，将以下内容添加到<code>package.json</code> ： <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"husky"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"hooks"</span></span>: {         <span class="hljs-string"><span class="hljs-string">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span>,    <span class="hljs-string"><span class="hljs-string">"pre-push"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span>    } },</code> </pre> <br> 这将导致以下事实：在执行<code>commit</code>或<code>push</code>命令之前，将调用某个脚本，例如，该脚本执行代码测试或格式化。 <br><br> 有关赫斯基的详细信息，请参见<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a> 。 <br><br><h2>  <font color="#3AC1EF">毛绒阶段</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lint暂存的</a>软件包允许您使用linter检查索引文件，这有助于防止将错误发送到存储库。 <br><br> 在提交代码之前，先整理是有意义的。 因此，您可以确保错误不会渗透到存储库中，并为到达那里的代码提供统一的样式。 但是，为了验证整个项目而进行的测试可能太耗时，并且验证的结果可能毫无意义。 最终，棉绒可能需要暴露您计划提交的文件。 <br><br>  Lint阶段允许您对由搜索模式过滤的索引文件执行一组任意任务。 可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a>找到有关此内容的详细信息。 <br><br> 安装Lint暂存的软件包： <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev lint-staged</span></span></code> </pre> <br> 然后，在<code>package.json</code>文件中，添加以下内容： <br><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] },</code> </pre> <br> 由于这种构造，将首先执行<code>lint:write</code>命令，检查文件的内容并修复错误，然后使用<code>git add</code>命令将文件添加到索引中。 现在，此命令针对<code>.js</code>和<code>.jsx</code>文件，但是对于其他类型的文件也可以执行相同的操作。 <br><br><h2>  <font color="#3AC1EF">赫斯基和Lint分阶段的共享</font> </h2><br> 考虑一个允许您组织下一个工作流程的操作图。 每次使用代码提交文件时，在执行此操作之前，系统都会运行<code>lint-staged</code>脚本，而后者又运行<code>lint:write</code>脚本，该脚本执行代码的插入和格式化。 之后，将文件添加到索引，然后提交。 在我看来，这非常方便。 实际上，在先前提供的<code>package.json</code>文件的代码中，这已经实现，我们之前没有讨论过。 <br><br> 这又是我们<code>package.json</code>的内容： <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>   } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br> 既然您已经了解了Husky和Lint进行的演出，就可以评估它们对使用Git的影响。 即，假设执行了以下命令： <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> git add . <span class="hljs-variable"><span class="hljs-variable">$</span></span> git commit <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-string"><span class="hljs-string">"some descriptive message here"</span></span></code> </pre> <br> 很明显，在提交之前，将检查代码是否符合<code>.eslintrc.js</code>指定的规则，并在必要时进行修复。 因此，错误将永远不会进入正在运行的项目的资源库。 <br><br> 现在，您知道如何将Prettier，ESLint，Husky和Lint暂存的项目集成到您的项目中。 <br><br> 让我提醒您，我们上面说过，并不是您团队的所有成员都使用我最喜欢的VS Code。 为了使它们都能方便地工作，我们需要处理<code>.editorconfig</code>文件。 <br><br><h2>  <font color="#3AC1EF">.Editorconfig文件</font> </h2><br> 您团队中的不同成员可能使用不同的编辑器。 强迫他们对任何东西使用任何一个编辑器。 但是，为了使每个人都使用相同的设置，例如缩进或换行，我们使用该文件。  <code>editorconfig</code> 。         . <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>    ,    .  ,  ,  WebStorm, AppCode, Atom, Eclipse, Emacs, BBEdit  . <br><br>    <code>app</code>    <code>.editorconfig</code>      : <br><br><pre> <code class="hljs pgsql"># EditorConfig -  : http://EditorConfig.org #  EditorConfig   root = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> [*.md] trim_trailing_whitespace = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> [*.js] trim_trailing_whitespace = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> #     Unix       [*] indent_style = space indent_size = <span class="hljs-number"><span class="hljs-number">2</span></span> end_of_line = lf charset = utf<span class="hljs-number"><span class="hljs-number">-8</span></span> insert_final_newline = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> max_line_length = <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre> <br>  ,    : <br><br><ul><li> <code>trim_trailing_whitespace = false</code> —       <code>.md</code> -  .    <code>.js</code> -   <code>false</code> . </li><li> <code>indent_style = space</code> —       . </li><li> <code>indent_size = 2</code> —     . </li><li> <code>end_of_line = lf</code> —     <code>lf</code> .   ,      ,        .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . </li><li> <code>insert_final_newline = true</code> —       . </li><li> <code>max_line_length = 100</code> —      100 . </li></ul><br><h2>  <font color="#3AC1EF">总结</font> </h2><br> ,   ,     ,         . ,  ,            . <br><br>  <b>亲爱的读者们！</b>         ?    ? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN428173/">https://habr.com/ru/post/zh-CN428173/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN428159/index.html">茶壶中的Tableau或PAMM帐户分析的可视化</a></li>
<li><a href="../zh-CN428161/index.html">通过辛勤工作实现的补贴化石燃料的改革正处于危险之中</a></li>
<li><a href="../zh-CN428165/index.html">Linux内核播客和Open Source Summit Europe 2018</a></li>
<li><a href="../zh-CN428167/index.html">俄罗斯第一家机器人工厂，香肠和香肠有什么关系？</a></li>
<li><a href="../zh-CN428169/index.html">大疆创新发布Mavic 2 Enterprise-专业人士的强大工具</a></li>
<li><a href="../zh-CN428175/index.html">狡猾的前缀树C的实现</a></li>
<li><a href="../zh-CN428177/index.html">那么，求职/ IT工作者怎么了？</a></li>
<li><a href="../zh-CN428179/index.html">在日本的一次拍卖中，原型机Wii控制器是为GameCube开发的</a></li>
<li><a href="../zh-CN428181/index.html">道德机器：无情还是毫无意义？</a></li>
<li><a href="../zh-CN428183/index.html">在TensorFlow上优化神经网络的Levenberg-Marquardt算法的实现</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>