<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèº üï∏Ô∏è ‚õ≤Ô∏è [Lesezeichen] 23 Empfehlungen zum Schutz von Node.js-Anwendungen üç© ‚ù£Ô∏è ü§¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heutzutage sind Webdienste st√§ndig einer Vielzahl von Angriffen ausgesetzt. Daher ist Sicherheit in allen Phasen des Projektlebenszyklus zu beachten. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>[Lesezeichen] 23 Empfehlungen zum Schutz von Node.js-Anwendungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/419719/">  Heutzutage sind Webdienste st√§ndig einer Vielzahl von Angriffen ausgesetzt.  Daher ist Sicherheit in allen Phasen des Projektlebenszyklus zu beachten.  Die Autoren des Materials, dessen √úbersetzung wir heute ver√∂ffentlichen, unterhalten auf GitHub ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository</a> mit etwa 80 Empfehlungen zum Sichern von Anwendungen, die auf der Node.js-Plattform ausgef√ºhrt werden.  Dieses Material, das auf vielen Sicherheitspublikationen basiert, enth√§lt mehr als zwei Dutzend Empfehlungen zu Node.js und einige allgemeine Tipps.  Dar√ºber hinaus werden in diesem Material die zehn wichtigsten Sicherheitsl√ºcken aus der Liste des OWASP-Projekts behandelt. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/un/rv/yq/unrvyqhru9dijyht3zx9k9x4tlg.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">1. Verwenden Sie die Regeln f√ºr den Linter, um die Sicherheit des Codes zu √ºberpr√ºfen</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Empfehlungen </h3><br>  Verwenden Sie w√§hrend der Entwicklung ein sicherheitsorientiertes Plug-In f√ºr den Linter, z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eslint-plugin-security</a> .  Auf diese Weise k√∂nnen Sie Schwachstellen und Sicherheitsprobleme sehr fr√ºh erkennen - zum Zeitpunkt des Schreibens des entsprechenden Codes.  Dieser Ansatz hilft, Schwachstellen in der Programmsicherheit zu finden.  Dazu geh√∂ren die Verwendung des Befehls <code>eval</code> , der Aufruf untergeordneter Prozesse, der Import von Modulen mit der √úbertragung von etwas, das sich von einem Zeichenfolgenliteral unterscheidet, auf den entsprechenden Befehl (z. B. eine bestimmte Zeichenfolge, die auf der Grundlage von Daten erstellt wird, die vom Benutzer an den Server √ºbertragen werden). <br><br>  ‚Üí <a href="">Hier finden Sie</a> n√ºtzliches Material zu Linter-Regeln <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adam Baldwin</a> sagt Folgendes √ºber Flusen: ‚ÄûLinter sollte nicht nur ein Werkzeug sein, das die Regeln bez√ºglich der Anzahl der verwendeten Leerzeichen, Semikolons und der Verwendung des Befehls eval genau befolgt.  ESLint bietet dem Entwickler eine leistungsstarke Plattform, mit der eine Vielzahl potenziell gef√§hrlicher Muster im Code erkannt und beseitigt werden k√∂nnen.  Wir sprechen zum Beispiel √ºber regul√§re Ausdr√ºcke, √ºber das √úberpr√ºfen von Benutzereingaben und so weiter.  Ich glaube, dass der Linter Entwicklern, die sich mit Sicherheitsproblemen befassen, ein leistungsstarkes neues Tool bietet, auf das es sich zu achten lohnt. ‚Äú <br><br><h3>  M√∂gliche Probleme </h3><br>  Was w√§hrend der Entwicklung wie eine kleine Sicherheitsl√ºcke aussieht, wird zu einer ernsthaften Sicherheitsl√ºcke in der Produktion.  Wenn nicht alle Projektentwickler bei der Arbeit mit Code einheitliche Sicherheitsregeln befolgen, kann dies zu Sicherheitsl√ºcken oder beispielsweise zum Eindringen vertraulicher Daten in √∂ffentliche Repositorys f√ºhren. <br><br><h2>  <font color="#3AC1EF">2. Begrenzen Sie die Anzahl gleichzeitiger Serveranforderungen</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Empfehlungen </h3><br>  DoS-Angriffe sind bei Cyberkriminellen sehr beliebt und relativ einfach durchzuf√ºhren.  Sie k√∂nnen ein System implementieren, um die Anzahl der Anforderungen an eine Anwendung mithilfe eines externen Dienstes zu begrenzen, z. B. einen Cloud Load Balancer, eine Cloud-Firewall, einen Nginx-Server, oder bei kleinen Anwendungen, die nicht kritisch sind, Middleware verwenden, um die Anzahl der Anforderungen wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Expressrate</a> zu begrenzen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">-limit</a> . <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zur Implementierung des Systems zur Begrenzung der H√§ufigkeit von Anforderungen an den Server <br><br><h3>  M√∂gliche Probleme </h3><br>  Eine Anwendung, die kein System zur Begrenzung der Anzahl gleichzeitiger Anforderungen bietet, kann angegriffen werden, was zu ihrem Ausfall f√ºhrt.  Dies dr√ºckt sich darin aus, dass Benutzer einer solchen Anwendung entweder Schwierigkeiten haben, damit zu arbeiten, oder √ºberhaupt nicht in der Lage sind, mit ihr zu interagieren. <br><br><h2>  <font color="#3AC1EF">3. Entfernen Sie vertrauliche Informationen aus Konfigurationsdateien oder verschl√ºsseln Sie sie</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Empfehlungen </h3><br>  Speichern Sie vertrauliche Daten niemals im Klartext in Konfigurationsdateien oder im Code.  Verwenden Sie stattdessen vertrauliche Datenverwaltungssysteme wie Vault-Produkte oder Kubernetes / Docker Secrets-Systeme oder verwenden Sie Umgebungsvariablen zum Speichern solcher Daten.  Im Versionskontrollsystem gespeicherte vertrauliche Daten m√ºssen verschl√ºsselt sein, und es m√ºssen Ma√ünahmen zu ihrer sicheren Speicherung und Verwendung getroffen werden.  Zu diesen Ma√ünahmen geh√∂ren die Verwendung dynamischer Schl√ºssel, die Verwendung von Kennwortablaufdaten, Sicherheits√ºberpr√ºfungen usw.  Verwenden Sie Systeme, um den Code vor dem Festschreiben oder vor dem Senden an das Repository zu √ºberpr√ºfen, um ein versehentliches Senden vertraulicher Daten an das √∂ffentliche Repository zu verhindern. <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zur Verwaltung vertraulicher Daten <br><br><h3>  M√∂gliche Probleme </h3><br>  Selbst wenn der Code eines Tages versehentlich in einem geschlossenen Repository gespeichert wird, wird er m√∂glicherweise √∂ffentlich verf√ºgbar.  Zu diesem Zeitpunkt werden alle darin gespeicherten vertraulichen Daten gemeinfrei.  Infolgedessen f√ºhrt der Zugriff von Drittanbietern auf das Repository mit dem Code versehentlich dazu, dass dieser Zugriff auf die damit verbundenen Systeme (Datenbanken, APIs, Dienste usw.) erh√§lt. <br><br><h2>  <font color="#3AC1EF">4. Verhindern Sie Schwachstellen bei der Codeinjektion</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Empfehlungen </h3><br>  Um SQL / NoSQL-Injektionen und √§hnliche Angriffe zu verhindern, verwenden Sie immer ORM / ODM-Bibliotheken oder DBMS-Mechanismen, die auf die Datenbereinigung abzielen oder benannte oder indizierte parametrisierte Abfragen unterst√ºtzen und √ºberpr√ºfen, was vom Benutzer kommt.  Verwenden Sie zum Einbetten bestimmter Werte in Abfragetexte niemals nur Vorlagen-JavaScript-Zeichenfolgen oder Zeichenfolgenverkettungen, da dieser Ansatz Ihre Anwendung f√ºr eine Vielzahl von Sicherheitsl√ºcken √∂ffnet.  Alle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">seri√∂sen</a> Bibliotheken f√ºr Node.js, die f√ºr die Arbeit mit Daten verwendet werden (z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sequelize</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Knex</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mungo</a> ), enthalten einen integrierten Schutz vor Angriffen durch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einf√ºgen</a> von Code. <br><br>  ‚Üí <a href="">Hier ist das</a> Material zur Injektionspr√§vention mit ORM / ODM-Bibliotheken <br><br><h3>  M√∂gliche Probleme </h3><br>  Die Verwendung nicht verifizierter und nicht gereinigter Daten, die vom Benutzer in Abfragen empfangen werden, kann zu einem Angriff f√ºhren, indem ein Operator eingef√ºhrt wird, wenn mit einer NoSQL-Datenbank wie MongoDB gearbeitet wird.  Wenn Sie beim Arbeiten mit einer SQL-Datenbank kein Datenbereinigungssystem oder keine ORM-Bibliothek verwenden, besteht die M√∂glichkeit eines Angriffs durch SQL-Injection, wodurch eine gro√üe Sicherheitsl√ºcke in der Anwendung entsteht. <br><br><h2>  <font color="#3AC1EF">5. Vermeiden Sie DoS-Angriffe, indem Sie explizit die Bedingungen f√ºr eine abnormale Beendigung des Prozesses festlegen</font> </h2><br><h3>  Empfehlungen </h3><br>  Der Knotenprozess st√ºrzt ab, wenn ein nicht behandelter Fehler auftritt.  In vielen Empfehlungen, die Best Practices f√ºr Node widerspiegeln, wird jedoch empfohlen, Prozesse zu beenden, selbst wenn ein Fehler abgefangen und verarbeitet wurde.  Express st√ºrzt beispielsweise ab, wenn ein asynchroner Fehler auftritt - es sei denn, die Routen sind in <code>catch</code> Ausdr√ºcke eingeschlossen.  Diese Tatsache bietet Angreifern eine sehr attraktive Gelegenheit.  Nachdem sie festgestellt haben, dass der Prozess abst√ºrzt, wenn eine bestimmte Anforderung eintrifft, senden sie genau diese Anforderungen an sie.  Es gibt keine Empfehlung, die dieses Problem auf einen Schlag l√∂sen w√ºrde. Einige Tricks k√∂nnen es jedoch mildern.  Am Ende des Prozesses m√ºssen Sie den Administrator aufgrund eines nicht behandelten Fehlers benachrichtigen, wobei einer solchen Benachrichtigung die h√∂chste Priorit√§t einger√§umt wird.  Es ist erforderlich zu √ºberpr√ºfen, was in Anforderungen zum Prozess kommt, und Situationen zu vermeiden, in denen der Prozess aufgrund von Anforderungen, die versehentlich oder absichtlich falsch gebildet wurden, abnormal beendet wird.  Alle Routen m√ºssen in <code>catch</code> Ausdr√ºcke eingeschlossen sein, und das System muss so konfiguriert sein, dass der Prozess nicht abst√ºrzt, wenn die Anforderung die Fehlerursache ist (im Gegensatz zu dem, was auf globaler Anwendungsebene geschieht). <br><br><h3>  M√∂gliche Probleme </h3><br>  Lassen Sie uns die folgende Situation analysieren.  Es gibt viele Node.js-Anwendungen.  Was passiert, wenn wir POST-Anforderungen mit leerem JSON als Anforderungshauptteil senden?  Dies f√ºhrt zum Absturz vieler dieser Anwendungen. <br><br>  Wenn wir nun die Rolle von Cyberkriminellen spielen w√ºrden, um zu verhindern, dass die Anwendungen abst√ºrzen, w√ºrde es ausreichen, ihnen weiterhin √§hnliche Anfragen zu senden. <br><br><h2>  <font color="#3AC1EF">6. Konfigurieren Sie HTTP-Antwortheader, um die Projektsicherheit zu erh√∂hen</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  Empfehlungen </h3><br>  Eine Anwendung sollte sicherheitsorientierte HTTP-Header verwenden, um zu verhindern, dass Angreifer auf g√§ngige Angriffstechniken wie Cross-Site-Scripting (XSS), Clickjacking und andere zur√ºckgreifen.  Das Anpassen der Header ist mit speziellen Modulen wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Helm</a> einfach. <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zur Verwendung sicherer Header <br><br><h3>  M√∂gliche Probleme </h3><br>  Wenn keine sicheren HTTP-Header verwendet werden, k√∂nnen Angreifer Angriffe auf Benutzer Ihrer Anwendungen ausf√ºhren, was zu gro√üen Sicherheitsl√ºcken f√ºhrt. <br><br><h2>  <font color="#3AC1EF">7. √úberpr√ºfen Sie Ihre Projekte kontinuierlich und automatisch auf die Verwendung anf√§lliger Abh√§ngigkeiten</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/810/c93/fcf/810c93fcf88a0b68e15d345fccc1b597.png"></div><br><h3>  Empfehlungen </h3><br>  Im NPM-√ñkosystem sind Projekte mit vielen Abh√§ngigkeiten sehr verbreitet.  Abh√§ngigkeiten sollten immer kontrolliert werden, wenn neue Schwachstellen entdeckt werden.  Verwenden Sie Tools wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm audit</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nsp</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">snyk</a> , um anf√§llige Abh√§ngigkeiten zu erkennen, zu √ºberwachen und zu beheben.  Betten Sie diese Tools in Ihr kontinuierliches Integrationssystem ein.  Auf diese Weise k√∂nnen Sie anf√§llige Abh√§ngigkeiten erkennen, bevor sie in Produktion gehen. <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zur Sicherheit von Projektabh√§ngigkeiten <br><br><h3>  M√∂gliche Probleme </h3><br>  Ein Angreifer kann das im Projekt verwendete Webframework bestimmen und Angriffe auf alle bekannten Sicherheitsl√ºcken ausf√ºhren. <br><br><h2>  <font color="#3AC1EF">8. Versuchen Sie, das Standard-Kryptomodul Node.js nicht f√ºr die Kennwortverarbeitung zu verwenden. Verwenden Sie stattdessen Bcrypt</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Empfehlungen </h3><br>  Passw√∂rter oder andere vertrauliche Daten (z. B. API-Schl√ºssel) m√ºssen gespeichert werden, indem sie mit kryptografischen Funktionen unter Verwendung von "salt" wie Bcrypt verarbeitet werden.  Aus Sicherheits- und Leistungsgr√ºnden lohnt es sich, genau etwas √Ñhnliches zu verwenden und nicht das Standard- <code>crypto</code> Node.js. <br><br>  ‚Üí <a href="">Hier ist das</a> Material zu Bcrypt <br><br><h3>  M√∂gliche Probleme </h3><br>  Passw√∂rter oder einige vertrauliche Daten, die ohne geeignete Schutzma√ünahmen gespeichert werden, sind anf√§llig f√ºr Brute-Force-Angriffe und W√∂rterbuchangriffe, die zur Offenlegung dieser Daten f√ºhren. <br><br><h2>  <font color="#3AC1EF">9. Verwenden Sie Zeichen-Escape-Systeme in HTML-, JS- und CSS-Daten, die an den Benutzer gesendet werden</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b7/846/638/0b7846638c9f820198235d61d8a2d0f0.png"></div><br><h3>  Empfehlungen </h3><br>  Wenn einige Daten von einer nicht vertrauensw√ºrdigen Quelle an den Browser des Benutzers gesendet werden, k√∂nnen diese Daten auch dann ein Code sein, der ausgef√ºhrt werden kann, wenn sie einfach angezeigt werden sollen.  Dies wird allgemein als Cross-Site-Scripting (XSS) bezeichnet.  Sie k√∂nnen das Risiko verringern, dass solche Angriffe m√∂glich sind, indem Sie spezielle Bibliotheken verwenden, die Daten so verarbeiten, dass sie nicht ausgef√ºhrt werden k√∂nnen.  Dies wird als Codierungs- oder Abschirmungsdaten bezeichnet. <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zur Abschirmung des Ausgangs <br><br><h3>  M√∂gliche Probleme </h3><br>  Wenn Sie sich nicht f√ºr die Datenabschirmung interessieren, kann ein Angreifer beispielsweise sch√§dlichen JavaScript-Code in Ihrer Datenbank speichern, der unver√§ndert an Clients √ºbertragen und gestartet werden kann. <br><br><h2>  <font color="#3AC1EF">10. √úberpr√ºfen Sie die JSON-Daten, die auf den Server gelangen</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Empfehlungen </h3><br>  Kontrollieren Sie den Inhalt der Textk√∂rper eingehender Anforderungen und pr√ºfen Sie, ob sie dem entsprechen, was Sie in solchen Anforderungen erwarten.  Wenn die Anforderung nicht wie erwartet aussieht, beenden Sie die Verarbeitung schnell.  Um den zeitaufw√§ndigen Vorgang des Schreibens eines Anforderungs√ºberpr√ºfungscodes f√ºr jede Route zu vermeiden, k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einfache</a> JSON-Tools f√ºr die Datenvalidierung verwenden, z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jsonschema</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">joi</a> . <br><br>  ‚Üí <a href="">Hier finden Sie das</a> Material zum √úberpr√ºfen eingehender JSON-Daten <br><br><h3>  M√∂gliche Probleme </h3><br>  Wenn der Server Anfragen herzlich akzeptiert, ohne sie gr√ºndlich zu pr√ºfen, erh√∂ht dies die Angriffsfl√§che der Anwendung erheblich und inspiriert Angreifer dazu, viele von ihnen zu finden, die zu einem ‚ÄûAbsturz‚Äú des Systems f√ºhren. <br><br><h2>  <font color="#3AC1EF">11. Pflegen Sie JWT-Token auf der schwarzen Liste</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Empfehlungen </h3><br>  Bei der Verwendung von JWT-Token (z. B. wenn Sie mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Passport.js arbeiten</a> ) gibt es standardm√§√üig keinen Standardmechanismus zum Widerrufen von Systemzugriffsberechtigungen f√ºr bereits ausgestellte Token.  Selbst wenn Sie feststellen, dass ein bestimmter Benutzer etwas offensichtlich Anormales tut, haben Sie √ºber den Token-Mechanismus keine M√∂glichkeit, seinen Zugriff auf das System zu blockieren, solange er √ºber ein g√ºltiges Token verf√ºgt.  Dieses Problem kann durch die Implementierung einer schwarzen Liste nicht vertrauensw√ºrdiger Token behoben werden, deren Validierung bei jeder Anforderung durchgef√ºhrt wird. <br><br>  ‚Üí <a href="">Hier ist das</a> Material zu JWT-Token auf der schwarzen Liste <br><br><h3>  M√∂gliche Probleme </h3><br>  Token, die in die falschen H√§nde geraten, k√∂nnen von einem Angreifer verwendet werden.  Er kann auf die Anwendung zugreifen und sich als normaler Benutzer ausgeben - der Eigent√ºmer des Tokens. <br><br><h2>  <font color="#3AC1EF">12. Begrenzen Sie die Anzahl der Anmeldeversuche</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ec/a61/33e/3eca6133e12b7d800906f8585532e9d2.png"></div><br><h3>  Empfehlungen </h3><br>  In Anwendungen, die auf Express basieren, lohnt es sich zum Schutz vor Brute-Force-Angriffen und W√∂rterbuchangriffen, die entsprechende Middleware wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Express-Brute zu verwenden</a> .  Ebenso m√ºssen Sie kritische Routen wie <code>/admin</code> oder <code>/login</code> sch√ºtzen.  Der Schutz sollte auf der Analyse von Abfrageeigenschaften basieren, z. B. dem in der Abfrage verwendeten Benutzernamen oder anderen Bezeichnern, z. B. Abfragek√∂rperparametern. <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zur Begrenzung der Anzahl der Anmeldeversuche <br><br><h3>  M√∂gliche Probleme </h3><br>  Wenn die Anwendung die Anzahl der Anmeldeversuche nicht begrenzt, kann der Angreifer automatisch eine unbegrenzte Anzahl von Anmeldeanforderungen an Ihr System senden, z. B. um Zugriff auf ein privilegiertes Konto zu erhalten. <br><br><h2>  <font color="#3AC1EF">13. F√ºhren Sie Node.js als Nicht-Root-Benutzer aus</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c0/dca/b4d/4c0dcab4d9a0d1fce8fcaf8b6abbdcce.png"></div><br><h3>  Empfehlungen </h3><br>  Ein √§u√üerst h√§ufiges Szenario ist, wenn Node.js als Root-Benutzer mit unbegrenzten Berechtigungen ausgef√ºhrt wird.  So wird beispielsweise in Docker-Containern standardm√§√üig alles konfiguriert.  Es wird empfohlen, einen Benutzer ohne Root-Rechte zu erstellen und ihn entweder in das Docker-Image einzubetten oder den Vorgang im Namen dieses Benutzers zu starten, indem Sie den Container mit dem Flag <code>-u username</code> aufrufen. <br><br>  ‚Üí <a href="">Hier ist das</a> Material zum Starten von Node.js als Nicht-Root-Benutzer <br><br><h3>  M√∂gliche Probleme </h3><br>  Wenn Node.js unter dem Root-Benutzerkonto ausgef√ºhrt wird, erh√§lt ein Angreifer, der ein Skript auf dem Server ausf√ºhren konnte, unbegrenzte M√∂glichkeiten auf dem lokalen Computer.  <code>iptable</code> , es kann <code>iptable</code> Einstellungen √§ndern und den Datenverkehr auf seinen eigenen Computer umleiten. <br><br><h2>  <font color="#3AC1EF">14. Begrenzen Sie die Datenmenge, die in Anforderungen mit einem Reverse-Proxy-Server oder einer Middleware √ºbertragen wird</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d5/56d/a15/9d556da155eb3922f32262c33522f797.png"></div><br><h3>  Empfehlungen </h3><br>  Je gr√∂√üer die Datenmenge im Anforderungshauptteil ist, desto schwieriger ist es f√ºr einen Single-Threaded-Server, eine solche Anforderung zu verarbeiten.  Die Verwendung gro√üer Anforderungen gibt einem Angreifer die M√∂glichkeit, den Server mit unn√∂tiger Arbeit zu √ºberfluten, ohne ihm eine gro√üe Anzahl von Anforderungen zu senden (dh ohne einen DoS / DDoS-Angriff auszuf√ºhren).  Sie k√∂nnen das Risiko solcher Angriffe verringern, indem Sie die Gr√∂√üe der eingehenden Anforderungen auf einem bestimmten Grenzsystem (auf einer Firewall oder einem Load Balancer) begrenzen oder den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Body-Parser-</a> Express so einstellen, dass nur Pakete mit einer geringen Datenmenge empfangen werden. <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zur Begrenzung der Datenmenge, die in Anforderungen √ºbertragen wird <br><br><h3>  M√∂gliche Probleme </h3><br>  Wenn Sie die in Anforderungen √ºbertragene Datenmenge nicht begrenzen, kann ein Angreifer die Anwendung laden, indem er gro√üe Anforderungen verarbeitet.  Derzeit ist es nicht in der Lage, die Aufgaben zu l√∂sen, f√ºr die es entwickelt wurde.  Dies f√ºhrt zu einer schlechten Leistung und macht die Anwendung anf√§llig f√ºr DoS-Angriffe. <br><br><h2>  <font color="#3AC1EF">15. Vermeiden Sie die Verwendung der Eval-Funktion in JavaScript</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  Empfehlungen </h3><br>  Die <code>eval</code> Funktion ist b√∂se, weil Sie damit beliebigen JS-Code ausf√ºhren k√∂nnen, der w√§hrend der Programmausf√ºhrung an sie √ºbergeben wird.  Dar√ºber hinaus kann dieser Code bei weitem nicht nur die Anwendung verlangsamen.  Diese Funktion stellt ein ernstes Sicherheitsrisiko dar, da b√∂swilliger JS-Code, der von einem Angreifer an den Server gesendet wird, in diesen eindringen kann. <br><br>  Au√üerdem sollten Sie den <code>new Function</code> vermeiden.  Die Funktionen <code>setTimeout</code> und <code>setInterval</code> m√ºssen niemals dynamisch generierten JS-Code √ºbergeben. <br><br>  ‚Üí <a href="">Hier ist das</a> Zeug √ºber Eval <br><br><h3>  M√∂gliche Probleme </h3><br>  Wenn jemand einen Weg findet, sch√§dlichen JS-Code in Form von Text, einer <code>eval</code> oder einer anderen √§hnlichen JS-Engine zu √ºbertragen, hat er vollen Zugriff auf die Seite und auf alles, was mit JavaScript m√∂glich ist.  Diese Sicherheitsanf√§lligkeit ist h√§ufig mit XSS-Angriffen verbunden. <br><br><h2>  <font color="#3AC1EF">16. √úberladen Sie Node.js-Anwendungen mit einem Thread nicht mit sch√§dlichen regul√§ren Ausdr√ºcken</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/49a/a03/c6b49aa0355cb99de053d330a5305b15.png"></div><br><h3>  Empfehlungen </h3><br>  Obwohl regul√§re Ausdr√ºcke praktisch sind, stellen sie eine Bedrohung f√ºr JavaScript-Anwendungen im Allgemeinen und im Besonderen f√ºr die Node.js.-Plattform dar.  Die Verarbeitung mit regul√§ren Ausdr√ºcken, die vom Benutzer stammen, kann den Prozessor stark belasten.  Beispielsweise kann die Verarbeitung regul√§rer Ausdr√ºcke so ineffizient sein, dass das √úberpr√ºfen von zehn W√∂rtern den Ereigniszyklus f√ºr mehrere Sekunden blockieren und den Prozessor √ºberlasten kann.  Daher ist es am besten, Pakete von Drittanbietern zum √úberpr√ºfen von Zeichenfolgendaten wie <a href="">validator.js zu verwenden</a> , anstatt Ihre eigenen regul√§ren Ausdr√ºcke zu schreiben.  Sie k√∂nnen das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Safe-Regex-</a> Paket verwenden, um anf√§llige <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Regex-</a> Muster zu erkennen. <br><br>  ‚Üí <a href="">Hier ist</a> das Anti-Malware-Regex-Material <br><br><h3>  M√∂gliche Probleme </h3><br>  Schlecht geschriebene regul√§re Ausdr√ºcke k√∂nnen einer besonderen Art von DoS-Angriffen ausgesetzt sein, bei denen die Ereignisschleife vollst√§ndig blockiert ist.  Beispielsweise wurde im November 2017 festgestellt, dass das beliebte <code>moment</code> Paket f√ºr solche Angriffe anf√§llig ist. <br><br><h2>  <font color="#3AC1EF">17. Vermeiden Sie das Laden von Modulen mithilfe von Variablen</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  Empfehlungen </h3><br>  Vermeiden Sie den Import von Dateien, deren Pfad als Parameter angegeben ist, basierend auf √úberlegungen, nach denen dieser Parameter basierend auf Daten des Benutzers festgelegt werden kann.  Diese Regel kann erweitert werden, um hier den Zugriff auf Dateien (mithilfe von <code>fs.readFile()</code> ) und den Zugriff auf andere wichtige Ressourcen mithilfe der vom Benutzer empfangenen Parameter <code>fs.readFile()</code> .  Die Verwendung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eslint-plugin-security</a> erm√∂glicht es, solche unsicheren Muster sehr fr√ºh zu erkennen. <br><br>  ‚Üí <a href="">Hier finden Sie</a> Informationen zum sicheren Laden von Modulen <br><br><h3>  M√∂gliche Probleme </h3><br>  Die von einem Angreifer an den Server gesendeten Daten befinden sich m√∂glicherweise in den Einstellungen, die f√ºr den Import bestimmter Dateien verantwortlich sind, darunter m√∂glicherweise eine sch√§dliche Datei, die zuvor auf den Server hochgeladen wurde.  Diese Daten k√∂nnen auch verwendet werden, um auf Systemdateien zuzugreifen, die sich bereits auf dem Computer befinden. <br><br><h2> <font color="#3AC1EF">18.     </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/580/560/70a580560fba67e09f87bdd6c5ecda04.png"></div><br><h3>  </h3><br>      ,        (,  ),  ¬´¬ª,         .    ,    ( <code>cluster.fork()</code> ),     npm-,   . <br><br> ‚Üí <a href=""></a>        <br><br><h3>   </h3><br>  ,   ,      .   ‚Äî  ,  ,    ,      . <br><br><h2> <font color="#3AC1EF">19.        </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f6/270/3ce/8f62703ce8563d57d7612400656de168.png"></div><br><h3>  </h3><br> ,   ,   .      ,     ,          ,       .      <code>child_process.execFile</code> , ,  ,    ,        ,  . <br><br> ‚Üí <a href=""></a>    ,       <br><br><h3>   </h3><br>                ,  ,    ,   ,   . <br><br><h2> <font color="#3AC1EF">20.      </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>    express,  ,    . ,   ,       ,    <code>Error</code> (    ).    , ,        ,      -  ,       . <br><br> ‚Üí <a href=""></a>         <br><br><h3>   </h3><br>  ,    , ,      ,            ,    ,      . <br><br><h2> <font color="#3AC1EF">21.     npm  Yarn</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>     ,      -,      (MFA, multi-factor authentication).   npm  Yarn     ,      .  ,      ,       ,       .        ,      .   , ,  npm,                   . <br><br><h3>   </h3><br>  ,        ? <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>    eslint,     . <br><br><h2> <font color="#3AC1EF">22.   ,   </font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54e/d5d/a3b/54ed5da3b50b58f50b8b4150a3c2b258.png"></div><br><h3>  </h3><br>   -       .    ,      ‚Äî     ,   -  .   ,   ,      <code>X-Powered-By</code> ,          ,      .   ,        ( , , Node.js  express). <br><br> ‚Üí <a href=""></a>   -    <br><br><h3>   </h3><br> -     .  ,         ,  -,   ‚Äî    .            . <br><br><h2> <font color="#3AC1EF">23.     </font> </h2><br>           ,      .  ‚Äî  ,     Node.js. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>     ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> OWASP</a> . <br><br><ul><li>      root-      . </li><li>        ( SSH-). </li><li>  ,      ,   ,   . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>  OWASP,  . </li><li>       ,     .  ,      . <br></li><li>       OAuth, OpenID,   .     Basic Authentication. <br></li><li>    .      ,    (   ‚Äî       ),   X   ,  Y . <br></li><li>        ‚Äî     ,    ‚Äî   .     ,      . <br></li><li>    ,  ,    .             ( ‚Äî     GitHub, AWS, Jenkins,   ). <br></li></ul><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>      . ,        Node.js-. <br><br>  <b>Liebe Leser!</b>       -,        ? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/ft/qm/bo/ftqmbopklpm88ixbi5vqyx2zcb8.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de419719/">https://habr.com/ru/post/de419719/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de419707/index.html">Gamification von Anwendungen - 5 Dinge zu beachten</a></li>
<li><a href="../de419711/index.html">Die erste IT Bike Quest in St. Petersburg. Wie war es</a></li>
<li><a href="../de419713/index.html">Mail.Ru Design Konferenz + Dribbble Meetup 2018</a></li>
<li><a href="../de419715/index.html">Sie wissen nicht, wie Sie mit Transaktionen arbeiten sollen</a></li>
<li><a href="../de419717/index.html">Entwerfen einer eingebetteten Anwendungsarchitektur</a></li>
<li><a href="../de419721/index.html">Biomarker des Alterns. Panel Gebrechlichkeit. Teil 1</a></li>
<li><a href="../de419725/index.html">Pfeile, W√ºrfel und M√ºnzen: Diskrete Verteilungsalgorithmen</a></li>
<li><a href="../de419727/index.html">Harbour - eine Registrierung f√ºr sofort einsatzbereite Docker-Container</a></li>
<li><a href="../de419729/index.html">Wohlt√§tigkeitsveranstaltung ‚ÄûGeben Sie Kindern Fl√ºgel‚Äú</a></li>
<li><a href="../de419731/index.html">Mini-Review des Dentalphotopolymer-3D-Druckers MoonRay S.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>