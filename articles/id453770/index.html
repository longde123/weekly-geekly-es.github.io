<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏰ 🙌🏻 🚲 Panduan Pemberitahuan Langganan Apple untuk iOS. Apakah mereka benar-benar baik? 🤵🏻 🐣 🤡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jadi, Anda memiliki aplikasi dengan langganan otomatis yang dapat diperbarui. Ini berfungsi dengan baik, pengguna mengeluarkan langganan premium yang ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Panduan Pemberitahuan Langganan Apple untuk iOS. Apakah mereka benar-benar baik?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/apphud/blog/453770/"><p><img src="https://habrastorage.org/getpro/habr/post_images/fa5/f52/a07/fa5f52a07612fe9b040dad35421024ec.jpg"></p><br><p>  Jadi, Anda memiliki aplikasi dengan langganan otomatis yang dapat diperbarui.  Ini berfungsi dengan baik, pengguna mengeluarkan langganan premium yang tak terkendali dan menulis ulasan pujian.  Cantik! </p><br><p>  Halo semuanya, nama saya Denis, saya adalah manajer proyek untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apphud</a> , layanan untuk analisis langganan yang dapat diperbarui secara otomatis untuk aplikasi iOS. </p><br><p>  Sebagai seorang manajer proyek, sangat penting bagi Anda untuk tetap mengikuti metrik produk utama.  Salah satu yang paling penting adalah Nilai Waktu Hidup (LTV) - penghasilan rata-rata dari setiap pengguna sepanjang waktu menggunakan aplikasi.  Tetapi bagaimana cara menghitungnya dalam kasus langganan yang dapat diperbarui secara otomatis di iOS?  Bagaimana cara melacak waktu pembaruan, pembatalan, pembaruan berlangganan oleh pengguna? <a name="habracut"></a></p><br><p>  Hingga saat ini (yaitu, hingga 2017), satu-satunya cara untuk melakukan ini adalah apa yang disebut Polling Status Langganan.  Kapan saja, Anda dapat memperoleh informasi tentang status langganan dengan mengirimkan tanda terima yang diperlukan ke URL: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://buy.itunes.apple.com/verifyReceipt</a> .  Setelah Anda menerimanya, Anda dapat melihat informasi dasar tentang langganan, termasuk tanggal akhir.  Benar, Anda masih tidak akan mendapatkan biayanya. </p><br><p>  Untuk menerapkan Polling Status, Anda harus: </p><br><ol><li>  mentransfer dan menyimpan di server semua cek tentang semua langganan setiap pengguna, </li><li>  menerapkan logika server yang kompleks, yang <strong>secara teratur</strong> akan memeriksa pemeriksaan ini. </li></ol><br><p>  Ini rumit.  Namun pada tahun 2017, Apple tampaknya akan menyelesaikan masalah ini.  Di WWDC, dengan tepuk tangan meriah, mereka menghadirkan Pemberitahuan Pembaruan Status Langganan Apple. </p><br><h2 id="chto-takoe-subscriptions-notifications">  Apa itu Pemberitahuan Langganan? </h2><br><p>  Pemberitahuan Berlangganan Status Langganan Apple adalah mekanisme untuk mengirim kait web ke server Apple Anda ketika terjadi peristiwa langganan yang dapat diperpanjang secara otomatis.  Untuk mengaktifkannya, Anda harus terlebih dahulu mengkonfigurasi server Anda untuk menerimanya: server harus mendukung protokol Keamanan Transport Aplikasi (biasanya semuanya berfungsi secara default).  Setelah itu, Anda harus pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">App Store Connect</a> dan di bagian "App Store" dari pengaturan aplikasi Anda, masukkan tautan di mana Apple akan mengirim permintaan POST setiap kali terjadi peristiwa: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/011/e97/844/011e97844357cc016a2a8258bacfd354.png" alt="Konfigurasikan Pemberitahuan Pembaruan Status Langganan Apple"></p><br><blockquote>  Perhatikan bahwa Apple merekomendasikan penggunaan Pemberitahuan Langganan bersamaan dengan Polling Status.  Pertanda buruk ... </blockquote><p>  Selesai!  Sekarang Anda harus menerima pemberitahuan kapan saja, misalnya, langganan dikeluarkan, diperbarui atau dibatalkan. </p><br><h2 id="raznovidnosti-uvedomleniy">  Varietas Pemberitahuan </h2><br><p>  Apple mengirimkan 6 jenis pemberitahuan yang terjadi di berbagai acara.  Kami akan menganalisis masing-masing. </p><br><h3 id="initial_buy">  INITIAL_BUY </h3><br><p>  Apple mengirimkan pemberitahuan ini ketika pengguna pertama kali mendaftar untuk <strong>grup</strong> berlangganan. </p><br><blockquote>  Anda dapat membaca lebih lanjut tentang grup berlangganan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> kami. </blockquote><p><img src="https://habrastorage.org/getpro/habr/post_images/bce/b16/6de/bceb166ded34b6e3efe67b0fbd22ae01.png" alt="Acara INITIAL_BUY"></p><br><h3 id="cancel">  BATAL </h3><br><p>  Acara ini dikirim ketika pengguna membatalkan langganan melalui dukungan Apple Care dan mengembalikan uang pembelian.  Kami menekankan bahwa ini <strong>bukan</strong> tentang pembatalan langganan seperti biasa melalui pengaturan iOS. </p><br><blockquote> <code>CANCEL</code> acara tidak dikirim selama pembatalan normal melalui pengaturan iOS. </blockquote><p><img src="https://habrastorage.org/getpro/habr/post_images/52c/692/9ce/52c6929ced9ea6d4d887581722f5612a.png" alt="BATAL Acara"></p><br><h3 id="did_change_renewal_status">  DID_CHANGE_RENEWAL_STATUS </h3><br><p>  Acara ini telah ditambahkan baru-baru ini.  Itu dikirim ketika pengguna memutus atau (lagi) memungkinkan pembaruan langganan melalui pengaturan iOS, aplikasi App Store atau dukungan Apple: </p><br><blockquote>  Jangan bingung acara ini dengan acara <code>CANCEL</code> yang dipicu ketika Anda membatalkan langganan dan pengembalian dana melalui dukungan Apple Care. </blockquote><p><img src="https://habrastorage.org/getpro/habr/post_images/987/be2/829/987be28296f3367163ff3af07a4fb29a.png" alt="Acara DID_CHANGE_RENEWAL_STATUS"></p><br><h3 id="renewal">  PEMBARUAN </h3><br><p>  Hal pertama yang terlintas dalam pikiran ketika Anda melihat nama acara ini: Apple mengirimkannya ketika pembaruan diperpanjang secara otomatis.  Bagaimanapun caranya! </p><br><p>  Acara <code>RENEWAL</code> dikirim ketika: </p><br><ol><li><p>  langganan pengguna dibatalkan secara otomatis <strong>karena masalah dengan kartu bank pengguna ...</strong> </p><br></li><li><p>  dan setelah itu pengguna memperbarui langganan lagi.  Pada titik inilah acara <code>RENEWAL</code> . </p><br></li></ol><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e56/ed6/4e9/e56ed64e9a4f804a69c32b15df6e614f.jpg"></p><br><blockquote>  <code>RENEWAL</code> PEMBARUAN <strong>tidak dikirim</strong> jika terjadi pembaruan reguler  Alih-alih, Apple menyarankan untuk memeriksa cek berlangganan melalui <code>/VerifyReceipt</code> sebelum dan setelah pembaruan yang diharapkan, dan menganalisis <code>expiration_date</code> dihasilkan </blockquote><p><img src="https://habrastorage.org/getpro/habr/post_images/2d9/e2d/544/2d9e2d5440a690903f0182b5c08cc9a4.png" alt="Acara PEMBARUAN"></p><br><h3 id="interactive_renewal">  INTERACTIVE_RENEWAL </h3><br><p>  Acara ini dikirim jika: </p><br><ol><li><p>  Pengguna membatalkan langganan dan <strong>beberapa saat setelah itu ...</strong> </p><br></li><li><p>  langganan yang diperbarui pengguna.  Pada saat inilah <code>INTERACTIVE_RENEWAL</code> dikirim. </p><br><blockquote>  Langganan baru (yang ditunjukkan dalam ayat 2) mungkin berbeda dari berlangganan dari ayat 1, tetapi keduanya harus milik kelompok pembelian yang sama.  Misalnya, pengguna dapat berhenti berlangganan dari paket tarif Bronze dan setelah beberapa waktu memperbarui langganan mereka dengan memilih paket Gold.  Dalam hal ini, Apple akan mengirimkan acara <code>INTERACTIVE_RENEWAL</code> ke server Anda (asalkan langganan Perunggu dan Emas milik kelompok belanja yang sama).  Anda dapat membaca lebih lanjut tentang grup berlangganan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </blockquote><br></li></ol><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7b0/d77/fe3/7b0d77fe3921cf4bf9c4d9b4a04bec03.png" alt="Acara INTERACTIVE_RENEWAL"></p><br><h3 id="did_change_renewal_pref">  DID_CHANGE_RENEWAL_PREF </h3><br><p>  <code>DID_CHANGE_RENEWAL_PREF</code> dikirim ketika pengguna beralih dari satu langganan ke yang lain dalam grup belanja yang sama: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ab1/8d5/359/ab18d53594ec3b04615f38598aa0c787.png" alt="Acara DID_CHANGE_RENEWAL_PREF"></p><br><h3 id="chto-v-itoge">  Apa hasilnya? </h3><br><p>  Apple menawarkan sebanyak 6 acara, tetapi tidak satu pun dari mereka yang dikirim saat memperbarui langganan secara otomatis dalam mode normal.  Mengapa mereka melakukan itu?  Tidak jelas.  Selain itu, nama-nama acara ini menyesatkan. </p><br><p>  Tabel di bawah ini merangkum acara tersebut. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3ba/c0f/fc1/3bac0ffc178eaad092d199d6dd0e8d19.png"></p><br><h2 id="kak-ispolzovat-apple-subscriptions-notifications">  Bagaimana cara menggunakan Pemberitahuan Langganan Apple? </h2><br><p>  Karena kenyataan bahwa acara paling penting yang Anda perlukan untuk menghitung LTV - pembaruan langganan dalam mode normal - tidak terkirim, Anda masih harus menggunakan Polling Status.  Ada kemungkinan bahwa Apple akan menambahkan acara ini dalam waktu dekat, tetapi bahkan jika ini terjadi, Anda masih tidak dapat melakukannya tanpa server Anda sendiri.  Server ini akan bertindak sebagai "lapisan" antara Apple dan sistem analitik lain (misalnya, Amplitude, Flurry, atau Mixpanel).  Dengan menerima acara dan memeriksa cek, Anda akan mengirim informasi tentang pembaruan, pembatalan, dan pengembalian uang. </p><br><blockquote><h1 id="odnazhdy-my-stolknulis-s-etoy-problemoy-i-reshili-razrabotat-servis-kotoryy-by-reshil-eti-problemy-tak-rodilas-ideya-servisa-nad-kotorym-my-seychas-rabotaem--servisa-analitiki-podpisok-dlya-ios-kotoryy-zapolnyaet-bresh-v-otpravke-sobytiy-so-storony-apple">  Setelah kami mengalami masalah ini dan memutuskan untuk mengembangkan layanan yang akan menyelesaikan masalah ini.  Maka lahirlah ide dari layanan yang sedang kami kerjakan - layanan analisis berlangganan untuk iOS, yang mengisi kesenjangan dalam mengirimkan acara dari Apple. </h1><br></blockquote><br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>  Pemberitahuan Langganan Apple tidak sebagus kelihatannya, karena hanya dengan mereka, Anda tidak dapat menyelesaikan masalah utama: untuk mengetahui berapa banyak uang yang dibawa seorang pengguna kepada Anda.  Apple mungkin membuat hidup lebih mudah bagi pengembang di masa depan, tetapi satu hal yang pasti: implementasi Pemberitahuan Langganan saat ini sangat tidak terlihat dan terlihat seperti tongkat penyangga. </p><br><blockquote>  Ingin menerapkan langganan di aplikasi iOS Anda dalam 10 menit?  Integrasikan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apphud</a> dan: <br><ul><li>  Lakukan pembelian hanya menggunakan satu metode; </li><li>  secara otomatis melacak status langganan setiap pengguna; </li><li>  Integrasikan Penawaran Langganan dengan mudah </li><li>  kirim acara berlangganan ke Amplitude, Mixpanel, Slack dan Telegram dengan mempertimbangkan mata uang lokal pengguna; </li><li>  mengurangi tingkat Churn dalam aplikasi dan mengembalikan pengguna yang tidak berlangganan. </li></ul><br></blockquote><br><h2 id="chto-pochitat">  Apa yang harus dibaca? </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">7 Hal yang Perlu Diketahui tentang Langganan yang Dapat Diperbarui Secara Otomatis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Pengantar Penawaran di iOS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Panduan Pemberitahuan Pembaruan Status Apple</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id453770/">https://habr.com/ru/post/id453770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id453756/index.html">Masalah metodologi saat ini untuk menentukan ancaman saat ini dari FSTEC</a></li>
<li><a href="../id453760/index.html">Kamp pelatihan sirkuit untuk tank dan prosesor</a></li>
<li><a href="../id453764/index.html">Amnesia sukarela: manipulasi hippocampal untuk menghilangkan ingatan yang menyakitkan</a></li>
<li><a href="../id453766/index.html">Software Defined Radio - bagaimana cara kerjanya? Bagian 6</a></li>
<li><a href="../id453768/index.html">Tinjauan Layanan SMS: Layanan Populer</a></li>
<li><a href="../id453772/index.html">Project Athena - Menciptakan Kembali Notebook</a></li>
<li><a href="../id453776/index.html">Kami memompa desainer di perusahaan: dari junior ke art director</a></li>
<li><a href="../id453778/index.html">Bagaimana kami menciptakan bank online untuk bisnis. Bagian Satu: Rebranding</a></li>
<li><a href="../id453780/index.html">Bagaimana memilih telepon Grandstream SIP - secara umum dan khusus?</a></li>
<li><a href="../id453782/index.html">UIScrollView Tanpa Batas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>