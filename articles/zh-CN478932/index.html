<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🎓 🚎 💚 前端的Docker。 第1部分。为什么？ 👳 👨🏼‍🎨 👵🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="哈Ha！ 


 几个月前，我在FrontendConf 2019大会上发表了有关前端的Docker报告的演讲，并希望为那些喜欢阅读多于倾听的人制作一份报告的小抄本。 



我邀请您来吸引所有Web开发人员，尤其是前端人员。 
 目录内容 


1. 前端的Docker。 第1部分。为什么？ 
2...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>前端的Docker。 第1部分。为什么？</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478932/"><p> 哈Ha！ </p><br><p> 几个月前，我在<a href="https://frontendconf.ru/moscow/2019" rel="nofollow">FrontendConf 2019</a>大会上发表了有关<a href="https://frontendconf.ru/moscow/2019" rel="nofollow">前端</a>的<a href="https://frontendconf.ru/moscow/2019/abstracts/5593" rel="nofollow">Docker</a>报告的演讲，并希望为那些喜欢阅读多于倾听的人制作一份报告的小抄本。 </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/SMM3bsYyFls" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>我邀请您来吸引所有Web开发人员，尤其是前端人员。 </p><a name="habracut"></a><br><h1 id="soderzhanie"> 目录内容 </h1><br><ol><li>  <a href="https://habr.com/ru/post/478932/">前端的Docker。</a>  <a href="https://habr.com/ru/post/478932/">第1部分。为什么？</a> </li><li>  <a href="https://habr.com/ru/post/479018/">前端的Docker。</a>  <a href="https://habr.com/ru/post/479018/">第2部分。您是什么？</a> </li><li> 前端的Docker。 第3部分。一些食谱 </li></ol><br><h1 id="voshozhdenie-docker"> 攀登Docker </h1><br><p>  <strong>Docker</strong>并不是一个新工具，它于2013年3月首次发布，从那时起，它的受欢迎程度一直在增长。 </p><br><p><img src="https://habrastorage.org/webt/3e/wc/iq/3ewciqxgtitedo8htjpxm-kvh7a.png"></p><br><p> 在这里，我们看到对<strong>Node.js</strong>的请求频率已经达到平稳状态，并且没有任何变化，而对<strong>Docker的</strong>请求却继续增加。 </p><br><p><img src="https://habrastorage.org/webt/1u/mx/h_/1umxh_ohm6l20l18qrtnjnzzx9a.png"></p><br><p> 该玩具在<a href="https://ritfest.ru/2019" rel="nofollow">Dev ++</a>部分的<a href="https://ritfest.ru/2019" rel="nofollow">RIT ++ 2019</a>大会上。 以我的经验，没有一个DevOps会议没有<strong>关于Docker的</strong>报告，就像前端会议也没有关于<strong>比较框架</strong> ， <strong>设置Webpack</strong>和<strong>专业倦怠的报告一样</strong> 。 </p><br><p> 让我们在前端聚会中也开始谈论这项技术。 </p><br><p><img src="https://habrastorage.org/webt/1p/rx/h6/1prxh66-afscacfhabtbdjm9aqs.png"></p><br><p> 这是<a href="https://roadmap.sh/" rel="nofollow">网站站长路线图</a> 。 左侧是任何开发路径所需的技能。 确实，很难想象有一个不了解Git，终端或不了解HTTP的优秀Web开发人员。 </p><br><p>  <strong>Docker</strong>也出现在这里，但是在<strong>DevOps</strong>开发分支的肠子中，它位于<strong>基础结构中，作为代码-&gt; Containers</strong>块。 </p><br><p> 但是我们知道， <strong>Docker不仅</strong>是开发工具，还是开发工具。 而且，我认为，过了一会儿，他就有机会进入<strong>任何路径</strong>的<strong>必填</strong>部分，并成为许多前端开发人员空缺中的强制性要求。 </p><br><p> 可以说我们现在生活在<strong>Docker时代</strong> 。 因此，如果您是前端开发人员并且尚未见过他，那么我将告诉您为什么这样做。 </p><br><h1 id="zachem"> 怎么了 </h1><br><h2 id="keys-1-podnimaem-backend"> 案例1.提升后端 </h2><br><p> 我们可以考虑的第一个也是最有用的情况是在舒适的Macbook上启动API。 是的，我们非常了解我们的技术，但是部署第三方软件始终不是一项容易的测试。 </p><br><p> 在我们的一个项目中，前端开发人员需要在计算机上安装这样的套件，以便API可以工作： </p><br><pre><code class="markdown hljs"><span class="hljs-bullet"><span class="hljs-bullet">* </span></span>go1.11 <span class="hljs-bullet"><span class="hljs-bullet">* MySQL *</span></span> Redis <span class="hljs-bullet"><span class="hljs-bullet">* Elasticsearch *</span></span> Capistrano <span class="hljs-bullet"><span class="hljs-bullet">* syslog *</span></span> PostgreSQL</code> </pre> <br><p> 幸运的是，我们有使用<strong>README</strong>文件部署项目的说明。 他们看起来像这样： </p><br><pre> <code class="markdown hljs"><span class="hljs-bullet"><span class="hljs-bullet">1. </span></span> GVM (https://github.com/moovweb/gvm) 2. <span class="hljs-code"><span class="hljs-code">`gvm install go1.11.13 --binary`</span></span> 3. <span class="hljs-code"><span class="hljs-code">`gvm use go1.11.13 --default`</span></span> 4.        golang (<span class="hljs-code"><span class="hljs-code">`gvm linkthis`</span></span>) 5.  <span class="hljs-code"><span class="hljs-code">`gb`</span></span> <span class="hljs-code"><span class="hljs-code">`go get github.com/constabulary/gb/...`</span></span> 6.   <span class="hljs-code"><span class="hljs-code">`git config --global url."git@git.example.com:".insteadOf "https://git.example.com/"`</span></span> 7.   <span class="hljs-code"><span class="hljs-code">`gb vendor restore`</span></span> 8.   9.   <span class="hljs-code"><span class="hljs-code">`npm run build`</span></span> (<span class="hljs-code"><span class="hljs-code">`npm run build:dev`</span></span>  ) 10.   <span class="hljs-code"><span class="hljs-code">`npm start`</span></span></code> </pre> <br><p> 像这样： </p><br><pre> <code class="markdown hljs"><span class="hljs-section"><span class="hljs-section">## Elasticsearch 1.    Elasticsearch `brew install elasticsearch` - macOS (   java) 2.   *   https://github.com/imotov/elasticsearch-analysis-morphology       ,   `/usr/local/Cellar/elasticsearch/2.3.3/libexec/bin/plugin install http://dl.bintray.com/content/imotov/elasticsearch-plugins/org/elasticsearch/elasticsearch-analysis-morphology/2.3.3/elasticsearch-analysis-morphology-2.3.3.zip` -  *    `brew services restart elasticsearch` 3.    `rake environment elasticsearch:import:model CLASS='Tag' FORCE=y ` `rake environment elasticsearch:import:model CLASS='Post' FORCE=y`   ,     ## Postgres comments db 1. `psql -U postgres -h localhost` 2. `create database comments_dev;` ## Redis install and start 1. `brew install redis` 2.   `brew services start redis`</span></span></code> </pre> <br><p> 您如何看待，新手开发人员花了多长时间部署项目并开始执行任务？ </p><br><p>  <strong>大约一个星期。</strong> </p><br><p> 自然地，并不是所有的终端命令都是第一次通过，很多时候指令变得过时了。 </p><br><p> 它被认为是正常的，适合所有人。 也就是说，要在<strong>1小时的</strong>工作<strong>时间内</strong>完成一项功能，首先需要花费<strong>40个小时</strong>在本地部署所有组件。 </p><br><p> 现在，带有所有开发服务的项目部署看起来像这样，并且冷启动<strong>大约</strong>需要<strong>10分钟</strong> 。 </p><br><pre> <code class="plaintext hljs">$ docker-compose up api ... Listening localhost:8080</code> </pre> <br><p> 所有服务部署命令都是在Docker映像组装期间执行的。 它们是自动化的，不能过时。 </p><br><h2 id="keys-2-ustoychivost"> 情况2.稳定性 </h2><br><p> 第二种情况是我们工作计算机系统的稳定性。 </p><br><p> 谁喜欢在自己喜欢的计算机上安装一些<strong>第三方软件</strong> ？ 谁喜欢安装<strong>几个不同的数据库</strong> ， <strong>新的编译器</strong> ， <strong>解释器</strong> ？ </p><br><p> 当我们部署本地第三方API时，必须完成此操作。 </p><br><p> 此外，您可能会<strong>破坏</strong>系统并花几个小时来恢复它。 </p><br><p><img src="https://habrastorage.org/webt/mv/pg/ej/mvpgejor1mk053lhqyb_xbkg6v4.png"></p><br><p> 使用Docker进行开发可以很好地解决这个问题。 所有第三方软件都在绝缘的容器中旋转，如有必要，可以<strong>轻松删除</strong> 。 </p><br><pre> <code class="plaintext hljs">$ docker rm --volumes api $ docker system prune --all</code> </pre> <br><h2 id="keys-3-kontroliruem-ekspluataciyu"> 案例3.我们控制操作 </h2><br><p> 我要谈的第三种情况是前端开发人员控制其服务操作的能力。 由您决定他的服务在生产中的工作方式。 </p><br><p> 我知道将项目投入运营通常看起来像这样。 </p><br><p>  <strong>前线：</strong> <em>伙计们，我做了一切。</em>  <em>萝卜中的代码。</em>  <em>推出，PLIZ！</em> <br>  <strong>管理员：</strong> <em>如何推广？</em> <br>  <strong>前面：</strong> <em>您收集节点并由Web服务器从<code>/build</code>文件夹分发静态信息</em> <br>  <strong>管理员：</strong> <em>收集哪个版本的节点？</em>  <em>什么是构建命令？</em>  <em>要分发哪个Web服务器？</em> <br></p><br><p> 结果，对于管理员来说，您的项目部署变成了<strong>同样令人振奋的任务</strong> ，就像您在先前情况下在本地计算机上部署API一样。 </p><br><p> 即使该项目可以在您的计算机上运行，​​也完全没有必要在生产环境中运行所有项目。 我们得到了经典的问题“ <strong>它可以在我的机器上工作”</strong> 。 </p><br><p><img src="https://habrastorage.org/webt/yd/lk/ia/ydlkiairiwg_7lda3phgsswloci.png"></p><br><p>  Docker为此提供了帮助。 解决方案很简单，如果我们将项目打包在Docker中，从而<strong>自动执行</strong>其组装并设置启动，那么它将在支持Docker的所有服务器上均能正常工作。 </p><br><p><img src="https://habrastorage.org/webt/gk/-l/bd/gk-lbdhfa196gbqb0rkiqxpptco.png"></p><br><p> 管理员指南可归纳为： </p><br><p>  <strong>前线：</strong> <em>伙计们，我做了一切。</em>  <em>为您收集了一个Docker映像。</em>  <em>推出，PLIZ！</em> <br>  <strong>管理员：</strong> <em>好的</em> <br></p><br><p> 好吧，无论如何，管理员都应该能够使用Docker映像。 与我们的节点不一样。 </p><br><h2 id="chto-zhe-takoe-docker"> 什么是码头工人？ </h2><br><p> 我希望我能解释一下，如果您是前端开发人员但仍然不了解该技术，那么为什么您应该仔细研究该技术。 但我从未告诉过它是什么。 </p><br><p><img src="https://habrastorage.org/webt/_h/zr/fl/_hzrflvk74azh-ecpp1plvfvjxs.png"></p><br><p> 我计划在本文的以下部分中对此进行撰写，并为前端开发人员提供一些有用的食谱。 </p><br><h2 id="updated"> 已更新 </h2><br><ul><li>  <a href="https://www.youtube.com/watch%3Fv%3DhMB5_15wUHs%26t%3D2382s" rel="nofollow">播客Web标准中的讨论文章</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN478932/">https://habr.com/ru/post/zh-CN478932/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN478912/index.html">本月学习Azure-我们的新免费电子书</a></li>
<li><a href="../zh-CN478924/index.html">在unRAID上配置家用路由器+ NAS（第2部分）</a></li>
<li><a href="../zh-CN478926/index.html">.NET Core 3.1发布</a></li>
<li><a href="../zh-CN478928/index.html">Python还是Python</a></li>
<li><a href="../zh-CN478930/index.html">如何在没有密码的情况下使用MySQL（以及安全风险）</a></li>
<li><a href="../zh-CN478934/index.html">每个人都经常忘记的最有用的Python标准库模块</a></li>
<li><a href="../zh-CN478938/index.html">我们根据Ecmascript规范学习承诺。 熟人</a></li>
<li><a href="../zh-CN478942/index.html">伟大的色情实验：成人互联网的历史</a></li>
<li><a href="../zh-CN478948/index.html">搜索Samsung TrustZone中的漏洞，或AFL模糊所有</a></li>
<li><a href="../zh-CN478950/index.html">本周结果：华为适应制裁，普京签署耸人听闻的法律，在俄罗斯，他们封锁了ShutterStock</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>