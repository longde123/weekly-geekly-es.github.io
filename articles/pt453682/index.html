<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçüîß ü•ó üêº Desenvolvimento do ‚Äúfirmware‚Äù mais simples para FPGAs instalados em Redd. Parte 2. C√≥digo do Programa üë©üèª‚Äçüéì üõÇ üïí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Portanto, no √∫ltimo artigo, desenvolvemos o sistema de processador mais simples, com o qual planejamos testar o chip de RAM conectado ao FPGA do compl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento do ‚Äúfirmware‚Äù mais simples para FPGAs instalados em Redd. Parte 2. C√≥digo do Programa</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453682/">  Portanto, no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√∫ltimo artigo,</a> desenvolvemos o sistema de processador mais simples, com o qual planejamos testar o chip de RAM conectado ao FPGA do complexo Redd.  Hoje, criaremos um programa C ++ para esse ambiente de hardware e tamb√©m descobriremos como injetar esse programa e, o mais importante, depur√°-lo. <br><br><img src="https://habrastorage.org/webt/ao/pw/9q/aopw9qsnn52memjdqkmx8zldyec.jpeg"><br><a name="habracut"></a><br>  O programa √© desenvolvido no ambiente Eclipse.  Para inici√°-lo, selecione o item de menu <b>Ferramentas-&gt; Ferramentas de compila√ß√£o do software Nios II para Eclipse</b> . <br><br><img src="https://habrastorage.org/webt/ye/84/bi/ye84bibxhoqvn0gqdltuhyna8hg.png"><br><br>  Precisamos criar um projeto e um BSP para ele.  Para fazer isso, clique com o bot√£o direito do mouse na √°rea Explorador de Projetos e selecione o item de menu <b>Novo-&gt; Aplicativo Nios II e BSP no modelo</b> . <br><br><img src="https://habrastorage.org/webt/7n/tz/kh/7ntzkheuuaqfbg810ub0jai8jmc.png"><br><br>  O modelo b√°sico com base no qual o projeto ser√° criado foi feito durante a gera√ß√£o do sistema do processador.  Portanto, encontramos o arquivo que o cont√©m. <br><br><img src="https://habrastorage.org/webt/z6/iy/sl/z6iysldjqrihweonoril4dkpxeo.png"><br><br>  Tamb√©m daremos um nome ao projeto (eu tenho o <b>SDRAMtest</b> ) e selecionaremos o tipo de projeto.  Eu escolhi <b>Hello World Small</b> .  Gostaria de escolher <b>Teste de mem√≥ria</b> , estamos fazendo um teste de mem√≥ria, mas agora estamos considerando uma maneira geral de criar aplicativos.  Portanto, escolhemos a op√ß√£o geral. <br><br><img src="https://habrastorage.org/webt/nm/kd/rk/nmkdrk66vtd6raj_iyba8zqbhn0.png"><br><br>  Criamos dois projetos.  O primeiro √© o nosso projeto, o segundo √© o BSP (Board Support Package, grosso modo, bibliotecas para trabalhar com equipamentos). <br><br><img src="https://habrastorage.org/webt/dl/j-/fv/dlj-fvk-8ctcmbafxyirhxwnjoo.png"><br><br>  A primeira coisa que costumo fazer √© editar as configura√ß√µes do BSP.  Para fazer isso, seleciono o segundo dos projetos criados, pressione o bot√£o direito do mouse e selecione o item de menu <b>Nios II -&gt; Editor BSP</b> . <br><br><img src="https://habrastorage.org/webt/bm/hc/1w/bmhc1w_ocq_qjnjy-2u-wsfruyc.png"><br><br>  No editor, tudo √© dividido em grupos: <br><br><img src="https://habrastorage.org/webt/3s/fp/27/3sfp27xpalx9sctult8smi6mqus.png"><br><br>  Mas, para n√£o correr ao longo deles, selecionarei a raiz da √°rvore, o elemento <b>Configura√ß√µes</b> , e considerarei tudo linearmente.  Vou listar o que voc√™ deve prestar aten√ß√£o.  Tela de configura√ß√µes iniciais: <br><br><img src="https://habrastorage.org/webt/b-/7g/vs/b-7gvsbf8dol4jpg7-coipcdqm8.png"><br><br>  O suporte para sa√≠da e o suporte para remo√ß√£o ao sair est√° desabilitado, o que libera partes desnecess√°rias de tamanho enorme do c√≥digo, mas elas s√£o desabilitadas inicialmente.  Essas gralhas foram desligadas, j√° que eu escolhi a op√ß√£o m√≠nima <b>Ol√°, Mundo</b> .  Ao escolher outros tipos de c√≥digo, √© melhor remover esses daws tamb√©m.  N√£o consigo resistir e ativar o suporte ao C ++.  Tamb√©m √© necess√°rio remover a verifica√ß√£o <b>SysID</b> , caso contr√°rio nada funcionar√°.  O fato √© que, ao criar o sistema de hardware, n√£o adicionei o bloco correspondente.  As demais configura√ß√µes s√£o auto-explicativas e n√£o foram alteradas.  Na verdade, tamb√©m n√£o mudei outras configura√ß√µes.  Um pouco mais tarde, voltaremos aqui, mas por enquanto pressionamos o bot√£o Gerar.  Estamos criando uma nova vers√£o do BSP com base nas configura√ß√µes feitas.  No final, clique em Sair. <br><br>  Agora a divers√£o come√ßa.  Como montar um projeto.  Pressione o <b>Ctrl + B</b> usual - obtemos um erro.  Erro de decodifica√ß√£o no: <br><br><img src="https://habrastorage.org/webt/1i/vo/15/1ivo15ndq_u8-t_2obxebgrwf7y.png"><br><br>  Nada razo√°vel no console: <br><br><img src="https://habrastorage.org/webt/fm/by/lz/fmbylzar83wnwwchcjcfys_sjb0.png"><br><br>  Selecione o <b>projeto de constru√ß√£o</b> para o projeto <b>SDRAMtest</b> , obteremos uma explica√ß√£o razo√°vel: <br><br><img src="https://habrastorage.org/webt/cc/tr/_t/cctr_tjdwtd7elwqbfiuws-lxc8.png"><br><br>  De fato, modelos n√£o funcionais s√£o a identidade corporativa da Quartus.  Essa √© outra raz√£o pela qual n√£o escolhi o <b>Teste de mem√≥ria</b> .  H√° mais e mais corrida.  Aqui est√° claro qual √© o problema. <br><br>  Esta fun√ß√£o do arquivo <b>alt_putstr.c falha</b> : <br><br><pre><code class="plaintext hljs">/* * Uses the ALT_DRIVER_WRITE() macro to call directly to driver if available. * Otherwise, uses newlib provided fputs() routine. */ int alt_putstr(const char* str) { #ifdef ALT_SEMIHOSTING return write(STDOUT_FILENO,str,strlen(str)); #else #ifdef ALT_USE_DIRECT_DRIVERS ALT_DRIVER_WRITE_EXTERNS(ALT_STDOUT_DEV); return ALT_DRIVER_WRITE(ALT_STDOUT_DEV, str, strlen(str), 0); #else return fputs(str, stdout); #endif #endif }</code> </pre> <br>  Vamos corrigi-lo de alguma forma mais tarde (para isso, precisamos complicar o sistema de hardware).  Hoje n√≥s simplesmente n√£o precisamos disso.  Substitua seu corpo pelo <b>retorno 0</b> .  O projeto come√ßa a se montar. <br><br>  √ìtimo.  J√° temos um <b>arquivo elf</b> pronto (mesmo que ele n√£o execute nenhuma fun√ß√£o √∫til) e temos equipamentos nos quais voc√™ pode <b>fazer upload do arquivo hexadecimal</b> (lembre-se de como informamos ao compilador Quartus que os dados de RAM devem ser carregados a partir dele, configurando o Onchip RAM?).  Como convertemos <b>elf</b> em <b>hex</b> ?  Muito simples  Iniciamos o projeto de trabalho, pressione o bot√£o direito do mouse, selecione o item de menu <b>Criar metas-&gt; Construir</b> : <br><br><img src="https://habrastorage.org/webt/0-/as/_n/0-as_nxv3f8acgl0thqxucmwrpk.png"><br><br>  Na janela exibida, tente primeiro selecionar a primeira op√ß√£o ( <b>mem_init_install</b> ): <br><br><img src="https://habrastorage.org/webt/ew/pl/gb/ewplgbs-_lyriekrzkll7-xg2g0.png"><br><br>  Nada vai acontecer.  Mas, com a mensagem de erro que nos foi dada, aprendemos como finalizar o projeto para o Quartus: <br><br><pre> <code class="plaintext hljs">../SDRAMtest_bsp//mem_init.mk:230: *** Deprecated Makefile Target: 'mem_init_install'. Use target 'mem_init_generate' and then add mem_init/meminit.qip to your Quartus II Project. Stop.</code> </pre><br>  <b>Selecionaremos a</b> <b>compila√ß√£o</b> com o objetivo de <b>mem_init_generate</b> , ap√≥s o qual (logo ap√≥s !!!) adicionaremos o <b>arquivo qip</b> especificado ao projeto de hardware (j√° aprendemos como adicionar arquivos quando adicionamos um sistema de processador ao projeto). <br><br><img src="https://habrastorage.org/webt/jo/bz/eb/jobzebo0suitvzz6siwy7fqdddg.png"><br><br>  Bem, o pr√≥prio <b>arquivo hexadecimal</b> tamb√©m pode ser sentido com as m√£os.  Aqui est√°: <br><br><img src="https://habrastorage.org/webt/kb/rv/kj/kbrvkjajtxtk0uf2to-fzl_ec7c.png"><br><br>  √ìtimo.  Temos tudo para come√ßar a encher o programa com funcionalidade real.  Vamos para o arquivo <b>hello_world_small.c</b> .  Honestamente, estou um pouco ofendido por trabalhar com C. puro  Portanto, vou mudar o nome de cpp.  E para que nada d√™ errado, adicionarei um feiti√ßo ao texto existente: <br><br><img src="https://habrastorage.org/webt/qu/4a/fp/qu4afpj9nqcdns7fz0yg1qpme28.png"><br><br><div class="spoiler">  <b class="spoiler_title">Mesmo texto:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">extern "C" { #include "sys/alt_stdio.h" } int main() { alt_putstr("Hello from Nios II!\n"); /* Event loop never exits. */ while (1); return 0; }</code> </pre><br></div></div><br>  √â importante executar a opera√ß√£o <b>Limpar Projeto</b> ap√≥s alterar o tipo de arquivo; caso contr√°rio, o compilador exibir√° mensagens de erro informando que o arquivo <b>* .c</b> n√£o foi encontrado com base em algumas informa√ß√µes em cache. <br><br>  Vamos simplificar o teste de mem√≥ria.  N√£o tenho a tarefa de ensinar o leitor a testar o chip de RAM corretamente.  Apenas superficialmente garantimos que o endere√ßo e os barramentos de dados n√£o sejam pegajosos e n√£o tenham interrup√ß√µes.  Ou seja, escrevemos em cada c√©lula todos os zeros e o endere√ßo da c√©lula.  Nossa tarefa √© criar c√≥digo de trabalho e tudo o mais (outras constantes de preenchimento e atraso para verificar se os dados est√£o sendo regenerados) s√£o detalhes de implementa√ß√£o que complicam o texto, mas n√£o alteram sua ess√™ncia. <br><br>  Vamos come√ßar com uma pergunta simples e natural: "Onde est√° localizada a SDRAM no espa√ßo de endere√ßo?"  Lembro que chamamos a fun√ß√£o de atribui√ß√£o autom√°tica de endere√ßos, mas nem sequer examinamos quais endere√ßos foram realmente atribu√≠dos.  De fato, mesmo agora n√£o vamos olhar para l√°.  Todas as informa√ß√µes necess√°rias est√£o no arquivo: <br>  <b>... \ SDRAMtest_bsp \ system.h</b> . <br><br><div class="spoiler">  <b class="spoiler_title">Como resultado, obtemos o seguinte c√≥digo:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">extern "C" { #include "sys/alt_stdio.h" #include &lt;stdint.h&gt; #include "../SDRAMtest_bsp/system.h" #include &lt;altera_avalon_pio_regs.h&gt; } int main() { bool bRes = true; volatile static uint32_t* const pSDRAM = (uint32_t*)NEW_SDRAM_CONTROLLER_0_BASE; static const int sizeInDwords = NEW_SDRAM_CONTROLLER_0_SPAN / sizeof (uint32_t); //  for (int i=0;i&lt;sizeInDwords;i++) { pSDRAM [i] = 0; } //   for (int i=0;i&lt;sizeInDwords;i++) { if (pSDRAM [i] != 0) { bRes = false; } } //   for (int i=0;i&lt;sizeInDwords;i++) { pSDRAM [i] = i; } //    for (int i=0;i&lt;sizeInDwords;i++) { if (pSDRAM [i] != i) { bRes = false; } } if (bRes) { IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x01); } else { IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x02); } /* Event loop never exits. */ while (1); return 0; }</code> </pre><br></div></div><br>  Coletamos o <b>arquivo hexadecimal</b> (lembro que atrav√©s desta caixa de di√°logo): <br><br><img src="https://habrastorage.org/webt/ig/qk/az/igqkaztuj29lzpy8oguoehfz16s.png"><br><br>  Depois disso, compilamos o equipamento no Quartus e entramos no programador para carregar o "firmware" resultante com o c√≥digo de programa inicial resultante no chip. <br><br><img src="https://habrastorage.org/webt/6a/qr/kb/6aqrkbup6jtuombvl9uhy5z_ozi.png"><br><br>  Coloque o ‚Äúfirmware‚Äù e receba uma mensagem informando que o sistema permanecer√° ativo enquanto estiver conectado ao JTAG (recursos da licen√ßa do kernel SDRAM no ambiente de desenvolvimento livre).  Na verdade, para o caso de Redd, isso n√£o √© cr√≠tico.  Este JTAG est√° l√° o tempo todo. <br><br><img src="https://habrastorage.org/webt/mt/gm/7w/mtgm7wkwrrey2b67zwawvdxnxkw.png"><br><br>  Os resultados do teste de RAM podem ser vistos no conector, nos contatos C21 (bem-sucedido) ou B21 (erro).  N√≥s nos conectamos a eles com um oscilosc√≥pio. <br><br><img src="https://habrastorage.org/webt/uz/cc/ao/uzccaoobipzc-cccy68lbalfwyc.png"><br><br>  Ambas as sa√≠das est√£o em zero.  Algo est√° errado aqui.  Resta entender o que exatamente.  De fato, um programa inoperante √© √≥timo, porque agora vamos come√ßar a aprender a depura√ß√£o JTAG.  Nosso objetivo √© o projeto, selecione <b>Debug As-&gt; Nios II Hardware</b> . <br><br><img src="https://habrastorage.org/webt/ge/lq/il/gelqilnvpmdgmpmijnbdxrw4p7a.png"><br><br>  A primeira vez que o sistema n√£o encontra o hardware.  √â assim (observe a cruz vermelha no cabe√ßalho da guia destacada): <br><br><img src="https://habrastorage.org/webt/wf/ou/-4/wfou-49ykdeytjz3sbkuvepobyo.png"><br><br>  Alterne para a guia <b>Conex√£o de destino</b> e marque a caixa de sele√ß√£o <b>Ignorar identifica√ß√£o incorreta do sistema</b> .  Durante experimentos subsequentes, √†s vezes tamb√©m tive que definir o <b>registro de data e hora de ignorar sistema incompat√≠vel</b> .  Apenas no caso, destacarei na imagem n√£o com um vermelho, mas com uma moldura amarela para enfatizar que n√£o √© necess√°rio instal√°-lo agora, mas se o bot√£o <b>Debug</b> n√£o estiver ativado, talvez seja hora de instal√°-lo. <br><br><img src="https://habrastorage.org/webt/h9/bi/be/h9bibeo2ixvlgkwc_ey30-3vow8.png"><br><br>  Clique em <b>Aplicar</b> ( <b>Aplicar</b> ) e clique em <b>Atualizar conex√µes</b> (este bot√£o est√° oculto, √© necess√°rio rolar o bot√£o): <br><br><img src="https://habrastorage.org/webt/2r/yu/sa/2ryusa_heconi7hmz4zmmf0pec0.png"><br><br>  Um depurador aparece na lista, voc√™ pode clicar em <b>Depurar</b> ... <br><br><img src="https://habrastorage.org/webt/jx/iz/py/jxizpyxvk1r6efvhgahsx5yxica.png"><br><br>  Paramos na fun√ß√£o <b>main ()</b> .  Se desejar, voc√™ pode colocar um ponto de interrup√ß√£o no final do algoritmo e verificar se o programa o alcan√ßa: <br><br><img src="https://habrastorage.org/webt/dv/yb/4u/dvyb4u8bdirwyd_vsx6mncxjhd4.png"><br><br>  Execute o programa: <br><br><img src="https://habrastorage.org/webt/q0/dn/qp/q0dnqpvwdy_ervdrwibehw4wukm.png"><br><br>  O ponto de interrup√ß√£o n√£o funcionou.  Vamos parar o programa e ver onde ele √© executado. <br><br><img src="https://habrastorage.org/webt/mb/gw/aj/mbgwajwypeb5jrbc6pse9zp21tw.png"><br><br>  Tudo est√° ruim.  O programa claramente travou.  Organizando sucessivamente pontos de interrup√ß√£o, depois parando (com o bot√£o vermelho "Parar") e reiniciando o programa (usando o bot√£o com o bug), encontramos a √°rea do problema. <br><br>  Tudo morre quando essa linha √© executada para o primeiro elemento: <br><br><img src="https://habrastorage.org/webt/jq/oq/fv/jqoqfvwqcfb0vel6ljtj4cg9t2i.png"><br><div class="spoiler">  <b class="spoiler_title">Mesmo texto:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> for (int i=0;i&lt;sizeInDwords;i++) { if (pSDRAM [i] != 0) { bRes = false; } }</code> </pre><br></div></div><br>  Do ponto de vista do C ++, tudo est√° limpo aqui.  Mas se voc√™ abrir o c√≥digo desmontado, poder√° ver que existem muitos comandos uniformes l√°.  Parece que o c√≥digo se apagou.  E ele poderia fazer isso se o vinculador o colocasse na SDRAM (cujo conte√∫do esse c√≥digo substitui). <br><br><img src="https://habrastorage.org/webt/-q/_d/pq/-q_dpqueoo5lvsnz6mq8p3em_ju.png"><br><br>  Paramos a depura√ß√£o, fechamos a perspectiva de depura√ß√£o. <br><br><img src="https://habrastorage.org/webt/cw/0g/1g/cw0g1gt_n_tinl5izm4pvz6v2hq.png"><br><br>  Vamos ao editor do BSP, no qual est√°vamos no in√≠cio deste artigo, mas √† guia <b>Script</b> do <b>vinculador</b> .  Se eu corrigisse essa guia no in√≠cio, n√£o seria capaz de mostrar a t√©cnica de entrada na depura√ß√£o JTAG (e enfatizar todo o seu poder em compara√ß√£o com a sa√≠da de depura√ß√£o simples, porque o fato do c√≥digo atolado durante a depura√ß√£o JTAG chamou minha aten√ß√£o).  Assim √©.  Um bom vinculador coloca tudo na mem√≥ria, cujo tamanho √© maior. <br><br><img src="https://habrastorage.org/webt/uf/ij/li/ufijli2wjemuirgicymujvon-ym.png"><br><br>  Redirecionamos tudo para <b>onchip_memory</b> ... Agora temos a SDRAM - √© apenas um peda√ßo de mem√≥ria cujo desempenho ainda n√£o temos garantia.  Voc√™ n√£o pode atribu√≠-lo a nenhuma a√ß√£o do compilador automatizado. <br><br><img src="https://habrastorage.org/webt/1i/11/k8/1i11k8pde4xbyl73v-gutl3rqwm.png"><br><br>  N√≥s reconstru√≠mos o <b>bsp</b> , reconstru√≠mos o projeto.  Preciso recriar a imagem da mem√≥ria e sobrecarregar o FPGA?  Ent√£o, para um trabalho semi-aut√¥nomo, ser√° necess√°rio, mas enquanto a depura√ß√£o estiver em andamento - n√£o.  Uma nova vers√£o do programa ser√° carregada imediatamente na RAM quando uma nova sess√£o de depura√ß√£o come√ßar.  Mas para que, na pr√≥xima inicializa√ß√£o do FPGA, n√£o seja necess√°rio iniciar o depurador, criar um novo <b>arquivo HEX</b> no final da depura√ß√£o e montar o ‚Äúfirmware‚Äù do FPGA com ele. <br><br>  Para o novo c√≥digo, um ponto de interrup√ß√£o foi atingido, o resultado do teste √© <b>verdadeiro</b> : <br><br><img src="https://habrastorage.org/webt/fo/t6/xh/fot6xhtlgjo0_rs89vzidyjngxw.png"><br><br>  O oscilosc√≥pio se divertiu: o raio amarelo subiu na unidade. <br><br><img src="https://habrastorage.org/webt/6j/mt/hl/6jmthlphaxtdnzhcmxyooxroxyo.png"><br><br>  Teste aprovado.  Vamos ser um pouco complicados e, simultaneamente, verificar o desempenho do sistema.  Vamos fazer a final assim: <br><br><pre> <code class="plaintext hljs"> //    GPIO if (bRes) { while (true) { IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x01); IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x00); } } else { while (true) { IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x02); IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x00); } }</code> </pre><br>  Como resultado, temos um meandro no oscilosc√≥pio (tudo foi conectado atrav√©s de um loop longo, de modo que um captador capacitivo apareceu na segunda linha, n√£o preste aten√ß√£o nele): <br><br><img src="https://habrastorage.org/webt/ff/w1/te/ffw1tetcbq252-1bqdhsswrtkl4.png"><br><br>  O resultado √© uma frequ√™ncia de aproximadamente 8,3 MHz a uma frequ√™ncia de clock de 50 MHz, sem qualquer ajuste fino no n√∫cleo do processador e otimiza√ß√£o do c√≥digo do programa.  Ou seja, o acesso √†s portas passa a uma frequ√™ncia ligeiramente superior a 16 MHz, o que corresponde a um ter√ßo da frequ√™ncia do sistema.  N√£o que fosse completamente diferente, mas melhor que 4 MHz a uma freq√º√™ncia de 925 MHz para o Cyclone V SoC ... N√£o, o pr√≥prio processador NIOS II √© v√°rias vezes mais lento que o Cyclone ARM do quinto n√∫cleo, mas o processador, como eu disse , temos x64 no sistema, aqui precisamos mais do kernel, que fornece a l√≥gica do ferro.  E essa l√≥gica √© fornecida precisamente atrav√©s do trabalho com portas.  Se o trabalho com portas for lento, todo o resto ficar√° ocioso regularmente, aguardando o barramento terminar de funcionar.  As caracter√≠sticas reveladas s√£o o limite de acesso do processador √†s portas, mas n√£o o hardware como um todo.  No entanto, como implementar o trabalho como um todo, consideraremos no pr√≥ximo artigo. <br><br><h2>  Conclus√£o </h2><br>  O artigo mostra como criar e configurar um projeto em C ++ para o ambiente de processador mais simples desenvolvido para o complexo Redd.  Os m√©todos de acesso ao equipamento, bem como a t√©cnica de depura√ß√£o JTAG, s√£o mostrados.  Fa√ßa o download do kit de hardware / software obtido ao escrever o artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt453682/">https://habr.com/ru/post/pt453682/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt453666/index.html">Como andei de t√°xi n√£o tripulado</a></li>
<li><a href="../pt453668/index.html">10 erros de um jovem RO (parte I - tr√™s erros)</a></li>
<li><a href="../pt453672/index.html">CardInfo - API para determinar o logotipo, as cores do banco e outras coisas pelo n√∫mero do cart√£o</a></li>
<li><a href="../pt453676/index.html">Conectando-se ao Windows via SSH como no Linux</a></li>
<li><a href="../pt453678/index.html">Como ver reverbera√ß√£o ou transmiss√£o de v√≠deo pelo som atrav√©s da √°gua - 2</a></li>
<li><a href="../pt453686/index.html">Semana 22 de Seguran√ßa: estat√≠sticas de amea√ßas, cavalos de Troia banc√°rios e explora√ß√µes populares</a></li>
<li><a href="../pt453688/index.html">Java n√£o √© apenas uma empresa sangrenta, mas tamb√©m aplicativos r√°pidos e sens√≠veis √† lat√™ncia</a></li>
<li><a href="../pt453692/index.html">Jogo 3D Shaders para Iniciantes: Efeitos</a></li>
<li><a href="../pt453694/index.html">Conecte-se ao Windows via SSH como no Linux</a></li>
<li><a href="../pt453696/index.html">Liga√ß√£o bidirecional angular, um pouco mais de compreens√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>