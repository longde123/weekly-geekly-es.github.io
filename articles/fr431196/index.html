<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛃 🥣 📷 Comment Yandex.Taxi prédit le temps de livraison des voitures à l'aide de l'apprentissage automatique 🛳️ 👩🏻‍🌾 👨‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imaginez que vous deviez appeler un taxi. Vous ouvrez l'application, vous voyez que la voiture arrivera dans environ sept minutes, cliquez sur "Comman...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment Yandex.Taxi prédit le temps de livraison des voitures à l'aide de l'apprentissage automatique</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/431196/">  Imaginez que vous deviez appeler un taxi.  Vous ouvrez l'application, vous voyez que la voiture arrivera dans environ sept minutes, cliquez sur "Commander" - et ... la voiture est à 15 minutes de vous, le cas échéant.  D'accord, désagréable? <br><br>  Sous la coupe, nous parlerons de la façon dont les méthodes d'apprentissage automatique aident Yandex.Taxi à mieux prédire l'ETA (heure d'arrivée estimée - heure d'arrivée prévue). <br><br><img src="https://habrastorage.org/webt/bf/5e/aq/bf5eaq56xusobc6hswfokurhe0u.png"><br><a name="habracut"></a><br>  Rappelons tout d'abord que l'utilisateur voit dans l'application avant de commander: <br><br><img width="300" src="https://habrastorage.org/webt/xk/qf/cg/xkqfcgfun58vtoyhun-ldoq-wra.png"><br><br>  Sur la carte, le bleu indique les points optimaux pour monter à bord d'un taxi.  Pin rouge - le point auquel l'utilisateur appelle un taxi.  L'épingle affiche la durée de la voiture.  Dans un monde parfait.  Mais dans le monde réel, d'autres personnes à proximité s'appellent également une voiture via l'application Yandex.Taxi.  Et nous ne savons pas quelle voiture ira à qui, car ils ne sont distribués qu'après commande.  Si la voiture a déjà été affectée, pour les prévisions, nous utiliserons le routage et le temps Yandex.Maps lors du déplacement sur le chemin optimal.  Cette fois (éventuellement avec une petite marge), nous montrerons à l'utilisateur immédiatement après la commande.  La question demeure: comment prédire l'ETA avant de commander? <br><br>  Et ici, l'apprentissage automatique apparaît.  Nous faisons une sélection avec les objets et les bonnes réponses et apprenons à l'algorithme à deviner la réponse en fonction des caractéristiques de l'objet.  Dans notre cas, les objets sont des sessions utilisateurs, les réponses sont le temps après lequel la voiture est effectivement arrivée.  Les signes de l'objet peuvent être des paramètres numériques connus avant la commande: le nombre de conducteurs et d'utilisateurs de l'application à côté de la broche, la distance aux véhicules de service les plus proches et d'autres valeurs potentiellement utiles. <br><br><h2>  Pourquoi est-ce important </h2><br><br>  Dans un monde idéal, les gens font tout à l'avance et planifient toujours leur temps avec précision.  Mais nous vivons dans le monde réel.  Si une personne est en retard au travail ou, pire, à l'aéroport, il est important pour elle de comprendre si elle sera à temps pour partir et se rendre à destination. <br>  Lorsqu'il décide quoi commander, le futur passager est guidé, entre autres, par le temps d'attente.  Cela peut être très différent dans différentes applications pour appeler un taxi et dans différents tarifs d'une même application.  Pour que l'utilisateur ne regrette pas le choix, il est très important de montrer l'ETA exact. <br><br>  Tout semble simple.  Trouvez plus de panneaux, entraînez un modèle, comme CatBoost, prédisez le temps avant l'arrivée de la voiture - et vous pouvez vous arrêter là.  Mais l'expérience montre qu'il vaut mieux ne pas se précipiter et réfléchir soigneusement, puis le faire. <br><br>  Dans un premier temps, nous ne doutions pas qu'il fût nécessaire de prévoir le temps dans lequel le conducteur arriverait réellement à l'utilisateur.  Oui, nous ne savons pas avec certitude quelle voiture sera attribuée avant la commande.  Mais nous pouvons prédire l'ETA en utilisant des données non pas sur un pilote spécifique, mais sur les pilotes à proximité de la commande.  Bien entendu, la prévision doit être suffisamment honnête pour que l'utilisateur puisse planifier l'heure. <br><br>  Mais que signifie «honnête»?  Après tout, tout algorithme de prévision est mauvais ou seulement statistiquement bon.  Il y a à la fois des résultats réussis et franchement mauvais, mais vous devez "faire la moyenne" pour ne pas dévier de manière significative des bonnes réponses.  Il faut comprendre que "en moyenne" est différent.  Par exemple, la moyenne est d'au moins trois concepts statistiques: attente, médiane et mode.  L'image du magnifique livre de Darrell Huff «Comment mentir en utilisant les statistiques» montre parfaitement la différence: <br><br><img width="600" src="https://habrastorage.org/webt/lu/i4/ia/lui4iawdwfbczidpq-rcivxyrr4.png"><br><br>  Nous voulons que le modèle fasse en moyenne peu d'erreurs.  Selon la valeur de la «moyenne», il existe deux options pour évaluer la qualité des prévisions.  La première option consiste à montrer à l'utilisateur l'attente mathématique du temps avant l'arrivée du taxi.  En conséquence, un modèle sera formé qui minimise le carré moyen de l'erreur de prévision (Mean Squared Error, MSE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">E</span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-6">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">c</span><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mn" id="MJXp-Span-12">1</span></span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">n</span></span><span class="MJXp-mtext" id="MJXp-Span-15">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">u</span><span class="MJXp-msubsup" id="MJXp-Span-18"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">i</span><span class="MJXp-mo" id="MJXp-Span-22">=</span><span class="MJXp-mn" id="MJXp-Span-23">1</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-31">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">t</span><span class="MJXp-msubsup" id="MJXp-Span-35"><span class="MJXp-mrow" id="MJXp-Span-36" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-38" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-41" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-42">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">n</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="54.112ex" height="3.262ex" viewBox="0 -987.6 23298.2 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-53" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-45" x="1697" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-3D" x="2739" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-66" x="4045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="4596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="5047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-63" x="5577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-31" x="6010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6E" x="6511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-73" x="7361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-75" x="7831" y="0"></use><g transform="translate(8403,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-28" x="10530" y="0"></use><g transform="translate(10920,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-2212" x="11977" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-68" x="13228" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="13804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-74" x="14334" y="0"></use><g transform="translate(14695,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="693" y="-342"></use></g><g transform="translate(15530,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="16623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="17075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-67" x="17420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-68" x="17901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-74" x="18477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="18839" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="19368" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="19820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6F" x="20271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-77" x="20757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6D" x="21473" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="22352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6E" x="22697" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> MSE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} (y_i - \ hat {y} _i) ^ 2 \ rightarrow min </script></p><br><br>  Ici <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-56"><span class="MJXp-msubsup" id="MJXp-Span-57"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-59" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.939ex" height="1.817ex" viewBox="0 -520.7 834.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="693" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> y_i </script>  - bonnes réponses, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-60"><span class="MJXp-mtext" id="MJXp-Span-61">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">u</span><span class="MJXp-msubsup" id="MJXp-Span-69"><span class="MJXp-mrow" id="MJXp-Span-70" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-72" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.908ex" height="2.539ex" viewBox="0 -780.1 4696.3 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-68" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="1260" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-70" x="1789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-65" x="2293" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="2759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-75" x="3289" y="0"></use><g transform="translate(3861,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="693" y="-342"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ chapeau {y} _i </script>  - prévisions de modèles. <br><br>  Une autre option ne doit pas être confondue avec les prévisions ETA principalement dans une direction, vers le haut ou vers le bas.  Dans ce cas, nous montrerons à l'utilisateur la médiane de la répartition du temps avant l'arrivée du taxi.  En conséquence, un modèle sera formé qui optimise le module moyen de l'erreur de prévision (Mean Absolute Error, MAE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-73"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">E</span><span class="MJXp-mo" id="MJXp-Span-77" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-78">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">c</span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mn" id="MJXp-Span-84">1</span></span><span class="MJXp-mrow" id="MJXp-Span-85"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">n</span></span><span class="MJXp-mtext" id="MJXp-Span-87">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">u</span><span class="MJXp-msubsup" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">i</span><span class="MJXp-mo" id="MJXp-Span-94">=</span><span class="MJXp-mn" id="MJXp-Span-95">1</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-98"><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-100"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-102" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-103" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mtext" id="MJXp-Span-104">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">t</span><span class="MJXp-msubsup" id="MJXp-Span-108"><span class="MJXp-mrow" id="MJXp-Span-109" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-111" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-112"><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-114">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">n</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="52.786ex" height="2.901ex" viewBox="0 -832 22727.3 1249" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-41" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-45" x="1802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-3D" x="2844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-66" x="4150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="4701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="5152" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-63" x="5682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-31" x="6115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6E" x="6616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-73" x="7466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-75" x="7936" y="0"></use><g transform="translate(8508,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-7C" x="10635" y="0"></use><g transform="translate(10914,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-2212" x="11971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-68" x="13222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="13798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-74" x="14328" y="0"></use><g transform="translate(14689,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="693" y="-342"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMAIN-7C" x="15524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="16052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="16504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-67" x="16849" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-68" x="17330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-74" x="17906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-61" x="18268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="18797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-72" x="19249" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6F" x="19700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-77" x="20186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6D" x="20902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-69" x="21781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhhdCl-fcaarArYfk2sWuoI6r6rNJQ#MJMATHI-6E" x="22126" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> MAE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} | y_i - \ hat {y} _i | \ rightarrow min </script></p><br><br>  Mais nous avons réalisé que nous prenions un peu d'avance sur nous-mêmes. <br><br><h2>  Repenser l'énoncé du problème </h2><br>  Après le rendez-vous, nous savons quel type de voiture va à l'utilisateur, ce qui signifie que nous pouvons estimer son temps de trajet sur Yandex.Maps.  Cette heure est indiquée dans la broche après la commande.  D'une part, nous avons maintenant plus d'informations et les prévisions seront plus précises, mais, d'autre part, il s'agit également d'une estimation avec une erreur. <br><br>  C'était le hic dans la tâche de broche ETA.  Bien que le conducteur ne soit pas affecté, il est nécessaire de prévoir <b>exactement l'heure à laquelle le routage Yandex.Mart s'affichera,</b> et non l'heure réelle avant la livraison de la voiture. <br><br>  Il semblerait, quelle absurdité: au lieu de la valeur exacte, prendre une autre prévision comme objectif?  Mais cela a du sens, et voici pourquoi.  Sur le chemin de vous, la voiture désignée peut persister.  Le conducteur s'est retrouvé dans une situation dangereuse sur la route, dans un embouteillage dû à un accident ou est sorti pour acheter de l'eau.  De tels retards sont difficiles à prévoir.  Ils créent un bruit supplémentaire dans la variable cible, en raison de quoi la tâche déjà difficile de prédire l'ETA dans la broche devient encore plus difficile. <br><br>  Comment se débarrasser du bruit?  Prédisez la variable cible lissée - le temps qui s'affiche après l'attribution de la machine en fonction de l'itinéraire vers l'utilisateur. <br><br>  Telle est la logique du point de vue des entreprises: vous ne pouvez de toute façon pas passer le temps sur la route le long du chemin optimal depuis ETA, mais les retards supplémentaires peuvent être réduits en travaillant avec les conducteurs. <br><br><h2>  Métriques, données, modèle et formation de qualité </h2><br>  Nous avons découvert que pour ETA dans la broche, il est nécessaire de prédire non pas l'heure réelle, mais l'heure qui sera reçue après que la machine soit affectée le long de l'itinéraire.  Parmi les deux métriques de qualité, MAE et MSE, nous avons choisi MAE.  Du point de vue de l'intuitivité de la prévision, il est peut-être plus logique d'évaluer l'espérance moyenne (MSE) plutôt que la médiane (MAE).  Mais MAE a une fonctionnalité intéressante: le modèle est plus résistant aux valeurs aberrantes parmi les exemples de formation. <br><br>  Les panneaux sont divisés en groupes: <br>  - construit par l'heure actuelle; <br>  - géo (coordonnées, distance au centre ville et objets significatifs sur la carte); <br>  - pin (combien et quelles voitures sont à proximité, leur densité calculée différemment); <br>  - statistiques sur la zone (comme d'habitude nous faisons des erreurs, combien nous prédisons); <br>  - des données sur les conducteurs les plus proches (combien de temps ils atteignent, combien le premier est plus proche que le second, etc.). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bien</a> sûr, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CatBoost a été</a> formé sur ces panneaux.  L'argument décisif était que le renforcement du gradient mis en œuvre dans CatBoost sur des arbres équilibrés s'est longtemps imposé comme une méthode d'apprentissage automatique très puissante, et la méthode de codage des fonctionnalités catégorielles dans CatBoost paie régulièrement pour nos tâches.  Une autre fonctionnalité intéressante de la bibliothèque est l'apprentissage rapide sur le GPU. <br><br>  Maintenant, quelques mots sur les modèles qui ont été comparés.  L'ETA initial (avant d'être spécifié par machine learning) a été calculé en fonction du temps pendant lequel la machine la plus proche de l'utilisateur pourrait arriver.  Le modèle actuel (utilisé dans l'application maintenant) est ce qui s'est avéré être fait à l'aide de l'apprentissage automatique et de <b>quoi traite cet article.</b>  De plus, un nouveau modèle sera bientôt déployé en production.  Elle utilise un ordre de grandeur de fonctionnalités plus importantes pour résoudre le problème.  Le tableau ci-dessous montre les mesures de qualité de ces modèles sur des données historiques.  Soit dit en passant, nous avons encore beaucoup de plans - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">venez aider</a> . <br><br>  <b>Qualité de prédiction de validation ETA *</b> <br><br><div class="scrollable-table"><table><tbody><tr><td><br></td><td>  Erreur absolue moyenne <br></td><td>  Erreur plus d'une minute <br></td><td>  Erreur plus de 2 minutes <br></td><td>  Erreur de plus de 5 minutes <br></td></tr><tr><td width="124"><p>  ETA d'origine </p><br></td><td width="125"><p>  82 082 </p><br></td><td width="125"><p>  29,95 </p><br></td><td width="125"><p>  18.12 </p><br></td><td width="125"><p>  3,7 </p><br></td></tr><tr><td width="124"><p>  Modèle actuel </p><br></td><td width="125"><p>  79,276 (–3,4) </p><br></td><td width="125"><p>  29,33 (–2,1) </p><br></td><td width="125"><p>  16,98 (–6,3) </p><br></td><td width="125"><p>  3 (–19,2) </p><br></td></tr><tr><td width="124"><p>  Nouveau modèle </p><br></td><td width="125"><p>  78,414 (–4,5) </p><br></td><td width="125"><p>  28,95 (–3,4) </p><br></td><td width="125"><p>  16,62 (–8,2) </p><br></td><td width="125"><p>  2,8 (–23,2) </p><br></td></tr></tbody></table></div><br><br>  * Pourcentage (entre parenthèses indique le changement par rapport à l'ETA d'origine). <br><br>  L'apprentissage automatique nous a permis de gagner environ deux secondes, soit 3,4% de l'écart moyen prévu.  Et dans le nouveau modèle - près d'une autre seconde, un total de 4,5%.  Mais à partir de ces chiffres, il est difficile de comprendre que l'ETA s'est considérablement améliorée.  Pour ressentir les avantages de l'apprentissage automatique, vous devez faire attention à la dernière colonne.  Misses avec une prévision de plus de 5 minutes est devenu 19,2%, et dans le nouveau modèle - même 23,2% de moins!  Soit dit en passant, de telles erreurs ne se produisent que dans 3 et 2,8% des cas dans les modèles utilisant l'apprentissage automatique. <br><br><h2>  Résumé </h2><br>  Nous avons spécifié l'ETA dans la broche principalement afin de fournir aux utilisateurs une prévision fiable.  Mais, bien sûr, avec toute application du machine learning en entreprise, il est impératif d'évaluer l'effet économique.  Et comprendre s'il est comparable au coût de construction et de mise en œuvre de modèles.  Après le test A / B en ligne, il s'est avéré que nous, en utilisant l'apprentissage automatique, avons reçu une augmentation statistiquement significative de la conversion d'une commande en voyage (après tout, une commande peut être annulée) et une augmentation de la conversion d'une session utilisateur en commande. <br><br>  Dans les deux cas, nous parlons d'un effet de l'ordre de 0,1 point de pourcentage.  Cela, en passant, ne contredit pas la signification statistique: sur nos volumes de données, même une telle différence est détectée de manière fiable en 2 à 4 semaines.  Et avec la pertinence commerciale, en fait, tout n'est pas mal non plus: il s'est avéré que les coûts de clarification de l'ETA repoussent l'augmentation de la conversion en quelques mois seulement. <br><br>  En conséquence, nous avons obtenu un cas utile et illustratif.  Le raffinement de l'ETA dans la broche est devenu une histoire instructive sur la sélection rigoureuse de la variable cible.  Côté produit, c'est un exemple très motivant: nous avons amélioré l'application et constaté que les utilisateurs l'appréciaient.  Nous espérons que l'ETA raffiné aidera nos passagers plus souvent à rencontrer des réunions, des trains et des avions. <br><br>  PS Si vous êtes intéressé par d'autres technologies Yandex.Taxi, nous vous recommandons un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article sur la tarification dynamique</a> , que mon collègue a récemment publié. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431196/">https://habr.com/ru/post/fr431196/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431186/index.html">Conception par types: comment rendre les états invalides inexprimables en C #</a></li>
<li><a href="../fr431188/index.html">Aspects techniques du blocage d'Internet en Russie. Défis et perspectives</a></li>
<li><a href="../fr431190/index.html">Comment évaluer le niveau d'une entreprise de référencement sans conclure un accord avec elle</a></li>
<li><a href="../fr431192/index.html">AWC présente Firecracker - micro-virtualisation pour Linux</a></li>
<li><a href="../fr431194/index.html">Tube chaud hardcore. Comment était DotNext 2018 Moscou</a></li>
<li><a href="../fr431198/index.html">Fonctionnement du répartiteur</a></li>
<li><a href="../fr431200/index.html">Godot: sur la question de l'utilisation régulière des analyseurs de code statiques</a></li>
<li><a href="../fr431202/index.html">Debian et Devuan unissent leurs forces pour sysvinit</a></li>
<li><a href="../fr431204/index.html">Porte dérobée dans l'une des dépendances de la bibliothèque EventStream</a></li>
<li><a href="../fr431208/index.html">Splunk à travers les yeux d'un débutant: comment nous avons fait un système d'inventaire de stockage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>