<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîô üôã üë©‚Äçüë¶ Memeriksa bungkus OpenCvSharp melalui OpenCV dengan PVS-Studio üìç üöä üîπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="OpenCV adalah perpustakaan algoritma penglihatan komputer, pemrosesan gambar dan algoritma numerik untuk keperluan umum dengan open source, yang akrab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Memeriksa bungkus OpenCvSharp melalui OpenCV dengan PVS-Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/473476/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/mr/0s/oi/mr0soiovipbs1ma0roktme3nj1i.png" alt="Gambar 2"></div><br>  OpenCV adalah perpustakaan algoritma penglihatan komputer, pemrosesan gambar dan algoritma numerik untuk keperluan umum dengan open source, yang akrab bagi banyak pengembang C ++.  Selain C ++, OpenCV juga sedang dikembangkan untuk Python, Java, Ruby, Matlab, Lua, dan bahasa lainnya.  Karena di antara bahasa-bahasa ini tidak ada utama saya, C #, saya memutuskan untuk memperhatikan OpenCvSharp - perpustakaan pembungkus di bawah C # dan memeriksa proyek ini.  Apa yang datang dari ini dapat ditemukan di artikel ini. <br><a name="habracut"></a><br><h2>  Pendahuluan </h2><br>  Sebelumnya, sebelum bergabung dengan PVS-Studio, saya terlibat dalam robotika di pameran.  Tugas saya termasuk perbaikan paling mendasar (jika kerusakan besar terjadi, maka robot diberikan kepada orang lain), serta pengembangan berbagai macam perangkat lunak dan utilitas. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/s9/sk/p-/s9skp-nztgw-u2nt8j0dfuvae3m.png" alt="Gambar 1"></div><br>  <i>Lelah dan baru saja tiba di kota baru, saya bersama dengan robot KIKI yang baru saja dibongkar.</i> <br><br>  Berbicara tentang pengembangan.  Itu sangat lucu.  Setiap kali sebuah ide muncul kepada seseorang dari tim, apa lagi yang akan mengejutkan para tamu pameran, kami membawa masalah ini untuk diskusi umum dan, jika ide itu bagus, kami membawanya untuk implementasi.  Suatu ketika, ide datang kepada kami untuk membuat makhluk yang merespons wajah manusia dengan ucapan selamat datang. <br><br>  Setelah mencari pustaka untuk kebutuhan saya di Internet, saya menemukan situs web OpenCV, pustaka algoritma penglihatan komputer.  Saya segera kecewa - OpenCV diimplementasikan dalam C ++.  Pengetahuan saya tentang manfaat yang saya dapatkan dari kuliah jelas tidak cukup.  Oleh karena itu, dengan googling singkat, saya menemukan OpenCvSharp - pembungkus perpustakaan ini di bawah C #, bahasa utama saya.  Enam bulan telah berlalu sejak itu, program ini telah ditulis dan digunakan untuk waktu yang lama, dan saya memutuskan untuk masuk ke balik OpenCvSharp dan memeriksa kode sumbernya menggunakan penganalisa statis PVS-Studio. <br><br><h2>  Proyek yang Diaudit </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenCvSharp</a> adalah pembungkus OpenCV untuk menggunakan pustaka dalam proyek C #.  Pustaka OpenCV, omong-omong, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kami juga memeriksa</a> .  Keuntungan dari OpenCvSharp termasuk koleksi besar sampel kode, lintas-platform (dapat bekerja pada platform apa pun yang didukung Mono) dan kemudahan instalasi. <br><br>  Wrapper adalah proyek kecil dan berisi sekitar 112.200 baris kode C #.  Dari jumlah tersebut, 1,2% adalah komentar, yang, bagaimanapun, entah bagaimana kecilnya mencurigakan.  Tetapi untuk proyek sekecil itu ada banyak kesalahan.  Dalam artikel itu, saya menulis lebih dari 20 kesalahan, tetapi ada beberapa kesalahan yang tidak begitu menarik atau jelas. <br><br><h2>  Penganalisa kode PVS-Studio </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PVS-Studio</a> adalah alat untuk mendeteksi kesalahan dan kerentanan potensial dalam kode sumber program yang ditulis dalam C, C ++, C # dan Java.  Berjalan di Windows, Linux, dan macOS.  Selain kode, kesalahan, dan kesalahan ketik yang tidak dapat dicapai, PVS-Studio dapat mendeteksi kerentanan potensial, seperti disebutkan di atas.  Oleh karena itu, dapat dianggap sebagai alat untuk pengujian keamanan aplikasi statis (Static Application Security Testing, SAST). <br><br><h2>  Potongan kode yang menarik perhatian saat memeriksa laporan penganalisa </h2><br>  Metode <i>WriteableBitmapConverter</i> menarik perhatian segera dengan empat jenis peringatan PVS-Studio yang sama: <br><br><ul><li>  V3005 Variabel 'optimumChannels [PixelFormats.Indexed1]' ditugaskan untuk dirinya sendiri.  WriteableBitmapConverter.cs 22 </li><li>  V3005 Variabel 'optimumChannels [PixelFormats.Indexed8]' ditugaskan untuk dirinya sendiri.  WriteableBitmapConverter.cs 23 </li><li>  V3005 Variabel 'optimumTypes [PixelFormats.Indexed1]' ditugaskan untuk dirinya sendiri.  WriteableBitmapConverter.cs 50 </li><li>  V3005 Variabel 'optimumTypes [PixelFormats.Indexed8]' ditugaskan untuk dirinya sendiri.  WriteableBitmapConverter.cs 51 </li></ul><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WriteableBitmapConverter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { optimumChannels = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary &lt;PixelFormat, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(); optimumChannels[PixelFormats.Indexed1] = <span class="hljs-comment"><span class="hljs-comment">// &lt;= optimumChannels[PixelFormats.Indexed8] = // &lt;= optimumChannels[PixelFormats.Gray2] = optimumChannels[PixelFormats.Gray4] = optimumChannels[PixelFormats.Gray8] = optimumChannels[PixelFormats.Gray16] = optimumChannels[PixelFormats.Gray32Float] = optimumChannels[PixelFormats.Indexed1] = // &lt;= optimumChannels[PixelFormats.Indexed2] = optimumChannels[PixelFormats.Indexed4] = optimumChannels[PixelFormats.Indexed8] = // &lt;= .... optimumTypes = new Dictionary &lt;PixelFormat, MatType&gt;(); optimumTypes[PixelFormats.Indexed1] = // &lt;= optimumTypes[PixelFormats.Indexed8] = // &lt;= optimumTypes[PixelFormats.Gray2] = optimumTypes[PixelFormats.Gray4] = optimumTypes[PixelFormats.Gray8] = optimumTypes[PixelFormats.Indexed1] = // &lt;= optimumTypes[PixelFormats.Indexed2] = optimumTypes[PixelFormats.Indexed4] = optimumTypes[PixelFormats.Indexed8] = // &lt;= optimumTypes[PixelFormats.BlackWhite] = .... } .... public static class PixelFormats { .... public static PixelFormat Indexed8 { get; } .... public static PixelFormat Indexed1 { get; } .... }</span></span></code> </pre> <br>  Kelas <i>PixelFormats</i> didefinisikan dalam <i>namespace System.Windows.Media</i> dan merupakan kumpulan berbagai format piksel.  Penganalisa menarik perhatian pada fakta bahwa metode <i>WriteableBitmapConverter</i> menugaskan kembali nilai ke <i>optimalChannels [PixelFormats.Indexed1]</i> dan <i>optimumChannels [PixelFormats.Indexed8] elemen</i> , yang tidak masuk akal praktis.  Tidak jelas apakah ini salah ketik sederhana atau sesuatu yang lain dimaksudkan.  Omong-omong, bagian kode ini dengan jelas menunjukkan manfaat analisis statis.  Ketika Anda melihat banyak garis dengan tipe yang sama di depan mata Anda, mata Anda mulai "kabur", dan perhatian Anda menghilang - tidak mengherankan jika bahkan setelah kode meninjau, kesalahan ketik merayap ke dalam program.  Dan penganalisa statis tidak memiliki masalah dengan perhatian dan tidak perlu istirahat, oleh karena itu lebih mudah baginya untuk menemukan kesalahan seperti itu. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/1g/ok/vg/1gokvgep_oiqjqsqy9btoh3nncg.png" alt="Gambar 5"></div><br>  <i>Rasakan kekuatan dan kekuatan analisis statis.</i> <br><br>  <b>Peringatan PVS-Studio</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3021</a> Ada dua pernyataan 'jika' dengan ekspresi kondisional yang identik.  Pernyataan 'jika' pertama berisi pengembalian metode.  Ini berarti bahwa pernyataan 'jika' yang kedua adalah InputArray.cs 394 yang tidak masuk akal <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> MatType </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EstimateType</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Type t</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Vec2b)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MatType.CV_8UC2; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Vec3b)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MatType.CV_8UC3; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Vec4b)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MatType.CV_8UC4; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Vec6b)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MatType.CV_8UC(<span class="hljs-number"><span class="hljs-number">6</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t == <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span>(Vec2s)) <span class="hljs-comment"><span class="hljs-comment">// &lt;= return MatType.CV_16SC2; .... if (t == typeof(Vec2s)) // &lt;= return MatType.CV_32SC2; .... }</span></span></code> </pre> <br>  Kesalahan ini sedikit seperti yang sebelumnya.  Programmer membuat situasi di mana kondisi yang sama diperiksa dua kali.  Dalam hal ini, ini tidak masuk akal - maka cabang dari "digandakan" <i>jika pernyataan</i> tidak akan dieksekusi, karena: <br><br><ul><li>  jika ekspresi kondisional pertama benar, metode akan keluar; </li><li>  jika kondisi pertama salah, yang kedua juga akan salah, karena variabel yang diuji - <i>t</i> - tidak berubah di antara ekspresi kondisional. </li></ul><br>  Pengembang harus memeriksa ulang bagian kode ini.  Sangat mungkin bahwa di tempat variabel kedua <i>Vec2s</i> harus beberapa yang lain. <br><br>  <b>PVS-Studio Warning</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3010</a> Nilai balik fungsi 'ToString' harus digunakan.  ImgProcTest.cs 80 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> RectanglesIntersectTypes </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RotatedRectangleIntersection</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">RotatedRect rect1, RotatedRect rect2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Point2f[] intersectingRegion</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intersectingRegionVec = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VectorOfPoint2f()) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ret = NativeMethods .imgproc_rotatedRectangleIntersection_vector( rect1, rect2, intersectingRegionVec.CvPtr); intersectingRegion = intersectingRegionVec.ToArray(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (RectanglesIntersectTypes) ret; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RotatedRectangleIntersectionVector</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rr1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RotatedRect(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point2f(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Size2f(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-number"><span class="hljs-number">45</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> rr2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RotatedRect(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point2f(<span class="hljs-number"><span class="hljs-number">130</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Size2f(<span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-number"><span class="hljs-number">0</span></span>); Cv2.RotatedRectangleIntersection(rr1, rr2, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> intersectingRegion); .... intersectingRegion.ToString(); }</code> </pre> <br>  Metode <i>RotatedRectangleIntersection</i> mengembalikan array elemen <i>Point2f</i> melalui parameter <i>intersectingRegion</i> .  Setelah program mengisi <i>intersectingRegion dengan</i> nilai <i>-</i> nilai, metode <i>ToString ()</i> dipanggil pada array ini <i>.</i>  Dengan elemen-elemen array, tidak ada perubahan yang terjadi dari ini dan tidak ada pekerjaan yang berguna dilakukan di baris terakhir, oleh karena itu ada alasan untuk mencurigai pengembang bahwa ia hanya lupa untuk menghapusnya. <br><br>  <b>Peringatan PVS-Studio</b> : <br><br><ul><li>  V3021 Ada dua pernyataan 'jika' dengan ekspresi kondisional yang identik.  Pernyataan 'jika' pertama berisi pengembalian metode.  Ini berarti bahwa pernyataan kedua 'jika' tidak masuk akal Cv2_calib3d.cs 1370 </li><li>  Ekspresi V3022 'objectPoints == null' selalu salah.  Cv2_calib3d.cs 1372 </li></ul><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CalibrateCamera</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (objectPoints == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(objectPoints)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (objectPoints == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(objectPoints)); .... }</code> </pre> <br>  Dalam kasus ini, sebuah fragmen kode digandakan, karena itu muncul dua peringatan.  Peringatan pertama menunjukkan bahwa kedua <i>pernyataan tersebut</i> memiliki ekspresi kondisional yang sama.  Jika ungkapan ini benar, metode akan keluar dari cabang <i>kemudian</i> dari <i>pernyataan if</i> pertama.  Karena alasan ini, kondisi kedua akan selalu salah, seperti yang ditunjukkan oleh peringatan berikut.  Rupanya, teks itu disalin, tetapi lupa untuk memperbaiki. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/cy/db/s1/cydbs1dussvael3m4ihcmwdfw4y.png" alt="Gambar 6"></div><br>  <i>Lucu Salin-Tempel.</i> <br><br>  Peringatan penganalisa serupa lainnya: <br><br><ul><li>  V3021 Ada dua pernyataan 'jika' dengan ekspresi kondisional yang identik.  Pernyataan 'jika' pertama berisi pengembalian metode.  Ini berarti bahwa pernyataan kedua 'jika' tidak masuk akal Cv2_calib3d.cs 1444 </li><li>  Ekspresi V3022 'objectPoints == null' selalu salah.  Cv2_calib3d.cs 1446 </li></ul><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peringatan</a> <b>PVS-Studio</b> : Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3022</a> 'label == MarkerValue' selalu salah.  Labeller.cs 135 <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Labeller</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MarkerValue = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Perform</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Mat img, CvBlobs blobs</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> label = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> lastLabel = <span class="hljs-number"><span class="hljs-number">0</span></span>; CvBlob lastBlob = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = <span class="hljs-number"><span class="hljs-number">0</span></span>; y &lt; h; y++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; x &lt; w; x++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (imgIn[x + y * step] == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> labeled = labels[y, x] != <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (....) { labeled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Label contour. label++; if (label == MarkerValue) // &lt;= throw new Exception(); .... } .... } .... } } }</span></span></code> </pre> <br>  Di bagian kode ini, variabel <i>label</i> nol dibuat.  Ketika suatu kondisi terpenuhi, seseorang dapat ditambahkan ke variabel ini.  Dalam hal ini, dalam kode, nilai <i>label</i> variabel tidak berubah ke bawah.  Pada baris yang ditandai dengan panah, variabel ini dibandingkan dengan konstanta sama dengan -1, yang tidak masuk akal secara praktis. <br><br>  <b>PVS-Studio Warning</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3038</a> Argumen dilewatkan ke metode beberapa kali.  Ada kemungkinan bahwa argumen lain harus disahkan.  Cv2_photo.cs 124 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FastNlMeansDenoisingMulti</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... NativeMethods.photo_fastNlMeansDenoisingMulti( srcImgPtrs, srcImgPtrs.Length, dst.CvPtr, imgToDenoiseIndex, templateWindowSize, h, templateWindowSize, searchWindowSize); .... }</code> </pre> <br>  Untuk memahami apa artinya penganalisa, mari kita lihat parameter dari metode <i>photo_fastNlMeansDenoisingMulti</i> : <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">photo_fastNlMeansDenoisingMulti</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> IntPtr[] srcImgs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> srcImgsLength, IntPtr dst, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> imgToDenoiseIndex, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> temporalWindowSize, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> h, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> templateWindowSize, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> searchWindowSize</span></span></span><span class="hljs-function">)</span></span></code> </pre> <br>  Sederhanakan bahkan lebih untuk membuatnya sangat jelas.  Bandingkan garis-garis ini: <br><br><pre> <code class="cs hljs">NativeMethods.photo_fastNlMeansDenoisingMulti( .... templateWindowSize, .... templateWindowSize, ....); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">photo_fastNlMeansDenoisingMulti</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> .... </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> temporalWindowSize, .... </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> templateWindowSize, ....</span></span></span><span class="hljs-function">)</span></span></code> </pre> <br>  Penganalisa menarik perhatian pada fakta bahwa pengembang menggunakan variabel <i>templatWindowSize</i> dua kali, meskipun kemungkinan besar, <i>temporalWindowSize</i> harus menggantikan variabel pertama yang disebutkan.  Juga mencurigakan bahwa nilai <i>temporalWindowSize</i> dalam metode <i>photo_fastNlMeansDenoisingMulti</i> tidak digunakan sama sekali.  Mungkin ini dilakukan dengan sengaja, tetapi sebagai gantinya pengembang perlu melihat kode ini lebih dekat, apakah ada kesalahan yang terjadi di sana? <br><br>  Peringatan penganalisa serupa: <br><br><ul><li>  V3038 Argumen diteruskan ke metode beberapa kali.  Ada kemungkinan bahwa argumen lain harus disahkan.  Cv2_photo.cs 149 </li><li>  V3038 Argumen diteruskan ke metode beberapa kali.  Ada kemungkinan bahwa argumen lain harus disahkan.  Cv2_photo.cs 180 </li><li>  V3038 Argumen diteruskan ke metode beberapa kali.  Ada kemungkinan bahwa argumen lain harus disahkan.  Cv2_photo.cs 205 </li></ul><br>  Kesalahan berikut akan sedikit mirip dengan yang sebelumnya. <br><br>  <b>Peringatan PVS-Studio</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3066</a> Kemungkinan urutan argumen yang salah diteruskan ke metode 'calib3d_Rodrigues_MatToVec': 'matrixM.CvPtr' dan 'vectorM.CvPtr'.  Cv2_calib3d.cs 86 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Rodrigues</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">[,] matrix, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] vector, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">out</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params">[,] jacobian</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> jacobianM = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Mat&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;()) { NativeMethods.calib3d_Rodrigues_MatToVec (matrixM.CvPtr, vectorM.CvPtr, jacobianM.CvPtr); .... } }</code> </pre> <br>  Mari kita lihat parameter <i>calib3d_Rodrigues_MatToVec</i> <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">extern</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calib3d_Rodrigues_MatToVec</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> IntPtr vector, IntPtr matrix, IntPtr jacobian</span></span></span><span class="hljs-function">)</span></span></code> </pre> <br>  Mungkin ketika memanggil metode <i>calib3d_Rodrigues_MatToVec</i> , argumen <i>matrixM.CvPtr</i> dan <i>vectorM.CvPtr</i> dicampuradukkan.  Pengembang harus melihat lebih dekat pada kode ini.  Ada kemungkinan kesalahan menyusup ke dalamnya yang mengganggu perhitungan yang benar. <br><br>  <b>Peringatan PVS-Studio</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3063</a> Bagian dari ekspresi kondisional selalu salah jika dievaluasi: data == null.  Mat.cs 3539 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckArgumentsForConvert</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(data)); MatType t = Type(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data == <span class="hljs-literal"><span class="hljs-literal">null</span></span> || (data.Length * dataDimension) <span class="hljs-comment"><span class="hljs-comment">// &lt;= (data.Length * dataDimension) % t.Channels != 0) .... }</span></span></code> </pre> <br>  Alat analisis menunjukkan bahwa <i>data</i> pemeriksaan kedua <i>== null</i> tidak akan pernah <i>benar</i> , karena  jika dalam kondisi <i>data</i> pertama adalah <i>nol</i> , pengecualian akan dilemparkan, dan eksekusi program tidak akan mencapai pemeriksaan kedua. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/c1/b1/xf/c1b1xfih5imz4n4cifsucaqzrrw.png" alt="Gambar 7"></div><br>  <i>Saya mengerti bahwa Anda sudah lelah, tetapi sangat sedikit yang tersisa.</i> <br><br>  <b>Peringatan PVS-Studio</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3127 Ditemukan</a> dua fragmen kode serupa.  Mungkin, ini adalah kesalahan ketik dan variabel 'jendela' harus digunakan alih-alih 'src2' Cv2_imgproc.cs 1547 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Point2d </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PhaseCorrelateRes</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">....</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src1 == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(src1)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (src2 == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(src2)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (window == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(src2)); <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... }</span></span></code> </pre> <br>  Dan kemudian penganalisa menemukan kesalahan ketik.  Di bagian kode ini, nilai variabel diperiksa untuk <i>nol</i> , dan jika kondisi ini terpenuhi, pengecualian dilemparkan untuk masing-masing variabel.  Namun, variabel <i>jendela</i> tidak begitu sederhana.  Jika variabel ini <i>nol</i> , maka pengecualian juga dihasilkan untuk itu, tetapi teks dari pengecualian ini dieja salah.  <i>Jendela</i> variabel itu sendiri tidak muncul dalam teks pengecualian ini, melainkan, <i>src2</i> ditunjukkan di <i>sana</i> .  Rupanya, kondisi terakhir harus seperti ini: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (window == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentNullException(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(window));</code> </pre> <br>  <b>Peringatan PVS-Studio</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3142</a> Kode yang tidak dapat dideteksi terdeteksi.  Mungkin saja ada kesalahan.  MatOfT.cs 873 <br><br>  Sekarang, untuk perubahan, mari kita lihat kasus ketika alat analisa ini benar-benar benar ketika melaporkan kode yang tidak dapat dijangkau, tetapi tidak ada kesalahan.  Ini adalah kasus ketika dapat dikatakan bahwa penganalisa menghasilkan peringatan yang benar dan salah pada saat yang sama. <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> new Mat&lt;TElem&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SubMat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">params</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Range[] ranges</span></span></span><span class="hljs-function">)</span></span> { Mat result = <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.SubMat(ranges); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Wrap(result); }</code> </pre> <br>  Penganalisa mengklaim bahwa <i>pernyataan pengembalian</i> tidak <i>dapat</i> dijangkau di sini.  Untuk memeriksanya, lihat isi dari metode <i>SubMat</i> . <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Mat </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SubMat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">params</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Range[] ranges</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NotImplementedException(); <span class="hljs-comment"><span class="hljs-comment">/* if (ranges == null) throw new ArgumentNullException(); ThrowIfDisposed(); CvSlice[] slices = new CvSlice[ranges.Length]; for (int i = 0; i &lt; ranges.Length; i++) { slices[i] = ranges[i]; } IntPtr retPtr = NativeMethods.core_Mat_subMat1(ptr, ranges.Length, ranges); Mat retVal = new Mat(retPtr); return retVal;*/</span></span> }</code> </pre> <br>  Seperti yang Anda lihat, fungsi belum ditambahkan dan selalu melempar pengecualian.  Dan penganalisa itu benar ketika melaporkan kode yang tidak terjangkau.  Tapi ini tidak bisa disebut kesalahan nyata. <br><br>  Tiga kesalahan berikut yang ditemukan oleh penganalisa adalah dari jenis yang sama, tetapi mereka sangat keren sehingga saya tidak dapat membantu menuliskan semuanya. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peringatan</a> <b>PVS-Studio</b> : Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3022</a> 'String.IsNullOrEmpty ("winName")' selalu salah.  Cv2_highgui.cs 46 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DestroyWindow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> winName</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(<span class="hljs-string"><span class="hljs-string">"winName"</span></span>)) .... }</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peringatan</a> <b>PVS-Studio</b> : Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3022</a> 'string.IsNullOrEmpty ("fileName")' selalu salah.  FrameSource.cs 37 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> FrameSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateFrameSource_Video</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fileName</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(<span class="hljs-string"><span class="hljs-string">"fileName"</span></span>)) .... }</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peringatan</a> <b>PVS-Studio</b> : Ekspresi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3022</a> 'string.IsNullOrEmpty ("fileName")' selalu salah.  FrameSource.cs 53 <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> FrameSource </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateFrameSource_Video_CUDA</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> fileName</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.IsNullOrEmpty(<span class="hljs-string"><span class="hljs-string">"fileName"</span></span>)) .... }</code> </pre> <br>  Kadang-kadang di balik peringatan penganalisis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V3022</a> (ungkapan selalu benar / salah) ada hal-hal aneh atau lucu.  Dalam ketiga kasus, situasi yang sama diamati.  Kode metode memiliki parameter tipe <i>string</i> , yang nilainya harus diperiksa.  Namun, itu bukan nilai dari variabel yang diperiksa, tetapi string literal dengan namanya, yaitu.  nama dikutip sia-sia. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/mk/rr/fm/mkrrfmqeimdl5l_osrff2p-ime4.png" alt="Gambar 18"></div><br>  Rupanya, pengembang disegel sekali dan, menggunakan copy-paste, menyebarkan kesalahan ini dengan kode. <br><br><h2>  Kesimpulan </h2><br>  Pengembang OpenCvSharp telah melakukan pekerjaan penting dan hebat.  Dan saya, sebagai pengguna perpustakaan ini, sangat berterima kasih kepada mereka.  Terima kasih <br><br>  Namun, berada di tim PVS-Studio dan melihat kode, saya harus mengakui bahwa masalah kualitasnya belum cukup berhasil.  Kemungkinan besar, penganalisa kode statis tidak digunakan secara teratur dalam proyek ini.  Dan banyak kesalahan diperbaiki dengan metode yang lebih mahal (pengujian, menurut ulasan pengguna, misalnya).  Dan beberapa umumnya tetap hidup untuk waktu yang lama dalam kode, dan kami hanya menemukannya.  Gagasan ini disajikan secara lebih rinci dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">catatan</a> singkat tentang topik filosofi menggunakan metodologi analisis statis. <br><br>  Karena proyek ini terbuka dan berlokasi di GitHub, pengembangnya memiliki kesempatan untuk mengambil keuntungan dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">opsi lisensi gratis</a> PVS-Studio dan mulai menerapkan analisis secara teratur. <br><br>  Terima kasih atas perhatian anda  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Unduh</a> dan uji proyek Anda menggunakan versi uji coba PVS-Studio. <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/898/3b6/5a7/8983b65a74adb29a2113eba12fbec3f1.png" align="left"></a> </p><br><br>  Jika Anda ingin berbagi artikel ini dengan audiens yang berbahasa Inggris, silakan gunakan tautan ke terjemahan: Ekaterina Nikiforova.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memeriksa OpenCvSharp Wrapper untuk OpenCV dengan PVS-Studio</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id473476/">https://habr.com/ru/post/id473476/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id473454/index.html">Tes otomasi menggunakan Selenide melalui Selenoid dalam wadah buruh pelabuhan</a></li>
<li><a href="../id473456/index.html">Batas terakhir pertahanan QA: deteksi kesalahan otomatis</a></li>
<li><a href="../id473460/index.html">Untuk pertanyaan matematika</a></li>
<li><a href="../id473468/index.html">Memahami Bayes Theorem</a></li>
<li><a href="../id473470/index.html">GitLab 12.4 dengan peningkatan permintaan penggabungan dan dependensi API Audit</a></li>
<li><a href="../id473482/index.html">Keberhasilan kampanye Saudi, Halloween-PR dan sedikit tentang kampanye iklan Japan Airlines</a></li>
<li><a href="../id473484/index.html">Kursus C ++ di CS center, bagian kedua</a></li>
<li><a href="../id473488/index.html">Navigasi lintas platform: mengapa NavController mengalahkan angular / router di Ionic 4</a></li>
<li><a href="../id473490/index.html">Mengapa fisikawan top menyukai teori string</a></li>
<li><a href="../id473500/index.html">Aplikasi pada TSD dan komunikasi dengan 1C: Enterprise 8.3 melalui HTTP-Service. Bagian 1 (Memilih metode pertukaran. Deskripsi API)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>