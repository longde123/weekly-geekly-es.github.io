<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìø üë®üèº‚ÄçüöÄ üëõ Belle montre pr√©cise d'un vieux smartphone üë©‚ÄçüöÄ üêô ü§¥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'article se concentrera sur la fa√ßon de refaire un vieux t√©l√©phone mobile inutile dans d'excellentes horloges murales avec de grands nombres, une heu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Belle montre pr√©cise d'un vieux smartphone</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443052/"><img src="https://habrastorage.org/webt/v3/zb/xe/v3zbxe4oreekk9jb1bdtkraqdcu.jpeg"><br><br>  L'article se concentrera sur la fa√ßon de refaire un vieux t√©l√©phone mobile inutile dans d'excellentes horloges murales avec de grands nombres, une heure toujours pr√©cise et une alimentation de secours. <br><br>  Je vais parler de certaines des fonctionnalit√©s clarifi√©es de la synchronisation de l'heure dans le syst√®me d'exploitation Android, ainsi que de diverses astuces √©lectriques dans le syst√®me d'alimentation du smartphone.  Je vais d√©crire un exemple de circuit sur des composants analogiques simples qui fournit une alimentation de secours automatique.  Et bien s√ªr, nous parlerons de la partie logicielle d'Android - comment et avec quelle aide vous pouvez cr√©er une belle montre pour tous les go√ªts √† partir de votre smartphone. <br><a name="habracut"></a><br>  ( <i>Avertissement traditionnel - les marques, marques d√©pos√©es, etc. mentionn√©es ne sont pas de la publicit√©, j'esp√®re que cela est clair.</i> ) <br><br><h4>  La seconde vie d'un vieux smartphone </h4><br>  Mon ancien Philips Xenium W732 √©tait rest√© inactif pendant longtemps.  Fonctionne pleinement, avec un plein √©cran.  J'ai d√©cid√© de lui donner une seconde vie - transform√©e en horloge murale.  Ma vieille horloge domestique, toujours sovi√©tique, avec de petits chiffres vacillants √©tait tr√®s difficile √† voir √† quelques m√®tres.  De plus, ils √©taient terriblement √† la tra√Æne, ils devaient √™tre abattus de temps en temps, avec toute perte d'√©lectricit√© dans la maison, ils √©taient compl√®tement r√©initialis√©s et n√©cessitaient une proc√©dure fastidieuse de pousser les boutons et de r√©gler l'heure √† nouveau.  Tout cela me fatiguait depuis longtemps, et j'ai d√©cid√© de fabriquer une bonne montre ¬´intelligente¬ª, d√©pourvue de tous ces d√©fauts, √† partir de l'ancien t√©l√©phone portable. <br><br><h4>  Ce dont j'avais besoin </h4><br><ol><li>  Grands nombres clairs de n'importe quelle couleur, police et luminosit√© souhait√©es. </li><li>  Pr√©cision et stabilit√© maximales sans aucune intervention ext√©rieure de ma part. </li><li>  Non-volatilit√©, c'est-√†-dire  La montre devrait continuer √† fonctionner pendant les pannes de courant temporaires. </li><li>  Travail enti√®rement autonome, dans le sens de - sans utiliser de r√©seaux de donn√©es payants, de cartes SIM, d'op√©rateurs, etc. </li><li>  Respect maximum du principe du ¬´fait, allum√© et oubli√©¬ª.  C'est-√†-dire qu'un appareil ne devrait jamais n√©cessiter de maintenance ni aucun autre type d'interaction. </li></ol><br><h4>  Nous fournissons √† Android l'heure exacte. </h4><br>  La premi√®re chose √† faire √©tait d'obtenir une heure mondiale constamment pr√©cise sur votre smartphone.  Le concept ¬´exact¬ª pour moi s'inscrit dans 1 ... 2 secondes de d√©viation par rapport au monde. <br><br>  Il est clair que la minuterie du syst√®me du t√©l√©phone portable ne donnera pas une telle stabilit√©, elle n‚Äôest pas exig√©e de lui.  Par cons√©quent, la conformit√© garantie avec l'heure mondiale ne peut √™tre obtenue que par une synchronisation externe r√©guli√®re. <br><br>  Dans le cas le plus simple sous Android, il peut √™tre configur√© √† l'aide de la m√©thode "r√©seau".  De plus, m√™me un r√©seau cellulaire avec des cartes SIM et des paiements tarifaires in√©vitables ne sera pas n√©cessaire.  Il suffit de distribuer le Wi-Fi domestique au smartphone et de configurer le routeur pour synchroniser l'heure √† partir du fournisseur Internet ou du serveur ntp. <br><br>  Cependant, il existe une deuxi√®me m√©thode de synchronisation - pour les satellites GPS, que je pense personnellement meilleure. <br><br>  Des pros - vous pouvez synchroniser n'importe o√π dans le monde o√π le ciel est visible.  Pr√©cision absolue du temps, car le GPS lui-m√™me est bas√© sur cela.  L'absence de canaux radio suppl√©mentaires et d'√©missions suppl√©mentaires. <br><br>  Des lacunes du GPS - l'appareil devrait voir au moins un peu de ciel ouvert.  Tr√®s probablement, rien ne sera pris dans un endroit arbitraire √† l'arri√®re de la pi√®ce, surtout si l'appareil a une puce ancienne et insensible.  Et comme ma montre √©tait situ√©e exactement √† l'√©cart de la fen√™tre, j'avais besoin d'une antenne GPS √† distance ... <br><br><h4>  L'antenne externe la plus simple pour la r√©ception GPS </h4><br>  Sur Internet, tout s'est av√©r√© plut√¥t serr√© sur ce sujet.  J'ai imm√©diatement r√©alis√© que je ne pouvais pas fabriquer une telle antenne moi-m√™me - des conceptions √©labor√©es et encombrantes avec des calculs compliqu√©s compliqu√©s √©taient propos√©es partout.  J'ai essay√© de trouver un achat - je n'ai pas non plus tout aim√©.  Certains sont tous grands, maladroits, n√©cessitant une alimentation externe, avec un tas de fonctionnalit√©s inutiles et en m√™me temps insuffisamment co√ªteux. <br><br>  La solution a √©t√© trouv√©e par hasard - j'ai en quelque sorte vu la description d'une antenne de type "dip√¥le demi-onde".  Dans sa conception la plus simple, il s'agit simplement d'un morceau de fil droit d'une longueur √©gale √† la moiti√© de la longueur d'onde du signal souhait√©.  Cette ¬´complexit√©¬ª de construction me convenait tout √† fait, alors je viens de prendre le premier coaxial avec une imp√©dance d'onde arbitraire et de le souder doucement au smartphone sur les contacts correspondants de l'antenne patch GPS. <br><br><div class="spoiler">  <b class="spoiler_title">Photo des contacts de l'antenne GPS sur la carte W732</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/nn/em/ci/nnemci1spx4laynkv4kd_fe_syy.jpeg"><br>  <i>La tresse et le noyau central du coaxial sont soud√©s √† ces contacts</i> <br></div></div><br>  Je viens de lib√©rer l'autre extr√©mit√© du c√¢ble de la tresse de l'√©cran pour qu'il reste un noyau central de 95 mm de longueur - c'est la moiti√© de la longueur d'onde √† la fr√©quence L1 du signal GPS standard (1575,42 MHz). <br><br><div class="spoiler">  <b class="spoiler_title">L'antenne GPS la plus simple.</b>  <b class="spoiler_title">Dip√¥le demi-onde</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/as/a2/yk/asa2yk0mwvmd034n7maxcwsexkq.jpeg"><br>  <i>Cette antenne doit √™tre plac√©e le plus pr√®s possible de la fen√™tre.</i> <i><br></i>  <i>Je l'ai coll√© au verre avec du ruban adh√©sif.</i> <i><br></i> </div></div><br>  Le t√©l√©phone l'a √©loign√© de la fen√™tre et, d'autre part, l'extr√©mit√© d√©nud√©e du fil de 95 mm l'a amen√© √† la fen√™tre pour qu'il puisse voir plus du ciel. <br><br>  Et donc - Philips a rapidement captur√© ses 5 ... 7 satellites honn√™tes et r√©par√©!  L'antenne fonctionne! <br><br>  Et je m'inqui√©tais toujours de la coordination des imp√©dances d'ondes du c√¢ble, de l'antenne et du r√©cepteur, qui √©tait cens√©e √™tre n√©cessaire dans de tels cas, avec lesquelles j'√©tais saupoudr√© de cervelle sur Internet lors des forums d'antennes.  Plus tard, j'ai d√©couvert qu'une telle coordination des r√©sistances √©tait n√©cessaire pour obtenir simplement le maximum d'efficacit√© de la ligne de transmission (absence de r√©flexions finales et att√©nuation excessive).  Et si la ligne n'est que de 2 ... 3 m√®tres, comme la mienne, et que la t√¢che consiste simplement √† fournir au moins une partie du signal au r√©cepteur, alors vous ne devriez pas du tout penser √† cette coordination - tout fonctionnera avec n'importe quel coaxial. <br><br><h4>  Caract√©ristiques du processus de synchronisation GPS </h4><br>  Apr√®s avoir re√ßu un GPS fonctionnel, j'ai bien s√ªr imm√©diatement d√©fini la m√©thode de synchronisation de l'heure ¬´sur les satellites GPS¬ª dans les param√®tres Android et laiss√© le t√©l√©phone dans cet √©tat pour v√©rification.  Quelle a √©t√© ma surprise quand quelques heures plus tard, le temps pass√© sur le t√©l√©phone s'est consid√©rablement ¬´s√©par√©¬ª de l'horloge de contr√¥le de l'ordinateur (o√π Windows est synchronis√© en ntp).  J'ai commenc√© √† d√©couvrir la raison ... Il s'est av√©r√© que l'andro√Øde, configur√© pour synchroniser l'heure via GPS, n'effectue cette synchronisation qu'une seule <i>fois - au moment de fixer les coordonn√©es</i> . <br>  Et puis, m√™me si le smartphone continue de surveiller en continu les satellites, l'heure de son syst√®me n'est toujours d√©termin√©e que par le g√©n√©rateur interne, c'est-√†-dire qu'il n'y a pas de synchronisation du tout!  Au moins dans mon Philips Android 4.0.3, tout se passe de cette fa√ßon. <br><br>  Pour moi, c'√©tait une mauvaise surprise.  Je ne continuerai pas √† tirer le GPS manuellement pour mettre √† jour l'heure exacte ... <br><br>  La solution a √©t√© trouv√©e un logiciel.  J'utilise le programme Locus du logiciel Asamm pour la navigation, dans lequel il est possible de configurer une maintenance GPS non constante √† l'√©tat actif, mais des corrections ponctuelles p√©riodiques de coordonn√©es √† des intervalles donn√©s, c'est exactement ce dont j'avais besoin.  J'ai r√©gl√© l'intervalle √† 15 minutes et le probl√®me a disparu en toute s√©curit√© - l'heure dans le t√©l√©phone mobile depuis lors co√Øncide toujours clairement avec le monde!  Pendant 15 minutes, la minuterie syst√®me de tout smartphone normal n'accumulera pas une erreur de temps de plus de 1 ... 2 secondes, ce qui me convient parfaitement.  Si vous le souhaitez, vous pouvez r√©parer par temps chaud au moins toutes les dix secondes. <br><br><h4>  Restauration d'un smartphone fixe </h4><br>  Apr√®s l'heure exacte, c'√©tait au tour de faire un r√©gime comp√©tent pour ma montre. <br><br>  Comme je l'ai d√©j√† mentionn√©, j'avais besoin que l'horloge ne s'√©teigne pas et ne passe pas √† z√©ro lors de coupures de courant √† court terme dans la maison, ce qui, bien que rare, se produit. <br><br>  La premi√®re solution, la plus maladroite ici, consiste √† brancher b√™tement le smartphone dans une prise de courant et √† le laisser de cette fa√ßon.  En effet, en m√™me temps, le probl√®me des coupures de courant est parfaitement r√©solu - le t√©l√©phone portable passera simplement √† une batterie, qui sera toujours compl√®tement charg√©e et pr√™te √† l'emploi.  Aussit√¥t dit, aussit√¥t fait.  Connect√© ... Une semaine s'est √©coul√©e, la seconde - je commen√ßais d√©j√† √† me r√©jouir ... Et le troisi√®me, un beau jour, il y a eu un coup, et la batterie a vol√© joyeusement du t√©l√©phone au milieu de la pi√®ce, gonfl√©e par une pression interne √† l'√©tat de la balle. <br><br><div class="spoiler">  <b class="spoiler_title">Batterie standard Phillips</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/p7/e6/oj/p7e6ojfzrl_xu9egovxblz_l6mi.jpeg"><br>  <i>Ceci est son √©tat normal.</i>  <i>Plat et dur ...</i> <i><br></i> </div></div><br>  Comme vous le savez, j'ai m√™me eu de la chance que les coutures du bo√Ætier de la batterie ne puissent pas r√©sister et n'auraient pas √©t√© ouvertes, sinon j'aurais pu √©viter un incendie de lithium, de la fum√©e, des odeurs et du linol√©um g√¢t√©. <br><br>  Il n'y a qu'une seule conclusion: vous ne pouvez pas simplement <i>utiliser un smartphone pendant des mois et des ann√©es √† charge constante</i> .  Le t√©l√©phone n'a pas affin√© un tel sc√©nario.  Sa t√¢che principale est de charger correctement la batterie au maximum, sans laisser la tension et la temp√©rature d√©passer.  Et puis la d√©charge est toujours suppos√©e.  Si l'appareil n'est jamais d√©connect√© de la prise murale, le contr√¥leur commence g√©n√©ralement √† maintenir un programme de charge en dents de scie - r√©glage d'abord √† 100%, puis coupure du courant et attente de la d√©charge √† environ 90%. Et ravitaillement √† 100% √† nouveau.  Et c'est une approche encore plus ou moins attentionn√©e.  Et de nombreux vieux t√©l√©phones peuvent simplement garder stupidement la tension maximale sur la batterie. <br><br>  Il est connu que plus la tension d'une cellule lithium-ion est √©lev√©e, plus son vieillissement et sa d√©gradation sont rapides.  Certains smartphones remplissent g√©n√©ralement leurs batteries m√™me au-dessus de 4,2 V afin de maximiser la dur√©e de vie de la batterie.  Mais il n'y a qu'un seul r√©sultat - √©tant constamment √† la tension maximale, la batterie se d√©grade beaucoup plus rapidement.  S'il est √©galement ancien, il n'est pas loin du d√©veloppement progressif des circuits internes microscopiques, de l'acc√©l√©ration thermique et de l'explosion, comme cela m'est arriv√©. <br><br>  Apr√®s l'incident avec la batterie √©clat√©e, je me suis dit - comment puis-je avoir une alimentation de secours en m√™me temps et emp√™cher la batterie d'√™tre constamment sous pleine tension? <br><br>  Je suis pass√© par beaucoup de sc√©narios diff√©rents, puis je suis finalement tomb√© sur les points suivants. <br><br>  En mode normal, le t√©l√©phone sera toujours aliment√© par une prise, c'est-√†-dire 5V via un connecteur USB. <br><br>  √Ä l'aide d'un simple circuit suppl√©mentaire, la batterie de secours est automatiquement et simultan√©ment charg√©e √† son maximum normal de 4,2 V, apr√®s quoi elle est <i>compl√®tement d√©connect√©e de la charge</i> .  De plus, la batterie est simplement d√©charg√©e silencieusement par auto-d√©charge, n'√©tant connect√©e nulle part.  Dans ce cas, le circuit surveille constamment sa tension et rallume la charge unique jusqu'√† 4,2 uniquement lorsque la tension de la cellule tombe en dessous d'un certain minimum pr√©d√©termin√© (j'ai pris 3,6 V).  Et ainsi de suite, tout est enti√®rement automatique.  Le temps r√©el entre ces recharges est des ann√©es, pendant lesquelles la batterie se d√©charge lentement, mais reste n√©anmoins tout √† fait capable d'alimenter la charge √† tout moment, m√™me si ce n'est pas de sa pleine capacit√©. <br><br>  En cas de panne de courant de la prise, la batterie doit √™tre imm√©diatement connect√©e automatiquement au smartphone (comme dans les alimentations sans coupure), apr√®s quoi le syst√®me continuera de fonctionner de mani√®re autonome jusqu'√† ce que l'alimentation secteur soit r√©tablie ou jusqu'√† ce que la batterie soit compl√®tement d√©charg√©e (et √©teinte). <br><br>  Avec cette approche, la pile au lithium fonctionne dans un mode plus √©conome que lorsque la tension maximale y est constamment maintenue.  Et √ßa n'explosera certainement pas! <br><br><h4>  Astuces √©lectriques pour smartphone </h4><br>  Maintenant, comment impl√©menter tous ces circuits. <br><br>  La question ici est compliqu√©e par le fait que dans le smartphone, il n'√©tait pas si facile √† organiser dans le syst√®me d'alimentation. <br><br>  Par exemple, sans batterie, le t√©l√©phone ne s'allumera pas m√™me s'il y a 5V via USB. <br><br>  Si vous retirez la batterie lors de l'utilisation de l'USB, tout se vide √©galement imm√©diatement.  Bien que la puissance en m√™me temps ne provienne √©videmment que du connecteur USB! <br><br>  Au d√©but, il y avait un probl√®me avec le troisi√®me contact de la batterie.  Je ne voulais pas √™tre li√© √† une batterie Philips ordinaire et j'ai d√©cid√© de savoir - que se passera-t-il si je laisse la troisi√®me borne de contact pas du tout connect√©e?  Il s'est av√©r√© que le smartphone ne s'allumait pas en m√™me temps ... J'ai m√™me commenc√© √† craindre qu'une sorte de bus num√©rique sophistiqu√©, comme i2c, transmette au t√©l√©phone non seulement diverses t√©l√©m√©trie technique, mais aussi toutes sortes de codes d'usine dans le style "ami ou ennemi".  Cela signifierait que j'√©tais √† jamais li√© √† ma batterie native de Philips, car je n'avais certainement pas l'intention de mettre en place des interfaces num√©riques trompeuses ici (je me souviens que j'ai eu une surprise similaire en travaillant avec des batteries de cam√©scope d'une entreprise japonaise c√©l√®bre et respect√©e). <br><br>  J'ai regard√© l'oscilloscope sur ce qui se passait au troisi√®me contact.  Heureusement pour moi, le Philips W732 s'est av√©r√© tr√®s simple!  Il affiche la tension constante habituelle du capteur de temp√©rature interne de la batterie.  L'entr√©e du troisi√®me contact dans le smartphone est √† haute imp√©dance. <br><br>  J'ai assembl√© un simple diviseur de r√©glage, et en appliquant diff√©rentes tensions au contact du milieu, j'ai pris plusieurs points de la d√©pendance de la temp√©rature de la batterie affich√©e par l'andro√Øde sur la tension du troisi√®me contact. <br><br><div class="spoiler">  <b class="spoiler_title">Graphique de la temp√©rature affich√©e de la batterie sur la tension du 3√®me contact</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dc/-g/gd/dc-ggdncroj-gfw1mrxyiltj530.png"><br></div></div><br>  Il s'est av√©r√© que si le troisi√®me est inf√©rieur √† 153 mV, des avertissements en plein √©cran sur la surchauffe de la batterie commenceront et apr√®s quelques secondes, le t√©l√©phone s'√©teindra normalement.  √Ä des tensions sup√©rieures √† 630 mV, l'andro√Øde commence √† croire que sa batterie est gel√©e √† une temp√©rature n√©gative, mais continuera de fonctionner (et m√™me silencieusement!).  Je n'avais plus besoin d'exp√©rimenter - je viens de r√©aliser qu'il est √©l√©mentaire de tromper le troisi√®me contact - il suffit d'y appliquer n'importe quel potentiel entre 155 et 600 mV. <br><br>  Du coup, j'ai pris forme sur 2 crit√®res, sans lesquels le smartphone ne fonctionnerait pas du tout: <br><br>  <b>1.</b> Tension obligatoire sur la borne positive de la batterie (malgr√© le fait que le syst√®me soit aliment√© par un connecteur USB) <br><br>  Et cela ne devrait pas √™tre une sorte de fausse tromperie potentielle, juste pour que le t√©l√©phone pense qu'une batterie y est ins√©r√©e.  Il n√©cessite une <i>source de</i> tension √† <i>basse imp√©dance √† part enti√®re</i> avec un courant d'au moins le courant de fonctionnement du smartphone. <br><br>  <b>2.</b> La pr√©sence d'une tension constante sur le troisi√®me contact de la batterie dans la plage de 155 ... 600mV.  Il y a d√©j√† suffisamment de blende potentiel √† potentiel √©lev√© simple. <br><br><hr><br>  Soit dit en passant, je ne comprends toujours pas pourquoi l'andro√Øde a un seuil d'arr√™t aussi √©lev√© (3,4 V), alors qu'une pile au lithium standard peut facilement d√©charger jusqu'√† 3 et m√™me 2,8 V!  La seule chose qui me vient √† l'esprit est la pr√©sence dans les smartphones de consommateurs internes √† 3,3 V, qui ont besoin d'une alimentation √©lectrique pour leurs convertisseurs buck.  Mais vous pouvez mettre SEPIC et utiliser la batterie plus compl√®tement!  Ou √† l'√©poque moderne, personne n'y pense? <br><hr><br>  Ensuite, il fallait trouver un sch√©ma auxiliaire simple qui surveillerait tout cela et le contr√¥lerait automatiquement.  J'ai imm√©diatement d√©cid√© de ne pas utiliser de microcontr√¥leurs, bien que je puisse travailler avec eux.  Dans ce cas, il fallait juste r√©fl√©chir un peu, tout optimiser √† fond, et toutes les fonctions ont √©t√© impl√©ment√©es sur de simples composants analogiques.  Tout fonctionne et ne g√®le jamais. <br><br>  La batterie de l'horloge de secours doit √™tre charg√©e p√©riodiquement √† partir de quelque chose.  Au d√©but, j'ai d√©cid√© de le faire directement √† partir de la batterie et du smartphone, car je croyais na√Øvement qu'il avait un 4.2V honn√™te et immuable.  √Ä l'aide d'un oscilloscope, j'ai regard√© ce qui se passait vraiment l√†-bas.  Il s‚Äôest av√©r√© qu‚Äôil ne sentait aucun niveau constant! .. <br><br>  Premi√®rement, si rien n'est connect√© √† la borne positive de la batterie, le contr√¥leur de charge ne dort toujours pas et le ¬´sonde¬ª p√©riodiquement avec des v√©rifications. <br><br><div class="spoiler">  <b class="spoiler_title">Forme d'onde de tension √† la borne positive de la batterie</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bi/hc/kq/bihckq8fd_wy5kabjuultdy7oai.png"><br>  ( <i>reconstruction d'une forme d'onde r√©elle</i> ) <br></div></div><br>  Vous voyez - apr√®s environ toutes les 45 millisecondes, le t√©l√©phone donne une √©chelle de ¬´palpage¬ª cons√©cutif - la tension externe est-elle apparue sur le contact de la batterie?  Et entre ces v√©rifications, un certain niveau constant de 4,05V est conserv√©. <br><br>  Si vous connectez la batterie, le syst√®me la reconna√Æt et commence r√©guli√®rement √† y alimenter le courant.  Mais, encore une fois, pas constamment, mais par p√©riodes de 10 secondes.  Apr√®s chacune de ces 10 secondes de charge, le smartphone pendant 2 secondes inclut un <i>courant inverse</i> complet, c'est-√†-dire  il prend du courant de la batterie, et avec une puissance d√©cente (je n'ai pas mesur√© les valeurs num√©riques exactes de tous ces param√®tres, je me suis int√©ress√© au principe).  Au cours de cet √©chantillonnage de courant √† court terme, le smartphone mesure la charge de la batterie sous charge, obtenant ainsi des chiffres honn√™tes de pourcentage et de tension.  Il √©tait clairement visible comment exactement apr√®s cette inversion dans l'andro√Øde, les valeurs de tous les param√®tres de la batterie sont mises √† jour. <br><br>  Tout ce m√©canisme de charge d√©licat ne me convenait pas du tout, et m√™me interf√©rait, car j'avais l'intention de construire la logique des circuits de charge bas√©e sur un contr√¥le de tension analogique continu sur le shunt de mesure.  Et √©teignez automatiquement la charge lorsque la chute sur le shunt diminue √† un minimum pr√©d√©termin√©, indiquant que le courant de charge a atteint le stade final de charge.  Et puis ce revers a tout g√¢ch√© ... Au d√©but, j'ai essay√© de le contourner ou de le tromper, mais j'ai r√©alis√© qu'il √©tait plus facile d'utiliser une source externe d'une tension de charge de r√©f√©rence.  Il sera √† la fois plus fiable et plus transparent pour une meilleure compr√©hension. <br><br>  J'ai install√© un stabilisateur int√©gr√© externe (normal, lin√©aire), avec lequel j'ai re√ßu 4,2V pr√©cis et <i>stable en</i> temp√©rature d'un chargeur USB 5 ... 6V mal stabilis√©.  Avec eux, tout d'abord, j'ai aliment√© le smartphone avec une borne de batterie positive, de sorte qu'il ait toujours pens√© qu'il avait une batterie charg√©e √† 100% et ne diffusait jamais rien sur cet √©cran en entier.  Et deuxi√®mement, le syst√®me de charge de la batterie de secours fonctionne √† partir de ce bus. <br><br>  En chemin, je suis tomb√© sur une curieuse observation.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il s'av√®re que si vous coupez l'alimentation via USB et appliquez une </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tension constante √†</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> partir d'une source stabilis√©e qui ne changera jamais au </font><font style="vertical-align: inherit;">terminal de la batterie du smartphone </font><font style="vertical-align: inherit;">, l'andro√Øde dessinera constamment un graphique inclin√© et d√©croissant du pourcentage de charge! </font><font style="vertical-align: inherit;">Apparemment, une sorte d'√©quation pour calculer ces pourcentages est int√©gr√©e au programme de surveillance de la batterie Android, qui prend en compte non seulement la tension r√©elle de la cellule, mais √©galement la consommation actuelle de l'appareil. </font><font style="vertical-align: inherit;">J'ai sp√©cifiquement men√© des exp√©riences, allumant et √©teignant le r√©tro√©clairage de l'√©cran, en tant que l'un des consommateurs actuels les plus voraces. </font><font style="vertical-align: inherit;">Voici les statistiques collect√©es par jour:</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alors Android a dessin√© un graphique de "d√©charge de la batterie"</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/m-/_j/dc/m-_jdcx_h9vkganwg0-nuci6fdc.jpeg"><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/b7/y_/vv/b7y_vvrfjlfd_5teazjmiksc8bi.jpeg"></div><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous voyez, lorsque l'√©cran a fonctionn√© et que le courant provenant du terminal de la batterie est devenu notable, l'andro√Øde a dessin√© une bonne pente, une baisse d'environ 5% par heure. Ensuite, j'ai √©teint le r√©tro-√©clairage et le smartphone s'est endormi, le courant est tomb√© √† quelques petites valeurs de veille et le graphique est all√© presque horizontalement. Il ralluma l'√©cran - et encore la rampe. Notez que la tension √† la borne positive de la batterie a toujours √©t√© strictement </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constante</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'andro√Øde a donc calcul√© son pourcentage de charge uniquement sur la base du courant mesur√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cependant, d√®s que la charge atteint 15% (ici le t√©l√©phone donne un avertissement sur une batterie d√©charg√©e), le graphique cesse de diminuer puis passe horizontalement de 15% ... Voici l'astuce (ou p√©pin).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y avait une autre fonctionnalit√©. Il s'est av√©r√© que si vous fournissez simultan√©ment une alimentation USB et une alimentation externe stabilis√©e au terminal de la batterie, mais </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moins de 4,2 V</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le smartphone affichera d'abord et pendant longtemps honn√™tement un pourcentage de charge incomplet, puis se mettra soudainement √† gronder, dans le style de " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do you quelque chose avec une batterie! La charge prend trop de temps!</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " Et bien s√ªr, tout cela √† nouveau en plein √©cran et en haut de ma montre! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eh bien, si vous soumettez plus de 4,2 V, alors d√©j√† quelque part avec 4,3 V, il commencera √† maudire l'exc√®s dangereux de la tension de la batterie, cela est compr√©hensible. Par cons√©quent, la "plage de calme" est ici assez √©troite - seulement 0,1V.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et seulement s'il a re√ßu une alimentation USB de 5 V et une √©mulation compl√®te de 4,2 V exacte via le terminal de la batterie - alors seulement l'andro√Øde se ferme joyeusement, croyant qu'il a honn√™tement charg√© sa batterie au maximum. </font><font style="vertical-align: inherit;">Et de plus il d√©j√†, Dieu merci, ne se plaint de rien!</font></font><br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je rassurerai imm√©diatement ceux qui auraient pu penser que je l'ai fait tr√®s mal en chargeant deux sources de tension √† faible imp√©dance incompatibles l'une sur l'autre (c'est-√†-dire un stabilisateur externe de 4,2 V et une borne de batterie positive, qui elle-m√™me ¬´alimente¬ª) . </font><font style="vertical-align: inherit;">Le fait est que mon stabilisateur externe est un LDO lin√©aire ordinaire et, par ses circuits, n'est pas en mesure de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©tourner le</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> courant. </font><font style="vertical-align: inherit;">√âchouez seulement. </font><font style="vertical-align: inherit;">Par cons√©quent, aucun conflit √©lectrique ne se produit ici, car cela peut se produire, par exemple, lorsque plusieurs batteries diff√©rentes sont connect√©es en parall√®le.</font></font><hr><br><br><h4>  Sch√©ma </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque les savoirs traditionnels ont finalement √©t√© pleinement d√©termin√©s, il a √©t√© possible de commencer √† √©laborer un sch√©ma sp√©cifique. </font><font style="vertical-align: inherit;">Malgr√© l'apparente simplicit√© de la t√¢che, je l'ai bricol√©e notamment! </font><font style="vertical-align: inherit;">J'ai d√ª inventer puis rejeter plus d'une douzaine d'options diff√©rentes, de l'ind√©cemment simple au volumineux.</font></font> Voici le r√©sultat: <br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plan d'alimentation</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/5p/av/_r/5pav_ru8mahbacmdyz4xxr6covo.png"><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malgr√© la redondance apparente, le sch√©ma est simple. </font><font style="vertical-align: inherit;">Gr√¢ce √† SMD, une √©charpe de 35x22 mm se glisse facilement √† l'int√©rieur du compartiment d'une batterie ordinaire retir√©e. </font><font style="vertical-align: inherit;">En tant que batterie de secours, j'ai utilis√© un lithium-ion 18650 ordinaire mont√© sur un support de montre. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le circuit offre les fonctions suivantes:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'alimentation principale constante de 5V de la prise via le connecteur USB. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transf√©rez automatiquement le smartphone vers une batterie de secours en cas de panne de courant via USB. </font></font></li><li>   4,2     (    ). </li><li>       (   ). </li><li>            . </li><li>     ,   . </li><li>         . </li><li>        . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, bri√®vement, comment fonctionne le circuit. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour obtenir un 4.2V stable et ind√©pendant de la temp√©rature, j'ai utilis√© le merveilleux LDO ADM7172 int√©gr√© d'Analog Devices. Il me donne la tension souhait√©e et parfaitement uniforme de 4,22 V jusqu'√† une charge de 2 A. Je l'ai mis dans mon smartphone sur le plus du connecteur de batterie (VBAT), et je l'utilise √©galement pour charger la batterie de secours du syst√®me. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le circuit d'√©mulation de tension du troisi√®me contact de batterie (TEMP) est r√©alis√© sur une simple diode D2, aliment√©e par un faible courant de fond. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le mosfet Q4 √† canal P connecte imm√©diatement une batterie de secours au smartphone, d√®s que la tension dispara√Æt sur le bus principal USB + 5V. LED2 a √©t√© r√©gl√© ici uniquement dans le but de changer de niveau pour une petite acc√©l√©ration de l'ouverture Q4 dans le processus d'affaissement des pneus. Il est infrarouge et ne brille nulle part.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le reste des d√©tails a fait le circuit de charge. La batterie de secours BT1 est charg√©e via le mosfet Q3 et la r√©sistance de limitation R9R10. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le travail de YOU U2 est int√©ressant ici. Il est tellement inclus ici qu'il permet √† la fois de contr√¥ler le degr√© de d√©charge et le degr√© de charge. L'ampli-op fonctionne ici en mode comparateur, et un OS positif pour lui est obtenu par lui-m√™me en raison des processus dans les circuits qu'il contr√¥le.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici comment cela se passe: lorsque tout va bien - il y a une alimentation USB + 5 V et la batterie de secours est charg√©e jusqu'√† une tension sup√©rieure √† celle d√©finie par le point de division R4R5R6 - puis l'ampli op d√©livre le potentiel d'un bus de 4,2 volts (√† partir duquel il est aliment√©) et la charge Le Mosfet Q3 est ferm√©. Lorsque la batterie, pour une raison ou une autre, se d√©charge en dessous de ce point (+ 3,63 V dans le diagramme), la sortie de l'ampli op√©rationnel se ¬´d√©tache¬ª progressivement du plus et ouvre ainsi le mosfet de charge Q3. Le courant circulera dans la batterie, la tension sur la cellule augmentera imm√©diatement d'au moins quelques millivolts (en raison d'une r√©sistance interne non nulle) et cela servira de point de vente fiable pour l'ampli-op. Ici, vous pouvez appliquer un v√©ritable comparateur avec sa propre hyst√©r√©sis, mais en r√©alit√©, la commutation de l'amplificateur est fiable et rapide, il n'y a pas de d√©rive de cliquetis.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La charge de la batterie passe par la r√©sistance R9R10 (elle est composite afin d'augmenter la puissance de dissipation). Premi√®rement, il limite le courant de charge, ce qui est absolument n√©cessaire ici, sinon m√™me un chargeur de 2 amp√®res ne pourra tout simplement pas faire face et s'affaisser. Deuxi√®mement, en fonction de la chute de tension sur cette r√©sistance, le circuit d√©termine le moment o√π la charge doit √™tre coup√©e.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela se produit comme suit: d√®s que la charge est activ√©e, le mosfet auxiliaire Q2 s'ouvre en m√™me temps, ce qui reconstruit le diviseur de contr√¥le R4R5R6 pour l'entr√©e inverseuse de l'ampli-op, et donc l'ampli-op commence √† surveiller la tension qui est lib√©r√©e sur la r√©sistance de charge. Au tout d√©but de la charge, lorsque la batterie est compl√®tement d√©charg√©e, environ 0,5 V tombe sur le R9R10, ce qui rend l'ampli-op d√©s√©quilibr√© de mani√®re fiable en mode √©tat de charge. Et seulement lorsque la batterie est progressivement compl√®tement charg√©e, le courant √† travers la r√©sistance de contr√¥le s'affaiblit √† une certaine valeur (environ 20 mA), puis les potentiels des entr√©es de l'ampli op√©rationnel sont √©galis√©s, apr√®s quoi il est transf√©r√© par le m√™me m√©canisme POS externe √† l'√©tat oppos√© (plus √† la sortie), d√©sactivant les mosfets Q2 et Q3 et arr√™t de la charge. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En ce qui concerne un tel r√©gime r√©sultant</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profil de charge d'une</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> batterie lithium-ion, la r√©sistance R9R10 met ici en ≈ìuvre automatiquement une fonction de charge simple avec un courant initial maximum, sa diminution progressive automatique et se rapprochant de z√©ro.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphique de la fonction de charge</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/yx/6o/cx/yx6ocxkusa2pis2406l_y9jqvrq.png"><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les fabricants de batteries recommandent √† leur tour le profil de charge bien connu suivant avec des sections de stabilisation du courant et de la tension: </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profil de charge recommand√© typique pour Li-ion</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/rt/o0/ab/rto0abfgdgab_tlfpkkwdhx2cdu.jpeg"><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans mon cas, ni la tension ni le courant sur la cellule ne sont jamais sp√©cifiquement stabilis√©s, mais la tension ne d√©passera jamais les limites de s√©curit√©. Par cons√©quent, je consid√®re qu'une telle m√©thode de charge simplifi√©e est tout √† fait r√©alisable et efficace. En pratique, cela fonctionne tr√®s bien et ne n√©cessite en m√™me temps qu'une seule r√©sistance. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le Mosfet Q1 est utilis√© de sorte que lorsque vous travaillez uniquement avec une batterie de secours, il n'est pas n√©cessaire de gaspiller son courant pour alimenter le reste du circuit. Lorsque l'alimentation est coup√©e de la prise, Q1 se ferme et coupe toutes les parties inutilis√©es du circuit du fil commun. Pour cette raison, la consommation propre de l'ensemble de la structure chute √† un niveau n√©gligeable de 3 √† 5 microamp√®res, ce qui emp√™che automatiquement une d√©charge profonde de la batterie au cas o√π vous oublieriez le syst√®me hors tension pendant une longue p√©riode.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La diode Schottky D1 √† l'entr√©e du stabilisateur U1 remplit une double fonction: bloquer le courant inverse √† travers U1 (il n'y a pas un tel blocage √† l'int√©rieur de l'ADM7172) et d√©charger le petit microcircuit du stabilisateur d'une dissipation de puissance excessive. </font><font style="vertical-align: inherit;">Au tout d√©but de la charge de la batterie, le courant de charge atteint 1A, et si tout le 1 volt de la chute de tension du bus USB + 5V est pos√© sur le minuscule ADM7172 de 3x3 mm, il sera tr√®s chaud, m√™me malgr√© le coussin thermique soud√© √† la carte. </font><font style="vertical-align: inherit;">Par cons√©quent, une partie de la tension d'entr√©e est √©teinte avec succ√®s sur la diode de blocage D1, et en cons√©quence, ces deux parties sont chauff√©es plus uniform√©ment et moins.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √Ä propos des composants utilis√©s </font></font></h4><br>  En tant que stabilisateur d'entr√©e, j'ai utilis√© un excellent LDO avec une chute de passage minimale vraiment faible, bien qu'√† cet endroit la tension ne baisse jamais en dessous de 0,4 V.  J'adore vraiment l'ADM7172 pour bon nombre de ses sp√©cifications.  Et donc ici, vous pouvez mettre presque n'importe quel microcircuit de stabilisateur lin√©aire, l'essentiel est qu'il produit des volts fiables qui ne flottent pas √† la temp√©rature et au moins 1,5 A de courant. <br><br>  De mosfets j'avais besoin d'une r√©sistance minimale de canal ouvert (RdsON) ici.  Cela est particuli√®rement vrai pour la cl√© de canal P bit Q4.  L√†, j'ai mis un magnifique √©chantillon Toshibov TPH1R712MD - le meilleur qui a √©t√© trouv√© par la r√©sistance du canal dans un petit bo√Ætier plat.  √Ä l'√©tat ouvert, il a un r√©el 1,3 mOhm, ce qui avec un courant de fonctionnement d'un smartphone de 200 ... 300mA donne une perte de transit de la tension de la batterie pr√©cieuse √† un 0.4mV n√©gligeable! <br><br>  Il est √©galement souhaitable d'avoir un faible RdsON pour Q1 afin de se fixer plus pr√©cis√©ment au potentiel du fil commun.  Les mosfets FDMC8010 de Fairchild s'en sortent √©galement tr√®s bien.  Il y a plus d'√©chantillons √† basse imp√©dance, mais dans cette conception, les petites dimensions des pi√®ces √©taient √©galement importantes pour moi. <br><br>  Le reste des mosfets peut √™tre quelconque, il est seulement souhaitable qu'ils aient une tension de seuil d'ouverture inf√©rieure. <br><br>  En tant que comparateur U2, j'ai utilis√© la micropuissance Microchip MCP6V11 IOW, que j'ai aim√© avec son excellente efficacit√© - seulement 7 microamp√®res en arri√®re-plan.  Certes, par rapport au YOW conventionnel, il est certainement lent comme une tortue (GBW 80 kHz et taux de balayage de seulement 0,03 V / Œºs).  Mais cela fonctionne tr√®s bien ici de toute fa√ßon.  Au fait, j'ai essay√© de mettre ici un vrai comparateur avec hyst√©r√©sis int√©gr√©e.  J'ai trouv√© un excellent √©chantillon MCP6541, qui ne consomme que 600 nanoamp√®res (!) En arri√®re-plan, et lorsqu'il est d√©clench√©, il peut tirer la sortie avec une puissance allant jusqu'√† 30 mA ... Mais, en le mettant directement √† la place du MCP6V11 (leur brochage co√Øncide), j'ai soudainement eu une panne de circuit.  Il s'est av√©r√© que le MCP6541 commute si rapidement que le front √† grande vitesse de son impulsion p√©n√®tre facilement √† travers la capacit√© d'√©lectrode de grille Q2 dans le circuit du diviseur de commande R4R5R6 et arrive √† sa propre entr√©e inverseuse.  Il se r√©v√®le une telle r√©troaction dynamique, et le comparateur ne commute pas, mais commence √† g√©n√©rer. <br>  Le probl√®me sera r√©solu en ajoutant simplement une r√©sistance √† haute r√©sistance entre la sortie du comparateur et la porte Q2, mais j'avais d√©j√† une carte sur laquelle il n'y avait absolument aucune place pour m√™me une petite r√©sistance SMD suppl√©mentaire, donc je viens de laisser le MCP6V11 ici. <br><br>  LED1 est seulement n√©cessaire pour indiquer quand une charge se d√©verse dans la batterie.  Dans le bon sens, cela devrait se produire toutes les quelques ann√©es ... Vous pouvez utiliser absolument n'importe quelle, n'importe quelle couleur, ou vous ne pouvez pas la mettre du tout. <br><br>  Les r√©sistances et les condensateurs sont les CMS les plus courants, il n'y a aucune exigence pour eux, sauf pour la petite taille.  J'ai utilis√© des condensateurs au tantale, lowESR, dans des cas 7343H, mais tout ira, juste pour s'ins√©rer dans le compartiment de la batterie avec la carte (pour le W732 Philips, il mesure 55x60x8 mm). <br><br>  Pendant le chargement de la batterie, la carte enti√®re se r√©chauffe d√©cemment pendant les premi√®res heures, jusqu'√† 60 degr√©s. Comme il y avait encore suffisamment d'espace dans le compartiment, j'ai intentionnellement augment√© la surface de la carte et √©largi les pi√®ces chauffantes dessus afin qu'elles ne se surchauffent pas mutuellement et leurs autres voisins en vain. <br><br><div class="spoiler">  <b class="spoiler_title">Carte de gestion de l'alimentation dans le compartiment √† piles</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/bt/bf/jy/btbfjybybqxy0ope5aikbng-efw.jpeg"><br></div></div><br>  Fabriqu√© √† la main, photor√©sist.  La m√©thode FR permet d'obtenir facilement un ¬´processus¬ª de 0,15 mm, mais pour une raison quelconque, j'ai tout le textolite de si mauvaise qualit√© que les routes minces essaient de tomber lors de l'√©tamage ... Si quelqu'un sait o√π vous pouvez acheter un textolite de bonne qualit√© avec une garantie - √©crivez dans les commentaires ! <br><br>  Ainsi, le smartphone est enfin correctement aliment√© et fonctionne ¬´comme une horloge¬ª dans tous les sens!  S'allume de mani√®re stable √† la fois avec l'alimentation de la prise et de la batterie, fonctionne silencieusement.  Lorsque le chargeur est connect√©, il affiche toujours 100% de charge.  Si vous le retirez de la prise, il continue de fonctionner silencieusement √† partir de la batterie de secours et commence bient√¥t √† afficher la tension r√©elle dessus.  Lors du r√©tablissement de l'alimentation secteur, affiche √† nouveau silencieusement et calmement une charge de 100%.  Tout est comme il se doit! <br><br>  En principe, via un circuit similaire, vous pouvez alimenter n'importe quel t√©l√©phone mobile qui re√ßoit une simple tension constante via le troisi√®me contact de la batterie. <br><br><h4>  Montre num√©rique pour Android </h4><br>  Sur cela, l'affaire a √©t√© compl√©t√©e avec du fer.  Le temps est venu pour les garnitures logicielles.  √Ä savoir, il √©tait n√©cessaire d'obtenir une grande horloge num√©rique sur l'√©cran du smartphone. <br><br>  Voici ce dont j'avais besoin: <br><br><ol><li>  Le plus grand nombre possible!  Je n'aime pas plisser les yeux et regarder les petites choses de loin. </li><li>  Possibilit√© de mettre n'importe quelle police de n'importe quelle couleur.  La lisibilit√© en d√©pend √©galement. </li><li>  L'exclusivit√© de l'affichage de l'horloge √† l'√©cran - rien que les chiffres de l'heure ne devraient pas √™tre l√†.  Aucune pr√©vision m√©t√©orologique, avertissement, message, barre d'√©tat et autre non-sens - <i>ne devrait jamais</i> appara√Ætre. </li><li>  Il est clair que l'√©cran du smartphone ne doit jamais noircir seul. </li><li>  Fonction de luminosit√© automatique fonctionnant correctement de l'√©cran. </li><li>  Fiabilit√© maximale (je vis toujours sur cette montre).  D√©pend, frises - tout cela est exclu. </li></ol><br>  J'ai commenc√© par brancher le t√©l√©phone et d√©raciner sans piti√© toutes les ordures que je pouvais atteindre.  Toutes sortes de gapps, blotware et tout ce qui n'est pas n√©cessaire pour un chargement normal ont vol√© dans le panier.  Y compris un tas d'applications syst√®me, divers utilitaires pour travailler avec des cartes SIM, des num√©roteurs, des SMS, des navigateurs, des calendriers, des fonds d'√©cran et d'autres b√™tises.  Je suis m√™me all√© trop loin √† quelques reprises - le t√©l√©phone a √©t√© mis en boucle par des erreurs.  Mais j'ai tout restaur√© et encore une fois effac√©. <br><br>  Puis pendant longtemps, j'ai cherch√© sur Internet un programme normal d'horloges num√©riques en plein √©cran pour Android.  Malgr√© une montagne de programmes similaires, presque aucun ne me convenait!  Tous les d√©veloppeurs, sans exception, essaient d'introduire un tas de choses inutiles dans leurs produits - √† partir d'une sorte de fond dr√¥le (non d√©connectable), et se terminant par des pr√©visions m√©t√©orologiques, des nouvelles, des calendriers et autres ordures similaires.  Je suis g√©n√©ralement silencieux sur les publicit√©s qui ont d√©j√† atteint tout le monde ... Je n'avais besoin que du temps de l'horloge! <br><br>  Et la caract√©ristique universelle des programmes de montre et des widgets est l'utilisation totalement non √©conomique de la zone d'√©cran.  Les nombres sont petits partout et les marges depuis les bords de l'√©cran sont √©normes.  Mon Philips, et donc l'√©cran n'est pas le plus grand - seulement 4,3 ". <br><br>  En bref, j'ai trouv√© presque le seul programme appropri√© - Big Digital Clock 1.1.1. <br><br><div class="spoiler">  <b class="spoiler_title">Capture d'√©cran Big Digital Clock</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/i7/lw/eq/i7lweqe_tgvvqwiqqzdmjo_sk9q.png"><br></div></div><br>  Elle a le plus grand nombre.  Et pourtant, ils sont encore loin de la pleine utilisation de la zone matricielle.  Parmi les avantages du programme - la possibilit√© de tout supprimer de l'√©cran, √† l'exception du temps, la possibilit√© de choisir n'importe quelle couleur, le format 24 heures, un c√¥lon diviseur qui ne clignote pas, n'importe quelle orientation de l'√©cran et la maintenance automatique du r√©tro√©clairage qui ne s'estompe pas.  Parmi les lacunes - une police bien cousue qui imite un sept segments typique. <br><br>  Livr√© et a commenc√© √† utiliser tous les jours.  Au d√©but, tout allait bien - les chiffres semblent grands, ils sont visibles normalement, et apr√®s mes vieilles heures - g√©n√©ralement le ciel et la terre!  Mais maintenant, apr√®s environ un mois de travail continu, j'ai soudain remarqu√© que le temps <i>s'est fig√©</i> sur eux <i>et n'a pas chang√©!</i>  Quelle b√™tise!?  J'ai d√©cid√© de v√©rifier - c'est un probl√®me ou une "caract√©ristique" unique du programme. <br><br>  Red√©marr√© l'horloge, et apr√®s quelques semaines, la frise a √©t√© r√©p√©t√©e.  Le temps cesse de se mettre √† jour.  Au lieu de cela, le programme s'affaisse au hasard toutes les 7 ... 10 minutes, met √† jour l'horloge et tombe √† nouveau dans la stupeur.  Il est clair qu'une telle "fiabilit√©" ne me convenait pas. <br><br><h4>  Automators Android et leurs "puces" </h4><br>  Comme c'√©tait pratiquement le seul programme appropri√©, j'ai d√ª commencer √† lui inventer des b√©quilles.  J'ai d√©cid√© que je devais installer une sorte d'outil d'automatisation Android afin qu'il red√©marre p√©riodiquement le programme d'horloge buggy avant m√™me qu'il ait le temps de geler.  Mettez Tasker.  Il √©tait occup√©, a r√©gl√© - mais quelque chose que je n'aimais pas ... Je l'ai chang√© en Automagic.  Qui n'est pas au courant - cet outil d'automatisation utilise des scripts bas√©s sur des organigrammes visuels.  Et cette caract√©ristique de lui m'a vraiment attir√©! <br><br><div class="spoiler">  <b class="spoiler_title">Repr√©senter des sc√©narios d'automatisation Automagic</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/dl/pr/ki/dlprki-84b4sgbvlax3ao2wm9kw.jpeg"><br></div></div><br>  La fonction de red√©marrer p√©riodiquement mon programme de surveillance de buggy que j'ai impl√©ment√©e presque imm√©diatement.  Et puis il a mis Automagic sur son smartphone principal et a suspendu pendant une semaine des exp√©riences int√©ressantes avec.  En cons√©quence, j'ai fait beaucoup d'utilit√© pour la vie quotidienne sur mon t√©l√©phone. <br><br>  Mais ce n'√©tait pas l'essentiel.  Je suis tomb√© sur les propri√©t√©s Automagic sur une puce telle que les widgets personnalis√©s.  Et puis il s'est av√©r√© qu'avec son aide, vous pouvez dessiner et "faire revivre" pratiquement <i>n'importe quel widget fait maison</i> qui n'a que l'imagination et la fonctionnalit√© du programme!  Puis j'ai r√©alis√© que je pouvais dessiner moi-m√™me une telle montre, que seul mon c≈ìur d√©sire!  De plus, l'aide du programme vient de d√©crire un exemple de cr√©ation d'un widget d'horloge. <br><br>  Apr√®s quelques jours, tout √©tait pr√™t de la meilleure fa√ßon possible!  Gr√¢ce au Nova lancer, j'ai la possibilit√© d'√©tirer les widgets jusqu'aux bords de la matrice.  J'ai √©galement cach√© la barre de dock et la barre d'√©tat, lib√©rant l'√©cran de tous les √©l√©ments de l'interface.  Et voici le r√©sultat - des chiffres vraiment √©normes concernant les bords m√™mes de l'√©cran ... Enfin, heureux !!! <br><br><div class="spoiler">  <b class="spoiler_title">Enfin, les chiffres occupent toute la largeur de l'√©cran!</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/5k/xv/9s/5kxv9sdud2mssdnn7xm1iuo8k5m.jpeg"><br></div></div><br>  L'utilisation d'Automagic m'a permis de satisfaire toutes mes exigences.  Vous pouvez mettre n'importe quelle police .ttf ou .otf.  Vous pouvez dessiner et √©tirer des caract√®res dans n'importe quelle proportion pour les adapter parfaitement √† l'√©cran.  Enfin, vous ne pouvez avoir que ce dont vous avez besoin!  Je n'ai m√™me pas dessin√© de points de division dans la montre - avec un espace simple, tout est parfaitement lisible.  Dans l'application de tous les programmes externes et b√©quilles imm√©diatement inutiles. <br><br>  De plus, je n'avais m√™me plus besoin de Locus pour fixer p√©riodiquement les coordonn√©es GPS pour la synchronisation de l'heure.  Tout cela peut √™tre parfaitement r√©alis√© par n'importe quel outil d'automatisation.  Dans un sc√©nario de contr√¥le, vous pouvez impl√©menter presque tout ce dont vous avez besoin.  Par exemple, maintenir l'√©cran dans un √©tat qui ne s'estompe pas. <br><br>  En outre, des probl√®mes d'apparence se sont g√©n√©ralement pos√©s.  Et pourquoi pas, si tout cela peut √™tre facilement mis en ≈ìuvre? <br><br>  Par exemple, lorsque vous choisissez la taille et le facteur de police, vous devez partir d'un format de temps √† 4 caract√®res (XX: XX).  Mais dans la p√©riode de 0:00 √† 9:59, il n'y a que trois chiffres sur l'√©cran, ils occupent une largeur inf√©rieure √† quatre et n'utilisent donc pas pleinement la matrice.  Un peu, mais moche.  Avec Automagic, le cas est facilement r√©solu avec quelques commandes suppl√©mentaires.  Il a une fonction qui vous permet de modifier presque tous les param√®tres d'un widget personnalis√© <i>√† la vol√©e</i> .  Dans ce cas, il s'agit du facteur de la largeur (aplatissement) des caract√®res de police, que j'ai d√©fini pour changer par le d√©clenchement des intervalles de temps ci-dessus.  √áa marche! <br><br><div class="spoiler">  <b class="spoiler_title">Trois et quatre caract√®res tiennent dans la m√™me taille d'√©cran</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/9t/ns/5r/9tns5rg_kbtelwl0fixwluearic.jpeg"><br>  <i>Le facteur de largeur de police change "√† la vol√©e" avec la transition de 9:59 √† 10:00</i> <i><br></i>  <i>et retour de 23h59 √† 0h00</i> <br></div></div><br>  Au d√©but, j'avais d'abord des doutes sur le <i>moment o√π les</i> relev√©s d'horloge √©taient <i>mis √† jour</i> toutes les minutes.  J'avais peur qu'Automagic le mette √† jour non pas de mani√®re synchrone avec le changement de minutes de l'horloge syst√®me du smartphone, mais arbitrairement, introduisant ainsi une erreur al√©atoire pendant une minute.  J'ai commenc√© √† v√©rifier ... <br><br>  Dans Automagic, il existe deux fa√ßons diff√©rentes d'impl√©menter l'heure dans un widget personnalis√©.  Vous pouvez envoyer des valeurs num√©riques √† un champ de texte ordinaire d'un widget par un √©v√©nement d'action externe.  Pour chacun de ces √©v√©nements, il y a juste une option sp√©ciale ¬´√Ä heure fixe¬ª, ce qui signifie que vous devez l'envoyer exactement de mani√®re synchrone au moment o√π l'heure du syst√®me change. <br><br>  Et la deuxi√®me m√©thode est plus simple - elle n'utilise pas de scripts externes et consiste √† √©crire une fonction d'appel syst√®me du type directement dans le champ de texte souhait√© du widget <br><br><pre><code class="plaintext hljs">{getDate(),dateFormat,HH:mm}</code> </pre> <br>  Mais il n'y a pas une telle option "√† heure fixe".  Le widget est simplement coch√© ¬´Actualiser automatiquement¬ª et r√©gl√© sur ¬´Intervalle d'actualisation¬ª exactement une minute.  Et ici, mes craintes √©taient pr√©cis√©ment que cet intervalle d'auto-renouvellement du widget en une minute puisse √™tre compt√© arbitrairement par rapport √† la ¬´grille¬ª temporelle du changement de minutes de l'heure syst√®me.  J'ai fait quelques exp√©riences, mais √† ma joie, il s'est av√©r√© que tout √©tait en ordre.  Le widget s'auto-met √† jour clairement imm√©diatement, d√®s que les minutes de l'horloge syst√®me changent! <br><br>  Peu importe √† quel moment le widget a commenc√© √† fonctionner. <br><br><h4>  √âcran de luminosit√© automatique </h4><br>  La prochaine chose que je voulais faire √©tait une bonne luminosit√© automatique claire de l'√©cran.  La luminosit√© automatique int√©gr√©e sur mon ancien Philips a terriblement fonctionn√©.  Secousses, inad√©quates et avec une plage tr√®s √©troite.  Ici, je n'ai pas pris la peine de mettre l'un des nombreux programmes de luminosit√© automatique.  J'ai essay√© Lux au d√©but, mais je n'aimais pas certaines teintures non intuitives et certains profils complexes.  Chang√© en Velis, et cela s'est av√©r√© √™tre ce dont nous avons besoin.  Ce que j'ai particuli√®rement aim√© - Velis permet de tracer une v√©ritable courbe de la d√©pendance de la luminosit√© sur les lectures du luxom√®tre et montre en temps r√©el sur ce graphique comment le smartphone ajuste la luminosit√© en fonction de celui-ci.  Vous pouvez configurer n'importe quelle loi o-tr√®s douce de changement de luminosit√© et bien s√ªr n'importe quelle valeur, jusqu'√† 1%, lorsque l'√©cran est presque invisible.  C'est tr√®s pratique la nuit, quand les chiffres devraient √† peine briller. <br><br>  Pendant que je courais autour de la nouvelle montre, j'ai remarqu√© que la matrice du smartphone, m√™me avec un fond d'√©cran compl√®tement noir, brille toujours d√©cemment avec le r√©tro-√©clairage qui la traverse.  Cela est particuli√®rement visible dans l'obscurit√© totale - le rectangle de l'√©cran est clairement visible sous la forme d'un fond gris, quelque chose comme un effet de lueur.  J'ai d√©cid√© de le r√©parer avec un filtre externe.  La couleur des chiffres de l'horloge j'ai choisi le rouge, car  la couleur rouge que je vois le plus clairement de loin. <br><br>  J'ai fait le premier filtre manuellement - j'ai imprim√© un remplissage rouge uni sur une imprimante √† jet d'encre sur un film transparent et pli√© deux tirages encore bruts avec de l'encre l'un √† l'autre.  Les films adh√®rent fermement et on obtient un bon "verre" transparent de couleur rouge √©paisse.  Soit dit en passant, un tel hack de vie ne fonctionnera plus, il est ringard parce que dans mon travail, toutes les imprimantes √† jet d'encre ont √©t√© remplac√©es par des MFP laser √† la mode.  Ils impriment parfaitement sur papier, mais il est impossible d'obtenir un remplissage de couleur transparent sur le film avec leur aide - il y aura une couche mate bruyante √† travers laquelle rien n'est visible. <br><br>  Mais ici, je suis all√© en quelque sorte √† Komus pour les crayons et j'ai accidentellement vu ce genre de chose: <br><br><div class="spoiler">  <b class="spoiler_title">La photo</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/of/e8/pw/ofe8pwoxfgo5hvkmvhul5evpync.jpeg"><br></div></div><br>  Il s'agit d'un bac √† papier de bureau ordinaire, mais voyez de quoi il est fait.  Soit en plexiglas, soit en plastique transparent, mais il est de la m√™me couleur et transmission lumineuse dont j'ai besoin pour le filtre.  Je l'ai achet√©, j'ai soigneusement d√©coup√© une plaque pour l'adapter √† l'√©cran et je l'ai adapt√©.  La beaut√©! <br><br><div class="spoiler">  <b class="spoiler_title">Avec filtre rouge</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/oq/oh/dr/oqohdrcoghynsiygiugq_egez_0.jpeg"><br></div></div><br><h4>  Touche finale </h4><br>  En principe, sur ce point, la transformation d'un ancien t√©l√©phone mobile inutile en d'excellentes belles montres peut √™tre consid√©r√©e comme termin√©e. <br><br>  Certes, m√™me avant le tas, je suis devenu confus du fait que dans l'√©diteur de police, j'ai un peu chang√© la police .otf pour que les caract√®res soient comme je le souhaitais, jusque dans les moindres virages.  Une bagatelle, mais sympa!  Il √©tait √©galement n√©cessaire de rendre la police monospace, de sorte que lors du changement de caract√®res, la ligne ne se d√©place pas et ne rampe pas au-del√† des limites de l'affichage.  Utilis√© l'un des √©diteurs de polices open source, Glyphr Studio. <br><br>  Eh bien, au final, il ne reste plus qu'√† fixer toute la structure sur une √©tag√®re dans le coin de la pi√®ce.  Il y a une grande marge de cr√©ativit√©.  J'ai simplement pli√© la bande d'aluminium en forme de L et viss√© doucement le couvercle arri√®re du smartphone avec des vis.  Viss√© l'autre extr√©mit√© sur l'√©tag√®re.  Vous pouvez faire pivoter en d√©finissant n'importe quel angle de vue.  Et un peu d'aluminium pli√©-d√©pli√©, ajustant l'angle verticalement.  En fait, j'ai g√©n√©ralement tout install√©, donc je n'y touche plus. <br><br>  La batterie de secours s'est adapt√©e au coude de la bande de montage.  Ici, je l'ai fait sans un design exquis, rien ne peut √™tre vu de derri√®re.  Je n'ai pas non plus pris la peine d'utiliser des conteneurs terminaux pour la batterie, mais simplement soud√© avec soin directement sur le bo√Ætier m√©tallique 18650 dans les endroits qui ne contenaient pas le contenu interne de la batterie afin de ne pas la surchauffer avec un fer √† souder. <br><br>  Toutes les connexions sont effectu√©es par un c√¢blage ordinaire, jet√© √† travers les trous perc√©s dans la couverture arri√®re du smartphone.  Et √† l'int√©rieur, j'ai rep√©r√© directement les d√©tails et les traces de la carte du smartphone. <br><br>  Au total, deux fils externes proviennent de la conception: une alimentation 5V du chargeur secteur et un c√¢ble d'antenne GPS qui va √† la fen√™tre et est coll√© au verre avec du ruban adh√©sif. <br><br>  Depuis pr√®s d'un an maintenant, les montres me ravissent avec de grands et beaux chiffres, un fonctionnement pr√©cis et un fonctionnement fiable et ininterrompu. <br><br>  Et pour le plaisir, j'ai dessin√© un deuxi√®me widget horloge - pour l'emplacement vertical du smartphone. <br><br><div class="spoiler">  <b class="spoiler_title">Horloges horizontales et verticales √† la m√™me √©chelle</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/hr/_b/o6/hr_bo6oelso-e2dyzglvbvnf9qa.jpeg"><br></div></div><br>  J'ai commenc√© √† l'inventer parce que les nombres avec un tel agencement non conventionnel peuvent √™tre encore plus grands, c'est-√†-dire que l'utilisation utile de la zone d'√©cran s'av√®re √™tre le maximum possible.  De plus, dans ce cas, la n√©cessit√© de changer √† chaque fois le facteur de largeur des caract√®res lors du passage du format d'heure X: XX √† XX: XX et vice versa dispara√Æt, car tout se d√©roule toujours automatiquement. <br><br>  Il est vrai que presque tous ceux √† qui j'ai montr√© une telle montre verticale non standard ont dit "fuu, horizontal c'est mieux!".  Eh bien, c'est une affaire d'amateur, j'aime personnellement les deux. <br><br>  C‚Äôest tout.  Merci √† tous ceux qui ont lu! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443052/">https://habr.com/ru/post/fr443052/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443038/index.html">Si la superglue entre en contact avec les yeux</a></li>
<li><a href="../fr443040/index.html">7 principales raisons pour lesquelles les applications sont bloqu√©es sur Google Play et AppStore</a></li>
<li><a href="../fr443042/index.html">Lancement de 619 mille tetris sur GLSL, leur rendu et un simple bot</a></li>
<li><a href="../fr443046/index.html">Comment les chercheurs en s√©curit√© acc√®dent aux sites prot√©g√©s du code iOS</a></li>
<li><a href="../fr443050/index.html">L'explication la plus simple du fonctionnement actuel des algorithmes de chiffrement sym√©trique</a></li>
<li><a href="../fr443054/index.html">Une s√©lection d'utilitaires pour un programmeur sous Linux</a></li>
<li><a href="../fr443056/index.html">Un deuxi√®me patient atteint du VIH atteint une r√©mission</a></li>
<li><a href="../fr443058/index.html">Architecture √©pur√©e. Partie I - Introduction</a></li>
<li><a href="../fr443060/index.html">Est-ce que Starship atteindra Mars?</a></li>
<li><a href="../fr443062/index.html">Comment j'ai cr√©√© Recycle! VR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>