<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÜüèª üëΩ ü§ñ Ovelhas Ocultas e Arqueologia Tipogr√°fica üë©üèª‚Äçüè≠ üöõ üö£üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Descompactar fontes Raster originais do Macintosh 
 Sou um grande f√£ do fone de ouvido raster Susan Kare Chicago . Se voc√™ tem mais de 25 anos, √© fami...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ovelhas Ocultas e Arqueologia Tipogr√°fica</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415375/"><h1>  <font color="gray">Descompactar fontes Raster originais do Macintosh</font> </h1><br>  Sou um grande f√£ do fone de ouvido raster Susan Kare <i>Chicago</i> .  Se voc√™ tem mais de 25 anos, √© familiar para voc√™ como uma fonte de sistema Macintosh das d√©cadas de 1980 a 1990, e tamb√©m foi chamada para um bis das telas pequenas dos primeiros iPods.  A fama do fone de ouvido esconde um trabalho s√≥lido.  Letras pequenas raster s√£o dif√≠ceis de dar uma personalidade √∫nica e harmoniosa, mas <i>Chicago</i> faz isso: uma fonte cortada de alto contraste com um punhado de cachos principais que criam uma impress√£o amig√°vel.  √â assim: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/00f/1be/d4d/00f1bed4d2f7698549786cc1b1491107.png"><br><br>  Eu amo o controle dele u, v, w, m, n.  Recentemente, preparei um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">curso</a> muito √∫til <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre o design de fontes modernas</a> , ap√≥s o qual eu queria desmontar <i>Chicago</i> e ver se eu poderia aprender mais sobre como esse design funciona.  Essa fonte n√£o est√° em um MacBook moderno.  Pesquisei on-line, mas rapidamente percebi que em todas as cole√ß√µes de fontes gratuitas existem apenas falsifica√ß√µes. <br><a name="habracut"></a><br>  Como a fonte n√£o √© apenas seus pixels, mas tamb√©m os intervalos, eu queria ver o material original para <i>Chicago</i> .  Para fazer isso, foi necess√°ria alguma investiga√ß√£o digital arqueol√≥gica: o Macintosh original de 1984 foi o primeiro computador de massa com tipografia proporcional na tela e tinha uma maneira completamente √∫nica de armazenar e gerenciar fontes.  (Padr√µes como TrueType ainda n√£o apareceram). <br><br>  Eu tenho alguma experi√™ncia em programa√ß√£o de fontes, ent√£o pude extrair dados de fontes originais de 1984 usando o meu computador de 2018 (os detalhes t√©cnicos est√£o um pouco al√©m do escopo deste artigo, mas se voc√™ estiver interessado, eles est√£o no final do texto em uma observa√ß√£o).  Depois de obter os dados de fonte, varredura e espa√ßamento de <i>Chicago</i> , usei o mesmo pequeno programa para extrair todas as outras fontes de bitmap do Macintosh. <br><br>  Aqui est√° a tabela completa de <i>Chicago</i> em seu tamanho nativo de apenas 12 pontos: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b32/490/2e5/b324902e5463597bd17c707cf836a3e1.png"><br>  <i><font color="gray">M mai√∫sculo realmente faz isso</font></i> <br><br>  O espa√ßamento de caracteres acima √© exibido como pretendido.  Funciona bem, mas se voc√™ olhar de perto, em alguns lugares, n√£o √© perfeito.  Por exemplo, as letras mai√∫sculas H e eu estamos muito distantes.  Como os caracteres min√∫sculos iej.  Se voc√™ estivesse desenvolvendo essa fonte hoje, desejaria configurar o <i>kerning</i> (intervalo) desses pares espec√≠ficos quando eles aparecerem pr√≥ximos um do outro. <br><br>  Mas as fontes de bitmap do Mac n√£o suportam o kerning moderno para pares √∫nicos.  Em vez disso, cada s√≠mbolo de bitmap era acompanhado por uma quantidade fixa de espa√ßo √† esquerda e √† direita, al√©m de instru√ß√µes sobre onde come√ßar a desenhar o s√≠mbolo em rela√ß√£o √† localiza√ß√£o da caneta. <br><br>  Aqui est√° uma explica√ß√£o visual da especifica√ß√£o e da renderiza√ß√£o de caracteres, extra√≠da da documenta√ß√£o <i>Inside Macintosh</i> da Apple: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fb/5d9/867/2fb5d9867dcff0d78e4fcc510f88e89f.jpg"><br>  <i><font color="gray">Fonte: Inside Macintosh, Volume I (1985)</font></i> <br><br>  Havia alguma variedade nos intervalos, mas precisava ser fixada em cada s√≠mbolo.  Isso foi complicado pelo fato de as fontes de bitmap coincidirem necessariamente com os pixels na tela: voc√™ n√£o pode ter um intervalo fracion√°rio; portanto, por defini√ß√£o, o posicionamento perfeito √© imposs√≠vel. <br><br>  O que vemos √© um conservadorismo for√ßado com o kerning: vamos parecer mais ou menos normais o tempo todo do que realmente ruins em alguns casos.  Em <i>Chicago</i> , o espa√ßamento entre caracteres √© geralmente de dois pixels.  Existem algumas exce√ß√µes cautelosas: observe atentamente, por exemplo, T mai√∫sculo e r min√∫sculo. <br><br>  Aqui est√° um pequeno exemplo que mostra os pontos fortes e fracos dos intervalos de <i>Chicago</i> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4f4/f4b/d36/4f4f4bd364e3e802958abe22f00b8c61.png"><br><br>  Seria interessante recriar <i>Chicago</i> com bitmaps id√™nticos, mas adicionar kerning aos pares.  Isso pode melhorar a fonte, embora perca uma parte de sua identidade exclusiva.  Aqui est√° minha vers√£o do mesmo texto com algumas configura√ß√µes de espa√ßamento manual: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b42/d5f/5d2/b42d5f5d2fc2d74f9964297c77522586.png"><br>  <i><font color="gray">(Quero ver um intervalo de meio pixel aqui antes da morte)</font></i> <br><br><hr><br>  Existem v√°rias outras fontes de bitmap originais do Macintosh, quase todas projetadas pela Caret e com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nomes de cidades do mundo</a> .  <i>Genebra</i> √© uma fonte cortada de baixo contraste (supostamente uma refer√™ncia complicada √† <i>Helvetica</i> , mas definitivamente n√£o √© falsa).  <i>Nova York</i> √© um texto serif estrito, dispon√≠vel em v√°rios tamanhos. <br><br>  <i>Nova York</i> exemplifica a criatividade e o design bruto de uma fonte de bitmap.  Possui muitos detalhes (contraste) em tamanhos grandes que desaparecem subitamente abaixo de 18 pontos: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/089/d42/765/089d42765abed375e08827c45da47140.png"><br>  <i><font color="gray">Por que o w min√∫sculo perde sua sobreposi√ß√£o nos tamanhos 12 e 14, restaurando apenas 10?</font></i> <br><br>  (Hmm, isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√© algo que lembra</a> ). <br><br>  <i>San Francisco</i> √© o nome da fonte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">padr√£o atual</a> da Apple para marcas corporativas, bem como para a interface do usu√°rio em todas as plataformas.  Mas os usu√°rios antigos de Mac podem se lembrar da fonte original do estilo da nota de resgate com este nome: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b00/81b/be9/b0081bbe96c0ee90efb00a0bf5676f52.png"><br>  <i><font color="gray">Os residentes de longa data de S√£o Francisco tamb√©m podem ver alguma met√°fora na mesma fonte, mas isso √© outra hist√≥ria.</font></i> <br><br><hr><br>  De qualquer forma, que tipo de ovelha oculta existe, voc√™ pergunta?  Bem, a desconstru√ß√£o dos recursos originais das fontes do Mac revelou algo misterioso: em v√°rias fontes, embora n√£o em todas, h√° um s√≠mbolo secreto inesperado escondido ao lado dos comuns. <br><br>  O fato √© que, na d√©cada de 1980, n√£o havia mais de 256 caracteres dispon√≠veis.  Diferentes plataformas atribu√≠ram c√≥digos aos caracteres de maneiras ligeiramente diferentes.  O Macintosh original usava um sistema que seria chamado de Mac Roman.  Em 1984, ela ainda n√£o tinha nome, mas era assim: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c1/780/630/8c17806305649303f1aebd3b8762f1ab.jpg"><br>  <i><font color="gray">Fonte: Inside Macintosh, Volume I (1985)</font></i> <br><br>  Se voc√™ ler a tabela de cima para baixo, da esquerda para a direita, poder√° ver que ela se parece com o conjunto completo de caracteres de <i>Chicago</i> acima.  Em outras palavras, Chicago possui um s√≠mbolo de fonte para cada um dos campos ocupados no gr√°fico. <br><br>  Mas h√° duas √°reas vazias na tabela: o lado esquerdo com n√∫meros de c√≥digo baixos √© reservado por acordo para caracteres de controle n√£o imprim√≠veis e o lado direito, descrito na documenta√ß√£o da seguinte maneira: <i>"C√≥digos de $ D9 a $ FF s√£o reservados para expans√£o futura"</i> . <br><br>  Portanto, esses valores superiores (do valor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hexadecimal</a> de $ D9 ao √∫ltimo $ FF) n√£o correspondem a nenhuma tecla do teclado ou a nenhuma combina√ß√£o de caracteres internacionais ou outros.  Portanto, n√£o h√° raz√£o para que exista qualquer informa√ß√£o raster em qualquer fonte para um c√≥digo de caractere inacess√≠vel ... certo? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/46b/1e0/edc/46b1e0edc2d0f65e66c90f0c343dc5a0.png"><br>  <i><font color="gray">Zhenebeeee</font></i> <br><br>  <a href="">A vers√£o de 18 pontos de <i>Genebra</i></a> inclui todos os s√≠mbolos familiares, mas a US $ D9 h√° uma ovelha encantadora mostrada acima.  Em outros tamanhos, <i>Genebra possui</i> diferentes √≠cones pequenos neste local (coelho, personagem, √≠cone do Mac).  Se cair 9 pontos, a ovelha volta novamente, mas j√° √© pequena! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6c8/aa5/904/6c8aa5904780f71190440ddb22471b5c.png"><br>  <i><font color="gray">Ovelhas min√∫sculas em 9 pontos</font></i> <br><br>  Em <i>Chicago,</i> n√£o h√° personagem na posi√ß√£o $ D9.  No entanto, em <i>Nova York</i> , √© diferente em cada tamanho de fonte.  Algumas imagens s√£o repeti√ß√µes de √≠cones de fontes n√£o alfab√©ticas ( <i><a href="">Cairo</a></i> e <i><a href="">Taliesin</a></i> ).  Mas n√£o h√° outros, como um cordeiro e lindas pegadas de <i><a href="">Atenas</a></i> (abaixo) de <i><a href="">Atenas</a></i> - estes s√£o os elegantes ovos de p√°scoa. <br><br>  Se voc√™ souber o que procurar, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui est√£o as ferramentas do desenvolvedor</a> que podem mostrar imagens ocultas.  Mas acho que n√£o h√° como ver ou usar normalmente esses caracteres de US $ D9 em um Mac OS cl√°ssico. <br><br>  Os conjuntos completos de caracteres de muitas fontes originais do Macintosh s√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">carregados aqui</a> se voc√™ quiser ver todos os ovos de P√°scoa (ou estudar o design da grade de pixels em um formato conveniente). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9e/bed/694/c9ebed694a9652c018780f7e62e1a951.png"><br><br>  O Mac OS cl√°ssico tinha muito pouca mem√≥ria de acesso constante e aleat√≥rio, al√©m de poder de processamento.  Susan Kare, Bill Atkinson e outros fizeram muito em termos de design e tecnologia, com t√£o poucos recursos, e at√© nos deixaram esses rabiscos ocultos que os arque√≥logos digitais encontraram ap√≥s tantos anos. <br><br><hr><br>  <i><b>Nota: Metodologia</b> .</i>  <i>Usei o emulador de Mac em um MacBook Pro moderno para baixar o Sistema 7. L√° montei imagens do Sistema 1 e 2 e copiei seus arquivos de sistema e arquivos de fonte no host HFS + para economizar recursos (e dados da fonte).</i>  <i>O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pr√°tico</a> aplicativo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">rezycle</a> ajudou a dividir os dados dos recursos em arquivos bin√°rios.</i>  <i>O formato de recurso bin√°rio FONT est√° documentado em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Inside Macintosh</a> na se√ß√£o Font Manager.</i>  <i>O algoritmo b√°sico de renderiza√ß√£o de texto do QuickDraw tamb√©m √© descrito.</i>  <i>Isso acabou sendo suficiente para escrever um pequeno programa para analisar dados de fontes e renderizar texto - com uma grade de pixels adicional para mostrar melhor o design e o espa√ßamento dos caracteres.</i>  <i>Eu usei este programa para criar todos os exemplos publicados acima neste artigo.</i> <i><br><br></i>  <i>Eu baixei o c√≥digo do programa limpo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no GitHub</a> .</i>  <i>H√° uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pasta</a> cheia de caracteres renderizados.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt415375/">https://habr.com/ru/post/pt415375/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt415365/index.html">Vamos l√°! Ou um pouco sobre como projetar uma interface de selecionador de datas</a></li>
<li><a href="../pt415367/index.html">E se os alien√≠genas se tornarem m√°quinas com intelig√™ncia artificial?</a></li>
<li><a href="../pt415369/index.html">Pre√ßo de refatora√ß√£o</a></li>
<li><a href="../pt415371/index.html">Privacidade de Criptomoedas</a></li>
<li><a href="../pt415373/index.html">NumPy em Python. Parte 4</a></li>
<li><a href="../pt415377/index.html">Como o JS funciona: classes e heran√ßa, transpila√ß√£o em Babel e TypeScript</a></li>
<li><a href="../pt415381/index.html">Brinque com o Kubernetes - servi√ßo para familiarizar-se com os K8s</a></li>
<li><a href="../pt415383/index.html">O comerciante iniciante fez neg√≥cios de ‚Ç¨ 5,5 bilh√µes devido a um erro no sistema da corretora brit√¢nica</a></li>
<li><a href="../pt415385/index.html">A situa√ß√£o do DCIM: como o gerenciamento de infraestrutura de data center mudou nos √∫ltimos anos</a></li>
<li><a href="../pt415387/index.html">Todo desenvolvedor quer saber como entrar em phishing.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>