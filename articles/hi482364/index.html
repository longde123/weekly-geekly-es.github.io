<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТЛ ЁЯеЬ ЁЯЩНЁЯП╛ рдЪреАрдЬреЗрдВ рдЖрдк [рд╢рд╛рдпрдж] рдЬрд╛рд╡рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдереЗ ЁЯдг ЁЯСитАНЁЯОи ЁЯЫбя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЕрднрд┐рд╡рд╛рджрди, рдкрд╛рдардХ! 


 рдпрд╣ рд▓реЗрдЦ рдЙрддреНрдкрд╛рджрдХрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореЗрд░реА рдЪреЗрддрдирд╛ рдХреА рдзрд╛рд░рд╛ рдХреЛ рдкрддрд▓рд╛ рдХрд░реЗрдЧрд╛ред рдЖрдЗрдП рдЬрд╛рд╡рд╛ рдФрд░ рдЖрдкрдХреЗ рдЖрд╕-рдкрд╛рд╕ рдРрд╕реА рдордЬрд╝реЗрджрд╛рд░ рдЪреАрдЬрд╝реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЪреАрдЬреЗрдВ рдЖрдк [рд╢рд╛рдпрдж] рдЬрд╛рд╡рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдереЗ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482364/"><p>  рдЕрднрд┐рд╡рд╛рджрди, рдкрд╛рдардХ! </p><br><p> рдпрд╣ рд▓реЗрдЦ рдЙрддреНрдкрд╛рджрдХрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореЗрд░реА рдЪреЗрддрдирд╛ рдХреА рдзрд╛рд░рд╛ рдХреЛ рдкрддрд▓рд╛ рдХрд░реЗрдЧрд╛ред  рдЖрдЗрдП рдЬрд╛рд╡рд╛ рдФрд░ рдЖрдкрдХреЗ рдЖрд╕-рдкрд╛рд╕ рдРрд╕реА рдордЬрд╝реЗрджрд╛рд░ рдЪреАрдЬрд╝реЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЖрдк <em>рд╢рд╛рдпрдж</em> рдирд╣реАрдВ рдЬрд╛рдирддреЗред  рдореИрдВрдиреЗ рдЦреБрдж рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдЙрдкрд░реЛрдХреНрдд рдореЗрдВ рд╕реЗ рдХреБрдЫ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реАрдЦрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореЗрд░рд╛ рдорд╛рдирдирд╛ тАЛтАЛрд╣реИ рдХрд┐ рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд╛рдардХ рдХрдо рд╕реЗ рдХрдо рдЕрдкрдиреЗ рд▓рд┐рдП рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдХреНрд╖рдг рдкрд╛рдПрдВрдЧреЗред </p><a name="habracut"></a><br><h4 id="assert-mozhet-prinimat-2-argumenta">  рдореБрдЦрд░ 2 рддрд░реНрдХ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ </h4><br><p> рдЖрдорддреМрд░ рдкрд░, <code>assert</code> рдЙрдкрдпреЛрдЧ рдХреБрдЫ рд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдпрджрд┐ рд╕реНрдерд┐рддрд┐ рд╕рдВрддреБрд╖реНрдЯ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рддреЛ <code>AssertionError</code> рдлреЗрдВрдХ рджреЗрддрд╛ рд╣реИред  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░, рдЪреЗрдХ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> list.isEmpty();</code> </pre> <br><p>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдЗрд╕ рддрд░рд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> list.isEmpty() : list.toString();</code> </pre> <br><p>  рд╕реНрдорд╛рд░реНрдЯ рд░реАрдбрд░ рдиреЗ рдкрд╣рд▓реЗ рд╣реА рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд▓рд┐рдпрд╛ рд╣реИ рдХрд┐ рджреВрд╕рд░реА рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ (рд╕рдВрдпреЛрдЧрд╡рд╢, рдпрд╣ рдЖрд▓рд╕реА рд╣реИ) рдЯрд╛рдЗрдк <code>Object</code> рдХрд╛ рдорд╛рди рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ <code>AssertionError</code> рдХреЛ рдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рддреНрд░реБрдЯрд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдЬрд╛рдирдХрд╛рд░реА рджреЗрддрд╛ рд╣реИред  рдЕрдзрд┐рдХ рдФрдкрдЪрд╛рд░рд┐рдХ рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП, рднрд╛рд╖рд╛ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдХреЗ рд╕рдВрдмрдВрдзрд┐рдд рдЕрдиреБрднрд╛рдЧ рджреЗрдЦреЗрдВ: <a href="https://docs.oracle.com/javase/specs/jls/se13/html/jls-14.html" rel="nofollow">https://docs.oracle.com/javase/specs/jls/se13/html/jls-14.html#jls-14.10</a> </p><br><p>  рдЬрд╛рд╡рд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рдЧрднрдЧ рд╕рд╛рдврд╝реЗ 6 рд╡рд░реНрд╖реЛрдВ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ <code>assert</code> рдХреАрд╡рд░реНрдб рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдЙрдкрдпреЛрдЧ рджреЗрдЦрд╛ рд╣реИред </p><br><h4 id="strictfp">  strictfp </h4><br><p>  рдпрд╣ рдПрдХ рдЕрднрд┐рд╢рд╛рдк рд╢рдмреНрдж рдирд╣реАрдВ рд╣реИ - рдпрд╣ рдПрдХ рдЕрд▓реНрдкрдЬреНрдЮрд╛рдд рдЦреЛрдЬрд╢рдмреНрдж рд╣реИред  <a href="https://docs.oracle.com/javase/specs/jls/se10/html/jls-9.html" rel="nofollow">рдкреНрд░рд▓реЗрдЦрди рдХреЗ</a> рдЕрдиреБрд╕рд╛рд░, рдЗрд╕рдХреЗ рдЙрдкрдпреЛрдЧ рдореЗрдВ рдлреНрд▓реЛрдЯрд┐рдВрдЧ рдкреЙрдЗрдВрдЯ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдЦреНрдд рдЕрдВрдХрдЧрдгрд┐рдд рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NonStrict</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span></span>; }</code> </pre> <br><p>  рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">strictfp</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Strict</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span></span>; }</code> </pre> <br><p>  рд╕рд╛рде рд╣реА, рдЗрд╕ рдХреАрд╡рд░реНрдб рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЛрдВ рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Mixed</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">strictfp</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">strictSum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span></span>; }</code> </pre> <br><p>  <a href="https://en.wikipedia.org/wiki/Strictfp" rel="nofollow">рд╡рд┐рдХреА рд▓реЗрдЦ</a> рдореЗрдВ рдЗрд╕рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдкрдврд╝реЗрдВред  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ: рдкреЛрд░реНрдЯреЗрдмрд┐рд▓рд┐рдЯреА рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╛рд░ рдпрд╣ рдХреАрд╡рд░реНрдб рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛, рдЬреИрд╕рд╛ рдХрд┐  рд╡рд┐рднрд┐рдиреНрди рдкреНрд░реЛрд╕реЗрд╕рд░реЛрдВ рдкрд░ рдлреНрд▓реЛрдЯрд┐рдВрдЧ рдкреЙрдЗрдВрдЯ рдирдВрдмрд░реЛрдВ рдХреА рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреА рд╕рдЯреАрдХрддрд╛ рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддреА рд╣реИред </p><br><h4 id="continue-mozhet-prinimat-argument">  рдЬрд╛рд░реА рд░рдЦрдирд╛ рдПрдХ рддрд░реНрдХ рд▓реЗ рд╕рдХрддрд╛ рд╣реИ </h4><br><p>  рдореБрдЭреЗ рдкрд┐рдЫрд▓реЗ рд╣рдлреНрддреЗ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рдЪрд▓рд╛ред  рдЖрдорддреМрд░ рдкрд░ рд╣рдо рдЗрд╕ рддрд░рд╣ рд▓рд┐рдЦрддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Item item : items) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; } use(item); }</code> </pre> <br><p>  рдЗрд╕ рддрд░рд╣ рдХреЗ рдЙрдкрдпреЛрдЧ рдХрд╛ рдЕрд░реНрде рд╣реИ рдЪрдХреНрд░ рдХреА рд╢реБрд░реБрдЖрдд рдФрд░ рдЕрдЧрд▓реЗ рдкрд╛рд╕ рдХреА рд╡рд╛рдкрд╕реАред  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдЙрдкрд░реЛрдХреНрдд рдХреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs">loop: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Item item : items) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (item == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> loop; } use(item); }</code> </pre> <br><p>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЖрдк рдЪрдХреНрд░ рд╕реЗ рдмрд╛рд╣реНрдп рдЪрдХреНрд░ рдкрд░ рд▓реМрдЯ рд╕рдХрддреЗ рд╣реИрдВ, рдпрджрд┐ рдХреЛрдИ рд╣реЛ: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ outer: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">20</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = <span class="hljs-number"><span class="hljs-number">10</span></span>; j &lt; <span class="hljs-number"><span class="hljs-number">15</span></span>; j++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (j == <span class="hljs-number"><span class="hljs-number">13</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> outer; } } } }</code> </pre> <br><p>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ <code>outer</code> рдмрд┐рдВрджреБ рдкрд░ рд▓реМрдЯрдиреЗ рдкрд░ рдХрд╛рдЙрдВрдЯрд░ рд░реАрд╕реЗрдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд▓реВрдк рдкрд░рд┐рдорд┐рдд рд╣реЛрддрд╛ рд╣реИред </p><br><h4 id="pri-vyzove-vararg-metoda-bez-argumentov-vsyo-ravno-sozdayotsya-pustoy-massiv">  рдЬрдм рдХреЛрдИ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рд╡рд╛рд░реНрдЧ рд╡рд┐рдзрд┐ рдХреЛ рдмреБрд▓рд╛рддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рдЦрд╛рд▓реА рд╕рд░рдгреА рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ </h4><br><p>  рдЬрдм рд╣рдо рдмрд╛рд╣рд░ рд╕реЗ рдРрд╕реА рд╡рд┐рдзрд┐ рдХреА рдХреЙрд▓ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЪрд┐рдВрддрд╛ рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдмрд╛рдд рдирд╣реАрдВ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">invokeVararg</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vararg(); }</code> </pre> <br><p>  рд╣рдо рдЗрд╕ рдкрджреНрдзрддрд┐ рдореЗрдВ рдХреБрдЫ рднреА рдирд╣реАрдВ рдХрд░ рдкрд╛рдП, рдХреНрдпрд╛ рд╣рдордиреЗ?  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдЕрдВрджрд░ рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рд░рд╕реАрд▓рд╛ рдирд╣реАрдВ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Object[] vararg(Object... args) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> args; }</code> </pre> <br><p>  рдЕрдиреБрднрд╡ рдЪрд┐рдВрддрд╛рдУрдВ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">Benchmark Mode Cnt Score Error Units invokeVararg avgt 20 3,715 ┬▒ 0,092 ns/op invokeVararg:┬╖gc.alloc.rate.norm avgt 20 16,000 ┬▒ 0,001 B/op invokeVararg:┬╖gc.count avgt 20 257,000 counts</code> </pre> <br><p>  рдЖрдк <code>null</code> рд╣реЛрдХрд░ рдЕрдирд╛рд╡рд╢реНрдпрдХ рддрд░реНрдХ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Benchmark</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">invokeVarargWithNull</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> vararg(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); }</code> </pre> <br><p>  рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдХрд░реНрддрд╛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмреЗрд╣рддрд░ рдорд╣рд╕реВрд╕ рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">invokeVarargWithNull avgt 20 2,415 ┬▒ 0,067 ns/op invokeVarargWithNull:┬╖gc.alloc.rate.norm avgt 20 тЙИ 10тБ╗тБ╡ B/op invokeVarargWithNull:┬╖gc.count avgt 20 тЙИ 0 counts</code> </pre> <br><p>  <code>null</code> рд╕рд╛рде рдХреЛрдб рдмрд╣реБрдд рдмрджрд╕реВрд░рдд рд▓рдЧрддрд╛ рд╣реИ, рд╕рдВрдХрд▓рдХ (рдФрд░ рдЖрдЗрдбрд┐рдпрд╛) рд╢рдкрде рд▓реЗрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЧрд░реНрдо рдХреЛрдб рдореЗрдВ рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдФрд░ рдЯрд┐рдкреНрдкрдгреА рдХреЗ рд╕рд╛рде рдкреНрд░рджрд╛рди рдХрд░реЗрдВред </p><br><h4 id="vyrazhenie-switch-case-ne-podderzhivaet-javalangclass">  рд╕реНрд╡рд┐рдЪ-рдХреЗрд╕ рдПрдХреНрд╕рдкреНрд░реЗрд╢рди java.lang.Class рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ </h4><br><p>  рдпрд╣ рдХреЛрдб рдЕрднреА рд╕рдВрдХрд▓рд┐рдд рдирд╣реАрдВ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">to</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt; clazz)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (clazz) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> String.class: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"str"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Integer.class: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"int"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"obj"</span></span>; } }</code> </pre> <br><p>  рдЗрд╕рд╕реЗ рдирд┐рдкрдЯреЛред </p><br><h4 id="tonkosti-prisvaivaniya-i-classisassignablefrom">  рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдФрд░ Class.isAssignableFrom () рдХреА рд╕реВрдХреНрд╖реНрдорддрд╛рдПрдВ </h4><br><p>  рдПрдХ рдХреЛрдб рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a = <span class="hljs-number"><span class="hljs-number">0</span></span>; Integer b = <span class="hljs-number"><span class="hljs-number">10</span></span>; a = b; <span class="hljs-comment"><span class="hljs-comment">//   </span></span></code> </pre> <br><p>  рдЕрдм рд╕реЛрдЪреЗрдВ рдХрд┐ рдпрд╣ рд╡рд┐рдзрд┐ рдХрд┐рд╕ рдореВрд▓реНрдп рдкрд░ рд▓реМрдЯреЗрдЧреА: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">check</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>.class.isAssignableFrom(b.getClass()); }</code> </pre> <br><p>  <code>Class.isAssignableFrom()</code> рд╡рд┐рдзрд┐ рдХрд╛ рдирд╛рдо рдкрдврд╝рдиреЗ рдХреЗ рдмрд╛рдж, <code>Class.isAssignableFrom()</code> рдЧрд▓рдд <em>рдзрд╛рд░рдгрд╛</em> рджреЗрддрд╛ рд╣реИ рдХрд┐ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ <code>int.class.isAssignableFrom(b.getClass())</code> <code>true</code> рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рдПрдЧреАред  рд╣рдо рдкреНрд░рдХрд╛рд░ рдХреЗ рдПрдХ рдЪрд░ рдХреЛ <code>int</code> рдкреНрд░рдХрд╛рд░ рдХреЗ рдПрдХ рдЪрд░ рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпрд╛ рд╣рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ? </p><br><p>  рд╣рд╛рд▓рд╛рдБрдХрд┐, <code>check()</code> рд╡рд┐рдзрд┐ <code>false</code> рдЖрдПрдЧреА, рдХреНрдпреЛрдВрдХрд┐ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдХрд╣рд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Determines if the class or interface represented by this * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> Class} object is either the same as, or is a superclass or * superinterface of, the class or interface represented by the specified * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> Class} parameter. It returns {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> true} if so; * otherwise it returns {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> false}. If this {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> Class} // &lt;---- !!! * object represents a primitive type, this method returns * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> true} if the specified {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> Class} parameter is * exactly this {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> Class} object; otherwise it returns * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@code</span></span></span><span class="hljs-comment"> false}. * */</span></span> <span class="hljs-meta"><span class="hljs-meta">@HotSpotIntrinsicCandidate</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">native</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isAssignableFrom</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Class&lt;?&gt; cls)</span></span></span></span>;</code> </pre> <br><p>  рд╣рд╛рд▓рд╛рдВрдХрд┐ <code>int</code> <code>Integer</code> (рдФрд░ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд) рдХрд╛ рдЙрддреНрддрд░рд╛рдзрд┐рдХрд╛рд░реА рдирд╣реАрдВ рд╣реИ, рд╕рдВрднрд╛рд╡рд┐рдд рдЖрдкрд╕реА рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рднрд╛рд╖рд╛ рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ, рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЧреБрдорд░рд╛рд╣ рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдЖрд░рдХреНрд╖рдг рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдиреИрддрд┐рдХ: рдЬрдм рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ - <del>  рдмрдкрддрд┐рд╕реНрдорд╛ рд▓реЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </del>  рдкреНрд░рд▓реЗрдЦрди рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрдврд╝рдиреЗ рдХреА рдЬрд░реВрд░рдд рд╣реИред </p><br><p>  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рд╕реЗ рдПрдХ рдФрд░ рддрдереНрдпрд╣реАрди рддрдереНрдп рд╕рд╛рдордиреЗ рдЖрдпрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>.class != Integer.class;</code> </pre> <br><p>  <code>int.class</code> рдХреНрд▓рд╛рд╕ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ <code>Integer.TYPE</code> , рдФрд░ рдЗрд╕реЗ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рдпрд╣ рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рдХреЛрдб рдХреНрдпрд╛ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛: </p><br><pre> <code class="java hljs">Class&lt;?&gt; toClass() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>.class; }</code> </pre> <br><p>  Vzhuh: </p><br><pre> <code class="java hljs">toClass()Ljava/lang/Class; L0 LINENUMBER <span class="hljs-number"><span class="hljs-number">11</span></span> L0 GETSTATIC java/lang/Integer.TYPE : Ljava/lang/Class; ARETURN</code> </pre> <br><p>  Java.lang.Integer рдХреЗ рд▓рд┐рдП рд╕реНрд░реЛрдд рдХреЛрдб рдЦреЛрд▓рдирд╛ <code>java.lang.Integer</code> рд╣рдо рдЗрд╕реЗ рджреЗрдЦреЗрдВрдЧреЗ: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@SuppressWarnings</span></span>(<span class="hljs-string"><span class="hljs-string">"unchecked"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Class&lt;Integer&gt; TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass(<span class="hljs-string"><span class="hljs-string">"int"</span></span>);</code> </pre> <br><p>  <code>Class.getPrimitiveClass("int")</code> рдкрд░ рдХреЙрд▓ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП <code>Class.getPrimitiveClass("int")</code> рдЗрд╕реЗ рдХрд╛рдЯрдиреЗ рдФрд░ рдЗрд╕реЗ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реБрднрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@SuppressWarnings</span></span>(<span class="hljs-string"><span class="hljs-string">"unchecked"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Class&lt;Integer&gt; TYPE = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>.class;</code> </pre> <br><p>  рд╕рдмрд╕реЗ рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕реА рддрд░рд╣ рдХреЗ рдмрджрд▓рд╛рд╡ (рд╕рднреА рдкреНрд░рд╛рдЗрдореЗрдЯреАрдЬрд╝ рдХреЗ рд▓рд┐рдП) рдХреЗ рд╕рд╛рде JDK рдЗрдХрдЯреНрдард╛ рд╣реЛрдЧрд╛, рдФрд░ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╢реБрд░реВ рд╣реЛрдЧреАред  рд╕рдЪ рд╣реИ, рд╡рд╣ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧреА: </p><br><pre> <code class="plaintext hljs">java.lang.IllegalArgumentException: Component type is null at jdk.internal.misc.Unsafe.allocateUninitializedArray(java.base/Unsafe.java:1379) at java.lang.StringConcatHelper.newArray(java.base/StringConcatHelper.java:458) at java.lang.StringConcatHelper.simpleConcat(java.base/StringConcatHelper.java:423) at java.lang.String.concat(java.base/String.java:1968) at jdk.internal.util.SystemProps.fillI18nProps(java.base/SystemProps.java:165) at jdk.internal.util.SystemProps.initProperties(java.base/SystemProps.java:103) at java.lang.System.initPhase1(java.base/System.java:2002)</code> </pre> <br><p>  рддреНрд░реБрдЯрд┐ рдпрд╣рд╛рдБ рдХреНрд░реЙрд▓ рдХрд░рддреА рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lang</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StringConcatHelper</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@ForceInline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] newArray(<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> indexCoder) { <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> coder = (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>)(indexCoder &gt;&gt; <span class="hljs-number"><span class="hljs-number">32</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> index = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)indexCoder; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[]) UNSAFE.allocateUninitializedArray(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>.class, index &lt;&lt; coder); <span class="hljs-comment"><span class="hljs-comment">//&lt;-- } }</span></span></code> </pre> <br><p>  рдЙрд▓реНрд▓рд┐рдЦрд┐рдд рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рд╕рд╛рде, <code>byte.class</code> рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рддреЛрдбрд╝ рджреЗрддрд╛ рд╣реИред </p><br><h4 id="spring-data-jpa-pozvolyaet-obyavit-chastichno-rabotosposobnyy-repozitoriy">  рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдЬреЗрдкреАрдП рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рднрдВрдбрд╛рд░ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддрд╛ рд╣реИ </h4><br><p>  рдореИрдВ рдПрдХ рдЙрддреНрд╕реБрдХ рдЧрд▓рддреА рдХреЗ рд╕рд╛рде рд▓реЗрдЦ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддрд╛ рд╣реВрдВ рдЬреЛ рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯ рдФрд░ рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдХреЗ рдЬрдВрдХреНрд╢рди рдкрд░ рдЙрддреНрдкрдиреНрди рд╣реБрдЖ рдерд╛ред  рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рд╣рдо рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЗрдХрд╛рдИ рдХреА рд╕реЗрд╡рд╛ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдПрдХ рднрдВрдбрд╛рд░ рдХреА рдШреЛрд╖рдгрд╛ рдХреИрд╕реЗ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer id; <span class="hljs-meta"><span class="hljs-meta">@Column</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JpaRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleEntity</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ }</code> </pre> <br><p>  рдЕрдиреБрднрд╡реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рд╕рдВрджрд░реНрдн рдЙрдард╛рддреЗ рд╕рдордп, рд╕реНрдкреНрд░рд┐рдВрдЧ рджрд┐рдирд╛рдВрдХ рд╕рднреА рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреА рд╣реИ рдФрд░ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╕рдордп рддреБрд░рдВрдд рдкреВрд░реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдирд╖реНрдЯ рдХрд░ рджреЗрддреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдХреНрд╡реЗрд░реА рд╡рдХреНрд░: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JpaRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleEntity</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Query</span></span>(<span class="hljs-string"><span class="hljs-string">", ,  ?"</span></span>) <span class="hljs-function"><span class="hljs-function">Optional&lt;SimpleEntity&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findLesserOfTwoEvils</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> <br><p>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдХреБрдЫ рднреА рд╣рдореЗрдВ рдПрдХ рдореБрдЦреНрдп рдХреБрдВрдЬреА рдкреНрд░рдХрд╛рд░ рдХреЗ рд╕рд╛рде рднрдВрдбрд╛рд░ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рдиреЗ рд╕реЗ рдирд╣реАрдВ рд░реЛрдХрддрд╛ рд╣реИ: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JpaRepository</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleEntity</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Long</span></span></span><span class="hljs-class">&gt; </span></span>{ }</code> </pre> <br><p>  рдпрд╣ рднрдВрдбрд╛рд░ рди рдХреЗрд╡рд▓ рдмрдврд╝реЗрдЧрд╛, рдмрд▓реНрдХрд┐ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдкрд░рд┐рдЪрд╛рд▓рди рднреА рд╣реЛрдЧрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>findAll()</code> рд╡рд┐рдзрд┐ "рдзрдорд╛рдХреЗ рдХреЗ рд╕рд╛рде" рдХрд╛рдо <code>findAll()</code> ред  рд▓реЗрдХрд┐рди рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдПрдХ рддреНрд░реБрдЯрд┐ рдХреЗ рд╕рд╛рде рд╡рд┐рдлрд▓ рд╣реЛрдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИ: </p><br><pre> <code class="plaintext hljs">IllegalArgumentException: Provided id of the wrong type for class SimpleEntity. Expected: class java.lang.Integer, got class java.lang.Long</code> </pre> <br><p>  рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╕реНрдкреНрд░рд┐рдВрдЧ рджрд┐рдирд╛рдВрдХ рдЗрдХрд╛рдИ рдХреБрдВрдЬреА рдФрд░ рдЙрд╕рд╕реЗ рдЬреБрдбрд╝реА рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреА рдХреБрдВрдЬреА рдХреА рдХрдХреНрд╖рд╛рдУрдВ рдХреА <a href="https://jira.spring.io/browse/DATACMNS-757" rel="nofollow">рддреБрд▓рдирд╛ рдирд╣реАрдВ рдХрд░рддрд╛</a> рд╣реИред  рдпрд╣ рдПрдХ рдЕрдЪреНрдЫреЗ рдЬреАрд╡рди рд╕реЗ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╕рд╣реА рдХреБрдВрдЬреА рдкреНрд░рдХрд╛рд░ рдЬрд╛рд░реА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рд╛рдЗрдмрд░рдиреЗрдЯ рдХреА рдЕрдХреНрд╖рдорддрд╛ рдХреЗ рдХрд╛рд░рдг: <a href="https://hibernate.atlassian.net/browse/HHH-10690" rel="nofollow">https://hibernate.atlassian.net/browse/HHH-10690</a> </p><br><p>  рдореЗрд░реЗ рдЬреАрд╡рди рдореЗрдВ рдореБрдЭреЗ рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ рдорд┐рд▓рд╛: рд╕реНрдкреНрд░рд┐рдВрдЧ рдбреЗрдЯреНрд╕ рдХреЗ рдкрд░реАрдХреНрд╖рдгреЛрдВ (рдЯреНрд░реЙрд▓реА) рдореЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>org.springframework.data.jpa.repository.query.PartTreeJpaQueryIntegrationTests$UserRepository</code> <code>Long</code> рдореЗрдВ рдЯрд╛рдЗрдк рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ <code>Integer</code> , рдФрд░ <code>User</code> рдЗрдХрд╛рдИ рдореЗрдВ <code>Integer</code> рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдФрд░ рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ! </p><br><p>  рдпрд╣ рд╕рдм, рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдореЗрд░реА рд╕рдореАрдХреНрд╖рд╛ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдереАред </p><br><p>  рдореИрдВ рдЖрдкрдХреЛ рдирдП рд╕рд╛рд▓ рдХреА рдмрдзрд╛рдИ рджреЗрддрд╛ рд╣реВрдВ рдФрд░ рдЖрдкрдХреЛ рдЧрд╣рд░реА рдФрд░ рд╡реНрдпрд╛рдкрдХ рдЦреБрджрд╛рдИ рдХрд░рдиреЗ рдХреА рдХрд╛рдордирд╛ рдХрд░рддрд╛ рд╣реВрдВ! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi482364/">https://habr.com/ru/post/hi482364/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi482354/index.html">рдХреЙрдиреНрдлрд╝рд┐рдЧрд░рд╡рд┐рд╣рд┐рдд: рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди</a></li>
<li><a href="../hi482356/index.html">рдПрдХ рдирд┐рдпрдорд┐рдд рд╡рд┐рдВрдбреЛрдЬ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдПрдХреНрд╕рдкреНрд▓реЛрд░рд░ рдХреЗ рдмрд┐рдирд╛ рд╡рд┐рдВрдбреЛрдЬ рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
<li><a href="../hi482358/index.html">рд░рд╕реНрдЯ рдореЗрдВ рдШрдмрд░рд╛рд╣рдЯ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi482360/index.html">рд╣рд╛рдмрд░рд╛ рдЬрд╛рд╕реВрд╕: рд╡реЗ рдпреВрдПрдлрдУ рдХреЗ рд╕рд╛рде рджреЛрд╕реНрдд рд╣реИрдВ</a></li>
<li><a href="../hi482362/index.html">рд▓рдЧрднрдЧ рдЕрд░рд╛рдЬрдХрддрд╛: рдлрд╝рд┐рдбреЛрдиреЗрдЯ рдХрд╛ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЗрддрд┐рд╣рд╛рд╕, рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЬреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЬреАрддрдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд░рд╡рд╛рд╣ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ</a></li>
<li><a href="../hi482370/index.html">рдиреЛрдбрдЬ: рдкреНрд░реЛрд╕реЗрд╕ рдореИрдиреЗрдЬрд░ рдФрд░ рдИрдПрд╕ 6 рдореЙрдбреНрдпреВрд▓</a></li>
<li><a href="../hi482372/index.html">рд╣рд╛рдЗрдкрд░- V рдореЗрдВ рдЖрд░реНрдХ рд▓рд┐рдирдХреНрд╕ рдореЗрд╣рдорд╛рди рдХреЗ рд▓рд┐рдП рдПрдиреНрд╣рд╛рдВрд╕реНрдб рд╕рддреНрд░ рдореЛрдб рд╕рдХреНрд╖рдо рдХрд░реЗрдВ</a></li>
<li><a href="../hi482374/index.html">рдЗрдХрд╛рдИ рдШрдЯрдХ рдкреНрд░рдгрд╛рд▓реА рдЯреЗрдореНрдкрд▓реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ LibGDX рдкрд░ рдЧреЗрдо рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдирд╛</a></li>
<li><a href="../hi482378/index.html">Wacom рдХрд╛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЗрддрд┐рд╣рд╛рд╕: рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдкрд╛рдардХреЛрдВ рдХреЗ рд▓рд┐рдП рдЧреНрд░рд╛рдлрд┐рдХ рдЯреИрдмрд▓реЗрдЯ рддрдХрдиреАрдХ рдХреИрд╕реЗ рдЖрдИ</a></li>
<li><a href="../hi482382/index.html">рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЪрд╛рд░ рд╕рд┐рджреНрдзрд╛рдВрдд рдпрд╛ рдорд╢реАрди рдЯреНрд░рд╛рдВрд╕рд▓реЗрдЯрд░ рдореЗрдВ рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ рдХрд┐рд╕ рддрд░рд╣ рд╕реЗ рдирд╣реАрдВ рджреЗрдЧрд╛?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>