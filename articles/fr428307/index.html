<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿‍🤝‍🧑🏾 ✌🏻 🔟 Java Challengers # 1: surcharge de méthode dans la machine virtuelle Java 🌟 ⛹🏿 👩🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Java Challengers # 1: surcharge de méthode dans la machine virtuelle Java 


 Bonne journée à tous. 


 Nous avons déjà lancé le prochain volet du cou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java Challengers # 1: surcharge de méthode dans la machine virtuelle Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/428307/"><h1 id="java-challengers-1-peregruzka-metodov-v-jvm">  Java Challengers # 1: surcharge de méthode dans la machine virtuelle Java </h1><br><p>  <em>Bonne journée à tous.</em> </p><br><p>  <em>Nous avons déjà lancé le prochain volet du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Développeur Java"</a> , mais nous avons encore quelques documents que nous aimerions partager avec vous.</em> </p><br><p>  Bienvenue dans la série d'articles <strong>Java Challengers</strong> !  Cette série d'articles se concentre sur les fonctionnalités de programmation Java.  Leur développement est votre moyen de devenir un programmeur Java hautement qualifié. </p><br><p>  La maîtrise des techniques abordées dans cette série d'articles demande un certain effort, mais elles contribueront grandement à votre expérience quotidienne en tant que développeur java.  Il est plus facile d'éviter les erreurs lorsque vous savez comment appliquer correctement les techniques de programmation Java de base et le suivi des erreurs est beaucoup plus facile lorsque vous savez exactement ce qui se passe dans votre code java. </p><br><p>  Êtes-vous prêt à commencer à maîtriser les concepts de base de la programmation en Java?  Commençons ensuite par notre premier puzzle! </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d05/921/30f/d0592130f3fa2d0bc7652db206c4ffef.png" alt="élargissement-boxe-varargs"></p><a name="habracut"></a><br><blockquote>  <strong>Le terme «surcharge de méthode»</strong> <br><br>  À propos du terme <em>surcharge, les</em> développeurs sont enclins à penser qu'il s'agit de redémarrer le système, mais ce n'est pas le cas.  En programmation, la <em>surcharge de méthode</em> signifie utiliser le même nom de méthode avec des paramètres différents. </blockquote><br><h2 id="chto-takoe-peregruzka-metodov">  Qu'est-ce que la surcharge de méthode? </h2><br><p>  <em>La surcharge de méthodes</em> est une technique de programmation qui permet à un développeur de la même classe d'utiliser le même nom pour des méthodes avec des paramètres différents.  Dans ce cas, nous disons que la méthode est surchargée. </p><br><p> Le listing 1 montre des méthodes avec différents paramètres qui varient en nombre, type et ordre. </p><br><p>  Liste 1. Trois options pour les méthodes de surcharge. </p><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   public class Calculator { void calculate(int number1, int number2) { } void calculate(int number1, int number2, int number3) { } } //   public class Calculator { void calculate(int number1, int number2) { } void calculate(double number1, double number2) { } } //   public class Calculator { void calculate(double number1, int number2) { } void calculate(int number1, double number2) { } }</span></span></code> </pre> <br><h2 id="peregruzka-metodov-i-primitivnye-tipy">  Surcharge de méthode et types primitifs </h2><br><p>  Dans le listing 1, vous avez vu les types primitifs <code>int</code> et <code>double</code> .  Écartons-nous une minute et rappelons les types primitifs en Java. </p><br><p>  Tableau 1. Types primitifs en Java </p><br><table><thead><tr><th>  Tapez </th><th>  Gamme </th><th>  Valeur par défaut </th><th>  La taille </th><th>  Exemples littéraux </th></tr></thead><tbody><tr><td>  booléen </td><td>  vrai ou faux </td><td>  faux </td><td>  1 bit </td><td>  vrai faux </td></tr><tr><td>  octet </td><td>  -128 ... 127 </td><td>  0 </td><td>  8 bits </td><td>  1, -90, -128 </td></tr><tr><td>  char </td><td>  Caractère Unicode ou 0 à 65 536 </td><td>  \ u0000 </td><td>  16 bits </td><td>  'a', '\ u0031', '\ 201', '\ n', 4 </td></tr><tr><td>  court </td><td>  -32 768 ... 32 767 </td><td>  0 </td><td>  16 bits </td><td>  1, 3, 720, 22 000 </td></tr><tr><td>  int </td><td>  -2 147 483 648 ... 2 147 483 647 </td><td>  0 </td><td>  32 bits </td><td>  -2, -1, 0, 1, 9 </td></tr><tr><td>  longue </td><td>  -9.223.372.036.854.775.808 à 9.223.372.036.854.775.807 </td><td>  0 </td><td>  64 bits </td><td>  -4000L, -900L, 10L, 700L </td></tr><tr><td>  flotter </td><td>  3,40282347 x 1038, 1,40239846 x 10-45 </td><td>  0,0 </td><td>  32 bits </td><td>  1,67e200f, -1,57e-207f, .9f, 10,4F </td></tr><tr><td>  double </td><td>  1,7976931348623157 x 10308, 4,9406564584124654 x 10-324 </td><td>  0,0 </td><td>  64 bits </td><td>  1.e700d, -123457e, 37e1d </td></tr></tbody></table><br><h2 id="zachem-mne-ispolzovat-peregruzku-metodov">  Pourquoi devrais-je utiliser la surcharge de méthode? </h2><br><p>  L'utilisation de la surcharge rend votre code plus propre et plus facile à lire, et permet également d'éviter les erreurs dans le programme. </p><br><p>  Contrairement à la liste 1, imaginez un programme où vous aurez de nombreuses méthodes <code>calculate()</code> avec des noms similaires à <code>calculate1</code> , <code>calculate2</code> , <code>calculate3</code> ... pas bon, non?  La surcharge de la méthode <code>calculate()</code> vous permet d'utiliser le même nom et de modifier uniquement les paramètres nécessaires.  Il est également très facile de trouver des méthodes surchargées, car elles sont regroupées en code. </p><br><h3 id="chem-peregruzka-ne-yavlyaetsya">  Quelle surcharge n'est pas </h3><br><p>  N'oubliez pas que la modification d'un nom de variable n'est pas une surcharge.  Le code suivant ne compile pas: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber)</span></span></span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thirdNumber)</span></span></span></span>{} }</code> </pre> <br><p>  Vous ne pouvez pas non plus surcharger la méthode en modifiant la valeur de retour dans la signature de la méthode.  Ce code ne compile pas non plus: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span>;} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;} }</code> </pre> <br><h3 id="peregruzka-konstruktora">  Surcharge du constructeur </h3><br><p>  Vous pouvez surcharger le constructeur de la même manière que la méthode: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number1; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number2; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number2 = number2; } }</code> </pre> <br><h2 id="reshite-zadachku-po-peregruzke-metodov">  Résoudre le problème de surcharge de méthode </h2><br><p>  Êtes-vous prêt pour le premier test?  Voyons! </p><br><p>  Commencez par examiner attentivement le code suivant. </p><br><p>  Listing 2. Le défi de la surcharge de méthode </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdvancedOverloadingChallenge3</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String x = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... doYourBest)</span></span></span><span class="hljs-function"> </span></span>{ executeAction(<span class="hljs-number"><span class="hljs-number">1</span></span>); executeAction(<span class="hljs-number"><span class="hljs-number">1.0</span></span>); executeAction(Double.valueOf(<span class="hljs-string"><span class="hljs-string">"5"</span></span>)); executeAction(<span class="hljs-number"><span class="hljs-number">1L</span></span>); System.out.println(x); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ... </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"a"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"b"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"c"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"d"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"e"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"f"</span></span>; } }</code> </pre> <br><p>  Bon.  Vous avez étudié le code.  Quelle sera la conclusion? </p><br><ol><li>  bégayer </li><li>  bfce </li><li>  efce </li><li>  aecf </li></ol><br><p>  La bonne réponse est donnée à la fin de l'article. </p><br><h2 id="chto-seychas-proizoshlo-kak-jvm-kompiliruet-peregruzhennye-metody">  Que s'est-il passé maintenant?  Comment la JVM compile des méthodes surchargées </h2><br><p>  Afin de comprendre ce qui s'est passé dans le Listing 2, vous devez savoir quelques éléments sur la façon dont la JVM compile les méthodes surchargées. </p><br><p>  Tout d'abord, la JVM est raisonnablement paresseuse: elle fera toujours le moindre effort pour exécuter une méthode.  Ainsi, lorsque vous pensez à la façon dont la JVM gère la surcharge, gardez à l'esprit trois caractéristiques importantes du compilateur: </p><br><ol><li>  Élargissement </li><li>  Emballage (autoboxing et unboxing) </li><li>  Arguments à longueur variable (varargs) </li></ol><br><p>  Si vous n'avez jamais rencontré ces techniques, quelques exemples devraient vous aider à les comprendre.  Notez que la JVM les exécute dans l'ordre dans lequel ils sont répertoriés. </p><br><p>  Voici un exemple d'extension: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> primitiveDoubleNumber = primitiveIntNumber ;</code> </pre> <br><p>  Il s'agit de l'ordre d'extension des types primitifs: </p><br><p><img src="https://habrastorage.org/webt/ya/f3/fw/yaf3fw8adorzs9iz1ywad4oriri.jpeg" alt="Ordre d'extension des types primitifs"></p><br><p>  ( <em>Note du traducteur - Dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JLS, l'</a> extension des primitives est décrite avec de grandes variations, par exemple, long peut être étendu en float ou double.</em> ) </p><br><p>  Exemple d'emballage automatique: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Integer wrapperIntegerNumber = primitiveIntNumber;</code> </pre> <br><p>  Remarquez ce qui se passe dans les coulisses lors de la compilation du code: </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = Integer.valueOf(primitiveIntNumber);</code> </pre> <br><p>  Voici un exemple de déballage: </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber= wrapperIntegerNumber;</code> </pre> <br><p>  Voici ce qui se passe dans les coulisses lors de la compilation de ce code: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = wrapperIntegerNumber.intValue();</code> </pre> <br><p>  Et voici un exemple de méthode avec des arguments de longueur variable.  Notez que les méthodes de longueur variable sont toujours les dernières à s'exécuter. </p><br><pre> <code class="java hljs">execute(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>... numbers){}</code> </pre> <br><h3 id="chto-takoe-argumenty-peremennoy-dliny">  Quels sont les arguments de longueur variable? </h3><br><p>  Les arguments de longueur variable ne sont qu'un tableau de valeurs données par trois points (...).  Nous pouvons passer autant de nombres <code>int</code> à cette méthode. </p><br><p>  Par exemple: </p><br><pre> <code class="java hljs">execute(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">88</span></span>...); <span class="hljs-comment"><span class="hljs-comment">//  ...</span></span></code> </pre> <br><p>  Les arguments de longueur variable (varargs) sont très pratiques dans la mesure où les valeurs peuvent être transmises directement à une méthode.  Si nous utilisions des tableaux, nous devions créer une instance de tableau avec des valeurs. </p><br><h3 id="rasshirenie-prakticheskiy-primer">  Extension: étude de cas </h3><br><p>  Lorsque nous transmettons le numéro 1 directement à la méthode <code>executeAction()</code> , la JVM l'interprète automatiquement comme un <code>int</code> .  C'est pourquoi ce numéro ne sera pas transmis à la <code>executeAction(short var)</code> . </p><br><p>  De même, si nous passons le nombre <code>1.0</code> JVM reconnaîtra automatiquement qu'elle est double. </p><br><p>  Bien sûr, le nombre <code>1.0</code> peut également être un <code>float</code> , mais le type de tels littéraux est prédéfini.  Par conséquent, dans le Listing 2, la <code>executeAction(double var)</code> est <code>executeAction(double var)</code> . </p><br><p>  Lorsque nous utilisons le <code>Double</code> wrapper, il y a deux options: soit le nombre peut être décompressé dans un type primitif, soit il peut être développé en <code>Object</code> .  (N'oubliez pas que chaque classe en Java étend la classe <code>Object</code> .) Dans ce cas, la JVM choisit une extension de type <code>Double</code> in <code>Object</code> , car elle nécessite moins d'efforts que le déballage. </p><br><p>  Le dernier que nous passons est <code>1L</code> et puisque nous avons spécifié le type, il est <code>long</code> . </p><br><h2 id="rasprostranennye-oshibki-s-peregruzkoy">  Erreurs de surcharge courantes </h2><br><p>  À présent, vous avez probablement compris que les choses peuvent être source de confusion avec la surcharge de méthodes, alors examinons quelques problèmes que vous êtes susceptible de rencontrer. </p><br><h3 id="avtoupakovka-s-obyortkami-autoboxing-with-wrappers">  Autoboxing avec wrappers </h3><br><p>  Java est un langage de programmation fortement typé et lorsque nous utilisons le wrapping automatique avec des wrappers, nous devons prendre en compte quelques éléments.  Premièrement, le code suivant ne compile pas: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Double wrapperNumber = primitiveIntNumber;</code> </pre> <br><p>  L'autopacking ne fonctionnera qu'avec le type <code>double</code> car lorsque vous compilerez le code, il sera équivalent à ceci: </p><br><pre> <code class="java hljs">Double number = Double.valueOf(primitiveIntNumber);</code> </pre> <br><p>  Ce code sera compilé.  Le premier <code>int</code> sera développé pour <code>double</code> puis compressé dans <code>Double</code> .  Mais avec l'empaquetage automatique, il n'y a pas d'extension de type et le constructeur <code>Double.valueof</code> attend un <code>double</code> , pas un <code>int</code> .  Dans ce cas, l'empaquetage automatique fonctionnera si nous effectuons une conversion de type explicite, par exemple: </p><br><pre> <code class="java hljs">Double wrapperNumber = (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>) primitiveIntNumber;</code> </pre> <br><p>  N'oubliez pas que l' <code>Integer</code> ne peut pas être <code>Long</code> et <code>Float</code> et ne peut pas être <code>Double</code> .  Il n'y a pas d'héritage.  Chacun de ces types ( <code>Integer</code> , <code>Long</code> , <code>Float</code> et <code>Double</code> ) est un <code>Number</code> et un <code>Object</code> . </p><br><p>  En cas de doute, n'oubliez pas que les numéros de wrapper peuvent être étendus en <code>Number</code> ou en <code>Object</code> .  (Il y a beaucoup plus à dire sur les emballages, mais laissons cela pour un autre article.) </p><br><h3 id="literaly-chisel-v-kode">  Littéraux de code </h3><br><p>  Lorsque nous ne spécifions pas le type d'un nombre littéral, la JVM calculera le type pour nous.  Si nous utilisons directement le numéro <code>1</code> dans le code, la JVM le créera en tant <code>int</code> .  Si nous essayons de passer <code>1</code> directement à une méthode qui accepte <code>short</code> , il ne sera pas compilé. </p><br><p>  Par exemple: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   char, short, byte,  JVM    int calculate(1); } void calculate(short number) {} }</span></span></code> </pre> <br><p>  La même règle s'applique lorsque le numéro <code>1.0</code> .  Bien qu'il puisse s'agir d'un <code>float</code> , la JVM le considérera comme un <code>double</code> . </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   float,  JVM    double calculate(1.0); } void calculate(float number) {} }</span></span></code> </pre> <br><p>  Une autre erreur courante est l'hypothèse que <code>Double</code> ou tout autre wrapper est préférable pour une méthode qui obtient le <code>double</code> . </p><br><p>  Le fait est que la machine virtuelle Java prend moins d'efforts pour étendre le wrapper <code>Double</code> dans un <code>Object</code> au lieu de le décompresser dans un type <code>double</code> primitif. </p><br><p>  Pour résumer, lorsqu'il est utilisé directement dans le code java, <code>1</code> sera <code>int</code> et <code>1.0</code> sera <code>double</code> .  L'extension est le moyen le plus simple à exécuter, puis il y a l'empaquetage ou le déballage et la dernière opération sera toujours des méthodes de longueur variable. </p><br><p>  Comme un fait curieux.  Savez-vous que le type <code>char</code> accepte les nombres? </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> anyChar = <span class="hljs-number"><span class="hljs-number">127</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,  ,   </span></span></code> </pre> <br><h2 id="chto-neobhodimo-pomnit-o-peregruzke">  Ce que vous devez vous rappeler de la surcharge </h2><br><p>  La surcharge est une technique très puissante pour les cas où vous avez besoin du même nom de méthode avec des paramètres différents.  Il s'agit d'une technique utile car l'utilisation des bons noms facilite la lecture du code.  Au lieu de dupliquer le nom de la méthode et d'ajouter de l'encombrement à votre code, vous pouvez simplement le surcharger. </p><br><p>  Cela maintient le code propre et facile à lire, et réduit également le risque que les méthodes en double cassent une partie du système. </p><br><p>  Ce qu'il faut garder à l'esprit: lors de la surcharge de la méthode, la machine virtuelle Java fera le moins d'efforts possible. </p><br><p>  Voici l'ordre du chemin d'exécution le plus paresseux: </p><br><ul><li>  Le premier s'élargit. </li><li>  La seconde est la boxe </li><li>  Troisièmement, des arguments de longueur variable (varargs) </li></ul><br><p>  Points à considérer: des situations difficiles surviennent lors de la déclaration directe de nombres: <code>1</code> sera <code>int</code> et <code>1.0</code> sera <code>double</code> . </p><br><p>  Souvenez-vous également que vous pouvez déclarer ces types explicitement en utilisant la syntaxe <code>1F</code> ou <code>1f</code> pour <code>float</code> et <code>1D</code> ou <code>1d</code> pour <code>double</code> . </p><br><p>  Ceci conclut le rôle de la JVM dans la surcharge de méthode.  Il est important de comprendre que la JVM est intrinsèquement paresseuse et suivra toujours le chemin le plus paresseux. </p><br><h3 id="otvet">  La réponse </h3><br><p>  La réponse à la liste 2 est l'option 3. efce. </p><br><h3 id="podrobnee-o-peregruzke-metodov-v-java">  En savoir plus sur la surcharge de méthodes en Java </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Java 101: Classes et objets en Java</a> </li></ul><br><p>  Une introduction aux classes et aux objets pour les débutants absolus, y compris de petites sections sur les méthodes et la surcharge de méthodes. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Java 101: fonctionnalités élémentaires du langage Java</a> </li></ul><br><p>  Découvrez pourquoi il est important que Java soit un langage fortement typé et découvrez les types primitifs Java. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trop de paramètres dans les méthodes Java, partie 4</a> </li></ul><br><p>  Découvrez les limites et les inconvénients de la surcharge de méthodes, ainsi que la façon de les résoudre à l'aide de types personnalisés et d'objets de paramètres. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428307/">https://habr.com/ru/post/fr428307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428295/index.html">Comment fabriquer une lampe de poche solaire de vos propres mains (partie 1)</a></li>
<li><a href="../fr428299/index.html">Messagers vs réseaux sociaux vs ... - Suite</a></li>
<li><a href="../fr428301/index.html">Kaspersky Start Russia: concours de projets d'avenir</a></li>
<li><a href="../fr428303/index.html">Un jour dans la vie d'un ingénieur système</a></li>
<li><a href="../fr428305/index.html">Étudiez-vous l'anglais? Des bandes dessinées à la rescousse</a></li>
<li><a href="../fr428311/index.html">TrustZone: OS de confiance et ses applications</a></li>
<li><a href="../fr428313/index.html">Telegram sur MacOS [vraisemblablement] stocke également localement la correspondance sous une forme accessible</a></li>
<li><a href="../fr428315/index.html">5 peurs des développeurs que nous avons surmontées</a></li>
<li><a href="../fr428317/index.html">React hooks - gagner ou perdre?</a></li>
<li><a href="../fr428321/index.html">Analyse prédictive des données - modélisation et validation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>