<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚Äçüßëüèæ ‚úåüèª üîü Java Challengers # 1: surcharge de m√©thode dans la machine virtuelle Java üåü ‚õπüèø üë©üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Java Challengers # 1: surcharge de m√©thode dans la machine virtuelle Java 


 Bonne journ√©e √† tous. 


 Nous avons d√©j√† lanc√© le prochain volet du cou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Java Challengers # 1: surcharge de m√©thode dans la machine virtuelle Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/428307/"><h1 id="java-challengers-1-peregruzka-metodov-v-jvm">  Java Challengers # 1: surcharge de m√©thode dans la machine virtuelle Java </h1><br><p>  <em>Bonne journ√©e √† tous.</em> </p><br><p>  <em>Nous avons d√©j√† lanc√© le prochain volet du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"D√©veloppeur Java"</a> , mais nous avons encore quelques documents que nous aimerions partager avec vous.</em> </p><br><p>  Bienvenue dans la s√©rie d'articles <strong>Java Challengers</strong> !  Cette s√©rie d'articles se concentre sur les fonctionnalit√©s de programmation Java.  Leur d√©veloppement est votre moyen de devenir un programmeur Java hautement qualifi√©. </p><br><p>  La ma√Ætrise des techniques abord√©es dans cette s√©rie d'articles demande un certain effort, mais elles contribueront grandement √† votre exp√©rience quotidienne en tant que d√©veloppeur java.  Il est plus facile d'√©viter les erreurs lorsque vous savez comment appliquer correctement les techniques de programmation Java de base et le suivi des erreurs est beaucoup plus facile lorsque vous savez exactement ce qui se passe dans votre code java. </p><br><p>  √ätes-vous pr√™t √† commencer √† ma√Ætriser les concepts de base de la programmation en Java?  Commen√ßons ensuite par notre premier puzzle! </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d05/921/30f/d0592130f3fa2d0bc7652db206c4ffef.png" alt="√©largissement-boxe-varargs"></p><a name="habracut"></a><br><blockquote>  <strong>Le terme ¬´surcharge de m√©thode¬ª</strong> <br><br>  √Ä propos du terme <em>surcharge, les</em> d√©veloppeurs sont enclins √† penser qu'il s'agit de red√©marrer le syst√®me, mais ce n'est pas le cas.  En programmation, la <em>surcharge de m√©thode</em> signifie utiliser le m√™me nom de m√©thode avec des param√®tres diff√©rents. </blockquote><br><h2 id="chto-takoe-peregruzka-metodov">  Qu'est-ce que la surcharge de m√©thode? </h2><br><p>  <em>La surcharge de m√©thodes</em> est une technique de programmation qui permet √† un d√©veloppeur de la m√™me classe d'utiliser le m√™me nom pour des m√©thodes avec des param√®tres diff√©rents.  Dans ce cas, nous disons que la m√©thode est surcharg√©e. </p><br><p> Le listing 1 montre des m√©thodes avec diff√©rents param√®tres qui varient en nombre, type et ordre. </p><br><p>  Liste 1. Trois options pour les m√©thodes de surcharge. </p><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//   public class Calculator { void calculate(int number1, int number2) { } void calculate(int number1, int number2, int number3) { } } //   public class Calculator { void calculate(int number1, int number2) { } void calculate(double number1, double number2) { } } //   public class Calculator { void calculate(double number1, int number2) { } void calculate(int number1, double number2) { } }</span></span></code> </pre> <br><h2 id="peregruzka-metodov-i-primitivnye-tipy">  Surcharge de m√©thode et types primitifs </h2><br><p>  Dans le listing 1, vous avez vu les types primitifs <code>int</code> et <code>double</code> .  √âcartons-nous une minute et rappelons les types primitifs en Java. </p><br><p>  Tableau 1. Types primitifs en Java </p><br><table><thead><tr><th>  Tapez </th><th>  Gamme </th><th>  Valeur par d√©faut </th><th>  La taille </th><th>  Exemples litt√©raux </th></tr></thead><tbody><tr><td>  bool√©en </td><td>  vrai ou faux </td><td>  faux </td><td>  1 bit </td><td>  vrai faux </td></tr><tr><td>  octet </td><td>  -128 ... 127 </td><td>  0 </td><td>  8 bits </td><td>  1, -90, -128 </td></tr><tr><td>  char </td><td>  Caract√®re Unicode ou 0 √† 65 536 </td><td>  \ u0000 </td><td>  16 bits </td><td>  'a', '\ u0031', '\ 201', '\ n', 4 </td></tr><tr><td>  court </td><td>  -32 768 ... 32 767 </td><td>  0 </td><td>  16 bits </td><td>  1, 3, 720, 22 000 </td></tr><tr><td>  int </td><td>  -2 147 483 648 ... 2 147 483 647 </td><td>  0 </td><td>  32 bits </td><td>  -2, -1, 0, 1, 9 </td></tr><tr><td>  longue </td><td>  -9.223.372.036.854.775.808 √† 9.223.372.036.854.775.807 </td><td>  0 </td><td>  64 bits </td><td>  -4000L, -900L, 10L, 700L </td></tr><tr><td>  flotter </td><td>  3,40282347 x 1038, 1,40239846 x 10-45 </td><td>  0,0 </td><td>  32 bits </td><td>  1,67e200f, -1,57e-207f, .9f, 10,4F </td></tr><tr><td>  double </td><td>  1,7976931348623157 x 10308, 4,9406564584124654 x 10-324 </td><td>  0,0 </td><td>  64 bits </td><td>  1.e700d, -123457e, 37e1d </td></tr></tbody></table><br><h2 id="zachem-mne-ispolzovat-peregruzku-metodov">  Pourquoi devrais-je utiliser la surcharge de m√©thode? </h2><br><p>  L'utilisation de la surcharge rend votre code plus propre et plus facile √† lire, et permet √©galement d'√©viter les erreurs dans le programme. </p><br><p>  Contrairement √† la liste 1, imaginez un programme o√π vous aurez de nombreuses m√©thodes <code>calculate()</code> avec des noms similaires √† <code>calculate1</code> , <code>calculate2</code> , <code>calculate3</code> ... pas bon, non?  La surcharge de la m√©thode <code>calculate()</code> vous permet d'utiliser le m√™me nom et de modifier uniquement les param√®tres n√©cessaires.  Il est √©galement tr√®s facile de trouver des m√©thodes surcharg√©es, car elles sont regroup√©es en code. </p><br><h3 id="chem-peregruzka-ne-yavlyaetsya">  Quelle surcharge n'est pas </h3><br><p>  N'oubliez pas que la modification d'un nom de variable n'est pas une surcharge.  Le code suivant ne compile pas: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber)</span></span></span></span>{} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondNumber, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> thirdNumber)</span></span></span></span>{} }</code> </pre> <br><p>  Vous ne pouvez pas non plus surcharger la m√©thode en modifiant la valeur de retour dans la signature de la m√©thode.  Ce code ne compile pas non plus: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span>;} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span></span>{<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;} }</code> </pre> <br><h3 id="peregruzka-konstruktora">  Surcharge du constructeur </h3><br><p>  Vous pouvez surcharger le constructeur de la m√™me mani√®re que la m√©thode: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number1; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> number2; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Calculator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> number2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number1 = number1; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.number2 = number2; } }</code> </pre> <br><h2 id="reshite-zadachku-po-peregruzke-metodov">  R√©soudre le probl√®me de surcharge de m√©thode </h2><br><p>  √ätes-vous pr√™t pour le premier test?  Voyons! </p><br><p>  Commencez par examiner attentivement le code suivant. </p><br><p>  Listing 2. Le d√©fi de la surcharge de m√©thode </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AdvancedOverloadingChallenge3</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String x = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... doYourBest)</span></span></span><span class="hljs-function"> </span></span>{ executeAction(<span class="hljs-number"><span class="hljs-number">1</span></span>); executeAction(<span class="hljs-number"><span class="hljs-number">1.0</span></span>); executeAction(Double.valueOf(<span class="hljs-string"><span class="hljs-string">"5"</span></span>)); executeAction(<span class="hljs-number"><span class="hljs-number">1L</span></span>); System.out.println(x); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ... </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"a"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"b"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"c"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">short</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"d"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"e"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">executeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{x += <span class="hljs-string"><span class="hljs-string">"f"</span></span>; } }</code> </pre> <br><p>  Bon.  Vous avez √©tudi√© le code.  Quelle sera la conclusion? </p><br><ol><li>  b√©gayer </li><li>  bfce </li><li>  efce </li><li>  aecf </li></ol><br><p>  La bonne r√©ponse est donn√©e √† la fin de l'article. </p><br><h2 id="chto-seychas-proizoshlo-kak-jvm-kompiliruet-peregruzhennye-metody">  Que s'est-il pass√© maintenant?  Comment la JVM compile des m√©thodes surcharg√©es </h2><br><p>  Afin de comprendre ce qui s'est pass√© dans le Listing 2, vous devez savoir quelques √©l√©ments sur la fa√ßon dont la JVM compile les m√©thodes surcharg√©es. </p><br><p>  Tout d'abord, la JVM est raisonnablement paresseuse: elle fera toujours le moindre effort pour ex√©cuter une m√©thode.  Ainsi, lorsque vous pensez √† la fa√ßon dont la JVM g√®re la surcharge, gardez √† l'esprit trois caract√©ristiques importantes du compilateur: </p><br><ol><li>  √âlargissement </li><li>  Emballage (autoboxing et unboxing) </li><li>  Arguments √† longueur variable (varargs) </li></ol><br><p>  Si vous n'avez jamais rencontr√© ces techniques, quelques exemples devraient vous aider √† les comprendre.  Notez que la JVM les ex√©cute dans l'ordre dans lequel ils sont r√©pertori√©s. </p><br><p>  Voici un exemple d'extension: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> primitiveDoubleNumber = primitiveIntNumber ;</code> </pre> <br><p>  Il s'agit de l'ordre d'extension des types primitifs: </p><br><p><img src="https://habrastorage.org/webt/ya/f3/fw/yaf3fw8adorzs9iz1ywad4oriri.jpeg" alt="Ordre d'extension des types primitifs"></p><br><p>  ( <em>Note du traducteur - Dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JLS, l'</a> extension des primitives est d√©crite avec de grandes variations, par exemple, long peut √™tre √©tendu en float ou double.</em> ) </p><br><p>  Exemple d'emballage automatique: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Integer wrapperIntegerNumber = primitiveIntNumber;</code> </pre> <br><p>  Remarquez ce qui se passe dans les coulisses lors de la compilation du code: </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = Integer.valueOf(primitiveIntNumber);</code> </pre> <br><p>  Voici un exemple de d√©ballage: </p><br><pre> <code class="java hljs">Integer wrapperIntegerNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber= wrapperIntegerNumber;</code> </pre> <br><p>  Voici ce qui se passe dans les coulisses lors de la compilation de ce code: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = wrapperIntegerNumber.intValue();</code> </pre> <br><p>  Et voici un exemple de m√©thode avec des arguments de longueur variable.  Notez que les m√©thodes de longueur variable sont toujours les derni√®res √† s'ex√©cuter. </p><br><pre> <code class="java hljs">execute(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>... numbers){}</code> </pre> <br><h3 id="chto-takoe-argumenty-peremennoy-dliny">  Quels sont les arguments de longueur variable? </h3><br><p>  Les arguments de longueur variable ne sont qu'un tableau de valeurs donn√©es par trois points (...).  Nous pouvons passer autant de nombres <code>int</code> √† cette m√©thode. </p><br><p>  Par exemple: </p><br><pre> <code class="java hljs">execute(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">88</span></span>...); <span class="hljs-comment"><span class="hljs-comment">//  ...</span></span></code> </pre> <br><p>  Les arguments de longueur variable (varargs) sont tr√®s pratiques dans la mesure o√π les valeurs peuvent √™tre transmises directement √† une m√©thode.  Si nous utilisions des tableaux, nous devions cr√©er une instance de tableau avec des valeurs. </p><br><h3 id="rasshirenie-prakticheskiy-primer">  Extension: √©tude de cas </h3><br><p>  Lorsque nous transmettons le num√©ro 1 directement √† la m√©thode <code>executeAction()</code> , la JVM l'interpr√®te automatiquement comme un <code>int</code> .  C'est pourquoi ce num√©ro ne sera pas transmis √† la <code>executeAction(short var)</code> . </p><br><p>  De m√™me, si nous passons le nombre <code>1.0</code> JVM reconna√Ætra automatiquement qu'elle est double. </p><br><p>  Bien s√ªr, le nombre <code>1.0</code> peut √©galement √™tre un <code>float</code> , mais le type de tels litt√©raux est pr√©d√©fini.  Par cons√©quent, dans le Listing 2, la <code>executeAction(double var)</code> est <code>executeAction(double var)</code> . </p><br><p>  Lorsque nous utilisons le <code>Double</code> wrapper, il y a deux options: soit le nombre peut √™tre d√©compress√© dans un type primitif, soit il peut √™tre d√©velopp√© en <code>Object</code> .  (N'oubliez pas que chaque classe en Java √©tend la classe <code>Object</code> .) Dans ce cas, la JVM choisit une extension de type <code>Double</code> in <code>Object</code> , car elle n√©cessite moins d'efforts que le d√©ballage. </p><br><p>  Le dernier que nous passons est <code>1L</code> et puisque nous avons sp√©cifi√© le type, il est <code>long</code> . </p><br><h2 id="rasprostranennye-oshibki-s-peregruzkoy">  Erreurs de surcharge courantes </h2><br><p>  √Ä pr√©sent, vous avez probablement compris que les choses peuvent √™tre source de confusion avec la surcharge de m√©thodes, alors examinons quelques probl√®mes que vous √™tes susceptible de rencontrer. </p><br><h3 id="avtoupakovka-s-obyortkami-autoboxing-with-wrappers">  Autoboxing avec wrappers </h3><br><p>  Java est un langage de programmation fortement typ√© et lorsque nous utilisons le wrapping automatique avec des wrappers, nous devons prendre en compte quelques √©l√©ments.  Premi√®rement, le code suivant ne compile pas: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> primitiveIntNumber = <span class="hljs-number"><span class="hljs-number">7</span></span>; Double wrapperNumber = primitiveIntNumber;</code> </pre> <br><p>  L'autopacking ne fonctionnera qu'avec le type <code>double</code> car lorsque vous compilerez le code, il sera √©quivalent √† ceci: </p><br><pre> <code class="java hljs">Double number = Double.valueOf(primitiveIntNumber);</code> </pre> <br><p>  Ce code sera compil√©.  Le premier <code>int</code> sera d√©velopp√© pour <code>double</code> puis compress√© dans <code>Double</code> .  Mais avec l'empaquetage automatique, il n'y a pas d'extension de type et le constructeur <code>Double.valueof</code> attend un <code>double</code> , pas un <code>int</code> .  Dans ce cas, l'empaquetage automatique fonctionnera si nous effectuons une conversion de type explicite, par exemple: </p><br><pre> <code class="java hljs">Double wrapperNumber = (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>) primitiveIntNumber;</code> </pre> <br><p>  N'oubliez pas que l' <code>Integer</code> ne peut pas √™tre <code>Long</code> et <code>Float</code> et ne peut pas √™tre <code>Double</code> .  Il n'y a pas d'h√©ritage.  Chacun de ces types ( <code>Integer</code> , <code>Long</code> , <code>Float</code> et <code>Double</code> ) est un <code>Number</code> et un <code>Object</code> . </p><br><p>  En cas de doute, n'oubliez pas que les num√©ros de wrapper peuvent √™tre √©tendus en <code>Number</code> ou en <code>Object</code> .  (Il y a beaucoup plus √† dire sur les emballages, mais laissons cela pour un autre article.) </p><br><h3 id="literaly-chisel-v-kode">  Litt√©raux de code </h3><br><p>  Lorsque nous ne sp√©cifions pas le type d'un nombre litt√©ral, la JVM calculera le type pour nous.  Si nous utilisons directement le num√©ro <code>1</code> dans le code, la JVM le cr√©era en tant <code>int</code> .  Si nous essayons de passer <code>1</code> directement √† une m√©thode qui accepte <code>short</code> , il ne sera pas compil√©. </p><br><p>  Par exemple: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   char, short, byte,  JVM    int calculate(1); } void calculate(short number) {} }</span></span></code> </pre> <br><p>  La m√™me r√®gle s'applique lorsque le num√©ro <code>1.0</code> .  Bien qu'il puisse s'agir d'un <code>float</code> , la JVM le consid√©rera comme un <code>double</code> . </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Calculator</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String... args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      // ,   float,  JVM    double calculate(1.0); } void calculate(float number) {} }</span></span></code> </pre> <br><p>  Une autre erreur courante est l'hypoth√®se que <code>Double</code> ou tout autre wrapper est pr√©f√©rable pour une m√©thode qui obtient le <code>double</code> . </p><br><p>  Le fait est que la machine virtuelle Java prend moins d'efforts pour √©tendre le wrapper <code>Double</code> dans un <code>Object</code> au lieu de le d√©compresser dans un type <code>double</code> primitif. </p><br><p>  Pour r√©sumer, lorsqu'il est utilis√© directement dans le code java, <code>1</code> sera <code>int</code> et <code>1.0</code> sera <code>double</code> .  L'extension est le moyen le plus simple √† ex√©cuter, puis il y a l'empaquetage ou le d√©ballage et la derni√®re op√©ration sera toujours des m√©thodes de longueur variable. </p><br><p>  Comme un fait curieux.  Savez-vous que le type <code>char</code> accepte les nombres? </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> anyChar = <span class="hljs-number"><span class="hljs-number">127</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,  ,   </span></span></code> </pre> <br><h2 id="chto-neobhodimo-pomnit-o-peregruzke">  Ce que vous devez vous rappeler de la surcharge </h2><br><p>  La surcharge est une technique tr√®s puissante pour les cas o√π vous avez besoin du m√™me nom de m√©thode avec des param√®tres diff√©rents.  Il s'agit d'une technique utile car l'utilisation des bons noms facilite la lecture du code.  Au lieu de dupliquer le nom de la m√©thode et d'ajouter de l'encombrement √† votre code, vous pouvez simplement le surcharger. </p><br><p>  Cela maintient le code propre et facile √† lire, et r√©duit √©galement le risque que les m√©thodes en double cassent une partie du syst√®me. </p><br><p>  Ce qu'il faut garder √† l'esprit: lors de la surcharge de la m√©thode, la machine virtuelle Java fera le moins d'efforts possible. </p><br><p>  Voici l'ordre du chemin d'ex√©cution le plus paresseux: </p><br><ul><li>  Le premier s'√©largit. </li><li>  La seconde est la boxe </li><li>  Troisi√®mement, des arguments de longueur variable (varargs) </li></ul><br><p>  Points √† consid√©rer: des situations difficiles surviennent lors de la d√©claration directe de nombres: <code>1</code> sera <code>int</code> et <code>1.0</code> sera <code>double</code> . </p><br><p>  Souvenez-vous √©galement que vous pouvez d√©clarer ces types explicitement en utilisant la syntaxe <code>1F</code> ou <code>1f</code> pour <code>float</code> et <code>1D</code> ou <code>1d</code> pour <code>double</code> . </p><br><p>  Ceci conclut le r√¥le de la JVM dans la surcharge de m√©thode.  Il est important de comprendre que la JVM est intrins√®quement paresseuse et suivra toujours le chemin le plus paresseux. </p><br><h3 id="otvet">  La r√©ponse </h3><br><p>  La r√©ponse √† la liste 2 est l'option 3. efce. </p><br><h3 id="podrobnee-o-peregruzke-metodov-v-java">  En savoir plus sur la surcharge de m√©thodes en Java </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Java 101: Classes et objets en Java</a> </li></ul><br><p>  Une introduction aux classes et aux objets pour les d√©butants absolus, y compris de petites sections sur les m√©thodes et la surcharge de m√©thodes. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Java 101: fonctionnalit√©s √©l√©mentaires du langage Java</a> </li></ul><br><p>  D√©couvrez pourquoi il est important que Java soit un langage fortement typ√© et d√©couvrez les types primitifs Java. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Trop de param√®tres dans les m√©thodes Java, partie 4</a> </li></ul><br><p>  D√©couvrez les limites et les inconv√©nients de la surcharge de m√©thodes, ainsi que la fa√ßon de les r√©soudre √† l'aide de types personnalis√©s et d'objets de param√®tres. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428307/">https://habr.com/ru/post/fr428307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428295/index.html">Comment fabriquer une lampe de poche solaire de vos propres mains (partie 1)</a></li>
<li><a href="../fr428299/index.html">Messagers vs r√©seaux sociaux vs ... - Suite</a></li>
<li><a href="../fr428301/index.html">Kaspersky Start Russia: concours de projets d'avenir</a></li>
<li><a href="../fr428303/index.html">Un jour dans la vie d'un ing√©nieur syst√®me</a></li>
<li><a href="../fr428305/index.html">√âtudiez-vous l'anglais? Des bandes dessin√©es √† la rescousse</a></li>
<li><a href="../fr428311/index.html">TrustZone: OS de confiance et ses applications</a></li>
<li><a href="../fr428313/index.html">Telegram sur MacOS [vraisemblablement] stocke √©galement localement la correspondance sous une forme accessible</a></li>
<li><a href="../fr428315/index.html">5 peurs des d√©veloppeurs que nous avons surmont√©es</a></li>
<li><a href="../fr428317/index.html">React hooks - gagner ou perdre?</a></li>
<li><a href="../fr428321/index.html">Analyse pr√©dictive des donn√©es - mod√©lisation et validation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>