<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùì ü§±üèº üëéüèΩ Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 37. STP: selecci√≥n de puente ra√≠z, caracter√≠sticas de protecci√≥n PortFast y BPDU. Parte 2 üïõ üí™üèº üíí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Supongamos que STP est√° en un estado de convergencia. ¬øQu√© sucede si tomo el cable y conecto el interruptor H directamente al interruptor ra√≠z A? Root...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 37. STP: selecci√≥n de puente ra√≠z, caracter√≠sticas de protecci√≥n PortFast y BPDU. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466425/"> Supongamos que STP est√° en un estado de convergencia.  ¬øQu√© sucede si tomo el cable y conecto el interruptor H directamente al interruptor ra√≠z A?  Root Bridge "ve" que tiene un nuevo puerto habilitado y env√≠a una BPDU sobre √©l. <br><br><img src="https://habrastorage.org/webt/gb/xf/nx/gbxfnxwkx_0wqivijpl1vcbxxic.jpeg"><br><br>  El conmutador H, despu√©s de recibir esta trama con costo cero, determinar√° el costo de la ruta a trav√©s del nuevo puerto como 0 + 19 = 19, mientras que el costo de su puerto ra√≠z es 76. Despu√©s de eso, el puerto del conmutador H, que anteriormente estaba desactivado, pasar√° por todas las etapas de transici√≥n y cambia al modo de transferencia despu√©s de solo 50 segundos.  Si hay otros dispositivos conectados a este conmutador, todos perder√°n la conexi√≥n con el conmutador ra√≠z y con la red en su conjunto durante 50 segundos. <a name="habracut"></a><br><br>  El conmutador G se comporta de la misma manera, recibe una trama BPDU con una notificaci√≥n de precio 19 del conmutador H. Cambia el valor de su puerto asignado a 19 + 19 = 38 y lo reasigna como un nuevo puerto ra√≠z, porque el valor de su antiguo puerto ra√≠z es 57, que m√°s de 38. Al mismo tiempo, todas las etapas de reasignaci√≥n de puertos que duran 50 segundos comienzan de nuevo y, en √∫ltima instancia, toda la red colapsa. <br><br><img src="https://habrastorage.org/webt/7i/zg/pd/7izgpd1gse7cxs-ex8tutsnbice.jpeg"><br><br>  Ahora veamos qu√© suceder√° en una situaci√≥n similar al usar RSTP.  El conmutador ra√≠z tambi√©n enviar√° BPDU al conmutador H conectado a √©l, pero inmediatamente despu√©s bloquear√° su puerto.  Despu√©s de recibir esta trama, el conmutador N determinar√° que esta ruta tiene un costo menor que su puerto ra√≠z y la bloquear√° de inmediato.  Despu√©s de eso, N enviar√° la Propuesta de conmutador ra√≠z con una solicitud para abrir un nuevo puerto, ya que su costo es menor que el costo del puerto ra√≠z existente.  Despu√©s de que el conmutador ra√≠z acepte la solicitud, desbloquea su puerto y env√≠a el Acuerdo al conmutador H, despu√©s de lo cual este √∫ltimo convertir√° el nuevo puerto en su puerto ra√≠z. <br><br><img src="https://habrastorage.org/webt/x_/ep/dr/x_epdroynd-6-f1qlhdls_lfing.jpeg"><br><br>  Adem√°s, gracias al mecanismo de Propuesta / Acuerdo, la reasignaci√≥n del puerto ra√≠z ocurrir√° casi instant√°neamente, y todos los dispositivos conectados al conmutador H no perder√°n la conexi√≥n con la red. <br>  Al asignar un nuevo puerto ra√≠z, el conmutador H convertir√° el puerto ra√≠z antiguo en un puerto alternativo.  Lo mismo suceder√° con el conmutador G: intercambiar√° mensajes de propuesta / acuerdo con el conmutador H, asignar√° un nuevo puerto ra√≠z y bloquear√° los otros puertos.  Luego, el proceso continuar√° en el pr√≥ximo segmento de red con el interruptor F. <br><br><img src="https://habrastorage.org/webt/le/dc/mi/ledcmit2scjkqd15ymdhwe_pusw.jpeg"><br><br>  El conmutador F, despu√©s de analizar los costos, ver√° que la ruta al conmutador ra√≠z a trav√©s del puerto inferior costar√° 57, mientras que la ruta existente a trav√©s del puerto superior cuesta 38, y deja todo como est√°.  Al enterarse de esto, el conmutador G bloquear√° el puerto frente a F y reenviar√° el tr√°fico al conmutador ra√≠z a lo largo de la nueva ruta GHA. <br><br>  Hasta que el conmutador F reciba una Propuesta / Acuerdo del conmutador G, mantendr√° su puerto inferior bloqueado para evitar bucles.  Por lo tanto, puede ver que RSTP es un protocolo muy r√°pido que no crea los problemas t√≠picos de STP en la red. <br>  Ahora pasemos a revisar los equipos.  Debe ingresar al modo de configuraci√≥n global del conmutador y seleccionar el modo PVST o RPVST utilizando el comando spanning-tree mode &lt;pvst / rpvst&gt;.  Luego debe decidir c√≥mo cambiar la prioridad de una VLAN en particular.  Para hacer esto, use el comando spanning-tree vlan &lt;n√∫mero de VLAN&gt; prioridad &lt;valor&gt;.  Desde el √∫ltimo video tutorial, debe recordar que la prioridad es un m√∫ltiplo de 4096, y por defecto este n√∫mero es 32768 m√°s el n√∫mero de VLAN.  Si selecciona VLAN1, la prioridad predeterminada ser√° 32768 + 1 = 32769. <br><br><img src="https://habrastorage.org/webt/ds/dg/xv/dsdgxvuxv7_csffcqnmtdpfbmea.jpeg"><br><br>  ¬øPor qu√© podr√≠a necesitar cambiar la prioridad de las redes?  Sabemos que un BID consta de un valor de prioridad num√©rico y una direcci√≥n MAC.  La direcci√≥n MAC del dispositivo no se puede cambiar, tiene un valor constante, por lo que solo puede cambiar el valor de prioridad. <br><br>  Suponga que hay una red grande donde todos los dispositivos Cisco est√°n conectados en un patr√≥n circular.  En este caso, PVST est√° activado por defecto, por lo que el sistema seleccionar√° el interruptor ra√≠z.  Si todos los dispositivos tienen la misma prioridad, el conmutador con la direcci√≥n MAC m√°s antigua tendr√° una ventaja.  Sin embargo, puede ser un conmutador heredado de 10 a 12 a√±os de antig√ºedad, que ni siquiera tiene la potencia y el rendimiento para "liderar" una red tan extensa. <br>  Al mismo tiempo, su red puede tener el √∫ltimo conmutador por varios miles de d√≥lares, que, debido a la direcci√≥n MAC m√°s grande, se ve obligado a "obedecer" el antiguo conmutador a un precio de unos cientos de d√≥lares.  Si el conmutador anterior se convierte en el conmutador ra√≠z, esto indica un error grave de dise√±o de red. <br><br>  Por lo tanto, debe ingresar a la configuraci√≥n del nuevo conmutador y asignarle un valor de prioridad m√≠nimo, por ejemplo 0. Al usar VLAN1, el valor de prioridad total ser√° 0 + 1 = 1, y todos los dem√°s dispositivos siempre lo considerar√°n el conmutador ra√≠z. <br><br>  Ahora imagina una situaci√≥n as√≠.  Si por alguna raz√≥n el conmutador ra√≠z no est√° disponible, es posible que desee que el nuevo conmutador ra√≠z no sea un conmutador con la prioridad m√°s baja, sino un conmutador espec√≠fico con las mejores funciones de red.  En este caso, en la configuraci√≥n de Root Bridge, se utiliza un comando que asigna los conmutadores ra√≠z primarios y secundarios: spanning-tree vlan &lt;n√∫mero de red VLAN&gt; root &lt;primario / secundario&gt;.  El valor de prioridad para el interruptor primario Primario ser√° 32768 - 4096 - 4096 = 24576. Para el interruptor secundario Secundario, se calcula mediante la f√≥rmula 32768 - 4096 = 28672. <br><br>  No puede ingresar estos n√∫meros manualmente; el sistema lo har√° autom√°ticamente.  Por lo tanto, el conmutador ra√≠z tendr√° prioridad 24576 y, si no est√° disponible, el conmutador con prioridad 28672, mientras que la prioridad de todos los dem√°s conmutadores es al menos 32768 por defecto. Esto debe hacerse si no desea que el sistema asigne autom√°ticamente el conmutador ra√≠z. <br><br>  Si desea ver la configuraci√≥n de STP, debe usar el comando show spanning-tree summary.  Veamos ahora todos los temas que hemos aprendido hoy con Packet Tracer.  Utilizo la topolog√≠a de red de 4 conmutadores modelo 2690, no importa, ya que todos los modelos de conmutadores Cisco admiten STP.  Est√°n conectados entre s√≠ para que la red forme un c√≠rculo vicioso. <br><br>  De forma predeterminada, los dispositivos Cisco funcionan en modo PSTV +, es decir, cada puerto no tardar√° m√°s de 20 segundos en converger.  El panel de simulaci√≥n le permite visualizar el env√≠o de tr√°fico y ver los par√°metros de operaci√≥n de la red creada. <br><br><img src="https://habrastorage.org/webt/_u/1w/wo/_u1wworrzyuxdfrdbw-puoxbjry.jpeg"><br><br>  Ves lo que es el marco STP BPDU.  Si ve la designaci√≥n versi√≥n 0, entonces tiene STP, porque la versi√≥n 2 se usa para RSTP. Aqu√≠ tambi√©n est√° el valor de ID de ra√≠z, que consiste en la prioridad y la direcci√≥n MAC del conmutador ra√≠z, y el valor de ID de puente igual. <br><br><img src="https://habrastorage.org/webt/wd/gt/ic/wdgticvk35on9102-mcjwf4hlxg.jpeg"><br><br>  Estos valores son iguales, ya que el costo de la ruta al interruptor ra√≠z para SW0 es 0, por lo tanto, es en s√≠ mismo el interruptor ra√≠z.  Por lo tanto, despu√©s de encender los interruptores debido al uso de STP, el Root Bridge se seleccion√≥ autom√°ticamente y la red funcion√≥.  Ver√° que para evitar un bucle, el puerto superior Fa0 / 2 del conmutador SW2 se configur√≥ en Bloqueo, como lo indica el color naranja del marcador. <br><br><img src="https://habrastorage.org/webt/jr/mn/_w/jrmn_w7vygcm2sjvmnvddla6sq8.jpeg"><br><br>  Vayamos a la consola de configuraci√≥n del interruptor SW0 y usemos un par de comandos.  El primero es el comando show spanning-tree, despu√©s de ingresar qu√© en la pantalla se nos mostrar√° informaci√≥n sobre el modo PSTV + para VLAN1.  Si usamos varias VLAN, aparecer√° otro bloque de informaci√≥n para la segunda y las redes usadas posteriores en la parte inferior de la ventana. <br><br><img src="https://habrastorage.org/webt/02/ng/ir/02ngirpnlpfjjtx9lkoahvledbi.jpeg"><br><br>  Puede ver que el protocolo STP est√° disponible de acuerdo con el est√°ndar IEEE, lo que significa el uso de PVSTP +.  T√©cnicamente, este no es un est√°ndar .1d.  La informaci√≥n de ID de ra√≠z tambi√©n se proporciona aqu√≠: prioridad 32769, direcci√≥n MAC del dispositivo ra√≠z, costo 19, etc.  La siguiente es informaci√≥n de ID de puente, en la que se descifra el valor de prioridad 32768 +1, y sigue una direcci√≥n MAC diferente.  Como puede ver, me equivoqu√©: el interruptor SW0 no es un interruptor ra√≠z, el interruptor ra√≠z tiene una direcci√≥n MAC diferente dada en los par√°metros de ID ra√≠z.  Creo que esto se debe al hecho de que SW0 recibi√≥ una trama BPDU con informaci√≥n de que alg√∫n conmutador en la red tiene buenas razones para desempe√±ar el papel de la ra√≠z.  Ahora lo consideraremos. <br><br>  (Nota del traductor: Root ID es el identificador del conmutador ra√≠z que es el mismo para todos los dispositivos de la misma VLAN que funcionan a trav√©s de STP, Bridge ID es el identificador del conmutador local como parte del Root Bridge, que puede ser diferente para diferentes conmutadores y diferentes VLAN). <br><br>  Otra circunstancia que indica que SW0 no es un conmutador ra√≠z es que el conmutador ra√≠z no tiene un puerto ra√≠z, y en este caso hay un puerto ra√≠z y un puerto designado, que est√°n en el estado de reenv√≠o.  Tambi√©n puede ver el tipo de conexi√≥n p2p o punto a punto.  Esto significa que los puertos fa0 / 1 y fa0 / 2 est√°n conectados directamente a los conmutadores vecinos. <br>  Si un puerto estuviera conectado al concentrador, el tipo de conexi√≥n se designar√≠a como compartido, lo consideraremos m√°s adelante.  Si ingreso el comando para ver la informaci√≥n resumida del resumen del √°rbol de expansi√≥n de la demostraci√≥n, veremos que este conmutador est√° en modo PVSTP, luego se enumera la lista de funciones de puertos inaccesibles. <br><br><img src="https://habrastorage.org/webt/oq/v6/sb/oqv6sb8fuljx0vzdgk43bigsfb8.jpeg"><br><br>  A continuaci√≥n se muestra el estado y el n√∫mero de puertos que sirven a la VLAN1: bloqueo 0, escucha 0, aprendizaje 0, en el estado de reenv√≠o en modo STP hay 2 puertos. <br>  Antes de proceder a cambiar SW2, veamos la configuraci√≥n del interruptor SW1.  Para hacer esto, usamos el mismo comando show spanning-tree. <br><br><img src="https://habrastorage.org/webt/yz/yb/f7/yzybf7phzs61b09drhqgnvig1ig.jpeg"><br><br>  Ver√° que la direcci√≥n MAC de la ID ra√≠z para el conmutador SW1 es la misma que para SW0, porque al converger, todos los dispositivos en la red obtienen la misma direcci√≥n de dispositivo de puente ra√≠z porque conf√≠an en la elecci√≥n realizada por el protocolo STP.  Como puede ver, SW1 es el interruptor ra√≠z, porque las direcciones de ID de ra√≠z e ID de puente son las mismas.  Adem√°s, hay un mensaje "este interruptor es la ra√≠z". <br><br>  Otra se√±al del conmutador ra√≠z es que no tiene puertos ra√≠z, ambos puertos est√°n designados como designados.  Si todos los puertos se muestran como Designados y est√°n en estado de reenv√≠o, entonces tiene el conmutador ra√≠z. <br><br>  El conmutador SW3 contiene informaci√≥n similar, y ahora estoy cambiando a SW2 porque uno de sus puertos est√° en estado de bloqueo.  Uso el comando show spanning-tree y vemos que la informaci√≥n de ID de ra√≠z y el valor de prioridad son los mismos que el resto de los conmutadores. <br>  Lo siguiente indica que uno de los puertos es Alternativo.  No deje que le moleste, el est√°ndar 802.1d lo llama el puerto de bloqueo, y en PVSTP un puerto bloqueado siempre se conoce como alternativa.  Entonces, este puerto alternativo Fa0 / 2 est√° en estado bloqueado y el puerto Fa0 / 1 act√∫a como un puerto ra√≠z. <br><br>  El puerto bloqueado se encuentra en el segmento de red entre el conmutador SW0 y el conmutador SW2, de modo que no formemos un bucle.  Como puede ver, los conmutadores usan una conexi√≥n como p2p, porque no hay otros dispositivos conectados a ellos. <br><br><img src="https://habrastorage.org/webt/io/l4/zt/iol4zt5fm3clkpjrqme5nkedalw.jpeg"><br><br>  Tenemos una red que converge usando el protocolo STP.  Ahora tomar√© el cable y conectar√© el interruptor SW2 directamente al interruptor SW1.  Despu√©s de eso, todos los puertos SW2 se indicar√°n con marcadores naranjas. <br><br><img src="https://habrastorage.org/webt/cv/0x/2d/cv0x2djghir-4ht3yaza36tz9gu.jpeg"><br><br>  Si utilizamos el comando show spanning-tree summary, veremos que al principio los dos puertos est√°n en estado de Escucha, luego pasan al estado de Aprendizaje y despu√©s de unos segundos al estado de Reenv√≠o, con el color del marcador cambiando a verde.  Si ingresa el comando show spanning-tree ahora, puede ver que Fa0 / 1, que sol√≠a ser un puerto ra√≠z, ahora entr√≥ en estado de bloqueo y se conoci√≥ como un puerto alternativo. <br><br><img src="https://habrastorage.org/webt/zt/3u/zh/zt3uzhakx9ischj3l7nhzpay0xy.jpeg"><br><br>  El puerto Fa0 / 3, al que est√° conectado el cable del conmutador ra√≠z, se convirti√≥ en el puerto ra√≠z, y el puerto Fa0 / 2 se convirti√≥ en el puerto designado designado.  Echemos otro vistazo al proceso de convergencia en progreso.  Desconectar√© el cable SW2-SW1 y volver√© a la topolog√≠a anterior.  Ver√° que los puertos SW2 se bloquean primero y nuevamente se vuelven de color naranja, luego pasan secuencialmente por los estados de Escucha y Aprendizaje y terminan en el estado Reenv√≠o.  En este caso, un puerto se vuelve verde y el segundo, conectado al conmutador SW0, permanece naranja.  El proceso de convergencia tom√≥ bastante tiempo, estos son los costos del STP. <br><br><img src="https://habrastorage.org/webt/2b/2f/sv/2b2fsvymkmhweas-zsqywgln9_i.jpeg"><br><br>  Ahora veamos c√≥mo funciona RSTP.  Comencemos con el interruptor SW2 e ingrese el comando spanning-tree mode rapid-pvst en su configuraci√≥n.  Este comando tiene solo dos opciones: pvst y rapid-pvst, yo uso la segunda.  Despu√©s de ingresar el comando, el interruptor pasa al modo RPVST, puede verificar esto con el comando show spanning-tree. <br><br><img src="https://habrastorage.org/webt/3l/ox/ik/3loxikgk8uz1-pendamxieyv7fk.jpeg"><br><br>  Al principio, ver√° un mensaje que indica que ahora estamos ejecutando el protocolo RSTP.  Todo lo dem√°s permanece sin cambios.  Luego tengo que hacer lo mismo para todos los dem√°s dispositivos, y ah√≠ es donde se realiza la configuraci√≥n RSTP.  Veamos c√≥mo funciona este protocolo como lo hicimos para STP. <br><br>  Vuelvo a conectar el interruptor SW2 directamente al interruptor ra√≠z SW1 con un cable; veamos qu√© tan r√°pido ocurre la convergencia.  Escribo el comando show spanning-tree summary y veo que dos puertos de conmutador est√°n en estado de bloqueo, 1 en estado de reenv√≠o. <br><br><img src="https://habrastorage.org/webt/po/nb/6y/ponb6yceu2_uezs940bmpot4zr8.jpeg"><br><br>  Puede ver que la convergencia ocurri√≥ casi al instante, por lo que puede juzgar cu√°nto RSTP es m√°s r√°pido que STP.  A continuaci√≥n, podemos usar el comando predeterminado de spanning-tree portfast, que coloca todos los puertos del conmutador en modo portfast de manera predeterminada.  Esto es cierto si la mayor√≠a de los puertos del switch son puertos Edge que est√°n directamente conectados a los hosts.  Si tenemos alg√∫n tipo de puerto que no sea Edge, lo configuraremos nuevamente en modo de √°rbol de expansi√≥n. <br><br>  Para configurar el trabajo con VLAN, puede usar el comando spanning-tree vlan &lt;n√∫mero&gt; con par√°metros de prioridad (establece la prioridad del conmutador para el √°rbol de expansi√≥n) o root (establece el conmutador como root).  Usamos el comando de prioridad spanning-tree vlan 1, especificando como prioridad cualquier n√∫mero que sea m√∫ltiplo de 4096, en el rango de 0 a 61440. Por lo tanto, puede cambiar manualmente la prioridad de cualquier VLAN. <br><br>  Puede escribir el comando ra√≠z spanning-tree vlan 1 con par√°metros primarios o secundarios para configurar el puerto ra√≠z primario o de respaldo para una red en particular.  Si uso spanning-tree vlan 1 root primary, este puerto ser√° el puerto ra√≠z principal para VLAN1. <br><br>  Ingresar√© el comando show spanning-tree, y veremos que este interruptor SW2 tiene prioridad 24577, las direcciones MAC de Root ID y Bridge ID son las mismas, lo que significa que ahora se ha convertido en el interruptor ra√≠z. <br><br><img src="https://habrastorage.org/webt/bo/5h/m6/bo5hm64ib1fyej_6kmphrslvn3o.jpeg"><br><br>  Ver√° cu√°n r√°pido se produjo la convergencia y el cambio de funci√≥n de los interruptores.  Ahora cancelar√© el modo del interruptor principal con el comando no spanning-tree vlan 1 root primary, despu√©s de lo cual su prioridad volver√° al valor anterior 32769, y la funci√≥n del interruptor ra√≠z se transferir√° nuevamente a SW1. <br><br>  Veamos c√≥mo funciona portfast.  Ingresar√© el comando int f0 / 1, entrar√© en la configuraci√≥n de este puerto y usar√© el comando spanning-tree, despu√©s de lo cual el sistema dar√° indicaciones para los valores de los par√°metros. <br><br><img src="https://habrastorage.org/webt/va/9j/qx/va9jqxbgepa3y9pjq0qwlpsyc5c.jpeg"><br><br>  A continuaci√≥n, uso el comando spanning-tree portfast, que se puede ingresar con los par√°metros de deshabilitaci√≥n (deshabilita la funci√≥n portfast para este puerto) o troncal (habilita la funci√≥n portfast para este puerto incluso en modo troncal). <br><br>  Si ingresa portfast de √°rbol de expansi√≥n, la funci√≥n simplemente se activar√° en este puerto.  Para activar la funci√≥n BPDU Guard, debe usar el comando de habilitaci√≥n bpduguard del √°rbol de expansi√≥n, el comando de desactivaci√≥n bpduguard del √°rbol de expansi√≥n deshabilita esta funci√≥n. <br><br>  Te dir√© r√°pidamente una cosa m√°s.  Si para VLAN1 la interfaz del conmutador SW2 en la direcci√≥n de SW3 est√° bloqueada, entonces con otras configuraciones para otra VLAN, por ejemplo, VLAN2, la misma interfaz puede convertirse en el puerto ra√≠z.  Por lo tanto, se puede implementar un mecanismo de equilibrio de carga de tr√°fico en el sistema; en un caso, este segmento de red no se usa, en otro, se usa. <br><br>  Mostrar√© lo que sucede cuando surge una interfaz compartida cuando se conecta un concentrador.  Agregar√© un concentrador al circuito y lo conectar√© al interruptor SW2 con dos cables. <br><br><img src="https://habrastorage.org/webt/gx/he/hh/gxhehhxqpnrxyabevd7l-sr6d9u.jpeg"><br><br>  El comando show spanning-tree reflejar√° la siguiente imagen. <br><br><img src="https://habrastorage.org/webt/1v/fd/co/1vfdcoqljwc45rzj4--t6vizme4.jpeg"><br><br>  Fa0 / 5 (el puerto inferior izquierdo del conmutador) se convierte en el puerto de respaldo, y el puerto Fa0 / 4 (el puerto inferior derecho del conmutador) se convierte en el puerto designado designado.  El tipo de ambos puertos es compartido o compartido.  Esto significa que el segmento de interfaz del conmutador del concentrador es una red com√∫n. <br><br>  Gracias al uso de RSTP, obtuvimos la separaci√≥n de puertos alternativos y de respaldo.  Si cambiamos el interruptor SW2 al modo pvst con el comando pvst del modo de √°rbol de expansi√≥n, veremos que la interfaz Fa0 / 5 est√° nuevamente en el estado Alternativo, porque ahora no hay diferencia entre el puerto de respaldo y el puerto alternativo. <br><br><img src="https://habrastorage.org/webt/3s/9g/d5/3s9gd5pqpga1k-vbj0xjavyqmvi.jpeg"><br><br>  Fue una lecci√≥n muy larga, y si no entiendes algo, te aconsejo que lo revises nuevamente. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/LRGmg5omwW0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV desde $ 199</a> en los Pa√≠ses Bajos!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - ¬°desde $ 99!</b></b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466425/">https://habr.com/ru/post/466425/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466409/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 37. STP: selecci√≥n de puente ra√≠z, caracter√≠sticas de protecci√≥n PortFast y BPDU. Parte 1</a></li>
<li><a href="../466413/index.html">Intercambio de sitios para Bitrix y 1C: resolviendo los principales problemas</a></li>
<li><a href="../466417/index.html">Buque de guerra: una amenaza cibern√©tica enviada por correo ordinario</a></li>
<li><a href="../466419/index.html">Por qu√© trabajamos en Sitefinity</a></li>
<li><a href="../466423/index.html">El misterioso programa LyX. Parte 1</a></li>
<li><a href="../466427/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 38. Protocolo EtherChannel para OSI Layer 2</a></li>
<li><a href="../466429/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 39. Pilas y agregaci√≥n del chasis del conmutador</a></li>
<li><a href="../466431/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 40. Est√°ndar 802.1X y familia de protocolos AAA</a></li>
<li><a href="../466433/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 41. DHCP Snooping y VLAN nativa no predeterminada</a></li>
<li><a href="../466435/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 42. Enrutamiento entre VLAN y SVI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>