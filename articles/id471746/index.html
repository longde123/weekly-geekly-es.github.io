<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©â€ğŸš’ ğŸ§¢ ğŸ™‹ğŸ¾ Panduan Lengkap untuk Mengkonfigurasi Judul HTTP untuk Keamanan ğŸ›„ ğŸ—’ï¸ ğŸ¤šğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perusahaan yang menjual kartu penilaian keamanan sedang meningkat, pengaruhnya dalam penjualan perusahaan meningkat. Selain itu, ada orang yang bingun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Panduan Lengkap untuk Mengkonfigurasi Judul HTTP untuk Keamanan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/471746/"><p><img src="https://habrastorage.org/webt/df/rj/xf/dfrjxfp4ydkkf7al1royc4wnufs.jpeg"></p><br><p>  Perusahaan yang menjual kartu penilaian keamanan sedang meningkat, pengaruhnya dalam penjualan perusahaan meningkat.  Selain itu, ada orang yang bingung dengan peringkat keamanan penjual yang rendah, dan mereka yang setidaknya sekali, melihat peringkat, menolak untuk membeli - saya berbicara dengan orang-orang seperti itu. </p><br><p>  Saya melihat bagaimana perusahaan-perusahaan ini menghitung kinerja keselamatan perusahaan lain.  Ternyata mereka mencari kombinasi penggunaan header HTTP untuk keamanan dan reputasi alamat IP. </p><br><p>  Reputasi alamat IP didasarkan pada daftar hitam dan informasi daftar spammer dikombinasikan dengan informasi tentang pemilik alamat IP publik.  Pada prinsipnya, itu harus bersih jika perusahaan Anda tidak mengirim spam dan dapat dengan cepat mengidentifikasi dan menghentikan implementasi jahat.  Menggunakan header keamanan HTTP dihitung dengan cara yang sama seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mozilla's Observatory</a> berfungsi. </p><br><p>  Dengan demikian, peringkat sebagian besar perusahaan terutama ditentukan oleh pos yang termasuk dalam situs web publik untuk keamanan. </p><a name="habracut"></a><br><p>  Menetapkan judul dengan benar tidak lama (tidak diperlukan verifikasi serius), tetapi itu akan meningkatkan keamanan situs dan membantu tidak kehilangan pelanggan untuk siapa keselamatan bukan frase kosong </p><br><p>  Saya ragu nilai metodologi verifikasi yang disebutkan, apalagi, label harga untuk layanan ini terlalu tinggi.  Kecil kemungkinan bahwa pemasok layanan ini dapat menentukan keamanan sumber daya dengan akurasi yang dinyatakan.  Namun, situasi ini menekankan sekali lagi betapa pentingnya duduk dan meluangkan waktu untuk menghidupkan dan mengatur judul yang benar. </p><br><p> Dalam artikel ini saya akan berbicara tentang tajuk yang paling sering diperiksa, untuk setiap tajuk saya akan menyarankan nilai-nilai keamanan dan memberikan contoh pengaturan.  Pada akhirnya saya akan memberikan contoh pengaturan untuk aplikasi umum dan server web. </p><br><h2 id="vazhnye-zagolovki-dlya-bezopasnosti">  Header Keamanan Penting </h2><br><h3 id="content-security-policy">  Konten-Keamanan-Kebijakan </h3><br><p>  CSP digunakan untuk mencegah skrip lintas situs - dengan menentukan sumber daya mana yang dapat diunduh.  Dari seluruh daftar, tajuk ini akan membutuhkan lebih banyak waktu daripada yang lainnya untuk dibuat dan didukung dengan benar, dan bahkan lebih banyak orang lain yang berisiko.  Saat mengembangkan CSP, periksa dengan cermat - jika Anda tiba-tiba memblokir sumber yang Anda gunakan, maka ganggu fungsionalitas situs Anda sendiri. </p><br><p>  Untuk versi awal, Anda dapat menggunakan alat yang luar biasa - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ekstensi untuk browser Mozilla, Laboratorium CSP</a> .  Instal di peramban, pelajari dengan seksama situs yang ingin Anda buat CSP, dan kemudian gunakan CSP yang dihasilkan di situs Anda.  Idealnya, Anda masih perlu mengerjakan ulang JavaScript agar Anda dapat menghapus arahan inline yang tidak aman. </p><br><p>  CSP mungkin tampak rumit dan membingungkan, jadi jika Anda ingin mempelajari lebih dalam topik ini, kunjungi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situs web resminya</a> . </p><br><p>  Anda dapat melakukan pra-konfigurasi CSP seperti ini (di situs pertempuran, kemungkinan besar akan membutuhkan banyak modifikasi).  Tambahkan domain ke setiap bagian situs Anda. </p><br><pre><code class="plaintext hljs"># Default to only allow content from the current site # Allow images from current site and imgur.com # Don't allow objects such as Flash and Java # Only allow scripts from the current site # Only allow styles from the current site # Only allow frames from the current site # Restrict URL's in the &lt;base&gt; tag to current site # Allow forms to submit only to the current site Content-Security-Policy: default-src 'self'; img-src 'self' https://i.imgur.com; object-src 'none'; script-src 'self'; style-src 'self'; frame-ancestors 'self'; base-uri 'self'; form-action 'self';</code> </pre> <br><h3 id="strict-transport-security">  Ketat-transportasi-keamanan </h3><br><p>  Header ini memberi tahu browser bahwa Anda hanya dapat memasuki situs menggunakan protokol HTTPS - selalu aktifkan jika HTTPS diaktifkan di situs Anda.  Sertakan di semua subdomain yang digunakan, jika ada. </p><br><pre> <code class="plaintext hljs">Strict-Transport-Security: max-age=3600; includeSubDomains</code> </pre> <br><h3 id="x-content-type-options">  X-Content-Type-Options </h3><br><p>  Berkat tajuk ini, peramban mematuhi jenis MIME yang dipasang oleh aplikasi, yang membantu mencegah beberapa serangan skrip lintas situs. </p><br><p>  Ini juga mengurangi risiko perilaku aplikasi yang tidak terduga ketika browser salah "menebak" jenis konten di situs - misalnya, jika pengembang menunjuk halaman "HTML" dan browser melihat JavaScript dan mencoba membuat halaman sesuai.  Berkat tajuk ini, peramban selalu menyimpan jenis MIME yang diinstal oleh server. </p><br><pre> <code class="plaintext hljs">X-Content-Type-Options: nosniff</code> </pre> <br><h3 id="cache-control">  Kontrol cache </h3><br><p>  Yang ini akan lebih buruk daripada yang lain, karena untuk berbagai jenis konten Anda mungkin memerlukan kebijakan caching yang berbeda. </p><br><p>  Tidak ada informasi sensitif - seperti halaman pengguna atau halaman pembayaran produk - yang harus di-cache.  Salah satu alasan untuk ini adalah bahwa pengguna komputer lain tidak menekan tombol kembali, tidak membaca riwayat dan tidak melihat data pribadi pengguna lain. </p><br><p>  Namun, Anda dapat dan harus men-cache halaman-halaman yang jarang diperbarui, seperti sumber daya statis (gambar, file CSS dan JS).  Caching dapat dikonfigurasi berdasarkan halaman-demi-halaman, atau menggunakan regex di pengaturan server. </p><br><pre> <code class="plaintext hljs"># Don't cache by default Header set Cache-Control no-cache # Cache static assets for 1 day &lt;filesMatch ".(css|jpg|jpeg|png|gif|js|ico)$"&gt; Header set Cache-Control "max-age=86400, public" &lt;/filesMatch&gt;</code> </pre> <br><h3 id="expires">  Kedaluwarsa </h3><br><p>  Header ini menetapkan waktu di mana permintaan saat ini di-cache.  Itu diabaikan jika header usia maks Kontrol Cache diaktifkan, jadi kami hanya mengaktifkannya jika pemindai sederhana memeriksanya - tidak termasuk kontrol caching. </p><br><p>  Kami berasumsi bahwa untuk alasan keamanan browser tidak melakukan cache apa pun, sehingga tanggal di header akan selalu di masa lalu. </p><br><pre> <code class="plaintext hljs">Expires: 0</code> </pre> <br><h3 id="x-frame-options">  Opsi-bingkai X </h3><br><p>  Header ini memungkinkan tampilan situs dalam iFrame. </p><br><p>  Dengan menempatkan situs web Anda di iFrame, sumber daya jahat mendapat kesempatan untuk melakukan serangan clickjacking - dengan meluncurkan beberapa jenis JavaScript yang mengelabui pengguna agar mengklik iFrame, dan kemudian mulai berinteraksi dengan sumber daya dari, pengguna, nama (mis., Seseorang mengklik tautan atau tombol jahat) tanpa menyadarinya!). </p><br><p>  Header ini harus selalu dikonfigurasi untuk gagal, dengan pengecualian jika Anda sengaja menggunakan bingkai.  Maka tajuk harus diatur ke sumber yang sama.  Jika Anda menggunakan bingkai dengan situs yang berbeda secara default, masukkan daftar putih domain pihak ketiga. </p><br><p>  Juga harus dicatat bahwa header ini digantikan oleh direktif bingkai-leluhur CSP.  Saya sarankan menyalakannya untuk saat ini, tetapi hanya untuk mematikan alat untuk memeriksa header, mereka kemungkinan besar akan menyingkirkannya di masa depan. </p><br><pre> <code class="plaintext hljs">X-Frame-Options: deny</code> </pre> <br><h3 id="access-control-allow-origin">  Akses-Kontrol-Bolehkan-Asal </h3><br><p>  Header ini memberi tahu browser kode eksternal mana dari situs pihak ketiga mana yang berhak mengajukan permintaan ke halaman tertentu.  Pengaturan standar biasanya benar, tetapi Anda dapat mengubahnya jika perlu. </p><br><p>  Misalnya, situs A berisi semacam JavaScript yang ingin membuat permintaan ke situs B. Situs B harus menanggapi permintaan ini - jika tajuk memungkinkan situs A untuk membuat permintaan.  Jika Anda perlu mengonfigurasi banyak sumber, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lihat detail di halaman MDN</a> . </p><br><p>  Di sini Anda bisa sedikit bingung, jadi saya membuat diagram - untuk menggambarkan cara kerja header ini: </p><br><p><img src="https://habrastorage.org/webt/97/g9/iy/97g9iyhqou03xiinwuind3gqwbs.png"><br>  <em>Aliran Data dengan Access-Control-Allow-Origin</em> </p><br><pre> <code class="plaintext hljs">Access-Control-Allow-Origin: http://www.one.site.com</code> </pre> <br><h3 id="set-cookie">  Tetapkan cookie </h3><br><p>  Pastikan bahwa cookie Anda ditetapkan hanya melalui protokol HTTPS (dengan enkripsi) dan cookie itu tidak dapat diakses melalui JavaScript.  File-file ini hanya dapat dikirim jika situs Anda juga mendukung HTTPS, sebagaimana mestinya.  Anda selalu perlu mengatur bendera ini: </p><br><ul><li>  Aman </li><li>  HTTPOnly </li></ul><br><p>  Contoh definisi cookie: </p><br><pre> <code class="plaintext hljs">Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;; Domain=&lt;domain-value&gt;; Secure; HttpOnly</code> </pre> <br><p>  Baca lebih lanjut di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi cookie Mozilla yang</a> luar biasa. </p><br><h3 id="x-xss-protection">  X-XSS-Perlindungan </h3><br><p>  Header ini memberi tahu browser untuk membatalkan serangan skrip lintas situs yang terdeteksi.  Dengan menyalakannya, Anda tidak mengambil banyak risiko, tetapi mengujinya sebelum meluncurkannya ke lingkungan produksi. </p><br><pre> <code class="plaintext hljs">X-XSS-Protection: 1; mode=block</code> </pre> <br><h3 id="primer-nastroek-veb-servera">  Contoh pengaturan server web </h3><br><p>  Secara umum, dalam pengaturan server yang terbaik adalah menambahkan header ke seluruh situs.  Cookie adalah pengecualian, karena mereka didefinisikan dalam aplikasi itu sendiri. </p><br><p>  Saya menyarankan Anda, sebelum menambahkan header ke situs, periksa terlebih dahulu dengan Observatory atau lihat secara manual di header - periksa mana yang sudah diinstal.  Beberapa mesin situs dan server akan menginstal semuanya sendiri, jadi terapkan saja tajuk yang Anda butuhkan atau ubah yang membutuhkannya. </p><br><h3 id="konfiguraciya-apache">  Konfigurasi Apache </h3><br><p>  Contoh konfigurasi Apache dalam .htaccess: </p><br><pre> <code class="plaintext hljs">&lt;IfModule mod_headers.c&gt; ## CSP Header set Content-Security-Policy: default-src 'self'; img-src 'self' https://i.imgur.com; object-src 'none'; script-src 'self'; style-src 'self'; frame-ancestors 'self'; base-uri 'self'; form-action 'self'; ## General Security Headers Header set X-XSS-Protection: 1; mode=block Header set Access-Control-Allow-Origin: http://www.one.site.com Header set X-Frame-Options: deny Header set X-Content-Type-Options: nosniff Header set Strict-Transport-Security: max-age=3600; includeSubDomains ## Caching rules # Don't cache by default Header set Cache-Control no-cache Header set Expires: 0 # Cache static assets for 1 day &lt;filesMatch ".(ico|css|js|gif|jpeg|jpg|png|svg|woff|ttf|eot)$"&gt; Header set Cache-Control "max-age=86400, public" &lt;/filesMatch&gt; &lt;/IfModule&gt;</code> </pre> <br><h3 id="konfiguraciya-nginx">  Konfigurasi nginx </h3><br><pre> <code class="plaintext hljs">## CSP add_header Content-Security-Policy: default-src 'self'; img-src 'self' https://i.imgur.com; object-src 'none'; script-src 'self'; style-src 'self'; frame-ancestors 'self'; base-uri 'self'; form-action 'self'; ## General Security Headers add_header X-XSS-Protection: 1; mode=block; add_header Access-Control-Allow-Origin: http://www.one.site.com; add_header X-Frame-Options: deny; add_header X-Content-Type-Options: nosniff; add_header Strict-Transport-Security: max-age=3600; includeSubDomains; ## Caching rules # Don't cache by default add_header Cache-Control no-cache; add_header Expires: 0; # Cache static assets for 1 day location ~* \.(?:ico|css|js|gif|jpe?g|png|svg|woff|ttf|eot)$ { try_files $uri @rewriteapp; add_header Cache-Control "max-age=86400, public"; }</code> </pre> <br><h3 id="nastroyka-zagolovka-urovnya-prilozheniya">  Pengaturan Header Tingkat Aplikasi </h3><br><p>  Jika Anda tidak memiliki akses ke server web atau persyaratan untuk mengatur tajuknya rumit, maka Anda mungkin harus mengonfigurasinya dalam aplikasi itu sendiri.  Biasanya untuk seluruh situs ini dilakukan dengan menggunakan middleware, atau berdasarkan pada pengaturan header satu kali untuk setiap permintaan. </p><br><p>  Untuk singkatnya, saya hanya menyertakan satu tajuk dalam setiap contoh.  Anda menambahkan dengan cara yang sama semua yang dibutuhkan. </p><br><p>  Node dan ekspres: </p><br><p>  Tambahkan jalur pemasangan global: </p><br><pre> <code class="plaintext hljs">app.use(function(req, res, next) { res.header('X-XSS-Protection', 1; mode=block); next(); });</code> </pre> <br><h3 id="java-i-spring">  Jawa dan Musim Semi </h3><br><p>  Saya memiliki sedikit pengalaman dengan Spring, tetapi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Baeldung</a> memiliki panduan hebat dalam mengatur header di Spring. </p><br><h3 id="php">  Php </h3><br><p>  Saya tidak terbiasa dengan berbagai lingkungan PHP.  Cari middleware untuk kueri.  Untuk satu permintaan, semuanya sederhana. </p><br><pre> <code class="plaintext hljs">header("X-XSS-Protection: 1; mode=block");</code> </pre> <br><h3 id="python--django">  Python / Django </h3><br><p>  Django menyertakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">middleware keamanan yang</a> dapat disesuaikan yang akan melakukan semua ini untuk Anda.  Aktifkan terlebih dahulu. </p><br><p>  Jawaban dari beberapa halaman dapat diartikan sebagai kamus.  Django memiliki cara khusus untuk bekerja dengan caching, dan jika Anda ingin mengkonfigurasi header caching dengan cara ini, Anda perlu membiasakan diri dengannya. </p><br><pre> <code class="plaintext hljs">response = HttpResponse() response["X-XSS-Protection"] = "1; mode=block"</code> </pre> <br><h3 id="vyvody">  Kesimpulan </h3><br><p>  Pengaturan header adalah proses yang relatif sederhana dan cepat, tetapi memberikan peningkatan tingkat keamanan situs - dalam hal perlindungan data, dari skrip lintas situs dan jacking klik. </p><br><p>  Di masa depan, Anda akan melindungi diri dari kegagalan transaksi, karena peringkat keamanan Anda akan tetap di level tersebut.  Praktik mengevaluasinya berdasarkan parameter yang telah saya teliti mendapatkan momentum, dan bagi saya tampaknya perannya di tahun-tahun mendatang di bidang penjualan hanya akan meningkat. </p><br><p>  Beri tahu saya jika saya melewatkan beberapa tajuk penting! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471746/">https://habr.com/ru/post/id471746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471736/index.html">Sensor Ethernet Non-Kontak</a></li>
<li><a href="../id471738/index.html">Sebuah cerita pendek tentang bagaimana kenyamanan kadang-kadang menembak di lutut</a></li>
<li><a href="../id471740/index.html">Layanan cache pintar berdasarkan ZeroMQ dan Tarantool</a></li>
<li><a href="../id471742/index.html">Sberbank AI Journey. Bagaimana kami mengajar jaringan saraf untuk mengikuti ujian</a></li>
<li><a href="../id471744/index.html">Tarantool Data Grid: Arsitektur dan Fitur</a></li>
<li><a href="../id471748/index.html">Optimalisasi farmasi: apa yang kami lakukan dengan matematika</a></li>
<li><a href="../id471750/index.html">Manajemen Akses Privileged sebagai tugas prioritas dalam keamanan informasi (misalnya, Fudo PAM)</a></li>
<li><a href="../id471756/index.html">Bagaimana server dimulai</a></li>
<li><a href="../id471758/index.html">Bagaimana cara menerjemahkan teks ke bahasa lain?</a></li>
<li><a href="../id471760/index.html">Edward Snowden: The Battlefield - Enkripsi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>