<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíæ üå¨Ô∏è üöó Sicherheitsl√ºcken in der EOS-Blockchain bei ZeroNights 2018 üíû üöµüèΩ üßñüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werden einige echte Sicherheitsl√ºcken in der EOS-Blockchain (einer der Konkurrenten von Ethereum) und deren Einbettung in den Wettbe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sicherheitsl√ºcken in der EOS-Blockchain bei ZeroNights 2018</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dsec/blog/433552/"><img src="https://habrastorage.org/getpro/habr/post_images/ad6/57d/a57/ad657da575236f2a6377f2b025f41f94.png" alt="Bild"><br><br>  In diesem Artikel werden einige echte Sicherheitsl√ºcken in der EOS-Blockchain (einer der Konkurrenten von Ethereum) und deren Einbettung in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den</a> Wettbewerb f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sichere Spielautomaten der neuen Generation</a> bei ZeroNights 2018 beschrieben. Wenn Sie wissen m√∂chten, wie die Sicherheitslage ist dieses Blockchain-Netzwerk, dann willkommen unter Katze. <br><a name="habracut"></a><br><h2>  Eintrag </h2><br>  Alles begann damit, dass einer unserer Freunde uns k√ºrzlich w√§hrend eines Audits von Etherium-Smart-Vertr√§gen auf Sicherheit einen <a href="">Artikel</a> √ºber Schwachstellen in Smart-Vertr√§gen im EOS-Netzwerk vorwirft.  Dies hat uns sehr interessiert und wir haben uns entschlossen, die Sicherheitsl√ºcken genauer zu untersuchen. <br><br>  All dies f√ºhrte letztendlich zur Schaffung eines Wettbewerbs f√ºr ZeroNights 2018 mit dem Namen ‚ÄûEinarmiger Bandit‚Äú mit Schwachstellen in einem intelligenten Vertrag. <br><br>  Beginnen wir direkt mit dem Blick auf das EOS-Blockchain-Netzwerk, wie man damit arbeitet und wie alles darin angeordnet ist.  Es gibt viele Artikel, die die Technologie im Internet beschreiben, daher wird es h√∂chstwahrscheinlich keine technischen Details geben, aber wir werden versuchen, die allgemeine Bedeutung zu vermitteln, damit der durchschnittliche Benutzer eine grundlegende Vorstellung von den Arbeitsmechanismen der EOS-Blockchain erhalten kann. <br><br><h3>  Beschreibung der EOS-Technologie </h3><br>  EOS.io ist eine Blockchain der neuen Generation von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Block.one</a> , die auf dem Konzept von PoS ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Proof of Stake</a> ) basiert. <br><br>  Aus der Beschreibung der Ersteller des Netzwerks selbst: ‚ÄûEOS ist eine kostenlose Open-Source-Blockchain-Netzwerksoftware, die Entwicklern und Unternehmern eine Plattform zum Erstellen, Bereitstellen und Ausf√ºhren von dezentralen Hochleistungsanwendungen (DAPP) bietet.‚Äú <br><br>  Wenn Sie versuchen, das Konzept auf den Punkt zu bringen, dann ist es ein gut reflektierter Auszug aus dem Wikipedia-Artikel: <br><blockquote>  Die Idee des Proof-of-Stake (PoS) besteht darin, das Problem des Proof-of-Work (PoW) zu l√∂sen, das mit einem hohen Energieverbrauch verbunden ist.  Anstelle der Rechenleistung der Teilnehmer spielt die Menge der Kryptow√§hrung, die sie in ihrem Konto haben, eine Rolle.  Anstatt eine gro√üe Menge Strom zur L√∂sung des PoW-Problems zu verwenden, hat der PoS-Teilnehmer einen begrenzten Prozentsatz m√∂glicher Transaktionspr√ºfungen.  Das Limit entspricht dem Betrag der Kryptow√§hrung auf dem Konto des Teilnehmers </blockquote>  Das Netzwerk ist v√∂llig neu und der erste Start des Hauptnetzwerks (Mainnet) fand am 10. Juni 2018 statt.  Die Hauptkryptow√§hrung ist EOS, und das Hauptportal f√ºr Entwickler ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">developer.eos.io</a> <br><br>  Die EOS.io-Blockchain unterst√ºtzt Anwendungen, die von Benutzern mithilfe des WebAssembly-Codes (WASM) erstellt wurden, einem neuen Webstandard mit umfassender Unterst√ºtzung f√ºr gro√üe Unternehmen wie Google, Microsoft, Apple und andere. <br><br>  Derzeit ist das neueste Toolkit zum Erstellen von Anwendungen, die Code in WASM kompilieren, clang / llvm mit dem C / C ++ - Compiler. <br><br>  Zur besseren Kompatibilit√§t empfehlen Entwickler die Verwendung des EOSIO CDT (Contract Development Toolkit) - einer Reihe von Dienstprogrammen der Entwickler selbst, mit denen Sie bequem und korrekt an der Erstellung intelligenter Vertr√§ge arbeiten k√∂nnen. <br><br>  Der vorherige eosiocpp-Compiler ist bereits veraltet und wird nicht unterst√ºtzt. Daher wird jedem empfohlen, ein Upgrade auf das neue (zum Zeitpunkt des Schreibens) EOSIO CDT 1.5 durchzuf√ºhren. <br><br><h3>  Im Gegensatz zu √Ñther </h3><br>  Ether verwendet in seinem Konzept PoW (Proof of Work), was teure Berechnungen erfordert und die Belohnung an die erste Person gibt, die ein mathematisches Problem l√∂st.  Das hei√üt, diejenigen, die sich parallel entschieden, aber keine Zeit hatten, sich zu entscheiden, verschwendeten Energie.  In dieser Situation k√§mpfen Bergleute untereinander um fortschrittlichere Technologien und Ger√§te.  Schneller Bl√∂cke generieren und damit verdienen. <br><br>  Im Gegensatz zu Ether w√§hlt das System im EOS-Netzwerk den Ersteller des neuen Blocks gem√§√ü dem PoS-Konzept aus. Dies wird durch die Anzahl der pers√∂nlichen Status bestimmt - ein Bruchteil der Gesamtzahl der Kryptow√§hrungen.  Wer also mehr Gl√ºck hat, hat eine bessere Chance, vom System ausgew√§hlt zu werden.  Aber im Gegensatz zu PoW (√Ñther) gibt es im Prinzip keine Belohnung f√ºr die Erzeugung eines neuen Blocks, und das Einkommen der Bergleute ist ausschlie√ülich die Provision aus Transaktionen. <br><br>  Schlussfolgerung - Kryptow√§hrungen, die auf PoW basieren, k√∂nnen 1000-mal energieeffizienter sein. <br><br><h3>  Wir entwickeln die Entwicklungsumgebung </h3><br>  Es scheint also, als h√§tten wir die Theorie beendet und wenden uns der Praxis zu.  In der Praxis sieht aber alles viel interessanter aus.  Mit der Dokumentation zu der Zeit, als wir im Sommer versuchten, es herauszufinden und etwas f√ºr ZeroNights 2018 zu tun, war alles sehr schlecht, und das Hauptentwicklungsportal war fehlerhaft, halb leer und funktionierte manchmal nicht einmal. <br><br>  Testnetzwerke wurden noch nicht wirklich gestartet, daher musste ich meinen Knoten bereitstellen.  Im Gegensatz zu den Meinungen im Internet stellte sich heraus, dass es nicht so schwierig war, es zu bekommen.  Mithilfe der offiziellen Dokumentation haben wir sie √ºber die Docker-Entwickler.eos.io/eosio-nodeos/docs/docker-quickstart gestartet <br><br>  Lassen Sie uns √ºber die wichtigsten Dienstprogramme sprechen, Programme f√ºr die Arbeit mit der EOS-Blockchain, mit denen ich mich zum Zeitpunkt der Arbeit am Wettbewerb befassen musste: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Knoten</a> - in der Tat der Dienst des EOSIO-Knotens selbst;  Sie k√∂nnen verschiedene Plugins konfigurieren und konfigurieren, z. B. CORS, Verlauf und andere. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cleos</a> ist ein Konsolendienstprogramm zum Arbeiten mit einem Knoten, zum Aufrufen von Vertragsmethoden und zum Interagieren mit einer Brieftasche, Schl√ºsseln und Zugriffen.  Das h√§ufigste Tool bei der Arbeit mit EOS. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Keosd</a> ist eine Konsolenbrieftasche, genauer gesagt ein Brieftaschenservice, ein privater Schl√ºsselspeicher. </li><li>  <a href="">Eosio.cdt</a> - Contract Development Toolkit, das sogenannte Set von Entwicklertools zum Debuggen und Kompilieren von Vertr√§gen, Generieren von ABI-Dateien und mehr. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eos.js</a> - Javascript-API-Bibliothek f√ºr die bequeme Arbeit mit dem Knoten und Vertr√§gen √ºber das in die Site eingebettete Web. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Scatter</a> ist eine Desktop-Brieftasche zur sicheren Aufbewahrung Ihrer Kontoschl√ºssel.  Es gibt eine Webbibliothek dispers.js, die mit der Scatter-Desktop-Brieftasche auf Web-Sockets interagiert und dabei hilft, mit DAPP-Anwendungen im Browser zu arbeiten. </li></ul><br>  Uff! .. Ja, es gibt viele Programme, deren Verst√§ndnis auch nicht ganz einfach ist.  Eine Beschreibung all dessen verdient einen separaten Beitrag und w√ºrde den Rahmen dieses Artikels sprengen.  Stellen wir uns jedoch vor, wir haben einen Knoten auf unserem Server installiert und sogar gelernt, wie man Vertragsmethoden verwendet, um Vertragsmethoden aufzurufen, wenn wir eine hatten. <br><br>  Ja, das Wichtigste.  Wir m√ºssen den intelligenten Vertrag selbst skizzieren.  Wir werden es in C ++ schreiben und um zumindest etwas Vern√ºnftiges zu tun, musste ich viel Dokumentation lesen. <br><br>  Um die Vertr√§ge √ºberall zu verstehen, geben Sie ein Beispiel f√ºr einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hello-</a> Vertrag.  Die Hauptdatei ist hello.cpp und der gesamte Vertrag ist darin beschrieben. <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;eosiolib/eosio.hpp&gt; using namespace eosio; class hello : public eosio::contract { public: using contract::contract; /// @abi action void hi( account_name user ) { print( "Hello, ", name{user} ); } }; EOSIO_ABI( hello, (hi) )</span></span></span></span></code> </pre> <br>  Wenn Sie es kurz erkl√§ren wollen, dann ist hier <u>alles einfach</u> .  Wir laden die Bibliothek eosio.hpp, erstellen dann die Hallo-Klasse (auch als Vertrag bezeichnet) und erben den Klassenvertrag.  Wir erstellen die void hi-Methode und geben die Benutzervariable vom Typ account_name in die Parameter ein. Sie ist auch uint64_t.  Drucken Sie in der Methode "Hallo" und den Namen, den wir beim Aufruf der Methode angeben.  Die letzte Zeile, in der sich EOSIO_ABI befindet, ist ein Hilfsmakro, das unsere Klassen- und √∂ffentlichen Methoden aus dieser Klasse akzeptiert und auch an der Bildung der .abi-Datei beteiligt ist, in der alle √∂ffentlichen Methoden des Vertrags angegeben sind. <br><br><h2>  Sicherheitsl√ºcken erkunden </h2><br>  <i>Im Rahmen dieses <a href="">Artikels</a> wurden mehrere Sicherheitsl√ºcken beschrieben. Lassen Sie uns diese nun genauer betrachten.</i> <br><br><h3>  Numerischer √úberlauf - Numerischer √úberlauf </h3><br>  Wenn der Vertrag aufgerufen wird, √ºberpr√ºft der Knoten den Typ des Parameters, und wenn die Daten, die wir zu f√ºttern versuchen, nicht passen, beginnt der Knoten zu schw√∂ren und solche Gr√§ueltaten werden nicht √ºbersehen.  ABER!  Wenn es einen Algorithmus zum √Ñndern der Zahl, der Summe der Zahlen oder beispielsweise der Multiplikation innerhalb des Vertrags gibt, kann sich die Zahl bereits innerhalb des Vertrags √§ndern.  Dies bedeutet, dass Sie eine Nummer angeben k√∂nnen, die der Knoten √ºberspringt, aber den Vertrag multipliziert. Die Nummer geht dann √ºber den g√ºltigen Datentyp hinaus, was zu einem √úberlauf f√ºhrt. <br><br>  Was kann es geben?  Beispielsweise wird nach einem numerischen Parameter gesucht, z. B. int Number &lt;0, und es ist bekannt, dass int y eine vorzeichenbehaftete Zahl ist. Wenn ein √úberlauf einer Zahl auftritt, √§ndert sich das Vorzeichen der Zahl f√ºr gro√üe Werte in negativ.  Somit wird der Scheck √ºbergelaufen.  Und hier h√§ngt nat√ºrlich alles von der Kritikalit√§t dieser Pr√ºfung ab. <br><br>  Im selben Artikel √ºber Sicherheitsl√ºcken gibt es beispielsweise einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">realen Fall,</a> in dem Angreifer den Balance-Parameter beeinflussen und so das System austricksen konnten.  In den Codekommentaren wird der Mechanismus der Interaktion mit dem Vertrag ausf√ºhrlicher beschrieben: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//      typedef struct acnts { account_name name0; account_name name1; account_name name2; account_name name3; } account_names; //     (   1 EOS) //  ,     , //      ¬´¬ª void batchtransfer( symbol_name symbol, account_name from, account_names to, uint64_t balance ){ //    require_auth(from); //    account fromaccount; //      require_recipient(from); require_recipient(to.name0); require_recipient(to.name1); require_recipient(to.name2); require_recipient(to.name3); // ,       . //   is_balance_within_range   ( eosio_assert(is_balance_within_range(balance), "invalid balance"); // ,      ¬´¬ª //  , ¬´¬ª 1111111111111111  0,     eosio_assert(balance &gt; 0, "must transfer positive balance"); //   amount    4 //     ,  amount   int64_t amount = balance * 4; //     from,    int itr = db_find_i64(_self, symbol, N(table), from); // ,    eosio_assert(itr &gt;= 0, "wrong name"); //    fromaccount   db_get_i64(itr, &amp;fromaccount, (account)); // ,       // ,    0.1 EOS //    ,    amount eosio_assert(fromaccount.balance &gt;= amount, "overdrawn balance"); //   sub_balance(symbol, from, amount); //    4  add_balance(symbol, to.name0, balance); add_balance(symbol, to.name1, balance); add_balance(symbol, to.name2, balance); add_balance(symbol, to.name3, balance); }</span></span></code> </pre> <br>  Das Hacken wurde h√∂chstwahrscheinlich wie folgt durchgef√ºhrt.  Der Angreifer hat 4 Konten vorab erstellt und die <i>Batchtransfer-</i> Methode direkt aufgerufen. <br><br><pre> <code class="bash hljs">cleos push action contractname batchtransfer \<span class="hljs-string"><span class="hljs-string">'{"symbol ":"EOS", "from":‚Äùattacker‚Äù, "to":{ ‚Äúname0‚Äù:‚Äùacc0‚Äù, ‚Äúname1‚Äù:‚Äùacc1‚Äù, ‚Äúname2‚Äù:‚Äùacc2‚Äù, ‚Äúname3‚Äù:‚Äùacc3‚Äù}, "balance":"111111111111111111 EOS"}'</span></span> -p attacker@active</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/914/705/a10/914705a10c7340b57c0d2cb1dc1ea525.jpg" alt="Bild"><br><br>  Ich werde sofort eine Reservierung vornehmen, dies ist nur eine Annahme;  Wie genau sie den Hack gemacht haben - wir wissen nicht, und wenn es andere Gedanken zu dieser oder genaueren Informationen gibt, schreiben Sie in die Kommentare. <br><br><h3>  Autherisierungspr√ºfung </h3><br>  Das Fehlen einer √úberpr√ºfung der Vertragsmethode require_auth () f√ºr die Benutzerautorisierung f√ºhrt dazu, dass jeder, der nicht √ºber die erforderlichen Rechte verf√ºgt, die privilegierten Methoden des Vertrags verwenden kann, z. B. Geld vom Vertrag abheben kann. <br><br><h3>  Fehlende √úberpr√ºfung des Methodenaufrufs </h3><br>  Wenn Sie Geld an einen Vertrag (EOS) senden, k√∂nnen Sie in einem speziellen Makro angeben, was als n√§chstes passieren wird und was zu tun ist.  Angenommen, wenn Sie Geld erhalten, wird ein bestimmter Algorithmus aufgerufen, um beispielsweise Roulette oder etwas anderes zu starten, sowie ein Scheck: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( code == self || code == N(eosio.token) || action == N(onerror) ) { \ <span class="hljs-function"><span class="hljs-function">TYPE </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thiscontract</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( self )</span></span></span></span>; \ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>( action ) { \ EOSIO_API( TYPE, MEMBERS ) \ } } <span class="hljs-comment"><span class="hljs-comment">//    action == N(transfer)</span></span></code> </pre> <br>  Bei dieser Pr√ºfung gibt es keine Einschr√§nkung f√ºr den Aufruf der √úberweisungsmethode, weshalb Sie die √úberweisungsmethode direkt aufrufen k√∂nnen, ohne Geld an den Vertrag zu senden.  Und das bedeutet, den Mechanismus mit einem weiteren Gewinn zu starten, ohne einen Cent auszugeben. <br><br><h2>  ZeroNights 2018 Wettbewerb </h2><br>  Die Idee des Wettbewerbs wurde von selbst geboren: Da alles mit Spielen und drei Schwachstellen verbunden ist, werden wir das Spiel √ºber den intelligenten Vertragsmechanismus in der EOS.io-Blockchain erstellen.  Das Spiel sollte so einfach wie m√∂glich, aber interessant sein. <br><br>  Spielautomat "Einarmiger Bandit"!  Leute, die sich nach einfachem Geld sehnen, haben mich immer √ºberrascht - denken Sie daran, es gibt keine oder fast keine Werbegeschenke auf der Welt.  Hier ist es √ºbrigens ziemlich da, oder besser gesagt, es wird erscheinen, wenn Schwachstellen verwendet werden. <br><br><h3>  Frontend </h3><br>  Sie beschlossen, die Front-End-Spiele modisch, sch√∂n und dreidimensional zu gestalten.  Vielen Dank an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">vtornik23,</a> dass Sie sich nicht geweigert haben, daran teilzunehmen, und uns geholfen haben, ein vollst√§ndiges Frontend f√ºr die Unity3d-Engine zu erstellen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a0/cdc/37b/5a0cdc37b7dfb757df48da8a1713035f.png" alt="Bild"><br><br>  Dreidimensionaler Spielautomat "einarmiger Bandit";  Wenn der Spieler 1 EOS darauf sendet und an einem intelligenten Hebel zieht, hat er die M√∂glichkeit, das Gl√ºcksrad zu starten und den Jackpot zu knacken! <br><br><h3>  Vertragsschwachstellen </h3><br>  Nach der Idee des Spiels wurde der Gewinn als Verlust von drei ZeroNights-Puppen angesehen, die im numerischen Koeffizienten entweder 777 oder 0 betragen w√ºrden. Die Gewinnchancen wurden mit 0,02% gleichgesetzt, und einige unaufmerksame Programmierer versuchten, den Zufallsalgorithmus zu komplizieren, indem sie nur einen Multiplikations√ºberlauf hinzuf√ºgten die Menge des gesendeten Geldes, und war zu faul, um genauer √ºber die Bedingungen nachzudenken, also schrieb ich nur if (Ergebnis == 777 || Ergebnis &lt;1), was es m√∂glich macht, einen negativen Wert zu verschieben. <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rnd = random(<span class="hljs-number"><span class="hljs-number">999</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = rnd * price.amount; <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> prize = <span class="hljs-number"><span class="hljs-number">0</span></span>; print(<span class="hljs-string"><span class="hljs-string">"Result:"</span></span>, result); <span class="hljs-comment"><span class="hljs-comment">// BINGO 777 or 000 !!! ~ 0.02% if(result == 777 || result &lt; 1 ) { prize = 100; sendtokens(from); }</span></span></code> </pre> <br>  Der Smart-Vertrag selbst ist auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github angelegt</a> , sodass jeder ihn von allen Seiten genauer betrachten und andere Schwachstellen identifizieren kann.  Sie wurden bereits etwas h√∂her √ºber sie geschrieben, daher sollte es keine Schwierigkeiten geben, sie zu finden. <br><br><h3>  Teilnahmebedingungen </h3><br>  Die Teilnahmebedingungen sind sehr einfach: Es musste versucht werden, die Mechanismen des Systems zu gewinnen oder zu hacken.  Wenn 3 Matroschkas ausfallen - Jackpot !!!  Das System berechnet 100 Einheiten Kryptow√§hrung.  Wenn ein Teilnehmer dreimal hintereinander einen Jackpot erh√§lt, wird er ein Gewinner und erh√§lt Preise von den Organisatoren - Marken-Hoodies, Abzeichen, eine Vielzahl von Merch. <br><br>  Nat√ºrlich k√∂nnten Sie gewinnen, indem Sie lange auf den Hebel ziehen und auf Gl√ºck hoffen, aber das Gl√ºck ist unvorhersehbar und der Prozentsatz der Gewinne ist sehr gering, sodass es einfacher war, zu hacken. <br><br><h3>  Wettbewerbsergebnisse </h3><br>  Infolgedessen war der Wettbewerb unserer Meinung nach perfekt.  F√ºr 3 Personen waren Belohnungen geplant, und nur drei konnten den Wettbewerb vor dem geplanten Enddatum bew√§ltigen.  Der Wettbewerb dauerte 2 Tage, in denen die Teilnehmer die Aufgabe l√∂sen mussten.  Die offizielle Auszeichnung und Pr√§sentation der Geschenke erfolgte zum Abschluss der Konferenz auf der Hauptb√ºhne von ZeroNights 2018. <br><br>  Das Hauptaugenmerk lag auf dem Wissen √ºber die EOS-Blockchain-Technologie, und wir haben ein paar Tipps hinterlassen, von denen keiner einen finden konnte.  Wir werden dieses R√§tsel f√ºr sp√§ter verlassen ... <br><br><h3>  Teilnehmerbewertungen </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Alexey</a> (1 Platz) <br><blockquote>  ZeroNights ist eine meiner Lieblingskonferenzen, beginnend mit der allerersten, in St. Petersburg habe ich keine einzige verpasst.  Es gibt sicher immer Begeisterung f√ºr sechs Monate, und dort im Fr√ºhjahr PHDays :).  In den letzten 3 Jahren habe ich Blockchain-Entwicklung gemacht.  In diesem Jahr erreichte die Blockchain ZeroNights (in der Vergangenheit schien die Wahrheit dieselbe zu sein, sie war auf der Hackvest, aber ich habe sie verpasst).  Nachdem ich mich f√ºr die Konferenz angemeldet hatte, ging ich zun√§chst nach, was und wie es mit der Blockchain gab.  Ich dachte, es w√§re so etwas wie PHDays, eine Art zuf√§lliger Kurven- oder Rennzustand in der Luft.  Aber hier war EOS, mit dem ich beim ersten EOS-Hackathon ein wenig vertraut war, aber es dauerte nicht lange, und au√üerdem gingen alle Einstellungen f√ºr die Entwicklung verloren.  Der Kampfgeist lie√ü nach und ich wartete auf den Beginn der Konferenz.  Aber die Neugier wurde immer gr√∂√üer, was mit der EOS los ist! </blockquote><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stanislav Povolotsky</a> (2. Platz) <br><blockquote>  F√ºr mich war es ein langer, aber interessanter Wettbewerb.  Und es war eine gro√üartige Gelegenheit, die Architektur der EOS-Blockchain kennenzulernen.  Der Wettbewerb begann mit der √úberraschung, dass Sie nicht in das EOS-Netzwerk (Mainnet) gelangen - nur f√ºr $$$.  Nachdem Sie aufgefordert wurden, den Vertrag im Testnetzwerk bereitzustellen, sich in diesem Netzwerk zu registrieren, Streuung einzurichten und den Transaktionsverlauf f√ºr den Spielvertrag anzuzeigen, wurde sofort klar, wie Sie den Spielautomaten betr√ºgen sollten (der Autor des Vertrags hat dies w√§hrend des Tests mehrmals getan).  Das Vertrauen, dass es so schnell und einfach ist, den Wettbewerb zu verwalten, verschwand jedoch schnell, sobald das Netzwerk nicht alle meine Transaktionen mit Parametern genehmigte, die mit der Gewinntransaktion identisch waren. </blockquote><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Irina</a> (3. Platz) <br><blockquote>  Bevor sie am Wettbewerb teilnahm, pr√§sentierte sie die Arbeit von Smart Contracts nur theoretisch. Daher war es sehr interessant, sie ‚Äûlive zu treffen‚Äú, den Quellcode zu sehen, die Tools auszuprobieren (und erneut sicherzustellen, dass Python das Beste ist).  Die Aufgabe erwies sich als sehr aufregend.  Vielen Dank! </blockquote><br><h3>  Und zum Schluss </h3><br>  Um nicht zu sagen, dass jeder leicht zurechtkam.  F√ºr einige war es 2 Tage lang schwierig, und nur am Ende gelang es den Gl√ºcklichen, mit den M√§ngeln einer Blockchain zu gewinnen. Wenn die Informationen in die Blockchain gelangt sind, sind sie f√ºr alle zug√§nglich, und wenn jemand bereits etwas gehackt hat, kann der andere sie sehen der Weg. <br><br>  Wir danken allen Teilnehmern und denen, die bei der Organisation des Wettbewerbs mitgeholfen haben. <br>  Wir sehen uns bei ZeroNights 2019, neue Abenteuer erwarten Sie! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de433552/">https://habr.com/ru/post/de433552/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de433540/index.html">Jira gegen das Chaos in der Entwicklung: Wie man keine Aufgaben verliert</a></li>
<li><a href="../de433542/index.html">Ein bisschen √ºber die Zukunft der integrierten und diskreten Intel-Grafik</a></li>
<li><a href="../de433544/index.html">Top 5 Anwendungsbereiche f√ºr Objekterkennungssysteme</a></li>
<li><a href="../de433548/index.html">Alles, was Sie √ºber die neuen SOLIDWORKS 2019 nicht wussten und keine Zeit hatten zu fragen</a></li>
<li><a href="../de433550/index.html">Slack Messenger - Gr√ºnde f√ºr die Auswahl, Pfosten w√§hrend der Implementierung und Servicefunktionen, die das Leben erleichtern</a></li>
<li><a href="../de433554/index.html">Wir korrigieren Tippfehler in Suchanfragen</a></li>
<li><a href="../de433556/index.html">The Economist: Wie private Investmentunternehmen 0,001% der reichsten Menschen der Welt den Weltfinanzsektor ver√§ndern</a></li>
<li><a href="../de433558/index.html">TeamCity 2018.2: Unterst√ºtzung f√ºr GitHub Pull Requests, sekund√§rer Server, Installation von Plugins aus dem Repository, Screenshots in Tests</a></li>
<li><a href="../de433560/index.html">Erhalt einer Arbeitserlaubnis in der Tschechischen Republik: Wechsel des Arbeitgebers bei doppelter Arbeitskarte</a></li>
<li><a href="../de433562/index.html">√úberpr√ºfung des LibrePCB-Projekts mit PVS-Studio im Docker-Container</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>