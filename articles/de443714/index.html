<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóæ üêÜ üë®üèª‚Äçüíº ControlValueAccessor und contenteditable in Angular ‚¨úÔ∏è üñ§ üíå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Haben Sie sich jemals gefragt, wie die Kombination von Winkelformularen und HTML-Elementen, √ºber die der Benutzer Daten eingibt, funktioniert? 


 Von...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ControlValueAccessor und contenteditable in Angular</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/443714/"><p>  Haben Sie sich jemals gefragt, wie die Kombination von Winkelformularen und HTML-Elementen, √ºber die der Benutzer Daten eingibt, funktioniert? </p><br><p> Von Anfang an haben wir <code>ControlValueAccessor</code> , eine spezielle Schnittstelle, die nur aus 4 Methoden besteht: </p><br><pre> <code class="javascript hljs">interface ControlValueAccessor { writeValue(value: any): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> registerOnChange(fn: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value: any</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> registerOnTouched(fn: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> setDisabledState(isDisabled: boolean)?: <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> }</code> </pre> <br><p>  Angular verf√ºgt standardm√§√üig √ºber mehrere solcher Accessoren: f√ºr Kontrollk√§stchen und Optionsfelder, f√ºr die Eingabe und Auswahl.  Wenn Sie jedoch einen Chat entwickeln, in dem Sie die M√∂glichkeit geben m√ºssen, kursiv zu schreiben, den Text fett zu gestalten oder beispielsweise Emoticons einzuf√ºgen, verwenden Sie h√∂chstwahrscheinlich das Attribut <code>contenteditable</code> , um formatierten Inhalt zu erstellen. </p><br><p>  Angular unterst√ºtzt die Verwendung von Formularen zusammen mit <code>contenteditable</code> , daher m√ºssen Sie diese selbst schreiben. </p><br><p><img src="https://habrastorage.org/webt/dj/hg/y5/djhgy57odnjfoa4fwxjmzhrxjtc.png"></p><a name="habracut"></a><br><h1 id="controlvalueaccessor">  ControlValueAccessor </h1><br><p>  Die Direktive, die wir schreiben, funktioniert √§hnlich wie die integrierten Accessoren - sie reagiert auf das Attribut <code>contenteditable</code> .  Damit Vorlagen und reaktive Formulare sie durch Abh√§ngigkeitsinjektion empfangen k√∂nnen, reicht es aus, ein integriertes <code>InjectionToken</code> bereitzustellen: </p><br><pre> <code class="javascript hljs">@Directive({ <span class="hljs-attr"><span class="hljs-attr">selector</span></span>: <span class="hljs-string"><span class="hljs-string">'[contenteditable][formControlName],'</span></span> + <span class="hljs-string"><span class="hljs-string">'[contenteditable][formControl],'</span></span> + <span class="hljs-string"><span class="hljs-string">'[contenteditable][ngModel]'</span></span>, <span class="hljs-attr"><span class="hljs-attr">providers</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">provide</span></span>: NG_VALUE_ACCESSOR, <span class="hljs-attr"><span class="hljs-attr">useExisting</span></span>: forwardRef(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ContenteditableValueAccessor), <span class="hljs-attr"><span class="hljs-attr">multi</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, ], }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ContenteditableValueAccessor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ControlValueAccessor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  Die <code>ControlValueAccessor</code> Schnittstelle erfordert 3 Methoden und verf√ºgt √ºber 1 optionale Methode: </p><br><ul><li>  <code>registerOnChange</code> - W√§hrend der Initialisierung wird eine Funktion in diese Methode aufgenommen.  Es wird mit einem neuen Wert aufgerufen, wenn der Benutzer etwas in unsere Komponente eingegeben hat, damit neue Daten in das Steuerelement eingegeben werden. </li><li>  <code>registerOnTouched</code> - W√§hrend der Initialisierung wird eine Funktion in diese Methode aufgenommen.  Es muss aufgerufen werden, wenn der Benutzer unsere Komponente verlassen hat, damit das Steuerelement <code>touched</code> .  Dies wird zur Validierung verwendet. </li><li>  <code>writeValue</code> - Diese Methode wird vom Steuerelement aufgerufen, um den Wert an unsere Komponente zu √ºbergeben.  Es wird verwendet, wenn sich der Wert durch den Code au√üerhalb √§ndert ( <code>setValue</code> oder √Ñndern der Variablen, an die <code>ngModel</code> gebunden ist), sowie zum Festlegen des Anfangswertes. <br><blockquote>  Es ist anzumerken, dass sich <code>ngModel</code> im Gegensatz zu reaktiven Formen <code>ngModel</code> verh√§lt - insbesondere wird der Anfangswert darin mit einer Verz√∂gerung initialisiert, und die <code>writeValue</code> Methode "zuckt" zweimal, das erste Mal mit <code>null</code> : <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/angular/angular/issues/14988</a> <br></blockquote></li><li>  <code>setDisabledState</code> <em>(optional)</em> - Diese Methode wird vom Steuerelement aufgerufen, wenn sich der <code>disabled</code> Status √§ndert.  Obwohl die Methode optional ist, ist es besser, in Ihrer Komponente darauf zu reagieren. </li></ul><br><h1 id="realizaciya-interfeysa">  Schnittstellenimplementierung </h1><br><p>  Um mit dem DOM-Element arbeiten zu k√∂nnen, ben√∂tigen wir <code>Renderer2</code> und das Element selbst. F√ºgen Sie sie also dem Konstruktor hinzu: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>( @Inject(ElementRef) private readonly elementRef: ElementRef, @Inject(Renderer2) private readonly renderer: Renderer2, ) {}</code> </pre> <br><p>  Wir speichern die Methoden, die die Steuerung an uns weitergibt, in den privaten Feldern der Klasse: </p><br><pre> <code class="javascript hljs">private onTouched = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {}; private onChange: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value: string</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {}; registerOnChange(onChange: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value: string</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onChange = onChange; } registerOnTouched(onTouched: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onTouched = onTouched; }</code> </pre> <br><p>  <code>disabled</code> Status f√ºr die <code>contenteditable</code> Komponente entspricht dem Deaktivieren des Bearbeitungsmodus - <code>contenteditable="false"</code> .  Das Festlegen des Werts von au√üen entspricht dem Ersetzen des <code>innerHTML</code> DOM des Elements. Das Aktualisieren des Werts durch den Benutzer und das Verlassen der Komponente kann durch Abonnieren der entsprechenden Ereignisse √ºberwacht werden: </p><br><pre> <code class="javascript hljs">@HostListener(<span class="hljs-string"><span class="hljs-string">'input'</span></span>) onInput() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onChange(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementRef.nativeElement.innerHTML); } @HostListener(<span class="hljs-string"><span class="hljs-string">'blur'</span></span>) onBlur() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onTouched(); } setDisabledState(disabled: boolean) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderer.setAttribute( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementRef.nativeElement, <span class="hljs-string"><span class="hljs-string">'contenteditable'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>(!disabled), ); } writeValue(value: string) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderer.setProperty( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementRef.nativeElement, <span class="hljs-string"><span class="hljs-string">'innerHTML'</span></span>, value, ); }</code> </pre> <br><p>  Das ist in der Tat alles.  Dies reicht f√ºr die grundlegende Implementierung der Arbeit von Angular-Formen und <code>contenteditable</code> Elementen aus. </p><br><h1 id="internet-explorer">  Internet Explorer </h1><br><p>  Es gibt jedoch ein paar aber. </p><br><p>  Erstens ist der leere Anfangswert des Formulars <code>null</code> , und nach dem <code>writeValue</code> in IE11 wird in der Vorlage <code>null</code> angezeigt.  Um die Arbeit korrekt umzusetzen, m√ºssen wir den Wert normalisieren: </p><br><pre> <code class="javascript hljs">writeValue(value: string | <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderer.setProperty( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementRef.nativeElement, <span class="hljs-string"><span class="hljs-string">'innerHTML'</span></span>, ContenteditableValueAccessor.processValue(value), ); } private <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> processValue(value: string | <span class="hljs-literal"><span class="hljs-literal">null</span></span>): string { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> processed = value || <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> processed.trim() === <span class="hljs-string"><span class="hljs-string">'&lt;br&gt;'</span></span> ? <span class="hljs-string"><span class="hljs-string">''</span></span> : processed; }</code> </pre> <br><p>  Hier werden wir auch die folgende Situation behandeln.  Stellen Sie sich vor, der Inhalt eines Elements h√§tte HTML-Tags.  Wenn wir einfach alles ausw√§hlen und l√∂schen, wird es im Inneren nicht leer sein - dort wird ein einzelnes <code>&lt;br&gt;</code> -Tag eingef√ºgt.  Um das Steuerelement nicht mit einem leeren Wert zu verstopfen, wird es als leere Zeichenfolge betrachtet. </p><br><p>  Zweitens unterst√ºtzt Internet Explorer keine <code>input</code> f√ºr <code>contenteditable</code> Elemente.  Wir m√ºssen Fallback mit <code>MutationObserver</code> implementieren: </p><br><pre> <code class="javascript hljs">private readonly observer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MutationObserver(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onChange( ContenteditableValueAccessor.processValue( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementRef.nativeElement.innerHTML, ), ); }); ngAfterViewInit() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observer.observe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementRef.nativeElement, { <span class="hljs-attr"><span class="hljs-attr">characterData</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">childList</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">subtree</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }); } ngOnDestroy() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observer.disconnect(); }</code> </pre> <br><p>  Wir werden keine √úberpr√ºfung in einem bestimmten Browser implementieren.  Stattdessen deaktivieren wir <code>MutationObserver</code> sofort beim ersten <code>input</code> : </p><br><pre> <code class="javascript hljs">@HostListener(<span class="hljs-string"><span class="hljs-string">'input'</span></span>) onInput() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.observer.disconnect(); <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  Jetzt funktioniert unsere Komponente in IE11 und wir sind mit uns zufrieden! </p><br><h1 id="internet-explorer-">  Internet Explorer!  ·Éö (‡≤† Áõä ‡≤† ·Éö) </h1><br><p>  Leider wird IE11 nicht zur√ºckgelassen.  Anscheinend gibt es einen Fehler in der Arbeit von <code>MutationObserver</code> .  Wenn das <code>contenteditable</code> Element Tags enth√§lt, z. B. <code>some &lt;b&gt;text&lt;/b&gt;</code> , wird beim L√∂schen von Text, bei dem das gesamte Tag (in diesem Beispiel der Worttext) gel√∂scht wird, der R√ºckruf des Beobachters <strong>vor dem Real</strong> aufgerufen <strong>√Ñnderungen im DOM!</strong> </p><br><p><img src="https://habrastorage.org/webt/6v/ny/ol/6vnyolxqyhmql3v12r4cu1kjpla.jpeg"></p><br><p>  Leider haben wir keine andere Wahl, als eine Niederlage zuzugeben und <code>setTimeout</code> : </p><br><pre> <code class="javascript hljs">private readonly observer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MutationObserver(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onChange( ContenteditableValueAccessor.processValue( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.elementRef.nativeElement.innerHTML, ), ); }); });</code> </pre> <br><h1 id="vyvod">  Fazit </h1><br><p>  Vorausgesetzt, Angular sollte die Internet Explorer-Versionen 9, 10 und 11 unterst√ºtzen, wird klar, warum sie zu Hause keine Arbeit mit <code>contenteditable</code> implementiert haben. </p><br><p>  Dar√ºber hinaus m√ºssen Sie bedenken, dass HTML sch√§dlichen Code enthalten kann. Nehmen Sie daher nicht mutig unbekannten Inhalt und f√ºgen Sie ihn in das Steuerelement ein. Benutzereingaben m√ºssen beim <code>paste</code> und <code>drop</code> Ereignissen √ºberpr√ºft werden.  Der in diesem Artikel beschriebene Code funktioniert in Angular 4 und h√∂her, einschlie√ülich <code>FormHooks</code> .  Wenn Sie m√∂chten, k√∂nnen Sie Unterst√ºtzung f√ºr Angular 2 hinzuf√ºgen, wenn Sie <code>Renderer</code> und nicht <code>Renderer2</code> .  Der Quellcode und das npm-Paket sind unter den folgenden Links verf√ºgbar: </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/TinkoffCreditSystems/angular-contenteditable-accessor</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://www.npmjs.com/package/@tinkoff/angular-contenteditable-accessor</a> </p><br><p>  Und spielen Sie hier mit einem Beispiel: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://stackblitz.com/edit/angular2-contenteditable-value-accessor</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443714/">https://habr.com/ru/post/de443714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443700/index.html">Wie wir die Interviewstruktur √ºberarbeitet haben und was daraus wurde</a></li>
<li><a href="../de443702/index.html">So delegieren Sie einfache Berichte an den Roboter. Schreiben eines Bots in Python und Google BigQuery</a></li>
<li><a href="../de443704/index.html">Nach den Ergebnissen des B√∂rsengangs von 2019 k√∂nnten im Silicon Valley 5.000 neue Million√§re auftauchen</a></li>
<li><a href="../de443708/index.html">Die Chang'e 4 Mission ist der dritte Mondtag. Rover "Yutu-2" auf der Suche nach ... Steinen</a></li>
<li><a href="../de443710/index.html">Java Challengers # 4: Vergleichen von Objekten mit equals () und hashCode ()</a></li>
<li><a href="../de443716/index.html">"Ich habe ein Backup auf meinem Band." Ich-Geschichte</a></li>
<li><a href="../de443718/index.html">Fantasy-Spiel mit 300.000 Rennen</a></li>
<li><a href="../de443720/index.html">Details</a></li>
<li><a href="../de443722/index.html">Design und Benennung von Warteschlangen</a></li>
<li><a href="../de443724/index.html">AMD Radeon VII: High-End-Chip (Teil 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>