<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíö üë©üèæ‚Äçü§ù‚Äçüë®üèª üèë La solution des t√¢ches WorldSkills du module R√©seau dans la comp√©tence de "CCA". Partie 1 - Configuration de base ü§ûüèæ üë©üèæ‚Äçüî¨ üõçÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le mouvement WorldSkills vise √† fournir aux participants des comp√©tences principalement pratiques qui sont en demande sur le march√© du travail moderne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La solution des t√¢ches WorldSkills du module R√©seau dans la comp√©tence de "CCA". Partie 1 - Configuration de base</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457286/"> Le mouvement WorldSkills vise √† fournir aux participants des comp√©tences principalement pratiques qui sont en demande sur le march√© du travail moderne.  La comp√©tence ¬´Network and System Administration¬ª comprend trois modules: Network, Windows, Linux.  Les t√¢ches varient d'un championnat √† l'autre, les conditions de conduite changent, mais la structure des t√¢ches reste pour l'essentiel inchang√©e. <br><br>  L'√Ælot r√©seau sera le premier en raison de sa simplicit√© par rapport aux √Æles Linux et Windows. <br><br>  Les t√¢ches suivantes seront prises en compte dans l'article: <br><br><ol><li>  Nommez TOUS les appareils en fonction de la topologie </li><li>  Attribuer le nom de domaine wsrvuz19.ru √† TOUS les appareils </li><li>  Cr√©er l'utilisateur wsrvuz19 avec TOUS les mots de passe Cisco sur TOUS les appareils <br><ul><li>  Le mot de passe utilisateur doit √™tre stock√© dans la configuration suite √† la fonction de hachage. </li><li>  L'utilisateur doit avoir le niveau de privil√®ge maximum. </li></ul></li><li>  Pour TOUS les appareils, impl√©mentez le mod√®le AAA. <br><br><ul><li>  L'authentification sur la console distante doit √™tre effectu√©e √† l'aide de la base de donn√©es locale (sauf pour RTR1 et RTR2) </li><li>  Une fois l'authentification r√©ussie, lors de la connexion √† partir de la console distante, l'utilisateur doit imm√©diatement entrer dans le mode avec le niveau de privil√®ge maximal. </li><li>  Configurez le besoin d'authentification sur la console locale. </li><li>  Une fois l'authentification r√©ussie sur la console locale, l'utilisateur doit entrer dans le mode avec le niveau de privil√®ge minimum. </li><li>  Sur BR1, une fois l'authentification r√©ussie sur la console locale, l'utilisateur doit entrer dans le mode avec le niveau de privil√®ge maximal </li></ul></li><li>  Sur TOUS les appareils, d√©finissez le mot de passe wsr pour passer en mode privil√©gi√©. <br><ul><li>  Le mot de passe doit √™tre stock√© dans la configuration PAS √† la suite de la fonction de hachage. </li><li>  D√©finissez le mode dans lequel tous les mots de passe de la configuration sont stock√©s sous forme crypt√©e. </li></ul></li></ol><a name="habracut"></a><br>  La topologie du r√©seau au niveau physique est pr√©sent√©e dans le diagramme suivant: <br><br><img src="https://habrastorage.org/webt/e9/vi/cd/e9vicdacx-qljbarfkqtpcdjcm0.png"><br><br>  Si les informations sont plus faciles √† percevoir au format vid√©o, la solution compl√®te √† ces t√¢ches peut √™tre trouv√©e dans la vid√©o suivante: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/V9qad-t2wsQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h1>  1. D√©finissez les noms de TOUS les appareils en fonction de la topologie </h1><br>  Pour d√©finir le nom du p√©riph√©rique (nom d'h√¥te), il est n√©cessaire d'entrer la commande de <code>hostname <b>SW1</b></code> partir du mode de configuration globale, o√π au lieu de <b>SW1,</b> il est n√©cessaire d'√©crire le nom de l'√©quipement donn√© dans les t√¢ches. <br><br>  Vous pouvez m√™me v√©rifier visuellement les param√®tres - au lieu du <b>commutateur</b> pr√©d√©fini <b>,</b> il est devenu <b>SW1</b> : <br><br><pre> <code class="1c hljs">Switch(config)<span class="hljs-meta"><span class="hljs-meta"># hostname SW1 SW1(config)#</span></span></code> </pre><br>  Apr√®s avoir effectu√© des r√©glages, la t√¢che principale consiste √† enregistrer la configuration. <br><br>  Vous pouvez le faire √† partir du mode de configuration globale avec la commande <code>do write</code> : <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># do write Building configuration... Compressed configuration from 2142 bytes to 1161 bytes[OK]</span></span></code> </pre><br>  Ou en mode privil√©gi√© avec la commande d' <code>write</code> : <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta"># write Building configuration... Compressed configuration from 2142 bytes to 1161 bytes[OK]</span></span></code> </pre><br><h1>  2. Attribuez le nom de domaine wsrvuz19.ru √† TOUS les appareils </h1><br>  Vous pouvez d√©finir le nom de domaine par d√©faut wsrvuz19.ru √† partir du mode de configuration globale √† l'aide de la commande <code>ip domain-name wsrvuz19.ru</code> . <br><br>  La v√©rification est effectu√©e avec la commande r√©capitulative do show hosts du mode de configuration globale: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># ip domain-name wsrvuz19.ru SW1(config)# do show hosts summary Name lookup view: Global Default domain is wsrvuz19.ru ...</span></span></code> </pre><br><h1>  3. Cr√©ez un utilisateur wsrvuz19 sur TOUS les appareils avec le mot de passe Cisco </h1><br>  Il est n√©cessaire de cr√©er un tel utilisateur afin qu'il poss√®de le niveau maximum de privil√®ges, et le mot de passe est stock√© comme une fonction de hachage.  Toutes ces conditions sont prises en compte par le <code>username wsrvuz19 privilege 15 secret cisco</code> command. <br><br>  Ici: <br><br>  <code>username wsrvuz19</code> - nom d'utilisateur; <br>  <code>privilege 15</code> - niveau de privil√®ge (0 - niveau minimum, 15 - niveau maximum); <br>  <code>secret cisco</code> - stockage d'un mot de passe sous la forme d'une fonction de hachage MD5. <br><br>  La commande show <code>running-config</code> vous permet de v√©rifier les param√®tres de la configuration actuelle, o√π vous pouvez trouver la ligne avec l'utilisateur ajout√© et vous assurer que le mot de passe est stock√© sous forme crypt√©e: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># username wsrvuz19 privilege 15 secret cisco SW1(config)# do show running-config ... username wsrvuz19 privilege 15 secret 5 $1$EFRK$RNvRqTPt5wbB9sCjlBaf4. ...</span></span></code> </pre><br><h1>  4. Pour TOUS les appareils, impl√©mentez le mod√®le AAA </h1><br>  Le mod√®le AAA est un syst√®me d'authentification, d'autorisation et de comptabilit√© d'√©v√©nements.  Pour terminer cette t√¢che, la premi√®re √©tape consiste √† activer le mod√®le AAA et √† indiquer que l'authentification sera effectu√©e √† l'aide de la base de donn√©es locale: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># aaa new-model SW1(config)# aaa authentication login default local</span></span></code> </pre><br><h6>  a.  L'authentification sur la console distante doit √™tre effectu√©e √† l'aide de la base de donn√©es locale (sauf pour RTR1 et RTR2) </h6><br>  Les t√¢ches d√©finissent deux types de consoles: locale et distante.  La console distante vous permet d'impl√©menter des connexions distantes, par exemple, via les protocoles SSH ou Telnet. <br><br>  Pour terminer cette t√¢che, vous devez entrer les commandes suivantes: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># line vty 0 4 SW1(config-line)# login authentication default SW1(config-line)# exit SW1(config)#</span></span></code> </pre><br>  La commande <code>line vty 0 4</code> √† la configuration des lignes de terminal virtuel de 0 √† 4. <br><br>  La commande <code>login authentication default</code> active le mode d' <code>login authentication default</code> sur la console virtuelle, et le mode par d√©faut a √©t√© d√©fini dans la t√¢che pr√©c√©dente avec la commande <code>aaa authentication login default local</code> . <br><br>  Pour quitter le mode de configuration de la console distante, utilisez la <code>exit</code> . <br><br>  Un test fiable sera une connexion de test Telnet d'un appareil √† un autre.  Il convient de garder √† l'esprit que pour cela, la commutation de base et l'adressage IP sur l'√©quipement s√©lectionn√© doivent √™tre configur√©s. <br><br><pre> <code class="1c hljs">SW3<span class="hljs-meta"><span class="hljs-meta">#telnet 2001:100::10 User Access Verification Username: wsrvuz19 Password: SW1&gt;</span></span></code> </pre><br><h6>  b.  Apr√®s une authentification r√©ussie, lors de la connexion √† partir de la console distante, l'utilisateur doit imm√©diatement entrer dans le mode avec le niveau de privil√®ge maximal </h6><br>  Pour r√©soudre ce probl√®me, vous devez revenir √† la configuration des lignes de terminal virtuel et d√©finir le niveau de privil√®ge avec la commande de <code>privilege level 15</code> , o√π 15 est √† nouveau le niveau maximum et 0 est le niveau minimum de privil√®ges: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># line vty 0 4 SW1(config-line)# privilege level 15 SW1(config-line)# exit SW1(config)#</span></span></code> </pre><br>  La solution du dernier paragraphe - connexion Telnet √† distance servira de contr√¥le: <br><br><pre> <code class="1c hljs">SW3<span class="hljs-meta"><span class="hljs-meta">#telnet 2001:100::10 User Access Verification Username: wsrvuz19 Password: SW1#</span></span></code> </pre><br>  Apr√®s l'authentification, l'utilisateur entre imm√©diatement en mode privil√©gi√©, contournant le mode non privil√©gi√©, ce qui signifie que la t√¢che est termin√©e correctement. <br><br><h6>  cd.  Configurez le besoin sur la console locale et si l'authentification r√©ussit, l'utilisateur doit entrer dans le mode avec le niveau de privil√®ge minimum </h6><br>  La structure des √©quipes dans ces t√¢ches co√Øncide avec les t√¢ches 4.a et 4.b pr√©c√©demment r√©solues.  La commande <code>line vty 0 4</code> est remplac√©e par la <code>console 0</code> : <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># line console 0 SW1(config-line)# login authentication default SW1(config-line)# privilege level 0 SW1(config-line)# exit SW1(config)#</span></span></code> </pre><br>  Comme d√©j√† mentionn√©, le niveau de privil√®ge minimum est d√©termin√© par le nombre 0. La v√©rification peut √™tre effectu√©e comme suit: <br><br><pre> <code class="1c hljs">SW1<span class="hljs-meta"><span class="hljs-meta"># exit User Access Verification Username: wsrvuz19 Password: SW1&gt;</span></span></code> </pre><br>  Apr√®s l'authentification, l'utilisateur entre en mode non privil√©gi√©, comme indiqu√© dans les t√¢ches. <br><br><h6>  e.  Sur BR1, une fois l'authentification r√©ussie sur la console locale, l'utilisateur doit entrer dans le mode avec le niveau de privil√®ge maximal </h6><br>  La configuration de la console locale sur BR1 ressemblera √† ceci: <br><br><pre> <code class="1c hljs">BR1(config)<span class="hljs-meta"><span class="hljs-meta"># line console 0 BR1(config-line)# login authentication default BR1(config-line)# privilege level 15 BR1(config-line)# exit BR1(config)#</span></span></code> </pre><br>  La v√©rification s'effectue de la m√™me mani√®re que dans le paragraphe pr√©c√©dent: <br><br><pre> <code class="1c hljs">BR1<span class="hljs-meta"><span class="hljs-meta"># exit User Access Verification Username: wsrvuz19 Password: BR1#</span></span></code> </pre><br>  Apr√®s l'authentification, des transitions vers le mode privil√©gi√© se produisent. <br><br><h1>  5. Sur TOUS les appareils, d√©finissez le mot de passe wsr pour passer en mode privil√©gi√© </h1><br>  Les t√¢ches indiquent que le mot de passe pour le mode privil√©gi√© doit √™tre stock√© de mani√®re standard sous forme claire, mais le mode de cryptage de tous les mots de passe ne vous permettra pas de voir le mot de passe sous forme claire.  Pour d√©finir un mot de passe pour <code>enable password wsr</code> mode privil√©gi√©, utilisez la <code>enable password wsr</code> .  En utilisant le <code>password</code> cl√© de <code>password</code> , le type dans lequel le mot de passe sera stock√© est d√©termin√©.  Si le mot de passe doit √™tre chiffr√© lors de la cr√©ation de l'utilisateur, le mot cl√© √©tait <code>secret</code> et le <code>password</code> utilis√© pour le stockage ouvert. <br><br>  Vous pouvez v√©rifier les param√®tres en affichant la configuration actuelle: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># enable password wsr SW1(config)# do show running-config ... enable password wsr ! username wsrvuz19 privilege 15 secret 5 $1$5I66$TB48YmLoCk9be4jSAH85O0 ...</span></span></code> </pre><br>  On peut voir que le mot de passe utilisateur est stock√© sous forme crypt√©e, et le mot de passe pour entrer en mode privil√©gi√© est stock√© en clair, comme indiqu√© dans les t√¢ches. <br>  Pour que tous les mots de passe soient stock√©s sous forme crypt√©e, utilisez la commande de <code>service password-encryption</code> .  L'affichage de la configuration actuelle ressemblera maintenant √† ceci: <br><br><pre> <code class="1c hljs">SW1(config)<span class="hljs-meta"><span class="hljs-meta"># do show running-config ... enable password 7 03134819 ! username wsrvuz19 privilege 15 secret 5 $1$5I66$TB48YmLoCk9be4jSAH85O0 ...</span></span></code> </pre><br>  Le mot de passe n'est plus disponible pour la visualisation en texte clair. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr457286/">https://habr.com/ru/post/fr457286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr457266/index.html">Crise agile. Que faire</a></li>
<li><a href="../fr457270/index.html">Prisma-CMS comme moteur de cr√©ation rapide de MVP</a></li>
<li><a href="../fr457276/index.html">Sept menaces de robots contre votre site</a></li>
<li><a href="../fr457282/index.html">"La mort de Dieu" ou l'effondrement des lois g√©n√©ralement accept√©es pour la constitution d'√©quipes informatiques et la cr√©ation de syst√®mes informatiques au 21e si√®cle</a></li>
<li><a href="../fr457284/index.html">WBOIT en OpenGL: transparence sans tri</a></li>
<li><a href="../fr457288/index.html">Station de travail cryptographique bas√©e sur les jetons PKCS # 11. Signature √©lectronique. 2e partie</a></li>
<li><a href="../fr457290/index.html">Conf√©rence DEFCON 25. Garry Kasparov. "La derni√®re bataille du cerveau." 2e partie</a></li>
<li><a href="../fr457292/index.html">WBOIT en OpenGL: transparence sans tri</a></li>
<li><a href="../fr457294/index.html">"Live high" ou mon histoire de la procrastination √† l'auto-d√©veloppement</a></li>
<li><a href="../fr457298/index.html">Frontend Weekly Digest (17-23 juin 2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>