<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›ˆï¸ ğŸ‘ğŸ½ ğŸ‘¸ğŸ¼ ç€è‰²å™¨ä¸æ˜¯é­”æœ¯ã€‚ åœ¨Unityä¸­ç¼–å†™ç€è‰²å™¨ã€‚ é¡¶ç‚¹ç€è‰²å™¨ ğŸ‘¨ğŸ»â€ğŸš€ ğŸ›³ï¸ ğŸ¤”</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¤§å®¶å¥½ï¼ æˆ‘å«Grigory Dyadichenkoï¼Œæ˜¯Foxsys Studiosçš„åˆ›å§‹äººå…¼CTOã€‚ ä»Šå¤©æˆ‘ä»¬å°†è®¨è®ºé¡¶ç‚¹ç€è‰²å™¨ã€‚ æœ¬æ–‡å°†ä»Unityçš„è§’åº¦æ£€æŸ¥å®è·µï¼Œå¹¶æä¾›éå¸¸ç®€å•çš„ç¤ºä¾‹ä»¥åŠç”¨äºç ”ç©¶æœ‰å…³Unityä¸­ç€è‰²å™¨ä¿¡æ¯çš„è®¸å¤šé“¾æ¥ã€‚ å¦‚æœæ‚¨æ“…é•¿ç¼–å†™ç€è‰²å™¨ï¼Œé‚£ä¹ˆæ‚¨å°†è‡ªå·±æ‰¾ä¸åˆ°ä»»ä½•æ–°ä¸œè¥¿ã€‚ ä»»ä½•æƒ³å¼€...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ç€è‰²å™¨ä¸æ˜¯é­”æœ¯ã€‚ åœ¨Unityä¸­ç¼–å†™ç€è‰²å™¨ã€‚ é¡¶ç‚¹ç€è‰²å™¨</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474812/">å¤§å®¶å¥½ï¼ æˆ‘å«Grigory Dyadichenkoï¼Œæ˜¯Foxsys Studiosçš„åˆ›å§‹äººå…¼CTOã€‚ ä»Šå¤©æˆ‘ä»¬å°†è®¨è®ºé¡¶ç‚¹ç€è‰²å™¨ã€‚ æœ¬æ–‡å°†ä»Unityçš„è§’åº¦æ£€æŸ¥å®è·µï¼Œå¹¶æä¾›éå¸¸ç®€å•çš„ç¤ºä¾‹ä»¥åŠç”¨äºç ”ç©¶æœ‰å…³Unityä¸­ç€è‰²å™¨ä¿¡æ¯çš„è®¸å¤šé“¾æ¥ã€‚ å¦‚æœæ‚¨æ“…é•¿ç¼–å†™ç€è‰²å™¨ï¼Œé‚£ä¹ˆæ‚¨å°†è‡ªå·±æ‰¾ä¸åˆ°ä»»ä½•æ–°ä¸œè¥¿ã€‚ ä»»ä½•æƒ³å¼€å§‹åœ¨Unityä¸­ç¼–å†™ç€è‰²å™¨çš„äººï¼Œæ¬¢è¿åŠ å…¥ã€‚ <br><br><img src="https://habrastorage.org/webt/zr/9n/wy/zr9nwyvbjnky73iqvvuvvzxpyjs.jpeg"><br><a name="habracut"></a><br><h3> ä¸€ç‚¹ç†è®º </h3><br><br> ä¸ºäº†æ›´å¥½åœ°äº†è§£ç€è‰²å™¨è¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸€äº›ç†è®ºã€‚ é¡¶ç‚¹ç€è‰²å™¨æˆ–é¡¶ç‚¹ç€è‰²å™¨æ˜¯å¯ä¸å„ä¸ªé¡¶ç‚¹é…åˆä½¿ç”¨çš„ç€è‰²å™¨çš„å¯ç¼–ç¨‹é˜¶æ®µã€‚ é¡¶ç‚¹åˆå­˜å‚¨äº†ç€è‰²å™¨çš„æ­¤éƒ¨åˆ†å¤„ç†çš„å„ç§å±æ€§ï¼Œä»¥ä¾¿åœ¨è¾“å‡ºä¸­è·å–è½¬æ¢åçš„å±æ€§ã€‚ <br><br><h3> ä½¿ç”¨é¡¶ç‚¹ç€è‰²å™¨çš„ç¤ºä¾‹ </h3><br><br><img src="https://habrastorage.org/webt/fk/ry/kc/fkrykcsixvzaihfaa4g6jajebk4.jpeg"><br><br>  <b>å¯¹è±¡çš„å˜å½¢</b> -é€¼çœŸçš„æ³¢æµªï¼Œé›¨æ°´æ¶Ÿæ¼ªçš„å½±å“ï¼Œå­å¼¹æ’å‡»æ—¶çš„å˜å½¢ï¼Œæ‰€æœ‰è¿™äº›éƒ½å¯ä»¥é€šè¿‡é¡¶ç‚¹ç€è‰²å™¨å®Œæˆï¼Œå¹¶ä¸”æ¯”é€šè¿‡ç€è‰²å™¨ç‰‡æ®µéƒ¨åˆ†ä¸­çš„â€œå‡¹å‡¸è´´å›¾â€è¿›è¡Œçš„åŒä¸€ä»¶äº‹çœ‹èµ·æ¥æ›´åŠ çœŸå®ã€‚ ç”±äºè¿™æ˜¯å‡ ä½•å½¢çŠ¶çš„å˜åŒ–ã€‚ æœ‰å…³æ­¤ä¸»é¢˜çš„3.0çº§ç€è‰²å™¨å…·æœ‰ä¸€ç§ç§°ä¸ºâ€œé—´è·æ˜ å°„â€çš„æŠ€æœ¯ï¼Œå› ä¸ºå®ƒä»¬ç°åœ¨å¯ä»¥è®¿é—®ç€è‰²å™¨é¡¶ç‚¹éƒ¨åˆ†ä¸­çš„çº¹ç†ã€‚ <br><br><img src="https://habrastorage.org/webt/8e/tb/uu/8etbuufscvxpmvx3acs8irusgag.jpeg"><br><br>  <b>å¯¹è±¡çš„åŠ¨ç”»ã€‚</b> å½“æ¤ç‰©å¯¹è§’è‰²æˆ–é£ä¸­æ‘‡æ›³çš„æ ‘æœ¨åšå‡ºååº”æ—¶ï¼Œæ¸¸æˆçœ‹èµ·æ¥æ›´åŠ ç”ŸåŠ¨æœ‰è¶£ã€‚ ä¸ºæ­¤ï¼Œè¿˜ä½¿ç”¨äº†é¡¶ç‚¹ç€è‰²å™¨ã€‚ <br><br><img src="https://habrastorage.org/webt/cu/ov/vk/cuovvkcufzn0jn0351xjw9bzfso.jpeg"><br><br>  <b>å¡é€šç…§æ˜æˆ–ç¨‹å¼åŒ–ã€‚</b> ä»æ ·å¼çš„è§’åº¦æ¥çœ‹ï¼Œåœ¨è®¸å¤šæ¸¸æˆä¸­ï¼Œçœ‹èµ·æ¥æœ‰è¶£çš„ä¸æ˜¯pbrç…§æ˜ï¼Œè€Œæ˜¯æ ·å¼ã€‚ è®¡ç®—ç‰‡æ®µéƒ¨åˆ†ä¸­çš„ä»»ä½•å†…å®¹éƒ½æ²¡æœ‰æ„ä¹‰ã€‚ <br><br><img src="https://habrastorage.org/webt/m1/8a/km/m18akmnn364xlwyrh_0r5pb_zjc.png"><br><br>  <b>å‰¥çš®ã€‚</b> åœ¨æ¸¸æˆå¼•æ“ä¸­çš„ç»™å®šæ—¶åˆ»ï¼Œæ­¤é—®é¢˜å·²è§£å†³ï¼Œä½†æ˜¯äº†è§£é¡¶ç‚¹ç€è‰²å™¨ä»¥äº†è§£å…¶å·¥ä½œåŸç†è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ <br><br><h3> ä½¿ç”¨é¡¶ç‚¹çš„ç®€å•ç¤ºä¾‹ </h3><br><img src="https://habrastorage.org/webt/ra/7v/m-/ra7vm-kgn__gsmaeg6xg7aud4ey.jpeg"><br><br> æˆ‘ä¸å¸Œæœ›å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå°±åƒåœ¨ä¸Šä¸€å ‚æœ‰å…³å¦‚ä½•ç”»çŒ«å¤´é¹°çš„è€è¯¾ç¨‹ä¸­ä¸€æ ·ï¼Œè®©æˆ‘ä»¬â€‹â€‹åˆ†é˜¶æ®µè¿›è¡Œã€‚ åˆ›å»ºä¸€ä¸ªæ ‡å‡†çš„è¡¨é¢ç€è‰²å™¨ã€‚ è¿™å¯ä»¥é€šè¿‡åœ¨é¡¹ç›®è§†å›¾ä¸­æˆ–â€œèµ„äº§â€é€‰é¡¹å¡ä¸Šé¢æ¿ä¸­çš„é¼ æ ‡å³é”®æ¥å®Œæˆã€‚ åˆ›å»º-&gt;ç€è‰²å™¨-&gt;æ ‡å‡†æ›²é¢ç€è‰²å™¨ã€‚ <br><br> æˆ‘ä»¬å¾—åˆ°äº†è¿™æ ·çš„æ ‡å‡†ç©ºç™½ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">è¡¨é¢ç€è‰²å™¨</b> <div class="spoiler_text"><code>Shader "Custom/SimpleVertexExtrusionShader" <br> { <br> Properties <br> { <br> _Color ("Color", Color) = (1,1,1,1) <br> _MainTex ("Albedo (RGB)", 2D) = "white" {} <br> _Glossiness ("Smoothness", Range(0,1)) = 0.5 <br> _Metallic ("Metallic", Range(0,1)) = 0.0 <br> } <br> SubShader <br> { <br> Tags { "RenderType"="Opaque" } <br> LOD 200 <br> <br> CGPROGRAM <br> // Physically based Standard lighting model, and enable shadows on all light types <br> #pragma surface surf Standard fullforwardshadows <br> <br> // Use shader model 3.0 target, to get nicer looking lighting <br> #pragma target 3.0 <br> <br> sampler2D _MainTex; <br> <br> struct Input <br> { <br> float2 uv_MainTex; <br> }; <br> <br> half _Glossiness; <br> half _Metallic; <br> fixed4 _Color; <br> <br> // Add instancing support for this shader. You need to check 'Enable Instancing' on materials that use the shader. <br> // See https://docs.unity3d.com/Manual/GPUInstancing.html for more information about instancing. <br> // #pragma instancing_options assumeuniformscaling <br> UNITY_INSTANCING_BUFFER_START(Props) <br> // put more per-instance properties here <br> UNITY_INSTANCING_BUFFER_END(Props) <br> <br> void surf (Input IN, inout SurfaceOutputStandard o) <br> { <br> // Albedo comes from a texture tinted by color <br> fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color; <br> o.Albedo = c.rgb; <br> // Metallic and smoothness come from slider variables <br> o.Metallic = _Metallic; <br> o.Smoothness = _Glossiness; <br> o.Alpha = ca; <br> } <br> ENDCG <br> } <br> FallBack "Diffuse" <br> }</code> </div> </div><br> å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬å°†åœ¨åŸºæœ¬å®è·µä¹‹ååœ¨æ–‡ç« ä¸­å¯¹å…¶è¿›è¡Œè¯¦ç»†åˆ†æï¼Œæ­¤å¤–ï¼Œåœ¨å®ç°ç€è‰²å™¨æœŸé—´æˆ‘ä»¬å°†éƒ¨åˆ†åœ°ç†è§£å®ƒã€‚ ç°åœ¨ï¼Œè®©æŸäº›äº‹æƒ…ä¿æŒåŸæ ·ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæ²¡æœ‰é­”æœ¯ï¼ˆå°±å¦‚ä½•é€‰æ‹©å‚æ•°ç­‰è€Œè¨€ï¼‰ä»…é’ˆå¯¹æŸäº›å…³é”®å­—ï¼Œè¯¥å•å…ƒä¼šä¸ºæ‚¨ç”Ÿæˆä»£ç ï¼Œä»¥å…ä»å¤´å¼€å§‹ç¼–å†™ä»£ç ã€‚ å› æ­¤ï¼Œæ­¤è¿‡ç¨‹ä¸å¤Ÿæ˜æ˜¾ã€‚ æ‚¨å¯ä»¥åœ¨Unityä¸­é˜…è¯»æœ‰å…³è¡¨é¢ç€è‰²å™¨åŠå…¶å±æ€§çš„æ›´å¤šä¿¡æ¯ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.unity3d.com/Manual/SL-SurfaceShaders.html</a> <br><br> æˆ‘ä»¬å°†åˆ é™¤å…¶ä¸­å¤šä½™çš„æ‰€æœ‰å†…å®¹ï¼Œä»¥å…åˆ†æ•£æ³¨æ„åŠ›ï¼Œå› ä¸ºåœ¨ç»™å®šçš„æ—¶åˆ»ä¸éœ€è¦å®ƒã€‚ å¹¶è·å¾—å¦‚æ­¤çŸ­çš„ç€è‰²å™¨ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ç®€åŒ–çš„ç€è‰²å™¨</b> <div class="spoiler_text"> <code>Shader "Custom/SimpleVertexExtrusionShader" <br> { <br> Properties <br> { <br> _Color ("Color", Color) = (1,1,1,1) <br> } <br> SubShader <br> { <br> Tags { "RenderType"="Opaque" } <br> LOD 200 <br> <br> CGPROGRAM <br> <br> #pragma surface surf Standard fullforwardshadows <br> <br> #pragma target 3.0 <br> <br> struct Input <br> { <br> float4 color : COLOR; <br> }; <br> <br> fixed4 _Color; <br> <br> void surf (Input IN, inout SurfaceOutputStandard o) <br> { <br> fixed4 c = _Color; <br> o.Albedo = c.rgb; <br> } <br> ENDCG <br> } <br> FallBack "Diffuse" <br> } <br></code> <br></div></div><br><img src="https://habrastorage.org/webt/wg/po/iw/wgpoiwtso4uxmmipwrbvtnz1mek.jpeg"><br><br> åªæ˜¯æ¨¡å‹ä¸Šå¸¦æœ‰ç…§æ˜çš„é¢œè‰²ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒUnityè´Ÿè´£è®¡ç®—ç…§æ˜ã€‚ <br><br> é¦–å…ˆï¼Œæ·»åŠ Unityç¤ºä¾‹ä¸­æœ€ç®€å•çš„æ•ˆæœã€‚ æŒ¤å‡ºæ˜¯æ­£å¸¸çš„ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†æå…¶å·¥ä½œåŸç†ã€‚ <br><br> ä¸ºæ­¤ï¼Œå°†<i>vertexï¼švert</i>ä¿®æ”¹å™¨æ·»åŠ åˆ°<i>#pragmaæ›²é¢å†²æµªâ€œæ ‡å‡†fullforwardsâ€é˜´å½±</i>çº¿ã€‚ å¦‚æœæˆ‘ä»¬å°†<i>inout appdata_full v</i>ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œåˆ™å®è´¨ä¸Šè¯¥å‡½æ•°æ˜¯é¡¶ç‚¹ä¿®é¥°ç¬¦ã€‚ å®ƒçš„æ ¸å¿ƒæ˜¯é¡¶ç‚¹ç€è‰²å™¨çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥ç€è‰²å™¨ç”±ä»£ç ç”Ÿæˆå•å…ƒåˆ›å»ºï¼Œè¯¥ä»£ç ç”Ÿæˆå•å…ƒæ‰§è¡Œé¡¶ç‚¹çš„åˆæ­¥å¤„ç†ã€‚ åŒæ ·åœ¨â€œ <i>å±æ€§â€</i>å—ä¸­ï¼Œæ·»åŠ æ¥å—å€¼ä»0åˆ°1çš„<i>_Amount</i>å­—æ®µã€‚è¦åœ¨ç€è‰²å™¨ä¸­ä½¿ç”¨<i>_Amount</i>å­—æ®µï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨å…¶ä¸­å®šä¹‰å®ƒã€‚ åœ¨å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†ç®€å•åœ°æ ¹æ®<i>_Amountç§»è‡³æ³•çº¿</i> ï¼Œå…¶ä¸­0æ˜¯æ ‡å‡†é¡¶ç‚¹ä½ç½®ï¼ˆé›¶ç§»ï¼‰ï¼Œè€Œ1æ˜¯<i>æ­£æ³•çº¿</i> ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">SimpleVertexExtrusionShader</b> <div class="spoiler_text"> <code>Shader "Custom/SimpleVertexExtrusionShader" <br> { <br> Properties <br> { <br> _Color ("Color", Color) = (1,1,1,1) <br> _Amount ("Extrusion Amount", Range(0,1)) = 0.5 <br> } <br> SubShader <br> { <br> Tags { "RenderType"="Opaque" } <br> LOD 200 <br> <br> CGPROGRAM <br> <br> #pragma surface surf Standard fullforwardshadows vertex:vert <br> <br> #pragma target 3.0 <br> <br> struct Input <br> { <br> float4 color : COLOR; <br> }; <br> <br> fixed4 _Color; <br> float _Amount; <br> <br> void vert (inout appdata_full v) <br> { <br> v.vertex.xyz += v.normal * _Amount; <br> } <br> void surf (Input IN, inout SurfaceOutputStandard o) <br> { <br> fixed4 c = _Color; <br> o.Albedo = c.rgb; <br> } <br> ENDCG <br> } <br> FallBack "Diffuse" <br> } <br></code> <br></div></div><br> æ‚¨ä¼šæ³¨æ„åˆ°ç€è‰²å™¨çš„é‡è¦åŠŸèƒ½ã€‚ å°½ç®¡ç€è‰²å™¨æ¯å¸§æ‰§è¡Œä¸€æ¬¡ï¼Œä½†åœ¨ç€è‰²å™¨æ“ä½œæœŸé—´è·å¾—çš„ç»“æœä¸ä¼šä¿å­˜åœ¨ç½‘æ ¼ä¸­ï¼Œè€Œä»…ç”¨äºæ¸²æŸ“ã€‚ å› æ­¤ï¼Œä¸å¯èƒ½ä¸ç€è‰²å™¨çš„åŠŸèƒ½ä»¥åŠè„šæœ¬ä¸­çš„<i>æ›´æ–°ç›¸å…³</i> ã€‚ åœ¨ä¸æ›´æ”¹ç½‘æ ¼æ•°æ®çš„æƒ…å†µä¸‹ï¼Œæ¯å¸§éƒ½åº”ç”¨å®ƒä»¬ï¼Œè€Œåªæ˜¯ä¿®æ”¹ç½‘æ ¼ä»¥è¿›ä¸€æ­¥æ¸²æŸ“ã€‚ <br><br> ä¾‹å¦‚ï¼Œåˆ¶ä½œåŠ¨ç”»æœ€ç®€å•çš„æ–¹æ³•ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨æ—¶é—´æ›´æ”¹æŒ¯å¹…ã€‚ è¯¥å•å…ƒå…·æœ‰å†…ç½®å˜é‡ï¼Œå¯åœ¨æ­¤å¤„æ‰¾åˆ°å…¶å®Œæ•´åˆ—è¡¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.unity3d.com/Manual/SL-UnityShaderVariables.html</a>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†åŸºäºè¿‡å»çš„ç€è‰²å™¨ç¼–å†™ä¸€ä¸ªæ–°çš„ç€è‰²å™¨ã€‚ ä»£æ›¿<i>_Amountï¼Œè®©æˆ‘ä»¬</i>å°†floatå€¼<i>è®¾ä¸º_Amplitudeï¼Œ</i>å¹¶ä½¿ç”¨å†…ç½®çš„Unityå˜é‡<i>_SinTime</i> ã€‚  <i>_SinTime</i>æ˜¯æ—¶é—´çš„æ­£å¼¦ï¼Œå› æ­¤å®ƒçš„å–å€¼èŒƒå›´æ˜¯-1è‡³1ã€‚ä½†æ˜¯ï¼Œè¯·ä¸è¦å¿˜è®°å•ä½ç€è‰²å™¨ä¸­æ‰€æœ‰å†…ç½®çš„æ—¶é—´å˜é‡éƒ½æ˜¯<i>float4</i>å‘é‡ã€‚ ä¾‹å¦‚ï¼Œ <i>_SinTime</i>å®šä¹‰ä¸º<i>ï¼ˆsinï¼ˆt / 8ï¼‰ï¼Œsinï¼ˆt / 4ï¼‰ï¼Œsinï¼ˆt / 2ï¼‰ï¼Œsinï¼ˆtï¼‰ï¼‰</i> ï¼Œå…¶ä¸­tæ˜¯æ—¶é—´ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬é‡‡ç”¨zåˆ†é‡ï¼Œä»¥ä¾¿åŠ¨ç”»æ›´å¿«ã€‚ æˆ‘ä»¬å¾—åˆ°ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">SimpleVertexExtrusionWithTime</b> <div class="spoiler_text"> <code>Shader "Custom/SimpleVertexExtrusionWithTime" <br> { <br> Properties <br> { <br> _Color ("Color", Color) = (1,1,1,1) <br> _Amplitude ("Extrusion Amplitude", float) = 1 <br> } <br> SubShader <br> { <br> Tags { "RenderType"="Opaque" } <br> LOD 200 <br> <br> CGPROGRAM <br> <br> #pragma surface surf Standard fullforwardshadows vertex:vert <br> <br> #pragma target 3.0 <br> <br> struct Input <br> { <br> float4 color : COLOR; <br> }; <br> <br> fixed4 _Color; <br> float _Amplitude; <br> <br> void vert (inout appdata_full v) <br> { <br> v.vertex.xyz += v.normal * _Amplitude * (1 - _SinTime.z); <br> } <br> void surf (Input IN, inout SurfaceOutputStandard o) <br> { <br> fixed4 c = _Color; <br> o.Albedo = c.rgb; <br> } <br> ENDCG <br> } <br> FallBack "Diffuse" <br> } <br></code> <br></div></div><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"> æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘ã€‚ <source src="https://i.giphy.com/media/U5UFh8tOZIAmDyZmzm/giphy.mp4" type="video/mp4"></video></div></div></div><br><br> å› æ­¤ï¼Œè¿™äº›åªæ˜¯ç®€å•çš„ç¤ºä¾‹ã€‚ ç°åœ¨è¯¥ç”»çŒ«å¤´é¹°äº†ï¼ <br><br><h3> ç‰©ä½“å˜å½¢ </h3><br><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"> æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘ã€‚ <source src="https://media.giphy.com/media/pOwf43ETsackhG30CA/giphy.mp4" type="video/mp4"></video></div></div></div><br><br> æˆ‘å·²ç»å†™äº†æ•´ç¯‡æ–‡ç« ï¼Œæ¶‰åŠä¸€ç§å˜å½¢æ•ˆåº”ï¼Œå¹¶è¯¦ç»†åˆ†æäº†è¿‡ç¨‹æ•°å­¦ä»¥åŠå¼€å‘è¿™ç§æ•ˆåº”æ—¶çš„æ€ç»´é€»è¾‘<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">habr.com/en/post/435828</a>è¿™å°†æ˜¯æˆ‘ä»¬çš„çŒ«å¤´é¹°ã€‚ <br><br> æœ¬æ–‡ä¸­çš„æ‰€æœ‰ç€è‰²å™¨å‡ä»¥hlslç¼–å†™ã€‚ è¿™ç§è¯­è¨€å®é™…ä¸Šæœ‰å…¶è‡ªå·±çš„å¤§é‡æ–‡æ¡£ï¼Œå°½ç®¡å®ƒä»¬åœ¨HLSL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.microsoft.com/zh-cn/windows/win32/direct3dhlsl/dx-graphics-hlsl-</a>ä¸­å®šä¹‰ï¼Œä½†è®¸å¤šäººå¿˜è®°å¹¶æƒ³çŸ¥é“æœ‰çº¿åŠŸèƒ½çš„ä¸€åŠæ¥è‡ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä½•å¤„ã€‚å†…åœ¨åŠŸèƒ½</a> <br><br> ä½†æ˜¯å®é™…ä¸Šï¼Œä¸€ä¸ªå•å…ƒä¸­çš„è¡¨é¢ç€è‰²å™¨æœ¬èº«å°±æ˜¯ä¸€ä¸ªåºå¤§è€Œåºå¤§çš„è¯é¢˜ã€‚ å¦å¤–ï¼Œæ‚¨å¹¶ä¸æ€»æ˜¯æƒ³ä¸Unityç…§æ˜æ··ä¸ºä¸€è°ˆã€‚ æœ‰æ—¶ï¼Œæ‚¨éœ€è¦ä½œå¼Šå¹¶ç¼–å†™ä»…å…·æœ‰æ­£ç¡®çš„é¢„å®šä¹‰æ•ˆæœé›†çš„æœ€å¿«çš„ç€è‰²å™¨ã€‚ å¯ä»¥ç»Ÿä¸€ç¼–å†™è¾ƒä½çº§åˆ«çš„ç€è‰²å™¨ã€‚ <br><br><h3> ä½çº§ç€è‰²å™¨ </h3><br><br><img src="https://habrastorage.org/webt/k6/xx/bm/k6xxbmwnws5jw0bjy181o3q9ome.jpeg"><br><br> æ ¹æ®ä½¿ç”¨ç€è‰²å™¨çš„è‰¯å¥½ä¼ ç»Ÿï¼Œä»¥ä¸‹æˆ‘ä»¬å°†æŠ˜ç£¨æ–¯å¦ç¦å…”å­ã€‚ <br><br> é€šå¸¸ï¼Œæ‰€è°“çš„Unity ShaderLabæœ¬è´¨ä¸Šæ˜¯å¯¹æ£€æŸ¥å‘˜çš„å¯è§†åŒ–ï¼Œå…¶ä¸­åŒ…å«ææ–™ä¸­çš„å­—æ®µå¹¶ç®€åŒ–äº†ç¼–å†™ç€è‰²å™¨ã€‚ <br><br> é‡‡ç”¨Shaderlabç€è‰²å™¨çš„ä¸€èˆ¬ç»“æ„ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">é€šç”¨ç€è‰²å™¨ç»“æ„</b> <div class="spoiler_text"> <code>Shader "MyShaderName" <br> { <br> Properties <br> { <br> //   <br> } <br> SubShader //     (   ) <br> { <br> Pass <br> { <br> //   <br> } <br> //        <br> } <br> //     <br> FallBack "VertexLit" //         ,     <br> } <br></code> <br></div></div><br> ç¼–è¯‘æŒ‡ä»¤ï¼Œä¾‹å¦‚ <br>  <i>#pragmaé¡¶ç‚¹vert</i> <br>  <i>#pragmaç‰‡æ®µç‰‡æ®µ</i> <br> ç¡®å®šåˆ†åˆ«å°†å“ªäº›ç€è‰²å™¨åŠŸèƒ½ç¼–è¯‘ä¸ºé¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡æ®µç€è‰²å™¨ã€‚ <br><br> å‡è®¾æˆ‘ä»¬é‡‡ç”¨äº†æœ€å¸¸è§çš„ç¤ºä¾‹ä¹‹ä¸€-ç”¨äºæ˜¾ç¤ºæ³•çº¿é¢œè‰²çš„ç€è‰²å™¨ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">ç®€å•æ³•çº¿å¯è§†åŒ–</b> <div class="spoiler_text"> <code>Shader "Custom/SimpleNormalVisualization" <br> { <br> Properties <br> { <br> } <br> SubShader <br> { <br> Pass <br> { <br> CGPROGRAM <br> <br> #pragma vertex vert <br> #pragma fragment frag <br> <br> #include "UnityCG.cginc" <br> <br> struct v2f { <br> float4 pos : SV_POSITION; <br> fixed3 color : COLOR0; <br> }; <br> <br> v2f vert (appdata_base v) <br> { <br> v2f o; <br> o.pos = UnityObjectToClipPos(v.vertex); <br> o.color = v.normal * 0.5 + 0.5; <br> return o; <br> } <br> <br> fixed4 frag (v2f i) : SV_Target <br> { <br> return fixed4 (i.color, 1); <br> } <br> ENDCG <br> } <br> } <br> FallBack "VertexLit" <br> } <br></code> <br></div></div><br><img src="https://habrastorage.org/webt/5t/oy/wv/5toywvw0cewffefffvw5xfvtj60.jpeg"><br><br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨é¡¶ç‚¹éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†è½¬æ¢åçš„æ³•çº¿å€¼å†™å…¥é¡¶ç‚¹é¢œè‰²ï¼Œåœ¨åƒç´ éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†è¯¥é¢œè‰²ç”¨ä½œæ¨¡å‹çš„é¢œè‰²ã€‚ <br><br>  <i>UnityObjectToClipPos</i>å‡½æ•°æ˜¯Unityè¾…åŠ©å‡½æ•°ï¼ˆæ¥è‡ª<i>UnityCG.cginc</i>æ–‡ä»¶ï¼‰ï¼Œè¯¥å‡½æ•°å°†å¯¹è±¡çš„é¡¶ç‚¹è½¬æ¢ä¸ºä¸ç›¸æœºå…³è”çš„ä½ç½®ã€‚ å¦‚æœæ²¡æœ‰å®ƒï¼Œåˆ™æ— è®ºå˜æ¢çš„ä½ç½®å¦‚ä½•ï¼Œå½“å¯¹è±¡è¿›å…¥ç›¸æœºçš„å¯è§æ€§ï¼ˆè§†é”¥ï¼‰æ—¶ï¼Œéƒ½å°†åœ¨å±å¹•çš„åæ ‡ä¸­ç»˜åˆ¶è¯¥å¯¹è±¡ã€‚ ç”±äºæœ€åˆï¼Œé¡¶ç‚¹çš„ä½ç½®åœ¨å¯¹è±¡çš„åæ ‡ä¸­è¡¨ç¤ºã€‚ åªæ˜¯ç›¸å¯¹äºä»–çš„æ¢è½´è€Œè¨€çš„ä»·å€¼è§‚ã€‚ <br><br> è¿™ä¸ªå—ã€‚ <br> <code>struct v2f { <br> float4 pos : SV_POSITION; <br> fixed3 color : COLOR0; <br> };</code> <br> è¿™æ˜¯å°†åœ¨é¡¶ç‚¹éƒ¨åˆ†ä¸­å¤„ç†å¹¶è½¬ç§»åˆ°ç‰‡æ®µä¸€çš„ç»“æ„çš„å®šä¹‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¡®å®šä»ç½‘æ ¼è·å–ä¸¤ä¸ªå‚æ•°-é¡¶ç‚¹çš„ä½ç½®å’Œé¡¶ç‚¹çš„é¢œè‰²ã€‚ æ‚¨å¯ä»¥åœ¨æ­¤é“¾æ¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.unity3d.com/Manual/SL-VertexProgramInputs.htmlä¸Š</a>äº†è§£æœ‰å…³å¯ä»¥åœ¨ä¸€ä¸ªå•å…ƒä¸­æŠ›å‡ºå“ªäº›æ•°æ®çš„æ›´å¤šä¿¡æ¯ã€‚ <br><br> é‡è¦è¯´æ˜ã€‚ ç½‘æ ¼å±æ€§çš„åç§°æ— å…³ç´§è¦ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡è®¾æ‚¨åœ¨colorå±æ€§ä¸­å¯ä»¥å†™å‡ºä¸åŸå§‹ä½ç½®çš„åå·®çŸ¢é‡ï¼ˆè¿™æ ·ï¼Œå½“è§’è‰²ç§»åŠ¨æ—¶å®ƒä»¬æœ‰æ—¶ä¼šèµ·ä½œç”¨ï¼Œä»¥ä¾¿è‰ä»ä¸­â€œé€€â€ï¼‰ã€‚ å¦‚ä½•å¤„ç†æ­¤å±æ€§å®Œå…¨å–å†³äºæ‚¨çš„ç€è‰²å™¨ã€‚ <br><br><h3> ç»“è®º </h3><br><br> æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼ å†™ä¸€äº›æ²¡æœ‰ç‰‡æ®µçš„å¤æ‚æ•ˆæœæ˜¯æœ‰é—®é¢˜çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°†åœ¨å•ç‹¬çš„æ–‡ç« ä¸­è®¨è®ºç±»ä¼¼çš„é—®é¢˜ã€‚ æˆ‘å¸Œæœ›åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæ€»ä½“ä¸Šå¦‚ä½•ç¼–å†™é¡¶ç‚¹ç€è‰²å™¨çš„ä»£ç ä»¥åŠåœ¨ä½•å¤„å¯ä»¥æ‰¾åˆ°è¦ç ”ç©¶çš„ä¿¡æ¯å˜å¾—æ›´åŠ æ¸…æ¥šï¼Œå› ä¸ºç€è‰²å™¨æ˜¯ä¸€ä¸ªéå¸¸æ·±å…¥çš„ä¸»é¢˜ã€‚ <br><br> åœ¨ä»¥åçš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†æå…¶ä»–ç±»å‹çš„ç€è‰²å™¨ï¼Œå•ä¸ªæ•ˆæœï¼Œå¹¶åœ¨åˆ›å»ºæ–°çš„æˆ–å¤æ‚çš„æ•ˆæœæ—¶å°è¯•æè¿°æˆ‘çš„æ€ç»´é€»è¾‘ã€‚ <br><br> è¿˜åˆ›å»ºäº†ä¸€ä¸ªå­˜å‚¨åº“ï¼Œå°†æ·»åŠ è¯¥ç³»åˆ—æ–‡ç« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/Nox7atra/ShaderExamplesçš„</a>æ‰€æœ‰ç»“æœï¼Œæˆ‘å¸Œæœ›è¿™äº›ä¿¡æ¯å¯¹åˆšå¼€å§‹ç ”ç©¶æ­¤ä¸»é¢˜çš„åˆå­¦è€…æœ‰ç”¨ã€‚ <br><br><h4> ä¸€äº›æœ‰ç”¨çš„é“¾æ¥ï¼ˆåŒ…æ‹¬æ¥æºï¼‰ï¼š </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.khronos.org/opengl/wiki/Vertex_Shader</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.microsoft.com/zh-CN/windows/win32/direct3dhlsl/dx-graphics-hlsl-reference</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.unity3d.com/en/current/Manual/SL-Reference.html</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">docs.unity3d.com/Manual/GraphicsTutorials.html</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.malbred.com/3d-grafika-3d-redaktory/sovremennaya-terminologiya-3d-grafiki/vertex-shader-vershinnyy-sheyder.html</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">3dpapa.ru/å‡†ç¡®çš„ä½ç§»å·¥ä½œæµç¨‹</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN474812/">https://habr.com/ru/post/zh-CN474812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN474800/index.html">.NET Coreçš„æ€§èƒ½</a></li>
<li><a href="../zh-CN474804/index.html">ä¿„ç½—æ–¯åœ¨ä½“è‚²é¢†åŸŸçš„æŠ€æœ¯è¿›æ­¥ï¼šèµ›è½¦çš„ç¥ç»æ¥å£ï¼ŒIPæ‘„åƒæœºï¼Œä½“è‚²CRMå’ŒBigData</a></li>
<li><a href="../zh-CN474806/index.html">Googleçš„UDP Floodæˆ–å¦‚ä½•ä¸å‰¥å¤ºæ‰€æœ‰YouTube</a></li>
<li><a href="../zh-CN474808/index.html">Rust 1.39.0ç‰ˆæœ¬ï¼šå¼‚æ­¥/ç­‰å¾…ï¼Œå‡½æ•°å‚æ•°çš„å±æ€§ï¼Œæ–°çš„å¸¸é‡å‡½æ•°</a></li>
<li><a href="../zh-CN474810/index.html">æ¤­åœ†æ›²çº¿åŠ å¯†åœ¨TLS 1.3ä¸­çš„å·¥ä½œæ–¹å¼</a></li>
<li><a href="../zh-CN474814/index.html">ä¸Šå¤ï¼šè¡°å˜æˆ–è®¡åˆ’å¤–çš„è¿‡æ—¶çš„ä½¿è€…</a></li>
<li><a href="../zh-CN474816/index.html">å® ç‰©é¡¹ç›®-å°ç”Ÿæ´»</a></li>
<li><a href="../zh-CN474818/index.html">CSSä¸­æ˜¯å¦æœ‰éšæœºæ•°ï¼Ÿ</a></li>
<li><a href="../zh-CN474822/index.html">WISE-PaaS-å·¥ä¸šç‰©è”ç½‘çš„äº‘å¹³å°</a></li>
<li><a href="../zh-CN474826/index.html">Markdownä¸­çš„æ™®é€šè¡¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>