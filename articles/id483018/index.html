<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👦‍👦 ™️ 🎈 Topeng-R CNN dari pemula hingga profesional 🕖 🔈 😫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setelah saya perlu menganalisis informasi dari gambar dan pada output untuk memiliki jenis objek, jenisnya, dan juga, menganalisis set bingkai, saya p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Topeng-R CNN dari pemula hingga profesional</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483018/"><p><img src="https://lh6.googleusercontent.com/2ZHVaccuXIFgG1Z5qnHROW6cKyxjEe1RLo0SwRAaOxxyQI7Q_Ymbs7ZuZ6bOs56v7oMaCInsarFjOPZRDWL5hNdKpVhlVtHINo9u3gae4utQB-FARZPFxEV5UmkYY8LVJdTjZ0PK"></p><br><p> Setelah saya perlu menganalisis informasi dari gambar dan pada output untuk memiliki jenis objek, jenisnya, dan juga, menganalisis set bingkai, saya perlu memberikan pengidentifikasi objek dan waktu yang dihabiskan dalam bingkai, perlu untuk menentukan bagaimana objek bergerak dan kamera mana yang terlihat.  Mari kita mulai, mungkin, dengan dua yang pertama, analisis personil secara agregat akan dibahas di bagian selanjutnya. </p><a name="habracut"></a><br><p>  Baiklah, kami akan menjelaskan secara lebih rinci tugas kami: </p><br><ul><li>  Perbaiki orang dan mobil - pilih mereka di gambar dan hasilkan instance kelas yang sesuai dengan bidang yang diperlukan. </li><li>  Tentukan jumlah mobil, jika jatuh ke bingkai kamera tertentu </li><li>  Bandingkan frame saat ini dengan yang sebelumnya untuk persamaan objek, sehingga kita bisa mengetahuinya </li></ul><br><p>  Oke, saya pikir, dan mengambil ular yang tebal, python, artinya.  Diputuskan untuk menggunakan jaringan saraf <a href="https://github.com/matterport/Mask_RCNN">Mask R-Cnn</a> sehubungan dengan kesederhanaan dan <a href="https://habr.com/ru/post/421299/">fitur-fiturnya modern</a> .  Juga, tentu saja, kita akan menggunakan OpenCV untuk manipulasi gambar. </p><br><h2 id="ustanovka-sredy">  Pengaturan lingkungan </h2><br><p>  Kami akan menggunakan Windows 10, karena Anda kemungkinan besar akan menggunakannya. <br>  Dipahami bahwa Anda sudah memiliki 64 bit Python.  Jika tidak, maka Anda dapat mengunduh paket, misalnya, <a href="https://www.python.org/downloads/release/python-374/">dari sini</a> </p><br><h3 id="ustanovka-paketov">  Instalasi Paket </h3><br><pre><code class="plaintext hljs">git clone https://github.com/matterport/Mask_RCNN cd Mask_RCNN pip3 install -r requirements.txt python3 setup.py install</code> </pre> <br><p>  Jika karena alasan tertentu tidak dapat dikompilasi dari sumber, ada versi dari pip: </p><br><pre> <code class="plaintext hljs">pip3 install mrcnn --user</code> </pre> <br><p>  Paket, tentu saja, dilengkapi dengan semua <a href="https://github.com/matterport/Mask_RCNN/blob/master/requirements.txt">dependensi</a> . </p><br><h2 id="etap-1-sozdanie-prosteyshey-programmy-raspoznavatelya">  Tahap 1. Membuat pengenal sederhana. </h2><br><p>  Kami akan melakukan impor yang diperlukan </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mrcnn.config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mrcnn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> mrcnn.model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MaskRCNN</code> </pre> <br><p>  Jaringan saraf memerlukan pembuatan konfigurasi dengan bidang yang diganti </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MaskRCNNConfig</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(mrcnn.config.Config)</span></span></span><span class="hljs-class">:</span></span> NAME = <span class="hljs-string"><span class="hljs-string">"coco_pretrained_model_config"</span></span> GPU_COUNT = <span class="hljs-number"><span class="hljs-number">1</span></span> IMAGES_PER_GPU = <span class="hljs-number"><span class="hljs-number">1</span></span> DETECTION_MIN_CONFIDENCE = <span class="hljs-number"><span class="hljs-number">0.8</span></span> <span class="hljs-comment"><span class="hljs-comment">#     NUM_CLASSES = 81</span></span></code> </pre> <br><p>  Tunjukkan lokasi file dengan skala.  Biarkan dalam contoh ini akan berada di folder dengan file ini.  Jika tidak, maka akan diunduh. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> mrcnn.utils DATASET_FILE = <span class="hljs-string"><span class="hljs-string">"mask_rcnn_coco.h5"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> os.path.exists(DATASET_FILE): mrcnn.utils.download_trained_weights(DATASET_FILE)</code> </pre> <br><p>  Mari kita buat model kita dengan pengaturan di atas </p><br><pre> <code class="python hljs">model = MaskRCNN(mode=<span class="hljs-string"><span class="hljs-string">"inference"</span></span>, model_dir=<span class="hljs-string"><span class="hljs-string">"logs"</span></span>, config=MaskRCNNConfig()) model.load_weights(DATASET_FILE, by_name=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br><p>  Dan mungkin kita akan mulai memproses semua gambar di direktori <code>images</code> di direktori saat ini. </p><br><pre> <code class="python hljs">IMAGE_DIR = os.path.join(os.getcwd(), <span class="hljs-string"><span class="hljs-string">"images"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> filename <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> os.listdir(IMAGE_DIR): image = cv2.imread(os.path.join(IMAGE_DIR, filename)) rgb_image = image[:, :, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] detections = model.detect([rgb_image], verbose=<span class="hljs-number"><span class="hljs-number">1</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br><p>  Apa yang akan kita lihat di deteksi? </p><br><pre> <code class="python hljs"> print(detections)</code> </pre> <br><p>  Misalnya, sesuatu yang serupa: </p><br><pre> <code class="plaintext hljs">{'rois': array([[ 303, 649, 542, 1176],[ 405, 2, 701, 319]]), 'class_ids': array([3, 3]), 'scores': array([0.99896, 0.99770015], dtype=float32), 'masks': array()}</code> </pre> <br><p>  Dalam hal ini, 2 objek ditemukan. <br>  <code>rois</code> - susunan koordinat sudut kiri bawah dan kanan atas <br>  <code>class_ids</code> adalah pengidentifikasi numerik dari objek yang ditemukan, sementara kita perlu tahu bahwa 1 adalah orang, 3 adalah mobil, 8 adalah truk. <br>  <code>scores</code> - sejauh model yakin dengan solusi, parameter ini dapat <code>DETECTION_MIN_CONFIDENCE</code> melalui <code>DETECTION_MIN_CONFIDENCE</code> dalam konfigurasi, memotong semua opsi yang tidak pantas. <br>  <code>masks</code> - kontur objek.  Data digunakan untuk menggambar topeng objek.  Karena  mereka cukup banyak, dan tidak dimaksudkan untuk pemahaman manusia, saya tidak akan mengutip mereka dalam artikel ini. </p><br><p>  Ok, kita bisa berhenti di situ, tetapi kita ingin melihat gambar yang memandu penggunaan jaringan saraf dengan benda-benda yang dipilih dengan indah yang biasanya diberikan? </p><br><p>  Akan lebih mudah untuk memanggil fungsi <code>mrcnn.visualize.display_instances</code> , tetapi kami tidak akan melakukan ini, kami akan menulis sendiri. </p><br><p>  Fungsi akan mengambil gambar, dan parameter utama diperoleh dari kamus dari langkah pertama. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">visualize_detections</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(image, masks, boxes, class_ids, scores)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np bgr_image = image[:, :, ::<span class="hljs-number"><span class="hljs-number">-1</span></span>] CLASS_NAMES = [<span class="hljs-string"><span class="hljs-string">'BG'</span></span>,<span class="hljs-string"><span class="hljs-string">"person"</span></span>, <span class="hljs-string"><span class="hljs-string">"bicycle"</span></span>, <span class="hljs-string"><span class="hljs-string">"car"</span></span>, <span class="hljs-string"><span class="hljs-string">"motorcycle"</span></span>, <span class="hljs-string"><span class="hljs-string">"bus"</span></span>, <span class="hljs-string"><span class="hljs-string">"truck"</span></span>] COLORS = mrcnn.visualize.random_colors(len(CLASS_NAMES)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(boxes.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>]): y1, x1, y2, x2 = boxes[i] classID = class_ids[i] label = CLASS_NAMES[classID] font = cv2.FONT_HERSHEY_DUPLEX color = [int(c) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> c <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> np.array(COLORS[classID]) * <span class="hljs-number"><span class="hljs-number">255</span></span>] text = <span class="hljs-string"><span class="hljs-string">"{}: {:.3f}"</span></span>.format(label, scores[i]) size = <span class="hljs-number"><span class="hljs-number">0.8</span></span> width = <span class="hljs-number"><span class="hljs-number">2</span></span> cv2.rectangle(bgr_image, (x1, y1), (x2, y2), color, width) cv2.putText(bgr_image, text, (x1, y1<span class="hljs-number"><span class="hljs-number">-20</span></span>), font, size, color, width)</code> </pre><br><p><img src="https://lh3.googleusercontent.com/dnSAiGZW32zMK92_T8yyk2nXCFCKECQ_eSdNiVv5Bzpz9TOsBZT6_jyAY-LfUT4c0jCzfdgFOCpy6_0HzT54CAPo3vvkZ6VgR1U5cdmSTb0zLLpAxJjX-_pTNUnpIExXsao_u29b"></p><br><div class="spoiler">  <b class="spoiler_title">Gambar sumber</b> <div class="spoiler_text"><p><img src="https://sun9-10.userapi.com/c854324/v854324789/e2f73/nJHcTGLnWI4.jpg"></p></div></div><br><p>  Meskipun salah satu keuntungan utama dari jaringan saraf ini adalah solusi dari tugas segmentasi Instance - memperoleh kontur objek, kami belum menggunakannya, kami akan menganalisisnya. </p><br><p>  Untuk menerapkan topeng, tambahkan beberapa baris sebelum menggambar persegi panjang untuk setiap objek yang ditemukan. </p><br><pre> <code class="python hljs">mask = masks[:, :, i] <span class="hljs-comment"><span class="hljs-comment">#   image = mrcnn.visualize.apply_mask(image, mask, color, alpha=0.6) #  </span></span></code> </pre> <br><p>  Hasil: <br><img src="https://lh6.googleusercontent.com/2ZHVaccuXIFgG1Z5qnHROW6cKyxjEe1RLo0SwRAaOxxyQI7Q_Ymbs7ZuZ6bOs56v7oMaCInsarFjOPZRDWL5hNdKpVhlVtHINo9u3gae4utQB-FARZPFxEV5UmkYY8LVJdTjZ0PK"></p><br><div class="spoiler">  <b class="spoiler_title">Versi dengan topeng putih</b> <div class="spoiler_text"><p><img src="https://lh5.googleusercontent.com/JUUlUQfOCc9jeeuzMDiSc2Hd06P2aMVli2UPSRkUoxlNVwdlwEfi-BHmuyzOsx-nlvm19lPmYlyxFGYV9xGzpppXRORmDBLtLYH6UcYRh1zO47ROLb04HgUggDoz14Zk2AWZ3ta3"></p></div></div><br><h2 id="etap-ii-pervye-uspehi-raspoznavanie-nomerov-mashin">  Tahap II.  Kesuksesan pertama.  Pengakuan jumlah mobil. </h2><br><p>  Untuk pengakuan, kita membutuhkan bingkai mobil yang jelas di dekat, jadi diputuskan untuk mengambil hanya bingkai dari pos pemeriksaan, dan kemudian membandingkannya dengan kesamaan (lebih lanjut tentang itu di bab berikutnya).  Metode ini, bagaimanapun, memberikan terlalu banyak ketidakakuratan, karena  mesin bisa sangat mirip secara visual dan algoritma saya belum bisa menghindari situasi seperti itu. </p><br><p>  Diputuskan untuk menggunakan lib siap pakai dari produsen Ukraina <a href="https://github.com/ria-com/nomeroff-net">nomeroff-net</a> (bukan iklan).  Karena  hampir semua kode dapat ditemukan pada contoh untuk model, maka saya tidak akan memberikan deskripsi lengkap. </p><br><p>  Saya hanya bisa mengatakan bahwa fungsi ini dapat dimulai dengan gambar asli atau mesin yang dikenali dapat dipotong dari frame dan diteruskan ke fungsi ini. </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.image <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> mpimg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os sys.path.append(cfg.NOMEROFF_NET_DIR) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> NomeroffNet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> filters, RectDetector, TextDetector, OptionsDetector, Detector, textPostprocessing nnet = Detector(cfg.MASK_RCNN_DIR, cfg.MASK_RCNN_LOG_DIR) nnet.loadModel(<span class="hljs-string"><span class="hljs-string">"latest"</span></span>) rectDetector = RectDetector() optionsDetector = OptionsDetector() optionsDetector.load(<span class="hljs-string"><span class="hljs-string">"latest"</span></span>) textDetector = TextDetector.get_static_module(<span class="hljs-string"><span class="hljs-string">"ru"</span></span>)() textDetector.load(<span class="hljs-string"><span class="hljs-string">"latest"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">detectCarNumber</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(imgPath: str)</span></span></span><span class="hljs-function"> -&gt; str:</span></span> img = mpimg.imread(imgPath) NP = nnet.detect([img]) cvImgMasks = filters.cv_img_mask(NP) arrPoints = rectDetector.detect(cvImgMasks) zones = rectDetector.get_cv_zonesBGR(img, arrPoints) regionIds, stateIds, _c = optionsDetector.predict(zones) regionNames = optionsDetector.getRegionLabels(regionIds) <span class="hljs-comment"><span class="hljs-comment"># find text with postprocessing by standart textArr = textDetector.predict(zones) textArr = textPostprocessing(textArr, regionNames) return textArr</span></span></code> </pre> <br><p>  output textArr akan mewakili array string dengan jumlah mesin yang ditemukan pada frame, misalnya: <br>  <code>["293163"]</code> , atau <code>[""]</code> , <code>[]</code> - jika tidak ada nomor yang cocok ditemukan. </p><br><h2 id="etap-iii-opoznaem-obekty-na-shozhest">  Tahap III.  Identifikasi objek berdasarkan kesamaan. </h2><br><p>  Sekarang kita perlu memahami cara memperbaiki objek sekali, untuk memahami bahwa itu adalah dia di bingkai berikutnya.  Pada tahap ini, kita akan menganggap bahwa kita hanya memiliki satu kamera dan kita hanya akan membedakan antara frame yang berbeda darinya. </p><br><p>  Untuk melakukan ini, Anda perlu mengetahui bagaimana kami akan membandingkan dua objek. </p><br><p>  Saya akan mengusulkan algoritma <a href="https://en.wikipedia.org/wiki/Scale-invariant_feature_transform">pengayakan</a> untuk tujuan ini.  Kami membuat reservasi bahwa itu bukan bagian dari bagian utama OpenCV, jadi kami perlu mengirimkan modul contrib.  Sayangnya, algoritma ini dipatenkan dan penggunaannya dalam program komersial terbatas.  Tetapi kami fokus pada kegiatan penelitian, bukan? </p><br><pre> <code class="plaintext hljs">pip3 install opencv-contrib-python --user</code> </pre> <br><p>  ~~ Kelebihan operator == ~~ Kami menulis fungsi yang mengambil 2 objek dibandingkan dalam bentuk matriks.  Sebagai contoh, kita mendapatkannya setelah memanggil fungsi <code>cv2.open(path)</code> </p><br><p>  Kami akan menulis implementasi algoritma kami. </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">compareImages</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(img1, img2)</span></span></span><span class="hljs-function"> -&gt; bool:</span></span> sift = cv2.xfeatures2d.SIFT_create()</code> </pre> <br><p>  Temukan poin kunci dan deskriptor menggunakan SIFT.  Mungkin saya tidak akan memberikan bantuan untuk fungsi-fungsi ini, karena Anda selalu dapat menyebutnya di shell interaktif sebagai <code>help(somefunc)</code> </p><br><pre> <code class="python hljs"> kp1, des1 = sift.detectAndCompute(img1, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) kp2, des2 = sift.detectAndCompute(img2, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br><p>  Siapkan algoritma kami. </p><br><pre> <code class="python hljs"> FLANN_INDEX_KDTREE = <span class="hljs-number"><span class="hljs-number">0</span></span> indexParams = dict(algorithm=FLANN_INDEX_KDTREE, trees=<span class="hljs-number"><span class="hljs-number">5</span></span>) searchParams = dict(checks=<span class="hljs-number"><span class="hljs-number">50</span></span>) flann = cv2.FlannBasedMatcher(indexParams, searchParams)</code> </pre> <br><p>  Sekarang jalankan. </p><br><pre> <code class="python hljs"> matches = flann.knnMatch(des1, des2, k=<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br><p>  Hitung kesamaan antar gambar. </p><br><pre> <code class="python hljs"> matchesCount = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> m, n <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> matches: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> m.distance &lt; cfg.cencitivity*n.distance: matchesCount += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> matchesCount &gt; cfg.MIN_MATCH_COUNT</code> </pre> <br><p>  Sekarang, cobalah untuk menggunakannya <br>  Untuk melakukan ini, setelah mendeteksi objek, kita perlu memotongnya dari gambar asli </p><br><p>  Saya tidak bisa menulis apa pun lebih baik daripada menyimpannya untuk memori lambat, dan kemudian membaca dari sana. </p><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extractObjects</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(objects, binaryImage, outputImageDirectory, filename=None)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> objects: y1, x1, y2, x2 = item.coordinates <span class="hljs-comment"><span class="hljs-comment">#       cropped = binaryImage[y1:y2, x1:x2] beforePoint, afterPoint = filename.split(".") outputDirPath = os.path.join(os.path.split(outputImageDirectory)[0], "objectsOn" + beforePoint) if not os.path.exists(outputDirPath): os.mkdir(outputDirPath) coordinates = str(item).replace(" ", ",") pathToObjectImage = "{}{}.jpg".format(item.type, coordinates) cv2.imwrite(os.path.join(outputDirPath, str(pathToObjectImage)), cropped)</span></span></code> </pre> <br><p>  Sekarang kita memiliki objek dalam <code>&lt;outputImageDirectory&gt;/objectsOn&lt;imageFilename&gt;</code> </p><br><p>  Sekarang, jika kita memiliki setidaknya 2 direktori seperti itu, maka kita dapat membandingkan objek di dalamnya.  Jalankan fungsi yang ditulis sebelumnya </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> compareImages(previousObjects, currentObjects): print(“  !”)</code> </pre> <br><p>  Atau kita dapat melakukan tindakan lain, seperti menandai objek-objek ini dengan pengidentifikasi yang sama. </p><br><p>  Tentu saja, seperti semua jaringan saraf, yang satu ini cenderung memberikan hasil yang terkadang keliru. </p><br><p>  Secara umum, kami telah menyelesaikan 3 tugas yang ditetapkan di awal, jadi kami akan menyelesaikannya.  Saya ragu bahwa artikel ini membuka mata orang-orang yang telah menulis setidaknya satu program yang memecahkan masalah pengenalan gambar / segmentasi gambar, tapi saya harap saya membantu setidaknya satu pengembang pemula). </p><br><p>  Kode sumber lengkap proyek dapat ditemukan di <a href="https://github.com/Sapfir0/premier-eye">sini</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id483018/">https://habr.com/ru/post/id483018/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id483004/index.html">Efek Kuleshov dalam Disco Elysium: bagaimana konteks menciptakan makna</a></li>
<li><a href="../id483008/index.html">Masa depan lain - perpecahan umat manusia</a></li>
<li><a href="../id483012/index.html">Antiquities: Roland MT-32, suara alternatif untuk game DOS</a></li>
<li><a href="../id483014/index.html">Antrian pesan PostgreSQL menggunakan PgQ</a></li>
<li><a href="../id483016/index.html">Sejarah Singkat Mikroprosesor Ruang, Bagian Dua</a></li>
<li><a href="../id483024/index.html">"Apa yang dilakukan korporasi dengan privasi Anda?", Arthur Khachuyan (Tazeros Global)</a></li>
<li><a href="../id483026/index.html">Java / Spring: Cara menghasilkan sepenuhnya API CRUD REST menggunakan Speedment</a></li>
<li><a href="../id483030/index.html">API yang membuat Anda menangis</a></li>
<li><a href="../id483032/index.html">Pindah dari CIS ke Republik Ceko, pengalaman sendiri (bagian 2)</a></li>
<li><a href="../id483036/index.html">n-Queens Completion Problem - algoritma solusi linier</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>