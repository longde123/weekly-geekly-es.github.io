<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍂 😕 🚠 YIMP - لوحة التحكم لـ Yii 2 على Bootstrap 4 🗺️ 👨🏽‍✈️ 👗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="أنا متأكد من أن العديد من المطورين الذين يفضلون الأطر على CMS الجاهزة لديهم في المخزون حل على Bootstrap أو نظائره ، والذي يستخدم لإنشاء واجهات مسؤول و...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>YIMP - لوحة التحكم لـ Yii 2 على Bootstrap 4</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466505/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  أنا متأكد من أن العديد من المطورين الذين يفضلون الأطر على CMS الجاهزة لديهم في المخزون حل على Bootstrap أو نظائره ، والذي يستخدم لإنشاء واجهات مسؤول وغيرها من واجهات المكتب الخلفي.  ولدي ذلك.  لقد كانت تعمل بنجاح لسنوات عديدة ، لكنها عفا عليها الزمن بشكل يائس.  حان الوقت لإعادة الكتابة. </p><br><p style=";text-align:right;direction:rtl">  أثناء العمل على الإصدار الجديد ، حاولت تلخيص كل تجربتي في هذا الموضوع ، ونتيجة لذلك حصلت على <strong>YIMP - دراجة لا أخجل من مشاركتها:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GitHub</a> ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">LiveDemo</a> ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وثائق API</a> . </p><br><p style=";text-align:right;direction:rtl">  YIMP بسيط جدا.  لكن وراء هذا البساطة هو الفكر الطويل ، الذي أود أيضًا مشاركته.  لذلك هذه المقالة ليست تعليمات.  هنا نتحدث عن الهندسة المعمارية ، وإدارة التبعية ، ونموذج MVC ، وواجهة المستخدم ، بالطبع. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  لذلك ، YIMP هي لوحة القيادة.  هذه ليست لوحة إدارة جاهزة ، وليست CMS أو حتى CMF.  يجب كتابة رمز التمثيل بشكل مستقل أو استخدام Gii (يتم إرفاق القوالب).  يوفر YIMP تخطيطًا يحدد مكان وجود عناصر التحكم ، بالإضافة إلى الواجهة التي ينقل التطبيق من خلالها البيانات إلى التخطيط.  هذه هي الطريقة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">التي</a> يبدو بها على أجهزة الكمبيوتر المكتبية: </p><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mg/cq/8p/mgcq8plajqml62wpyw6za3gnode.png"></div><br><p style=";text-align:right;direction:rtl">  تخطيط التكيف.  أثناء تقلص الشاشة ، تبدأ العناصر في الاختفاء أو التحرك فوق الأزرار في شريط التنقل.  نتيجة لذلك <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">،</a> تبدو <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نفس الصفحة</a> على الهاتف كما يلي: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">من الأفضل أن يكون تحت المفسد</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/vv/gi/ni/vvginigkcypah1yxxxp7jnr6-6e.png" width="250"></div></div></div><br><p style=";text-align:right;direction:rtl">  ماذا نرى في التخطيط؟  عنوان التطبيق ، فتات التصفح ، ثلاثة قوائم (يسار ، يمين ، أعلى) ، عناصر واجهة مستخدم في الأشرطة الجانبية ، عنوان الصفحة.  في ممارستي ، كانت هذه المجموعة من العناصر كافية لتطوير أي واجهات - من صفحات المسؤول للصفحات المقصودة إلى أنظمة معلومات الشركة.  حاولت ترتيبها حتى يتم استخدام المساحة بأكبر قدر ممكن من الكفاءة.  ماذا تقول؟ </p><br><p style=";text-align:right;direction:rtl">  يتم كتابة العلامات في Bootstrap الخالص ، دون ملحقات والتخصيص.  كلما كان ذلك ممكنًا ، تم استخدام فئات من Bootstrap ، لذلك إذا قررت استخدام التخصيص ، فلن تكون هناك أية مشكلات. </p><br><p style=";text-align:right;direction:rtl">  كما قلت ، يتضمن YIMP واجهة ينقل التطبيق من خلالها البيانات إلى التخطيط.  دعونا نرى كيف يحدث هذا.  افتح الغطاء </p><br><h2 id="leyaut" style=";text-align:right;direction:rtl">  تصميم </h2><br><p style=";text-align:right;direction:rtl">  أعتقد أن المطور يجب أن يكون لديه السيطرة الكاملة على التصميم ، لذلك عند تثبيت YIMP ، أوصي بنسخ الكود الخاص به إلى تطبيقه.  في رأيي ، هذا أفضل بكثير من ترك تخطيط في الحزمة وحظر مجموعة من الإعدادات لذلك.  دعونا نرى رمز التخطيط: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">77 سطور من التعليمات البرمجية.</b>  <b class="spoiler_title">ليس من الضروري الخوض في!</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">dmitrybtn</span></span>\<span class="hljs-title"><span class="hljs-title">yimp</span></span>\<span class="hljs-title"><span class="hljs-title">widgets</span></span>\<span class="hljs-title"><span class="hljs-title">Alert</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">dmitrybtn</span></span>\<span class="hljs-title"><span class="hljs-title">yimp</span></span>\<span class="hljs-title"><span class="hljs-title">Yimp</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">bootstrap4</span></span>\<span class="hljs-title"><span class="hljs-title">Html</span></span>; $yimp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Yimp(); $yimp-&gt;register(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string $content Content came from view */</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;beginPage() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;!DOCTYPE html&gt; &lt;html lang=<span class="hljs-string"><span class="hljs-string">"en"</span></span>&gt; &lt;head&gt; &lt;meta charset=<span class="hljs-string"><span class="hljs-string">"&lt;?= Yii::$app-&gt;charset ?&gt;"</span></span>&gt; &lt;meta name=<span class="hljs-string"><span class="hljs-string">"viewport"</span></span> content=<span class="hljs-string"><span class="hljs-string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> Html::csrfMetaTags() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;title&gt;<span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> Html::encode($yimp-&gt;nav-&gt;getTitle()) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/title&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;head() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/head&gt; &lt;body&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;beginBody() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;navbar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginSidebars() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginLeftSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginLeftSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;menuLeft([ <span class="hljs-string"><span class="hljs-string">'options'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'nav-pills flex-column border rounded py-2'</span></span>] ]) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endLeftSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_LEFT])): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_LEFT] <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endLeftSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginRightSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginRightSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;menuRight([ <span class="hljs-string"><span class="hljs-string">'options'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'nav-pills flex-column border rounded py-2'</span></span>] ]) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endRightSidebarMenu() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_RIGHT])): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::SIDEBAR_RIGHT] <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endRightSidebar() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endSidebars() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;beginContent() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;headerDesktop() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> Alert::widget() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $content <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $yimp-&gt;endContent() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::FOOTER])): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;blocks[$yimp::FOOTER] <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;endBody() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/body&gt; &lt;/html&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;endPage() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  كما ترون ، فإن كل علامات YIMP يتم لفها بالطرق.  معظم هذه الطرق ببساطة طباعة الخطوط التي تؤخذ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">من هذه المجموعة</a> .  نعم ، مبدأ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">KISS</a> هو كل شيء لدينا. </p><br><p style=";text-align:right;direction:rtl">  يرجى ملاحظة أن كتل تستخدم في التخطيط.  إنها ضرورية لعرض عناصر واجهة تعامل محددة في طرق العرض (هذه هي الطريقة التي يتم بها تقديم عناصر تحكم النموذج).  حسنًا ، إذا كان يجب أن يتم تعليق التطبيق المصغّر على جميع الصفحات ، فمن الأفضل تحديده مباشرةً في التخطيط. </p><br><p style=";text-align:right;direction:rtl">  لذلك ، يتم تعريف المنطقة الرئيسية والحاجيات في وجهات النظر.  وأين يتم تحديد العناوين والقوائم وفتات الخبز؟  في رأيي ، يتم تعريفها بشكل أفضل في وحدات التحكم.  هذه نقطة مهمة ، لأن مثل هذا القرار يتناقض مع نموذج MVC.  لنلقِ نظرة على هذه المشكلة بمزيد من التفصيل. </p><br><h2 id="kontrollery" style=";text-align:right;direction:rtl">  التحكم </h2><br><p style=";text-align:right;direction:rtl">  لذلك ، يجب أن يكون هناك <code>ProfileController</code> يمكنه عرض معلومات حول ملف تعريف المستخدم الحالي وتغيير كلمة المرور.  منطقياً ، سيتم استدعاء إجراء <code>profile/view</code> "ملفي الشخصي".  ومن المنطقي أيضًا وجود عنصر "ملفي الشخصي" في القائمة الرئيسية.  أخيرًا ، يجب أن يكون "ملفي الشخصي" في فتات التصفح: "الصفحة الرئيسية / ملفي الشخصي / تغيير كلمة المرور."  أعتقد أن الرغبة في تحديد ثابت بكلمات "ملفي الشخصي" لها ما يبررها تمامًا.  لا يمكنك القيام بذلك في طريقة العرض.  اختيار طبقة منفصلة للعناوين أمر مرهق.  التفكير مثل هذا ، جئت إلى وحدات التحكم. </p><br><p style=";text-align:right;direction:rtl">  كانت الخطوة التالية هي قرار تحديد ليس فقط رؤوس الإجراءات في وحدات التحكم ، ولكن أيضًا فتات الخبز والقوائم.  وقم بذلك حتى يتمكن YIMP من قراءتها.  وهنا نحتاج إلى مثال.  دعنا ننظر إلى تطبيق ممكن للفئة <code>ProfileController</code> . </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">52 سطور من الكود البسيط.</b>  <b class="spoiler_title">من الأفضل أن ننظر بعناية!</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ProfileController</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yii</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">web</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $nav; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::init(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> \dmitrybtn\yimp\Navigator; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">titleView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">titlePassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crumbsToView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titleView(), <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'/profile/view'</span></span>]] ]; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;title = <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titleView(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;menuRight = [ [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>], [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titlePassword(), [<span class="hljs-string"><span class="hljs-string">'password'</span></span>]], ]; ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'view'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPassword</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;title = <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titlePassword(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;crumbs = <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::crumbsToView(); ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'password'</span></span>); } }</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  يتم تعريف الرؤوس والفتات باستخدام طرق ثابتة ، مما يعني أنه يمكن استخدامها في أي مكان.  على سبيل المثال ، في القائمة الرئيسية للتطبيق ، يمكنك الكتابة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs">[<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; ProfileController::titleView(), <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'/profile/view'</span></span>]],</code> </pre> <br><p style=";text-align:right;direction:rtl">  لماذا بالضبط الطرق؟  لأنه سيُطلب منك غدًا بدلاً من الكلمات "ملفي الشخصي" عرض تسجيل دخول المستخدم الحالي. </p><br><p style=";text-align:right;direction:rtl">  مع فتات الخبز نفسه.  افترض أن <code>ImageController</code> لديه قائمة بالصور التي يكون <code>ImageController</code> مسؤولاً عنها.  ثم في <code>image/create</code> إجراء يمكنك الكتابة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;crumbs = ProfileController::crumbsToView(),</code> </pre> <br><p style=";text-align:right;direction:rtl">  واحصل على فتات الخبز مثل "الصفحة الرئيسية / ملفي الشخصي / أضف صورة".  بالمناسبة ، بما أن <code>image/create</code> إجراء يسمى "إضافة صورة" ، فإن قائمة إجراء <code>profile/view</code> تحتاج إلى تصحيح: </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;nav-&gt;menuRight = [ [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>], [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span>::titlePassword(), [<span class="hljs-string"><span class="hljs-string">'password'</span></span>]], [<span class="hljs-string"><span class="hljs-string">'label'</span></span> =&gt; ImageController::titleCreate(), <span class="hljs-string"><span class="hljs-string">'url'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'/image/create'</span></span>]] ];</code> </pre> <br><p style=";text-align:right;direction:rtl">  أعتقد أن الفكرة مفهومة.  في رأيي ، هذا حل بسيط وفعال يمكنك من خلاله الابتعاد عن نموذج MVC.  نعم ، رمز وحدة التحكم يزداد حجمًا ، ولكن يوجد مكان في وحدة التحكم - لا نكتب منطق العمل هناك ، أليس كذلك؟  ونعم ، سأكون مهتمًا جدًا بمعرفة رأيك في هذا الأمر. </p><br><p style=";text-align:right;direction:rtl">  نحن نذهب أبعد من ذلك.  كما كنت قد خمنت ، يتم استخدام خاصية <code>nav</code> ، التي تم تعريفها على أنها <code>\dmitrybtn\yimp\Navigator</code> ، لنقل الرؤوس والقوائم وفتات التصفح من وحدة التحكم إلى التخطيط.  وهذه ميزة أخرى من YIMP. </p><br><h2 id="navigator" style=";text-align:right;direction:rtl">  ملاح </h2><br><p style=";text-align:right;direction:rtl">  كيف تدخل الإعدادات في التصميم؟  بسيط جدا  أثناء التهيئة ، يتحقق YIMP من خاصية <code>nav</code> لوحدة التحكم الحالية.  إذا كانت هذه الخاصية قابلة للقراءة وكانت عبارة عن <code>instanceof \dmitrybtn\yimp\Navigator</code> ( <code>instanceof \dmitrybtn\yimp\Navigator</code> ) ، يتم استخدامها لعرض المعلومات ذات الصلة.  يتضمن المستكشف خصائص متوافقة مع عناصر التخطيط ، والتي يسهل رؤيتها في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وثائق واجهة برمجة التطبيقات</a> . </p><br><p style=";text-align:right;direction:rtl">  في التطبيق ، يوصى بإنشاء متصفح خاص بك وتحديد القوائم فيه والتي لن تعتمد على الإجراء الحالي (الأعلى واليسار).  بعد ذلك ، في جميع وحدات التحكم ، تحتاج إلى إنشاء خاصية <code>nav</code> وتعريفها كمستكشف (يمكنك استخدام يديك ، أو يمكنك أن ترث ، أو يمكنك أن تريك).  إذا لزم الأمر ، يمكنك تحديد العديد من الملاحين. </p><br><p style=";text-align:right;direction:rtl">  هذا النهج يلغي العلاقة المباشرة بين YIMP ووحدة التحكم.  يتم تنفيذ كل التفاعل من خلال كائن واحد ، يتم التحكم في تنفيذه بواسطة المطور.  وهذا هو ، وهذا هو نفس مبدأ انعكاس التبعية من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SOLID</a> أو منخفضة اقتران من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GRASP</a> . </p><br><p style=";text-align:right;direction:rtl">  سيكون من الصحيح أيديولوجيًا استخدام الواجهات ، سواء بالنسبة لوحدة التحكم أو المستكشف.  لكنني قررت هنا أن أسير في أبسط الطرق وليس الفوضى في النظام.  في النهاية ، لا يتحدث DIP عن واجهات ، ولكن عن تجريدات.  وفي هذه الحالة ، التجريد هو اتفاق على وجود نوع معين من الممتلكات في فئة معينة.  ما رايك </p><br><p style=";text-align:right;direction:rtl">  يصبح غياب علاقة مباشرة بين YIMP ووحدة التحكم مهمًا عند ظهور الوحدات النمطية في النظام التي لا تعرف أي شيء عن YIMP.  أو العكس - يتم تثبيت الوحدات النمطية المكتوبة تحت YIMP في نظام لا يستخدمه YIMP. </p><br><p style=";text-align:right;direction:rtl">  في الحالة الأولى ، لن ترى YIMP خصائص <code>nav</code> في وحدة التحكم.  لن يكون هناك أي خطأ ، لكن قوائمك ستختفي من الشاشة ، وسيتم استخدام معرف الإجراء كعنوان.  كيف تكون  بسيط جدًا - إذا لم يستطع YIMP أخذ المستكشف من وحدة التحكم ، فسيتم <code>yimp-nav</code> خلال حاوية DI باستخدام الاسم المستعار <code>yimp-nav</code> .  باستخدام هذا الاسم المستعار ، يمكنك تسجيل المستكشف الافتراضي الخاص بك ، على سبيل المثال عن طريق تحديد في إعدادات التطبيق: </p><br><pre style=";text-align:right;direction:rtl"> <code class="php hljs"> <span class="hljs-string"><span class="hljs-string">'container'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'definitions'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'yimp-nav'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\your\own\Navigator'</span></span>, ] ] ],</code> </pre> <br><p style=";text-align:right;direction:rtl">  في الحالة الثانية ، سيكون المستكشف في وحدة التحكم ، ولكن لن يكون هناك أحد لقراءته.  في هذه الحالة ، يوصى بكتابة مجمّع في الوحدة النمطية للمشاهدات ، مما يؤدي إلى ضبط المستكشف من وحدة التحكم الحالية إلى التنسيق المقبول في Yii.  بمعنى ، عرض <code>&lt;h1&gt;</code> في المنطقة الرئيسية ، <code>&lt;title&gt;</code> وفتات التنقل عبر المعلمات <code>Yii::$app-&gt;view</code> ، وعرض القائمة اليمنى في شكل أزرار. </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  استنتاج </h2><br><p style=";text-align:right;direction:rtl">  تم نشر YIMP الآن بدون إصدار.  لا أرى أي سبب لنشر الإصدار التجريبي - كل شيء بسيط جدًا لذلك.  أعتقد أنه من الأفضل اختبار أسبوعين في مشروع حقيقي والتحول الفوري إلى الإصدار 1.0.0.  لذا فإن النقد والتعليقات والمساعدة على جيثب مرحب به للغاية. </p><br><p style=";text-align:right;direction:rtl">  أنا أكمل وحدة نمطية تنفذ التحكم في الوصول.  كيف تنتهي - سأكتب. </p><br><p style=";text-align:right;direction:rtl">  كما ترون ، لا يوجد شيء معقد هنا.  أنا متأكد من أن الكثير منكم لديه شيء مماثل في الأوراق المالية.  وسأكون مهتمًا جدًا بمعرفة كيفية حل مهمة واجهة المستخدم في منطقة المشرف. </p><br><p style=";text-align:right;direction:rtl">  شكرا للجميع! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar466505/">https://habr.com/ru/post/ar466505/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar466495/index.html">كيف لا تسوء مع المنافسة في الذهاب</a></li>
<li><a href="../ar466497/index.html">البيئة الحديثة للتطبيقات الأصلية</a></li>
<li><a href="../ar466499/index.html">C / C ++ من بايثون (ctypes)</a></li>
<li><a href="../ar466501/index.html">إجراءات جيثب وبناء عبر منصة</a></li>
<li><a href="../ar466503/index.html">Slurm DevOps. اليوم الثاني. IaC ، اختبار البنية التحتية و "Slurm تلهم!"</a></li>
<li><a href="../ar466515/index.html">المقابلة. ما الذي يجب أن يتوقعه المهندس من العمل لدى شركة ناشئة أوروبية ، وكيف تتم المقابلات وهل من الصعب التكيف معها</a></li>
<li><a href="../ar466517/index.html">تدريب التعريب بجامعة واشنطن</a></li>
<li><a href="../ar466519/index.html">تحليل مفصل AWS لامدا</a></li>
<li><a href="../ar466521/index.html">C للمعادن - المعادن الثمينة للحوسبة على بطاقات الرسومات Intel</a></li>
<li><a href="../ar466525/index.html">ما هو تخطيط PSD iPhone وكيفية استخدامه؟</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>