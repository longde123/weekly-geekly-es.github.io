<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèõÔ∏è üíñ üó≥Ô∏è Monitoreo continuo de glucosa (NMH) con bomba Medtronic 640g ü•ï üë®üèæ‚Äçüé§ üóúÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dio la casualidad de que hace poco menos de un a√±o, mi hija se enferm√≥ de diabetes tipo 1 (dependiente de insulina). Despu√©s de un mes de usar las "pl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Monitoreo continuo de glucosa (NMH) con bomba Medtronic 640g</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465281/"><img src="https://habrastorage.org/webt/z1/dt/da/z1dtdanh2_1-adea6snwi6fgr5g.png"><br>  Dio la casualidad de que hace poco menos de un a√±o, mi hija se enferm√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de diabetes tipo 1</a> (dependiente de insulina).  Despu√©s de un mes de usar las "plumas", cambiamos a la bomba Medtronic 640g con soporte NMG.  Debajo del gato, te dir√© c√≥mo hice el monitoreo de glucosa usando datos de una bomba.  Precauci√≥n, tr√°fico. <br><a name="habracut"></a><br><h3>  Introduccion </h3><br>  No describir√© todas las caracter√≠sticas y "pros" y "contras" de esta bomba, esto est√° m√°s all√° del alcance del art√≠culo.  Esta informaci√≥n se puede encontrar f√°cilmente en Internet.  Me detendr√© solo en esos puntos que son necesarios para la comprensi√≥n. <br><br>  Uno de los objetivos principales para la diabetes tipo 1 es mantener niveles √≥ptimos de glucosa en sangre.  El hecho es que el nivel de glucosa cambia bastante r√°pido bajo varios factores: alimentos, actividad f√≠sica, hormonas, cambios clim√°ticos, sue√±o, incluso una simple caminata en el parque puede afectar en gran medida los niveles de glucosa.  Por lo tanto, es importante medir los niveles de glucosa con la mayor frecuencia posible, idealmente cada 5 minutos 24/7.  Es extremadamente dif√≠cil lograr esto con un gluc√≥metro convencional; por lo tanto, se usa NMG.  Son diferentes  Puede leer y ver el video con m√°s detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Tener una bomba de monitoreo es muy bueno y ayuda a resolver muchos problemas.  En la bomba, puede ver los valores actuales de glucosa, as√≠ como ver un gr√°fico de sus cambios en los √∫ltimos tiempos. <br><br>  La bomba, con todas las lecturas, siempre est√° con una hija, lo que significa que no es posible ver las lecturas de forma remota.  La hija no siempre est√° cerca, va a la escuela, asiste a la ext.  Clases, paseos, en general, lleva una vida plena.  Mi esposa y yo estamos trabajando.  Las llamadas constantes a un tel√©fono m√≥vil, levantarse de la cama varias veces (¬°a veces docenas!) Veces por noche no hacen que el sue√±o y los nervios se fortalezcan. <br><br><h3>  Datos de entrada </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> se describe la implementaci√≥n y el principio operativo de NMG.  Lo √∫nico a lo que quiero prestar atenci√≥n es que esta bomba est√° conectada al transmisor a trav√©s del protocolo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ZigBee</a> .  En total, encontr√© 3 dispositivos que pueden funcionar con esta bomba: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Transmisor</a> Guardian 2 Link en s√≠ </li><li>  CareLink USB MMT-7306, el llamado  "Unidad flash negra" </li><li>  Contour NEXT LINK 2.4, gluc√≥metro </li></ul><br>  Por el momento, de estos 3 dispositivos en Rusia solo se vende el transmisor.  En realidad, es √©l quien transfiere los datos a la bomba sobre el nivel de glucosa.  Vi la "unidad flash" solo en nuestro m√©dico tratante y con ella descargamos los datos de la bomba un par de veces en su programa e imprimimos los cuadros.  Entonces esta "unidad flash" se volvi√≥ inaccesible para nosotros, porque  fue entregada a otra ciudad y cuando regresa nadie lo sabe.  Dicen que esta "unidad flash" es la √∫nica en toda Rusia, no s√© cu√°nto es cierta esta informaci√≥n.  No es realista comprar un gluc√≥metro y una unidad flash en Rusia.  A mi pregunta, los representantes oficiales dicen que "a√∫n no han aprobado la certificaci√≥n en Rusia, cuando ser√°, no se sabe, estamos esperando".  Despu√©s de una larga b√∫squeda, todav√≠a pod√≠a comprar un gluc√≥metro en Inglaterra.  Por lo que agradezco especialmente a todos los que me ayudaron en esto. <br><br>  Entonces, el medidor se puede conectar a la bomba y tiene USB, por lo que se puede conectar a una computadora.  Despu√©s de una larga b√∫squeda, encontr√© un proyecto en GitHub que me permiti√≥ leer datos de la bomba a trav√©s de este medidor.  Aprovecho esta oportunidad para expresar mi gratitud al autor de estos proyectos, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lennart Goedhart</a> .  Hizo un gran trabajo al estudiar el protocolo y public√≥ el resultado en acceso libre.  Solo queda implementar el plan. <br><br><h3>  Declaraci√≥n del problema. </h3><br>  Para poder monitorear las lecturas de la bomba en una computadora, tel√©fono m√≥vil en l√≠nea "sin registro y SMS". <br><br><h3>  Soluci√≥n </h3><br><h4>  Hierro </h4><br>  En la primera versi√≥n, se eligi√≥ la Raspberry Pi Zero W, que no necesita ser presentada.  Es peque√±o, no glot√≥n y tiene a bordo todo lo que necesita.  A ello se le compr√≥ extra.  equipo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Waveshare SIM7000C</a> - m√≥dem 2.5G + GPS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HUB USB Waveshare de 4 puertos</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">UPS Raspberry Pi Zero</a> .  Todo esto se puede comprar f√°cilmente en Aliexpress.  La selecci√≥n de todos estos componentes se bas√≥ en el hecho de que todo esto tiene peque√±as dimensiones y se ensambla como un "pastel".  Los alimentos se proporcionan a trav√©s de Power Bank.  En la prueba, la capacidad de 6000 mA es suficiente para un d√≠a "ligero", es decir  de 8 a.m. a 8 p.m., lo cual es bastante aceptable para m√≠.  Peso del banco de potencia de unos 130 gr.  y no sacar√° demasiado de su bolsillo. <br><br>  M√°s informaci√≥n sobre la potencia, m√°s precisamente sobre el Raspberry Pi Zero UPS.  Al planificar, pens√© que bien podr√≠a ser la principal fuente de nutrici√≥n, pero me equivoqu√©.  En la pr√°ctica, dura 1 hora.  Por lo tanto, no veo ninguna raz√≥n para usarlo. <br><br><img src="https://habrastorage.org/webt/vc/oq/vn/vcoqvnbx_jco7y0jao0jwg6_vqa.jpeg"><br>  <i>Primera versi√≥n</i> <br><br>  Durante la operaci√≥n, result√≥ que trabajar con USB en Pi Zero deja mucho que desear.  El Wi-Fi se cay√≥ peri√≥dicamente: GPRS no es tan cr√≠tico, pero la congelaci√≥n del medidor ya es significativa.  Adem√°s, no era posible "distorsionar" el USB de forma remota: la alimentaci√≥n se suministra directamente al puerto USB. <br><br>  Al final, compr√© el Raspberry Pi 3. La elecci√≥n se debi√≥ a la presencia de Wi-Fi a bordo y la presencia de puertos USB completos. <br><br><img src="https://habrastorage.org/webt/gs/xt/4f/gsxt4fjpnpjwp2bybc1zclht1yw.jpeg"><br>  <i>La segunda versi√≥n, sin gluc√≥metro y Waveshare SIM7000C.</i> <br><br>  Para reducir el tama√±o, tuve que sacrificar un conector Ethernet y soldar mi cable USB para conectar el medidor.  En el futuro, se planea deshacerse del cuerpo del medidor y soldarlo directamente a la frambuesa. <br>  Desarrollo e impresi√≥n del caso - en los planos. <br><br><h4>  Software </h4><br>  El requisito principal es el acceso a los datos desde cualquier dispositivo, incluidos los tel√©fonos inteligentes.  Elevar un servidor en una frambuesa no ten√≠a sentido: cuando nos comunicamos a trav√©s de un m√≥dem, tenemos una IP "gris", que arruin√≥ todos los planes.  Adem√°s, mantener una conexi√≥n GPRS constante no era parte de mis planes debido al ahorro de energ√≠a.  Afortunadamente, ya ten√≠a configurado Zabbix y se tom√≥ la decisi√≥n de transferirle datos.  Como gr√°ficos "hermosos", Grafana estaba jodida. <br><br>  Este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">proyecto</a> fue tomado como la base del software en frambuesa.  Como result√≥ m√°s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tarde</a> , era solo un concepto.  En general, es bastante eficiente y, por el momento, realiza mis tareas. <br><br>  La l√≥gica del trabajo es la siguiente: cada 5 minutos recopilo datos de la bomba y la frambuesa y los transfiero a Zabbix a trav√©s de zabbix_sender.  Adem√°s, hay un "control remoto por SMS". <br><br>  As√≠ es como se ve en el navegador (en el tel√©fono, de la misma manera): <br><br><img src="https://habrastorage.org/webt/ie/pk/wy/iepkwy1gfnnhadljfxjrek9_b9q.png"><br>  <i>Lectura actual de glucosa, insulina activa y tendencia (una fuerte ca√≠da o aumento de nivel)</i> <br><br><img src="https://habrastorage.org/webt/lf/k8/-h/lfk8-hspebemremh0pdndoueedg.png"><br>  <i>gr√°fica de glucosa e insulina activa</i> <br><br><img src="https://habrastorage.org/webt/0m/fw/dg/0mfwdgbov5xjs3lbrto9ks9ypo0.png"><br>  <i>Bombee el volumen de insulina, la bater√≠a, la tasa basal temporal y la tasa basal</i> <br><br><img src="https://habrastorage.org/webt/e0/gz/hz/e0gzhz1u0zpngnoee2hkubbdd6k.png"><br>  <i>temperatura de la CPU de frambuesa, nivel de Wi-Fi, m√≥dem</i> <br><br><img src="https://habrastorage.org/webt/-y/fi/m_/-yfim_i1diahxuepe6acqnsboxi.png"><br>  <i>Datos GPS</i> <br><br>  Por el momento, el dispositivo realiza la funcionalidad m√≠nima que se planific√≥.  Puede controlar el nivel de glucosa actual, as√≠ como otros par√°metros.  Como resultado, menos llamadas, al levantarse por la noche, solo mire los gr√°ficos en el tel√©fono. <br><br>  Los planes para el futuro cercano incluyen cambiar la l√≥gica de trabajo, agregar notificaciones por SMS a valores cr√≠ticos, etc.  En el futuro, cambie al nodo js seg√∫n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> proyecto. <br><br>  Publico el c√≥digo en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/465281/">https://habr.com/ru/post/465281/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../465271/index.html">Los hackers roban y lavan dinero mediante la entrega de alimentos y los servicios de reserva de hotel.</a></li>
<li><a href="../465273/index.html">C√≥mo los desarrolladores de software de Microgaming protegen a los usuarios de los hacks</a></li>
<li><a href="../465275/index.html">Alice adquiere habilidad</a></li>
<li><a href="../465277/index.html">An√°lisis y an√°lisis de sem√°ntica para SEO: 5 plantillas gratuitas de Google Sheets</a></li>
<li><a href="../465279/index.html">Reconocimiento facial con redes siamesas</a></li>
<li><a href="../465283/index.html">"Hay todo lo que se necesita y nada enfurece": la verdad habla a trav√©s de los labios del cliente</a></li>
<li><a href="../465285/index.html">Como escribimos, la interfaz de nuestro propio panel de control de hosting: framework y puertas traseras</a></li>
<li><a href="../465289/index.html">El resumen de eventos para profesionales de recursos humanos en el campo de TI para septiembre de 2019</a></li>
<li><a href="../465291/index.html">M√°s cerca del suelo: c√≥mo cambi√© el coworking a una casa de pueblo</a></li>
<li><a href="../465293/index.html">C√≥mo abandonamos el gran hackathon y comenzamos a hacer viajes para equipos individuales</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>