<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚇 👸🏽 👰🏽 "No veo ninguna razón para usar Python para trabajar con Spark, excepto la pereza" 🧕🏾 🧑🏻 🐬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El otro día, decidimos hablar con Dmitry Bugaychenko ( dmitrybugaychenko ), uno de nuestros maestros del programa Análisis de datos en Scala, y discut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"No veo ninguna razón para usar Python para trabajar con Spark, excepto la pereza"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/newprolab/blog/442812/"><p>  El otro día, decidimos hablar con Dmitry Bugaychenko ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">dmitrybugaychenko</a> ), uno de nuestros maestros del programa Análisis de datos en Scala, y discutir con él los problemas reales de usar Scala en las tareas de Ciencia de datos e Ingeniería de datos.  Dmitry es ingeniero analítico en Odnoklassniki. </p><br><p><img src="https://habrastorage.org/webt/6h/7b/ut/6h7butyls-jgjkhi1plmqmd9gxy.jpeg" alt="imagen"></p><a name="habracut"></a><br><p>  <strong>- Dima, trabajas en Odnoklassniki.</strong>  <strong>Dime, que haces ahí?</strong> <strong><br></strong> <br>  En Odnoklassniki, comencé a trabajar en 2011 en un borrador de recomendación musical.  Fue una tarea muy interesante y difícil: la mayoría de los servicios de recomendación de música en ese momento se basaban en contenido de publicación bien catalogado, mientras que teníamos UGC real (contenido generado por el usuario), que primero tenía que peinarse y clasificarse en estantes.  En general, el sistema resultante demostró ser bastante bueno y decidieron extender la experiencia a otras secciones del sitio: recomendaciones grupales, amistades, clasificación de los feeds, etc.  Al mismo tiempo, el equipo creció, se desarrolló la infraestructura, se introdujeron nuevos algoritmos y tecnologías.  Ahora tengo una amplia gama de responsabilidades: coordinación de los datos de los científicos, desarrollo de infraestructura DS, proyectos de investigación, etc. </p><br><p>  <strong>- ¿Cuánto tiempo llevas usando Spark?</strong>  <strong>Cual es la necesidad?</strong> </p><br><p>  Los primeros intentos de hacerse amigo de Spark fueron en 2013, pero no tuvieron éxito.  Teníamos una necesidad urgente de una poderosa herramienta interactiva que nos permitiera probar hipótesis rápidamente, pero Spark de esa época no podía proporcionar la estabilidad y escalabilidad que necesitábamos.  El segundo intento lo hicimos un año después, en 2014, y esta vez todo salió mucho mejor.  En el mismo año, comenzamos a presentar herramientas de análisis de transmisión basadas en Kafka y Samza, probamos Spark Streaming, pero luego no pudo comenzar.  Debido a la implementación relativamente temprana, para 2017 estábamos en condiciones de ponernos al día por un tiempo: una gran cantidad de código en el primer Spark nos impidió cambiar al segundo, pero en el verano de 2018 resolvimos este problema y ahora estamos trabajando en 2.3.3.  En esta versión, la transmisión ya ha funcionado de manera más estable y ya hemos realizado algunas nuevas tareas de producción. </p><br><p>  <strong>- Según tengo entendido, usas la API de Scala, no Python, como la mayoría.</strong>  <strong>Por qué</strong> </p><br><p>  Sinceramente, no veo ninguna razón para usar Python para trabajar con Spark, excepto por la pereza.  Scala API es más flexible y mucho más eficiente, pero no más complicado.  Si usa las características estándar de Spark SQL, entonces el código Scala es casi idéntico al código Python correspondiente, y la velocidad será idéntica.  Pero si intenta hacer la función definida por el usuario más simple, la diferencia se vuelve obvia: el trabajo del código Scala sigue siendo tan eficiente, y el código Python convierte un clúster de múltiples núcleos en una calabaza y comienza a quemar kilovatios / hora para una actividad completamente improductiva.  En la escala con la que tenemos que trabajar, simplemente no podemos permitirnos tal despilfarro. </p><br><p>  <strong>- C Python es comprensible.</strong>  <strong>Y en comparación con Java, ¿Scala es algo mejor para el análisis de datos?</strong>  <strong>En Java, se escriben muchas cosas en la pila de Big Data.</strong> </p><br><p> Usamos Java muy ampliamente, incluso en el aprendizaje automático.  Intentamos no entrar en las aplicaciones Scala más cargadas.  Pero cuando se trata de análisis interactivo y creación rápida de prototipos, el laconismo de Scala se convierte en una ventaja.  Es cierto, siempre debe tener en cuenta que al programar en Scala es muy fácil disparar las piernas a los oídos: muchos diseños pueden no comportarse como se esperaría de una posición de sentido común, y algunas operaciones simples causan copias innecesarias e intentos de materializar enormes conjuntos de datos en la memoria. </p><br><p>  <strong>- Con todas estas ventajas, ¿por qué Scala no es tan popular todavía?</strong>  <strong>¿Supera claramente a Python y Java?</strong> </p><br><p>  Scala es una herramienta muy poderosa que requiere una calificación suficientemente alta de quien la usa.  Además, con el desarrollo del equipo, también se imponen requisitos adicionales en el nivel general de la cultura de desarrollo: el código en Scala es muy fácil de escribir, pero el autor no siempre lo lee con éxito después de un tiempo y, bajo el capó de una API simple, puede crear algún tipo de juego.  Por lo tanto, se debe prestar especial atención a mantener un estilo unificado, funcional y pruebas de estrés de la solución. </p><br><p>  Bueno, cuando se comparan los lenguajes JVM, no se puede dejar de mencionar Kotlin: está ganando popularidad, muchos lo consideran más "ideológicamente verificado" e incluso admite Spark como parte del proyecto sparklin, aunque todavía es muy limitado.  Nosotros mismos todavía no lo usamos para Spark, pero seguimos de cerca el desarrollo. </p><br><p>  <strong>- De vuelta a Spark.</strong>  <strong>Según tengo entendido, ¿aún no te gustó esta funcionalidad de API Scala y escribiste algún tipo de bifurcación para Spark?</strong> </p><br><p>  Sería un error llamar a nuestra <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bifurcación del</a> proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PravdaML</a> : esta biblioteca no reemplaza, pero complementa la funcionalidad de SparkML con nuevas características.  Llegamos a las decisiones que se implementaron allí, tratando de escalar y poner en los rieles reproducibles los modelos de clasificación de cintas.  El hecho es que al desarrollar algoritmos de aprendizaje automático distribuidos efectivos, debe tener en cuenta muchos factores "técnicos": cómo descomponer adecuadamente los datos en nodos, en qué punto almacenar en caché, reducir la muestra, etc.  No hay forma de gestionar estos aspectos en el SparkML estándar, y tienen que moverse más allá de la tubería ML, lo que afecta negativamente la capacidad de gestión y la reproducibilidad. </p><br><p>  <strong>- Recuerdo que tenías dos opciones para el nombre ...</strong> </p><br><p>  Sí, el nombre original ok-ml-pipelines parecía aburrido para los chicos, por lo que ahora estamos en el proceso de "cambio de marca" con el nuevo nombre PravdaML. </p><br><p>  <strong>- Mucha gente lo usa fuera de su equipo?</strong> </p><br><p>  No pienso mucho, pero estamos trabajando en ello.  J </p><br><p>  <strong>- Hablemos de roles y profesiones en el campo de trabajar con datos.</strong>  <strong>Dime, ¿debería un científico de datos escribir código en producción o ya es alguna otra profesión y función?</strong> <strong><br></strong> <br>  La respuesta a esta pregunta es mi opinión, y hay una dura realidad.  Siempre pensé que para la implementación exitosa de soluciones ML, una persona debe comprender dónde y por qué se está implementando todo (quién es el usuario, cuáles son sus necesidades y qué necesidades tiene el negocio), necesita comprender qué métodos matemáticos se pueden aplicar para desarrollar la solución, y cómo pueden funcionar estos métodos desde un punto de vista técnico.  Por lo tanto, en Odnoklassniki todavía tratamos de adherirnos al modelo de responsabilidad única, cuando una persona presenta alguna iniciativa, la implementa y la implementa.  Por supuesto, para resolver problemas privados individuales, ya sea un DBMS efectivo o un diseño interactivo, siempre puede atraer a personas con una amplia experiencia en estas áreas, pero la integración de todo esto en un solo mecanismo permanece con el Científico, como la persona que mejor comprende exactamente qué y cómo debería funcionar salida. </p><br><p>  Pero también existe una dura realidad en el mercado laboral, que ahora está muy sobrecalentado en el campo de la ML, lo que lleva al hecho de que muchos especialistas jóvenes no consideran necesario estudiar nada más que la propia ML.  Como resultado, se hace cada vez más difícil encontrar un especialista de ciclo completo.  Aunque recientemente apareció una buena alternativa: la práctica ha demostrado que los buenos programadores aprenden ML bastante rápido y bastante bien.  J </p><br><p>  <strong>- Fecha ingeniero necesita saber Scala?</strong>  <strong>¿Qué tan bueno por cierto?</strong>  <strong>¿Necesito entrar en la jungla de la programación funcional?</strong> </p><br><p>  Definitivamente es necesario conocer Scala, aunque solo sea porque dos herramientas fundamentales como Kafka y Spark están escritas en él, y necesita poder leer su código fuente.  En cuanto a la "jungla de la programación funcional", les recomiendo encarecidamente que no abusen demasiado: cuanto más los desarrolladores puedan leer y comprender el código, mejor.  Incluso si para esto a veces hay que desplegar un diseño funcional "elegante" en un ciclo banal. </p><br><p>  <strong>- El universo de profesiones en esta área ya ha dejado de expandirse, ¿o deberíamos esperar la aparición de nuevas profesiones en él?</strong> </p><br><p>  Creo que en el futuro previsible en ML y DS habrá un punto de inflexión relacionado con la automatización: los patrones principales que las personas siguen al trabajar con atributos, elegir un modelo y sus parámetros y verificar la calidad se automatizarán.  Esto conducirá al hecho de que la demanda de especialistas que "seleccionan los parámetros" disminuirá significativamente, pero los ingenieros de AutoML que pueden implementar y desarrollar soluciones automatizadas tendrán demanda. </p><br><p>  <strong>"Estás enseñando activamente, según tengo entendido".</strong>  <strong>¿Por qué consideras esto importante?</strong>  <strong>¿Cuál es la motivación detrás de esto?</strong> </p><br><p>  Todos nosotros algún día nos jubilaremos y la calidad de nuestra vida dependerá en gran medida de quién nos reemplazará.  Por lo tanto, la inversión en la educación de la próxima generación es una de las más importantes. </p><br><p>  <strong>- En nuestro programa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Análisis de datos en Scala"</a> llevará a cabo varias clases.</strong>  <strong>Cuéntame brevemente sobre ellos.</strong>  <strong>¿Cuál es su importancia?</strong> </p><br><p>  En estas clases, solo estudiaremos cómo encajan la ingeniería y las matemáticas: cómo organizar el proceso correctamente, sin introducir barreras innecesarias para ETL-&gt; ML-&gt; Prod.  El curso se desarrollará en torno a las capacidades de Spark ML: conceptos básicos, conversiones compatibles, algoritmos implementados y sus limitaciones.  Tocaremos el área donde las características existentes de SparkML no son suficientes, y se hace necesario usar extensiones como PravdaML.  Bueno, definitivamente habrá práctica, no solo a nivel de "ensamblar una solución a partir de cubos ya hechos", sino también sobre cómo entender que se necesita un nuevo "cubo" aquí y cómo implementarlo. </p><br><p>  <strong>- ¿Hay algún juego de palabras favorito con Scala?</strong>  <strong>Muro de escalada, escalador, arte rupestre: ¿lo utiliza en su rutina diaria?</strong> </p><br><p>  A menos que el epíteto "indoskal", que utilizamos para abordar piezas de código abierto particularmente notables, cuyo autor claramente quería demostrar la notable capacidad de construir código ilegible utilizando abstracciones funcionales. </p><br><p>  <strong>- Moscú o Peter?</strong> </p><br><p>  Cada ciudad tiene su propio entusiasmo.  Moscú es una ciudad rica y cuidada con un ritmo rápido.  Peter está más tranquilo y lleno del encanto de la antigua capital europea.  Por lo tanto, me gusta visitar Moscú, pero prefiero vivir en San Petersburgo. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/442812/">https://habr.com/ru/post/442812/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442800/index.html">Telegram simple bot en Python en 30 minutos</a></li>
<li><a href="../442804/index.html">MVCC-1. Aislamiento</a></li>
<li><a href="../442806/index.html">El programa preliminar DUMP-2019 está listo. Oradores de Evil Martians, Tinkoff.ru, HTML Academy, SkyEng, 2GIS</a></li>
<li><a href="../442808/index.html">Te invitamos a la Fiesta Droid, una reunión dedicada a cuestiones prácticas del desarrollo de aplicaciones y dispositivos Android.</a></li>
<li><a href="../442810/index.html">Mitos de la física popular, continuación: Gravedad</a></li>
<li><a href="../442814/index.html">Han pasado 10 años, y nadie ha descubierto cómo usar la cadena de bloques. ¿Y aquí otra vez?</a></li>
<li><a href="../442816/index.html">Crea tu propio controlador de juego</a></li>
<li><a href="../442818/index.html">10 errores comunes en inglés escrito y cómo lidiar con ellos</a></li>
<li><a href="../442820/index.html">Corutinas personalizadas en unidad con preferencia y cortesanas</a></li>
<li><a href="../442822/index.html">Centro de datos en el mar y en órbita: ¿tienen un significado práctico?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>