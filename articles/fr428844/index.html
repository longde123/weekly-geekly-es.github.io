<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖇️ 🏫 👩🏿‍🎓 Lecture du compteur à domicile ‼️ 🎫 👂🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un article précédent , j'ai expliqué comment j'avais pris des relevés de compteurs d'eau. Plusieurs années se sont écoulées depuis lors. L'appare...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lecture du compteur à domicile</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428844/"><p><img src="https://habrastorage.org/webt/sn/ui/_i/snui_i22dpzhcwmnmcxcvgumtjy.png" width="300" align="left">  Dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> précédent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">,</a> j'ai expliqué comment j'avais pris des relevés de compteurs d'eau.  Plusieurs années se sont écoulées depuis lors.  L'appareil continue de fonctionner et pendant tout ce temps je ne l'ai pas touché.  Mais cela ne m'a pas semblé suffisant, car  il y avait d'autres appareils dans la maison à partir desquels il était nécessaire de prendre des mesures.  Je veux en parler. <br clear="all"></p><a name="habracut"></a><br><h2 id="schetchik-elektroenergii">  Compteur d'électricité </h2><br><p>  Chaque appartement dispose d'un compteur électrique et ses relevés doivent également être livrés à temps.  Nous avons eu le même problème avec les compteurs d'eau - nous nous souvenions constamment de lui quand nous étions assez loin.  Il fallait en quelque sorte résoudre ce problème.  Voici un compteur que j'ai installé dans le bouclier sur le palier. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kz/mx/jc/kzmxjcx0unqi_tae5q4tdfnaxue.png"></div><br><p>  Chaque compteur indique le nombre d'impulsions qu'il exécute sur 1 kW * h.  J'ai un vieux compteur d'électricité installé et il n'a pas de conclusions spéciales pour compter ces impulsions.  Mais il a une LED qui clignote au rythme de ces impulsions.  Nous devons donc en quelque sorte déterminer que la LED a clignoté.  Pour cela, j'ai décidé d'utiliser un phototransistor, qui modifie sa résistance en fonction de son éclairage.  Pour qu'il ne réponde qu'à la LED, le phototransistor a été installé dans un fragment d'un bloc de bois carré et collé avec du ruban adhésif sur le comptoir.  Il s'est avéré que cela peut être vu sur la photo ci-dessous. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nm/h7/vq/nmh7vqul8tuqx0p4pmt-yrvzp9m.png"></div><br><p>  Même pendant la réparation dans l'appartement, dans le bouclier général, j'ai installé un socle et en ai tenu une paire torsadée dans le bouclier de l'appartement avec une basse tension.  J'ai installé l'appareil dans ce bouclier (il a également une prise de courant) et à travers la plaque de base, j'ai connecté le phototransistor à mon appareil.  Et sous cette forme, tout fonctionne depuis plus de six mois. </p><br><h2 id="datchik-protechki-vody">  Capteur de fuite d'eau </h2><br><p>  Comme échantillon, j'ai pris un capteur de fuite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GIDROLOCK WSP</a> conventionnel.  Son principe de fonctionnement est similaire à un phototransistor, seulement il change sa résistance de l'eau qui y pénètre. </p><br><h2 id="dorabotka-platy">  Révision du conseil </h2><br><p>  J'ai un peu modifié l'ancienne planche.  Maintenant, le circuit est le suivant </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lg/fi/cv/lgficvuj_fpdk45lkzjs8r_qwt0.png"></div><br><p>  Les modifications suivantes ont été apportées: </p><br><ol><li>  La puce CP2102 est ajoutée au circuit pour pouvoir être connectée directement à la carte sans adaptateur </li><li>  Le nombre de sorties a été augmenté à 4 (M1, M2, M3, M4), ce qui vous permet de connecter simultanément un plus grand nombre de compteurs </li><li>  Des résistances auxiliaires (R1..R8) ont été ajoutées, ce qui a permis de configurer les sorties selon les besoins </li></ol><br><p>  Maintenant, chaque sortie peut être configurée pour: </p><br><ul><li>  connecter LED </li><li>  boutons de connexion </li><li>  connexion de compteurs (capteurs) </li></ul><br><p>  Lors de l'utilisation d'un phototransistor et d'un capteur de fuite, leur résistance minimale peut ne pas être suffisante pour que la tension tombe au niveau du zéro logique.  Pour ce faire, un diviseur de tension a été ajouté à chaque borne. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yp/rr/uj/yprrujoepaq5avvr9b3zkdthcoc.png"></div><br><p>  Prenons le capteur de fuite comme exemple pour calculer le diviseur de tension.  Supposons qu'un capteur soit connecté à la broche M1.  Il possède des résistances auxiliaires R1 et R2.  Tension d'alimentation (U) ESP 3,3V.  La résistance du capteur de fuite (Rd) lorsque l'eau y pénètre devient 10kOhm.  Nous devons nous assurer que la tension <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">U</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.642ex" height="2.298ex" viewBox="0 -780.1 1137.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="966" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> U_2 </script>  était en dessous de la tension zéro logique.  Pour ESP, c'est 0,8V, prenez 0,6V. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-msubsup" id="MJXp-Span-6"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-8" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.818ex" height="2.298ex" viewBox="0 -780.1 1213.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-31" x="1074" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> R_1 </script>  nous n'avons pas besoin, respectivement, nous prenons égal à 0. La formule de calcul de la tension <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-msubsup" id="MJXp-Span-10"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11" style="margin-right: 0.05em;">U</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-12" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.642ex" height="2.298ex" viewBox="0 -780.1 1137.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="966" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> U_2 </script>  : </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-13"><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;">U</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">U</span><span class="MJXp-mtext" id="MJXp-Span-19">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">c</span><span class="MJXp-mrow" id="MJXp-Span-24"><span class="MJXp-msubsup" id="MJXp-Span-25"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-27" style="vertical-align: -0.4em;">d</span></span></span><span class="MJXp-mrow" id="MJXp-Span-28"><span class="MJXp-msubsup" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-31" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-33"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-35" style="vertical-align: -0.4em;">d</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.038ex" height="2.419ex" viewBox="0 -780.1 10349.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="966" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-3D" x="1415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-55" x="2471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-66" x="3488" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-72" x="4039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-61" x="4490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-63" x="5020" y="0"></use><g transform="translate(5453,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-64" x="1074" y="-213"></use></g><g transform="translate(6683,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-2B" x="1435" y="0"></use><g transform="translate(2436,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-64" x="1074" y="-213"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> U_2 = U \ frac {R_d} {R_2 + R_d} </script></p><br><p>  Souligner <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-36"><span class="MJXp-msubsup" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-39" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.818ex" height="2.298ex" viewBox="0 -780.1 1213.4 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="1074" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> R_2 </script>  : </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-40"><span class="MJXp-msubsup" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-43" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-44" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-45"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-47" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">c</span><span class="MJXp-mrow" id="MJXp-Span-53"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">U</span><span class="MJXp-mo" id="MJXp-Span-55" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57" style="margin-right: 0.05em;">U</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-58" style="vertical-align: -0.4em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-59"><span class="MJXp-msubsup" id="MJXp-Span-60"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61" style="margin-right: 0.05em;">U</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-62" style="vertical-align: -0.4em;">2</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.824ex" height="2.419ex" viewBox="0 -780.1 10257.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-3D" x="1491" y="0"></use><g transform="translate(2547,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-64" x="1074" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-66" x="4027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-72" x="4577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-61" x="5029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-63" x="5558" y="0"></use><g transform="translate(5992,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-55" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-2212" x="989" y="0"></use><g transform="translate(1990,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="966" y="-213"></use></g></g><g transform="translate(9119,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-55" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="966" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> R_2 = R_d \ frac {U-U_2} {U_2} </script></p><br><p>  où <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-msubsup" id="MJXp-Span-64"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-66" style="vertical-align: -0.4em;">d</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.856ex" height="2.419ex" viewBox="0 -780.1 1229.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-64" x="1074" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> R_d </script>  La résistance du capteur est-elle </p><br><p>  Remplacer les valeurs connues dans la formule </p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-67"><span class="MJXp-msubsup" id="MJXp-Span-68"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69" style="margin-right: 0.05em;">R</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-70" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-71" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-72">10000</span><span class="MJXp-mtext" id="MJXp-Span-73">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">t</span><span class="MJXp-mtext" id="MJXp-Span-78">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">c</span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mn" id="MJXp-Span-84">3</span><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-86">3</span><span class="MJXp-mo" id="MJXp-Span-87" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-88">0</span><span class="MJXp-mo" id="MJXp-Span-89" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-90">6</span></span><span class="MJXp-mrow" id="MJXp-Span-91"><span class="MJXp-mn" id="MJXp-Span-92">0</span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-94">6</span></span><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-96">45000</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">m</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="48.624ex" height="2.419ex" viewBox="0 -780.1 20935.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-32" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-3D" x="1491" y="0"></use><g transform="translate(2547,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="2002" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-63" x="5299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-64" x="5733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-6F" x="6256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-74" x="6742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-66" x="7353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-72" x="7904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-61" x="8355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-63" x="8885" y="0"></use><g transform="translate(9318,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-33" x="945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-2212" x="1668" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="2669" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-2C" x="3169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-36" x="3614" y="0"></use></g><g transform="translate(13434,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-36" x="945" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-3D" x="15158" y="0"></use><g transform="translate(16214,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMAIN-30" x="2002" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-4F" x="18716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-68" x="19480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/428844/&amp;usg=ALkJrhj1RPjpTolhaOAZC7Bnj8v_wxRu5Q#MJMATHI-6D" x="20056" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> R_2 = 10000 \ cdot \ frac {3,3 - 0,6} {0,6} = 45000 Ohm </script></p><br><p>  , arrondissez au plus grand et obtenez 47kOhm. <br>  Pour un phototransistor, le calcul se fait de manière similaire, seul Rd est égal à la résistance du phototransistor lorsqu'il est éclairé par une LED. </p><br><h2 id="proshivka">  Firmware </h2><br><p>  Comme auparavant, le micrologiciel a été assemblé à l'aide du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">constructeur en ligne</a> .  L'ancien script a été modifié pour 2 modes de fonctionnement: prendre des lectures de compteurs d'eau et prendre des lectures d'un compteur électrique.  En conséquence, il existe 2 fenêtres de paramètres: </p><br><p><img src="https://habrastorage.org/webt/qn/wb/9g/qnwb9g6woj81whlu1a541wgnome.png" width="380"><img src="https://habrastorage.org/webt/ub/1f/4y/ub1f4ycr1cbf1_y1is9bjtccyoa.png" width="380"></p><br><p>  Si vous le souhaitez, vous pouvez tout combiner et ajouter quelque chose de votre choix.  Lors du débogage, j'ai connecté simultanément 2 compteurs d'eau, un capteur de fuite et une LED. <br>  Dans le mode de lecture des compteurs d'eau, les données sont transmises toutes les 60 secondes, à condition qu'il y ait eu des changements dans les lectures.  En mode lecture de compteur, les données sont transmises toutes les 20 secondes sans aucune condition.  Les données sont toujours transmises à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">thingspeak.com</a> <br>  Parce que  dans le nouveau schéma, il n'y a pas de bouton pour entrer en mode paramètres, il a été décidé au démarrage de basculer l'appareil en mode paramètres pendant 60 secondes.  Si, dans les 60 secondes, personne n'est connecté à l'appareil, nous commençons le mode de lecture.  Si quelqu'un se connecte, quittez le mode des paramètres en enregistrant les données sur la page ou en redémarrant l'appareil. </p><br><h2 id="dorabotka-prilozheniya">  Révision de l'application </h2><br><p>  Les lectures du compteur d'électricité devaient être transférées sur un canal séparé, donc dans la nouvelle version de l'application, j'ai ajouté la possibilité d'ajouter plusieurs canaux.  Toutes les données sont stockées dans une base de données SQL locale afin que vous puissiez facilement et rapidement créer des graphiques.  Parce que  J'ai envoyé des données sur le compteur d'électricité toutes les 20 secondes, ce qui a affecté le nombre de données et, par conséquent, la vitesse de leur réception.  À titre de comparaison, pendant toute la durée des relevés sur les compteurs d'eau, environ 72 000 enregistrements ont été accumulés et sur le compteur d'électricité en environ 7 mois, environ 2,6 millions. Après avoir optimisé les requêtes dans la base de données, nous avons réussi à augmenter la vitesse d'échantillonnage de plusieurs milliers de fois (je ne m'attendais pas à une telle croissance). <br>  Dans la nouvelle version ont été ajoutés: </p><br><ol><li>  widget compteur d'électricité </li><li>  graphiques linéaires </li><li>  la possibilité de partager un widget ou un graphique avec d'autres personnes </li><li>  la possibilité de travailler avec plusieurs canaux </li><li>  optimisation de la vitesse </li></ol><br><h2 id="itogo">  Total </h2><br><p>  Après toutes les améliorations, je peux obtenir les informations suivantes: </p><br><ol><li>  lecture actuelle du compteur </li><li>  consommation actuelle </li><li>  des informations sur la consommation et la consommation d'électricité pendant une certaine période </li></ol><br><p>  Bien sûr, la question demande pourquoi je n'ai pas rendu l'appareil autonome (il y a plusieurs articles sur ce sujet sur le hub).  Si vous rendez l'appareil autonome, vous devez transférer des données plusieurs fois par jour, mais je voulais voir les données presque en temps réel. <br>  L'application peut être utilisée non seulement avec mon appareil, mais simplement en tant que client de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Thingspeak.com</a> pour afficher des graphiques ou des valeurs.  Pour le moment, l'application affiche magnifiquement les lectures des compteurs d'eau et d'électricité, si quelqu'un a d'autres idées que vous pouvez ajouter, écrivez-moi en PM. </p><br><h2 id="poleznye-ssylki">  Liens utiles </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Scripts et firmware</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">App</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Réorganisation du conseil</a> </li></ul><br><div class="spoiler">  <b class="spoiler_title">Photos de l'appareil</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/c5/sw/qz/c5swqzgluewaanqpsmtru-wtala.jpeg"><br><img src="https://habrastorage.org/webt/cq/lt/sa/cqltsaf-jcsb5fse6wvypifd778.jpeg"></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428844/">https://habr.com/ru/post/fr428844/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428832/index.html">IT Legends: pourquoi Newton a échoué et la technologie russe de reconnaissance est à blâmer</a></li>
<li><a href="../fr428834/index.html">La moitié des voitures vendues en Norvège - voitures électriques</a></li>
<li><a href="../fr428836/index.html">AI formée pour traiter l'intoxication sanguine et diagnostiquer les fractures</a></li>
<li><a href="../fr428840/index.html">Partir - partir? Discours de nuit sur les licenciements</a></li>
<li><a href="../fr428842/index.html">Événements numériques à Moscou du 6 au 11 novembre</a></li>
<li><a href="../fr428846/index.html">Travailler avec des chaînes au stade de la compilation en C ++ moderne</a></li>
<li><a href="../fr428848/index.html">Notes du fournisseur IoT: comment créer un réseau LoRa dans une ville sans réseau en une journée?</a></li>
<li><a href="../fr428850/index.html">Gestion du développement dans un grand projet</a></li>
<li><a href="../fr428852/index.html">Diffusion ouverte de la salle principale HighLoad ++ 2018</a></li>
<li><a href="../fr428854/index.html">Comment couper la lumière dans un petit centre de données: un moyen peu coûteux de déployer une urgence</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>