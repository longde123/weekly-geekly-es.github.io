<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ช๐ผ ๐จ๐ผโโ๏ธ ๐๐ผ ุชุฏุฑุจ ุนูู ุงูุนูู ูุน ุฅุทุงุฑุงุช ูุฎุตุตุฉ ููุฌูุน Redd ๐ธ ๐ง๐ผ ๐ค</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงูููุงู ุงูุฃุฎูุฑ ุ ุฏุฑุณูุง ูุธุฑูุฉ ุฅุฏุงุฑุฉ ุฃูู ุงูุฃุดูุงุก ุงูุตุบูุฑุฉ ูู ูุฌูุน Redd ุ ูููู ูู ุฃุฌู ุนุฏู ุชุถุฎูู ุงูุญุฌู ุ ูููุง ุจุชุฃุฌูู ูุฐู ุงูููุงุฑุณุฉ ูู ุงููุฑุฉ ุงููุงุฏูุฉ. ููุฏ ุญ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุฏุฑุจ ุนูู ุงูุนูู ูุน ุฅุทุงุฑุงุช ูุฎุตุตุฉ ููุฌูุน Redd</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484706/" style=";text-align:right;direction:rtl"> ูู <a href="https://habr.com/ru/post/483724/">ุงูููุงู ุงูุฃุฎูุฑ ุ</a> ุฏุฑุณูุง ูุธุฑูุฉ ุฅุฏุงุฑุฉ ุฃูู ุงูุฃุดูุงุก ุงูุตุบูุฑุฉ ูู ูุฌูุน Redd ุ ูููู ูู ุฃุฌู ุนุฏู ุชุถุฎูู ุงูุญุฌู ุ ูููุง ุจุชุฃุฌูู ูุฐู ุงูููุงุฑุณุฉ ูู ุงููุฑุฉ ุงููุงุฏูุฉ.  ููุฏ ุญุงู ุงูููุช ูุฅุฌุฑุงุก ุชุฌุงุฑุจ ุนูููุฉ.  ุณูุชููู ุฃููุฆู ุงูุฐูู ูุง ูุณุชุฎุฏููู Redd complex ุฃูุถูุง ูู ุงูุนุซูุฑ ุนูู ูุนุฑูุฉ ูููุฏุฉ ูู ูุฐู ุงูููุงูุฉ ุ ููู ูููุฌูุฉ ุฅุฑุณุงู ุฃูุงูุฑ Vendor ุฅูู ูุญุฑูุงุช ุฃูุฑุงุต USB ูู ูุธุงู Linux ุ ูุฃู ูุญุฏุฉ ุงูุชุญูู STM32 ูู ุงููุฌูุน ุ ููุง ุฐููุฑ ุณุงุจููุง ุ ุชุคุฏู ูุธููุฉ ูุงุฑุฆ SD ุ ุฃู ุงูููุงุฏุฉ. <br><br><img src="https://habrastorage.org/webt/_e/hh/5n/_ehh5nw2j8tiw7myjovthvvc_va.png"><br><a name="habracut"></a><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุงูุงุช ุงูุฏูุฑุฉ ุงูุณุงุจูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/452656/">ุชุทููุฑ ุฃุจุณุท "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ" FPGAs ุงููุซุจุชุฉ ูู Redd ุ ูุชุตุญูุญ ุงูุฃุฎุทุงุก ุจุงุณุชุฎุฏุงู ุงุฎุชุจุงุฑ ุงูุฐุงูุฑุฉ ููุซุงู.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/453682/">ุชุทููุฑ ุฃุจุณุท "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ" ูุฃุฌูุฒุฉ FPGA ุงููุซุจุชุฉ ูู Redd.</a>  <a href="https://habr.com/ru/post/453682/">ุงูุฌุฒุก 2. ุฑูุฒ ุงูุจุฑูุงูุฌ.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/454938/">ุชุทููุฑ ุฌููุฑูุง ุงูุฎุงุต ูุชุถููููุง ูู ูุธุงู ุงููุนุงูุฌุงุช ุงููุณุชูุฏุฉ ุฅูู FPGA.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/456008/">ุชุทููุฑ ุจุฑุงูุฌ ูููุนุงูุฌ ุงููุฑูุฒู Redd ุนูู ุณุจูู ุงููุซุงู ูู ุงููุตูู ุฅูู FPGA.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/462253/">ุฃูู ุชุฌุงุฑุจ ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู ุงูุฏูู ุนูู ูุซุงู ุงุชุตุงู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุงููุนุงูุฌ ูู FPGA ููุฌูุน Redd.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/464795/">ูููุงุฏ ุณุนูุฏ Quartusel ุ ุฃู ููู ุฃู ุงููุนุงูุฌ ูุฏ ุญุงู ููุฐู ุงูุญูุงุฉ.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/467353/">ุทุฑู ุชุญุณูู ุงูููุฏ ู Redd.</a>  <a href="https://habr.com/ru/post/467353/">ุงูุฌุฒุก 1: ุชุฃุซูุฑ ูุฎุจุฃ.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/468027/">ุทุฑู ุชุญุณูู ุงูููุฏ ู Redd.</a>  <a href="https://habr.com/ru/post/468027/">ุงูุฌุฒุก 2: ุงูุฐุงูุฑุฉ ุบูุฑ ุงููุฎุฒูุฉ ูุคูุชูุง ูุชุดุบูู ุงููุงูู ุงูููุงุฒู.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/469985/">ุฃูุซููุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุงุณุนุฉ ุงููุทุงู: ุงุณุชุจุฏุงู ูููุฏ ุณุงุนุฉ ูุชุญุณูู ุฃุฏุงุก ุงููุธุงู.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/477662/">ุงููุตูู ุฅูู Redd Buses ุงููุทุจู ุนูู FTDI Controllers</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://habr.com/ru/post/483724/">ุงูุนูู ูุน ุงูุฅุทุงุฑุงุช ุงููุฎุตุตุฉ ูุนูุฏุฉ Redd</a> </li></ol><br></div></div><br><h2 style=";text-align:right;direction:rtl">  ุชุตููู ูุญุฑู ุจูุงุณุทุฉ ุฃูุธูุฉ ุงูููุงุฏุฉ </h2><br>  ุนูุฏ ุงูุนูู ูุน ูุญุฑูุงุช ุงูุฃูุฑุงุต ุ ูุฌุจ ุงูุชูููุฒ ุจูู ุงููุงุฌูุฉ ุงููุนููุฉ ููุธุงู ุงูุฃูุงูุฑ.  ุนูู ูุฌู ุงูุฎุตูุต ุ ูุญุฑูุงุช ุงูุฃูุฑุงุต CD / DVD / BD ูุบูุฑูุง ูู ุงูุจุตุฑูุงุช.  ุชูููุฏููุง ุ ูุชุตููู ุจูุจู SATA (IDE ุณุงุจููุง).  ููู ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ูุชู ุชุดุบูู ุฃูุงูุฑ PACKET ููุท ุฃุซูุงุก ุงูุชุดุบูู ุ ุญูุซ ูุชู ูุถุน ุฃูุงูุฑ ุงูุจูุงูุงุช ุงููุดูุฑุฉ ุจูุจุฏุฃ ูุฎุชูู ุชูุงููุง ูู ูุชูุฉ ุงูุจูุงูุงุช (ุณููุชุดู ูุฑูุจูุง ุฃููุง ูููุง).  ูุฐูู ุ ุณูุชุญุฏุซ ุงูุขู ููุณ ุนู ุงูุฃุณูุงู ุ ูููู ุนู ุงููุฑู ุงูุชู ุชุนูู ูููุง.  ุฃุนุฑู ุซูุงุซุฉ ุฃูุธูุฉ ุฃูุงูุฑ ุดุงุฆุนุฉ ููุนูู ูุน ูุญุฑูุงุช ุงูุฃูุฑุงุต. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  MMC.  ููู ุงูููููู ูู ูุจู ุจุทุงูุงุช SD.  ุจุตุฑุงุญุฉ ุ ุจุงููุณุจุฉ ูู ูุฐุง ูู ูุธุงู ุงูููุงุฏุฉ ุงูุฃูุซุฑ ุบููุถุง.  ูุจุฏู ุฃู ููููุฉ ุฅุฑุณุงููุง ูุงุถุญุฉ ุ ููู ููููุฉ ุฅุฏุงุฑุฉ ูุญุฑู ุงูุฃูุฑุงุต ุฏูู ูุฑุงุกุฉ ุงููุซููุฉ ุงูุชู ุชุญุชูู ุนูู ุงููุซูุฑ ูู ุงูุฑุณูู ุงูุจูุงููุฉ ุงูุงูุชูุงููุฉ - ุฃูุง ูุฑุชุจู ุฏุงุฆููุง.  ูุญุณู ุงูุญุธ ุ ูุฐุง ุงูููู ูุง ูุฒุนุฌูุง ุ ูุฃูู ุนูู ุงูุฑุบู ูู ุฃููุง ูุนูู ูุน ุจุทุงูุฉ SD ุ ูุฅู ูุญุฏุฉ ุงูุชุญูู STM32 ูู ูุถุน "ุงูุตูุฏูู ุงูุฃุณูุฏ" ุชุนูู ูุนูุง. </li><li style=";text-align:right;direction:rtl">  ATA.  ูู ุงูุจุฏุงูุฉ ุ ุฑูุถุช ูุฐู ุงูุฃูุงูุฑ ุนูู ูุงูู IDE ุ ุซู ุนูู SATA.  ูุธุงู ููุงุฏุฉ ุฑุงุฆุน ุ ููู ุงูููู ูุฐูุฑ ุฃูุถูุง ุฃูู ููุฌูุฏ. </li><li style=";text-align:right;direction:rtl">  SCSI.  ูุณุชุฎุฏู ูุธุงู ุงูููุงุฏุฉ ูุฐุง ุนูู ูุฌููุนุฉ ูุงุณุนุฉ ูู ุงูุฃุฌูุฒุฉ.  ุงููุธุฑ ูู ุงุณุชุฎุฏุงูู ูู ูุญุฑูุงุช ุงูุฃูุฑุงุต.  ููุงู ุงูููู ุ ุชุนูู ุฃูุงูุฑ SCSI ูู ุงูููุงู ุงูุฃูู ุนูู ุฃุณูุงู ูุงูู SAS (ุจุงูููุงุณุจุฉ ุ ุญุชู SSDs ูุน ูุงุฌูุฉ SAS ุฃุตุจุญุช ุงูุขู).  ููู ุงูุบุฑูุจ ุฃู ูุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุถูุฆูุฉ ุงููุชุตูุฉ ูุนููุงู ุจุญุงููุฉ SATA ุชุนูู ุฃูุถูุง ูู ุฎูุงู ุฃูุงูุฑ SCSI.  ุนูู ูุงูู USB ุนูุฏ ุงูุนูู ููููุง ููุนูุงุฑ Mass Storage Device ุ ุชุฐูุจ ุงูุฃูุงูุฑ ุฃูุถูุง ุจุชูุณูู SCSI.  ูุชู ุชูุตูู ูุชุญูู STM32 ุจูุฌูุน Redd ุนุจุฑ ูุงูู USB ุ ููุฐุง ูู ุ ูู ุญุงูุชูุง ุ ุงูุฃูุงูุฑ ุชุณูุฑ ุนูู ุงูุทุฑูู ุงูุชุงูู: <br><br><img src="https://habrastorage.org/webt/hy/iy/f4/hyiyf4m9sjgr8etz8ily8joxsrc.png"><br></li></ul><br>  ูู ุงูููุจููุชุฑ ุฅูู ูุญุฏุฉ ุงูุชุญูู ุ ุนุจุฑ USB ุ ุชููู ุงูุฃูุงูุฑ ุจุชูุณูู SCSI.  ุชููู ูุญุฏุฉ ุงูุชุญูู ุจุชุฑุฌูุฉ ุงูุฃูุงูุฑ ููููุง ููุงุนุฏุฉ MMC ูุชุฑุณููุง ุนุจุฑ ูุงูู SDIO.  ููู ุนูููุง ุฃู ููุชุจ ุจุฑูุงูุฌูุง ููููุจููุชุฑ ุงูุดุฎุตู ุ ุจุญูุซ ุชุชุฑููุง ุงููุฑู ุจุชูุณูู SCSI.  ูุชู ุฅุนุฏุงุฏูู ุจูุงุณุทุฉ ุจุฑูุงูุฌ ุชุดุบูู ุฌูุงุฒ Mass Storage Device ุ ูุงูุฐู ูุชูุงุตู ูุนู ูู ุฎูุงู ุจุฑูุงูุฌ ุชุดุบูู ูุธุงู ุงููููุงุช.  ูู ูููู ูุฒุฌ ุงูุทูุจุงุช ูุน ุงูุฃุฌูุฒุฉ ุงูุฃุฎุฑู ููุฐู ุงูุทูุจุงุชุ  ููุง ุจูุง <br><br><h2 style=";text-align:right;direction:rtl">  SCSI ุชูุงุตูู ูุธุงู ุงูููุงุฏุฉ </h2><br>  ุฅุฐุง ุชุนุงููุช ูุน ุงูุฃูุฑ ุจุดูู ุฑุณูู ุ ูุณูููู ูุตู ูุนูุงุฑ SCSI ูุชุงุญูุง ุนูู t10.org ุ ููููุง ุณูููู ูุงูุนููู.  ูุง ุฃุญุฏ ุณูู ููุฑุฃูุง ุทูุงุนูุฉ.  ุจุชุนุจูุฑ ุฃุฏู ุ ููุณ ูู ููุณู ุ ูููู ูุณุชูุฏุงุชูู: ุชูุฌุฏ ูููุฉ ูุงููุฉ ูู ุงููุณุชูุฏุงุช ุงูููุชูุญุฉ ูุฌุจู ูู ุงููุณุชูุฏุงุช ุงููุบููุฉ. ููุท ููุงู ุญุงุฌุฉ ูุงุณุฉ ุชุฌุนูู ุชุฒุฌ ููุณู ูู ุงููุบุฉ ุงููุนูุฏุฉ ุงูุชู ููุชุจ ุจูุง ุงููุนูุงุฑ (ูุฐุง ุ ุจุงูููุงุณุจุฉ ุ ููุทุจู ุนูู ูุนูุงุฑ ATA ุนูู t13.org).  ูู ุงูุฃุณูู ุจูุซูุฑ ูุฑุงุกุฉ ุงููุซุงุฆู ููุญุฑูุงุช ุงูุฃูุฑุงุต ุงูุญููููุฉ.  ูู ููุชูุจ ุจูุบุฉ ุฃูุซุฑ ุญูููุฉ ุ ููุชู ูุทุน ุฃุฌุฒุงุก ุงูุชุฑุงุถูุฉ ูููู ูู ุชุณุชุฎุฏู ุญูุง ููุฎุฑูุฌ ููู.  ุฃุซูุงุก ุฅุนุฏุงุฏ ุงูููุงูุฉ ุ ุตุงุฏูุช ูุณุชูุฏูุง ุฌุฏูุฏูุง ุฅูู ุญุฏ ูุง (2016) ูู <b>ุงูุฏููู ุงููุฑุฌุนู</b> <a href="https://www.seagate.com/files/staticfiles/support/docs/manual/Interface%2520manuals/100293068j.pdf">ูุฃูุงูุฑ</a> <b>SCSI</b> ุงูุฎุงุต ุจู Seagate (ุงูุฑุงุจุท ุงููุจุงุดุฑ <a href="https://www.seagate.com/files/staticfiles/support/docs/manual/Interface%2520manuals/100293068j.pdf">www.seagate.com/files/staticfiles/support/docs/manual/Interfaceูช20manuals/100293068j.pdf)</a> ุ ููุง ูู ุงูุญุงู ุฏุงุฆููุง ุ ูุง ุฃุนุฑู ูู ูู ุงูููุช ุณุชุนูุด).  ุฃุนุชูุฏ ุฃูู ุฅุฐุง ุฃุฑุงุฏ ุดุฎุต ูุง ุฅุชูุงู ูุธุงู ุงูุฃูุงูุฑ ูุฐุง ุ ูุนููู ุงูุจุฏุก ุจูุฐุง ุงููุณุชูุฏ.  ูุชุฐูุฑ ููุท ุฃู ูุงุฑุฆุงุช SD ุชููุฐ ูุฌููุนุฉ ูุฑุนูุฉ ุฃุตุบุฑ ูู ุงูุฃูุงูุฑ ูู ูุฐุง ุงููุตู. <br><br>  ูุชุญุฏุซ ููุชุฑุฉ ูุฌูุฒุฉ ุฌุฏูุง ุ ูุชู ุฅุฑุณุงู ูุญุฏุฉ ููุงุฏุฉ ุจุทูู ูุชุฑุงูุญ ูู 6 ุฅูู 16 ุจุงูุช ุฅูู ูุญุฑู ุงูุฃูุฑุงุต.  ูููู ุชูุตูู ูุชูุฉ ุงูุจูุงูุงุช ุจูุชูุฉ ุงูุฃูุงูุฑ ุฅูุง ูู ุฌูุงุฒ ุงูููุจููุชุฑ ุฅูู ูุญุฑู ุงูุฃูุฑุงุต ุ ุฃู ูู ูุญุฑู ุงูุฃูุฑุงุต ุฅูู ุฌูุงุฒ ุงูููุจููุชุฑ (ูุณูุญ ูุนูุงุฑ SCSI ุฃูุถูุง ุจุงูุชุจุงุฏู ุซูุงุฆู ุงูุงุชุฌุงู ุ ูููู ุจุงููุณุจุฉ ูุฌูุงุฒ ุงูุชุฎุฒูู ูุจูุฑ ุงูุณุนุฉ ุนุจุฑ USB ุ ููุณูุญ ุจููู ูุงุญุฏ ููุท ุ ููุง ูุนูู ุฃู ุงูุงุชุฌุงู ูุงุญุฏ ููุท).  ูู ูุชูุฉ ุงูุชุนูููุงุช ุ ุงูุจุงูุช ุงูุฃูู ูู ุฏุงุฆููุง ุฑูุฒ ุงูุฃูุฑ.  ุงูุจุงูุชุงุช ุงููุชุจููุฉ ูู ูุณุงุฆุทู.  ูุชู ูุตู ููุงุนุฏ ููุก ุงููุณูุทุงุช ุญุตุฑููุง ุจุชูุงุตูู ุชูููุฐ ุงูุฃูุฑ. <br><br><img src="https://habrastorage.org/webt/xt/1l/eb/xt1lebwoznye5dag98pwbtiuxfm.png"><br><br>  ูู ุงูุจุฏุงูุฉ ููุช ุจุฅุฏุฎุงู ุงููุซูุฑ ูู ุงูุฃูุซูุฉ ูู ุงูููุงูุฉ ุ ููููู ุฃุฏุฑูุช ุจุนุฏ ุฐูู ุฃููุง ุชุฌุนู ุงููุฑุงุกุฉ ุตุนุจุฉ.  ูุฐูู ุ ุฃูุชุฑุญ ุนูู ุงูุฌููุน ููุงุฑูุฉ ุญููู ุงูุฃูุฑ READ CAPACITY (10) ูู ุงูุฌุฏูู 119 ูู ูุณุชูุฏ Seigate ูุญููู ุงูุฃูุฑ READ (10) ูู ุงูุฌุฏูู 97 ูููุณ ุงููุณุชูุฏ (ุงูุธุฑ ุงูุฑุงุจุท ุฃุนูุงู).  ุงูุฐูู ูู ูุฌุฏูุง ุฃู ุงุชุตุงู - ูุง ุชุดุนุฑ ุจุงูููู.  ูุฐุง ูุง ุฃุฑุฏุช ุฃู ุฃุธูุฑู.  ุจุงูุฅุถุงูุฉ ุฅูู ุญูู "ุฃูุฑ" ูู ุตูุฑ ุจุงูุช ุ ูุฅู ุงูุบุฑุถ ูู ุฌููุน ุงูุญููู ูุนุชูุฏ ููุท ุนูู ุชูุงุตูู ุฃูุฑ ูุนูู.  ุชุญุชุงุฌ ุฏุงุฆููุง ุฅูู ูุชุญ ุงููุณุชูุฏ ูุฏุฑุงุณุฉ ุงูุบุฑุถ ูู ุงูุญููู ุงููุชุจููุฉ ููู. <br><br>  ูุฐูู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุชูุงุตู ูุน ูุญุฑู ุงูุฃูุฑุงุต ุ ูุฌุจ ุนููู ุชุดููู ูุชูุฉ ุฃูุงูุฑ ุจุทูู ูุชุฑุงูุญ ูู 6 ุฅูู 16 ุจุงูุช (ุญุณุจ ุชูุณูู ุงูุฃูุฑ ุ ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุงูุฑูู ุงูุฏููู ูู ุงููุซุงุฆู ุงูุฎุงุตุฉ ุจู). </li><li style=";text-align:right;direction:rtl">  ุงูุฃูู ูู ุตูุฑ ุจุงูุช ูู ุงููุชูุฉ: ูู ุงูุฐู ูุญุฏุฏ ุฑูุฒ ุงูุฃูุงูุฑ. </li><li style=";text-align:right;direction:rtl">  ูุง ุชุญุชูู ุนูู ุจุงูุช ูุชูุฉ ุงููุชุจููุฉ ุบุฑุถ ูุงุถุญ.  ูููู ููููุฉ ููุคูุง ุ ูุฌุจ ุนููู ูุชุญ ุงููุซุงุฆู ููุฑูู ูุนูู. </li><li style=";text-align:right;direction:rtl">  ูููู ุฑุจุท ูุฌููุนุฉ ูู ุงูุจูุงูุงุช ุงูุชู ูููู ููููุง ูู ุฃู ุฅูู ูุญุฑู ุฃูุฑุงุต ุจุฃูุฑ. </li></ul><br>  ูู ุงููุงูุน ุ ูุฐุง ูู ุดูุก.  ููุฏ ุชุนูููุง ููุงุนุฏ ุฅุตุฏุงุฑ ุฃูุงูุฑ SCSI.  ุงูุขู ูููููุง ุชูุฏูููุง ุ ุณูููู ููุงู ูุซุงุฆู ุนูููุง.  ูููู ููู ููุนู ุฐูู ุนูู ูุณุชูู ูุธุงู ุงูุชุดุบููุ <br><br><h2 style=";text-align:right;direction:rtl">  ุฃูุงูุฑ SCSI Linux </h2><br><h3 style=";text-align:right;direction:rtl">  ุงูุจุญุซ ุนู ุงูุฌูุงุฒ ุงููุณุชูุฏู </h3><br>  ูุฅุตุฏุงุฑ ุงูุฃูุงูุฑ ุ ุงูุชุญ ุฌูุงุฒ ุงููุฑุต.  ุฏุนูุง ูุฌุฏ ุงุณูู.  ููููุงู ุจุฐูู ุ ุณูุฐูุจ ุจููุณ ุงูุทุฑููุฉ ุชูุงููุง ููุง ูู <a href="https://habr.com/ru/post/477662/">ุงูููุงูุฉ ุญูู ุงูููุงูุฐ ุงูุชุณูุณููุฉ</a> .  ุฏุนููุง ูุฑู ูุงุฆูุฉ "ุงููููุงุช" ูู ุฏููู <b>/ dev</b> (ุชุฐูุฑ ุฃูู ุนูู ุฃุฌูุฒุฉ Linux ุชุธูุฑ ุฃูุถูุง ููููุงุช ููุชู ุนุฑุถ ูุงุฆูุชูุง ุจููุณ <b>ุงูุฃูุฑ ls</b> ). <br><br>  ุงูููู ููุชุจู ุฅูู <b>ูุฑุต</b> ุงูุฏููู ุงูุธุงูุฑู: <br><br><img src="https://habrastorage.org/webt/t_/py/kj/t_pykjsq2_2gdno-u0oc9wdpltm.png"><br><br>  ูุญู ููุธุฑ ุฅูู ูุญุชููุงุชู: <br><br><img src="https://habrastorage.org/webt/cp/yp/n_/cpypn_cslhfibis7ixhbez64q4y.png"><br><br>  ูุฌููุนุฉ ูุฃูููุฉ ูู ุงูุฏูุงุฆู ุงููุชุฏุงุฎูุฉ!  ูุญู ูุญุงูู ุงููุธุฑ ูู ุงูุฏููู <b>ุงููุฑุนู</b> ุ ุจุงุณุชุฎุฏุงู ููุชุงุญ ุงูุชุจุฏูู <b>-l</b> <b>ููุฃูุฑ ls</b> ุ ุงููุฃููู ููุง ุจุงููุนู ูู ุงูููุงูุฉ ุนูู ุงูููุงูุฐ ุงูุชุณูุณููุฉ: <br><br><img src="https://habrastorage.org/webt/jq/8s/zn/jq8sznkl6pimg5oxevbdp8m7l4w.png"><br><br>  ุงููููุงุช ุงูุจุงุฑุฒุฉ ุชุชุญุฏุซ ุนู ููุณูุง.  ูุฐุง ูู ูุญุฑู ูุญุชูู ุนูู ุจุทุงูุฉ SD ุงูุฏุงุฎููุฉ ููุฌูุน Redd.  ! ููุชุงุฒ  ุงูุขู ูุนูู ุฃู ุงูุฌูุงุฒ <b>MIR_Redd_Internal_SD</b> ูุชูุงูู ูุน ุงูุฌูุงุฒ <b>/ dev / sdb ู / dev / sdb1</b> .  ุงูุดุฎุต ุงูุฐู ูุง ูุญุชูู ุนูู ุงูุฑูู ูู ูุญุฑู ุงูุฃูุฑุงุต ููุณู ุ ูุณูุนูู ูุนู ุ ูุงูุฑูู ูู ูุธุงู ุงููููุงุช ุงูููุฌูุฏ ุนูู ุงููุณุงุฆุท ุงููุฏุฑุฌุฉ ููู.  ูู ุญูุซ ุงูุนูู ูุน ุจุทุงูุฉ SD ุ ูุนุฏ <b>/ dev / sdb</b> ูู ุงููุงุฑุฆ ุ ู <b>/ dev / sdb1</b> ูู ูุธุงู ุงููููุงุช ุงูููุฌูุฏ ุนูู ุงูุจุทุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุธููุฉ ูุธุงู ุงูุชุดุบูู ูุฅุตุฏุงุฑ ุงูุฃูุงูุฑ </h3><br>  ุนุงุฏุฉ ุ ูู ุฃู ูุธุงู ุชุดุบูู ุ ุชุชู ุฌููุน ุงูุฃุดูุงุก ุบูุฑ ุงูููุงุณูุฉ ูุน ุงูุฃุฌูุฒุฉ ูู ุฎูุงู ุงูุทูุจุงุช ุงููุจุงุดุฑุฉ ุฅูู ุจุฑูุงูุฌ ุงูุชุดุบูู.  ูู ูุธุงู Linux ุ ุชุชููุฑ ูุธููุฉ <b>ioctl ()</b> ูุฅุฑุณุงู ูุฐู ุงูุทูุจุงุช.  ุญุงูุชูุง ููุณุช ุงุณุชุซูุงุก.  ููุณูุทุฉ ุ ูููู ุจุชูุฑูุฑ ุทูุจ SG_IO ุงูููุถุญ ูู ููู ุงูุฑุฃุณ <b>sg.h.</b>  <b>ููุตู ุฃูุถูุง</b> ูููู <b>sg_io_hdr_t ุงูุฐู</b> ูุญุชูู ุนูู ูุนููุงุช ุงูุทูุจ.  ูู ุฃุนุทู ุงููููู ุงููุงูู ุ ุญูุซ ูู ูุชู ููุก ุฌููุน ุญูููู.  ุณุฃูุฏู ููุท ุฃูููุง: <br><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">typedef struct sg_io_hdr { int interface_id; /* [i] 'S' for SCSI generic (required) */ int dxfer_direction; /* [i] data transfer direction */ unsigned char cmd_len; /* [i] SCSI command length ( &lt;= 16 bytes) */ unsigned char mx_sb_len; /* [i] max length to write to sbp */ unsigned short int iovec_count; /* [i] 0 implies no scatter gather */ unsigned int dxfer_len; /* [i] byte count of data transfer */ void * dxferp; /* [i], [*io] points to data transfer memory or scatter gather list */ unsigned char * cmdp; /* [i], [*i] points to command to perform */ unsigned char * sbp; /* [i], [*o] points to sense_buffer memory */ unsigned int timeout; /* [i] MAX_UINT-&gt;no timeout (unit: millisec) */</code> </pre> <br>  ูุง ูุนูู ููุตู ุชูู ุงูุญููู ุงูููุซูุฉ ุฌูุฏูุง ูู ุงูุชุนูููุงุช ( <b>ูุงุฌูุฉ_ุงูุชุนุฑูู ุ dxfer_direction ุ ุงููููุฉ</b> ).  ุงูููุงูุฉ ุชููู ุจุงููุนู. <br><br>  ูุญุชูู ุงูุญูู <b>cmd_len</b> ุนูู ุนุฏุฏ ุงูุจุงูุชุงุช ูู ูุชูุฉ ุงูุฃูุงูุฑ ุ <b>ููุญุชูู cmdp ุนูู</b> ูุคุดุฑ ููุฐู ุงููุชูุฉ.  ูุง ููููู ุงูุงุณุชุบูุงุก ุนู ุฃูุฑ ุ ูุฐุง ูุฌุจ ุฃู ูููู ุนุฏุฏ ุงูุจุงูุชุงุช ุบูุฑ ุตูุฑู (ูู 6 ุฅูู 16). <br><br>  ุงูุจูุงูุงุช ุงุฎุชูุงุฑูุฉ.  ุฅุฐุง ูุงูุช ูุฐูู ุ ูุณูุชู ุชุญุฏูุฏ ุทูู ุงููุฎุฒู ุงููุคูุช ุงููุญุฏุฏ ูู ุญูู <b>dxfer_len</b> ุ ููุชู ุชุญุฏูุฏ ูุคุดุฑ ูู ูู ุญูู <b>dxferp</b> .  ูููู ููุญุฑู ุงูุฃูุฑุงุต ููู ุจูุงูุงุช ุฃูู ูุนูููุง ูู ุญุฌู ุงููุฎุฒู ุงููุคูุช ุงููุญุฏุฏ.  ูุชู ุชุญุฏูุฏ ุงุชุฌุงู ุงูุฅุฑุณุงู ูู ูุฌุงู <b>dxfer_direction</b> .  ููู ุฃุฌูุฒุฉ ุงูุชุฎุฒูู ุฐุงุช ุงูุณุนุฉ ุงููุจูุฑุฉ USB ูู: <b>SG_DXFER_NONE ุ SG_DXFER_TO_DEV ุ SG_DXFER_FROM_DEV</b> .  ููุฌุฏ ุดูุก ุขุฎุฑ ูู ููู ุงูุฑุฃุณ ุ ููู ูุนูุงุฑ Mass Storage Device ูุง ูุณูุญ ุจุชุทุจููู ูุนูููุง. <br><br>  ููููู ุฃูุถูุง ุทูุจ ุฅุฑุฌุงุน ุฑูุฒ ุงูุฎุทุฃ ุงูููุณูุน ( <b>SENSE</b> ).  ูุง ูููู ุงูุนุซูุฑ ุนููู ูู ูุณุชูุฏ Segate ุ ุงููุณู 2.4.  ูุดุงุฑ ุฅูู ุทูู ุงููุฎุฒู ุงููุคูุช ุงููุฎุตุต ูู ุงูุญูู <b>mx_sb_len</b> ุ <b>ููุดุงุฑ</b> ุฅูู ุงููุคุดุฑ ุฅูู ุงููุฎุฒู ุงููุคูุช ููุณู ูู ุญูู <b>sbp</b> . <br><br>  ููุง ุชุฑูู ุ ูุชู ููุก ูู ูุง ุชุญุฏุซุช ุนูู ุฃุนูุงู ูู ูุฐุง ุงููููู (ุจุงูุฅุถุงูุฉ ุฅูู ุฃูู ููููู ุงูุญุตูู ุนูู ูุนูููุงุช ููุณุนุฉ ุญูู ุงูุฎุทุฃ).  ุงูุฑุฃ ุงููุฒูุฏ ุญูู ุงูุนูู ูุน ุทูุจ <b>SG_IO</b> ููุง: <a href="http://sg.danny.cz/sg/sg_io.html">sg.danny.cz/sg/sg_io.html</a> <br><br><h3 style=";text-align:right;direction:rtl">  ูุฑุณู ุฃูุฑ ููุงุณู ุฅูู ูุญุฑู ุงูุฃูุฑุงุต </h3><br>  ุญุณููุง ุ ุงูุชุดููุง ุชูุณูู ุงูุฃูุฑ ุ ุงูุชุดููุง ุฃู ุฌูุงุฒ ูุฅุฑุณุงูู ุฅููู ุ ุงูุชุดููุง ุงููุธููุฉ ุงูุชู ูุฌุจ ุงูุงุชุตุงู ุจูุง.  ุฏุนููุง ูุญุงูู ุฅุฑุณุงู ุจุนุถ ุงูุฃูุงูุฑ ุงูููุงุณูุฉ ุฅูู ุงูุฌูุงุฒ ูุฏููุง.  ููููู ูุฐุง ุงูุฃูุฑ ูู ุงูุญุตูู ุนูู ุงุณู ูุญุฑู ุงูุฃูุฑุงุต.  ูุฐู ูู ุงูุทุฑููุฉ ุงูููุตููุฉ ูู ูุณุชูุฏ Sigeyt: <br><br><img src="https://habrastorage.org/webt/nj/qk/ca/njqkcamj1tnhjznoczjnrdfni60.png"><br><br>  ูุฑุฌู ููุงุญุธุฉ ุฃูู ููููุง ูุฅูุฏููููุฌูุฉ SCSI ุ ูุชู ููุก ุฌููุน ุงูุญููู ุงูููุฌูุฏุฉ ูู ุงูุฃูุงูุฑ ุงูููุงุณูุฉ ุจุชุฑููุฒ Big Endian ุ ุฃู ุฃุนูู ุจุงูุช ููุฃูุงู.  ูุฐูู ุ ูุญู ูููุฃ ุงูุญูู ุจุทูู ุงููุฎุฒู ุงููุคูุช ููุณ ุจุงูุชูุณูู "0x80 ุ 0x00" ุ ูููู ุนูู ุงูุนูุณ - "0x00 ุ 0x80".  ูููู ูุฐุง ูู ุงูุฃูุงูุฑ ุงูููุงุณูุฉ.  ูู ูู ุดูุก ุบูุฑ ููุงุณู ุ ููููู ุฏุงุฆููุง ุงูุฑุฌูุน ุฅูู ุงููุตู.  ูู ุงููุงูุน ุ ููุท ุฑูุฒ ุงูุฃูุฑ ( <b>12H</b> ) ูุงูุทูู ุงูุฐู ูุชุนูู ุนูููุง ููุก.  ุณูุทูุจ ุตูุญุฉ ุตูุฑูุฉ ุ ุฃูุง ุงูุญููู ุงููุชุจููุฉ ููู ุฅูุง ูุญููุธุฉ ุฃู ูุฏููุฉ ุฃู ุงูุงูุชุฑุงุถู ุฅูู ุตูุฑ.  ูุฐูู ุงููุฃูู ุฌููุนูุง ุจุงูุฃุตูุงุฑ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุตูุน ุจุฑูุงูุฌูุง ูุนุทู ูุฐุง ุงูุฃูุฑ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;cstdio&gt; #include &lt;stdint.h&gt; #include &lt;string.h&gt; #include &lt;fcntl.h&gt; // open #include &lt;unistd.h&gt; // close #include &lt;sys/ioctl.h&gt; #include &lt;scsi/scsi.h&gt; #include &lt;scsi/sg.h&gt; int main() { printf("hello from SdAccessTest!\n"); int s_fd = open("/dev/sdb", O_NONBLOCK | O_RDWR); if (s_fd &lt; 0) { printf("Cannot open file\n"); return -1; } sg_io_hdr_t header; memset(&amp;header;, 0, sizeof(header)); uint8_t cmd12h[] = { 0x12,0x00,0x00,0x00,0x80,0x00}; uint8_t data[0x80]; uint8_t sense[0x80]; header.interface_id = 'S'; //  'S' //  header.cmd_len = sizeof(cmd12h); header.cmdp = cmd12h; //  header.dxfer_len = sizeof(data); header.dxferp = data; header.dxfer_direction = SG_DXFER_TO_FROM_DEV; //     header.mx_sb_len = sizeof(sense); header.sbp = sense; // header.timeout = 100; // 100  int res = ioctl(s_fd, SG_IO, &amp;header;); close(s_fd); return 0; }</code> </pre><br></div></div><br><br>  ููููุฉ ุชุดุบูู ูุซู ูุฐู ุงูุจุฑุงูุฌ ุนูู ุฌูุงุฒ Redd ุจุนูุฏ ุ ููุฏ ูุงูุดูุง ุจุงููุนู ูู ุฃุญุฏ <a href="https://habr.com/ru/post/456008/">ุงูููุงูุงุช ุงูุณุงุจูุฉ</a> .  ุตุญูุญ ุ ุนูุฏ ุจุฏุก ุชุดุบููู ูุฃูู ูุฑุฉ ุ ุชูููุช ุนูู ุงูููุฑ ุฎุทุฃ ุฃุซูุงุก ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ <b>open ()</b> .  ุงุชุถุญ ุฃู ุงููุณุชุฎุฏู ุจุดูู ุงูุชุฑุงุถู ููุณ ูุฏูู ุญููู ูุงููุฉ ููุชุญ ุฃุฌูุฒุฉ ุงููุฑุต.  ูู ุฃูุง ูุชุฎุตุต ูู Linux ุ ูุชุจุช ุนุฏุฉ ูุฑุงุช ุ ููููู ุชูููุช ูู ุงูุนุซูุฑ ุนูู ูุฐู ุงูุดุจูุฉ ูุญู ูุฐู ุงููุดููุฉ ุ ููููู ุชุบููุฑ ุญููู ุงููุตูู ุฅูู ุงูุฌูุงุฒ ุนู ุทุฑูู ุฅุตุฏุงุฑ ุงูุฃูุฑ: <br><br>  <b>ุณูุฏู ุดููุฏ 666 / ุฏูู / SDB</b> <br><br>  ููุน ุฐูู ุ ูุงุญุธ ูุฏุฑุจ ุฑุฆูุณู (ููู ูุชุฎุตุต ูุจูุฑ ูู ูุธุงู ุงูุชุดุบูู) ูุงุญููุง ุฃู ุงูุญู ุตุงูุญ ุญุชู ูุชู ุฅุนุงุฏุฉ ุชุดุบูู ูุธุงู ุงูุชุดุบูู.  ููุญุตูู ุนูู ุงูุญููู ุจุงูุชุฃููุฏ ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงููุณุชุฎุฏู ุฅูู ูุฌููุนุฉ <b>ุงูุฃูุฑุงุต</b> . <br><br>  ุฃููุง ูู ูุฐูู ุงููุณุงุฑูู ูุฐูุจ ุ ูููู ุจุนุฏ ุฃู <b>ูุฌุญ</b> ูู ุดูุก ุ ุถุน ููุทุฉ ุชููู ุนูู ุงูุณุทุฑ <b>(s_fd) ุ</b>  ููุญุต ุงููุชุงุฆุฌ ุจุญููู ุงูููุช ุงูุฐู ูุชู ููู ุชุญูููู ูู ุจูุฆุฉ ุงูุชุทููุฑ (ูุธุฑูุง ูุฃู ุงูุจุฑูุงูุฌ ูุง ูุณุชุบุฑู ููููุง ูุงุญุฏูุง ุ ููุง ูุนูู ุฃูู ููุณ ูุฏููุง ููุช ููุถุงุก ุงูููุช ูุงูุฌูุฏ ูู ุฅุฏุฑุงุฌ ุงููุฎุทุทูู ุฅุฐุง ูุงูุช ุจูุฆุฉ ุงูุชุทููุฑ ูููููุง ุฅุธูุงุฑ ูู ุดูุก ููุง).  ูููุฉ <b>ุงูุฏูุฉ</b> ูู ุตูุฑ.  ูุฐูู ุนูู ุงููุฑูู ุฏูู ุฃุฎุทุงุก. <br><br><img src="https://habrastorage.org/webt/ih/2o/40/ih2o40ujbpv2p0qk9m_qiwdw9do.png"><br><br>  ูุง ุฌุงุก ุฅูู ุงููุฎุฒู ุงููุคูุชุ  ุนูุฏูุง ุฃุฏุฎูุช ูููุฉ <b>ุงูุจูุงูุงุช</b> ูู ุนููุงู ุงูุชูุฑูุบ ุ ุฃุฎุจุฑููู ุฃููู ูุง ูุณุชุทูุนูู ุญุณุงุจ ุงููููุฉ ุ ููุงู ุนููู ุฅุฏุฎุงู <b>ุงูุจูุงูุงุช &amp;ุ</b>  .  ุฅูู ุฃูุฑ ุบุฑูุจ ุ ูุฃู <b>ุงูุจูุงูุงุช</b> ูู ูุคุดุฑ ุ ุนูุฏ ุชุตุญูุญ ุงูุฃุฎุทุงุก ุชุญุช Windows ุ ูุนูู ูู ุดูุก ุ ููููู ูุงุญุธุช ูุฐู ุงูุญูููุฉ ููุท ุ ุฅููุง ุชุนูู ููุง ููู: ุงูุธุฑ ุฅูู ุงููุชูุฌุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/webt/bj/tk/ae/bjtkaehd8ucyzdufbdsn1392tgm.png"><br><br>  ูุฐุง ุตุญูุญ ุ ููุฏ ุฃุนุงุฏูุง ุงุณู ููุฑุงุฌุนุฉ ูุญุฑู ุงูุฃูุฑุงุต ููุง.  ูููู ุงูุนุซูุฑ ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุชูุณูู ุงููููู ุงููุงุชุฌ ูู ูุณุชูุฏ Segate (ุงููุณู 3.6.2 ุ ุงูุฌุฏูู 59).  ูู ูุชู ุชุนุจุฆุฉ ุงููุฎุฒู ุงููุคูุช <b>ูููุนูู</b> ุ ููู ูุตู IOCTL ููุทูุจ ูููู ุฃูู ูุชู ููุคู ููุท ุนูุฏ ุญุฏูุซ ุฎุทุฃ ุจุฅุฑุฌุงุน ุดูุก ูุง ูู ูุฐุง ุงููุฎุฒู ุงููุคูุช.  ุญุฑูููุง: <b>ุงูุจูุงูุงุช ุงูููุทููุฉ (ุชูุณุชุฎุฏู ููุท ุนูุฏูุง ูููู "ุงูุญุงูุฉ" ูู CHECK CONDITION ุฃู (driver_status &amp; DRIVER_SENSE) ุตุญูุญูุง)</b> . <br><br><h2 style=";text-align:right;direction:rtl">  ุชูุณูู ุงูููุงุฏุฉ ุงููุฎุตุต ููุญุฑู ุงูุฃูุฑุงุต SD Redd ุงูุฏุงุฎูู </h2><br>  ุงูุขู ูุจุนุฏ ุฃู ุฏุฑุณูุง ููุท ุงููุตู ุงูุฌุงู ูููุนูุงุฑ ุ ูููู ุฃูุถูุง ุฌุฑุจูุง ูู ุดูุก ูู ุงูููุงุฑุณุฉ ุ ุจุนุฏ ุฃู ูุงุฌููุง ูุชูุฉ ุงูุฃูุงูุฑ ุ ูููููุง ุจุงููุนู ุนุฑุถ ุชูุณูู ุงูุฃูุงูุฑ ุงูุฐู ููููู ูู ุฎูุงูู ุงุณุชุฏุนุงุก ุงููุธุงุฆู ุบูุฑ ุงูููุงุณูุฉ ุงูุชู "ูุชู ูููุถูุง" ุฅูู ูุญุฏุฉ ุงูุชุญูู STM32 ุนูู ุงูููุญุฉ ุงููุนูุฏุฉ.  ููุฏ ุญุฏุฏุช ุฑูุฒ ุงูุฃูุฑ ูู ุจุฏุงูุฉ ูุฌููุนุฉ ุฃูุงูุฑ <b>Vendor Specific</b> .  ุฅูู ูุณุงูู 0xC0.  ุจุดูู ุชูููุฏู ุ ูู ุฃูุตุงู ุฃูุงูุฑ SCSI ุ ุงูุชุจ <b>C0h</b> .  ุทูู ุงูุฃูุฑ ูู ุฏุงุฆูุง 10 ุจุงูุช.  ุดูู ุงููุฑูู ููุญุฏ ููุนุฑุถ ูู ุงูุฌุฏูู ุฃุฏูุงู. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><td>  <b>ุจุงูุช</b> </td><td>  <b>ููุนุฏ</b> </td></tr><tr><td>  0 </td><td>  ููุฏ ุงูููุงุฏุฉ C0h </td></tr><tr><td>  1 </td><td>  ุงูุฑูุฒ ุงููุฑุนู </td></tr><tr><td>  2 </td><td rowspan="4">  ูุณูุทุฉ arg1.  ุชุนููู ุจุชุฏููู Endian ุงูุตุบูุฑ (ุจุงูุช ููุฎูุถ ููุฃูุงู) </td></tr><tr><td>  3 </td></tr><tr><td>  4 </td></tr><tr><td>  5 </td></tr><tr><td>  6 </td><td rowspan="4">  ูุณูุทุฉ arg2.  ุชุนููู ุจุชุฏููู Endian ุงูุตุบูุฑ (ุจุงูุช ููุฎูุถ ููุฃูุงู) </td></tr><tr><td>  7 </td></tr><tr><td>  8 </td></tr><tr><td>  9 </td></tr></tbody></table></div><br>  ููุง ุชุฑูู ุ ูุชู ุชูุฏูู ุงูุญุฌุฌ ูู ุชุฏููู Little Endian.  ุณูุชูุญ ูู ุฐูู ูุตู ุงูุฃูุฑ ูู ุดูู ุจููุฉ ูุงููุตูู ุฅูู ุญููููุง ูุจุงุดุฑุฉู ุ ุฏูู ุงููุฌูุก ุฅูู ูุธููุฉ ุงูุชูููุจ ุงูุจุงูุช.  ูุดุงูู ุงููุญุงุฐุงุฉ (ุงููููุงุช ุงููุฒุฏูุฌุฉ ูู ุงููููู ููุง ุฅุฒุงุญุงุช ูุง ุชุชุนุฏู ุฃุฑุจุนุฉ) ุนูู x86 ู x64 ุงูุจููุงุช ูุง ูุณุชุญู ูู ูุฐุง ุงูุนูุงุก. <br><br>  ูุชู ูุตู ุฑููุฒ ุงูุฃูุงูุฑ ุงููุฑุนูุฉ ุจูุงุณุทุฉ ุงูุชุนุฏุงุฏ ุงูุชุงูู: <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">enum vendorSubCommands { subCmdSdEnable = 0, // 00 Switch SD card to PC or Outside subCmdSdPower, // 01 Switch Power of SD card On/Off subCmdSdReinit, // 02 Reinitialize SD card (for example, after Power Cycle) subCmdSpiFlashEnable, // 03 Switch SPI Flash to PC or Outside subCmdSpiFlashWritePage, // 04 Write Page to SPI Flash subCmdSpiFlashReadPage, // 05 Read Page from SPI Flash subCmdSpiFlashErasePage,// 06 Erase Pages on SPI Flash (4K block) subCmdRelaysOn, // 07 Switch relays On by mask subCmdRelaysOff, // 08 Switch relays off by mask subCmdRelaysSet, // 09 Set state of all relays by data subCmdFT4222_1_Reset, // 0A Activate Reset State or switch chip to normal mode subCmdFT4222_2_Reset, // 0B Activate Reset State or switch chip to normal mode subCmdFT4222_3_Reset, // 0C Activate Reset State or switch chip to normal mode subCmdFT4232_Reset, // 0D Activate Reset State or switch chip to normal mode subCmdFT2232_Reset, // 0E Activate Reset State or switch chip to normal mode subCmdMAX3421_Reset, // 0F Activate Reset State or switch chip to normal mode subCmdFT4222_1_Cfg, // 10 Write to CFG pins of FT4222_1 subCmdFT4222_2_Cfg, // 11 Write to CFG pins of FT4222_2 subCmdFT4222_3_Cfg, // 12 Write to CFG pins of FT4222_3 };</code> </pre><br>  ูููู ุชูุณูููุง ุฅูู ูุฌููุนุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุจุฏูู ุงูุฃุฌูุฒุฉ ุฅูู ุฃูุถุงุน ุฏุงุฎููุฉ ูุฎุงุฑุฌูุฉ </h3><br>  ูุนูู <b>ุงูุฃูุฑุงู subCmdSdEnable</b> ู <b>subCmdSpiFlashEnable ุนูู</b> ุชุจุฏูู ุจุทุงูุฉ SD ูููุงุด SPI ุนูู ุงูุชูุงูู.  ุชููู ุงููุนููุฉ <b>arg1</b> ุจุชูุฑูุฑ ุฅุญุฏู ุงูููู ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">enum enableMode { enableModeToPC = 0, enableModeOutside };</code> </pre> <br>  ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุชูุตูู ููุง ุงูุฌูุงุฒูู ุจุฌูุงุฒ ููุจููุชุฑ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุจุฏูู ุงูุณูุทุฉ </h3><br>  ูุชุทูุจ ุจุฑูุชูููู SDIO ุงููุซูุฑ ูู ุงููุนุงูุฌุฉ ุฃุซูุงุก ุงูุชููุฆุฉ.  ูู ุงููููุฏ ูู ุจุนุถ ุงูุฃุญูุงู ุฅุนุงุฏุฉ ุชุนููู ุจุทุงูุฉ SD ุฅูู ุญุงูุชูุง ุงูุฃูููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุชุญููู ุฎุทูุทูุง ุฅูู ููุตู ุฎุงุฑุฌู).  ููููุงู ุจุฐูู ุ ูู ุจุฅููุงู ุชุดุบููู ุ ุซู ูู ุจุชุดุบููู.  ูููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู <b>ุงูุฃูุฑ subCmdSdPower</b> .  ูู ุงููุณูุทุฉ <b>arg1 ุ</b> ูุชู ุชูุฑูุฑ ุฅุญุฏู ุงูููู ุงูุชุงููุฉ: 0 - power off ุ 1 - power on.  ุชุฐูุฑ ุฃู ุชุนุทู ููุชูุง ูุชูุฑูุบ ุงูููุซูุงุช ุนูู ุฎุท ุงูุทุงูุฉ. <br><br>  ุจุนุฏ ุชุดุบูู ุงูุทุงูุฉ ุ ูุฌุจ ุฅุนุงุฏุฉ ุชููุฆุฉ ุงูุจุทุงูุฉ ุ ุฅุฐุง ูุงูุช ูุชุตูุฉ ุจุงูููุจููุชุฑ.  ููููุงู ุจุฐูู ุ ุงุณุชุฎุฏู ุงูุฃูุฑ <b>subCmdSdReinit</b> (ูุง ูุญุชูู ุนูู ูุณูุทุงุช). <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุนูู ูุน ูุญุฑู ุฃูุฑุงุต ููุงุด SPI </h3><br>  ุฅุฐุง ูุงูุช ุจุทุงูุฉ SD ูุชุตูุฉ ุจุงููุธุงู ููุญุฑู ุฃูุฑุงุต ูุงูู ุ ูุฅู ุดุฑูุญุฉ ุงููุตูู ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูุญุฏูุฏุฉ ููุบุงูุฉ.  ููููู ุงููุตูู ุฅูู ุงูุตูุญุงุช ุงููุฑุฏูุฉ ููุท (256 ุจุงูุช) ูุตูุญุฉ ูุงุญุฏุฉ ููุท ูู ูู ูุฑุฉ.  ุฅู ููุฏุงุฑ ุงูุฐุงูุฑุฉ ูู ุงูุฏุงุฆุฑุฉ ุงููุตุบุฑุฉ ูู ุฃูู ุญุชู ุนูุฏ ุงูุนูู ุนูู ุงูุตูุญุฉ ุ ูุฅู ุงูุนูููุฉ ูู ุชุณุชุบุฑู ุงููุซูุฑ ูู ุงูููุช ุนูู ุฃู ุญุงู ุ ูููู ูุฐุง ุงูููุฌ ูุจุณุท ุฅูู ุญุฏ ูุจูุฑ "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ" ูููุฑุงูุจ ุงูุฏููู. <br><br>  ููุฑุฃ ุงูุฃูุฑ <b>subCmdSpiFlashReadPage</b> ุงูุตูุญุฉ.  ูุชู ุชุญุฏูุฏ ุงูุนููุงู ูู ุงููุนููุฉ arg1 ุ ูุนุฏุฏ ุงูุตูุญุงุช ุงููุฑุงุฏ ุฅุฑุณุงููุง ูู ุงููุนููุฉ arg2.  ูููู ูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ุ ูุฌุจ ุฃู ูููู ุนุฏุฏ ุงูุตูุญุงุช ูุณุงูููุง ูุตูุญุฉ ูุงุญุฏุฉ.  ุณูุนูุฏ ุงูุฃูุฑ 256 ุจุงูุช ูู ุงูุจูุงูุงุช. <br><br>  ููุง <b>ูุณุฎุฉ</b> ูุชุทุงุจูุฉ ููุง ูู ุงูุฃูุฑ <b>subCmdSpiFlashWritePage</b> .  ุชูุชูุฆ ุงูุญุฌุฌ ููุง ูู ููุณ ุงููุจุฏุฃ.  ุงุชุฌุงู ููู ุงูุจูุงูุงุช ุฅูู ุงูุฌูุงุฒ. <br><br>  ุฎุตูุตูุฉ ุฐุงูุฑุฉ ุงูููุงุด ูู ุฃูู ูุง ูููู ุงุณุชุจุฏุงู ุงูุจุชุงุช ุงูููุฑุฏุฉ ุฅูุง ุจุชุงุช ุตูุฑูุฉ ุฃุซูุงุก ุงูุชุณุฌูู.  ูุฅุนุงุฏุชูุง ุฅูู ูููุฉ ูุงุญุฏุฉ ุ ูุฌุจ ุฃู ุชูุญู ุงูุตูุญุงุช.  ููุฌุฏ ุฃูุฑ <b>subCmdSpiFlashErasePage</b> ููุฐุง <b>ุงูุบุฑุถ</b> .  ุตุญูุญ ุ ูุธุฑูุง ูููุฒุงุช ุงูุฏุงุฆุฑุฉ ุงููุตุบุฑุฉ ุงููุณุชุฎุฏูุฉ ุ ููู ููุณุช ุตูุญุฉ ูุงุญุฏุฉ ูุชู ุชุนููููุง ูู ุงููุนููุฉ <b>arg1</b> ุงูุชู ุชู ูุญููุง ุ ุจู ูุชูุฉ 4 ููููุจุงูุช ุชุญุชูู ุนูููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุฏุงุฑุฉ ุชุชุงุจุน ุงูุญุงูุฉ ุงูุตูุจุฉ </h3><br>  ูุญุชูู ุงููุฌูุน ุนูู ุณุชุฉ ูุฑุญู ุงูุญุงูุฉ ุงูุตูุจุฉ.  ููุงู ุซูุงุซุฉ ูุฑู ูุฅุฏุงุฑุชูุง. <br><br>  <b>subCmdRelaysSet</b> - ูุญุฏุฏ ูููุฉ ุฌููุน ุงููุฑุญูุงุช ุงูุณุชุฉ ูู ููุช ูุงุญุฏ.  ูู ุงููุนููุฉ <b>arg1 ุ</b> ูุชู ุชูุฑูุฑ ูููุฉ ุ ูู ุฌุฒุก ูููุง ูุชูุงูู ูุน ูุฑุญูุชู ุงูุฎุงุตุฉ (ุตูุฑ ุจุช - ูุฑุญู ูุน ุงูููุฑุณ 0 ุ ุฃูู ุจุช ูุน ุงูููุฑุณ 1 ุ ุฅูุฎ).  ุชููู ูููุฉ ุงูุจุชุฉ ุงููุงุญุฏุฉ ุจุฅุบูุงู ุงูุชุชุงุจุน ุ ูุชุคุฏู ูููุฉ ุงูุตูุฑ ุฅูู ูุชุญู. <br><br>  ุทุฑููุฉ ุงูุชุดุบูู ูุฐู ุฌูุฏุฉ ุนูุฏูุง ุชุนูู ุฌููุน ุงููุฑุญูุงุช ููุฌููุนุฉ ูุงุญุฏุฉ.  ุฅุฐุง ูุงูุช ุชุนูู ุจุดูู ูุณุชูู ุนู ุจุนุถูุง ุงูุจุนุถ ุ ููุน ูุฐุง ุงูููุฌ ุ ูุชุนูู ุนููู ุจุฏุก ุชุดุบูู ูุชุบูุฑ ูุคูุช ูููู ุจุชุฎุฒูู ูููุฉ ุญุงูุฉ ูู ุงููุฑุญูุงุช.  ูู ุญุงูุฉ ุงูุชุญูู ูู ุงููุฑุญูุงุช ุงููุฎุชููุฉ ุจูุงุณุทุฉ ุจุฑุงูุฌ ูุฎุชููุฉ ุ ุชุตุจุญ ูุดููุฉ ุชุฎุฒูู ุงููููุฉ ุงูุฅุฌูุงููุฉ ุดุฏูุฏุฉ ููุบุงูุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ููููู ุงุณุชุฎุฏุงู ุฃูุฑูู ุขุฎุฑูู: <br><br>  <b>subCmdRelaysOn</b> - ููููู ุงููุฑุญูุงุช ุงููุญุฏุฏุฉ ุจูุงุณุทุฉ ุงูููุงุน.  ุณูุชู ุชูููู ุชูู ุงููุฑุญูุงุช ุงูุชู ุชุชูุงูู ูุน ูุญุฏุงุช ุงูุจุช ูู ูุณูุทุฉ <b>arg1</b> .  ุณุชุญุชูุธ ุงููุฑุญูุงุช ุงูุชู ุชุชูุงูู ูุน ุงูุฃุตูุงุฑ ุงูููุฌูุฏุฉ ูู ุงูููุงุน ุจุญุงูุชูุง ุงูุญุงููุฉ. <br><br>  <b>ุณูููู</b> ุงูุฃูุฑ <b>subCmdRelaysOff ุงูุฐู ูุนูุณู</b> ุจุฅููุงู ุชุดุบูู ุงููุฑุญูุงุช ุงููุญุฏุฏุฉ ุจูุงุณุทุฉ ููุงุน.  ุณูุชู ุฅููุงู ุชุดุบูู ุชูู ุงููุฑุญูุงุช ุงูุชู ุชุชูุงูู ูุน ุงูุจุชุงุช ุงููุฑุฏูุฉ ูู ุงููุณูุทุฉ <b>arg1</b> .  ุณุชุญุชูุธ ุงููุฑุญูุงุช ุงูุชู ุชุชูุงูู ูุน ุงูุฃุตูุงุฑ ุงูููุฌูุฏุฉ ูู ุงูููุงุน ุจุญุงูุชูุง ุงูุญุงููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุฅุนุงุฏุฉ ุชุนููู ูุญุฏุงุช ุชุญูู FTDI ู Maxim </h3><br>  ูุฅุฑุณุงู ุฅุดุงุฑุงุช ุฅุนุงุฏุฉ <b>ุงูุชุนููู ุฅูู</b> <b>ุฏูุงุฆุฑ</b> FTDI ู Maxim ุงูุฏูููุฉ ุ ูุฅู ูุฌููุนุฉ ุงูุฃูุงูุฑ <b>subCmdFT4222_1_Reset</b> ู <b>subCmdFT4222_2_Retet</b> ู <b>subCmdFT4222_3_Reset</b> ู <b>subCmdFT4232_Reset</b> ู <b>subCmdFT4232_Reset</b> ู <b>subCmdFT4232_Reset</b> ู <b>subCmd</b>  ูู ุฃุณูุงุฆูู ููููู ุฃู ุชุฑู ุฃู ุฑูุงุฆู ุชุชุญูู ูููุง ุนู ุทุฑูู ุฅุนุงุฏุฉ ุชุนููู ุงูุฅุดุงุฑุงุช.  ุฌุณูุฑ FT4222 ุ ููุง ุฐูุฑูุง ุณุงุจููุง ุ ุฌุณุฑูู ูู ุงูุฏุงุฆุฑุฉ (ูุคุดุฑุงุชูุง 1 ู 2) ุ ูุฌุณุฑ FT4222 ุขุฎุฑ ูููู ุงูุจูุงูุงุช ุฅูู ุดุฑูุญุฉ MAX3421 ุ ูุงูุชู ุณููุธุฑ ูููุง ูู ุงูููุงูุฉ ุงูุชุงููุฉ. <br><br>  ุชููู ุงููุนููุฉ <b>arg1</b> ุจุชูุฑูุฑ ุฅุญุฏู ุงูููู ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">enum ResetState { resetStateActive =0, resetStateNormalOperation };</code> </pre> <br>  ุงูุชุฑุงุถููุง ุ ุชููู ุฌููุน ุงูุฌุณูุฑ ูู ุญุงูุฉ ุนูู ุทุจูุนูุฉ.  ููุง ุฐูุฑูุง <a href="https://habr.com/ru/post/483724/">ุณุงุจููุง ูู ููุงู ุณุงุจู</a> ุ ูุญู ูุณูุง ูุชุฃูุฏูู ููุง ุฅุฐุง ูุงูุช ูุฐู ุงููุธููุฉ ูุทููุจุฉ ุ ูููู ุนูุฏูุง ูุง ูููู ููุงู ูุตูู ูุจุงุดุฑ ุฅูู ุงูุฌูุงุฒ ุ ููู ุงูุฃูุถู ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุฅุนุงุฏุฉ ุถุจุท ูู ุดูุก ููู ุดูุก ุนู ุจูุนุฏ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุจุฏูู ุฎุทูุท ุงูุชูููู ูุฑูุงุฆู FT4222 </h3><br>  ุชุญุชูู ุฑูุงุฆู FT4222 ุนูู ุฃุฑุจุนุฉ ุฃูุถุงุน.  ูู ุบูุฑ ุงููุญุชูู ุฃู ูุญุชุงุฌ ุฃู ุดุฎุต ุฅูู ูุถุน ุบูุฑ "00" ุ ูููู ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅููู ูุฌุฃุฉ ุ ูููููู ุงุณุชุฎุฏุงู <b>subCmdFT4222_1_Cfg</b> ู <b>subCmdFT4222_2_Cfg ูุฃูุงูุฑ subCmdFT4222_3_Cfg ููุชุจุฏูู ููุดุฑุงุฆุญ</b> ุงูุฃููู ูุงูุซุงููุฉ ูุงูุซุงูุซุฉ.  ูุชู ุชุนููู ูููุฉ ุงูุฃุณุทุฑ CFG0 ู CFG1 ูู ุงูุจุชุงุชูู ุงูุฃุฏูู ูููุนููุฉ <b>arg1</b> . <br><br><h2 style=";text-align:right;direction:rtl">  ุฎุจุฑุฉ ุนูููุฉ ูู ุฅุตุฏุงุฑ ุงูุฃูุงูุฑ ุฅูู ูุญุฏุฉ ุงูุชุญูู STM32 </h2><br>  ูุงุฎุชุจุงุฑ ุงูููุงุฏ ุงููุธุฑูุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ุณูุญุงูู ุชุจุฏูู ุจุทุงูุฉ SD.  ููููุงู ุจุฐูู ุ ูู ุจุฅุตุฏุงุฑ ุงูุฃูุฑ <b>subCmdSdEnable</b> ุจุฑูุฒ 0x00 ุจุงุณุชุฎุฏุงู ุงููุณูุทุฉ <b>enableModeOutside</b> ูุน ุงูุฑูุฒ 0x01.  ุบุฑุงูุฉ.  ูุนูุฏ ูุชุงุจุฉ ุงูุจุฑูุงูุฌ ูู ุงูุชุฌุฑุจุฉ ุงูุณุงุจูุฉ ุนูู ุงููุญู ุงูุชุงูู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุจุฑูุงูุฌ ุงููุนุงุฏ ูุชุงุจุชู:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#include &lt;cstdio&gt; #include &lt;stdint.h&gt; #include &lt;string.h&gt; #include &lt;fcntl.h&gt; // open #include &lt;unistd.h&gt; // close #include &lt;sys/ioctl.h&gt; #include &lt;scsi/scsi.h&gt; #include &lt;scsi/sg.h&gt; int main() { printf("hello from SdAccessTest!\n"); int s_fd = open("/dev/sdb", O_NONBLOCK | O_RDWR); if (s_fd &lt; 0) { printf("Cannot open file\n"); return -1; } sg_io_hdr_t header; memset(&amp;header;, 0, sizeof(header)); uint8_t cmdSdToOutside[] = { 0xC0,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00 }; uint8_t cmdSdToPC[] = { 0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00 }; uint8_t sense[32]; memset(sense, 0, sizeof(sense)); header.interface_id = 'S'; //  'S' //  header.cmd_len = sizeof(cmdSdToOutside); header.cmdp = cmdSdToOutside; //  ( ) header.dxfer_len = 0; header.dxferp = 0; header.dxfer_direction = SG_DXFER_NONE; //     header.mx_sb_len = sizeof(sense); header.sbp = sense; // header.timeout = 100; // 100  int res = ioctl(s_fd, SG_IO, &amp;header;); //   header.cmdp = cmdSdToPC; res = ioctl(s_fd, SG_IO, &amp;header;); close(s_fd); return 0; }</code> </pre><br></div></div><br>  ูููุง ุจุชุบููุฑ ุทูู ุงูุฃูุฑ ุฅูู ุนุดุฑ ุจุงูุช ูุฅุฒุงูุฉ ูุชูุฉ ุงูุจูุงูุงุช.  ุญุณููุง ุ ูุงููุง ุจุชุฏููู ุฑูุฒ ุงูุฃูุฑ ุจุงุณุชุฎุฏุงู ุงููุณุงุฆุท ุ ููุง ูู ูุทููุจ.  ุฎูุงู ุฐูู ุ ูู ุดูุก ูุง ูุฒุงู ูู ููุณู.  ูุจุฏุฃ ... ู ... ูุง ุดูุก ูุนูู.  ุชุฑุฌุน ุงูุฏุงูุฉ <b>ioctl ()</b> ุฎุทุฃ.  ุงูุณุจุจ ููุตูู ูู <b>ูุณุชูุฏ</b> ุฃูุฑ <b>SG_IO</b> .  ุงูุญูููุฉ ูู ุฃููุง ูุนุทู ุงูุฃูุฑ ุงูุจุงุฆุน ุงููุญุฏุฏ <b>C0h</b> ุ <b>ูููุงู</b> ูุง ููู ุนููู ุญุฑููุง: <br><blockquote style=";text-align:right;direction:rtl">  ูุญุชุงุฌ ุฃู ุฃูุฑ SCSI ุขุฎุฑ (ุดูุฑุฉ ุชุดุบูู) ูู ูุฑุฏ ุฐูุฑู ูุจุฑูุงูุฌ ุชุดุบูู sg ุฅูู O_RDWR.  ูุญุชุงุฌ ุฃู ุฃูุฑ SCSI ุขุฎุฑ (ุดูุฑุฉ ุชุดุบูู) ูู ูุชู ุฐูุฑู ูุทุจูุฉ ุงููุชูุฉ SG_IO ioctl ุฅูู ูุณุชุฎุฏู ูุฏูู ูุฏุฑุฉ CAP_SYS_RAWIO. </blockquote><br>  ููุง ุฃูุถุญ ูู ุงูุฑุฆูุณ (ุฃูุง ููุท ุฃููู ุจุฑูุงูุฉ ูููุงุชู) ุ ูุชู ุชุนููู ููู <b>ุงููุฏุฑุงุช</b> ุฅูู ููู ูุงุจู ููุชูููุฐ.  ููุฐุง ุงูุณุจุจ ุ ูุงู ุนูู ุฃู ุฃุชุชุจุน ูู ุจูุฆุฉ ุงูุชุทููุฑ ุนู ุทุฑูู ุชุณุฌูู ุงูุฏุฎูู <b>ูุฌุฐุฑ</b> .  ููุณ ุงูุญู ุงูุฃูุถู ุ ููู ุนูู ุงูุฃูู ุดูุก ูุง.  ูู ุงููุงูุน ุ ุนูู ูุธุงู Windows ุ ูุชุทูุจ ุทูุจ <b>IOCTL_SCSI_PASS_THROUGH_DIRECT</b> ุฃูุถูุง ุญููู ุงููุณุคูู.  ุฑุจูุง ูู ุงูุชุนูููุงุช ุณููุฏู ุดุฎุต ูุง ุงููุตูุญุฉ ุญูู ููููุฉ ุญู ูุดููุฉ ุงูุชุชุจุน ุฏูู ูุซู ูุฐู ุงูุฎุทูุงุช ุงูุฌุฐุฑูุฉ ุ ููู ููููู ุชุดุบูู ุงูุจุฑูุงูุฌ ุงูููุชูุจ ุจุงููุนู ุจุฏูู <b>ุฌุฐุฑ</b> ุ ุฅุฐุง ููุช ุจุชุณุฌูู <b>ุงููุฏุฑุงุช</b> ุงูุตุญูุญุฉ <b>ูุฐูู</b> .  ูู ุบุถูู ุฐูู ุ ูู ุจุชุบููุฑ ุงุณู ุงููุณุชุฎุฏู ูู ุจูุฆุฉ ุงูุชุทููุฑ ูุชุนููู ููุทุฉ ุชููู ุนูู ุงูุณุทุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">int res = ioctl(s_fd, SG_IO, &amp;header;);</code> </pre> <br>  ููุจู ุงูุงุชุตุงู ุจูุธููุฉ <b>ioctl ()</b> ุ ููุธุฑ ุฅูู ูุงุฆูุฉ ุฃุฌูุฒุฉ ุงูุชุฎุฒูู: <br><br><img src="https://habrastorage.org/webt/ys/ef/ls/yseflsambpnn83pbywoqfuazoqi.png"><br><br>  ุงุชุตู ุจู <b>ioctl ()</b> ูุงูุธุฑ ุฅูู ุงููุงุฆูุฉ ูุฑุฉ ุฃุฎุฑู: <br><br><img src="https://habrastorage.org/webt/ro/2g/33/ro2g331krziu9uslxuzo28hylxa.png"><br><br>  ุจูู ุงูุฌูุงุฒ <b>/ dev / sdb</b> (ุชุญุฏุซ ุชูุฑูุจูุง ุ ูุฐุง ูู ูุงุฑุฆ ุจุทุงูุฉ SD ููุณู) ุ ู <b>/ dev / sdb1</b> ุงุฎุชูู.  ูุชูุงูู ูุฐุง ุงูุฌูุงุฒ ูุน ูุธุงู ุงููููุงุช ุนูู ุงููุณุงุฆุท.  ุงููุงูู ููุตูู ุนู ุงูููุจููุชุฑ - ูู ูุนุฏ ูุฑุฆููุง.  ููุงุตู ุงูุจุญุซ ุนู ุงูููููุฏูู.  ุจุนุฏ ุงุณุชุฏุนุงุก ูุธููุฉ <b>ioctl ()</b> ุงูุซุงููุฉ ุ ููุธุฑ ูุฑุฉ ุฃุฎุฑู ุฅูู ูุงุฆูุฉ ุงูุฃุฌูุฒุฉ: <br><br><img src="https://habrastorage.org/webt/rd/wi/zx/rdwizxqu4amrqeuhzghnrptvkly.png"><br><br>  ูุชู ุฅุนุงุฏุฉ ุชูุตูู ุจุทุงูุฉ SD ุจุงููุธุงู ุ ูุฐุง ูุฅู <b>/ dev / sdb1</b> ุนุงุฏุช ุฅูู ููุงููุง.  ูู ุงููุงูุน ุ ููุฏ ุชุนูููุง ููููุฉ ุฅุตุฏุงุฑ ุฃูุงูุฑ ูุญุฏุฏุฉ ููุจุงุฆุน ูุฅุฏุงุฑุฉ ุฌูุงุฒ ูุณุชูุฏ ุฅูู ูุชุญูู STM32 ูู ูุฌูุน Redd.  ุณูุชู ุชุฑู ุงูุฃูุงูุฑ ุงูุฃุฎุฑู ูููุฑุงุก ููุฏุฑุงุณุฉ ุงููุณุชููุฉ.  ููููู ุงูุชุญูู ูู ุชุดุบูู ุจุนุถูุง ุจุทุฑููุฉ ููุงุซูุฉ.  ุฅุฐุง <b>ุฏุฎูุช</b> ุจุนุถ ุดุฑุงุฆุญ <b>ftdi</b> ูู ุญุงูุฉ ุฅุนุงุฏุฉ <b>ุงูุชุนููู ุ ูุณูุฎุชูู</b> ุงูุฌูุงุฒ ุงูููุงุจู ูู ุงููุธุงู.  ุณูุชุนูู ุงูุชุญูู ูู ุชุดุบูู ุงูุชุชุงุจุน ูุงูุชุญูู ูู ุฃุฑุฌู ุงูุชูููู ุจูุงุณุทุฉ ุฃุฏูุงุช ุงูููุงุณ.  ุญุณููุง ุ ููููู ุงูุชุญูู ูู ุงูุนูู ุจุงุณุชุฎุฏุงู ูุญุฑู ุฃูุฑุงุต ููุงุด ุนู ุทุฑูู ูุชุงุจุฉ ุงูุตูุญุงุช ูุน ุงูุชุญูู ูู ุงููุฑุงุกุฉ ุงููุงุญู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  ุฏุฑุณูุง ููุถูุนูู ูุจูุฑูู ูุง ูุฑุชุจุทุงู ุจู FPGAs ูู ูุฌูุน Redd.  ุจูู ุงูุซุงูุซ - ุงูุนูู ูุน ุฑูุงูุฉ MAX3421 ุ ูุงูุฐู ูุณูุญ ุจุชูููุฐ ุฃุฌูุฒุฉ USB 2.0 FS.  ูู ุงููุงูุน ุ ููุงู ูุถูููู ุฃูุถูุง ุ ููู ููุงู ุงููุซูุฑ ูู ุงููุถูููู ูุงูููุญุฉ ุงูุฃู.  ุณูู ุชุณูุญ ูุธููุฉ ุงูุฌูุงุฒ ูููุฌูุน ุจุงูุชุธุงูุฑ ุจุฃูู ูุญุฑู ุฃูุฑุงุต USB ูุญููู (ูุฅุฑุณุงู ุชุญุฏูุซุงุช "ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ") ูููุญุฉ ููุงุชูุญ USB (ููุชุญูู ูู ุงููุญุฏุงุช ุงูุฎุงุฑุฌูุฉ) ุ ุฅูุฎ.  ุณููุธุฑ ูู ูุฐุง ุงูููุถูุน ูู ุงูููุงู ุงูุชุงูู. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar484706/">https://habr.com/ru/post/ar484706/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar484688/index.html">ูุญู ููุชุฑุจ ูู ุงูุญุฏ ุงูุฃูุตู ููุฏุฑุฉ ุงูุญูุณุจุฉ - ูุญุชุงุฌ ุฅูู ูุจุฑูุฌูู ุฌุฏุฏ</a></li>
<li><a href="../ar484690/index.html">ูุฏูุฉ ุ ูุคุชูุฑ ุ mitap: ุฏุฑุงุณุฉ ุฅุญุตุงุฆูุงุช 18000 ุญุฏุซ</a></li>
<li><a href="../ar484692/index.html">ููุชุงููู ุฌ - ูู ุฃุญุชุงุฌ ุฅูู ุชูุงูู ููููุงุช ุบุฐุงุฆูุฉ ุฃู ุฃููุง ุฎุทูุฉ ุชุฌุงุฑูุฉุ</a></li>
<li><a href="../ar484700/index.html">ุฌุงูุง 14: ูุนุงููุฉ ุงูุณุฌูุงุช</a></li>
<li><a href="../ar484702/index.html">ุจุฏุงุฆู ุจุฑูุณุชุงุดูุจ ูู ุนุงู 2020: ุฃูุถู ููุตุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ</a></li>
<li><a href="../ar484708/index.html">ุฑูุชุดุงุฑุฏ ูุงูููุฌ "ุงููุตู ุบูุฑ ุงูููุฌูุฏ": ููู ูุนุฑู ูุง ูุนุฑูู (ุงููุณุฎุฉ ุงููุงููุฉ)</a></li>
<li><a href="../ar484710/index.html">ูุณุฑ ููุงุนุฏ ุฌูุน ุงูููุงูุฉ ุงููุญุฏุฉ</a></li>
<li><a href="../ar484712/index.html">ุงูุชูุงูู ุงูุซูุงุฆู ุงูุฐุฑู: ููู ูููุฑู</a></li>
<li><a href="../ar484716/index.html">ุงูุชููู ุนู ุงูุงุชุตุงู ูู ุดูุก ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ</a></li>
<li><a href="../ar484718/index.html">ุทุงุจุนุงุช HP ุงูุญุฏูุซุฉ ุชุฑูุถ ุงูุนูู ุจุฏูู ุงุดุชุฑุงู ุจุงูุญุจุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>