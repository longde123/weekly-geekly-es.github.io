<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤺 😾 👂 Radio internet sendiri ♨️ 🙅🏿 👩🏽‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Banyak dari kita suka mendengarkan radio di pagi hari. Dan kemudian suatu pagi yang cerah, saya menyadari bahwa saya tidak ingin mendengarkan stasiun ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Radio internet sendiri</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471954/"> Banyak dari kita suka mendengarkan radio di pagi hari.  Dan kemudian suatu pagi yang cerah, saya menyadari bahwa saya tidak ingin mendengarkan stasiun radio FM lokal.  Tidak menarik.  Tetapi kebiasaan itu ternyata berbahaya.  Dan saya memutuskan untuk mengganti penerima FM dengan penerima Internet.  Cepat membeli komponen di Aliexpress dan memasang penerima Internet. <br><br>  Tentang penerima Internet.  Jantung dari penerima adalah mikrokontroler ESP32.  Firmware dari KA-radio.  Biaya suku cadang harganya $ 12.  Kemudahan berkumpul memungkinkan saya untuk merakitnya dalam beberapa hari.  Ini bekerja dengan baik dan stabil.  Lebih dari 10 bulan bekerja, itu hanya tergantung beberapa kali dan itu hanya karena percobaan saya.  Antarmuka yang nyaman dan bijaksana memungkinkan Anda untuk mengontrol dari smartphone dan komputer.  Singkatnya, ini adalah penerima Internet yang luar biasa. <br><br>  Semuanya keren.  Tetapi suatu pagi saya berkesimpulan bahwa dengan akses ke puluhan ribu stasiun radio tidak ada stasiun yang menarik.  Saya merasa terganggu oleh iklan, lelucon konyol terkemuka.  Terus-menerus melompat dari satu stasiun ke stasiun lainnya.  Saya suka Spotify dan Yandex.Music.  Tetapi yang menyedihkan adalah mereka tidak bekerja di negara saya.  Dan saya ingin mendengarkan mereka melalui penerima internet. <br><a name="habracut"></a><br>  Saya ingat masa kecil saya.  Saya punya tape recorder dan dua lusin kaset.  Kaset diganti dengan teman-teman.  Dan itu luar biasa.  Saya memutuskan bahwa saya perlu melakukan streaming arsip audio saya hanya ke penerima Internet.  Tentu saja, ada opsi untuk menghubungkan pemutar audio atau ipod ke speaker dan bukan uap.  Tapi ini bukan jalan kita!  Saya benci menghubungkan konektor) <br><br>  Dia mulai mencari solusi yang sudah jadi.  Ada tawaran di pasaran untuk membuat radio Internet Anda sendiri dari Radio-Tochka.com.  Saya menguji 5 hari.  Semuanya bekerja dengan sempurna dengan penerima internet saya.  Tapi harganya tidak menarik bagi saya.  Menolak opsi ini. <br><br>  Saya memiliki hosting berbayar 10 GB.  Saya memutuskan untuk menulis skrip pada sesuatu yang akan mengalirkan aliran audio file mp3 saya.  Saya memutuskan untuk menulis dalam PHP.  Cepat menulis dan diluncurkan.  Semuanya berhasil.  Itu luar biasa!  Tetapi beberapa hari kemudian sebuah surat datang dari administrasi hosting.  Itu berbicara tentang melebihi batas menit prosesor dan kebutuhan untuk beralih ke tarif yang lebih tinggi.  Skrip harus dihapus dan ditinggalkan opsi ini. <br><br>  Bagaimana bisa begitu?  Saya tidak bisa hidup tanpa radio.  Jika Anda tidak diizinkan menjalankan skrip di hosting orang lain, maka Anda memerlukan server Anda sendiri.  Di mana saya akan melakukan apa yang diinginkan jiwa saya. <br><br>  Saya memiliki netbook kuno tanpa baterai (CPU - 900 MHz, RAM - 512 Mb).  Pria tua itu berusia 11 tahun.  Untuk server, tidak apa-apa.  Saya menaruh Ubuntu 12.04.  Kemudian instal Apache2 dan php 5.3, samba.  Server saya sudah siap. <br><br>  Saya memutuskan untuk mencoba Icecast.  Saya membaca banyak mana.  Tapi bagiku itu terasa rumit.  Dan saya memutuskan untuk kembali ke opsi dengan skrip dalam PHP.  Beberapa hari dihabiskan untuk men-debug skrip ini.  Dan itu bekerja dengan sempurna.  Lalu saya juga menulis skrip untuk memutar podcast.  Dan saya sangat menyukainya sehingga saya memutuskan untuk membuat proyek kecil.  Sebut saja IWScast.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Diposting di github</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/09e/026/621/09e0266211e990748db388adc3324e85.png" alt="gambar"><br><br>  Semuanya sangat sederhana.  Saya menyalin file mp3 dan file index.php ke folder root dari Apache / var / www / dan mereka diputar secara acak.  Sekitar 300 lagu sudah cukup untuk sepanjang hari. <br>  File index.php adalah skrip itu sendiri.  Script membaca semua nama file direktori mp3 menjadi array.  Membuat aliran audio dan mengganti nama file mp3.  Ada saat-saat ketika Anda mendengarkan lagu dan Anda menyukainya.  Apakah Anda pikir siapa yang menyanyikan ini?  Untuk kasus ini, ada catatan nama-nama trek yang didengarkan di log log.txt <br><div class="spoiler">  <b class="spoiler_title">Kode skrip lengkap</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> set_time_limit(<span class="hljs-number"><span class="hljs-number">0</span></span>); header(<span class="hljs-string"><span class="hljs-string">'Content-type: audio/mpeg'</span></span>); header(<span class="hljs-string"><span class="hljs-string">"Content-Transfer-Encoding: binary"</span></span>); header(<span class="hljs-string"><span class="hljs-string">"Pragma: no-cache"</span></span>); header(<span class="hljs-string"><span class="hljs-string">"icy-br: 128 "</span></span>); header(<span class="hljs-string"><span class="hljs-string">"icy-name: your name"</span></span>); header(<span class="hljs-string"><span class="hljs-string">"icy-description: your description"</span></span>); $files = glob(<span class="hljs-string"><span class="hljs-string">"*.mp3"</span></span>); shuffle($files); <span class="hljs-comment"><span class="hljs-comment">//Random on for ($x=0; $x &lt; count($files);) { $filePath = $files[$x++]; $bitrate = 128; $strContext=stream_context_create( array( 'http'=&gt;array( 'method' =&gt;'GET', 'header' =&gt; 'Icy-MetaData: 1', 'header' =&gt;"Accept-language: en\r\n" ) ) ); //Save to log $fl = $filePath; $log = date('Ymd H:i:s') . ' Song - ' . $fl; file_put_contents('log.txt', $log . PHP_EOL, FILE_APPEND); $fpOrigin=fopen($filePath, 'rb', false, $strContext); while(!feof($fpOrigin)){ $buffer=fread($fpOrigin, 4096); echo $buffer; flush(); } fclose($fpOrigin); } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre> <br></div></div><br>  Jika Anda ingin trek diputar secara berurutan, Anda perlu mengomentari baris di index.php <br><pre> <code class="php hljs">shuffle($files); <span class="hljs-comment"><span class="hljs-comment">//Random on</span></span></code> </pre> <br><br>  Untuk podcast saya menggunakan / var / www / podcast / Ada script index.php lain.  Ini memiliki trek podcast menghafal.  Lain kali Anda menghidupkan penerima Internet, trek podcast berikutnya diputar.  Ada juga log trek yang direproduksi. <br>  Anda dapat menentukan nomor trek di file counter.dat dan pemutaran podcast dimulai dari itu. <br><br>  Menulis parser untuk mengunduh podcast secara otomatis.  Dia mengambil 4 lagu terakhir dari RSS dan mengunduhnya.  Semua ini bekerja sangat baik pada smartphone, set-top box IPTV, di browser. <br><br>  Baru-baru ini di pagi hari saya mendapat ide bahwa itu bagus untuk menghafal posisi pemutaran di trek.  Tapi saya belum tahu bagaimana melakukan ini di PHP. <br><br>  Skrip dapat diunduh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/iwsys/IWScast</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471954/">https://habr.com/ru/post/id471954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471938/index.html">Catatan Tata Letak: Ekstensi Google Chrome yang Berguna di tahun 2019</a></li>
<li><a href="../id471940/index.html">Cara mengurangi risiko gagal bayar dalam penyelesaian ditangguhkan: anjak piutang untuk bisnis</a></li>
<li><a href="../id471942/index.html">Sesuai dengan kebutuhan Anda: uji profesional SSD Kingston DC500R dan DC500M</a></li>
<li><a href="../id471948/index.html">Mainkan di dalam kotak</a></li>
<li><a href="../id471950/index.html">Visi saya untuk masa depan D</a></li>
<li><a href="../id471956/index.html">Grafik Status Animasi</a></li>
<li><a href="../id471958/index.html">Amazon EX Windows di GA dengan bug, tetapi lebih cepat dari siapa pun</a></li>
<li><a href="../id471960/index.html">Pengoperasian TA505, Bagian Dua: Mempelajari Backdoor ServHelper dengan RAT Netupport</a></li>
<li><a href="../id471962/index.html">Riise of the oracle</a></li>
<li><a href="../id471964/index.html">Orakel datang untuk menyelamatkan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>