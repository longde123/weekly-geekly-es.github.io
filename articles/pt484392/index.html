<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüé§ üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø üë©üèΩ‚Äçü§ù‚Äçüë®üèæ Convuls√µes ü•ß üç£ ü§¶üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, quero compartilhar minha experi√™ncia de como resolvemos o problema de congelar tarefas em nossa empresa. 

 Eu trabalho em uma startup, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Convuls√µes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484392/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/pf/pd/vf/pfpdvfsbyqvnxjgapbplkuraehc.jpeg"></div><br>  Neste artigo, quero compartilhar minha experi√™ncia de como resolvemos o problema de congelar tarefas em nossa empresa. <br><br>  Eu trabalho em uma startup, que, como todas as startups, est√° passando por uma fase de crescimento de 10 pessoas h√° um ano para 35 pessoas hoje, e o n√∫mero de programadores nesse per√≠odo aumentou de 5 para 25 pessoas, e a maioria delas veio nos √∫ltimos seis meses. <br><br>  A estrutura da empresa, apesar da juventude, eu chamaria de antiquada, j√° que ningu√©m nunca esteve envolvido nos processos de constru√ß√£o.  Com o crescimento, nos dividimos em uma equipe de desenvolvimento, uma equipe de teste e uma equipe de devops, e tudo funcionou mais ou menos. <br><br>  O processo de desenvolvimento, se pode ser chamado de "processo", era assim: <br><a name="habracut"></a><br>  O trabalho do desenvolvedor terminou assim que o c√≥digo passou na revis√£o do c√≥digo e ele o colocou no desenvolvimento. <br><br>  O trabalho do testador terminou quando ele testou e smerzhil no ramo mestre. <br>  Os desenvolvedores √†s vezes clicavam no bot√£o "Implantar no Prod", depois que o gerente do projeto di√°rio disse: "Eles n√£o s√£o implantados h√° muito tempo, talvez seremos cancelados hoje?" <br><br>  Que bom: <br><br><ul><li> Muita automa√ß√£o, por exemplo, os status no Jira s√£o sincronizados com os r√≥tulos das ramifica√ß√µes no GitLab, uma tarefa no Jira √© fechada ap√≥s uma implanta√ß√£o no prod, o c√≥digo √© automaticamente implementado para testar e preparar ambientes com uma mesclagem no desenvolvimento e no mestre, respectivamente. </li><li>  Tudo √© coberto e testado. </li><li>  Os programadores escrevem os pr√≥prios planos de teste e testam a funcionalidade principal. </li></ul><br>  Os problemas: <br><br><ul><li>  Os testadores n√£o podem fazer nada por uma semana, porque  as tarefas s√£o interrompidas no status code_review.  No final da semana, os programadores ainda fazem essa revis√£o e, na segunda-feira, os testadores t√™m muito trabalho. </li><li>  Como ap√≥s a revis√£o do c√≥digo, tudo √© corrigido no desenvolvimento e, se algo cont√©m um erro, n√£o podemos implantar nada.  Enquanto um desenvolvedor corrige esse bug, outro pode causar mau cheiro a outro recurso que tamb√©m cont√©m um bug.  Por causa disso, costum√°vamos esperar uma semana ou duas at√© que esse brunch se estabilizasse e o testador tivesse tempo de control√°-lo no master antes de um dos desenvolvedores comprometer outra coisa a desenvolver. </li><li>  Implante recursos em pacotes grandes, o que adiciona riscos ao teste ou captura inadequados durante a implanta√ß√£o. </li></ul><br>  Descreverei dois casos que deixaram claro para n√≥s que √© imposs√≠vel trabalhar mais. <br><br>  Por exemplo, em uma das sextas-feiras, tivemos 15 brunches no status code_review, e na segunda-feira todos eles mudaram o status para ready_for_test.  Os testadores disseram ao Daily o quanto eles nos amam.  Por tr√™s meses, n√£o conseguimos vender, por v√°rios motivos, alguns recursos bastante grandes. <br><br>  Primeiro, descobrimos muitas code_review.  Descobriu-se que esse problema pode ser resolvido de maneira simples, gra√ßas √†s seguintes regras: <br><br><ol><li>  Somente tr√™s tarefas podem estar no status code_review.  Essa √© a regra mais importante que n√£o pode ser violada. </li><li>  Se o programador terminou o desenvolvimento e deseja converter a tarefa em code_review, ele procura ver se pode faz√™-lo (consulte a regra 1). </li><li>  Se j√° houver tr√™s tarefas no status code_review, primeiro ele ajudar√° o colega a fazer uma revis√£o do c√≥digo.  E se, no processo de revis√£o, ele tiver coment√°rios ou sugest√µes de mudan√ßa, ele far√° uma programa√ß√£o emparelhada com um colega cuja tarefa ele est√° revisando. </li></ol><br>  A id√©ia principal √© n√£o deixar o c√≥digo congelar quando j√° est√° escrito e fornecer aos testadores um fluxo de trabalho uniforme por uma semana. <br><br>  Implementamos isso em uma hora: nos reunimos, discutimos e fomos fazer uma revis√£o e emparelhar a programa√ß√£o. <br><br>  Se acontecer que algu√©m esquece (e √†s vezes algu√©m esquece) a primeira regra, a frase "Temos mais de 3 rela√ß√µes p√∫blicas em code_review" voa imediatamente para a sala de bate-papo.  Vamos revisar !!! ".  Ao mesmo tempo, n√£o h√° uma pessoa especial que garanta que n√£o haja mais de tr√™s solicita√ß√µes pull, isso √© feito pelos pr√≥prios desenvolvedores. <br><br>  Apesar de essas altera√ß√µes impedirem o congelamento de tarefas, ainda t√≠nhamos problemas com implanta√ß√µes e vazamentos de bugs no desenvolvimento.  Desde que ap√≥s a revis√£o do c√≥digo, sempre mesclamos no ramo de desenvolvimento e ele foi implementado automaticamente no ambiente de teste para teste. <br><br>  Essa solu√ß√£o era um tipo de hotfix e, em seguida, era necess√°rio fazer altera√ß√µes b√°sicas nos processos. <br><br>  A principal coisa que decidimos fazer √© mudar as √°reas de responsabilidade.  Agora a empresa n√£o possui uma equipe de desenvolvimento, equipe de teste ou equipe de devops separada que transferem tarefas uma para a outra e s√£o respons√°veis ‚Äã‚Äãapenas por sua parte. <br><br>  Organizamos os desenvolvedores em v√°rias equipes: uma para cada cliente, j√° que possu√≠mos um produto principal, mas ele √© personalizado para cada cliente por um longo tempo (somos um h√≠brido de uma empresa de produtos e servi√ßos).  Agora, os recursos de envio para o prod s√£o de responsabilidade da equipe.  N√£o h√° equipes de teste e devops familiares, mas h√° controle de qualidade como servi√ßo e DevOps como servi√ßo. <br><br>  O controle de qualidade como servi√ßo √© uma equipe que n√£o testa, mas garante a qualidade dos produtos.  Os engenheiros de controle de qualidade ajudam os desenvolvedores a elaborar planos de teste e a participar de sess√µes de teste.  Portanto, n√≥s os libertamos dos testes manuais e eles tiveram tempo para escrever testes de ponta a ponta e desenvolver ferramentas para ajudar nos testes.  Tamb√©m implementamos um sistema de monitoramento. <br><br>  O DevOps como servi√ßo √© uma equipe que desenvolve scripts de implanta√ß√£o, suporta o trabalho de ambientes de teste e automatiza v√°rias tarefas. <br><br>  O novo processo de desenvolvimento √© este: <br><br><ol><li>  Existe uma tarefa, do cliente, gerente de produto ou um dos principais. </li><li>  No est√°gio de planejamento do sprint, levamos isso ao desenvolvimento. </li><li>  O desenvolvedor grava o c√≥digo em uma ramifica√ß√£o separada para a tarefa e, quando termina, converte-o no status code_review. </li><li>  Um dos colegas faz uma revis√£o. </li><li>  Quando a tarefa passa na revis√£o, o desenvolvedor mescla √† ramifica√ß√£o com a tarefa tudo o que est√° comprometido em desenvolver e implementa essa ramifica√ß√£o no ambiente de teste. </li><li>  Em seguida, ele planeja um com√≠cio que chamamos de Sess√£o de Teste e convida um engenheiro de controle de qualidade e colegas, se necess√°rio. </li><li>  O engenheiro de controle de qualidade verifica e refina o plano de teste antes da Sess√£o de Teste. </li><li>  Na sess√£o de teste, o desenvolvedor percorre todo o plano de teste como uma demonstra√ß√£o.  √Äs vezes, um plano de teste √© dividido em partes e depois testamos em paralelo.  O principal √© que isso seja feito juntos em uma sala separada para reuni√µes. </li><li>  Se depois de testar os bugs n√£o foram encontrados, o desenvolvedor mescla seu c√≥digo no ramo de desenvolvimento e imediatamente no ramo principal (isso √© algo que ainda n√£o mudamos, pois ainda precisamos atualizar os scripts de implanta√ß√£o).  No futuro, planejamos deixar apenas o ramo principal. </li><li>  Depois disso, o desenvolvedor inicia a implanta√ß√£o no preparo, apenas para verificar se a implanta√ß√£o ainda √© executada em um ambiente id√™ntico ao produto. </li><li>  Se tudo estiver ok, implante imediatamente no produto.  A decis√£o de implantar ou n√£o √© tomada pela equipe de desenvolvimento, mas o controle de qualidade tem o direito de interromper as implanta√ß√µes se considerar necess√°rio um teste adicional ou se √© necess√°rio aguardar se for necess√°rio corrigir algum bug cr√≠tico no produto. </li></ol><br>  Curiosamente, essa transforma√ß√£o lan√ßou algumas mudan√ßas adicionais, n√£o no processo de desenvolvimento, mas no planejamento e na altera√ß√£o dos t√≥picos sobre os quais estamos falando no Di√°rio. <br><br>  Agora porque  o desenvolvedor √© respons√°vel por entregar a hist√≥ria do usu√°rio ao produto. No planejamento, come√ßamos a escrever a hist√≥ria do usu√°rio de forma que cada um seja independente dos outros e tamb√©m possa ser implantado de forma independente, como uma unidade implant√°vel.  A hist√≥ria do usu√°rio ficou maior, mas eles ficaram menores. <br><br>  Tamb√©m no planejamento, n√£o avaliamos o tempo de desenvolvimento, mas falamos sobre quando planejamos implantar um recurso. <br><br>  No Daily, n√£o dizemos que "eu terminei o desenvolvimento", mas dizemos "hoje vou implantar o recurso X" ou "hoje estou retirando o ambiente de teste, quem tem tempo para me ajudar com a sess√£o de teste?" <br><br>  Como resultado, desenvolvemos equipes de desenvolvimento independentes que possuem seus pr√≥prios ambientes de teste e planejam o que e quando implantar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt484392/">https://habr.com/ru/post/pt484392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt484378/index.html">SwayWM - UnixPorn voc√™ mesmo</a></li>
<li><a href="../pt484382/index.html">Algoritmo de Bellman-Ford</a></li>
<li><a href="../pt484386/index.html">Meetup sobre AWS_Ru em Raiffeisenbank</a></li>
<li><a href="../pt484388/index.html">VVVVVV ??? VVVVVV !!! :)</a></li>
<li><a href="../pt484390/index.html">Glean Insights sobre as 18 melhores estruturas Java a serem usadas em 2020</a></li>
<li><a href="../pt484394/index.html">Sete miss√µes espaciais mais emocionantes do pr√≥ximo ano</a></li>
<li><a href="../pt484396/index.html">Tornando o Windows Server mais seguro</a></li>
<li><a href="../pt484402/index.html">C√≥digo Limpo para TypeScript - Parte 1</a></li>
<li><a href="../pt484404/index.html">Dirigimos desenvolvedores e fornecemos feedback de maneira cient√≠fica - v√≠deo do Yandex.</a></li>
<li><a href="../pt484406/index.html">Elfos em jun√ß√µes pn</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>