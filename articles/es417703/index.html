<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÅ ü§æüèº ü§úüèº C√≥digo de red Age of Empires: 1,500 arqueros por m√≥dem de 28.8 kbps üë®üèº‚Äçüåæ üõÄüèæ üó®Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota del traductor: este art√≠culo ya tiene 17 a√±os y es interesante solo desde un punto de vista hist√≥rico. Es interesante saber c√≥mo los desarrollado...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥digo de red Age of Empires: 1,500 arqueros por m√≥dem de 28.8 kbps</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417703/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eaa/c7f/fd7/eaac7ffd7c6a997f72a9cdd4cf67e982.png" alt="imagen"></div><br>  <i>Nota del traductor: este art√≠culo ya tiene 17 a√±os y es interesante solo desde un punto de vista hist√≥rico.</i>  <i>Es interesante saber c√≥mo los desarrolladores lograron lograr un juego en l√≠nea sin problemas en la era de los m√≥dems 28.8k y los primeros Pentiums.</i> <br><br>  Este art√≠culo habla sobre la arquitectura y la implementaci√≥n, as√≠ como algunas lecciones aprendidas de la creaci√≥n del c√≥digo multiusuario (red) para los juegos <em>Age of Empires 1 y 2</em> .  Tambi√©n describe los enfoques de arquitectura de red actuales y futuros utilizados por Ensemble Studios en sus motores de juego. <br><br><h2>  Multijugador Age of Empires: requisitos de estructura </h2><br>  Al comienzo del trabajo en el c√≥digo multijugador <em>Age of Empires</em> en 1996, nos fijamos objetivos muy espec√≠ficos necesarios para la implementaci√≥n del juego requerido. <br><a name="habracut"></a><br><ul><li>  Batallas hist√≥ricas a gran escala y √©picas con muchas unidades militares diferentes </li><li>  Soporte para hasta 8 jugadores en modo multijugador. </li><li>  Simulaci√≥n de juego sin problemas a trav√©s de LAN, a trav√©s de una conexi√≥n directa de m√≥dem y por Internet </li><li>  Soporte de plataforma de destino: Pentium 90 con 16 MB de RAM y m√≥dem de 28.8 kbps </li><li>  El sistema de comunicaci√≥n deber√≠a funcionar con el motor existente (Genie) </li><li>  Estable 15 cuadros por segundo en m√°quinas con configuraci√≥n m√≠nima </li></ul><br>  El motor Genie ya estaba listo, y la jugabilidad en modo de usuario √∫nico comenz√≥ a tomar sus formas.  El motor Genie es un motor de bucle de juego de un solo subproceso bidimensional.  Los sprites se representan en 256 colores en un mundo compuesto de mosaicos.  Los mapas generados aleatoriamente est√°n llenos de miles de objetos: desde √°rboles que se pueden cortar hasta gacelas galopantes.  El desglose aproximado (despu√©s de la optimizaci√≥n) del tiempo para realizar tareas del motor: 30% para renderizar gr√°ficos, 30% para IA y encontrar rutas, 30% para realizar simulaciones y tareas oficiales. <br><br>  Ya en una etapa bastante temprana, el motor era relativamente estable, y las comunicaciones multiusuario ten√≠an que funcionar con c√≥digo listo sin la necesidad de un cambio significativo en la arquitectura (de trabajo) existente. <br><br>  Para complicar la tarea, el tiempo necesario para completar cada paso de simulaci√≥n podr√≠a variar mucho: el tiempo de representaci√≥n depend√≠a de si el usuario estaba mirando las unidades, desplaz√°ndose o mirando el √°rea inexplorada, y las rutas largas o la planificaci√≥n estrat√©gica de la IA afectaron significativamente el tiempo de ejecuci√≥n del movimiento del juego : las oscilaciones fueron de hasta 200 ms. <br><br>  Breves c√°lculos mostraron que la transferencia de incluso un peque√±o conjunto de datos sobre las unidades y los intentos de actualizarlos en tiempo real limitan en gran medida el n√∫mero de unidades y objetos con los que el jugador puede interactuar.  Si simplemente transfieres las coordenadas X e Y, estado, acci√≥n, direcci√≥n de visi√≥n y da√±o, entonces en el juego no puede haber m√°s de 250 unidades m√≥viles. <br><br>  Quer√≠amos que los jugadores pudieran destruir ciudades griegas con catapultas, arqueros y guerreros, mientras al mismo tiempo libraban asedios con trirremes desde el mar.  Obviamente, necesit√°bamos alg√∫n otro enfoque. <br><br><h2>  Simulaciones simult√°neas </h2><br>  En lugar de transmitir el estado de cada unidad del juego, quer√≠amos realizar simulaciones absolutamente id√©nticas en cada m√°quina, pasando cada uno el mismo conjunto de comandos dados por los jugadores al mismo tiempo.  Las computadoras de los jugadores, en esencia, ten√≠an que sincronizar el juego en las mejores tradiciones de las pel√≠culas de guerra, permitiendo a los jugadores emitir comandos y luego ejecutarlos de la misma manera y al mismo tiempo, asegurando la identidad de los juegos. <br><br>  Inicialmente, una sincronizaci√≥n tan complicada fue dif√≠cil de implementar, pero como resultado, trajo ventajas inesperadas en otras √°reas. <br><br>  <strong>Mejora de modelo b√°sico</strong> <br><br>  En el nivel conceptual m√°s simple, implementar simulaciones simult√°neas parece muy f√°cil.  En algunos juegos que usan simulaciones con un paso fijo (paso de bloqueo) y tiempos constantes, incluso puede ser bastante posible. <br><br>  Dado que con este enfoque debe asumir la responsabilidad de mover simult√°neamente cientos o miles de objetos, el sistema debe seguir siendo viable incluso con fluctuaciones de retraso de 20 a 1000 milisegundos y lograr procesar los cambios durante el procesamiento del marco. <br><br>  Enviar los comandos del jugador, confirmar todos los mensajes y luego procesarlos antes de pasar al siguiente movimiento ser√≠a una pesadilla desde el punto de vista del proceso del juego, con una espera constante y un lento intercambio de equipos.  Necesit√°bamos un esquema que pudiera continuar procesando el juego en paralelo con el fondo esperando la finalizaci√≥n del proceso de intercambio de datos. <br><br>  Mark [Terrano] utiliz√≥ un sistema para marcar comandos que deber√≠an ejecutarse a trav√©s de dos "movimientos de intercambio de datos" en el futuro (los movimientos de intercambio de datos en <em>AoE</em> se separaron de los propios marcos de representaci√≥n). <br><br>  Es decir, los comandos dados durante el curso 1000 se asignan para ejecutarse durante el curso 1002 (ver Fig. 1).  En el curso de 1001, se ejecutan los comandos dados en el curso de 0999. Esto nos permiti√≥ recibir, confirmar y preparar mensajes para el procesamiento, mientras el juego continuaba dibujando animaciones y realizando simulaciones. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01d/163/10f/01d16310f6b5958701fbde3e8480790a.jpg"></div><br>  <i>Figura 1. Marcado de comandos que se ejecutar√°n a trav√©s de dos "movimientos de intercambio de datos".</i> <br><br>  Por lo general, los movimientos tomaron 200 ms, y los equipos fueron enviados durante este turno.  Despu√©s de 200 ms, el movimiento se detuvo y comenz√≥ un nuevo movimiento.  En cada momento del juego, los equipos fueron procesados ‚Äã‚Äãen un movimiento, recibidos y guardados para el siguiente movimiento, y luego enviados para su ejecuci√≥n dos movimientos m√°s tarde. <br><br><h2>  "Control de velocidad" </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fc5/133/4b0/fc51334b03798cffa22b0a18938e9ce3.jpg"></div><br>  <i>Figura 2. Control de velocidad.</i> <br><br>  Dado que las simulaciones siempre deben tener exactamente la misma entrada, un juego no puede ejecutarse m√°s r√°pido de lo que la m√°quina m√°s lenta logra procesar el intercambio de datos, realizar un movimiento y enviar nuevos comandos.  Llamamos al sistema que cambia la duraci√≥n de la carrera para mantener animaciones y juegos sin problemas en condiciones de retraso de intercambio de datos variables y velocidad de procesamiento "Control de velocidad". <br><br>  El juego se puede sentir "frenando" por dos razones: si la velocidad de fotogramas de una m√°quina cae (o es m√°s baja que el resto), entonces otras m√°quinas procesan sus comandos, procesan todo en el tiempo asignado y como resultado tienen que esperar el pr√≥ximo movimiento.  En este caso, cualquier pausa se hace evidente de inmediato.  Adem√°s, el juego se ralentiza por un retraso en el intercambio de datos: los jugadores tienen que esperar hasta que la m√°quina reciba suficientes datos para completar el movimiento. <br><br>  Cada cliente calcul√≥ la velocidad de fotogramas que se consideraba constantemente alcanzable, que se calcul√≥ promediando el tiempo de procesamiento de varios fotogramas.  Dado que este valor cambia durante el juego dependiendo del alcance, el n√∫mero de unidades, el tama√±o del mapa y otros factores, se transmiti√≥ en cada mensaje sobre la finalizaci√≥n del movimiento. <br><br>  Adem√°s, cada cliente tambi√©n midi√≥ el "tiempo de ping" de s√≠ mismo a otros clientes y viceversa.  Tambi√©n envi√≥ el ping promedio al cliente m√°s largo en un mensaje sobre la finalizaci√≥n del movimiento (en total, se usaron 2 bytes para controlar la velocidad). <br><br>  En cada movimiento, la m√°quina designada por el host analiz√≥ los mensajes de finalizaci√≥n, calcul√≥ la velocidad de fotogramas necesaria y la correcci√≥n por el retraso en la transmisi√≥n de datos a trav√©s de Internet.  Luego, el host envi√≥ una nueva velocidad de cuadros y la duraci√≥n del intercambio de datos.  Las Figuras 3-5 muestran c√≥mo se dividi√≥ el flujo de intercambio de datos en diferentes condiciones. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/34d/ce4/48d/34dce448d5683dd1e449b7d2cf25d505.jpg"></div><br>  <i>Figura 3. Flujo t√≠pico de intercambio de datos.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3b9/6b4/1a8/3b96b41a83ee28f6d94164f87f8a8df6.jpg"></div><br>  <i>Figura 4. Transmisi√≥n de datos de alta latencia a trav√©s de Internet a la velocidad normal de la m√°quina.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/645/4d5/bd1/6454d5bd11e1ca0b16971e8a3e27cf9f.jpg"></div><br>  <i>Figura 5. Baja velocidad de la m√°quina con retraso de transferencia de datos normal.</i> <br><br>  El "progreso del intercambio de datos", que era aproximadamente igual al tiempo de ping para el viaje de ida y vuelta para el mensaje, se dividi√≥ por el n√∫mero de tramas de simulaci√≥n que la m√°quina m√°s lenta pod√≠a realizar en promedio durante este tiempo. <br><br>  La duraci√≥n del intercambio de datos se ponder√≥, por lo que podr√≠a aumentar r√°pidamente de acuerdo con los cambios en la latencia de la transmisi√≥n de datos a trav√©s de Internet y disminuir lentamente a la mejor velocidad promedio que se puede mantener constantemente.  Por lo general, el juego se ralentiz√≥ y se ralentiz√≥ solo en los momentos de los peores picos: el retraso de transmisi√≥n de los comandos aument√≥, pero se mantuvo suave (y aument√≥ solo unos pocos milisegundos por turno), porque el juego redujo gradualmente los retrasos a la mejor velocidad posible.  Esto cre√≥ la mayor suavidad posible del juego, mientras que al mismo tiempo proporcionaba un ajuste a las condiciones cambiantes. <br><br><h2>  Entrega garantizada </h2><br>  Se us√≥ UDP en la capa de red, y cada cliente estuvo involucrado en ordenar comandos, reconocimiento de p√©rdidas y retransmisi√≥n.  Cada mensaje usaba un par de bytes, indicando el curso para el cual se plane√≥ la ejecuci√≥n de los comandos, y el n√∫mero de serie del mensaje.  Si se recibi√≥ un mensaje despu√©s del traslado, se rechaz√≥ y los mensajes entrantes se guardaron para su ejecuci√≥n.  Debido a la naturaleza de UDP, Mark utiliz√≥ el siguiente principio al recibir mensajes: ‚ÄúEn caso de duda, debe considerar el mensaje perdido.  Si los mensajes se reciben fuera de servicio, el destinatario env√≠a inmediatamente una solicitud de retransmisi√≥n de mensajes perdidos.  Si la confirmaci√≥n de recepci√≥n se recibe m√°s tarde que el tiempo previsto, el remitente simplemente env√≠a el mensaje nuevamente, sin esperar una se√±al sobre su p√©rdida ". <br><br><h2>  Beneficios ocultos </h2><br>  Dado que los resultados calculados por el juego depend√≠an de que todos los usuarios realizaran simulaciones id√©nticas, era incre√≠blemente dif√≠cil para un cliente (o flujo de datos del cliente) piratear y enga√±ar.  Cualquier simulaci√≥n realizada de manera diferente se marc√≥ como "fuera de sincronizaci√≥n" y el juego se detuvo.  Todav√≠a era posible hacer trampa localmente para la divulgaci√≥n de informaci√≥n, pero tales filtraciones se solucionaron con relativa facilidad en parches y revisiones posteriores.  La seguridad se ha convertido en nuestra mayor victoria. <br><br><h2>  Problemas ocultos </h2><br>  Al principio, puede parecer que la misma ejecuci√≥n de dos instancias del mismo c√≥digo es f√°cil de implementar, pero no lo es.  En las primeras etapas del proyecto, el gerente de producto de Microsoft Tim Znamenachek le dijo a Mark: ‚ÄúCada proyecto tiene un error persistente que no se rinde hasta el final.  Creo que en nuestro caso no estar√° sincronizado ‚Äù.  Y ten√≠a raz√≥n.  Las dificultades de encontrar errores de sincronizaci√≥n se multiplicaron con cada peque√±o cambio.  El venado, cuya posici√≥n es ligeramente diferente al crear un mapa aleatorio, se mover√° un poco diferente, y minutos despu√©s el cazador se mover√° un poco fuera del camino o perder√° una lanza, como resultado de regresar a casa sin carne.  Por lo tanto, lo que a veces parec√≠a ser solo una diferencia en las sumas de control de la cantidad de alimentos ten√≠a razones que eran muy dif√≠ciles de rastrear. <br><br>  Aunque revisamos el mundo, los objetos, buscamos rutas, apuntamos y todos los dem√°s sistemas con sumas de verificaci√≥n, siempre hab√≠a algo que no pod√≠amos tener en cuenta.  Enormes (50 MB cada uno) vol√∫menes de rastreo de mensajes y volcados de objetos mundiales complicaron a√∫n m√°s el problema.  Parte de las dificultades era conceptual: los programadores no estaban acostumbrados a escribir c√≥digo que usaba la misma cantidad de llamadas generadoras de n√∫meros aleatorios en una simulaci√≥n (s√≠, tambi√©n se generaban y sincronizaban n√∫meros aleatorios). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d29/1c3/690/d291c3690fef6c18cc65aec724dafe31.png" alt="imagen"></div><br><h2>  Lecciones aprendidas </h2><br>  Al desarrollar la parte de la red de <em>Age of Empires,</em> recibimos varias lecciones que se pueden aplicar al desarrollo de cualquier sistema multiusuario de juegos. <br><br>  <strong><em>Conoce a tu usuario.</em></strong>  Estudiar al usuario es el paso m√°s importante para comprender sus expectativas con respecto a la velocidad del multijugador, los frenos percibidos y los retrasos en la transmisi√≥n de comandos.  Cada g√©nero es individual, y debes comprender qu√© se adapta a tu estilo de juego y gesti√≥n. <br><br>  En las primeras etapas del proceso de desarrollo, Mark y el dise√±ador principal prototiparon los retrasos en el intercambio de datos (este prototipo fue revisado varias veces durante el proceso de desarrollo).  Como estaban jugando un juego para un solo jugador, fue muy f√°cil simular diferentes niveles de demoras en la transferencia del equipo y obtener retroalimentaci√≥n de los jugadores (‚Äúel control parece bueno / lento / contracciones / simplemente horrible‚Äù). <br><br>  Para los juegos del g√©nero RTS, los retrasos en la transmisi√≥n de comandos de 250 milisegundos ni siquiera se notan, a 250-500 ms la jugabilidad es bastante jugable, y los frenos se notan a 500 ms o m√°s.  Tambi√©n es interesante notar que los jugadores est√°n acostumbrados al "ritmo del juego" y la expectativa mental de un retraso entre los clics del mouse y las reacciones de la unidad.  Una respuesta retardada constante fue mejor que los saltos en los retrasos en la transmisi√≥n de comandos (por ejemplo, de 80 a 500 ms); en este caso, los retrasos constantes de 500 ms se percibieron como jugables, y los modificables parec√≠an "nerviosos" y complicaban el juego. <br><br>  Esto oblig√≥ a los programadores a dirigir sus esfuerzos para garantizar la suavidad: es mejor elegir una duraci√≥n de carrera m√°s larga y asegurarse de que todo sea suave y constante que realizar operaciones lo m√°s r√°pido posible, frente a ralentizaciones regulares.  Todos los cambios en la velocidad deben ser graduales y la tasa de crecimiento debe ser lo m√°s peque√±a posible. <br><br>  Tambi√©n medimos los requisitos del usuario para el sistema: por lo general, daban √≥rdenes (mover, atacar, cortar √°rboles) aproximadamente cada uno y medio o dos segundos, a veces con picos de 3-4 equipos por segundo durante feroces batallas.  Como las acciones activas en nuestro juego est√°n en constante crecimiento, los requisitos m√°s altos para el intercambio de datos surgen en el medio y cerca del final del juego. <br><br>  Si se toma el tiempo de estudiar el comportamiento de los usuarios, notar√° otras caracter√≠sticas de c√≥mo juegan, y esto ayudar√° a configurar el juego en red.  En <em>AoE</em> durante los ataques, los usuarios hicieron clic r√°pidamente en el mouse (clic-clic-clic-clic - ¬°adelante-adelante-adelante-adelante!), Lo que condujo a picos enormes en la cantidad de comandos emitidos.  Adem√°s, enviaron grandes grupos de unidades que necesitan allanar el camino, tambi√©n grandes picos en los requisitos para la transmisi√≥n de datos a trav√©s de la red.  Un filtro simple, cortando comandos repetidos en un punto, redujo significativamente el impacto negativo de este comportamiento. <br><br>  En general, monitorear usuarios le permitir√°: <br><br><ul><li>  Descubre las expectativas de los usuarios sobre los retrasos en los juegos </li><li>  Prototipo de aspectos multijugador en las primeras etapas de desarrollo </li><li>  Vea el comportamiento que va en detrimento de la velocidad del modo multiusuario. </li></ul><br>  <strong><em>La medici√≥n es lo m√°s importante.</em></strong>  Si introduce m√©tricas en las primeras etapas del trabajo, aprender√° cosas sorprendentes sobre su sistema de intercambio de datos.  Haga que las m√©tricas sean legibles para los probadores y √∫selas para comprender lo que sucede dentro del motor de red. <br><br>  Lecci√≥n: Parte del problema con el intercambio de datos en AoE surgi√≥ cuando Mark dedujo las m√©tricas demasiado pronto y no verific√≥ los niveles del mensaje (longitud y frecuencia) nuevamente despu√©s de preparar el c√≥digo final.  Cosas inesperadas como carreras aleatorias entre IA, rutas dif√≠ciles de calcular y paquetes de comandos mal estructurados pueden causar grandes problemas de rendimiento, incluso cuando el sistema funciona bien. <br><br>  Hacer que el sistema notifique a los probadores y desarrolladores de lo que parece ser un exceso de condiciones l√≠mite: los programadores y los probadores ver√°n en el proceso de desarrollo qu√© tareas cargan el sistema;  Esto resolver√° los problemas en las primeras etapas de su aparici√≥n. <br><br>  T√≥mese el tiempo para explicarles a los evaluadores c√≥mo funciona el sistema de intercambio de datos, mostrarles y explicarles las m√©tricas; es posible que se sorprendan de que noten cuando inevitablemente ocurren fallas extra√±as en el c√≥digo de red. <br><br>  En general, las m√©tricas deben tener las siguientes propiedades: <br><br><ul><li>  Ser legible y comprensible para los evaluadores. </li><li>  Indicar cuellos de botella, frenos y problemas. </li><li>  Poco impacto en la ejecuci√≥n y lanzamiento constante. </li></ul><br>  <strong><em>Formaci√≥n de desarrolladores.</em></strong>  Es muy dif√≠cil ense√±ar a los programadores que est√°n acostumbrados a crear aplicaciones para un solo usuario a pensar en la separaci√≥n entre dar, recibir y procesar un comando.  Es f√°cil olvidar que puede pedir algo que no sucedi√≥ o lo que podr√≠a suceder unos segundos despu√©s de que se emiti√≥ el comando.  Se debe verificar que los comandos sean correctos tanto al enviar como al recibirlos. <br><br>  En un modelo s√≠ncrono, los programadores tambi√©n deben considerar que dentro de la simulaci√≥n, el c√≥digo no debe depender de ning√∫n factor local (como la disponibilidad de tiempo libre, equipo especial o diferentes configuraciones).  La ejecuci√≥n del c√≥digo en todas las m√°quinas debe coincidir.  Por ejemplo, la presencia de sonidos de terreno aleatorios dentro de una simulaci√≥n puede conducir a un comportamiento de juego diferente. <br><br>  <strong><em>Otras lecciones</em></strong>  Este deber√≠a ser el sentido com√∫n habitual, pero si depende de una red de terceros (en nuestro caso, es DirectPlay), escriba una aplicaci√≥n de prueba independiente que confirme que cuando los propietarios reclaman "entrega garantizada", los mensajes realmente obtienen ese "pedido de paquete garantizado" de hecho lo hay, y que el producto no tiene cuellos de botella ocultos o comportamiento extra√±o al procesar los datos transmitidos en su juego. <br><br>  Prep√°rese para crear aplicaciones de simulaci√≥n y simuladores de prueba de esfuerzo.  Al final, creamos tres aplicaciones diferentes de prueba m√≠nima que se utilizan para estudiar problemas individuales e importantes: inundaciones de conexi√≥n, problemas con conexiones simult√°neas al seleccionar oponentes y paquetes garantizados perdidos. <br><br>  Pruebe con m√≥dems (y, con suerte, con simuladores de m√≥dem) lo antes posible;  Contin√∫e con las pruebas de m√≥dem (no importa cu√°n doloroso pueda ser) durante todo el proceso de desarrollo.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de todo, es dif√≠cil aislar los problemas (¬øcu√°l es la raz√≥n de la fuerte disminuci√≥n de la velocidad: el proveedor, el juego, el software de comunicaci√≥n, el m√≥dem, el servicio de b√∫squeda rival para el partido o algo m√°s?), Y los usuarios no quieren molestarse con conexiones de marcado lento, acostumbrarse a velocidades de LAN instant√°neas . </font><font style="vertical-align: inherit;">Es vital que pruebe en las conexiones de m√≥dem con la misma persistencia que con los juegos LAN multijugador.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f4b/f84/6f8/f4bf846f89de72b3374179b174094cc8.jpg" alt="imagen"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mejoras para </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age of Empires 2</font></font></em> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age of Empires 2: The Age of Kings,</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agregamos funciones multiusuario como grabaci√≥n de juegos, transferencia de archivos y seguimiento constante de estad√≠sticas en el sitio web de The Zone. Tambi√©n mejoramos los sistemas multijugador, como la integraci√≥n de DirectPlay y el control de velocidad para tratar los errores y problemas de velocidad identificados despu√©s del lanzamiento de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age of Empires</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La funci√≥n de grabar juegos fue una de esas cosas que se inventaron originalmente para la depuraci√≥n, y como resultado se convirti√≥ en una "caracter√≠stica" completa del juego. Los juegos grabados son incre√≠blemente populares en los sitios de fan√°ticos. Permiten a los jugadores compartir estrategias y analizarlas, ver batallas famosas y aprender los juegos en los que participaron. La grabaci√≥n de juegos se ha convertido en una herramienta de depuraci√≥n invaluable. Como nuestra simulaci√≥n es determinista y los juegos grabados son sincr√≥nicos en el mismo sentido que el modo multijugador, los juegos de grabaci√≥n nos proporcionaron una excelente forma de jugar errores, porque cada vez se garantizaba que se jugar√≠a de la misma manera. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nuestra integraci√≥n con el servicio de b√∫squeda rival (emparejamiento) de The Zone se limit√≥ en </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age of Empires para</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> simplemente lanzar el juego. En la </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">era de los reyes</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lo expandimos y esto nos permiti√≥ controlar los par√°metros de lanzamiento y proporcionar informes constantes sobre estad√≠sticas. </font><font style="vertical-align: inherit;">Esto permiti√≥ a los jugadores encontrar mejor los juegos que les interesaban, porque pod√≠an ver los par√°metros del nivel de emparejamiento y no esperar a que la configuraci√≥n del juego vaya a la pantalla de configuraci√≥n del juego. </font><font style="vertical-align: inherit;">En el backend, implementamos informes constantes y estad√≠sticas de seguimiento. </font><font style="vertical-align: inherit;">Proporcionamos a The Zone una estructura com√∫n que se rellen√≥ y transfiri√≥ al servidor al final del juego. </font><font style="vertical-align: inherit;">Los datos de esta estructura se utilizaron para crear clasificaciones de usuarios y mostrarlas en el sitio web de The Zone.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b89/ec7/ef8/b89ec7ef8b25272c8d6e35e6b1593f7d.jpg" alt="imagen"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Multijugador RTS3: tareas </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTS3 es el nombre en clave para el juego de estrategia de pr√≥xima generaci√≥n Ensemble </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(aprox. Por: el juego fue lanzado bajo el nombre de Age of Mythology)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La estructura RTS3 se crea en base a la f√≥rmula exitosa utilizada en la serie de juegos Age of Empires, con la adici√≥n de muchas caracter√≠sticas y requisitos nuevos para el modo multiusuario.</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basado en el conjunto de caracter√≠sticas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de Age of Empires 1</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Requisitos obligatorios como jugar en Internet, mapas grandes y variados, miles de unidades administradas.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3D: RTS3 es un juego totalmente tridimensional con animaciones interpoladas y posiciones no discretas y rotaciones de unidades. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M√°s jugadores: soporte para m√°s de ocho jugadores. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Soporte TCP / IP: Nuestro objetivo principal es una conexi√≥n a Internet TCP / IP de 56 / kbps. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Soporte de red dom√©stica: soporte para configuraciones de red de usuario final, incluidos firewalls y NAT. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluso en las primeras etapas del desarrollo de RTS3, decidimos seguir el mismo modelo de red interna que en </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Age of Empires 1</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , simulaci√≥n sincr√≥nica, porque la estructura RTS3 podr√° aprovechar dicha arquitectura de muchas maneras. </font><font style="vertical-align: inherit;">En </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AOE / AOK,</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilizamos DirectPlay para los servicios de transferencia y administraci√≥n de sesiones, pero para RTS3 decidimos crear una biblioteca de red b√°sica utilizando procedimientos de socket exclusivamente b√°sicos como base.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transici√≥n a un mundo totalmente tridimensional significa que debemos estar m√°s atentos a los problemas con la velocidad de fotogramas y la suavidad general de la simulaci√≥n en modo multiusuario. Sin embargo, esto tambi√©n significa que el tiempo de actualizaci√≥n de la situaci√≥n de simulaci√≥n y la velocidad de fotogramas estar√°n a√∫n m√°s sujetos a la variabilidad, y que tendremos que dedicar m√°s tiempo a la representaci√≥n. En el motor Genie, las rotaciones de las unidades eran discretas, y las animaciones estaban vinculadas a la velocidad de fotogramas en BANG. La rotaci√≥n arbitraria de la unidad y la animaci√≥n suave son posibles, es decir, visualmente el juego ser√° mucho m√°s sensible a la influencia de los retrasos y saltos en la frecuencia de actualizaci√≥n. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalizando la </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Era de los Reyes</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, quer√≠amos abordar estas √°reas cr√≠ticas en las que el dise√±o cuidadoso y el trabajo con herramientas reducir√≠an en gran medida el tiempo de depuraci√≥n. </font><font style="vertical-align: inherit;">Tambi√©n nos dimos cuenta de lo importante que es el proceso de prueba iterativa en el dise√±o de nuestros juegos, por lo que se le dio una alta prioridad a la conclusi√≥n m√°s temprana posible del juego en l√≠nea.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Arquitectura de comunicaci√≥n RTS3 </font></font></h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66a/92d/4a9/66a92d4a984730fcf03a9a392945afb7.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 6. Arquitectura de red estricta orientada a objetos de RTS3. </font></font></i> <br><br> <strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enfoque orientado a objetos. </font></font></em></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La arquitectura de red de RTS3 est√° altamente orientada a objetos (ver Figura 6). </font><font style="vertical-align: inherit;">Los requisitos de soporte para varias configuraciones de red le permiten aprovechar el enfoque OO, abstracto de los detalles de la plataforma, el protocolo y la topolog√≠a que subyacen a un conjunto de objetos y sistemas generalizados.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las versiones espec√≠ficas de protocolo y topolog√≠a de los objetos de red contienen el menor c√≥digo posible. La funcionalidad principal de estos objetos es abundante en los objetos principales de alto nivel. Para implementar el nuevo protocolo, expandimos solo aquellos objetos de red que necesitaban un c√≥digo espec√≠fico del protocolo (por ejemplo, para el cliente y la sesi√≥n, que deber√≠an actuar de manera ligeramente diferente dependiendo del protocolo). Ning√∫n otro objeto del sistema (como Channels, TimeSync, etc.) requiri√≥ cambios, ya que ten√≠an una interfaz con el cliente y la sesi√≥n solo a trav√©s de sus interfaces abstractas de alto nivel. </font></font><br><br> <strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Topolog√≠a de igual a igual.</font></font></em></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El motor Genie admite una topolog√≠a de red punto a punto en la que todos los clientes de una sesi√≥n se conectan entre s√≠ en una configuraci√≥n en estrella. </font><font style="vertical-align: inherit;">En RTS3, continuamos usando esta topolog√≠a, porque cuando se implementa con un modelo de simulaci√≥n s√≠ncrona, tiene ventajas inherentes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La topolog√≠a punto a punto implica el uso de una configuraci√≥n en estrella para clientes conectados en una sesi√≥n (Figura 7). </font><font style="vertical-align: inherit;">Es decir, cada cliente est√° conectado a todos los dem√°s clientes. </font><font style="vertical-align: inherit;">El mismo esquema se utiliz√≥ en los </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a√±os 1</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f35/d91/d21/f35d91d21ae3a744d54db202a3710ed4.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 7. Configuraci√≥n en estrella de clientes pares en una sesi√≥n. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beneficios de igual a igual:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Disminuci√≥n de la latencia debido al esquema de mensajer√≠a de cliente a cliente en lugar de cliente-servidor-cliente. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No hay un enlace d√©bil central: si el cliente (incluso el host) se desconecta de la sesi√≥n, el juego puede continuar. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Desventajas de igual a igual: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compuestos m√°s activos en el sistema (suma de n = 0 a k-1 (n)), es decir, m√°s enlaces d√©biles potenciales y mayores retrasos probables. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La incapacidad de admitir algunas configuraciones NAT en dicho esquema. </font></font></li></ul><br> <strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Net.lib.</font></font></em></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Al desarrollar la arquitectura de intercambio de datos RTS3, nuestro objetivo era crear un sistema dise√±ado espec√≠ficamente para juegos estrat√©gicos, pero al mismo tiempo quer√≠amos crear un sistema que pudiera usarse para nuestras herramientas internas, as√≠ como expandirlo para admitir juegos futuros. Para lograr este objetivo, hemos creado una arquitectura multicapa que admite objetos de nivel de juego como cliente y sesi√≥n, pero tambi√©n admite objetos de transporte de bajo nivel como enlaces y direcciones de red.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abf/0cc/057/abf0cc057404cbf9c580d39155c9aff9.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 8. Cuatro capas de servicios en nuestro modelo de red.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬°RTS3 se basa en nuestro motor BANG! Una nueva generaci√≥n que utiliza arquitectura modular con bibliotecas de componentes como sonido, renderizado y redes. El subsistema de red est√° integrado aqu√≠ como un componente, ¬°pero est√° conectado al motor BANG! (as√≠ como con varias herramientas internas). Nuestro modelo de red est√° dividido en cuatro capas de servicios, que son casi, pero no completamente, no similares al modelo de red OSI utilizado en el juego (ver Figura 8). </font></font><br><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calcetines Nivel 1</font></font></u> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El primer nivel, Socks, proporciona una API fundamental de nivel de socket en C. Se abstrae para crear un conjunto gen√©rico de procedimientos de red de bajo nivel para muchos sistemas operativos. La interfaz se asemeja a la interfaz de socket Berkeley. La capa Socks es utilizada principalmente por las capas superiores de la biblioteca de red y no est√° destinada a ser utilizada por el c√≥digo de la aplicaci√≥n. </font></font><br><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace, Nivel 2</font></font></u> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nivel 2, Enlace, proporciona servicios de capa de transporte. Los objetos en este nivel, como Link, Listener, NetworkAddress y Packet, son elementos √∫tiles necesarios para establecer una conexi√≥n y enviar mensajes a trav√©s de ella (ver Figura 9).</font></font><br><br><ul><li> <strong>Packet ():</strong>      ‚Äî  ,    / (    )     . </li><li> <strong>Link ():</strong>      .       ,           .  send  receive  ,    ,      void*. </li><li> <strong>Listener ():</strong>  .           . </li><li> <strong>Data stream ( ):</strong>        , , ,   . </li><li> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direcci√≥n de red: una</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entidad de direccionamiento de red independiente del protocolo.</font></font></li><li> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ping: una</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> clase de ping simple. </font><font style="vertical-align: inherit;">Informa un retraso de red presente cuando se comunica con el enlace.</font></font></li><li><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a4/8a3/f76/0a48a3f7672c524404eab911ebd7d062.jpg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 9. Nivel de enlace.</font></font></i> </li></ul><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nivel multijugador 3</font></font></u> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El nivel multijugador es el nivel m√°s alto de objetos y procedimientos presentes en la API net.lib. </font><font style="vertical-align: inherit;">Esta es la capa con la que RTS3 interact√∫a al recopilar objetos de un nivel inferior, como enlaces y convertirlos en conceptos / objetos m√°s √∫tiles: clientes, sesiones, etc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Los objetos m√°s interesantes de la biblioteca de la red BANG! </font><font style="vertical-align: inherit;">son aquellos que est√°n en el nivel multijugador. </font><font style="vertical-align: inherit;">Aqu√≠, la API proporciona un conjunto de objetos con los que el nivel del juego puede interactuar, pero proporciona una implementaci√≥n independiente del enfoque del juego.</font></font><br><br><ul><li> <strong>Client ():</strong>      .       ()     (  ).    ,    . </li><li> <strong>Session ():</strong>  ,   ,  ,    .       .        host()  join(),    ,   ,     .       / ,           . </li><li> <strong>Channel  Ordered Channel:</strong>        .              .      TimeSync,            . </li><li> <strong>Shared Data:</strong>        .        ,     ,                . </li><li> <strong>Time Sync:</strong>           . </li></ul><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Game Communications Level 4</font></font></u> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La capa de comunicaciones es parte del RTS3. </font><font style="vertical-align: inherit;">Esta es la colecci√≥n principal de sistemas a trav√©s de los cuales el juego interact√∫a con la biblioteca de la red, viviendo dentro del c√≥digo del juego. </font><font style="vertical-align: inherit;">La capa de comunicaciones proporciona muchas funciones auxiliares √∫tiles para crear y administrar objetos de red en el nivel multijugador, tratando de reducir las necesidades del juego multijugador a una interfaz peque√±a y f√°cil de usar.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ac/d8a/f3b/0acd8af3b2f9d73984b7afda314f0e6e.jpg" alt="imagen"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nuevas funciones y herramientas mejoradas. </font></font></h2><br>  <strong><em>Sistema de sincronizaci√≥n mejorado.</em></strong>  Ninguno del equipo de desarrollo <em>de Age of Empires</em> podr√≠a decir que no necesitamos mejores herramientas de sincronizaci√≥n.  Como en cualquier proyecto, al analizar el proceso de desarrollo en la autopsia, resulta que la mayor parte del tiempo se dedic√≥ a algunas √°reas, pero podr√≠a ser mucho menos si los abordamos por adelantado.  Al comienzo del desarrollo de RTS3, en la parte superior de la lista de tales √°reas estaba la sincronizaci√≥n de depuraci√≥n. <br><br>  El sistema de seguimiento de sincronizaci√≥n RTS3 est√° dirigido principalmente a reconocer r√°pidamente errores de sincronizaci√≥n.  Otras prioridades fueron la simplificaci√≥n del uso, la capacidad de procesar cantidades arbitrariamente grandes de datos sincronizados que pasaron por el sistema, la capacidad de compilar completamente el c√≥digo de sincronizaci√≥n en la versi√≥n de lanzamiento y, finalmente, la capacidad de cambiar completamente la configuraci√≥n de prueba cambiando las variables en lugar de volver a compilar por completo. <br><br>  La verificaci√≥n de sincronizaci√≥n en RTS3 se realiza utilizando dos conjuntos de macros: <br><br> <code>#define syncRandCode(userinfo) <br> gSync-&gt;addCodeSync(cRandSync, userinfo, __FILE__, __LINE__) <br></code> <br><br> <code>#define syncRandData(userinfo, <br> v) gSync-&gt;addDataSync(cRandSync, v, userinfo, __FILE__, __LINE__)</code> <br> <br>  Ambas macros reciben el par√°metro de cadena userinfo, que es el nombre o la indicaci√≥n de un elemento sincronizado espec√≠fico.  Por ejemplo, una llamada de sincronizaci√≥n podr√≠a verse as√≠: <br><br> <code>syncRandCode("syncing the random seed", seed);</code> <br> <br>  <em><strong>Comandos s√≠ncronos de consola y variables de configuraci√≥n.</strong></em>  Como puede confirmar cualquier desarrollador de mod de <em>Quake</em> , los comandos de consola y las variables de configuraci√≥n son muy importantes para el proceso de desarrollo.  Los comandos de consola son llamadas a funciones simples realizadas utilizando el archivo de configuraci√≥n de inicio, la consola del juego o la interfaz de usuario, que invocan funciones arbitrarias del juego.  Las variables de configuraci√≥n se denominan tipos de datos proporcionados a trav√©s de las funciones simples get, set, define y toggle, que usamos para todo tipo de pruebas y configuraci√≥n de par√°metros de configuraci√≥n. <br><br>  Paul cre√≥ versiones compatibles con multijugador de nuestros sistemas de comando de consola y configuraciones variables.  Con su ayuda, podemos convertir convenientemente una variable de configuraci√≥n regular (por ejemplo, enableCheating) en una variable de configuraci√≥n multijugador agregando un indicador a la definici√≥n de la variable de configuraci√≥n.  Si este indicador est√° habilitado, la variable de configuraci√≥n se transfiere dentro del juego multijugador, y las decisiones sincronizadas en el juego (por ejemplo, sobre la permisibilidad de la transferencia gratuita de recursos) pueden basarse en su valor.  Los comandos de consola del modo multijugador tienen un principio similar: las llamadas a los comandos de consola del modo multijugador se transmiten a trav√©s de la red y se ejecutan sincr√≥nicamente en todas las m√°quinas cliente. <br><br>  Al usar estas dos herramientas, los desarrolladores pueden usar el sistema multijugador sin escribir c√≥digo.  Pueden agregar r√°pidamente nuevas herramientas de prueba y configuraci√≥n e integrarlas f√°cilmente en un entorno en red. <br><br><h2>  Para resumir </h2><br>  La simulaci√≥n sincronizada y el modelo de igual a igual se han utilizado con √©xito en la serie de juegos Age of Empires.  A pesar de la importancia cr√≠tica de invertir tiempo en la creaci√≥n de herramientas y tecnolog√≠as para resolver los principales problemas de este enfoque (como la sincronizaci√≥n y las m√©tricas de red), la experiencia ha demostrado la viabilidad de esta arquitectura en el g√©nero de las estrategias en tiempo real.  Las mejoras posteriores que realizamos en RTS3 llevaron al hecho de que la jugabilidad multijugador es casi indistinguible de la de un solo jugador, incluso en las condiciones m√°s terribles de las conexiones de red. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es417703/">https://habr.com/ru/post/es417703/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es417689/index.html">Mobio habla con el CEO de Appnext sobre el mercado CPI y las tendencias de aplicaciones m√≥viles</a></li>
<li><a href="../es417691/index.html">Nuestra estanter√≠a es un programador de C #. Que hay de ti</a></li>
<li><a href="../es417697/index.html">Editor de im√°genes simple en VueJS</a></li>
<li><a href="../es417699/index.html">Western Digital cierra otra f√°brica de HDD debido a la menor demanda</a></li>
<li><a href="../es417701/index.html">Desde simples scripts hasta aplicaciones cliente-servidor de bricolaje en WCF: por qu√© me gusta trabajar en CM</a></li>
<li><a href="../es417705/index.html">C√≥mo un fabricante de tarjetas gr√°ficas afecta la rentabilidad de la miner√≠a de GPU</a></li>
<li><a href="../es417707/index.html">CSS-in-JS - mitos y realidad (componentes con estilo como ejemplo)</a></li>
<li><a href="../es417709/index.html">¬øD√≥nde y c√≥mo califican los desarrolladores a sus empleadores? Servicios de valoraci√≥n de empresas en la industria de TI.</a></li>
<li><a href="../es417711/index.html">¬øQu√© leer en Swift en ruso?</a></li>
<li><a href="../es417715/index.html">Adios Google Maps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>