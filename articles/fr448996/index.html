<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äç‚öñÔ∏è ü§∫ üë©üèª‚Äç‚úàÔ∏è Cr√©ation d'une politique de mot de passe sous Linux üßíüèø ‚òÑÔ∏è üë©üèº‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour encore! Les cours commenceront demain dans le nouveau groupe du cours Administrateur Linux , et √† cet √©gard, nous publions un article utile su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cr√©ation d'une politique de mot de passe sous Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/448996/"> Bonjour encore!  Les cours commenceront demain dans le nouveau groupe du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Administrateur Linux</a> , et √† cet √©gard, nous publions un article utile sur le sujet. <br><br><img src="https://habrastorage.org/webt/91/09/oo/9109oomfqbvlyjurdgyq0wkkpw4.png"><br><br>  Dans le dernier tutoriel, nous avons <code>pam_cracklib</code> comment utiliser <code>pam_cracklib</code> pour compliquer les mots de passe sur les syst√®mes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Red Hat 6</a> ou CentOS.  Dans Red Hat 7, <code>pam_pwquality</code> remplac√© <code>cracklib</code> comme module <code>pam</code> pour la v√©rification des mots de passe.  Le module <code>pam_pwquality</code> √©galement pris en charge sur Ubuntu et CentOS, ainsi que sur de nombreux autres syst√®mes d'exploitation.  Ce module facilite la cr√©ation de politiques de mot de passe pour s'assurer que les utilisateurs acceptent vos normes de complexit√© de mot de passe. <a name="habracut"></a><br><br>  Pendant longtemps, l'approche habituelle des mots de passe consistait √† forcer l'utilisateur √† utiliser des majuscules et des minuscules, des chiffres ou d'autres caract√®res.  Ces r√®gles de base sur la complexit√© des mots de passe ont √©t√© activement promues au cours des dix derni√®res ann√©es.  Il y a eu beaucoup de discussions pour savoir si c'est une bonne pratique ou non.  Le principal argument contre la cr√©ation de conditions aussi difficiles √©tait que les utilisateurs √©crivent des mots de passe sur papier et les stockent de mani√®re non s√©curis√©e. <br><br>  Une autre politique r√©cemment remise en cause oblige les utilisateurs √† changer de mot de passe tous les x jours.  Plusieurs √©tudes ont √©t√© men√©es qui ont montr√© que cela est √©galement pr√©judiciable √† la s√©curit√©. <br><br>  De nombreux articles ont √©t√© √©crits sur le sujet de ces discussions qui justifient tel ou tel point de vue.  Mais ce n'est pas ce que nous allons discuter dans cet article.  Cet article vous expliquera comment d√©finir correctement la complexit√© du mot de passe et ne pas g√©rer la strat√©gie de s√©curit√©. <br><br>  <b>Param√®tres de strat√©gie de mot de passe</b> <br><br>  Ci-dessous, vous verrez les param√®tres de strat√©gie de mot de passe et une br√®ve description de chacun d'eux.  Beaucoup d'entre eux sont similaires aux param√®tres du module <code>cracklib</code> .  Cette approche facilite le portage de vos strat√©gies √† partir de l'ancien syst√®me. <br><br><ul><li>  <b>difok</b> - Le nombre de caract√®res dans votre nouveau mot de passe qui ne devraient PAS √™tre pr√©sents dans votre ancien mot de passe.  (La valeur par d√©faut est 5) </li><li>  <b>minlen</b> - La longueur minimale du mot de passe.  (La valeur par d√©faut est 9) </li><li>  <b>ucredit</b> - Le nombre maximum de cr√©dits pour l'utilisation de caract√®res majuscules (si param√®tre&gt; 0), ou le nombre minimum requis de caract√®res majuscules (si param√®tre &lt;0).  La valeur par d√©faut est 1. </li><li>  <b>lcredit</b> - Le nombre maximum de cr√©dits pour l'utilisation de caract√®res minuscules (si param√®tre&gt; 0), ou le nombre minimum requis de caract√®res minuscules (si param√®tre &lt;0).  La valeur par d√©faut est 1. </li><li>  <b>dcredit</b> - Le nombre maximum de cr√©dits pour l'utilisation de chiffres (si param√®tre&gt; 0), ou le nombre minimum requis de chiffres (si param√®tre &lt;0).  La valeur par d√©faut est 1. </li><li>  <b>ocredit</b> - Le nombre maximum de cr√©dits pour l'utilisation d'autres symboles (si param√®tre&gt; 0), ou le nombre minimum requis d'autres symboles (si param√®tre &lt;0).  La valeur par d√©faut est 1. </li><li>  <b>minclass</b> - D√©finit le nombre de classes requises.  Les classes incluent les param√®tres ci-dessus (majuscules, minuscules, nombres, autres caract√®res).  La valeur par d√©faut est 0. </li><li>  <b>maxrepeat</b> - Le nombre maximum de <b>fois qu'un caract√®re</b> est r√©p√©t√© dans un mot de passe.  La valeur par d√©faut est 0. </li><li>  <b>maxclassrepeat</b> - Le nombre maximum de caract√®res cons√©cutifs dans une m√™me classe.  La valeur par d√©faut est 0. </li><li>  <b>gecoscheck</b> - V√©rifie si le mot de passe contient des mots des lignes GECOS de l'utilisateur.  (Informations utilisateur, c'est-√†-dire nom r√©el, emplacement, etc.) Par d√©faut 0 (d√©sactiv√©). </li><li>  <b>dictpath</b> - <b>Permet</b> de cracker les dictionnaires. </li><li>  <b>badwords</b> - Mots s√©par√©s par des espaces qui sont interdits dans les mots de passe (nom de l'entreprise, mot "mot de passe", etc.). </li></ul><br>  Si le concept de pr√™t semble √©trange, √ßa va, √ßa va.  Nous en parlerons plus en d√©tail dans les sections suivantes. <br><br>  <b>Configuration de la politique de mot de passe</b> <br><br>  Avant de commencer √† modifier les fichiers de configuration, il est recommand√© de pr√©-√©crire la strat√©gie de base de mot de passe.  Par exemple, nous utiliserons les r√®gles de complexit√© suivantes: <br><br><ul><li>  Le mot de passe doit avoir une longueur minimale de 15 caract√®res. </li><li>  Dans le mot de passe, le m√™me caract√®re ne doit pas √™tre r√©p√©t√© plus de deux fois. </li><li>  Dans un mot de passe, les classes de caract√®res peuvent √™tre r√©p√©t√©es jusqu'√† quatre fois. </li><li>  Le mot de passe doit contenir des caract√®res de chaque classe. </li><li>  Le nouveau mot de passe doit avoir 5 nouveaux caract√®res par rapport √† l'ancien. </li><li>  Activez la validation GECOS. </li><li>  Refuser les mots "mot de passe, passe, mot, putorius" </li></ul><br>  D√©sormais, d√®s que nous avons d√©fini la politique, nous pouvons modifier le fichier <code>/etc/security/pwquality.conf</code> pour renforcer les exigences de complexit√© des mots de passe.  Voici un exemple de fichier de commentaires pour une meilleure compr√©hension. <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Make sure 5 characters in new password are new compared to old password difok = 5 # Set the minimum length acceptable for new passwords minlen = 15 # Require at least 2 digits dcredit = -2 # Require at least 2 upper case letters ucredit = -2 # Require at least 2 lower case letters lcredit = -2 # Require at least 2 special characters (non-alphanumeric) ocredit = -2 # Require a character from every class (upper, lower, digit, other) minclass = 4 # Only allow each character to be repeated twice, avoid things like LLL maxrepeat = 2 # Only allow a class to be repeated 4 times maxclassrepeat = 4 # Check user information (Real name, etc) to ensure it is not used in password gecoscheck = 1 # Leave default dictionary path dictpath = # Forbid the following words in passwords badwords = password pass word putorius</span></span></code> </pre> <br>  Comme vous l'avez peut-√™tre remarqu√©, certains param√®tres de notre fichier sont redondants.  Par exemple, le param√®tre <code>minclass</code> redondant, car nous utilisons d√©j√† au moins deux caract√®res de la classe en utilisant les champs de <code>[u,l,d,o]credit</code> .  Notre liste de mots qui ne peuvent pas √™tre utilis√©s est √©galement redondante, car nous avons interdit la r√©p√©tition de toute classe 4 fois (tous les mots de notre liste sont √©crits en minuscules).  J'ai inclus ces options uniquement pour montrer comment les utiliser pour configurer une politique de mot de passe. <br>  Une fois que vous avez cr√©√© votre strat√©gie, vous pouvez forcer les utilisateurs √† modifier leur mot de passe lors de leur prochaine connexion. <br><br>  Une autre chose √©trange que vous avez pu remarquer est que les champs de <code>[u,l,d,o]credit</code> contiennent un nombre n√©gatif.  En effet, les nombres sup√©rieurs ou √©gaux √† 0 donneront le cr√©dit d'utiliser le caract√®re dans votre mot de passe.  Si le champ contient un nombre n√©gatif, cela signifie qu'un certain montant est requis. <br><br>  <b>Quels sont les pr√™ts?</b> <br><br>  Je les appelle des pr√™ts, car ils expriment pr√©cis√©ment leur objectif.  Si la valeur du param√®tre est sup√©rieure √† 0, vous ajoutez le nombre de "cr√©dits par caract√®re" √©gal √† "x" √† la longueur du mot de passe.  Par exemple, si tous les param√®tres <code>(u,l,d,o)credit</code> d√©finis sur 1 et que la longueur de mot de passe requise est 6, vous aurez besoin de 6 caract√®res pour satisfaire √† la longueur requise, car chaque caract√®re est en majuscule, minuscule, chiffre ou autre caract√®re vous accordera un pr√™t. <br><br>  Si vous d√©finissez <code>dcredit</code> sur 2, vous pourriez th√©oriquement pouvoir utiliser un mot de passe avec une longueur de 9 caract√®res et obtenir 2 cr√©dits pour les caract√®res pour les nombres, et le mot de passe peut d√©j√† √™tre 10. <br><br>  Jetez un oeil √† cet exemple.  J'ai d√©fini la longueur du mot de passe sur 13, d√©fini dcredit sur 2 et tout le reste sur 0. <br><br><pre> <code class="bash hljs">$ pwscore Thisistwelve Password quality check failed: The password is shorter than 13 characters $ pwscore Th1sistwelve 18</code> </pre> <br>  Ma premi√®re v√©rification a √©chou√© car le mot de passe comptait moins de 13 caract√®res.  La prochaine fois, j'ai chang√© la lettre ¬´I¬ª en ¬´1¬ª et j'ai re√ßu deux cr√©dits pour les chiffres, ce qui √©quivaut √† 13 pour le mot de passe. <br><br>  <b>Test de mot de passe</b> <br><br>  Le package <code>libpwquality</code> fournit les fonctionnalit√©s d√©crites dans l'article.  Il est √©galement livr√© avec le programme <code>pwscore</code> , qui est con√ßu pour v√©rifier la complexit√© du mot de passe.  Nous l'avons utilis√© ci-dessus pour v√©rifier les pr√™ts. <br><br>  L'utilitaire <code>pwscore</code> lit √† partir de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stdin</a> .  Ex√©cutez simplement l'utilitaire et √©crivez votre mot de passe, il donnera une erreur ou une valeur de 0 √† 100. <br><br>  Le score de qualit√© du mot de passe est li√© au param√®tre <code>minlen</code> dans le fichier de configuration.  En g√©n√©ral, un indicateur inf√©rieur √† 50 est consid√©r√© comme un ¬´mot de passe normal¬ª et surtout comme un ¬´mot de passe fort¬ª.  Tout mot de passe qui r√©ussit les contr√¥les de qualit√© (en particulier les contr√¥les forc√©s de <code>cracklib</code> ) doit r√©sister aux attaques par dictionnaire, et un mot de passe avec un score sup√©rieur √† 50 avec le param√®tre <code>minlen</code> par d√©faut <code>minlen</code> m√™me une <code>brute force</code> . <br><br>  <b>Conclusion</b> <br><br>  La configuration de <code>pwquality</code> est <code>pwquality</code> et facile par rapport √† l'inconv√©nient d'utiliser <code>cracklib</code> avec l'√©dition directe de fichiers <code>pam</code> .  Dans ce guide, nous avons couvert tout ce dont vous avez besoin pour configurer des politiques de mot de passe sur Red Hat 7, CentOS 7 et m√™me les syst√®mes Ubuntu.  Nous avons √©galement parl√© du concept de pr√™t, qui est rarement √©crit en d√©tail, de sorte que ce sujet est souvent rest√© incompr√©hensible pour ceux qui ne l'avaient pas rencontr√© auparavant. <br><br>  <b>Sources:</b> <br><br>  <a href="">page de manuel pwquality</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page de manuel de pam_pwquality</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page de manuel pwscore</a> <br><br>  <b>Liens utiles:</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Choisir des mots de passe s√©curis√©s - Bruce Schneier</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lorrie Faith Cranor discute de ses √©tudes sur les mots de passe √† la CMU</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le dessin anim√© inf√¢me de xkcd sur Entropy</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr448996/">https://habr.com/ru/post/fr448996/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr448982/index.html">CMS sans t√™te. Pourquoi j'√©cris le mien</a></li>
<li><a href="../fr448986/index.html">R√©tro-ing√©nierie 3D avec num√©risation 3D</a></li>
<li><a href="../fr448988/index.html">Les SSD de Kingston sont devenus plus spacieux, maintenant presque le m√™me co√ªt - nous rencontrons la s√©rie A400-R</a></li>
<li><a href="../fr448992/index.html">Hachage polyvalent et parfait</a></li>
<li><a href="../fr448994/index.html">Est-il si difficile de d√©marrer le chemin d'un recruteur informatique?</a></li>
<li><a href="../fr448998/index.html">Si la connexion n'est que de l'√©tain, vous devez l'enterrer</a></li>
<li><a href="../fr449000/index.html">Est-ce que Deno est le nouveau Node.js?</a></li>
<li><a href="../fr449002/index.html">V√©rification formelle sur l'exemple du probl√®me du loup, de la ch√®vre et du chou</a></li>
<li><a href="../fr449004/index.html">Nouveau dans la certification de la s√©curit√© de l'information</a></li>
<li><a href="../fr449006/index.html">La complexit√© cach√©e des machines √† sous de jeux vid√©o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>