<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤓 🌕 🕺 Arch Linux示例和安装方法 🛄 🐘 🎛️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="现在，我们将讨论在一个臭名昭著的Linux发行版的不同版本中安装-Arch Linux。 在撰写本文时，他在6个月的搜索量方面将分频表排名为第12名，该发行版本身的荣誉平均评分为9.3 / 10。 对于真正的程序员，许多人认为它是真正的Linux，但首先闻名的并不是因为它，而是因为它的安装过程很简单...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arch Linux示例和安装方法</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426953/">现在，我们将讨论在一个臭名昭著的Linux发行版的不同版本中安装-Arch Linux。 在撰写本文时，他在6个月的搜索量方面将分<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">频表</a>排名为第12名，该发行版本身的荣誉平均评分为9.3 / 10。 对于真正的程序员，许多人认为它是真正的Linux，但首先闻名的并不是因为它，而是因为它的安装过程很简单。 在启动可启动媒体时，用户首先不会看到熟悉的“单击此处安装X”样式的界面，而是看到Linux世界的黑色大窗口。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ix/hh/wb/ixhhwbzjhbdki6xv7b0qptpt-0q.png"></div><a name="habracut"></a><br><blockquote> 希望使用图形界面来配置/使用您的系统最终会给用户带来麻烦。 在某个时间点，用户会感到他需要知道图形界面隐藏了什么... <br></blockquote><h1> 行动一：在虚拟机上安装 </h1><br> 这可能是尝试安装此系统的最安全方法，或者至少是“ <i>排练</i> ”安装而不是Windows，另一个Linux或MacOS的好方法。 我将亲自使用许可的VMware Workstation Pro 14 ... <br><br><img src="https://habrastorage.org/webt/om/jk/hf/omjkhfczx875d634y02gvi1d1pg.jpeg"><br><br> 但总的来说，任何其他用于虚拟机的程序都可以。 <br><br> 首先，我们需要从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">archlinux.org</a>下载的最新<i>iso映像</i> <br> 你下载了吗？ 好酷！ <br><br> 使用它创建一个新的虚拟机。 我们放弃记忆，无论多么可惜，我们都会<s>在互联网上</s>启动并<s>打开该指南并继续</s>阅读。 <br><br> 要安装系统，我们需要Internet连接，该连接应该是新虚拟机默认设置的标准连接。 与检查 <br> <code>ping google.com</code> <br> <br> 然后，我们需要对磁盘进行分区。 为此，在我们启动的映像中，有几个实用程序，例如<i>cfdisk，fdisk，gdisk，cgdisk，partitionmanager，parted，gparted</i> ...。 我喜欢使用cfdisk实用程序，因为 它允许您同时标记MBR和GPT。 <br><br> 选择哪个分区表是每个人的事，我只是说GPT将比MBR更新。 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>阅读有关在GPT和MBR之间进行选择的更多信息。 <br><br> 我们启动<u>cfdisk</u> ，它应该向我们询问分区表。 选择GPT（或剂量）。 我们创建一个100 MB的分区。 然后，您可能会感到困惑，并为/ <i>mount</i> ，/ boot，/ var下的<i>不同挂载点</i>创建单独的分区。但是，在虚拟机上，我认为这没用-我们将所有剩余空间的一个分区视为根。 <br><br><img src="https://habrastorage.org/webt/ev/hm/xj/evhmxjj31btpficzzkx0ibqi4us.png"><br><br> 不要忘记通过选择写入将更改写入磁盘。 <br><br> 接下来，您需要使用mkfs实用程序创建文件系统。 我建议在EFI部分以FAT32格式进行格式化： <br><br> <code>mkfs.vfat -F 32 /dev/sdaX</code> <br> <br> 其中X是分区号（例如，我有sda1） <br><br> 其余部分通常采用ext4或ext3格式： <br><br> <code>mkfs.ext4 /dev/sda2</code> <br> <br> 然后先将根分区<i>挂载到</i> / mnt中，然后将其他所有内容<i>挂载到</i> / mnt中<i>相应的已创建目录</i>中 <br><br><pre> <code class="hljs objectivec">mount /dev/sda2 /mnt mkdir /mnt/boot mount /dev/sda1 /mnt/boot <span class="hljs-comment"><span class="hljs-comment">//       </span></span></code> </pre><br> 在直接安装之前，我喜欢使用<u>反射器</u>实用程序配置镜像： <br><br><pre> <code class="hljs powershell">pacman <span class="hljs-literal"><span class="hljs-literal">-S</span></span> reflector reflector —verbose <span class="hljs-literal"><span class="hljs-literal">-l</span></span> <span class="hljs-number"><span class="hljs-number">200</span></span> —sort rate —save /etc/pacman.d/mirrorlist</code> </pre><br>  <u>Reflector将</u>通过ping对所有镜像进行排序<i>，并将它们</i>的<i>前200个</i>写入镜像列表。 <br> 现在把<i>系统</i>本身： <br> <code>pacstrap -i /mnt base base-devel</code> <br> <br> 命令完成后，我们需要向系统表明在启动时应该<i>挂载</i>哪些分区-为此，我们编写： <br> <code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code> <br> <br> 现在我们要弯曲手指，现在我们必须再点一下键盘... <br><br><img src="https://habrastorage.org/webt/yw/qa/me/ywqamevyr6ypdsqabr7-crxud9e.jpeg"><br><br> 让我们对系统进行一些小的初始设置。 为此，请转到其根目录： <br> <code>arch-chroot /mnt</code> <br> <br> 调整时间： <br><br><pre> <code class="hljs pgsql">ln -sf /usr/<span class="hljs-keyword"><span class="hljs-keyword">share</span></span>/zoneinfo/%%/%% /etc/<span class="hljs-built_in"><span class="hljs-built_in">localtime</span></span> hwclock <span class="hljs-comment"><span class="hljs-comment">--systohc</span></span></code> </pre> <br> 然后在文件/etc/locale.gen中找到我们的<i>母语</i>并将其取消注释，然后编写，实际上是<code>locale-gen</code> 。 <br><br> 接下来，在文件/ etc / hosts中指定计算机名称。 输出文件示例： <br><br><pre> <code class="hljs css">127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">localhost</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::1</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">localhost</span></span> 127<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> %%<span class="hljs-selector-class"><span class="hljs-selector-class">.localdomain</span></span> %%</code> </pre> <br> 添加一克用户 <br><br><pre> <code class="hljs powershell">useradd <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-literal"><span class="hljs-literal">-g</span></span> users <span class="hljs-literal"><span class="hljs-literal">-G</span></span> wheel <span class="hljs-literal"><span class="hljs-literal">-s</span></span> /bin/bash %userName%</code> </pre> <br> 密码： <br><br><pre> <code class="hljs objectivec">passwd <span class="hljs-comment"><span class="hljs-comment">//    root passwd %userName% //      </span></span></code> </pre> <br> 最后，要引导系统，请放置引导程序。 可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>阅读有关可以安装的更多信息。 当然，要安装哪一个取决于您，现在，现在我们将在这里安装最普通的grub： <br><br><pre> <code class="hljs powershell">pacman <span class="hljs-literal"><span class="hljs-literal">-S</span></span> grub grub<span class="hljs-literal"><span class="hljs-literal">-install</span></span> -<span class="hljs-literal"><span class="hljs-literal">-target</span></span>=x86_64<span class="hljs-literal"><span class="hljs-literal">-efi</span></span> -<span class="hljs-literal"><span class="hljs-literal">-efi</span></span><span class="hljs-literal"><span class="hljs-literal">-directory</span></span>=/boot/EFI -<span class="hljs-literal"><span class="hljs-literal">-bootloader</span></span><span class="hljs-literal"><span class="hljs-literal">-id</span></span>=grub grub<span class="hljs-literal"><span class="hljs-literal">-mkconfig</span></span> <span class="hljs-literal"><span class="hljs-literal">-o</span></span> /boot/grub/grub.cfg</code> </pre> <br> 通常，它已经准备就绪，您可以退出chroot，卸载磁盘并重新启动计算机。 然后，您就可以在上面放置<s>图形环境</s>了。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在此处</a>阅读有关此内容的更多信息。 <br><br> 好吧，原则上您可以享受... <br><br><img src="https://habrastorage.org/webt/sw/hg/sa/swhgsa15obeqs2l69df_vb6h-e0.png"><br><br><h2> 第二幕：安装在外部介质上 </h2><br><img src="https://habrastorage.org/webt/yl/a6/sw/yla6swevqpqyvo9btkssnwnhzxu.png"><br><br> 让我们解决问题： <b>Windows 10 / Mac Os Mojave的</b>硬盘驱动器已堵塞，其上已下载的Arch Linux映像以及完全空的外部ssd或hdd。 <br><br>  <b>任务：</b> <i>在不离开Windows / MacOS的情况下将系统安装在外部驱动器上</i> <br><br> 只需思考几分钟，然后再看到优雅的<i>生活技巧</i> 。 <br><br><div class="spoiler">  <b class="spoiler_title">查看解决方案...</b> <div class="spoiler_text"> 解决方案非常简单：为此，我们使用相同的虚拟机 <br> 为此，我们只需创建不带任何虚拟硬盘的虚拟磁盘，然后将外部介质（以下称为闪存驱动器）连接到该虚拟磁盘，并重复上述步骤即可。 <br><img src="https://habrastorage.org/webt/mi/zr/n4/mizrn4dlyv_oydscheqjwqhp9lg.jpeg"><br> 注意：从生成的闪存驱动器启动时，在大多数情况下，由于负责连接和实现域名的服务之间的冲突，可能会发生各种类型的网络问题。 通过选择要使用的服务，然后通过systemctl断开其他所有人的连接来决定。 提及标准的<i>wifi菜单</i>实用程序也很重要 <br></div></div><br> 以后这能派上用场吗？ 我会说-情况有所不同。 一旦工作机器发生故障，您将在没有机器的情况下生存一两个星期，因为 它正在维修中，您需要进行任何工作。 或者，您购买/组装了一台新的计算机，到目前为止，该计算机甚至还没有ms-dos-您将有机会至少制造一个可启动的USB闪存驱动器/磁盘或从外部介质继续工作。 可移植性，可以这么说。 同时，我认为最好在外部驱动器上至少安装manjaro。 <br><br><h2> 第三幕：在另一个操作系统旁边安装 </h2><br> 对在虚拟机上安装Archa进行了很多培训之后，您可以尝试将其安装在真实磁盘上。 唯一的区别是，如果磁盘上以前有其他操作系统，那么您不必删除分区即可遍历它们……您还可以对安装进行一些“改进”：例如，为交换分区分配空间 <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">mkswap</span></span> /dev/sdxy swapon /dev/sdxy</code> </pre> <br> 仅保留一个用户设置，在此不再赘述，因为这是一个创造性的过程。 <br><br><h2> 结语：为什么所有这些都是必要的 </h2><br> 就个人而言，我倾向于认为Arch Linux是<u>最好的</u>发行版。 是的，有时在更新时可能会中断（很多滚动版本对此都是有罪的），但是在2018年，这种情况发生的可能性很小。  Arch是“市场上”最轻的发行版，只有Gentoo可以挑战此称号。 顺便说一下，与后者不同，我们不必强迫我们的机器来编译软件包。 拱形存储库很大，几乎所有内容。 如果不是这种情况，那么几乎可以为PKGBUILD配置几乎所有的deb软件包。 如果仍然<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">无法解决问题</a> ，那么很可能在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">archwiki</a>上<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">已有</a>关于此<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">主题</a>的文章，如果您有能力阅读，可以轻松地更正它。 拱门可以定制。 如你所愿。 <br> 他也有一个漂亮的徽标。 <br><br> 在这一点上，我认为这个话题已经精疲力尽，在此我完成了这个有趣的叙述。 对于那些已经读到这一点的人来说很幸福。 <br><br>  UPD： <br> 显然，在安装grub时，我对标志有些棘手，也忘了提及os-prober －一种检测其他操作系统所需的实用程序。 <br> 已更正： <br><pre> <code class="hljs powershell">pacman <span class="hljs-literal"><span class="hljs-literal">-Syu</span></span> grub os<span class="hljs-literal"><span class="hljs-literal">-prober</span></span> grub<span class="hljs-literal"><span class="hljs-literal">-mkconfig</span></span> &gt; /boot/grub/grub.cfg grub<span class="hljs-literal"><span class="hljs-literal">-install</span></span> -<span class="hljs-literal"><span class="hljs-literal">-target</span></span>=i386<span class="hljs-literal"><span class="hljs-literal">-pc</span></span> /dev/sdX</code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN426953/">https://habr.com/ru/post/zh-CN426953/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN426943/index.html">YouTube上2015年哈佛编程课程CS50 2015的最全面的俄语翻译</a></li>
<li><a href="../zh-CN426945/index.html">我喜欢Paul Allen</a></li>
<li><a href="../zh-CN426947/index.html">“魔鬼拉着我去办公室上班”-给程序员的10个问题，第9版</a></li>
<li><a href="../zh-CN426949/index.html">再现THX Deep Note声音</a></li>
<li><a href="../zh-CN426951/index.html">Altium Designer：如果项目变得复杂，该怎么办？</a></li>
<li><a href="../zh-CN426957/index.html">WSGI服务器简介：第一部分</a></li>
<li><a href="../zh-CN426959/index.html">通过kubespray安装kubernetes（本地存储，安装Elasticsearch + Fluentd + Kibana，prometheus）</a></li>
<li><a href="../zh-CN426961/index.html">Microsoft如何将C＃编译器重写为C＃并将其打开</a></li>
<li><a href="../zh-CN426963/index.html">Flutter应用程序是否梦想基于平台的小部件？</a></li>
<li><a href="../zh-CN426965/index.html">C ++ 2a中的错误处理将发生什么</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>