<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‚ğŸ» ğŸ§–ğŸ¼ ğŸ¿ Play Store sekarang menerima aplikasi web progresif (PWA) ğŸ–¼ï¸ ğŸ‘¨ğŸ»â€âš–ï¸ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penafian: Saya tidak berafiliasi dengan Google Play, Chrome atau perusahaan apa pun yang disebutkan. Ini bukan pernyataan resmi. Logo dan nama hanya d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Play Store sekarang menerima aplikasi web progresif (PWA)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439238/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abc/fb9/445/abcfb9445e58d62d216cdf938abaffca.png"></div><br>  <sup>Penafian: Saya tidak berafiliasi dengan Google Play, Chrome atau perusahaan apa pun yang disebutkan.</sup>  <sup>Ini bukan pernyataan resmi.</sup>  <sup>Logo dan nama hanya digunakan untuk tujuan ilustrasi.</sup> <br><br>  Chrome 72 untuk Android memiliki fitur Aktivitas Web Tepercaya yang telah lama ditunggu-tunggu.  Ini berarti bahwa sekarang kita dapat mendistribusikan PWA melalui direktori Google Play dan menjalankan Chrome tanpa offline UI untuk paket asli!  Saya bermain-main dengan fungsi ini untuk sementara waktu, menyelidiki API, tetapi di sini saya akan memberi tahu Anda tentang apa, tentang apa yang diharapkan dan apa yang tersedia hari ini. <br><a name="habracut"></a><br><h1>  PWA dalam katalog Play Store </h1><br>  Chrome 72 untuk Android sekarang tersedia untuk semua pengguna, dan Aktivitas Web Tepercaya (TWA) diimplementasikan dalam versi ini.  Singkatnya, Chrome diluncurkan offline (tanpa bilah alat dan UI) untuk paket Android asli. <br><br>  Untuk memulainya, mempublikasikan dalam direktori bukanlah prosedur yang sederhana (seperti memasukkan URL di Google Play - dan aplikasi akan mulai).  Selain itu, Anda tidak dapat menggunakan WebAPK yang tersedia dan menerbitkan aplikasi dalam direktori.  Ia menggunakan Java API, yang berinteraksi dengan Chrome melalui layanan dan tampaknya berada pada tahap awal pengembangan.  Karena itu, ada banyak yang harus dilakukan secara manual. <br><br>  Saya melihat ini sebagai langkah pertama.  Tentunya, toolkit terbaik akan segera muncul (mungkin dari komunitas) dengan dukungan untuk semua API yang tersedia dan peluncuran satu klik.  Tetapi pada API saat ini, Anda dapat menerbitkannya di direktori peluncur PWA.  Saya akan membagikan pengalaman saya tentang bagaimana melakukan ini. <br><br>  Untuk beberapa alasan, fitur ini belum muncul di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Status Platform Chrome</a> , dan dokumentasinya belum diperbarui (belum diperbarui sama sekali selama lebih dari 15 bulan). <br><br>  <b>Pembaruan 5 Februari</b> .  Blog Chromium telah memposting <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">catatan singkat</a> tentang dukungan TWA dan beberapa detail teknis yang disebutkan dalam artikel ini. <br><br>  <b>Pembaruan 1 Februari</b> .  Paul Kinlan, pemimpin pengembang Chrome di Google, telah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengkonfirmasi</a> rilis fitur TWA dan bahwa dokumentasinya ditunda: alasan penundaannya adalah bahwa izin untuk fitur Chrome 72 baru diterima pada menit terakhir. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/TCgT8dzSiU8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><font color="gray">Video berusia satu tahun dari Pete Le Page menjelaskan TWA</font></i> <br><br><h3>  Mengapa menerbitkan PWA dalam direktori? </h3><br>  Ini adalah platform web, Karl!  Mengapa menggunakan direktori? <br><br>  Yah, ini adalah percakapan yang panjang, tetapi saya telah menasihati bisnis besar dan kecil selama bertahun-tahun, dan ketika kami mempertimbangkan pengembangan PWA, katalog aplikasi terus-menerus disebutkan: "Pengguna kami akan mencari aplikasi di sana", "Kami sudah memiliki aplikasi kami sendiri, dan kami tidak ingin kehilangan pengguna, "" Kami membutuhkan akses ke API kami sendiri, "atau" Saya ingin memonetisasi PWA. " <br><br>  Mulai sekarang, menjadi mungkin untuk menerbitkan PWA di direktori, serta bekerja dari browser.  Tentu saja, ini adalah operasi terpisah.  Play Store tidak meniru Microsoft Store: PWA Anda tidak akan muncul di toko kecuali Anda mengkompilasi APK dan menerbitkannya. <br><br><h3>  Keuntungan dibandingkan PWA standar </h3><br>  Selain mekanisme distribusi baru dan pengguna baru dari katalog (dan bahkan dari pencarian Google di bagian "Aplikasi"), keuntungan lain muncul: <br><br><ul><li>  Kemampuan untuk menempatkan widget di layar utama. <br></li><li>  Pintasan aplikasi (dengan menekan agak lama pada ikon aplikasi) dan integrasi mendalam lainnya dengan OS. <br></li><li>  Bekerja dengan "pendamping" pada perangkat yang dapat dipakai atau ekstensi Android Otomatis. <br></li><li>  Menginstal ulang setelah hard reset atau cadangan pada ponsel baru. <br></li><li>  Layanan latar belakang yang mengakses fungsinya sendiri (komunikasi dengan PWA masih terbatas - perincian lebih lanjut di bawah). <br></li><li>  Monetisasi (terbatas sejauh ini, detail lebih lanjut di bawah). <br></li><li>  Beberapa layar asli dicampur dengan konten PWA. <br></li><li>  Distribusi lebih dari satu ikon PWA di peluncur dan / atau di layar beranda, menunjuk ke URL yang berbeda (dalam host yang sama). <br></li><li>  Dukungan internasionalisasi yang lebih baik. </li></ul><br><h3>  Apa inovasinya? </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/06c/a7c/a1d/06ca7ca1d01be0f5174e371c774c6360.png"><br>  <i><font color="gray">Sudah ada beberapa PWA dalam katalog, tetapi sekarang mereka jauh lebih mudah untuk dipersiapkan dan diterbitkan.</font></i> <br><br>  Sudah ada beberapa PWA di Google Play Store, seperti Google Maps Go, Instagram Lite dan Twitter Lite.  Aplikasi pertama menggunakan beberapa versi pribadi dari pra-TWA, dan dua terakhir menggunakan WebView, yang bukan yang ideal, tetapi satu-satunya cara untuk melakukan sesuatu seperti ini sebelum TWA.  Aplikasi memiliki banyak kode asli untuk beberapa hal, seperti notifikasi.  Kami ingin mempublikasikan PWA sebagai pengembang web, dan kami tidak ingin menulis banyak kode Java. <br><br>  TWA adalah mode khusus berdasarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tab Chrome khusus</a> , yang dari versi Chrome 45 memungkinkan Anda meluncurkan browser yang ada di dalam aplikasi. <br><br><h3>  Apakah TWA kerangka kerja hybrid mirip dengan Cordova? </h3><br>  Tidak.  Dengan Cordova dan solusi hybrid lainnya, Anda biasanya menyediakan sumber daya (HTML, JS, CSS, dll.).  dalam paket APK.  <b>Selain itu, mesinnya berbeda di sana, diisolasi dari browser pengguna, sehingga tidak mendukung sesi atau berbagi cache.</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c8/1a6/feb/8c81a6feb0b4e06520eac4d39ace8f66.png"></div><br>  <i><font color="gray">Inilah yang terlihat seperti PWA dengan Aktivitas Web Tepercaya.</font></i>  <i><font color="gray">Saya belum melihat implementasi skema warna</font></i> <br><br>  Menggunakan Aktivitas Web Tepercaya, Anda tidak perlu mengemas file sumber daya (hanya komponen asli, jika perlu);  Semua sumber daya diunduh dan diperbarui dengan cepat melalui pekerja layanan.  PWA Anda selalu ditampilkan oleh versi Chrome yang diinstal, dengan penyimpanan, cache, dan sesi.  Jadi, jika pengguna membuka sesi di situs web, dan kemudian menginstal aplikasi dari Play Store, ia sudah akan masuk ke sistem. <br><br><h3>  Persyaratan Play Store </h3><br>  URL yang digunakan untuk operasi web tepercaya harus memenuhi persyaratan berikut: <br><br><ul><li>  Transfer Kriteria PWA (HTTPS, pekerja layanan dengan fetch event handler, manifes aplikasi web dengan ikon 512px, background_color, dan sekumpulan properti lainnya) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mercusuar</a> minimum 80/100 peringkat kinerja (tersedia di Alat Pengembang Chrome atau sebagai NPM CLI). <br></li><li>  Semua aturan Play Store saat ini. </li></ul><br>  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting blog Chromium</a> , "Aplikasi yang tidak mematuhi persyaratan kualitas TWA atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kebijakan</a> Play Store dapat ditolak masuk atau mungkin dikecualikan." <br><br>  Saya belum yakin bahwa tim QA Play Store memeriksa semua persyaratan ini saat menerbitkan aplikasi. <br><br><h3>  Model Keamanan PWA di Play Store </h3><br>  PWA Anda akan mematuhi model keamanan browser, bukan aplikasi asli, hingga Anda menambahkan kode asli langsung ke APK.  Karena semuanya berada di bawah kendali browser, pengguna harus tahu bahwa meskipun ia baru saja menginstal aplikasi, ia akan memiliki data sesi, penyimpanan lokal, dan izin yang telah ditetapkan untuk host ini di browser.  Itu sebabnya, ketika Anda pertama kali memulainya, mereka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diperlihatkan pesan mini "Bekerja di Chrome"</a> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5ff/8d9/1df/5ff8d91df535b119b0da91c92aca2a2b.jpg"><br><br>  Selain itu, saat pengguna mencopot pemasangan aplikasi, ia akan menerima <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">peringatan</a> bahwa status dan data aplikasi masih tersedia di Chrome, jadi jika perlu, kosongkan cache.  Di antara jejak tersebut, misalnya, izin Push Web: bahkan jika pengguna mencopot pemasangan aplikasi, ia masih akan terus menerima pemberitahuan push.  Pesan itu diperhatikan oleh Henry Lim: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/547/90a/3bc/54790a3bceb7834fd83b7301866f118e.jpg"><br><br>  Kebutuhan akan pemberitahuan semacam itu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">diceritakan oleh</a> Paul Kinlan dari tim Chrome. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: absolute; visibility: hidden; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1092075825065873416"></twitter-widget><blockquote class="twitter-tweet" data-lang="en_US" data-twitter-extracted-i1583607260701316906="true"><p lang="en" dir="ltr">  Penyimpanan sesi berasal dari sesi browser Anda, kami harus menunjukkan ini kepada pengguna aplikasi android yang tidak mengharapkan pengalaman jenis ini. </p>  - Paul Kinlan (@Paul_Kinlan) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">3 Februari 2019</a> </blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><h1>  Metode pengembangan </h1><br>  Untuk membuat paket dengan TWA, pertama-tama Anda perlu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Android Studio</a> .  Sejauh ini, semua opsi bersifat eksperimental dan hanya dijelaskan oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">contoh kode</a> di repositori Chrome di GitHub. <br><br>  Opsi pengembangan aplikasi dengan TWA: <br><br><ul><li>  <b>Menggunakan Pustaka Dukungan Java tingkat tinggi</b> dari tim Chrome: dalam hal ini, Anda tidak perlu menulis kode Java atau Kotlin Anda sendiri.  Buat proyek Android Studio (atau tirukan contoh), konfigurasikan beberapa metadata di AndroidManifest.xml dari manifes aplikasi web - dan Anda selesai. <br><br>  Kerangka kerja ini akan menyediakan koneksi dengan TWA dan fitur tambahan untuk membuat catatan Pengaturan di perangkat Android, serta membuat pemberitahuan push tersedia.  Sekarang perpustakaan berada di repositori Jitpack sementara.  Saya pikir di masa depan dia akan pindah ke tempat lain. <br></li><li>  <b>Mengelola Aktivitas Web Tepercaya secara manual</b> .  Jika Anda memiliki pengalaman mengembangkan aplikasi Android di Java atau Kotlin, Anda cukup menghubungkan PWA secara manual.  Jadi, Anda dapat meninggalkan beberapa tindakan asli, membuka Aktivitas Web Tepercaya hanya pada waktu yang tepat.  Dalam hal ini, saya mengusulkan untuk mempelajari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">perpustakaan dukungan</a> dan memahami bagaimana menghubungkan ke Chrome dari proyek. </li></ul><br>  <b>Pembaruan 5 Februari</b> : dokumentasi untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">TrustedWebUtils</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pembantu</a> TWA, sekarang tersedia di situs Android. <br><br><h3>  Distribusi yang nyata </h3><br>  PWA di App Store tidak akan menerima manifes aplikasi web;  Anda harus secara manual menyalin beberapa nilai.  Ikon diambil dari folder "res", seperti pada aplikasi Android asli mana pun, pemblokiran orientasi harus didefinisikan dalam catatan aktivitas AndroidManifest, dll. <br><br>  Saat menggunakan pustaka dukungan, layar splash dibuat secara otomatis, tetapi properti manifes lainnya tidak akan digunakan.  Bahkan, dalam pengujian saya, saya tidak bisa menerapkan tema warna ketika PWA dibuka di layar. <br><br><h3>  Validasi URL </h3><br>  TWA hanya akan berfungsi setelah jabat tangan domain digital dengan aplikasi tersebut.  Mekanisme ini dikenal sebagai <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan Aset Digital</a> .  Itu membangun hubungan saling percaya antara host Anda dan APK, membuktikan bahwa Anda memiliki PWA dan bahwa Anda tidak akan memposting aplikasi di Play Store yang tidak Anda miliki.  Ini juga membangun saluran digital antara situs dan aplikasi asli, yang secara teoritis dapat memungkinkan mereka untuk bertukar data pribadi (tetapi ini tampaknya tidak mungkin dilakukan dengan API TWA saat ini). <br><br>  Dengan Tautan Aset Digital Anda harus mengunggah file <i>&lt;domain-Anda&gt; /.well-known/assetlinks.json</i> ke domain Anda.  File JSON ini berisi informasi tentang paket Android (misalnya, pengenal paket) dan hash sertifikat aplikasi Anda, yang dapat Anda temukan dengan perintah di konsol.  Paket Android akan memiliki dua kali lipat pada URL host.  Ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">validator online</a> untuk memverifikasi bahwa semuanya beres. <br><br>  Jika Anda belum berjabat tangan, TWA tidak akan aktif, dan aplikasi Anda hanya akan menggunakan Tab Kustom Chrome biasa dengan antarmuka Chrome minimal, seolah-olah <i>tampilan: minimal-ui</i> termasuk dalam PWA.  Saya tidak yakin, tapi mungkin Play Store dapat menolak aplikasi yang hanya menunjuk ke tab reguler tanpa validasi TWA.  Saya tidak tahu persis pada titik apa Chrome melakukan verifikasi Digital Asset Link;  jika setiap kali Anda mengakses aplikasi, itu bisa menjadi masalah kinerja.  Saya pikir caching dimungkinkan, dan Play Store dapat melakukan pemeriksaan sebelum menyetujui aplikasi saat diterima ke dalam katalog.  Mari kita lihat apa yang akan ditulis dalam dokumentasi. <br><br>  <b>Ada mekanisme (tidak begitu sederhana) untuk menghindari proses sertifikasi Digital Asset Link untuk tujuan pengembangan, dijelaskan di bawah ini.</b> <br><br><h1>  Publikasikan Aplikasi </h1><br>  Untuk menerbitkan label PWA menggunakan TWA, Anda harus mengikuti semua aturan Play Store.  Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pusat Kebijakan Pengembang untuk</a> informasi lebih lanjut.  Anda juga perlu membuat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">akun penerbit</a> dengan biaya satu kali sebesar $ 25, metadata, tangkapan layar, dan materi pemasaran untuk aplikasi tersebut. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab9/348/32a/ab934832ad79351548be8cd22bfb9026.png"><br><br><h3>  Sebarkan </h3><br>  Ketika Anda menyelesaikan pengembangan di Android Studio dan Anda memiliki akun untuk konsol pengembang, Anda harus membuat APK untuk produksi dan menandatanganinya dengan kunci yang dibuat di Android Studio.  Anda dapat merujuk ke layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penandatanganan Aplikasi oleh Google Play</a> untuk menyederhanakan proses di masa depan. <br><br><h3>  Google Play Console </h3><br>  Tidak ada aturan atau proses spesifik untuk mengunduh aplikasi ini, tetapi departemen Revisi dapat mendeteksi bahwa Anda menggunakan TWA dan memverifikasi bahwa: 1) Tautan Aset Digital berfungsi;  2) URL melewati kriteria PWA (terutama untuk pengambil acara ambil di pekerja layanan). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/365/83a/921/36583a921bd38dda3ce6af9b5103bb0f.png"><br>  <i><font color="gray">Untuk mempublikasikan di Play Store, Anda harus menentukan banyak metadata dan sumber daya grafis.</font></i> <br><br><h3>  Pembaruan aplikasi </h3><br>  Jika Anda mengubah konten, maka Anda tidak perlu mengunduh aplikasi lagi, kecuali jika Anda mengubah aplikasi sepenuhnya (sesuai dengan aturan katalog).  Terus perbarui melalui pekerja layanan dan pembaruan di server.  APK baru hanya perlu diunduh jika Anda ingin mengubah metadata, kode asli atau ikon. <br><br><h1>  Keterbatasan </h1><br>  Sekarang platform memiliki batasan tertentu, tetapi ini baru permulaan.  Semoga mereka akan dihapus dari waktu ke waktu. <br><br><h3>  PWA dalam subfolder </h3><br>  Jika Anda menerbitkan PWA Anda dalam subfolder host, ada beberapa masalah. <br><br><ul><li>  Digital Asset Link menghubungkan seluruh domain, bukan hanya folder. <br></li><li>  Pustaka dukungan saat ini tampaknya menangani seluruh host sebagai Intent (Tautan Penangkapan), bahkan jika PWA berada dalam subfolder. </li></ul><br><h3>  Tidak ada aplikasi internal </h3><br>  Ini adalah batasan dari Play Store itu sendiri (Anda tidak dapat menerbitkan aplikasi untuk jaringan lokal atau aplikasi yang hanya ditujukan untuk Anda dan perusahaan Anda).  Anda dapat menggunakan TWA dan membuat apk yang akan digunakan di luar toko. <br><br>  Tautan Aset Digital hanya berfungsi dengan URL publik karena Chrome perlu memverifikasi bahwa kami memiliki domain, yang tidak mungkin dengan URL internal. <br><br><h3>  Boot pertama </h3><br>  Ketika Anda membuka aplikasi yang baru saja diinstal untuk pertama kalinya, belum ada file aplikasi pada perangkat (Pekerja Layanan belum terdaftar jika pengguna belum membuka PWA sebelumnya), oleh karena itu dalam mode offline pengguna akan melihat layar putih kosong.  Saya pikir dalam versi yang akan datang akan bermanfaat untuk menerapkan semacam pertukaran melalui Chrome setelah menginstal aplikasi.  Jika Anda menggunakan TWA API alih-alih pustaka dukungan, maka Anda akan menemukan situasi ini dan memberi tahu pengguna dengan benar melalui API asli. <br><br><h3>  Memanggil kode asli </h3><br>  Sudah ada saluran dua arah antara server TWA (Chrome) dan klien TWA (APK kami).  Saluran ini saat ini hanya digunakan untuk mengirim pemberitahuan push dan menampilkannya di aplikasi asli, dan bukan di Chrome. <br><br>  Ada beberapa potensi untuk hanya menghubungkan kode asli dan JavaScript, memberikan PWA akses ke kode asli, mirip dengan mekanisme APPX / PWA di Microsoft Store. <br><br>  Mungkin di masa depan akan dimungkinkan untuk mendaftarkan kelas Java / Kotlin di klien TWA, sehingga kita dapat benar-benar memanggil mereka menggunakan JavaScript API ketika PWA kami diberikan dalam mode TWA. <br><br>  Saat ini, satu-satunya cara untuk mengeksekusi kode asli adalah dengan menggunakan Intents untuk membuka tindakan asli lainnya dan kemudian membuka kembali TWA, mengirim dan menerima argumen melalui parameter URI. <br><br>  Selain itu, Anda dapat membuat beberapa jenis server web atau server WebSocket dalam kode asli dan mengirim PWA ke kode tersebut, tetapi ini aneh, rumit dan, mungkin, akan menghabiskan baterai terlalu banyak.  Tapi kami memiliki dunia peluang yang sama sekali baru.  Mari kita lihat apa yang muncul dari komunitas! <br><br><h3>  Monetisasi dari Play Store </h3><br>  Jika Anda memiliki aplikasi berbayar, maka Anda tidak dapat dengan mudah memverifikasi bahwa pengguna benar-benar membayar untuk itu (setelah semua, kontennya hanyalah sebuah URL).  Selain itu, jika Anda ingin menjual sumber daya digital atau langganan menggunakan dompet Play Store, sulit untuk menerapkan skema seperti itu tanpa jembatan yang sebenarnya dengan kode asli. <br><br><h3>  Debugging </h3><br>  Saya tidak yakin apakah ini bug atau masalah dengan IDE saya, tetapi debugging jarak jauh pekerja layanan dari TWA tidak berfungsi.  Saya dapat memeriksa konteks jendela, tetapi bukan pekerja layanan. <br><br><h3>  Mesin lainnya </h3><br>  TWA saat ini hanya berfungsi di Chrome, tetapi di masa depan, browser lain dapat mengkloning API: misalnya, Samsung Internet, Edge atau Firefox. <br><br>  <b>Pembaruan 4 Februari</b> : TWA berjalan pada protokol Tab Kustom Android, yang sedang diterapkan browser lain.  Oleh karena itu, jika browser default lain diinstal pada sistem, ia dapat membuka TWA dengan isi PWA.  Namun, pengujian tambahan diperlukan untuk memahami cara kerjanya. <br><br>  Apa yang terjadi jika pengguna memiliki versi Chrome yang lebih lama dan menginstal aplikasi dari Play Store?  Dalam hal ini, PWA akan muncul sebagai tab Chrome khusus, dan tidak dalam mode offline sepenuhnya. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c6/a0e/7e4/7c6a0e7e4cfb1be1f72cd71a30a45b7c.png"><br>  <i><font color="gray">Google Maps Go di Play Store sudah menggunakan sesuatu yang mirip dengan TWA, dan Chrome terdaftar sebagai prasyarat untuk bekerja</font></i> <br><br>  Apa yang terjadi jika pengguna sama sekali tidak memiliki Chrome?  Sampai saat ini, ketika menggunakan perpustakaan dukungan, aplikasi tidak akan berfungsi sama sekali (jika tidak ada browser lain dengan dukungan untuk protokol Tab Kustom).  Jika Anda menggunakan TWA API dalam kode Java / Kotlin asli, Anda dapat memeriksa ketersediaan browser dan mengunduh solusi alternatif, seperti WebView, atau membuka browser. <br><br>  Meskipun perangkat Android tanpa Chrome jarang, pada beberapa itu tidak diinstal secara default, termasuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pada semua perangkat baru di Eropa</a> . <br><br><h3>  Platform lainnya </h3><br>  PWA tidak bekerja pada OS yang dapat dipakai (jam), tapi saya tidak yakin apa yang terjadi pada platform Android lainnya.  Mungkin belum ada dukungan, tapi coba lihat ini.  Saya berbicara tentang TV Android atau Chromebook dari Play Store.  Jika Anda belum menguji platform ini, masuk akal untuk menonaktifkannya dalam daftar direktori. <br><br><h3>  Konflik dengan WebAPK </h3><br>  Jika Anda menginstal PWA dari Chrome, maka Anda sudah memiliki APK untuk URL ini yang ditandatangani oleh Play Store, tetapi direktori tersebut akan tetap meninggalkan aplikasi dalam daftar dan memungkinkan pengguna untuk menginstalnya juga.  Dan sebaliknya: menginstal aplikasi dari direktori tidak akan mencegah Chrome dari meminta pengguna untuk "menambahkan" dari browser.  Saya pikir ini dapat dihindari jika WebAPK juga menerima Digital Asset Link atau kita dapat mencocokkan pengidentifikasi aplikasi WebAPK, tetapi ini tidak mungkin terjadi dalam waktu dekat.  Ayo lihat. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c1/1fe/3a2/9c11fe3a28681544babba34025589479.png"></div><br>  <i><font color="gray">Dua aplikasi Starbucks berjalan secara bersamaan: WebAPK dan APK kami sendiri</font></i> <br><br>  Anda dapat memblokir tawaran Chrome untuk menginstal WebAPK dan alih-alih menunjukkan aplikasi Anda dari direktori menggunakan atribut <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">related_applications</a></i> dan atribut <i>prefer_related_applications</i> dari manifes aplikasi web.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">API Aplikasi Terkait Terkait yang Dipasang</a> dapat membantu menyelesaikan konflik ini di masa mendatang. <br><br><h1>  Membuat PWApk pertama </h1><br>  Saya tahu saya baru saja menemukan kata PWApk, tapi itu kedengarannya bagus, bukan? <br><br>  Beberapa tahun yang lalu, saya melakukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kursus video tentang aplikasi web Android asli</a> .  Meskipun ini tidak sepenuhnya benar dari PWA, ada baiknya untuk memahami ekosistem Android. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/737/af5/77f/737af577f5decf195a80d62670f783f2.png"></div><br>  <i><font color="gray">Cara termudah untuk membuat APK berbasis TWA adalah dengan mengkloning sampel repositori SVGOMG dari repositori ChromeLabs di GitHub</font></i> <br><br>  Anda dapat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengkloning repositori git</a> atau memulai proyek baru.  Dalam kasus kami, kami memulai proyek baru hanya untuk lebih memahami topik. <br><br>  Buat proyek baru di Android Studio dan pilih <i>Tanpa Aktivitas</i> : kami hanya akan menggunakan Aktivitas Web Tepercaya dari perpustakaan dukungan. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f3/ed6/3a6/5f3ed63a6ff8edc7a331955cfc85bd9e.png"><br>  <i><font color="gray">Mari kita mulai dengan proyek kosong</font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isi data, pilih nama proyek (kami akan mengubahnya nanti) dan nama paket: ini akan menjadi pengidentifikasi aplikasi kami di Android, serta dalam katalog. Saya sarankan menggunakan nama host dalam urutan terbalik dan nama arbitrer di akhir. Misalnya, jika Anda memiliki host </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mypwa.com/calculator</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , maka paketnya bisa disebut </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.mypwa.calculator</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebagai basis, API 19 (Android 4.4) cocok. Tampaknya segera itu akan menjadi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi minimum yang diperlukan untuk Chrome</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Beberapa fungsi TWA hanya akan berfungsi dengan API 23 (Android 6.0), tetapi pustaka dukungan akan menangani hal ini. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaruan 5 Februari</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Chrome secara resmi mengumumkan bahwa TWA hanya berfungsi dengan Android 4.4 KitKat. </font><font style="vertical-align: inherit;">Dengan demikian, fungsi ini tidak tersedia untuk sekitar 5% dari pengguna Android aktif: mereka akan digulir kembali ke versi dengan tab dan bilah alamat khusus. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d3/66a/8fb/2d366a8fbf19b050af01bc9e35ed5093.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memilih tingkat API minimum akan membatasi daftar perangkat yang PWA akan ditawarkan di direktori Play Store</font></font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tambahkan ketergantungan </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Langkah selanjutnya adalah menambahkan pustaka dukungan TWA sebagai dependensi, jadi buka dua file bernama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">build.gradle</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/5fa/f6c/f11/5faf6cf11d05e2df8ed6c8eab783a8c4.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dua file konfigurasi: untuk proyek dan untuk aplikasi Android.</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mari kita mulai dengan file proyek. </font><font style="vertical-align: inherit;">Tambahkan </font><font style="vertical-align: inherit;">baris berikut </font><font style="vertical-align: inherit;">ke semua </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proyek&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bagian </font><i><font style="vertical-align: inherit;">repositori</font></i><font style="vertical-align: inherit;"> :</font></font><br><br><pre><code class="java hljs">maven { url <span class="hljs-string"><span class="hljs-string">"https://jitpack.io"</span></span> }</code> </pre> <br>  Pada langkah selanjutnya, kita buka module <i>build.gradle</i> dan tambahkan tergantung: <br><br><pre> <code class="java hljs">implementation <span class="hljs-string"><span class="hljs-string">'com.github.GoogleChrome:custom-tabs-client:e446d08014'</span></span></code> </pre> <br><h3>  Pengaturan TWA </h3><br>  Langkah selanjutnya adalah mengatur parameter PWA untuk Aktivitas Web Tepercaya dalam file modul, tambahkan bagian <i>defaultConfig</i> : <br><br><pre> <code class="java hljs">manifestPlaceholders = [ hostName: <span class="hljs-string"><span class="hljs-string">"app.starbucks.com"</span></span>, defaultUrl: <span class="hljs-string"><span class="hljs-string">"https://app.starbucks.com"</span></span>, launcherName: <span class="hljs-string"><span class="hljs-string">"Starbucks"</span></span>, assetStatements: <span class="hljs-string"><span class="hljs-string">'[{ "relation": ["delegate_permission/common.handle_all_urls"], '</span></span> + <span class="hljs-string"><span class="hljs-string">'"target": {"namespace": "web", "site": "https://app.starbucks.com"}}]'</span></span> ]</code> </pre> <br>  Di sini, sebagai contoh, saya akan menggunakan Starbucks PWA.  Informasi dari proses Digital Asset Link akan dibutuhkan oleh kunci assetStatements.  Kami akan melewati bagian ini untuk saat ini.  Properti yang disebut <i>launcherName</i> harus cocok dengan <i>short_name</i> dalam manifes aplikasi web. <br><br><h3>  Pengaturan manifes </h3><br>  Aplikasi Android memiliki manifes sendiri, mereka tidak akan menerima manifes aplikasi web.  File yang diinginkan terletak di bagian <i>manifes aplikasi&gt;</i> dan disebut AndroidManifest.xml.  Di sana Anda akan menemukan elemen XML Aplikasi yang menutup sendiri. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/65d/486/38c/65d48638cd9d76411f8fc935d6e3fff4.png"><br>  <i><font color="gray">File manifes Android default</font></i> <br><br>  Di sana kami mengubah nilai android: label menjadi <b>$ {launcherName}</b> , yang kami atur sebelumnya dalam metadata, sehingga kami akan memiliki satu-satunya sumber kebenaran untuk nama aplikasi tersebut. <br><br>  Langkah selanjutnya adalah mengonfigurasi file ini, dimulai dengan tag &lt;aplikasi&gt;, untuk menambahkan elemen turunan ke dalamnya, yang akan terlihat seperti ini: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"asset_statements"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${assetStatements}"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.support.customtabs.trusted.LauncherActivity"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${launcherName}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.support.customtabs.trusted.DEFAULT_URL"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${defaultUrl}"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.action.MAIN"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.category.LAUNCHER"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">action</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.action.VIEW"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.category.DEFAULT"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.intent.category.BROWSABLE"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:scheme</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:host</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${hostName}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">intent-filter</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">activity</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Kode di bawah ini akan mengonfigurasi TWA menggunakan perpustakaan dukungan dan Filter Intent sehingga aplikasi menerima tautan ke PWA dan Tautan Aset Digital.  Saya akan melewatkan detail tentang apa yang terjadi dalam hal aplikasi Android. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5b0/45f/bd2/5b045fbd2c03c263490b96905f79aac6.png"><br>  <i><font color="gray">Sudah waktunya untuk menyinkronkan</font></i> <br><br>  Pada titik ini, Anda perlu memerintahkan Android Studio untuk menerima semua perubahan Anda dengan mengklik <i>Sinkronkan Sekarang</i> .  Jika semuanya dilakukan dengan benar, maka tidak ada kesalahan akan muncul. <br><br><h3>  Penggantian ikon </h3><br>  Saat ini, aplikasi hanya menggunakan ikon Android default, jadi Anda perlu mengganti semua file di <i>app&gt; res&gt; mipmap</i> di subfolder yang berbeda untuk kepadatan piksel yang berbeda.  Ada dua versi: ikon persegi dan bulat.  Rounded muncul di Android 7.1, dan jika Anda ingin mengabaikannya, hapus tautan <i>android: roundIcon</i> di AndroidManifest.xml. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/626/7c7/baf/6267c7bafb790307f16bf2c0bb8a037a.png"><br>  <i><font color="gray">Anda perlu mengambil ikon dari manifes dan menyalinnya ke subfolder mipmap dengan nama yang sesuai</font></i> <br><br><h3>  Pengaturan tema </h3><br>  Terakhir, buka <i>aplikasi / res / values â€‹â€‹/ styles.xml</i> dan buat beberapa perubahan pada tema sehingga terlihat seperti PWA: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AppTheme"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Theme.AppCompat.Light.NoActionBar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="xml"><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimary"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorPrimary</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorPrimaryDark"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorPrimaryDark</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"colorAccent"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">@color/colorAccent</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:windowNoTitle"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">true</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"android:backgroundDimEnabled"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">false</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">item</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Anda dapat mengubah warna dari <i>app / res / values â€‹â€‹/ colors.xml</i> , tapi saya belum melihat ini berfungsi di TWA. <br><br>  Jika Anda membatasi orientasi dalam manifes, Anda dapat menambahkan batasan ini ke elemen &lt;activity&gt; di AndroidManifest.xml. <br><br><h1>  Siap untuk diuji? </h1><br>  Kami siap menguji PWApk kami, tetapi sebelum itu kami perlu mengonfigurasi mode pengembangan TWA untuk Chrome di perangkat uji Android atau di emulator (dengan Chrome 72+). <br><br><h3>  Penyiapan Chrome </h3><br>  Pastikan Anda memiliki Chrome stable versi 72 dan buka <i>chrome: // flags</i> .  Temukan opsi <i>Aktifkan baris perintah pada perangkat yang tidak di-rooting</i> dan <i>centang kotak</i> .  Mulai ulang browser Anda. <br><br>  Maka kita perlu mengonfigurasi Chrome untuk memintas Tautan Aset Digital untuk host yang ingin kita uji, dalam contoh kita ini adalah <b>app.starbucks.com</b> . <br><br>  Untuk mengubah opsi baris perintah untuk Chrome untuk Android, Anda perlu menulis file teks ke sistem file Android.  Cara termudah untuk melakukan ini adalah melalui <b>adb</b> (jembatan debug android), yang harus terdaftar di jalur (google, jika itu), dan jalankan perintah: <br><br><pre> <code class="bash hljs">adb shell cat /data/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/tmp/chrome-command-line _ - <span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>-digital-asset-link-verification-for-url=<span class="hljs-string"><span class="hljs-string">"https://app.starbucks.com"</span></span></code> </pre> <br>  Anda dapat menggunakan <a href="">skrip bash sederhana</a> dari Google. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb1/285/bec/bb1285becd4651597032df751d86abcf.png"><br>  <i><font color="gray">Anda harus menghentikan Chrome agar menerima pengaturan baru saat startup</font></i> <br><br>  Dan mulai ulang Chrome.  Tetapi tidak hanya menghapus aplikasi dari daftar tugas, tetapi dari kekuatan pengaturan untuk menyelesaikan seluruh proses (Force Stop).  Saya harus melakukan ini beberapa kali sebelum berhasil. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/590/e38/84b/590e3884b2f60cb751eb746eb24e69f1.png"><br>  <i><font color="gray">Peringatan bahwa bendera menyala dan semuanya berjalan dengan baik</font></i> <br><br>  Jika semuanya selesai, maka setiap kali Anda membuka Chrome Anda akan melihat peringatan tentang bendera yang tidak didukung.  Jika Anda menjalankan aplikasi dari Android Studio, PWA Anda akhirnya akan mulai dan bekerja secara offline di bawah ikon dan nama APK Anda. <br><br><h1>  Kesimpulan </h1><br>  Kemampuan untuk menerbitkan PWA di direktori Google Play benar-benar mengubah aturan permainan.  Tampaknya sekarang kami memiliki versi API yang sangat awal dan pasti perlu beberapa pekerjaan.  Saya benar-benar ingin dapat memasukkan URL PWA kami dan mendapatkan file APK darinya.  Ini tidak terlalu sederhana karena sistem verifikasi Digital Asset Link.  Hanya Play Store yang dapat melakukan ini menggunakan WebAPK yang sama yang mereka hasilkan. <br><br>  Saya dulu bertanya-tanya apakah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Google menyetujui aplikasi PWA atau mengobarkan perang terhadap mereka</a> .  Tapi sekarang mereka telah menghilangkan kecurigaan mereka, setidaknya berkaitan dengan TWA. <br><br>  Mari berharap TWA di Chrome 72 adalah langkah pertama dalam perjalanan panjang! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439238/">https://habr.com/ru/post/id439238/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439224/index.html">Lagi tentang diagram Voronoi</a></li>
<li><a href="../id439226/index.html">Scala + MXNet = Microservice dengan neuron in prod</a></li>
<li><a href="../id439232/index.html">JAMstack: Cara membuat blog Anda sendiri menggunakan Gatsby + Contentful + Netlify</a></li>
<li><a href="../id439234/index.html">Kehidupan pengembang Open Source di GIF</a></li>
<li><a href="../id439236/index.html">xenvman: Lingkungan pengujian microservice fleksibel (dan banyak lagi)</a></li>
<li><a href="../id439240/index.html">Joomla Digest untuk Januari 2019</a></li>
<li><a href="../id439242/index.html">Sekitar Beta dalam 260 Hari: Bagaimana Kami Belajar Mendengarkan Pengguna</a></li>
<li><a href="../id439244/index.html">FAS sangat merekomendasikan pra-instal perangkat lunak Rusia pada telepon pintar dan laptop yang dijual di Federasi Rusia</a></li>
<li><a href="../id439248/index.html">Alan Kay: "Bisakah bangsa Romawi kuno membangun komputer?"</a></li>
<li><a href="../id439252/index.html">6 alasan untuk mengembangkan karir TI di Armenia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>