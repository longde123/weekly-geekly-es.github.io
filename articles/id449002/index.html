<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📽️ 👨🏽‍🎤 🔍 Verifikasi formal pada contoh masalah serigala, kambing dan kubis 🔼 🧑🏾 ☺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Menurut pendapat saya, di sektor Internet berbahasa Rusia, topik verifikasi formal tidak cukup dibahas, dan khususnya contoh-contoh sederhana dan jela...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verifikasi formal pada contoh masalah serigala, kambing dan kubis</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449002/"> Menurut pendapat saya, di sektor Internet berbahasa Rusia, topik verifikasi formal tidak cukup dibahas, dan khususnya contoh-contoh sederhana dan jelas masih kurang. <br><br>  Saya akan memberikan contoh seperti itu dari sumber asing, dan menambahkan solusi saya sendiri untuk masalah transportasi serigala, kambing, dan kol yang terkenal ke sisi lain sungai. <br><br>  Tetapi pertama-tama, saya akan menjelaskan secara singkat apa itu verifikasi formal dan mengapa diperlukan. <br><br>  Verifikasi formal biasanya berarti memeriksa satu program atau algoritma menggunakan yang lain. <br><br>  Ini diperlukan untuk memastikan bahwa perilaku program seperti yang diharapkan, dan juga untuk memastikan keamanannya. <br><br>  Verifikasi formal adalah alat paling ampuh untuk menemukan dan menghilangkan kerentanan: memungkinkan Anda menemukan semua lubang dan bug yang ada dalam program, atau untuk membuktikan bahwa mereka tidak ada. <br>  Perlu dicatat bahwa dalam beberapa kasus ini tidak mungkin, seperti dalam masalah 8 ratu dengan lebar papan 1000 sel: semuanya tergantung pada kompleksitas algoritmik atau masalah penghentian. <br><br>  Namun, dalam hal apa pun, salah satu dari tiga jawaban akan diterima: programnya benar, salah, atau jawabannya tidak dapat dihitung. <br><br>  Jika tidak mungkin menemukan jawaban, sering kali mungkin untuk memproses tempat yang tidak jelas dalam program, mengurangi kompleksitas algoritme mereka untuk mendapatkan jawaban yang spesifik, ya atau tidak. <br><br>  Dan verifikasi formal digunakan, misalnya, dalam sistem operasi Windows kernel dan Darpa drone, untuk memberikan tingkat perlindungan maksimum. <br><br>  Kami akan menggunakan Z3Prover, alat yang sangat kuat untuk pembuktian teorema dan penyelesaian persamaan secara otomatis. <br><br>  Selain itu, Z3 memecahkan persamaan dengan tepat, dan tidak memilih nilainya dengan gaya kasar. <br>  Ini berarti bahwa ia dapat menemukan jawabannya, bahkan dalam kasus di mana kombinasi opsi input dan 10 ^ 100. <br><br>  Tapi ini hanya sekitar selusin argumen input tipe Integer, dan ini sering ditemukan dalam praktik. <br><br>  Masalah 8 ratu (Diambil dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">manual</a> Bahasa Inggris). <br><br><img src="https://habrastorage.org/webt/n-/tp/51/n-tp51sjhdqfs0nk9a571pttkbk.png"><br><a name="habracut"></a><br><pre><code class="plaintext hljs"># We know each queen must be in a different row. # So, we represent each queen by a single integer: the column position Q = [ Int('Q_%i' % (i + 1)) for i in range(8) ] # Each queen is in a column {1, ... 8 } val_c = [ And(1 &lt;= Q[i], Q[i] &lt;= 8) for i in range(8) ] # At most one queen per column col_c = [ Distinct(Q) ] # Diagonal constraint diag_c = [ If(i == j, True, And(Q[i] - Q[j] != i - j, Q[i] - Q[j] != j - i)) for i in range(8) for j in range(i) ] solve(val_c + col_c + diag_c)</code> </pre> <br>  Menjalankan Z3, kami mendapatkan solusinya: <br><pre> <code class="plaintext hljs">[Q_5 = 1, Q_8 = 7, Q_3 = 8, Q_2 = 2, Q_6 = 3, Q_4 = 6, Q_7 = 5, Q_1 = 4]</code> </pre><br>  Masalah ratu sebanding dengan program yang mengambil dalam koordinat 8 ratu dan menampilkan jawabannya jika ratu saling mengalahkan. <br><br>  Jika kita menyelesaikan program seperti itu menggunakan verifikasi formal, kemudian dibandingkan dengan tugas, kita hanya perlu mengambil langkah lain dalam bentuk mengubah kode program menjadi persamaan: itu pada dasarnya akan menjadi identik dengan kita (tentu saja, jika program itu ditulis dengan benar). <br><br>  Hampir hal yang sama akan terjadi ketika mencari kerentanan: kita hanya mengatur kondisi keluaran yang kita butuhkan, misalnya, kata sandi admin, mengubah sumber atau kode yang diurai menjadi persamaan yang kompatibel dengan verifikasi, dan kemudian kita mendapatkan jawaban data apa yang perlu input untuk mencapai tujuan. <br><br>  Menurut pendapat saya, masalah serigala, kambing dan kubis bahkan lebih menarik, karena banyak (7) langkah sudah diperlukan untuk menyelesaikannya. <br><br>  Jika tugas ratu sebanding dengan opsi ketika Anda dapat menembus server menggunakan satu permintaan GET atau POST, maka serigala, kambing dan kubis menunjukkan contoh dari kategori yang jauh lebih kompleks dan tersebar luas di mana hanya beberapa permintaan yang dapat dicapai. <br><br>  Ini sebanding, misalnya, dengan skenario di mana Anda perlu menemukan injeksi SQL, menulis file melalui itu, kemudian meningkatkan hak-hak Anda dan hanya kemudian mendapatkan kata sandi. <br><br><div class="spoiler">  <b class="spoiler_title">Kondisi masalah dan solusinya</b> <div class="spoiler_text">  Petani perlu mengangkut serigala, kambing, dan kubis di seberang sungai.  Petani memiliki perahu di mana hanya satu benda yang bisa muat, kecuali petani sendiri.  Serigala akan memakan kambing, dan kambing akan memakan kubis jika petani membiarkannya tanpa pengawasan. <br><br>  Solusinya adalah pada langkah 4, peternak harus mengambil kambing kembali. </div></div><br>  Sekarang mari kita mulai solusinya secara terprogram. <br><br>  Kami menunjuk petani, serigala, kambing dan kubis sebagai 4 variabel, yang mengambil nilai hanya 0 atau 1. Nol berarti bahwa mereka berada di tepi kiri, dan satu berarti di kanan. <br><br><pre> <code class="plaintext hljs">import json from z3 import * s = Solver() Num= 8 Human = [ Int('Human_%i' % (i + 1)) for i in range(Num) ] Wolf = [ Int('Wolf_%i' % (i + 1)) for i in range(Num) ] Goat = [ Int('Goat_%i' % (i + 1)) for i in range(Num) ] Cabbage = [ Int('Cabbage_%i' % (i + 1)) for i in range(Num) ] # Each creature can be only on left (0) or right side (1) on every state HumanSide = [ Or(Human[i] == 0, Human[i] == 1) for i in range(Num) ] WolfSide = [ Or(Wolf[i] == 0, Wolf[i] == 1) for i in range(Num) ] GoatSide = [ Or(Goat[i] == 0, Goat[i] == 1) for i in range(Num) ] CabbageSide = [ Or(Cabbage[i] == 0, Cabbage[i] == 1) for i in range(Num) ] Side = HumanSide+WolfSide+GoatSide+CabbageSide</code> </pre><br>  Jumlah adalah jumlah langkah yang perlu dipecahkan.  Setiap langkah adalah keadaan sungai, kapal, dan semua entitas. <br><br>  Untuk saat ini, pilih secara acak dan dengan margin, ambil 10. <br><br>  Setiap entitas direpresentasikan dalam 10 salinan - ini nilainya pada masing-masing 10 langkah. <br><br>  Sekarang kita mengatur kondisi untuk memulai dan menyelesaikan. <br><br><pre> <code class="plaintext hljs">Start = [ Human[0] == 0, Wolf[0] == 0, Goat[0] == 0, Cabbage[0] == 0 ] Finish = [ Human[9] == 1, Wolf[9] == 1, Goat[9] == 1, Cabbage[9] == 1 ]</code> </pre><br>  Kemudian kita mengatur kondisi di mana serigala makan kambing, atau kubis kambing, sebagai batasan dalam persamaan. <br>  (Di hadapan petani, agresi tidak dimungkinkan) <br><br><pre> <code class="plaintext hljs"># Wolf cant stand with goat, and goat with cabbage without human. Not 2, not 0 which means that they are one the same side Safe = [ And( Or(Wolf[i] != Goat[i], Wolf[i] == Human[i]), Or(Goat[i] != Cabbage[i], Goat[i] == Human[i])) for i in range(Num) ]</code> </pre><br>  Dan akhirnya, kami menanyakan semua tindakan yang mungkin dilakukan petani saat pindah ke sana atau kembali. <br>  Dia bisa membawa serigala, kambing atau kubis bersamanya, atau tidak membawa siapa pun, atau bahkan tidak pergi ke mana pun. <br><br>  Tentu saja, tidak ada yang bisa menyeberang tanpa petani. <br><br>  Ini akan diekspresikan oleh fakta bahwa setiap keadaan sungai, kapal, dan entitas berikutnya dapat berbeda dari yang sebelumnya hanya dengan cara yang sangat terbatas. <br><br>  Tidak lebih dari 2 bit, dan dengan banyak batasan lain, karena petani hanya dapat mengangkut satu entitas pada satu waktu dan tidak semua dapat dibiarkan bersama. <br><br><pre> <code class="plaintext hljs">Travel = [ Or( And(Human[i] == Human[i+1] + 1, Wolf[i] == Wolf[i+1] + 1, Goat[i] == Goat[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] + 1, Goat[i] == Goat[i+1] + 1, Wolf[i] == Wolf[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] + 1, Cabbage[i] == Cabbage[i+1] + 1, Wolf[i] == Wolf[i+1], Goat[i] == Goat[i+1]), And(Human[i] == Human[i+1] - 1, Wolf[i] == Wolf[i+1] - 1, Goat[i] == Goat[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] - 1, Goat[i] == Goat[i+1] - 1, Wolf[i] == Wolf[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] - 1, Cabbage[i] == Cabbage[i+1] - 1, Wolf[i] == Wolf[i+1], Goat[i] == Goat[i+1]), And(Wolf[i] == Wolf[i+1], Goat[i] == Goat[i+1], Cabbage[i] == Cabbage[i+1])) for i in range(Num-1) ]</code> </pre><br>  Jalankan solusinya. <br><br><pre> <code class="plaintext hljs">solve(Side + Start + Finish + Safe + Travel)</code> </pre><br>  Dan kami mendapatkan jawabannya! <br><br>  Z3 menemukan serangkaian kondisi yang konsisten dan memuaskan. <br>  Semacam pemeran ruang-waktu empat dimensi. <br><br>  Mari kita lihat apa yang terjadi. <br><br>  Kami melihat bahwa pada akhirnya semua orang menyeberang, hanya pada awalnya petani kami memutuskan untuk bersantai, dan tidak berenang di mana pun dalam 2 langkah pertama. <br><br><pre> <code class="plaintext hljs">Human_2 = 0 Human_3 = 0</code> </pre><br>  Ini menunjukkan bahwa jumlah negara yang telah kita pilih berlebihan, dan 8 akan cukup. <br><br>  Dalam kasus kami, petani melakukan ini: mulai, istirahat, istirahat, menyeberangi kambing, menyeberang kembali, menyeberangi kubis, kembali dengan kambing, melintasi serigala, kembali sendirian, mengantarkan kembali kambing. <br><br>  Namun pada akhirnya, masalahnya terpecahkan. <br><br><pre> <code class="plaintext hljs">#. Human_1 = 0 Wolf_1 = 0 Goat_1 = 0 Cabbage_1 = 0 # . Human_2 = 0 Wolf_2 = 0 Goat_2 = 0 Cabbage_2 = 0 # . Human_3 = 0 Wolf_3 = 0 Goat_3 = 0 Cabbage_3 = 0 #     . Human_4 = 1 Wolf_4 = 0 Goat_4 = 1 Cabbage_4 = 0 # . Human_5 = 0 Wolf_5 = 0 Goat_5 = 1 Cabbage_5 = 0 #     . Human_6 = 1 Wolf_6 = 0 Cabbage_6 = 1 Goat_6 = 1 #  :    . Human_7 = 0 Wolf_7 = 0 Goat_7 = 0 Cabbage_7 = 1 #     ,       . Human_8 = 1 Wolf_8 = 1 Goat_8 = 0 Cabbage_8 = 1 #   . Human_9 = 0 Wolf_9 = 1 Goat_9 = 0 Cabbage_9 = 1 #         . Human_10 = 1 Wolf_10 = 1 Goat_10 = 1 Cabbage_10 = 1</code> </pre><br>  Sekarang mari kita coba untuk mengubah kondisi dan membuktikan bahwa tidak ada solusi. <br><br>  Untuk melakukan ini, kita akan memberkahi serigala kita dengan herbivora, dan dia ingin memakan kol. <br>  Ini dapat dibandingkan dengan kasus di mana tujuan kami adalah untuk melindungi aplikasi dan kami perlu memastikan bahwa tidak ada celah. <br><br><pre> <code class="plaintext hljs"> Safe = [ And( Or(Wolf[i] != Goat[i], Wolf[i] == Human[i]), Or(Goat[i] != Cabbage[i], Goat[i] == Human[i]), Or(Wolf[i] != Cabbage[i], Goat[i] == Human[i])) for i in range(Num) ]</code> </pre><br>  Z3 memberi kami jawaban berikut: <br><br><pre> <code class="plaintext hljs"> no solution</code> </pre><br>  Ini berarti tidak ada solusi. <br><br>  Dengan demikian, secara program kami telah membuktikan ketidakmungkinan melintasi serigala omnivora, tanpa kerugian bagi petani. <br><br>  Jika audiens menemukan topik ini menarik, maka dalam artikel mendatang saya akan memberi tahu Anda cara mengubah program atau fungsi biasa menjadi persamaan yang kompatibel dengan metode formal dan menyelesaikannya, sehingga mengungkapkan semua skenario dan kerentanan yang sah.  Pertama, pada tugas yang sama, tetapi sudah disajikan dalam bentuk program, dan kemudian secara bertahap menyulitkan dan beralih ke contoh yang relevan dari dunia pengembangan perangkat lunak. <br><br>  Artikel berikut siap: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Membuat sistem verifikasi formal dari awal: Kami menulis karakter VM dalam PHP dan Python</a> <br><br>  Di dalamnya, saya beralih dari verifikasi formal tugas ke program, dan menjelaskan <br>  cara mengubahnya menjadi sistem aturan formal secara otomatis. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id449002/">https://habr.com/ru/post/id449002/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id448986/index.html">Rekayasa balik 3D dengan pemindaian 3D</a></li>
<li><a href="../id448988/index.html">Kingston SSD menjadi lebih luas, mempertahankan biaya yang hampir sama - kami memenuhi seri A400-R</a></li>
<li><a href="../id448992/index.html">Hashing serbaguna dan sempurna</a></li>
<li><a href="../id448994/index.html">Apakah sulit untuk memulai jalur perekrut TI?</a></li>
<li><a href="../id448996/index.html">Membuat kebijakan kata sandi di Linux</a></li>
<li><a href="../id449004/index.html">Baru dalam sertifikasi keamanan informasi</a></li>
<li><a href="../id449006/index.html">Kompleksitas tersembunyi dari slot video game</a></li>
<li><a href="../id449008/index.html">Mencatat permintaan HTTP di Spring Boot menggunakan Bobbins</a></li>
<li><a href="../id449012/index.html">Dunia! Buruh! iOS! Hidupkan penawaran selama 1 hari</a></li>
<li><a href="../id449014/index.html">Advance Ethereum DAPP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>