<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¶üèæ ü¶ó ü•ï F-string atau cara membuat kode sedikit lebih cepat dan lebih mudah dibaca ‚ô£Ô∏è üòü üßóüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Python memiliki 3 cara untuk memformat string, dan salah satunya lebih baik daripada yang lain. Tapi jangan maju dulu - format apa yang sedang kita bi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>F-string atau cara membuat kode sedikit lebih cepat dan lebih mudah dibaca</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462179/"><img src="https://habrastorage.org/webt/mq/77/12/mq7712kpaxqkzvpwfsor7b6cjbw.jpeg"><br><br>  Python memiliki 3 cara untuk memformat string, dan salah satunya lebih baik daripada yang lain.  Tapi jangan maju dulu - format apa yang sedang kita bicarakan?  Setiap kali kita ingin menyapa pengguna dengan nama, kita perlu memasukkan string dengan nama dalam string template.  Sebagian besar entri log yang berguna juga mengandung nilai variabel.  Dan ini sebuah contoh: <br><br><pre><code class="python hljs">integer = <span class="hljs-number"><span class="hljs-number">42</span></span> string = <span class="hljs-string"><span class="hljs-string">'FORTY_TWO'</span></span> print(<span class="hljs-string"><span class="hljs-string">'string number %s, or simply %d'</span></span> % (string, integer)) print(<span class="hljs-string"><span class="hljs-string">'string number {}, or simply {}'</span></span>.format(string, integer)) print(<span class="hljs-string"><span class="hljs-string">f'string number </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{string}</span></span></span><span class="hljs-string">, or simply </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{integer}</span></span></span><span class="hljs-string">'</span></span>)</code> </pre> <br>  Metode pertama, memformat dengan operator%, datang dalam Python dari C - ini meniru fungsi printf.  Metode ini adalah yang pertama di python, dan tetap satu-satunya (dibahas dalam artikel) di Python versi 2.5 dan di bawah. <br><br>  Cara kedua adalah metode str.format, yang termasuk dalam kelas string bawaan.  Itu datang dengan Python 3.0, dan porting ke versi 2.6.  Metode ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">direkomendasikan</a> memiliki sintaksis yang lebih kaya. <br><br>  Metode ketiga, f-string, muncul dalam Python versi 3.6.  Sebagaimana dijelaskan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PEP-0498</a> , penciptaan cara baru untuk memformat string dimotivasi oleh kekurangan metode yang ada, yang dicirikan oleh penulis sebagai rawan kesalahan, tidak cukup fleksibel, dan tidak elegan: <br><blockquote>  PEP ini didorong oleh keinginan untuk memiliki cara yang lebih sederhana untuk memformat string dengan Python.  Cara memformat yang ada adalah rawan kesalahan, tidak fleksibel, atau rumit. </blockquote>  Jadi, kami memiliki tiga cara untuk menyelesaikan satu masalah.  Tapi mungkin ini masalah selera dan preferensi pribadi?  Mungkin, tetapi gaya kode Anda (terutama kode dalam proyek dengan sejumlah besar peserta) pasti akan mendapat manfaat dari keseragaman.  Dalam kasus terbaik, Anda harus menggunakan satu metode memformat string, maka akan menjadi lebih mudah untuk membaca kode.  Tetapi metode mana yang harus dipilih?  Dan apakah ada perbedaan dalam kinerja kode? <br><a name="habracut"></a><br>  Mari kita coba menjawab pertanyaan tentang kinerja secara eksperimental: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> timeit setup = <span class="hljs-string"><span class="hljs-string">""" integer = 42 string = 'FORTY_TWO' """</span></span>.strip() percent_stmt =<span class="hljs-string"><span class="hljs-string">"'Number %s or simply %d' % (string, integer)"</span></span> call_stmt = <span class="hljs-string"><span class="hljs-string">"'Number {} or simply {}'.format(string, integer)"</span></span> fstr_stmt = <span class="hljs-string"><span class="hljs-string">"""f'Number {string} or simply {integer}'"""</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">time</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(stmt)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">f"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{timeit.timeit(stmt, setup, number=int(</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1e7</span></span></span></span><span class="hljs-string"><span class="hljs-subst">)):</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">.3</span></span></span></span><span class="hljs-string"><span class="hljs-subst">f}</span></span></span><span class="hljs-string">"</span></span> print(<span class="hljs-string"><span class="hljs-string">f"Timing percent formating: | </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{time(percent_stmt)}</span></span></span><span class="hljs-string">"</span></span>) print(<span class="hljs-string"><span class="hljs-string">f"Timing call formating: | </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{time(call_stmt)}</span></span></span><span class="hljs-string">"</span></span>) print(<span class="hljs-string"><span class="hljs-string">f"Timing f-string formating: | </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{time(fstr_stmt)}</span></span></span><span class="hljs-string">"</span></span>)</code> </pre> <br>  Hasil di MacBook dengan Python 3.7: <br><br><pre> <code class="plaintext hljs">Timing percent formating: | 2.025 Timing call formating: | 2.943 Timing f-string formating: | 1.348</code> </pre> <br>  Perbedaannya signifikan.  Jadi sekarang, jalankan pencarian regex di ".format" dan tulis ulang ratusan ekspresi?  Pada prinsipnya, tugas itu sederhana tetapi memakan waktu.  Ditambah kesempatan untuk membuat kesalahan dan memasukkan bug ke dalam kode yang sebelumnya berfungsi!  Tampaknya ada ruang untuk otomatisasi.  Memang, ada pustaka yang dapat mengonversi sebagian besar ekspresi menjadi f-string: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">flynt</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pyupgrade</a> . <br><br>  Flynt mudah digunakan.  Misalnya, jalankan konversi pada kode sumber flask: <br><br><pre> <code class="plaintext hljs">38f9d3a65222:~ ikkamens$ git clone https://github.com/pallets/flask.git Cloning into 'flask'... ... Resolving deltas: 100% (12203/12203), done. 38f9d3a65222:~ ikkamens$ flynt flask Flynt run has finished. Stats: Execution time: 0.623s Files modified: 18 Expressions transformed: 43 Character count reduction: 241 (0.04%) _-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_. Please run your tests before commiting. Report bugs as github issues at: https://github.com/ikamensh/flynt Thank you for using flynt! Fstringify more projects and recommend it to your colleagues! _-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_._-_. 38f9d3a65222:~ ikkamens$</code> </pre> <br>  Perlu juga dicatat kemungkinan konversi ekspresi yang menempati beberapa baris, dan pengumpulan statistik tentang perubahan yang dilakukan.  Bendera --line_length XX mendefinisikan batas panjang garis setelah konversi.  Flynt memungkinkan Anda untuk memanggil pyupgrade dengan flag --upgrade. <br><br>  Pyupgrade mencakup lebih banyak fungsi, dan dapat membersihkan kode Anda dari banyak artefak Python 2 - seperti mewarisi dari objek, menentukan nama kelas dalam super, dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">banyak lagi</a> .  Pyupgrade dirancang untuk digunakan dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pra-komit</a> , utilitas untuk memodifikasi kode secara otomatis sebelum melakukan. <br><br>  Lebih baik mengonversi sumber dalam gita atau kontrol versi lainnya.  Sebaiknya jalankan tes dan lihat sendiri perubahannya (menggunakan lingkungan git diff atau PyCharm).  Selama kita hidup di antara mereka yang peduli, bahwa kode tersebut telah menjadi beberapa karakter lebih pendek, konversi proaktif juga akan menghemat waktu mereka.  Lagipula, cepat atau lambat seseorang akan mulai melakukan dengan tangan mereka apa yang bisa dijadikan utilitas.  F-string hanya berfungsi pada Python 3.6+, tetapi segera ini tidak akan menjadi masalah karena <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">versi lain akan menjadi usang</a> . <br><br>  Perlu dicatat bahwa metode .format klasik tidak akan berfungsi sepenuhnya.  Jika Anda menggunakan templat yang sama untuk membuat pesan dengan variabel yang berbeda di tempat yang berbeda dalam kode, Anda harus menyimpan templat ini dalam variabel dan menggunakannya - prinsip "Jangan ulangi diri Anda" jauh lebih penting daripada memenangkan nanodetik dari memformat string. <br><br>  Kesimpulan: <br><br>  Kami melihat tiga metode pemformatan string yang tersedia di Python 3.6+, riwayat singkatnya, dan membandingkan kinerjanya.  Kami juga memeriksa alat open-source untuk secara otomatis mengkonversi kode ke metode baru untuk memformat string, dan fungsi tambahannya.  Jangan lupa hal-hal sederhana dalam kode Anda, dan semoga berhasil! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id462179/">https://habr.com/ru/post/id462179/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id462169/index.html">Juli Machine Learning dan Intelijen Berita Buatan Intisari</a></li>
<li><a href="../id462171/index.html">Visualisasi SCADA untuk proyek-proyek IoT [Perpustakaan Gratis]</a></li>
<li><a href="../id462173/index.html">Konferensi. Hasil sementara untuk paruh pertama 2019</a></li>
<li><a href="../id462175/index.html">Kami menangani singkatan dan frasa Latin dalam bahasa Inggris</a></li>
<li><a href="../id462177/index.html">Tur foto Museum Mineralogis dinamai Fersman</a></li>
<li><a href="../id462181/index.html">Aturan untuk komunikasi yang efektif dalam obrolan grup</a></li>
<li><a href="../id462185/index.html">Revolusi telah berakhir. Apakah ada alternatif untuk baterai lithium-ion?</a></li>
<li><a href="../id462189/index.html">Mengetsa data dengan travajs</a></li>
<li><a href="../id462191/index.html">Museum DataArt: A Tour of Italy Utara</a></li>
<li><a href="../id462197/index.html">Kiat tentang cara membebaskan pikiran Anda dan meningkatkan kreativitas Anda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>