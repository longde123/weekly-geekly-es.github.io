<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍋 ⛹️ 😷 Pengujian Kinerja Server Cloud Menggunakan Dwarf Fortress 🤔 📐 🍩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dwarf Fortress adalah gim legendaris yang mensimulasikan dunia fantasi secara detail, dan pemain (dalam salah satu mode) dapat membangun dan mengelola...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pengujian Kinerja Server Cloud Menggunakan Dwarf Fortress</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401485/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dwarf Fortress</a> adalah gim legendaris yang mensimulasikan dunia fantasi secara detail, dan pemain (dalam salah satu mode) dapat membangun dan mengelola penyelesaian (benteng) gnome (kurcaci).  Sudah cukup banyak yang ditulis tentang permainan, jadi saya tidak akan menjelaskan lebih lanjut.  Adalah penting bahwa karena ukuran besar dunia game dan detail simulasi yang tinggi, game ini cukup menuntut sumber daya - baik prosesor dan memori / cache.  Permainan ini mendukung ketiga sistem operasi utama. <br><br>  Ada proyek DFHack untuk gim, yang bergerak dalam rekayasa balik struktur data gim dan memungkinkan Anda membuat plugin dan skrip di C ++, Lua atau Ruby. <br><br>  Saya adalah penulis aplikasi dan kode server yang menyertainya yang sepenuhnya mengimplementasikan antarmuka pengguna game pada perangkat iOS.  Artinya, pengguna menempatkan game asli, plug-in dan aplikasi, dan dapat bermain dari jarak jauh dari perangkat seluler dengan segala fasilitasnya. <br><br>  Server dapat diinstal di rumah dan disewa dari salah satu penyedia cloud.  Dan lahirlah gagasan penelitian ini - pertama, untuk mengetahui layanan cloud mana yang lebih cocok dan dapat direkomendasikan kepada pengguna, dan kedua, benar-benar membandingkan kinerja server menggunakan sesuatu yang berbeda dari server web dan utilitas khusus . <br><a name="habracut"></a><br>  Untuk pengujian, versi Dwarf Fortress / DFHack 0.43.03-r1 digunakan.  Saya memiliki gambar publik untuk Docker, termasuk gim itu sendiri dan versi minimum DFHack (serta kode server itu sendiri untuk gim jarak jauh, tetapi dalam kasus ini tidak digunakan).  Sebuah skrip ditulis dalam Lua untuk menjalankan tes dan mengirimkan hasilnya ke server web.  Juga untuk otomatisasi, skrip berikut digunakan, ditentukan dalam data pengguna saat mengkonfigurasi server.  Artinya, Anda hanya perlu membuat server, tunggu sampai hasilnya tiba dan hapus. <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash fallocate -l 4G /swp ; chmod 600 /swp ; mkswap /swp ; swapon /swp ; echo '/swp none swap sw 0 0' &gt;&gt;/etc/fstab apt-get update apt-get install -fy docker.io apt install unzip wget https://github.com/mifki/dfremote-cloud-benchmark/raw/master/benchmark.lua wget http://mifki.com/a/t/gloveloved.zip unzip gloveloved.zip -d save/ docker run --name=df -dt -v $PWD/save:/df_linux/data/save -v $PWD/benchmark.lua:/df_linux/hack/scripts/benchmark.lua mifki/dfremote sleep 5 docker exec df /df_linux/dfhack-run benchmark server_name</span></span></code> </pre> <br>  Penyedia berikut diuji: Digital Ocean, Amazon Lightsail, Amazon EC2, Vultr, Linode, Google Compute Engine, dan Macbook Pro Akhir 2013 2Ghz Core i7. <br><br>  Jika layanan cloud mendukung pembuatan server dengan Docker dalam satu klik, maka fitur ini digunakan, jika tidak, maka versi Ubuntu 16.04 dipilih.  Dengan demikian, hanya Vultr yang tidak menggunakan Ubuntu, tetapi CentOS 7. Untuk server dengan memori lebih dari 2GB, file swap tidak digunakan.  Untuk Google Compute Engine mikro dan kecil, drive SSD dipilih. <br><br>  Opsi server termurah dipilih, pertama, karena lebih menarik bagi mereka yang akan menggunakannya untuk permainan, dan kedua, karena Dwarf Fortress masih menggunakan hanya satu inti prosesor untuk simulasi dan (dalam versi yang ditentukan) Aplikasi 32 bit. <br><br><h3>  Tes </h3><br>  Proses bermain Dwarf Fortress terdiri dari dua bagian - generasi dunia dan cerita awal, di mana Anda dapat menentukan ukuran dunia dan panjang cerita (dan parameter lainnya), dan proses permainan itu sendiri.  Secara konsisten, tanpa memulai ulang game, tes berikut dilakukan: <br><br><ol><li>  Menghasilkan dunia dengan ukuran yang sangat kecil dengan sejarah yang sangat panjang. </li><li>  Menghasilkan dunia ukuran besar dengan sejarah singkat. </li><li>  Gameplay.  Digunakan salah satu dari "grup" (ketika banyak orang bermain pada gilirannya) menyimpan - glovedloved (Anethadefíni, 254).  Pilihannya tidak begitu penting, selama ada benteng yang cukup besar, dan tidak ada yang secara otomatis menghentikan permainan tidak terjadi selama tes, yang berlangsung selama 20 hari dalam game. </li></ol><br>  Tes terakhir adalah yang paling penting, pertama, karena itu adalah gameplay itu sendiri, yang mana semuanya terjadi, dan kedua, itu kurang dipengaruhi oleh kebetulan daripada generasi dunia (di mana peradaban, pemukiman, lanskap, peristiwa dan sebagainya). <br><br><h3>  Hasil </h3><br>  Inilah jadwalnya.  Waktu eksekusi dalam detik, masing-masing, lebih sedikit lebih baik.  Harga bulanan dalam dolar AS. <br><br><img src="https://habrastorage.org/files/d87/d72/2de/d87d722deebd43f48670376da89c58f7.png" alt="gambar"><br><br>  Penyebaran yang tidak wajar dalam hasil tes pertama segera terlihat, saya tidak tahu persis apa yang terhubung dengan ini.  Saya percaya, sebagian dengan caching, sebagian dengan kinerja yang buruk dari server yang baru dibuat karena beberapa alasan.  Oleh karena itu, hasil diurutkan berdasarkan tes terakhir, yang, seperti disebutkan, adalah yang paling penting.  Tes kedua juga umumnya berkorelasi dengan hasil tes ketiga. <br><br>  Terlepas dari tempat pertama yang diharapkan pada server EC2 c4.large, yang terkait dengan kinerja yang dioptimalkan tipe C4, Amazon Lightsail ternyata yang tercepat, yang, mengingat harganya, merupakan kejutan yang cukup menyenangkan.  Ini diikuti oleh hasil yang hampir sama dari server prosesor tunggal dan laptop Google.  Lebih jauh, Vultr yang sebelumnya tidak dikenal, Linode, yang saya harapkan lebih banyak, ternyata baik.  Audience Award diberikan ke Digital Ocean - lebih lambat, tetapi yang termudah dan tercepat untuk digunakan.  Server EC2 m3.medium yang agak mahal ternyata lambat, dan server GCE termurah benar-benar buruk bahkan dengan SSD, saya tidak mendapatkan hasil pengujian server ukuran mikro. <br><br>  Secara terpisah, harus dikatakan tentang contoh EC2 tipe T2.  Fitur mereka adalah bahwa dengan server sederhana menerima kredit prosesor (hingga batas tertentu), yang dihabiskan di bawah beban.  Membelanjakan pinjaman, server berjalan pada kapasitas penuh, ketika mereka kehabisan - kinerja turun menjadi 20%.  Di satu sisi, itu sangat cocok untuk keperluan kita - orang-orang, terutama dari perangkat seluler, tidak bermain terus menerus sepanjang hari, ditambah simulasi dalam permainan berhenti ketika seseorang melakukan sesuatu pada menu, dll., Jadi ini adalah pilihan yang baik untuk mendapatkan kinerja tinggi dengan sedikit uang.  Di sisi lain, ini adalah kinerja "palsu", jadi saya tidak memasukkan contoh jenis ini dalam pengujian agar tidak membingungkan siapa pun.  Dari pengalaman, selama ada pinjaman, mereka cukup cepat, ketika mereka kehabisan - sangat lambat. <br><br>  Itu saja. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id401485/">https://habr.com/ru/post/id401485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id401475/index.html">Многомировая интерпретация и мультивселенная – могут ли они оказаться одной и той же идеей?</a></li>
<li><a href="../id401477/index.html">Peneliti IBM mengukur konduktivitas termal melalui kontak monatomik</a></li>
<li><a href="../id401479/index.html">Lowongan</a></li>
<li><a href="../id401481/index.html">10 teknologi yang harus ada di smartphone modern</a></li>
<li><a href="../id401483/index.html">Elemen Perlindungan Uang Kertas. Investigasi pribadi</a></li>
<li><a href="../id401487/index.html">Generasi kedelapan Intel Core akan tetap pada proses manufaktur 14 nm</a></li>
<li><a href="../id401489/index.html">Ford sedang mengembangkan sistem kontrol kendaraan otonomnya sendiri</a></li>
<li><a href="../id401491/index.html">Insinyur Jepang telah menciptakan penyerbuk quadrocopter</a></li>
<li><a href="../id401493/index.html">Matematikawan menjelaskan hipotesis minimalis</a></li>
<li><a href="../id401495/index.html">Sejarah teknologi implan. Alat bantu dengar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>