<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìú üè≥Ô∏è‚Äçüåà üïß Lombok devuelve la grandeza de Java üåá üë®üèø‚Äçüöí üö•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En Grubhub, usamos Java en casi todo el backend. Este es un lenguaje comprobado que ha demostrado su velocidad y confiabilidad en los √∫ltimos 20 a√±os....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lombok devuelve la grandeza de Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438870/"><img src="https://habrastorage.org/webt/qu/kf/g_/qukfg_-dnnfp3q_c50xe3m4q2iu.png"><br><br>  En Grubhub, usamos Java en casi todo el backend.  Este es un lenguaje comprobado que ha demostrado su velocidad y confiabilidad en los √∫ltimos 20 a√±os.  Pero a lo largo de los a√±os, la edad del "viejo" todav√≠a comenz√≥ a afectar. <br><br>  Java es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">uno de los lenguajes JVM m√°s populares</a> , pero no el √∫nico.  En los √∫ltimos a√±os, ha estado compitiendo con Scala, Clojure y Kotlin, que proporcionan nuevas funcionalidades y funciones de lenguaje optimizadas.  En resumen, le permiten hacer m√°s con un c√≥digo m√°s conciso. <br><a name="habracut"></a><br>  Estas innovaciones en el ecosistema JVM son muy interesantes.  Debido a la competencia, Java se ve obligado a cambiar para seguir siendo competitivo.  El nuevo calendario de lanzamiento de seis meses y varias JEP (propuestas de mejora de JDK) en Java 8 (Valhalla, inferencia de tipo variable local, Loom) son prueba de que Java seguir√° siendo un lenguaje competitivo durante a√±os. <br><br>  Sin embargo, el tama√±o y la escala de Java significan que el desarrollo progresa m√°s lentamente de lo que quisi√©ramos, sin mencionar el fuerte deseo de mantener la compatibilidad con versiones anteriores a toda costa.  En cualquier desarrollo, la primera prioridad deben ser las funciones, pero aqu√≠ las funciones necesarias se han desarrollado durante demasiado tiempo, si es que lo han hecho, en el lenguaje.  Por lo tanto, en Grubhub usamos Project Lombok para tener Java optimizado y mejorado a nuestra disposici√≥n en este momento.  El proyecto Lombok es un complemento compilador que agrega nuevas "palabras clave" a Java y convierte las anotaciones en c√≥digo Java, lo que reduce el esfuerzo de desarrollo y proporciona algunas funcionalidades adicionales. <br><br><h1>  Configurar Lombok </h1><br>  Grubhub siempre se esfuerza por mejorar el ciclo de vida del software, pero cada nueva herramienta y proceso tiene un costo que considerar.  Afortunadamente, para conectar Lombok, solo agregue un par de l√≠neas al archivo gradle. <br><br>  Lombok convierte las anotaciones en el c√≥digo fuente en declaraciones Java antes de que el compilador las procese: la dependencia de <code>lombok</code> no <code>lombok</code> en tiempo de ejecuci√≥n, por lo que el uso del complemento no aumentar√° el tama√±o del ensamblaje.  Para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">configurar Lombok con Gradle</a> (tambi√©n funciona con Maven), simplemente agregue las <i>siguientes</i> l√≠neas al archivo <i>build.gradle</i> : <br><br><pre> <code class="java hljs">plugins { id <span class="hljs-string"><span class="hljs-string">'io.franzbecker.gradle-lombok'</span></span> version <span class="hljs-string"><span class="hljs-string">'1.14'</span></span> id <span class="hljs-string"><span class="hljs-string">'java'</span></span> } repositories { jcenter() <span class="hljs-comment"><span class="hljs-comment">// or Maven central, required for Lombok dependency } lombok { version = '1.18.4' sha256 = "" }</span></span></code> </pre> <br>  Con Lombok, nuestro c√≥digo fuente <i>no ser√°</i> un c√≥digo Java v√°lido.  Por lo tanto, deber√° instalar un complemento para el IDE; de lo contrario, el entorno de desarrollo no comprender√° de qu√© se trata.  Lombok es compatible con todos los principales IDE de Java.  Integraci√≥n perfecta.  Todas las funciones como "mostrar uso" e "ir a implementaci√≥n" contin√∫an funcionando como antes, movi√©ndolo al campo / clase correspondiente. <br><br><h1>  Lombok en acci√≥n </h1><br>  La mejor manera de conocer Lombok es verlo en acci√≥n.  Considere algunos ejemplos t√≠picos. <br><br><h3>  Revive el objeto POJO </h3><br>  Con los "viejos objetos Java" (POJO), separamos los datos del procesamiento para facilitar la lectura del c√≥digo y agilizar las transferencias de red.  Un POJO simple tiene varios campos privados, as√≠ como getters y setters correspondientes.  Hacen el trabajo, pero requieren mucho c√≥digo repetitivo. <br><br>  Lombok ayuda a usar POJO de una manera m√°s flexible y estructurada sin c√≥digo adicional.  As√≠ es <code>@Data</code> simplificamos el POJO subyacente con la anotaci√≥n <code>@Data</code> : <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UUID userId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; }</code> </pre> <br>  <code>@Data</code> es solo una anotaci√≥n conveniente que aplica m√∫ltiples anotaciones de Lombok a la vez. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>@ToString</code></a> genera una implementaci√≥n para el m√©todo <code>toString()</code> , que consiste en una representaci√≥n ordenada del objeto: el nombre de la clase, todos los campos y sus valores. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>@EqualsAndHashCode</code></a> genera implementaciones de <code>equals</code> y <code>hashCode</code> , que por defecto usan campos no est√°ticos y no estacionarios, pero son personalizables. <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>@Getter / @Setter</code></a> genera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>@Getter / @Setter</code></a> y establecedores para campos privados. <br></li><li>  <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@RequiredArgsConstructor</a></code> crea un constructor con los argumentos requeridos, donde se requieren los campos finales y los campos con la anotaci√≥n <code>@NonNull</code> (m√°s sobre esto a continuaci√≥n). </li></ul><br>  Esta anotaci√≥n sola cubre de manera simple y elegante muchos casos de uso t√≠picos.  Pero POJO no siempre cubre la funcionalidad necesaria.  <code>@Data</code> es una clase totalmente modificable, cuyo abuso puede aumentar la complejidad y limitar la concurrencia, lo que afecta negativamente la capacidad de supervivencia de la aplicaci√≥n. <br><br>  Hay otra solucion.  Volvamos a nuestra clase de <code>User</code> , hag√°mosla inmutable y agreguemos algunas otras anotaciones √∫tiles. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>(toBuilder = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; <span class="hljs-meta"><span class="hljs-meta">@Singular</span></span> Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = ‚Äú<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.png‚Äù; }</code> </pre> <br>  La anotaci√≥n <code>@Value</code> similar a <code>@Data</code> excepto que todos los campos son privados y finales de forma predeterminada, y no se crean setters.  Gracias a esto, los objetos <code>@Value</code> se vuelven inmediatamente inmutables.  Como todos los campos son finales, no hay constructor de argumentos.  En cambio, Lombok usa el <code>@AllArgsConstructor</code> .  El resultado es un objeto completamente funcional e inmutable. <br><br>  Pero la inmutabilidad no es muy √∫til si solo necesita crear un objeto usando el constructor all-args.  Como explica Joshua Bloch en su libro Programaci√≥n efectiva de Java, debe usar constructores si tiene una gran cantidad de par√°metros de dise√±o.  Aqu√≠ la clase <code>@Builder</code> entra en <code>@Builder</code> , generando autom√°ticamente la clase interna del constructor: <br><br><pre> <code class="java hljs">User user = User.builder() .userId(UUID.random()) .email(‚Äúgrubhub<span class="hljs-meta"><span class="hljs-meta">@grubhub</span></span>.com‚Äù) .favoriteFood(‚Äúburritos‚Äù) .favoriteFood(‚Äúdosas‚Äù) .build()</code> </pre> <br>  La generaci√≥n de un generador facilita la creaci√≥n de objetos con una gran cantidad de argumentos y la adici√≥n de nuevos campos en el futuro.  El m√©todo est√°tico devuelve una instancia del constructor para establecer todas las propiedades del objeto.  Despu√©s de eso, la llamada a <code>build()</code> devuelve la instancia. <br><br>  La <code>@NonNull</code> se puede usar para <code>@NonNull</code> que estos campos no son nulos al crear una instancia del objeto; de lo contrario, se <code>NullPointerException</code> una <code>NullPointerException</code> .  Tenga en cuenta que el campo de avatar se anota con <code>@NonNull</code> pero no se establece.  El hecho es que la anotaci√≥n <code>@Builder.Default</code> apunta a <i>default.png</i> por defecto. <br><br>  Observe tambi√©n c√≥mo el constructor usa <code>favoriteFood</code> , el √∫nico nombre de propiedad en nuestro objeto.  Al colocar anotaciones <code>@Singular</code> en una propiedad de colecci√≥n, Lombok crea m√©todos especiales de creaci√≥n para agregar elementos a la colecci√≥n individualmente y no para agregar la colecci√≥n completa al mismo tiempo.  Esto es especialmente bueno para las pruebas, porque las formas de crear peque√±as colecciones en Java no pueden llamarse simples y r√°pidas. <br><br>  Finalmente, el par√°metro <code>toBuilder = true</code> agrega el m√©todo de instancia <code>toBuilder()</code> , que crea un objeto generador lleno de todos los valores de esta instancia.  Es muy f√°cil crear una nueva instancia, rellenada previamente con todos los valores del original, de modo que solo queda cambiar los campos necesarios.  Esto es especialmente √∫til para <code>@Value</code> clases <code>@Value</code> , porque los campos son inmutables. <br><br>  Algunas notas personalizan a√∫n m√°s las funciones especiales del setter.  <code>@Wither</code> crea m√©todos con <code>@Wither</code> para cada propiedad.  En la entrada, el valor; en la salida, el clon de la instancia con el valor actualizado de un campo.  <code>@Accessors</code> permite configurar setters creados autom√°ticamente.  El par√°metro fluent <code>fluent=true</code> deshabilita las convenciones get y set para getters y setters.  En ciertas situaciones, esto puede ser un reemplazo √∫til para <code>@Builder</code> . <br><br>  Si la implementaci√≥n de Lombok no es adecuada para su tarea (y mir√≥ los modificadores de anotaci√≥n), siempre puede tomar y escribir su propia implementaci√≥n.  Por ejemplo, si tiene la clase <code>@Data</code> , pero un getter necesita una l√≥gica personalizada, simplemente implemente este getter.  Lombok ver√° que la implementaci√≥n ya est√° provista y no la sobrescribir√° con la implementaci√≥n creada autom√°ticamente. <br><br>  Con solo unas pocas anotaciones simples, el POJO base ha recibido tantas funciones ricas que simplifican su uso sin cargar el trabajo de los ingenieros, sin perder tiempo ni aumentar los costos de desarrollo. <br><br><h3>  Eliminar c√≥digo de plantilla </h3><br>  Lombok es √∫til no solo para POJO: se puede aplicar en cualquier nivel de la aplicaci√≥n.  Los siguientes usos de Lombok son especialmente √∫tiles en clases de componentes como controladores, servicios y DAO (objetos de acceso a datos). <br><br>  El registro es un requisito b√°sico para todas las partes del programa.  Cualquier clase que haga un trabajo significativo debe escribir un registro.  Por lo tanto, el registrador est√°ndar se convierte en una plantilla para cada clase.  Lombok simplifica esta plantilla en una sola anotaci√≥n que identifica e instancia autom√°ticamente un registrador con el nombre de clase correcto.  Existen varias anotaciones diferentes seg√∫n la estructura de la revista. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-comment"><span class="hljs-comment">// also: @CommonsLog @Flogger @JBossLog @Log @Log4j @Log4j2 @XSlf4j public class UserService { // created automatically // private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(UserService.class); }</span></span></code> </pre> <br>  Despu√©s de declarar el registrador, agregue nuestras dependencias: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-meta"><span class="hljs-meta">@RequiredArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@FieldDefaults</span></span>(makeFinal=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, level=AccessLevel.PRIVATE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UserDao userDao; }</code> </pre> <br>  La <code>@FieldDefaults</code> agrega modificadores finales y privados a todos los campos.  <code>@RequiredArgsConstructor</code> crea un constructor que configura una instancia de <code>UserDao</code> .  La <code>@NonNull</code> agrega validaci√≥n en el constructor y <code>UserDao</code> <code>NullPointerException</code> si la instancia de <code>UserDao</code> es cero. <br><br><h1>  ¬°Pero espera, eso no es todo! </h1><br>  Hay muchas m√°s situaciones en las que Lombok hace su mejor esfuerzo.  Las secciones anteriores mostraron ejemplos espec√≠ficos, pero Lombok puede facilitar el desarrollo en muchas √°reas.  Aqu√≠ hay algunos peque√±os ejemplos de c√≥mo usarlo de manera m√°s eficiente. <br><br>  Aunque la palabra clave <code>var</code> apareci√≥ en Java 9, la variable a√∫n puede reasignarse.  Lombok tiene la palabra clave <code>val</code> , que imprime el tipo final de una variable local. <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// final Map map = new HashMap&lt;Integer, String&gt;(); val map = new HashMap&lt;Integer, String&gt;();</span></span></code> </pre> <br>  Algunas clases con funciones puramente est√°ticas no est√°n destinadas a ser inicializadas.  Una forma de evitar la creaci√≥n de instancias es declarar un constructor privado que arroje una excepci√≥n.  Lombok codific√≥ esta plantilla en la anotaci√≥n <code>@UtilityClass</code> .  Genera un constructor privado que arroja una excepci√≥n, finalmente genera la clase y hace que todos los m√©todos sean est√°ticos. <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@UtilityClass</span></span> <span class="hljs-comment"><span class="hljs-comment">// will be made final public class UtilityClass { // will be made static private final int GRUBHUB = ‚Äú GRUBHUB‚Äù; // autogenerated by Lombok // private UtilityClass() { // throw new java.lang.UnsupportedOperationException("This is a utility class and cannot be instantiated"); //} // will be made static public void append(String input) { return input + GRUBHUB; } }</span></span></code> </pre> <br>  Java a menudo es criticado por su verbosidad debido a las excepciones marcadas.  Una anotaci√≥n separada de Lombok los arregla: <code>@SneakyThrows</code> .  Como se esperaba, la implementaci√≥n es bastante complicada.  No captura excepciones ni siquiera ajusta excepciones en una <code>RuntimeException</code> .  En cambio, se basa en el hecho de que la JVM no verifica la consistencia de las excepciones verificadas en tiempo de ejecuci√≥n.  Solo Java hace esto.  Por lo tanto, Lombok utiliza la conversi√≥n de bytecode en tiempo de compilaci√≥n para deshabilitar esta comprobaci√≥n.  El resultado es un c√≥digo ejecutable. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SneakyThrows</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@SneakyThrows</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sneakyThrow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(); } }</code> </pre> <br><h1>  Comparaci√≥n lado a lado </h1><br>  Las comparaciones directas muestran mejor cu√°nto ahorra Lombok.  El complemento IDE tiene una funci√≥n "de-lombok" que convierte aproximadamente la mayor√≠a de las anotaciones de Lombok a c√≥digo Java nativo ( <code>@NonNull</code> anotaciones <code>@NonNull</code> no se convierten).  Por lo tanto, cualquier IDE con el complemento instalado podr√° convertir la mayor√≠a de las anotaciones en c√≥digo nativo de Java y viceversa.  Volver a nuestra clase de <code>User</code> . <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>(toBuilder = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; <span class="hljs-meta"><span class="hljs-meta">@Singular</span></span> Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = ‚Äú<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>.png‚Äù; }</code> </pre> <br>  La clase Lombok es solo 13 l√≠neas simples, legibles y comprensibles.  ¬°Pero despu√©s de ejecutar de-lombok, la clase se convierte en m√°s de cien l√≠neas de c√≥digo repetitivo! <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UUID userId; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> String email; Set&lt;String&gt; favoriteFoods; <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-meta"><span class="hljs-meta">@Builder</span></span>.Default String avatar = <span class="hljs-string"><span class="hljs-string">"default.png"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@java</span></span>.beans.ConstructorProperties({<span class="hljs-string"><span class="hljs-string">"userId"</span></span>, <span class="hljs-string"><span class="hljs-string">"email"</span></span>, <span class="hljs-string"><span class="hljs-string">"favoriteFoods"</span></span>, <span class="hljs-string"><span class="hljs-string">"avatar"</span></span>}) User(UUID userId, String email, Set&lt;String&gt; favoriteFoods, String avatar) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId = userId; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email = email; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar = avatar; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">builder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserBuilder(); } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UUID </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId; } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Set&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFavoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods; } <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAvatar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">equals</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object o)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (o == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(o <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> User)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> User other = (User) o; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$userId = other.getUserId(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$userId != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$userId.equals(other$userId)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$email = other.getEmail(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$email != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$email.equals(other$email)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$favoriteFoods = other.getFavoriteFoods(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$favoriteFoods != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$favoriteFoods.equals(other$favoriteFoods)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar(); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object other$avatar = other.getAvatar(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? other$avatar != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> : !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$avatar.equals(other$avatar)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hashCode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> PRIME = <span class="hljs-number"><span class="hljs-number">59</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $userId = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId(); result = result * PRIME + ($userId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $userId.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $email = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail(); result = result * PRIME + ($email == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $email.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods(); result = result * PRIME + ($favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $favoriteFoods.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Object $avatar = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar(); result = result * PRIME + ($avatar == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">43</span></span> : $avatar.hashCode()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"User(userId="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getUserId() + <span class="hljs-string"><span class="hljs-string">", email="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmail() + <span class="hljs-string"><span class="hljs-string">", favoriteFoods="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFavoriteFoods() + <span class="hljs-string"><span class="hljs-string">", avatar="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getAvatar() + <span class="hljs-string"><span class="hljs-string">")"</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toBuilder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserBuilder().userId(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId).email(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email).favoriteFoods(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods).avatar(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserBuilder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UUID userId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String email; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ArrayList&lt;String&gt; favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String avatar; UserBuilder() { } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UUID userId)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId = userId; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">email</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String email)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email = email; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">favoriteFood</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String favoriteFood)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.add(favoriteFood); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">favoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Collection&lt;? extends String&gt; favoriteFoods)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;String&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.addAll(favoriteFoods); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clearFavoriteFoods</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.clear(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> User.<span class="hljs-function"><span class="hljs-function">UserBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avatar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String avatar)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar = avatar; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> User </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Set&lt;String&gt; favoriteFoods; <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ? <span class="hljs-number"><span class="hljs-number">0</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: favoriteFoods = java.util.Collections.emptySet(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: favoriteFoods = java.util.Collections.singleton(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.get(<span class="hljs-number"><span class="hljs-number">0</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: favoriteFoods = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> java.util.LinkedHashSet&lt;String&gt;(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() &lt; <span class="hljs-number"><span class="hljs-number">1073741824</span></span> ? <span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() + (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods.size() - <span class="hljs-number"><span class="hljs-number">3</span></span>) / <span class="hljs-number"><span class="hljs-number">3</span></span> : Integer.MAX_VALUE); favoriteFoods.addAll(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods); favoriteFoods = java.util.Collections.unmodifiableSet(favoriteFoods); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> User(userId, email, favoriteFoods, avatar); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"User.UserBuilder(userId="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userId + <span class="hljs-string"><span class="hljs-string">", email="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.email + <span class="hljs-string"><span class="hljs-string">", favoriteFoods="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.favoriteFoods + <span class="hljs-string"><span class="hljs-string">", avatar="</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.avatar + <span class="hljs-string"><span class="hljs-string">")"</span></span>; } } }</code> </pre> <br>  Haremos lo mismo para la clase <code>UserService</code> . <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Slf</span></span>4j <span class="hljs-meta"><span class="hljs-meta">@RequiredArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@FieldDefaults</span></span>(makeFinal=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, level=AccessLevel.PRIVATE) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@NonNull</span></span> UserDao userDao; }</code> </pre> <br>  Aqu√≠ hay una contraparte de muestra en c√≥digo Java est√°ndar. <br><br><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(UserService.class); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> UserDao userDao; <span class="hljs-meta"><span class="hljs-meta">@java</span></span>.beans.ConstructorProperties({<span class="hljs-string"><span class="hljs-string">"userDao"</span></span>}) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UserService</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UserDao userDao)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (userDao == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NullPointerException(<span class="hljs-string"><span class="hljs-string">"userDao is marked @NonNull but is null"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userDao = userDao; } }</code> </pre> <br><h1>  Calificaci√≥n de efecto </h1><br>  Grubhub cuenta con m√°s de un centenar de servicios empresariales de entrega de alimentos.  Tomamos uno de ellos y lanzamos la funci√≥n "de-lombok" en el complemento Lombok IntelliJ.  Como resultado, cambiaron unos 180 archivos y la base de c√≥digo creci√≥ en aproximadamente 18,000 l√≠neas de c√≥digo despu√©s de eliminar 800 casos de uso de Lombok.  En promedio, cada l√≠nea de Lombok ahorra 23 l√≠neas de Java.  Con este efecto, es dif√≠cil imaginar Java sin Lombok. <br><br><h1>  Resumen </h1><br>  Lombok es un gran ayudante que implementa nuevas funciones de lenguaje sin requerir mucho esfuerzo por parte del desarrollador.  Por supuesto, es m√°s f√°cil instalar el complemento que capacitar a todos los ingenieros en un nuevo idioma y portar el c√≥digo existente.  Lombok no es omnipotente, pero fuera de la caja es lo suficientemente poderoso como para ayudar realmente en el trabajo. <br><br>  Otra ventaja de Lombok es que mantiene bases de c√≥digo consistentes.  Tenemos m√°s de cien servicios diferentes y un equipo distribuido en todo el mundo, por lo que la coherencia de las bases de c√≥digo facilita la ampliaci√≥n de los equipos y reduce la carga de cambiar de contexto al comenzar un nuevo proyecto.  Lombok funciona para cualquier versi√≥n desde Java 6, por lo que podemos contar con su disponibilidad en todos los proyectos. <br><br>  Para Grubhub, esto es m√°s que solo nuevas caracter√≠sticas.  Al final, todo este c√≥digo <i>puede</i> escribirse manualmente.  Pero Lombok simplifica las partes aburridas de la base de c√≥digo sin afectar la l√≥gica de negocios.  Esto le permite centrarse en cosas que son realmente importantes para el negocio y las m√°s interesantes para nuestros desarrolladores.  El c√≥digo de plantilla de Monton es una p√©rdida de tiempo para programadores, revisores y mantenedores.  Adem√°s, dado que este c√≥digo ya no se escribe manualmente, elimina clases enteras de errores tipogr√°ficos.  ¬°Los beneficios de la <code>@NonNull</code> autom√°tica combinados con el poder de <code>@NonNull</code> reducen la probabilidad de errores y ayudan a nuestro desarrollo, que tiene como objetivo entregar alimentos a su mesa! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/438870/">https://habr.com/ru/post/438870/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../438858/index.html">C√≥mo usar la segmentaci√≥n, la orientaci√≥n y el posicionamiento (STP) en el desarrollo de una estrategia de marketing</a></li>
<li><a href="../438862/index.html">Implemente una aplicaci√≥n web isom√≥rfica usando Nuxt.js como ejemplo.</a></li>
<li><a href="../438864/index.html">Caracter√≠stica congelar C ++ 20. Corutinas, M√≥dulos y m√°s.</a></li>
<li><a href="../438866/index.html">Constructores versus sintaxis Java</a></li>
<li><a href="../438868/index.html">Semana de la seguridad 06: en vivo en FaceTime</a></li>
<li><a href="../438874/index.html">Comenzando una amistad con VkNet</a></li>
<li><a href="../438876/index.html">C√≥mo acortar el tiempo de comercializaci√≥n: una historia sobre la automatizaci√≥n de pruebas en M. Video</a></li>
<li><a href="../438878/index.html">La aparici√≥n de la pel√≠cula en torrentes despu√©s del estreno aumenta la taquilla en un 3%</a></li>
<li><a href="../438880/index.html">Cu√°ndo usar var, let y const en Javascript [traducci√≥n del art√≠culo de Tyler McGinnis]</a></li>
<li><a href="../438882/index.html">La probabilidad de ganar un partido con una probabilidad conocida de ganar un punto</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>