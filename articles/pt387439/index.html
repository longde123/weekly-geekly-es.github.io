<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò£ ü§ûüèª üëµ Arquitetura de sistema heterog√™nea ou sobre atender a CPU e GPU ü•â üßëüèæ‚Äçü§ù‚Äçüßëüèª üì´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Durante muito tempo, o desenvolvimento da microeletr√¥nica ocorreu sob o lema "menos e mais r√°pido". O processo t√©cnico foi reduzido, novos elementos d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arquitetura de sistema heterog√™nea ou sobre atender a CPU e GPU</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/amd/blog/387439/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durante muito tempo, o desenvolvimento da microeletr√¥nica ocorreu sob o lema "menos e mais r√°pido". O processo t√©cnico foi reduzido, novos elementos da arquitetura x86 foram introduzidos (conjuntos de extens√µes de instru√ß√µes) e a frequ√™ncia de clock do n√∫cleo de computa√ß√£o foi aumentada. Quando o crescimento da produtividade ‚Äúbruta‚Äù se baseou em fatores econ√¥micos e f√≠sicos, v√°rios m√©todos de computa√ß√£o paralelizada se tornaram populares. Ao mesmo tempo, n√£o estavam apenas desenvolvendo CPUs que apresentavam bom desempenho em c√°lculos complexos e de thread √∫nico, mas tamb√©m GPUs capazes de executar rapidamente um grande n√∫mero de tarefas semelhantes e simples que eram dif√≠ceis de executar aos processadores convencionais.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/3e8/1f3/1ac/3e81f31acc0c4f98ac3a98e00d542bf6.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoje estamos entrando em uma nova era no desenvolvimento de chips que s√£o respons√°veis ‚Äã‚Äãpela computa√ß√£o no cora√ß√£o de desktops, servidores, dispositivos m√≥veis e eletr√¥nicos vest√≠veis. </font><font style="vertical-align: inherit;">Ao combinar as abordagens ao processamento de informa√ß√µes na CPU e na GPU, desenvolvemos uma nova arquitetura aberta, sem a qual a implementa√ß√£o adicional da mesma lei de Moore parece dif√≠cil. </font><font style="vertical-align: inherit;">Conhe√ßa HSA - Arquitetura de Sistema Heterog√™neo.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um momento hist√≥rico</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender completamente como o HSA, por um lado, √© pr√≥ximo e, por outro lado, ultrapassa a arquitetura das solu√ß√µes modernas, vejamos a hist√≥ria. Mesmo se descartamos d√©cadas de tecnologia de l√¢mpadas e come√ßamos a partir dos anos 1950, a partir do momento em que os transistores apareceram na microeletr√¥nica, a hist√≥ria √© tal que voc√™ pode escrever um artigo separado. Vamos analisar brevemente os principais "marcos" da ind√∫stria de processadores e muito pouco sobre a hist√≥ria das placas de v√≠deo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No in√≠cio da engenharia da computa√ß√£o, as CPUs eram bastante simples. De fato, todas as opera√ß√µes se resumiram √† adi√ß√£o de n√∫meros em um sistema bin√°rio. Quando foi necess√°rio subtrair, o chamado " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digos reversos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">": Eram simples e f√°ceis de encaixar" ferro ", sem exigir as del√≠cias arquitet√¥nicas mais complicadas que implementam a subtra√ß√£o" honesta "dos n√∫meros. Para cada modelo de computador, os programas foram escritos separadamente at√© 1964. </font></font><br>
<br>
<img src="https://habrastorage.org/files/bde/692/81b/bde69281b95b41179c246554b02c2982.jpg"><br>
<sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema ibm / 360</font></font></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 1964, a IBM lan√ßou o System / 360, um computador que mudou a maneira como criamos processadores. Provavelmente, foi ele quem teve a honra de introduzir um conceito como arquitetura de sistema. S√≥ porque antes dele n√£o havia "sistema". O fato √© que, antes do System / 360, todos os computadores dos anos 50 e 60 trabalhavam apenas com o c√≥digo do programa criado especificamente para eles. A IBM, por outro lado, desenvolveu o primeiro conjunto de instru√ß√µes, suportado em uma variedade de configura√ß√µes (e desempenho), mas com a mesma arquitetura do sistema / 360. A prop√≥sito, no mesmo computador, o byte pela primeira vez tornou-se 8 bits. Antes disso, em quase todos os computadores populares, consistia em seis bits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A segunda grande inova√ß√£o nos anos 60 foi o desenvolvimento do DEC. Em seu computador PDP-8, eles usaram uma arquitetura extremamente simples para a √©poca, contendo apenas quatro registros de 12 bits cada e um pouco mais de 500 blocos de CPU. Aqueles "transistores" que j√° foram medidos na d√©cada de 1970 aos milhares e aos bilh√µes na d√©cada de 2000. Essa simplicidade e a cria√ß√£o pela IBM de um conceito como um "conjunto de instru√ß√µes" determinaram a dire√ß√£o adicional do desenvolvimento da tecnologia da computa√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O boom da microeletr√¥nica come√ßou nos anos 70. Tudo come√ßou com a produ√ß√£o dos primeiros processadores de chip √∫nico: muitas empresas produziram chips sob licen√ßa e os aprimoraram, adicionando novas instru√ß√µes e expandindo os recursos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde meados dos anos 70, o mercado de processadores de 8 bits estava lotado e, no final da d√©cada, surgiram solu√ß√µes acess√≠veis de 16 bits em computadores, trazendo consigo a arquitetura x86, que (embora com melhorias significativas) ainda est√° viva e bem. O principal flagelo que interrompeu o desenvolvimento de processadores de 16 bits na √©poca foi o "confinamento" dos fabricantes na produ√ß√£o dos chamados chips de suporte para arquiteturas de 8 bits. Juntos, eles criaram o que mais tarde foi chamado de pontes ‚Äúnorte‚Äù e ‚Äúsul‚Äù. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No in√≠cio dos anos 80, cansados ‚Äã‚Äãde lutar com a in√©rcia do mercado, muitos fabricantes transferiram parte dos "chips de suporte" de controle para dentro do pr√≥prio processador. Posteriormente, algo do processador vai para os chipsets da placa-m√£e e depois volta, mas mesmo assim, essa arquitetura era um pouco semelhante aos SoCs modernos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O meio e o final dos anos 80 passaram sob a bandeira da transi√ß√£o para o endere√ßamento de mem√≥ria de 32 bits e n√∫cleos de processador de 32 bits. A lei de Moore funcionou como antes: o n√∫mero de transistores aumentou, a freq√º√™ncia do clock e o desempenho do processador "bruto" aumentaram. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 1991, os processadores AMD Am386DX e Am386SX viram a luz, cujo desempenho era compar√°vel √† pr√≥xima gera√ß√£o de sistemas (486). O Am386SX √© considerado por muitos como o primeiro desenvolvimento independente da empresa e o ponto de partida para quase 15 anos de dom√≠nio no mercado de PCs dom√©sticos e esta√ß√µes de trabalho de alto desempenho. Sim, era arquitetonicamente um clone do chip i368SX, mas tinha um processo t√©cnico mais baixo, efici√™ncia energ√©tica 35% melhor e, ao mesmo tempo, trabalhava com uma freq√º√™ncia de clock mais alta que seu progenitor, mas era mais barato.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/4d4/e06/a23/4d4e06a23c6847499361f8d6ce765b99.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os pr√≥prios anos 90 foram bastante ricos tanto em eventos no campo da microeletr√¥nica quanto no r√°pido crescimento do mercado. Foi nos anos 90 que a AMD come√ßou a ser considerada uma das empresas mais s√©rias do mercado, j√° que nossos processadores em termos de pre√ßo e taxa de desempenho muitas vezes deixavam seus concorrentes fora do Intel Pentium, especialmente no segmento dom√©stico. Um conjunto expandido de instru√ß√µes (MMX / 3DNow!), O aparecimento de um cache de segundo n√≠vel, uma diminui√ß√£o agressiva na tecnologia do processo, um aumento na velocidade do rel√≥gio ... e agora o novo mil√™nio j√° est√° no quintal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 2000, os processadores AMD pela primeira vez no mundo cruzaram a linha a 1 GHz e, um pouco mais tarde, a mesma arquitetura K7 tamb√©m assumiu uma nova altura - 1,4 GHz.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No final de 2003, lan√ßamos novos processadores baseados na arquitetura K8, que continha tr√™s inova√ß√µes importantes: endere√ßamento de mem√≥ria de 64 bits, um controlador de mem√≥ria integrado e o barramento HyperTransport, que fornecia largura de banda incr√≠vel na √©poca (at√© 3,2 GB / s). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 2005, os primeiros processadores de n√∫cleo duplo apareceram (a Intel possui dois n√∫cleos de cristal separados em um substrato, a AMD possui dois n√∫cleos dentro de um cristal, mas com uma mem√≥ria cache separada).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s alguns anos de desenvolvimento natural, a arquitetura K8 foi substitu√≠da por uma nova (K10). O n√∫mero de n√∫cleos em um chip na configura√ß√£o m√°xima aumentou para seis; um cache geral do terceiro n√≠vel apareceu. E o desenvolvimento adicional foi mais quantitativo e qualitativo do que revolucion√°rio. Mais megahertz, mais n√∫cleos, melhor otimiza√ß√£o, menor consumo de energia, processo de fabrica√ß√£o mais fino, unidades internas aprimoradas como um preditor de ramifica√ß√£o, controlador de mem√≥ria e decodificador de instru√ß√µes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que nos interessa na evolu√ß√£o da GPU (como parte do artigo da HSA) pode ser descrito muito brevemente. Com a prolifera√ß√£o de computadores como solu√ß√µes universais de trabalho e entretenimento em casa, os jogos de computador cresceram em popularidade. Juntamente com ele, aumentaram as possibilidades de gr√°ficos 3D, exigindo cada vez mais "infus√£o" de m√∫sculos diante dos aceleradores de v√≠deo. O uso de microprogramas e shaders especiais tornou poss√≠vel implementar ilumina√ß√£o realista com relativamente pouco sangue em gr√°ficos 3D. Inicialmente, os processadores shader eram divididos em v√©rtices e pixels (os primeiros eram respons√°veis ‚Äã‚Äãpor trabalhar com geometria, os segundos por texturas), depois uma arquitetura unificada de shader e, consequentemente, surgiam processadores universais de shader capazes de executar c√≥digos para os v√©rtices e pixel shaders.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPGPU, computa√ß√£o de uso geral em um acelerador gr√°fico pode ser implementada usando padr√£o aberto e OpenCL, ou um dialeto um pouco simplificado de C. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde ent√£o, das principais inova√ß√µes na GPU, podemos apenas mencionar a apar√™ncia da API Mantle de baixo n√≠vel, que permite acessar placas gr√°ficas AMD sobre esse assunto. no mesmo n√≠vel que o acesso a aceleradores gr√°ficos nos consoles PS4 e Xbox One) e o aumento explosivo na capacidade de mem√≥ria da GPU nos √∫ltimos dois anos. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/ce9/2f7/a35/ce92f7a35c545699faec002ae6b72649.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este √© o fim da hist√≥ria, √© hora de passar para o mais interessante: HSA.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que √© HSA?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quero come√ßar com o fato de que a HSA, em primeiro lugar, √© uma plataforma aberta com base na qual os fabricantes de microeletr√¥nicos podem construir seus produtos (independentemente do conjunto de instru√ß√µes usadas) que cumpram certos princ√≠pios e regras gerais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo, o HSA √© uma arquitetura de processador que combina c√°lculos escalares em n√∫cleos cl√°ssicos de CPU, c√°lculos paralelos em massa em GPUs e trabalha com processamento de sinal em m√≥dulos DSP e os conecta usando acesso coerente √† RAM. Ou seja, toda a hist√≥ria da produ√ß√£o de processadores e v√≠deos na HSA converge em um ponto: quase 50 anos de progresso no campo da microeletr√¥nica levaram √† cria√ß√£o de uma combina√ß√£o l√≥gica dos melhores aspectos de v√°rios sistemas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O desenvolvimento da arquitetura x86 e dos processadores possibilitou a cria√ß√£o de m√≥dulos de processador altamente eficientes que fornecem tarefas comuns e baixo consumo de energia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A unifica√ß√£o dos processadores shader no n√∫cleo da GPU e a simplifica√ß√£o geral da programa√ß√£o para um sistema com um grande n√∫mero de m√≥dulos de execu√ß√£o paralelos deram √† GPGPU uma maneira e usam o poder de processamento das placas de v√≠deo nas √°reas em que os aceleradores de hardware separados eram usados ‚Äã‚Äãanteriormente, o que n√£o conquistou nenhuma participa√ß√£o tang√≠vel no mercado. fique √† tona. </font></font><br>
<br>
<img src="https://habrastorage.org/files/34d/dc2/3f8/34ddc23f83b74c1a93bac4fffdecb84c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um controlador de mem√≥ria integrado, barramento PCIe e sistema de E / S forneceram acesso transparente √† mem√≥ria para v√°rios m√≥dulos HSA.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, o DSP integrado permite remover a carga da CPU e da GPU ao trabalhar com conte√∫do de v√≠deo e √°udio, pois √© baseado em hardware no trabalho de codifica√ß√£o e decodifica√ß√£o dos sinais correspondentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos esses m√≥dulos juntos abrangem todo o espectro de tarefas modernas, e o HSA permite que voc√™ ensine programas de forma transparente e f√°cil a trabalhar com toda a gama de recursos de hardware dispon√≠veis usando ferramentas cl√°ssicas, como linguagens como Java e C ++.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raz√µes para criar HSA</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As realidades modernas (a dissemina√ß√£o de eletr√¥nicos port√°teis e m√≥veis, quest√µes econ√¥micas e ambientais) criaram certas tend√™ncias no desenvolvimento de microeletr√¥nica: reduzindo o consumo de energia de todos os dispositivos, sejam smartphones ou servidores, aumentando a produtividade, melhorando o trabalho com reconhecimento de padr√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro, em princ√≠pio, √© compreens√≠vel. Todo mundo quer que o gadget funcione por mais tempo, o gabinete n√£o era grosso com o Big Mac e n√£o era aquecido como uma frigideira em um fog√£o. Os propriet√°rios dos data centers t√™m muitos problemas para remover o calor e garantir energia ininterrupta, para carreg√°-los com watts extras de pacotes de calor, o que significa aumentar o custo de seus servi√ßos. Hospedagem mais cara - mais publicidade em seus recursos favoritos, mais carga de CPU nos dispositivos, maior consumo de energia, menos bateria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoje, o aumento da produtividade √© simplesmente um dado adquirido. As pessoas est√£o acostumadas ao fato de que, desde os anos 70, os processadores quebram recordes de desempenho todos os anos, os jogos est√£o ficando mais bonitos, os sistemas e o software s√£o mais complexos (e ao mesmo tempo n√£o perdem a velocidade visual), e as ferramentas modernas de programador cont√™m cada vez mais camadas de abstra√ß√£o de ferro , cada uma com um desempenho real. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, desenvolvimentos modernos no campo de assistentes inteligentes, assistentes virtuais e perspectivas de desenvolvimento de intelig√™ncia artificial simplesmente requerem reconhecimento normal da fala humana, express√µes faciais, gestos, o que, por sua vez, exige um aumento no desempenho direto e na otimiza√ß√£o das opera√ß√µes de decodifica√ß√£o de √°udio e √°udio fluxo de v√≠deo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos esses problemas seriam resolvidos por uma arquitetura de hardware universal implementada na forma de SoC, e combinando os encantos de CPUs e GPUs cl√°ssicas, distribuindo competentemente opera√ß√µes seriais e paralelas entre os m√≥dulos capazes de executar as tarefas correspondentes com mais efici√™ncia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas como ensinar software a trabalhar com toda essa magnific√™ncia dos recursos de computa√ß√£o?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Principais recursos de um sistema heterog√™neo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os programadores n√£o devem ter problemas para acessar os recursos de computa√ß√£o desse sistema. </font><font style="vertical-align: inherit;">Para fazer isso, o HSA possui v√°rios recursos importantes que simplificam o trabalho dos desenvolvedores de software e aproximam o HSA dos sistemas cl√°ssicos em termos de desenvolvimento:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endere√ßamento unificado para todos os processadores;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coer√™ncia total da mem√≥ria;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opera√ß√µes no sistema de mem√≥ria de p√°ginas;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modo de envio personalizado;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento de filas no n√≠vel da arquitetura;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suporte de linguagem de alto n√≠vel para processadores de computa√ß√£o - GPU;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mudan√ßa de contexto e multitarefa preventiva.</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O desenvolvedor de aplicativos n√£o precisa entender linguagens de programa√ß√£o de baixo n√≠vel: componentes padr√£o, uma linguagem intermedi√°ria simples, interfaces de intera√ß√£o e hardware est√£o dispon√≠veis para o desenvolvedor, e mem√≥ria coerente e como as tarefas ser√£o distribu√≠das entre os m√≥dulos de computa√ß√£o s√£o facilmente ocultas "sob o cap√¥". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O papel do endere√ßamento de mem√≥ria unificada dificilmente pode ser superestimado. </font><font style="vertical-align: inherit;">Formalmente, sem ele, n√£o haveria HSA. </font><font style="vertical-align: inherit;">N√£o importa onde os dados est√£o localizados na mem√≥ria, quantos n√∫cleos, m√≥dulos, unidades de computa√ß√£o voc√™ possui. </font><font style="vertical-align: inherit;">Voc√™ move o ponteiro e executa c√°lculos e n√£o "transfere" bytes de um atuador para outro. </font><font style="vertical-align: inherit;">A carga do cache √© reduzida e o controle do pr√≥prio processador √© simplificado. </font><font style="vertical-align: inherit;">A abstra√ß√£o da mem√≥ria no n√≠vel da plataforma permitir√° o uso do mesmo c√≥digo para diferentes plataformas, simplificando a vida dos desenvolvedores de software.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dificuldades do OpenCL e C ++ AMP</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Programar para sistemas paralelos n√£o √© uma tarefa f√°cil. Para facilitar a vida dos desenvolvedores, desenvolvemos a biblioteca Bolt, que fornece padr√µes eficazes para os modelos mais usados ‚Äã‚Äãpara classifica√ß√£o, redu√ß√£o, varredura e transforma√ß√£o de dados usando computa√ß√£o paralela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para acelerar o c√≥digo Java sem reescrev√™-lo no OpenCL, √© usada uma biblioteca AparApi especial (c√≥digo aberto), que permite converter o bytecode Java em OpenCL com suporte para computa√ß√£o paralela nos n√∫cleos da CPU e GPU. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No futuro, est√° planejado finalizar o Aparapi, primeiro associando-o ao HSAIL e adicionando um otimizador especial. No final, o HSA deve trabalhar com acelera√ß√£o heterog√™nea diretamente atrav√©s da m√°quina Java, transparente para o usu√°rio e o programador.</font></font><br>
<br>
<h2>    </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J√° dissemos que o HSA √© uma plataforma aberta. </font><font style="vertical-align: inherit;">APIs e especifica√ß√µes s√£o fornecidas gratuitamente pelo desenvolvedor, e o pr√≥prio HSA √© independente do conjunto de instru√ß√µes da CPU ou GPU. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para garantir a compatibilidade das solu√ß√µes de hardware de v√°rios fornecedores, criamos nosso pr√≥prio kit ISA: HSAIL (HSA Intermediate Layer), que garante a opera√ß√£o do software, independentemente do que esteja dentro da solu√ß√£o HSA. </font><font style="vertical-align: inherit;">A pr√≥pria camada intermedi√°ria suporta o trabalho com exce√ß√µes, fun√ß√µes virtuais, modelos de mem√≥ria de linguagens modernas, portanto, n√£o s√£o esperados problemas com o suporte a C ++, Java e .Net, enquanto os desenvolvedores podem acessar o hardware diretamente e usar bibliotecas de otimiza√ß√£o prontas O HSA, que distribuir√° tarefas independentemente e simplificar√° a comunica√ß√£o com o hardware, simplificando o trabalho do programador.</font></font><br>
<br>
<img src="https://habrastorage.org/files/427/6e9/a50/4276e9a50f70410eb80bf474e0d4c97b.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Componente de hardware</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o apenas a AMD est√° viva HSA. √â importante para os desenvolvedores que, uma vez que o c√≥digo escrito funcione igualmente bem em diferentes dispositivos. Algu√©m usa linguagens de programa√ß√£o de alto n√≠vel como C ++ ou Java para isso, mas sugerimos trabalhar em um n√≠vel inferior. Por um lado, aplicativos cl√°ssicos podem ser executados em dispositivos HSA como se nada tivesse mudado. Os sistemas operacionais fornecer√£o aos aplicativos antigos acesso f√°cil e claro ao n√∫cleo do processador, mem√≥ria e v√≠deo. Por outro lado, o HSAIL permite extrair toda a energia do novo SoC, e os desenvolvedores podem criar aplicativos de alto desempenho e economia de recursos t√£o facilmente quanto para os pacotes cl√°ssicos de SO e hardware. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Funda√ß√£o</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Now </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HSA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem sete empresas fundadoras dessa organiza√ß√£o: AMD, ARM, Imagination Technologies, MediaTek, Texas Instruments, Samsung Electronics e Qualcomm¬Æ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A padroniza√ß√£o no campo de distribui√ß√£o de tarefas entre n√∫cleos de computa√ß√£o, transfer√™ncia de ponteiros de dados e mem√≥ria, trabalhando com os principais elementos da plataforma usando o HSAIL permite que os fornecedores usem sua experi√™ncia no campo do ferro, e os desenvolvedores n√£o precisam se preocupar com o que est√° por tr√°s. </font><font style="vertical-align: inherit;">Os aplicativos baseados no HSAIL funcionar√£o em qualquer plataforma.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√≥s e contras de solu√ß√µes de hardware baseadas em HSA</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A arquitetura heterog√™nea permite combinar os recursos da CPU e da GPU, e essa √© sua principal vantagem. </font><font style="vertical-align: inherit;">Ao mesmo tempo, o HSA cuida da energia consumida, sem carregar o processador com c√°lculos muito mais eficientes para executar na GPU.</font></font><br>
<br>
<img src="https://habrastorage.org/files/253/745/6da/2537456daf454e448178639f241ba2a7.jpg" align="left" width="450"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hoje, a simula√ß√£o da f√≠sica do estado s√≥lido √© usada em todos os lugares: de jogos de computador e pacotes 3D a CAD, simuladores para m√©dicos, militares e atletas. O trabalho na CPU desse sistema geralmente n√£o √© ideal, porque requer numerosos, mas simples c√°lculos. E quando o n√∫mero de objetos em intera√ß√£o excede centenas ou at√© milhares, as CPUs cl√°ssicas simplesmente n√£o conseguem fornecer a quantidade apropriada de c√°lculos. Mas a arquitetura da GPU √© adequada para esses c√°lculos o melhor poss√≠vel. E o endere√ßamento unificado, a mem√≥ria da p√°gina e a coer√™ncia completa permitem transferir os c√°lculos para o hardware apropriado com o m√≠nimo de recursos e recursos do desenvolvedor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O desempenho do HSA em tarefas gerais geralmente √© maior que o das CPUs cl√°ssicas e maior do que o pacote de CPU + GPU devido ao fato de que, independentemente de qu√£o ideais sejam os drivers, copiar dados da mem√≥ria compartilhada na mem√≥ria da GPU e enviar os resultados dos c√°lculos mais tempo que os pr√≥prios c√°lculos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O HSA j√° √© mais r√°pido que os sistemas cl√°ssicos, mas pode funcionar ainda melhor. </font><font style="vertical-align: inherit;">Na verdade, o √∫nico menos atual do sistema √© que ele √© novo. </font><font style="vertical-align: inherit;">A popularidade est√° apenas come√ßando a crescer, novos modelos de ferro nas condi√ß√µes econ√¥micas mais desfavor√°veis ‚Äã‚Äãentram no mercado mais lentamente, e a popularidade da HSA n√£o est√° crescendo no mesmo ritmo que todos gostar√≠amos. </font><font style="vertical-align: inherit;">Assim que os desenvolvedores experimentarem, entenderem as vantagens do HSA e a simplicidade de desenvolvimento de um novo sistema e come√ßarem a dar suporte nativo √† arquitetura heterog√™nea em seus aplicativos, veremos o surgimento de novos aplicativos de alto desempenho para servidores, computadores cl√°ssicos e dispositivos m√≥veis.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt387439/">https://habr.com/ru/post/pt387439/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt387427/index.html">Descri√ß√£o geral do kit HyperX Fury DDR4-2400 RAM de 16 Gb (2 * 8 Gb)</a></li>
<li><a href="../pt387429/index.html">Deixe-me apresentar - projeto FLProg</a></li>
<li><a href="../pt387433/index.html">Carros Tesla come√ßaram a aparecer na R√∫ssia</a></li>
<li><a href="../pt387435/index.html">L√¢mpadas LED da loja Auchan</a></li>
<li><a href="../pt387437/index.html">√â lan√ßada a segunda vers√£o do emulador Android BlueStacks 2: multitarefa, guias e outras vantagens</a></li>
<li><a href="../pt387441/index.html">A perspectiva de usar ve√≠culos a√©reos n√£o tripulados na medicina</a></li>
<li><a href="../pt387443/index.html">Como manter o SSD no Windows em boa forma</a></li>
<li><a href="../pt387445/index.html">Igor Kozhurenko: Wearables, Big Data e Salsa</a></li>
<li><a href="../pt387447/index.html">Revis√£o do laser de grava√ß√£o NEJE ou modelo de neg√≥cios avan√ßado</a></li>
<li><a href="../pt387449/index.html">Discuss√£o: vale a pena esfriar os alimentos antes de coloc√°-los na geladeira</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>