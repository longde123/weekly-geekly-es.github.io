<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯдЩ ЁЯд┤ЁЯП╜ ЁЯУк рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдкреНрд▓рдЧрдЗрдиреНрд╕ рдЕрдзреНрдпрд╛рдп 5 ЁЯжЧ ЁЯХ┤ЁЯП╗ ЁЯЩОЁЯП┐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкреАрдЫреЗ рдЕрдЧрд▓рд╛ 


 рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдмреЙрдХреНрд╕ рдХреЗ рдареАрдХ рдмрд╛рд╣рд░, рдпрд╣ рддрдм рдФрд░ рднреА рдмреЗрд╣рддрд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдЖрдк рдЗрд╕рдореЗрдВ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХрд╛ рдорд┐рд╢реНрд░рдг рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХреЛрдб рдмреЗрд╕ рдХреЛ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдкреНрд▓рдЧрдЗрдиреНрд╕ рдЕрдзреНрдпрд╛рдп 5</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448794/"><p><img src="https://habrastorage.org/webt/jl/jn/bb/jljnbbjr-ejh473xy_eccsmknpk.png">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреАрдЫреЗ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдЧрд▓рд╛</a> <img src="https://habrastorage.org/webt/rw/dy/-g/rwdy-grsvbpcetjttrmecdkxtlk.png"></p><br><p>  <em>рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдмреЙрдХреНрд╕ рдХреЗ рдареАрдХ рдмрд╛рд╣рд░, рдпрд╣ рддрдм рдФрд░ рднреА рдмреЗрд╣рддрд░ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдЖрдк рдЗрд╕рдореЗрдВ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХрд╛ рдорд┐рд╢реНрд░рдг рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред</em>  <em>рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХреЛрдб рдмреЗрд╕ рдХреЛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдФрд░ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рджреНрд╡рд╛рд░рд╛ рд╕рдВрд░рдЪрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрд╢реЛрдзрди рдФрд░ рд╕реБрдзрд╛рд░ рдХреЗ рд▓рд┐рдП рд╣реБрдХ рдЙрдкрд▓рдмреНрдз рд╣реИрдВред</em> </p><br><p><img src="https://habrastorage.org/webt/hd/--/9w/hd--9w134j0rxhmxftrflbbdopy.png"></p><a name="habracut"></a><br><p>  рдЗрд╕ рдкреБрд╕реНрддрдХ рдореЗрдВ рдЙрджрд╛рд╣рд░рдг Python 3.6 рдФрд░ pytest 3.2 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓рд┐рдЦреЗ рдЧрдП рд╣реИрдВред  рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ 3.2 рдкрд╛рдпрдерди 2.6, 2.7, рдФрд░ рдкрд╛рдпрдерди 3.3+ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред </p><br><blockquote> рдЯрд╛рд╕реНрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рд╕реНрд░реЛрдд рдХреЛрдб, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЗрд╕ рдкреБрд╕реНрддрдХ рдореЗрдВ рджрд┐рдЦрд╛рдП рдЧрдП рд╕рднреА рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рд▓рд┐рдП, рдкреБрд╕реНрддрдХ рдХреЗ рд╡реЗрдм рдкреЗрдЬ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="https://pragprog.com/titles/bopytest">pragprog.com</a> рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="https://pragprog.com/titles/bopytest/source_code">рд▓рд┐рдВрдХ</a> рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИред  рдкрд░реАрдХреНрд╖рдг рдХреЛрдб рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рд╕реНрд░реЛрдд рдХреЛрдб рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ;  рдкрд░реАрдХреНрд╖рдг рдХреЛрдб рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдкрд╛рд▓рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╛ рдЕрдкрдиреА рдЦреБрдж рдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ (рдЖрдкрдХреЗ рд╣рд╛рде рдЕрдирдЯреВрдЯ рд╣реЛ рдЧрдП рд╣реИрдВ!), рдЖрдкрдХреЛ рдкреБрд╕реНрддрдХ рдХреЗ рд╡реЗрдм рдкреЗрдЬ рдкрд░ рдЬрд╛рдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдХрд╛рдо рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рд╡рд╣рд╛рдБ, рдкреБрд╕реНрддрдХ рдХреЗ рд╡реЗрдм рдкреЗрдЬ рдкрд░, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="https://pragprog.com/titles/bopytest/errata">рдЗрд░реЗрдЯрд╛</a> рд╕рдВрджреЗрд╢реЛрдВ рдФрд░ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="https://forums.pragprog.com/forums/438">рдЪрд░реНрдЪрд╛ рдордВрдЪ рдХреЗ</a> рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рд╣реИред </blockquote><p>  рд╕реНрдкреЙрдЗрд▓рд░ рдХреЗ рддрд╣рдд рдЗрд╕ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд▓реЗрдЦреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рд╕рд╛рдордЧреНрд░реА рдХреА рддрд╛рд▓рд┐рдХрд╛</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдкрд░рд┐рдЪрдп</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдЕрдзреНрдпрд╛рдп 1: рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рд╕реЗ рд╢реБрд░реВ рд╣реЛ рд░рд╣рд╛ рд╣реИ</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдЕрдзреНрдпрд╛рдп 2: рдЯреЗрд╕реНрдЯ рдлрд╝рдВрдХреНрд╢рдВрд╕ рд▓рд┐рдЦрдирд╛</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдЕрдзреНрдпрд╛рдп 3: рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдлрд┐рдХреНрд╕реНрдЪрд░</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдЕрдзреНрдпрд╛рдп 4: рдмрд┐рд▓рд┐рди рдлрд┐рдХреНрд╕реНрдЪрд░</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдЕрдзреНрдпрд╛рдп 5: рдкреНрд▓рдЧрдЗрдиреНрд╕</strong></a> (рдпрд╣ рд▓реЗрдЦ) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдЕрдзреНрдпрд╛рдп 6: рд╡рд┐рдиреНрдпрд╛рд╕</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><strong>рдЕрдзреНрдпрд╛рдп 7: рдЕрдиреНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде pytest рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</strong></a> </li></ul></div></div><br><h2 id="poehali-dalshe">  рдФрд░ рдЖрдЧреЗ рдЪрд▓рддреЗ рд╣реИрдВ! </h2><br><p> рдЖрдкрдХреЛ рдпрд╣ рдЬрд╛рдирдХрд░ рдЖрд╢реНрдЪрд░реНрдп рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рдЖрдкрдиреЗ рдЗрд╕ рдкреБрд╕реНрддрдХ рдореЗрдВ рдкрд┐рдЫрд▓реЗ рдЕрдзреНрдпрд╛рдпреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдкрдиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреБрдЫ рдкреНрд▓рдЧрдЗрдиреНрд╕ рд▓рд┐рдЦреЗ рд╣реИрдВред  рд╣рд░ рдмрд╛рд░ рдЬрдм рдЖрдк рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд╢реАрд░реНрд╖-рд╕реНрддрд░реАрдп <code>conftest.py</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЬреБрдбрд╝рдирд╛рд░ рдФрд░ / рдпрд╛ рд╣реБрдХ рдлрд╝рдВрдХреНрд╢рди <code>conftest.py</code> , рддреЛ рдЖрдк рдПрдХ рд╕реНрдерд╛рдиреАрдп <code>conftest</code> рдкреНрд▓рдЧрдЗрди рдмрдирд╛рддреЗ рд╣реИрдВред  рдЗрди <code>conftest.py</code> рдлрд╛рдЗрд▓реЛрдВ рдХреЛ рдЗрдВрд╕реНрдЯрд╛рд▓ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдкреНрд▓рдЧрдЗрдиреНрд╕ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдирд╛ рдХреЗрд╡рд▓ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рдо рд╣реИ, рдЬрд┐рд╕реЗ рдЖрдк рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд╕рд╛рде, рдЕрдиреНрдп рд▓реЛрдЧреЛрдВ рдХреЗ рд╕рд╛рде рдпрд╛ рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рд╣рдо рдЗрд╕ рдЕрдзреНрдпрд╛рдп рдХреА рд╢реБрд░реБрдЖрдд рдЗрд╕ рд╕рд╡рд╛рд▓ рдХреЗ рдЬрд╡рд╛рдм рд╕реЗ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рдХрд╣рд╛рдБ рджреЗрдЦрдирд╛ рд╣реИред  рдХрд╛рдлреА рдХреБрдЫ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдЙрдкрд▓рдмреНрдз рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рдореМрдХрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рдиреЗ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЖрдк рдЬреЛ рдмрджрд▓рд╛рд╡ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЙрд╕реЗ рд▓рд┐рдЦрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рд╣рдо рдЦреБрд▓реЗ рд╕реНрд░реЛрдд рдкреНрд▓рдЧрдЗрдиреНрд╕ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ, рдпрджрд┐ рдкреНрд▓рдЧрдЗрди рд▓рдЧрднрдЧ рд╡рд╣реА рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЖрдк рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХрд╛рдлреА рдирд╣реАрдВ, рдЖрдк рдЗрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдЗрд╕реЗ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд▓рдЧрдЗрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрджрд░реНрдн рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрджреНрдпрдкрд┐ рдпрд╣ рдЕрдзреНрдпрд╛рдп рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ, рдкреГрд╖реНрда 163 рдкрд░, рдПрдкреЗрдВрдбрд┐рдХреНрд╕ <em>рдкреИрдХ</em> рдкреНрд▓рдЧрдЗрди, рдЖрдкрдХреЛ рдХреНрдпрд╛ рд╕рдВрднрд╡ рд╣реИ, рдЗрд╕рдХрд╛ рд╕реНрд╡рд╛рдж рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдЗрд╕ рдЕрдзреНрдпрд╛рдп рдореЗрдВ рдЖрдк рд╕реАрдЦреЗрдВрдЧреЗ рдХрд┐ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреИрд╕реЗ рдмрдирд╛рдПрдВ, рдФрд░ рдореИрдВ рдЖрдкрдХреЛ рдкрд░реАрдХреНрд╖рдг, рдкреИрдХреЗрдЬрд┐рдВрдЧ рдФрд░ рд╡рд┐рддрд░рдг рдХреЗ рд▓рд┐рдП рд╕рд╣реА рджрд┐рд╢рд╛ рджрд┐рдЦрд╛рдКрдВрдЧрд╛ред  рдкреВрд░реНрдг рдкрд╛рдпрдерди рдкреИрдХреЗрдЬрд┐рдВрдЧ рдФрд░ рд╡рд┐рддрд░рдг рд╡рд┐рд╖рдп рдмрд╣реБрдд рд╡реНрдпрд╛рдкрдХ рд╣реИ рдФрд░ рдЕрдкрдиреА рдкреБрд╕реНрддрдХ рд╣реЛрдиреЗ рдХрд╛ рджрд╛рд╡рд╛ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рд╕рдм рдХреБрдЫ рдХрд╡рд░ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЕрдкрдиреА рдЯреАрдо рдХреЗ рд╕рд╛рде рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХрд╛ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдЬрд╛рдирдХрд╛рд░реА рдорд┐рд▓реЗрдЧреАред  рдореИрдВ PyPI рд╕рдорд░реНрдерди рдФрд░ рдХрдо рд╕реЗ рдХрдо рдХрд╛рдо рдХреЗ рд╕рд╛рде рдкреНрд▓рдЧрдЗрдиреНрд╕ рдмрдирд╛рдиреЗ рдХреЗ рдХреБрдЫ рд╕рд░рд▓ рддрд░реАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред </p><br><h2 id="poisk-plaginov">  рдкреНрд▓рдЧрдЗрдиреНрд╕ рдЦреЛрдЬреЗрдВ </h2><br><p>  рдЖрдк рдХрдИ рдЬрдЧрд╣реЛрдВ рдкрд░ рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧ рдЗрди рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдкреГрд╖реНрда 163 рдкрд░ рдкрд░рд┐рд╢рд┐рд╖реНрдЯ 3, рдкреНрд▓рдЧ рдЗрди рд╕реИрдореНрдкрд▓рд░ рдкреИрдХ рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдкреНрд▓рдЧрдЗрдиреНрд╕, PyPI рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдорд╣рд╛рди рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХрдорд╛рддреНрд░ рд╕реНрдерд╛рди рдирд╣реАрдВ рд╣реИред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://docs.pytest.org/en/latest/plugins.html</a> </p><br><p>  рдореБрдЦреНрдп рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд░рд▓реЗрдЦрди рд╕рд╛рдЗрдЯ рдореЗрдВ рдПрдХ рдкреГрд╖реНрда рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХреБрдЫ рд╕рд╛рдорд╛рдиреНрдп рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рддрд╛ рд╣реИред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://pypi.python.org</a> </p><br><p>  рдкрд╛рдпрдерди рдкреИрдХреЗрдЬ рдЗрдВрдбреЗрдХреНрд╕ (PyPI) рдмрд╣реБрдд рд╕рд╛рд░реЗ рдкрд╛рдпрдерди рдкреИрдХреЗрдЬ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рд╛рдирджрд╛рд░ рдЬрдЧрд╣ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧ рдЗрди рдХреА рдЦреЛрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдПрдХ рд╢рд╛рдирджрд╛рд░ рдЬрдЧрд╣ рд╣реИред  рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧ рдЗрди рдХреА рдЦреЛрдЬ рдХрд░рддреЗ рд╕рдордп, рдмрд╕ "рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ," "рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ -" рдпрд╛ "-рдкрд╛рдЗрд╕реНрдЯ" рдХреЛ рд╕рд░реНрдЪ рдлреАрд▓реНрдб рдореЗрдВ рджрд░реНрдЬ рдХрд░реЗрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧ рдЗрди рдпрд╛ рддреЛ "рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ -" рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреЗ рд╣реИрдВ рдпрд╛ "-рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ" рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реЛрддреЗ рд╣реИрдВред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/pytest-dev</a> </p><br><p>  GitHub рдкрд░ pytest-dev рд╕рдореВрд╣ рд╡рд╣ рд╣реИ рдЬрд╣рд╛рдБ pytest рд╕реНрд░реЛрдд рдХреЛрдб рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣рд╛рдВ рдЖрдк рд▓реЛрдХрдкреНрд░рд┐рдп рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХрд░реНрдиреЗрд▓ рдЯреАрдо рджреНрд╡рд╛рд░рд╛ рд▓рдВрдмреЗ рд╕рдордп рдореЗрдВ рд╕рдорд░реНрдерд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><h2 id="ustanovka-plaginov">  рдкреНрд▓рдЧрдЗрди рд╕реНрдерд╛рдкрдирд╛ </h2><br><p>  рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧ рдХреЛ рдЕрдиреНрдп рдкрд╛рдпрдерди рдкреИрдХреЗрдЬреЛрдВ рдХреА рддрд░рд╣, рдкрд╛рдЗрдк рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, <br>  рдЖрдк рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рддрд░реАрдХреЛрдВ рд╕реЗ рдкрд╛рдЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="ustanovka-iz-pypi">  PyPI рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h3><br><p>  рдЪреВрдВрдХрд┐ PyPI рдкрд╛рдЗрдк рдХреЗ рд▓рд┐рдП рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдерд╛рди рд╣реИ, PyPI рд╕реЗ рдкреНрд▓рдЧ рдЗрди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рд╣реИред  рдЖрдЗрдП <code>pytest-cov</code> plugin рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">$ pip install pytest-cov</code> </pre> <br><p>  PyPI рд╕реЗ рдирд╡реАрдирддрдо рд╕реНрдерд┐рд░ рд╕рдВрд╕реНрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><h3 id="ustanovka-opredelennoy-versii-iz-pypi">  PyPI рд╕реЗ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕реНрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h3><br><p>  рдпрджрд┐ рдЖрдк рдкреНрд▓рдЧрдЗрди рдХрд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕реНрдХрд░рдг рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк <code>==</code> рдмрд╛рдж рд╕рдВрд╕реНрдХрд░рдг рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">$ pip install pytest-cov==2.4.0</code> </pre> <br><h3 id="ustanovka-iz-fayla-targz-ili-whl">  .Tar.gz рдпрд╛ .whl рдлрд╝рд╛рдЗрд▓ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h3><br><p>  PyPI рдкреИрдХреЗрдЬ рдХреЛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди <code>.tar.gz</code> рдФрд░ / рдпрд╛ <code>.whl</code> рд╕рд╛рде рдЬрд╝рд┐рдк рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЙрдиреНрд╣реЗрдВ рдЕрдХреНрд╕рд░ рдЯрд╛рд░ рдмреЙрд▓ рдФрд░ рдкрд╣рд┐рдпреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЛ рд╕реАрдзреЗ PyPI рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рд╕рдорд╕реНрдпрд╛ рд╣реИ (рдЬреЛ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдФрд░ рдЕрдиреНрдп рдиреЗрдЯрд╡рд░реНрдХ рдЬрдЯрд┐рд▓рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╣реЛ рд╕рдХрддреА рд╣реИ), рдЖрдк рдпрд╛ рддреЛ <code>.tar.gz</code> рдпрд╛ <code>.whl</code> рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдпрд╛ рдЙрд╕ рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдЖрдкрдХреЛ рдЯреИрдореНрдкреБрд░реАрди рдХреЗ рд╕рд╛рде рдЕрдирдкреИрдХ рдпрд╛ рдиреГрддреНрдп рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ;  рдмрд╕ рдЙрд╕ рдкрд░ рдкрд╛рдЗрдк: </p><br><pre> <code class="plaintext hljs">$ pip install pytest-cov-2.4.0.tar.gz # or $ pip install pytest_cov-2.4.0-py2.py3-none-any.whl</code> </pre> <br><h3 id="ustanovka-iz-lokalnogo-kataloga">  рд╕реНрдерд╛рдиреАрдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реЗ рд╕реНрдерд╛рдкрдирд╛ </h3><br><p>  рдЖрдкрдХреЗ рдкрд╛рд╕ <code>.tar.gz</code> рдпрд╛ <code>.whl</code> рдореЗрдВ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдпрд╛ рд╕рд╛рдЭрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдкреНрд▓рдЧрдЗрдиреНрд╕ (рдФрд░ рдЕрдиреНрдп рдкрд╛рдпрдерди рдкреИрдХреЗрдЬ) рдХреЗ рд▓рд┐рдП рдкреНрд▓рдЧрдЗрдиреНрд╕ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП PyPI рдХреЗ рдмрдЬрд╛рдп рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">$ mkdir some_plugins $ cp pytest_cov-2.4.0-py2.py3-none-any.whl some_plugins/ $ pip install --no-index --find-links=./some_plugins/ pytest-cov</code> </pre> <br><p>  <code>--no-index</code> <code>pip</code> рдХреЛ PyPI рд╕реЗ рдХрдиреЗрдХреНрдЯ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддрд╛ рд╣реИред  <code>--find-links=./some_plugins/</code> рдкрд╛рдЗрдк рдХреЛ <code>some_plugins</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддрд╛ рд╣реИред  рдпрд╣ рд╡рд┐рдзрд┐ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИ рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдФрд░ рдЖрдкрдХреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд▓рдЧрдЗрдиреНрд╕ рджреЛрдиреЛрдВ рд╣реИрдВ, рд╕рд╛рде рд╣реА рдпрджрд┐ рдЖрдк рдирд┐рд░рдВрддрд░ рдПрдХреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдпрд╛ рд╡рд┐рд╖рд╛рдХреНрдд рдХреЗ рд╕рд╛рде рдирдП рдЖрднрд╛рд╕реА рд╡рд╛рддрд╛рд╡рд░рдг рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВред  (рд╣рдо рдЕрдзреНрдпрд╛рдп 7 рдореЗрдВ рдкреЗрдЬ 7 рдкрд░ рдЕрдиреНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдЕрдзреНрдпрд╛рдп 7 рдореЗрдВ рдЬрд╣рд░реАрд▓реЗ рдФрд░ рдирд┐рд░рдВрддрд░ рдПрдХреАрдХрд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗред) </p><br><p>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрдерд╛рдиреАрдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк рдХрдИ рд╕рдВрд╕реНрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рдХреМрди рд╕рд╛ рд╕рдВрд╕реНрдХрд░рдг == рдФрд░ рд╕рдВрд╕реНрдХрд░рдг рд╕рдВрдЦреНрдпрд╛ рдЬреЛрдбрд╝рдХрд░ рдЪрд╛рд╣рддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">$ pip install --no-index --find-links=./some_plugins/ pytest-cov==2.4.0</code> </pre> <br><h3 id="ustanovka-iz-repozitoriya-git">  Git рднрдВрдбрд╛рд░ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h3><br><p>  рдЖрдк рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ Git рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реЗ рд╕реАрдзреЗ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ GitHub: </p><br><pre> <code class="plaintext hljs">$ pip install git+https://github.com/pytest-dev/pytest-cov</code> </pre> <br><p>  рдЖрдк рд╕рдВрд╕реНрдХрд░рдг рдЯреИрдЧ рднреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">$ pip install git+https://github.com/pytest-dev/pytest-cov@v2.4.0</code> </pre> <br><p>  рдпрд╛ рдЖрдк рдПрдХ рд╢рд╛рдЦрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">$ pip install git+https://github.com/pytest-dev/pytest-cov@master</code> </pre> <br><p>  Git рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИ рдпрджрд┐ рдЖрдк Git рдореЗрдВ рдЕрдкрдирд╛ рдХрд╛рдо рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдпрд╛ рдпрджрд┐ рдкреНрд▓рдЧ рдпрд╛ рдкреНрд▓рдЧрдЗрди рдХрд╛ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрд╕реНрдХрд░рдг PyPI рд╕реЗ рдЧрд╛рдпрдм рд╣реИред </p><br><blockquote>  <em>рдЕрдиреБрд╡рд╛рджрдХ рдиреЛрдЯ:</em> <br><br>  рдкрд╛рдЗрдк Git, Mercurial, Subversion, рдФрд░ Bazaar рд╕реЗ рд╕реНрдерд╛рдкрдирд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ рдФрд░ url рдЙрдкрд╕рд░реНрдЧреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ VCS рдкреНрд░рдХрд╛рд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ: "git +", "hg +", "svn +", "bzr +"ред <br>  рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓рд┐рдП PyPI рдкреНрд░рд▓реЗрдЦрди</a> рджреЗрдЦреЗрдВред </blockquote><br><h2 id="napisanie-sobstvennyh-plaginov">  рдЕрдкрдиреЗ рдЦреБрдж рдХреЗ рдкреНрд▓рдЧрдЗрдиреНрд╕ рд▓рд┐рдЦрдирд╛ </h2><br><p>  рдХрдИ рддреГрддреАрдп-рдкрдХреНрд╖ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдХреЛрдб рд╣реЛрддреЗ рд╣реИрдВред  рдпрд╣ рдЙрди рдХрд╛рд░рдгреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо рдЕрдкрдиреЗ рд╕рдордп рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЖрдкрдХреЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЛрдб рдХреЗ рд▓рд┐рдП, рдЖрдк рдирд┐рд╕реНрд╕рдВрджреЗрд╣ рдЗрд╕реЗ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рдЬреБрдбрд╝рдирд╛рд░ рдФрд░ рд╕рдВрд╢реЛрдзрдиреЛрдВ рдХреЗ рд╕рд╛рде рдЖрдПрдВрдЧреЗред  рдПрдХ рдкреНрд▓рдЧрдЗрди рдмрдирд╛рдХрд░, рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдХрдИ рдЬреБрдбрд╝рдирд╛рд░ рд╕рд╛рдЭрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдХрдИ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рдмреАрдЪ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдЖрдк рдЗрди рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдХрдИ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рдФрд░ рд╕рдВрднрд╡рддрдГ рджреБрдирд┐рдпрд╛ рдХреЗ рдмрд╛рдХреА рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЗ рд╕рд╛рде - рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдФрд░ рд╡рд┐рддрд░рд┐рдд рдХрд░рдХреЗред  рдпрд╣ рдХрд░рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред  рдЗрд╕ рдЦрдВрдб рдореЗрдВ, рд╣рдо pytest рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рд╕рдВрд╢реЛрдзрди рд╡рд┐рдХрд╕рд┐рдд рдХрд░реЗрдВрдЧреЗ, рдЗрд╕реЗ рдПрдХ рдкреНрд▓рдЧрдЗрди рдХреЗ рд░реВрдк рдореЗрдВ рдкреИрдХ рдХрд░реЗрдВрдЧреЗ, рдЗрд╕рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВрдЧреЗ рдФрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдЗрд╕реЗ рдХреИрд╕реЗ рд╡рд┐рддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред </p><br><p>  рдкреНрд▓рдЧрдЗрдиреНрд╕ рдореЗрдВ рд╣реБрдХ рдлрд╝рдВрдХреНрд╢рди рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдЪреВрдВрдХрд┐ рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХреЛ рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХреЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдереЛрдбрд╝рд╛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХрдИ рд╣реБрдХ рдлрд╝рдВрдХреНрд╢рди рдЙрдкрд▓рдмреНрдз рд╣реИрдВред  рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рд╣реБрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд░рд▓реЗрдЦрди рд╕рд╛рдЗрдЯ</a> рдкрд░ рд╕реВрдЪреАрдмрджреНрдз рд╣реИрдВред  рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдо рдПрдХ рдкреНрд▓рдЧрдЗрди рдмрдирд╛рдПрдВрдЧреЗ рдЬреЛ рдкрд░реАрдХреНрд╖рдг рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЛ рдмрджрд▓ рджреЗрдЧрд╛ред  рдЗрд╕ рдирдП рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдкреИрд░рд╛рдореАрдЯрд░ рдЬреЛрдбрд╝реЗрдВред  рдЖрдЙрдЯрдкреБрдЯ рд╣реЗрдбрд░ рдореЗрдВ рдЯреЗрдХреНрд╕реНрдЯ рдЬреЛрдбрд╝реЗрдВред  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рд╣рдо рд╕рднреА рд╡рд┐рдлрд▓ рд╕реНрдерд┐рддрд┐ рд╕рдВрдХреЗрддрдХ (рд╡рд┐рдлрд▓) рдХреЛ "рд╕реБрдзрд╛рд░ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╛рд╡рдирд╛ (рд╕реБрдзрд╛рд░)" рдореЗрдВ рдмрджрд▓ рджреЗрдВрдЧреЗ, рдПрдл рдХреЛ рдУ рдореЗрдВ рдмрджрд▓ рджреЗрдВрдЧреЗ, рдФрд░ рд╣реЗрдбрд░ рдореЗрдВ "рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж" рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо <code>--nice</code> рд╡рд┐рдХрд▓реНрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдкреНрд▓рдЧрдЗрди рдореИрдХреЗрдирд┐рдХреНрд╕ рдХреА рдЪрд░реНрдЪрд╛ рд╕реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдЕрд▓рдЧ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЗрд╕реЗ рдкреБрдирд░реНрд╡рд┐рддрд░рдг рдкреНрд▓рдЧрдЗрди рдореЗрдВ рдмрджрд▓рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ conftest.py рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд░реЗрдВрдЧреЗред  рдЖрдкрдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдЪрд▓рд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдХреНрд╕рд░, рдХреЗрд╡рд▓ рдПрдХ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкрд░рд┐рд╡рд░реНрддрди рдПрдХ рдкреНрд▓рдЧрдЗрди рдореЗрдВ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдФрд░ рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдЙрдкрдпреЛрдЧреА рд╣реЛрдВрдЧреЗред  рдЗрд╕рд▓рд┐рдП, рд╣рдо conftest.py рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝рдХрд░ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░, conftest.py рдореЗрдВ рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдХреЛрдб рдХреЛ рдкреИрдХреЗрдЬ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рд╡рд╛рдкрд╕ рдХрд╛рд░реНрдп рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдПред  рдкреГрд╖реНрда 30 рдкрд░ "рдкреНрд░рддреАрдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рддреАрдХреНрд╖рд╛" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ, рд╣рдордиреЗ рдХрдИ рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦреЗ рдЬреЛ рдпрд╣ рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдЕрдкрд╡рд╛рдж рдХреЛ рдХрд┐рд╕реА рдиреЗ рдПрдкреАрдЖрдИ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЧрд▓рдд рддрд░реАрдХреЗ рд╕реЗ рдХрд╣рд╛ рдерд╛ред  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рдо рдХрдо рд╕реЗ рдХрдо рдХреБрдЫ рддреНрд░реБрдЯрд┐ рд░рд╛рдЬреНрдпреЛрдВ рдХреЛ рдпрд╛рдж рдХрд░ рд░рд╣реЗ рд╣реИрдВред </p><br><p>  рдпрд╣рд╛рдБ рдХреБрдЫ рдФрд░ рдкрд░реАрдХреНрд╖рдг рд╣реИрдВ: </p><br><blockquote>  <strong>ch5 / a / functions_proj / рдкрд░реАрдХреНрд╖рдг / func / test_api_exception.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""     API wrong."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tasks <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tasks <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Task @pytest.mark.usefixtures(<span class="hljs-string"><span class="hljs-string">'tasks_db'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestAdd</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-string"><span class="hljs-string">""",   tasks.add()."""</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_missing_summary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  ,  summary missing."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> pytest.raises(ValueError): tasks.add(Task(owner=<span class="hljs-string"><span class="hljs-string">'bob'</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_done_not_bool</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  ,  done   bool."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> pytest.raises(ValueError): tasks.add(Task(summary=<span class="hljs-string"><span class="hljs-string">'summary'</span></span>, done=<span class="hljs-string"><span class="hljs-string">'True'</span></span>))</code> </pre><br><p>  рдпрджрд┐ рд╡реЗ рдкрд╛рд╕ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рдЪрд▓рд╛рдПрдВ </p><br><pre> <code class="plaintext hljs">$ cd /path/to/code/ch5/a/tasks_proj $ pytest ===================== test session starts ====================== collected 57 items tests/func/test_add.py ... tests/func/test_add_variety.py ............................ tests/func/test_add_variety2.py ............ tests/func/test_api_exceptions.py .F....... tests/func/test_unique_id.py . tests/unit/test_task.py .... =========================== FAILURES =========================== __________________ TestAdd.test_done_not_bool __________________ self = &lt;func.test_api_exceptions.TestAdd object at 0x103a71a20&gt; def test_done_not_bool(self): """Should raise an exception if done is not a bool.""" with pytest.raises(ValueError): &gt; tasks.add(Task(summary='summary', done='True')) E Failed: DID NOT RAISE &lt;class 'ValueError'&gt; tests/func/test_api_exceptions.py:20: Failed ============= 1 failed, 56 passed in 0.28 seconds ==============</code> </pre><br><p>  рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП <code>-v</code> рдХреЗ рд╕рд╛рде рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдЪрд▓рд╛рддреЗ рд╣реИрдВред  рдЪреВрдБрдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╣реА рдЯреНрд░реЗрд╕ рджреЗрдЦ рдЪреБрдХреЗ рд╣реИрдВ, рдЖрдк рдЗрд╕реЗ рдмрдВрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - <code>--tb=no</code> ред </p><br><p>  рдЕрдм рдЖрдЗрдП <code>-k TestAdd</code> рд╕рд╛рде рдирдП рдкрд░реАрдХреНрд╖рдгреЛрдВ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реЗрдВ, рдЬреЛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ "TestAdd" рдирд╛рдо рд╡рд╛рд▓реЗ рдХреЛрдИ рдЕрдиреНрдп рдкрд░реАрдХреНрд╖рдг рдирд╣реАрдВ рд╣реИрдВред </p><br><p>  рд╣рдо "рд╕рдм рдХреБрдЫ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ" рдФрд░ рдЗрд╕ рдкрд░реАрдХреНрд╖рдг рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдФрд░ рд╣рдо рдЗрд╕реЗ рдмрд╛рдж рдореЗрдВ рдХрд░реЗрдВрдЧреЗ), рд▓реЗрдХрд┐рди рдЕрдм рд╣рдо рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рд╕реБрдЦрдж рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдЪрд▓рд┐рдП рд╣реЗрдбрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдзрдиреНрдпрд╡рд╛рдж рд╕рдВрджреЗрд╢ рдЬреЛрдбрд╝рдХрд░ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рдЖрдк <code>pytest_report_header()</code> рдирд╛рдордХ рдПрдХ рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рд╣реБрдХ рдХреЗ рд╕рд╛рде рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><blockquote>  <strong>ch5 / b / task_proj / рдкрд░реАрдХреНрд╖рдг / conftest.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_report_header</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Thanks for running the tests."</span></span></code> </pre> <br><p>  рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдзрдиреНрдпрд╡рд╛рдж рдиреЛрдЯ рдЯрд╛рдЗрдк рдХрд░рдирд╛ рдмрд╣реБрдд рд╣реА рдореВрд░реНрдЦрддрд╛рдкреВрд░реНрдг рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣реЗрдбрд░ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдЬреЛрдбрд╝рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдк рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдЙрдкрдХрд░рдгреЛрдВ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рд╕рдм рдХреБрдЫ рдЬрд┐рд╕реЗ рдЖрдк рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдкрд░реАрдХреНрд╖рдг рдХреЗ рд╢реАрд░реНрд╖рдХ рдореЗрдВ рдбрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдлрд┐рд░ рд╣рдо <code>OPPORTUNITY for improvement</code> <code>F</code> рд╕реЗ <code>O</code> рдФрд░ <code>FAILED</code> рдХреЛ <code>OPPORTUNITY for improvement</code> рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЯреЗрд╕реНрдЯ рд╕реНрдЯреЗрдЯрд╕ рд░рд┐рдкреЛрд░реНрдЯ рдХреЛ рдмрджрд▓ рджреЗрдВрдЧреЗред  рдПрдХ рд╣реБрдХ рд╣реИ рдЬреЛ рдЗрд╕ рд╕рдВрдмрдВрдз рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: <code>pytest_report_teststatus()</code> : </p><br><blockquote>  <strong>ch5 / b / task_proj / рдкрд░реАрдХреНрд╖рдг / conftest.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_report_teststatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(report)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""   ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> report.when == <span class="hljs-string"><span class="hljs-string">'call'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> report.failed: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (report.outcome, <span class="hljs-string"><span class="hljs-string">'O'</span></span>, <span class="hljs-string"><span class="hljs-string">'OPPORTUNITY for improvement'</span></span>)</code> </pre> <br><p>  рдФрд░ рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдмрд╕ рд╡рд╣ рдЙрдкрд╛рдп рд╣реИ рдЬрд┐рд╕рдХреА рд╣рдо рддрд▓рд╛рд╢ рдХрд░ рд░рд╣реЗ рдереЗред  <code>--verbose</code> рдлрд╝реНрд▓реИрдЧ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдкрд░реАрдХреНрд╖рдг рд╕рддреНрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП <code>O</code> рджрд┐рдЦрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд, рд╕реБрдзрд╛рд░ рд╕рдВрднрд╡ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">$ cd /path/to/code/ch5/b/tasks_proj/tests/func $ pytest --tb=no test_api_exceptions.py -k TestAdd ===================== test session starts ====================== Thanks for running the tests. collected 9 items test_api_exceptions.py .O ====================== 7 tests deselected ====================== ======= 1 failed, 1 passed, 7 deselected in 0.06 seconds =======</code> </pre> <br><p>  <code>-v</code> рдпрд╛ <code>--verbose</code> рдзреНрд╡рдЬ рдХреЗ рд╕рд╛рде рдмреЗрд╣рддрд░ рд╣реЛрдЧрд╛: </p><br><pre> <code class="plaintext hljs">$ pytest -v --tb=no test_api_exceptions.py -k TestAdd ===================== test session starts ====================== Thanks for running the tests. collected 9 items test_api_exceptions.py::TestAdd::test_missing_summary PASSED test_api_exceptions.py::TestAdd::test_done_not_bool OPPORTUNITY for improvement ====================== 7 tests deselected ====================== ======= 1 failed, 1 passed, 7 deselected in 0.07 seconds =======</code> </pre> <br><p>  рдЕрдВрддрд┐рдо рдмрджрд▓рд╛рд╡ рд╣рдо рдПрдХ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдкреИрд░рд╛рдореАрдЯрд░, <code>--nice,</code> рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ <code>--nice,</code> рддрд╛рдХрд┐ рд╣рдорд╛рд░реА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рддрднреА рд╣реЛ рдЬрдм рдЖрдк рд╕реНрдерд╛рдирд╛рдкрдиреНрди <code>--nice</code> : - </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_addoption</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parser)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" nice    --nice."""</span></span> group = parser.getgroup(<span class="hljs-string"><span class="hljs-string">'nice'</span></span>) group.addoption(<span class="hljs-string"><span class="hljs-string">"--nice"</span></span>, action=<span class="hljs-string"><span class="hljs-string">"store_true"</span></span>, help=<span class="hljs-string"><span class="hljs-string">"nice: turn failures into opportunities"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_report_header</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> pytest.config.getoption(<span class="hljs-string"><span class="hljs-string">'nice'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Thanks for running the tests."</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_report_teststatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(report)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""   ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> report.when == <span class="hljs-string"><span class="hljs-string">'call'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> report.failed <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pytest.config.getoption(<span class="hljs-string"><span class="hljs-string">'nice'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (report.outcome, <span class="hljs-string"><span class="hljs-string">'O'</span></span>, <span class="hljs-string"><span class="hljs-string">'OPPORTUNITY for improvement'</span></span>)</code> </pre><br><p>  рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдЗрд╕ рдкреНрд▓рдЧрдЗрди рдХреЗ рд▓рд┐рдП рд╣рдо рдХреЗрд╡рд▓ рдПрдХ-рджреЛ рд╣реБрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдХрдИ рдЕрдиреНрдп рд╣реИрдВ рдЬреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореБрдЦреНрдп рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд░рд▓реЗрдЦрди рд╕рд╛рдЗрдЯ</a> рдкрд░ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдЕрдм рд╣рдо рдЕрдкрдиреЗ рдкреНрд▓рдЧрдЗрди рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдЪрд▓рд╛рдХрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкрд╣рд▓рд╛, рдмрд┐рдирд╛ <code>--nice</code> рд╡рд┐рдХрд▓реНрдк рдХреЗ, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреЗрд╡рд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">$ cd /path/to/code/ch5/c/tasks_proj/tests/func $ pytest --tb=no test_api_exceptions.py -k TestAdd ===================== test session starts ====================== collected 9 items test_api_exceptions.py .F ====================== 7 tests deselected ====================== ======= 1 failed, 1 passed, 7 deselected in 0.07 seconds =======</code> </pre><br><p>  рдЕрдм рд╕рд╛рде - <code>--nice</code> : </p><br><pre> <code class="plaintext hljs">$ pytest --nice --tb=no test_api_exceptions.py -k TestAdd ===================== test session starts ====================== Thanks for running the tests. collected 9 items test_api_exceptions.py .O ====================== 7 tests deselected ====================== ======= 1 failed, 1 passed, 7 deselected in 0.07 seconds =======</code> </pre> <br><p>  рдЕрдм рд╕рд╛рде <code>--nice</code> рдФрд░ <code>--verbose</code> : </p><br><pre> <code class="plaintext hljs">$ pytest -v --nice --tb=no test_api_exceptions.py -k TestAdd ===================== test session starts ====================== Thanks for running the tests. collected 9 items test_api_exceptions.py::TestAdd::test_missing_summary PASSED test_api_exceptions.py::TestAdd::test_done_not_bool OPPORTUNITY for improvement ====================== 7 tests deselected ====================== ======= 1 failed, 1 passed, 7 deselected in 0.06 seconds =======</code> </pre> <br><p>  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛!  рд╕рднреА рдмрджрд▓рд╛рд╡ рдЬреЛ рд╣рдо рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рдереЗ, рд╡реЗ рд▓рдЧрднрдЧ рджрд╕ рд▓рд╛рдЗрдиреЛрдВ рдХреЗ <code>conftest.py</code> рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдХрд┐рдП рдЧрдП рдереЗред  рдЖрдЧреЗ рд╣рдо рдЗрд╕ рдХреЛрдб рдХреЛ рдкреНрд▓рдЧрдЗрди рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдореЗрдВ рд▓реЗ рдЬрд╛рдПрдВрдЧреЗред </p><br><h2 id="sozdanie-ustanavlivaemogo-plagina">  рдПрдХ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдкреНрд▓рдЧрдЗрди рдмрдирд╛рдирд╛ </h2><br><p>  рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдкреНрд▓рдЧрдЗрдиреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рд╣реИред  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдк рдХрднреА рднреА рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд▓рдЧрдЗрди рдХреЛ PyPI рдореЗрдВ рдЪрд╛рд▓реВ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реЗ рдЧреБрдЬрд░рдиреЗ рд╕реЗ рдЖрдкрдХреЛ рдУрдкрди рд╕реЛрд░реНрд╕ рдкреНрд▓рдЧрдЗрдиреНрд╕ рд╕реЗ рдХреЛрдб рдкрдврд╝рдирд╛ рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдпрд╣ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдиреЗ рдХреЗ рдЕрдзрд┐рдХ рдЕрд╡рд╕рд░ рд╣реЛрдВрдЧреЗ рдХрд┐ рд╡реЗ рдЖрдкрдХреА рдорджрдж рдХрд░реЗрдВрдЧреЗ рдпрд╛ рдирд╣реАрдВред </p><br><p>  рдЗрд╕ рдкреБрд╕реНрддрдХ рдореЗрдВ рдкрд╛рдЗрдерди рдкреИрдХреЗрдЬреЛрдВ рдХреА рдкреИрдХреЗрдЬрд┐рдВрдЧ рдФрд░ рд╡рд┐рддрд░рдг рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╡рд░ рдХрд░рдирд╛ рдмрд╣реБрдд рд╣реА рдЙрдЪрд┐рдд рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╡рд┐рд╖рдп рдХрд╣реАрдВ рдФрд░ рдкреНрд░рд▓реЗрдЦрд┐рдд рд╣реИред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рд░реВрд╕реА рдореЗрдВред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рд╕реНрдерд╛рдиреАрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреНрд▓рдЧ-рдЗрди рд╕реЗ рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реБрдП рд╣рдордиреЗ рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ рдкрд╛рдЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреБрдЫ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рд╣реИ, рдпрд╣ рдХреЛрдИ рдмрдбрд╝реА рдмрд╛рдд рдирд╣реАрдВ рд╣реИред  ред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдЕрдкрдиреЗ рдкреНрд▓рдЧрдЗрди рдХреЛрдб рдХреЛ рд╣реЛрд╕реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдИ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рдЖрдк рдЗрд╕реЗ рдХреНрдпрд╛ рдХрд╣рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЬрдм рд╕реЗ рд╣рдо рдЕрдЪреНрдЫреЗ рдЭрдВрдбреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд▓рдЧрдЗрди рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЗрд╕реЗ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдХрд╣рддреЗ рд╣реИрдВред  рдЗрд╕ рдирдИ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдлрд╛рдЗрд▓реЗрдВ рд╣реЛрдВрдЧреА: pytest_nice.py рдФрд░ setup.pyред  (рдкрд░реАрдХреНрд╖рдг рд╕реВрдЪреА рдкреГрд╖реНрда 105 рдкрд░ "рдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧрдЗрдиреНрд╕" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХреА рдЬрд╛рдПрдЧреАред) </p><br><pre> <code class="plaintext hljs">тФВ LICENSE тФВ pytest_nice.py тФВ setup.py тФВ тФФтФАтФАтФАtests тФВ conftest.py тФВ test_nice.py</code> </pre><br><p>  <code>pytest_nice.py</code> , рд╣рдо рдЕрдкрдиреЗ conftest.py рдХреА рд╕рдЯреАрдХ рд╕рд╛рдордЧреНрд░реА рдбрд╛рд▓рддреЗ рд╣реИрдВ рдЬреЛ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рд╕реЗ рдЬреБрдбрд╝реА рд╣реБрдИ рдереА (рдФрд░ рдЗрд╕реЗ <code>tasks_proj/tests/conftest.py</code> ): </p><br><p>  <strong>ch5 / pytest-nice / pytest_nice.py</strong> </p><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""  pytest-nice ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_addoption</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parser)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" nice    --nice."""</span></span> group = parser.getgroup(<span class="hljs-string"><span class="hljs-string">'nice'</span></span>) group.addoption(<span class="hljs-string"><span class="hljs-string">"--nice"</span></span>, action=<span class="hljs-string"><span class="hljs-string">"store_true"</span></span>, help=<span class="hljs-string"><span class="hljs-string">"nice: turn FAILED into OPPORTUNITY for improvement"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_report_header</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> pytest.config.getoption(<span class="hljs-string"><span class="hljs-string">'nice'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Thanks for running the tests."</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pytest_report_teststatus</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(report)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""   ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> report.when == <span class="hljs-string"><span class="hljs-string">'call'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> report.failed <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> pytest.config.getoption(<span class="hljs-string"><span class="hljs-string">'nice'</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (report.outcome, <span class="hljs-string"><span class="hljs-string">'O'</span></span>, <span class="hljs-string"><span class="hljs-string">'OPPORTUNITY for improvement'</span></span>)</code> </pre> <br><p>  <code>setup.py</code> рд╣рдореЗрдВ <code>setup()</code> рд▓рд┐рдП рд╕рдмрд╕реЗ рдиреНрдпреВрдирддрдо рдХреЙрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <code>setup()</code> : </p><br><blockquote>  <strong>ch5 / pytest-nice / setup.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""Setup  pytest-nice plugin."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> setuptools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> setup setup( name=<span class="hljs-string"><span class="hljs-string">'pytest-nice'</span></span>, version=<span class="hljs-string"><span class="hljs-string">'0.1.0'</span></span>, description=<span class="hljs-string"><span class="hljs-string">' Pytest,   FAILURE into OPPORTUNITY'</span></span>, url=<span class="hljs-string"><span class="hljs-string">'https:////////'</span></span>, author=<span class="hljs-string"><span class="hljs-string">' '</span></span>, author_email=<span class="hljs-string"><span class="hljs-string">'your_email@somewhere.com'</span></span>, license=<span class="hljs-string"><span class="hljs-string">'proprietary'</span></span>, py_modules=[<span class="hljs-string"><span class="hljs-string">'pytest_nice'</span></span>], install_requires=[<span class="hljs-string"><span class="hljs-string">'pytest'</span></span>], entry_points={<span class="hljs-string"><span class="hljs-string">'pytest11'</span></span>: [<span class="hljs-string"><span class="hljs-string">'nice = pytest_nice'</span></span>, ], }, )</code> </pre> <br><p>  рдпрджрд┐ рдЖрдкрдХреЛ рдЗрд╕реЗ рд╡реНрдпрд╛рдкрдХ рджрд░реНрд╢рдХреЛрдВ рдпрд╛ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рд╡рд┐рддрд░рд┐рдд рдХрд░рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ рдЫреЛрдЯреА рдЯреАрдо рдХреЗ рд▓рд┐рдП рдпрд╛ рд╕рд┐рд░реНрдл рдЕрдкрдиреЗ рд▓рд┐рдП, рдпрд╣ рдХрд╛рдлреА рд╣реЛрдЧрд╛ред </p><br><p>  рдЖрдк <code>setup()</code> рд▓рд┐рдП рдХреБрдЫ рдЕрдиреНрдп рдкреИрд░рд╛рдореАрдЯрд░ рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <code>setup()</code> ;  рдФрд░ рдпрд╣рд╛рдБ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдЖрд╡рд╢реНрдпрдХ рдХреНрд╖реЗрддреНрд░ рд╣реИрдВред  рд╕рдВрд╕реНрдХрд░рдг рдлрд╝реАрд▓реНрдб рдЗрд╕ рдкреНрд▓рдЧрдЗрди рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг рд╣реИред  рдФрд░ рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЖрдк рдкрд░ рдирд┐рд░реНрднрд░ рд╣реИ рдЬрдм рдЖрдк рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд▓рд╛рддреЗ рд╣реИрдВред  URL рдлрд╝реАрд▓реНрдб рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдЖрдк рдЗрд╕реЗ рдЦрд╛рд▓реА рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдПрдХ рдЪреЗрддрд╛рд╡рдиреА рдорд┐рд▓реЗрдЧреАред  <code>author</code> рдФрд░ <code>author_email</code> рдХреЛ <code>maintainer</code> рдФрд░ <code>author_email</code> рд╕рд╛рде рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрдирдореЗрдВ рд╕реЗ рдПрдХ рдЬреЛрдбрд╝рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  <code>license</code> рдлрд╝реАрд▓реНрдб рдПрдХ рдЫреЛрдЯрд╛ рдЯреЗрдХреНрд╕реНрдЯ рдлрд╝реАрд▓реНрдб рд╣реИред  рдпрд╣ рдХрдИ рдЦреБрд▓реЗ рд╕реНрд░реЛрдд рд▓рд╛рдЗрд╕реЗрдВрд╕реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЖрдкрдХрд╛ рдирд╛рдо рдпрд╛ рдХрдВрдкрдиреА, рдпрд╛ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдХреБрдЫред  <code>py_modules</code> <code>pytest_nice</code> рдХреЛ рдЗрд╕ рдкреНрд▓рдЧрдЗрди рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реЗ рдПрдХрдорд╛рддреНрд░ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз <code>pytest_nice</code> ред  рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдПрдХ рд╕реВрдЪреА рд╣реИ, рдФрд░ рдЖрдк рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдореЙрдбреНрдпреВрд▓ рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрдЧрд░ рдореЗрд░реЗ рдкрд╛рд╕ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдерд╛, рддреЛ рдореИрдВ рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реВрдВрдЧрд╛ рдФрд░ рд╕рднреА рдореЙрдбреНрдпреВрд▓ рдХреЛ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдбрд╛рд▓реВрдВрдЧрд╛ред </p><br><p>  рдЕрдм рддрдХ, рд╕рднреА <code>setup()</code> рд╡рд┐рдХрд▓реНрдк рдорд╛рдирдХ рд╣реИрдВ рдФрд░ рд╕рднреА рдкрд╛рдпрдерди рдЗрдВрд╕реНрдЯреЙрд▓рд░ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣рд┐рд╕реНрд╕рд╛ рдПрдВрдЯреНрд░реА_ <code>entry_points</code> рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИред  рд╣рдордиреЗ <code>entry_points={'pytest11': ['nice = pytest_nice', ], },.</code> рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рдпрд╛ рд╣реИ <code>entry_points={'pytest11': ['nice = pytest_nice', ], },.</code>  <code>entry_points</code> рдлрд╝рдВрдХреНрд╢рди <code>entry_points</code> рд▓рд┐рдП рдорд╛рдирдХ рд╣реИ, рд▓реЗрдХрд┐рди pytest11 рд╡рд╣ рд╡рд┐рд╢реЗрд╖ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ pytest рдЦреЛрдЬ рд░рд╣рд╛ рд╣реИред  рдЗрд╕ рдкрдВрдХреНрддрд┐ рдореЗрдВ, рд╣рдо pytest рдХреЛ рдмрддрд╛рддреЗ рд╣реИрдВ рдХрд┐ <code>nice</code> рд╣рдорд╛рд░реЗ рдкреНрд▓рдЧрдЗрди рдХрд╛ рдирд╛рдо рд╣реИ, рдФрд░ <code>pytest_nice</code> рдЙрд╕ рдореЙрдбреНрдпреВрд▓ рдХрд╛ рдирд╛рдо рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╣рдорд╛рд░рд╛ рдкреНрд▓рдЧрдЗрди рд░рд╣рддрд╛ рд╣реИред  рдпрджрд┐ рд╣рдо рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣рд╛рдВ рд╣рдорд╛рд░рд╛ рдкреНрд░рд╡реЗрд╢ рд╣реЛрдЧрд╛: </p><br><p>  рдореИрдВрдиреЗ <code>README.rst</code> рдлрд╝рд╛рдЗрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдирд╣реАрдВ рдХреА <code>README.rst</code> ред  рдЖрд░рдИрдПрдбреАрдПрдордИ рдХрд╛ рдХреБрдЫ рд░реВрдк рд╕реЗрдЯрдкреВрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдпрд╣ рдорд┐рд▓реЗрдЧрд╛: </p><br><pre> <code class="plaintext hljs">... warning: sdist: standard file not found: should have one of README, README.rst, README.txt ...</code> </pre><br><p>  README рдХреЛ рдХреБрдЫ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреЗ рдорд╛рдирдХ рддрд░реАрдХреЗ рдХреЗ рд░реВрдк рдореЗрдВ рд░рдЦрдирд╛ рд╡реИрд╕реЗ рднреА рдПрдХ рдЕрдЪреНрдЫрд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИред  рдпрд╣рд╛рдБ рдореИрдВ pytest-рдЕрдЪреНрдЫрд╛ рдХреЗ рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдХреНрдпрд╛ рд░рдЦрд╛ рд╣реИ: </p><br><blockquote>  <strong>ch5 / pytest-nice / README.rst</strong> </blockquote><br><pre> <code class="plaintext hljs">pytest-nice : A pytest plugin =============================   pytest     .  -------- -   ,     pytest. -  ``--nice`` , : -  ``F``  ``O`` -  ``-v``,  ``FAILURE``  ``OPPORTUNITY for improvement``  ------------ ,    Pytest    .tar.gz    PATH,  : :: $ pip install PATH/pytest-nice-0.1.0.tar.gz $ pip install --no-index --find-links PATH pytest-nice  ----- :: $ pytest --nice</code> </pre><br><p>  README рдлрд╛рдЗрд▓ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕ рдкрд░ рдХрдИ рд░рд╛рдп рд╣реИрдВред  рдпрд╣ рдПрдХ рднрд╛рд░реА рдлрд╕рд▓реА рд╕рдВрд╕реНрдХрд░рдг рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </p><br><h2 id="testirovanie-plaginov">  рдкрд░реАрдХреНрд╖рдг рдкреНрд▓рдЧрдЗрдиреНрд╕ </h2><br><p>  рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЛрдб рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдХрд┐рд╕реА рдЕрдиреНрдп рдХреЛрдб рдХреА рддрд░рд╣ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкрд░реАрдХреНрд╖рдг рдЙрдкрдХрд░рдг рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИред  рдЬрдм рд╣рдордиреЗ рдкреГрд╖реНрда 98 рдкрд░, "рд▓реЗрдЦрди рдпреЛрд░ рдУрди рдкреНрд▓рдЧрдЗрдиреНрд╕" рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдкреНрд▓рдЧрдЗрди рдХреЛрдб рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛, рддреЛ рд╣рдордиреЗ рдЗрд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдПрдХ рдирдореВрдирд╛ рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЗрд╕рдХреЗ рд╕рд╛рде pytest рдЪрд▓рд╛рдХрд░ рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЙрдЯрдкреБрдЯ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдХреЗ рдХрд┐ рдпрд╣ рд╕рд╣реА рдерд╛ред  рд╣рдо <code>pytester</code> рдирд╛рдордХ рдПрдХ рдкреНрд▓рдЧрдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдореЛрдб рдореЗрдВ рднреА рдРрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ pytest рдХреЗ рд╕рд╛рде рдЖрддрд╛ рд╣реИ рд▓реЗрдХрд┐рди рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЕрдХреНрд╖рдо рд╣реИред </p><br><p>  Pytest-nice: <code>conftest.py</code> рдФрд░ <code>test_nice.py</code> рд▓рд┐рдП рд╣рдорд╛рд░реА рдкрд░реАрдХреНрд╖рдг рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рджреЛ рдлрд╛рдЗрд▓реЗрдВ рд╣реИрдВред  <code>pytester</code> рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ <code>pytester</code> рд▓рд┐рдП рдХреЗрд╡рд▓ рдПрдХ рдкрдВрдХреНрддрд┐ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><blockquote>  <strong>ch5 / pytest-nice / рдкрд░реАрдХреНрд╖рдг / conftest.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""pytester is needed for testing plugins."""</span></span> pytest_plugins = <span class="hljs-string"><span class="hljs-string">'pytester'</span></span></code> </pre> <br><p>  рдЗрд╕ рд▓рд╛рдЗрди рдореЗрдВ <code>pytester</code> plugin рд╢рд╛рдорд┐рд▓ рд╣реИред  рд╣рдо <code>testdir</code> рдирд╛рдордХ рдПрдХ рд╕реНрдерд┐рд░рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ, рдЬреЛ рддрдм рдЙрдкрд▓рдмреНрдз рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм <code>pytester</code> рдЪрд╛рд▓реВ рд╣реЛрддрд╛ рд╣реИред <br>  рдкреНрд▓рдЧрдЗрдиреНрд╕ рдХреЗ рд▓рд┐рдП рдЕрдХреНрд╕рд░ рдкрд░реАрдХреНрд╖рдг рдЙрд╕ рд░реВрдк рдХреЛ рд▓реЗрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдордиреЗ рд╕реНрд╡рдпрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдерд╛: </p><br><ol><li>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдБред </li><li>  рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдХреБрдЫ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рдпрд╛ рдЙрд╕рдХреЗ рдмрд┐рдирд╛ pytest рдЪрд▓рд╛рдПрдБред </li><li>  рдЖрдЙрдЯрдкреБрдЯ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред </li><li>  рд╕рдВрднрд╡ рд╣реИ, рдкрд░рд┐рдгрд╛рдо рдХреЛрдб рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рдкрд╛рд╕реЛрдВ рдХреЗ рд▓рд┐рдП 0 рд╣реИ, рдХреБрдЫ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП 1 рд╣реИред </li></ol><br><p>  рдЖрдЗрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ: </p><br><blockquote>  <strong>ch5 / pytest-nice / рдкрд░реАрдХреНрд╖рдг / test_nice.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_pass_fail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(testdir)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#     Pytest testdir.makepyfile(""" def test_pass(): assert 1 == 1 def test_fail(): assert 1 == 2 """) #  pytest result = testdir.runpytest() # fnmatch_lines    result.stdout.fnmatch_lines([ '*.F', # .  Pass, F  Fail ]) # ,      '1'  testsuite assert result.ret == 1</span></span></code> </pre> <br><p>  рдлрд╝рд┐рдХреНрдЪрд░ <code>testdir</code> рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рдореЗрдЬрдмрд╛рдиреА рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдмрдирд╛рддрд╛ рд╣реИред  рдЗрд╕рдореЗрдВ рдПрдХ <code>makepyfile()</code> рд╡рд┐рдзрд┐ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдПрдХ рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА рдбрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рджреЛ рдкрд░реАрдХреНрд╖рдг рдмрдирд╛рддреЗ рд╣реИрдВ: рдПрдХ рдЬреЛ <em>рдЧреБрдЬрд░рддрд╛ рд╣реИ</em> рдФрд░ рджреВрд╕рд░рд╛ рдЬреЛ <em>рдкрд╛рд╕ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ</em> ред </p><br><p>  рд╣рдо <code>testdir.runpytest()</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдирдИ рдкрд░реАрдХреНрд╖рдг рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдЪрд▓рд╛рддреЗ рд╣реИрдВред  рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ рдкреИрд░рд╛рдореАрдЯрд░ рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╡рд╛рдкрд╕реА рдорд╛рди рдмрд╛рдж рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">RunResult</a> рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╣реИред </p><br><p>  рдЖрдорддреМрд░ рдкрд░ рдореИрдВ <code>stdout</code> рдФрд░ <code>ret</code> рджреЗрдЦрддрд╛ рд╣реВрдВред   ,    ,     ,  <code>fnmatch_lines</code> ,   ,      ,   ,  <code>ret</code>  0     1   . ,   <code>fnmatch_lines</code> ,    .        .  ,    ,   : </p><br><blockquote> <strong>ch5/pytest-nice/tests/test_nice.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@pytest.fixture() def sample_test(testdir): testdir.makepyfile(""" def test_pass(): assert 1 == 1 def test_fail(): assert 1 == 2 """) return testdir</span></span></code> </pre> <br><p> ,   ,    <code>sample_test</code>   ,       .      : </p><br><blockquote> <strong>ch5/pytest-nice/tests/test_nice.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_with_nice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sample_test)</span></span></span><span class="hljs-function">:</span></span> result = sample_test.runpytest(<span class="hljs-string"><span class="hljs-string">'--nice'</span></span>) result.stdout.fnmatch_lines([<span class="hljs-string"><span class="hljs-string">'*.O'</span></span>, ]) <span class="hljs-comment"><span class="hljs-comment"># . for Pass, O for Fail assert result.ret == 1 def test_with_nice_verbose(sample_test): result = sample_test.runpytest('-v', '--nice') result.stdout.fnmatch_lines([ '*::test_fail OPPORTUNITY for improvement', ]) assert result.ret == 1 def test_not_nice_verbose(sample_test): result = sample_test.runpytest('-v') result.stdout.fnmatch_lines(['*::test_fail FAILED']) assert result.ret == 1</span></span></code> </pre> <br><p>     .  ,       : </p><br><blockquote> <strong>ch5/pytest-nice/tests/test_nice.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_header</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sample_test)</span></span></span><span class="hljs-function">:</span></span> result = sample_test.runpytest(<span class="hljs-string"><span class="hljs-string">'--nice'</span></span>) result.stdout.fnmatch_lines([<span class="hljs-string"><span class="hljs-string">'Thanks for running the tests.'</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_header_not_nice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sample_test)</span></span></span><span class="hljs-function">:</span></span> result = sample_test.runpytest() thanks_message = <span class="hljs-string"><span class="hljs-string">'Thanks for running the tests.'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> thanks_message <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> result.stdout.str()</code> </pre><br><p>       ,        ,      . </p><br><p>    : </p><br><blockquote> <strong>ch5/pytest-nice/tests/test_nice.py</strong> </blockquote><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_help_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(testdir)</span></span></span><span class="hljs-function">:</span></span> result = testdir.runpytest(<span class="hljs-string"><span class="hljs-string">'--help'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># fnmatch_lines    result.stdout.fnmatch_lines([ 'nice:', '*--nice*nice: turn FAILED into OPPORTUNITY for improvement', ])</span></span></code> </pre> <br><p>  ,     , ,    . </p><br><p>         <code>pytest-nice</code>  ,    .       <code>.zip.gz</code> ,       : </p><br><pre> <code class="plaintext hljs">$ cd /path/to/code/ch5/pytest-nice/ $ pip install . Processing /path/to/code/ch5/pytest-nice Requirement already satisfied: pytest in /path/to/venv/lib/python3.6/site-packages (from pytest-nice==0.1.0) Requirement already satisfied: py&gt;=1.4.33 in /path/to/venv/lib/python3.6/site-packages (from pytest-&gt;pytest-nice==0.1.0) Requirement already satisfied: setuptools in /path/to/venv/lib/python3.6/site-packages (from pytest-&gt;pytest-nice==0.1.0) Building wheels for collected packages: pytest-nice Running setup.py bdist_wheel for pytest-nice ... done ... Successfully built pytest-nice Installing collected packages: pytest-nice Successfully installed pytest-nice-0.1.0</code> </pre> <br><p> ,   ,   : </p><br><pre> <code class="plaintext hljs">$ pytest -v ===================== test session starts ====================== plugins: nice-0.1.0 collected 7 items tests/test_nice.py::test_pass_fail PASSED tests/test_nice.py::test_with_nice PASSED tests/test_nice.py::test_with_nice_verbose PASSED tests/test_nice.py::test_not_nice_verbose PASSED tests/test_nice.py::test_header PASSED tests/test_nice.py::test_header_not_nice PASSED tests/test_nice.py::test_help_message PASSED =================== 7 passed in 0.34 seconds ===================</code> </pre> <br><blockquote> <strong>. :</strong>    ,    .      . <br><pre> <code class="plaintext hljs">platform win32 -- Python 3.6.5, pytest-3.9.3, py-1.7.0, pluggy-0.8.0 -- c:\venv36\scripts\python.exe collected 7 items tests/test_nice.py::test_pass_fail FAILED [ 14%] tests/test_nice.py::test_with_nice OPPORTUNITY for improvement [ 28%] tests/test_nice.py::test_with_nice_verbose OPPORTUNITY for improvement [ 42%] tests/test_nice.py::test_not_nice_verbose FAILED [ 57%] tests/test_nice.py::test_header PASSED [ 71%] tests/test_nice.py::test_header_not_nice PASSED [ 85%] tests/test_nice.py::test_help_message PASSED [100%] ================================== FAILURES =================================== _______________________________ test_pass_fail ________________________________</code> </pre> <br><br>     <br><pre> <code class="plaintext hljs"> result.stdout.fnmatch_lines([ '*.F', # . for Pass, F for Fail ])</code> </pre> <br><br>  рдкрд░ <br><pre> <code class="plaintext hljs"> result.stdout.fnmatch_lines([ '*.F*', # . for Pass, F for Fail ])</code> </pre> <br><br>   <code>*</code>  <code>F</code> <br><br>       <code>test_with_nice</code> , <code>test_with_nice_verbose</code> , <code>test_not_nice_verbose</code> <br><br>     pytest. <br>    c   <br> <code>'test_with_nice.py .O [100%]'</code> <br>   <code>.</code>        <br>  ,    <br><br> RemovedInPytest4Warning: usage of Session.Class is deprecated, please use pytest.Class instead <br><br>    ! <br><pre> <code class="plaintext hljs">(venv36) c:\_BOOKS_\pytest_si\bopytest-code\code\ch5\pytest-nice&gt;pytest -v ============================= test session starts ============================= platform win32 -- Python 3.6.5, pytest-3.9.3, py-1.7.0, pluggy-0.8.0 -- c:\venv36\scripts\python.exe cachedir: .pytest_cache rootdir: c:\_BOOKS_\pytest_si\bopytest-code\code\ch5\pytest-nice, inifile: plugins: nice-0.1.0 collected 7 items tests/test_nice.py::test_pass_fail PASSED [ 14%] tests/test_nice.py::test_with_nice PASSED [ 28%] tests/test_nice.py::test_with_nice_verbose PASSED [ 42%] tests/test_nice.py::test_not_nice_verbose PASSED [ 57%] tests/test_nice.py::test_header PASSED [ 71%] tests/test_nice.py::test_header_not_nice PASSED [ 85%] tests/test_nice.py::test_help_message PASSED [100%] ============================== warnings summary =============================== tests/test_nice.py::test_pass_fail c:\venv36\lib\site-packages\_pytest\compat.py:332: RemovedInPytest4Warning: usage of Session.Class is deprecated, please use pytest.Class instead return getattr(object, name, default)</code> </pre> <br></blockquote><p>  рд╣реБрд░реНрд░реЗ!   .     (pytest-nice),      Python <br>  pytest-: </p><br><pre> <code class="plaintext hljs">$ pip uninstall pytest-nice Uninstalling pytest-nice-0.1.0: Would remove: \path\to\venv\lib\site-packages\pytest_nice-0.1.0.dist-info\* ... Proceed (y/n)? y Successfully uninstalled pytest-nice-0.1.0</code> </pre> <br><p>        тАФ   ,     pytest,   PyPI. </p><br><h2 id="sozdanie-distributiva">   </h2><br><p>    ,      . ,         setup.py   : </p><br><pre> <code class="plaintext hljs">$ cd /path/to/code/ch5/pytest-nice $ python setup.py sdist running sdist running egg_info creating pytest_nice.egg-info ... running check creating pytest-nice-0.1.0 ... creating dist Creating tar archive ... $ ls dist pytest-nice-0.1.0.tar.gz</code> </pre> <br><p> ( ,  sdist  <em>source distribution</em> тАФ тАЬ  .тАЭ) </p><br><p>  pytest-nice  dist      <code>pytest-nice-0.1.0.tar.gz</code> . </p><br><p>         ,    ,   : </p><br><pre> <code class="plaintext hljs">$ pip install dist/pytest-nice-0.1.0.tar.gz Processing ./dist/pytest-nice-0.1.0.tar.gz ... Installing collected packages: pytest-nice Successfully installed pytest-nice-0.1.0</code> </pre> <br><p>       <code>.tar.gz</code>   ,       . </p><br><h2 id="rasprostranenie-plaginov-cherez-obschiy-katalog">      </h2><br><p> <code>pip</code>       ,  ,    ,       ,   ,    ,     <code>.tar.gz</code>   . ,   <code>pytest-nice-0.1.0.tar.gz</code>     <code>myplugins</code> . </p><br><p>   <code>pytest-nice</code>  <code>myplugins</code> : </p><br><pre> <code class="plaintext hljs">$ pip install --no-index --find-links myplugins pytest-nice</code> </pre> <br><p> <code>--no-index</code>  <code>pip</code>    PyPI,   ,    . <br> The --find-links myplugins tells PyPI to look in myplugins for packages to install. And of course, pytest-nice is what we want to install. <br> <code>--find-links myplugins</code>  PyPI   <code>myplugins</code>   .  , <code>pytest-nice</code> тАФ  ,    . </p><br><p>         <code>myplugins</code>    ,    ,  <code>--upgrade</code> : </p><br><pre> <code class="plaintext hljs">$ pip install --upgrade --no-index --find-links myplugins pytest-nice</code> </pre> <br><p>      <code>pip</code> ,    <code>--no-index --find-links myplugins</code> . </p><br><h2 id="rasprostranenie-plaginov-cherez-pypi">    PyPI </h2><br><p>        ,    ,    .   ,    . ,          ,      ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Python Packaging</a> . </p><br><p>     pytest,      тАФ  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><code>cookiecutter-pytest-plugin</code></a> : </p><br><pre> <code class="plaintext hljs">$ pip install cookiecutter $ cookiecutter https://github.com/pytest-dev/cookiecutter-pytest-plugin</code> </pre> <br><p>          .      ,      .          ; , ,     .     pytest,      ,       . </p><br><h2 id="uprazhneniya">  рдЕрднреНрдпрд╛рд╕ </h2><br><p>  <code>ch4/cache/test_slower.py</code>  autouse fixture,  <code>check_duration()</code> .        4.      . </p><br><ol><li>     pytest-slower,        ,  ,    ┬л  ┬╗  . 102. </li><li>    ,   pytest-slower ,   . </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд▓рдЧрдЗрди рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдкрд░реАрдХреНрд╖рдг рдХреЛрдб рд▓рд┐рдЦреЗрдВред </font></font></li><li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╛рдпрдерди рдкреИрдХреЗрдЬ рдЗрдВрдбреЗрдХреНрд╕</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ "рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ-" рджреЗрдЦреЗрдВред </font><font style="vertical-align: inherit;">рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рдкреНрд▓рдЧрдЗрди рдЦреЛрдЬреЗрдВ рдЬреЛ рдЖрдкрдХреЛ рджрд┐рд▓рдЪрд╕реНрдк рд▓рдЧрддрд╛ рд╣реИред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдкрдиреА рдкрд╕рдВрдж рдХрд╛ рдкреНрд▓рдЧрдЗрди рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдХрд╛рд░реНрдп рдкрд░реАрдХреНрд╖рдг рдкрд░ рдЖрдЬрд╝рдорд╛рдПрдВред </font></font></li></ol><br><h2 id="chto-dalshe">  рдЖрдЧреЗ рдХреНрдпрд╛ рд╣реИ </h2><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдкрдиреЗ рдЕрдм рддрдХ </font></font><code>conftest.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдкреБрд╕реНрддрдХ рдореЗрдВ </font><font style="vertical-align: inherit;">рдХрдИ рдмрд╛рд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╛рдЗрд▓реЗрдВ рднреА рд╣реИрдВ </font></font><code>pytest.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЕрдЧрд▓реЗ рдЕрдзреНрдпрд╛рдп рдореЗрдВ, рдЖрдк рдЕрдкрдиреЗ рдЖрдк рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓реЛрдВ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рдХрд░рд╛рдПрдБрдЧреЗ рдФрд░ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдПрдВрдЧреЗ рдХрд┐ рдкрд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╕рдордп рдЖрдк рдЕрдкрдиреЗ рдЬреАрд╡рди рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font></p><br><p><img src="https://habrastorage.org/webt/jl/jn/bb/jljnbbjr-ejh473xy_eccsmknpk.png">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреАрдЫреЗ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдЧрд▓рд╛</a> <img src="https://habrastorage.org/webt/rw/dy/-g/rwdy-grsvbpcetjttrmecdkxtlk.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi448794/">https://habr.com/ru/post/hi448794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi448776/index.html">RxVMS - рд╕реНрдкрдВрджрди рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛</a></li>
<li><a href="../hi448778/index.html">рдкреЗрд╢ рд╣реИ рд╡рд┐рдЬреБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдПрдВрдЯрд░рдкреНрд░рд╛рдЗрдЬ 2019 рдХреЗ рд▓рд┐рдП рдЯрд╛рдЗрдо рдЯреНрд░реИрд╡рд▓ рдбрд┐рдмрдЧрд┐рдВрдЧ</a></li>
<li><a href="../hi448780/index.html">рдкреИрд╕реЗ рдореЗрдВ рднрд░реНрддреА рдХреЗ рд▓рд┐рдП рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдХреНрдпрд╛ рджреЗрддрд╛ рд╣реИ</a></li>
<li><a href="../hi448782/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ, рдЕрдзреНрдпрд╛рдп 1 рдХреЗ рд╕рд╛рде рд╢реБрд░реБрдЖрдд рдХрд░рдирд╛</a></li>
<li><a href="../hi448786/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдЕрдзреНрдпрд╛рдп 3 рдкрд╛рдЗрд╕реНрдЯреЗрд╕реНрдЯ рдлрд┐рдХреНрд╕реНрдЪрд░</a></li>
<li><a href="../hi448796/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди, рдЕрдзреНрдпрд╛рдп 6</a></li>
<li><a href="../hi448798/index.html">рдкрд╛рдпрдерди рдХреЗ рд╕рд╛рде рдкрд╛рдпрдерди рдкрд░реАрдХреНрд╖рдгред рдЕрдиреНрдп рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде pytest рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рдЕрдзреНрдпрд╛рдп 7</a></li>
<li><a href="../hi448800/index.html">.Vsconfig рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рд╕рдВрдЧрдарди рдореЗрдВ рд╡рд┐рдЬрд╝реБрдЕрд▓ рд╕реНрдЯреВрдбрд┐рдпреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</a></li>
<li><a href="../hi448802/index.html">рдкреЛрд░реНрдЯрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╕реЛрдЪрдирд╛: рдЕрд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЗрдВрдЬрди 4 рдореЗрдВ рдкреЛрд░реНрдЯрд▓реНрд╕ рдмрдирд╛рдирд╛</a></li>
<li><a href="../hi448804/index.html">MacOS рдХреЗ рдХрдареЛрд░ рд░рдирдЯрд╛рдЗрдо рдФрд░ рдиреЛрдЯрд░реА рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛ рд░рд╣реА рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>