<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçü§ù‚Äçüë©üèª ‚ÜîÔ∏è üò´ Que nous devrions construire une route. Partie 1 üíí üêõ üëßüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'itin√©raire quotidien de la plupart d'entre nous se limite √† voyager de la maison au travail et √† l'arri√®re. Et l'obstacle le plus difficile qui peut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Que nous devrions construire une route. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/437478/"><p>  L'itin√©raire quotidien de la plupart d'entre nous se limite √† voyager de la maison au travail et √† l'arri√®re.  Et l'obstacle le plus difficile qui peut ralentir notre mouvement est les embouteillages.  Mais dans notre pays, il existe un grand nombre d'endroits o√π vous ne pouvez monter que sur des v√©hicules sp√©ciaux. </p><br><p>  Un tel transport est bon si vous n'avez pas besoin de transporter de gros volumes de marchandises ou de vous rendre r√©guli√®rement dans de telles zones inaccessibles.  Ensuite, il faut d√©j√† penser √† construire des infrastructures dont la circulation est possible sur les transports civils habituels. </p><br><p>  Et c'est bien si toute la complexit√© de la conception d'un futur itin√©raire r√©side dans la recherche d'une r√®gle et d'un crayon pour tracer une ligne droite sur la carte reliant quelques objets.  Mais, h√©las, notre r√©alit√© est tr√®s diff√©rente de cela.  Et si le terrain qui volait au-dessus ressemblait √† un bon morceau de fromage suisse? <br><br><img src="https://habrastorage.org/webt/kd/8q/cl/kd8qclv05rk4drn8gq2rs7xuc1k.png"></p><br><p>  Depuis plus d'un an, nous travaillons avec des coll√®gues du laboratoire de recherche Digital Design pour cr√©er un outil permettant de construire diff√©rents r√©seaux de communication en mode automatique.  Pour plus de d√©tails, bienvenue au chat. </p><a name="habracut"></a><br><h2>  Comment tout a commenc√© </h2><br><p>  En r√®gle g√©n√©rale, les voyages dans ces endroits √©loign√©s sont dus √† certains avantages financiers.  Et bien que l'on sache souvent √† l'avance que le d√©veloppement de ces domaines apportera de bons profits, pourquoi ne pas √©conomiser de l'argent sur des choses qui peuvent se faire sans difficult√©s particuli√®res?  Et si un trac√© plus comp√©tent nous permettait de ne pas construire plusieurs kilom√®tres suppl√©mentaires de l'autoroute? </p><br><p> Mais seule la disponibilit√© de routes pour recevoir un profit significatif n'est clairement pas suffisante.  Et fondamentalement, il n'est apport√© que par des gisements min√©raux.  Par cons√©quent, en plus des routes, il est n√©cessaire de concevoir un r√©seau de pipelines divers, un r√©seau de canalisations d'eau, un r√©seau de lignes √©lectriques avec des sous-stations √©lectriques correctement plac√©es.  Toutes ces infrastructures peuvent √™tre d√©sign√©es comme des objets lin√©aires. <br><br><img src="https://habrastorage.org/webt/pg/-y/gb/pg-ygbmuqmntphkawdvucakd01c.jpeg"></p><br><p>  Et lorsqu'un ing√©nieur est confront√© √† la t√¢che de concevoir un r√©seau de communication sur le terrain avec des conditions d'ing√©nierie et g√©ologiques complexes, une t√¢che analytique incroyablement complexe lui incombe. </p><br><p></p><blockquote>  Comment ne pas p√©n√©trer dans la zone inondable du fleuve?  Comment minimiser le chemin sur les sols de perg√©lisol?  Comment √©conomiser sur la quantit√© de coussin de sable lors de la pose d'une route √† travers un marais?  O√π trouver du sable pour cet oreiller? </blockquote>  Ce n'est qu'une petite fraction des questions qu'un ing√©nieur se pose pendant le travail, et pourtant vous devez toujours prendre en compte divers GOST et SNiPs.  Et bien, si vous voulez connecter seulement deux objets, et s'il y a quelques dizaines d'objets? <br><p>  Par cons√©quent, l'industrie de la conception a un besoin urgent d'un outil capable de calculer √† la fois le co√ªt des objets lin√©aires con√ßus par un ing√©nieur et la capacit√© de les construire en mode automatique. </p><br><h2>  Les donn√©es </h2><br><p>  La premi√®re chose √† laquelle nous avons d√ª faire face lorsque nous avons commenc√© la t√¢che √©tait la recherche de donn√©es.  Quelles donn√©es sont n√©cessaires?  O√π les obtenir?  Et si la deuxi√®me question peut √™tre r√©solue avec l'aide de l'utilisateur, alors pour comprendre la premi√®re question, nous avions besoin d'une analyse s√©rieuse. </p><br><p>  Et les donn√©es pour le calcul correct ont vraiment besoin de beaucoup - √† partir du marquage le plus banal de la zone sur laquelle les lacs et les rivi√®res sont marqu√©s, divers mar√©cages, ainsi que les zones karstiques, sur lesquelles il est fortement recommand√© de ne pas construire en raison de la menace d'effondrement.  Par cons√©quent, en plus des zones visibles depuis le satellite, des donn√©es d'√©tudes g√©ologiques de la zone sont √©galement n√©cessaires ici. <br><br><img src="https://habrastorage.org/webt/i7/oc/oo/i7ocoob7ldrjvrorsirgymhk81g.png"></p><br><p>  Mais toutes les donn√©es ne sont pas limit√©es aux objets naturels dans notre pays.  Il y a aussi un tas de choses qui ont √©t√© cr√©√©es par l'homme.  Par exemple, dans le cas de la construction de routes, nous pouvons utiliser les routes construites pr√©c√©demment.  Mais dans la construction de pipelines, l'utilisation des infrastructures existantes est loin d'√™tre toujours possible.  √âtant donn√© que la connexion d'un nouveau pipeline √† un r√©seau existant risque de ne pas passer le calcul hydraulique. </p><br><p>  En plus de la r√©utilisation de ce qui a √©t√© pr√©c√©demment cr√©√© par l'homme, il faut √©galement prendre en compte diverses restrictions de construction √† proximit√© de tout objet. Par exemple, pour la construction de lignes √©lectriques, vous devez prendre en compte les retraits des lieux d'habitation humains en fonction de la tension sur la ligne √©lectrique elle-m√™me. </p><br><p>  Mais il n'est pas tout √† fait correct de consid√©rer le calcul du probl√®me uniquement sur un plan, car en plus du terrain plat, il existe des zones avec une grande diff√©rence d'altitude, sur lesquelles la construction ne peut pas non plus √™tre effectu√©e. </p><br><p>  L'obtention de donn√©es sur le terrain est un processus beaucoup plus simple que les donn√©es sur le marquage des zones et les infrastructures existantes.  Pour simplifier le d√©veloppement, nous utilisons des donn√©es d'altitude ouvertes SRTM (Shuttle Radar Topography Mission) que tout le monde peut obtenir. </p><br><img src="https://habrastorage.org/webt/8f/qp/ng/8fqpng4-_lhqvsw6a8w7w0hbvga.png"><br><br><p>  Donc, nous avons les donn√©es, nous savons o√π nous pouvons construire, o√π nous ne pouvons pas construire, il y a des co√ªts de construction pour diff√©rentes zones du terrain.  Nous avons une r√©gion, elle a un ensemble d'objets que nous voulons connecter √† un seul r√©seau de communication.  En termes math√©matiques, cela ressemblera √† une recherche d'une solution au probl√®me de Steiner. </p><br><h2>  Un peu de maths </h2><br><p>  <i>Il est connu que chaque formule divise par deux le nombre de lecteurs, nous avons donc consid√©rablement r√©duit cette section ...</i> </p><br><p>  Afin d'optimiser le parcours de l'installation lin√©aire con√ßue, il est n√©cessaire de pouvoir calculer son co√ªt de construction.  Chaque objet lin√©aire peut √™tre repr√©sent√© comme une polyligne <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="noError" id="MJXp-Span-2" style="display: inline-block;">L&nbsp;=&nbsp;\&nbsp;{A_i,&nbsp;B_i&nbsp;\}&nbsp;_&nbsp;{i&nbsp;=&nbsp;0}&nbsp;^&nbsp;n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><span class="noError" style="display: inline-block;">L&nbsp;=&nbsp;\&nbsp;{A_i,&nbsp;B_i&nbsp;\}&nbsp;_&nbsp;{i&nbsp;=&nbsp;0}&nbsp;^&nbsp;n</span></span><script type="math/tex" id="MathJax-Element-1"> L = \ {A_i, B_i \} _ {i = 0} ^ n </script>  compos√© de segments <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">A</span><span class="MJXp-msubsup" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-7" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-2"> AB_ {i} </script>  . <br>  Le co√ªt de construction de chaque section droite peut √™tre repr√©sent√© comme une valeur de fonction <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-msubsup" id="MJXp-Span-10"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-12" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">A</span><span class="MJXp-msubsup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;">B</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-16" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">i</span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-3"> C_ {AB_ {i}} </script>  , o√π chaque segment est sp√©cifi√© de mani√®re param√©trique: </p><p><math> </math> $$ afficher $$ {\ displaystyle AB_i \ colon \ left \ {{\ begin {align√©} &amp; s = s \ left (t \ right) - \ mbox {courbe param√©tr√©e}, \\ &amp; h = h \ left (s (t ) \ droite) - \ mbox {fonction de la hauteur d'√©l√©vation}, \\ &amp; c = c \ gauche (s (t) \ droite) - \ mbox {fonction du co√ªt unitaire de construction en un point}, \\ \ end {align√©}} \ droite .} $$ afficher $$ </p>  o√π <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-79"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">t</span><span class="MJXp-mtext" id="MJXp-Span-81">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">n</span><span class="MJXp-mtext" id="MJXp-Span-84">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">t</span><span class="MJXp-mo" id="MJXp-Span-89" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-90">0</span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-92">1</span><span class="MJXp-mtext" id="MJXp-Span-93">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">t</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-5"> t \ in \ left [0, 1 \ right] </script>  - param√©trage des segments. <br><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-100"><span class="MJXp-msubsup" id="MJXp-Span-101"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-103" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">A</span><span class="MJXp-msubsup" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106" style="margin-right: 0.05em;">B</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-108" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-109">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">t</span><span class="MJXp-mtext" id="MJXp-Span-113">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">t</span><span class="MJXp-msubsup" id="MJXp-Span-119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-121" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">A</span><span class="MJXp-msubsup" id="MJXp-Span-123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124" style="margin-right: 0.05em;">B</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-125" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">c</span><span class="MJXp-mtext" id="MJXp-Span-127">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">t</span><span class="MJXp-mo" id="MJXp-Span-132" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">s</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">t</span><span class="MJXp-mo" id="MJXp-Span-136" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-137">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">t</span><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">t</span><span class="MJXp-mrow" id="MJXp-Span-149"><span class="MJXp-mtext" id="MJXp-Span-150">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">t</span><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157" style="margin-right: 0.05em;">g</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-158" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">y</span></span></span><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">s</span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">t</span><span class="MJXp-mo" id="MJXp-Span-165" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-166" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-167" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-168">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">c</span><span class="MJXp-mrow" id="MJXp-Span-173"><span class="MJXp-mtext" id="MJXp-Span-174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">h</span></span><span class="MJXp-mrow" id="MJXp-Span-183"><span class="MJXp-mtext" id="MJXp-Span-184">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">l</span><span class="MJXp-msubsup" id="MJXp-Span-192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-194" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-195">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">t</span><span class="MJXp-mtext" id="MJXp-Span-200">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">c</span><span class="MJXp-mrow" id="MJXp-Span-205"><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">h</span></span><span class="MJXp-mrow" id="MJXp-Span-215"><span class="MJXp-mtext" id="MJXp-Span-216">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">l</span><span class="MJXp-msubsup" id="MJXp-Span-224"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-226" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mtext" id="MJXp-Span-227">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">e</span><span class="MJXp-mo" id="MJXp-Span-234" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-235">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">t</span><span class="MJXp-msubsup" id="MJXp-Span-239"><span class="MJXp-mrow" id="MJXp-Span-240" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">s</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-242" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-244">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">t</span><span class="MJXp-msubsup" id="MJXp-Span-248"><span class="MJXp-mrow" id="MJXp-Span-249" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">s</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-251" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">y</span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-6"> C_ {AB_i} = \ int \ limits_ {AB_i} c \ left (s (t) \ right) \ sqrt {\ left [g_ {xy} (s (t)) + \ frac {\ partial h} {\ partiel s_x} \ cdot \ frac {\ partiel h} {\ partiel s_y} \ droite] \ dot {s} _ {x} \ dot {s} _ {y}} dt </script>  o√π <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">g</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-7"> g </script>  - le tenseur m√©trique de la surface de la Terre sans tenir compte du relief, c'est-√†-dire, en termes simples, la fonction de mesurer la distance √† la surface de la Terre. </p><br><p>  √âtant donn√© que notre plan√®te a la forme d'un g√©o√Øde, il est n√©cessaire d'utiliser des formules sp√©ciales pour mesurer les distances.  Pour cela, nous utilisons la formule Haversinus.  Dans celui-ci, la forme de la plan√®te ressemble √† une sph√®re, mais cela suffit pour nos besoins, car l'erreur de mesure est d'environ <i>0,3%</i> et la vitesse de calcul des distances par cette m√©thode reste √©lev√©e. </p><br><h2>  Approches pour trouver la meilleure fa√ßon </h2><br><img src="https://habrastorage.org/webt/hm/ie/wb/hmiewbsiqgbvd0owqf-vbqar8pk.png" width="450"><br><br><p>  Mais avant de passer √† la jonction d'un groupe d'objets, vous devez apprendre √† trouver le chemin optimal entre les deux.  Deux fa√ßons de le faire viennent imm√©diatement √† l‚Äôesprit: <br><br></p><ol><li>  construire un graphique, puis appliquer les m√©thodes de recherche de chemin le plus court; </li><li>  utiliser une solution bas√©e sur des m√©thodes d'optimisation. </li></ol><br><p>  Lors de la mise en ≈ìuvre de la premi√®re m√©thode, nous avons un probl√®me associ√© √† la m√©thode de construction d'un graphe pour obtenir la plus grande pr√©cision possible de la solution.  Il est n√©cessaire de trouver un √©quilibre entre le nombre de sommets et d'ar√™tes dans le graphique, la qualit√© de la solution et le temps de calcul. </p><br><img src="https://habrastorage.org/webt/qx/6n/xq/qx6nxqqy6to2huichszqjldt3wu.png" width="300"><br><p>  Dans le second cas, le probl√®me principal est les minima locaux.  Il est facile de choisir un cas o√π la solution peut ne pas converger ou √™tre loin d'√™tre optimale.  Puisque la solution obtenue par cette m√©thode d√©pend incroyablement de l'approximation initiale.  Si nous avons une bonne approximation initiale, le r√©sultat sera de haute qualit√©. </p><br><img src="https://habrastorage.org/webt/lt/qp/sf/ltqpsfsvq5jtf9sqrkdi-y8ly5k.png" width="325"><br><p>  Nous avons donc deux approches pour r√©soudre ce probl√®me.  Le premier a une qualit√© plut√¥t faible, mais il n'y a pas de probl√®me de minima locaux.  Le second a un probl√®me de minima locaux, mais une solution de haute qualit√©.  Et si vous combinez correctement ces deux approches, les lacunes de chacune dispara√Ætront.  Nous prenons la solution obtenue sur le graphique comme premi√®re approximation, puis nous lui appliquons des m√©thodes d'optimisation. </p><br><p>  Dans cette partie de l'article, nous examinerons exactement la solution propos√©e √† ce probl√®me sur le graphique. </p><br><h2>  S√©lection d'outils </h2><br><p>  Un plan d'action a √©t√© esquiss√©, il ne reste plus qu'√† le ¬´coder¬ª.  √âtant donn√© qu'au stade initial de la r√©daction de l'application, nous avions peu de connaissances sur le sujet, nous avions besoin d'un langage flexible, de sorte qu'en cas de mauvais calculs architecturaux, nous r√©√©crivions le code entier pour quelques <s>canettes de bi√®re du</s> soir.  Je souhaitais aussi √©ventuellement des biblioth√®ques pour toutes les occasions, afin de ne pas recourir √† l'invention du v√©lo.  Par cons√©quent, Python a √©t√© choisi comme langage de programmation principal. </p><br><p>  Dans l'application, nous avons utilis√© une pile technologique impressionnante, qui ne se limite pas aux suivantes: <br><br></p><ul><li>  <i>bien con√ßu</i> pour travailler avec des donn√©es g√©om√©triques telles que des polygones et des polylignes; </li><li>  <i>g√©opandas</i> pour un travail pratique avec <i>bien fait</i> ; </li><li>  <i>scipy</i> pour stocker le graphique calcul√© et trouver le chemin le plus court sur celui-ci, ainsi que pour trouver le minimum d'arbres couvrant; </li><li>  <i>PyTorch</i> pour travailler avec la fonction de co√ªt; </li><li>  <i>oreiller</i> pour travailler avec des images. </li></ul><br><h2>  Impl√©mentation </h2><br><p>  Le module peut √™tre divis√© en plusieurs √©tapes: <br><br></p><ul><li>  g√©n√©ration de fonctions de co√ªt; </li><li>  g√©n√©ration de grille de calcul; </li><li>  construire un graphique bas√© sur une grille; </li><li>  pond√©ration graphique; </li><li>  calcul des chemins les plus courts sur un graphe. </li></ul><br><p>  √âtant donn√© que les bords du graphique sont des segments, nous pouvons pond√©rer ces bords en calculant la valeur d'une certaine int√©grale, qui est pr√©sent√©e ci-dessus.  Mais il y a beaucoup d'ar√™tes dans le graphique et, par cons√©quent, les valeurs des co√ªts et des hauteurs devront √™tre obtenues pour un tr√®s grand nombre de points, ce qui peut prendre beaucoup de temps. </p><br><p>  Initialement, l'id√©e √©tait de trouver le co√ªt unitaire de construction en d√©terminant si un point appartient √† un polygone.  Mais cette id√©e a √©t√© not√©e en raison de la grande complexit√© algorithmique de cette approche, car il peut y avoir de nombreux polygones, et chacun d'eux a un grand nombre de sommets. </p><br><p>  Par cons√©quent, pour r√©soudre ce probl√®me, nous pouvons repr√©senter tous les polygones que nous avons sous la forme d'une image, qui sous forme math√©matique est une matrice.  Ainsi, nous pouvons obtenir le co√ªt unitaire de construction √† un point au-del√† de <b>O (1)</b> , et donc nous pouvons obtenir le co√ªt de construction d'une nervure particuli√®re avec une grande pr√©cision. </p><br><p>  Nous sommes maintenant pr√™ts √† construire un graphe, mais il n'y a pas de mani√®re unique et correcte de le construire pour obtenir des solutions de haute pr√©cision.  Pour construire un graphe, il est n√©cessaire de g√©n√©rer une grille de calcul, √† savoir un ensemble de points dans la r√©gion consid√©r√©e, reli√©s dans l'ordre correspondant par des segments formant les faces des cellules.  Les grilles peuvent √™tre divis√©es en deux types: uniformes et in√©gales. </p><br><img src="https://habrastorage.org/webt/mb/ao/_e/mbao_ewczdah5kn0zusjjef1mng.png" width="250"><img src="https://habrastorage.org/webt/0r/g2/5x/0rg25xauhijkbezqogs4bhypy48.png" width="250"><br><p>  Le mod√®le de grille uniforme d√©crit les coordonn√©es des points individuels, de sorte que la distance entre les n≈ìuds de la grille est la m√™me.  Une grille in√©gale appara√Æt comme un ensemble <s>al√©atoire</s> de points individuels. </p><br><p>  L'utilisation d'une grille uniforme ne donnera pas toujours un r√©sultat de haute qualit√© pour trouver le chemin le plus court, il est donc n√©cessaire de tester cette approche sur une grille in√©gale.  Le plus polyvalent est le maillage triangulaire. </p><br><p>  La grille a √©t√© g√©n√©r√©e en introduisant du bruit avec un certain coefficient dans une grille rectangulaire uniforme, puis en appliquant des points de triangulation Delaunay pour cet ensemble de points. <br><br><img src="https://habrastorage.org/webt/dw/ap/ei/dwapeih8ddznaauhuvzlcjov7qe.png"></p><br><p>  L'efficacit√© des grilles construites a √©t√© test√©e sur diff√©rents mod√®les de cartes de la zone, qui tenaient compte des diff√©rents co√ªts des r√©gions et du relief, puis une comparaison a √©t√© faite avec la solution obtenue analytiquement.  En recherchant la longueur du bord du graphique et le coefficient d'introduction de bruit dans la grille uniforme, des param√®tres optimaux ont √©t√© trouv√©s pour construire le chemin optimal entre deux points. </p><br><h2>  Probl√®mes majeurs </h2><br><p>  Au d√©but, tout s'est bien pass√©, l'algorithme a calcul√© les r√©seaux optimaux, mais une fois qu'il y a eu un probl√®me avec la qualit√© du chemin construit.  Le cas √©tait assez simple: il fallait connecter deux objets sur une carte assez longue.  L'algorithme ne voulait pas construire une route qui √©tait √©videmment correcte. <br><br><img src="https://habrastorage.org/webt/kp/0y/dm/kp0ydmvz8yvor5pwpo8fhjuj8ho.png" width="500"><br></p><p>  Le probl√®me, comme toujours, √©tait li√© √† la grille de calcul.  Nous avons poursuivi nos exp√©riences avec l'apparition des grilles et sommes arriv√©s √† la conclusion que la connexion des sommets √† un graphique, o√π chaque sommet est connect√© aux <b>n</b> voisins les plus proches, est la solution √† nos probl√®mes. </p><br><h2>  R√©seautage </h2><br><p>  Apr√®s avoir appris √† trouver des chemins optimaux entre deux points, l'√©tape suivante a √©t√© de r√©soudre le probl√®me de la construction d'un r√©seau optimal d'objets lin√©aires.  Les algorithmes rencontr√©s dans la litt√©rature pour construire des arbres de Steiner sur des graphes sont orient√©s vers des probl√®mes plus g√©n√©raux, et seront donc inefficaces dans notre cas.  Notre graphique est tr√®s clairsem√©, avec un petit nombre de sommets terminaux, par rapport au nombre total de sommets dans le graphique, et notre t√¢che est √©galement appliqu√©e.  Par cons√©quent, pour un certain nombre d'autres raisons, il a √©t√© d√©cid√© de d√©velopper notre propre algorithme qui utilise une certaine heuristique pour construire efficacement un r√©seau optimal. </p><br><p>  La description de l'algorithme de construction du r√©seau optimal sur le graphique pour notre cas est un sujet pour une publication s√©par√©e, nous ne l'examinerons pas ici.  √âtant donn√© que lors du calcul d'une t√¢che r√©elle, il est n√©cessaire de prendre en compte de nombreuses conditions suppl√©mentaires de l'industrie de la construction pertinentes pour l'utilisateur final, qui imposent certaines restrictions √† l'algorithme utilis√©. </p><br><h2>  Cas r√©el </h2><br><p>  Nous passons maintenant aux r√©sultats de l'algorithme.  Notre t√¢che consiste √† connecter un ensemble d'objets donn√© √† un r√©seau de communication.  La comparaison des r√©sultats de l'algorithme s'est produite avec un r√©seau routier pr√©c√©demment construit.  La longueur totale du r√©seau existant est de 153,5 km contre 122,6 km pour le r√©seau calcul√©.  Cela permet une r√©duction d'environ 25% de la longueur du r√©seau routier, ce qui permettra √† terme d'√©conomiser environ 5 √† 15% sur les co√ªts de construction du capital. </p><br><img src="https://habrastorage.org/webt/ut/zu/xc/utzuxclddgftean_gzytgvdhcx4.png"><br><img src="https://habrastorage.org/webt/zn/qw/yh/znqwyh8vnz9yxdbnm8zpxbsv46e.png" width="500"><br><br>  Vous pouvez regarder de plus pr√®s les r√©sultats du calcul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><p>  Une description des m√©thodes d'optimisation utilis√©es sera dans la prochaine partie de l'article. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437478/">https://habr.com/ru/post/fr437478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437468/index.html">Retropie Dreamcast</a></li>
<li><a href="../fr437470/index.html">Quelques mots simples sur la d√©fense antimissile</a></li>
<li><a href="../fr437472/index.html">Transition du bureau √† udalenka: partage d'exp√©rience et hacks de vie</a></li>
<li><a href="../fr437474/index.html">Optimisez les performances du jeu avec les options d'importation du son Unity</a></li>
<li><a href="../fr437476/index.html">Ok Yandex! O√π sont nos objectifs de port√©e?</a></li>
<li><a href="../fr437480/index.html">4 romans visuels pour apprendre l'anglais</a></li>
<li><a href="../fr437482/index.html">Demandez √† Ethan: si la lumi√®re se contracte et se dilate avec l'espace, comment pouvons-nous d√©tecter les ondes gravitationnelles?</a></li>
<li><a href="../fr437484/index.html">Comment j'ai r√©ussi six entretiens dans la Silicon Valley</a></li>
<li><a href="../fr437486/index.html">AlphaStar - un nouveau syst√®me d'intelligence artificielle pour StarCraft II de DeepMind (traduction compl√®te)</a></li>
<li><a href="../fr437488/index.html">Cl√© cloud: comment cr√©er vos applications natives cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>