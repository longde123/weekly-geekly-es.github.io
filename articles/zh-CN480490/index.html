<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔤 👏🏼 🕡 熟悉Appium驱动程序（或如何选择必要的驱动程序） 🤜🏼 😅 ◽️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="注意事项 翻译：我翻译了这篇文章，以帮助那些在测试自动化方面迈出第一步并希望了解更多有关Appium工具的人。 它描述了Appium驱动程序的一般操作原理，以及它们的类型和用途。 在旅程的开始，许多测试人员缺乏有条理的信息，而这些材料将有助于确定正确工具的选择。 



 Appium是一个跨平台工...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>熟悉Appium驱动程序（或如何选择必要的驱动程序）</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/480490/">  <i>注意事项</i>  <i>翻译：我翻译了这篇文章，以帮助那些在测试自动化方面迈出第一步并希望了解更多有关Appium工具的人。</i>  <i>它描述了Appium驱动程序的一般操作原理，以及它们的类型和用途。</i>  <i>在旅程的开始，许多测试人员缺乏有条理的信息，而这些材料将有助于确定正确工具的选择。</i> <br><br><img src="https://habrastorage.org/webt/8u/qm/pg/8uqmpgxypf7wrhv4qootygc2stg.jpeg"><br><br>  Appium是一个跨平台工具，可让您同时自动执行移动（iOS和Android）和桌面应用程序的测试。 实现此多平台模型的方法是使用各种驱动程序。 本质上，Appium具有与Selenium WebDriver大致相同的体系结构，后者还使用大量独立的驱动程序来支持跨浏览器测试自动化。 <br><a name="habracut"></a><br> 针对不同的自动化工具，有单独的Appium驱动程序，这通常意味着每个平台都使用一个驱动程序（一个用于iOS，一个用于Android等）。 但是，也有例外。 它们与以下事实有关：在某些平台（例如，对于Android）的测试应用程序自动化中，有几种工具与Appium结合使用。 实际上，Android有三种驱动程序：基于UiAutomator，UiAutomator 2和Espresso。 <br><br><h1> 司机的工作原理 </h1><br> 驱动程序可能是整个工具中最重要的组件，因为驱动程序的任务是在特定平台上执行Appium API（称为WebDriver协议）的命令。 本质上，驱动程序是将Appium客户端代码转换为可以在iOS，Android等设备上执行命令的转换器。 <br><br> 出于架构简化等原因，每个单独的驱动程序本身都是独立的WebDriver兼容服务器（尽管它没有主Appium服务器具有的所有选项）。 在驱动程序内部，接收到的命令以特殊方式处理。 例如，可以将它们转移到在Android设备上运行Java代码的单独进程中。 <br><br> 驱动程序本身具有相当复杂的内部体系结构，有时基于多种技术。 下图显示了XCUITest驱动程序（当前的iOS驱动程序）所涉及的技术堆栈： <br><img src="https://habrastorage.org/webt/hh/em/cl/hhemcly8_2dixs3sk1g7zvvures.png"><br> 如您所见，XCUITest驱动程序的原理并不是那么简单。 它是Appium的一部分，可在您启动iOS会话时启动。 在驱动程序内部，它使用另一个称为WebDriverAgent的工具，该工具负责将WebDriver协议命令转换为XCUITest库调用。 <br><br> 尽管最终每个驱动程序都可以实现自己的驱动程序，但许多驱动程序都具有相似的体系结构，因为最终该驱动程序作为继承Appium BaseDriver类的类发布在npm中。 这使驱动程序可以轻松连接到Appium。 <br><br><h3> 驱动程序类型 </h3><br> 那么那里有多少个司机？ 老实说，很难确定，因为除了Appium的官方驱动程序外，还有非官方的驱动程序。 但是，如果我们查看Appium的源代码，则会看到以下内容： <br><br><pre><code class="plaintext hljs">const AUTOMATION_NAMES = { APPIUM: 'Appium', UIAUTOMATOR2: 'UiAutomator2', UIAUTOMATOR1: 'UiAutomator1', XCUITEST: 'XCUITest', YOUIENGINE: 'YouiEngine', ESPRESSO: 'Espresso', TIZEN: 'Tizen', FAKE: 'Fake', INSTRUMENTS: 'Instruments', WINDOWS: 'Windows', MAC: 'Mac', };</code> </pre> <br> 自动化名称是Appium使用的各种驱动程序的键。 此部分代码确定允许将哪些行用作AutomationName功能的值。 每个驱动程序通常仅支持一个平台。 这是根据每个驱动程序的AutomationName的简要说明： <br><br><ul><li>  Appium只是指向所选平台的默认驱动程序的指针，而不是单独的驱动程序。 <br></li><li>  UiAutomator2（ <a href="https://github.com/appium/appium-uiautomator2-driver">资源库</a> ）-Android平台的当前驱动程序，默认使用，基于Google UiAutomator工具； <br></li><li>  UiAutomator1（ <a href="https://github.com/appium/appium-android-driver">存储库</a> ）是基于旧版UiAutomator的旧版Android驱动程序。 将来将不支持该驱动程序，因此最好放弃该驱动程序而改用UiAutomator2。 <br></li><li>  XCUITest（ <a href="https://github.com/appium/appium-xcuitest-driver">存储库</a> ）-iOS的默认驱动程序，基于Apple XCUITest工具； <br></li><li>  YouiEngine（ <a href="https://github.com/YOU-i-Labs/appium-youiengine-driver">存储库</a> ）-来自You.i Labs开发人员的驱动程序，用于对基于其SDK创建的各种平台的应用程序测试进行自动化； <br></li><li>  Espresso（ <a href="https://github.com/appium/appium-espresso-driver">存储库</a> ）-基于Google Espresso工具的最新Android驱动程序； <br></li><li>  Tizen（ <a href="https://github.com/Samsung/appium-tizen-driver">存储库</a> ）-三星开发人员提供的驱动程序，用于自动测试Tizen OS中使用的基于Xamarin的应用程序； <br></li><li>  Fake（名称不言而喻）被用作Appium的内部测试工具。 您将永远不必使用它。 <br></li><li>  Instruments（ <a href="https://github.com/appium/appium-ios-driver">repository</a> ）-用于iOS 9.3及更低版本的应用程序的过时驱动程序； <br></li><li>  Windows（ <a href="https://github.com/appium/appium-windows-driver">存储库</a> ）-微软组装了一个与Appium兼容的服务器，称为WinAppDriver，该驱动程序将其连接到主Appium服务器。 直接设计用于自动化Windows桌面应用程序； <br></li><li>  Mac（ <a href="https://github.com/appium/appium-mac-driver">存储库</a> ）-一种驱动程序，可让您自动测试Mac的桌面应用程序。 <br></li></ul><br> 如前所述，这些驱动程序中的每一个都有其自己的体系结构，可以通过查看以下图表来看到： <br><img src="https://habrastorage.org/webt/th/p3/tb/thp3tbdg07j8a0gwqpt5fpaimma.png"><br><br><h3> 司机常见问题 </h3><br> 那么您如何知道要使用哪个驱动程序？ <br><br> 好吧，如果您需要<i>为iOS，Windows，Mac或Tizen的应用程序</i>编写<i>自动测试</i> ，则选择很明显-为每个平台使用默认驱动程序。 对于Android，在这里您必须在UiAutomator2和Espresso之间进行选择。 最好事先了解每种工具，并了解哪种工具最适合您的情况。  UiAutomator2和Espresso驱动程序的功能相似，但并不完全相同。 <br><br>  <i>所有驱动程序是否均等地支持相同命令？</i> <br><br> 是的，没有。 从根本上说，我们受到平台提供商提供的自动化功能的限制。 在Android设备上点击可以与iOS设备上的点击相同。 但是执行其他命令的过程可能会有所不同。  Appium开发人员尽可能尝试确保不同平台上的驱动程序行为相同。 <br><br>  <i>我可以从一个驱动程序切换到另一个驱动程序，并期望测试失败吗？</i> <br><br> 是的，没有。 这完全取决于我们在谈论什么驱动程序。 使用Appium的优点之一是，您可以从一种自动化工具切换到另一种自动化工具（例如，从UiAutomator2到Espresso），而无需牺牲现成的测试套件。 但是，您应该缓慢而有条理地进行迁移，确保一切都按预期进行。  Appium团队有时会发布从一个驱动程序迁移到另一个驱动程序的迁移准则-在迁移之前，您应该注意它们。 <br><br>  <i>我可以创建自己的驱动程序吗？</i> <br><br> 是的 许多人已经做到了这一点，特别是<a href="https://github.com/hugs/appium-arduino-driver">Jason Huggins</a>和<a href="https://github.com/jlipps/appium-raspi-driver">I</a> （在AppiumConf 2019上）。 但是，还有其他专有的驱动程序，例如<a href="https://github.com/christian-bromann/appium-hbbtv-driver">Christian Broman的hbbtv</a> <a href="https://github.com/christian-bromann/appium-hbbtv-driver">驱动程序</a> 。 <br><br>  <i>驱动程序会在Appium 2.0中发生变化吗？</i> <br><br> 这是一个很好的问题！  Appium驱动程序系统的负面影响之一是它们都包含在Appium服务器依赖项中。 但是，我们正在努力确保驱动程序存在于一个不太紧密的系统中，您可以在其中选择与Appium一起使用的特定驱动程序。 如果您解决了此问题，则在仅使用Appium来运行iOS测试时，不必安装旧的UiAutomator2驱动程序并连接其依赖项。  （您知道有<a href="https://gist.github.com/jlipps/651b62316603400cabc95ff0f9faf70f">关于开发Appium 2.0</a>的<a href="https://gist.github.com/jlipps/651b62316603400cabc95ff0f9faf70f">建议</a>吗？） <br><br>  <i>希望本文对您有所帮助。</i>  <i>我很高兴阅读有关您使用Appium驱动程序的经验的评论。</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN480490/">https://habr.com/ru/post/zh-CN480490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN480480/index.html">量子计算机如何工作。 拼砌拼图</a></li>
<li><a href="../zh-CN480482/index.html">如何为ML建立计算机</a></li>
<li><a href="../zh-CN480484/index.html">BeerPHP：这是什么，为什么要去以及如何在您的城市中运行</a></li>
<li><a href="../zh-CN480486/index.html">我的解决方案是最好的</a></li>
<li><a href="../zh-CN480488/index.html">关于优质背包的文章（保存）</a></li>
<li><a href="../zh-CN480492/index.html">我如何停止恐惧并爱上了支持</a></li>
<li><a href="../zh-CN480494/index.html">QATOK技术：活动资料</a></li>
<li><a href="../zh-CN480498/index.html">分析：当具有具有发送信件功能的CRM时，为什么需要电子邮件服务？</a></li>
<li><a href="../zh-CN480500/index.html">使用ChipWhisperer对微控制器的硬件攻击及其防护方法</a></li>
<li><a href="../zh-CN480502/index.html">我们应得的后未来主义</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>