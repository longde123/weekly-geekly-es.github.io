<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛵️ 🛠️ 💯 SamsPcbGuide第7部分：跟踪信号线。 差分对 🆗 😭 👨‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="这是该系列的第七篇文章，以一个专门用于跟踪信号线的方框结尾。 此外，有一种想法来开发该项目并以方便的书的形式进入印刷电路板设计手册，因此有可能出版。 会有一个停顿。 本文讨论了一个重要的话题-差分数据传输方案，该方案在现代系统中变得越来越普遍，并为跟踪差分对提供了建议，这可以确保该方案的优势。 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SamsPcbGuide第7部分：跟踪信号线。 差分对</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419321/"> 这是该系列的第七篇文章，以一个专门用于跟踪信号线的方框结尾。 此外，有一种想法来开发该项目并以方便的书的形式进入印刷电路板设计手册，因此有可能出版。 会有一个停顿。 本文讨论了一个重要的话题-差分数据传输方案，该方案在现代系统中变得越来越普遍，并为跟踪差分对提供了建议，这可以确保该方案的优势。 <a name="habracut"></a><br><br> 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">上一篇文章中</a> ，显示了独立信号线之间的交叉耦合是不想要的干扰的来源。 但是，在差分传输方案的情况下，强的交叉耦合使信号更耐干扰。 在该方案中，使用了两条线（差分对），它们的信号源是反相的，并且接收器响应线V <sub>DIFF</sub> = V <sub>+</sub> -V-（图1）上的电压差。 共模信号（英文共模信号）定义为V <sub>COMM</sub> = 1/2∙（V <sub>+</sub> + V-），并且可以为非零值，例如在LVDS标准中。 差分对的特征在于两个电阻： <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/rx/zp/ylrxzp9guzvhz1zicbwyju7n8nq.png"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dq/d2/pq/dqd2pqn-0jxj7xonhpua9nosffq.png"></div><br><br> 差分信号的入门理论在很多文献中都有描述，例如，[1]。 从设计印刷电路板的角度来看，重要的是要注意差分电路相对于非对称（英制单端）的优势以及对差分对拓扑的要求，这些优势提供了这些优势。 <br><br> 首先，理想的差分对是对称的，也就是说，在其横截面的整个长度上必须保持不变并且具有对称轴（图2）。 就像不对称传输线一样，这可以确保差分对的波阻恒定，从而显着降低线路反射和信号失真。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zu/vg/xr/zuvgxrlk63synl0iihpuyytt-qk.png"></div><br><blockquote><h3>  R.1。 </h3> 差分对的横截面应在其整个长度上最大（理想情况下为镜像）对称且均匀。 一对线之间不应有其他信号电路的拓扑元素。 </blockquote> 差分对的每条线对应于参考层中其自身的返回电流分布。 如果这对线之间的相互连接远小于它们与参考层的连接，则返回电流的分布不会相交（图3-A）。 这种差分对称为松散耦合差分线，弱耦合。 由于信号的高频分量的分布集中在参考层的±3∙h区域内，因此弱耦合的实际标准是条件是打印轨道边缘之间的距离为s&gt; 6∙h或s&gt; 3∙w。 由于弱耦合对的差分阻抗实际上与磁迹之间的距离Z DIFF≈2∙Z <sub>0</sub>无关，因此，例如，如果差分对的路径中有障碍物，则该距离会沿线长变化。 这简化了对差分对拓扑的要求，但是，此类线路缺少差分数据传输的主要优点。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9a/ea/pf/9aeapfwtvovmboorhiqkvaja_zg.png"></div><br> 将线之间的距离减小到s≤2∙h会导致参考层中返回电流的相互耦合和重叠分布显着增加（图3-B）。 这种差分对称为紧密耦合差分线差分对。 差分阻抗变得越来越依赖于磁迹之间的距离。 它的值减小，因此，要保持先前的值，需要更窄的走线，这会稍微增加欧姆损耗。 但是，正是这种差分对的拓扑相对于非对称线具有以下优点： <br><br><ol><li> 差分信号对感应噪声（包括参考层中的串扰和干扰）的稳定性更高。 线的紧密排列和对称导致以下事实：每条线上的感应噪声实际上等于V <sub>NOISE</sub> <sup>+</sup> ≈V NOISE-，因此，差分干扰很小V <sub>NOISE</sub> <sup>DIFF</sup> = V <sub>NOISE</sub> <sup>+</sup> -V <sub>NOISE</sub> <sup>-</sup> ≈0。 此干扰越小，其源所位于的差分对越远。 </li><li> 降低EMR和串扰。 由于V <sub>+</sub>和V-信号是反相的，因此它们发出的电磁场的大小近似相等，并且方向彼此相反。 这导致以下事实：远场中的场叠加趋于零。 相同的效果可显着降低差分对在近场中产生的串扰。 </li><li> 支撑层中撕裂的影响较小。 返回电流I <sub>+</sub>和I-也反相，并且由于它们在参考层中分布的几何对称性而对称。 就这一点而言，参考层I <sub>REF</sub> = I <sub>+</sub> + I-中的总电流减小，并且在重叠区域中，总电流等于零。 在完全重叠的情况下，当差分对与参考层的距离为h&gt; 2∙（s + w），并且线路的相互连接大大超过了它们与参考层的连接时，参考层中就没有电流（图3-B）。 尤其是当差分对穿过支撑层中的宽间隙时，可能会出现这种情况。 尽管在这种情况下交点处的阻抗会发生局部变化，但与非对称信号的失真相比，差分信号的失真还是很小的[1]。 </li></ol><br> 这些收益应称为潜在收益，因为只有同时满足两个条件才能充分实现这些收益： <br><br><ol><li> 整个线路上都有严格的反相信号， </li><li> 缺乏共模信号干扰。 </li></ol><br> 如果不考虑信号源的缺陷，则可以通过遵守建议R.1并在负载侧匹配差分和共模信号来确保满足第一个要求。 然而，实际上，由于元件和通孔的接触焊盘的位置和几何形状所施加的限制，对旋转的需求难以实现，差分对的横截面具有严格的恒定性，这也反映在线对长度的差异上。 线对长度的差异导致相移，使差分信号失真并产生干扰共模信号（图4）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fi/dc/km/fidckml0ryhiijswfoy4vcyoorg.png"></div><br><br> 对齐线长度（英语长度匹配，调整）的一种常见做法是，由于可以形成规则结构的附加弯曲会增加较短线的长度（图5）。 显然，这不可避免地改变了线对之间的距离。 这进而导致该对阻抗的局部变化和反射的出现。 在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">一篇文章中</a> ，D。Brooks表示，从信号完整性和EMC的角度来看，对齐线对长度的问题更为重要。 弯曲的几何形状的选择不是关键的，前提是不建议使用长而窄的弯曲，因为由于截面之间的牢固相互连接，它们可能导致变形。 但是，本文并非通用规则。 事实是，还有一种更先进的对齐线长的技术，该技术包括在折弯处同时保持一对线对的阻抗（由于线宽的变化，在参考层中使用局部切口等）。 然而，这种对准几何的构造是相当复杂的任务，需要使用专门的CAD系统，并且仅对于千兆赫兹信号线是合理的。 另一种选择是由于其中一条线的弯曲而导致线对之间的距离和对齐方式局部增加。 换句话说，实现到具有弱耦合的差分对的局部过渡，对于该差分对，其阻抗并不很大程度上取决于线之间的距离（在折弯处可以观察到）。 有关这些技术的示例和更详细的信息可以在Simberian，Inc.网站上提供的材料中找到。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zu/bu/ap/zubuapuuozete7n2nrsp-kzrxse.png"></div><br><br>  [1]中给出了足够长的线长相等程度的标准：“差分对的线长必须彼此对齐，精度为∆L &lt;0.1∙t <sub>R</sub> ∙v。 建议将对齐区域放在差分对中已经破坏对称性的那部分（例如，通过微电路引脚的位置）。” 与非对称线类似，差分阻抗的局部异质性影响较小，与信号前沿持续时间相比，对齐部分的电长度越短。 <br><br> 由于仅对带状线（其同相信号和差分信号的传播速度相同）的对齐工作良好，因此使任务变得复杂。 对于微带线，即使线对长度的完美对齐也不能确保不存在失真，而只是减少失真的一种方法。 但是，由于带状线需要使用通孔过渡到内层，通孔本身是异质的，因此不能明确地说微带线没有优势。 当然，这些影响的重要性随着信号频带上限的增加而增加。 而且，如果在低于1 GHz的频率下，均衡提供的失真程度很低，那么在几千兆赫兹及以上的频率范围内，就没有通用的建议，可以通过为每种特定情况建模来解决跟踪问题。 <br><br> 由于任何不对称性，共模信号干扰既可能在差分对本身中发生，也可能由其他信号线引起。 不可能排除失真，但是，通过匹配线，可以防止重复反射和振荡的发生，可以将其后果降到最低。 表1中列出了在远端匹配差分对的主要方法。没有共模信号匹配的电路很简单，因此经常使用，但是，如果线路中存在共模干扰，简单性就是一个潜在的问题。 与差分信号不同，共模信号是电磁辐射的良好来源。 当使用非屏蔽双绞线进行信号传输时，尤其是共模干扰变得至关重要，因此建议在输出端使用屏蔽双绞线和共模扼流圈。 <br><br> 表1.信号线匹配方法。 <br><table><tbody><tr><th>  <b>标题和方案</b> </th><th>  <b>损失率</b> </th><th>  <b>留言</b> </th></tr><tr><td><img src="https://habrastorage.org/webt/9y/tp/gm/9ytpgmavwa2vlk1gvjiahxd76nc.png"></td><td> 低 </td><td><img src="https://habrastorage.org/webt/cx/pq/2y/cxpq2y22ivgtktktjyvwe0qza_g.png"></td></tr><tr><td><img src="https://habrastorage.org/webt/q7/5i/id/q75iidplb1-tvmdn3znuyeeft-k.png"></td><td> 高 </td><td><img src="https://habrastorage.org/webt/ep/kk/un/epkkun2ywaf0imyojtaeqlp6mzi.png"></td></tr><tr><td><img src="https://habrastorage.org/webt/-x/um/zy/-xumzylnswbx8idqpnwfyskr05w.png"></td><td> 高 </td><td><img src="https://habrastorage.org/webt/ep/kk/un/epkkun2ywaf0imyojtaeqlp6mzi.png"></td></tr><tr><td><img src="https://habrastorage.org/webt/mb/mt/yi/mbmtyi5lcf4gbsl46tdpxm_k1hm.png"></td><td> 平均 </td><td><img src="https://habrastorage.org/webt/bu/gx/u6/bugxu6jx9tfrl1hejgaay7zyhgs.png"></td></tr></tbody></table><br> 注意事项： <br><br>  1.在计算匹配电阻的值时，可以方便地使用差分对的偶数Z <sub>EVEN</sub> （英制模式）和奇数Z <sub>ODD</sub> （英制模式）的阻抗值。 根据定义，当差分对中的传播期间的信号不失真时，这些是特殊工作模式中线路之一的阻抗值。 在对称差分对的情况下，偶数模式为相等的信号V <sub>+</sub> = V，奇数模式为反相信号V <sub>+</sub> = –V。 此外，它们通过以下关系与差分对的特征阻抗值相关：Z <sub>DIFF</sub> = 2∙Z <sub>ODD</sub> ，Z <sub>COMM</sub> = 1/2∙Z <sub>EVEN</sub> 。 <br><br>  2.对于具有弱互耦合的差分对，Z <sub>ODD≈Z</sub> <sub>EVEN≈Z</sub> <sub>0</sub>和T形匹配方案退化为每条线路的并联匹配电路。 <br><br> 差分电路具有许多相对非对称的优点，并且对于可靠和高速的数据传输标准（包括具有大量节点的系统）至关重要。 随着时钟频率增长趋势的持续，开发人员将越来越需要处理差分对的追踪，因此这种能力具有战略意义，不仅应基于一般建议，而且应得到专用CAD系统和实验数据中的仿真结果的支持。 <br><br><h3> 文学作品 </h3><br>  [1] Bogatin E.“信号和电源完整性-简化”，第二版，皮尔逊，2010年 <br><br>  <i>该文章首次发表在《组件和技术2018》第5期上。</i>  <i>有关Habr的出版物已获得该杂志编辑的同意。</i> <br><br><h3> 聚苯乙烯 </h3><br>  <i>再一次，我呼吁那些喜欢从Geektimes离开后的读者减少了，他们可以根据需要在评论，私人消息中表达反馈。</i>  <i>这适用于本文和所有以前的文章。</i>  <i>我想编写一个非常方便的参考手册，使某人成功地开始进行印刷电路板的设计，而错误却更少，从而使人更加深入并提高了质量。</i>  <i>加入我们，进行建设性批评，为行业发展做出贡献。</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN419321/">https://habr.com/ru/post/zh-CN419321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN419309/index.html">JavaScript中号颜色</a></li>
<li><a href="../zh-CN419311/index.html">来自国内制造商Effest的工业照明器，具有良好的显色指数</a></li>
<li><a href="../zh-CN419313/index.html">巴菲特的遗嘱或财务顾问的沉默</a></li>
<li><a href="../zh-CN419315/index.html">火箭死亡后的发动机寿命</a></li>
<li><a href="../zh-CN419319/index.html">如何在生产中使用Kubernetes启动Istio。 第一部分</a></li>
<li><a href="../zh-CN419323/index.html">在Hetzner Cloud上安装Kubernetes</a></li>
<li><a href="../zh-CN419325/index.html">将学生迁移到法国</a></li>
<li><a href="../zh-CN419327/index.html">MikroTik的界面列表指南</a></li>
<li><a href="../zh-CN419329/index.html">8月6日至12日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN419331/index.html">Haken的Continuum：具有声学响应能力的电子乐器</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>