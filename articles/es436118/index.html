<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüè≠ üëé ü•î La experiencia de crear el primer robot en Arduino (robot-hunter) üí• üåè ü¶é</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola 

 En este art√≠culo, quiero describir el proceso de ensamblar mi primer robot Arduino. El material ser√° √∫til para otros reci√©n llegados, como yo,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>La experiencia de crear el primer robot en Arduino (robot-hunter)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436118/"> Hola <br><br>  En este art√≠culo, quiero describir el proceso de ensamblar mi primer robot Arduino.  El material ser√° √∫til para otros reci√©n llegados, como yo, que quieran hacer alg√∫n tipo de "carro de autoservicio".  El art√≠culo es una descripci√≥n de las etapas de trabajo con mis adiciones en varios matices.  Al final del art√≠culo se proporciona un enlace al c√≥digo resultante (probablemente no es el m√°s ideal). <br><br><img src="https://habrastorage.org/webt/gg/go/jt/gggojtfkexubr-5hiyumawj2gpw.jpeg"><br><br>  En la medida de lo posible, involucr√© a mi hijo (8 a√±os).  Qu√© le sucedi√≥ exactamente y qu√© no: para esto destaqu√© parte del art√≠culo, tal vez alguien sea √∫til. <br><a name="habracut"></a><br><h2>  Descripci√≥n general del robot. </h2><br>  Primero, algunas palabras sobre el robot en s√≠ ( <b>idea</b> ).  Realmente no quer√≠a coleccionar algo t√≠pico al principio.  Al mismo tiempo, el conjunto de componentes era bastante est√°ndar: chasis, motores, sensor ultras√≥nico, sensor de l√≠nea, LED, tweeter.  Al principio, a partir de este "conjunto de sopa" se invent√≥ un robot que protege su territorio.  √âl va al intruso, que cruz√≥ la l√≠nea del c√≠rculo, y luego regresa al centro.  Sin embargo, en esta versi√≥n, se necesitaba una l√≠nea dibujada, m√°s matem√°ticas adicionales para permanecer constantemente en el c√≠rculo. <br><br>  Por lo tanto, despu√©s de algunas deliberaciones, cambi√© un poco la idea y decid√≠ hacer un robot "cazador".  Al principio, gira alrededor de su eje, eligiendo un objetivo (persona) cercano.  Si se descubre una "v√≠ctima", el "cazador" enciende una luz intermitente y una sirena, y comienza a montarla.  Cuando una persona se aleja / huye, el robot selecciona un nuevo objetivo y lo persigue, y as√≠ sucesivamente.  Tal robot no necesita un c√≠rculo limitado, y puede funcionar en un √°rea abierta. <br><br>  Como puede ver, esto es muy parecido al juego de ponerse al d√≠a.  Aunque al final el robot no result√≥ ser lo suficientemente r√°pido, pero honestamente interact√∫a con las personas que lo rodean.  A los ni√±os les gusta especialmente (a veces, sin embargo, parece que est√°n a punto de pisotearlo, ya el coraz√≥n est√° saltando ...).  Creo que esta es una buena soluci√≥n para popularizar el dise√±o t√©cnico. <br><br><h2>  Estructura robot </h2><br>  Entonces, decidimos la idea, pasemos al <b>dise√±o</b> .  La lista de elementos se forma a partir de lo que el robot deber√≠a poder.  Aqu√≠ todo es bastante obvio, as√≠ que mire inmediatamente la numeraci√≥n: <br><br><img src="https://habrastorage.org/webt/0l/vg/gq/0lvggqarv4h03cxzyflrf_7x3vu.jpeg"><br><br>  "Cerebros" del robot - placa arduino uno (1);  estaba en un conjunto ordenado desde China.  Para nuestros prop√≥sitos, es suficiente (nos centramos en la cantidad de pines utilizados).  Del mismo conjunto, tomamos el chasis terminado (2), en el que se unen dos ruedas motrices (3) y una trasera (que gira libremente) (4).  Tambi√©n en el kit hab√≠a un compartimento de bater√≠a listo para usar (5).  En la parte frontal del robot hay un sensor ultras√≥nico (HC-SR04) (6), en la parte posterior hay un controlador del motor (L298N) (7), en el centro hay un LED-flash (8), y un poco al lado hay un tweeter (9). <br><br>  En la etapa de construcci√≥n, miramos: <br><br>  - para que todo encaje <br>  - estar equilibrado <br>  - ser colocado racionalmente <br><br>  Parcialmente, nuestros colegas chinos ya lo han hecho por nosotros.  Por lo tanto, el compartimento de la bater√≠a pesada se coloca en el centro, y aproximadamente debajo de √©l hay ruedas motrices.  Todas las otras tablas son ligeras, se pueden colocar en la periferia. <br><br>  Matices: <br><br><ol><li>  Hay muchos agujeros de f√°brica en el chasis del conjunto, pero qu√© l√≥gica hay en ellos: todav√≠a no lo he descubierto.  Los motores y el paquete de bater√≠as se arreglaron sin problemas, luego el "ajuste" comenz√≥ con la perforaci√≥n de nuevos agujeros para arreglar uno u otro tablero. </li><li>  Los estantes de lat√≥n y otros sujetadores de los cuartos de almacenamiento fueron rescatados (a veces ten√≠an que salir). </li><li>  Pas√© los neum√°ticos de cada tabla a trav√©s de las abrazaderas (nuevamente, lo encontr√© en los cuartos de almacenamiento).  Muy conveniente, todos los cables son hermosos y no se cuelgan. </li></ol><br><h2>  Bloques individuales </h2><br>  Ahora revisar√© los <b>bloques</b> y les contar√© personalmente sobre cada uno. <br><br>  <b>Compartimento de la bater√≠a</b> <br><br>  Est√° claro que el robot debe tener una buena fuente de energ√≠a.  Las opciones pueden ser diferentes, eleg√≠ la opci√≥n con 4 pilas AA.  En total, dan alrededor de 5 V, y este voltaje se puede aplicar directamente al pin de 5 V de la placa arduino (sin pasar por el estabilizador). <br><br>  Por supuesto, tuve cierta cautela, pero esta soluci√≥n es bastante viable. <br><br>  Como se necesita energ√≠a en todas partes, por conveniencia, hice dos conectores en el centro del robot: uno "distribuye" la tierra (derecha) y el segundo - 5 V (izquierda). <br><br><img src="https://habrastorage.org/webt/ko/jj/am/kojjamjo6cxljkfgv8os3v1zq-4.jpeg"><br><br>  <b>Motores y chofer</b> <br><br>  Primero, sobre el montaje de motores.  El soporte es de f√°brica, pero est√° hecho con grandes tolerancias.  En otras palabras, los motores pueden "tambalearse" un par de mil√≠metros de izquierda a derecha.  Para nuestra tarea, esto no es cr√≠tico, pero en alg√∫n lugar puede influir (el robot comenzar√° a alejarse).  Por si acaso, puse los motores estrictamente paralelos y los fij√© con pegamento. <br><br><img src="https://habrastorage.org/webt/f0/1k/bw/f01kbwansax8pzqihg4luq69xdk.jpeg"><br><br>  Para controlar los motores, como escrib√≠ anteriormente, se usa el controlador L298N.  Seg√∫n la documentaci√≥n, tiene tres pines para cada motor: uno para cambiar la velocidad y un par de pines para la direcci√≥n de rotaci√≥n.  Hay un punto importante.  Resulta que si el voltaje de alimentaci√≥n es de 5 V, ¬°entonces el control de velocidad simplemente no funciona!  Es decir, o no gira en absoluto, o gira al m√°ximo.  Aqu√≠ hay tal caracter√≠stica, por la cual "mat√©" un par de noches.  Al final, encontr√© una menci√≥n en alg√∫n lugar de uno de los foros. <br><br>  En t√©rminos generales, necesitaba una velocidad de rotaci√≥n baja al girar el robot, de modo que tuviera un margen de tiempo para escanear el espacio.  Pero, como nada surgi√≥ de tal idea, tuve que hacerlo de manera diferente: un peque√±o giro - parada - giro - parada, etc. Nuevamente, no es tan elegante, pero eficiente. <br><br>  Tambi√©n agregar√© aqu√≠ que despu√©s de cada b√∫squeda, el robot selecciona una direcci√≥n aleatoria de un nuevo giro (en sentido horario o antihorario). <br><br>  <b>Sensor ultras√≥nico</b> <br><br><img src="https://habrastorage.org/webt/ib/7p/88/ib7p88tghk0qnnesuhnrgrrmbvs.jpeg"><br><br>  Otra pieza de hierro, donde tuve que buscar una soluci√≥n de compromiso.  Un sensor ultras√≥nico en obst√°culos reales da n√∫meros inestables.  En realidad, se esperaba.  Idealmente, √©l trabaja en alg√∫n lugar de las competencias donde hay superficies lisas, uniformes y perpendiculares, pero si las piernas de alguien "parpadean" frente a √©l, entonces debes introducir un procesamiento adicional. <br><br>  Como tal procesamiento, configur√© el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">filtro mediano</a> en tres muestras.  Basado en pruebas en ni√±os reales (¬°ni un solo ni√±o result√≥ herido durante las pruebas!), Result√≥ ser suficiente para normalizar los datos.  La f√≠sica aqu√≠ es simple: tenemos se√±ales reflejadas desde los objetos <b>necesarios</b> (dando la distancia requerida) y reflejadas desde m√°s lejos, por ejemplo, paredes.  Las segundas son explosiones aleatorias en medidas de la forma 45, 46, <b>230</b> , 46, 46, 45, 45, <b>310</b> , 46 ... Es su filtro mediano el que se corta. <br><br>  Despu√©s de todo el procesamiento, obtenemos la distancia al objeto m√°s cercano.  Si es inferior a un cierto valor umbral, activamos la alarma y vamos directamente al "intruso". <br><br>  <b>Flasher y sirena</b> <br><br>  Quiz√°s los elementos m√°s simples de todo lo anterior.  Se pueden ver en las fotos de arriba.  No hay nada que escribir sobre el hierro aqu√≠, as√≠ que ahora pasemos al <b>c√≥digo</b> . <br><br><h2>  Programa de gesti√≥n </h2><br>  No veo el punto de escribir el c√≥digo en detalle, qui√©n lo necesita: el enlace se encuentra al final del art√≠culo, todo es bastante legible all√≠.  Pero la estructura general ser√≠a agradable de explicar. <br><br>  Lo primero que tuve que comprender: el robot es un dispositivo en tiempo real.  M√°s precisamente, recuerda, porque antes, y ahora sigo haciendo electr√≥nica.  Esto significa que inmediatamente nos olvidamos de la llamada <b>delay ()</b> , que nos encanta usar en bocetos de ejemplo, y que simplemente "congela" el programa durante un per√≠odo de tiempo espec√≠fico.  En cambio, como aconsejan personas experimentadas, presentamos temporizadores para cada bloque.  Ha transcurrido el intervalo requerido: realizaron la acci√≥n (aumentaron el brillo del LED, encendieron el motor, etc.). <br><br>  Los temporizadores pueden estar interconectados.  Entonces, por ejemplo, el tweeter funciona sincr√≥nicamente con una luz intermitente.  Esto hace que el programa sea un poco m√°s f√°cil. <br><br>  Naturalmente, dividimos todo en funciones separadas (luz intermitente, sonido, rotaci√≥n, movimiento hacia adelante, etc.).  Si no haces esto, entonces no entender√°s de qu√© viene o de d√≥nde. <br><br><h2>  Los matices de la pedagog√≠a. </h2><br>  Todo lo que se describi√≥ anteriormente, lo hice en mi tiempo libre por las tardes.  En modo pausado, pas√© unas tres semanas en el robot.  Esto podr√≠a haber terminado, pero tambi√©n promet√≠ contarte sobre trabajar con un ni√±o.  ¬øQu√© es factible a esta edad? <br><br>  <b>Trabajar en instrucciones</b> <br><br>  Primero verificamos cada detalle por separado: LED, tweeters, motores, sensores, etc. Hay una gran cantidad de ejemplos listos, algunos directamente en el entorno de desarrollo, otros se pueden encontrar en Internet.  Esto es indudablemente agradable.  Tomamos el c√≥digo, conectamos la parte, nos aseguramos de que funcione, entonces ya estamos comenzando a cambiar para nuestra tarea.  Conexiones seg√∫n el esquema y bajo mi control, el ni√±o se hace a s√≠ mismo.  Esto es bueno  Debe poder trabajar claramente de acuerdo con las instrucciones. <br><br>  <b>El orden de trabajo ("de privado a general")</b> <br><br>  Este es un punto dif√≠cil.  Es necesario ense√±ar que un proyecto grande ("hacer un robot") consiste en peque√±as tareas ("conectar un sensor", "conectar motores" ...) y que, a su vez, consisten en pasos a√∫n m√°s peque√±os ("encontrar un programa", " conectar la placa "," descargar firmware "...).  Realizando tareas m√°s o menos comprensibles del nivel inferior, "cerramos" las tareas del nivel medio, y el resultado general ya est√° compuesto de ellas.  Explic√≥, pero creo que la conciencia no llegar√° pronto.  En alg√∫n lugar, probablemente, a la adolescencia. <br><br>  <b>Instalaci√≥n</b> <br><br>  Perforaciones, roscas, tornillos, tuercas, soldaduras y el olor de la colofonia, sin ella.  El ni√±o recibi√≥ la habilidad b√°sica "Trabajar con un soldador": logr√© soldar varias juntas (ayud√© un poco, no me esconder√©).  No olvide la explicaci√≥n de seguridad. <br><br>  <b>Trabajo inform√°tico</b> <br><br>  Escrib√≠ un programa para el robot, pero logr√© lograr alg√∫n tipo de resultados asociados. <br><br>  Primero: ingl√©s.  Acababa de comenzar en la escuela, por lo que "chillamos" resolvimos qu√© son las traducciones de pishalka, migalka, yarkost y otras.  Entendimos al menos eso.  Deliberadamente no utilic√© mis palabras nativas en ingl√©s, ya que a√∫n no hemos alcanzado este nivel. <br><br>  Segundo: trabajo efectivo.  Ense√±aron a combinaciones de teclas de acceso r√°pido c√≥mo realizar r√°pidamente operaciones t√≠picas.  Peri√≥dicamente, cuando escribieron el programa, cambiamos de lugar con mi hijo y le dije lo que hab√≠a que hacer (reemplazo, b√∫squeda, etc.).  Tuve que repetir una y otra vez: "hacer doble clic", "mantener presionada la tecla May√∫s", "mantener presionada la tecla Ctrl" y as√≠ sucesivamente.  El proceso de aprendizaje aqu√≠ no es r√°pido, pero creo que las habilidades se dejar√°n de lado gradualmente. <br><br><div class="spoiler">  <b class="spoiler_title">Texto oculto</b> <div class="spoiler_text">  Puedes decir que lo anterior es casi obvio.  Pero, sinceramente, este oto√±o tuve la oportunidad de realizar ciencias de la computaci√≥n en noveno grado en la misma escuela.  Esto es horror  Los alumnos no saben cosas tan b√°sicas como Ctrl + Z, Ctrl + C y Ctrl + V, selecci√≥n de texto con May√∫s o doble clic en una palabra, y m√°s.  Esto a pesar del hecho de que estaban en su tercer a√±o de estudios en ciencias de la computaci√≥n ... Saque una conclusi√≥n usted mismo. <br></div></div><br>  Tercero: escritura t√°ctil.  Le confi√© los comentarios en el c√≥digo al ni√±o que escribe (d√©jelo practicar).  Inmediatamente ponga las manos correctas para que los dedos recuerden gradualmente la ubicaci√≥n de las teclas. <br><br>  Como puede ver, todav√≠a estamos comenzando.  Perfeccionaremos a√∫n m√°s nuestras habilidades y conocimientos y seremos √∫tiles en la vida. <br><br>  Por cierto, sobre la perspectiva ... <br><br><h2>  Mayor desarrollo </h2><br>  El robot est√° hecho, monta, parpadea y chilla.  Que ahora  Inspirado por lo que se ha logrado, planeamos refinarlo a√∫n m√°s.  Existe la idea de hacer un control remoto, como un rover lunar.  Ser√≠a interesante, sentado en una consola condicional, controlar el movimiento del robot, que viaja en un lugar completamente diferente.  Pero esta ser√° una historia diferente ... <br><br>  Y al final, de hecho, los h√©roes de este art√≠culo (video por clic): <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/sy/sl/-i/sysl-imyjpywmbkkpg1n4w-s5w0.png"></a> <br><br>  Gracias por su atencion! <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enlace al c√≥digo</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436118/">https://habr.com/ru/post/es436118/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436106/index.html">De d√≥nde vienen los textos: una gu√≠a breve para aquellos que desean ahorrar en contenido SEO</a></li>
<li><a href="../es436108/index.html">Revisi√≥n de la impresora HP 3D en IMTS 2018</a></li>
<li><a href="../es436110/index.html">Los matem√°ticos prueban que los polinomios no ayudar√°n a hackear RSA</a></li>
<li><a href="../es436112/index.html">Complemento Kubectl-debug para depurar en pods de Kubernetes</a></li>
<li><a href="../es436116/index.html">PERDIX: un algoritmo para el dise√±o autom√°tico de ADN-origami de geometr√≠a diferente</a></li>
<li><a href="../es436120/index.html">El error dif√≠cil de atrapar en LittleBigPlanet</a></li>
<li><a href="../es436122/index.html">Intel Lakefield: procesador h√≠brido Atom + Core en 3D</a></li>
<li><a href="../es436124/index.html">Leemos comentarios sobre Habr√© con comodidades</a></li>
<li><a href="../es436126/index.html">Kubernetes: construyendo im√°genes de Docker en un cl√∫ster</a></li>
<li><a href="../es436128/index.html">Entrevista con el baghunter Artyom Mosc√∫. Hacke√≥ Steam y recibi√≥ el premio m√°s grande en la historia de Valve.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>