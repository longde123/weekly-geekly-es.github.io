<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçü§ù‚Äçüë®üèº ü§õüèª üê° ¬øPor qu√© hacemos Enterprise Service Mesh? üõ≥Ô∏è üèéÔ∏è üòß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Service Mesh es un patr√≥n arquitect√≥nico bien conocido para integrar microservicios y pasar a la infraestructura de la nube. Hoy en el mundo de los co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øPor qu√© hacemos Enterprise Service Mesh?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/456136/">  Service Mesh es un patr√≥n arquitect√≥nico bien conocido para integrar microservicios y pasar a la infraestructura de la nube.  Hoy en el mundo de los contenedores en la nube es bastante dif√≠cil prescindir de √©l.  Varias implementaciones de malla de servicios de c√≥digo abierto ya est√°n disponibles en el mercado, pero su funcionalidad, confiabilidad y seguridad distan de ser siempre suficientes, especialmente cuando se trata de los requisitos de las grandes compa√±√≠as financieras de todo el pa√≠s.  Por lo tanto, en Sbertech decidimos personalizar Service Mesh y queremos hablar sobre lo que es genial en Service Mesh, qu√© no es muy bueno y qu√© vamos a hacer con √©l. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/610/635/fbf/610635fbfe1b4214c5598679e06bf4aa.png"><br><a name="habracut"></a><br>  La popularidad de la plantilla de Service Mesh est√° creciendo con la popularidad de la tecnolog√≠a en la nube.  Es una capa de infraestructura dedicada que simplifica la interacci√≥n entre diferentes servicios de red.  Las aplicaciones modernas en la nube consisten en cientos e incluso miles de dichos servicios, cada uno de los cuales puede tener miles de copias. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/394/a6f/ca9/394a6fca966e4ef70ad205c6eb79af34.png"><br><br>  La interacci√≥n entre estos servicios y su gesti√≥n es una tarea clave de Service Mesh.  De hecho, este es un modelo de red de muchos servidores proxy, gestionado de forma centralizada y que realiza un conjunto de funciones muy √∫tiles. <br><br>  <i>En el nivel de proxy (plano de datos):</i> <br><br><ul><li>  Asignar y distribuir pol√≠ticas de enrutamiento y equilibrio de tr√°fico. <br></li><li>  Distribuci√≥n de claves, certificados, tokens. <br></li><li>  Recolecci√≥n de telemetr√≠a, formaci√≥n de m√©tricas de monitoreo. <br></li><li>  Integraci√≥n con la infraestructura de seguridad y monitoreo. <br></li></ul><br>  <i>En el nivel del plano de control:</i> <br><br><ul><li>  Aplicar pol√≠ticas de enrutamiento y equilibrio de tr√°fico <br></li><li>  Gesti√≥n de reintentos y tiempos de espera, definici√≥n de nodos "muertos" (interrupci√≥n de circuito), gesti√≥n de situaciones defectuosas (fallas de inyecci√≥n) y mantenimiento de la resistencia de los servicios a trav√©s de otros mecanismos <br></li><li>  Autenticaci√≥n de llamadas / Autorizaci√≥n <br></li><li>  Descartar m√©tricas (observabilidad) <br></li></ul><br>  El c√≠rculo de usuarios interesados ‚Äã‚Äãen desarrollar esta tecnolog√≠a es muy amplio, desde peque√±as startups hasta grandes corporaciones de Internet, por ejemplo, PayPal. <br><br><h2>  ¬øPara qu√© sirve Service Mesh en el sector corporativo? </h2><br>  Usar Service Mesh trae muchos beneficios obvios.  En primer lugar, es conveniente para los desarrolladores: <i>aparece una plataforma tecnol√≥gica</i> para escribir c√≥digo que simplifica significativamente la integraci√≥n en la infraestructura de la nube debido al hecho de que la capa de transporte est√° completamente aislada de la l√≥gica de la aplicaci√≥n. <br><br>  Adem√°s, <i>Service Mesh simplifica la relaci√≥n entre proveedores y consumidores.</i>  Hoy en d√≠a, es mucho m√°s f√°cil para los proveedores y consumidores de la API acordar interfaces y contratos por su cuenta, sin involucrar un intermediario de integraci√≥n especial y un √°rbitro para esto: un bus de servicios corporativos.  Este enfoque afecta significativamente dos indicadores.  La velocidad de traer nuevas funcionalidades al mercado (tiempo de comercializaci√≥n) est√° aumentando, pero al mismo tiempo el costo de la soluci√≥n est√° aumentando, ya que la integraci√≥n debe hacerse de forma independiente.  El uso de Service Mesh por parte de los equipos de desarrollo empresarial ayuda a mantener el equilibrio aqu√≠.  Como resultado, los proveedores de API pueden centrarse exclusivamente en el componente de aplicaci√≥n de su servicio y simplemente publicarlo en Service Mesh: la API estar√° inmediatamente disponible para todos los clientes, y la calidad de integraci√≥n estar√° lista para la producci√≥n y no requerir√° una sola l√≠nea de c√≥digo adicional. <br><br>  Otra ventaja es que el <i>desarrollador, al usar el Service Mesh, se enfoca √∫nicamente en la funcionalidad del negocio</i> , en el producto y no en el componente tecnol√≥gico de su servicio.  Por ejemplo, no tiene que pensar en el hecho de que en una situaci√≥n en la que se llamar√° al servicio a trav√©s de la red, en alg√∫n lugar la conexi√≥n puede interrumpirse.  Adem√°s, Service Mesh ayuda a equilibrar el tr√°fico entre copias del mismo servicio: si una de las copias "muri√≥", el sistema cambiar√° todo el tr√°fico a las copias en vivo restantes. <br><br>  <i>Service Mesh</i> es <i>una buena base para crear aplicaciones distribuidas</i> , que oculta al cliente los detalles de proporcionar llamadas a sus servicios tanto interna como externamente.  Todas las aplicaciones que usan Service Mesh est√°n aisladas en la capa de transporte tanto de la red como entre s√≠: no hay conexi√≥n entre ellas.  En este caso, el desarrollador obtiene el control total sobre sus servicios. <br><br>  Cabe se√±alar que <i>actualizar las aplicaciones distribuidas en un entorno donde se utiliza Service Mesh es cada vez m√°s f√°cil.</i>  Por ejemplo, implementaci√≥n azul / verde, en la que hay dos entornos de aplicaci√≥n disponibles para la instalaci√≥n, uno de los cuales no est√° actualizado y est√° en modo de espera.  La reversi√≥n a la versi√≥n anterior en caso de lanzamiento fallido se lleva a cabo mediante un enrutador especial, cuya funci√≥n hace frente perfectamente a Service Mesh <i>.</i>  Puede usar la <i>versi√≥n canaria</i> para ejecutar en la nueva versi√≥n: cambie solo el 10% del tr√°fico o las solicitudes del grupo de clientes piloto a la nueva versi√≥n.  El tr√°fico principal va a la versi√≥n anterior, no se rompe nada. <br><br>  <i>Service Mesh tambi√©n nos brinda control SLA en tiempo real</i> .  El sistema de proxies distribuidos no permitir√° inundar el servicio cuando uno de los clientes exceda la cuota emitida.  Si el ancho de banda de la API es limitado, nadie podr√° estrangularlo con una gran cantidad de transacciones: la malla de servicio est√° al frente del servicio y no permite tr√°fico adicional.  Simplemente se impondr√° en la capa de integraci√≥n, y los servicios en s√≠ mismos continuar√°n funcionando sin darse cuenta. <br><br>  Si la compa√±√≠a quiere reducir el costo de desarrollar soluciones de integraci√≥n, Service Mesh tambi√©n ayuda: <i>puede cambiar a su versi√≥n de c√≥digo abierto desde productos comerciales</i> .  Nuestra Enterprise Service Mesh se basa en la versi√≥n de c√≥digo abierto de Service Mesh. <br><br>  Otra ventaja es la <i>disponibilidad de un √∫nico conjunto completo de servicios de integraci√≥n</i> .  Dado que toda la integraci√≥n se construye a trav√©s de esta capa intermedia, podemos administrar todo el tr√°fico de integraci√≥n y las conexiones entre las aplicaciones que forman el n√∫cleo comercial de la empresa.  Es muy conveniente. <br><br>  Finalmente, <i>Service Mesh impulsa a la compa√±√≠a a realizar la transici√≥n a una infraestructura din√°mica.</i>  Ahora muchos est√°n mirando hacia la contenedorizaci√≥n.  Aserrar un monolito en microservicios, es hermoso implementarlo todo: el tema est√° en aumento.  Pero cuando intenta transferir a una nueva pista un sistema que ha estado en producci√≥n durante muchos a√±os, inmediatamente encuentra una serie de problemas: empujarlo todo en contenedores e implementarlo en la plataforma no es f√°cil.  Y la implementaci√≥n, sincronizaci√≥n e interacci√≥n de estos componentes distribuidos es otro tema dif√≠cil.  ¬øC√≥mo se comunicar√°n entre ellos?  ¬øHabr√° fallas en cascada?  Service Mesh le permite resolver algunos de estos problemas y facilitar la migraci√≥n de la arquitectura antigua a la nueva debido al hecho de que puede olvidarse de la l√≥gica del intercambio de red. <br><br><h2>  ¬øPor qu√© personalizar Service Mesh? </h2><br>  En nuestra empresa, coexisten cientos de sistemas y m√≥dulos, y el tiempo de ejecuci√≥n est√° muy ocupado.  Entonces, un patr√≥n simple, cuando un sistema llama a otro y recibe una respuesta, no es suficiente, porque en producci√≥n queremos m√°s.  ¬øQu√© m√°s necesitas de una malla de servicio corporativa? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca4/0e3/e24/ca40e3e2437875712025691aa5c340e3.png"><br><br><h3>  Servicio de procesamiento de eventos </h3><br>  Imagine que necesitamos realizar un procesamiento de eventos en tiempo real, un sistema que analiza en tiempo real las acciones del cliente y puede hacer de √©l inmediatamente una oferta relevante.  Para implementar esta funcionalidad, <i>se utiliza</i> un <i>patr√≥n arquitect√≥nico llamado arquitectura controlada por eventos (EDA)</i> .  Ninguno de los Service Mesh relevantes admite de forma nativa tales patrones, pero esto es muy importante, ¬°especialmente para el banco! <br><br>  Es extra√±o que la llamada a procedimiento remoto (RPC) sea compatible con todas las versiones de Service Mesh, y no son amigos de EDA.  Debido a que Service Mesh es una apariencia de integraci√≥n distribuida moderna, y EDA es un patr√≥n arquitect√≥nico muy relevante que le permite hacer cosas √∫nicas en t√©rminos de experiencia del cliente. <br><br>  Nuestro Enterprise Service Mesh deber√≠a resolver este problema.  Adem√°s, queremos ver en √©l la implementaci√≥n de entrega garantizada, transmisi√≥n y procesamiento integrado de eventos utilizando una variedad de filtros y plantillas. <br><br><h3>  Servicio de transferencia de archivos </h3><br>  Adem√°s de EDA, ser√≠a bueno poder transferir archivos: en una escala Enterprise, a menudo solo es posible la integraci√≥n de archivos.  En particular, se utiliza el patr√≥n arquitect√≥nico ETL (Extraer, Transformar, Cargar - "extraer, transformar, cargar").  En √©l, como regla, todos intercambian archivos exclusivamente: usan big data, lo cual no es pr√°ctico para enviar solicitudes separadas.  La capacidad de soportar de forma nativa las transferencias de archivos en Enterprise Service Mesh le brinda la flexibilidad que necesita para su negocio. <br><br><h3>  Servicio de orquestaci√≥n </h3><br>  En las grandes organizaciones, casi siempre hay equipos diferentes que fabrican productos diferentes.  Por ejemplo, en un banco, algunos equipos trabajan con dep√≥sitos, mientras que otros trabajan con productos de cr√©dito, y hay muchos de estos casos.  Estas son personas diferentes, diferentes equipos que fabrican sus productos, desarrollan sus API y se los proporcionan a otros.  Y muy a menudo existe la necesidad de la composici√≥n de estos servicios, as√≠ como la implementaci√≥n de la l√≥gica compleja de la llamada secuencial del conjunto de API.  Para resolver este problema, se necesita una soluci√≥n en la capa de integraci√≥n, que simplificar√° toda esta l√≥gica compuesta (llamando a varias API, describiendo la ruta de las solicitudes, etc.).  Este es el servicio de orquestaci√≥n en Enterprise Service Mesh. <br><br><h3>  AI y ML </h3><br>  Cuando los microservicios se comunican a trav√©s de una sola capa de integraci√≥n, Service Mesh, por supuesto, sabe todo acerca de las llamadas de cada servicio.  Recopilamos telemetr√≠a: qui√©n llam√≥ a qui√©n, cu√°ndo, cu√°nto tiempo, cu√°ntas veces, etc.  Cuando hay cientos de miles de estos servicios y miles de millones de llamadas, todo esto se acumula y forma Big Data.  Estos datos pueden analizarse usando IA, aprendizaje autom√°tico, etc., y luego hacer algunas cosas √∫tiles en funci√≥n de los resultados del an√°lisis.  Ser√≠a apropiado transferir al menos parcialmente a la inteligencia artificial la gesti√≥n de todo este tr√°fico de red y llamadas de aplicaciones integradas en la malla de servicio. <br><br><h3>  Servicio de puerta de enlace API </h3><br>  Como regla general, Service Mesh tiene servidores proxy y servicios que se acceden entre s√≠ dentro del per√≠metro de confianza.  Pero tambi√©n hay contrapartes externas.  Los requisitos de API para este grupo de consumidores son mucho m√°s serios.  Dividimos esta tarea en dos partes principales. <br><br><ul><li>  <i>Seguridad</i>  Problemas relacionados con ddos, vulnerabilidad de protocolos, aplicaciones, sistemas operativos, etc. <br></li><li>  <i>La escala</i>  Cuando la factura de API que se debe entregar a los clientes llega a miles o incluso cientos de miles, existe la necesidad de algunos medios para administrar este conjunto de API.  Debe monitorear constantemente la API: funcionan o no, en qu√© estado, qu√© tr√°fico est√° pasando, qu√© estad√≠sticas, etc.  La puerta de enlace API debe manejar esta tarea, haciendo que todo el proceso sea manejable y seguro.  Gracias a este componente, Enterprise Service Mesh aprende a publicar las API internas y externas sin demasiada dificultad. <br></li></ul><br><h3>  Servicio de soporte para protocolos y formatos de datos espec√≠ficos (pasarela AS) </h3><br>  Actualmente, la mayor√≠a de las soluciones de Service Mesh solo pueden funcionar de forma nativa con tr√°fico HTTP y HTTP2 o en modo truncado a nivel TCP / IP.  Enterprise Service Mesh tiene muchos otros protocolos de transferencia de datos muy espec√≠ficos.  Algunos sistemas pueden usar corredores de mensajes; otros est√°n integrados a nivel de base de datos.  Si la empresa tiene SAP, tambi√©n puede usar su propio sistema de integraci√≥n.  Y todo esto funciona y es una parte importante del negocio. <br><br>  No puede simplemente decir: "Renunciemos al legado y creemos nuevos sistemas que puedan usar la malla de servicio".  Para hacer amigos de todos los sistemas antiguos con los nuevos (en la arquitectura de microservicios), los sistemas que pueden usar Service Mesh necesitar√°n alg√∫n tipo de adaptador, intermediario y puerta de enlace.  De acuerdo, ser√≠a bueno si se entregara en una caja junto con el servicio.  La puerta de enlace AS puede admitir cualquier opci√≥n de integraci√≥n.  Imag√≠nese, simplemente instala Enterprise Service Mesh y est√° listo para interactuar con todos los protocolos que necesita.  Para nosotros, este enfoque es muy importante. <br><br>  <i>As√≠ es como presentamos la versi√≥n corporativa de Service Mesh (Enterprise Service Mesh).</i>  <i>La personalizaci√≥n descrita resuelve la mayor√≠a de los problemas que surgen cuando se intenta utilizar versiones de c√≥digo abierto ya preparadas de la plataforma de integraci√≥n.</i>  <i>Habiendo aparecido hace solo un par de a√±os, la arquitectura de Service Mesh contin√∫a evolucionando, y nos complace poder contribuir a su desarrollo.</i>  <i>Esperamos que nuestra experiencia le sea de utilidad.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456136/">https://habr.com/ru/post/456136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456124/index.html">Uso de mecanografiado con React: una gu√≠a para principiantes</a></li>
<li><a href="../456126/index.html">Cuente una tonelada de dinero y realice una exploraci√≥n en la mina: c√≥mo los robots ya han encontrado un lugar entre nosotros</a></li>
<li><a href="../456128/index.html">MBLT19 :: volver</a></li>
<li><a href="../456132/index.html">Acerca de la grabaci√≥n de errores o Buscar un gato</a></li>
<li><a href="../456134/index.html">¬°Conf√≠a pero verifica! C√≥mo probar su modelo utilizando la nube de IBM (Watson OpenScale)</a></li>
<li><a href="../456140/index.html">Conoce Codeception 3.0</a></li>
<li><a href="../456144/index.html">KubeCon EU 2019: 10 hallazgos clave</a></li>
<li><a href="../456146/index.html">DevOps en desarrollo: automatizaci√≥n de c√≥digo de aplicaci√≥n web</a></li>
<li><a href="../456148/index.html">Noticias de la semana: Facebook rechaza a Huawei en aplicaciones, Aurora OS en lugar de Android, minando sanciones</a></li>
<li><a href="../456150/index.html">Petty little joy # 4: Rad√≥n - calidad del c√≥digo medida en n√∫meros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>