<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏾 ➖ 👩🏻‍🤝‍👨🏼 Bagaimana saya berbagi lokasi melalui VK API #⃣ 🖖🏽 ⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Baru-baru ini saya memutuskan untuk mencoba menerapkan gagasan tentang cara berbagi lokasi melalui VK API dengan teman-teman dalam mode real-time. Out...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana saya berbagi lokasi melalui VK API</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434996/">  Baru-baru ini saya memutuskan untuk mencoba menerapkan gagasan tentang cara berbagi lokasi melalui VK API dengan teman-teman dalam mode real-time.  Outputnya adalah aplikasi Qt lintas platform untuk iOS / Android, aplikasi web untuk VKontakte dan beberapa permintaan tarik untuk VK API.  Dalam artikel ini, saya ingin membagikan beberapa poin implementasi yang tidak jelas yang mungkin menarik bagi seseorang.  Jadi, tertarik silakan minta kucing. <br><a name="habracut"></a><br><h3>  Mengapa saya membutuhkannya? </h3><br>  Cepat atau lambat, anak-anak tumbuh dewasa.  Kebenaran dangkal.  Jadi, anak perempuan saya yang berusia sepuluh tahun pada suatu hari berkata, "Ayah, jangan bawa saya dengan mobil lagi, saya ingin pergi ke sekolah sendirian!"  Nah, kemudian, saya menemukan klaim adil, meminta masa tenggang dua minggu, dan mulai persiapan. <br><br>  Karena saya memiliki beberapa pengalaman menulis aplikasi, dan putri saya terus-menerus membawa di saku iPhone SE, sebagai persiapan, diputuskan untuk dengan cepat menulis aplikasi yang akan menunjukkan di mana putri itu berada pada saat tertentu.  Ya, saya tahu bahwa sekarang ada banyak aplikasi semacam itu (bahkan fungsionalitas serupa baru-baru ini muncul di Google Maps), dan dimungkinkan untuk menggunakan beberapa solusi yang sudah jadi, tetapi saya tertarik untuk menulis sesuatu dari saya sendiri. <br><br><h3>  Mengapa VKontakte? </h3><br>  Karena saya tidak ingin mengaitkan dengan pemrosesan dan penyimpanan data pribadi orang lain (kemungkinan prospek) pada peralatan saya dengan semua "pesona" yang timbul dari ini, saya berpikir tentang bagaimana melakukan tanpa bagian server saya sendiri.  Dan kemudian saya sadar - setelah semua, ada monster seperti VKontakte!  Itu modis, kuat dan dengan API yang dikembangkannya, dan yang paling penting, semua anak kita telah duduk di dalamnya untuk waktu yang lama dan ketat (saya tidak bisa mengatakan bahwa saya menyukainya, tetapi itu kenyataan).  Tapi sial, Holmes, bagaimana saya bisa memasukkan data lokasi ke dalamnya sehingga, pertama, itu tidak muncul di tempat yang tidak perlu, dan kedua, sehingga Anda dapat mengontrol akses ke data ini sehingga pedobir yang buruk kepada mereka tidak sampai di sana? <br><br>  Catatan datang untuk menyelamatkan.  Ya, catatan wikipedia yang sama yang dulu (menurut desas-desus) sangat populer dan sekarang berada di kandang, sebagian besar mereka berhenti berkedip di kaset dan pindah ke bagian terpisah dari situs, yang Anda tidak akan mendapatkan kambing lumpuh.  Anda dapat menempatkan data teks sewenang-wenang di dalamnya, tetapi yang utama adalah mereka dapat diberi daftar akses yang mencantumkan orang dan grup yang dapat melihat dan mengomentari catatan ini. <br><br>  Skema umum aplikasi di mata saya mulai terlihat seperti ini: <br><br><ul><li>  Buat daftar teman yang ingin Anda bagikan data lokasi (saya menyebutnya "Teman Tepercaya"); </li><li>  Kami membuat catatan dengan nama tertentu, memberikan hak untuk melihatnya di daftar di atas, menuliskan data lokasi di sana dan memperbaruinya secara berkala; </li><li>  Kami secara teratur menelusuri daftar teman tepercaya, memeriksa untuk melihat apakah mereka juga memiliki catatan dengan nama khusus ini, jika ya, maka kami mencoba mengekstrak data tentang lokasi teman dari isinya, dan jika berhasil, kami menampilkannya di peta; </li><li>  ??? </li><li>  KEUNTUNGAN! </li></ul><br>  Jadi, ada ide, terserah hal kecil untuk menyadarinya. <br><br><h3>  iOS </h3><br>  Karena putrinya menggunakan iPhone, logis untuk memulai implementasi dengan versi iOS.  Dengan pandangan untuk lintas platform, Qt dipilih sebagai kerangka kerja, karena saya telah terbiasa dengannya sejak lama, dan Open Street Map yang bagus, yang ada plugin di Qt Location, dipilih sebagai mesin untuk peta.  Karena aplikasi ini awalnya dibuat sebagai sumber terbuka, pembatasan lisensi Qt tidak membuat saya takut. <br><br>  GUI ditulis dalam QML, untuk bekerja dengan VK, saya terhubung dan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SDK iOS VK</a> biasa, ditulis dalam Objective-C, jadi integrasinya tidak menyebabkan masalah.  Bekerja di latar belakang pada iOS diimplementasikan melalui Layanan Lokasi Ubah Signifikan.  Untuk mengurangi konsumsi energi, aplikasi memonitor aktivitas gerakan, dan jika memahami bahwa seseorang duduk untuk sekitar satu tempat untuk waktu yang lama (katakanlah, dia datang ke sekolah atau kantor), maka dia menurunkan akurasi yang diperlukan untuk menentukan geolokasi, memaksa OS untuk beralih ke cara yang kurang intensif energi untuk menentukannya (bagaimana sebagai aturan, di menara sel).  Jika aplikasi memahami bahwa orang tersebut telah mulai bergerak aktif, keakuratannya meningkat lagi. <br><br>  Kode sumber lengkap untuk versi iOS tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> .  Berikut adalah beberapa poin tidak jelas yang saya temui dalam proses implementasi: <br><br>  <b>Mengganti Metode NSApplicationDelegate dalam Aplikasi Qt</b> <br><br>  VKontakte iOS SDK memerlukan penambahan panggilan ke beberapa fungsinya dalam aplikasi: didFinishLaunchingWithOptions: dan aplikasi: openURL: options: methods.  Sebelum beberapa versi Qt (menurut saya, sebelum 5.11), cukup membuat kategori untuk QIOSApplicationDelegate seperti ini: <br><br><pre><code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QIOSApplicationDelegate</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIResponder</span></span></span><span class="hljs-class"> &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIApplicationDelegate</span></span></span><span class="hljs-class">&gt; @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QIOSApplicationDelegate</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QIOSApplicationDelegateVKGeoCategory</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implementation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QIOSApplicationDelegate</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QIOSApplicationDelegateVKGeoCategory</span></span></span><span class="hljs-class">) - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BOOL</span></span></span><span class="hljs-class">)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">application</span></span></span><span class="hljs-class">:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIApplication</span></span></span><span class="hljs-class"> *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">application</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">didFinishLaunchingWithOptions</span></span></span><span class="hljs-class">:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSDictionary</span></span></span><span class="hljs-class"> *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">launchOptions</span></span></span><span class="hljs-class"> </span></span>{ [...] } - (<span class="hljs-built_in"><span class="hljs-built_in">BOOL</span></span>)application:(<span class="hljs-built_in"><span class="hljs-built_in">UIApplication</span></span> *)application openURL:(<span class="hljs-built_in"><span class="hljs-built_in">NSURL</span></span> *)url options:(<span class="hljs-built_in"><span class="hljs-built_in">NSDictionary</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">UIApplicationOpenURLOptionsKey</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>&gt; *)options { [...] } <span class="hljs-keyword"><span class="hljs-keyword">@end</span></span></code> </pre> <br>  Tetapi dalam versi terbaru Qt, QIOSApplicationDelegate sudah memiliki implementasi aplikasi: openURL: options:, sehingga opsi dengan kategori tidak lagi bergulir.  Saya harus membuat pewaris dari QIOSApplicationDelegate dan menetapkan delegasi melalui setDelegate: <br><br><pre> <code class="objectivec hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VKGeoApplicationDelegate</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">QIOSApplicationDelegate</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implementation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VKGeoApplicationDelegate</span></span></span><span class="hljs-class"> - (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BOOL</span></span></span><span class="hljs-class">)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">application</span></span></span><span class="hljs-class">:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIApplication</span></span></span><span class="hljs-class"> *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">application</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">openURL</span></span></span><span class="hljs-class">:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSURL</span></span></span><span class="hljs-class"> *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">url</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">options</span></span></span><span class="hljs-class">:(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NSDictionary</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIApplicationOpenURLOptionsKey</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">&gt; *)</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">options</span></span></span><span class="hljs-class"> </span></span>{ [...] } <span class="hljs-keyword"><span class="hljs-keyword">@end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> InitializeVKGeoApplicationDelegate() { [[<span class="hljs-built_in"><span class="hljs-built_in">UIApplication</span></span> sharedApplication] setDelegate:[[VKGeoApplicationDelegate alloc] init]]; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> argc, <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *argv[]) { [...] InitializeVKGeoApplicationDelegate(); [...] }</code> </pre><br>  <b>Kesalahan penanganan dari VKRequest</b> <br><br>  Menghadapi kenyataan bahwa VKRequest on error mengembalikan NSError kosong (kosong).  Saya membuat tambalan yang menambal tambalan seseorang sebelumnya dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menarik permintaan untuk</a> tambalan ini, tapi itu masih hang yang belum ditinjau. <br><br><h3>  Android </h3><br>  Berikut ini adalah versi untuk Android.  Kode GUI digunakan kembali dari iOS hampir sepenuhnya, untuk berinteraksi dengan VK, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VK Android SDK</a> biasa digunakan lagi, interaksi dengan yang terjadi melalui JNI, pekerjaan di latar belakang dilaksanakan sesuai dengan perjanjian Google untuk aplikasi tersebut - yaitu, melalui Layanan Foreground.  Tentu saja, logika untuk mengurangi konsumsi energi, mirip dengan yang digunakan di iOS, juga diterapkan. <br><br>  Set lengkap kode sumber untuk versi Android tersedia lagi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> , dan berikut adalah beberapa poin yang tidak jelas yang saya temui dalam proses penerapan versi ini: <br><br>  <b>Cara membuat layanan Android di Qt</b> <br><br>  Untuk membuat layanan di Qt 5.10, kelas QAndroidService muncul, yang harus digunakan alih-alih aplikasi QGui.  Anda dapat mengkompilasi terpisah .so untuk aktivitas dan layanan, atau Anda dapat menggunakan .so untuk semuanya, dan agar kode memahami mode apa yang berfungsi, Anda dapat menentukan mode ini melalui kunci baris perintah, sesuatu seperti ini: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".VKGeoService"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta-data</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.app.arguments"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-service"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *argv[])</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (argc == <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-function"><span class="hljs-function">QGuiApplication </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(argc, argv)</span></span></span></span>; [...] } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (argc == <span class="hljs-number"><span class="hljs-number">2</span></span> &amp;&amp; QString(argv[<span class="hljs-number"><span class="hljs-number">1</span></span>]) == <span class="hljs-string"><span class="hljs-string">"-service"</span></span>) { QAndroidService app(argc, argv); [...] } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } }</code> </pre><br>  <b>Aktivitas "menjuntai" yang aneh di onDestroy ()</b> <br><br>  Dalam proses implementasi layanan, masalah lucu menjadi jelas - QtActivity "tergantung" di suatu tempat di perut onDestroy (), tergantung pada ketersediaan layanan latar depan yang berfungsi.  Rupanya, Qt tidak berharap bahwa setelah aktivitas selesai, sesuatu yang lain mungkin tetap dari aplikasi.  Masalahnya diselesaikan dengan spasi aktivitas dan layanan di berbagai proses melalui penggunaan android: proses di manifes: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".VKGeoService"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:process</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">":VKGeoService"</span></span></span><span class="hljs-tag">&gt;</span></span> [...] <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  dan memaku proses di mana aktivitas berjalan, di onDestroy yang ditimpa (): <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDestroy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ [...] <span class="hljs-comment"><span class="hljs-comment">/* * This call hangs when foreground service is running, * so we just kill activity process instead (service * is running in a different process). * * super.onDestroy(); */</span></span> Process.killProcess(Process.myPid()); }</code> </pre><br>  Ya, serat terus bersumpah pada ini, tetapi bagaimana menghadapinya secara berbeda belum jelas bagi saya, tetapi mendapatkan QTBUG dengan PoC tentang topik ini belum mencapai apa pun. <br><br>  <b>UPDATE</b> : di Qt 5.12.3 (mungkin sedikit lebih awal - saya tidak memeriksa) bug dengan menggantung QtActivity.onDestroy () diperbaiki ketika layanan dimulai, solusi ini tidak lagi diperlukan. <br><br>  <b>Missing errorBlock call saat membatalkan VKBatchRequest</b> <br><br>  Saya banyak menggunakan permintaan batch untuk memudahkan memuat di server VKontakte, dan itu berada di bawah Android (semuanya berfungsi dengan baik di iOS) bahwa saya mengalami masalah jika VKBatchRequest dibatalkan dan errorBlocks tidak dipanggil untuk permintaan yang dibatalkan.  Saya memperbaiki masalah ini di versi lokal perpustakaan, membuat tambalan yang sesuai dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menarik permintaan untuk</a> tambalan ini, tetapi sekali lagi itu masih tergantung pada yang belum ditinjau. <br><br><h3>  Kesimpulan </h3><br>  Versi iOS Apple dengan mudah ditempatkan di App Store, dan masih tersedia di sana, versi Android tinggal di Google Play selama beberapa waktu hingga Kebijakan Google Play diperketat (itu menetapkan bahwa aplikasi pelacakan geolokasi harus secara eksplisit ditujukan untuk penggunaan keluarga atau perusahaan), setelah itu aplikasi saya diblokir dengan aman di sana.  Dalam upaya saya untuk mengajukan banding, seorang karyawan Google yang bertanggung jawab (atau mungkin itu adalah bot, sekarang tidak begitu jelas siapa yang menjawab pertanyaan Anda) dengan tegas menyatakan bahwa "baik, aplikasi ini MUNGKIN TIDAK DIGUNAKAN HANYA UNTUK pelacakan keluarga atau perusahaan" , yang saya tidak dapat menemukan apa pun untuk diperdebatkan - memang, dengan palu Anda tidak hanya dapat palu paku, tetapi juga meninju kepala Anda ... Saya menempatkan versi Android di Yandex.Store dan Amazon Appstore dan sebagai APK di situs web proyek. <br><br>  Saya akan senang jika aplikasi ini bermanfaat bagi seseorang sebagai alat bantu visual untuk memperjelas beberapa momen yang tidak jelas saat menulis aplikasi Qt untuk iOS / Android, terutama yang terkait dengan implementasi layanan Android pada Qt (fungsi ini relatif baru, contoh implementasi, berapa banyak Saya tidak tahu banyak).  Saya juga akan dengan senang hati menjawab pertanyaan di komentar, jika ada. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id434996/">https://habr.com/ru/post/id434996/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id434982/index.html">Perspektif: MultiClet S1</a></li>
<li><a href="../id434984/index.html">Mengapa saya membenci ORM yang fasih</a></li>
<li><a href="../id434986/index.html">Konsep dasar dari pustaka C ++ standar</a></li>
<li><a href="../id434992/index.html">Meningkatkan IDA Pro. Debugger untuk Sega Mega Drive (bagian 1)</a></li>
<li><a href="../id434994/index.html">Android: Membuat Citarasa Produk Dinamis dan Menandatangani Konfigurasi</a></li>
<li><a href="../id434998/index.html">Artikel lain tentang cara memilih smartphone</a></li>
<li><a href="../id435000/index.html">Konsep interaksi saluran iklan dan aplikasi praktisnya</a></li>
<li><a href="../id435006/index.html">Di mana dan bagaimana reaktor nuklir</a></li>
<li><a href="../id435008/index.html">Data awal tentang produksi dan penjualan kendaraan listrik Tesla untuk kuartal ke-4 dan untuk 2018</a></li>
<li><a href="../id435010/index.html">Lirik digital: mega-pilihan lagu dan klip tentang pemrograman dan programer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>