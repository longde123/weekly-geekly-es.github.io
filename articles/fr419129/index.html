<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ»â€ğŸš€ â†©ï¸ ğŸ‘©ğŸ¾â€ğŸ”§ SystÃ¨mes multi-agents dans la construction d'espaces virtuels ğŸ” ğŸ‘©â€ğŸš’ ğŸŒ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'un des problÃ¨mes critiques qui se posent lors de la construction de systÃ¨mes multi-utilisateurs est la mise Ã  l'Ã©chelle. Il existe diffÃ©rentes solut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SystÃ¨mes multi-agents dans la construction d'espaces virtuels</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/419129/">  L'un des problÃ¨mes critiques qui se posent lors de la construction de systÃ¨mes multi-utilisateurs est la mise Ã  l'Ã©chelle.  Il existe diffÃ©rentes solutions Ã  ces problÃ¨mes: partitionnement, modÃ¨le de service, systÃ¨me Entity-Component.  Aujourd'hui, nous examinerons toutes les options et discuterons Ã©galement d'un cas pratique pour rÃ©soudre le problÃ¨me.  Rejoignez-nous maintenant! <br><br><img src="https://habrastorage.org/webt/s1/_h/go/s1_hgomg5gsnukfd8hs4gdql6so.jpeg"><a name="habracut"></a><br><br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a></b> <br>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2e partie</a></b> <br><br>  <i>Je passe le mot aux auteurs.</i> <br><br><h2>  Approches traditionnelles de la construction de systÃ¨mes multi-utilisateurs.  Architecture de service </h2><br>  Historiquement, la premiÃ¨re mÃ©thode pour rÃ©soudre le problÃ¨me de la mise Ã  l'Ã©chelle Ã©tait le sharding - divisant l'ensemble du systÃ¨me en un certain nombre de serveurs par n'importe quel critÃ¨re sans Ã©tat gÃ©nÃ©ral du monde.  Autrement dit, jusqu'Ã  un certain nombre d'utilisateurs, ils pourraient Ãªtre sur le mÃªme serveur, se voir et interagir les uns avec les autres;  mais en en ajoutant de nouveaux, ils se sont retrouvÃ©s dans des copies d'espace virtuel fonctionnant sur un autre serveur et, par consÃ©quent, ne pouvaient pas interagir avec les autres.  Il est clair que ce n'est pas une solution au problÃ¨me, c'est une solution de contournement.  Et bien que le partage soit logique mÃªme maintenant, dans de nombreux cas, des approches sont nÃ©cessaires qui peuvent vraiment augmenter la charge possible sur le serveur. <br><br>  La deuxiÃ¨me technique courante est le modÃ¨le de service.  Le serveur possÃ¨de un certain nombre de composants qui peuvent facilement Ãªtre dupliquÃ©s.  Par exemple, il s'agit d'une base de donnÃ©es et de son utilisation, ou d'un serveur de ressources qui les envoie Ã  un client ou Ã  un serveur d'autorisation.  Tous ces services se distinguent par le fait que vous pouvez les avoir dans plusieurs instances et parallÃ©liser leurs demandes. <br><br><h2>  Le principal problÃ¨me est l'Ã©tat partagÃ© </h2><br>  Mais le problÃ¨me principal est diffÃ©rent.  Que faire d'un Ã©tat spÃ©cifique du monde, l'Ã©tat de l'espace virtuel?  Supposons que notre Â«mondeÂ» se compose d'une scÃ¨ne 3D, d'un ensemble d'objets dessus et de plusieurs utilisateurs connectÃ©s.  ThÃ©oriquement, nous pouvons dupliquer certains composants logiciels chargÃ©s de travailler avec la scÃ¨ne cÃ´tÃ© serveur.  Mais le problÃ¨me est que l'Ã©tat de la scÃ¨ne est une chose commune Ã  tous ces composants.  Par consÃ©quent, lors de la parallÃ©lisation des gestionnaires, nous devons d'une maniÃ¨re ou d'une autre rÃ©soudre le problÃ¨me de la synchronisation du travail avec les donnÃ©es, et en mÃªme temps sur la synchronisation elle-mÃªme, nous pouvons perdre plus en performances que gagner en parallÃ©lisme. <br><br><h2>  Solution: SystÃ¨me Entity-Component.  ProblÃ¨mes dans le cas de l'ExtrÃªme-Orient </h2><br>  ECS (Entity - Component System) est l'une des approches relativement rÃ©centes de ces problÃ¨mes.  Dans cette version, nous reprÃ©sentons l'objet du systÃ¨me comme une certaine entitÃ© qui a des propriÃ©tÃ©s.  Par exemple, cela peut Ãªtre la position d'un objet dans l'espace et sa vitesse.  De plus, tout ce que nous stockons sur l'objet lui-mÃªme n'est que quelques donnÃ©es, mais pas la logique de travailler avec eux.  Autrement dit, dans notre cas, six nombres seront simplement attribuÃ©s Ã  l'objet - le vecteur de coordonnÃ©es et le vecteur de vitesse. <br><br>  La deuxiÃ¨me partie d'ECS est travailleur, un systÃ¨me qui fonctionne avec un type spÃ©cifique de composant.  Par exemple, dans notre cas, il peut s'agir d'un systÃ¨me qui modifie les coordonnÃ©es d'un objet toutes les secondes, en leur ajoutant de la vitesse.  L'idÃ©e principale est que le travailleur ne sait rien de l'objet en tant que tel - il a juste une file d'attente, un pipeline de composants qu'il doit traiter selon certaines rÃ¨gles.  En consÃ©quence, nous pouvons parallÃ©liser les travailleurs, ainsi que les services parallÃ©lisÃ©s. <br><br><h2>  SystÃ¨mes d'agents comme mÃ©thode d'Ã©criture de code parallÃ¨le </h2><br>  L'approche multi-agents n'est pas non plus une nouveautÃ© particuliÃ¨re, mais rÃ©cemment, l'intÃ©rÃªt pour les systÃ¨mes d'agents s'est accru.  Il y a un certain nombre d'articles assez bons qui en parlent en dÃ©tail, donc ici nous ne listons briÃ¨vement que les principes les plus gÃ©nÃ©raux de tels systÃ¨mes: <br><br><ol><li>  Le composant principal du systÃ¨me est un composant appelÃ© agent ou acteur.  Ã€ certains Ã©gards, il ressemble Ã  un objet familier Ã  tout le monde, mais l'acteur n'a pas de mÃ©thodes publiques, la seule faÃ§on de communiquer avec lui est de lui envoyer un message; </li><li>  Pour envoyer un message Ã  l'agent, il y a le concept de Â«liensÂ».  Le lien fournit une certaine interface (dans diverses implÃ©mentations, il peut Ãªtre trÃ¨s diffÃ©rent), ce qui vous permet d'envoyer des messages.  L'une des propriÃ©tÃ©s importantes ici est la transparence de l'emplacement et la prÃ©sence de chaque agent avec une adresse - une chaÃ®ne qui vous permet d'obtenir un lien vers l'agent indÃ©pendamment de son emplacement physique, c'est-Ã -dire  l'agent peut Ãªtre localisÃ© et fonctionner dans le systÃ¨me d'agent sur le mÃªme ordinateur, ou peut-Ãªtre sur un autre - dans ce cas, le lien est obtenu Ã  une adresse rÃ©seau; </li><li>  L'agent dispose d'une file d'attente de messages et ils sont traitÃ©s sÃ©quentiellement.  Un agent peut Ãªtre une machine Ã  Ã©tats qui modifie les Ã©tats et les gestionnaires de messages dans l'ordre de rÃ©action Ã  ceux-ci; </li><li>  En rÃ¨gle gÃ©nÃ©rale, les systÃ¨mes multi-agents sont hiÃ©rarchiques, c'est-Ã -dire que les agents forment une sorte d'arbre.  Dans ce cas, une erreur dans l'un des agents n'arrÃªte pas tout le systÃ¨me, seul un agent spÃ©cifique est dÃ©connectÃ©, envoyant un message d'erreur Ã  son ancÃªtre.  L'une des approches les plus utilisÃ©es pour gÃ©rer de telles erreurs est de les laisser planter - lorsqu'un agent se bloque, nous en crÃ©ons simplement une nouvelle copie; </li><li>  La crÃ©ation d'un nouvel agent n'est pas une opÃ©ration gourmande en ressources et la crÃ©ation du systÃ¨me lui-mÃªme est trÃ¨s coÃ»teuse. </li></ol><br>  TrÃ¨s souvent, les systÃ¨mes d'agents sont utilisÃ©s uniquement dans l'approche utilisant ECS.  Ã‰tant donnÃ© que le systÃ¨me d'agents permet de crÃ©er trÃ¨s facilement le nombre requis de travailleurs et de parallÃ©liser leur travail, en rÃ©partissant simplement le flux de messages entre eux, cela semble Ãªtre une approche trÃ¨s prometteuse.  Par exemple, voici comment fonctionne SpatialOS d'Improbable. <br><br>  Les problÃ¨mes se posent ici dans un plan lÃ©gÃ¨rement diffÃ©rent.  L'approche ECS est assez simple, mais en principe, elle ne peut pas Ãªtre qualifiÃ©e d'intuitive, en particulier pour les programmeurs inexpÃ©rimentÃ©s.  Par consÃ©quent, la crÃ©ation de code utilisateur dans un tel systÃ¨me est une tÃ¢che plutÃ´t simple.  En outre, des questions se posent concernant la portabilitÃ© de divers objets entre des instances de serveur virtuel, car avec l'objet, nous devons transfÃ©rer tous les travailleurs s'ils (pour ce type de composant) ne sont pas prÃ©sents sur un autre serveur.  En principe, certaines implÃ©mentations de systÃ¨mes d'agents peuvent rÃ©soudre certains de ces problÃ¨mes, mais nous avons choisi une approche diffÃ©rente. <br><br><h2>  Notre cas est l'essence de l'ExtrÃªme-Orient en tant qu'agent </h2><br>  Dans notre cas, chaque objet spatial virtuel est un agent, ou plutÃ´t un systÃ¨me d'agents.  Par rapport Ã  l'ECS classique, nous pouvons dire que chaque entitÃ© en nous porte un systÃ¨me de Â«micro-travailleursÂ», liÃ© Ã  l'objet lui-mÃªme.  Dans le mÃªme temps, tous les avantages du systÃ¨me d'agents sont prÃ©servÃ©s (c'est-Ã -dire que nous pouvons exÃ©cuter un tel objet dans un thread sÃ©parÃ©, sur une machine distincte, etc., simplement en modifiant les paramÃ¨tres du serveur), mais l'objet reste portable et l'Ã©criture de scripts pour celui-ci ne nÃ©cessite pas de division ECS . <br><br>  Dans ce cas, l'Ã©tat du monde est divisÃ© en l'Ã©tat des objets individuels, et chacun d'eux peut Ãªtre traitÃ© sÃ©parÃ©ment.  Sur le client, nous construisons Ã©galement un systÃ¨me d'agent, qui est une sorte de reflet de l'Ã©tat du serveur, et nous associons chaque agent client Ã  l'agent serveur.  Entre autres choses, cela augmente Ã©galement la fiabilitÃ© du systÃ¨me, car si un objet individuel tombe en panne, seul cet objet est dÃ©sactivÃ©, et non tout l'espace virtuel. <br>  Plus en dÃ©tail, cela ressemble Ã  ceci: <br><br><img src="https://habrastorage.org/webt/81/at/0d/81at0dd-wlkdcnx5abgrktulxv0.png"><br><br>  Tout objet spatial est un petit systÃ¨me d'agent composÃ© de l'agent principal de l'entitÃ© crÃ©Ã©e au dÃ©marrage du serveur, qui n'est pas un agent de conteneur de composants et un ensemble de composants de gestionnaire de messages.  Pour connecter le client, la propriÃ©tÃ© de transparence du rÃ©seau est utilisÃ©e, c'est-Ã -dire que chaque objet spÃ©cifique sur le client a un lien vers l'objet agent serveur.  Dans le mÃªme temps, lors de la connexion, un nouvel agent est crÃ©Ã© dynamiquement, qui est un descendant de l'agent principal. <br><br><img src="https://habrastorage.org/webt/sx/zc/zj/sxzczji0iavh3gibmxwv9pkitm4.png"><br><br>  Un systÃ¨me d'agent est Ã©galement crÃ©Ã© cÃ´tÃ© client, mais les agents d'entitÃ© qu'il contient sont formÃ©s par un message du cÃ´tÃ© serveur.  AprÃ¨s la crÃ©ation, l'agent reÃ§oit un lien vers l'agent serveur et crÃ©e un composant de traitement des messages qui comprend des files d'attente pour recevoir et envoyer des messages depuis le serveur.  Un objet Unity est Ã©galement crÃ©Ã© et les parties clientes des composants de l'objet hÃ©ritÃ©s de MonoBehaviour.  Dans le mÃªme temps, la partie Unity et la partie agent fonctionnent dans des threads diffÃ©rents, le gestionnaire de messages est responsable de la synchronisation (si possible, elle est minimisÃ©e). <br><br>  Quelque chose comme Ã§a (sans dÃ©tails particuliers) ressemble Ã  l'implÃ©mentation d'un espace virtuel dynamique dans la variante JIF.  Dans le prochain article, nous vous parlerons des mÃ©gadonnÃ©es personnelles et travaillerons sur les statistiques, ainsi que sur la blockchain. <br><br><h2>  Les auteurs </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Jedium</a> est une sociÃ©tÃ© partenaire de Microsoft travaillant dans le domaine de la rÃ©alitÃ© virtuelle, augmentÃ©e et de l'intelligence artificielle.  Jedium a dÃ©veloppÃ© un cadre pour simplifier le dÃ©veloppement de projets complexes sur Unity, dont une partie est accessible au public <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur GitHub</a> .  Jedium prÃ©voit de reconstituer le rÃ©fÃ©rentiel avec de nouveaux modules de framework, ainsi que des solutions d'intÃ©gration avec Microsoft Azure. <br><br><img src="https://habrastorage.org/webt/jh/ag/3n/jhag3namj6wkh2bvqqo6_ftaj80.png" align="left" width="70">  <b>Vitaliy Chashchin</b> - <b>DÃ©veloppeur de</b> logiciels avec plus de 10 ans d'expÃ©rience dans la conception et la mise en Å“uvre d'applications client-serveur tridimensionnelles - du concept Ã  la mise en Å“uvre complÃ¨te et Ã  l'intÃ©gration des applications et des solutions dans le domaine de la rÃ©alitÃ© virtuelle.  Architecte systÃ¨me Jedium LLC, MSc en informatique. <br><br><img src="https://habrastorage.org/webt/v3/pv/lq/v3pvlqbh3g0yastjzzsrckofgeo.jpeg" align="left" width="70">  <b>Alexey Sarafanov</b> <br><br>  Responsable marketing chez Jedium LLC. <br><br><img src="https://habrastorage.org/webt/-7/j2/bl/-7j2bl1twtkxgfndf1a2xmzduzs.jpeg" align="left" width="70">  <b>Sergey Kudryavtsev</b> <br><br>  PDG et fondateur de Jedium LLC. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419129/">https://habr.com/ru/post/fr419129/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419117/index.html">Â«Il m'est difficile de comprendre la motivation d'un data scientist qui ne voit pas la beautÃ© dans les mathÃ©matiquesÂ» - Kirill Danilyuk, Data Scientist</a></li>
<li><a href="../fr419119/index.html">Le stylo intelligent Montblanc Premium est le stylo intelligent le plus cher Ã  ce jour</a></li>
<li><a href="../fr419123/index.html">Les inconvÃ©nients du freelance. ExpÃ©rience personnelle</a></li>
<li><a href="../fr419125/index.html">Le retour de la station soviÃ©tique. Analyses et documents</a></li>
<li><a href="../fr419127/index.html">Trois rÃ©incarnations d'une boutique en ligne. Comment drainer de l'argent, du temps et pourquoi les modÃ¨les sont bons</a></li>
<li><a href="../fr419131/index.html">Annonce de la date de lancement prÃ©liminaire du module lunaire SpaceIL</a></li>
<li><a href="../fr419133/index.html">Webinaires du vendredi: apprendre Ã  programmer gratuitement</a></li>
<li><a href="../fr419135/index.html">Vendredi JS: jeu JS et CSS en ligne</a></li>
<li><a href="../fr419137/index.html">Journalisation des activitÃ©s Ã  l'aide de l'API Web Beacon</a></li>
<li><a href="../fr419141/index.html">Le phishing sexuel gagne du terrain aux Ã‰tats-Unis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>