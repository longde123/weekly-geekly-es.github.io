<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧦 👩🏾‍🏭 👩‍❤️‍💋‍👩 Rilis Node.js 10.5: multithreading di luar kotak ㊙️ 🛌🏽 🧒🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pekan lalu, Node.js versi 10.5.0 dirilis, berisi inovasi yang sangat penting - dukungan multithreading dalam bentuk modul worker_threads . Saya akan s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Rilis Node.js 10.5: multithreading di luar kotak</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415165/"><p><img src="https://habrastorage.org/webt/kp/7y/65/kp7y659ir2whakhs1imc7bv973a.png"></p><br><p>  Pekan lalu, Node.js versi 10.5.0 dirilis, berisi inovasi yang sangat penting - dukungan multithreading dalam bentuk modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">worker_threads</a> .  Saya akan segera melakukan reservasi. API sedang dalam tahap percobaan dan karena itu dapat berubah, tetapi sekarang Anda dapat membuat kesan pertama dan mendapatkan gagasan tentang prinsip-prinsip dan teknologi yang diletakkan dalam fondasinya.  Dan jika Anda memiliki keinginan, maka ikut serta dalam menyelesaikan antarmuka, menulis kode atau memperbaiki bug (daftar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">masalah</a> ). </p><a name="habracut"></a><br><h2 id="istoriya-poyavleniya">  Kisah penampilan </h2><br><p> Sepanjang kehidupan Node.js, satu-satunya cara untuk memparalelkan komputasi adalah memulai proses baru, misalnya, menggunakan modul cluster.  Karena berbagai alasan, pendekatan ini tidak sesuai dengan pengembang, khususnya karena mengarah pada pemuatan berulang kode Node.js yang dapat dieksekusi dengan semua modul bawaan ke dalam memori komputer, yang merupakan cara yang tidak efisien untuk menghabiskan sumber daya. </p><br><p>  Namun demikian, pembahasan implementasi multithreading di Node.js selalu bertumpu pada kompleksitas V8 dan sejumlah besar tidak diketahui: bagaimana menghubungkan modul asli, berbagi memori, berkomunikasi antara thread dan banyak lagi.  Dan sementara para pengembang mencari sisi mana yang mendekati topik di web, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">API Pekerja</a> berhasil diimplementasikan, yang menjadi pedoman pada tahap awal.  Pembangunan dimulai dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">addaleax</a> dan telah diambil alih oleh masyarakat. </p><br><p>  Pekerjaan aktif dilakukan selama tahun tersebut, selama persyaratan desain ditentukan dan API memperoleh fitur spesifik Node.js sendiri, dan modul itu sendiri disebut worker_threads.  Di bawah ini saya akan menjelaskan secara singkat worker_threads secara umum, dan untuk studi terperinci, saya menyarankan Anda untuk mengunjungi halaman <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi resmi</a> . </p><br><h2 id="opisanie">  Deskripsi </h2><br><p>  Seperti disebutkan di atas, tujuan pengembangan ini adalah untuk meningkatkan produktivitas dengan mendistribusikan beban melalui utas yang berbeda dalam proses yang sama, alih-alih memulai beberapa proses.  Oleh karena itu, utas akan mendukung koneksi semua modul yang tersedia untuk proses utama (saat ini, modul asli tidak didukung). </p><br><p>  Seperti pada Worker API, interaksi antara arus utama dan aliran anak dilakukan dengan mentransfer objek yang dapat ditransfer melalui postMessage, yang menghindari masalah akses simultan, meskipun itu membutuhkan akses memori tambahan untuk menyalin data.  Dalam hal ini, objek seperti SharedArrayBuffer mempertahankan perilaku mereka dan tidak menyebabkan realokasi. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MessageChannel</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MessagePort</a> diambil dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WebAPI</a> , yang memungkinkan Anda membuat saluran pesan terisolasi dan mentransfernya di antara utas. </p><br><p>  Untuk mencoba tindakan worker_threads, saat Anda memulai proses, Anda harus menentukan tanda khusus: </p><br><pre><code class="bash hljs">node --experimental-worker main.js</code> </pre> <br><h2 id="primer">  Contoh </h2><br><p>  Karena API masih dapat berubah, saya tidak akan menjelaskannya, tetapi saya akan memberikan contoh pertukaran pesan antara utas induk dan anak, di mana utas anak melaporkan utasnya melalui MessagePort dan keluar. </p><br><h3 id="glavnyy-potok">  Aliran utama </h3><br><p>  Kode contoh untuk utas utama: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// main.js const {Worker} = require('worker_threads'); const worker = new Worker(__dirname + '/worker.js'); worker.on('online', () =&gt; { console.log('Worker ready'); }); worker.on('message', (msg) =&gt; { console.log('Worker message:', msg); }); worker.on('error', (err) =&gt; { console.error('Worker error:', err); }); worker.on('exit', (code) =&gt; { console.log('Worker exit code:', code); });</span></span></code> </pre> <br><h3 id="docherniy-potok">  Aliran anak </h3><br><p>  Utas anak hidup sampai loop aktivitasnya kosong.  Jadi, segera setelah kode dari <code>worker.js</code> utas akan secara otomatis ditutup.  Untuk berkomunikasi dengan orang tua, parentPort digunakan: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// worker.js const {threadId, parentPort} = require('worker_threads'); parentPort.postMessage(`Hello from thread #${threadId}.`); // Exit happens here</span></span></code> </pre> <br><p>  Di utas anak, objek proses ditimpa, dan perilakunya sedikit berbeda dari perilaku proses di utas induk.  Secara khusus, tidak ada cara untuk menanggapi sinyal SIGNINT, mengubah nilai-nilai <code>process.env</code> , dan memanggil <code>process.exit</code> akan berhenti hanya pekerja, tetapi tidak seluruh proses. </p><br><h2 id="zaklyuchenie">  Kesimpulan </h2><br><p>  Pekerja akan sangat menyederhanakan pembuatan aplikasi yang membutuhkan interaksi antara bagian kode paralel yang dapat dieksekusi dan, yang sangat penting, membuat komunikasi dan kontrol aliran menjadi cara yang paling jelas.  Dan juga akan memungkinkan untuk menghindari pembatasan spesifik platform yang disebabkan oleh perbedaan antara Windows dan Unix.  Saya yakin bahwa peluang yang akan terbuka akan menarik pengembang baru yang belum memilih Node.js.  Sementara itu, lanjutkan untuk memantau perubahan dan terhubung ke proses pengembangan API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di repositori</a> . </p><br><h2 id="ssylki">  Referensi </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dokumentasi Worker_threads</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Foto oleh</a> Paul Smith. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id415165/">https://habr.com/ru/post/id415165/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id415093/index.html">PVT: mengapa menyuntikkan lem secara intravena</a></li>
<li><a href="../id415153/index.html">Persyaratan ideal akan datang kembali</a></li>
<li><a href="../id415155/index.html">Performa di iOS atau cara membongkar utas utama. Bagian 1</a></li>
<li><a href="../id415159/index.html">Pengumuman DevOps-conference DevOops 2018</a></li>
<li><a href="../id415163/index.html">Jaringan nirkabel di pabrik farmasi yang dijaga khusus dan terlindung secara khusus di beberapa tempat di Rusia</a></li>
<li><a href="../id415167/index.html">Buka pelajaran “Multithreading di Jawa. Primitif sinkronisasi dasar »</a></li>
<li><a href="../id415169/index.html">Kompresi dan deduplikasi: Mengurangi ukuran arsip email dan cadangan menggunakan musim dingin ZxPowerstore</a></li>
<li><a href="../id415171/index.html">Hukum Refleksi dalam Go</a></li>
<li><a href="../id415175/index.html">Wawancara dengan Anggota Augmented World Expo</a></li>
<li><a href="../id415177/index.html">Selamat datang</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>