<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™‹ğŸ¾ ğŸ•³ï¸ ğŸ”¹ Komponen Sudut dengan Konten Inline ğŸ•› ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ketika Anda membuat komponen baru ketika mengembangkan pada Angular, Anda berusaha untuk membuatnya sedemikian rupa sehingga dapat digunakan berulang ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Komponen Sudut dengan Konten Inline</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478886/">  Ketika Anda membuat komponen baru ketika mengembangkan pada Angular, Anda berusaha untuk membuatnya sedemikian rupa sehingga dapat digunakan berulang kali.  Sama seperti dalam pengembangan perangkat lunak, seorang programmer berusaha membuat kodenya dapat digunakan kembali sebanyak mungkin.  Pada saat yang sama, saya ingin memiliki komponen yang fleksibel, tetapi tidak terlalu rumit. <br><br><img src="https://habrastorage.org/webt/lr/oc/ao/lrocaol1yl_y7iw6vulni6j1twa.jpeg"><br><a name="habracut"></a><br>  Biasanya, komponen harus dibuat sebodoh mungkin agar lebih mudah dirawat dan diuji.  Tetapi pada saat yang sama, mereka dapat disesuaikan dan fleksibel sehingga Anda dapat menggunakannya kembali berkali-kali, dan tidak berurusan dengan komponen kloning yang serupa secara visual dan fungsional, tetapi masih berbeda dalam sesuatu.  Atau jangan menambahkan banyak parameter ke komponen, berdasarkan yang untuk mengaktifkan atau menonaktifkan perilaku komponen, tetapi yang sebenarnya akan digunakan dalam 1 dari 100 kasus. <br><br>  Untuk membuat kapal selam, yang harus tenggelam ke dasar laut biru tanpa risiko bagi kehidupan awak, dan kemudian memodifikasinya sebelum terbang melalui langit biru bukanlah tugas yang mudah. <br><cut></cut><br>  Komponen sudut adalah unit terkecil dari antarmuka pengguna yang harus melakukan satu tugas sederhana dan tidak lebih.  Membuat komponen untuk semua kesempatan adalah praktik yang buruk.  Karena itu, Anda harus menemukan kompromi antara fleksibilitas dan kesederhanaan. <br><br>  Misalkan Anda ingin membuat komponen yang terdiri dari beberapa jenis pembungkus, di dalamnya ada header dan beberapa jenis saklar, dan beberapa konten di bawahnya.  Sesuatu seperti ini: <br><br><img src="https://habrastorage.org/webt/bx/c5/wr/bxc5wriimpcbk-mjo8d25duq5fi.png"><br><br>  Seluruh komponen, yang akan disebut widget, diuraikan dalam warna hijau.  Sakelar tajuk disorot dalam warna merah dan konten disorot dengan warna biru.  Angular adalah kerangka kerja yang sangat kuat, menciptakan komponen yang mirip dengan yang ada di gambar adalah tugas yang sangat sepele untuk Angular. <br><br><img src="https://habrastorage.org/webt/o-/5c/nw/o-5cnwpcgp__849owtseim7lul8.jpeg" width="300" align="right">  Tetapi bagaimana jika komponen ini dibuat lebih fleksibel, misalnya, sehingga kontennya berubah tergantung pada parameter komponen widget? <br><br>  Anda dapat menyelesaikan representasi eksternal konten berdasarkan parameter widget, misalnya, menggunakan arahan struktural <i>ngIf</i> .  Anda dapat beralih di antara berbagai tampilan.  Dan jika ada terlalu banyak pengiriman, Anda dapat menggunakan arahan struktural <i>ngSwitch</i> lain. <br><br><img src="https://habrastorage.org/webt/yg/nj/yj/ygnjyj4lqsygs2n20foagrb8gws.jpeg" width="300" align="left">  Dan jika pandangan berbeda akan merespons secara berbeda terhadap tindakan pengguna?  Kemudian kode komponen juga akan memiliki banyak pernyataan bersyarat.  Tetapi kodenya, di mana ada banyak pernyataan kondisional, seiring waktu menjadi sulit untuk mempertahankan, memperbaiki bug atau memperluas fungsionalitas ... <br><br>  Anda dapat membuat komponen widget sehingga menerima konten apa pun, tetapi pada saat yang sama ia melempar nilai yang dipilih dari panel filter ke dalam komponen area konten.  Dan saya juga ingin dapat meneruskan parameter dari komponen induk widget ke konten, tanpa mempengaruhi komponen widget itu sendiri.  Untuk mengatasi masalah ini, Anda dapat menggunakan arahan <i>ngTemplateOutlet yang</i> luar <i>biasa</i> , yang akan memungkinkan Anda untuk "menyelesaikan" representasi visual komponen.  Untuk informasi tambahan, Anda dapat merujuk ke <a href="https://angular.io/api/common/NgTemplateOutlet">dokumentasi</a> , meskipun menurut saya semua kekuatannya tidak ditampilkan di sana. <br><br>  Dalam hal ini, komponen widget dapat direpresentasikan sebagai berikut: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// widget.component.ts â€¦ private widgetContentTemplate: TemplateRef&lt;any&gt;; //      @ContentChild(WidgetContentTemplateDirective, { read: TemplateRef }) set WidgetContentTemplate(value: TemplateRef&lt;any&gt;) { this.widgetContentTemplate = value; } get WidgetContentTemplate(): TemplateRef&lt;any&gt; { return this.widgetContentTemplate; } â€¦</span></span></code> </pre> <br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- widget.component.html --&gt;</span></span> â€¦ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"widget__content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--      ,      context.   ,     --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-container</span></span></span><span class="hljs-tag"> *</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngTemplateOutlet</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WidgetContentTemplate || DefaultWidgetContentTemplate; context: { post: SelectedPost }"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-container</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DefaultWidgetContentTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>[    ]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag">&gt;</span></span> â€¦</code> </pre><br>  Arahan ngTemplateOutlet menerima objek TemplateRef yang dibaca dalam komponen menggunakan @ContentChild.  Untuk melakukan ini, Anda perlu membuat arahan sederhana.  Ini kodenya: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// widget-content-template.directive.ts import { Directive, TemplateRef } from '@angular/core'; @Directive({ selector: '[appWidgetContentTemplate]' }) export class WidgetContentTemplateDirective { get Template(): TemplateRef&lt;any&gt; { return this.template; } constructor(private readonly template: TemplateRef&lt;any&gt;) {} }</span></span></code> </pre><br>  Parameter dari sakelar widget dapat diteruskan ke konten menggunakan objek konteks.  Agar parameter dari konteks dibaca dengan benar oleh komponen, perlu di komponen induk, dalam kasus kami itu adalah AppComponent, jangan lupa untuk menggambarkannya sebagai berikut: <br><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- app.component.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  (  )"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- let-post="post" ,         --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appWidgetContentTemplate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">let-post</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Post</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  (  )"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  let-post="post"     ,  ShowPostInfo  AppComponent --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appWidgetContentTemplate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">let-post</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Post</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ShowPostInfo</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ShowPostInfo"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Dengan demikian, kami memiliki komponen widget yang menerima dan menampilkan konten apa pun, sedangkan komponen widget itu sendiri tidak harus tahu apa-apa tentang konten tersebut.  Ini hanya meneruskan opsi sakelar.  Membacanya atau tidak adalah masalah isi. <br><br><img src="https://habrastorage.org/webt/sm/qp/-r/smqp-riiy6jniznk1j4o6xgbtpa.jpeg"><br><br>  Versi lengkap kode dapat dilihat di <a href="https://stackblitz.com/edit/angular-ga68dw">sini</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id478886/">https://habr.com/ru/post/id478886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id478862/index.html">Bagaimana pengujian frontend diatur di Yandex.Market dan mengapa kami menolak rilis mingguan</a></li>
<li><a href="../id478866/index.html">Meet Space - Produk Baru dari JetBrains</a></li>
<li><a href="../id478872/index.html">DIY: cara kami mengotomatiskan pemantauan gudang</a></li>
<li><a href="../id478878/index.html">Sepotong kode paling populer dalam sejarah StackOverflow memiliki bug!</a></li>
<li><a href="../id478884/index.html">Cara menyiapkan RTSP di situs pada tahun 2020, atau mengapa babi hutan tidak punya waktu untuk melarikan diri</a></li>
<li><a href="../id478888/index.html">Beberapa pemikiran tentang modular css dan masalah dukungan kode</a></li>
<li><a href="../id478890/index.html">Di mana paket saya? AI akan memfasilitasi tugas pengiriman</a></li>
<li><a href="../id478892/index.html">Menjadi sukarelawan sebagai cara hidup</a></li>
<li><a href="../id478894/index.html">Pelajari Azure dalam Satu Bulan Makan Siang - e-book gratis baru kami</a></li>
<li><a href="../id478900/index.html">Beberapa tips berguna untuk berlatih Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>