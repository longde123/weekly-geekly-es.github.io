<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏗️ 🧜🏻 🤞🏿 MicroSPA oder wie man ein Vierkantrad erfindet 🕵🏾 🧕🏼 🤸🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo an alle, mein Name ist Andrey Yakovenko und ich bin ein Webentwickler von Digital Design. 

 In unserem Unternehmen wurden viele Projekte mit de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MicroSPA oder wie man ein Vierkantrad erfindet</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/483988/">  Hallo an alle, mein Name ist Andrey Yakovenko und ich bin ein Webentwickler von Digital Design. <br><br>  In unserem Unternehmen wurden viele Projekte mit dem <a href="https://www.progress.com/sitefinity-cms">sitefinity-</a> Webinhaltsverwaltungssystem oder einfach mit CMS umgesetzt.  Die Gründe, warum wir es verwenden, wurden weiter oben in <a href="https://habr.com/ru/company/digdes/blog/466419/">diesem</a> Artikel beschrieben.  CMS ist in der Regel eine mehrseitige Anwendung, und ich werde heute darüber sprechen, was die Implementierung von Frontend-Frameworks in Sitefinity-Lösungen bieten kann und wie dies getan werden kann. <br><br><img src="https://habrastorage.org/webt/zn/pj/mm/znpjmmafdzi0jcb7qsjvb7rgzoo.png"><br><a name="habracut"></a><br><h2>  Lyrischer Exkurs </h2><br>  Obwohl in sitefinity Angular.js integriert ist, fehlt aufgrund des geschlossenen Quellcodes die Möglichkeit, andere Frameworks zu integrieren.  Dies hindert uns jedoch nicht daran, die Funktionen anderer Frameworks zu nutzen. <br><br>  Die Beispiele in diesem Artikel sind kein Allheilmittel und dienen hauptsächlich zu Informationszwecken. <br><br><h2>  Suche nach einem neuen </h2><br>  Da Angular, obwohl die erste Version, bereits in sitefinity vorhanden ist, wollten wir unsere CMS-Freunde mit React oder Vue.js. <br><br>  Beide Frameworks sind auf ihre eigene Weise gut und haben ihre eigenen Ansätze für die Anwendungsentwicklung. Wir werden den nächsten Vergleich jedoch nicht durchführen. <br><br>  Nach einem kurzen Blick auf mögliche Lösungen wurde ein interessantes Projekt gefunden, das in React geschriebene Seiten in statisches HTML umwandelte.  Diese Lösung passte nicht zu uns, da wir nicht alle Vorteile von SSR (Server Side Render) zusammen mit der Verwendung von ausführbarem Code auf der Clientseite verlieren müssen. <br><br><h2>  Von Worten zu Taten </h2><br>  Wie bei den meisten CMS können Sie mit Sitefinity eine Seite mit verschiedenen Elementen für die Anzeige von Inhalten (Widgets) erstellen.  Zum Beispiel werden wir die Optionen zum Einbetten von Vue.js in fertige Widgets betrachten. <br><br><h3>  Der erste Weg (einfach) </h3><br>  Diese Methode besteht darin, Vue.js als Bibliothek mit der Hauptseitenvorlage zu verbinden. <br><br>  Danach können wir unsere Anwendung in einem beliebigen Widget an einem beliebigen Ort initialisieren. <br><br>  Ein Beispiel für ein einfaches Widget: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>: <span class="hljs-string"><span class="hljs-string">'#widget-id'</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { <span class="hljs-attr"><span class="hljs-attr">msg</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>, }, })</code> </pre> <br>  Dies bedeutet jedoch, dass der gesamte Widget-Block als Vorlage verwendet wird und Vue.js versucht, ihn zu interpolieren. Um die Meldung an der richtigen Stelle anzuzeigen, muss ein spezielles Konstrukt geschrieben werden, das angezeigt wird, wenn der Code von js angehalten wird vor dem Rendern oder wenn der Benutzer JavaScript deaktiviert hat. <br><br>  Die Lösung für dieses Problem besteht darin, eine eigene Vorlage zu schreiben, mit der das Widget dupliziert wird.  Wir werden unsere Komponente erweitern. <br><br>  Ein Beispiel: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">el</span></span>: <span class="hljs-string"><span class="hljs-string">'#widget-id'</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { <span class="hljs-attr"><span class="hljs-attr">msg</span></span>: <span class="hljs-string"><span class="hljs-string">'Hello world'</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">'&lt;div&gt;{{msg}}&lt;/div&gt;'</span></span>, })</code> </pre><br>  Nun wird der gesamte HTML-Code unseres Widgets durch die im Vorlagenfeld beschriebene Vorlage ersetzt. Um Daten aus dem Widget-Modell in Vue zu übertragen, müssen Sie das Modell nur auf eine beliebige Weise in JSON konvertieren und in das Datenfeld übertragen. <br><br><h3>  Der zweite Weg (schwierig) </h3><br>  Für diese Methode benötigen wir ein Webpack, in dessen Mindestkonfiguration vue-loader sein wird.  Auch brauchen wir kein HTML-Extrakt-Plugin, wie  wir können vorlagen in js code speichern. <br><br>  Jetzt können wir die Single-File-Komponenten von Vue verwenden. <br><br>  Ein Beispiel für eine Single-File-Komponente ( <b>Sample.vue</b> ): <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>{{msg}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'Sample'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">data</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> (</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">msg</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'Hello world'</span></span></span><span class="javascript">, } }, } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Einzelne Dateikomponenten bieten mehr Gestaltungsoptionen als herkömmliche Komponenten und reduzieren auch die Anzahl der Dateien im Projektverzeichnis. <br><br>  Nach dem Schreiben der Widget-Komponente müssen wir sie initialisieren. <br><br>  Beispiel für eine Widget-Initialisierung: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Sample <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Sample.vue'</span></span> Vue({ <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h(Sample) } }).$mount(<span class="hljs-string"><span class="hljs-string">'#widget-id'</span></span>)</code> </pre><br>  In diesem Fall wird der Code jedoch von selbst ausgeführt. Wenn die Initialisierung der Anwendung gesteuert werden muss, z. B. um den Selektor anzugeben, besteht eine rationale Lösung darin, die Anwendung in eine Methode zu packen, die jederzeit auf der Seite aufgerufen werden kann. <br><br>  Lassen Sie uns unser Beispiel erweitern: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Sample <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Sample.vue'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initWidget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">selector</span></span></span><span class="hljs-function">) </span></span>{ Vue({ <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h(Sample) } }).$mount(selector) } initWidget(<span class="hljs-string"><span class="hljs-string">'#widget-id'</span></span>)</code> </pre><br>  Es verbleibt die Übertragung der Widget-Modelldaten an die Vue.js-Komponente.  Dies ist einfach, indem Sie sie in JSON schreiben, bevor Sie sie an das Datenobjekt der Vue-Instanz übergeben. Danach können sie als Requisiten an die Komponente übergeben werden. <br><br>  Ein Beispiel: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Vue <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'vue'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Sample <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../Sample.vue'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initWidget</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">selector</span></span></span><span class="hljs-function">) </span></span>{ Vue({ <span class="hljs-attr"><span class="hljs-attr">data</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">some</span></span>: <span class="hljs-string"><span class="hljs-string">'some value'</span></span>, } }, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h(Sample, { <span class="hljs-attr"><span class="hljs-attr">props</span></span>: data }) } }).$mount(selector) } initWidget(<span class="hljs-string"><span class="hljs-string">'#widget-id'</span></span>)</code> </pre><br><h3>  Kleine Rezension </h3><br>  Abschließend möchte ich sagen, dass jede der vorgeschlagenen Methoden eine eigene, sogenannte Anwendungsumgebung hat.  Die erste Methode eignet sich daher für die schnelle Integration eines einzelnen Abschnitts einer Anwendung, z. B. einer Schaltfläche oder eines Formulars, und die zweite Methode ist weiter fortgeschritten und verfügt über umfangreichere Funktionen zum Schreiben sowohl einzelner Teile der Anwendung als auch eigenständiger Seiten. <br><br>  Beide Methoden haben jedoch einen großen Nachteil: Bei dieser Verwendung von Frameworks ist es erforderlich, denselben Job zweimal für Abschnitte der Seiten auszuführen, von denen SEO abhängt. <br><br>  Auf der anderen Seite können Sie bei Bedarf mit diesem Ansatz ein beliebiges Framework, eine Bibliothek oder einen eigenen DOM-Manager in Vanilla JavaScript oder jQuery erstellen. <br><br>  Das ist alles.  Vielen Dank für Ihre Aufmerksamkeit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483988/">https://habr.com/ru/post/de483988/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483974/index.html">Ceph via iSCSI - oder Skifahren in der Hängematte</a></li>
<li><a href="../de483976/index.html">2020 Cybersicherheit und Bedrohungen: Was uns nach den Ferien erwartet</a></li>
<li><a href="../de483978/index.html">Verständnis des Konzepts der modernen Web-App-Entwicklung im Jahr 2020</a></li>
<li><a href="../de483980/index.html">Aufbau einer fehlertoleranten IT-Infrastruktur. Teil 1 - Vorbereiten der Bereitstellung des oVirt 4.3-Clusters</a></li>
<li><a href="../de483986/index.html">Roboter Gedanken mit Emotiv Insight steuern</a></li>
<li><a href="../de483992/index.html">Warum fressen einige Planeten ihren Himmel?</a></li>
<li><a href="../de483994/index.html">IT Umzug auf eine Yacht. Von Schweden nach Spanien</a></li>
<li><a href="../de484004/index.html">@ Pythonetc Dezember 2019</a></li>
<li><a href="../de484006/index.html">Tipps und Tricks aus meinem Telegrammkanal @pythonetc, Dezember 2019</a></li>
<li><a href="../de484008/index.html">Was ist es, ein Teamleiter zu sein?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>