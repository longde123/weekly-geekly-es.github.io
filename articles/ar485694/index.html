<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๏ธ ๐ ๐จ๐ฝโ๐ค ูุทุฑู ุนูู Elbrus ุงููุนุงูุฌ. ุฃู ูุง ุชูุณู ุฃุจุฏุง ูุง ุญุตูุช ุนููู ูู ุงูุฐูุงุก ๐ฉ๐ฟโ๐คโ๐ฉ๐ป ๐ค๐ฝ ๐ฉ๐ปโ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฐู ุงูููุงูุฉ ูู ุงูุงุณุชูุชุงุฌ ุงูููุทูู ูุณูุณูุฉ ูู ููุงูุงุช "ุชุณูู Elbrus" ุญูู ุชูุฏูู Embox ุฅูู ุจููุฉ ูุนุงูุฌ Elbrus (E2K) . ููุงุฐุง ุงูุงุณุชูุชุงุฌ ุงูููุทูู ุ ูุฃูู ูุชูุฌุฉ ูุฐู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุทุฑู ุนูู Elbrus ุงููุนุงูุฌ. ุฃู ูุง ุชูุณู ุฃุจุฏุง ูุง ุญุตูุช ุนููู ูู ุงูุฐูุงุก</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/embox/blog/485694/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ic/4z/5o/ic4z5olelesc04boln85goculk4.png" align="right" width="320">  ูุฐู ุงูููุงูุฉ ูู ุงูุงุณุชูุชุงุฌ ุงูููุทูู <a href="https://habr.com/ru/company/embox/blog/447704/">ูุณูุณูุฉ ูู</a> <a href="https://habr.com/ru/company/embox/blog/447744/">ููุงูุงุช</a> <a href="https://habr.com/ru/company/embox/blog/421441/">"ุชุณูู Elbrus"</a> ุญูู ุชูุฏูู <a href="http://embox.github.io/">Embox</a> ุฅูู <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581_2000">ุจููุฉ ูุนุงูุฌ Elbrus (E2K)</a> .  ููุงุฐุง ุงูุงุณุชูุชุงุฌ ุงูููุทูู ุ ูุฃูู ูุชูุฌุฉ ูุฐูู ุ ูุงู ูู ุงููููู ุชุดุบูู ุชุทุจูู telnet ุงูุฐู ูุนุฑุถ ุงูุตูุฑุฉ ุนูู ุงูุดุงุดุฉ ุ ุฃู ูุชุญููู ุงูุนูู ุงููุงูู ูู Embox ุนูู ูุฐู ุงูุจููุฉ.  ุจุงููุงุฏ ูููู ุฅุฌุฑุงุก ูุฒูุฏ ูู ุงูุจุญูุซ ุนูู ุฃููุง ููุฏูุฉ ุ ุนูู ุงูุฑุบู ูู ุฃู ุงููุซูุฑ ูุง ุฒุงู ุบูุฑ ูุงุถุญ ุจุงูุทุจุน.  ูุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ูุฏููุง ุงูุนุฏูุฏ ูู ุงูููุฒุงุช ุงููุซูุฑุฉ ููุงูุชูุงู ุ ูุงูุชู ูู ุฃูุถุง ุบูุฑ ูููููุฉ ุญุงููุง.  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ูุฑูุฒ ุนูู ุชูุธูู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ุ ูุณูุชุทุฑู ุฅูู PCI ุ ููุชุญุฏุซ ููููุงู ุนู ุจุทุงูุฉ ุงูุดุจูุฉ ููููุณ ุจุทุงูุฉ ุงูููุฏูู ุนูู ุฌูุงุฒ ูุนูู ูุฏููุง. <a name="habracut"></a><br><br>  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ูู ูุณูููู ุฌุฏูุง ูู ูุฑุงุกุฉ ุงูููุงู ุ ุณุฃูุฏู ุนูู ุงูููุฑ ููุทุน ููุฏูู ูุตูุฑ ูุน ุงููุชุงุฆุฌ. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/FqOSFJ36B48" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  ูุงูุขู ุจุงููุณุจุฉ ูุฃููุฆู ุงูููุชููู ุ ุณููุดู ุงูุชูุงุตูู ุงููููุฉ ุงูุชู ุชูููุง ูู ููููุง ูู ูุฐู ุงูุนูููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฐุงูุฑุฉ ุงูุงูุชุฑุงุถูุฉ </h3><br><h4 style=";text-align:right;direction:rtl">  ุฎุทุฃ ุงูููุฏุณ ูุฏููุง </h4><br>  ููุจุฏุฃ ุจุงูุฐุงูุฑุฉ ุงูุงูุชุฑุงุถูุฉ.  ูู ุงููุงูุน ุ ูุฐุง ูุง ุงุณุชูุฑูุง ุนููู ูู <a href="https://habr.com/ru/company/embox/blog/447744/">ุงูููุงูุฉ</a> ุงูุณุงุจูุฉ <a href="https://habr.com/ru/company/embox/blog/447744/">ูู</a> ุงูุณูุณูุฉ.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุณุจุจ ุงุญุชูุงุฌูุง ููุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ุนูู ุงูููุฑ ุ ูุฃู Embox ูููููุง ุงูุนูู ุจุฏูููุง.  ุงูุฃูุฑ ุจุณูุท: ุงูุดูุก ูู ุงูุชุฎุฒูู ุงููุคูุช.  ุนููุช Vidyaha ุ ูููู ูุงู ูุง ุจุฏ ูู ูู ุชุณุฌูู ุงูุดูุก ููุณู ูุฑุชูู ูู ุฐุงูุฑุฉ ุงูููุฏูู ูุงุณุชุฑุฌุงุน ุตูุฑุฉ ููุซููุฉ.  ุจุงูุทุจุน ุ ูุงู ูู ุงููููู ุงูุชุนุงูู ูุน ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ููู ุฃูุซูุฉูุง ุชุดูุฑ ุฅูู ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุงูููุฏูู ูุจุงุดุฑุฉ ูู ุชุทุจูู ุงููุณุชุฎุฏู ุ ุฏูู ุฃู ููุงุฏ ููููุฉ ูุซู ุฅุฏุงุฑุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ูุฐูู ูุงู ูู ุงูุตูุงุจ ูุนุฑูุฉ ููููุฉ ุชุนููู ุงูุฐุงูุฑุฉ ุนูู ุฃููุง ุบูุฑ ูุงุจูุฉ ููุชุฎุฒูู ุงููุคูุช.  ูููู ุงูููุงู ุจููุณ ุงูุดูุก ุนูู ูุธุงู Linux ุนู ุทุฑูู ุชุนููู fb ( <a href="http://dmilvdv.narod.ru/Translate/ELSDD/elsdd_sample_frame_buffer_example.html">ูุซุงู</a> ). <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุนูู ุงูุฑุบู ูู ุฃููุง ูู ููุชุจ ุนู Elbrus ููุชุฑุฉ ุทูููุฉ ููุฏ ูุจุฏู ุฃู MMU ูู ูุฐุง ุงููููู ูู ููุน ูู ุงูุชุนููุฏ ุงููุงุฆู ุ ููู ุงูุฃูุฑ ูุฎุชูู.  ูู ุงููุงูุน ุ ุฃุถููุง ุงูุฏุนู ูู ูุตู ุงูุตูู ุ ุจุจุณุงุทุฉ ูู ูุตู ุฅูู ุฃูุฏููุง ูููุชุงุจุฉ ุนูู.  ููุฏ ูุถู ููุช ุทููู (ุนุฏุฉ ุฃุดูุฑ) ุจุณุจุจ ุฎุทุฃูุง ุงูุบุจู.  ุชู ุงุฑุชูุงุจ ูุฐุง ุงูุฎุทุฃ ุญุชู ูู ุนููุงู ุงูููุงู ("ุฃู ูู ุชูุณู ุฃุจุฏูุง ูุง ุญุตูุช ุนููู ุฃุซูุงุก ุงูุฐูุงุก").  ูุญู ูุชุญุฏุซ ุนู ุงูุฃููุงู ุงูุชู ุชุนุงูููุง ูุนูุง ุจุดูู ุฌูุฏ ููุตููุงูุง ูู ุงูููุงู Climbing <a href="https://habr.com/ru/company/embox/blog/447704/">Elbrus - Reconnaissance.</a>  <a href="https://habr.com/ru/company/embox/blog/447704/">ุงูุฌุฒุก ุงูููู 1. ุงูุณุฌูุงุช ูุงููุฏุงุฎู ูุงูุชูุงุตูู ุงููููุฉ ุงูุฃุฎุฑู</a> . <a href="https://habr.com/ru/company/embox/blog/447704/">"</a>  ููุฏ ุนุงูููุง ููุชุฑุฉ ุทูููุฉ ููุบุงูุฉ ุ ููููุฏ ุจุบุจุงุก ุญูููุฉ ุฃููุง ูุฃุฎุฐ ุงูููุฏุณ ุงูุฃููู (ุงูุฐู ุชูุช ุชููุฆุฉ ุงููุธุงู ุนููู) ูู ููุงู ูุง ูู ุงูุฎุงุฑุฌ ุ ูุฑุณููุง ูู ุดูุก.  ูุง ูุญุชุงุฌู ููู ุชุนูู Embox ุ ูู ููู ุจุชุฎุทูุท ูุฐู ุงูุจูุงูุงุช. <br><br>  ุชุญุช ุงููุทุฉ ุ ุณุฃูุฏู ูุธููุฉ ุฌุฏูุฏุฉ e2k_entry ุ ููุง ูู ููุถุญ ูู ุงูููุงูุฉ ุงูุซุงููุฉ ูู <a href="https://habr.com/ru/company/embox/blog/447744/">ุงูููุงู ูู ุงูุณูุณูุฉ</a> . <br><br>  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุฐูู ุ ููููู ููุงุฑูุฉ. <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs">__attribute__ ((__section__(<span class="hljs-string"><span class="hljs-string">".e2k_entry"</span></span>))) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e2k_entry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct pt_regs *regs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* Since we enable exceptions only when all CPUs except the main one * reached the idle state (cpu_idle), we can rely that order and can * guarantee exceptions happen strictly after all CPUS entries. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (entries_count &gt;= CPU_COUNT) { <span class="hljs-comment"><span class="hljs-comment">/* Entering here because of exception or interrupt */</span></span> e2k_trap_handler(regs); RESTORE_COMMON_REGS(regs); E2K_DONE; } <span class="hljs-comment"><span class="hljs-comment">/* It wasn't exception, so we decide this usual program execution, * that is, Embox started on CPU0 or CPU1 */</span></span> e2k_wait_all(); entries_count = __e2k_atomic32_add(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;entries_count); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (entries_count &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">/* XXX currently we support only single core */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* Run cpu_idle on 2nd CPU */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* it's just needed if log_debug enabled in e2k_context module * else output will be wrong because 2 cpu printing at the same time */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(!sync_count); context_init(&amp;cpu_ctx[<span class="hljs-number"><span class="hljs-number">0</span></span>], CONTEXT_PRIVELEGED | CONTEXT_IRQDISABLE, cpu_idle, idle_stack, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(idle_stack)); context_switch(&amp;cpu_ctx_prev[<span class="hljs-number"><span class="hljs-number">0</span></span>], &amp;cpu_ctx[<span class="hljs-number"><span class="hljs-number">0</span></span>]); } <span class="hljs-comment"><span class="hljs-comment">/* Run e2k_kernel_start on 1st CPU */</span></span> context_init(&amp;cpu_ctx[<span class="hljs-number"><span class="hljs-number">1</span></span>], CONTEXT_PRIVELEGED | CONTEXT_IRQDISABLE, e2k_kernel_start, &amp;_stack_top, KERNEL_STACK_SZ); sync_count = __e2k_atomic32_add(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;sync_count); context_switch(&amp;cpu_ctx_prev[<span class="hljs-number"><span class="hljs-number">1</span></span>], &amp;cpu_ctx[<span class="hljs-number"><span class="hljs-number">1</span></span>]); }</code> </pre> <br>  ุณุฃุดุฑุญ ููุท ุงูุขู ุฃููุง ูุณุชุฎุฏู ูู ูู context_init () ู context_switch () ููุท ูุชุจุฏูู ุงูููุฏุณ ุฅูู ุงูุฐุงูุฑุฉ ูู ูุณุงุญุฉ Embox.  ููุญู ููุนู ูุฐุง ูุฌููุน ุงูููู ุ ุจูุง ูู ุฐูู ุชูู ุงูุชู ูุง ุชุณุชุฎุฏู. <br><br><h3 style=";text-align:right;direction:rtl">  ููุธูุฉ MMU </h3><br>  ุงูุขู ุณุฃุชุญุฏุซ ููููุงู ุนู ุชูุธูู MMU ูู ููุฏุณุฉ E2k. <br><br>  ุจุดูู ุนุงู ุ ุชุนุชุจุฑ ุจููุฉ MMU ุนุงุฏูุฉ ุชูุงููุง ูุชุญุชูู ุนูู ุฌุฏุงูู ูู ุฃุฑุจุนุฉ ูุณุชููุงุช (ุฃู ุซูุงุซุฉ ุนูุฏ ุงุณุชุฎุฏุงู ุตูุญุฉ ุจุญุฌู 4 ููุฌุงุจุงูุช). <br><br>  ููุงู ุงูุนุฏูุฏ ูู ุณุฌูุงุช ุงูุฎุฏูุฉ ูู ุจููุฉ E2k ุ ูุชู ุงููุตูู ุฅูููุง ุจุงุณุชุฎุฏุงู ุฃูุงูุฑ ุงููุตูู ุฅูู ุงููุณุงุญุงุช ุงูุจุฏููุฉ ุ ููุฐูู ุฅูู ูุณุงุญุฉ I / O ุงูููุตููุฉ ููุชุฑุฉ ูุฌูุฒุฉ ูู ุงูููุงู <a href="https://habr.com/ru/company/embox/blog/421441/">"Embox ูุจุฏุฃ ูู ุชุณูู Elbrus"</a> . <br><br>  ุณูุญุชุงุฌ ุฅูู ูุซู ูุฐู ุงูุณุฌูุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MMU_REG_CR 0x00 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Control register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MMU_REG_CONT 0x10 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Context register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MMU_REG_CR3_RG 0x20 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* CR3 register for INTEL only */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MMU_REG_ELB_PTB 0x30 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* ELBRUS page table virtual base */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MMU_REG_ROOT_PTB 0x40 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Root Page Table Base register */</span></span></span><span class="hljs-meta">/</span></span></code> </pre> <br>  ูู ุงููุงูุน ุ ูุฐุง ุณุฌู ุชุญูู ุ ุณุฌู ุฑูู ุณูุงู ุ ุณุฌู ุฌุฐุฑ ููุฌุฏุงูู ุ ู MMU_REG_ELB_PTB ุบุงูุถ ููููุงู.  ููุจุฏุฃ ุจู ุ ูุฌุจ ุชุนููู ูุฐุง ุงูุณุฌู ุนูู ุจุนุถ ุงููููุฉ ุ ูุณูุชู ุงุณุชุฎุฏุงู 512 ุฌูุฌุงุจุงูุช ุงูุชุงูู ูู ูุจู ุงููุนุงูุฌ ูุชูุจูุฉ ุงุญุชูุงุฌุงุช ุงูุฌูุงุฒ ุ ููู ุชููู ูุฐู ุงูุนูุงููู ูุชุงุญุฉ ูููุจุฑูุฌ.  ุณุฃูุฏู ุชูุถูุญุงุช ูู ุฎุทุงุจ ุฃุฎุตุงุฆู ICST ุ ุจุงููุงุฏ ุฃุณุชุทูุน ุฃู ุฃุดุฑุญ ุจุดูู ุฃูุถู: <br><br><blockquote style=";text-align:right;direction:rtl">  ุนูู ูุธุงู Linux ุ ูููุง ุจุชุนููู MMU_ELB_PTB ุนูู 0xff1 &lt;&lt; 39 ุ ุซู <br>  ุงูุฌุฒุก ุงูุนููู ูู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ (0xff8000000000 - 0xffffffffffff) <br>  ูุญููุธุฉ ูุงุญุชูุงุฌุงุช ุงููุนุฏุงุช ุ ููู TLB.  ูู ุตูุญุฉ <br>  ูุญุตู ุฌุฏูู ุงูุตูุญุงุช (TS) ุนูู ุนููุงูู ุงููุฑูุฏ ูู ูุฐู ุงูููุทูุฉ ุ <br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุงูุญุตูู ุนูู ูุฐู ุงูุนูุงููู ุจุณูููุฉ ูู ุงูุนููุงู ุงูุฐู ููุฌุฏ ุจู ุงูุจุฑูุงูุฌ <br>  ูุงุดุฏ ุงูุฐุงูุฑุฉ.  ูููุฐ ุฐูู ุงูุญูู  ูุฎุฒู TLB ุชุนูููุงุช ุงูุนููุงู ุงูุธุงูุฑู <br>  ุงููุงุฏูุฉ ุ ููุฐุง ูุณูุญ ูู ุจุงูุชุฎุฒูู ุงููุคูุช ูู ููุณ ุงููุฎุฒู ุงููุคูุช TLB <br>  ุงูุจุซ ููุณ ููุท ูุนูุงููู ุงููุณุชุฎุฏููู ุ ูููู ุฃูุถูุง ููุณูุงุฑุฉ ููุณูุง. <br><br>  ูู ุชูู ุงููุนุงูุฌุงุช / ุงูุจูู ุญูุซ ูุชู ุฅูุดุงุก TLBs ูููุตูุฉ ููุฎุชูู <br>  ูุณุชููุงุช ุฌุฏูู ุงูุตูุญุงุช ุ ูุซู ูุฐู ุงูุฎุฏุนุฉ ุชุตุจุญ ุบูุฑ ุถุฑูุฑูุฉ. <br><br>  ูุจุงูุชุงูู ุ ุนูุฏูุง ุชููุช TLB ุ ูุตุจุญ ูู ุงููููู ุนุฏู ุจุฏุก ุงูุจุญุซ <br>  ูู ูุณุชูู ุงูุตูุฑ (pgd *) ุ ูุชุญูู ุนูู ุงูููุฑ ูู ุงููุณุชูู ุงูุฃุฎูุฑ ูู ุงูุณูุงุฑุฉ (pte *). <br>  ูุง ููุฌุฏ ุฃู ูุชุทูุจุงุช ุงูุฃุฌูุฒุฉ ูุชุนููู ูุฐู ุงูููุทูุฉ ููุณูุง ุ Wirth.  ุนูุงููู ูู <br>  ููุงู ุญุงุฌุฉ ุฅููู ููุท ูููุงุฑุณ ููุจุญุซ TLB.  ููุน ุฐูู ุ ูู ุฌููุฑูุง ูู <br>  ูู ููุชูุจ ูู ุงููุงุถู pgd ูู ูุณุชูู ุงูุตูุฑ ูู ุตูุญุฉ ุงูุฌุฏูู ูุงุช.  ุนููุงู ูุฐุง <br>  ูุนุธู ูุณุชูู ุงูุตูุฑ.  ูุชูุฌุฉ ูุฐูู ุ ููุท <br>  ุขุฎุฑ 4 ููููุจุงูุช ูู ุงูููุทูุฉ ff80'0000'0000 - ffff'ffff'ffff - ุฃู  ููุท ุตุญูุญ <br>  ูุณุชูู ุงูุณูุงุฑุฉ ุตูุฑ.  ูุฐุง ูุณูุญ ุจุงููุตูู ุฅูู pgd * ุจุดูู ุนุงุฏู <br>  ูุฑุงุกุฉ / ูุชุงุจุฉ ุชุนูููุงุช ุงูุนูู ุนูู ุนูุงููู ุงูุชุฑุงุถูุฉ. </blockquote><br>  ูุชูุฌุฉ ูุฐูู ุ ุชูุฑุฑ ุจุจุณุงุทุฉ ูุถุน ูููุฉ ูุจูุฑุฉ ูู ูุฐุง ุงูุณุฌู ุ ูุงูุชู ูู ุชุฒุนุฌูุง.  ุจุนุฏ ูู ุดูุก ุ ูุชูุญ ููุง ุงูุญู ุงูููุชุฑุญ ุชุญุณูู ุงูุจุญุซ ุนู ุงูุตูุญุงุช ุ ููููุง ูู ูุดุงุฑู ุจุนุฏ ูู ุงูุชุญุณูู.  ุณููุช ููุณูุง ููุง ูู ููููุณ. <br><br>  ุงูุขู ุณุฌู ุงูุณูุทุฑุฉ.  ุชุญุชุงุฌ ุฅูู ุชูููู MMU ูู ุฎูุงู ุฐูู.  ุงูุจุชุงุช ุงููุนุฑููุฉ ุชุจุฏู ูุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_TLB_EN 0x0000000000000001 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* translation enable */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_CD_MASK 0x0000000000000006 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* cache disable bits */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_SET1 0x0000000000000008 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* set #1 enable for 4 MB pages */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_SET2 0x0000000000000010 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* set #2 enable for 4 MB pages */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_SET3 0x0000000000000020 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* set #3 enable for 4 MB pages */</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* paging enable for second space INTEL */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_CR0_PG 0x0000000000000040 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* page size 4Mb enable for second space INTEL */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_CR4_PSE 0x0000000000000080 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* cache disable for secondary space INTEL */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_CR0_CD 0x0000000000000100 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* TLU enable for secondary space INTEL */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_TLU2_EN 0x0000000000000200 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* memory protection table enable for LD from secondary space INTEL */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_LD_MPT 0x0000000000000400 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_IPD_MASK 0x0000000000000800 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Instruction Prefetch Depth */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _MMU_CR_UPT_EN 0x0000000000001000 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* enable UPT */</span></span></span></span></code> </pre> <br>  ูุญู ููุชููู ุจุงูุจุช ุงูุฃูู ุ ูุงูุฐู ูุชุถูู ุชุฑุฌูุฉ ุงูุนูุงููู. <br><br>  ููุฏ ูููุง ุฃูุถูุง ุจุชุนููู _MMU_CR_SET3 ุ ููููุง ูู ูุชูุตู ุฅูู ูุนุฑูุฉ ุงูุญุงูุงุช ุงูุชู ููุจุบู ุงูููุงู ูููุง ุจุฐูู. <br><br>  ุณุฌู ุงููุณุงุจูุฉ  ุญุณููุง ุ ุฅุฐุง ูุงู ุงูุฃูุฑ ุจุณูุทูุง ุ ููุฐุง ูู ูุนุฑู ุงูุนูููุฉ ุงูุฎุงุต ุจุงููุณุงุญุฉ ุฃู ูุณุงุญุฉ ุงูุนููุงู.  ุฃูุซุฑ ุชููููุง ุ ูุฐุง ุงูุชุฏุงุฏ ุนููุงู 11 ุจุช.  ูู ุญุงูุชูุง ุ ุฌุนููุง ูู ุงูุตูุญุงุช ููููุฉ ุ ูู ุฎูุงู ุชุนููู ุฌุฒุก ูู ุงูุนุงูููุฉ ูู ุฌููุน ุตูุญุงุชูุง ุ ูุณุชุฎุฏู ููุณ ูุณุงุญุฉ ุงูุนููุงู ูุจุงูุชุงูู ูููููุง ุงุณุชุฎุฏุงู ุงูุตูุฑ ูู ูุฐุง ุงูุณุฌู. <br><br>  ูู ุณุฌู ุฌุฏูู ุงูุฌุฐุฑ ุ ููุฌุฏ ูุคุดุฑ ุฅูู ุงูุนููุงู ุงููุนูู ูุจุฏุงูุฉ ุฌุฏูู ุงูุชุฑุฌูุฉ.  ููููู ููุท ุงูุงุญุชูุงู ุนู ุทุฑูู ุชุนููู ุงูุฌุฏูู ุนูู ุงูุนููุงู ุงููุญุฏุฏ ูู ุณุฌู MMU_REG_ELB_PTB ุ ูููู ููุง ููุช ุ ูู ูุฑูุฒ ุนูู ุงูุชุญุณูู. <br><br>  ูุงุฐุง ูููููู ุฃู ุฃููู ุ ูููู ุงูุฌุฏุงูู ุฃูุฑ ุนุงุฏู ููุบุงูุฉ ุ ูุงูุฃุนูุงู ูู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_P 0x0000000000000001ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Page Present bit */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_W 0x0000000000000002ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Writable (0 - only read) */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_UU2 0x0000000000000004ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* unused bit # 2 */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_PWT 0x0000000000000008ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Write Through */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_CD1 0x0000000000000010ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Cache disable (right bit) */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_A 0x0000000000000020ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Accessed Page */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_D 0x0000000000000040ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Page Dirty */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_HUGE 0x0000000000000080ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Page Size */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_G 0x0000000000000100ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Global Page */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_CD2 0x0000000000000200ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Cache disable (left bit) */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_NWA 0x0000000000000400ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Prohibit address writing */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_AVAIL 0x0000000000000800ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Available page */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_PFN 0x000000fffffff000ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Physical Page Number */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_VALID 0x0000010000000000ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Valid Page */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_PV 0x0000020000000000ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* PriVileged Page */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_INT_PR 0x0000040000000000ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Integer address access Protection */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_NON_EX 0x0000080000000000ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Non Executable Page */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_RES 0x0000f00000000000ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Reserved bits */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E2K_MMU_PAGE_C_UNIT 0xffff000000000000ULL </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Compilation Unit */</span></span></span></span></code> </pre> <br>  ุจุงููุณุจุฉ ููุฌุฏูู ุฐู ุงููุณุชูู 4 ุ ูุฅู ุชุญููุงุช ุงูุนููุงู ูู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> __MMU_PGD_SHIFT (PAGE_SHIFT + 3 * (PAGE_SHIFT-3)) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* 39 */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> __MMU_PUD_SHIFT (PAGE_SHIFT + 2 * (PAGE_SHIFT-3)) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* 30 */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> __MMU_PMD_SHIFT (PAGE_SHIFT + 1 * (PAGE_SHIFT-3)) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* 21 */</span></span></span></span></code> </pre><br><h3 style=";text-align:right;direction:rtl">  ููููุง ุนู PCI </h3><br><h4 style=";text-align:right;direction:rtl">  ุงูุชูุงุตู ูู ุฎูุงู ูุณุงุญุงุช ุงูุนูุงููู ุงูุจุฏููุฉ </h4><br>  ูุจู ุงูุงูุชูุงู ุฅูู vidyaha ูุจุทุงูุฉ ุงูุดุจูุฉ ุ ุฏุนูุง ูุนูุฏ ููุชุฑุฉ ูุตูุฑุฉ ุฅูู PCI.  ุชุญุฏุซูุง ุจุงููุนู ููููุงู ุนู ูุฐุง ูู ุงูุฌุฒุก ุงูุฃูู ูู <a href="https://habr.com/ru/company/embox/blog/421441/">"Embox ูุจุฏุฃ ุชุณูู ุฌุจู Elbrus</a> . <a href="https://habr.com/ru/company/embox/blog/421441/">"</a>  ููุฏ ุฃุธูุฑ ูุญุฏุงุช ุงููุงูุฑู ููุชูุงุตู ูุน ูุณุงูุงุช ุงูุนููุงู ุงูุจุฏููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _E2K_READ_MAS(addr, mas, type, size_letter, chan_letter) \ ({ \ register type res; \ asm volatile (</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"ld"</span></span></span><span class="hljs-meta"> #size_letter </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">","</span></span></span><span class="hljs-meta"> #chan_letter </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">" \t0x0, [%1] %2, %0"</span></span></span><span class="hljs-meta"> \ : </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"=r"</span></span></span><span class="hljs-meta"> (res) \ : </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"r"</span></span></span><span class="hljs-meta"> ((__e2k_ptr_t) (addr)), \ </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"i"</span></span></span><span class="hljs-meta"> (mas)); \ res; \ }) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _E2K_WRITE_MAS(addr, val, mas, type, size_letter, chan_letter) \ ({ \ asm volatile (</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"st"</span></span></span><span class="hljs-meta"> #size_letter </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">","</span></span></span><span class="hljs-meta"> #chan_letter </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">" \t0x0, [%0] %2, %1"</span></span></span><span class="hljs-meta"> \ : \ : </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"r"</span></span></span><span class="hljs-meta"> ((__e2k_ptr_t) (addr)), \ </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"r"</span></span></span><span class="hljs-meta"> ((type) (val)), \ </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"i"</span></span></span><span class="hljs-meta"> (mas) \ : </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"memory"</span></span></span><span class="hljs-meta">); \ })</span></span></code> </pre> <br>  ููุงู ููุงู ุฅุดุงุฑุฉ ุฅูู ูุจุฏุฃ ูุณุงูุงุช ุงูุนููุงู.  ูุชู ุชุนุฑูู ูุณุงุญุงุช ุงูุนูุงููู ุงููุฎุชููุฉ ุจุงุณุชุฎุฏุงู MAS (ูุญุฏุฏ ุนููุงู ุงูุฐุงูุฑุฉ).  ุนูู ุณุจูู ุงููุซุงู ุ ูููุตูู ุฅูู IO ุ ุงูุฐู ูุชู ูู ุฎูุงูู ุงููุตูู ุฅูู PCI ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู 6 ู MMU 7. <br><br>  ูููู ูู ุฎูุงู ุฏุฑุงุณุฉ ุฃูุซุฑ ุดููููุฉ ูููุงูุฑู ุ ููููู ููุงุญุธุฉ ููุน ูู ุงูุชุบููุฑ.  ูุฅุฐุง ูุธุฑุช ุฅูู ูุตู ุฃูุงูุฑ e2k ุ ูุฌุฏ <br><blockquote style=";text-align:right;direction:rtl">  LDD ddd ูููุฉ ุงููุฑุงุกุฉ ุงููุฒุฏูุฌุฉ <br>  ldd [ุนููุงู] mas ุ dst </blockquote><br>  ูุฐุง ุ ูููููุฉ ุงูุฃููู ุ ูุง ุชูุฌุฏ ูููุงุช.  ูููู ุฅุฐุง ุงุชุจุนุช ุงูุงุฑุชุจุงุทุงุช ุ ููุฏ ุชุจูู ุฃู ุฑูุฒ ุงูุนูููุฉ ุงููุญุฏุฏุฉ ldd ูู 67. ููู 67 ูู ุฑูุฒ ldd ููุท ููููุงุชูู AL0 / AL3 ู AL2 / AL5 ุ ูุจุงููุณุจุฉ ูููููุงุช AL1 / AL4 ุ ูุชูุงูู ูุฐุง ุงูุฑูุฒ ูุน ุงูุนูููุฉ POPCNTd. <br><br>  ูุฐูู ุ ูู ููู ูู ุงููููู ุฃู ูููู ุชูุงูุง ูุง ูู ุงููููุงุช ูู ูุตุทูุญุงุช Elbrus.  ุฃูุฏ ุฃู ุฃูุชุฑุญ ุฃู ูุฐุง ูุฑุชุจุท ุจุงููุนู ุจูุจุฏุฃ vliw ุ ุนูุฏูุง ููููู ุชุญุฏูุฏ alu ุงููุณุชุฎุฏู ุ ูุฃู ุฅุญุฏู ุงูููุฒุงุช ูู ูุฐุง ุงูููุน ูู ุงูููุฏุณุฉ ูู ูุฌูุฏ ุงูุนุฏูุฏ ูู ุฃุฌูุฒุฉ ุงูุญูุณุจุฉ ุงููุณุชููุฉ.  ูููููู ุจุงูุทุจุน ุฃู ุฃููู ูุฎุทุฆูุง ุ ูููู ุงูุญูููุฉ ูู ุฃูู ูููุตูู ุฅูู PCI ุฃู MMU ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ุงูููุงุฉ ุงูุซุงููุฉ ุฃู ุงูุฎุงูุณุฉ.  ูุจุงูุชุงูู ุ ูุฅู ุงูุฃูุฑ ุณูุจุฏู ูุซู ูุฐุง: <br><blockquote style=";text-align:right;direction:rtl">  ldd ุ 2 0x0 ุ [addr_in_mas] mas_id ุูช reg </blockquote><br><h4 style=";text-align:right;direction:rtl">  lspci </h4><br>  ุงูุขู ุณุฃูุฏู ูุชูุฌุฉ ุฅุฎุฑุงุฌ ุงูุฃูุฑ lspci ุนูู ุงูุฌูุงุฒ ุงูุฐู ูุฏููุง: <br><blockquote style=";text-align:right;direction:rtl">  ุงูุฌุฐุฑ @ embox: (ุฎุงููุฉ) # lspci <br>  00: 0.0 (PCI dev E3E3: ABCD) [6 4] <br>  ุฌุณุฑ PCI ุฅูู PCI: (ุฎุงููุฉ) ุฌุณุฑ Elbrus PCIe (ูุฑุงุฌุนุฉ 01) <br>  00: 1.0 (PCI dev 8086: E3E3) [6 4] <br>  ุฌุณุฑ PCI ุฅูู PCI: ุฌุณุฑ Intel Corporation Elbrus Virt PCI (ูุฑุงุฌุนุฉ 01) <br>  01: 0.0 (PCI dev 1FFF: 8000) [6 4] <br>  ุฌุณุฑ PCI ุฅูู PCI: (ุฎุงููุฉ) ุฌุณุฑ Elbrus PCI (ูุฑุงุฌุนุฉ 05) <br>  01: 1.0 (PCI dev 8086: 4D45) [2 0] <br>  ูุญุฏุฉ ุชุญูู Ethernet: Intel Corporation MCST ETH1000 ุดุจูุฉ ุฌูุฌุงุจุช ุฅูุซุฑูุช (ูุฑุงุฌุนุฉ 01) <br>  01: 2.0 (PCI dev 8086: 4D49) [1 1] <br>  ุชุญูู IDE: Intel Corporation MCST IDE (ูุฑุงุฌุนุฉ 128) <br>  01: 2.1 (PCI dev 8086: 0002) [7 2] <br>  ุจุงูุงุชุตุงูุงุช ุจุณูุทุฉ.  ุงูุชุญูู: Intel Corporation (ุฎุงููุฉ) (ูุฑุงุฌุนุฉ 05) <br>  01: 2.2 (PCI dev 8086: 8000) [7 128] <br>  ุจุงูุงุชุตุงูุงุช ุจุณูุทุฉ.  ุงูุชุญูู: ุฌุณุฑ Intel Corporation Elbrus PCI (rev 00) <br>  01: 2.3 (PCI dev 1013: 6005) [4 1] <br>  ุฌูุงุฒ ุงููุณุงุฆุท ุงููุชุนุฏุฏุฉ: Cirrus Logic Crystal CS4281 PCI Audio (rev 01) <br>  01: 3.0 (PCI dev 8086: 4748) [1 6] <br>  ูุญุฏุฉ ุงูุชุญูู ูู ุงูุณุนุฉ ุงูุชุฎุฒูููุฉ: Intel Corporation MCST SATA (rev 00) <br>  01: 4.0 (PCI dev 8086: 554F) [12 3] <br>  ุฌูุงุฒ USB: Intel Corporation OHCI for Elbrus (rev 00) <br>  01: 4.1 (PCI dev 8086: 5545) [12 3] <br>  ุฌูุงุฒ USB: Intel Corporation EHCI for Elbrus (rev 00) <br>  02: 1.0 (PCI dev 126F: 0718) [3 0] <br>  ุฌูุงุฒ ุชุญูู ูุชูุงูู ูุน VGA: Silicon Motionุ Inc.  SM718 LynxSE + (ูุฑุงุฌุนุฉ 160) <br>  ุงูุฌุฐุฑ @ embox: (ุฎุงููุฉ) # </blockquote><br>  ุชุนููู <br><blockquote style=";text-align:right;direction:rtl">  01: 2.2 (PCI dev 8086: 8000) [7 128] <br>  ุจุงูุงุชุตุงูุงุช ุจุณูุทุฉ.  ุงูุชุญูู: ุฌุณุฑ Intel Corporation Elbrus PCI (rev 00) </blockquote><br>  ูู ุงููุงูุน ุ ูู ูููุฐ ุชุณูุณูู ูู MCST ูุดุจู am85c30 ุ ุนูู ุงูุฃูู ูู ุฎูุงู ูุฐุง ุงูุฌูุงุฒ ูุชูุงุตู ูู ุฎูุงู minicom. <br><br><h3 style=";text-align:right;direction:rtl">  ุจุทุงูุฉ ุงูุดุจูุฉ </h3><br><h4 style=";text-align:right;direction:rtl">  ุงููููู ุงูุนุงู </h4><br>  ุงูุขู ุฏุนูุง ูุตู ุฅูู ุจุทุงูุฉ ุงูุดุจูุฉ. <br><br>  ุฅุฐุง ูููุช ุจุดูู ุตุญูุญ ุ ููุฐู ูู ุจุทุงูุฉ ุงูุดุจูุฉ ุงูุฃุตููุฉ ุ ุชุดุจู ููููุงู ูู ุงูุนูููุฉ ุฅูู e1000 ุ ูููู ููุท ูู ุงูุนูููุฉ (ูุซู ูุฌูุฏ ุงููุงุตูุงุช ูู ููุงุฆู ุงูุชุธุงุฑ ุงูุงุณุชูุงู ูุงูุฅุฑุณุงู). <br><br>  ุงูุขู ุงููุฒูุฏ ุนู ุงูููุงุท ุงููููุฉ ุงูุชู ูุงุฌููุงูุง. <br><br>  ุจุทุงูุฉ PCI VID: PID 0x8086: 0x4D45.  ูุง ุชุชูุงุฌุฃ ูู ุฃู VID ูุทุงุจู Intel ุ ูุบุงูุจุงู ูุง ูุณุชุฎุฏู MCST ูุฐุง VID ุจุนููู ุ ุงูุธุฑ ุนูู ุงูุฃูู ุฅูู ุฌูุงุฒ ุงููููุฐ ุงูุชุณูุณูู ุงููุฐููุฑ ุฃุนูุงู. <br><br>  BAR0 ูุญุชูู ุนูู ูุงุนุฏุฉ ุงูุชุณุฌูู.  ุงูุณุฌูุงุช ูู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_E_CSR 0x00 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Ethernet Control/Status Register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_MGIO_CSR 0x04 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* MGIO Control/Status Register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_MGIO_DATA 0x08 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* MGIO Data Register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_E_BASE_ADDR 0x0c </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* EthernetBase Address Register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_DMA_BASE_ADDR 0x10 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* DMA Base Address Register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_PSF_CSR 0x14 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Pause Frame Control/Status Register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_PSF_DATA 0x18 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Pause Frame Data Register */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> L_E1000_INT_DELAY 0x1c </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Interrupt Delay Register */</span></span></span></span></code> </pre> <br>  ุงูุซูุงุซุฉ ุงูุฃุฎูุฑุฉ (L_E1000_PSF_CSR ุ L_E1000_PSF_DATA ุ L_E1000_INT_DELAY) ูู ูุณุชุฎุฏููุง ุ ูุฐูู ูู ูุชุญุฏุซ ุนููุง.  ููุจุฏุฃ ูุน MGIO ุ ูู ุดูุก ุจุณูุท: ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ุจุงุณุชุฎุฏุงู ุจุฑูุชูููู MII ุ ุฃู ุงูุชูุงุตู ูุน ุดุฑูุญุฉ PHY.  ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ูุฏููุง ุฑูุงูุฉ DP83865. <br><br>  ุงูุฅุฌุฑุงุกุงุช ููุณุช ููุญูุธุฉ ุจุดูู ุฎุงุต ุ ูุณุฃุฐูุฑูุง ุจุจุณุงุทุฉ. <br><br>  ุงููุฑุงุกุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e1000_mii_readreg</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct net_device *dev, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> phy_id, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> reg_num)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l_e1000_priv</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ep</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">netdev_priv</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev</span></span></span><span class="hljs-class">);</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> rd; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> val_out = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; rd = <span class="hljs-number"><span class="hljs-number">0</span></span>; rd |= <span class="hljs-number"><span class="hljs-number">0x2</span></span> &lt;&lt; MGIO_CS_OFF; rd |= <span class="hljs-number"><span class="hljs-number">0x1</span></span> &lt;&lt; MGIO_ST_OF_F_OFF; rd |= <span class="hljs-number"><span class="hljs-number">0x2</span></span> &lt;&lt; MGIO_OP_CODE_OFF; <span class="hljs-comment"><span class="hljs-comment">/* Read */</span></span> rd |= (phy_id &amp; <span class="hljs-number"><span class="hljs-number">0x1f</span></span>) &lt;&lt; MGIO_PHY_AD_OFF; rd |= (reg_num &amp; <span class="hljs-number"><span class="hljs-number">0x1f</span></span>) &lt;&lt; MGIO_REG_AD_OFF; e1000_write_mgio_data(ep, rd); rd = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i != <span class="hljs-number"><span class="hljs-number">1000</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e1000_read_mgio_csr(ep) &amp; MGIO_CSR_RRDY) { rd = (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span>)e1000_read_mgio_data(ep); val_out = rd &amp; <span class="hljs-number"><span class="hljs-number">0xffff</span></span>; log_debug(<span class="hljs-string"><span class="hljs-string">"reg 0x%x &gt;&gt;&gt; 0x%x"</span></span>, reg_num, val_out); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val_out; } usleep(<span class="hljs-number"><span class="hljs-number">100</span></span>); } log_error(<span class="hljs-string"><span class="hljs-string">"mdio_read: Unable to read from MGIO_DATA reg\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val_out; }</code> </pre> <br>  ุชุณุฌูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e1000_mii_writereg</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(struct net_device *dev, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> phy_id, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> reg_num, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> val)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l_e1000_priv</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ep</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">netdev_priv</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dev</span></span></span><span class="hljs-class">);</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> wr; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; wr = <span class="hljs-number"><span class="hljs-number">0</span></span>; wr |= <span class="hljs-number"><span class="hljs-number">0x2</span></span> &lt;&lt; MGIO_CS_OFF; wr |= <span class="hljs-number"><span class="hljs-number">0x1</span></span> &lt;&lt; MGIO_ST_OF_F_OFF; wr |= <span class="hljs-number"><span class="hljs-number">0x1</span></span> &lt;&lt; MGIO_OP_CODE_OFF; <span class="hljs-comment"><span class="hljs-comment">/* Write */</span></span> wr |= (phy_id &amp; <span class="hljs-number"><span class="hljs-number">0x1f</span></span>) &lt;&lt; MGIO_PHY_AD_OFF; wr |= (reg_num &amp; <span class="hljs-number"><span class="hljs-number">0x1f</span></span>) &lt;&lt; MGIO_REG_AD_OFF; wr |= val &amp; <span class="hljs-number"><span class="hljs-number">0xffff</span></span>; log_debug(<span class="hljs-string"><span class="hljs-string">"reg 0x%x &lt;&lt;&lt; 0x%x"</span></span>, reg_num, val); e1000_write_mgio_data(ep, wr); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i != <span class="hljs-number"><span class="hljs-number">1000</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e1000_read_mgio_csr(ep) &amp; MGIO_CSR_RRDY) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } usleep(<span class="hljs-number"><span class="hljs-number">100</span></span>); } log_error(<span class="hljs-string"><span class="hljs-string">"Unable to write MGIO_DATA reg: val = 0x%x"</span></span>, wr); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; }</code> </pre> <br>  ุงูุขู L_E1000_DMA_BASE_ADDR ู L_E1000_E_BASE_ADDR ุ ูู ุงููุงูุน ูุตูุงู ูุนููุฉ ูุงุญุฏุฉ ุ ุนููุงู ูุชูุฉ ูุตู ุจุทุงูุฉ ุงูุดุจูุฉ.  ุจูุนูู ุ ุงูุนููุงู ูู Elbrus ูู 64 ุจุช ุ ูุงูุณุฌูุงุช 32 ุจุช. <br><br>  ูู ุงููุงูุน ุฑูุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">/* low 32 bits */</span></span> init_block_addr_part = (<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span>)((<span class="hljs-keyword"><span class="hljs-keyword">uintptr_t</span></span>)ep-&gt;init_block &amp; <span class="hljs-number"><span class="hljs-number">0xffffffff</span></span>); e1000_write_e_base_addr(ep, init_block_addr_part); log_debug(<span class="hljs-string"><span class="hljs-string">"Init Block Low DMA addr: 0x%x"</span></span>, init_block_addr_part); <span class="hljs-comment"><span class="hljs-comment">/* high 32 bits */</span></span> init_block_addr_part = (<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span>)(((<span class="hljs-keyword"><span class="hljs-keyword">uintptr_t</span></span>)(ep-&gt;init_block) &gt;&gt; <span class="hljs-number"><span class="hljs-number">32</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">0xffffffff</span></span>); e1000_write_dma_base_addr(ep, init_block_addr_part); log_debug(<span class="hljs-string"><span class="hljs-string">"Init Block High DMA addr: 0x%x"</span></span>, init_block_addr_part); <span class="hljs-comment"><span class="hljs-comment">/************************************************************************/</span></span></code> </pre><br>  ูููู ูู ุฎูุงูู ููุงุญุธุฉ ุฃู L_E1000_DMA_BASE_ADDR ูู ุงูุฌุฒุก ุงูุนููู ุ ูุฃู L_E1000_DMA_BASE_ADDR ูู ุงูุฌุฒุก ุงูุณููู ูู ุนููุงู ูุชูุฉ ุชููุฆุฉ ูุนููุฉ (ูู ุงููุงูุน ูุชูุฉ ูุตู ุฎุฑูุทุฉ). <br><br>  ูููู ุงููุตู ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l_e1000_init_block</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> mode; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> paddr[<span class="hljs-number"><span class="hljs-number">6</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> laddrf; <span class="hljs-comment"><span class="hljs-comment">/* 31:4 = addr of rx desc ring (16 bytes align) + * 3:0 = number of descriptors (the power of two) * 0x09 is max value (desc number = 512 if [3:0] &gt;= 0x09) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> rdra; <span class="hljs-comment"><span class="hljs-comment">/* 31:4 = addr of tx desc ring (16 bytes align) + * 3:0 = number of descriptors (the power of two) * 0x09 is max value (desc number = 512 if [3:0] &gt;= 0x09) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> tdra; } __attribute__((packed));</code> </pre> <br>  C laddrf - ูู ูููู ุ ูุณุจุจ ูุง ูู ูุถุนู ุนูู ุงูุตูุฑ ุ ูุนููุง ุงูุดูุก ููุณู. <br><br>  paddr - ููุง ุชุนุชูุฏ ุ ูุฅู mac ูู ุนููุงู ุจุทุงูุฉ ุงูุดุจูุฉ. <br><br>  ุชุญุชูู rdra ู tdra ุนูู ุนูุงููู ุญููุงุช ูุงุตูุงุช ุงูุฐุงูุฑุฉ ุ ููุชู ุชุฎุตูุต ุฃูู 4 ุจุชุงุช ูุญุฌู ุงูุฎุงุชู ุ ููุฐุง ูู ููุบุงุฑูุชู ุงูุญุฌู.  ููุฐุง ูู ุ ุฅุฐุง ูุงู ููุงู 8 ุ ูุณูููู ุนุฏุฏ ุงููุงุตูุงุช ูู ุงูุญููุฉ 2 ^ 8 (1 &lt;&lt; 8 == 256). <br><br>  ุงููุถุน ูู ุทุฑููุฉ ุชุดุบูู ุงูุจุทุงูุฉ ุ ุงูุจุชุงุช ูู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DRX (1 &lt;&lt; 0) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Receiver disable */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DTX (1 &lt;&lt; 1) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Transmitter disable */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LOOP (1 &lt;&lt; 2) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* loopback */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DTCR (1 &lt;&lt; 3) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* disable transmit crc */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> COLL (1 &lt;&lt; 4) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* force collision */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DRTY (1 &lt;&lt; 5) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* disable retry */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> INTL (1 &lt;&lt; 6) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Internal loopback */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> EMBA (1 &lt;&lt; 7) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* enable modified back-off algorithm */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> EJMF (1 &lt;&lt; 8) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* enable jambo frame */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> EPSF (1 &lt;&lt; 9) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* enable pause frame */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> FULL (1 &lt;&lt; 10) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* full packet mode */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PROM (1 &lt;&lt; 15) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* promiscuous mode */</span></span></span></span></code> </pre> <br>  ููุฐุง ูู ุ ุนูุฏูุง ูุชู ุชูููู ูู ุดูุก ุ ุชุญุชุงุฌ ุฅูู ุชุนููู ุจุช 10. ุฅุฐุง ููุช ุชุฑุบุจ ูู ูุถุน ูุฎุชูุท ุ ุซู ุฃูุถุง 15. <br><br><h4 style=";text-align:right;direction:rtl">  ูุงุตูุงุช ุงูุญุฒูุฉ </h4><br>  ุงูุขู ุญูู ุชูุณูู ูุงุตูุงุช ุงูุญุฒูุฉ. <br><br>  ูู ุงูุงุณุชูุจุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l_e1000_rx_desc</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> base; <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> buf_length; <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> status; <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> msg_length; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> reserved1; <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> etmr; } __attribute__((packed));</code> </pre> <br>  ูุงุนุฏุฉ - ุฑุจูุง ูููู ุฃู ูุฐุง ูู ุนููุงู ุงููุฎุฒู ุงููุคูุช ููุญุฒูุฉ <br>  buf_length - ุญุฌู ุงููุฎุฒู ุงููุคูุช <br>  msg_length - ุจุนุฏ ุงูุงุณุชูุงู ุ ูุญุชูู ุนูู ุทูู ุงูุญุฒูุฉ ุงููุณุชููุฉ <br>  ุญุงูุฉ - ุญุงูุฉ ูุงุตู.  ุนูุฏ ุฅุนุฏุงุฏ ุงูุญุฒูุฉ ูุฅุนุทุงุกูุง ูู DMA (ุงูุจุทุงูุฉ) ุ ุชุญุชุงุฌ ุฅูู ุถุจุท ุงูุจุช 15 (RD_OWN).  ุฅุฐุง ูุงู ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ุซู ุจุนุฏ ุชููู ุงูุญุฒูุฉ ูู ูุฐุง ุงููุงุตู ุ ุณูุชู ุฅุนุงุฏุฉ ุชุนููู ูุฐุง ุงูุจุช ูุณูุชู ุชุนููู 9 (RD_STP) ู 8 (RD_ENP). <br><br>  ูู ุจุชุงุช ุงูุญุงูุฉ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* RX Descriptor status bits */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_OWN (1 &lt;&lt; 15) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_ERR (1 &lt;&lt; 14) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_FRAM (1 &lt;&lt; 13) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_OFLO (1 &lt;&lt; 12) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_CRC (1 &lt;&lt; 11) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_BUFF (1 &lt;&lt; 10) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_STP (1 &lt;&lt; 9) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_ENP (1 &lt;&lt; 8) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_PAM (1 &lt;&lt; 6) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_LAFM (1 &lt;&lt; 4) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RD_BAM (1 &lt;&lt; 3)</span></span></code> </pre> <br>  ุนูุฏ ุงูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">l_e1000_tx_desc</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> base; <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> buf_length; <span class="hljs-keyword"><span class="hljs-keyword">int16_t</span></span> status; <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> misc; <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> etmr; } __attribute__((packed));</code> </pre><br>  ุชูุฑูุจูุง ููุณ ุญุงูุฉ ุงูุงุณุชูุงู ุ ุชููู ุจุชุงุช ุงูุญุงูุฉ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* TX Descriptor status bits */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_OWN (1 &lt;&lt; 15) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_ERR (1 &lt;&lt; 14) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_AFCS (1 &lt;&lt; 13) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_NOINTR (1 &lt;&lt; 13) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_MORE (1 &lt;&lt; 12) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_ONE (1 &lt;&lt; 11) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_DEF (1 &lt;&lt; 10) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_STP (1 &lt;&lt; 9) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TD_ENP (1 &lt;&lt; 8)</span></span></code> </pre> <br>  ุนูุฏ ุฅุฑุณุงู ุญุฒูุฉ ุ ูู ุงูุถุฑูุฑู ุชุนููู 15 (TD_OWN) ู 9 (TD_STP) ู 8 (TD_ENP) ููููุง ูุฐูู.  ุงูุจุชุฉ 8 ุชุนูู ุฃู ูุฐู ูู ุขุฎุฑ ุญุฒูุฉ ูุชู ูุนุงูุฌุชูุง ุ ูุฐูู ุ ุฅุฐุง ุชู ุฅุฑุณุงู ุงูุญุฒูุฉ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุชุซุจูุช ููุท ูู ุงูุญุฒูุฉ ุงูุฃุฎูุฑุฉ. <br><br>  ููุฏ ูุณูุช ุฃูุถูุง ููุฒุฉ ูููุฉ ุ ุญูุซ ูุชู ูุชุงุจุฉ ุทูู ุงููุฎุฒู ุงููุคูุช ูู ุงููุงุตูุงุช ุจุนูุงูุฉ ูุงูุต ุ ุฑุจูุง ุจุฑูุฒ ุฅุถุงูู.  ุญุชู ูู endian ููููุงู ุ ููู ุจูุง ุฃู Elbrus ูู ููุณ ุชุฑุชูุจ ุงูุจุงูุช ุ ููู ุงููุญุชูู ุฃู ูุฐุง ููุณ ููููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ุณุฌู ุงูุฅุฏุงุฑุฉ </h4><br>  ุงูุขู ูุตู ุขุฎุฑ ุณุฌู ุบูุฑ ูููู L_E1000_E_CSR: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* E_CSR register bits */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* 31:21 unused, readed as 0 */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_ATME (1 &lt;&lt; 24) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW, Add Timer Enable */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_TMCE (1 &lt;&lt; 23) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW, Timer Clear Enable */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_DRIN (1 &lt;&lt; 22) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW, Disable RX Interrupt */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_DTIN (1 &lt;&lt; 21) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW, Disable TX Interrupt */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_ESLE (1 &lt;&lt; 20) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW, Enable Slave Error */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_SLVE (1 &lt;&lt; 19) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Slave Error */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_PSFI (1 &lt;&lt; 18) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Pause Frame Interrupt */</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* 17 unused, read as 0 */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_SINT (1 &lt;&lt; 16) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* R, Status Interrupt */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_ERR (1 &lt;&lt; 15) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* R, Error */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_BABL (1 &lt;&lt; 14) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Babble */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_CERR (1 &lt;&lt; 13) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Collision Error */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_MISS (1 &lt;&lt; 12) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Missed Packet */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_MERR (1 &lt;&lt; 11) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Memory Error */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_RINT (1 &lt;&lt; 10) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Receiver Interrupt */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_TINT (1 &lt;&lt; 9) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Transmiter Interrupt */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_IDON (1 &lt;&lt; 8) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1c, Initialization Done */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_INTR (1 &lt;&lt; 7) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* R, Interrupt Flag */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_INEA (1 &lt;&lt; 6) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW, Interrupt Enable */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_RXON (1 &lt;&lt; 5) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* R, Receiver On */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_TXON (1 &lt;&lt; 4) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* R, Transmiter On */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_TDMD (1 &lt;&lt; 3) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1, Transmit Demand */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_STOP (1 &lt;&lt; 2) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1, Stop */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_STRT (1 &lt;&lt; 1) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1, Start */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> E_CSR_INIT (1 &lt;&lt; 0) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* RW1, Initialize */</span></span></span></span></code> </pre><br><h4 style=";text-align:right;direction:rtl">  ุงูุชููุฆุฉ </h4><br>  ููุฌุฏ ุชุณูุณู ุชููุฆุฉ ุบูุฑ ุนุงุฏู ุฅูู ุญุฏ ูุง: <br><blockquote style=";text-align:right;direction:rtl">  STOP-&gt; INIT-&gt; IDON-&gt; STRT </blockquote><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุฑุชูุน ุจุชุงุช RXON ู TXON ุจุดูู ูุณุชูู. <br>  ูุฒูุฏ ูู ุงูุชูุงุตูู ูููู ุงูุนุซูุฑ ุนูููุง ูู ุณุงุฆููุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุจุทุงูุฉ ุงูููุฏูู </h2><br>  ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูุณุชุฎุฏู ุงูุฌูุงุฒ vidyah Silicon Motion ูุณูู SM718 LynxSE +.  ูุฐูู ุ ูู ุดูุก ุจุณูุท ุ ููุงู <a href="https://github.com/torvalds/linux/tree/master/drivers/staging/sm750fb">ูุตุงุฏุฑ ุจุฑุงูุฌ ุงูุชุดุบูู ูู Linux</a> ููุง ููุฌุฏ ุดูุก ูููู ูุตูู ุจุงููุนู. <br><br>  ุญุณููุง ุ ูููุง ุนุฏุง ุฃู ุงูููุฏูู ูุธูุฑ ุฃูู ุชุจูู ุงูุฎูุงุถูุง ูู ุงูุซุงููุฉ ุ ูุจุฏู ุฃูู ูุดุจู ุงููุตูู ุงูุจุทูุก ุฅูู ุงูุฐุงูุฑุฉ.  ูููู ูุฐุง ุจุฏูู ุชุญุณูู ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ุ ูุจุดูู ุนุงู ุ ุฑุจูุง ุชููู ูุฐู ูู ูุดููุชูุง ุงููุฑุชุจุทุฉ ุจุงูุงุณุชุฎุฏุงู ุบูุฑ ุงูุตุญูุญ ูููููู e2k. <br><br><h3 style=";text-align:right;direction:rtl">  ุญุณูุง ุ ูุงุฐุง ุฃููู ุนู <s>ุณุฎุงููู</s> ุงูุจุฑูุณุ </h3><br>  ูู ุญูุซ ุงููุจุฏุฃ ุ ูุฅู ุงูุทูุณ ุทุจูุนู :) <br><br>  ุนูู ูุง ูุจุฏู ุ Elbrus ููุฌูุฏุฉ ุ ูุงูุนูู.  ุฃูุง ุดุฎุตูุงู ุฃุฑู ุฃู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูุชุทููุฑ ูุฐุง ุงูุนูุงุฑุฉ ุงููุซูุฑุฉ ููุงูุชูุงู ูู ูุฑุจูุง.  ูู ุงูุตุนุจ ุชุตุฏูู ุฃู ุดุฑูุฉ ุตุบูุฑุฉ ูุณุจููุง ูููููุง ุฅูุดุงุก ูุนุงูุฌ ููุชุฑุฌู ูุชูุฏูู ุงูุฏุนู ููู ุดูุก ุขุฎุฑ.  ูุนู ุ ุจุฏุฃ ูุทูุฑู ุจุฑุงูุฌ ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ ูู ุงูุธููุฑ ุ ูููุณ Basalt-SPO ูุฏุนู <a href="https://www.altlinux.org/%25D0%25AD%25D0%25BB%25D1%258C%25D0%25B1%25D1%2580%25D1%2583%25D1%2581">Alt-Linux ุ ูุงูุฐู ูููู ุชุซุจูุชู ุนูู Elbrus</a> . <br><br>  ูุนู ุ ูุงูุช ููุงู ุชูุงุฑูุฑ ุชููุฏ ุจุฃู ูุทูุฑู ุงูุทุฑู ุงูุซุงูุซ ูุตูุนูู ุงูุฃุฌูุฒุฉ ุจูุงุกู ุนูู ูุนุงูุฌ Elbrus ุ ุนูู ุณุจูู ุงููุซุงู <a href="https://m.vk.com/wall-71796881_858">Fastwel</a> .  ูููู ูู ูุฐู ููุณุช ุณูู ุชูุฏู ุตุบูุฑ ูุญู ุงูุงููุชุงุญ.  ูุซุงู ุจุณูุท ููุบุงูุฉ ุ ูู ุฃุฌู ุฅุนุงุฏุฉ ุฅูุชุงุฌ ูุง ูููุงู <a href="http://www.mcst.ru/">ูุจูุงูู</a> ููุง ุ ูุญุชุงุฌ ุฅูู ูุชุฑุฌู ุ ูููุท <a href="http://www.mcst.ru/">MCST ูุฏูู</a> ุ ุงููุนูููุงุช ุงููุงุฑุฏุฉ ูู ุงูููุงูุฉ ูู ุฅุถุงูุฉ ุฅูู ุงููุนูููุงุช ุงูุชู ูุฑุฏุช ูู ุ ูุฑุฉ ุฃุฎุฑู ุ ูู <a href="http://www.mcst.ru/">MCST</a> ุ ููุง ุฒูุช ูุง ุฃููู ุฃูู ูู ุบูุฑ ุงููุฑุฌุญ ุงูุนุซูุฑ ุนูู ูุทุนุฉ ูู ุงูุญุฏูุฏ ุญุชู ูู MCST.  ุฅูู ูุฏูู ุฌุฏูุง ุ ูููุฏู <a href="http://www.mcst.ru/">ICST</a> ุทุฑุงุฒุงุช ุฃุญุฏุซ. <br><br>  ููุงุญุธุฉ: ุจุทุจูุนุฉ ุงูุญุงู ุ ููููู ุฑุคูุฉ ูู ุดูุก ูู <a href="https://github.com/embox/embox">ูุณุชูุฏุน Embox</a> . <br><br>  PPS ุชุนุงู ุฅูู ููุงุฉ ุงูุชูุบุฑุงู ุงูุฑูุณูุฉ ุนุจุฑ Embox ( <a href="https://t.me/embox_chat">https://t.me/embox_chat</a> ). <br><br>  ูุงู PPS Embox ุจุชุญุฏูุซ ุงููููู ุงูุซุงูู ูู ุงูุฅุตุฏุงุฑ ุ ูุงูุขู <a href="">0.4.0</a> ุงูุญุงูู </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar485694/">https://habr.com/ru/post/ar485694/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar485664/index.html">ุฅูุดุงุก ูุนููุงุช ุฏููุงููููุฉ ูู ูููุฉ Jenkins ุ ุฃู ููููุฉ ุฌุนู ูููุชู ุณููุฉ ุงูุงุณุชุฎุฏุงู</a></li>
<li><a href="../ar485672/index.html">ุฃูุถู ููุงุฑุณุงุช Redis ุ ุงูุฌุฒุก ุงูุฃูู</a></li>
<li><a href="../ar485682/index.html">ุฅุฏุงุฑุฉ ุงูููุช ูู ุชุณุงุนุฏ: ุงูููุงุทูุฉ ูู ูุดููุฉ ุชูุธูู ุงูุนูุงุทู ุ ูููุณ ุงูููุช</a></li>
<li><a href="../ar485688/index.html">Myapp ููุชุฏ ุนุทูุฉ</a></li>
<li><a href="../ar485692/index.html">ูุตูุญุฉ ุฃุฎุตุงุฆู ุชูููููุฌูุง ุงููุนูููุงุช ุฅูู ุงูุนููู ุ ุฃู ููููุฉ ุฃุชูุชุฉ ุงูููุถู</a></li>
<li><a href="../ar485702/index.html">FunCorp ุฏุงุฆุฑุฉ ุงูุฑูุงุจุฉ ุงูุฏุงุฎููุฉ ููุชูุจ # 2</a></li>
<li><a href="../ar485704/index.html">ุจูุณู ุงููู ูููุจุชุฏุฆูู: ุฅุตูุงุญ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ</a></li>
<li><a href="../ar485706/index.html">ูุฏุนูู ูุญุถูุฑ ุงุฌุชูุงุน "ุงูุชุญูู ุงูุฑููู ูุฃุฏูุงุฑ ุฌุฏูุฏุฉ ูู ุนููู ุงูุจูุงูุงุช"</a></li>
<li><a href="../ar485708/index.html">Blockchain ูุบูุฑ ุงูุทุฑููุฉ ุงูุชู ุชุนูู ุจูุง ุตูุงุนุฉ ุงูุณูู ุงูุญุฏูุฏูุฉ</a></li>
<li><a href="../ar485710/index.html">ุญู ุจุณูุท ูุงุฎุชุจุงุฑ ุงูุงูุญุฏุงุฑ ุงูุจุตุฑู ูู Java + Selenium Webdriver + aShot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>