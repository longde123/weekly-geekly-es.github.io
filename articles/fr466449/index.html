<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª üôä üñêüèø Formation Cisco 200-125 CCNA v3.0. Jour 44. Introduction √† OSPF üêî ü§ûüèæ üôèüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous allons commencer √† √©tudier le routage OSPF. Ce sujet, ainsi que la prise en compte du protocole EIGRP, est le plus important tout au...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 44. Introduction √† OSPF</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466449/"> Aujourd'hui, nous allons commencer √† √©tudier le routage OSPF.  Ce sujet, ainsi que la prise en compte du protocole EIGRP, est le plus important tout au long du cours CCNA.  Comme vous pouvez le voir, la section 2.4 est intitul√©e ¬´Configuration, v√©rification et probl√®mes avec une zone unique et multizone OSPFv2 pour IPv4 (sauf pour l'authentification, le filtrage, la sommation manuelle des itin√©raires, la redistribution, la zone sans issue, le r√©seau virtuel et LSA)¬ª. <br><br><img src="https://habrastorage.org/webt/eh/eg/ly/eheglytkouujf35vnfqie-es6my.jpeg"><br><br>  Le sujet OSPF est assez √©tendu, il faudra donc 2, voire 3 tutoriels vid√©o.  La le√ßon d'aujourd'hui sera consacr√©e au c√¥t√© th√©orique de la question, je vais vous dire ce qu'est ce protocole en termes g√©n√©raux et comment il fonctionne.  Dans la vid√©o suivante, nous passerons en mode de configuration OSPF √† l'aide de Packet Tracer. <a name="habracut"></a><br><br>  Ainsi, dans cette le√ßon, nous allons examiner trois choses: qu'est-ce que l'OSPF, comment cela fonctionne-t-il et quelles sont les zones OSPF.  Dans la le√ßon pr√©c√©dente, nous avons dit que OSPF est un protocole de routage de type √©tat de liaison qui examine les canaux de communication entre les routeurs et prend des d√©cisions en fonction de la vitesse de ces canaux.  Un canal long avec une vitesse plus √©lev√©e, c'est-√†-dire avec une bande passante plus √©lev√©e, sera une priorit√© par rapport √† un canal court avec une bande passante plus faible. <br><br>  Le protocole RIP, √©tant un vecteur de distance, choisira un chemin dans un saut, m√™me si ce canal a une faible vitesse, et OSPF choisira un itin√©raire long parmi plusieurs espoirs si la vitesse totale sur cet itin√©raire est sup√©rieure √† la vitesse du trafic sur un itin√©raire court. <br><br><img src="https://habrastorage.org/webt/si/vu/ov/sivuovzoo80jcpepru30511r2lk.jpeg"><br><br>  Plus tard, nous nous pencherons sur l'algorithme de prise de d√©cision, pour l'instant vous devez vous rappeler que OSPF est le protocole d'√©tat de lien Link State.  Cette norme ouverte a √©t√© cr√©√©e en 1988, de sorte que tout fabricant d'√©quipement r√©seau et tout fournisseur de r√©seau pouvaient l'utiliser.  Par cons√©quent, OSPF est beaucoup plus populaire que EIGRP. <br><br>  OSPF version 2 ne prend en charge que IPv4, et un an plus tard, en 1989, les d√©veloppeurs ont annonc√© la sortie de la version 3, qui prend en charge IPv6.  Cependant, la troisi√®me version enti√®rement fonctionnelle d'OSPF pour IPv6 n'est apparue qu'en 2008.  Pourquoi avez-vous choisi OSPF?  Dans la derni√®re le√ßon, nous avons appris que ce protocole de passerelle interne effectue la convergence des routes beaucoup plus rapidement que RIP.  Il s'agit d'un protocole sans classe. <br><br>  Si vous vous souvenez, RIP est un protocole de classe, c'est-√†-dire qu'il n'envoie pas d'informations sur le masque de sous-r√©seau, et s'il rencontre une adresse IP de classe A / 24, il ne l'acceptera pas.  Par exemple, si vous lui pr√©sentez une adresse IP de la forme 10.1.1.0/24, il la percevra comme un r√©seau 10.0.0.0, car il ne comprend pas quand un r√©seau est divis√© en sous-r√©seaux utilisant plus d'un masque de sous-r√©seau. <br>  OSPF est un protocole s√©curis√©.  Par exemple, si deux routeurs √©changent des informations OSPF, vous pouvez configurer l'authentification afin de pouvoir partager des informations avec un routeur voisin uniquement apr√®s avoir entr√© le mot de passe.  Comme nous l'avons dit, il s'agit d'une norme ouverte, c'est pourquoi l'OSPF est utilis√© par de nombreux fabricants d'√©quipements r√©seau. <br><br>  Dans un sens global, OSPF est le m√©canisme d'√©change d'annonces d'√©tat de liaison, ou LSA.  Les messages LSA sont g√©n√©r√©s par le routeur et contiennent beaucoup d'informations: un identifiant unique pour le routeur router-id, des donn√©es sur les r√©seaux connus du routeur, des donn√©es sur leur co√ªt, etc.  Le routeur a besoin de toutes ces informations pour prendre une d√©cision concernant le routage. <br><br><img src="https://habrastorage.org/webt/aj/nx/5-/ajnx5-u3bzlcoc3kjj0holdm9po.jpeg"><br><br>  Le routeur R3 envoie ses informations LSA au routeur R5 et le routeur R5 partage ses informations LSA avec R3.  Ces LSA sont une structure de donn√©es qui forme une base de donn√©es d'√©tats de liens, ou LSDB, base de donn√©es d'√©tats de liens.  Le routeur collecte tous les LSA re√ßus et les place dans son LSDB.  Une fois que les deux routeurs ont cr√©√© leurs propres bases de donn√©es, ils √©changent des messages Hello, qui sont utilis√©s pour d√©couvrir les voisins, et commencent la proc√©dure de comparaison de leurs LSDB. <br><br>  Le routeur R3 envoie un message DBD, ou ¬´description de la base de donn√©es¬ª, √† R5, et R5 envoie son DBD √† R3.  Ces messages contiennent les indices LSA qui se trouvent dans les bases de chaque routeur.  Apr√®s avoir re√ßu un DBD, R3 envoie une demande d'√©tat du r√©seau LSR √† R5, qui dit: ¬´J'ai d√©j√† les messages 3.4 et 9, alors n'envoyez-moi que 5 et 7¬ª. <br><br>  R5 fait exactement la m√™me chose, en disant au troisi√®me routeur: "J'ai des informations 3,4 et 9, alors envoyez-moi 1 et 2".  Lors de la r√©ception des demandes LSR, les routeurs renvoient des paquets de mise √† jour de l'√©tat du r√©seau LSU, c'est-√†-dire qu'en r√©ponse √† leur LSR, le troisi√®me routeur re√ßoit le LSU du routeur R5.  Une fois que les routeurs ont mis √† jour leurs bases de donn√©es, tous, m√™me si vous avez 100 routeurs, auront le m√™me LSDB.  D√®s que les bases de donn√©es LSDB sont cr√©√©es dans les routeurs, chacun d'eux conna√Ætra l'ensemble du r√©seau dans son ensemble.  Le protocole OSPF utilise l'algorithme Shortest Path First pour cr√©er une table de routage. La condition la plus importante pour son fonctionnement correct est donc la synchronisation du LSDB de tous les p√©riph√©riques du r√©seau. <br><br><img src="https://habrastorage.org/webt/ci/dg/fs/cidgfs7bbtoycybdlbkuzet-uqe.jpeg"><br><br>  Le diagramme ci-dessus contient 9 routeurs, chacun √©changeant des messages LSR, LSU, etc. avec des voisins.  Tous sont connect√©s les uns aux autres comme p2p ou interfaces point √† point qui prennent en charge le protocole OSPF et interagissent les uns avec les autres pour cr√©er le m√™me LSDB. <br><br><img src="https://habrastorage.org/webt/z0/am/wv/z0amwvsbzhhwo3quwhqf9vypyk4.jpeg"><br><br>  D√®s que les bases de donn√©es sont synchronis√©es, chaque routeur, en utilisant l'algorithme de chemin le plus court, forme sa propre table de routage.  Diff√©rents routeurs auront des tables diff√©rentes.  Autrement dit, tous les routeurs utilisent le m√™me LSDB, mais cr√©ent des tables de routage en fonction de leurs propres consid√©rations sur les itin√©raires les plus courts.  Pour utiliser cet algorithme, OSPF a besoin de mises √† jour r√©guli√®res de la base de donn√©es LSDB. <br><br>  Donc, pour son propre fonctionnement, OSPF doit d'abord fournir 3 conditions: trouver des voisins, cr√©er et mettre √† jour LSDB, et cr√©er une table de routage.  Pour remplir la premi√®re condition, l'administrateur r√©seau peut avoir besoin de configurer manuellement l'ID de routeur, les horaires ou le masque g√©n√©rique.  Dans la vid√©o suivante, nous verrons comment configurer l'appareil pour qu'il fonctionne avec OSPF, jusqu'√† pr√©sent, vous devez savoir que ce protocole utilise un masque invers√©, et s'il ne correspond pas, si vos sous-r√©seaux ne correspondent pas ou que l'authentification ne correspond pas, le voisinage des routeurs ne sera pas form√©.  Par cons√©quent, lors du d√©pannage des probl√®mes OSPF, vous devez d√©couvrir pourquoi ce voisinage ne se forme pas, c'est-√†-dire v√©rifier que les param√®tres ci-dessus correspondent. <br><br>  En tant qu'administrateur r√©seau, vous n'√™tes pas impliqu√© dans le processus de cr√©ation d'un LSDB.  Les bases de donn√©es sont mises √† jour automatiquement apr√®s la cr√©ation d'un voisinage de routeurs, ainsi que la cr√©ation de tables de routage.  Tout cela est effectu√© par l'appareil lui-m√™me, qui est configur√© pour fonctionner avec le protocole OSPF. <br>  Regardons un exemple.  Nous avons 2 routeurs, pour lesquels j'ai attribu√© des identifiants RID 1.1.1.1 et 2.2.2.2 pour plus de simplicit√©.  D√®s que nous les connectons, le canal de liaison passe imm√©diatement √† l'√©tat haut, car j'ai d'abord configur√© ces routeurs pour qu'ils fonctionnent avec OSPF.  D√®s que le canal de communication est form√©, le routeur A enverra imm√©diatement le deuxi√®me paquet Hello.  Ce package contiendra des informations que ce routeur n'a "vu" personne sur ce canal, car il envoie pour la premi√®re fois Hello, ainsi que son propre identifiant, des donn√©es sur le r√©seau qui lui est connect√© et d'autres informations qu'il peut partager avec un voisin. <br><br><img src="https://habrastorage.org/webt/8y/h3/ee/8yh3eeidlszlok6i5nc6mk_pwu8.jpeg"><br><br>  Ayant re√ßu ce paquet, le routeur B dira: "Je vois que sur ce canal de communication il y a un candidat potentiel pour le voisinage OSPF" et passera √† l'√©tat initial Init.  Le paquet Hello n'est pas un message de monodiffusion ou de diffusion, c'est un paquet de multidiffusion envoy√© √† l'adresse IP de multidiffusion OSPF 224.0.0.5.  Certaines personnes demandent ce qu'est un masque de sous-r√©seau pour une multidiffusion.  Le fait est qu'une multidiffusion n'a pas de masque de sous-r√©seau, elle est distribu√©e comme un signal radio qui est entendu par tous les appareils r√©gl√©s sur sa fr√©quence.  Par exemple, si vous souhaitez √©couter une √©mission de radio FM √† une fr√©quence de 91,0, r√©glez votre radio sur cette fr√©quence. <br><br>  De la m√™me mani√®re, le routeur B est configur√© pour recevoir des messages pour l'adresse de multidiffusion 224.0.0.5.  En √©coutant ce canal, il re√ßoit le paquet Hello envoy√© par le routeur A et y r√©pond avec son message. <br><br><img src="https://habrastorage.org/webt/jz/3v/65/jz3v65x0bhyt3l7aulusvjqv_ns.jpeg"><br><br>  De plus, le voisinage ne peut √™tre √©tabli que si la r√©ponse B satisfait √† un ensemble de crit√®res.  Le premier crit√®re - la fr√©quence d'envoi des messages Hello et l'intervalle d'attente d'une r√©ponse √† ce message Dead Interval doivent co√Øncider pour les deux routeurs.  L'intervalle normalement mort est √©gal √† plusieurs valeurs de minuterie Hello.  Ainsi, si la temporisation Bonjour du routeur A est de 10 s et que le routeur B lui envoie un message apr√®s 30 s avec un intervalle mort √©gal √† 20 s, le voisinage n'aura pas lieu. <br><br>  Le deuxi√®me crit√®re est que les deux routeurs doivent utiliser le m√™me type d'authentification.  Par cons√©quent, les mots de passe d'authentification doivent √©galement correspondre. <br><br>  Le troisi√®me crit√®re est la co√Øncidence des identificateurs de zone Arial ID, le quatri√®me est la co√Øncidence de la longueur du pr√©fixe du r√©seau.  Si le routeur A signale le pr√©fixe / 24, le routeur B doit √©galement avoir un pr√©fixe r√©seau / 24.  Dans la vid√©o suivante, nous examinerons cela plus en d√©tail, pour l'instant je remarquerai que ce n'est pas un masque de sous-r√©seau, ici les routeurs utilisent le masque Wildcard invers√©.  Et bien s√ªr, les drapeaux de la zone de stub de la zone Stub doivent √©galement correspondre si les routeurs se trouvent dans cette zone. <br><br>  Apr√®s avoir v√©rifi√© ces crit√®res, s'ils correspondent, le routeur B envoie son paquet Hello au routeur A.  Contrairement au message A, le routeur B signale qu'il a vu le routeur A et se pr√©sente. <br><br><img src="https://habrastorage.org/webt/6r/kn/vy/6rknvyrb_4jh5nhlv4qwio46zay.jpeg"><br><br>  En r√©ponse √† ce message, le routeur A envoie √† nouveau Hello au routeur B, dans lequel il confirme qu'il a √©galement vu le routeur B, le canal de communication entre eux se compose des appareils 1.1.1.1 et 2.2.2.2, et il est lui-m√™me l'appareil 1.1.1.1.  Il s'agit d'une √©tape tr√®s importante pour √©tablir un quartier.  Dans ce cas, une connexion bidirectionnelle bidirectionnelle est utilis√©e, mais que se passe-t-il si nous avons un commutateur avec un r√©seau distribu√© de 4 routeurs?  Dans un tel environnement ¬´partag√©¬ª, l'un des routeurs devrait jouer le r√¥le d'un routeur d√©di√© Routeur d√©sign√© DR, et le second - un routeur d√©di√© de sauvegarde Routeur d√©sign√© de sauvegarde, BDR <br><br><img src="https://habrastorage.org/webt/ly/gi/on/lygionmgdtv62_x7hibp9lc48xm.jpeg"><br><br>  Chacun de ces appareils formera une connexion compl√®te, ou un √©tat de pleine contigu√Øt√©, plus tard, nous consid√©rerons ce que c'est, cependant, une connexion de ce type ne sera √©tablie qu'avec DR et BDR, les deux routeurs inf√©rieurs D et B communiqueront toujours entre eux selon le sch√©ma de connexion bidirectionnelle Point √† point. <br><br>  Autrement dit, avec DR et BDR, tous les routeurs √©tablissent une relation de proximit√© compl√®te et une connexion point √† point les uns avec les autres.  Ceci est tr√®s important, car lors de la connexion des p√©riph√©riques adjacents dans les deux sens, tous les param√®tres du paquet Hello doivent correspondre.  Dans notre cas, tout co√Øncide, donc les appareils forment un quartier sans probl√®me. <br><br>  D√®s que la communication bidirectionnelle est √©tablie, le routeur A envoie au routeur B le package de description de la base de donn√©es, ou la ¬´description de la base de donn√©es¬ª, et bascule vers l'√©tat ExStart - le d√©but de l'√©change ou l'attente du t√©l√©chargement.  Le descripteur de base de donn√©es est une information similaire √† la table des mati√®res du livre - il s'agit d'une √©num√©ration de tout ce qui est disponible dans la base de donn√©es de routage.  En r√©ponse, le routeur B envoie sa description de base de donn√©es au routeur A et entre dans l'√©tat d'√©change de donn√©es sur les canaux Exchange.  Si dans l'√©tat Exchange, le routeur d√©tecte qu'il y a des informations dans sa base de donn√©es, il passe alors √† l'√©tat de d√©marrage LOADING et commence √† √©changer des messages LSR, LSU et LSA avec le voisin. <br><br><img src="https://habrastorage.org/webt/c2/0h/ix/c20hixd7ecp-7n0m1cjiwhsfzmm.jpeg"><br><br>  Ainsi, le routeur A envoie un LSR √† un voisin, il r√©pondra avec un paquet LSU, auquel le routeur A r√©pondra au routeur B avec un message LSA.  Cet √©change se produira autant de fois que le nombre de fois que le p√©riph√©rique souhaite √©changer des messages LSA.  Un √©tat CHARGEMENT signifie qu'une mise √† niveau compl√®te de la base de donn√©es LSA n'a pas encore eu lieu.  Apr√®s avoir t√©l√©charg√© toutes les donn√©es, les deux appareils entreront dans l'√©tat de contigu√Øt√© COMPLET. <br><br>  Je note qu'avec une connexion bidirectionnelle, le p√©riph√©rique est simplement dans l'√©tat de proximit√© et l'√©tat de pleine contigu√Øt√© n'est possible qu'entre les routeurs, DR et BDR. Cela signifie que chaque routeur informe DR des changements dans le r√©seau, et tous les routeurs apprennent ces changements √† partir de DR <br><br>  Le choix du DR et du BDR est une question importante.  Consid√©rez comment la s√©lection de DR dans un environnement commun.  Supposons que dans notre circuit il y ait trois routeurs et un commutateur.  Tout d'abord, les p√©riph√©riques OSPF comparent la priorit√© dans les messages Hello, puis comparez l'ID du routeur. <br><br>  L'appareil avec la priorit√© la plus √©lev√©e devient DR. Si les priorit√©s des deux appareils correspondent, alors des deux appareils, l'appareil avec l'ID de routeur le plus √©lev√© est s√©lectionn√©, qui devient DR <br><br>  Un p√©riph√©rique avec la deuxi√®me priorit√© ou le deuxi√®me ID de routeur le plus important devient le routeur BDR d√©di√© de sauvegarde. Si DR √©choue, il sera imm√©diatement remplac√© par BDR. Il commencera √† jouer le r√¥le de DR et le syst√®me choisira un autre BDR. <br><br><img src="https://habrastorage.org/webt/na/i3/ss/nai3ssrsisjj-sdy7hc0hxnp6cg.jpeg"><br><br>  J'esp√®re que vous avez compris le choix de DR et BDR, sinon, je reviendrai sur ce probl√®me dans l'une des vid√©os suivantes et expliquerai ce processus. <br><br>  Nous avons donc examin√© ce qu'est Hello, une description du descripteur de base de donn√©es et des messages LSR, LSU et LSA.  Avant de passer au sujet suivant, parlons un peu du co√ªt de l'OSPF. <br><br><img src="https://habrastorage.org/webt/ts/ma/ct/tsmact54hpjwyrgvpdot7xop_cu.jpeg"><br><br>  Chez Cisco, le co√ªt d'un itin√©raire est calcul√© √† l'aide de la formule du rapport entre la bande passante et la bande passante de r√©f√©rence, qui par d√©faut est suppos√©e √™tre de 100 Mbps, par rapport au co√ªt du canal.  Par exemple, lors de la connexion de p√©riph√©riques via un port s√©rie, la vitesse est de 1,544 Mb / s et le co√ªt est de 64. Lors de l'utilisation d'une connexion Ethernet avec une vitesse de 10 Mb / s, le co√ªt est de 10 et le co√ªt d'une connexion FastEthernet avec une vitesse de 100 Mb / s sera de 1. <br><br>  Lorsque vous utilisez Gigabit Ethernet, nous avons une vitesse de 1000 Mbps, mais dans ce cas, la vitesse est toujours suppos√©e √™tre 1. Ainsi, si vous avez Gigabit Ethernet sur votre r√©seau, vous devez changer la valeur par d√©faut R√©f.  BW pour 1000. Dans ce cas, le co√ªt sera de 1 et la table enti√®re sera recalcul√©e avec une augmentation de la valeur de 10 fois.  Apr√®s avoir form√© le quartier et construit la base de donn√©es LSDB, nous proc√©dons √† la construction de la table de routage. <br><br><img src="https://habrastorage.org/webt/bh/_p/rt/bh_prtlzefjqlznmehubb6_ndnw.jpeg"><br><br>  Apr√®s avoir re√ßu le LSDB, chacun des routeurs proc√®de ind√©pendamment pour former une liste de routes en utilisant l'algorithme SPF.  Dans notre sch√©ma, le routeur A cr√©era une telle table pour lui-m√™me.  Par exemple, il calcule le co√ªt de l'itin√©raire A-R1 et le d√©termine √©gal √† 10. Pour simplifier la compr√©hension du sch√©ma, supposons que le routeur A d√©termine l'itin√©raire optimal vers le routeur B. Le co√ªt de la connexion A-R1 est 10, la connexion A-R2 est 100 et le co√ªt de l'itin√©raire A-R3 est 11, c'est-√†-dire la somme des routes A-R1 (10) et R1-R3 (1). <br><br>  Si le routeur A veut se rendre au routeur R4, il peut le faire le long de la route A-R1-R4 ou le long de la route A-R2-R4, et dans les deux cas, le co√ªt des routes sera le m√™me: 10 + 100 = 100 + 10 = 110.  La route A-R6 co√ªtera 100 + 1 = 101, ce qui est d√©j√† mieux.  Ensuite, nous consid√©rons le chemin vers le routeur R5 le long de la route A-R1-R3-R5, dont le co√ªt sera 10 + 1 + 100 = 111. <br><br>  Le chemin vers le routeur R7 peut √™tre trac√© le long de deux itin√©raires: A-R1-R4-R7 ou A-R2-R6-R7.  Le co√ªt du premier sera de 210, le second - 201, vous devez donc choisir 201. Ainsi, pour atteindre le routeur B, le routeur A peut utiliser 4 routes. <br><br><img src="https://habrastorage.org/webt/1r/uf/3p/1ruf3pxrl5k0fwwd6zdd2sm6b9w.jpeg"><br><br>  Le co√ªt de la route A-R1-R3-R5-B sera de 121. La route A-R1-R4-R7-B co√ªtera 220. La route A-R2-R4-R7-B co√ªte 210 et A-R2-R6-R7- B a un co√ªt de 211. Sur cette base, le routeur A s√©lectionne l'itin√©raire avec le co√ªt le plus bas √©gal √† 121 et le place dans la table de routage.  Il s'agit d'un diagramme tr√®s simplifi√© du fonctionnement de l'algorithme SPF.  En fait, le tableau contient non seulement les d√©signations des routeurs par lesquels la route optimale passe, mais √©galement les d√©signations des ports les reliant et toutes les autres informations n√©cessaires. <br><br>  Prenons un autre sujet qui concerne les zones de routage.  Habituellement, lors de la configuration des p√©riph√©riques OSPF d'une entreprise, ils sont tous dans une zone commune. <br><br><img src="https://habrastorage.org/webt/d3/5z/rq/d35zrq0teeueeyun9lmth9efqic.jpeg"><br><br>  Que se passe-t-il si un appareil connect√© au routeur R3 tombe soudainement en panne?  Le routeur R3 commencera imm√©diatement √† envoyer un message aux routeurs R5 et R1 indiquant que le canal avec cet appareil ne fonctionne plus, et tous les routeurs commenceront √† √©changer des mises √† jour sur cet √©v√©nement. <br><br><img src="https://habrastorage.org/webt/of/qn/ce/ofqnceag0vtmjmpd-dddu3vja_o.jpeg"><br><br>  Si vous avez 100 routeurs, tous mettront √† jour les informations sur l'√©tat des canaux, car ils se trouvent dans la m√™me zone commune.  La m√™me chose se produira si l'un des routeurs voisins tombe en panne - tous les appareils de la zone √©changeront des mises √† jour LSA.  Apr√®s avoir √©chang√© de tels messages, la topologie du r√©seau elle-m√™me changera.  Une fois que cela se produit, le SPF recalcule les tables de routage en fonction des conditions modifi√©es.  C'est un processus tr√®s long, et si vous avez mille appareils dans une zone, vous devez contr√¥ler la taille de la m√©moire des routeurs afin qu'il soit suffisant de stocker tous les LSA et une √©norme base de donn√©es de l'√©tat des canaux LSDB.  D√®s que des changements se produisent dans une partie de la zone, l'algorithme SPF recalcule imm√©diatement les itin√©raires.  Par d√©faut, le LSA est mis √† jour toutes les 30 minutes.  Ce processus ne se produit pas simultan√©ment sur tous les appareils, cependant, dans tous les cas, les mises √† jour sont effectu√©es par chaque routeur avec une fr√©quence de 30 minutes.  Plus d'appareils r√©seau.  Plus il faut de m√©moire et de temps pour mettre √† jour le LSDB. <br><br>  Vous pouvez r√©soudre ce probl√®me en divisant une zone commune en plusieurs zones distinctes, c'est-√†-dire en utilisant le multi-zonage.  Pour ce faire, vous devez disposer d'un plan ou d'un diagramme de l'ensemble du r√©seau que vous g√©rez.  ZONE ZONE AREA 0 est votre zone principale.  C'est l'endroit o√π vous vous connectez √† un r√©seau externe, par exemple, l'acc√®s √† Internet.  Lorsque vous cr√©ez de nouvelles zones, vous devez √™tre guid√© par la r√®gle: chaque zone doit avoir un ABR, Area Border Router.  Le routeur fronti√®re a une interface dans une zone et une seconde interface dans une autre zone.  Par exemple, le routeur R5 a des interfaces dans la zone 1 et la zone 0. Comme je l'ai dit, chacune des zones doit √™tre connect√©e √† la zone z√©ro, c'est-√†-dire avoir un routeur p√©riph√©rique, dont l'une des interfaces est connect√©e √† la ZONE 0. <br><br><img src="https://habrastorage.org/webt/so/lw/yu/solwyugzi0kcniowromdhqrf4em.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supposons que la connexion R6-R7 soit hors service. </font><font style="vertical-align: inherit;">Dans ce cas, la mise √† jour LSA sera distribu√©e uniquement dans la zone AREA 1 et ne concernera que cette zone. </font><font style="vertical-align: inherit;">Les appareils des zones 2 et 0 ne le savent m√™me pas. </font><font style="vertical-align: inherit;">Le routeur fronti√®re R5 r√©sume les informations sur ce qui se passe dans sa zone et envoie √† la zone principale AREA 0 les informations totales sur l'√©tat du r√©seau. </font><font style="vertical-align: inherit;">Les p√©riph√©riques d'une zone n'ont pas besoin d'√™tre au courant de toutes les modifications LSA dans d'autres zones, car le routeur ABR transmet des informations r√©capitulatives sur les itin√©raires d'une zone √† une autre. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous n'√™tes pas compl√®tement clair sur le concept de zones, vous pouvez en savoir plus dans la prochaine le√ßon lorsque nous allons configurer le routage OSPF et consid√©rer quelques exemples.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BDSrDuTRo0Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</a> aux Pays-Bas!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $!</b></b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466449/">https://habr.com/ru/post/fr466449/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466439/index.html">V√©rifiez vous-m√™me: combien de questions pouvez-vous r√©pondre √† ChGK?</a></li>
<li><a href="../fr466441/index.html">Code buggy Python: 10 erreurs les plus courantes que les d√©veloppeurs font</a></li>
<li><a href="../fr466443/index.html">ShIoTiny et le monde: capteurs analogiques ou ADC pour les plus petits</a></li>
<li><a href="../fr466445/index.html">Attaques entre approbations entre domaines</a></li>
<li><a href="../fr466447/index.html">Pourquoi devrions-nous construire un CDN?</a></li>
<li><a href="../fr466451/index.html">Read_You can't_throw</a></li>
<li><a href="../fr466453/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 45. Configuration d'OSPF</a></li>
<li><a href="../fr466455/index.html">Services, microservices et programmation orient√©e batch</a></li>
<li><a href="../fr466457/index.html">Agriculture et panneaux solaires - strat√©gie gagnant-gagnant pour les ing√©nieurs √©lectriciens et les agriculteurs</a></li>
<li><a href="../fr466459/index.html">Tests d'int√©gration parall√®le Postgresql dans l'application GO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>