<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚵🏼 🚍 🚫 UDB。 这是什么 🍇 🏦 🤙🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在我有关使用赛普拉斯的UDB微控制器模块PSoC控制RGB LED的文章的评论中，建议在文章开头简要介绍一下UDB是什么是很好的。 正如我已经在文章中指出的那样，我无法简短地介绍UDB，但是您可以简单地将公司文档传送给它，以使家用阅读器熟悉如此强大的工具来实现固件功能。 


 但是首先，让我们看一...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB。 这是什么</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432764/"><img src="https://habrastorage.org/webt/-g/uu/1k/-guu1klnqoqlqkjqj0jhxdp87o0.jpeg"><br><br> 在我<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有关使用赛普拉斯的UDB微控制器模块PSoC控制RGB LED的文章</a>的评论中<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">，</a>建议在文章开头简要介绍一下UDB是什么是很好的。 正如我已经在文章中指出的那样，我无法简短地介绍UDB，但是您可以简单地将公司文档传送给它，以使家用阅读器熟悉如此强大的工具来实现固件功能。 <br><a name="habracut"></a><br><br> 但是首先，让我们看一下PSoC的全部含义。  PSoC是赛普拉斯的一系列芯片组，用于实施片上系统。 不同的系列具有不同的处理器内核（对于PSoC 3，它是MCS-51;对于PSoC 4，它是Cortex M0;对于PSoC 5LP，它是Cortex M3;对于PSoC 6，它一次是两个：Cortex M0 +和Cortex M4）和一组可编程逻辑。 而且，这种逻辑不是纯数字的；那里有模拟的东西。 除了一组不同的ADC外，还有模拟开关。 您甚至可以通过模拟电路以编程方式连接支脚，但是，电路的电阻将以千克为单位。  PSoC内部有可以通过编程方式切换的运算放大器，这意味着您可以在其上构建不同的模拟模块。 <br><br> 顺便说一下，PSoC可以由2.7至5.5伏的任何电压供电。 也就是说，您无需考虑使用电池电源或USB电源的任何稳定器。 <br><br> 但是我纯粹是用一个红字写关于模拟事物的文章。 现在，我们将专注于数字事物。 大多数现代控制器具有功能强大的外围设备，可提供多种功能。 但是实际上，在每个特定的软件开发中，这些模块并未得到充分利用，而只是部分使用。 而且在PSoC中，与传统的FPGA逻辑类似，实现了程序逻辑，而不是一堆好的逻辑。 因此，通过将它们包括在所需的那些模式中，可以精确地实现在其上所需的那些块。 并且资源不应该花费在未使用的模式上，而将它们分配给实现某种自己的事物。 <br><br> 在这里经常会产生一些误解。 许多开发人员已经习惯了存在两种类型的可编程逻辑集成电路（FPGA）：CPLD和FPGA。 因此，许多听说过PSoC的人都相信，存在一种可以在Veriolg中编程的CPLD盒。 实际上，是和否。 确实有一定数量的PLD（不带“ C”，只有PLD），您可以在Verilog上对其进行编程。 但是实际上，这些PLD是UDB模块的一部分。 而UDB是在PSoC中实现的可编程逻辑的主要元素。 该块是非常原始的，为开发人员提供了最广泛的机会。 考虑公司文档中的图，该图说明了使用UDB块的本质。 <br><br><img src="https://habrastorage.org/webt/ge/96/v7/ge96v7q6f8qwol5v38hqy1qfook.png"><br><br> 由于我以PSoC 5LP系列为例学习了所有内容，因此我将其文档翻译成本文。 但是，在开始之前，我先说说这些控制器的价格。 如果您去Ali Express看看他们的面包板，就会感到难过。 坦白地说，与STM32-DISCOVERY相比，它们仍然是什么，但与STM32F103C8T6原型相比，它们有点贵。 首先，这是由于公司实体模型始终没有一个，而是两个这样的控制器这一事实。 即使目标控制器和PSoC 4（后者通常不具有USB端口），JTAG功能也会在PSoC 5LP上实现。 <br><br> 但是将价格除以二，我们仍然可以得到它的价格高于STM32F103的价格，后者在处理器内核上相似。 但是，如果我们从外部甚至将最简单的CPLD添加到完全相同的STM32中，那么总价格将对PSoC有利。 并且，我们将在这两种情况的连接中添加一些遗漏的部分（PSoC内部具有所有连接）。 以及木板每平方厘米的价格。 因此，事实证明，如果您只需要使用处理器内核，则实际上不需要PSoC。 如果需要将某些功能带入固件或硬件级别，则需要PSoC。 在它上面，该系统将变得更便宜，更容易。 <br><br> 实际上，我有一个狂躁的想法，试图为我们的RTOS MAX内核提供硬件支持。 为此，我研究了开发用于Altera V SoC的Bare Metal应用程序的方法（可惜，事实证明，那里的体系结构功能可以降低操作系统的速度，但您不能加快它的速度-对硬件的单个请求会带来疯狂的延迟）。 为此，我开始精通PSoC。 我还没有达到内核超频（只有一般的想法），但是我真的很喜欢UDB编程的想法。 当然，我现在有兴趣将这种想法带给尽可能多的国内程序员。 因此，我们着手翻译UDB上赛普拉斯专有文档的相应部分。 章和附图的编号根据原始文件进行维护。 <br><br> 循环的一般内容“ UDB。 这是什么？ <br> 第1部分。简介。 请  （当前文章） <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第2部分。数据路径。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第3部分。数据路径FIFO。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第4部分。数据路径ALU。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第5部分。数据路径。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">有用的小东西。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第6部分。管理和状态模块。</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第7部分。时序和复位控制模块</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">第8部分。处理UDB</a> <br><br><h1>  UDB。 这是什么 第一部分 </h1><br><h2>  21.通用数字模块 </h2><br> 在本章中，我们将研究通用数字模块（UDB）如何实现可编程数字外设功能的开发。  UDB体系结构在配置的粒度和有效的实现之间取得了平衡。  UDB由类似于可编程逻辑矩阵（PLM，英文PLD）的非换向逻辑，结构化逻辑（操作机，以下称为数据路径）和灵活的跟踪方案组成。 <br><br><h3>  21.1功能 </h3><br><ul><li> 为了获得最佳的灵活性，每个UDB都包含以下组件： <br> 基于8位指令存储库，几个寄存器和FIFO缓冲区的基于ALU（算术和逻辑单元，ALU）的8位数据路径； <br>  •两个PLD，每个PLD具有12个输入，八个连词（产品术语PT）和四个宏单元输出； <br>  •管理和状态寄存器； <br>  •时钟和复位模块。 </li><li>  PSoC 5LP包含最大为24 UDB的阵列。 </li><li>  UDB数组元素之间的灵活跟踪。 </li><li>  UDB元素可以拆分或链接以创建更大的功能。 </li><li> 灵活实现多种数字功能，包括计时器，计数器，脉宽调制器（包括带有死区发生器的PWM），UART，I2C总线，SPI总线和CRC验证/生成。 </li></ul><br><h3>  21.2框图 </h3><br> 图21-1将UDB构造为包含两个基本逻辑块（PLD，数据路径）以及控制，状态，时钟和复位功能的结构。 <br><br><img src="https://habrastorage.org/webt/fo/zu/co/fozucosb4fhjohp6uuhbi1-onzq.png"><br>  <i>图21-1。</i>  <i>UDB的框图。</i> <br><br><h3>  21.3工作原理 </h3><br>  UDB的主要组件是： <br><br><ul><li>  PLD（2）。 来自跟踪资源的数据被馈送到这些块的输入。 它们实现了组合逻辑和数据捕捉，从而允许您实现有限状态机，控制Datapath块的操作，配置输入条件和控制输出。 </li><li> 数据路径。 该模块包含动态可编程的ALU，四个寄存器，两个FIFO缓冲器，比较器和条件生成。 </li><li> 管理和状态（状态和控制）。 这些模块提供了用于中央处理器（CPU）的微程序交互以及与UDB操作同步的机制。 控制寄存器作用于内部元件，状态寄存器读取外部元件的状态。 </li><li> 时钟和复位控制 这些模块在UDB中提供时序选择和启用以及复位选择。 </li><li> 链接信号。  PLD和数据路径具有允许您将链中的相邻块链接在一起以创建更高位功能的信号。 </li><li> 追踪渠道  UDB通过可编程交换矩阵连接到跟踪通道，以在同一UDB内的块之间进行通信，并与阵列中的其他UDB进行通信。 </li><li> 系统总线接口（系统总线接口）。 每个UDB中的所有寄存器和RAM都投影到系统地址空间上，可以使用中央处理器或通过8位和16位形式的直接内存访问（英文直接内存访问，DMA）来访问它们。数据。 </li></ul><br><h4>  21.3.1。  ld </h4><br> 每个UDB有两个12C4 PLD。 图21-1中所示的PLD块可用于实现状态机，处理I / O数据以及创建表逻辑（例如，查找表，LUT）。 此外，可以将PLD配置为执行算术功能，设置数据路径序列并生成状态。 通用逻辑可以合成并投影到PLD块上。 本节概述了PLD体系结构。 <br><br>  PLD具有12个输入，这些输入将AND数组中的信息转换为8个连接项。 在每个连词中，您可以选择直接输入（true，T）或反向输入（complement，C）。 连词的输出进入“或”数组的输入。  12C4中的字母“ C”表示“或”项对于所有输入都是恒定的，并且每个“或”输入都可以通过编程方式访问任何连接词。 这种结构提供了最大的灵活性，并确保可以移动所有输入和输出。 <br><br><img src="https://habrastorage.org/webt/j8/f9/c7/j8f9c7wdwgm9s5gedhb7swc8i08.png"><br>  <i>图21-2。</i>  <i>PLD 12C4的结构。</i> <br><br><h4>  21.3.1.1宏PLD </h4><br> 宏小区的架构如图21-3所示。 输出控制跟踪阵列，可以锁存或拉曼。 对于锁存，使用具有直接或反向输入的D触发器或具有高或低输入电平的T触发器。 输出触发器可以在初始化期间设置或重置，或者在正常操作期间通过来自跟踪通道的外部信号异步设置或重置。 <br><br><img src="https://habrastorage.org/webt/fo/rg/1w/forg1w4bmsa7n4mjt27c5mucwss.png"><br>  <i>图21-3。</i>  <i>宏单元架构。</i> <br><br>  <b>只读PLD宏单元寄存器</b> <br> 除了控制跟踪阵列以外，两个PLD的宏单元输出都以8位只读寄存器的形式投影到地址空间上，可以使用CPU或DMA对其进行访问。 <br><br><img src="https://habrastorage.org/webt/a5/oc/zc/a5oczcwt1zvvzivxmrgbcc_opju.png"><br>  <i>图21-4。</i>  <i>只读PLD宏单元寄存器。</i> <br><br><h4>  21.3.1.2连字链PLD </h4><br>  PLD在UDB寻址中捆绑在一起。 如图21-5所示，selin进位链的输入通过两个PLD中的每个宏单元从前一个UDB转发到电路，然后作为选择进位链的输出转发到下一个UDB。 为了支持有效放置算术函数，会生成特殊的连词（PT），将其与宏连字链一起在宏单元中使用。 <br><br><img src="https://habrastorage.org/webt/ms/fi/ai/msfiaihduu5-28whmd5iethri9y.png"><br>  <i>图21-5。</i>  <i>PLD连字链和特殊的连词输入。</i> <br><br><h4>  21.3.1.3 PLD配置 </h4><br> 每个PLD以具有16位访问权限的RAM形式出现在CPU或DMA之前。  AND阵列具有12×8×2位或24个字节用于编程，而OR阵列具有4×8位或4个字节用于编程。 另外，每个宏单元具有一个配置字节，每个PLD总共32个配置字节。 由于每个UDB具有2个PLD，所以每个UDB的总配置为64字节。 <br><br> 下次，我们将考虑操作自动机（数据路径）。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN432764/">https://habr.com/ru/post/zh-CN432764/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN432752/index.html">蚂蚁山还是堡垒？ 我要以公寓价格建造房屋。 3部分。 电源供应</a></li>
<li><a href="../zh-CN432754/index.html">数据存储在内存和磁盘上将公开</a></li>
<li><a href="../zh-CN432756/index.html">我们实现了可访问性支持，而无需更改移动应用程序的视觉组件</a></li>
<li><a href="../zh-CN432760/index.html">矢量产品视图，或Word2Vec模型的另一种用法</a></li>
<li><a href="../zh-CN432762/index.html">AI谎言检测器可以检测人何时说谎</a></li>
<li><a href="../zh-CN432766/index.html">如何在指纹中编码秘密消息</a></li>
<li><a href="../zh-CN432768/index.html">用于“系列马拉松”的无线耳机：在杜比中，售价为599美元</a></li>
<li><a href="../zh-CN432770/index.html">僵尸网络及其类型：2018年的已知知识</a></li>
<li><a href="../zh-CN432772/index.html">我们如何制作符合GDPR的广告活动服务</a></li>
<li><a href="../zh-CN432774/index.html">前端开发日。 报告记录</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>