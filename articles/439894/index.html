<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñºÔ∏è ‚úãüèΩ üëãüèª C√≥mo simplemente monitorear el estado del sitio üèÇ üéöÔ∏è üëÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para controlar de forma remota el rendimiento de los servidores, los profesionales utilizan sistemas de software especiales, como Zabbix o Icinga . Pe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo simplemente monitorear el estado del sitio</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439894/"> Para controlar de forma remota el rendimiento de los servidores, los profesionales utilizan sistemas de software especiales, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Zabbix</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Icinga</a> .  Pero, si usted es un propietario novato o administrador de uno o dos sitios web con una carga peque√±a, entonces no hay necesidad de grandes sistemas de monitoreo.  El par√°metro principal es si el sitio sirve r√°pidamente a los usuarios.  Por lo tanto, puede monitorear el trabajo del sitio utilizando un programa simple desde cualquier computadora conectada a Internet. <br><br><img src="https://habrastorage.org/webt/qx/fj/tq/qxfjtqd07g37gx2eq8ksz80wtfm.jpeg" alt="Foto de Mikhail Vasiliev, Unsplash.Com" title="Foto de Mikhail Vasiliev, Unsplash.Com"><br><br>  Escribamos este script ahora: el monitoreo m√°s simple de la disponibilidad y la velocidad del sitio.  Este programa se puede ejecutar en una computadora dom√©stica, tel√©fono inteligente, etc.  El programa tiene solo dos funciones: <br><br><ul><li>  muestra en la pantalla el tiempo durante el cual su sitio ofrece p√°ginas a los usuarios, </li><li>  en caso de respuestas lentas del sitio o errores, el programa escribe datos en un archivo (un "registro" o un archivo de registro).  Vale la pena verificar estos datos de vez en cuando para solucionar problemas cuando reci√©n comienzan.  Por lo tanto, nos encargaremos de registrar estos registros de forma clara y conveniente para una visualizaci√≥n r√°pida. </li></ul><br>  Describir√© cada paso en detalle para que incluso un principiante que est√© un poco familiarizado con la escritura de archivos por lotes (bat y cmd en DOS y Windows, sh en sistemas como UNIX) pueda resolverlo sin problemas y pueda adaptar el script a sus necesidades.  <b>Pero le pido que no use este script sin pensar, porque si se usa incorrectamente, puede no dar resultados adecuados y, adem√°s, engullir mucho tr√°fico</b> . <br><br>  Describir√© un script para un sistema operativo como Linux y su uso en una computadora dom√©stica.  Por los mismos principios, esto se puede hacer en otras plataformas.  Y para aquellos que solo est√°n mirando las posibilidades de Linux, un ejemplo m√°s puede ser interesante, qu√© herramienta tan simple y poderosa son sus scripts. <br><a name="habracut"></a><br><h3>  1. Organizaci√≥n primero </h3><br>  Crearemos una carpeta separada para este programa y crearemos 3 archivos en √©l.  Por ejemplo, tengo esta carpeta / home / me / Progs / iNet / monitor (aqu√≠ estoy el nombre de mi usuario, Progs / iNet es mi carpeta para programas relacionados con Internet, y monitor es el nombre de este programa, de la palabra monitor, es decir Como soy el √∫nico usuario de esta computadora, guardo dichos archivos entre mis carpetas personales (/ home) en una secci√≥n separada del disco, lo que me permite guardarlos al reinstalar el sistema).  En esta carpeta habr√° archivos: <br><br><ul><li>  README.txt: aqu√≠ hay una descripci√≥n (en caso de esclerosis): qu√© tipo de programa, informaci√≥n b√°sica, etc. </li><li>  mon.sh: habr√° un programa que sondea el sitio. </li><li>  server.log: aqu√≠ registrar√° los indicadores de estado del sitio.  En nuestro caso, esto es simplemente la fecha, hora y duraci√≥n de la respuesta del sitio (m√°s informaci√≥n adicional si el servidor responde con un error con nuestra solicitud). </li></ul><br>  (Para la conveniencia de editar y, en todo caso, restaurar archivos, puede incluir esta carpeta en el sistema de control de versiones de Git; aqu√≠ no la describir√©). <br><br><h3>  2. Persistente y relajado </h3><br>  Ejecutaremos el archivo mon.sh con un peque√±o intervalo regular, por ejemplo, 60 segundos.  Utilic√© la herramienta est√°ndar proporcionada por el sistema operativo (m√°s precisamente, el entorno de escritorio). <br><br>  Mi entorno de escritorio es Xfce.  Esta es una de las opciones m√°s populares para Linux.  Me gusta Xfce porque te permite personalizar casi por completo todo el entorno, tal como lo deseas.  Al mismo tiempo, Xfce es algo m√°s compacto y m√°s r√°pido que otros dos sistemas conocidos: Gnome y KDE.  (Otras opciones tambi√©n son interesantes, por ejemplo, el entorno LXDE es a√∫n m√°s r√°pido y f√°cil que Xfce, pero hasta ahora no es tan rico en funciones). <br><br>  La herramienta que necesitamos, en el caso de Xfce, es un complemento para el panel de trabajo del Monitor gen√©rico.  Por lo general, ya est√° instalado, pero si no, el instalador lo encontrar√° f√°cilmente: "Genmon" (descripci√≥n: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">xfce4-genmon-plugin</a> ).  Este es un complemento que se puede agregar al panel y establecer en la configuraci√≥n: (1) el comando que se ejecutar√° y (2) la frecuencia de su ejecuci√≥n en segundos.  En mi caso, el comando: <br><br>  /home/me/Progs/iNet/monitor/mon.sh <br><br>  (o, de manera equivalente, ~ / Progs / iNet / monitor / mon.sh). <br><br><img src="https://habrastorage.org/webt/2w/pc/sz/2wpcszhqlfhyao4_qg6bpkrillw.png" alt="Genmon" title="Genmon"><br><br><h3>  3. Cuando el programa a√∫n no existe, ya hay errores </h3><br>  Si ya ha completado todos estos pasos (archivos creados e iniciado el complemento en el panel), ver√° el resultado de iniciar nuestro programa all√≠ (mensaje de error: el archivo mon.sh no es un programa).  Luego, para hacer que el archivo sea ejecutable, vaya a nuestra carpeta y configure su permiso para ejecutar: <ul><li>  o administrador de archivos: Propiedades - Permisos - Permitir que este archivo se ejecute como un programa; </li><li>  o un comando desde la terminal: <b>chmod 755 mon.sh</b> </li></ul><br>  Y en el archivo mismo, escribimos las primeras l√≠neas: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # Monitor server responses (run this every 60 seconds): # info=$(curl -I -o /dev/stdout -w '%{time_total}' --url https://example.ru/ -m 9 -s) errr=$(echo $?)</span></span></code> </pre> <br>  En lugar de "example.ru", sustituya el nombre de su sitio, cuyo estado observar√°.  Y si funciona en http, coloque http en lugar de https.  La l√≠nea #! / Bin / bash significa que este es un script que lanzar√° el programa Bash ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bash</a> es probablemente el m√°s com√∫n para ejecutar scripts en Linux).  Para trabajar a trav√©s de otro shell, se indica en lugar de Bash.  Las l√≠neas restantes con un filo al principio son comentarios.  La primera l√≠nea de c√≥digo en s√≠ es <b>info = $ ()</b> y en estos corchetes est√° el comando curl con par√°metros.  Tal construcci√≥n, algo = $ (algo), significa "ejecutar el comando entre par√©ntesis y asignar el resultado a la variable de la izquierda".  En este caso, llam√© a la variable "informaci√≥n".  Este comando entre par√©ntesis (curl (en la jerga conocida por algunos como "Kurl") env√≠a una solicitud a la red en la direcci√≥n especificada y nos devuelve la respuesta del servidor.  (Mi conocido dijo, explicando: "C√≥mo gru√±e la gr√∫a, y recibe una respuesta de otra gr√∫a en el cielo").  Considere las opciones: <br><br><pre> <code class="bash hljs">curl -I -o /dev/stdout -w <span class="hljs-string"><span class="hljs-string">'%{time_total}'</span></span> --url https://example.ru/ -m 9 -s</code> </pre><br>  <b>-Quiero</b> decir que no solicitamos la p√°gina completa, sino solo sus "encabezados HTTP".  Cada vez que no necesitamos el texto completo de la p√°gina para asegurarnos de que el sitio funciona.  Como revisaremos el sitio con frecuencia, es importante hacer que el tama√±o de los datos transmitidos sea lo m√°s peque√±o posible.  Esto ahorra tr√°fico y electricidad, y la carga en el servidor, y la vida silvestre. <br><br>  Por cierto, preste atenci√≥n a la cantidad de tr√°fico adicional que tiene (no utilizado por mes) en el alojamiento.  A continuaci√≥n ver√° cu√°ntos datos se transmiten y puede calcular si tiene suficientes reservas;  en todo caso, el per√≠odo de verificaci√≥n del sitio se puede aumentar a 5, 10 o incluso 30-60 minutos.  Aunque en este caso la imagen no ser√° tan completa, y las interrupciones menores pueden pasar desapercibidas;  pero, en general, al monitorear un sitio, es m√°s importante detectar problemas a largo plazo que una sola interrupci√≥n.  Adem√°s, ¬øqu√© tr√°fico puede permitirse en la computadora que llama?  En mi caso, una PC de escritorio con tr√°fico ilimitado, esto no es tan importante;  pero para un dispositivo m√≥vil o tarifa con l√≠mites, vale la pena calcular y, posiblemente, aumentar los intervalos de inspecci√≥n. <br><br><h3>  4. El paso sigue al paso excepto el primer paso </h3><br>  Vayamos m√°s all√°: <b>-o / dev / stdout</b> significa "enviar la respuesta recibida por Kurl del servidor a tal o cual archivo".  Y en este caso, este no es un archivo en el disco, sino / dev / stdout: dispositivo de salida est√°ndar.  Por lo general, el "dispositivo de salida est√°ndar" es nuestra pantalla donde podemos ver los resultados del programa.  Pero en el script, a menudo dirigimos esta "salida est√°ndar" para su posterior procesamiento (ahora, gu√°rdelo en la variable de informaci√≥n).  Y luego, la mayor√≠a de las veces, enviaremos los resultados de los equipos a variables o los pasaremos a los siguientes equipos en una cadena.  Para crear cadenas a partir de comandos, use el operador de tuber√≠a ("Pipe"), que se muestra como una barra vertical ("|"). <br><br>  <b>-w '% {time_total} eyayu'</b> : aqu√≠ -w significa "formatear y dar tal informaci√≥n adicional a un dispositivo de salida est√°ndar".  Espec√≠ficamente, estamos interesados ‚Äã‚Äãen time_total: cu√°nto tiempo llev√≥ la transmisi√≥n de solicitud-respuesta entre nosotros y el servidor.  Probablemente sepa que hay un comando m√°s simple, ping, para solicitar r√°pidamente un servidor y obtener una respuesta de √©l, pong.  Pero Ping solo verifica que el servidor de alojamiento est√© vivo, y la se√±al va y viene por tanto tiempo.  Esto muestra la velocidad m√°xima de acceso, pero a√∫n no nos dice nada acerca de qu√© tan r√°pido el sitio produce contenido real.  Ping puede funcionar r√°pidamente y, al mismo tiempo, el sitio puede ralentizarse o no funcionar, debido a una gran carga o algunos problemas internos.  Por lo tanto, usamos exactamente Kurla y obtenemos la hora real en que el servidor muestra nuestro contenido. <br><br>  (Y con este par√°metro puede juzgar si el servidor funciona de manera eficiente para sus tareas, si su tiempo de respuesta t√≠pico es conveniente para los usuarios. No hay problemas, por ejemplo, mis sitios en muchos sitios de alojamiento se han ralentizado con el tiempo, y tuve que buscar otro alojamiento). <br><br>  ¬øHas notado las extra√±as letras "eyu" despu√©s de {time_total}?  Los agregu√© como una etiqueta √∫nica, que probablemente no estar√° en los encabezados que nos env√≠an desde el servidor (aunque hacer suposiciones sobre lo que sus usuarios tendr√°n y no tendr√°n es una mala forma y el camino hacia el abismo. ¬°No haga esto! ... O, cuando lo haga , al menos avergonzarse de ti).  Con esta etiqueta (espero), podemos extraer f√°cilmente la informaci√≥n que necesitamos de un mont√≥n de l√≠neas en la variable de informaci√≥n.  Entonces, <b>curl -w '% {time_total} ehayu'</b> (con los par√°metros restantes correctos) nos dar√° algo como: <br><br>  0.215238eyayu <br><br>  Esta es la cantidad de segundos que tard√≥ en acceder al sitio, m√°s nuestra etiqueta.  (Adem√°s de este par√°metro, en la variable de informaci√≥n nos interesar√° principalmente el "C√≥digo de estado": el c√≥digo de estado o, simplemente, el c√≥digo de respuesta del servidor. Por lo general, cuando el servidor emite el archivo solicitado, el c√≥digo es "200". Cuando no se encuentra la p√°gina , este es el famoso 404. Cuando hay errores en el servidor, a menudo es 500 con algo). <br><br><img src="https://habrastorage.org/webt/ka/rc/nk/karcnk8ggbptl5raex3j67k_aea.jpeg" alt="404" title="404"><br><br><h3>  5. Creatividad: el padre de la autoevaluaci√≥n </h3><br>  Los par√°metros restantes de nuestro rizo son los siguientes: <br><br><pre> <code class="bash hljs">--url https://example.ru/ -m 9 -s</code> </pre> <br>  lo que significa: solicitar tal o cual direcci√≥n;  el tiempo m√°ximo de respuesta es de 9 segundos (puede configurar menos, ya que un usuario raro esperar√° una respuesta del sitio durante tanto tiempo, r√°pidamente encontrar√° que el sitio no funciona).  Y "-s" significa silencio, es decir, curl no nos dir√° detalles innecesarios. <br><br>  Por cierto, generalmente no hay mucho espacio en el panel del escritorio, por lo tanto, para depurar un script, es mejor ejecutarlo desde la terminal (en su carpeta usando el comando ./mon.sh).  Y para nuestro complemento de panel, pondremos una larga pausa entre los lanzamientos del comando, digamos, 3600 segundos. <br><br>  Para la depuraci√≥n, podemos ejecutar este rizo sin enmarcar los corchetes y ver qu√© produce.  (A partir de esto y calcular el consumo de tr√°fico).  Veremos principalmente un conjunto de encabezados HTTP, como: <br><br><pre> <code class="plaintext hljs">HTTP/1.1 302 Found Server: QRATOR Date: Sun, 11 Feb 2019 08:06:57 GMT Content-Type: text/html; charset=UTF-8 Connection: keep-alive Keep-Alive: timeout=15 X-Powered-By: PHP/7.2.14-1+ubuntu16.04.1+deb.sury.org+1 Location: https://habr.com/ru/ X-Frame-Options: SAMEORIGIN X-Content-Type-Options: nosniff Strict-Transport-Security: max-age=63072000; includeSubDomains; preload X-Cache-Status: HIT 0.033113</code> </pre><br>  La primera l√≠nea aqu√≠ vemos "HTTP / 1.1 302 encontrado", lo que significa: el protocolo de transferencia de datos es "HTTP / 1.1", el c√≥digo de respuesta del servidor es "302 encontrado".  Al solicitar otra p√°gina, este puede ser el c√≥digo "301 movido permanentemente", etc.  En otro ejemplo, la respuesta normal de mi servidor es "HTTP / 2 200".  Si su servidor normalmente responde de manera diferente, sustit√∫yalo en lugar de ‚ÄúHTTP / 2 200‚Äù en este script. <br><br>  La √∫ltima l√≠nea, como vemos, Kurl da, en cu√°ntos segundos recibimos la respuesta del servidor, con nuestra etiqueta asignada. <br><br>  Interesante: podemos configurar el sitio para que informe sobre nuestras solicitudes (¬°y solo sobre ellas!) Informaci√≥n adicional sobre su estado, por ejemplo, en el encabezado HTTP "casero".  Digamos cu√°l es la carga en los procesadores del sitio, cu√°nta memoria libre y espacio en disco tiene y qu√© tan r√°pido funciona la base de datos.  (Por supuesto, para esto, el sitio debe ser din√°mico, es decir, las solicitudes deben ser procesadas por el programa, en PHP, Node.JS, etc. Otra opci√≥n es utilizar un software especial en el servidor).  Pero quiz√°s todav√≠a no necesitamos realmente estos detalles.  El prop√≥sito de este script es simplemente monitorear regularmente el rendimiento general del sitio.  En caso de problemas, ya nos ocuparemos del diagn√≥stico por otros medios.  Por lo tanto, ahora estamos escribiendo el script m√°s simple que funcionar√° para cualquier sitio, incluso uno est√°tico, y sin configuraciones adicionales en el servidor.  En el futuro, si lo desea, ser√° posible ampliar las capacidades del script;  Mientras tanto, haga la base. <br><br>  La cadena <b>errr = $ (echo $?)</b> Significa: escribir el resultado del comando "echo $?" En la variable errr.  El comando echo significa imprimir texto en el dispositivo de salida est√°ndar (stdout) y los caracteres "$?"  - Este es el c√≥digo de error actual (restante del comando anterior).  Entonces, si nuestro curl de repente no puede llegar al servidor, dar√° un c√≥digo de error distinto de cero, y descubriremos esto al verificar la variable errr. <br><br><h3>  6. Expediencia </h3><br>  Aqu√≠ quiero hacer una peque√±a digresi√≥n de los asuntos t√©cnicos para que leer el texto sea m√°s interesante.  (Si no est√° de acuerdo, omita tres p√°rrafos).  Dir√© que toda actividad humana es apropiada a su manera.  Incluso cuando una persona golpea intencionalmente su frente contra una pared (o en el piso ... en el teclado ...), esto tiene su propia conveniencia.  Por ejemplo, proporciona una salida para la energ√≠a emocional, tal vez no de la "mejor" manera, sino de c√≥mo puede hacerlo.  (S√≠, y el concepto mismo de "mejor" no tiene sentido desde el punto de vista de <i>este momento en este lugar</i> , porque lo mejor y lo peor son posibles solo en comparaci√≥n con otra cosa). <br><br>  Estoy escribiendo este texto ahora, en lugar de casos aparentemente m√°s importantes para m√≠, ¬øpor qu√©?  En primer lugar, para hacer un balance, revisar y clasificar internamente los estantes de lo que aprend√≠ al escribir guiones durante estos dos d√≠as ... Qu√≠telo de la RAM y gu√°rdelo.  En segundo lugar, de esta manera tengo un poco de descanso ... En tercer lugar, espero que esta explicaci√≥n masticada sea √∫til para otra persona (y para m√≠, quiz√°s alg√∫n d√≠a).  C√≥mo, no importa si es el mejor, pero un recordatorio distinto sobre el tema de los scripts y las solicitudes del servidor. <br><br>  Alguien, tal vez, me corregir√° en algo, y el resultado ser√° a√∫n mejor.  Alguien obtendr√° una pieza de informaci√≥n √∫til.  ¬øEs apropiado?  Quiz√°s ... esto es lo que puedo hacer ahora y lo estoy haciendo.  Ma√±ana, tal vez me despierte y reeval√∫e las acciones actuales ... pero esta reevaluaci√≥n tambi√©n proporcionar√° algo √∫til para la vida posterior. <br><br>  Entonces, al cumplir con la solicitud, tenemos dos datos: <br><br><ul><li>  el bloque principal de informaci√≥n del servidor (si, por supuesto, vino la respuesta del servidor), lo escribimos en la variable de informaci√≥n; </li><li>  c√≥digo de error del comando curl (0, si no hay errores): escrito en la variable errr. </li></ul><br>  Precisamente porque se necesitan ambos totales, tanto informaci√≥n como un c√≥digo de error, los escrib√≠ en variables y no pas√© de inmediato los totales de Kurl a otros equipos a trav√©s de la tuber√≠a.  Pero ahora en este script es hora de subir las tuber√≠as: <br><br><pre> <code class="bash hljs">code=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$info</span></span></span><span class="hljs-string">"</span></span> | grep HTTP | grep -v <span class="hljs-string"><span class="hljs-string">'HTTP/2 200'</span></span>) date=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$info</span></span></span><span class="hljs-string">"</span></span> | grep -i <span class="hljs-string"><span class="hljs-string">'date:'</span></span>) dlay=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$info</span></span></span><span class="hljs-string">"</span></span> | grep  | sed -e <span class="hljs-string"><span class="hljs-string">'s///'</span></span>)</code> </pre><br>  En cada una de estas l√≠neas escribimos otra variable: guardamos los resultados de la ejecuci√≥n de comandos.  Y en cada caso no es un equipo, sino una cadena;  el primer enlace es el mismo en todas partes: <b>echo "$ info"</b> : regresa al flujo del dispositivo de salida est√°ndar (stdout) el mismo bloque de informaci√≥n que guardamos, recibido de curl.  M√°s adelante, esta secuencia se pasa al comando grep.  Grep selecciona de todas las l√≠neas solo aquellas en las que coincide con el patr√≥n.  (La opci√≥n -i significa "may√∫sculas y min√∫sculas").  Como puede ver, en el primer caso seleccionamos la l√≠nea que contiene "HTTP".  Esta l√≠nea, extra√≠da del mont√≥n del resto, se pasa por la tuber√≠a al comando <b>grep -v 'HTTP / 2 200'</b> .  Aqu√≠, la <b>opci√≥n -v</b> es lo opuesto a la opci√≥n <b>-e</b> , filtra las l√≠neas donde se encuentra dicho patr√≥n.  Total, en la variable de c√≥digo habr√° una l√≠nea con el c√≥digo de respuesta del servidor (como "HTTP / 1.1 302 encontrado"), pero solo si no es 'HTTP / 2 200'.  As√≠ que filtro las l√≠neas que env√≠a mi sitio en el caso normal y guardo solo las respuestas "anormales".  (Si tiene una respuesta normal del servidor, sustit√∫yala all√≠). <br><br>  De manera similar, en la fecha variable escribimos la l√≠nea en la que el servidor emiti√≥ su fecha y hora actuales.  Esto es algo as√≠ como " <b>fecha: dom, 11 de febrero de 2019 08:06:57 GMT</b> " (generalmente en la zona horaria GMT, tambi√©n conocida como UTC).  Necesitamos escribir la fecha (¬°pero solo una vez al d√≠a!) En nuestro archivo de registro ("registro de estado del servidor") - server.log.  Y al mismo tiempo, mostraremos este tiempo en la pantalla.  Puede escribir una fecha y hora en el registro desde su computadora, pero por conveniencia las tomamos, ya que el servidor las envi√≥ de todos modos. <br><br>  Es similar con nuestra tercera variable, dlay (de la palabra inglesa delay - delay).  Seleccionamos la l√≠nea en nuestra etiqueta de licitaci√≥n "eeyu" en la que mantuvimos la duraci√≥n de la espera de una respuesta del servidor.  Eliminamos esta etiqueta, que ya no es necesaria, utilizando el comando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sed</a> , y guardamos el resultado. <br><br>  Ahora, si imprimimos estas variables para verificaci√≥n, por ejemplo, agregando las l√≠neas a nuestro script: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'errr: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$errr</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'code: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$date</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'dlay: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span></code> </pre><br>  deber√≠as obtener algo como: <br><br><pre> <code class="plaintext hljs">errr: 0 code: date: Mon, 11 Feb 2019 12:46:18 GMT dlay: 0.236549</code> </pre><br>  Total: el c√≥digo de error de curl es cero (lo que significa que funcion√≥ bien).  C√≥digo de estado del servidor: no registrado (como era normal).  Fecha y hora  La duraci√≥n de la respuesta.  Queda por mostrar correctamente lo que necesita en la pantalla y, si es necesario, escribir en un archivo. <br><br>  Esto es lo m√°s interesante: ¬øqu√©, bajo qu√© condiciones y c√≥mo grabar? <br><br><h3>  7. Conclusiones dif√≠ciles </h3><br>  Para no aburrirlo con m√°s detalles, le contar√© brevemente (y hay suficientes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">directorios buenos</a> en todos estos comandos en Internet).  Por cierto, la brevedad es uno de los objetivos principales que alcanzaremos al escribir en este registro.  Entonces ser√° conveniente para ver y nunca ocupar√° mucho espacio en disco (a diferencia de otros registros que crecen en megabytes por d√≠a). <br><br>  Primero: nos aseguramos de escribir la fecha en el registro solo una vez, y no en cada l√≠nea.  Para hacer esto, seleccione de nuestra fecha variable individualmente la fecha actual (curr) y la hora (hora): <br><br><pre> <code class="bash hljs">curr=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$date</span></span></span><span class="hljs-string">"</span></span> | sed -e <span class="hljs-string"><span class="hljs-string">'s/\(20[0-9][0-9]\).*$/\1/'</span></span>) time=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$date</span></span></span><span class="hljs-string">"</span></span> | sed -e <span class="hljs-string"><span class="hljs-string">'s/^.*\ \([0-9][0-9]:.*\)\ GMT\r$/\1/'</span></span>)</code> </pre><br>  Y tambi√©n consideramos l√≠neas con fechas del archivo de registro y tomamos la √∫ltima fecha (anterior): <br><br><pre> <code class="bash hljs">prev=$(cat /home/me/Progs/iNet/monitor/site.log | grep -e <span class="hljs-string"><span class="hljs-string">'date:'</span></span> | tail -1)</code> </pre><br>  Si nuestra fecha actual (curr) no es igual a la anterior (del archivo, anterior), entonces ha llegado un nuevo d√≠a (o, por ejemplo, el archivo de registro estaba vac√≠o);  luego escriba la nueva fecha en el archivo: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-variable"><span class="hljs-variable">$curr</span></span> != <span class="hljs-variable"><span class="hljs-variable">$prev</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$curr</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  ... y al mismo tiempo registramos la informaci√≥n actual: tiempo, demora en recibir una respuesta del sitio, c√≥digo de respuesta del sitio (si no es normal): <br><br><pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  Esto ayudar√° a navegar: tal y tal d√≠a comenz√≥ con tal y tal velocidad del sitio.  En otros casos, no abarrotemos el archivo con entradas innecesarias.  Por supuesto, lo escribiremos si obtenemos un c√≥digo de estado del servidor inusual: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [[ -n <span class="hljs-variable"><span class="hljs-variable">$code</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  Y tambi√©n escriba si el tiempo de respuesta del servidor es m√°s largo de lo habitual.  Mi sitio generalmente era responsable de 0.23-0.25 segundos, por lo que registro las respuestas que tomaron m√°s de 0.3 segundos: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> (( $(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string"> &gt; 0.3"</span></span> | bc -l) )); <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  Finalmente, una vez por hora, simplemente registro el tiempo recibido del servidor, como una se√±al de que est√° vivo, y al mismo tiempo como una especie de marcado del archivo: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> | grep -e :00: | cat &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br>  Obtenemos el contenido del archivo donde el marcado con registros por hora ayuda visualmente, sin leer, para ver cu√°ndo la carga es mayor o menor (m√°s registros por hora): <br><br><pre> <code class="plaintext hljs">19:42:28 0.461214 19:53:29 0.443956 20:00:29 20:09:30 2.156462 20:10:29 0.358294 20:45:29 0.313378 20:51:30 0.563886 20:54:30 0.307219 21:00:30 0.722343 21:01:30 0.310284 21:09:30 0.379662 21:10:31 1.305779 21:12:35 5.799455 21:23:31 1.054537 21:24:31 1.230391 21:40:31 0.461266 21:42:37 7.140093 22:00:31 22:12:37 5.724768 22:14:31 0.303500 22:42:37 5.735173 23:00:32 23:10:32 0.318207 date: Mon, 11 Feb 2019 00:00:34 0.235298 00:01:33 0.315093 01:00:34 01:37:41 5.741847 02:00:36 02:48:37 0.343234 02:56:37 0.647698 02:57:38 1.670538 02:58:39 2.327980 02:59:37 0.663547 03:00:37 03:40:38 0.331613 04:00:38 04:11:38 0.217022 04:50:39 0.313566 04:55:45 5.719911 05:00:39</code> </pre><br>  Y finalmente, mostramos informaci√≥n en la pantalla.  Y tambi√©n, si falla el curl, mostramos y escribimos un mensaje al respecto (y al mismo tiempo ejecutamos Ping e iniciamos sesi√≥n para verificar si el servidor est√° vivo): <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\n%s\n%s'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( <span class="hljs-variable"><span class="hljs-variable">$errr</span></span> != 0 )); <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> date &gt;&gt;/home/me/Progs/iNet/monitor/site.log date <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'CURL Request failed. Error: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$errr</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'CURL Request failed. Error: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$errr</span></span></span><span class="hljs-string">"</span></span> pung=$(ping -c 1 178.248.237.68) <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'Ping: %s\n----\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pung</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'Ping: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pung</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br>  Reemplace la direcci√≥n IP en la cadena de ping con la direcci√≥n IP real de su sitio. <br><br><h3>  8. Ep√≠logo </h3><br>  El resultado del trabajo: <br><br><img src="https://habrastorage.org/webt/hk/zs/v-/hkzsv-3j9g-cv-wqklt2szu37hk.jpeg" alt="El monitor de sitio web m√°s simple" title="El monitor de sitio web m√°s simple"><br><br>  A la izquierda del panel, puede ver la hora en UTC y la capacidad de respuesta actual del sitio.  A la derecha est√° el registro: es visible para el rally, incluso con un desplazamiento superficial, durante qu√© horas la carga fue m√°s o menos.  Tambi√©n puede notar respuestas anormalmente lentas (picos, aunque a√∫n no est√° claro de d√≥nde provienen). <br><br>  Eso es todo  El script result√≥ ser simple, roble, y se puede mejorar: trabajar en la optimizaci√≥n, portabilidad, mejora de notificaciones y pantallas, teniendo en cuenta el proxy y la memoria cach√© ... <br><br>  Pero ya en este tipo de programa, probablemente puede dar una idea del estado de su sitio.  ¬°Y que sea un sitio sabiamente apropiado, √∫til para las personas y todas las criaturas! <br><br><div class="spoiler">  <b class="spoiler_title">Texto completo del gui√≥n con comentarios.</b>  <b class="spoiler_title">¬°No te olvides de hacer los cambios necesarios!</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # Monitor server responses (run this every 60 seconds): info=$(curl -I -o /dev/stdout -w '%{time_total}' --url https://example.ru/ -m 9 -s) errr=$(echo $?) # errr = CURL error code https://curl.haxx.se/libcurl/c/libcurl-errors.html code=$(echo "$info" | grep HTTP | grep -v 'HTTP/2 200') date=$(echo "$info" | grep -i 'date:') dlay=$(echo "$info" | grep  | sed -e 's///') # code = Response code = 200? # =&gt; empty, otherwise response code string # # date = from HTTP Header of the server responded, like: # Date: Sun, 10 Feb 2019 05:01:50 GMT # # dlay = Response delay ("time_total") from CURL, like: # 0.25321 #printf 'errr: %s\n' "$errr" #printf 'code: %s\n' "$code" #printf '%s\n' "$date" #printf 'dlay: %s\n' "$dlay" curr=$(echo "$date" | sed -e 's/\(20[0-9][0-9]\).*$/\1/') time=$(echo "$date" | sed -e 's/^.*\ \([0-9][0-9]:.*\)\ GMT\r$/\1/') prev=$(cat /home/me/Progs/iNet/monitor/site.log | grep -e 'date:' | tail -1) # = Previously logged date, like: # date: Sun, 10 Feb 2019 # Day logged before vs day returned by the server; usually the same if [[ $curr != $prev ]]; then # Write date etc., at the beginning of every day: printf '%s\n' "$curr" &gt;&gt;/home/me/Progs/iNet/monitor/site.log printf '%s %s %s\n' "$time" "$dlay" "$code" &gt;&gt;/home/me/Progs/iNet/monitor/site.log elif [[ -n $code ]]; then # If the response had HTTP error code - log it: printf '%s %s ? %s\n' "$time" "$dlay" "$code" &gt;&gt;/home/me/Progs/iNet/monitor/site.log elif (( $(echo "$dlay &gt; 0.3" | bc -l) )); then # If the response delay was large - log it: printf '%s %s %s\n' "$time" "$dlay" "$code" &gt;&gt;/home/me/Progs/iNet/monitor/site.log else # If it's the start of an hour - just log the time echo "$time" | grep -e :00: | cat &gt;&gt;/home/me/Progs/iNet/monitor/site.log fi # To screen: printf '%s\n%s\n%s' "$time" "$dlay" "$code" # On CURL error: if (( $errr != 0 )); then date &gt;&gt;/home/me/Progs/iNet/monitor/site.log date printf 'CURL Request failed. Error: %s\n' "$errr" &gt;&gt;/home/me/Progs/iNet/monitor/site.log printf 'CURL Request failed. Error: %s\n' "$errr" pung=$(ping -c 1 178.248.237.68) printf 'Ping: %s\n----\n' "$pung" &gt;&gt;/home/me/Progs/iNet/monitor/site.log printf 'Ping: %s\n' "$pung" fi</span></span></code> </pre><br></div></div><br><br>  <b>PS.</b>  <b>Despu√©s de la discusi√≥n</b> (el 12/02/2019): <br><br>  Como esperaba, los expertos escribieron muchos comentarios interesantes. <br><br>  Despu√©s de pensarlo, puedo responder la pregunta de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">rsashka</a> , ¬øcu√°l es la ventaja de este script? <br><br>  Otras herramientas, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NetData</a> (¬°gracias a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">tchspprt</a> por la sugerencia!), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Proporcionan</a> una gran variedad de datos que no se almacenar√°n por mucho tiempo.  NetData es una buena herramienta cuando trabaja todos los d√≠as, mantiene sitios web profesionalmente.  Bueno para diagnosticar problemas actuales. <br><br>  Un gui√≥n como el m√≠o es vigilar mientras se hacen otras cosas.  La secuencia de comandos no requiere estudios y configuraciones especiales.  Esto no es malo para los laicos.  Y sus registros ocupan tan poco espacio que no se pueden borrar en absoluto.  Se pueden acumular a lo largo de los a√±os, y en los a√±os N + 1 se puede ver: "¬°Guau, en 2019, mi tiempo de respuesta fue una vez y media menor! .." <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es decir, tal soluci√≥n tiene su propio nicho, principalmente para los administradores que no son del sistema constantemente. (Como dice </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tchspprt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : "Se trata de c√≥mo alimentar al gato de un vecino en vacaciones"). </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">andreymal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aconsej√≥ una forma interesante de tener en cuenta y luego ver la carga del sitio, sin fondos adicionales, simplemente a trav√©s de los registros de acceso en el sitio. Y puedes construir hermosos gr√°ficos en ellos. Probablemente probar√© esta opci√≥n y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicar√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Github</font></a><font style="vertical-align: inherit;"> lo que sucedi√≥. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ungforgiven</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aconsej√≥ otra soluci√≥n interesante, probablemente una simple (instale prometheus, blackbox y alermanager a trav√©s de Docker Composer). En mi simple y barato VPS no es suficiente para esta memoria; y Linux con un n√∫cleo antiguo: Docker no se iniciar√°. Pero gracias por la opci√≥n! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otro consejo</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tchspprt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Grafito + Prometeo + Grafana. </font><font style="vertical-align: inherit;">O proporcione al script gr√°ficos hermosos (gnuplot o rrdtool). </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mcalexvrn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recomienda una herramienta simple: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uptimerobot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font> Gracias <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Agradezco a todos por tanta informaci√≥n! </font><font style="vertical-align: inherit;">Que sea √∫til para las personas ...</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/439894/">https://habr.com/ru/post/439894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../439882/index.html">Aventura con traza (2)</a></li>
<li><a href="../439884/index.html">C√≥mo rechazar boletines innecesarios con un solo bot√≥n. Yandex.Mail Team Experience</a></li>
<li><a href="../439886/index.html">C√≥mo ense√±√© a una red neuronal a implementar la funci√≥n de evaluaci√≥n de posici√≥n en la Copa AI de Rusia CodeBall 2018</a></li>
<li><a href="../439890/index.html">Las habilidades son 100% o menos.</a></li>
<li><a href="../439892/index.html">C√≥mo planificar para un a√±o. Estudio de caso de la empresa de TI 120 personas y dos pr√°cticas para equipos peque√±os.</a></li>
<li><a href="../439896/index.html">Etica de las contribuciones autom√°ticas.</a></li>
<li><a href="../439898/index.html">VBA y Python para automatizaci√≥n de Excel y MS Office</a></li>
<li><a href="../439900/index.html">Julia y el m√©todo de descenso coordinado</a></li>
<li><a href="../439902/index.html">Explicaci√≥n de la naturaleza f√≠sica del fen√≥meno de "Fuerza de elevaci√≥n del ala" sin utilizar la ecuaci√≥n de Bernoulli. Parte 2</a></li>
<li><a href="../439906/index.html">Vulnerabilidad cr√≠tica en los productos antivirus de Zemana y m√°s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>