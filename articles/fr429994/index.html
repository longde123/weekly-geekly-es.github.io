<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📎 🚊 🐥 Julia. Travailler avec des tables 🖐🏼 👏 📯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Julia est l'un des plus jeunes langages de programmation mathématique, prétendant être le principal langage de programmation dans ce domaine. Malheure...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Julia. Travailler avec des tables</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429994/"><p><img src="https://habrastorage.org/webt/pi/ts/0a/pits0aw00iivzdctpqqr82w5hww.png"></p><br><p>  Julia est l'un des plus jeunes langages de programmation mathématique, prétendant être le principal langage de programmation dans ce domaine.  Malheureusement, pour le moment, il n'y a pas assez de littérature en russe et les documents disponibles en anglais contiennent des informations qui, en raison du développement dynamique de Julia, ne correspondent pas toujours à la version actuelle, mais cela n'est pas évident pour les programmeurs débutants Julia.  Nous essaierons de combler les lacunes et de transmettre les idées de Julia aux lecteurs sous forme d'exemples simples. </p><br><p>  Le but de cet article est de donner aux lecteurs une idée des méthodes de base de travail avec les tables dans le langage de programmation Julia afin de les encourager à commencer à utiliser ce langage de programmation pour traiter des données réelles.  Nous supposons que le lecteur connaît déjà d'autres langages de programmation, nous ne donnerons donc que des informations minimales sur la façon dont cela est fait, mais nous n'entrerons pas dans les détails des méthodes de traitement des données. </p><br><p>  Bien entendu, l'une des étapes les plus importantes du travail d'un programme qui effectue une analyse des données est leur importation et leur exportation.  De plus, le format de présentation des données le plus courant est un tableau.  Il existe des bibliothèques pour Julia qui donnent accès aux SGBD relationnels, utilisent des formats d'échange tels que HDF5, MATLAB, JLD.  Mais dans ce cas, nous ne nous intéresserons qu'au format texte pour représenter les tableaux, comme CSV. </p><a name="habracut"></a><br><p>  Avant de regarder les tableaux, vous devez faire une petite introduction à la présentation de cette structure de données.  Pour Julia, une table peut être représentée comme un tableau à deux dimensions ou comme un DataFrame. </p><br><h3 id="massivy">  Tableaux </h3><br><p>  Commençons par les tableaux de Julia.  La numérotation des éléments commence par un.  C'est tout à fait naturel pour les mathématiciens, et en plus, le même schéma est utilisé dans Fortran, Pascal, Matlab.  Pour les programmeurs qui n'ont jamais utilisé ces langages, cette numérotation peut sembler inconfortable et provoquer des erreurs lors de l'écriture des conditions aux limites, mais en réalité, ce n'est qu'une question d'habitude.  Après quelques semaines d'utilisation de Julia, la question de basculer entre les modèles linguistiques ne se pose plus. </p><br><p>  Le deuxième point significatif de ce langage est la représentation interne des tableaux.  Pour Julia, un tableau linéaire est une colonne.  Dans le même temps, pour des langages comme C, Java, un tableau unidimensionnel est une chaîne. </p><br><p>  Nous illustrons cela avec un tableau créé sur la ligne de commande (REPL) </p><br><pre><code class="hljs julia">julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  Faites attention au type du tableau - Array {Int64,1}.  Le tableau est unidimensionnel, tapez Int64.  De plus, si nous voulons combiner ce tableau avec un autre tableau, alors, comme nous avons affaire à une colonne, nous devons utiliser la fonction vcat (c'est-à-dire concaténer vertical).  Le résultat est une nouvelle colonne. </p><br><pre> <code class="hljs julia">julia&gt; b = vcat(a, [<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>]) <span class="hljs-number"><span class="hljs-number">7</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  Si nous créons un tableau sous forme de chaîne, lors de l'écriture d'un littéral, nous utilisons des espaces au lieu de virgules et obtenons un tableau à deux dimensions de type Array {Int64,2}.  Le deuxième argument de la déclaration de type signifie le nombre de coordonnées du tableau multidimensionnel. </p><br><pre> <code class="hljs julia">julia&gt; c = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-number"><span class="hljs-number">1</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  Autrement dit, nous avons obtenu une matrice avec une ligne et trois colonnes. </p><br><p>  Cette présentation des lignes et des colonnes est également caractéristique de Fortran et Matlab, mais il ne faut que rappeler que Julia est une langue spécifiquement orientée vers leur domaine d'application. </p><br><p>  La matrice de Julia est un tableau à deux dimensions, où toutes les cellules sont du même type.  Prenons attention au fait que le type peut être abstrait Any ou tout à fait spécifique, comme Int64, Float64 ou même String. </p><br><p>  Nous pouvons créer une matrice sous la forme d'un littéral: </p><br><pre> <code class="hljs julia">julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p>  Créez à l'aide du constructeur et allouez de la mémoire sans initialisation (undef): </p><br><pre> <code class="hljs julia">julia&gt; a = <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}(undef, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">4783881648</span></span> <span class="hljs-number"><span class="hljs-number">4783881712</span></span> <span class="hljs-number"><span class="hljs-number">4782818640</span></span> <span class="hljs-number"><span class="hljs-number">4783881680</span></span> <span class="hljs-number"><span class="hljs-number">4783881744</span></span> <span class="hljs-number"><span class="hljs-number">4782818576</span></span></code> </pre> <br><p>  Ou avec initialisation si une valeur spécifique est spécifiée au lieu de undef. </p><br><p>  Colle de colonnes séparées: </p><br><pre> <code class="hljs julia">julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> julia&gt; b = hcat(a, a, a, a) <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><p>  Initialisez au hasard: </p><br><pre> <code class="hljs julia">julia&gt; x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  Arguments rand - va de 1 à 10 et dimension 2 x 3. </p><br><p>  Ou utilisez l'inclusion (Compréhensions) </p><br><pre> <code class="hljs powershell">julia&gt; x = [<span class="hljs-type"><span class="hljs-type">min</span></span>(<span class="hljs-type"><span class="hljs-type">i</span></span>, <span class="hljs-type"><span class="hljs-type">j</span></span>) <span class="hljs-type"><span class="hljs-type">for</span></span> <span class="hljs-type"><span class="hljs-type">i</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-type"><span class="hljs-type">j</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span> ] <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> Array{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><p>  Notez que le fait que pour Julia les colonnes soient un bloc de mémoire linéaire conduit au fait que l'itération sur les éléments par colonne sera beaucoup plus rapide que le tri sur les lignes.  En particulier, l'exemple suivant utilise une matrice de 1_000_000 lignes et 100 colonnes. </p><br><pre> <code class="hljs pgsql">#!/usr/bin/env julia <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> BenchmarkTools x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>_000_000, <span class="hljs-number"><span class="hljs-number">100</span></span>) #x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>_000_000, <span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> sumbycolumns(x) sum = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>, cols = size(x) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> j = <span class="hljs-number"><span class="hljs-number">1</span></span>:cols, i = <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> sum += x[i, j] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> @btime sumbycolumns(x) <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> sumbyrows(x) sum = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>, cols = size(x) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>, j = <span class="hljs-number"><span class="hljs-number">1</span></span>:cols sum += x[i, j] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">show</span></span> @btime sumbyrows(x)</code> </pre> <br><p>  Résultats: </p><br><pre> <code class="hljs kotlin"> <span class="hljs-number"><span class="hljs-number">74.378</span></span> ms (<span class="hljs-number"><span class="hljs-number">1</span></span> allocation: <span class="hljs-number"><span class="hljs-number">16</span></span> bytes) =# <span class="hljs-meta"><span class="hljs-meta">@btime(sumbycolumns(x)</span></span>) = <span class="hljs-number"><span class="hljs-number">50053093495</span></span> <span class="hljs-number"><span class="hljs-number">206.346</span></span> ms (<span class="hljs-number"><span class="hljs-number">1</span></span> allocation: <span class="hljs-number"><span class="hljs-number">16</span></span> bytes) =# <span class="hljs-meta"><span class="hljs-meta">@btime(sumbyrows(x)</span></span>) = <span class="hljs-number"><span class="hljs-number">50053093495</span></span></code> </pre> <br><p>  @btime dans l'exemple est une exécution multiple d'une fonction pour calculer le temps moyen qu'il faut pour s'exécuter.  Cette macro est fournie par la bibliothèque BenchmarkTools.jl.  Le kit de base Julia a une macro de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">temps</a> , mais il mesure un seul intervalle, qui, dans ce cas, sera inexact.  La macro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">show</a> affiche simplement l'expression et sa valeur calculée dans la console. </p><br><p>  L'optimisation du stockage sur colonne est pratique pour effectuer des opérations statistiques avec une table.  Étant donné que traditionnellement, le tableau est limité par le nombre de colonnes et que le nombre de lignes peut être quelconque, la plupart des opérations, telles que le calcul des valeurs moyennes, minimales et maximales, sont effectuées spécifiquement pour les colonnes des matrices, et non pour leurs lignes. </p><br><p>  Un synonyme d'un tableau à deux dimensions est le type Matrix.  Cependant, c'est plutôt une commodité de style plutôt qu'une nécessité. </p><br><p>  L'accès aux éléments de la matrice se fait par index.  Par exemple, pour une matrice créée précédemment </p><br><pre> <code class="hljs julia">julia&gt; x = rand(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  Nous pouvons obtenir un élément spécifique comme x [1, 2] =&gt; 10. Donc, obtenez la colonne entière, par exemple, la deuxième colonne: </p><br><pre> <code class="hljs julia">julia&gt; x[:, <span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-number"><span class="hljs-number">2</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  Ou la deuxième ligne: </p><br><pre> <code class="hljs julia">julia&gt; x[<span class="hljs-number"><span class="hljs-number">2</span></span>, :] <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  Il existe également une fonction selectdim utile, où vous pouvez spécifier le numéro ordinal de la dimension pour laquelle vous souhaitez effectuer une sélection, ainsi que les indices des éléments de cette dimension.  Par exemple, faites un échantillonnage à la 2e dimension (colonnes) en sélectionnant les 1er et 3e indices.  Cette approche est pratique lorsque, selon les conditions, vous devez basculer entre les lignes et les colonnes.  Cependant, cela est vrai pour le cas multidimensionnel, lorsque le nombre de dimensions est supérieur à 2. </p><br><pre> <code class="hljs pgsql">julia&gt; selectdim(x, <span class="hljs-number"><span class="hljs-number">2</span></span>, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">view</span></span>(::<span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}, :, [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> eltype Int64: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fonctions de traitement statistique des tableaux</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">En savoir plus sur les tableaux unidimensionnels</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tableaux multidimensionnels</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fonctions d'algèbre linéaire et matrices d'une forme spéciale</a> </p><br><p>  La lecture d'une table à partir d'un fichier peut être effectuée à l'aide de la fonction readdlm implémentée dans la bibliothèque DelimitedFiles.  Enregistrement - en utilisant writedlm.  Ces fonctions permettent de travailler avec des fichiers avec délimiteurs, dont le cas particulier est le format CSV. </p><br><p>  Nous illustrons avec un exemple de la documentation: </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DelimitedFiles julia&gt; x = [<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-number"><span class="hljs-number">4</span></span>]; julia&gt; y = ["a"; "b"; "c"; "d"]; julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>("delim_file.txt", "w") <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> io writedlm(io, [xy]) #      <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; julia&gt; readdlm("delim_file.txt") #   <span class="hljs-number"><span class="hljs-number">4</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{<span class="hljs-keyword"><span class="hljs-keyword">Any</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> "a" <span class="hljs-number"><span class="hljs-number">2</span></span> "b" <span class="hljs-number"><span class="hljs-number">3</span></span> "c" <span class="hljs-number"><span class="hljs-number">4</span></span> "d"</code> </pre> <br><p>  Dans ce cas, vous devez faire attention au fait que la table contient des données de différents types.  Par conséquent, lors de la lecture d'un fichier, une matrice de type Array {Any, 2} est créée. <br>  Un autre exemple est la lecture de tableaux contenant des données homogènes. </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DelimitedFiles julia&gt; x = [<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-number"><span class="hljs-number">4</span></span>]; julia&gt; y = [<span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-number"><span class="hljs-number">8</span></span>]; julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>("delim_file.txt", "w") <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> io writedlm(io, [xy]) #   <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; julia&gt; readdlm("delim_file.txt", Int64) #    Int64 <span class="hljs-number"><span class="hljs-number">4</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Int64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> julia&gt; readdlm("delim_file.txt", Float64) #    Float64 <span class="hljs-number"><span class="hljs-number">4</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Array</span></span>{Float64,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-number"><span class="hljs-number">5.0</span></span> <span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-number"><span class="hljs-number">6.0</span></span> <span class="hljs-number"><span class="hljs-number">3.0</span></span> <span class="hljs-number"><span class="hljs-number">7.0</span></span> <span class="hljs-number"><span class="hljs-number">4.0</span></span> <span class="hljs-number"><span class="hljs-number">8.0</span></span></code> </pre> <br><p>  Du point de vue de l'efficacité du traitement, cette option est préférable, car les données seront présentées de manière compacte.  Dans le même temps, une restriction explicite des tables représentées par la matrice est une exigence d'uniformité des données. </p><br><p>  Nous vous recommandons de consulter les fonctionnalités complètes de readdlm dans la documentation.  Parmi les options supplémentaires, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il y a la possibilité de spécifier</a> le mode de traitement des en-têtes, les lignes à sauter, la fonction de traitement des cellules, etc. </p><br><p>  Une autre façon de lire les tableaux est la bibliothèque CSV.jl. Comparée à readdlm et writedlm, cette bibliothèque offre un contrôle beaucoup plus important sur les options d'écriture et de lecture, ainsi que la vérification des données dans des fichiers délimités.  Cependant, la différence fondamentale est que le résultat de la fonction CSV.File peut être matérialisé dans le type DataFrame. </p><br><h3 id="dataframes">  Cadres de données </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La bibliothèque DataFrames prend en</a> charge la structure de données DataFrame, qui se concentre sur la présentation des tableaux.  La différence fondamentale avec la matrice ici est que chaque colonne est stockée individuellement et chaque colonne a son propre nom.  Nous rappelons que pour Julia, le mode de stockage par colonne, en général, est naturel.  Et, bien que nous ayons ici un cas particulier de tableaux unidimensionnels, une solution optimale est obtenue à la fois en termes de vitesse et de flexibilité de représentation des données, car le type de chaque colonne peut être individuel. </p><br><p>  Voyons comment créer un DataFrame. </p><br><p>  Toute matrice peut être convertie en DataFrame. </p><br><pre> <code class="hljs julia">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DataFrames julia&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>; <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>] <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}: <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> julia&gt; b = convert(DataFrame, a) <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame │ Row │ x1 │ x2 │ │ │ <span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> │ <span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> │ ├─────┼───────┼───────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">5</span></span> │ <span class="hljs-number"><span class="hljs-number">6</span></span> │</code> </pre> <br><p>  La fonction de conversion convertit les données dans le type spécifié.  En conséquence, pour le type DataFrame, les méthodes de la fonction convert sont définies dans la bibliothèque DataFrames (selon la terminologie Julia, il existe des fonctions et la variété de leurs implémentations avec différents arguments est appelée méthodes).  Il est à noter que les colonnes de la matrice se voient automatiquement attribuer les noms x1, x2.  Autrement dit, si nous demandons maintenant des noms de colonnes, nous les obtiendrons sous la forme d'un tableau: </p><br><pre> <code class="hljs javascript">julia&gt; names(b) <span class="hljs-number"><span class="hljs-number">2</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Symbol</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: :x1 :x2</code> </pre> <br><p>  Et les noms sont présentés dans un format comme Symbol (bien connu dans le monde Ruby). </p><br><p>  Un DataFrame peut être créé directement - vide ou contenant des données au moment de la construction.  Par exemple: </p><br><pre> <code class="hljs powershell">julia&gt; df = DataFrame([<span class="hljs-type"><span class="hljs-type">collect</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>), <span class="hljs-type"><span class="hljs-type">collect</span></span>(<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">6</span></span>)], [:<span class="hljs-type"><span class="hljs-type">A</span></span>, :<span class="hljs-type"><span class="hljs-type">B</span></span>]) <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame │ Row │ A │ B │ │ │ Int64 │ Int64 │ ├─────┼───────┼───────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">5</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">6</span></span> │</code> </pre> <br><p>  Ici, nous indiquons un tableau avec les valeurs des colonnes et un tableau avec les noms de ces colonnes.  Les constructions du formulaire collect (1: 3) sont la conversion d'une plage d'itérateurs de 1 à 3 en un tableau de valeurs. </p><br><p>  L'accès aux colonnes est possible à la fois par leur nom et par leur index. </p><br><p>  Il est très facile d'ajouter une nouvelle colonne en écrivant une valeur dans toutes les lignes existantes.  Par exemple, df ci-dessus, nous voulons ajouter la colonne Score.  Pour ce faire, nous devons écrire: </p><br><pre> <code class="hljs julia">julia&gt; df[:Score] = <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> julia&gt; df <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame │ Row │ A │ B │ Score │ │ │ <span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> │ <span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span> │ <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> │ ├─────┼───────┼───────┼─────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ <span class="hljs-number"><span class="hljs-number">0.0</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">5</span></span> │ <span class="hljs-number"><span class="hljs-number">0.0</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">6</span></span> │ <span class="hljs-number"><span class="hljs-number">0.0</span></span> │</code> </pre> <br><p>  Comme pour les matrices simples, nous pouvons coller des instances DataFrame en utilisant les fonctions vcat, hcat.  Cependant, vcat ne peut être utilisé qu'avec les mêmes colonnes dans les deux tables.  Vous pouvez aligner un DataFrame, par exemple, en utilisant la fonction suivante: </p><br><pre> <code class="hljs powershell"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">merge_df</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(first::DataFrame, second::DataFrame)</span></span></span><span class="hljs-function">::</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DataFrame</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(first == nothing)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">return</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">second</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">else</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names_first</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(first)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names_second</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">names</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(second)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sub_names</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setdiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(names_first, names_second)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">second</span></span></span><span class="hljs-function">[</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sub_names</span></span></span><span class="hljs-function">] = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">0</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sub_names</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setdiff</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(names_second, names_first)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">first</span></span></span><span class="hljs-function">[</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sub_names</span></span></span><span class="hljs-function">] = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">0</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vcat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(second, first)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  La fonction names obtient ici un tableau de noms de colonnes.  La fonction setdiff (s1, s2) dans l'exemple détecte tous les éléments de s1 qui ne sont pas dans s2.  Ensuite, développez le DataFrame à ces éléments.  vcat colle deux DataFrames et renvoie le résultat.  Dans ce cas, l'utilisation de return n'est pas nécessaire, car le résultat de la dernière opération est évident. </p><br><p>  Nous pouvons vérifier le résultat: </p><br><pre> <code class="hljs javascript">julia&gt; df1 = DataFrame(:<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">A</span></span></span><span class="hljs-function"> =&gt;</span></span> collect(<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">1</span></span> DataFrame │ Row │ A │ │ │ Int64 │ ├─────┼───────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ julia&gt; df2 = DataFrame(:<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">B</span></span></span><span class="hljs-function"> =&gt;</span></span> collect(<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>)) <span class="hljs-number"><span class="hljs-number">2</span></span>×<span class="hljs-number"><span class="hljs-number">1</span></span> DataFrame │ Row │ B │ │ │ Int64 │ ├─────┼───────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ julia&gt; df3 = merge_df(df1, df2) <span class="hljs-number"><span class="hljs-number">4</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame │ Row │ B │ A │ │ │ Int64 │ Int64 │ ├─────┼───────┼───────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">0</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ <span class="hljs-number"><span class="hljs-number">0</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">0</span></span> │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ <span class="hljs-number"><span class="hljs-number">0</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │</code> </pre> <br><p>  Notez qu'en termes de conventions de dénomination dans Julia, il n'est pas habituel d'utiliser des traits de soulignement, mais la lisibilité en souffre.  Ce qui n'est pas non plus très bien dans cette implémentation, c'est que le DataFrame d'origine est modifié.  Mais, néanmoins, cet exemple est bon pour illustrer le processus d'alignement de plusieurs colonnes. </p><br><p>  La jointure de plusieurs DataFrames par des valeurs communes dans des colonnes est possible en utilisant la fonction de jointure (par exemple, en collant deux tables avec des colonnes différentes par des identifiants d'utilisateurs communs). </p><br><p>  DataFrame est pratique pour la visualisation dans la console.  N'importe quel moyen de sortie: en utilisant la macro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">show</a> , en utilisant la fonction println, etc., un tableau sera imprimé sur la console sous une forme facile à lire.  Si le DataFrame est trop volumineux, les lignes de début et de fin seront affichées.  Cependant, vous pouvez demander explicitement la tête et la queue avec les fonctions tête et queue, respectivement. </p><br><p>  Pour DataFrame, des fonctions de regroupement et d'agrégation de données pour la fonction spécifiée sont disponibles.  Il y a des différences dans ce qu'ils rendent.  Cela peut être une collection avec un DataFrame qui répond aux critères de regroupement, ou un seul DataFrame où les noms de colonne seront formés à partir du nom d'origine et du nom de la fonction d'agrégation.  Essentiellement, un schéma de répartition-application-combinaison est mis en œuvre.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voir les détails</a> </p><br><p>  Nous utiliserons un exemple de la documentation avec un exemple de table disponible dans le cadre du package DataFrames. </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> DataFrames, CSV, <span class="hljs-keyword"><span class="hljs-keyword">Statistics</span></span> julia&gt; iris = CSV.<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>(joinpath(dirname(pathof(DataFrames)), "../test/data/iris.csv"));</code> </pre> <br><p>  Effectuez le regroupement à l'aide de la fonction groupby.  Spécifiez le nom de la colonne de regroupement et obtenez un résultat du type GroupedDataFrame, qui contient une collection de DataFrames individuels collectés par les valeurs de la colonne de regroupement. </p><br><pre> <code class="hljs pgsql">julia&gt; species = groupby(iris, :Species) GroupedDataFrame <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">groups</span></span> based <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> key: :Species First <span class="hljs-keyword"><span class="hljs-keyword">Group</span></span>: <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> │ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> │ SepalLength │ SepalWidth │ PetalLength │ PetalWidth │ Species │ │ │ Float64 │ Float64 │ Float64 │ Float64 │ String │ ├─────┼─────────────┼────────────┼─────────────┼────────────┼─────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">5.1</span></span> │ <span class="hljs-number"><span class="hljs-number">3.5</span></span> │ <span class="hljs-number"><span class="hljs-number">1.4</span></span> │ <span class="hljs-number"><span class="hljs-number">0.2</span></span> │ setosa │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">4.9</span></span> │ <span class="hljs-number"><span class="hljs-number">3.0</span></span> │ <span class="hljs-number"><span class="hljs-number">1.4</span></span> │ <span class="hljs-number"><span class="hljs-number">0.2</span></span> │ setosa │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">4.7</span></span> │ <span class="hljs-number"><span class="hljs-number">3.2</span></span> │ <span class="hljs-number"><span class="hljs-number">1.3</span></span> │ <span class="hljs-number"><span class="hljs-number">0.2</span></span> │ setosa │</code> </pre> <br><p>  Le résultat peut être converti en un tableau à l'aide de la fonction de collecte mentionnée précédemment: </p><br><pre> <code class="hljs julia">julia&gt; collect(species) <span class="hljs-number"><span class="hljs-number">3</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Any</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">50</span></span>×<span class="hljs-number"><span class="hljs-number">5</span></span> SubDataFrame{<span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Int64</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}} │ Row │ SepalLength │ SepalWidth │ PetalLength │ PetalWidth │ Species │ │ │ <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> │ <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> │ <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> │ <span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span> │ <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> │ ├─────┼─────────────┼────────────┼─────────────┼────────────┼─────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">5.1</span></span> │ <span class="hljs-number"><span class="hljs-number">3.5</span></span> │ <span class="hljs-number"><span class="hljs-number">1.4</span></span> │ <span class="hljs-number"><span class="hljs-number">0.2</span></span> │ setosa │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">4.9</span></span> │ <span class="hljs-number"><span class="hljs-number">3.0</span></span> │ <span class="hljs-number"><span class="hljs-number">1.4</span></span> │ <span class="hljs-number"><span class="hljs-number">0.2</span></span> │ setosa │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">4.7</span></span> │ <span class="hljs-number"><span class="hljs-number">3.2</span></span> │ <span class="hljs-number"><span class="hljs-number">1.3</span></span> │ <span class="hljs-number"><span class="hljs-number">0.2</span></span> │ setosa │ …</code> </pre> <br><p>  Regroupez en utilisant la fonction by.  Spécifiez le nom de la colonne et la fonction de traitement du DataFrame reçu.  La première étape du travail par est similaire à la fonction groupby - nous obtenons la collection DataFrame.  Pour chacun de ces DataFrame, comptez le nombre de lignes et placez-les dans la colonne N. Le résultat sera collé dans un seul DataFrame et renvoyé comme résultat de la fonction by. </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">by</span></span>(iris, :Species, df -&gt; DataFrame(N = size(df, <span class="hljs-number"><span class="hljs-number">1</span></span>))) <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame │ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> │ Species │ N │ │ │ String⍰ │ Int64 │ ├─────┼────────────┼───────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ setosa │ <span class="hljs-number"><span class="hljs-number">50</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ versicolor │ <span class="hljs-number"><span class="hljs-number">50</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ virginica │ <span class="hljs-number"><span class="hljs-number">50</span></span> │</code> </pre> <br><p>  Eh bien, la dernière option est la fonction d'agrégation.  Nous spécifions une colonne pour le regroupement et une fonction d'agrégation pour les colonnes restantes.  Le résultat est un DataFrame où les noms de colonne seront formés au nom des colonnes source et le nom de la fonction d'agrégation. </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">julia</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">aggregate</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">iris</span></span>, <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:Species</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">sum</span></span>) 3×5 <span class="hljs-selector-tag"><span class="hljs-selector-tag">DataFrame</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Row</span></span>│<span class="hljs-selector-tag"><span class="hljs-selector-tag">Species</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalLength_sum</span></span>│<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalWidth_sum</span></span>│<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalLength_sum</span></span>│<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalWidth_sum</span></span>│ │ │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">String</span></span> │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span> │ ├───┼──────────┼───────────────┼──────────────┼───────────────┼──────────────┤ │ 1 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">setosa</span></span> │250<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> │ 171<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> │ 73<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> │ 12<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> │ │ 2 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">versicolor</span></span>│296<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> │ 138<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> │ 213<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> │ 66<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> │ │ 3 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">virginica</span></span> │329<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> │ 148<span class="hljs-selector-class"><span class="hljs-selector-class">.7</span></span> │ 277<span class="hljs-selector-class"><span class="hljs-selector-class">.6</span></span> │ 101<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> │</code> </pre> <br><p>  La fonction colwise applique la fonction spécifiée à toutes ou uniquement aux colonnes DataFrame spécifiées. </p><br><pre> <code class="hljs julia">julia&gt; colwise(mean, iris[<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>]) <span class="hljs-number"><span class="hljs-number">4</span></span>-element <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>{<span class="hljs-built_in"><span class="hljs-built_in">Float64</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}: <span class="hljs-number"><span class="hljs-number">5.843333333333335</span></span> <span class="hljs-number"><span class="hljs-number">3.057333333333334</span></span> <span class="hljs-number"><span class="hljs-number">3.7580000000000027</span></span> <span class="hljs-number"><span class="hljs-number">1.199333333333334</span></span></code> </pre> <br><p>  Une fonction très pratique pour obtenir un résumé du tableau est décrite.  Exemple d'utilisation: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">julia</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">describe</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">iris</span></span>) 5×8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">DataFrame</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Row</span></span>│ <span class="hljs-selector-tag"><span class="hljs-selector-tag">variable</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">mean</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">min</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">median</span></span>│ <span class="hljs-selector-tag"><span class="hljs-selector-tag">max</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">nunique</span></span>│<span class="hljs-selector-tag"><span class="hljs-selector-tag">nmissing</span></span>│ <span class="hljs-selector-tag"><span class="hljs-selector-tag">eltype</span></span> │ │ │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Symbol</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Union</span></span>… │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Any</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Union</span></span>…│ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Any</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Union</span></span>… │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Int64</span></span> │<span class="hljs-selector-tag"><span class="hljs-selector-tag">DataType</span></span>│ ├───┼───────────┼───────┼──────┼──────┼─────────┼───────┼────────┼────────┤ │ 1 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalLength</span></span>│5<span class="hljs-selector-class"><span class="hljs-selector-class">.84333</span></span>│ 4<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> │ 5<span class="hljs-selector-class"><span class="hljs-selector-class">.8</span></span> │ 7<span class="hljs-selector-class"><span class="hljs-selector-class">.9</span></span> │ │ 0 │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>│ │ 2 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">SepalWidth</span></span> │3<span class="hljs-selector-class"><span class="hljs-selector-class">.05733</span></span>│ 2<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> │ 3<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> │ 4<span class="hljs-selector-class"><span class="hljs-selector-class">.4</span></span> │ │ 0 │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>│ │ 3 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalLength</span></span>│3<span class="hljs-selector-class"><span class="hljs-selector-class">.758</span></span> │ 1<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span> │ 4<span class="hljs-selector-class"><span class="hljs-selector-class">.35</span></span> │ 6<span class="hljs-selector-class"><span class="hljs-selector-class">.9</span></span> │ │ 0 │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>│ │ 4 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">PetalWidth</span></span> │1<span class="hljs-selector-class"><span class="hljs-selector-class">.19933</span></span>│ 0<span class="hljs-selector-class"><span class="hljs-selector-class">.1</span></span> │ 1<span class="hljs-selector-class"><span class="hljs-selector-class">.3</span></span> │ 2<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span> │ │ 0 │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">Float64</span></span>│ │ 5 │<span class="hljs-selector-tag"><span class="hljs-selector-tag">Species</span></span> │ │<span class="hljs-selector-tag"><span class="hljs-selector-tag">setosa</span></span>│ │<span class="hljs-selector-tag"><span class="hljs-selector-tag">virginica</span></span>│ 3 │ 0 │ <span class="hljs-selector-tag"><span class="hljs-selector-tag">String</span></span> │</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Liste complète des fonctionnalités DataFrames</a> . </p><br><p>  Comme pour le cas Matrix, vous pouvez utiliser toutes les fonctions statistiques disponibles dans le module Statistics du DataFrame.  Voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://docs.julialang.org/en/v1/stdlib/Statistics/index.html</a> </p><br><p>  La bibliothèque StatPlots.jl est utilisée pour afficher graphiquement le DataFrame.  Voir plus <a href="">https://github.com/JuliaPlots/StatPlots.jl</a> <br>  Cette bibliothèque implémente un ensemble de macros pour simplifier la visualisation. </p><br><pre> <code class="hljs ruby">julia&gt; df = DataFrame(a = <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">10</span></span>, b = <span class="hljs-number"><span class="hljs-number">10</span></span> .* rand(<span class="hljs-number"><span class="hljs-number">10</span></span>), c = <span class="hljs-number"><span class="hljs-number">10</span></span> .* rand(<span class="hljs-number"><span class="hljs-number">10</span></span>)) <span class="hljs-number"><span class="hljs-number">10</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame │ Row │ a │ b │ c │ │ │ Int64 │ Float64 │ Float64 │ ├─────┼───────┼─────────┼─────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ <span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">73614</span></span> │ <span class="hljs-number"><span class="hljs-number">7.11238</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ <span class="hljs-number"><span class="hljs-number">5.5223</span></span> │ <span class="hljs-number"><span class="hljs-number">1.42414</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ <span class="hljs-number"><span class="hljs-number">3.5004</span></span> │ <span class="hljs-number"><span class="hljs-number">2.11633</span></span> │ │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ <span class="hljs-number"><span class="hljs-number">4</span></span> │ <span class="hljs-number"><span class="hljs-number">1.34176</span></span> │ <span class="hljs-number"><span class="hljs-number">7.54208</span></span> │ │ <span class="hljs-number"><span class="hljs-number">5</span></span> │ <span class="hljs-number"><span class="hljs-number">5</span></span> │ <span class="hljs-number"><span class="hljs-number">8.52392</span></span> │ <span class="hljs-number"><span class="hljs-number">2.98558</span></span> │ │ <span class="hljs-number"><span class="hljs-number">6</span></span> │ <span class="hljs-number"><span class="hljs-number">6</span></span> │ <span class="hljs-number"><span class="hljs-number">4.47477</span></span> │ <span class="hljs-number"><span class="hljs-number">6.36836</span></span> │ │ <span class="hljs-number"><span class="hljs-number">7</span></span> │ <span class="hljs-number"><span class="hljs-number">7</span></span> │ <span class="hljs-number"><span class="hljs-number">8.48093</span></span> │ <span class="hljs-number"><span class="hljs-number">6.59236</span></span> │ │ <span class="hljs-number"><span class="hljs-number">8</span></span> │ <span class="hljs-number"><span class="hljs-number">8</span></span> │ <span class="hljs-number"><span class="hljs-number">5.3761</span></span> │ <span class="hljs-number"><span class="hljs-number">2.5127</span></span> │ │ <span class="hljs-number"><span class="hljs-number">9</span></span> │ <span class="hljs-number"><span class="hljs-number">9</span></span> │ <span class="hljs-number"><span class="hljs-number">3.55393</span></span> │ <span class="hljs-number"><span class="hljs-number">9.2782</span></span> │ │ <span class="hljs-number"><span class="hljs-number">10</span></span> │ <span class="hljs-number"><span class="hljs-number">10</span></span> │ <span class="hljs-number"><span class="hljs-number">3.50925</span></span> │ <span class="hljs-number"><span class="hljs-number">7.07576</span></span> │ julia&gt; @df df plot(<span class="hljs-symbol"><span class="hljs-symbol">:a</span></span>, [<span class="hljs-symbol"><span class="hljs-symbol">:b</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:c</span></span>], colour = [<span class="hljs-symbol"><span class="hljs-symbol">:red</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:blue</span></span>])</code> </pre> <br><p><img src="https://habrastorage.org/webt/jx/fh/ci/jxfhci5udl54bbrdfwaadsqpc_m.png"></p><br><p>  Dans la dernière ligne, @df est la macro, df est le nom de la variable avec le DataFrame. </p><br><p>  Query.jl peut être une bibliothèque très utile.  En utilisant les mécanismes des macros et le canal de traitement, Query.jl fournit un langage de requête spécialisé.  Un exemple est d'obtenir une liste des personnes de plus de 50 ans et le nombre d'enfants qu'elles ont: </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Query, DataFrames julia&gt; df = DataFrame(<span class="hljs-type"><span class="hljs-type">name</span></span>=["John", "Sally", "Kirk"], age=[<span class="hljs-number"><span class="hljs-number">23.</span></span>, <span class="hljs-number"><span class="hljs-number">42.</span></span>, <span class="hljs-number"><span class="hljs-number">59.</span></span>], children=[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]) <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame │ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> │ <span class="hljs-type"><span class="hljs-type">name</span></span> │ age │ children │ │ │ String │ Float64 │ Int64 │ ├─────┼────────┼─────────┼──────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ John │ <span class="hljs-number"><span class="hljs-number">23.0</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ Sally │ <span class="hljs-number"><span class="hljs-number">42.0</span></span> │ <span class="hljs-number"><span class="hljs-number">5</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ Kirk │ <span class="hljs-number"><span class="hljs-number">59.0</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ julia&gt; x = @<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> df <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">where</span></span> i.age&gt;<span class="hljs-number"><span class="hljs-number">50</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> {i.name, i.children} @collect DataFrame <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame │ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> │ <span class="hljs-type"><span class="hljs-type">name</span></span> │ children │ │ │ String │ Int64 │ ├─────┼────────┼──────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ Kirk │ <span class="hljs-number"><span class="hljs-number">2</span></span> │</code> </pre> <br><p>  Ou un formulaire avec un canal: </p><br><pre> <code class="hljs pgsql">julia&gt; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Query, DataFrames julia&gt; df = DataFrame(<span class="hljs-type"><span class="hljs-type">name</span></span>=["John", "Sally", "Kirk"], age=[<span class="hljs-number"><span class="hljs-number">23.</span></span>, <span class="hljs-number"><span class="hljs-number">42.</span></span>, <span class="hljs-number"><span class="hljs-number">59.</span></span>], children=[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]); julia&gt; x = df |&gt; @query(i, <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">where</span></span> i.age&gt;<span class="hljs-number"><span class="hljs-number">50</span></span> @<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> {i.name, i.children} <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>) |&gt; DataFrame <span class="hljs-number"><span class="hljs-number">1</span></span>×<span class="hljs-number"><span class="hljs-number">2</span></span> DataFrame │ <span class="hljs-keyword"><span class="hljs-keyword">Row</span></span> │ <span class="hljs-type"><span class="hljs-type">name</span></span> │ children │ │ │ String │ Int64 │ ├─────┼────────┼──────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ Kirk │ <span class="hljs-number"><span class="hljs-number">2</span></span> │</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voir plus de détails</a> </p><br><p>  Les deux exemples ci-dessus montrent l'utilisation de langages de requête fonctionnellement similaires à dplyr ou LINQ.  De plus, ces langues ne sont pas limitées à Query.jl.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">En savoir plus sur l'utilisation de ces langages avec DataFrames ici</a> . </p><br><p>  Le dernier exemple utilise l'opérateur | |.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Voir plus</a> . </p><br><p>  Cet opérateur substitue l'argument à la fonction indiquée à sa droite.  En d'autres termes: </p><br><pre> <code class="hljs erlang-repl">julia&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>:<span class="hljs-number"><span class="hljs-number">5</span></span>;] |&gt; x-&gt;x.^<span class="hljs-number"><span class="hljs-number">2</span></span> |&gt; sum |&gt; inv <span class="hljs-number"><span class="hljs-number">0.01818181818181818</span></span></code> </pre> <br><p>  Équivalent à: </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">julia</span></span>&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">inv</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">sum</span></span>( <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1:5;]</span></span> .^ 2 )) 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01818181818181818</span></span></code> </pre> <br><p>  Et la dernière chose que je voudrais noter est la possibilité d'écrire un DataFrame au format de sortie avec un séparateur en utilisant la bibliothèque CSV.jl mentionnée précédemment </p><br><pre> <code class="hljs powershell">julia&gt; df = DataFrame(name=[<span class="hljs-string"><span class="hljs-string">"John"</span></span>, <span class="hljs-string"><span class="hljs-string">"Sally"</span></span>, <span class="hljs-string"><span class="hljs-string">"Kirk"</span></span>], age=[<span class="hljs-number"><span class="hljs-number">23</span></span><span class="hljs-type"><span class="hljs-type">.</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span><span class="hljs-type"><span class="hljs-type">.</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span><span class="hljs-type"><span class="hljs-type">.</span></span>], children=[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>]) <span class="hljs-number"><span class="hljs-number">3</span></span>×<span class="hljs-number"><span class="hljs-number">3</span></span> DataFrame │ Row │ name │ age │ children │ │ │ String │ Float64 │ Int64 │ ├─────┼────────┼─────────┼──────────┤ │ <span class="hljs-number"><span class="hljs-number">1</span></span> │ John │ <span class="hljs-number"><span class="hljs-number">23.0</span></span> │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ Sally │ <span class="hljs-number"><span class="hljs-number">42.0</span></span> │ <span class="hljs-number"><span class="hljs-number">5</span></span> │ │ <span class="hljs-number"><span class="hljs-number">3</span></span> │ Kirk │ <span class="hljs-number"><span class="hljs-number">59.0</span></span> │ <span class="hljs-number"><span class="hljs-number">2</span></span> │ julia&gt; CSV.write(<span class="hljs-string"><span class="hljs-string">"out.csv"</span></span>, df) <span class="hljs-string"><span class="hljs-string">"out.csv"</span></span></code> </pre> <br><p>  Nous pouvons vérifier le résultat enregistré: </p><br><pre> <code class="hljs css">&gt; <span class="hljs-selector-tag"><span class="hljs-selector-tag">cat</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">out</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.csv</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">name</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">age</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">children</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">John</span></span>,23<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>,3 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Sally</span></span>,42<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>,5 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Kirk</span></span>,59<span class="hljs-selector-class"><span class="hljs-selector-class">.0</span></span>,2</code> </pre> <br><h3 id="zaklyuchenie">  Conclusion </h3><br><p>  Il est difficile de prédire si Julia deviendra un langage de programmation aussi commun que R, par exemple, mais cette année, il est déjà devenu le langage de programmation à la croissance la plus rapide.  Si seulement quelques-uns le savaient l'année dernière, cette année, après la sortie de la version 1.0 et la stabilisation des fonctions de bibliothèque, ils ont commencé à écrire à ce sujet, l'année prochaine, il deviendra certainement un langage qu'il serait indécent de ne pas connaître dans le domaine de la science des données.  Et les entreprises qui n'ont pas commencé à utiliser Julia pour analyser les données seraient carrément des dinosaures à remplacer par des descendants plus agiles. </p><br><p>  Julia est un jeune langage de programmation.  En fait, après l'apparition de projets pilotes, il sera clair combien l'infrastructure de Julia est prête pour une utilisation industrielle réelle.  Les développeurs de Julia sont très ambitieux et sont prêts maintenant.  Dans tous les cas, la syntaxe simple mais stricte de Julia en fait un langage de programmation très attractif pour l'apprentissage dès maintenant.  Les hautes performances vous permettent d'implémenter des algorithmes qui conviennent non seulement à des fins pédagogiques, mais également à une utilisation réelle dans l'analyse de données.  Nous allons commencer à essayer régulièrement Julia dans divers projets maintenant. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr429994/">https://habr.com/ru/post/fr429994/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr429982/index.html">Conférence O'Reilly Velocity London: aperçu et diapositives</a></li>
<li><a href="../fr429984/index.html">Comparaison de scripts pour collecter des informations sur les sous-domaines</a></li>
<li><a href="../fr429986/index.html">Promotion sur Reddit. Comment obtenir du trafic?</a></li>
<li><a href="../fr429988/index.html">HighLoad ++: présentations des conférenciers Avito, notes, photos et impressions</a></li>
<li><a href="../fr429990/index.html">Amélioration de la qualité des panoramas de collage en faisant correspondre le graphique des transformations projectives</a></li>
<li><a href="../fr429996/index.html">Administrateur de réseau cloud</a></li>
<li><a href="../fr429998/index.html">Moyens scientifiques pour améliorer l'attention: nootropiques, interfaces neuro et stimulation électrique</a></li>
<li><a href="../fr430000/index.html">Le dernier des Mohicans. Le plus ancien PDG du Fortune 500 met tout sur la chute des smartphones</a></li>
<li><a href="../fr430002/index.html">Red Hat Enterprise Linux 8 Beta - en même temps que le monde</a></li>
<li><a href="../fr430004/index.html">Tracker GPS non certifié de Chine. Est-ce légal en Russie?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>