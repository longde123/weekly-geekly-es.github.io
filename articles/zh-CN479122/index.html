<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛸 👶 🏙️ 如何开始一个宠物项目而不获得收益 🏂🏾 👲🏼 ☠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR 

 本文介绍了使用宠物项目作为维护和提高技能的一种方法。 作者创建了一个PHP库，用于从XML文件安装FIAS 。 
 目的 


 我很少更换工作，因此，考虑到每个组织对固定流程的天生渴望，任何任务都会变成例行工作。 一方面，对企业而言，保持这种状态是有益的，另一方面，对我而言，这...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>如何开始一个宠物项目而不获得收益</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479122/"><p><img src="https://habrastorage.org/webt/cz/x-/ln/czx-lnrbjewed61t5fm8k_pjvei.png" alt="如何开始一个宠物项目而不获得收益"></p><br><div class="spoiler">  <b class="spoiler_title">TL; DR</b> <div class="spoiler_text"><p> 本文介绍了使用宠物项目作为维护和提高技能的一种方法。 作者创建了一个<a href="https://github.com/liquetsoft/fias-symfony" rel="nofollow">PHP库，</a>用于从XML文件安装<a href="https://fias.nalog.ru/" rel="nofollow">FIAS</a> 。 </p></div></div><br><h2 id="cel"> 目的 </h2><br><p> 我很少更换工作，因此，考虑到每个组织对固定流程的天生渴望，任何任务都会变成例行工作。 一方面，对企业而言，保持这种状态是有益的，另一方面，对我而言，这意味着完全丧失技能或淘汰技能。  PHP正在迅速发展，因此潜在的滞后性也在迅速增长。 最后，我们都知道，今天，如果没有对Elasticsearch，RabbitMQ，Kafka和其他我日常工作中不常使用的技术的了解，程序员很难找到一份好工作。 </p><a name="habracut"></a><br><p> 在启动下一个典型站点之后，我认为是时候进行一些更改了。 我不想改变自己的工作，但我记得演讲者在一次会议中建议如何使用他自己的可选项目，即所谓的宠物项目进行培训。 该方法似乎合适，我决定尝试一下。 </p><br><h2 id="vybor-zadachi"> 任务选择 </h2><br><p> 任务的选择原来是这项工作中最困难的部分。 没什么特别的：某些服务，例如可以轻松在熟悉的堆栈上实现的作业解析器。 我放弃了这个项目的想法几个月，直到我不小心看到了财政部黑客松的消息。 它建议使用开放数据源列表之一来创建服务。 除其他外，还指出了联邦信息地址系统（FIAS）。 不幸的是，黑客马拉松比赛已经结束了。 </p><br><p> 我是第一次了解FIAS，但这项任务似乎很有趣。 自己判断：大约30 GB的XML文件，数据库中大约6000万行，此外，该库以后可能会在工作中证明有用。  Github上有一些现成的解决方案，但这并没有阻止我。 相反，根据他们的分析，我提出了其他要求，以突出我的实现。 </p><br><p> 展望未来，我注意到我遇到的困难比预期的要少得多。 </p><br><h2 id="formulirovka-zadachi"> 任务说明 </h2><br><p> 成功的90％是对问题的正确陈述。 经过数年的模板工作，让自己清楚地表述问题是非常困难的。 我只是想开始工作，但是在此过程中，所有事情都会自己清除。 经过一个小时的拖延，我终于写了：用PHP创建一个库来导入FIAS数据。 </p><br><p> 后来，在品尝之后，我添加了一些其他要求： </p><br><ul><li> 无需第三方工具即可在PHP中实现，PHP专有代码以及PECL扩展， </li><li> 从FIAS集中导入所有数据， </li><li> 完整的安装和更新周期：搜索所需的版本，接收归档文件，解压缩，写入数据库， </li><li> 最大的灵活性：能够更改存储位置，在记录之前修改数据，过滤必要的内容等， </li><li> 该库应易于集成到现有项目中。 </li></ul><br><h2 id="fias">  FIAS </h2><br><p>  FIAS有一个<a href="https://fias.nalog.ru/" rel="nofollow">官方网站</a> ，它为我们提供了创建系统的定义和目的 </p><br><blockquote> 联邦信息地址系统（FIAS）是联邦状态信息系统，它提供状态地址寄存器的形成，维护和使用。 <br><br> 创建FIAS的目的是形成单一的联邦资源，其中包含可靠，统一，可公开获得的结构化地址信息。 由于实施了FIAS，可以通过Internet在官方注册的FIAS门户上免费获取此信息。 </blockquote><p>  <a href="https://fias.nalog.ru/Updates.aspx" rel="nofollow">在FIAS网站</a>和<a href="https://habr.com/ru/search/%3Fq%3D%25D0%25A4%25D0%2598%25D0%2590%25D0%25A1">Habré上</a> ，具有描述的材料已经足够了，因此我将不着重于此。 </p><br><p> 简而言之。  FIAS有两种格式：FIAS和KLADR。 第二个已弃用，不再使用。 信息存储在DBF或XML中。  FIAS组成的每项更改均标有新版本。 您可以请求一个包含当前最新数据的软件包，或者仅包含两个版本之间的更改。 链接提供SOAP服务。 该软件包是一个RAR存档，其中包含具有特殊格式名称的文件。 它们由前缀，数据集名称和生成日期组成。 前缀有两种类型：AS_表示必须从中将数据添加到数据库的文件，AS <em>DEL</em>表示应从数据库中删除数据的文件。 </p><br><p>  FIAS包含以下数据： </p><br><ul><li> 地址形成元素的寄存器（这是地址的图形：地区，城市和街道）， </li><li> 标识可寻址对象的地址元素（房屋编号和房屋数据）， </li><li> 有关地块的信息 </li><li> 有关场所（公寓，办公室，房间等）的信息， </li><li> 有关规范性文件的信息，这是将名称分配给地址元素的基础。 </li></ul><br><div class="spoiler">  <b class="spoiler_title">以及几个字典</b> <div class="spoiler_text"><ul><li> 房屋间隔的可能值列表（常规，偶数，奇数）， </li><li>  KLADR4.0分类器列出的地址元素条目相关性状态列表 </li><li>  FIAS与地址元素条目相关性的状态列表 </li><li> 地址元素类型的完整缩写名称列表及其分类级别， </li><li> 建筑物类型清单 </li><li> 可能的所有权类型列表 </li><li> 具有可寻址对象的操作代码列表， </li><li> 房地产的可能条件清单， </li><li> 处所或办公室类型的清单， </li><li> 房间类型列表 </li><li> 管理单元地址对象的可能状态（中心）列表， </li><li> 监管文件的类型。 </li></ul></div></div><br><p> 数据结构在文档中描述，可以<a href="https://fias.nalog.ru/Updates.aspx" rel="nofollow">在更新部分中</a>找到。 </p><br><p> 最终，我们有了一个相当简单且线性的FIAS安装算法： </p><br><ul><li> 从SOAP服务获得指向归档文件和当前版本号的链接， </li><li> 下载档案， </li><li> 打开包装 </li><li> 将前缀为AS_的文件中的所有数据写入数据库， </li><li> 从数据库中删除带有AS <em>DEL</em>前缀的文件中的所有数据（是的，是的，在安装过程中，您还必须删除一些数据）， </li><li> 写下已安装版本的编号。 </li></ul><br><p> 同样简单的更新算法： </p><br><ul><li> 从SOAP服务中获得包含版本号的列表，以及包含更改的文件的链接， </li><li> 如果本地数据库中的当前版本是最新版本，则停止执行， </li><li> 获取到包含下一个版本更改的存档链接， </li><li> 下载档案， </li><li> 打开包装 </li><li> 将前缀为AS_的文件中的所有数据写入数据库， </li><li> 从数据库中删除前缀为AS <em>DEL的</em>文件中的所有数据， </li><li> 写下更新版本的编号， </li><li> 返回第一步。 </li></ul><br><p>  FIAS产生相互矛盾的印象。 一方面：整个过程的完全自动化，开放格式，良好的文档编制。 另一方面：对于开放数据使用专有RAR的奇怪决定； 文档与现实之间的差异（主要与强制属性有关），这会导致许多小但不愉快的问题； 偶尔会有无法在Linux中解压缩的档案； 版本之间的某些增量占用4-5 GB。 </p><br><h2 id="arhitektura"> 建筑学 </h2><br><p> 每个库都应基于一个基本概念，即其他功能将围绕其发展的核心。 在我看来，“职责链”模式对于这种想法的作用似乎是最佳选择。 首先，这是理想的：如果一个人想要手动安装FIAS，他们将要执行的几个连续操作对于开发人员来说是显而易见的，并且非常适合以SOLID样式编写的小类。 其次，这种链条几乎可以在任何阶段通过新操作轻松扩展，从而提供了良好的灵活性。 第三，我很想编写自己的实现。 </p><br><p> 除了操作之外，我还创建了一些可以使用DI进行传输的服务。 它们使您可以重用代码，轻松替换低级系统任务的实现（下载文件，解压缩归档文件，写入数据库等），并借助模拟功能很好地覆盖了测试。 </p><br><p> 因此，该库包含四种主要类型的对象，每种类型的对象都明确定义了责任范围： </p><br><ul><li> 服务-提供执行底层系统任务的工具， </li><li> 状态对象-存储信息以进行操作之间的传输， </li><li> 操作-使用服务并声明它们实现了业务逻辑的原子部分， </li><li> 操作链-执行操作并在它们之间转移状态。 </li></ul><br><p> 使用库提供的操作和服务的链接，您可以轻松获取任何新链或仅使用配置文件来补充现有链。 </p><br><h2 id="freymvorki"> 构架 </h2><br><p> 经过长时间的休息和不断的重构，我在图书馆工作了一年半。 </p><br><p> 第一个相对稳定的版本已准备在晚上工作两个月。 实际上，它可以独立于框架而存在，并且包含所有必要的内容：在控制台中运行的输入脚本，DI容器，PDO上的附加组件，其自己的记录器和数据库结构迁移，这让我感到非常自豪。 </p><br><p> 当然，她的同事们毫不留情地拒绝了她。 </p><br><p> 对此的主要争论是缺乏对流行框架的支持。 没有人愿意为该库编写一个单独的包装器。 因此，我在时间上犯了最昂贵的错误：我开始为每个框架同时支持独立版本和单个包装。 实际的FIAS文件与文档中编写的文件不同。 每次有必要删除或添加（例如，在列描述中不为null时），我都必须对三个存储库进行更改。 由于该过程很乏味，因此该工作又停了六个月。 </p><br><p> 这种不完整的感觉一直困扰着我，在与懒惰进行了一场血腥的战斗之后，我不得不重新设计新版本。 首先，我认为没有人需要一个独立的库，这意味着您应该丢弃所有从包中提供框架的服务，并用接口代替它们。 因此，他们付诸行动：在控制台中运行的输入脚本，DI容器，PDO上的附件，其自己的记录器和数据库结构迁移。 接下来，我决定为每个框架制作单独的程序包，这些程序包将从主要部分连接到工作脚本的所有部分，并提供服务的特定实现。 </p><br><p> 关键是模型。 不想不断更新多个存储库中的异构对象集。 同时，在主要工作中，我得到了一个关于Symfony的项目。 快速了解之后，我认为SF最有用的功能是代码生成，它将解决我的所有问题。 我在主程序包中创建了一个<a href="" rel="nofollow">yaml文件</a> ，其中包含FIAS数据的声明性描述。 然后，我添加了基于以下描述为模型创建特定类的代码生成器：Symfony的Doctrine实体和Laravel的Eloquent对象。 在生成器的开发过程中，我意识到树枝模板不适合于此，因此选择了专门的解决方案<a href="https://github.com/nette/php-generator" rel="nofollow">-Nette PHP Generator</a> 。 </p><br><p> 作为概念的证明，我为<a href="https://github.com/liquetsoft/fias-laravel" rel="nofollow">Laravel</a>和<a href="https://github.com/liquetsoft/fias-symfony" rel="nofollow">Symfony</a>创建了捆绑包。 由于我在第二篇文章中的工作时间更长，因此我将在其上下文中描述所有后续内容。 </p><br><h2 id="infrastruktura"> 基础设施 </h2><br><p> 我的大部分战斗项目都是使用过时的技术编写的，因此我无法在其中任何一个上使用现代的代码分析器。 摆脱了传统的压迫，我安装并配置了所有可以实现的代码质量控制工具： </p><br><ul><li>  <a href="https://github.com/vimeo/psalm" rel="nofollow">诗篇</a>用于类型检查， </li><li> 通用质量评估的<a href="https://scrutinizer-ci.com/" rel="nofollow">审查员</a> （有助于简化循环复杂性） </li><li>  <a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer" rel="nofollow">PHP编码标准修正程序，</a>用于检查代码样式， </li><li>  <a href="https://github.com/sebastianbergmann/phpcpd" rel="nofollow">PHP复制/粘贴检测器，</a>用于查找重复项， </li><li>  <a href="https://github.com/sebastianbergmann/phpunit" rel="nofollow">PHPUnit</a>运行单元测试。 </li></ul><br><p> 使用<a href="https://travis-ci.org/" rel="nofollow">Travis</a>在Github中进行集成验证。 最后，他添加了一个Docker文件来创建本地开发人员环境，其中包含一个make文件，该make文件包含容器的主要命令（启动检查，测试，创建模型等）。 </p><br><h2 id="itogi-obucheniya"> 学习成果 </h2><br><h3 id="php-7">  PHP 7 </h3><br><p> 在开始使用该库之前，我从未真正使用过<a href="https://www.php.net/manual/ru/migration70.new-features.php" rel="nofollow">PHP 7</a>的<a href="https://www.php.net/manual/ru/migration70.new-features.php" rel="nofollow">新功能</a> 。 它们很漂亮：从严格的类型到生产率的显着提高。 特别感谢开发人员提供的空合并运算符。 引入一个运算符后，我没有看到代码库中的严重减少。 </p><br><h3 id="rar"> 拉尔 </h3><br><p> 令人惊讶的是，在PECL中有一个<a href="https://www.php.net/manual/ru/book.rar.php" rel="nofollow">与RAR一起使用</a>的<a href="https://www.php.net/manual/ru/book.rar.php" rel="nofollow">软件包</a> 。 通常，此类扩展名不受信任，因此我尽量避免使用它们。 事实证明它是稳定的：它是在7.2中安装的，没有问题，它能够相对快速地解压缩庞大的存档，并且具有较低的RAM消耗（根据可用的系统资源，在10-20分钟内解压缩6 GB）。 我仍然担心这是墨菲定律的某种体现。 </p><br><h3 id="xmlreader">  Xmlreader </h3><br><p> 读取巨大的xml文件不是一件容易的事。  PECL扩展名再次出现在抢救中<a href="https://www.php.net/manual/ru/book.xmlreader.php" rel="nofollow">-XmlReader</a> 。 我没有立即意识到它的全部功能，但是我通过几种方法将它与<a href="https://symfony.com/doc/current/components/serializer.html" rel="nofollow">Symfony序列化程序</a>结合使用，以快速，经济地从FIAS文件中获取数据。 在库方面，阅读器对象实现了迭代器接口，该接口依次返回与文件中一条记录对应的xml字符串。 使用Symfony序列化程序，这些字符串将转换为对象。 在不超过50 MB的RAM的情况下，可以在3-4分钟内读取20 GB的文件。 </p><br><h3 id="zapis-v-bazu-dannyh"> 写入数据库 </h3><br><p> 当然，我从具有数据和庞大表描述的关联数组开始。 该代码很快变成了配置和转换器类的哈希。 </p><br><p> 教义实体的魔力表明了物体如何自我描述。 我决定使用相同的方法，但同时摆脱了我自己使用PDO将数据写入数据库的实现。 相反，我创建了一个存储接口，该接口描述了处理对象的方法。 基于实体类，特定的Storage实现完全确定如何以及在何处写入数据。 这种方法使连接各种存储变得很容易：从MySql到csv文件。 </p><br><h3 id="optimizaciya-vstavki-dannyh"> 数据插入优化 </h3><br><p> 在超过48小时后，我中断了第一次导入。 很明显，您需要优化插入数据的过程。 </p><br><p> 首先，我切换<a href="https://www.postgresql.org/docs/12/datatype-uuid.html" rel="nofollow">到PostgreSql内置</a>主键的<a href="https://www.postgresql.org/docs/12/datatype-uuid.html" rel="nofollow">ugid-type列</a> 。 用索引写入uuid列比写入字符串要快得多。 </p><br><p> 之后，我放弃了所有非关键索引和外键，因为对数据完整性的关注完全由FIAS团队负责。 </p><br><p>然后，我重命名了Storage接口，以便外部脚本可以显式通知它导入的完成。 这允许使用批量插入，这有时会加快录制速度。  <a href="https://www.postgresql.org/docs/current/populate.html" rel="nofollow">在寻找信息时，</a>我还遇到了<a href="https://www.postgresql.org/docs/current/sql-copy.html" rel="nofollow"><code>copy</code></a>命令以及<a href="https://www.postgresql.org/docs/current/functions-xml.html" rel="nofollow"><code>query_to_xml</code></a> 。 它有两个很大的缺点：首先，PostgreSql用户必须具有文件的读取权限，而我不能保证这一点；其次，在写入之前修改脚本中的数据的能力已丧失。 </p><br><p> 尽管有这些更改，导入时间仍超过30小时。 需要彻底改变方法。 </p><br><h3 id="parallelnye-processy"> 并行流程 </h3><br><p> 互联网上充斥着有关PHP异步的文章。 我的选择落在<a href="https://amphp.org/" rel="nofollow">Amp上</a> 。 只是无法异步解决。 首先，代码很快变成了可怕的回调和不明显的调用（这可能是我的错，而不是异步方法）。 其次，我必须放弃使用标准ORM，因为需要通过<a href="https://github.com/amphp/mysql" rel="nofollow">特殊框架</a>对数据库进行非阻塞调用。 第三，尽管在某些条件下PostgreSql可以并行插入行，但是它们<a href="https://wiki.postgresql.org/wiki/Parallel_Query" rel="nofollow">很难</a>实现。 结果，经过5个小时的工作，我观察了如何在数据库侧强制所有“异步”请求“同步”。 </p><br><p> 但是导入被很好地划分为并行过程：几个完全独立的任务，它们没有可以竞争的公共资源以及可以交换的数据。 而且，在一个线程的框架内，我收到了漂亮且线性的代码。 </p><br><p> 我首先决定尝试<a href="https://www.php.net/manual/ru/book.parallel.php" rel="nofollow">并行</a>扩展。 它有一个致命的缺陷-解释器必须在支持ZTS（Zend线程安全）的情况下构建。 由于ZTS在常规的Web脚本中不起作用，因此必须具有两种不同版本的解释器。 一种是不带ZTS的网络版，另一种是带ZTS的网络版安装FIAS。 潜在的性能提升超过了这种不便，尤其是考虑到组装一个新的Docker容器并与旧的容器结合使用是多么容易。 不幸的是，在新线程中启动Symfony导致PHP堆栈溢出，而我还没有准备好拒绝DI容器和方便的配置。 </p><br><p> 最后，我发现了<a href="https://symfony.com/doc/current/components/process.html" rel="nofollow">symfony的过程</a> 。 实际上，它将为指定的控制台命令启动一个新进程并监视其完成。 我必须添加两个附加链。 第一个下载档案，将其解压缩并启动并行处理以进行数据处理。 第二个从命令行参数获取文件列表，并将文件内容写入数据库。 </p><br><p> 由于缺乏并行处理的经验，我似乎犯了所有新手错误。 </p><br><p> 例如，我的启动过程使用一个无限循环来检查子项的完成情况，当然，它为此花费了大量的处理器资源。 迭代之间的睡眠调用有所帮助。 </p><br><p> 在第一个实现中，文件在各个进程之间分布不均。 最大的两个落入一条流，处理了20多个小时。 在第二种实现中，我添加了一个特殊的管理器，该管理器根据导入文件所需的时间来分发文件。 现在，进程已均匀加载。 </p><br><p> 完成这些编辑后，根据服务器资源的不同，我可以在16到20小时内导入完整版本的FIAS。 没有我们想要的那么好，但是我继续致力于优化。 下一步是完全拒绝使用PostgreSql来支持Elasticsearch。 </p><br><h2 id="vyvody"> 结论 </h2><br><p> 值得吗？ 在一个从未参与过任何战斗项目的图书馆工作了两年？ </p><br><p> 是的，完全是。 </p><br><p> 我还是换了工作。 在巡回一打的采访中，由于我的宠物项目，我回答了许多棘手的问题。 </p><br><p>  PHP即将死去的恐慌正在不断加剧。 我不会掩盖我自己正在考虑迁移到另一种语言的事实。 </p><br><p> 在我看到PHP团队在版本7中所做的巨大工作之后； 他的个人榜样使​​他深信该语言变得多么成熟以及其生态系统已经变得多么丰富。 我可以肯定地说，有关PHP死亡的谣言被大大夸大了。 这仅仅是开始：将来，我们将等待JIT，开箱即用的异步功能以及更多其他功能。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN479122/">https://habr.com/ru/post/zh-CN479122/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN479102/index.html">熟悉Yandex.Maps或我有多喜欢文档</a></li>
<li><a href="../zh-CN479106/index.html">魔术花了多少钱</a></li>
<li><a href="../zh-CN479108/index.html">骑士的生活-带有RPG元素的在线竞技场</a></li>
<li><a href="../zh-CN479116/index.html">搜寻Y的直接印象：为什么您为每次点击支付1.5倍的费用</a></li>
<li><a href="../zh-CN479120/index.html">投票失败：我们将AgentTesla带到干净的水中。 第二部分</a></li>
<li><a href="../zh-CN479124/index.html">[信息图]科幻小说中的人工智能</a></li>
<li><a href="../zh-CN479126/index.html">移动开发中的Python</a></li>
<li><a href="../zh-CN479128/index.html">机场医疗服务如何运作</a></li>
<li><a href="../zh-CN479132/index.html">1C移动平台的外部组件（BroadcastReceiver）</a></li>
<li><a href="../zh-CN479136/index.html">量子计算：区块链的终结？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>