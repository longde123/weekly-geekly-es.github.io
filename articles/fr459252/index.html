<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏽 🔆 ♻️ Semaine de la sécurité 28: pirater une maison intelligente ✈️ 🔨 🥣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quels risques prenons-nous lors de l'installation du système «maison intelligente»? Celui qui pilote les ampoules et une bouilloire depuis l'applicati...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Semaine de la sécurité 28: pirater une maison intelligente</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kaspersky/blog/459252/"><img src="https://habrastorage.org/webt/jb/f0/or/jbf0ork45cxrjax-puw3f0w6wtg.jpeg" align="right">  Quels risques prenons-nous lors de l'installation du système «maison intelligente»?  Celui qui pilote les ampoules et une bouilloire depuis l'application sur le smartphone, à l'intérieur du réseau local et à distance.  Si la sécurité et la gestion des verrous sont liées à un système intelligent (comme dans le cas d'Amazon Key), alors il est clair lesquels.  Sinon, alors théoriquement, il est possible d'imaginer le danger d'une panne logicielle d'une machine à café avec un incendie ultérieur.  Mais il vaut mieux ne pas fantasmer, mais savoir avec certitude. <br><br>  Des spécialistes de l'équipe ICS CERT de Kaspersky Lab ont décidé de réaliser un test sur le terrain de la maison intelligente d'un des employés de l'entreprise ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">actualités</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article de blog</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> technique).  Le piratage a réussi: la cafetière n'a pas souffert, mais il a été possible de prendre le contrôle du système, bien qu'avec quelques hypothèses (tout à fait réalistes) pendant l'expérience.  L'une des conséquences désagréables de cette attaque a été la fuite de données personnelles: les coordonnées de la maison et, malheureusement, la géolocalisation du smartphone.  Cependant, l'expérience s'est terminée sur une note positive: le fabricant du système de maison intelligente a réussi à éliminer les vulnérabilités. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/cFA4_ZwlM9I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>  <i>Interprétation artistique des conséquences du piratage</i> <br><br>  Dans un article technique, beaucoup d'espace est consacré à des points relativement ennuyeux mais importants: ce qui n'a PAS réussi à pirater et comment le système de maison intelligente a été analysé pour détecter les vulnérabilités potentielles.  Avant de commencer l'expérience, les chercheurs connaissaient déjà le fabricant du système.  Il s'est avéré être <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Fibaro</a> , qui produit un assortiment de ses propres appareils pour une maison intelligente moderne, ainsi que l'intégration avec des appareils tiers.  De plus, le propriétaire a donné un indice important - une adresse IP permanente pour accéder au panneau d'administration.  Soit dit en passant, Fibaro lui-même ne recommande pas d'ouvrir l'accès au contrôleur via IP - uniquement via le système cloud.  Dans cette expérience, cette échappatoire délibérément laissée par le propriétaire a joué un rôle. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qh/ou/rj/qhourje0njxqjfureefeilcoosy.jpeg"></div><br>  Théoriquement, un tel système peut être attaqué dans trois directions principales: essayez de pirater le périphérique de contrôle d'une manière ou d'une autre, recherchez les vulnérabilités dans la partie cloud du service, ou attaquez les périphériques IoT connectés au contrôleur eux-mêmes.  Dans ce dernier cas, il doit être proche d'eux, de sorte que les deux premières options semblent plus prometteuses. <br><br>  L'étape suivante consiste à analyser le micrologiciel de l'appareil et WebAPI.  Habituellement, sur une telle analyse, tout se termine et les nouvelles sortent dans le style "un mot de passe filaire est détecté dans l'appareil."  Mais dans le cas de Fibaro, il n'y avait pas de trous de sécurité évidents.  Mais des informations utiles ont été reçues sur l'implémentation d'une partie de la logique de contrôle en PHP.  Sans autorisation, le contrôleur ne donne que le numéro de série de l'appareil, et pour pirater un morceau de fer, cette information est inutile.  Mais, il s'est avéré que cela vous permet de pirater la partie cloud du service. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i6/dv/ss/i6dvssb2y9cspliysjqo19496vq.png"></div><br>  L'accès au cloud, à son tour, vous permet d'obtenir des sauvegardes de base de données SQLite contenant tous les paramètres de l'appareil sans autorisation et de télécharger les vôtres.  Théoriquement, le contournement de l'autorisation a permis (avant de corriger la vulnérabilité) de télécharger des copies de sauvegarde de tous les utilisateurs du système cloud.  L'analyse de la base réelle de l'appareil attaqué a permis d'accéder à des informations privées, y compris les coordonnées de la maison et du smartphone sur lequel l'application de contrôle est installée.  C'est déjà un problème grave, car (avec certaines limitations), il vous permet de déterminer quand le propriétaire du système n'est pas à la maison. <br><br>  En outre, la base de données contenait des informations complètes sur les appareils IoT connectés, ainsi qu'un mot de passe pour accéder aux paramètres, mais haché avec l'ajout de «sel».  L'analyse du micrologiciel a montré que le «sel» n'est pas aléatoire, mais qu'il est fermement cousu dans l'appareil.  Théoriquement, un mot de passe très simple peut être piraté, mais dans ce cas, cela n'a pas fonctionné.  La base SQLite contenait également des mots de passe ouverts pour se connecter à d'autres appareils du réseau: si ces mots de passe coïncidaient avec le principal, le contrôleur pourrait également être facilement craqué. <br><br>  Mais encore une fois, cela n'a pas fonctionné: le propriétaire du système connaissait les recommandations de sécurité de base et n'utilisait pas le même mot de passe pour différents appareils.  J'ai donc dû appliquer l'ingénierie sociale.  Une vulnérabilité dans le système cloud qui permet d'effectuer un certain nombre d'actions sans autorisation, ne connaissant que le numéro de série de l'appareil (qui est donné «gratuitement» s'il y a accès au panneau d'administration de l'extérieur), a rendu possible le scénario suivant.  Une sauvegarde préparée de l'appareil dans lequel le script malveillant a été intégré a été téléchargée sur le «cloud».  Un message sur la nécessité de «mettre à jour» l'appareil via les capacités régulières du système cloud a été envoyé au propriétaire (par e-mail et SMS). <br><br>  Comme le propriétaire du système était au courant de l'expérience, il s'est immédiatement rendu compte que ce n'était pas un vrai patch.  Mais en général, il s'agit d'un scénario très réel lorsqu'un utilisateur reçoit un message plausible via un canal de communication familier, donc une copie de sauvegarde a été installée.  Un code malveillant a été exécuté avec des droits système en raison d'une erreur dans le code PHP entraînant l'exécution du script bash: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/n5/ys/qn/n5ysqnjncbnpjoez_nnnbcttb-w.png"></div><br>  Ici, le paramètre défini par l'utilisateur (dans des conditions normales, même l'administrateur système n'a pas de privilèges de superutilisateur sur le périphérique) entre dans l'argument de la ligne de commande.  Une vérification insuffisante des arguments nous a permis d'exécuter du code arbitraire avec les privilèges root et enfin d'obtenir un contrôle total sur le périphérique.  En parallèle, la possibilité d'injection SQL a été trouvée, mais non utilisée: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y8/9j/r3/y89jr3_wg5c6ti0iu45w0kovi_e.png"></div><br>  Les chercheurs n'avaient pas l'intention de casser une cafetière dans une vraie maison, ils ont donc changé la mélodie du réveil en "bonjour".  Les vulnérabilités mentionnées dans le système cloud et dans le code du contrôleur ont été corrigées.  Pour des raisons évidentes, des méthodes spécifiques de contournement de la protection ne sont pas divulguées dans un article technique - afin d'éviter leur utilisation par de vrais attaquants sur des appareils qui n'ont pas encore été mis à jour.  Mais dans cette expérience, ce qui est généralement laissé en dehors des gros titres est bien montré dans cette expérience: il existe de nombreuses façons d'enquêter sur la protection des appareils, dont la plupart se terminent par rien.  Dans la réalité, le fabricant de l'appareil et son propriétaire ont pu éviter les erreurs de sécurité les plus simples, telles que les mots de passe intégrés et réutilisables.  Néanmoins, un nombre suffisant de problèmes ont été identifiés qui pourraient entraîner au moins une fuite de données privées et, dans le pire des cas, contourner les systèmes de sécurité. <br><br>  <i>Avis de non-responsabilité: les opinions exprimées dans ce recueil ne coïncident pas toujours avec la position officielle de Kaspersky Lab.</i>  <i>Chers rédacteurs recommandent généralement de traiter toute opinion avec un scepticisme sain.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459252/">https://habr.com/ru/post/fr459252/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459242/index.html">Suite à la conférence T + Conf 2019</a></li>
<li><a href="../fr459244/index.html">Gestionnaire de produits Notes: comportement des utilisateurs sur les pages de jeu de l'App Store. Combien de temps faut-il pour télécharger un jeu</a></li>
<li><a href="../fr459246/index.html">Pourquoi la conversion de sites diminue-t-elle? Exemples de 60 erreurs de conception et d'utilisation</a></li>
<li><a href="../fr459248/index.html">Événements numériques à Moscou du 09 juillet au 14 juillet</a></li>
<li><a href="../fr459250/index.html">WAL dans PostgreSQL: 2. Journal de pré-enregistrement</a></li>
<li><a href="../fr459254/index.html">Encore mieux la bombe zip</a></li>
<li><a href="../fr459256/index.html">Comment nous avons optimisé notre hôpital thématique pour différentes plateformes</a></li>
<li><a href="../fr459258/index.html">14 000 milles non accrochés</a></li>
<li><a href="../fr459262/index.html">Retraité à 22 ans</a></li>
<li><a href="../fr459264/index.html">Sortir des réseaux Tarantool. Synchronisation des nœuds lors du filtrage du trafic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>