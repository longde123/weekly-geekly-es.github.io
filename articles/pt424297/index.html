<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≥ üëÇ ‚ùáÔ∏è Curso MIT "Seguran√ßa de sistemas de computadores". Aula 9: Seguran√ßa de Aplicativos Web, Parte 3 üë®‚Äç‚öñÔ∏è üó∫Ô∏è üöì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula n¬∫ 6.858. "Seguran√ßa de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguran√ßa de sistemas de computadores". Aula 9: Seguran√ßa de Aplicativos Web, Parte 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424297/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula n¬∫ 6.858.  "Seguran√ßa de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security √© um curso sobre o desenvolvimento e implementa√ß√£o de sistemas de computador seguros.  As palestras abrangem modelos de amea√ßas, ataques que comprometem a seguran√ßa e t√©cnicas de seguran√ßa baseadas em trabalhos cient√≠ficos recentes.  Os t√≥picos incluem seguran√ßa do sistema operacional (SO), recursos, gerenciamento de fluxo de informa√ß√µes, seguran√ßa de idiomas, protocolos de rede, seguran√ßa de hardware e seguran√ßa de aplicativos da web. <br><br>  Palestra 1: ‚ÄúIntrodu√ß√£o: modelos de amea√ßas‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: ‚ÄúControle de ataques de hackers‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: ‚ÄúEstouros de Buffer: Explora√ß√µes e Prote√ß√£o‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: ‚ÄúSepara√ß√£o de Privil√©gios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: ‚ÄúDe onde v√™m os sistemas de seguran√ßa?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: ‚ÄúSandbox do Cliente Nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: ‚ÄúModelo de Seguran√ßa de Rede‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 9: ‚ÄúSeguran√ßa de aplicativos da Web‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  <b>P√∫blico:</b> ent√£o o que impede um invasor de encontrar uma chave?  Onde est√° localizada essa chave secreta? <br><br><img src="https://habrastorage.org/webt/bg/sq/ed/bgsqedpvcmvdbjwjps3a84ok0ow.jpeg"><br><br>  <b>Professor:</b> Sim, essa √© uma boa pergunta.  Na maioria dos casos, o cliente da AWS n√£o √© um navegador, mas algumas m√°quinas virtuais em execu√ß√£o na nuvem.  Assim, voc√™ v√™ apenas a comunica√ß√£o entre m√°quinas virtuais.  Voc√™ tamb√©m pode imaginar que os usu√°rios possam, de alguma forma, fornecer esses links ou incorpor√°-los de alguma forma em HTML.  Se voc√™ tiver algo parecido com o mostrado no quadro dentro do c√≥digo-fonte HTML ou JavaScript, ter√° o c√≥digo para criar essa solicita√ß√£o.  Portanto, se eu lhe fornecer uma dessas coisas, voc√™ poder√° fazer uma solicita√ß√£o em meu nome. <br><br>  <b>P√∫blico:</b> √â poss√≠vel usar o MAC para clientes normais? <br><br>  <b>Professor:</b> para normal - voc√™ quer dizer navegadores? <br><br>  <b>P√∫blico:</b> para usu√°rios comuns. <br><br>  Professor: o fato √© que a quest√£o de onde a chave realmente vive √© crucial.  Porque se a chave pode ser roubada t√£o facilmente quanto os cookies, n√£o ganhamos nada.  Portanto, em muitos casos, todas essas coisas s√£o armazenadas em algum lugar da nuvem e servem para trocar dados entre m√°quinas virtuais e s√£o transmitidas de servidor para servidor tamb√©m na nuvem.  Assim, o desenvolvedor do aplicativo inicia a VM, que usa a terceiriza√ß√£o de v√°rias coisas armazenadas na AWS. <br><br>  <b>P√∫blico-alvo:</b> existe um problema de atraso na rede aqui, para que o invasor possa enviar a mesma solicita√ß√£o imediatamente ap√≥s o usu√°rio e tamb√©m obter acesso? <br><br>  <b>Professor:</b> sim, basta dizer que v√°rias pessoas defenderam disserta√ß√µes sobre o tema seguran√ßa de timestamps.  Mas voc√™ est√° absolutamente certo, porque consideramos um exemplo bastante grosseiro. <br><br><img src="https://habrastorage.org/webt/xx/ix/6z/xxix6zb30_tylvsmsbrynpucipc.jpeg"><br><br>  Imagine que aqui, neste exemplo String To Sign, na linha DATE, teremos o valor ‚Äúsegunda-feira, 4 de junho‚Äù.  Ent√£o, se de alguma forma o invasor puder obter acesso a tudo isso, ele poder√° repetir a solicita√ß√£o do usu√°rio.  O fato √© que a AWS permite que voc√™ use a data de validade dessas coisas.  Portanto, uma coisa que voc√™ pode fazer √© adicionar o campo Expira aqui e assumiremos que uma data de validade foi definida. <br><br><img src="https://habrastorage.org/webt/pw/ul/9c/pwul9ccnk3ss1uycrvipf39mchu.jpeg"><br><br>  Ent√£o, posso fornecer esse link para v√°rias pessoas diferentes, e o servidor verificar√° se as solicita√ß√µes expiraram. <br><br>  <b>P√∫blico:</b> mesmo que a data de validade seja de apenas 200 milissegundos, mas o invasor esteja monitorando a rede, ele poder√° enviar apenas algumas c√≥pias da solicita√ß√£o em vez de uma. <br><br>  <b>Professor: √©</b> absolutamente verdade que, se o atacante atacar a rede e ver como essas coisas s√£o transmitidas por fio, e houver espa√ßo suficiente para manobra na data de vencimento, ele poder√° definitivamente fazer esse ataque. <br><br>  Portanto, essa foi uma vis√£o geral de como os cookies sem estado funcionam.  Isso levanta uma quest√£o interessante: o que significa fazer logout com cookies desse tipo?  A resposta √© que voc√™ realmente n√£o est√° saindo.  Quero dizer, voc√™ tem essa chave e sempre que quiser enviar uma solicita√ß√£o, basta envi√°-la.  Mas o servidor pode revogar sua chave. <br><br>  Suponha que o servidor revogou a chave.  Mas voc√™ pode criar uma dessas coisas GET e, quando enviar uma mensagem para o servidor, ele dir√°: "Sim, eu j√° sei seu ID de usu√°rio, a chave foi revogada e n√£o atenderei sua solicita√ß√£o".  No entanto, existem nuances e, se falarmos sobre coisas como SSL, capacitar uma pessoa √© muito mais f√°cil do que lembr√°-las. <br><br>  Como tal, existem v√°rias outras coisas que voc√™ pode usar se quiser evitar os cookies tradicionais para implementar a autentica√ß√£o.  Um deles √© o uso de armazenamento DOM, que cont√©m informa√ß√µes sobre autentica√ß√£o do lado do cliente.  Voc√™ pode usar o reposit√≥rio DOM para armazenar alguns estados de sess√£o que geralmente s√£o colocados dentro de cookies. <br><br><img src="https://habrastorage.org/webt/6c/u3/z8/6cu3z8oazkleohxh9fnrvk1_hay.jpeg"><br><br>  Se voc√™ se lembra da √∫ltima aula, o reposit√≥rio DOM √© uma interface-chave dos valores que o navegador fornece a cada fonte, ou seja, o navegador os retira de l√° e os insere em uma string. <br><br>  O bom √© que o DOM n√£o possui regras t√£o est√∫pidas em rela√ß√£o √†s mesmas pol√≠ticas da mesma origem.  Portanto, se esses cookies fossem regulares, voc√™ poderia fazer todos esses truques de subdom√≠nio e similares.  Na verdade, o reposit√≥rio DOM est√° estritamente vinculado a uma √∫nica fonte, portanto, voc√™ n√£o pode estender nenhum subdom√≠nio.  Portanto, estruturas como o Meteor usam esse armazenamento. <br><br>  Mas observe que, se voc√™ deseja salvar as informa√ß√µes de autentica√ß√£o no reposit√≥rio DOM, precisar√° escrever o c√≥digo JavaScript para transferir essas informa√ß√µes para o servidor, criptograf√°-las e assim por diante.  Aqui est√° o que voc√™ precisa fazer neste caso. <br>  Pode-se usar certificados do lado do cliente, por exemplo, o formato x.509, que cont√©m informa√ß√µes sobre o propriet√°rio, uma chave p√∫blica, informa√ß√µes sobre uma autoridade de certifica√ß√£o e uma assinatura digital eletr√¥nica.  O bom desses certificados √© que o JavaScript n√£o tem uma interface expl√≠cita para acessar essas coisas.  Portanto, diferentemente dos cookies, onde sempre h√° uma "corrida armamentista" para encontrar erros de pol√≠tica da mesma origem, os certificados n√£o t√™m uma interface JavaScript expl√≠cita para isso.  Portanto, isso √© muito bom do ponto de vista da seguran√ßa. <br><br>  Um dos problemas que mencionei brevemente e que discutiremos em detalhes em palestras subsequentes √© a revoga√ß√£o de certificados.  Se um usu√°rio deixar sua organiza√ß√£o, como voc√™ pode obter um certificado dele?  Isto √© bastante complicado. <br><br><img src="https://habrastorage.org/webt/ow/tj/4n/owtj4npqv9thfxhl6hfa8n5elfg.jpeg"><br><br>  Al√©m disso, essas coisas n√£o s√£o muito convenientes de usar, porque ningu√©m deseja instalar v√°rios certificados para cada site que voc√™ visita.  Portanto, os certificados de autentica√ß√£o n√£o s√£o muito populares, com exce√ß√£o das empresas ou organiza√ß√µes respons√°veis ‚Äã‚Äãpela seguran√ßa com grande responsabilidade.  Isso conclui nossa discuss√£o sobre cookies. <br><br>  Agora vamos falar sobre vulnerabilidades de protocolo na pilha da web.  Um dos tipos interessantes de ataques √© usar erros nos componentes do navegador, por exemplo, ao analisar URLs.  Ent√£o, como a an√°lise de URL pode causar problemas para n√≥s? <br><br>  Suponha que tenhamos um URL do tipo em que caracteres estranhos s√£o incorporados no final por algum motivo: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">example.com</a> : 80 @ foo.com. <br><br>  A quest√£o √©: qual √© a origem desse URL espec√≠fico?  O Flash pensaria que o nome do host √© example.com.  Mas quando o navegador analisa o endere√ßo, ele pensa que a origem do host nesse caso √© foo.com. <br><br><img src="https://habrastorage.org/webt/mc/uo/s3/mcuos3xx1tdpkoorj-cg6z_tdeu.jpeg"><br><br>  Isso √© muito ruim, porque quando temos duas entidades diferentes que est√£o confusas sobre a origem da origem do mesmo recurso, h√° muitos problemas desagrad√°veis. <br>  Por exemplo, um c√≥digo flash pode ser malicioso e fazer o download de algum material de example.com.  Se a explora√ß√£o foi incorporada √† p√°gina com foo.com, ela tamb√©m poderia fazer algumas coisas m√°s por l√°.  E ent√£o ele pega um c√≥digo do example.com e o executa com os poderes do foo.com.  Muitas regras complexas de an√°lise como essas tornam a vida muito dif√≠cil.  Isso acontece o tempo todo. <br><br>  Acabamos de examinar a desinfec√ß√£o do conte√∫do, cuja principal id√©ia √© que geralmente √© muito melhor quando existem regras de an√°lise mais simples para esse tipo de coisa.  No entanto, retrospectivamente, isso √© dif√≠cil, porque o HTML j√° est√° l√°. <br>  Agora vamos falar sobre minha vulnerabilidade de seguran√ßa favorita - arquivos com a extens√£o .jar, que s√£o um arquivo ZIP com parte do programa Java.  Os arquivos JAR do navegador se tornam o alvo do ataque, principalmente os applets Java.  Por volta de 2007, um excelente site chamado lifehacker.com explicou como incorporar arquivos zip em imagens.  N√£o est√° claro de quem voc√™ est√° tentando se esconder, mas lifehacker.com garante que voc√™ possa fazer isso. <br><br>  Eles usam principalmente o fato de que, se voc√™ observar formatos de imagem, como GIFs, o analisador funcionar√° de cima para baixo.  Primeiro, ele encontra as informa√ß√µes no cabe√ßalho e depois olha os bits restantes localizados na parte inferior. <br><br><img src="https://habrastorage.org/webt/dx/2c/aj/dx2cajp2tth8bgt_-echscd6m-i.jpeg"><br><br>  Como se viu, os programas que geralmente manipulam arquivos ZIP funcionam de baixo para cima, ou seja, o oposto da dire√ß√£o da an√°lise da imagem.  Primeiro, eles encontram as informa√ß√µes no rodap√© do arquivo e descompactam o que est√° dentro do arquivo morto.  Assim, se voc√™ colocar um arquivo de imagem que contenha um arquivo ZIP, ele passar√° em todas as verifica√ß√µes, at√© a verifica√ß√£o do Flickr, como qualquer outra imagem, e at√© aparecer√° como uma imagem no seu navegador. <br><br>  Mas somente voc√™ conhecer√° a verdade oculta.  Somente voc√™ estar√° ciente de que, se voc√™ pegar esse arquivo, poder√° descompact√°-lo e usar as informa√ß√µes contidas nele.  Parece um truque barato, mas os hackers nunca dormem, eles constantemente querem arruinar nossas vidas.  Ent√£o, como eles implementam essa ideia? <br><br>  Eles entendem que os arquivos JAR s√£o derivados do formato .zip.  Isso significa que voc√™ pode criar uma anima√ß√£o GIF ou uma imagem est√°tica que teria um arquivo JAR, ou seja, c√≥digo execut√°vel JavaScript, na parte inferior. <br><br>  Mais tarde, as pessoas chamaram esse m√©todo de ataque de GIFAR, meio GIF, meio JAR e as duas metades s√£o m√°s.  Foi demais.  Quando as pessoas descobriram essa oportunidade pela primeira vez, acharam incr√≠vel, mas n√£o entenderam como us√°-la.  Mas, como se viu, com base nas seguintes a√ß√µes podem ser feitas. <br><br><img src="https://habrastorage.org/webt/sa/ro/bv/sarobvldxpltyhqughpaublh9ew.jpeg"><br><br>  Ent√£o, como voc√™ pode fazer isso?  Voc√™ acabou de usar o CAD.  Tome .gif, pegue .jar, use o arquivo de extra√ß√£o autom√°tica - boom e o GIFAR o atacou! <br><br>  Ent√£o, depois de ter isso, o que voc√™ pode fazer?  Existem alguns sites confidenciais que permitem aos usu√°rios fornecer dados, mas n√£o tipos de dados arbitr√°rios.  Portanto, o Flickr ou algo parecido pode n√£o permitir o envio de ActiveX arbitr√°rio ou qualquer outro HTML arbitr√°rio.  Mas voc√™ poder√° enviar imagens.  Assim, voc√™ pode criar uma dessas coisas e envi√°-la para um desses sites confidenciais que permite enviar imagens.  O que voc√™ precisa fazer para realizar um ataque bem-sucedido neste caso? <br><br><img src="https://habrastorage.org/webt/zu/vk/z6/zuvkz6jxe3v6rqnrvhfdfrzk5j8.jpeg"><br><br>  Em primeiro lugar, envie esta imagem "recheada" para um desses sites.  Em segundo lugar, use o m√©todo de ataque de script entre sites XSS, usando as vulnerabilidades existentes.  Para fazer isso, voc√™ precisa inserir o applet, escrevendo em JavaScript essa express√£o: <br><br>  Esse c√≥digo explora a vulnerabilidade de script entre sites e, portanto, ser√° iniciado no conte√∫do do site.  O GIFAR passar√° na verifica√ß√£o de origem, porque vem de um site com uma fonte de origem comum, apesar do fato de esse c√≥digo ter sido inserido por um invasor. <br><br>  Portanto, agora o invasor tem a oportunidade de executar esse applet Java no contexto do site da v√≠tima com todas as permiss√µes de origem.  E uma dessas coisas ser√° realmente identificada corretamente como uma imagem GIF.  Mas h√° um c√≥digo oculto aqui.  Deixe-me lembr√°-lo de que, inicialmente, o navegador descompacta os arquivos arquivados; portanto, antes de tudo, ele inicia a parte JAR, ignora a parte superior do GIF.  Ent√£o isso √© realmente incr√≠vel. <br><br>  Existem algumas maneiras bastante simples de corrigir isso.  Por exemplo, voc√™ pode usar o carregador de applet, que entende que n√£o deve haver nenhum lixo aleat√≥rio.  Em muitos casos, s√£o usadas informa√ß√µes de metadados que mostram o tamanho desse recurso.  Nesse caso, o carregador iniciar√°, como esperado, a partir do topo, analisar√° seu comprimento, verificar√° que o applet termina na parte superior e parar√°.  Ele n√£o se importa com a parte inferior, √© poss√≠vel que seja igual a 0. No nosso caso, esse carregador n√£o ajudar√°, pois ele come√ßar√° a processar a solicita√ß√£o da parte inferior arquivada e parar√° na frente da parte superior, ignorando-a. <br><br>  O que eu gosto sobre isso √© que ele realmente mostra a largura da pilha de software da Internet.  Tomando apenas esses dois formatos, GIF e JAR, voc√™ pode criar um ataque realmente desagrad√°vel. <br><br>  Voc√™ pode fazer o mesmo com arquivos PDF.  Voc√™ pode colocar um PDF em vez de um GIF e chamar esse ataque de algo dos perigos do PDFAR.  Mas, no final, as pessoas descobriram esse problema e agora s√£o eliminadas vulnerabilidades desse tipo. <br><br>  <b>P√∫blico:</b> O que voc√™ pode fazer com esse tipo de ataque, que n√£o pode ser feito com um ataque regular de script entre sites do XSS? <br><br>  <b>Professor:</b> Essa √© uma boa pergunta.  Portanto, o que √© bom nisso √© que o Java geralmente pode ser uma ferramenta mais poderosa do que o JavaScript comum, porque usa regras ligeiramente diferentes, a mesma pol√≠tica de origem e coisas do g√™nero.  Mas voc√™ est√° certo de que, se voc√™ pode executar scripts entre sites, a execu√ß√£o do pr√≥prio JavaScript pode ser bastante prejudicial.  Mas a principal vantagem desse m√©todo √© que essa tecnologia de ataque funciona dentro do miniaplicativo e pode fazer o que n√£o √© poss√≠vel com o c√≥digo de script malicioso comum. <br><br>  Ent√£o, como eu disse, esse √© o meu ataque favorito de todos os tempos, principalmente porque fez com que pessoas respeit√°veis ‚Äã‚Äãem seguran√ßa de computadores pensassem em uma palavra como GIFAR. <br><br>  Outra coisa interessante √© o uso de ataques baseados no tempo.  Geralmente, as pessoas n√£o pensam no tempo como um recurso, que pode ser um vetor para ataques.  Mas, como observei alguns minutos atr√°s, esse tempo pode realmente ser um meio de introduzir uma explora√ß√£o no sistema. <br><br>  O ataque espec√≠fico que vou falar com voc√™ √© o ataque secreto do canal.  A id√©ia desse ataque √© que um invasor encontre uma maneira de trocar informa√ß√µes entre dois aplicativos, e essa opera√ß√£o de troca n√£o est√° autorizada.  Um invasor est√° de alguma forma usando alguma parte do sistema para transferir bits de informa√ß√µes entre dois recursos diferentes. <br><br>  Um bom exemplo disso √© um ataque de sniffing CSS.  O que √© esse ataque? <br><br>  Suponha que um invasor tenha um site que um usu√°rio possa visitar.  Fazer um usu√°rio visitar um site √© realmente bastante simples.  Voc√™ cria um an√∫ncio ou envia um email de phishing. <br><br>  Assim, o invasor possui um site que o usu√°rio visita.  E o objetivo do invasor √© descobrir quais outros sites o usu√°rio visitou.  Um invasor pode querer saber disso por v√°rios motivos.  Talvez ele esteja interessado nas consultas de pesquisa do usu√°rio, ou ele esteja tentando descobrir onde essa pessoa trabalha, ou talvez ele queira saber se essa pessoa est√° visitando alguns sites "vergonhosos" e assim por diante. <br><br><img src="https://habrastorage.org/webt/ll/z-/f3/llz-f3q7wj73o5ghn8d5urhxb7g.jpeg"><br><br>  Como um invasor far√° isso se a √∫nica coisa que ele controla √© um site que ele deseja convencer um usu√°rio a visitar?  Uma maneira poss√≠vel √© usar as cores dos links.  Como voc√™ sabe, se voc√™ seguiu um link uma vez, na pr√≥xima vez em que ele aparecer√° no seu navegador em uma cor diferente, indicando que voc√™ j√° fez a transi√ß√£o para esse link.  Esta √© realmente uma vulnerabilidade de seguran√ßa. <br><br>  Como isso significa que em seu site, um invasor pode gerar uma lista enorme de poss√≠veis URLs que voc√™ pode visitar e, em seguida, usar JavaScript para ver qual a cor que esses URLs adquiriram.  E se a cor do link do URL estiver roxa, significa que voc√™ visitou este site.  Portanto, este √© um truque bastante sutil. <br><br>  O interessante √© que, em muitos casos, voc√™ nem precisa exibir URLs.  Voc√™ pode organizar os links na forma de cabe√ßalhos na tela de acordo com o tipo de domin√≥, e esses cabe√ßalhos mudar√£o de cor se o usu√°rio usar esse link.  Talvez voc√™ ache muito entediante rastrear todos esses URLs de sites visitados pelo usu√°rio?  Mas esse processo pode ser otimizado usando v√°rias passagens filtradas na lista de endere√ßos.  Por exemplo, voc√™ pode ver primeiro se o usu√°rio visitou o URL de n√≠vel superior - cnn.com, Facebook.com e assim por diante.  Se a resposta for sim, voc√™ pode selecionar as p√°ginas de n√≠vel superior mais visitadas.  Dessa forma, voc√™ pode realmente limitar sua pesquisa. <br><br>  Portanto, a fun√ß√£o inofensiva que os navegadores suportam para ajudar o usu√°rio, dizendo: ‚Äúei, amigo, foi para onde voc√™ foi!‚Äù Pode ser usada por um invasor como evid√™ncia comprometedora para voc√™. <br><br><img src="https://habrastorage.org/webt/dz/qy/tg/dzqytgmk-gbiyefqqk3o-jn9lle.jpeg"><br><br>  Como posso impedir um ataque ao canal secreto?  Na pr√°tica, isso √© feito para que o navegador simplesmente engane o JavaScript sobre a cor correta dos links.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando o JavaScript tenta examinar um link e seu estilo, o navegador sempre diz que o link nunca foi visitado. </font><font style="vertical-align: inherit;">E embora isso n√£o pare√ßa ser uma solu√ß√£o muito boa, evita um ataque desse tipo. </font><font style="vertical-align: inherit;">Penso que podemos conciliar que o JavaScript n√£o ser√° capaz de ler as cores dos links, este n√£o √© o fim do mundo. </font><font style="vertical-align: inherit;">Mas isso corrige o problema de um invasor que deseja descobrir quais sites voc√™ visitou? </font><font style="vertical-align: inherit;">Claro que n√£o. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, o pr√≥ximo ataque que um invasor pode organizar √© um ataque baseado em cache. </font><font style="vertical-align: inherit;">O objetivo dela √© o mesmo: um hacker deseja saber quais sites voc√™ visita.</font></font><br><br>       ,   ,         .  ,       ,         . <br><br><img src="https://habrastorage.org/webt/ah/rb/k2/ahrbk2c77e0qvutlug1awoh147s.jpeg"><br><br>  ,       ‚Äî , ,   ,    ,    ,       .    ,  ,      ,         ,     .  ? <br><br>  ,     .         .   ,            . <br><br> ,    Google Map Tiles.   ,        ¬´¬ª Google Map,  ,       ,     ,      .      . <br><br>      ? ,    .     ,     ,      ,     .     ,     . <br><br>  ,     ,      ,   JavaScript     .       ,     ,         DNS. <br>   :      ,       ,     DNS  ,    .  , , -,     ,         -.      ,      ,      DNS   .   ,      ,    DNS    ,    . <br><br><img src="https://habrastorage.org/webt/1a/6o/qt/1a6oqtqqp9ee4eq_xegvmbuvmmw.jpeg"><br><br> <b>:</b>        JavaScript  . <br><br> <b>:</b> ,  ! <br><br> <b>:</b>      ,    ,    ,   ,       ? <br><br> <b>:</b> ,   .    ,         ‚Äî     - ,     ,   ,  -      URL.   ,     API‚Äì   ,    . <br><br> <b>:</b>      -  ,   ,        ? <br> <b>:</b>   .  ,   API    ‚Äî  .     ,    ?   ,    DNS ,     . <br><br> ,  ,      IP ‚Äî    ?    !      ,     JavaScript  .       .     ,  ,       !           . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A id√©ia principal aqui √© processar o URL que voc√™ visitou anteriormente mais rapidamente. </font></font><br><br><img src="https://habrastorage.org/webt/yt/ez/21/ytez21vos7pryus3awum_33cd0u.jpeg"><br><br><pre><code class="hljs xml">       <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span>,    , ,   , , , ,    ,        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span>.     <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span> ,   ,   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span>      .       ,    origin,        .</code> </pre> <br>  Assim, o invasor n√£o pode mais tocar em nada e conclui que ele foi capaz de determinar o site que voc√™ visitou anteriormente. <br><br>  Vejo voc√™ na pr√≥xima palestra! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6HhmIlbE0l0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  A vers√£o completa do curso est√° dispon√≠vel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD de 1Gbps at√© dezembro de gra√ßa</b> quando pagar por um per√≠odo de seis meses, voc√™ pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente n√≥s temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt424297/">https://habr.com/ru/post/pt424297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt424279/index.html">Como abrir um IP na Alemanha, se voc√™ √© um programador, e n√£o encher cones</a></li>
<li><a href="../pt424285/index.html">Dicas de inicializa√ß√£o do Y Combinator: desenvolva mercados de brinquedos</a></li>
<li><a href="../pt424287/index.html">Como participamos do InnovateFPGA 2018 e n√£o vencemos novamente</a></li>
<li><a href="../pt424289/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 9: Seguran√ßa de Aplicativos Web, Parte 1</a></li>
<li><a href="../pt424295/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 9: Seguran√ßa de Aplicativos Web, Parte 2</a></li>
<li><a href="../pt424301/index.html">Algoritmo de filtro de imagem de rede neural adaptativa</a></li>
<li><a href="../pt424305/index.html">RIBs de arquitetura m√≥vel de plataforma cruzada Uber</a></li>
<li><a href="../pt424307/index.html">GitLab 11.3 lan√ßado com reposit√≥rio Maven e ambientes seguros</a></li>
<li><a href="../pt424309/index.html">DevCore: parte do software do projeto DevBoy</a></li>
<li><a href="../pt424311/index.html">L√≥gica de neg√≥cios ass√≠ncrona nos dias de hoje</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>