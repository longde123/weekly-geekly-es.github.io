<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍳 👂 ❇️ Curso MIT "Segurança de sistemas de computadores". Aula 9: Segurança de Aplicativos Web, Parte 3 👨‍⚖️ 🗺️ 🚓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula nº 6.858. "Segurança de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Segurança de sistemas de computadores". Aula 9: Segurança de Aplicativos Web, Parte 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424297/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula nº 6.858.  "Segurança de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security é um curso sobre o desenvolvimento e implementação de sistemas de computador seguros.  As palestras abrangem modelos de ameaças, ataques que comprometem a segurança e técnicas de segurança baseadas em trabalhos científicos recentes.  Os tópicos incluem segurança do sistema operacional (SO), recursos, gerenciamento de fluxo de informações, segurança de idiomas, protocolos de rede, segurança de hardware e segurança de aplicativos da web. <br><br>  Palestra 1: “Introdução: modelos de ameaças” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: “Controle de ataques de hackers” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: “Estouros de Buffer: Explorações e Proteção” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: “Separação de Privilégios” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: “De onde vêm os sistemas de segurança?” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: “Oportunidades” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: “Sandbox do Cliente Nativo” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: “Modelo de Segurança de Rede” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 9: “Segurança de aplicativos da Web” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  <b>Público:</b> então o que impede um invasor de encontrar uma chave?  Onde está localizada essa chave secreta? <br><br><img src="https://habrastorage.org/webt/bg/sq/ed/bgsqedpvcmvdbjwjps3a84ok0ow.jpeg"><br><br>  <b>Professor:</b> Sim, essa é uma boa pergunta.  Na maioria dos casos, o cliente da AWS não é um navegador, mas algumas máquinas virtuais em execução na nuvem.  Assim, você vê apenas a comunicação entre máquinas virtuais.  Você também pode imaginar que os usuários possam, de alguma forma, fornecer esses links ou incorporá-los de alguma forma em HTML.  Se você tiver algo parecido com o mostrado no quadro dentro do código-fonte HTML ou JavaScript, terá o código para criar essa solicitação.  Portanto, se eu lhe fornecer uma dessas coisas, você poderá fazer uma solicitação em meu nome. <br><br>  <b>Público:</b> É possível usar o MAC para clientes normais? <br><br>  <b>Professor:</b> para normal - você quer dizer navegadores? <br><br>  <b>Público:</b> para usuários comuns. <br><br>  Professor: o fato é que a questão de onde a chave realmente vive é crucial.  Porque se a chave pode ser roubada tão facilmente quanto os cookies, não ganhamos nada.  Portanto, em muitos casos, todas essas coisas são armazenadas em algum lugar da nuvem e servem para trocar dados entre máquinas virtuais e são transmitidas de servidor para servidor também na nuvem.  Assim, o desenvolvedor do aplicativo inicia a VM, que usa a terceirização de várias coisas armazenadas na AWS. <br><br>  <b>Público-alvo:</b> existe um problema de atraso na rede aqui, para que o invasor possa enviar a mesma solicitação imediatamente após o usuário e também obter acesso? <br><br>  <b>Professor:</b> sim, basta dizer que várias pessoas defenderam dissertações sobre o tema segurança de timestamps.  Mas você está absolutamente certo, porque consideramos um exemplo bastante grosseiro. <br><br><img src="https://habrastorage.org/webt/xx/ix/6z/xxix6zb30_tylvsmsbrynpucipc.jpeg"><br><br>  Imagine que aqui, neste exemplo String To Sign, na linha DATE, teremos o valor “segunda-feira, 4 de junho”.  Então, se de alguma forma o invasor puder obter acesso a tudo isso, ele poderá repetir a solicitação do usuário.  O fato é que a AWS permite que você use a data de validade dessas coisas.  Portanto, uma coisa que você pode fazer é adicionar o campo Expira aqui e assumiremos que uma data de validade foi definida. <br><br><img src="https://habrastorage.org/webt/pw/ul/9c/pwul9ccnk3ss1uycrvipf39mchu.jpeg"><br><br>  Então, posso fornecer esse link para várias pessoas diferentes, e o servidor verificará se as solicitações expiraram. <br><br>  <b>Público:</b> mesmo que a data de validade seja de apenas 200 milissegundos, mas o invasor esteja monitorando a rede, ele poderá enviar apenas algumas cópias da solicitação em vez de uma. <br><br>  <b>Professor: é</b> absolutamente verdade que, se o atacante atacar a rede e ver como essas coisas são transmitidas por fio, e houver espaço suficiente para manobra na data de vencimento, ele poderá definitivamente fazer esse ataque. <br><br>  Portanto, essa foi uma visão geral de como os cookies sem estado funcionam.  Isso levanta uma questão interessante: o que significa fazer logout com cookies desse tipo?  A resposta é que você realmente não está saindo.  Quero dizer, você tem essa chave e sempre que quiser enviar uma solicitação, basta enviá-la.  Mas o servidor pode revogar sua chave. <br><br>  Suponha que o servidor revogou a chave.  Mas você pode criar uma dessas coisas GET e, quando enviar uma mensagem para o servidor, ele dirá: "Sim, eu já sei seu ID de usuário, a chave foi revogada e não atenderei sua solicitação".  No entanto, existem nuances e, se falarmos sobre coisas como SSL, capacitar uma pessoa é muito mais fácil do que lembrá-las. <br><br>  Como tal, existem várias outras coisas que você pode usar se quiser evitar os cookies tradicionais para implementar a autenticação.  Um deles é o uso de armazenamento DOM, que contém informações sobre autenticação do lado do cliente.  Você pode usar o repositório DOM para armazenar alguns estados de sessão que geralmente são colocados dentro de cookies. <br><br><img src="https://habrastorage.org/webt/6c/u3/z8/6cu3z8oazkleohxh9fnrvk1_hay.jpeg"><br><br>  Se você se lembra da última aula, o repositório DOM é uma interface-chave dos valores que o navegador fornece a cada fonte, ou seja, o navegador os retira de lá e os insere em uma string. <br><br>  O bom é que o DOM não possui regras tão estúpidas em relação às mesmas políticas da mesma origem.  Portanto, se esses cookies fossem regulares, você poderia fazer todos esses truques de subdomínio e similares.  Na verdade, o repositório DOM está estritamente vinculado a uma única fonte, portanto, você não pode estender nenhum subdomínio.  Portanto, estruturas como o Meteor usam esse armazenamento. <br><br>  Mas observe que, se você deseja salvar as informações de autenticação no repositório DOM, precisará escrever o código JavaScript para transferir essas informações para o servidor, criptografá-las e assim por diante.  Aqui está o que você precisa fazer neste caso. <br>  Pode-se usar certificados do lado do cliente, por exemplo, o formato x.509, que contém informações sobre o proprietário, uma chave pública, informações sobre uma autoridade de certificação e uma assinatura digital eletrônica.  O bom desses certificados é que o JavaScript não tem uma interface explícita para acessar essas coisas.  Portanto, diferentemente dos cookies, onde sempre há uma "corrida armamentista" para encontrar erros de política da mesma origem, os certificados não têm uma interface JavaScript explícita para isso.  Portanto, isso é muito bom do ponto de vista da segurança. <br><br>  Um dos problemas que mencionei brevemente e que discutiremos em detalhes em palestras subsequentes é a revogação de certificados.  Se um usuário deixar sua organização, como você pode obter um certificado dele?  Isto é bastante complicado. <br><br><img src="https://habrastorage.org/webt/ow/tj/4n/owtj4npqv9thfxhl6hfa8n5elfg.jpeg"><br><br>  Além disso, essas coisas não são muito convenientes de usar, porque ninguém deseja instalar vários certificados para cada site que você visita.  Portanto, os certificados de autenticação não são muito populares, com exceção das empresas ou organizações responsáveis ​​pela segurança com grande responsabilidade.  Isso conclui nossa discussão sobre cookies. <br><br>  Agora vamos falar sobre vulnerabilidades de protocolo na pilha da web.  Um dos tipos interessantes de ataques é usar erros nos componentes do navegador, por exemplo, ao analisar URLs.  Então, como a análise de URL pode causar problemas para nós? <br><br>  Suponha que tenhamos um URL do tipo em que caracteres estranhos são incorporados no final por algum motivo: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">example.com</a> : 80 @ foo.com. <br><br>  A questão é: qual é a origem desse URL específico?  O Flash pensaria que o nome do host é example.com.  Mas quando o navegador analisa o endereço, ele pensa que a origem do host nesse caso é foo.com. <br><br><img src="https://habrastorage.org/webt/mc/uo/s3/mcuos3xx1tdpkoorj-cg6z_tdeu.jpeg"><br><br>  Isso é muito ruim, porque quando temos duas entidades diferentes que estão confusas sobre a origem da origem do mesmo recurso, há muitos problemas desagradáveis. <br>  Por exemplo, um código flash pode ser malicioso e fazer o download de algum material de example.com.  Se a exploração foi incorporada à página com foo.com, ela também poderia fazer algumas coisas más por lá.  E então ele pega um código do example.com e o executa com os poderes do foo.com.  Muitas regras complexas de análise como essas tornam a vida muito difícil.  Isso acontece o tempo todo. <br><br>  Acabamos de examinar a desinfecção do conteúdo, cuja principal idéia é que geralmente é muito melhor quando existem regras de análise mais simples para esse tipo de coisa.  No entanto, retrospectivamente, isso é difícil, porque o HTML já está lá. <br>  Agora vamos falar sobre minha vulnerabilidade de segurança favorita - arquivos com a extensão .jar, que são um arquivo ZIP com parte do programa Java.  Os arquivos JAR do navegador se tornam o alvo do ataque, principalmente os applets Java.  Por volta de 2007, um excelente site chamado lifehacker.com explicou como incorporar arquivos zip em imagens.  Não está claro de quem você está tentando se esconder, mas lifehacker.com garante que você possa fazer isso. <br><br>  Eles usam principalmente o fato de que, se você observar formatos de imagem, como GIFs, o analisador funcionará de cima para baixo.  Primeiro, ele encontra as informações no cabeçalho e depois olha os bits restantes localizados na parte inferior. <br><br><img src="https://habrastorage.org/webt/dx/2c/aj/dx2cajp2tth8bgt_-echscd6m-i.jpeg"><br><br>  Como se viu, os programas que geralmente manipulam arquivos ZIP funcionam de baixo para cima, ou seja, o oposto da direção da análise da imagem.  Primeiro, eles encontram as informações no rodapé do arquivo e descompactam o que está dentro do arquivo morto.  Assim, se você colocar um arquivo de imagem que contenha um arquivo ZIP, ele passará em todas as verificações, até a verificação do Flickr, como qualquer outra imagem, e até aparecerá como uma imagem no seu navegador. <br><br>  Mas somente você conhecerá a verdade oculta.  Somente você estará ciente de que, se você pegar esse arquivo, poderá descompactá-lo e usar as informações contidas nele.  Parece um truque barato, mas os hackers nunca dormem, eles constantemente querem arruinar nossas vidas.  Então, como eles implementam essa ideia? <br><br>  Eles entendem que os arquivos JAR são derivados do formato .zip.  Isso significa que você pode criar uma animação GIF ou uma imagem estática que teria um arquivo JAR, ou seja, código executável JavaScript, na parte inferior. <br><br>  Mais tarde, as pessoas chamaram esse método de ataque de GIFAR, meio GIF, meio JAR e as duas metades são más.  Foi demais.  Quando as pessoas descobriram essa oportunidade pela primeira vez, acharam incrível, mas não entenderam como usá-la.  Mas, como se viu, com base nas seguintes ações podem ser feitas. <br><br><img src="https://habrastorage.org/webt/sa/ro/bv/sarobvldxpltyhqughpaublh9ew.jpeg"><br><br>  Então, como você pode fazer isso?  Você acabou de usar o CAD.  Tome .gif, pegue .jar, use o arquivo de extração automática - boom e o GIFAR o atacou! <br><br>  Então, depois de ter isso, o que você pode fazer?  Existem alguns sites confidenciais que permitem aos usuários fornecer dados, mas não tipos de dados arbitrários.  Portanto, o Flickr ou algo parecido pode não permitir o envio de ActiveX arbitrário ou qualquer outro HTML arbitrário.  Mas você poderá enviar imagens.  Assim, você pode criar uma dessas coisas e enviá-la para um desses sites confidenciais que permite enviar imagens.  O que você precisa fazer para realizar um ataque bem-sucedido neste caso? <br><br><img src="https://habrastorage.org/webt/zu/vk/z6/zuvkz6jxe3v6rqnrvhfdfrzk5j8.jpeg"><br><br>  Em primeiro lugar, envie esta imagem "recheada" para um desses sites.  Em segundo lugar, use o método de ataque de script entre sites XSS, usando as vulnerabilidades existentes.  Para fazer isso, você precisa inserir o applet, escrevendo em JavaScript essa expressão: <br><br>  Esse código explora a vulnerabilidade de script entre sites e, portanto, será iniciado no conteúdo do site.  O GIFAR passará na verificação de origem, porque vem de um site com uma fonte de origem comum, apesar do fato de esse código ter sido inserido por um invasor. <br><br>  Portanto, agora o invasor tem a oportunidade de executar esse applet Java no contexto do site da vítima com todas as permissões de origem.  E uma dessas coisas será realmente identificada corretamente como uma imagem GIF.  Mas há um código oculto aqui.  Deixe-me lembrá-lo de que, inicialmente, o navegador descompacta os arquivos arquivados; portanto, antes de tudo, ele inicia a parte JAR, ignora a parte superior do GIF.  Então isso é realmente incrível. <br><br>  Existem algumas maneiras bastante simples de corrigir isso.  Por exemplo, você pode usar o carregador de applet, que entende que não deve haver nenhum lixo aleatório.  Em muitos casos, são usadas informações de metadados que mostram o tamanho desse recurso.  Nesse caso, o carregador iniciará, como esperado, a partir do topo, analisará seu comprimento, verificará que o applet termina na parte superior e parará.  Ele não se importa com a parte inferior, é possível que seja igual a 0. No nosso caso, esse carregador não ajudará, pois ele começará a processar a solicitação da parte inferior arquivada e parará na frente da parte superior, ignorando-a. <br><br>  O que eu gosto sobre isso é que ele realmente mostra a largura da pilha de software da Internet.  Tomando apenas esses dois formatos, GIF e JAR, você pode criar um ataque realmente desagradável. <br><br>  Você pode fazer o mesmo com arquivos PDF.  Você pode colocar um PDF em vez de um GIF e chamar esse ataque de algo dos perigos do PDFAR.  Mas, no final, as pessoas descobriram esse problema e agora são eliminadas vulnerabilidades desse tipo. <br><br>  <b>Público:</b> O que você pode fazer com esse tipo de ataque, que não pode ser feito com um ataque regular de script entre sites do XSS? <br><br>  <b>Professor:</b> Essa é uma boa pergunta.  Portanto, o que é bom nisso é que o Java geralmente pode ser uma ferramenta mais poderosa do que o JavaScript comum, porque usa regras ligeiramente diferentes, a mesma política de origem e coisas do gênero.  Mas você está certo de que, se você pode executar scripts entre sites, a execução do próprio JavaScript pode ser bastante prejudicial.  Mas a principal vantagem desse método é que essa tecnologia de ataque funciona dentro do miniaplicativo e pode fazer o que não é possível com o código de script malicioso comum. <br><br>  Então, como eu disse, esse é o meu ataque favorito de todos os tempos, principalmente porque fez com que pessoas respeitáveis ​​em segurança de computadores pensassem em uma palavra como GIFAR. <br><br>  Outra coisa interessante é o uso de ataques baseados no tempo.  Geralmente, as pessoas não pensam no tempo como um recurso, que pode ser um vetor para ataques.  Mas, como observei alguns minutos atrás, esse tempo pode realmente ser um meio de introduzir uma exploração no sistema. <br><br>  O ataque específico que vou falar com você é o ataque secreto do canal.  A idéia desse ataque é que um invasor encontre uma maneira de trocar informações entre dois aplicativos, e essa operação de troca não está autorizada.  Um invasor está de alguma forma usando alguma parte do sistema para transferir bits de informações entre dois recursos diferentes. <br><br>  Um bom exemplo disso é um ataque de sniffing CSS.  O que é esse ataque? <br><br>  Suponha que um invasor tenha um site que um usuário possa visitar.  Fazer um usuário visitar um site é realmente bastante simples.  Você cria um anúncio ou envia um email de phishing. <br><br>  Assim, o invasor possui um site que o usuário visita.  E o objetivo do invasor é descobrir quais outros sites o usuário visitou.  Um invasor pode querer saber disso por vários motivos.  Talvez ele esteja interessado nas consultas de pesquisa do usuário, ou ele esteja tentando descobrir onde essa pessoa trabalha, ou talvez ele queira saber se essa pessoa está visitando alguns sites "vergonhosos" e assim por diante. <br><br><img src="https://habrastorage.org/webt/ll/z-/f3/llz-f3q7wj73o5ghn8d5urhxb7g.jpeg"><br><br>  Como um invasor fará isso se a única coisa que ele controla é um site que ele deseja convencer um usuário a visitar?  Uma maneira possível é usar as cores dos links.  Como você sabe, se você seguiu um link uma vez, na próxima vez em que ele aparecerá no seu navegador em uma cor diferente, indicando que você já fez a transição para esse link.  Esta é realmente uma vulnerabilidade de segurança. <br><br>  Como isso significa que em seu site, um invasor pode gerar uma lista enorme de possíveis URLs que você pode visitar e, em seguida, usar JavaScript para ver qual a cor que esses URLs adquiriram.  E se a cor do link do URL estiver roxa, significa que você visitou este site.  Portanto, este é um truque bastante sutil. <br><br>  O interessante é que, em muitos casos, você nem precisa exibir URLs.  Você pode organizar os links na forma de cabeçalhos na tela de acordo com o tipo de dominó, e esses cabeçalhos mudarão de cor se o usuário usar esse link.  Talvez você ache muito entediante rastrear todos esses URLs de sites visitados pelo usuário?  Mas esse processo pode ser otimizado usando várias passagens filtradas na lista de endereços.  Por exemplo, você pode ver primeiro se o usuário visitou o URL de nível superior - cnn.com, Facebook.com e assim por diante.  Se a resposta for sim, você pode selecionar as páginas de nível superior mais visitadas.  Dessa forma, você pode realmente limitar sua pesquisa. <br><br>  Portanto, a função inofensiva que os navegadores suportam para ajudar o usuário, dizendo: “ei, amigo, foi para onde você foi!” Pode ser usada por um invasor como evidência comprometedora para você. <br><br><img src="https://habrastorage.org/webt/dz/qy/tg/dzqytgmk-gbiyefqqk3o-jn9lle.jpeg"><br><br>  Como posso impedir um ataque ao canal secreto?  Na prática, isso é feito para que o navegador simplesmente engane o JavaScript sobre a cor correta dos links.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando o JavaScript tenta examinar um link e seu estilo, o navegador sempre diz que o link nunca foi visitado. </font><font style="vertical-align: inherit;">E embora isso não pareça ser uma solução muito boa, evita um ataque desse tipo. </font><font style="vertical-align: inherit;">Penso que podemos conciliar que o JavaScript não será capaz de ler as cores dos links, este não é o fim do mundo. </font><font style="vertical-align: inherit;">Mas isso corrige o problema de um invasor que deseja descobrir quais sites você visitou? </font><font style="vertical-align: inherit;">Claro que não. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, o próximo ataque que um invasor pode organizar é um ataque baseado em cache. </font><font style="vertical-align: inherit;">O objetivo dela é o mesmo: um hacker deseja saber quais sites você visita.</font></font><br><br>       ,   ,         .  ,       ,         . <br><br><img src="https://habrastorage.org/webt/ah/rb/k2/ahrbk2c77e0qvutlug1awoh147s.jpeg"><br><br>  ,       — , ,   ,    ,    ,       .    ,  ,      ,         ,     .  ? <br><br>  ,     .         .   ,            . <br><br> ,    Google Map Tiles.   ,        «» Google Map,  ,       ,     ,      .      . <br><br>      ? ,    .     ,     ,      ,     .     ,     . <br><br>  ,     ,      ,   JavaScript     .       ,     ,         DNS. <br>   :      ,       ,     DNS  ,    .  , , -,     ,         -.      ,      ,      DNS   .   ,      ,    DNS    ,    . <br><br><img src="https://habrastorage.org/webt/1a/6o/qt/1a6oqtqqp9ee4eq_xegvmbuvmmw.jpeg"><br><br> <b>:</b>        JavaScript  . <br><br> <b>:</b> ,  ! <br><br> <b>:</b>      ,    ,    ,   ,       ? <br><br> <b>:</b> ,   .    ,         —     - ,     ,   ,  -      URL.   ,     API–   ,    . <br><br> <b>:</b>      -  ,   ,        ? <br> <b>:</b>   .  ,   API    —  .     ,    ?   ,    DNS ,     . <br><br> ,  ,      IP —    ?    !      ,     JavaScript  .       .     ,  ,       !           . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A idéia principal aqui é processar o URL que você visitou anteriormente mais rapidamente. </font></font><br><br><img src="https://habrastorage.org/webt/yt/ez/21/ytez21vos7pryus3awum_33cd0u.jpeg"><br><br><pre><code class="hljs xml">       <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span>,    , ,   , , , ,    ,        <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span>.     <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span> ,   ,   <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">iframe</span></span></span><span class="hljs-tag">&gt;</span></span>      .       ,    origin,        .</code> </pre> <br>  Assim, o invasor não pode mais tocar em nada e conclui que ele foi capaz de determinar o site que você visitou anteriormente. <br><br>  Vejo você na próxima palestra! <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6HhmIlbE0l0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  A versão completa do curso está disponível <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Obrigado por ficar conosco.  Você gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usuários da Habr em um análogo exclusivo de servidores básicos que inventamos para você:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as opções estão disponíveis com RAID1 e RAID10, até 24 núcleos e até 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD de 1Gbps até dezembro de graça</b> quando pagar por um período de seis meses, você pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente nós temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um prédio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt424297/">https://habr.com/ru/post/pt424297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt424279/index.html">Como abrir um IP na Alemanha, se você é um programador, e não encher cones</a></li>
<li><a href="../pt424285/index.html">Dicas de inicialização do Y Combinator: desenvolva mercados de brinquedos</a></li>
<li><a href="../pt424287/index.html">Como participamos do InnovateFPGA 2018 e não vencemos novamente</a></li>
<li><a href="../pt424289/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 9: Segurança de Aplicativos Web, Parte 1</a></li>
<li><a href="../pt424295/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 9: Segurança de Aplicativos Web, Parte 2</a></li>
<li><a href="../pt424301/index.html">Algoritmo de filtro de imagem de rede neural adaptativa</a></li>
<li><a href="../pt424305/index.html">RIBs de arquitetura móvel de plataforma cruzada Uber</a></li>
<li><a href="../pt424307/index.html">GitLab 11.3 lançado com repositório Maven e ambientes seguros</a></li>
<li><a href="../pt424309/index.html">DevCore: parte do software do projeto DevBoy</a></li>
<li><a href="../pt424311/index.html">Lógica de negócios assíncrona nos dias de hoje</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>