<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüè´ üå™Ô∏è ‚§¥Ô∏è Componentes angulares con contenido en l√≠nea üîπ üè¥‚Äç‚ò†Ô∏è üçÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando crea nuevos componentes cuando desarrolla en Angular, se esfuerza por crearlos de tal manera que puedan reutilizarse muchas veces. Al igual que...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Componentes angulares con contenido en l√≠nea</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478886/">  Cuando crea nuevos componentes cuando desarrolla en Angular, se esfuerza por crearlos de tal manera que puedan reutilizarse muchas veces.  Al igual que en el desarrollo de software, un programador se esfuerza por hacer que su c√≥digo sea lo m√°s reutilizable posible.  Al mismo tiempo, quiero tener componentes que sean flexibles, pero no demasiado complejos. <br><br><img src="https://habrastorage.org/webt/lr/oc/ao/lrocaol1yl_y7iw6vulni6j1twa.jpeg"><br><a name="habracut"></a><br>  Como regla general, los componentes deben hacerse lo m√°s est√∫pidos posible para que sea m√°s f√°cil de mantener y probar.  Pero al mismo tiempo, son personalizables y flexibles para que pueda reutilizarlos muchas veces, y no lidiar con componentes de clonaci√≥n que son similares visual y funcionalmente, pero que a√∫n difieren en algo.  O bien, no agregue un mont√≥n de par√°metros a los componentes, en funci√≥n de los cuales habilitar o deshabilitar el comportamiento de cualquier componente, sino que de hecho se utilizar√° en 1 de cada 100 casos. <br><br>  Crear un submarino, que deber√≠a hundirse hasta el fondo del mar azul sin riesgo para la vida de la tripulaci√≥n, y luego modificarlo antes de volar por el cielo azul no es una tarea f√°cil. <br><cut></cut><br>  Un componente angular es la unidad m√°s peque√±a de la interfaz de usuario que debe realizar una tarea simple y nada m√°s.  Crear componentes para todas las ocasiones es una mala pr√°ctica.  Por lo tanto, debe encontrar un compromiso entre flexibilidad y simplicidad. <br><br>  Suponga que desea crear un componente que consista en alg√∫n tipo de envoltorio, dentro del cual hay un encabezado y alg√∫n tipo de interruptor, y algo de contenido debajo de ellos.  Algo como esto: <br><br><img src="https://habrastorage.org/webt/bx/c5/wr/bxc5wriimpcbk-mjo8d25duq5fi.png"><br><br>  Todo el componente, que se denominar√° widget, se describe en verde.  El interruptor de encabezado se resalta en rojo y el contenido se resalta en azul.  Angular es un marco incre√≠blemente poderoso; crear un componente similar al de la imagen es una tarea muy trivial para Angular. <br><br><img src="https://habrastorage.org/webt/o-/5c/nw/o-5cnwpcgp__849owtseim7lul8.jpeg" width="300" align="right">  Pero, ¬øqu√© sucede si este componente se hace m√°s flexible, por ejemplo, para que el contenido cambie seg√∫n los par√°metros del componente del widget? <br><br>  Puede resolver la representaci√≥n externa del contenido en funci√≥n del par√°metro del widget, por ejemplo, utilizando la directiva estructural <i>ngIf</i> .  Puede cambiar entre diferentes vistas.  Y si hay demasiados env√≠os, puede usar otra directiva estructural <i>ngSwitch</i> . <br><br><img src="https://habrastorage.org/webt/yg/nj/yj/ygnjyj4lqsygs2n20foagrb8gws.jpeg" width="300" align="left">  ¬øY si las diferentes vistas responden de manera diferente a las acciones del usuario?  Entonces el c√≥digo del componente tambi√©n tendr√° un mont√≥n de declaraciones condicionales.  Pero el c√≥digo, en el que hay muchas declaraciones condicionales, con el tiempo se vuelve dif√≠cil de mantener, corregir errores o ampliar la funcionalidad ... <br><br>  Puede crear un componente de widget para que reciba cualquier contenido, pero al mismo tiempo arroja los valores seleccionados del panel de filtro en los componentes del √°rea de contenido.  Y tambi√©n me gustar√≠a poder reenviar par√°metros desde el componente principal del widget al contenido, sin afectar el componente del widget en s√≠.  Para resolver este problema, puede usar la maravillosa directiva <i>ngTemplateOutlet</i> , que le permitir√° "resolver" la representaci√≥n visual del componente.  Para obtener informaci√≥n adicional, puede consultar la <a href="https://angular.io/api/common/NgTemplateOutlet">documentaci√≥n</a> , aunque en mi opini√≥n no se muestra todo su poder all√≠. <br><br>  En este caso, el componente del widget se puede representar de la siguiente manera: <br><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// widget.component.ts ‚Ä¶ private widgetContentTemplate: TemplateRef&lt;any&gt;; //      @ContentChild(WidgetContentTemplateDirective, { read: TemplateRef }) set WidgetContentTemplate(value: TemplateRef&lt;any&gt;) { this.widgetContentTemplate = value; } get WidgetContentTemplate(): TemplateRef&lt;any&gt; { return this.widgetContentTemplate; } ‚Ä¶</span></span></code> </pre> <br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- widget.component.html --&gt;</span></span> ‚Ä¶ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"widget__content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--      ,      context.   ,     --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-container</span></span></span><span class="hljs-tag"> *</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ngTemplateOutlet</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WidgetContentTemplate || DefaultWidgetContentTemplate; context: { post: SelectedPost }"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-container</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag"> #</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DefaultWidgetContentTemplate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>[    ]<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag">&gt;</span></span> ‚Ä¶</code> </pre><br>  La directiva ngTemplateOutlet acepta un objeto TemplateRef que se lee en el componente usando @ContentChild.  Para hacer esto, necesita crear una directiva simple.  Aqu√≠ est√° su c√≥digo: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// widget-content-template.directive.ts import { Directive, TemplateRef } from '@angular/core'; @Directive({ selector: '[appWidgetContentTemplate]' }) export class WidgetContentTemplateDirective { get Template(): TemplateRef&lt;any&gt; { return this.template; } constructor(private readonly template: TemplateRef&lt;any&gt;) {} }</span></span></code> </pre><br>  Los par√°metros del conmutador de widget se pueden pasar al contenido utilizando el objeto de contexto.  Para que el componente lea correctamente los par√°metros del contexto, es necesario en el componente padre, en nuestro caso es AppComponent, no olvide describirlos de la siguiente manera: <br><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- app.component.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  (  )"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- let-post="post" ,         --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appWidgetContentTemplate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">let-post</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Post</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  (  )"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  let-post="post"     ,  ShowPostInfo  AppComponent --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">appWidgetContentTemplate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">let-post</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Post</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"post"</span></span></span><span class="hljs-tag"> [</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ShowPostInfo</span></span></span><span class="hljs-tag">]=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ShowPostInfo"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-post-view</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ng-template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">app-widget-component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Por lo tanto, tenemos un componente de widget que acepta y muestra cualquier contenido, mientras que el componente de widget en s√≠ no tiene que saber nada sobre el contenido.  Simplemente reenv√≠a las opciones de cambio.  Leerlos o no es una cuesti√≥n de contenido. <br><br><img src="https://habrastorage.org/webt/sm/qp/-r/smqp-riiy6jniznk1j4o6xgbtpa.jpeg"><br><br>  La versi√≥n completa del c√≥digo se puede ver <a href="https://stackblitz.com/edit/angular-ga68dw">aqu√≠</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/478886/">https://habr.com/ru/post/478886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../478872/index.html">Bricolaje: c√≥mo automatizamos la supervisi√≥n del almac√©n</a></li>
<li><a href="../478874/index.html">Toshiba ha anunciado dos nuevas l√≠neas de discos duros con una capacidad de hasta 6 TB y anunci√≥ su orientaci√≥n al segmento corporativo desde 2020</a></li>
<li><a href="../478878/index.html">¬°El c√≥digo m√°s popular en la historia de StackOverflow tiene un error!</a></li>
<li><a href="../478880/index.html">¬øQu√© salarios ofrecieron los empleadores a los especialistas de TI en la segunda mitad de 2019?</a></li>
<li><a href="../478884/index.html">C√≥mo preparar RTSP en el sitio en 2020, o por qu√© los jabal√≠es no tienen tiempo para escapar</a></li>
<li><a href="../478888/index.html">Algunas reflexiones sobre css modular y problemas de soporte de c√≥digo</a></li>
<li><a href="../478892/index.html">El voluntariado como forma de vida.</a></li>
<li><a href="../478894/index.html">Aprenda Azure en un mes de almuerzos: nuestro nuevo libro electr√≥nico gratuito</a></li>
<li><a href="../478896/index.html">Anuncio de .NET Core 3.1</a></li>
<li><a href="../478900/index.html">Algunos consejos √∫tiles para practicar Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>