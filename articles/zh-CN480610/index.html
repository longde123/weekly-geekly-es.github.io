<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš´ğŸ½ ğŸ”¨ ğŸ“· C ++ vtablesã€‚ ç¬¬2éƒ¨åˆ†ï¼ˆè™šæ‹Ÿç»§æ‰¿+ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ï¼‰ ğŸ”„ ğŸ‘¬ ğŸ”Š</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ¬æ–‡çš„ç¿»è¯‘æ˜¯ä¸“é—¨ä¸ºâ€œ C ++å¼€å‘äººå‘˜â€è¯¾ç¨‹çš„å­¦ç”Ÿå‡†å¤‡çš„ã€‚ æœè¿™ä¸ªæ–¹å‘å‘å±•æ˜¯å¦æœ‰è¶£ï¼Ÿ è§‚çœ‹Googleæµ‹è¯•æ¡†æ¶ç»ƒä¹ ç­çš„å½•éŸ³ï¼ 



 ç¬¬3éƒ¨åˆ†-è™šæ‹Ÿç»§æ‰¿ 


 åœ¨æœ¬æ–‡çš„ç¬¬ä¸€éƒ¨åˆ†å’Œç¬¬äºŒéƒ¨åˆ†ä¸­ ï¼Œæˆ‘ä»¬è®¨è®ºäº†vtableså¦‚ä½•åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹å·¥ä½œï¼Œç„¶ååœ¨å¤šé‡ç»§æ‰¿ä¸­å·¥ä½œã€‚ è™šæ‹Ÿç»§æ‰¿ä½¿æƒ…å†µæ›´åŠ å¤æ‚ã€‚ 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ vtablesã€‚ ç¬¬2éƒ¨åˆ†ï¼ˆè™šæ‹Ÿç»§æ‰¿+ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ï¼‰</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/480610/"><p>  <em>æœ¬æ–‡çš„ç¿»è¯‘æ˜¯ä¸“é—¨ä¸º<a href="https://otus.pw/HhBg/">â€œ C ++å¼€å‘äººå‘˜â€</a>è¯¾ç¨‹çš„å­¦ç”Ÿå‡†å¤‡çš„ã€‚</em>  <em>æœè¿™ä¸ªæ–¹å‘å‘å±•æ˜¯å¦æœ‰è¶£ï¼Ÿ</em>  <em>è§‚çœ‹<a href="https://otus.pw/B2p1/">Googleæµ‹è¯•æ¡†æ¶ç»ƒä¹ </a>ç­çš„å½•éŸ³ï¼</em> </p><br><p><img src="https://habrastorage.org/webt/tk/dp/8n/tkdp8nfahc7sglqks8sl_tazk1o.png"></p><br><h2 id="chast-3---virtualnoe-nasledovanie"> ç¬¬3éƒ¨åˆ†-è™šæ‹Ÿç»§æ‰¿ </h2><br><p> åœ¨æœ¬æ–‡çš„<a href="https://habr.com/ru/company/otus/blog/479802/">ç¬¬ä¸€éƒ¨åˆ†å’Œç¬¬äºŒéƒ¨åˆ†ä¸­</a> ï¼Œæˆ‘ä»¬è®¨è®ºäº†vtableså¦‚ä½•åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹å·¥ä½œï¼Œç„¶ååœ¨å¤šé‡ç»§æ‰¿ä¸­å·¥ä½œã€‚ è™šæ‹Ÿç»§æ‰¿ä½¿æƒ…å†µæ›´åŠ å¤æ‚ã€‚ <a name="habracut"></a></p><br><p> æ‚¨å¯èƒ½è¿˜è®°å¾—ï¼Œè™šæ‹Ÿç»§æ‰¿æ„å‘³ç€åœ¨ç‰¹å®šç±»ä¸­ï¼Œåªæœ‰ä¸€ä¸ªåŸºç±»å®ä¾‹ã€‚ ä¾‹å¦‚ï¼š </p><br><pre><code class="plaintext hljs">class ios ... class istream : virtual public ios ... class ostream : virtual public ios ... class iostream : public istream, public ostream</code> </pre> <br><p> å¦‚æœä¸æ˜¯ä¸Šé¢çš„<code>virtual</code>å…³é”®å­—ï¼Œ <code>iostream</code>å®é™…ä¸Š<code>iostream</code>æœ‰ä¸¤ä¸ª<code>ios</code>å®ä¾‹ï¼Œå®ƒä»¬å¯èƒ½åœ¨åŒæ­¥æœŸé—´å¼•èµ·å¤´ç—›ï¼Œå¹¶ä¸”æ ¹æœ¬æ— æ•ˆã€‚ </p><br><p> ä¸ºäº†ç†è§£è™šæ‹Ÿç»§æ‰¿ï¼Œæˆ‘ä»¬å°†è€ƒè™‘ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š </p><br><pre> <code class="plaintext hljs">#include &lt;iostream&gt; using namespace std; class Grandparent { public: virtual void grandparent_foo() {} int grandparent_data; }; class Parent1 : virtual public Grandparent { public: virtual void parent1_foo() {} int parent1_data; }; class Parent2 : virtual public Grandparent { public: virtual void parent2_foo() {} int parent2_data; }; class Child : public Parent1, public Parent2 { public: virtual void child_foo() {} int child_data; }; int main() { Child child; }</code> </pre> <br><p> è®©æˆ‘ä»¬æ¥æ¢ç´¢<code>child</code> ã€‚ é¦–å…ˆï¼Œåƒåœ¨å‰é¢çš„éƒ¨åˆ†ä¸­ä¸€æ ·ï¼Œåœ¨<code>vtable Child</code>ç¡®åˆ‡ä½ç½®å¤„è½¬å‚¨å¤§é‡å†…å­˜ï¼Œç„¶ååˆ†æç»“æœã€‚ æˆ‘å»ºè®®å¿«é€Ÿæµè§ˆä¸€ä¸‹è¿™é‡Œçš„ç»“æœï¼Œå¹¶åœ¨æˆ‘é€éœ²ä»¥ä¸‹è¯¦ç»†ä¿¡æ¯æ—¶å†è¿”å›ã€‚ </p><br><pre> <code class="plaintext hljs">(gdb) p child $1 = {&lt;Parent1&gt; = {&lt;Grandparent&gt; = {_vptr$Grandparent = 0x400998 &lt;vtable for Child+96&gt;, grandparent_data = 0}, _vptr$Parent1 = 0x400950 &lt;vtable for Child+24&gt;, parent1_data = 0}, &lt;Parent2&gt; = {_vptr$Parent2 = 0x400978 &lt;vtable for Child+64&gt;, parent2_data = 4195888}, child_data = 0} (gdb) x/600xb 0x400938 0x400938 &lt;vtable for Child&gt;: 0x20 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400940 &lt;vtable for Child+8&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400948 &lt;vtable for Child+16&gt;: 0x00 0x0b 0x40 0x00 0x00 0x00 0x00 0x00 0x400950 &lt;vtable for Child+24&gt;: 0x70 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x400958 &lt;vtable for Child+32&gt;: 0xa0 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x400960 &lt;vtable for Child+40&gt;: 0x10 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400968 &lt;vtable for Child+48&gt;: 0xf0 0xff 0xff 0xff 0xff 0xff 0xff 0xff 0x400970 &lt;vtable for Child+56&gt;: 0x00 0x0b 0x40 0x00 0x00 0x00 0x00 0x00 0x400978 &lt;vtable for Child+64&gt;: 0x90 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x400980 &lt;vtable for Child+72&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400988 &lt;vtable for Child+80&gt;: 0xe0 0xff 0xff 0xff 0xff 0xff 0xff 0xff 0x400990 &lt;vtable for Child+88&gt;: 0x00 0x0b 0x40 0x00 0x00 0x00 0x00 0x00 0x400998 &lt;vtable for Child+96&gt;: 0x80 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x4009a0 &lt;VTT for Child&gt;: 0x50 0x09 0x40 0x00 0x00 0x00 0x00 0x00 0x4009a8 &lt;VTT for Child+8&gt;: 0xf8 0x09 0x40 0x00 0x00 0x00 0x00 0x00 0x4009b0 &lt;VTT for Child+16&gt;: 0x18 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x4009b8 &lt;VTT for Child+24&gt;: 0x98 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x4009c0 &lt;VTT for Child+32&gt;: 0xb8 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x4009c8 &lt;VTT for Child+40&gt;: 0x98 0x09 0x40 0x00 0x00 0x00 0x00 0x00 0x4009d0 &lt;VTT for Child+48&gt;: 0x78 0x09 0x40 0x00 0x00 0x00 0x00 0x00 0x4009d8: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x4009e0 &lt;construction vtable for Parent1-in-Child&gt;: 0x20 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x4009e8 &lt;construction vtable for Parent1-in-Child+8&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x4009f0 &lt;construction vtable for Parent1-in-Child+16&gt;: 0x50 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x4009f8 &lt;construction vtable for Parent1-in-Child+24&gt;: 0x70 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x400a00 &lt;construction vtable for Parent1-in-Child+32&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400a08 &lt;construction vtable for Parent1-in-Child+40&gt;: 0xe0 0xff 0xff 0xff 0xff 0xff 0xff 0xff 0x400a10 &lt;construction vtable for Parent1-in-Child+48&gt;: 0x50 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400a18 &lt;construction vtable for Parent1-in-Child+56&gt;: 0x80 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x400a20 &lt;typeinfo name for Parent1&gt;: 0x37 0x50 0x61 0x72 0x65 0x6e 0x74 0x31 0x400a28 &lt;typeinfo name for Parent1+8&gt;: 0x00 0x31 0x31 0x47 0x72 0x61 0x6e 0x64 0x400a30 &lt;typeinfo name for Grandparent+7&gt;: 0x70 0x61 0x72 0x65 0x6e 0x74 0x00 0x00 0x400a38 &lt;typeinfo for Grandparent&gt;: 0x50 0x10 0x60 0x00 0x00 0x00 0x00 0x00 0x400a40 &lt;typeinfo for Grandparent+8&gt;: 0x29 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400a48: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400a50 &lt;typeinfo for Parent1&gt;: 0xa0 0x10 0x60 0x00 0x00 0x00 0x00 0x00 0x400a58 &lt;typeinfo for Parent1+8&gt;: 0x20 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400a60 &lt;typeinfo for Parent1+16&gt;: 0x00 0x00 0x00 0x00 0x01 0x00 0x00 0x00 0x400a68 &lt;typeinfo for Parent1+24&gt;: 0x38 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400a70 &lt;typeinfo for Parent1+32&gt;: 0x03 0xe8 0xff 0xff 0xff 0xff 0xff 0xff 0x400a78: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400a80 &lt;construction vtable for Parent2-in-Child&gt;: 0x10 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400a88 &lt;construction vtable for Parent2-in-Child+8&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400a90 &lt;construction vtable for Parent2-in-Child+16&gt;: 0xd0 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400a98 &lt;construction vtable for Parent2-in-Child+24&gt;: 0x90 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x400aa0 &lt;construction vtable for Parent2-in-Child+32&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400aa8 &lt;construction vtable for Parent2-in-Child+40&gt;: 0xf0 0xff 0xff 0xff 0xff 0xff 0xff 0xff 0x400ab0 &lt;construction vtable for Parent2-in-Child+48&gt;: 0xd0 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400ab8 &lt;construction vtable for Parent2-in-Child+56&gt;: 0x80 0x08 0x40 0x00 0x00 0x00 0x00 0x00 0x400ac0 &lt;typeinfo name for Parent2&gt;: 0x37 0x50 0x61 0x72 0x65 0x6e 0x74 0x32 0x400ac8 &lt;typeinfo name for Parent2+8&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400ad0 &lt;typeinfo for Parent2&gt;: 0xa0 0x10 0x60 0x00 0x00 0x00 0x00 0x00 0x400ad8 &lt;typeinfo for Parent2+8&gt;: 0xc0 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400ae0 &lt;typeinfo for Parent2+16&gt;: 0x00 0x00 0x00 0x00 0x01 0x00 0x00 0x00 0x400ae8 &lt;typeinfo for Parent2+24&gt;: 0x38 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400af0 &lt;typeinfo for Parent2+32&gt;: 0x03 0xe8 0xff 0xff 0xff 0xff 0xff 0xff 0x400af8 &lt;typeinfo name for Child&gt;: 0x35 0x43 0x68 0x69 0x6c 0x64 0x00 0x00 0x400b00 &lt;typeinfo for Child&gt;: 0xa0 0x10 0x60 0x00 0x00 0x00 0x00 0x00 0x400b08 &lt;typeinfo for Child+8&gt;: 0xf8 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400b10 &lt;typeinfo for Child+16&gt;: 0x02 0x00 0x00 0x00 0x02 0x00 0x00 0x00 0x400b18 &lt;typeinfo for Child+24&gt;: 0x50 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400b20 &lt;typeinfo for Child+32&gt;: 0x02 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400b28 &lt;typeinfo for Child+40&gt;: 0xd0 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400b30 &lt;typeinfo for Child+48&gt;: 0x02 0x10 0x00 0x00 0x00 0x00 0x00 0x00 0x400b38 &lt;vtable for Grandparent&gt;: 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x400b40 &lt;vtable for Grandparent+8&gt;: 0x38 0x0a 0x40 0x00 0x00 0x00 0x00 0x00 0x400b48 &lt;vtable for Grandparent+16&gt;: 0x80 0x08 0x40 0x00 0x00 0x00 0x00 0x00</code> </pre> <br><p> å“‡ï¼Œæœ‰å¾ˆå¤šä¿¡æ¯ã€‚ é©¬ä¸Šå¼¹å‡ºä¸¤ä¸ªæ–°é—®é¢˜ï¼šä»€ä¹ˆæ˜¯<code>VTT</code> ï¼Ÿä»€ä¹ˆæ˜¯<code>vtable for X-in-Child</code>æ„é€ <code>vtable for X-in-Child</code> ï¼Ÿ æˆ‘ä»¬å°†å°½å¿«ç­”å¤ä»–ä»¬ã€‚ <br> è®©æˆ‘ä»¬ä»å­å†…å­˜ç»“æ„å¼€å§‹ï¼š </p><br><div class="scrollable-table"><table><thead><tr><th> å°ºç  </th><th> ä»·å€¼ </th></tr></thead><tbody><tr><td>  8å­—èŠ‚ </td><td>  _vptr $ Parent1 </td></tr><tr><td>  4å­—èŠ‚ </td><td>  parent1_dataï¼ˆ+ 4ä¸ªå¡«å……å­—èŠ‚ï¼‰ </td></tr><tr><td>  8å­—èŠ‚ </td><td>  _vptr $ Parent2 </td></tr><tr><td>  4å­—èŠ‚ </td><td>  parent2_data </td></tr><tr><td>  4å­—èŠ‚ </td><td>  child_data </td></tr><tr><td>  8å­—èŠ‚ </td><td>  _vptr $ç¥–çˆ¶æ¯ </td></tr><tr><td>  4å­—èŠ‚ </td><td>  grandparent_dataï¼ˆ+ 4ä¸ªå¡«å……å­—èŠ‚ï¼‰ </td></tr></tbody></table></div><br><p> å®é™…ä¸Šï¼Œ <code>Child</code>åªæœ‰1ä¸ªç¥–çˆ¶æ¯æˆ–å¤–ç¥–çˆ¶æ¯ã€‚ ä¸å¹³å‡¡çš„æ˜¯ï¼Œä»–æ˜¯è®°å¿†ä¸­çš„æœ€åä¸€ä½ï¼Œå°½ç®¡ä»–æ˜¯å±‚æ¬¡ç»“æ„ä¸­æœ€é«˜çš„ã€‚ <br> è¿™æ˜¯<code>vtable</code>ç»“æ„ï¼š </p><br><div class="scrollable-table"><table><thead><tr><th> åœ°å€ </th><th> ä»·å€¼ </th><th> ç›®å½•å†…å®¹ </th></tr></thead><tbody><tr><td>  0x400938 </td><td>  0x20ï¼ˆ32ï¼‰ </td><td> è™šæ‹ŸåŸºå‡†åç§»é‡ï¼ˆæˆ‘ä»¬å°†åœ¨ç¨åè®¨è®ºï¼‰ </td></tr><tr><td>  0x400940 </td><td>  0 </td><td>  top_offset </td></tr><tr><td>  0x400948 </td><td>  0x400b00 </td><td> å„¿ç«¥çš„typeinfo </td></tr><tr><td>  0x400950 </td><td>  0x400870 </td><td>  Parent1 :: parent1_fooï¼ˆï¼‰ã€‚  vtableæŒ‡é’ˆParent1æŒ‡å‘æ­¤å¤„ã€‚ </td></tr><tr><td>  0x400958 </td><td>  0x4008a0 </td><td> å­:: child_fooï¼ˆï¼‰ </td></tr><tr><td>  0x400960 </td><td>  0x10ï¼ˆ16ï¼‰ </td><td> è™šæ‹ŸåŸºå‡†åç§» </td></tr><tr><td>  0x400968 </td><td>  -16 </td><td>  top_offset </td></tr><tr><td>  0x4009 </td><td>  0x400b </td><td> å„¿ç«¥çš„typeinfo </td></tr><tr><td>  70 </td><td>  00 </td><td></td></tr><tr><td>  0x400978 </td><td>  0x400890 </td><td>  Parent2 :: parent2_fooï¼ˆï¼‰ã€‚  vtableæŒ‡é’ˆParent2æŒ‡å‘æ­¤å¤„ã€‚ </td></tr><tr><td>  0x400980 </td><td>  0 </td><td> è™šæ‹ŸåŸºå‡†åç§» </td></tr><tr><td>  0x400988 </td><td>  -32 </td><td>  top_offset </td></tr><tr><td>  0x400990 </td><td>  0x400b00 </td><td> å„¿ç«¥çš„typeinfo </td></tr><tr><td>  0x400998 </td><td>  0x400880 </td><td> ç¥–çˆ¶æ¯:: grandparent_fooï¼ˆï¼‰ã€‚  vtableæŒ‡é’ˆGrandparentæŒ‡å‘æ­¤å¤„ã€‚ </td></tr></tbody></table></div><br><p> ä¸Šé¢æœ‰ä¸€ä¸ªæ–°æ¦‚å¿µ- <code>virtual-base offset</code> ã€‚ å¾ˆå¿«ï¼Œæˆ‘ä»¬å°†äº†è§£ä»–åœ¨é‚£åšä»€ä¹ˆã€‚ <br> æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¢ç´¢è¿™äº›çœ‹èµ·æ¥å¾ˆå¥‡æ€ªçš„<code>construction vtables</code> ã€‚ è¿™æ˜¯<code>vtable for Parent1-in-Child</code>çš„æ„é€ <code>vtable for Parent1-in-Child</code> ï¼š </p><br><div class="scrollable-table"><table><thead><tr><th> ä»·å€¼ </th><th> ç›®å½•å†…å®¹ </th></tr></thead><tbody><tr><td>  0x20ï¼ˆ32ï¼‰ </td><td> è™šæ‹ŸåŸºå‡†åç§» </td></tr><tr><td>  0 </td><td> æœ€é«˜åç§» </td></tr><tr><td>  0x400a50 </td><td>  Parent1çš„typeinfo </td></tr><tr><td>  0x400870 </td><td>  Parent1 :: parent1_fooï¼ˆï¼‰ </td></tr><tr><td>  0 </td><td> è™šæ‹ŸåŸºå‡†åç§» </td></tr><tr><td>  -32 </td><td> æœ€é«˜åç§» </td></tr><tr><td>  0x400a50 </td><td>  Parent1çš„typeinfo </td></tr><tr><td>  0x400880 </td><td> ç¥–çˆ¶æ¯:: grandparent_fooï¼ˆï¼‰ </td></tr></tbody></table></div><br><p> ç›®å‰ï¼Œæˆ‘è®¤ä¸ºæè¿°è¯¥è¿‡ç¨‹æ¯”åœ¨æ‚¨èº«ä¸Šå †æ”¾æ›´å¤šå¸¦æœ‰éšæœºæ•°çš„è¡¨æ›´å®¹æ˜“ç†è§£ã€‚ å› æ­¤ï¼š </p><br><p> æƒ³è±¡ä½ æ˜¯ä¸€ä¸ª<code>Child</code> ã€‚ è¦æ±‚æ‚¨åœ¨æ–°çš„å†…å­˜ä¸­æ„å»ºè‡ªå·±ã€‚ ç”±äºæ‚¨ç›´æ¥ç»§æ‰¿<code>Grandparent</code> ï¼ˆè¿™æ˜¯è™šæ‹Ÿç»§æ‰¿çš„æ„æ€ï¼‰ï¼Œå› æ­¤æ‚¨å°†ç›´æ¥ç›´æ¥è°ƒç”¨å…¶æ„é€ å‡½æ•°ï¼ˆå¦‚æœä¸æ˜¯è™šæ‹Ÿç»§æ‰¿ï¼Œåˆ™å°†è°ƒç”¨æ„é€ å‡½æ•°<code>Parent1</code> ï¼Œè€Œåè€…åˆå°†è°ƒç”¨<code>Grandparent</code>æ„é€ å‡½æ•°ï¼‰ã€‚ è®¾ç½®<code>this += 32</code>å­—èŠ‚ï¼Œå› ä¸ºè¿™æ˜¯<code>Grandparent</code>æ•°æ®æ‰€åœ¨çš„ä½ç½®ï¼Œç„¶åè°ƒç”¨æ„é€ å‡½æ•°ã€‚ å¾ˆç®€å• </p><br><p> ç„¶åæ˜¯æ—¶å€™æ„å»º<code>Parent1</code> ã€‚  <code>Parent1</code>å¯ä»¥æ”¾å¿ƒåœ°å‡è®¾ï¼Œåˆ°ä»–æ„é€ è‡ªå·±çš„æ—¶å€™ï¼Œå·²ç»åˆ›å»ºäº†<code>Grandparent</code> ï¼Œå› æ­¤ï¼Œä¾‹å¦‚ï¼Œä»–å¯ä»¥è®¿é—®<code>Grandparent</code>æ•°æ®å’Œæ–¹æ³•ã€‚ ä½†æ˜¯ï¼Œç­‰ç­‰ï¼Œä»–æ€ä¹ˆçŸ¥é“åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°è¿™äº›æ•°æ®ï¼Ÿ å®ƒä»¬ä¸å˜é‡<code>Parent1</code>ä¸åœ¨åŒä¸€ä¸ªä½ç½®ï¼ </p><br><p>  <code>construction table for Parent1-in-Child</code>çš„<code>construction table for Parent1-in-Child</code>è¿›å…¥åœºæ™¯ã€‚ è¯¥è¡¨ç”¨äºå‘Šè¯‰<code>Parent1</code>åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒå¯ä»¥è®¿é—®çš„æ•°æ®ã€‚  <code>this</code>æŒ‡å‘<code>Parent1</code>çš„æ•°æ®ã€‚  <code>virtual-base offset</code>æŒ‡ç¤ºæ‚¨å¯ä»¥åœ¨å“ªé‡Œæ‰¾åˆ°ç¥–çˆ¶æ¯æ•°æ®ï¼šä»æ­¤å‘å‰32ä¸ªå­—èŠ‚ï¼Œæ‚¨å°†æ‰¾åˆ°<code>Grandparent</code>å†…å­˜ã€‚ ä½ æ˜ç™½äº†å—ï¼Ÿ è™šæ‹ŸåŸºåç§»é‡ä¸top_offsetç›¸ä¼¼ï¼Œä½†é€‚ç”¨äºè™šæ‹Ÿç±»ã€‚ </p><br><p> ç°åœ¨æˆ‘ä»¬äº†è§£äº†è¿™ä¸€ç‚¹ï¼Œä»…ä½¿ç”¨<code>construction table for Parent2-in-Child</code>çš„<code>construction table for Parent2-in-Child</code>çš„<code>construction table for Parent2-in-Child</code>åŸºæœ¬ç›¸åŒã€‚ å®é™…ä¸Šï¼Œ <code>Parent2-in-Child</code>å…·æœ‰16å­—èŠ‚çš„<code>virtual-base offset</code> ã€‚ </p><br><p> è®©ä¿¡æ¯å¸æ”¶ä¸€ä¸‹ã€‚ æ‚¨å‡†å¤‡å¥½ç»§ç»­äº†å—ï¼Ÿ å¥½å•Š <br> ç°åœ¨è®©æˆ‘ä»¬å›åˆ°<code>VTT</code> ã€‚ è¿™æ˜¯<code>VTT</code>ç»“æ„ï¼š </p><br><div class="scrollable-table"><table><thead><tr><th> åœ°å€ </th><th> ä»·å€¼ </th><th> è®°å· </th><th> ç›®å½•å†…å®¹ </th></tr></thead><tbody><tr><td>  0x4009a0 </td><td>  0x400950 </td><td> å„¿ç«¥vtable + 24 </td><td>  vtable Childä¸­çš„Parent1æ¡ç›® </td></tr><tr><td>  0x4009a8 </td><td>  0x4009f8 </td><td>  Parent1-in-Child + 24çš„æ„é€ vtable </td><td>  Parent1-in-Childä¸­çš„Parent1æ–¹æ³• </td></tr><tr><td>  0x4009b0 </td><td>  0x400a18 </td><td>  Parent1-in-Child + 56çš„æ„é€ vtable </td><td> çˆ¶æ¯äº²å­©å­çš„ç¥–çˆ¶æ¯æ–¹æ³• </td></tr><tr><td>  0x4009b8 </td><td>  0x400a98 </td><td> é€‚ç”¨äºParent2-in-Child + 24çš„æ„é€ vtable </td><td>  Parent2-in-Childä¸­çš„Parent2æ–¹æ³• </td></tr><tr><td>  0x4009c0 </td><td>  0x400ab8 </td><td> äº²å­2 + 56çš„æ„é€ vtable </td><td>  `çˆ¶æ¯åŒäº²çš„ç¥–çˆ¶æ¯æ–¹æ³• </td></tr><tr><td>  0x4009c8 </td><td>  0x400998 </td><td> å„¿ç«¥+ 96çš„vtable </td><td>  `vtable Childä¸­çš„ç¥–çˆ¶æ¯æ¡ç›® </td></tr><tr><td>  0x4009d0 </td><td>  0x400978 </td><td>  vtable for Child + 64 </td><td>  vtable Childä¸­çš„â€œ Parent2æ¡ç›®â€ </td></tr></tbody></table></div><br><p>  <code>VTT</code>ä»£è¡¨<code>virtual-table table</code> ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯ä¸€ä¸ªvtableã€‚ ä¾‹å¦‚ï¼Œè¿™æ˜¯ä¸€ä¸ªè½¬æ¢è¡¨ï¼Œå®ƒçŸ¥é“<code>Parent1</code>é’ˆå¯¹å•ä¸ªå¯¹è±¡ï¼Œ <code>Parent1-in-Child</code>å¯¹è±¡è¿˜æ˜¯<code>Parent1-in-SomeOtherObject</code> <code>Parent1</code>äº†æ„é€ å‡½æ•°<code>Parent1</code> ã€‚ å®ƒæ€»æ˜¯åœ¨<code>vtable</code>ä¹‹åç«‹å³å‡ºç°ï¼Œä»¥ä¾¿ç¼–è¯‘å™¨çŸ¥é“åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒã€‚ å› æ­¤ï¼Œæ— éœ€åœ¨å¯¹è±¡æœ¬èº«ä¸­å­˜å‚¨å¦ä¸€ä¸ªæŒ‡é’ˆã€‚ </p><br><p> å—¯...æœ‰å¾ˆå¤šç»†èŠ‚ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºæˆ‘ä»¬æ¶µç›–äº†æˆ‘æƒ³ä»‹ç»çš„æ‰€æœ‰å†…å®¹ã€‚ åœ¨ç¬¬å››éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºæ›´é«˜çº§åˆ«çš„<code>vtables</code>çš„ç»†èŠ‚ã€‚ ä¸è¦è·³è¿‡ï¼Œå› ä¸ºè¿™å¯èƒ½æ˜¯æœ¬æ–‡ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼ </p><br><h2 id="chast-4---kod-sgenerirovannyy-kompilyatorom"> ç¬¬4éƒ¨åˆ†-ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç  </h2><br><p> åœ¨æœ¬æ–‡çš„è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬äº†è§£äº†<code>vtables</code>å’Œ<code>typeinfo</code>å¦‚ä½•é€‚åˆæˆ‘ä»¬çš„äºŒè¿›åˆ¶æ–‡ä»¶ä»¥åŠç¼–è¯‘å™¨å¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å°†äº†è§£ç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬å®Œæˆçš„éƒ¨åˆ†å·¥ä½œã€‚ </p><br><h4 id="konstruktory"> å»ºè®¾è€… </h4><br><p> å¯¹äºä»»ä½•ç±»çš„æ„é€ å‡½æ•°ï¼Œéƒ½ä¼šç”Ÿæˆä»¥ä¸‹ä»£ç ï¼š </p><br><ul><li> è°ƒç”¨çˆ¶ç»“æ„ï¼ˆå¦‚æœæœ‰ï¼‰ï¼› </li><li> è®¾ç½®vtableæŒ‡é’ˆï¼ˆå¦‚æœæœ‰ï¼‰ï¼› </li><li> æ ¹æ®åˆå§‹åŒ–å™¨åˆ—è¡¨åˆå§‹åŒ–æˆå‘˜ï¼› </li><li> æ„é€ å‡½æ•°æ‹¬å·å†…çš„ä»£ç æ‰§è¡Œã€‚ </li></ul><br><p> å¦‚æœæ²¡æœ‰æ˜¾å¼ä»£ç ï¼Œä»¥ä¸Šæ‰€æœ‰æƒ…å†µéƒ½å¯èƒ½å‘ç”Ÿï¼š </p><br><ul><li> é™¤éå¦æœ‰è¯´æ˜ï¼Œå¦åˆ™çˆ¶æ„é€ å‡½æ•°é»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚ </li><li> å¦‚æœæˆå‘˜æ²¡æœ‰é»˜è®¤å€¼æˆ–åˆå§‹åŒ–å™¨åˆ—è¡¨ä¸­çš„æ¡ç›®ï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹ä¼šå¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼› </li><li> æ•´ä¸ªæ„é€ å‡½æ•°å¯ä»¥æ ‡è®°ä¸º= default; </li><li> ä»…vtableåˆ†é…å§‹ç»ˆå¤„äºéšè—çŠ¶æ€ã€‚ </li></ul><br><p> è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š </p><br><pre> <code class="plaintext hljs">#include &lt;iostream&gt; #include &lt;string&gt; using namespace std; class Parent { public: Parent() { Foo(); } virtual ~Parent() = default; virtual void Foo() { cout &lt;&lt; "Parent" &lt;&lt; endl; } int i = 0; }; class Child : public Parent { public: Child() : j(1) { Foo(); } void Foo() override { cout &lt;&lt; "Child" &lt;&lt; endl; } int j; }; class Grandchild : public Child { public: Grandchild() { Foo(); s = "hello"; } void Foo() override { cout &lt;&lt; "Grandchild" &lt;&lt; endl; } string s; }; int main() { Grandchild g; }</code> </pre> <br><p> è®©æˆ‘ä»¬ä¸ºæ¯ä¸ªç±»çš„æ„é€ å‡½æ•°ç¼–å†™ä¼ªä»£ç ï¼š </p><br><div class="scrollable-table"><table><thead><tr><th> çˆ¶æ¯ </th><th> å°å­©å„¿ </th><th> å­™å­ </th></tr></thead><tbody><tr><td>  1. vtable = vtableçˆ¶çº§ï¼› </td><td>  1.è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°Parentï¼› </td><td>  1.è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°Childï¼› </td></tr><tr><td>  2. i = 0; </td><td>  2. vtable = vtableå­çº§ï¼› </td><td>  2. vtable = vtableå­™å­ï¼› </td></tr><tr><td>  3.è°ƒç”¨Fooï¼ˆï¼‰; </td><td>  3. j = 1; </td><td>  3ï¼Œè°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°sï¼› </td></tr><tr><td></td><td>  4.è°ƒç”¨Fooï¼ˆï¼‰; </td><td>  4.è°ƒç”¨Fooï¼ˆï¼‰; </td></tr><tr><td></td><td></td><td>  5.è°ƒç”¨sçš„=è¿ç®—ç¬¦ï¼› </td></tr></tbody></table></div><br><p> é‰´äºæ­¤ï¼Œä¸è¶³ä¸ºå¥‡çš„æ˜¯ï¼Œåœ¨ç±»æ„é€ å‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸­ï¼ŒvtableæŒ‡å‘æ­¤ç±»æœ¬èº«çš„vtableï¼Œè€Œä¸æ˜¯å…¶ç‰¹å®šç±»ã€‚ è¿™æ„å‘³ç€å¯ä»¥è§£å†³è™šæ‹Ÿå‘¼å«ï¼Œå°±å¥½åƒæ²¡æœ‰ä»»ä½•ç»§æ‰¿äººä¸€æ ·ã€‚ å› æ­¤ï¼Œç»“è®º </p><br><pre> <code class="plaintext hljs">Parent Child Grandchild</code> </pre> <br><p> çº¯è™šæ‹ŸåŠŸèƒ½å‘¢ï¼Ÿ å¦‚æœæœªå®ç°ï¼ˆæ˜¯çš„ï¼Œæ‚¨å¯ä»¥å®ç°çº¯è™šæ‹ŸåŠŸèƒ½ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆéœ€è¦æ­¤åŠŸèƒ½ï¼Ÿï¼‰ï¼Œæ‚¨å¯èƒ½ï¼ˆå¹¶å¸Œæœ›ï¼‰ç›´æ¥è¿›è¡Œæ®µé”™è¯¯ã€‚ ä¸€äº›ç¼–è¯‘å™¨å¿½ç•¥äº†è¯¥é”™è¯¯ï¼Œè¿™å¾ˆé…·ã€‚ </p><br><h4 id="destruktory"> ç ´åè€… </h4><br><p> å¯ä»¥æƒ³è±¡ï¼Œææ„å‡½æ•°çš„è¡Œä¸ºä¸æ„é€ å‡½æ•°ç›¸åŒï¼Œåªæ˜¯é¡ºåºç›¸åã€‚ </p><br><p> è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿæ€è€ƒçš„ç»ƒä¹ ï¼šææ„å‡½æ•°ä¸ºä»€ä¹ˆæ›´æ”¹vtableæŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘è‡ªå·±çš„ç±»ï¼Œè€Œä¸æ˜¯å°†æŒ‡é’ˆç•™ç»™ç‰¹å®šçš„ç±»ï¼Ÿ ç­”ï¼šè‡ªä»ææ„å‡½æ•°å¯åŠ¨æ—¶ï¼Œæ‰€æœ‰ç»§æ‰¿ç±»éƒ½å·²è¢«é”€æ¯ã€‚ æ­¤ç±»çš„è°ƒç”¨æ–¹æ³•ä¸æ˜¯æ‚¨æƒ³è¦çš„ã€‚ </p><br><h4 id="neyavnoe-privedenie"> éšå¼è½¬æ¢ </h4><br><p> æ­£å¦‚æˆ‘ä»¬åœ¨<a href="https://habr.com/ru/company/otus/blog/479802/">ç¬¬äºŒéƒ¨åˆ†å’Œç¬¬ä¸‰éƒ¨åˆ†ä¸­</a>æ‰€çœ‹åˆ°çš„ï¼ŒæŒ‡å‘å­å¯¹è±¡çš„æŒ‡é’ˆä¸ä¸€å®šç­‰äºåŒä¸€å®ä¾‹çš„çˆ¶æŒ‡é’ˆï¼ˆå¦‚åœ¨å¤šé‡ç»§æ‰¿çš„æƒ…å†µä¸‹ï¼‰ã€‚ </p><br><p> ä½†æ˜¯ï¼Œå¯¹äºæ‚¨ï¼ˆå¼€å‘äººå‘˜ï¼‰è€Œè¨€ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–å·¥ä½œæ¥è°ƒç”¨æ¥æ”¶çˆ¶æŒ‡é’ˆçš„å‡½æ•°ã€‚ è¿™æ˜¯å› ä¸ºå½“æ‚¨å°†æŒ‡é’ˆå’Œå¼•ç”¨é™„åŠ åˆ°çˆ¶ç±»æ—¶ï¼Œç¼–è¯‘å™¨ä¼šéšå¼åœ°<code>this</code>è¿›è¡Œç§»ä½ã€‚ </p><br><h4 id="dinamicheskoe-privedenie-rtti"> åŠ¨æ€æŠ•æ”¾ï¼ˆRTTIï¼‰ </h4><br><p> åŠ¨æ€è½¬æ¢ä½¿ç”¨<code>typeinfo</code>è¡¨ï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­è¿›è¡Œäº†æ£€æŸ¥ã€‚ ä»–ä»¬åœ¨è¿è¡Œæ—¶æ‰§è¡Œæ­¤æ“ä½œï¼Œåœ¨<code>vtable</code>æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®ä¹‹å‰æŸ¥çœ‹<code>typeinfo</code>æ¡ç›®çš„ä¸€ä¸ªæŒ‡é’ˆï¼Œç„¶åä»é‚£é‡Œä½¿ç”¨è¯¥ç±»æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿›è¡Œ<code>typeinfo</code>è½¬æ¢ã€‚ </p><br><p> è¿™è§£é‡Šäº†ç»å¸¸ä½¿ç”¨<a href="https://tinodidriksen.com/2010/04/14/cpp-dynamic-cast-performance/">dynamic_cast</a>çš„<a href="https://tinodidriksen.com/2010/04/14/cpp-dynamic-cast-performance/">æˆæœ¬</a> ã€‚ </p><br><h4 id="ukazateli-na-metody"> æ–¹æ³•æŒ‡é’ˆ </h4><br><p> æˆ‘è®¡åˆ’åœ¨å°†æ¥å†™ä¸€ç¯‡æœ‰å…³æ–¹æ³•æŒ‡é’ˆçš„å®Œæ•´æ–‡ç« ã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘æƒ³å¼ºè°ƒæŒ‡å‡ºï¼ŒæŒ‡å‘è™šæ‹Ÿå‡½æ•°çš„æ–¹æ³•çš„æŒ‡é’ˆå®é™…ä¸Šå°†è°ƒç”¨é‡å†™çš„æ–¹æ³•ï¼ˆä¸æŒ‡å‘éæˆå‘˜å‡½æ•°çš„æŒ‡é’ˆç›¸åï¼‰ã€‚ </p><br><pre> <code class="plaintext hljs">// TODO:  ,    </code> </pre> <br><h4 id="proverte-sebya"> æ£€æŸ¥è‡ªå·±ï¼ </h4><br><p> ç°åœ¨ï¼Œæ‚¨å¯ä»¥è‡ªå·±è§£é‡Šä»¥ä¸‹ä»£ç ç‰‡æ®µçš„è¡Œä¸ºæ–¹å¼ï¼š </p><br><pre> <code class="plaintext hljs">#include &lt;iostream&gt; using namespace std; class FooInterface { public: virtual ~FooInterface() = default; virtual void Foo() = 0; }; class BarInterface { public: virtual ~BarInterface() = default; virtual void Bar() = 0; }; class Concrete : public FooInterface, public BarInterface { public: void Foo() override { cout &lt;&lt; "Foo()" &lt;&lt; endl; } void Bar() override { cout &lt;&lt; "Bar()" &lt;&lt; endl; } }; int main() { Concrete c; c.Foo(); c.Bar(); FooInterface* foo = &amp;c; foo-&gt;Foo(); BarInterface* bar = (BarInterface*)(foo); bar-&gt;Bar(); //  "Foo()" - WTF? }</code> </pre> <br><p> æˆ‘çš„å››éƒ¨åˆ†æ–‡ç« åˆ°æ­¤ç»“æŸã€‚ å¸Œæœ›æ‚¨åƒæˆ‘ä¸€æ ·å­¦åˆ°æ–°ä¸œè¥¿ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN480610/">https://habr.com/ru/post/zh-CN480610/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN480582/index.html">å®‰å…¨å‘¨51ï¼šiOSå’Œè‹±ç‰¹å°”å¤„ç†å™¨ä¸­çš„æ¼æ´</a></li>
<li><a href="../zh-CN480594/index.html">å‰åï¼šè‘—åç”µå­æ¸¸æˆçš„è§†è§‰æ¼”å˜</a></li>
<li><a href="../zh-CN480596/index.html">åˆ›æ–°çš„ç½‘ç»œæ“ä½œç³»ç»ŸArubaOS-CXç­‰å¾…ç€æ‚¨</a></li>
<li><a href="../zh-CN480598/index.html">å…³äº...éš¾é¢˜çš„ä»»ä½•ç¼–ç¨‹çš„åŸºç¡€</a></li>
<li><a href="../zh-CN480608/index.html">Rustå‡­å€ŸåŸºå‡†æµ‹è¯•ç»“æœèƒœè¿‡C ++</a></li>
<li><a href="../zh-CN480612/index.html">è¿›è¡Œè¿™äº›æ›´æ”¹ä»¥æ»¡è¶³Webè®¾è®¡è¾…åŠ©åŠŸèƒ½æ ‡å‡†ã€‚</a></li>
<li><a href="../zh-CN480614/index.html">å¿«é€Ÿæšä¸¾</a></li>
<li><a href="../zh-CN480618/index.html">ç”µå­æ¸¸æˆäº•å­—æ¸¸æˆã€‚ æˆ‘æ¥åšä»€ä¹ˆ</a></li>
<li><a href="../zh-CN480620/index.html">SD-WANå’ŒDNAå¸®åŠ©ç®¡ç†å‘˜ï¼šä½“ç³»ç»“æ„å’Œå®è·µåŠŸèƒ½</a></li>
<li><a href="../zh-CN480626/index.html">ç»§æ‰¿é—ç•™ç³»ç»Ÿå’Œæµç¨‹æˆ–æ‹…ä»»é¦–å¸­æŠ€æœ¯å®˜çš„å‰90å¤©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>