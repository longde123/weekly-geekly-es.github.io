<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš¬ ğŸ›©ï¸ ğŸŸ æ²¡æœ‰ä¸€ä¸ªæ˜¥å­£å¯åŠ¨ï¼šæ›¿ä»£æ–¹æ¡ˆæ¦‚è¿° ğŸ¥¡ ğŸ‘©â€ğŸ‘©â€ğŸ‘¦ ğŸ‘†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å½“å‰ä¸ä¹ä½¿ç”¨Javaå’ŒKotlinåˆ›å»ºå¾®æœåŠ¡çš„æ¡†æ¶ã€‚ æœ¬æ–‡è®¨è®ºäº†ä»¥ä¸‹å†…å®¹ï¼š 
 èŒç§°  ç‰ˆæœ¬å·  é¦–æ¬¡å‘è¡Œå¹´ä»½  å¼€å‘è€…  ç›´å‡æœºåœæœºåª  1.1.1  2019å¹´  ç”²éª¨æ–‡  å…‹æ‰˜  1.2.1  2018å¹´  æ·è„‘  å¾®èˆªæµ·  1.1.3  2018å¹´  å¯¹è±¡è¿ç®—  æ˜¥å­£é´  2.1.5  20...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æ²¡æœ‰ä¸€ä¸ªæ˜¥å­£å¯åŠ¨ï¼šæ›¿ä»£æ–¹æ¡ˆæ¦‚è¿°</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/raiffeisenbank/blog/456376/"><img src="https://habrastorage.org/webt/al/mw/1g/almw1ghoqrvuf2nbw_awcwqvqe4.png"><br><br> å½“å‰ä¸ä¹ä½¿ç”¨Javaå’ŒKotlinåˆ›å»ºå¾®æœåŠ¡çš„æ¡†æ¶ã€‚ æœ¬æ–‡è®¨è®ºäº†ä»¥ä¸‹å†…å®¹ï¼š <br><div class="scrollable-table"><table><tbody><tr><th> èŒç§° </th><th> ç‰ˆæœ¬å· </th><th> é¦–æ¬¡å‘è¡Œå¹´ä»½ </th><th> å¼€å‘è€… </th></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç›´å‡æœºåœæœºåª</a> </td><td>  1.1.1 </td><td>  2019å¹´ </td><td> ç”²éª¨æ–‡ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å…‹æ‰˜</a> </td><td>  1.2.1 </td><td>  2018å¹´ </td><td> æ·è„‘ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¾®èˆªæµ·</a> </td><td>  1.1.3 </td><td>  2018å¹´ </td><td> å¯¹è±¡è¿ç®— </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ˜¥å­£é´</a> </td><td>  2.1.5 </td><td>  2014å¹´ </td><td> å…³é”®çš„ </td></tr></tbody></table></div><a name="habracut"></a><br> åŸºäºå®ƒä»¬ï¼Œå·²ç»åˆ›å»ºäº†å››ä¸ªæœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨é€šè¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Consul</a>å®ç°çš„æœåŠ¡å‘ç°æ¨¡å¼é€šè¿‡HTTP APIç›¸äº’äº¤äº’ã€‚ å› æ­¤ï¼Œå®ƒä»¬å½¢æˆäº†å¼‚æ„çš„ï¼ˆåœ¨æ¡†æ¶çº§åˆ«ï¼‰å¾®æœåŠ¡æ¶æ„ï¼ˆä»¥ä¸‹ç§°ä¸ºISAï¼‰ï¼š <br><br><img src="https://habrastorage.org/webt/tv/mv/kp/tvmvkpurtljgpl3yhxhtpmse4_g.png"><br><br> ä¸ºæ¯ç§æœåŠ¡å®šä¹‰ä¸€ç»„è¦æ±‚ï¼š <br><br><ul><li> æŠ€æœ¯æ ˆï¼š <br><ul><li>  JDK 12ï¼› </li><li> ç§‘ç‰¹æ— </li><li>  Gradleï¼ˆKotlin DSLï¼‰ï¼› </li><li>  JUnit 5ã€‚ </li></ul><br></li><li> åŠŸèƒ½ï¼ˆHTTP APIï¼‰ï¼š <br><ul><li><code>GET /application-info{?request-to=some-service-name}</code> <br> è¿”å›æœ‰å…³å¾®æœåŠ¡çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ï¼Œæ¡†æ¶ï¼Œæ¡†æ¶çš„å‘å¸ƒå¹´ä»½ï¼‰ï¼› å½“åœ¨å…¶HTTP APIçš„<code>request-to</code>å‚æ•°ä¸­æŒ‡å®šå››ä¸ªå¾®æœåŠ¡ä¹‹ä¸€çš„åç§°æ—¶ï¼Œå°†æ‰§è¡Œç±»ä¼¼çš„è¯·æ±‚ï¼Œè¯¥è¯·æ±‚è¿”å›åŸºæœ¬ä¿¡æ¯ï¼› </li><li> <code>GET /application-info/logo</code> <br> è¿”å›å›¾åƒã€‚ </li></ul><br></li><li> å®æ–½ï¼š <br><ul><li> ä½¿ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œè®¾ç½®ï¼› </li><li> ä½¿ç”¨ä¾èµ–æ³¨å…¥ </li><li> éªŒè¯HTTP APIåŠŸèƒ½çš„æµ‹è¯•ã€‚ </li></ul><br></li><li>  ISAï¼š <br><ul><li> ä½¿ç”¨æœåŠ¡å‘ç°æ¨¡å¼ï¼ˆå‘Consulæ³¨å†Œï¼Œä½¿ç”¨å®¢æˆ·ç«¯è´Ÿè½½å¹³è¡¡æŒ‰åç§°è®¿é—®å¦ä¸€ä¸ªå¾®æœåŠ¡çš„HTTP APIï¼‰ï¼› </li><li>  uber-jarç¥å™¨å½¢æˆã€‚ </li></ul><br></li></ul><br> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è€ƒè™‘åœ¨æ¯ä¸ªæ¡†æ¶ä¸Šå®ç°å¾®æœåŠ¡ï¼Œå¹¶æ¯”è¾ƒæ¥æ”¶åˆ°çš„åº”ç”¨ç¨‹åºçš„å‚æ•°ã€‚ <br><br><h1> ç›´å‡æœºåœæœºåªæœåŠ¡ </h1><br> å¼€å‘æ¡†æ¶æ˜¯åœ¨Oracleä¸Šåˆ›å»ºçš„ï¼Œä¾›å†…éƒ¨ä½¿ç”¨ï¼Œéšåæˆä¸ºå¼€æºã€‚ åŸºäºæ­¤æ¡†æ¶çš„å¼€å‘æ¨¡å‹æœ‰ä¸¤ç§ï¼šæ ‡å‡†ç‰ˆï¼ˆSEï¼‰å’ŒMicroProfileï¼ˆMPï¼‰ã€‚ åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œè¯¥æœåŠ¡éƒ½æ˜¯å¸¸è§„çš„Java SEç¨‹åºã€‚ åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤</a>é¡µé¢ä¸Šäº†è§£æœ‰å…³å·®å¼‚çš„æ›´å¤šä¿¡æ¯ã€‚ <br><br> ç®€è€Œè¨€ä¹‹ï¼ŒHelidon MPæ˜¯Eclipse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MicroProfileçš„</a>å®ç°ä¹‹ä¸€ï¼Œè¿™ä½¿å¾—å¯ä»¥ä½¿ç”¨Java EEå¼€å‘äººå‘˜å…ˆå‰å·²çŸ¥çš„è®¸å¤šAPIï¼ˆä¾‹å¦‚JAX-RSï¼ŒCDIï¼‰å’Œè¾ƒæ–°çš„APIï¼ˆè¿è¡ŒçŠ¶å†µæ£€æŸ¥ï¼ŒæŒ‡æ ‡ï¼Œå®¹é”™ï¼‰ç­‰ï¼‰ã€‚ åœ¨Helidon SEå˜ä½“ä¸­ï¼Œå¼€å‘äººå‘˜éµå¾ªâ€œæ²¡æœ‰é­”æœ¯â€çš„åŸåˆ™ï¼Œå°¤å…¶æ˜¯ç”¨åˆ›å»ºåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ³¨é‡Šæ›´å°‘æˆ–æ²¡æœ‰æ³¨é‡Šçš„åŸåˆ™æ¥è¡¨è¾¾ã€‚ <br><br>  Helidon SEè¢«é€‰æ‹©ç”¨äºå¾®æœåŠ¡å¼€å‘ã€‚ é™¤å…¶ä»–å¤–ï¼Œå®ƒç¼ºå°‘ç”¨äºå®ç°ä¾èµ–æ³¨å…¥çš„å·¥å…·ï¼Œå› æ­¤ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Koin</a>æ¥å®ç°ä¾èµ–ã€‚ ä»¥ä¸‹æ˜¯åŒ…å«mainæ–¹æ³•çš„ç±»ã€‚ ä¸ºäº†å®ç°ä¾èµ–æ³¨å…¥ï¼Œè¯¥ç±»ç»§æ‰¿è‡ª<i>KoinComponent</i> ã€‚  Koiné¦–å…ˆå¯åŠ¨ï¼Œç„¶ååˆå§‹åŒ–æ‰€éœ€çš„ä¾èµ–å…³ç³»ï¼Œå¹¶<code>startServer()</code>æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­åˆ›å»º<i>WebServer</i>ç±»å‹çš„å¯¹è±¡ï¼Œä¹‹å‰å°†åº”ç”¨ç¨‹åºé…ç½®å’Œè·¯ç”±è®¾ç½®ä¼ è¾“åˆ°è¯¥å¯¹è±¡ï¼› å¯åŠ¨åï¼Œè¯¥åº”ç”¨ç¨‹åºå°†åœ¨é¢†äº‹é¦†æ³¨å†Œï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">object</span></span> HelidonServiceApplication : KoinComponent { <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> startTime = System.currentTimeMillis() startKoin { modules(koinModule) } <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> consulClient: Consul <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoProperties: ApplicationInfoProperties <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serviceName = applicationInfoProperties.name startServer(applicationInfoService, consulClient, serviceName, startTime) } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startServer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( applicationInfoService: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ApplicationInfoService</span></span></span></span><span class="hljs-function"><span class="hljs-params">, consulClient: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Consul</span></span></span></span><span class="hljs-function"><span class="hljs-params">, serviceName: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">, startTime: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span></span>: WebServer { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serverConfig = ServerConfiguration.create(Config.create().<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"webserver"</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> server: WebServer = WebServer .builder(createRouting(applicationInfoService)) .config(serverConfig) .build() server.start().thenAccept { ws -&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> durationInMillis = System.currentTimeMillis() - startTime log.info(<span class="hljs-string"><span class="hljs-string">"Startup completed in </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$durationInMillis</span></span></span><span class="hljs-string"> ms. Service running at: http://localhost:"</span></span> + ws.port()) <span class="hljs-comment"><span class="hljs-comment">// register in Consul consulClient.agentClient().register(createConsulRegistration(serviceName, ws.port())) } return server }</span></span></code> </pre> <br> è·¯ç”±é…ç½®å¦‚ä¸‹ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createRouting</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(applicationInfoService: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ApplicationInfoService</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> = Routing.builder() .register(JacksonSupport.create()) .<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"/application-info"</span></span>, Handler { req, res -&gt; <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> requestTo: String? = req.queryParams() .first(<span class="hljs-string"><span class="hljs-string">"request-to"</span></span>) .orElse(<span class="hljs-literal"><span class="hljs-literal">null</span></span>) res .status(Http.ResponseStatus.create(<span class="hljs-number"><span class="hljs-number">200</span></span>)) .send(applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo)) }) .<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-string"><span class="hljs-string">"/application-info/logo"</span></span>, Handler { req, res -&gt; res.headers().contentType(MediaType.create(<span class="hljs-string"><span class="hljs-string">"image"</span></span>, <span class="hljs-string"><span class="hljs-string">"png"</span></span>)) res .status(Http.ResponseStatus.create(<span class="hljs-number"><span class="hljs-number">200</span></span>)) .send(applicationInfoService.getLogo()) }) .error(Exception::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span></span>{ req, res, ex -&gt; log.error(<span class="hljs-string"><span class="hljs-string">"Exception:"</span></span>, ex) res.status(Http.Status.INTERNAL_SERVER_ERROR_500).send() } .build()</code> </pre> <br> è¯¥åº”ç”¨ç¨‹åºä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><u>HOCON</u></a>æ ¼å¼çš„é…ç½®ï¼š <br><br><pre> <code class="json hljs">webserver { port: <span class="hljs-number"><span class="hljs-number">8081</span></span> } application-info { name: <span class="hljs-string"><span class="hljs-string">"helidon-service"</span></span> framework { name: <span class="hljs-string"><span class="hljs-string">"Helidon SE"</span></span> release-year: <span class="hljs-number"><span class="hljs-number">2019</span></span> } }</code> </pre> <br> ä¹Ÿå¯ä»¥ä½¿ç”¨JSONï¼ŒYAMLå’Œå±æ€§æ ¼å¼çš„æ–‡ä»¶è¿›è¡Œé…ç½®ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„æœ‰</a>æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼‰ã€‚ <br><br><h1>  KtoræœåŠ¡ </h1><br> è¯¥æ¡†æ¶æ˜¯ç”¨Kotlinç¼–å†™çš„ã€‚ å¯ä»¥é€šè¿‡å‡ ç§æ–¹å¼åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼šä½¿ç”¨æ„å»ºç³»ç»Ÿï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">start.ktor.io</a>æˆ–IntelliJ IDEAæ’ä»¶ï¼ˆæ›´å¤š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¿¡æ¯è¯·</a>å‚è§ï¼‰ã€‚ <br><br> åƒHelidon SEä¸€æ ·ï¼ŒKtorä¹Ÿæ²¡æœ‰å¼€ç®±å³ç”¨çš„DIï¼Œå› æ­¤åœ¨å¯åŠ¨æœåŠ¡å™¨ä¹‹å‰ä½¿ç”¨Koinå®ç°ä¾èµ–é¡¹ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> koinModule = module { single { ApplicationInfoService(<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(), <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>()) } single { ApplicationInfoProperties() } single { ServiceClient(<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>()) } single { Consul.builder().withUrl(<span class="hljs-string"><span class="hljs-string">"http://localhost:8500"</span></span>).build() } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> { startKoin { modules(koinModule) } <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> server = embeddedServer(Netty, commandLineEnvironment(args)) server.start(wait = <span class="hljs-literal"><span class="hljs-literal">true</span></span>) }</code> </pre> <br> åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ¨¡å—åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šï¼ˆå¯ä»¥ä»…ä½¿ç”¨HOCONæ ¼å¼ï¼›æœ‰å…³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a>é…ç½®KtoræœåŠ¡å™¨çš„æ›´å¤šä¿¡æ¯ï¼‰ï¼Œå…¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="kotlin hljs">ktor { deployment { host = localhost port = <span class="hljs-number"><span class="hljs-number">8082</span></span> watch = [io.heterogeneousmicroservices.ktorservice] } application { modules = [io.heterogeneousmicroservices.ktorservice.module.KtorServiceApplicationModuleKt.module] } } application-info { name: <span class="hljs-string"><span class="hljs-string">"ktor-service"</span></span> framework { name: <span class="hljs-string"><span class="hljs-string">"Ktor"</span></span> release-year: <span class="hljs-number"><span class="hljs-number">2018</span></span> }</code> </pre> <br>  Ktorå’ŒKoinä½¿ç”¨æœ¯è¯­â€œæ¨¡å—â€ï¼Œå…¶å«ä¹‰ä¸åŒã€‚ åœ¨Koinä¸­ï¼Œæ¨¡å—æ˜¯Springæ¡†æ¶ä¸­åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡çš„ç±»ä¼¼ç‰©ã€‚  Ktoræ¨¡å—æ˜¯ç”¨æˆ·å®šä¹‰çš„å‡½æ•°ï¼Œå®ƒæ¥å—ç±»å‹ä¸º<i>Application</i>çš„å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥é…ç½®ç®¡é“ï¼Œè®¾ç½®åŠŸèƒ½ï¼Œæ³¨å†Œè·¯ç”±ï¼Œå¤„ç† <br> è¦æ±‚ç­‰ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> Application.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">module</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isTest()) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> consulClient: Consul <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> inject() registerInConsul(applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(<span class="hljs-literal"><span class="hljs-literal">null</span></span>).name, consulClient) } install(DefaultHeaders) install(Compression) install(CallLogging) install(ContentNegotiation) { jackson {} } routing { route(<span class="hljs-string"><span class="hljs-string">"application-info"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> requestTo: String? = call.parameters[<span class="hljs-string"><span class="hljs-string">"request-to"</span></span>] call.respond(applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo)) } static { resource(<span class="hljs-string"><span class="hljs-string">"/logo"</span></span>, <span class="hljs-string"><span class="hljs-string">"logo.png"</span></span>) } } } }</code> </pre> <br> åœ¨æ­¤ä»£ç æ®µä¸­ï¼Œé…ç½®äº†è¯·æ±‚çš„è·¯ç”±ï¼Œå°¤å…¶æ˜¯é™æ€èµ„æº<code>logo.png</code> ã€‚ <br><br>  KtoræœåŠ¡å¯èƒ½åŒ…å«åŠŸèƒ½ã€‚ åŠŸèƒ½æ˜¯åµŒå…¥åœ¨è¯·æ±‚-å“åº”<i>ç®¡é“ä¸­çš„åŠŸèƒ½</i> ï¼ˆ <i>DefaultHeadersï¼ŒCompression</i>å’Œä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­çš„å…¶ä»–åŠŸèƒ½ï¼‰ã€‚ å¯ä»¥å®ç°è‡ªå·±çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç ç»“åˆåŸºäºè½®å¾ªç®—æ³•çš„å®¢æˆ·ç«¯è´Ÿè½½å¹³è¡¡æ¥å®ç°æœåŠ¡å‘ç°æ¨¡å¼ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConsulFeature</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> consulClient: Consul) { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Config</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> consulClient: Consul } <span class="hljs-keyword"><span class="hljs-keyword">companion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> Feature : HttpClientFeature&lt;Config, ConsulFeature&gt; { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> serviceInstanceIndex: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> key = AttributeKey&lt;ConsulFeature&gt;(<span class="hljs-string"><span class="hljs-string">"ConsulFeature"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">prepare</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(block: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Config</span></span></span></span><span class="hljs-function"><span class="hljs-params">.()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>) = ConsulFeature(Config().apply(block).consulClient) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">install</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(feature: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ConsulFeature</span></span></span></span><span class="hljs-function"><span class="hljs-params">, scope: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">HttpClient</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { scope.requestPipeline.intercept(HttpRequestPipeline.Render) { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serviceName = context.url.host <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> serviceInstances = feature.consulClient.healthClient().getHealthyServiceInstances(serviceName).response <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> selectedInstance = serviceInstances[serviceInstanceIndex] context.url.apply { host = selectedInstance.service.address port = selectedInstance.service.port } serviceInstanceIndex = (serviceInstanceIndex + <span class="hljs-number"><span class="hljs-number">1</span></span>) % serviceInstances.size } } } }</code> </pre> <br> ä¸»è¦é€»è¾‘åœ¨äº<code>install</code>æ–¹æ³•ï¼šåœ¨<i>Render</i>è¯·æ±‚é˜¶æ®µï¼ˆåœ¨<i>Send</i>é˜¶æ®µä¹‹å‰æ‰§è¡Œï¼‰æœŸé—´ï¼Œé¦–å…ˆç¡®å®šè¦è°ƒç”¨çš„æœåŠ¡çš„åç§°ï¼Œç„¶åä»<code>consulClient</code>è¯·æ±‚æ­¤æœåŠ¡çš„å®ä¾‹åˆ—è¡¨ï¼Œç„¶åä½¿ç”¨Round-robinç®—æ³•ç¡®å®šå®ä¾‹ã€‚ å› æ­¤ï¼Œä»¥ä¸‹è°ƒç”¨å˜ä¸ºå¯èƒ½ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getApplicationInfo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(serviceName: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: ApplicationInfo = runBlocking { httpClient.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>&lt;ApplicationInfo&gt;(<span class="hljs-string"><span class="hljs-string">"http://</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$serviceName</span></span></span><span class="hljs-string">/application-info"</span></span>) }</code> </pre> <br><br><h1> å¾®èˆªæœåŠ¡ </h1><br>  Micronautç”±<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Grails</a>æ¡†æ¶çš„åˆ›å»ºè€…å¼€å‘ï¼Œå…¶çµæ„Ÿæ¥è‡ªä½¿ç”¨Springï¼ŒSpring Bootå’ŒGrailsæ„å»ºæœåŠ¡çš„ç»éªŒã€‚ è¯¥æ¡†æ¶æ˜¯ä¸€ä¸ªå¤šè¯­è¨€ç‰ˆæœ¬ï¼Œæ”¯æŒJavaï¼ŒKotlinå’ŒGroovyã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¹Ÿè®¸ä¼šæœ‰</a>å¯¹Scalaçš„æ”¯æŒã€‚ ä¾èµ–æ³¨å…¥æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µæ‰§è¡Œçš„ï¼Œä¸Spring Bootç›¸æ¯”ï¼Œè¿™å¯¼è‡´æ›´å°‘çš„å†…å­˜æ¶ˆè€—å’Œæ›´å¿«çš„åº”ç”¨ç¨‹åºå¯åŠ¨ã€‚ <br><br> ä¸»ç±»å…·æœ‰ä»¥ä¸‹å½¢å¼ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">object</span></span> MicronautServiceApplication { <span class="hljs-meta"><span class="hljs-meta">@JvmStatic</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> { Micronaut.build() .packages(<span class="hljs-string"><span class="hljs-string">"io.heterogeneousmicroservices.micronautservice"</span></span>) .mainClass(MicronautServiceApplication.javaClass) .start() } }</code> </pre> <br> åŸºäºMicronautçš„åº”ç”¨ç¨‹åºçš„æŸäº›ç»„ä»¶ç±»ä¼¼äºSpring Bootåº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶ï¼Œä¾‹å¦‚ï¼Œæ§åˆ¶å™¨ä»£ç å¦‚ä¸‹ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Controller( value = </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/application-info"</span></span></span><span class="hljs-meta">, consumes = [MediaType.APPLICATION_JSON], produces = [MediaType.APPLICATION_JSON] )</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationInfoController</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService ) { <span class="hljs-meta"><span class="hljs-meta">@Get</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(requestTo: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: ApplicationInfo = applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo) <span class="hljs-meta"><span class="hljs-meta">@Get(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/logo"</span></span></span><span class="hljs-meta">, produces = [MediaType.IMAGE_PNG])</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLogo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: ByteArray = applicationInfoService.getLogo() }</code> </pre> <br>  Micronautå¯¹Kotlinçš„æ”¯æŒåŸºäº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">kapt</a>ç¼–è¯‘å™¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ’ä»¶</a> ï¼ˆæ›´å¤š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¿¡æ¯</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ­¤å¤„</a> ï¼‰ã€‚ æ±‡ç¼–è„šæœ¬çš„é…ç½®å¦‚ä¸‹ï¼š <br><br><pre> <code class="kotlin hljs">plugins { ... kotlin(<span class="hljs-string"><span class="hljs-string">"kapt"</span></span>) ... } dependencies { kapt(<span class="hljs-string"><span class="hljs-string">"io.micronaut:micronaut-inject-java"</span></span>) ... kaptTest(<span class="hljs-string"><span class="hljs-string">"io.micronaut:micronaut-inject-java"</span></span>) ... }</code> </pre> <br> ä»¥ä¸‹æ˜¯é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼š <br><br><pre> <code class="json hljs">micronaut: application: name: micronaut-service server: port: <span class="hljs-number"><span class="hljs-number">8083</span></span> consul: client: registration: enabled: <span class="hljs-literal"><span class="hljs-literal">true</span></span> application-info: name: ${micronaut.application.name} framework: name: Micronaut release-year: <span class="hljs-number"><span class="hljs-number">2018</span></span></code> </pre> <br> è¿˜å¯ä»¥ä½¿ç”¨JSONï¼Œå±æ€§å’ŒGroovyæ–‡ä»¶æ ¼å¼è¿›è¡Œå¾®æœåŠ¡é…ç½®ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„æœ‰</a>æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼‰ã€‚ <br><br><h1> æ˜¥å­£å¯åŠ¨æœåŠ¡ </h1><br> åˆ›å»ºè¯¥æ¡†æ¶æ˜¯ä¸ºäº†ç®€åŒ–ä½¿ç”¨Spring Frameworkç”Ÿæ€ç³»ç»Ÿçš„åº”ç”¨ç¨‹åºå¼€å‘ã€‚ è¿™æ˜¯é€šè¿‡è¿æ¥åº“æ—¶çš„è‡ªåŠ¨é…ç½®æœºåˆ¶æ¥å®ç°çš„ã€‚ ä»¥ä¸‹æ˜¯æ§åˆ¶å™¨ä»£ç ï¼š <br><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping(path = [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"application-info"</span></span></span><span class="hljs-meta">], produces = [MediaType.APPLICATION_JSON_UTF8_VALUE])</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApplicationInfoController</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> applicationInfoService: ApplicationInfoService ) { <span class="hljs-meta"><span class="hljs-meta">@GetMapping</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-meta"><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta">@RequestParam(</span></span></span><span class="hljs-meta-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta"><span class="hljs-meta-string">"request-to"</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-meta">)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> requestTo: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span>: ApplicationInfo = applicationInfoService.<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(requestTo) <span class="hljs-meta"><span class="hljs-meta">@GetMapping(path = [</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/logo"</span></span></span><span class="hljs-meta">], produces = [MediaType.IMAGE_PNG_VALUE])</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLogo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: ByteArray = applicationInfoService.getLogo() }</code> </pre> <br> å¾®æœåŠ¡é…ç½®äº†ä¸€ä¸ªYAMLæ–‡ä»¶ï¼š <br><br><pre> <code class="json hljs">spring: application: name: spring-boot-service server: port: <span class="hljs-number"><span class="hljs-number">8084</span></span> application-info: name: ${spring.application.name} framework: name: Spring Boot release-year: <span class="hljs-number"><span class="hljs-number">2014</span></span></code> </pre> <br> ä¹Ÿå¯ä»¥ä½¿ç”¨å±æ€§æ ¼å¼æ–‡ä»¶è¿›è¡Œé…ç½®ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„æœ‰</a>æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼‰ã€‚ <br><br><h1> å‘å°„ </h1><br> è¯¥é¡¹ç›®å¯åœ¨JDK 12ä¸Šè¿è¡Œï¼Œå°½ç®¡ä¹Ÿå¯èƒ½åœ¨ç‰ˆæœ¬11ä¸Šè¿è¡Œï¼Œæ‚¨åªéœ€è¦ç›¸åº”åœ°åœ¨æ±‡ç¼–è„šæœ¬ä¸­æ›´æ”¹<code>jvmTarget</code>å‚æ•°ï¼š <br><br><pre> <code class="kotlin hljs">withType&lt;KotlinCompile&gt; { kotlinOptions { jvmTarget = <span class="hljs-string"><span class="hljs-string">"12"</span></span> ... } }</code> </pre> <br> åœ¨å¯åŠ¨å¾®æœåŠ¡ä¹‹å‰ï¼Œæ‚¨éœ€è¦<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®‰è£…</a> Consulå¹¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯åŠ¨</a>ä»£ç†-ä¾‹å¦‚ï¼Œåƒè¿™æ ·ï¼š <code>consul agent -dev</code> ã€‚ <br><br> å¯ä»¥ä»ä»¥ä¸‹ä½ç½®å¯åŠ¨å¾®æœåŠ¡ï¼š <br><br><ul><li> é›†æˆå¼€å‘ç¯å¢ƒ <br>  IntelliJ IDEAç”¨æˆ·å¯ä»¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š <br><img src="https://habrastorage.org/webt/n3/u_/hy/n3u_hy7_z5ut65ryaetvsw2znci.png"><br></li><li> æ§åˆ¶å° <br> ä¸ºæ­¤ï¼Œè¯·è½¬åˆ°é¡¹ç›®æ–‡ä»¶å¤¹å¹¶ä¾æ¬¡æ‰§è¡Œï¼š <br><br><pre> <code class="plaintext hljs">java -jar helidon-service/build/libs/helidon-service-all.jar java -jar ktor-service/build/libs/ktor-service-all.jar java -jar micronaut-service/build/libs/micronaut-service-all.jar java -jar spring-boot-service/build/libs/spring-boot-service.jar</code> </pre> <br></li></ul><br> åœ¨<code>http://localhost:8500/ui/dc1/services</code>ä¸Šå¯åŠ¨æ‰€æœ‰å¾®<code>http://localhost:8500/ui/dc1/services</code>æ‚¨å°†çœ‹åˆ°ï¼š <br><br><img src="https://habrastorage.org/webt/qi/lm/bv/qilmbv1op4a6xgy6b31tnsfjpmm.png"><br><br><h1>  APIæµ‹è¯• </h1><br> ä½œä¸ºç¤ºä¾‹ï¼Œç»™å‡ºäº†æµ‹è¯•HelidonæœåŠ¡APIçš„ç»“æœï¼š <br><br><ol><li> <code>GET http://localhost:8081/application-info</code> <br> <br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"helidon-service"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"framework"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Helidon SE"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"releaseYear"</span></span>: <span class="hljs-number"><span class="hljs-number">2019</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"requestedService"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }</code> </pre> </li><li> <code>GET http://localhost:8081/application-info?request-to=ktor-service</code> <br> <br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"helidon-service"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"framework"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Helidon SE"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"releaseYear"</span></span>: <span class="hljs-number"><span class="hljs-number">2019</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"requestedService"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"ktor-service"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"framework"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ktor"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"releaseYear"</span></span>: <span class="hljs-number"><span class="hljs-number">2018</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"requestedService"</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> } }</code> </pre> </li><li> <code>GET http://localhost:8081/application-info/logo</code> <br> <br> è¿”å›å›¾åƒã€‚ </li></ol><br> æ‚¨å¯ä»¥ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Postman</a> ï¼ˆè¯·æ±‚çš„<a href="">é›†åˆ</a> ï¼‰ï¼ŒIntelliJ IDEA <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://www.jetbrains.com/help/idea/">HTTPå®¢æˆ·ç«¯</a> ï¼ˆè¯·æ±‚çš„<a href="https://github.com/rkudryashov/heterogeneous-microservices/blob/master/_misc/api_testing/idea_http_client/http-request.">é›†åˆ</a> ï¼‰ï¼Œæµè§ˆå™¨æˆ–å…¶ä»–å·¥å…·æ¥æµ‹è¯•ä»»æ„å¾®æœåŠ¡APIã€‚ å¦‚æœä½¿ç”¨å‰ä¸¤ä¸ªå®¢æˆ·ç«¯ï¼Œåˆ™å¿…é¡»åœ¨ç›¸åº”çš„å˜é‡ä¸­æŒ‡å®šè¢«è°ƒç”¨å¾®æœåŠ¡çš„ç«¯å£ï¼ˆåœ¨Postmanä¸­ï¼Œå®ƒåœ¨<i>é›†åˆèœå•-&gt; Edit-&gt; Variablesä¸­</i> ï¼Œåœ¨HTTP Clientä¸­ï¼Œå®ƒåœ¨<a href="https://github.com/rkudryashov/heterogeneous-microservices/blob/master/_misc/api_testing/idea_http_client/">æ­¤</a>æ–‡ä»¶ä¸­æŒ‡å®šçš„ç¯å¢ƒå˜é‡ä¸­ï¼‰ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•æ–¹æ³•2æ—¶ï¼‰ APIè¿˜éœ€è¦æŒ‡å®šè¯·æ±‚çš„â€œå¹•åâ€å¾®æœåŠ¡çš„åç§°ã€‚ ç­”æ¡ˆå°†ä¸ä¸Šé¢ç»™å‡ºçš„ç­”æ¡ˆç›¸ä¼¼ã€‚ <br><br><h1> åº”ç”¨ç¨‹åºè®¾ç½®æ¯”è¾ƒ </h1><br><br><h3> å·¥ä»¶å°ºå¯¸ </h3><br> ä¸ºäº†ä¿æŒåœ¨æ±‡ç¼–è„šæœ¬ä¸­è®¾ç½®å’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„ç®€ä¾¿æ€§ï¼Œæœªæ’é™¤ä»»ä½•ä¼ é€’ä¾èµ–é¡¹ï¼Œå› æ­¤Spring Bootä¸Šçš„uber-JARæœåŠ¡çš„å¤§å°å¤§å¤§è¶…è¿‡äº†å…¶ä»–æ¡†æ¶ä¸Šç±»ä¼¼ç‰©çš„å¤§å°ï¼ˆå› ä¸ºä½¿ç”¨å¯åŠ¨å™¨æ—¶ï¼Œä¸ä»…å¯¼å…¥äº†å¿…éœ€çš„ä¾èµ–é¡¹;å¦‚æœéœ€è¦ï¼Œå¯ä»¥å¤§å¤§å‡å°å°ºå¯¸ï¼‰ï¼š <br><div class="scrollable-table"><table><tbody><tr><th> å¾®æœåŠ¡ </th><th> å·¥ä»¶å¤§å°ï¼ŒMB </th></tr><tr><td> ç›´å‡æœºåœæœºåªæœåŠ¡ </td><td align="right">  16.6 </td></tr><tr><td>  KtoræœåŠ¡ </td><td align="right">  20.9 </td></tr><tr><td> å¾®èˆªæœåŠ¡ </td><td align="right">  16.5 </td></tr><tr><td> æ˜¥å­£å¯åŠ¨æœåŠ¡ </td><td align="right">  42.7 </td></tr></tbody></table></div><br><br><h3> å‘å°„æ—¶é—´ </h3><br> æ¯ä¸ªåº”ç”¨ç¨‹åºçš„å¯åŠ¨æ—¶é—´ä¸ä¸€è‡´ï¼Œå¹¶è½å…¥ä¸€äº›â€œçª—å£â€ä¸­ã€‚ ä¸‹è¡¨æ˜¾ç¤ºäº†å·¥ä»¶çš„å¯åŠ¨æ—¶é—´ï¼Œä½†æœªæŒ‡å®šä»»ä½•å…¶ä»–å‚æ•°ï¼š <br><div class="scrollable-table"><table><tbody><tr><th> å¾®æœåŠ¡ </th><th> å¼€å§‹æ—¶é—´ï¼Œç§’ </th></tr><tr><td> ç›´å‡æœºåœæœºåªæœåŠ¡ </td><td align="right">  2.2 </td></tr><tr><td>  KtoræœåŠ¡ </td><td align="right">  1.4 </td></tr><tr><td> å¾®èˆªæœåŠ¡ </td><td align="right">  4.0 </td></tr><tr><td> æ˜¥å­£å¯åŠ¨æœåŠ¡ </td><td align="right">  10,2 </td></tr></tbody></table></div><br> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ‚¨ä»ä¸éœ€è¦çš„ä¾èµ–é¡¹ä¸­â€œæ¸…é™¤â€äº†Spring Bootåº”ç”¨ç¨‹åºï¼Œå¹¶æ³¨æ„å°†å…¶é…ç½®ä¸ºå¯åŠ¨ï¼ˆä¾‹å¦‚ï¼Œä»…æ‰«æå¿…è¦çš„ç¨‹åºåŒ…å¹¶ä½¿ç”¨æƒ°æ€§å®¹å™¨åˆå§‹åŒ–ï¼‰ï¼Œåˆ™å¯ä»¥å¤§å¤§å‡å°‘å¯åŠ¨æ—¶é—´ã€‚ <br><br><h3> è´Ÿè½½æµ‹è¯• </h3><br> ä¸ºäº†è¿›è¡Œæµ‹è¯•ï¼Œä½¿ç”¨äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŠ ç‰¹æ—</a>å’ŒScala <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è„šæœ¬</a> ã€‚ è´Ÿè½½ç”Ÿæˆå™¨å’Œè¢«æµ‹æœåŠ¡åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œï¼ˆWindows 10ï¼Œå››æ ¸3.2 GHzå¤„ç†å™¨ï¼Œ24 GB RAMï¼ŒSSDï¼‰ã€‚ è¯¥æœåŠ¡çš„ç«¯å£åœ¨Scalaè„šæœ¬ä¸­æŒ‡ç¤ºã€‚ <br><br> å¯¹äºæ¯ä¸ªå¾®æœåŠ¡ï¼Œç¡®å®šï¼š <br><br><ul><li> è¿è¡Œæ­£å¸¸ï¼ˆå“åº”è¯·æ±‚ï¼‰å¾®æœåŠ¡æ‰€éœ€çš„æœ€å°å †å†…å­˜ï¼ˆ <code>-Xmx</code> ï¼‰ </li><li> é€šè¿‡è´Ÿè½½æµ‹è¯•æ‰€éœ€çš„æœ€å°å †å†…å­˜50ä¸ªç”¨æˆ·* 1000ä¸ªè¯·æ±‚ </li><li> é€šè¿‡è´Ÿè½½æµ‹è¯•æ‰€éœ€çš„æœ€å°å †å†…å­˜500ä¸ªç”¨æˆ·* 1000ä¸ªè¯·æ±‚ </li></ul><br> é€šè¿‡è´Ÿè½½æµ‹è¯•æ„å‘³ç€å¾®æœåŠ¡å¯ä»¥éšæ—¶å“åº”æ‰€æœ‰è¯·æ±‚ã€‚ <br><div class="scrollable-table"><table><tbody><tr><th rowspan="2"> å¾®æœåŠ¡ </th><th colspan="3"> æœ€å°å †å†…å­˜é‡ï¼ŒMB </th></tr><tr><th> å¯åŠ¨æœåŠ¡ </th><th> è´Ÿè½½50 * 1000 </th><th> è´Ÿè½½500 * 1000 </th></tr><tr><td> ç›´å‡æœºåœæœºåªæœåŠ¡ </td><td align="right">  9 </td><td align="right">  9 </td><td align="right">  11 </td></tr><tr><td>  KtoræœåŠ¡ </td><td align="right">  11 </td><td align="right">  11 </td><td align="right">  13 </td></tr><tr><td> å¾®èˆªæœåŠ¡ </td><td align="right">  13 </td><td align="right">  13 </td><td align="right">  17 </td></tr><tr><td> æ˜¥å­£å¯åŠ¨æœåŠ¡ </td><td align="right">  22 </td><td align="right">  23 </td><td align="right">  25 </td></tr></tbody></table></div><br> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰å¾®æœåŠ¡éƒ½ä½¿ç”¨Netty HTTPæœåŠ¡å™¨ã€‚ <br><br><h1> ç»“è®º </h1><br> è¿™é¡¹ä»»åŠ¡-ä½¿ç”¨HTTP APIåˆ›å»ºç®€å•æœåŠ¡ä»¥åŠåœ¨ISAä¸­è¿è¡Œçš„åŠŸèƒ½-å¯ä»¥åœ¨æ‰€æœ‰ç›¸å…³æ¡†æ¶ä¸Šå®Œæˆã€‚ ç°åœ¨æ˜¯ç›˜ç‚¹å¹¶è€ƒè™‘å…¶ä¼˜ç‚¹å’Œç¼ºç‚¹çš„æ—¶å€™äº†ã€‚ <br><br>  <i><b>æµ·åˆ©é¡¿</b></i> <br><br>  <font color="#808080">æ ‡å‡†ç‰ˆ</font> <br><ul><li> åŠ å· <br><ul><li> åº”ç”¨ç¨‹åºè®¾ç½® <br> åœ¨å„æ–¹é¢å‡æ˜¾ç¤ºå‡ºè‰¯å¥½çš„ç»“æœï¼› </li><li>  â€œæ²¡æœ‰é­”æœ¯â€ <br> è¯¥æ¡†æ¶è¯æ˜äº†å¼€å‘äººå‘˜æ‰€é™ˆè¿°çš„åŸç†ï¼šä»…éœ€ä¸€ä¸ªæ³¨é‡Šå³å¯åˆ›å»ºåº”ç”¨ç¨‹åºï¼ˆ <code>@JvmStatic</code>ç”¨äºJava-Kotlin Interopeï¼‰ã€‚ </li></ul></li><li> ç¼ºç‚¹ <br><ul><li> å¾®æ¡†æ¶ <br> å·¥ä¸šå‘å±•æ‰€éœ€çš„æŸäº›ç»„ä»¶æ˜¯å¼€ç®±å³ç”¨çš„ï¼Œä¾‹å¦‚ï¼Œä¾èµ–æ³¨å…¥å’ŒService Discoveryçš„å®ç°ã€‚ </li></ul></li></ul><br>  <font color="#808080">å¾®è½®å»“</font> <br> å¾®æœåŠ¡ä¸æ˜¯åœ¨æ­¤æ¡†æ¶ä¸Šå®ç°çš„ï¼Œå› æ­¤ï¼Œæˆ‘åªæƒ³è¯´æ˜å‡ ç‚¹ï¼š <br><br><ul><li> åŠ å· <br><ul><li>  Eclipse MicroProfileå®æ–½ <br> æœ¬è´¨ä¸Šï¼ŒMicroProfileæ˜¯é’ˆå¯¹ISAä¼˜åŒ–çš„Java EEã€‚ å› æ­¤ï¼Œé¦–å…ˆï¼Œæ‚¨å¯ä»¥è®¿é—®å„ç§Java EE APIï¼ŒåŒ…æ‹¬ä¸“é—¨ä¸ºISAè®¾è®¡çš„Java EE APIï¼›å…¶æ¬¡ï¼Œæ‚¨å¯ä»¥å°†MicroProfileå®ç°æ›´æ”¹ä¸ºä»»ä½•å…¶ä»–å®ç°ï¼ˆOpen Libertyï¼ŒWildFly Swarmç­‰ï¼‰ã€‚ ã€‚ </li></ul></li><li> å¦å¤– <br><ul><li> åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MicroProfile Starterä¸Šï¼Œ</a>æ‚¨å¯ä»¥ç±»ä¼¼ç”¨äºå…¶ä»–æ¡†æ¶çš„å·¥å…·ï¼ˆä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Initializr</a> ï¼‰ä»å¤´å¼€å§‹åˆ›å»ºå…·æœ‰å¿…è¦å‚æ•°çš„é¡¹ç›®ã€‚ åœ¨æœ¬æ–‡å‘è¡¨æ—¶ï¼ŒHelidonå®ç°äº†MicroProfile 1.2ï¼Œè€Œè¯¥è§„èŒƒçš„æœ€æ–°ç‰ˆæœ¬æ˜¯3.0ã€‚ </li></ul></li></ul><br><br>  <i><b>å…‹æ‰˜</b></i> <br><br><ul><li> åŠ å· <br><ul><li> è½»ç›ˆ <br> ä»…å…è®¸æ‚¨è¿æ¥å®Œæˆä»»åŠ¡ç›´æ¥éœ€è¦çš„é‚£äº›åŠŸèƒ½ï¼› </li><li> åº”ç”¨ç¨‹åºè®¾ç½® <br> åœ¨å„æ–¹é¢å‡å–å¾—è‰¯å¥½ç»“æœã€‚ </li></ul></li><li> ç¼ºç‚¹ <br><ul><li>  Kotliné¢†å¯¼ä¸‹çš„â€œé”å‡â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰å¯èƒ½ï¼ˆä½†ä¸æ˜¯å¿…é¡»ï¼‰ç”¨Javaå¼€å‘ï¼› </li><li> å¾®å‹æ¡†æ¶ï¼ˆè¯·å‚é˜…Helidon SEçš„ç±»ä¼¼é¡¹ç›®ï¼‰ã€‚ </li></ul></li><li> å¦å¤– <br> ä¸€æ–¹é¢ï¼Œè¯¥æ¡†æ¶çš„å¼€å‘æ¦‚å¿µæœªåŒ…å«åœ¨ä¸¤ä¸ªæœ€æµè¡Œçš„Javaå¼€å‘æ¨¡å‹ï¼ˆç±»ä¼¼äºSpringï¼ˆSpring Boot / Micronautï¼‰å’ŒJava EE / MicroProfileï¼‰ä¸­ï¼Œè¿™å¯èƒ½å¯¼è‡´ï¼š <br><br><ul><li> å¯»æ‰¾ä¸“å®¶çš„é—®é¢˜ï¼› </li><li> ä¸Spring Bootç›¸æ¯”ï¼Œç”±äºéœ€è¦æ˜¾å¼é…ç½®æ‰€éœ€çš„åŠŸèƒ½ï¼Œå› æ­¤å®Œæˆä»»åŠ¡æ‰€éœ€çš„æ—¶é—´æ›´é•¿ã€‚ </li></ul><br> å¦ä¸€æ–¹é¢ï¼Œä¸â€œç»å…¸â€ Springå’ŒJava EEçš„ä¸åŒä¹‹å¤„ä½¿æ‚¨å¯ä»¥æ›´è‡ªè§‰åœ°ä»å¦ä¸€ä¸ªè§’åº¦çœ‹å¾…å¼€å‘è¿‡ç¨‹ã€‚ </li></ul><br><br>  <i><b>å¾®èˆªæµ·</b></i> <br><br><ul><li> åŠ å· <br><ul><li> å¥¥ç‰¹ <br> å¦‚å‰æ‰€è¿°ï¼Œä¸Spring Bootä¸Šçš„åº”ç”¨ç¨‹åºç›¸æ¯”ï¼ŒAOTå¯ä»¥å‡å°‘åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜æ¶ˆè€—ã€‚ </li><li> æ˜¥å­£å¼€å‘æ¨¡å¼ <br> å…·æœ‰åœ¨Springä¸Šå¼€å‘ç»éªŒçš„ç¨‹åºå‘˜ä¸ä¼šèŠ±å¾ˆå¤šæ—¶é—´æ¥æŒæ¡è¿™ä¸ªæ¡†æ¶ã€‚ </li><li> åº”ç”¨ç¨‹åºè®¾ç½® <br> åœ¨å„æ–¹é¢å‡å–å¾—è‰¯å¥½ç»“æœï¼› </li><li> å¤šç§è¯­è¨€ <br> å¯¹Javaï¼ŒKotlinï¼ŒGroovyçš„ä¸€æµå…¬æ°‘æ”¯æŒï¼› ä¹Ÿè®¸ä¼šæœ‰å¯¹Scalaçš„æ”¯æŒã€‚ æˆ‘è®¤ä¸ºï¼Œè¿™å¯ä»¥å¯¹ç¤¾åŒºå‘å±•äº§ç”Ÿç§¯æå½±å“ã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼Œåœ¨2019å¹´6æœˆï¼ŒGroovyåœ¨ç¼–ç¨‹è¯­è¨€çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æµè¡Œæ€§</a>æ’åä¸­ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TIOBE</a>ä»60å¹´å‰çš„ç¬¬60ä½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å‡è‡³</a>ç¬¬14ä½ï¼Œåœ¨JVMè¯­è¨€ä¸­ååˆ—ç¬¬äºŒ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Micronaut for Spring</a>é¡¹ç›®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿˜</a>å…è®¸æ‚¨å°†ç°æœ‰Spring Bootåº”ç”¨ç¨‹åºçš„è¿è¡Œæ—¶æ›´æ”¹ä¸ºMicronautï¼ˆæœ‰é™åˆ¶ï¼‰ã€‚ </li></ul></li></ul><br><br>  <i><b>æ˜¥å­£é´</b></i> <br><br><ul><li> åŠ å· <br><ul><li> å¹³å°æˆç†Ÿåº¦å’Œç”Ÿæ€ç³»ç»Ÿ <br>  â€œæ¯å¤©â€çš„æ¡†æ¶ã€‚ å¯¹äºå¤§å¤šæ•°æ—¥å¸¸ä»»åŠ¡ï¼ŒSpringç¼–ç¨‹èŒƒä¾‹ä¸­å·²ç»æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå³è®¸å¤šç¨‹åºå‘˜éƒ½ç†Ÿæ‚‰çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ å¯åŠ¨å™¨å’Œè‡ªåŠ¨é…ç½®çš„æ¦‚å¿µç®€åŒ–äº†å¼€å‘è¿‡ç¨‹ï¼› </li><li> åŠ³åŠ¨åŠ›å¸‚åœºä¸­æœ‰å¤§é‡ä¸“å®¶ï¼Œä»¥åŠé‡è¦çš„çŸ¥è¯†åº“ï¼ˆåŒ…æ‹¬æ–‡æ¡£å’ŒStack Overflowçš„ç­”æ¡ˆï¼‰ï¼› </li><li> è§‚ç‚¹ <br> æˆ‘è®¤ä¸ºè®¸å¤šäººéƒ½ä¼šåŒæ„ï¼Œåœ¨ä¸ä¹…çš„å°†æ¥ï¼ŒSpringå°†ä»ç„¶æ˜¯é¢†å…ˆçš„å¼€å‘æ¡†æ¶ã€‚ </li></ul></li><li> ç¼ºç‚¹ <br><ul><li> åº”ç”¨ç¨‹åºè®¾ç½® <br> è¯¥æ¡†æ¶ä¸Šçš„åº”ç”¨ç¨‹åºä¸åœ¨é¢†å¯¼è€…ä¹‹åˆ—ï¼Œä½†æ˜¯ï¼Œå¦‚å‰æ‰€è¿°ï¼ŒæŸäº›å‚æ•°å¯ä»¥ç‹¬ç«‹ä¼˜åŒ–ã€‚ è¿˜å€¼å¾—å›é¡¾çš„æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring Fu</a>é¡¹ç›®çš„å­˜åœ¨ï¼Œè¯¥é¡¹ç›®æ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼Œä½¿ç”¨å®ƒå¯ä»¥å‡å°‘è¿™äº›å‚æ•°ã€‚ </li></ul></li></ul><br> æ‚¨è¿˜å¯ä»¥çªå‡ºæ˜¾ç¤ºä¸Spring Bootä¸­ç¼ºå°‘çš„ä¸æ–°æ¡†æ¶ç›¸å…³çš„ä¸€èˆ¬é—®é¢˜ï¼š <br><br><ul><li> æ¬ å‘è¾¾çš„ç”Ÿæ€ç³»ç»Ÿï¼› </li><li> å°‘æ•°å…·æœ‰è¿™äº›æŠ€æœ¯ç»éªŒçš„ä¸“å®¶ï¼› </li><li> å®Œæˆä»»åŠ¡çš„æ—¶é—´æ›´é•¿ï¼› </li><li> å‰æ™¯ä¸æ˜æœ—ã€‚ </li></ul><br> æ‰€è€ƒè™‘çš„æ¡†æ¶å±äºä¸åŒçš„æƒé‡ç±»åˆ«ï¼šHelidon SEå’ŒKtoræ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¾®</a>æ¡†æ¶ï¼ŒSpring Bootæ˜¯å…¨æ ˆæ¡†æ¶ï¼ŒMicronautæ›´æœ‰å¯èƒ½ä¹Ÿæ˜¯å…¨æ ˆï¼› å¦ä¸€ä¸ªç±»åˆ«æ˜¯MicroProfileï¼ˆä¾‹å¦‚Helidon MPï¼‰ã€‚ åœ¨å¾®å¸§ä¸­ï¼ŒåŠŸèƒ½æ˜¯æœ‰é™çš„ï¼Œè¿™ä¼šå‡æ…¢ä»»åŠ¡çš„æ‰§è¡Œï¼› ä¸ºäº†é˜æ˜åœ¨ä»»ä½•å¼€å‘æ¡†æ¶çš„åŸºç¡€ä¸Šå®ç°æ­¤åŠŸèƒ½çš„å¯èƒ½æ€§ï¼Œæˆ‘å»ºè®®æ‚¨ç†Ÿæ‚‰å…¶æ–‡æ¡£ã€‚ <br><br> æˆ‘ä¸æ•¢åˆ¤æ–­è¿™ä¸ªæ¡†æ¶æˆ–é‚£ä¸ªæ¡†æ¶æ˜¯å¦ä¼šåœ¨ä¸ä¹…çš„å°†æ¥â€œè§£å†³â€ï¼Œå› æ­¤ï¼Œæˆ‘è®¤ä¸ºï¼Œæœ€å¥½ä½¿ç”¨ç°æœ‰çš„å¼€å‘æ¡†æ¶æ¥è§£å†³å·¥ä½œä»»åŠ¡ï¼Œç»§ç»­ç›‘è§†äº‹ä»¶çš„å‘å±•ã€‚ <br><br> åŒæ—¶ï¼Œå¦‚æœ¬æ–‡ä¸­æ‰€ç¤ºï¼Œæ–°æ¡†æ¶åœ¨æ¥æ”¶åˆ°çš„åº”ç”¨ç¨‹åºçš„å‚æ•°æ–¹é¢èƒœè¿‡Spring Bootã€‚ å¦‚æœè¿™äº›å‚æ•°ä¸­çš„ä»»ä½•ä¸€ä¸ªå¯¹äºæ‚¨çš„ä»»ä½•å¾®æœåŠ¡éƒ½è‡³å…³é‡è¦ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½éœ€è¦æ³¨æ„å¯¹å®ƒä»¬æ˜¾ç¤ºå‡ºæœ€ä½³ç»“æœçš„æ¡†æ¶ã€‚ ä½†æ˜¯ï¼Œè¯·ä¸è¦å¿˜è®°ï¼ŒSpring Booté¦–å…ˆä¼šç»§ç»­æ”¹è¿›ï¼Œå…¶æ¬¡ï¼Œå®ƒå…·æœ‰åºå¤§çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå¹¶ä¸”è®¸å¤šJavaç¨‹åºå‘˜éƒ½ç†Ÿæ‚‰å®ƒã€‚ æœ¬æ–‡æœªæ¶‰åŠå…¶ä»–æ¡†æ¶ï¼šJavalinï¼ŒQuarkusç­‰ã€‚ <br><br> æ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHubä¸Š</a>æŸ¥çœ‹é¡¹ç›®ä»£ç ã€‚ æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼ <br><br>  PSï¼šæ„Ÿè°¢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">artglorin</a>å¯¹æœ¬æ–‡çš„å¸®åŠ©ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN456376/">https://habr.com/ru/post/zh-CN456376/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN456366/index.html">æˆ‘å¦‚ä½•è®¾è®¡LEDå¿ƒå½¢ç›’</a></li>
<li><a href="../zh-CN456368/index.html">ä½¿ç”¨Web3åœ¨JPMorgan QuorumåŒºå—é“¾ä¸Šæ‰§è¡Œå…¬å…±å’Œç§äººäº¤æ˜“</a></li>
<li><a href="../zh-CN456370/index.html">åœ¨Qsan Storageä¸­å®æ–½QoS</a></li>
<li><a href="../zh-CN456372/index.html">SimbirSofté‚€è¯·ITä¸“ä¸šäººå‘˜å‚åŠ Intensive Summer 2019</a></li>
<li><a href="../zh-CN456374/index.html">ç­‰ç¦»å­ç°é‡‘åŒºå—é“¾çŠ¶æ€æ•°æ®ç»“æ„</a></li>
<li><a href="../zh-CN456380/index.html">ç½‘ç»œå­¦ç¼–ç¨‹å­¦é™¢å¼€æ”¾æ—¥</a></li>
<li><a href="../zh-CN456382/index.html">å‰ç«¯ä¸­çš„åä½œå’Œè‡ªåŠ¨åŒ–ã€‚ æˆ‘ä»¬ä»13æ‰€å­¦æ ¡å­¦åˆ°äº†ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN456384/index.html">è¯Šæ–­èƒ½åŠ›å‘å±•çš„PVS-Studioå›¾</a></li>
<li><a href="../zh-CN456386/index.html">æ‰“å¼€åº“ä»¥å¯è§†åŒ–éŸ³é¢‘å†…å®¹</a></li>
<li><a href="../zh-CN456388/index.html">PVS-Studioä¸­çš„è¯Šæ–­å¼€å‘å›¾</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>