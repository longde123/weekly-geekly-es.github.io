<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏽 🌅 👠 يقدم AWC Firecracker - الظاهرية الدقيقة لنظام Linux 🕵🏿 👩‍❤️‍💋‍👩 📓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="في AWS re: Invent 2018 ، التي تجري هذه الأيام في لاس فيغاس ، تم الإعلان عن Firecracker ، وهي تقنية افتراضية مفتوحة المصدر جديدة تعتمد على Linux KVM. و...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>يقدم AWC Firecracker - الظاهرية الدقيقة لنظام Linux</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/431192/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/u3/id/kt/u3idktbg-oinefp_lamb-ahpbuw.png"><br><br>  في AWS re: Invent 2018 ، التي تجري هذه الأيام في لاس فيغاس ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تم</a> الإعلان عن <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Firecracker</a> ، وهي تقنية افتراضية مفتوحة المصدر جديدة تعتمد على Linux KVM.  ويعد المؤلفون بأنه "في ثانية واحدة ، يمكنك تشغيل أجهزة ظاهرية صغيرة خفيفة الوزن (microVM) في بيئة غير افتراضية ، والحصول على مزايا أجهزة VM التقليدية - في شكل أمان وعزل أعباء العمل والحاويات - في شكل استخدام فعال للموارد." <a name="habracut"></a><br><br><h2 style=";text-align:right;direction:rtl">  الخلفية </h2><br>  يقوم موظفو Amazon Web Services بتطوير برنامج Firecracker الذين شرعوا في تحسين استهلاك الموارد والحياة العامة لمستخدمي خدمات مثل AWS Lambda (تم إطلاقه في عام 2014 ويسمح لنا اليوم أن نقول أن النموذج بدون خادم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">سيستمر في</a> الوجود) و AWS Fargate (ظهر قبل عام ) <br><br>  اعتمد المشروع على تطوير المصادر المفتوحة من Google ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><b>crosvm</b></a> من Chromium OS ، الذي كتب بلغة Rust ومسؤول عن إطلاق أنظمة التشغيل باستخدام ظاهرية الأجهزة (ولكن دون محاكاة الأجهزة الحقيقية).  لذلك ، يتم أيضًا كتابة رمز Firecracker بلغة <b>Rust</b> ، ويعد مؤلفوه بإعادة تصحيحاتهم إلى قاعدة التعليمات البرمجية للمشروع الأصلي ، على الرغم من أن المشاريع نفسها قد تباعدت بشكل كبير في الغرض. <br><br>  تم إصدار الإصدار الأول العام من Firecracker - <a href="">0.1.0</a> - في مارس من هذا العام ، وآخر <a href="">إصدار سابق</a> - <a href="">0.11.0</a> - قبل بضعة أيام فقط.  لقد بدأت كتابة هذا المقال بعد وقت قصير من الإعلان على الإنترنت عن برنامج Firecracker ، عندما كان المشروع يحتوي على 76 نجمة على GitHub ، وفي وقت النشر تجاوز هذا الرقم 500. <br><br><img src="https://habrastorage.org/webt/dv/lw/rp/dvlwrphawgnggwibwo-_l-0kp4g.jpeg"><br><br><h2 style=";text-align:right;direction:rtl">  ميزات الالعاب النارية </h2><br>  المكون الرئيسي لـ Firecracker هو مراقب الآلة الافتراضية (VMM) ، والذي يستخدم Linux KVM لإنشاء وتشغيل ما يسمى microVMs.  يسمي المؤلفون منتجهم "بديل قائم على السحابة لـ QEMU" [تستخدمه حاويات Kata] ، "مخصص فقط لإطلاق الحاويات بشكل آمن وفعال." <br><br>  وإليك مثال على نظام مضيف يقوم بتشغيل microVMs المذكورة: <br><br><img src="https://habrastorage.org/webt/an/fy/l7/anfyl7ot_k4kifx8lzjdbao_tiu.png"><br><br>  يسعى المطورون إلى الحد الأدنى ، بما في ذلك في المنتج فقط الأكثر ضرورة ، وبالتالي ضمان الحد الأدنى من تكاليف الذاكرة ، وفي نفس الوقت تقليل احتمالات الثغرات المحتملة.  في Firecracker ، تتم محاكاة <b>4 أجهزة فقط</b> : Virtio-net و Virtio-block ووحدة تحكم تسلسلية ولوحة مفاتيح مع زر واحد ، تُستخدم لإيقاف تشغيل microVM.  نظرًا لأن أنظمة تشغيل المضيف والضيف ، فإن أنظمة التشغيل المستندة إلى <b>إصدار نواة Linux 4.14</b> <i>( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">إصدار</a> من نوفمبر من العام الماضي)</i> وأعلى مدعومة حاليًا ، والخطط الحالية للمطورين هي دعم الفرعين المستقرين من نواة Linux.  من حيث الأجهزة ، يتم دعم معالجات Intel فقط حتى الآن ، ولكن AMD و ARM على الأجندة. <br><br>  يتكون Firecracker نفسه من عملية VMM واحدة ، والتي تجعل عند نقطة بدء API نقطة النهاية (RESTful) متاحة على الجهاز المضيف.  يتم <a href="">وصف</a> واجهة برمجة التطبيقات نفسها بتنسيق OpenAPI ، وتسمح لك ، على وجه الخصوص ، ببدء microVM بالمعلمات المحددة (صورة kernel ، ونظام الملفات الجذر ، ووسائط التمهيد) وإيقافه ، وتكوين الأجهزة الافتراضية (عدد vCPU ، RAM ، قالب لوحدة المعالجة المركزية) ، إضافة إلى واجهات الشبكة ، والأقراص (المقدمة على أنها أجهزة كتلة ، تتوفر أوضاع القراءة والكتابة والقراءة فقط) ، تكوين النظام للسجلات والمقاييس. <br><br>  المزايا الرئيسية لـ Firecracker هي الأمان (التركيز على الحوسبة المتعددة المستأجرين ، والعديد من مستويات العزل) ، والأداء العالي (يمكن إطلاق microVM <b>في 125 مللي ثانية</b> ، ويعد المؤلفون بتحسين هذا الرقم في العام المقبل) ، الحد الأدنى من الحمل (يستهلك كل microVM حوالي 5 ميغابايت الذاكرة).  ما يضيف ثقلًا للمشروع - فقد تم اختباره بالفعل "في المعركة" ويوفر عمل عدد من خدمات AWS (بما في ذلك Lambda و Fargate المذكورة). <br><br><h3 style=";text-align:right;direction:rtl">  تفاصيل الأمن </h3><br>  من بين الميزات الرئيسية لـ Firecracker ، التي تركز على ضمان مستوى عالٍ من الأمان ، تم ذكر ما يلي: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  نموذج ضيف بسيط (لجميع الضيوف فقط يتم توفير الحد الأدنى - انظر أعلاه حوالي 4 أجهزة). </li><li style=";text-align:right;direction:rtl">  عزل عملية Firecracker باستخدام مجموعات cg و seccomp BPF ، بالإضافة إلى مجموعة محدودة من مكالمات النظام المسموح بها. </li><li style=";text-align:right;direction:rtl">  الربط الثابت لعملية الألعاب النارية لبدء تشغيلها بمعزل عن البيئة المضيفة. </li></ol><br><h2 style=";text-align:right;direction:rtl">  عرض الالعاب النارية </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">أظهرت</a> مدونة AWS كيف يمكنك تجربة microVMs في العمل.  للقيام بذلك ، ما عليك سوى إنشاء مثيل i3.metal وتحميل 3 ملفات إليه (ملف قابل للتنفيذ في <code>firecracker</code> ، وجذر FS ، و Linux kernel): <br><br><img src="https://habrastorage.org/webt/8j/8g/ls/8j8gls7xduigh5_fr2qv-bridvg.png"><br><br>  بعد ذلك - اضبط الحقوق اللازمة على / dev / kvm: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ sudo setfacl -mu:<span class="hljs-variable"><span class="hljs-variable">${USER}</span></span>:rw /dev/kvm</code> </pre> <br>  تعيين التكوين لجهاز الضيف الأول: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ curl --unix-socket /tmp/firecracker.sock -i \ -X PUT <span class="hljs-string"><span class="hljs-string">"http://localhost/machine-config"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{ \"vcpu_count\": 1, \"mem_size_mib\": 512 }"</span></span></code> </pre> <br>  ... ثم جوهرها: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ curl --unix-socket /tmp/firecracker.sock -i \ -X PUT <span class="hljs-string"><span class="hljs-string">"http://localhost/boot-source"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{ \"kernel_image_path\": \"./hello-vmlinux.bin\", \"boot_args\": \"console=ttyS0 reboot=k panic=1 pci=off\" }"</span></span></code> </pre> <br>  ... والجذر FS: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ curl --unix-socket /tmp/firecracker.sock -i \ -X PUT <span class="hljs-string"><span class="hljs-string">"http://localhost/drives/rootfs"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"accept: application/json"</span></span> \ -H <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> \ -d <span class="hljs-string"><span class="hljs-string">"{ \"drive_id\": \"rootfs\", \"path_on_host\": \"./hello-rootfs.ext4\", \"is_root_device\": true, \"is_read_only\": false }"</span></span></code> </pre> <br>  يبقى إطلاق الضيف بالفعل: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># curl --unix-socket /tmp/firecracker.sock -i \ -X PUT "http://localhost/actions" \ -H "accept: application/json" \ -H "Content-Type: application/json" \ -d "{ \"action_type\": \"InstanceStart\" }"</span></span></code> </pre> <br>  النتيجة: <br><br><img src="https://habrastorage.org/webt/gs/sf/9r/gssf9rbraow5jfuzfzus_padlou.png"><br><br><h2 style=";text-align:right;direction:rtl">  ماذا عن مشاريع الحاويات الأخرى؟ </h2><br>  على الرغم من أن مؤلفي Firecracker يعدون بأنه "سوف يتكامل مع أوقات تشغيل الحاويات الشائعة" ، إليك ما <a href="">يجيبون عليه</a> عند سؤالهم عما إذا كان يمكن استخدام المشروع مع حاويات Kubernetes أو Docker أو Kata: <br><br><blockquote style=";text-align:right;direction:rtl">  <i>”ليس بعد.</i>  <i>نحن نعمل على تطوير Firecracker كمشروع مفتوح المصدر لأنه يقدم نهجًا مختلفًا بشكل كبير للأمان في إطلاق الحاويات.</i>  <i>نأمل أن تجد المجتمعات الأخرى التي تنشئ تقنيات مفتوحة المصدر للحاويات أنها مفيدة.</i>  <i>"نحن نعمل على ضمان اندماج Firecracker بسلاسة في النظام البيئي للحاويات - بهدف التكامل السلس في المستقبل ، مع مزيد من المرونة في عزل أعباء عمل الحاويات."</i> </blockquote><br><h2 style=";text-align:right;direction:rtl">  PS </h2><br>  اقرأ أيضًا في مدونتنا: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الماضي والحاضر والمستقبل لشركة Docker وغيرها من بيئات الحاويات القابلة للتنفيذ في Kubernetes</a> " ؛ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Red Hat يستبدل Docker بـ Podman</a> " ؛ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CRI-O - بديل عن Docker لإطلاق الحاويات في Kubernetes</a> " ؛ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">أصبحت Kubernetes at Amazon (EKS) متاحة للجمهور.</a> " ؛ </li><li style=";text-align:right;direction:rtl">  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Awless عبارة عن أداة CLI بديلة قوية للعمل مع خدمات AWS</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar431192/">https://habr.com/ru/post/ar431192/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar431180/index.html">Ext JS على الخادم</a></li>
<li><a href="../ar431184/index.html">شبكات WIFI متعددة الشبكات باستخدام تقنية Mesh Connex</a></li>
<li><a href="../ar431186/index.html">التصميم حسب الأنواع: كيفية جعل الحالات غير الصالحة غير قابلة للتعبير عنها في C #</a></li>
<li><a href="../ar431188/index.html">الجوانب التقنية لحجب الإنترنت في روسيا. التحديات والآفاق</a></li>
<li><a href="../ar431190/index.html">كيفية تقييم مستوى شركة SEO دون إبرام اتفاق معها</a></li>
<li><a href="../ar431194/index.html">المتشددين أنبوب دافئ. كيف كان DotNext 2018 موسكو</a></li>
<li><a href="../ar431196/index.html">كيف يتنبأ Yandex.Taxi بوقت تسليم السيارة باستخدام التعلم الآلي</a></li>
<li><a href="../ar431198/index.html">كيف يعمل المرسل</a></li>
<li><a href="../ar431200/index.html">جودو: حول مسألة الاستخدام المنتظم لمحللي الشفرة الثابتة</a></li>
<li><a href="../ar431202/index.html">يتحد ديبيان وديفوان من أجل sysvinit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>