<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥© ğŸŸ ğŸ¬ ä½¿ç”¨Node.jså’ŒOracleæ•°æ®åº“åˆ›å»ºREST API ğŸš ğŸ‘¨ğŸ¾â€ğŸŒ¾ ğŸ¤˜ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ æˆ‘å‘æ‚¨ä»‹ç»äº†æ–‡ç« â€œåˆ›å»ºREST APIï¼šWebæœåŠ¡å™¨åŸºç¡€çŸ¥è¯†â€çš„ç¿»è¯‘ ã€‚ 

 ç¬¬1éƒ¨åˆ†ï¼šåˆ›å»ºREST APIï¼šWebæœåŠ¡å™¨åŸºç¡€ 
 WebæœåŠ¡å™¨æ˜¯REST APIæœ€é‡è¦çš„ç»„ä»¶ä¹‹ä¸€ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†é€šè¿‡åˆ›å»ºä¸€äº›åˆå§‹ç›®å½•å’Œæ–‡ä»¶æ¥å¼€å§‹REST APIé¡¹ç›®ã€‚ ç„¶åï¼Œæ‚¨å°†åˆ›å»ºä¸€ä¸ªWebæœåŠ¡å™¨æ¨¡å—å¹¶...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨Node.jså’ŒOracleæ•°æ®åº“åˆ›å»ºREST API</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473234/"> å“ˆHaï¼ æˆ‘å‘æ‚¨ä»‹ç»äº†æ–‡ç« <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">â€œåˆ›å»ºREST APIï¼šWebæœåŠ¡å™¨åŸºç¡€çŸ¥è¯†â€çš„ç¿»è¯‘</a> ã€‚ <br><br><h4> ç¬¬1éƒ¨åˆ†ï¼šåˆ›å»ºREST APIï¼šWebæœåŠ¡å™¨åŸºç¡€ </h4><br>  WebæœåŠ¡å™¨æ˜¯REST APIæœ€é‡è¦çš„ç»„ä»¶ä¹‹ä¸€ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†é€šè¿‡åˆ›å»ºä¸€äº›åˆå§‹ç›®å½•å’Œæ–‡ä»¶æ¥å¼€å§‹REST APIé¡¹ç›®ã€‚ ç„¶åï¼Œæ‚¨å°†åˆ›å»ºä¸€ä¸ªWebæœåŠ¡å™¨æ¨¡å—å¹¶å°†å…¶æ’å…¥ï¼Œä»¥ä¾¿WebæœåŠ¡å™¨æ­£ç¡®å¯åŠ¨å’Œå…³é—­ã€‚ <br><br> è¯¥é¡¹ç›®ä¸­çš„ä»£ç å°†ä½¿ç”¨é€šç”¨çš„ç›®å½•ç»“æ„è¿›è¡Œç»„ç»‡ï¼Œå¯ä»¥æ ¹æ®éœ€è¦éšæ—¶è¿›è¡Œè°ƒæ•´å’Œæ„å»ºã€‚ <br><br><pre><code class="javascript hljs">cd ~ mkdir hr_app cd hr_app/ touch index.js mkdir config touch config/web-server.js mkdir controllers mkdir db_apis mkdir services touch services/web-server.js</code> </pre> <br>  index.jsæ–‡ä»¶å¯ä»¥è§†ä¸ºåº”ç”¨ç¨‹åºä¸­çš„â€œä¸»â€æ–‡ä»¶ã€‚ è¿™å°†æ˜¯åº”ç”¨ç¨‹åºçš„å…¥å£ã€‚ æˆ‘ä»¬å°†ä»£ç æ·»åŠ åˆ°configå’Œservicesç›®å½•ä¸­çš„è¯¥æ–‡ä»¶å’Œweb-server.jsæ–‡ä»¶ä¸­ã€‚ <br><br> å°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ°æ–‡ä»¶<b>Home&gt; hr_app&gt; config&gt; web-server.jsä¸­</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">port</span></span>: process.env.HTTP_PORT || <span class="hljs-number"><span class="hljs-number">3000</span></span> };</code> </pre> <br> åœ¨Node.jsä¸­ï¼Œæµç¨‹å¯¹è±¡å…·æœ‰åŒ…å«ç”¨æˆ·ç¯å¢ƒçš„envå±æ€§ã€‚ æˆ‘ä½¿ç”¨å®ƒæ¥å°†ç«¯å£å€¼è®¾ç½®ä¸ºHTTP_PORTç¯å¢ƒå˜é‡çš„å€¼ã€‚ å¦‚æœæœªå®šä¹‰æ­¤ç¯å¢ƒå˜é‡ï¼Œåˆ™é»˜è®¤å€¼ä¸º3000ã€‚ <br><a name="habracut"></a><br> å°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ°<b>Home&gt; hr_app&gt; services&gt; web-server.jsæ–‡ä»¶ä¸­</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> webServerConfig = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../config/web-server.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> httpServer; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initialize</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express(); httpServer = http.createServer(app); app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, (req, res) =&gt; { res.end(<span class="hljs-string"><span class="hljs-string">'Hello World!'</span></span>); }); httpServer.listen(webServerConfig.port) .on(<span class="hljs-string"><span class="hljs-string">'listening'</span></span>, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Web server listening on localhost:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${webServerConfig.port}</span></span></span><span class="hljs-string">`</span></span>); resolve(); }) .on(<span class="hljs-string"><span class="hljs-string">'error'</span></span>, err =&gt; { reject(err); }); }); } <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports.initialize = initialize;</code> </pre> <br>  <b>ç¬¬1-3è¡Œï¼š</b>éœ€è¦å¤šä¸ªæ¨¡å—ã€‚  httpæ¨¡å—åŒ…å«åœ¨Node.jsä¸­ï¼Œä½†æ˜¯Expressæ¨¡å—â€‹â€‹å°†éœ€è¦é€šè¿‡npmå®‰è£…ã€‚ <br><br>  <b>ç¬¬7-27è¡Œï¼š</b>å£°æ˜äº†<b>ä¸€ä¸ª</b>åä¸ºinitialize <b>çš„</b>å‡½æ•°ã€‚ è¯¥å‡½æ•°ç«‹å³è¿”å›ä¸€ä¸ªpromiseï¼Œæ ¹æ®WebæœåŠ¡å™¨æ˜¯å¦æˆåŠŸå¯åŠ¨ï¼Œè¯¥promiseæ˜¯å…è®¸è¿˜æ˜¯æ‹’ç»ã€‚ <br><br>  <b>ç¬¬9-10è¡Œï¼š</b>åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„expressåº”ç”¨ç¨‹åºï¼ˆå®é™…ä¸Šåªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œç„¶åç”¨äºé€šè¿‡httpæ¨¡å—åˆ›å»ºä¸€ä¸ªhttpæœåŠ¡å™¨ã€‚ <br><br>  <b>ç¬¬12-14è¡Œï¼š</b>åº”ç”¨ç¨‹åº<b>çš„</b> getæ–¹æ³•ç”¨äºä¸ºåˆ°è¾¾æ ¹è·¯å¾„ï¼ˆ/ï¼‰çš„GETè¯·æ±‚æ·»åŠ å¤„ç†ç¨‹åºã€‚ æ”¶åˆ°æ­¤ç±»è¯·æ±‚åï¼Œå°†è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œå¹¶å°†ä½¿ç”¨â€œ resâ€ï¼ˆresï¼‰å‚æ•°å‘é€å“åº”â€œ Hello Worldï¼â€ã€‚ ç»™å®¢æˆ·ã€‚ <br><br>  <b>ç¬¬16-24è¡Œï¼š</b>æœåŠ¡å™¨ä¾¦å¬æ–¹æ³•ç”¨äºç»‘å®šåˆ°æŒ‡å®šçš„ç«¯å£å¹¶å¼€å§‹ä¾¦å¬ä¼ å…¥çš„è¯·æ±‚ã€‚ <br><br>  <b>ç¬¬28è¡Œï¼š</b>å¯¼å‡ºæ¨¡å—ï¼Œä»¥ä¾¿å¯ä»¥åœ¨å¤–éƒ¨ä½¿ç”¨ <br><br> å°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ°æ–‡ä»¶<b>Home&gt; hr_app&gt; index.jsä¸­</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> webServer = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./services/web-server.js'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Starting application'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Initializing web server module'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> webServer.initialize(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (err) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(err); process.exit(<span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Non-zero failure code } } startup();</span></span></code> </pre> <br> æˆ‘ä»¬è¿æ¥WebæœåŠ¡å™¨æ¨¡å—ï¼Œç„¶åå®ƒç¡®å®šå¹¶è°ƒç”¨å¼‚æ­¥å¯åŠ¨åŠŸèƒ½ã€‚ ç”±äºWebæœåŠ¡å™¨çš„initializeå‡½æ•°è¿”å›ä¸€ä¸ªpromiseï¼Œå› æ­¤å¯ä»¥å°†å…¶ä¸async / awaitä¸€èµ·ä½¿ç”¨ï¼Œå¹¶å°†å…¶åŒ…è£…åœ¨try-catchå—ä¸­ã€‚ å¦‚æœåˆå§‹åŒ–åŠŸèƒ½æˆåŠŸï¼Œåˆ™WebæœåŠ¡å™¨å°†å·¥ä½œï¼› å¦åˆ™ï¼Œä»»ä½•å¼‚å¸¸éƒ½å°†è¢«æ•è·å¹¶å¤„ç†ã€‚ ç°åœ¨æ‚¨è¦åšçš„å°±æ˜¯åˆå§‹åŒ–npmå¹¶å®‰è£…Express-ç„¶åå°±å¯ä»¥å¯åŠ¨åº”ç”¨ç¨‹åºäº†ã€‚ åœ¨hr_appç›®å½•çš„ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚ <br><br><pre> <code class="javascript hljs">npm init -y npm install express -s node .</code> </pre> <br>  npm initå‘½ä»¤ç”¨äºåˆ›å»ºpackage.jsonæ–‡ä»¶ï¼Œnpmå°†è¯¥æ–‡ä»¶ç”¨ä½œæ¸…å•æ–‡ä»¶ï¼ˆ-yæ ‡å¿—æ¥å—é»˜è®¤é€‰é¡¹ï¼‰ã€‚  npm installå‘½ä»¤ç”¨äºå®‰è£…expressï¼ˆ-sæ ‡å¿—å°†expressæ·»åŠ åˆ°package.jsonä¸­çš„ä¾èµ–é¡¹åˆ—è¡¨ï¼‰ã€‚  Npmå°†æ‚¨å®‰è£…çš„æ¨¡å—å­˜å‚¨åœ¨node_modulesç›®å½•ä¸­ã€‚ ä»–è¿˜åˆ›å»ºäº†ä¸€ä¸ªåä¸ºpackage.lock.jsonçš„æ–‡ä»¶ï¼Œä¸ºå¼€å‘å›¢é˜Ÿæä¾›äº†ç›¸åŒçš„æ ‘ã€‚ <br><br> æ‚¨æ˜¯å¦çœ‹åˆ°æ¶ˆæ¯<b>WebæœåŠ¡å™¨æ­£åœ¨localhostä¸Šä¾¦å¬ï¼š3000ï¼Ÿ</b> æ­å–œï¼Œæ‚¨å·²åˆ›å»ºåŸºäºçš„å¿«é€’æœåŠ¡å™¨ï¼ <br><br> ä»–åœ¨è¿™é‡Œï¼Œæ˜¯å¦ä¸€ä¸ªâ€œä½ å¥½ä¸–ç•Œâ€ã€‚ å°½ç®¡ä¸æ˜¯ç‰¹åˆ«æœ‰è¶£ï¼Œä½†è¿™å¯¹äºæ‚¨çš„APIæ¥è¯´æ˜¯é‡è¦çš„ç¬¬ä¸€æ­¥ã€‚ <br><br> å‡†å¤‡å°±ç»ªåï¼Œå¯ä»¥é€šè¿‡è¿”å›ç»ˆç«¯å¹¶æŒ‰ctrl + cæ¥å…³é—­æœåŠ¡å™¨ã€‚ <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ca/f1a/d8f/2caf1ad8fd86f8d3512260fb1e68df2d.png" alt="å›¾ç‰‡"><br><br><h4> å—æ§å…³æœº </h4><br> åœ¨å…³é—­æœŸé—´ï¼Œé€šè¿‡æŒ‰Ctrl + Cç»„åˆé”®ï¼Œæ‚¨æ— æ³•æ§åˆ¶è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚ è¦æ§åˆ¶å…³é—­è¿‡ç¨‹ï¼Œæ‚¨éœ€è¦æ˜¾å¼å…³é—­WebæœåŠ¡å™¨å¹¶é€€å‡ºNode.jsè¿›ç¨‹ã€‚ <br><br> å°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ°<b>Home&gt; hr_app&gt; services&gt; web-server.jsæ–‡ä»¶ä¸­</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// *** previous code above this line *** function close() { return new Promise((resolve, reject) =&gt; { httpServer.close((err) =&gt; { if (err) { reject(err); return; } resolve(); }); }); } module.exports.close = close;</span></span></code> </pre> <br> å½“WebæœåŠ¡å™¨æˆåŠŸå…³é—­æ—¶ï¼Œcloseå‡½æ•°å°†è¿”å›ä¸€ä¸ªpromiseã€‚  httpServer.closeæ–¹æ³•åœæ­¢å»ºç«‹æ–°çš„è¿æ¥ï¼Œä½†æ˜¯ä¸å¼ºåˆ¶å…³é—­å·²ç»æ‰“å¼€çš„è¿æ¥ã€‚ æ ¹æ®æ‰“å¼€çš„è¿æ¥æ•°å’Œæ­£åœ¨æ‰§è¡Œçš„æ“ä½œï¼Œæ‚¨å¯èƒ½éœ€è¦ç¨ç­‰ç‰‡åˆ»ï¼Œç›´åˆ°å›è°ƒèµ·ä½œç”¨ã€‚ å°½ç®¡æ‚¨ä¸ä¼šåœ¨æ­¤æ¨¡å—ä¸­æ‰§è¡Œæ­¤æ“ä½œï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ä»£ç æˆ–npmæ¨¡å—ï¼ˆä¾‹å¦‚http-shutdownï¼‰æ¥å¼ºåˆ¶æ‰“å¼€æ‰“å¼€çš„è¿æ¥ã€‚ <br><br> å°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ°æ–‡ä»¶<b>Home&gt; hr_app&gt; index.jsä¸­</b> <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// *** previous code above this line *** async function shutdown(e) { let err = e; console.log('Shutting down'); try { console.log('Closing web server module'); await webServer.close(); } catch (e) { console.log('Encountered error', e); err = err || e; } console.log('Exiting process'); if (err) { process.exit(1); // Non-zero failure code } else { process.exit(0); } } process.on('SIGTERM', () =&gt; { console.log('Received SIGTERM'); shutdown(); }); process.on('SIGINT', () =&gt; { console.log('Received SIGINT'); shutdown(); }); process.on('uncaughtException', err =&gt; { console.log('Uncaught exception'); console.error(err); shutdown(err); });</span></span></code> </pre> <br>  SIGINTå’ŒSIGTERMäº‹ä»¶ä¸å¯ä»¥å‘é€åˆ°è¿›ç¨‹ä»¥å°†å…¶å…³é—­çš„ä¿¡å·ç›¸å…³ï¼Œä¾‹å¦‚ï¼ŒæŒ‰ä¸‹ctrl + cæ—¶ã€‚ å½“æŠ›å‡ºJavaScripté”™è¯¯ä½†æœªæ•è·å¹¶ä½¿ç”¨try-catchè¯­å¥å¤„ç†æ—¶ï¼Œå°†å‘ç”ŸuncaughtExceptionäº‹ä»¶ã€‚ å°è¯•å†æ¬¡å¯åŠ¨å’Œå…³é—­è¯¥åº”ç”¨ç¨‹åºã€‚ å½“æ‚¨åœ¨ç»ˆç«¯ä¸­çœ‹åˆ°â€œ shutdownâ€æ¶ˆæ¯æ—¶ï¼Œæ‚¨ä¼šå‘ç°ä¸€åˆ‡æ­£å¸¸ã€‚ <br><br><h4> åœ¨æœåŠ¡å™¨ä¸Šæ³¨å†Œ </h4><br> è¿˜æœ‰å¦ä¸€ä»¶äº‹å¯ä»¥å®Œå–„æˆ‘ä»¬çš„WebæœåŠ¡å™¨æ¨¡å—ï¼šHTTPæ—¥å¿—è®°å½•ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å¤šç§æ¨¡å—æ¥è¿›è¡Œè¿™ç§ç±»å‹çš„ç™»å½•ï¼Œä½†æ˜¯morganæ˜¯å…¶ä¸­ä¸€ç§ç®€å•çš„æ¨¡å—ã€‚ è®©æˆ‘ä»¬ä½¿ç”¨npmå®‰è£…morganã€‚ <br><br><pre> <code class="javascript hljs">npm install morgan -s</code> </pre> <br> ç„¶åå°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°services / web-server.jsä¸­éœ€è¦expressçš„è¡Œï¼ˆç¬¬2è¡Œï¼‰ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> morgan = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'morgan'</span></span>);</code> </pre> <br> ç°åœ¨ï¼Œæ‚¨å¯ä»¥å°†morganåŠŸèƒ½å¯ç”¨ä¸ºä¸­é—´ä»¶ï¼Œé€šè¿‡è¯¥ä¸­é—´ä»¶å°†ä½¿ç”¨app.useå¤„ç†æ‰€æœ‰è¯·æ±‚ã€‚ åœ¨è°ƒç”¨app.getä¹‹å‰æ·»åŠ æ­¤è¡Œï¼Œè¯¥æ¶ˆæ¯æ˜¾ç¤ºæ¶ˆæ¯â€œ hello worldâ€ã€‚ <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Combines logging info from request and response app.use(morgan('combined')); // *** app.get call below this line ***</span></span></code> </pre> <br> è¯·æ³¨æ„ï¼Œapp.useåˆ›å»ºäº†å¯ä»¥ä¸HTTPè¯·æ±‚å’Œå“åº”è¿›è¡Œäº¤äº’çš„ä¸­é—´ä»¶åŠŸèƒ½çš„ç®¡é“ã€‚ ä¸­é—´ä»¶åŠŸèƒ½å°†æŒ‰å¯ç”¨é¡ºåºæ‰§è¡Œã€‚ é‡æ–°å¯åŠ¨è¯¥åº”ç”¨ç¨‹åºå¹¶å®‰è£…ç»ˆç«¯ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åŒæ—¶çœ‹åˆ°å®ƒå’Œæµè§ˆå™¨ã€‚ æ¯æ¬¡é‡æ–°åŠ è½½é¡µé¢æ—¶ï¼Œæ‚¨éƒ½åº”è¯¥åœ¨ç»ˆç«¯ä¸­çœ‹åˆ°ä¸€ä¸ªæ–°çš„æ—¥å¿—æ¡ç›®ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œmorganå°†æ—¥å¿—ä¿¡æ¯ä¼ é€’åˆ°STDOUTï¼ˆåœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºï¼‰ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»¥ä¸‹æ–‡ç« </a>å°†ä»‹ç»ä½¿ç”¨æ•°æ®åº“ï¼ˆåŒ…æ‹¬è¿æ¥æ± ï¼‰çš„åŸºç¡€çŸ¥è¯†ï¼Œè¿™äº›æ•°æ®åº“å°†å¸®åŠ©æ‚¨äº†è§£å’Œæ„å»ºç”¨äºNode.jsçš„REST APIã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN473234/">https://habr.com/ru/post/zh-CN473234/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN473222/index.html">ä½¿ç”¨zabbixä½œä¸ºç¤ºä¾‹çš„Dockerè‡ªå®šä¹‰iptablesè§„åˆ™</a></li>
<li><a href="../zh-CN473224/index.html">é«˜ç­‰æ•™è‚²ä¸èƒ½åŠ›ã€‚ ä¿„ç½—æ–¯è”é‚¦å®ªæ³•æ³•é™¢æ³•å®˜å…³äºé«˜ç­‰æ•™è‚²çŠ¶å†µçš„å•ç‹¬æ„è§</a></li>
<li><a href="../zh-CN473228/index.html">è®©Perlä»1987å¹´å¼€å§‹</a></li>
<li><a href="../zh-CN473230/index.html">å«æ˜Ÿäº’è”ç½‘æ˜¯æ–°çš„å¤ªç©ºç«èµ›å—ï¼Ÿ</a></li>
<li><a href="../zh-CN473232/index.html">æ‚¨ä½¿ç”¨ä»€ä¹ˆç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆåœ¨å®é™…å·¥ä½œä¸­ï¼Œå¤§å¤šæ•°ï¼‰ï¼Ÿ</a></li>
<li><a href="../zh-CN473236/index.html">åœ¨äº‘ä¸­ä»äº‹ITï¼Œé¡¹ç›®ç®¡ç†ï¼ŒPDç›‘ç®¡å’Œå¼€å‘å·¥ä½œï¼š1cloud.ruä¸­çš„megadigest</a></li>
<li><a href="../zh-CN473238/index.html">Netflixå¦‚ä½•è¿ä½œ</a></li>
<li><a href="../zh-CN473242/index.html">æˆ‘å¯¹ä½¿ç”¨ç”µåŠ¨è¸æ¿è½¦è¿™ä¸€å¹´çš„äº†è§£ï¼ˆå°½å¯èƒ½çŸ­ï¼‰</a></li>
<li><a href="../zh-CN473246/index.html">åœ°é“è‡ªåŠ¨æ‰¶æ¢¯è¿è¡Œä¸å½“çš„æ•°å­¦è¯æ˜</a></li>
<li><a href="../zh-CN473248/index.html">Arduino DIYé¡¹ç›®ï¼šæ¶é­”æ—‹è½¬æœ¨é©¬æœºå™¨äººå°„å‡»åœº</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>