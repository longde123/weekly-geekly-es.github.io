<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçü§ù‚Äçüë©üèΩ üôçüèæ üëàüèΩ G√©oanalytique dans le commerce de d√©tail, partie 1: nous automatisons le processus de choix d'un lieu pour une entreprise. 2GIS + MS Azure + ML üÉè üî™ üßíüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! 

 Je m'appelle Sergey Konkov - je suis architecte de donn√©es chez Business reports & Data. 
 Cet article parle des possibilit√©s d'uti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>G√©oanalytique dans le commerce de d√©tail, partie 1: nous automatisons le processus de choix d'un lieu pour une entreprise. 2GIS + MS Azure + ML</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483722/"><img src="https://habrastorage.org/webt/qn/my/0g/qnmy0gqgxicmrfy73qg8sdcsoe8.png"><br><br>  Bonjour √† tous! <br><br>  Je m'appelle Sergey Konkov - je suis architecte de donn√©es chez Business reports &amp; Data. <br>  Cet article parle des possibilit√©s d'utilisation de la g√©o-analyse et de l'apprentissage automatique dans une entreprise de vente au d√©tail et est bas√© sur un v√©ritable projet de notre client - un grand r√©seau de salons de beaut√©.  Il n'y aura pas beaucoup de code et de d√©tails techniques, une attention sera port√©e √† la revue des technologies, √† leur application et √† leur int√©gration. <br><a name="habracut"></a><br><h3>  D√©fi </h3><br>  Il existe une entreprise en plein d√©veloppement dans le secteur des services.  L'entreprise ouvre plusieurs salons de beaut√© mensuels principalement dans des centres commerciaux (TC). <br><br>  <b>La t√¢che consiste √† choisir les meilleurs endroits pour les d√©couvertes, en r√©duisant le temps et les co√ªts de prise de d√©cision.</b> <br><br><h3>  Exemple de plan de mise en ≈ìuvre </h3><br><ol><li>  Nous recevrons des donn√©es sur les centres commerciaux qui peuvent nous aider √† √©valuer l'attractivit√© des lieux; </li><li>  Essayons de trouver un lien entre les donn√©es obtenues et les r√©sultats du travail des salons dans les centres commerciaux o√π l'entreprise est d√©j√† implant√©e; </li><li>  Nous allons cr√©er une m√©thodologie pour √©valuer l'attractivit√© d'un nouveau centre commercial; </li><li>  Nous allons cr√©er un mod√®le d'apprentissage automatique pour calculer cette estimation pour les centres commerciaux o√π notre entreprise n'existe pas encore; </li><li>  Nous allons cr√©er des outils pour automatiser le travail des sp√©cialistes dans la s√©lection des lieux d'ouverture des points de vente; </li></ol><br><h3>  Nous collectons des donn√©es g√©ographiques </h3><br>  Alors, quelles donn√©es sur les centres commerciaux peuvent aider. <br><br>  R√©fl√©chir: <br><br><ul><li>  Par exemple, dans quelle zone et ville est-elle situ√©e - Moscou ou Samara, Barvikha ou Vykhino; </li><li>  La taille du centre commercial - combien y a-t-il de magasins, restaurants, salons? </li><li>  Et quels sont ces magasins - mat√©riaux de construction ou boutiques de mode? </li><li>  Y a-t-il des concurrents l√†-bas?  Et combien y en a-t-il?  Et lequel? </li><li>  Peut-√™tre y a-t-il des informations sur le nombre de visiteurs dans le centre commercial? </li><li>  Y a-t-il d'autres centres commerciaux √† proximit√©?  Dans un rayon de 5 km, pas un ou deux n'est mieux que cela de l'autre c√¥t√© de la route; </li><li>  Et quoi d'autre y a-t-il √† proximit√©?  Peut-√™tre un grand centre d'affaires avec de nombreux employ√©s de bureau ou une zone de couchage? </li></ul><br>  C'est ce que pense une personne ¬´exp√©riment√©e¬ª qui doit d√©cider d'un lieu d'affaires.  Une personne avanc√©e a √©galement √† sa disposition des analyses qui, dans Excel ou SQL, peuvent faire une justification comp√©tente bas√©e sur tous ces facteurs. <br><br>  La collecte et le traitement de ces donn√©es prennent du temps.  Essayons d'optimiser cela. <br><br>  <b>O√π obtenir les donn√©es?</b>  Examinons les services g√©ographiques qui sont sur le march√©.  Les principaux sont: Yandex Maps, 2GIS, Google Maps.  Apr√®s avoir compar√© les fonctionnalit√©s, nous nous sommes install√©s sur 2GIS. <br>  Les principaux avantages du service √† notre avis: exactitude, pertinence et exhaustivit√© des donn√©es, API conviviale.  Mais vous pouvez utiliser les solutions d'autres fabricants. <br><br>  L'acc√®s √† l'API 2GIS peut √™tre obtenu via le formulaire sur le site Web du service.  L'acc√®s est payant et d√©pend du nombre de demandes, s√©par√©ment il sera n√©cessaire de stipuler dans le contrat avec 2GIS comment utiliser les donn√©es, c'est pourquoi nous les demandons, ce que nous en ferons, etc. <br><br>  <b>Je vais vous expliquer un peu comment travailler avec l'API 2GIS.</b> <br><br>  Le service vous permet de choisir l'emplacement des organisations sur un certain territoire (ville, quartier, rue, etc.).  En tant que filtre, vous pouvez sp√©cifier la rubrique de l'organisation (type d'activit√©).  Nous vous demanderons de rechercher toutes les organisations sous la rubrique Centres commerciaux.  En cons√©quence, nous obtenons une liste des centres commerciaux sur le territoire.  Dans la r√©ponse pour chaque centre commercial, les soi-disant identifiants de maison - building_id viendront √©galement.  Nous ferons une demande √† toutes les organisations situ√©es dans le b√¢timent avec l'un des building_id re√ßus.  Nous obtenons une liste de toutes les organisations de ce centre commercial, y compris leurs noms et en-t√™tes. <br><br><img src="https://habrastorage.org/webt/en/e1/7b/ene17bzqsthl0brn4poudtdilt0.png"><br><br>  Ainsi, nous avons re√ßu une liste de tous les magasins, salons, restaurants et autres organisations dans un centre commercial particulier.  Nous pouvons faire une telle demande pour chaque centre commercial qui nous int√©resse. <br><br><h3>  Infrastructure du projet </h3><br>  Pour l'impl√©mentation, nous avons choisi le cloud de <b>MS Azure</b> .  Il y a tout ce dont nous avons besoin, √† savoir: <br><br><ul><li>  Entrep√¥t de donn√©es - <a href="https://azure.microsoft.com/ru-ru/services/sql-database/" rel="nofollow">Azure SQL Database</a> ; </li><li>  Outil d'int√©gration ETL - <a href="https://azure.microsoft.com/ru-ru/services/data-factory/" rel="nofollow">Data Factory</a> ; </li><li>  OLAP - <a href="https://azure.microsoft.com/ru-ru/services/analysis-services/" rel="nofollow">Azure Analysis Services</a> </li><li>  Service ML - <a href="https://azure.microsoft.com/ru-ru/services/machine-learning/" rel="nofollow">Azure Machine Learning</a> ; </li><li>  Moteur de d√©veloppement de robots - <a href="https://azure.microsoft.com/ru-ru/services/bot-service/" rel="nofollow">Azure Bot Service</a> (vous en aurez besoin dans la deuxi√®me partie de l'article); </li></ul><br>  Toutes les donn√©es obtenues √† partir de 2GIS seront charg√©es dans les tables de base de donn√©es Azure SQL. <br>  Nous mettons tous les scripts √† t√©l√©charger dans les packages Azure Data Factory.  Cela nous permettra de t√©l√©charger des donn√©es en masse (par exemple, pour tous les centres commerciaux d'une ville particuli√®re) selon un calendrier pour maintenir la pertinence des donn√©es, ainsi que sur demande pour un centre commercial sp√©cifique. <br><br>  Exemples de t√¢ches d'int√©gration: <br><br><img src="https://habrastorage.org/webt/d3/pl/zi/d3plzizprncu42souvjskinj8ea.png"><br><br><h3>  Travailler avec des donn√©es </h3><br>  Nous pouvons commencer √† rechercher la relation entre les donn√©es de 2GIS et les r√©sultats r√©els des salons.  Pour ce faire, t√©l√©chargez les donn√©es des centres commerciaux dans le magasin o√π l'entreprise est d√©j√† pr√©sente.  Nous y t√©l√©chargerons des donn√©es sur le travail des salons √† partir de l'ERP - revenus, nombre de contr√¥les, marge, nombre de visiteurs. <br><br>  √Ä ce stade, nous connectons des sp√©cialistes au projet Data Science.  Pour eux, nous d√©ployons un cube OLAP bas√© sur les donn√©es collect√©es et l'environnement Azure Machine Learning. <br><br>  Des √©tudes men√©es par des scientifiques des donn√©es ont montr√© que les facteurs suivants affectent le plus fortement les r√©sultats du travail des salons (revenus et marginalit√©): <br><br><ul><li>  La ville o√π se trouve le centre commercial; </li><li>  Le nombre de magasins dans le centre commercial; </li><li>  Le nombre de concurrents dans le centre commercial; </li><li>  La pr√©sence de certaines marques; </li><li>  Le nombre d'autres centres commerciaux dans un rayon de 2 km; </li></ul><br>  Pour √©valuer l'attractivit√© des centres commerciaux, nous introduisons une √©chelle de 1 √† 10. Pour la transparence de l'√©valuation de l'attractivit√©, nous devons montrer √† l'utilisateur exactement quels facteurs et comment ils ont influenc√© la note finale.  Voici un exemple d'√©valuation d'un des centres commerciaux: <br><br><img src="https://habrastorage.org/webt/wi/rk/cw/wirkcwva3xakg60mcuitwq2qiz8.png"><br><br><h3>  Connecter l'apprentissage automatique </h3><br>  Nous calculons cette estimation pour tous les centres commerciaux o√π l'entreprise est d√©j√† implant√©e.  L'ensemble de donn√©es r√©sultant (facteurs + √©valuation) sera utilis√© pour cr√©er un mod√®le d'apprentissage automatique.  A terme, le mod√®le devrait d√©terminer l'appr√©ciation de l'attractivit√© du centre commercial pour l'ouverture d'un nouveau salon. <br><br>  Un exemple de cr√©ation d'une exp√©rience dans Azure ML Studio: <br><br><img src="https://habrastorage.org/webt/ou/-h/g9/ou-hg9fqbmneypksabwifk4eloq.png"><br><br>  La figure montre un exemple simple de cr√©ation d'une exp√©rience d'apprentissage automatique bas√©e sur un mod√®le de r√©gression lin√©aire. <br><br>  Apr√®s avoir d√©ploy√© le mod√®le cr√©√© sous la forme d'un service Web, nous pourrons recevoir des notes d'attractivit√© pour les centres commerciaux o√π il n'y a pas de salons de notre entreprise. <br><br>  Donc, nous avons des donn√©es, nous savons comment travailler avec eux et nous avons un moyen de classer les centres commerciaux.  Nous allons maintenant transf√©rer tout cela aux utilisateurs en fonctionnement. <br><br><h3>  Nous automatisons le travail du personnel du service de s√©lection des locaux </h3><br>  Pour commencer, cr√©ez des rapports analytiques. <br><br>  Par exemple, nous devons √©valuer la possibilit√© d'ouvrir plusieurs points de vente au d√©tail dans N. <br>  Nous sommes int√©ress√©s par les donn√©es suivantes: <br><br><ul><li>  Tous les centres commerciaux de la ville (nombre de magasins dans chacun, nombre de concurrents, nos magasins); </li><li>  Tous les centres commerciaux de la ville o√π il y a des concurrents, mais pas nous; </li><li>  Tous les concurrents de la ville (dans quels centres commerciaux sont repr√©sent√©s, combien de points de vente au d√©tail au total); </li></ul><br>  Voici un exemple de l'un des rapports effectu√©s dans MS Power BI.  Les sources de donn√©es sont notre entrep√¥t de donn√©es sur MS Azure. <br><br><img src="https://habrastorage.org/webt/mf/lh/zp/mflhzpfya3ci7k8zoa2garki91q.png"><br><br>  Ensuite, nous allons cr√©er un outil pour afficher les donn√©es collect√©es sur les centres commerciaux sur une carte.  L'API 2GIS famili√®re nous y aidera.  Dans l'application Web, cr√©ez un widget de carte et appliquez des marqueurs avec des marques de centres commerciaux dessus.  Exemple (donn√©es r√©elles modifi√©es): <br><br><img src="https://habrastorage.org/webt/gc/oz/aj/gcozajvs03brsh_vbp2qrfpnmb0.png"><br><br><h3>  Pour r√©sumer </h3><br>  Nous avons donc fait ce qui suit: <br><br><ul><li>  Nous avons construit le processus d'obtention de donn√©es sur les centres commerciaux √† partir du service 2GIS. </li><li>  Nous avons trouv√© un lien entre les donn√©es obtenues et les r√©sultats des salons dans les centres commerciaux o√π l'entreprise op√®re d√©j√†. </li><li>  Ils ont cr√©√© une m√©thodologie pour √©valuer l'attractivit√© des centres commerciaux. </li><li>  Nous avons d√©velopp√© des rapports et des outils pour automatiser le travail des sp√©cialistes dans la s√©lection des lieux d'ouverture des points de vente. </li></ul><br>  Regardons l'architecture de la solution que nous avons. <br><br><img src="https://habrastorage.org/webt/jy/o5/ob/jyo5obsek_2l1s6oa4kqh6gru3u.png"><br><br>  <b>Dans la prochaine partie de l'article, j'ai l'intention de dire comment r√©aliser un bot-g√©oanalytique pour aider les employ√©s responsables de la s√©lection des locaux.</b> <br><br>  Merci de votre attention! <br><br>  Si quelqu'un s'int√©resse aux d√©tails techniques de la mise en ≈ìuvre des composants individuels de la solution, alors je serai heureux de r√©pondre aux questions dans les commentaires ou dans un message personnel. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr483722/">https://habr.com/ru/post/fr483722/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr483712/index.html">HighLoad ++, Yuri Nasretdinov (VK): comment VK ins√®re des donn√©es dans ClickHouse √† partir de dizaines de milliers de serveurs</a></li>
<li><a href="../fr483714/index.html">Prix ‚Äã‚Äãet concours pour des projets innovants. Exp√©rience des vendeurs mondiaux</a></li>
<li><a href="../fr483716/index.html">Utilisation de Vulnerability Scanner dans les biblioth√®ques de v√©rification des d√©pendances utilis√©es dans GitlabCI</a></li>
<li><a href="../fr483718/index.html">Comment VDI transforme l'environnement de bureau</a></li>
<li><a href="../fr483720/index.html">Ce qui nous a apport√© Pandas 1.0</a></li>
<li><a href="../fr483724/index.html">Travailler avec des pneus personnalis√©s complexes Redd</a></li>
<li><a href="../fr483726/index.html">JavaScript et HTML vanille. Aucun cadre. Pas de biblioth√®ques. Pas de probl√®me</a></li>
<li><a href="../fr483730/index.html">Programmers Union 2: les pantoufles ont cess√© de rire et sont devenues r√©fl√©chies</a></li>
<li><a href="../fr483732/index.html">Lire le firmware s√©curis√© du flash STM32F1xx √† l'aide de ChipWhisperer</a></li>
<li><a href="../fr483734/index.html">Quel prix payons-nous pour utiliser async / attendre dans JS / C # / Rust</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>