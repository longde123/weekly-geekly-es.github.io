<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯНГ ЁЯФП ЁЯМмя╕П IOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдШрдЯрдХ UI рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ ЁЯСиЁЯП╜тАНЁЯОд ЁЯСйЁЯП╛тАНЁЯОд ЁЯО╡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! 

 рдореЗрд░рд╛ рдирд╛рдо рд╡рд▓реЗрд░рд╛ рд╣реИ, рдФрд░ рдЕрдм рджреЛ рд╕рд╛рд▓ рд╕реЗ рдореИрдВ рдПрдХ iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рдЬреЛ рдХрд┐ рдЯреАрдо рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред рд╣рдорд╛рд░реА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рдШрдЯрдХ UI рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/421559/"><img src="https://habrastorage.org/webt/x8/bs/so/x8bsso8hy3rdfn3ostzyohesvyc.jpeg"><br><br>  рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! <br><br>  рдореЗрд░рд╛ рдирд╛рдо рд╡рд▓реЗрд░рд╛ рд╣реИ, рдФрд░ рдЕрдм рджреЛ рд╕рд╛рд▓ рд╕реЗ рдореИрдВ рдПрдХ iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рдЬреЛ рдХрд┐ рдЯреАрдо рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред  рд╣рдорд╛рд░реА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛрдб рдХреЛ рдмрдирд╛рдП рд░рдЦрдирд╛ рдЖрд╕рд╛рди рд╣реИред  рд╕рд╛рдкреНрддрд╛рд╣рд┐рдХ рд░реВрдк рд╕реЗ рд╣рдорд╛рд░реЗ рд╣рд╛рдереЛрдВ рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реА рдирдИ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреА рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдХрд╛рд░рдг, рд╣рдореЗрдВ рдкрд╣рд▓реЗ рдЖрд╡реЗрджрди рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрдирд╛ рд╣реЛрдЧрд╛, рдЕрдиреНрдпрдерд╛ рдореМрдЬреВрджрд╛ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рддреЛрдбрд╝реЗ рдмрд┐рдирд╛ рдЙрддреНрдкрд╛рдж рдореЗрдВ рдПрдХ рдирдИ рд╕реБрд╡рд┐рдзрд╛ рдЬреЛрдбрд╝рдирд╛ рдмреЗрд╣рдж рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрдЧрд╛ред  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ (UI) рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдкрд░ рднреА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рднрд▓реЗ рд╣реА рдпрд╣ рдХреЛрдб, Xcode (XIB) рдпрд╛ рдорд┐рд╢реНрд░рд┐рдд рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реЛред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдХреБрдЫ рдпреВрдЖрдИ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рддрдХрдиреАрдХреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реВрдВрдЧрд╛ рдЬреЛ рд╣рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд▓рдЪреАрд▓рд╛ рдФрд░ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдВрдЧреНрд░реЗрдЬреА</a> рд╕рдВрд╕реНрдХрд░рдг рднреА рд╣реИред <br><br><h2>  рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ ... </h2><br>  рдореИрдВ рд╕реНрд╡рд┐рдлреНрдЯ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рддрдХрдиреАрдХреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реВрдВрдЧрд╛ред  рдПрдХ рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдкрд░ рдЖрд╡реЗрджрди рджреЛрд╕реНрддреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рджрд┐рдЦрд╛рддрд╛ рд╣реИред <br><br>  рдЗрд╕рдореЗрдВ рддреАрди рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВ: <br><br><ol><li>  <b>рдШрдЯрдХ</b> рдХрд╕реНрдЯрдо UI рдШрдЯрдХ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреН, рдХреЛрдб рдХреЗрд╡рд▓ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред </li><li>  <b>рдбреЗрдореЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди</b> - рдбреЗрдореЛ рд╡реНрдпреВ рдореЙрдбрд▓ рдФрд░ рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЗрдХрд╛рдЗрдпрд╛рдВ рдЬрд┐рдирдХреЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдпреВрдЖрдИ рдирд┐рд░реНрднрд░рддрд╛рдПрдВ рд╣реИрдВред </li><li>  <b>рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ</b> рджреГрд╢реНрдп рдореЙрдбрд▓ рдФрд░ рдЕрдиреНрдп рдЗрдХрд╛рдЗрдпрд╛рдБ рд╣реИрдВ рдЬрд┐рдирдореЗрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд┐рд░реНрднрд░рддрд╛ рдФрд░ рддрд░реНрдХ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </li></ol><br>  рдРрд╕рд╛ рдЕрд▓рдЧрд╛рд╡ рдХреНрдпреЛрдВ рд╣реИ?  рдореИрдВ рдиреАрдЪреЗ рдЗрд╕ рдкреНрд░рд╢реНрди рдХрд╛ рдЙрддреНрддрд░ рджреВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдЕрднреА рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рджреЗрдЦреЗрдВ: <br><a name="habracut"></a><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/vt/gl/nrvtglcxbhadi2ag4ohcuazdhqk.gif" height="600"></div><br>  рдпрд╣ рдПрдХ рдкреВрд░реНрдг-рд╕реНрдХреНрд░реАрди рджреГрд╢реНрдп рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рдПрдХ рдкреЙрдк-рдЕрдк рджреГрд╢реНрдп рд╣реИред  рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИред <br><br>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд╛ рдкреВрд░реНрдг рд╕реНрд░реЛрдд рдХреЛрдб <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub</a> рдкрд░ рдЙрдкрд▓рдмреНрдз <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред <br><br>  рдпреВрдЖрдИ рдХреЛрдб рдореЗрдВ рджреЗрд░реА рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдЖрдкрдХреЛ рдпрд╣рд╛рдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рд╣рд╛рдпрдХ рд╡рд░реНрдЧ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдЪрдп рджреЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред  рдЗрд╕рдХрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value: <span class="hljs-type"><span class="hljs-type">T</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">observe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> closure: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"> old: T, </span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"> new: T)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">ObserverProtocol</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">observeNewAndCall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> closure: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"> new: T)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) -&gt; <span class="hljs-type"><span class="hljs-type">ObserverProtocol</span></span></code> </pre> <br>  рдпрд╣ рдХреЗрд╡рд▓ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рд╕рднреА рдкрд╣рд▓реЗ рд╕реЗ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд┐рдП рдЧрдП рдкрд░реНрдпрд╡реЗрдХреНрд╖рдХреЛрдВ рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдХреЗрд╡реАрдУ (рдХреБрдВрдЬреА-рдореВрд▓реНрдп рдХрд╛ рдЕрд╡рд▓реЛрдХрди) рдХрд╛ рдПрдХ рдкреНрд░рдХрд╛рд░ рд╣реИ рдпрд╛, рдпрджрд┐ рдЖрдк рдЪрд╛рд╣реЗрдВ, рддреЛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧред  рдпрд╣рд╛рдБ рдПрдХ рдЙрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдг рд╣реИ: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.observers.append(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewModel.items.observe { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] (_, newItems) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>?.state = newItems.isEmpty ? .zeroCase(type: .empty) : .normal   <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>?.collectionView.reloadSections(IndexSet(integer: <span class="hljs-number"><span class="hljs-number">0</span></span>)) })</code> </pre> <br>  рдирд┐рдпрдВрддреНрд░рдХ <code>self.viewModel.items</code> рдЧреБрдг рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрддрд╛ рд╣реИ, рдФрд░ рдЬрдм рдкрд░рд┐рд╡рд░реНрддрди рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╣реИрдВрдбрд▓рд░ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрд╣ рджреГрд╢реНрдп рд╕реНрдерд┐рддрд┐ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдирдП рдЖрдЗрдЯрдо рдХреЗ рд╕рд╛рде рд╕рдВрдЧреНрд░рд╣ рджреГрд╢реНрдп рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓реЛрдб рдХрд░рддрд╛ рд╣реИред <br><br>  рдЖрдкрдХреЛ рдиреАрдЪреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдФрд░ рдЕрдзрд┐рдХ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗред <br><br><h2>  рддрдХрдиреАрдХ </h2><br>  рдЗрд╕ рдЦрдВрдб рдореЗрдВ рдореИрдВ рдЪрд╛рд░ рдпреВрдЖрдИ рд╡рд┐рдХрд╛рд╕ рддрдХрдиреАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ рдЬреЛ рдХрд┐ рдмрдЯреА рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИрдВ <br><br>  1. рдХреЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрдиред <br><br>  2. рд▓реЗрдЖрдЙрдЯ рдПрдВрдХрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ред <br><br>  3. рдШрдЯрдХ - рд╡рд┐рднрд╛рдЬрд┐рдд рдФрд░ рдЬреАрддрдирд╛ред <br><br>  4. рдпреВрдЬрд░ рдЗрдВрдЯрд░рдлреЗрд╕ рдФрд░ рд▓реЙрдЬрд┐рдХ рдХрд╛ рдЕрд▓рдЧ рд╣реЛрдирд╛ред <br><br><h3>  # 1: рдХреЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ </h3><br>  Badoo рдореЗрдВ, рдЕрдзрд┐рдХрд╛рдВрд╢ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣рд┐рдд рдХреЛрдб рдореЗрдВ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рд╣рдо XIB рдпрд╛ рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ?  рдирд┐рд╖реНрдкрдХреНрд╖ рдкреНрд░рд╢реНрдиред  рдореБрдЦреНрдп рдХрд╛рд░рдг рдордзреНрдпрдо рдЖрдХрд╛рд░ рдХреА рдЯреАрдо рдХреЗ рд▓рд┐рдП рдХреЛрдб рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреА рд╕реБрд╡рд┐рдзрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреН: <br><br><ul><li>  рдХреЛрдб рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдХрд┐рд╕реА рд╕рд╣рдпреЛрдЧреА рджреНрд╡рд╛рд░рд╛ рдХрд┐рдП рдЧрдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП XML рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб / XIB рдлрд╝рд╛рдЗрд▓ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ; <br></li><li>  рд╕рдВрд╕реНрдХрд░рдг рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рдгрд╛рд▓реА (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЧрд┐рдЯ) "рднрд╛рд░реА" XLM- рдлрд╛рдЗрд▓реЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХреЛрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИ, рдЦрд╛рд╕рдХрд░ рдордзреНрдпрдо рд╕рдВрдШрд░реНрд╖ рдХреЗ рджреМрд░рд╛рди;  рдпрд╣ рднреА рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ XIB / рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рд╕рд╛рдордЧреНрд░реА рд╣рд░ рдмрд╛рд░ рд╕рд╣реЗрдЬреЗ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж рднреА рдмрджрд▓ рдЬрд╛рддреА рд╣реИ, рднрд▓реЗ рд╣реА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдирд╣реАрдВ рдмрджрд▓рд╛ рд╣реЛ (рд╣рд╛рд▓рд╛рдБрдХрд┐ рдореИрдВрдиреЗ рд╕реБрдирд╛ рд╣реИ рдХрд┐ Xcode 9 рдореЗрдВ рдпрд╣ рд╕рдорд╕реНрдпрд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддрдп рд╣реЛ рдЧрдИ рд╣реИ); <br></li><li>  рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрд┐рд▓реНрдбрд░ (рдЖрдИрдмреА) рдореЗрдВ рдХреБрдЫ рдЧреБрдгреЛрдВ рдХреЛ рдмрджрд▓рдирд╛ рдФрд░ рдмрдирд╛рдП рд░рдЦрдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмрдЪреНрдЪреЗ рдХреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ (рд▓реЗрдЖрдЙрдЯ рдЙрдк рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░) рдХреА рд░рд┐рд▓реЗрдЖрдЙрдЯ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреМрд░рд╛рди рдХрд╛рдпрд░ рдЧреБрдг, рдЬреЛ рджреГрд╢реНрдп рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рд╕рдЪреНрдЪрд╛рдИ рдХреЗ рдХрдИ рд╕реНрд░реЛрддреЛрдВ рдХреЛ рдЬрдиреНрдо рджреЗ рд╕рдХрддрд╛ рд╣реИ; <br></li><li>  рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрд┐рд▓реНрдбрд░ рд╕рдмрд╕реЗ рддреЗрдЬрд╝ рдЙрдкрдХрд░рдг рдирд╣реАрдВ рд╣реИ, рдФрд░ рдХрднреА-рдХрднреА рдХреЛрдб рдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рдХрд╛рдо рдХрд░рдирд╛ рдмрд╣реБрдд рддреЗрдЬрд╝ рд╣реЛрддрд╛ рд╣реИред <br></li></ul><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирд┐рдпрдВрддреНрд░рдХ (FriendsListViewController) рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListViewController</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewConfig</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> backgroundColor: <span class="hljs-type"><span class="hljs-type">UIColor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> cornerRadius: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> infoView: <span class="hljs-type"><span class="hljs-type">FriendsListView!</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> viewModel: <span class="hljs-type"><span class="hljs-type">FriendsListViewModelProtocol</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> viewConfig: <span class="hljs-type"><span class="hljs-type">ViewConfig</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(viewModel: <span class="hljs-type"><span class="hljs-type">FriendsListViewModelProtocol</span></span>, viewConfig: <span class="hljs-type"><span class="hljs-type">ViewConfig</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewModel = viewModel <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewConfig = viewConfig <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(nibName: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, bundle: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">required</span></span> <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>?(coder aDecoder: <span class="hljs-type"><span class="hljs-type">NSCoder</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">fatalError</span></span>(<span class="hljs-string"><span class="hljs-string">"init(coder:) has not been implemented"</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewDidLoad</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.viewDidLoad() <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.setupContainerView() } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupContainerView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.backgroundColor = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewConfig.backgroundColor <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> infoView = <span class="hljs-type"><span class="hljs-type">FriendsListView</span></span>( frame: .zero, viewModel: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewModel, viewConfig: .defaultConfig) infoView.backgroundColor = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewConfig.backgroundColor <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.addSubview(infoView) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.infoView = infoView infoView.translatesAutoresizingMaskIntoConstraints = <span class="hljs-literal"><span class="hljs-literal">false</span></span> infoView.leadingAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.leadingAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span> infoView.trailingAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.trailingAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span> infoView.topAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.topAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span> infoView.bottomAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.bottomAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span> } <span class="hljs-comment"><span class="hljs-comment">// тАж. }</span></span></code> </pre> <br>  рдпрд╣ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдХреЗрд╡рд▓ рджреГрд╢реНрдп рдореЙрдбрд▓ рдФрд░ рджреГрд╢реНрдп рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреНрд░рджрд╛рди рдХрд░рдХреЗ рдПрдХ рджреГрд╢реНрдп рдирд┐рдпрдВрддреНрд░рдХ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред  рдЖрдк рдкреНрд░рд╕реНрддреБрддрд┐ рдореЙрдбрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреН, рдПрдорд╡реАрд╡реАрдПрдо рдбрд┐рдЬрд╝рд╛рдЗрди рдореЙрдбрд▓ (рдореЙрдбрд▓-рд╡реНрдпреВ-рд╡реНрдпреВрдореЙрдбрд▓) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> ред  рдЪреВрдБрдХрд┐ рджреГрд╢реНрдп рд╡рд┐рдиреНрдпрд╛рд╕ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╕рдВрд░рдЪрдирд╛рддреНрдордХ рдЗрдХрд╛рдИ (рд╕рдВрд░рдЪрдирд╛ рдЗрдХрд╛рдИ) рд╣реИ рдЬреЛ рджреГрд╢реНрдп, рд▓реЗрдЖрдЙрдЯ рдФрд░ рд╢реИрд▓реА, рдЬреИрд╕реЗ рдЗрдВрдбреЗрдВрдЯ, рдЖрдХрд╛рд░, рд░рдВрдЧ, рдлрд╝реЙрдиреНрдЯ рдЖрджрд┐ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдореИрдВ рдЗрд╕ рддрд░рд╣ рдПрдХ рдорд╛рдирдХ рд╡рд┐рдиреНрдпрд╛рд╕ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рдЙрдЪрд┐рдд рд╕рдордЭрддрд╛ рд╣реВрдВ: <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListViewController</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewConfig</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> defaultConfig: <span class="hljs-type"><span class="hljs-type">FriendsListViewController</span></span>.<span class="hljs-type"><span class="hljs-type">ViewConfig</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">FriendsListViewController</span></span>.<span class="hljs-type"><span class="hljs-type">ViewConfig</span></span>(backgroundColor: .white,                                                   cornerRadius: <span class="hljs-number"><span class="hljs-number">16</span></span>)   } }</code> </pre> <br>  рд╕рднреА рджреГрд╢реНрдп рдЖрд░рдВрднреАрдХрд░рдг <code>setupContainerView</code> рд╡рд┐рдзрд┐ рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ <code>setupContainerView</code> рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рджреГрд╢реНрдп рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмрдирд╛рдпрд╛ рдФрд░ рд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рд╕реНрдХреНрд░реАрди рдкрд░ рдирд╣реАрдВ рдЦреАрдВрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд, рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рддрддреНрд╡ (рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░) рдХреЗрд╡рд▓ рджреГрд╢реНрдп рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдорд╛рд░реНрдХрдЕрдк рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рд▓реЗрдЖрдЙрдЯ) рдФрд░ рд╢реИрд▓рд┐рдпреЛрдВред <br><br>  рдЕрдм рджреЗрдЦрдиреЗ рд╡рд╛рд▓рд╛ рдХрдВрдЯреНрд░реЛрд▓рд░ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListPresenter</span></span></span><span class="hljs-class">: </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">FriendsListPresenterProtocol {   // тАж   func presentFriendsList</span></span></span></span>(from presentingViewController: UIViewController) {       let controller = Class.createFriendsListViewController( presentingViewController: presentingViewController,           headerViewModel: self.headerViewModel,           contentViewModel: self.contentViewModel)       controller.modalPresentationStyle = .overCurrentContext       controller.modalTransitionStyle = .crossDissolve       presentingViewController.present(controller, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: nil)   }   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">func</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">createFriendsListViewController</span></span></span></span>( presentingViewController: UIViewController, headerViewModel: FriendsListHeaderViewModelProtocol,       contentViewModel: FriendsListContentViewModelProtocol) -&gt; FriendsListContainerViewController {      let dismissViewControllerBlock: VoidBlock = { [weak presentingViewController] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>           presentingViewController?.dismiss(animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: nil)       }       let infoViewModel = FriendsListViewModel( headerViewModel: headerViewModel,           contentViewModel: contentViewModel)       let containerViewModel = FriendsListContainerViewModel(onOutsideContentTapAction: dismissViewControllerBlock)       let friendsListViewController = FriendsListViewController( viewModel: infoViewModel, viewConfig: .defaultConfig)       let controller = FriendsListContainerViewController( contentViewController: friendsListViewController,           viewModel: containerViewModel,           viewConfig: .defaultConfig)       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> controller   } }</code> </pre> <br>  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд┐рдореНрдореЗрджрд╛рд░рд┐рдпреЛрдВ рдХрд╛</a> рд╕реНрдкрд╖реНрдЯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреГрдердХреНрдХрд░рдг</a> рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдЕрд╡рдзрд╛рд░рдгрд╛ рд╕реНрдЯреЛрд░реАрдмреЛрд░реНрдб рдкрд░ рд╕реЗрдЧрд┐рдВрдЧ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рдирд╣реАрдВ рд╣реИред <br><br>  рдПрдХ рджреГрд╢реНрдп рдирд┐рдпрдВрддреНрд░рдХ рдмрдирд╛рдирд╛ рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИ, рдпрд╣ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЗрд╕рдХрд╛ рдореЙрдбрд▓ рд╣реИ рдФрд░ рдЖрдк рдмрд╕ рдорд╛рдирдХ рджреГрд╢реНрдп рд╡рд┐рдиреНрдпрд╛рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs lisp">let friendsListViewController = FriendsListViewController( <span class="hljs-name"><span class="hljs-name">viewModel</span></span>: infoViewModel, viewConfig: .defaultConfig)</code> </pre><br><h3>  # 2: рд▓реЗрдЖрдЙрдЯ рдПрдВрдХрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </h3><br>  рдпрд╣рд╛рдБ рд▓реЗрдЖрдЙрдЯ рдХреЛрдб рд╣реИ: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.addSubview(infoView) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.infoView = infoView infoView.translatesAutoresizingMaskIntoConstraints = <span class="hljs-literal"><span class="hljs-literal">false</span></span> infoView.leadingAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.leadingAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span> infoView.trailingAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.trailingAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span> infoView.topAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.topAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span> infoView.bottomAnchor.constraint(equalTo: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.bottomAnchor).isActive = <span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre><br>  рд╕реАрдзреЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдХрд╣реЗрдВ, рддреЛ рдпрд╣ рдХреЛрдб рдореВрд▓ рджреГрд╢реНрдп ( <code>infoView</code> рдЕрдВрджрд░ <code>infoView</code> , рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рдореВрд▓ рдЖрдХрд╛рд░ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ (0, 0) рдХреЗ рдЕрдВрджрд░ рд░рдЦрддрд╛ рд╣реИред <br><br>  рд╣рдо рд▓реЗрдЖрдЙрдЯ рдПрдВрдХрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдХрд░рддреЗ рд╣реИрдВ?  рдпрд╣ рддреНрд╡рд░рд┐рдд рдФрд░ рдЖрд╕рд╛рди рд╣реИред  рдмреЗрд╢рдХ, рдЖрдк рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ UIView.frame рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдордХреНрдЦреА рдкрд░ рд╕рднреА рдкрджреЛрдВ рдФрд░ рдЖрдХрд╛рд░реЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХрднреА-рдХрднреА рдпрд╣ рдмрд╣реБрдд рднреНрд░рд╛рдордХ рдФрд░ / рдпрд╛ рднрд╛рд░реА рдХреЛрдб рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЖрдк рдорд╛рд░реНрдХрдЕрдк рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд╛рда рдкреНрд░рд╛рд░реВрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕рд╛ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рд╡рд░реНрдгрд┐рдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> , рд▓реЗрдХрд┐рди рдЕрдХреНрд╕рд░ рдпрд╣ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЛ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рдХрдбрд╝рд╛рдИ рд╕реЗ рдкрд╛рд▓рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдХреЛрдб рд▓рд┐рдЦрдиреЗ / рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рдЪрд░рдг рдореЗрдВ Xcode рдорд╛рд░реНрдХрдЕрдк рд╡рд┐рд╡рд░рдг рдкрд╛рда рдХреА рдЬрд╛рдВрдЪ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЖрдк рд╕реБрд░рдХреНрд╖рд┐рдд рдХреНрд╖реЗрддреНрд░ рд▓реЗрдЖрдЙрдЯ рдЧрд╛рдЗрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="hljs perl">NSLayoutConstraint.constraints( withVisualFormat: <span class="hljs-string"><span class="hljs-string">"V:|-(\(topSpace))-[headerView(headerHeight@200)]-[collectionView(collectionViewHeight@990)]|"</span></span>,   options: [],   metrics: metrics,   views: views)</code> </pre><br>  рдорд╛рд░реНрдХрдЕрдк рдХреЛ рд╕рд╣реА рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЯреЗрдХреНрд╕реНрдЯ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдЧрд▓рддреА рдпрд╛ рдЯрд╛рдЗрдкреЛ рдмрдирд╛рдирд╛ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИ? <br><br><h3>  # 3: рдШрдЯрдХ - рдлреВрдЯ рдбрд╛рд▓реЛ рдФрд░ рдЬреАрддреЛ </h3><br>  рд╣рдорд╛рд░рд╛ рдЙрджрд╛рд╣рд░рдг рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдШрдЯрдХреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдирд╣реАрдВред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <br><br><ol><li>  <code>FriendsListHeaderView</code> - рджреЛрд╕реНрддреЛрдВ рдФрд░ рдмрдВрдж рдмрдЯрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  <code>FriendsListContentView</code> - рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреЗ рд╕рд╛рде рджреЛрд╕реНрддреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ, рд╕реВрдЪреА рдХреЗ рдЕрдВрдд рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдкрд░ рд╕рд╛рдордЧреНрд░реА рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рднрд░реА рд╣реБрдИ рд╣реИред </li><li>  <code>FriendsListView</code> - рджреЛ рдкрд┐рдЫрд▓реЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдВрдЯреЗрдирд░ред </li></ol><br>  рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рдШрдЯрдХ рдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд┐рдореНрдореЗрджрд╛рд░</a> рд╣реЛрдиреЗ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">, рдПрдХрдорд╛рддреНрд░ рдЬрд┐рдореНрдореЗрджрд╛рд░реА</a> рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЛ</a> рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рди рдХреЗрд╡рд▓ рдмрдЧ рдлрд┐рдХреНрд╕рд┐рдВрдЧ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ (рдЬреЛ, рд╢рд╛рдпрдж, рдЖрдИрдУрдПрд╕ рдбреЗрд╡рд▓рдкрд░ рдХреЗ рдХрд╛рдо рдХрд╛ рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╣рд┐рд╕реНрд╕рд╛ рдирд╣реАрдВ рд╣реИ), рдмрд▓реНрдХрд┐ рдирдИ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рджреМрд░рд╛рди рднреА, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдХреЛрдб рдХреЗ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХреА рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХреЛ рдХрд╛рдлреА рдмрдврд╝рд╛рддрд╛ рд╣реИред <br><br><h3>  # 4: рдпреВрдЬрд░ рдЗрдВрдЯрд░рдлреЗрд╕ рдФрд░ рд▓реЙрдЬрд┐рдХ рдХреЛ рдЕрд▓рдЧ рдХрд░рдирд╛ </h3><br>  рдФрд░ рдЕрдВрддрд┐рдо, рд▓реЗрдХрд┐рди рдХреЛрдИ рдХрдо рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдФрд░ рддрд░реНрдХ рдХрд╛ рдЕрд▓рдЧрд╛рд╡ рдирд╣реАрдВ рд╣реИред  рдПрдХ рдРрд╕реА рддрдХрдиреАрдХ рдЬреЛ рдЖрдкрдХреА рдЯреАрдо рдХреЗ рд▓рд┐рдП рд╕рдордп рдФрд░ рдирд╕реЛрдВ рдХреЛ рдмрдЪрд╛ рд╕рдХрддреА рд╣реИред  рд╢рд╛рдмреНрджрд┐рдХ рдЕрд░реНрде рдореЗрдВ: рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдФрд░ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧред <br><br>  рдЖрдЗрдП рд╣рдо рдЕрдкрдиреЗ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд▓реМрдЯрддреЗ рд╣реИрдВред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рдкреНрд░рд╕реНрддреБрддрд┐ рдХрд╛ рд╕рд╛рд░ (рдкреНрд░рд╕реНрддреБрддрдХрд░реНрддрд╛) рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="hljs swift"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">presentFriendsList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(from presentingViewController: UIViewController)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> controller = <span class="hljs-type"><span class="hljs-type">Class</span></span>.createFriendsListViewController( presentingViewController: presentingViewController,       headerViewModel: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.headerViewModel,       contentViewModel: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.contentViewModel)   controller.modalPresentationStyle = .overCurrentContext   controller.modalTransitionStyle = .crossDissolve   presentingViewController.present(controller, animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) }</code> </pre> <br>  рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рд╢реАрд░реНрд╖рдХ рдФрд░ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдп рдореЙрдбрд▓ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдмрд╛рдХреА рдпреВрдЖрдИ рдШрдЯрдХреЛрдВ рдХреЗ рдЙрдкрд░реЛрдХреНрдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдЕрдВрджрд░ рдЫрд┐рдкрд╛ рд╣реБрдЖ рд╣реИред <br><br>  рд╢реАрд░реНрд╖ рд▓реЗрдЦ рджреГрд╢реНрдп рдореЙрдбрд▓ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListHeaderViewModelProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> friendsCountIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> }   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> closeButtonIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> }   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> friendsCount: <span class="hljs-type"><span class="hljs-type">Observable</span></span>&lt;<span class="hljs-type"><span class="hljs-type">String</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> }   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onCloseAction: <span class="hljs-type"><span class="hljs-type">VoidBlock?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> } }</code> </pre> <br>  рдЕрдм рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ рдХрд┐ рдЖрдк UI рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдп рдкрд░реАрдХреНрд╖рдг рдЬреЛрдбрд╝ рд░рд╣реЗ рд╣реИрдВ - рдпрд╣ рдпреВрдЖрдИ рдШрдЯрдХреЛрдВ рдХреЗ рд▓рд┐рдП рд╕реНрдЯрдм рдореЙрдбрд▓ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд╕рдорд╛рди рд╕рд░рд▓ рд╣реИред <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListHeaderDemoViewModel</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListHeaderViewModelProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> friendsCountIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span> = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"ic_friends_count"</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> closeButtonIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span> = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"ic_close_cross"</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> friendsCount: <span class="hljs-type"><span class="hljs-type">Observable</span></span>&lt;<span class="hljs-type"><span class="hljs-type">String</span></span>&gt;   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onCloseAction: <span class="hljs-type"><span class="hljs-type">VoidBlock?</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>() {       <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> friendsCountString = <span class="hljs-string"><span class="hljs-string">"\(Int.random(min: 1, max: 5000))"</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.friendsCount = <span class="hljs-type"><span class="hljs-type">Observable</span></span>(friendsCountString)   } }</code> </pre> <br>  рдпрд╣ рд╕рд░рд▓ рд▓рдЧрддрд╛ рд╣реИ, рд╣реИ рдирд╛?  рдЕрдм рд╣рдо рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдШрдЯрдХреЛрдВ рдореЗрдВ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдЬреЛрдбрд╝рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рддрд╛, рдбреЗрдЯрд╛ рдореЙрдбрд▓ рдЖрджрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListHeaderViewModel</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FriendsListHeaderViewModelProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> friendsCountIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> closeButtonIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> friendsCount: <span class="hljs-type"><span class="hljs-type">Observable</span></span>&lt;<span class="hljs-type"><span class="hljs-type">String</span></span>&gt; = <span class="hljs-type"><span class="hljs-type">Observable</span></span>(<span class="hljs-string"><span class="hljs-string">"0"</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> onCloseAction: <span class="hljs-type"><span class="hljs-type">VoidBlock?</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dataProvider: <span class="hljs-type"><span class="hljs-type">FriendsListDataProviderProtocol</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> observers: [<span class="hljs-type"><span class="hljs-type">ObserverProtocol</span></span>] = []   <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(dataProvider: <span class="hljs-type"><span class="hljs-type">FriendsListDataProviderProtocol</span></span>,        friendsCountIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span>,        closeButtonIcon: <span class="hljs-type"><span class="hljs-type">UIImage?</span></span>) {       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.dataProvider = dataProvider       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.friendsCountIcon = friendsCountIcon       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.closeButtonIcon = closeButtonIcon       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.setupDataObservers()   }   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setupDataObservers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.observers.append(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.dataProvider.totalItemsCount.observeNewAndCall { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] (newCount) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>           <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>?.friendsCount.value = <span class="hljs-string"><span class="hljs-string">"\(newCount)"</span></span>       })   } }</code> </pre> <br>  рдХреНрдпрд╛ рдЖрд╕рд╛рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ?  рдмрд╕ рдбреЗрдЯрд╛ рдкреНрд░рджрд╛рддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВ - рдФрд░ рдЬрд╛рдУ! <br><br>  рд╕рд╛рдордЧреНрд░реА рдореЙрдбрд▓ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рджрд┐рдЦрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЬрд┐рдореНрдореЗрджрд╛рд░рд┐рдпреЛрдВ рдХрд╛ рдЕрд▓рдЧ рд╣реЛрдирд╛ рдЕрднреА рднреА рдЬреАрд╡рди рдХреЛ рд╕рд░рд▓ рдмрдирд╛рддрд╛ рд╣реИред  рдПрдХ рдмрдЯрди рдХреЗ рдХреНрд▓рд┐рдХ рдкрд░ рдорд┐рддреНрд░реЛрдВ рдХреА рд╕реВрдЪреА рдХреЛ рддреБрд░рдВрдд рдХреИрд╕реЗ рдкреНрд░рджрд░реНрд╢рд┐рдд рдФрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдП, рдЗрд╕рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">presentRealFriendsList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(sender: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> avatarPlaceholderImage = <span class="hljs-type"><span class="hljs-type">UIImage</span></span>(named: <span class="hljs-string"><span class="hljs-string">"avatar-placeholder"</span></span>)   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> itemFactory = <span class="hljs-type"><span class="hljs-type">FriendsListItemFactory</span></span>(avatarPlaceholderImage: avatarPlaceholderImage)   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dataProvider = <span class="hljs-type"><span class="hljs-type">FriendsListDataProvider</span></span>(itemFactory: itemFactory)   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> viewModelFactory = <span class="hljs-type"><span class="hljs-type">FriendsListViewModelFactory</span></span>(dataProvider: dataProvider)   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> headerViewModel = viewModelFactory.makeHeaderViewModel()   headerViewModel.onCloseAction = { [<span class="hljs-keyword"><span class="hljs-keyword">weak</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>?.dismiss(animated: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, completion: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>)   }   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> contentViewModel = viewModelFactory.makeContentViewModel()   <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> presenter = <span class="hljs-type"><span class="hljs-type">FriendsListPresenter</span></span>( headerViewModel: headerViewModel,       contentViewModel: contentViewModel)   presenter.presentFriendsList(from: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) }</code> </pre> <br>  рдпрд╣ рддрдХрдиреАрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рд╕реЗ рдЕрд▓рдЧ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреА рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдЖрдкрдХреЛ рд╕рдВрдкреВрд░реНрдг рдпреВрдЖрдИ рдХреЛ рджреГрд╢реНрдп рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╡рд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдШрдЯрдХреЛрдВ рдХреЛ рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рдкрд╛рд╕ рдХрд░ рд░рд╣рд╛ рд╣реИ!  рдЗрд╕рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдХрд╛ рдкреГрдердХреНрдХрд░рдг рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреА рд╕рдлрд▓рддрд╛ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдЪрд╛рд╣реЗ рд╡рд╣ рдПрдХ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рд╣реЛ рдпрд╛ рдкрд╣рд▓реЗ рд╕реЗ рддреИрдпрд╛рд░ рдЙрддреНрдкрд╛рджред <br><br><h2>  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br>  рдмреЗрд╢рдХ, рдпреЗ рдмрд╕ рдХреБрдЫ рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рд╡реЗ рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдЙрдирдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ рд╡реЗ рдЖрдкрдХреЗ рдФрд░ рдЖрдкрдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИрдВред <br><br>  рдЕрдиреНрдп рд╡рд┐рдзрд┐рдпрд╛рдВ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдмрд┐рд▓реНрдбрд░ (рд╡реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рдорд╛рд░реЗ</a> рдЕрдиреНрдп <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реЗрдЦ</a> рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╣реИрдВ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдПрдХреНрд╕рдЖрдИрдмреА-рд╡рд┐рдиреНрдпрд╛рд╕ рдпреЛрдЧреНрдп рдпреВрдЖрдИ-рдШрдЯрдХ, рд▓реЗрдХрд┐рди рд╡рд┐рднрд┐рдиреНрди рдХрд╛рд░рдгреЛрдВ рд╕реЗ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рд╕рднреА рдХреА рдЕрдкрдиреА рд░рд╛рдп рдФрд░ рдмрдбрд╝реА рддрд╕реНрд╡реАрд░ рдХреА рджреГрд╖реНрдЯрд┐ рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдПрдХ рд╕рдлрд▓ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЯреАрдо рдореЗрдВ рдПрдХ рдЖрдо рд╕рд╣рдорддрд┐ рдкрд░ рдЖрдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЙрдкрдпреБрдХреНрдд рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдЖрдкрдХреЗ рд╕рд╛рде рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рд╕реНрд╡рд┐рдлреНрдЯ! <br><br>  рд╕реВрддреНрд░реЛрдВ рдХрд╛ рдХрд╣рдирд╛ рд╣реИ <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub рдкрд░</a> рдкреВрд░реНрдг рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛрдб <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рдЕрдВрдЧреНрд░реЗрдЬреА рд╕рдВрд╕реНрдХрд░рдг</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╕реНрдЯрдо UI рдШрдЯрдХ рдмрдирд╛рдирд╛</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдЖрдИрдУрдПрд╕ рдЯреЗрдореНрдкреНрд▓реЗрдЯ</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрд╡рд┐рдлреНрдЯ рдореЗрдВ рдореЙрдбрд▓рд┐рдВрдЧ рд░рд╛рдЬреНрдп</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрд╡рд┐рдлреНрдЯ рдореЗрдВ рдареЛрд╕ рд╕рд┐рджреНрдзрд╛рдВрдд</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">NSLayoutAnchor</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ рдЕрд╡рд░реЛрдз рдкреИрджрд╛ рдХрд░реЗрдВ</a> <br></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi421559/">https://habr.com/ru/post/hi421559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi421549/index.html">рд╣рдо рддрдХрдиреАрдХреА рджрд╕реНрддрд╛рд╡реЗрдЬ рд▓рд┐рдЦ рд░рд╣реЗ рд╣реИрдВ: рдЖрдо рдЖрджрдореА рдХреЗ рд▓рд┐рдП рдПрдХ рдЧрд╛рдЗрдб</a></li>
<li><a href="../hi421551/index.html">рдорд╛рд╕реНрдЯрд░реАрдВрдЧ рд╡реЗрдХреНрд╕ - рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ</a></li>
<li><a href="../hi421553/index.html">рд╣рдо рддрдХрдиреАрдХреА рд╕рд╛рдордЧреНрд░реА рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ: рд╣рдордиреЗ рдЕрдкрдиреА рд╕рднреА рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХреЛ рдПрдХ рд╕рд╛рдЗрдЯ рдкрд░ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рд╣реИ</a></li>
<li><a href="../hi421555/index.html">рд╡рд╛рдЗрдбрдПрдирдИрдПрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ - рдПрдирдИрдПрд╕ рд╕реНрдХреНрд░реАрди рдХреА рд╕реАрдорд╛рдУрдВ рд╕реЗ рдкрд░реЗ рдЬрд╛рддреА рд╣реИ</a></li>
<li><a href="../hi421557/index.html">рдЦреБрд▓рд╛ рд╕рдмрдХ "рдЬрд╛рд╡рд╛ рдореЗрдВ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ"</a></li>
<li><a href="../hi421561/index.html">рд╕реНрдХреВрдЯрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ 12 рд╕рд╡рд╛рд▓ рдЬреЛ рдкреВрдЫрдиреЗ рдореЗрдВ рд╢рд░реНрдо рдирд╣реАрдВ рдЖрддреА</a></li>
<li><a href="../hi421567/index.html">рдЪрд░реНрдЪрд╛: рдЕрд╕рд╛рдорд╛рдиреНрдп рдкреЛрд░реНрдЯреЗрдмрд▓ рдзреНрд╡рдирд┐рдХреА - рдПрдХ рд╕реНрдкреЛрд░реНрдЯреНрд╕ рдХрд╛рд░, рд░реЗрдЯреНрд░реЛ рд░реЗрдбрд┐рдпреЛ рдФрд░ "рдСрдбрд┐рдпреЛ рдмреВрдЯ"</a></li>
<li><a href="../hi421569/index.html">рдЧреЗрдореНрд╕рдХреЙрдо 2018 рдХреЗ рд╕рд╛рде рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг - рдПрдирд╡реАрдбрд┐рдпрд╛ рдЖрд░рдЯреАрдПрдХреНрд╕, рд╕рд╛рдЗрдмрд░рдкрдВрдХ 2077, рдореЗрдЯреНрд░реЛ рдПрдХреНрд╕реЛрдбрд╕</a></li>
<li><a href="../hi421571/index.html">Kivyред Xamarinред рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓ рдореВрд▓рдирд┐рд╡рд╛рд╕реАред рддреАрди рд░реВрдкрд░реЗрдЦрд╛рдПрдБ - рдПрдХ рдкреНрд░рдпреЛрдЧ (рднрд╛рдЧ 3)</a></li>
<li><a href="../hi421573/index.html">рдлреВрдб рдбрд┐рдЬрд╛рдЗрди рдбрд╛рдЗрдЬреЗрд╕реНрдЯ рдЕрдЧрд╕реНрдд 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>