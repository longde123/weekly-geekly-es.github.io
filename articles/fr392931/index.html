<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔌 🧚🏽 👌🏽 Arduino IDE: pourquoi les esquisses ne se compilent pas (et comment éviter cela) 📢 🛶 👙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comme je me développe intensément dans l'IDE Arduino, cette question m'a vraiment inquiété. Pourquoi un croquis écrit dans une version de l'environnem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arduino IDE: pourquoi les esquisses ne se compilent pas (et comment éviter cela)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/392931/"><img src="https://habrastorage.org/files/c01/65c/f87/c0165cf87ed14bf09870483d2cc95ebb.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je me développe intensément dans l'IDE Arduino, cette question m'a vraiment inquiété. </font><font style="vertical-align: inherit;">Pourquoi un croquis écrit dans une version de l'environnement de développement refuse-t-il de compiler dans les versions voisines? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisateurs d' </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Arduino Mega Server</font></a><font style="vertical-align: inherit;"> m'ont submergé par la même question </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pourquoi l'AMC compile-t-il en 1.6.5 et refuse-t-il de compiler en 1.6.4, 1.6.7 et 1.6.8? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et récemment, dans le processus de portage du Arduino Mega Server vers le nouveau contrôleur Genuino 101, j'ai pu résoudre ce grand mystère. </font><font style="vertical-align: inherit;">Et dans cet article, je partagerai cette connaissance sacrée avec vous et vos croquis après avoir toujours été compilés avec succès. </font><font style="vertical-align: inherit;">Alors ...</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logique des choses</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Logiquement, le code qui se compile avec succès dans n'importe quelle version de l'environnement de développement, par exemple 1.6.5, doit être compilé dans les versions voisines de l'IDE, car ces versions ne diffèrent que par le troisième caractère et sont presque les mêmes, avec des modifications mineures . </font><font style="vertical-align: inherit;">Mais cela ne se produit pas. </font><font style="vertical-align: inherit;">Pourquoi?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuisine domestique</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre cela, vous devez comprendre comment les versions des environnements de développement Arduino IDE sont formées et comment les utilisateurs travaillent avec ces environnements de développement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commençons par les utilisateurs. La plupart d'entre eux compilent des projets primitifs, au sens figuré, en 20 lignes et il n'y a aucun problème avec ces projets. Ces projets sont compilés avec succès dans n'importe quelle version de l'EDI car ils utilisent uniquement des appels de fonction de bibliothèque standard et ne modifient pas les bibliothèques elles-mêmes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais un projet quelque peu développé sur Arduino ne s'inscrit plus dans les «20 lignes» et utilise inévitablement des fonctions moins communes des bibliothèques (qui sont plus susceptibles de modifications de version en version) et viennent inévitablement à la nécessité de modifier les bibliothèques elles-mêmes pour leurs besoins spécifiques du projet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et une fois que vous avez modifié la bibliothèque système, vous devenez un otage et êtes obligé de la "faire glisser" avec vous d'une version à l'autre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant comment les versions de l'IDE Arduino sont formées. Et ils sont formés arbitrairement (je soupçonne qu'au final, un programmeur spécifique, un certain Mario) de l'équipe émettrice. Et quelle version d'une bibliothèque particulière sera incluse dans le kit de distribution et sous quelle forme (avec quelles modifications) reste sur la conscience de ce «Mario». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant attention, c'est très important! L'équipe de publication n'a qu'un seul objectif - que la distribution d'une version soit mutuellement convenue et cohérente en elle-même. Leur tâche est de s'assurer que tous les exemples standard fonctionnent correctement. Et c'est tout! La tâche de compatibilité entre les versions ne se pose pas du tout.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et puisque 99% des utilisateurs compilent des projets en «20 lignes», cette approche «roule» parfaitement dans la pratique. </font><font style="vertical-align: inherit;">Et le fait qu'aucun projet sérieux ne soit compilé est le problème de ces projets. </font><font style="vertical-align: inherit;">Dieu merci, le mécanisme de l'occurrence du problème est maintenant clair, et maintenant il est devenu clair comment y faire face.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple concret</font></font></h2><br>
<img src="https://habrastorage.org/files/2c4/d6e/d43/2c4d6ed435ce46eaa490d0d53ac87fc6.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rappelons le portage d'AMS vers </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Genuino 101</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (il fonctionne à partir de la version 1.6.7 et supérieure). Ici, l'équipe Arduino a stocké une autre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blague</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour nous </font><font style="vertical-align: inherit;">(bravo les gars, ils ne nous laissent pas nous détendre). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une tentative de compilation du projet pour le nouveau contrôleur a conduit à de nombreuses erreurs de compilation. L'analyse des messages a montré que le compilateur déteste fortement notre bibliothèque Ethernet. Pourquoi n'a-t-elle pas plu au compilateur? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous commençons à comprendre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre bibliothèque: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version = 1.0.4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (n'aime pas le compilateur) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bibliothèque d'IDE 1.6.7: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version = 1.0.4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (comme le compilateur) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre bibliothèque: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31 fichiers</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (n'aime pas le compilateur)</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bibliothèque du fichier IDE 1.6.7: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (comme le compilateur) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre bibliothèque: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123 Ko</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (n'aime pas le compilateur) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bibliothèque d'IDE 1.6.7: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123 Ko</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (comme le compilateur) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En d'autres termes, Mario a «bloqué» une bibliothèque Ethernet IDE 1.6.7 avec le même numéro de version que dans IDE 1.6.5, le même nombre de fichiers et la même taille, mais avec un CONTENU DIFFÉRENT et oublié nous en avertir. Et c'est le contenu le plus «différent», comme une araignée qui conserve son IDE et d'autres bibliothèques de niveau inférieur (également modifiées en 1.6.7). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bravo, Mario! Avec cette approche, rien ne sera compilé à l'exception des exemples standard et des croquis de 20 lignes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solution pratique (puzzles d'Arduino)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Désormais, le mécanisme expliquant pourquoi les projets ne sont pas compilés dans différentes versions de l'IDE Arduino est devenu limpide et, en conséquence, la façon de résoudre ce problème est devenue limpide. </font><font style="vertical-align: inherit;">Dans ce cas particulier, la solution se compose de trois parties.</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Première partie </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouver une bibliothèque fonctionnelle. </font><font style="vertical-align: inherit;">Rappelez-vous, la tâche de l'équipe émettrice de créer une version cohérente de l'IDE? </font><font style="vertical-align: inherit;">Il doit donc y avoir quelque part une version fonctionnelle de la bibliothèque dont nous avons besoin.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxième partie </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transférer une bibliothèque Ethernet fonctionnelle de la vilaine petite Mario à sa place dans le projet Arduino Mega Server. </font><font style="vertical-align: inherit;">Il n'y a rien de compliqué ici - copiez-le simplement à l'emplacement de notre bibliothèque qui ne fonctionne pas dans Ethernet IDE 1.6.7.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troisième partie. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modification pour le projet Arduino Mega Server d'une bibliothèque portée et évidemment fonctionnelle en Ethernet IDE 1.6.7.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La même chose doit être faite avec toutes les bibliothèques non compilables du projet (c'est-à-dire, trouver une version de travail de la bibliothèque à partir de l'EDI et la transférer à sa place dans le projet et la modifier si nécessaire). </font><font style="vertical-align: inherit;">Mais dans ce cas, nous avons eu de la chance, toutes les autres bibliothèques ont bien fonctionné (parce que Mario n'a pas réussi à les modifier tranquillement, bien qu'il puisse et qu'il le fera certainement dans les nouvelles versions de l'IDE, mais nous savons déjà comment y faire face).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout le secret de réussir à travailler dans l'IDE Arduino avec des projets complexes. </font><font style="vertical-align: inherit;">Vous pouvez maintenant vous sentir complètement armé et il ne vous sera pas difficile de faire fonctionner </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">votre projet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans n'importe quelle version de l'IDE Arduino.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr392931/">https://habr.com/ru/post/fr392931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr392919/index.html">Le Japon teste la possibilité d'effectuer des achats à l'aide d'empreintes digitales</a></li>
<li><a href="../fr392921/index.html">Encres hybrides conçues pour imprimer et dessiner des circuits électriques sur papier ou plastique</a></li>
<li><a href="../fr392923/index.html">Blagues de huit bits</a></li>
<li><a href="../fr392925/index.html">rm -rf: un moyen facile de détruire votre activité en ligne et votre réputation</a></li>
<li><a href="../fr392927/index.html">La sonde japonaise Akatsuki commence à transmettre des données sur Vénus</a></li>
<li><a href="../fr392933/index.html">Plateforme Wirex: une nouvelle étape dans le développement des services financiers</a></li>
<li><a href="../fr392937/index.html">Les Gémeaux ont-ils volé en orbite?</a></li>
<li><a href="../fr392939/index.html">Les scintigraphies cérébrales montrent comment le LSD affecte la conscience</a></li>
<li><a href="../fr392941/index.html">Les scientifiques ont découvert une double étoile hyper-rapide unique</a></li>
<li><a href="../fr392943/index.html">Explosions et chutes sur la voie du succès. L'histoire de la fusée SpaceX réutilisable en une vidéo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>