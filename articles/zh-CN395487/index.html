<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤾🏽 👨🏽‍⚖️ 🌧️ DIY FPV赛车无人机（第2部分）-设置 ⚠️ 👏🏽 ♦️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在第一部分中，我谈到了如何组装用于FPV飞行的直升机。现在是时候进行设置了。如果有兴趣的话，韦尔卡姆在猫的陪伴下。
 
 
 
 
 立即提出保留意见，我一点也不装作专家，这只是我组装的第三架直升机。另外，调优是非常主观的事情。不过，我希望有人会觉得这篇文章有用，并且可以节省时间。
 我们直接进行设...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DIY FPV赛车无人机（第2部分）-设置</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395487/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一部分中，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我谈到了如何组装用于FPV飞行的直升机。</font><font style="vertical-align: inherit;">现在是时候进行设置了。</font><font style="vertical-align: inherit;">如果有兴趣的话，韦尔卡姆在猫的陪伴下。</font></font><br>
<br>
<img src="https://habrastorage.org/files/4a4/068/96b/4a406896bf854d38b75a5c4617cba4b7.jpg"><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
立即提出保留意见，我一点也不装作专家，这只是我组装的第三架直升机。</font><font style="vertical-align: inherit;">另外，调优是非常主观的事情。</font><font style="vertical-align: inherit;">不过，我希望有人会觉得这篇文章有用，并且可以节省时间。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们直接进行设置。</font><font style="vertical-align: inherit;">首先是简单的事情，然后是飞行控制器the下。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">闪烁并设置MinimOSD</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MinimOSD最受欢迎（但不是唯一）的固件是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MWOSD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">首先，您需要刷新她的电路板，然后再对其进行配置。</font><font style="vertical-align: inherit;">如果可以通过PC配置OSD（有关设置PC的部分中的更多信息），则对于固件，您需要FTDI适配器或Arduinka。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该视频</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示了如何通过FTDI程序员执行此操作，最重要的是在何处获取旧驱动程序</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">最主要的是不要忘记在Config.h中卸载固件，然后删除以下几行：</font><font style="vertical-align: inherit;">
从要显示在屏幕上的参数开始，我只开始了电池电压，飞行时间和所选的飞行模式。</font></font><br>
<br>
<code>#define MINIMOSD<br>
#define CLEANFLIGHT<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/files/a24/578/7cd/a245787cd08e40d99a5e6f8b59213c6a.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固件和控制器设置</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于固件控制器，我也有一个特殊的USB适配器，但是您可以通过PC连接来实现它。</font><font style="vertical-align: inherit;">长期以来考虑放置Multishot或已经测试过的Oneshot125？</font><font style="vertical-align: inherit;">一方面，过时的F330芯片的速度差异不大，另一方面，当您打开它时，它来自星际大战的音调，正如他们在论坛上所说的那样，是“更清洁的信号”。</font><font style="vertical-align: inherit;">我们解决了所有非个人抱怨，即当连接到CLI时，电动机自发开始以最大速度旋转。</font><font style="vertical-align: inherit;">结果，他安装了最新版本的BLHeli（在构建14.5时），打开了Damped Light，并将Motor Timing设置为Medium。</font><font style="vertical-align: inherit;">随后根据</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">校准调节器</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">飞行控制器固件</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此阶段，由于固件存在问题，我的停留时间最长。原来，您是第一次需要关闭引导触点才能缝制（如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本视频所示</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。顺便说一句，有时会发生PC被写保护的情况，并且无法刷新新固件。这是</font><font style="vertical-align: inherit;">如何修复它</font><font style="vertical-align: inherit;">的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">毫无疑问</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
，当今最受欢迎的固件可能是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cleanflight</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。安装后，仅配置接收器协议就足够了，并且直升机已经可以相当宽容地飞行了。要配置，请使用方便的图形外壳</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cleanflight Configurator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于开放的固件代码，它具有多个分支（分支）。其中最有趣的是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betaflight。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由昵称Boris B的人提供。固件的开发过程非常动态，其某些“功能”随后进入“父级” Cleanflight（例如Airmode飞行模式）。 Betaflight的缺点是发行版本经常发布，并且其稳定性并不总是很高。顺便说一句，这个原因将本文的撰写延迟了几周。在完成直升机组装时，刚刚发布了2.8.0版本，该版本存在两个错误，并且在不友好的默认设置方面有所不同。补丁程序版本2.8.1 RC1很快出现，但是作为程序员的经验告诉我，最好等待发布。我没有失败，因为与2.8.1版本同时发布的时候，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现了Betaflight Configurator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">可以说，这是该固件历史上的一个新阶段。</font><font style="vertical-align: inherit;">事实是，随着Betaflight的发展越来越多，它从Cleanflight移开了，后者的配置程序变得越来越无用，因为大部分设置仍然是通过CLI控制台进行的。</font><font style="vertical-align: inherit;">顺便说一下，在编写本文时，已经发布了Betaflight 2.9.0版，但是由于负面评价，我没有升级到该版本。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下面，我将详细描述如何通过Betaflight Configurator配置我的直升机。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过Betaflight Configurator进行PC设置</font></font></h4><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置标签</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
做了加速度计的校准。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">端口选项卡</font></font></h5><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了使OSD正常工作，它包括用于UART2端口的MSP。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">切勿禁用UART1端口的MSP。</font><font style="vertical-align: inherit;">它与USB并行，并且通过禁用数据传输，您不再通过USB连接器连接到PC。</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/0dc/829/18b/0dc82918b7604d158d4544d3262f7b04.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置选项卡</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，几乎所有设置都在这里进行。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“电路板和传感器对齐”部分中，我指出我的PC沿偏转轴旋转了90度。</font><font style="vertical-align: inherit;">然后可以在“设置”选项卡中检查此参数的正确性。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“接收方模式”中，我选择了RX_PPM。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我选择ONESHOT125作为调节器的协议（我在上面写道，为什么不是MULTISHOT）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再次禁用“未同步的PWM输出”，因为我没有使用MULTISHOT。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了使电动机始终在进给状态下旋转，我关闭了MOTOR_STOP。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用选项“不管油门值如何都撤防电机”，因为我将在单独的通道上撤防电机。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将“最小油门”的值减小到1030。这是主观选择的空转速度。</font></font></li>
<li>  «VBAT»     .     «Battery Voltage»   ,      .      ,     «Voltage Scale».</li>
<li> «Other Features»  BLACKBOX, SUPEREXPO_RATES,   LED_STRIP   AIRMODE.      .</li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/551/eb5/f47/551eb5f47fdc409182fd8907ec6b18e3.png"><br>
<br>
<h5> Failsafe</h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用故障保护，一切都变得比我以前看到的要复杂。</font><font style="vertical-align: inherit;">在专门的论坛上，有时会出现“在接收器或PC上配置故障安全更好的地方？”这一话题。</font><font style="vertical-align: inherit;">实际上，这个问题听起来像是这样的：“在哪里更好地配置故障保护：仅在接收器上还是在接收器和PC上？” </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在任何情况下，都必须在接收器上配置故障保护。</font><font style="vertical-align: inherit;">在这里有必要做一个重要的澄清，我们正在谈论在PPM协议下运行的Frsky D4R-II接收器。</font><font style="vertical-align: inherit;">对于具有S.Bus的接收器，故障保护的配置有所不同。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frsky D4R-II具有三种选择来减少发射机的信号损失：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将模拟操纵杆和开关的预设位置的信号传输到PC（预设位置模式，这在手册中有所描述）</font></font></li>
<li>     ,    ( Hold Last Position)</li>
<li>     ( No Pulse)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
默认情况下，Frsky D4R-II设置为“保持上一个位置”模式，这有助于使设备向远距离飞行。因此，如果仅在接收器上使用故障保护，则需要配置“预设位置”模式。另一件事是，即使有短暂的信号丢失，也会激活故障保护。如果信号在一秒钟后恢复，并且直升机已经使用zadarmi马达并掉落，那将是非常不愉快的。在PC上设置故障安全可以改善这种情况，因为该模式具有延迟的响应，可以用作防止短期信号丢失的滤波器。此外，还有一个可自定义的脚本，如果激活了故障保险，则直升机将根据该脚本执行操作。例如，您可以打开稳定模式并尝试或多或少地轻轻坐着，甚至激活RTH（如果有）。但是实际上，大型GPS设备以及小型和快速设备都需要这样的设备，有经验的飞行员建议不要变得聪明，在丢失信号后关闭引擎。由于飞行速度快，对其他人来说将更安全。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
细微之处在于，如果将接收器设置为“预设位置”或“保持最后位置”，则PC甚至都不知道已发生信号丢失。</font><font style="vertical-align: inherit;">因此，只有在接收器上未设置脉冲的情况下，才能在PC上使用故障保护。</font><font style="vertical-align: inherit;">上睿思凯D4R-II，他按下按钮故障安全建立了短期（小于1秒）</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时，发射器被关闭</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视频指令</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在Failsafe Betaflight Configurator选项卡上，我执行了以下操作：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“通道回退设置”部分中，我设置了需要模拟的发射器开关的值。</font><font style="vertical-align: inherit;">就我而言，我只是打开了AUX3上的squeaker。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">激活的故障安全阶段2。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置故障安全模式激活延迟1秒（“阶段2激活的保护时间...”项中的值10）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置故障保护1秒钟（故障保护油门低延时项中的值10）后，设置电动机的运行时间。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“故障安全过程”中，我选择了“放下”（“放下”）场景，而不是尝试平滑降落（“着陆”）。</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/f38/c3f/7fe/f38c3f7fe3754ce79d53a2806e354d20.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PID调整选项卡</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
配置PID是一个不了解福特的过程。</font><font style="vertical-align: inherit;">首先，有必要对这三个组成部分进行理论理解。</font><font style="vertical-align: inherit;">以下是一些可以帮助您解决此问题的文章：</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直升机的PID（转换）</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于PID控制器</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关PID控制器的更多信息</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Blackbox日志进行PID控制器配置的基础知识（翻译）</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视频</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只是关于PID调整</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我还没有准备好进行这种设置，所以我保留了默认值，因为Betaflight使其也可以随它们一起飞行。</font><font style="vertical-align: inherit;">但是我仍然做了两个更改：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“ PID数学”部分中选择了“浮动”。</font><font style="vertical-align: inherit;">这是Cleanflight的LuxFloat模式接收器，建议仅将其安装在具有F3或F4处理器的PC上。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“导数方法”部分中选择了“测量”。</font><font style="vertical-align: inherit;">简而言之，自由泳是首选MEASUREMENT，赛车是ERROR。</font></font></li>
</ul><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式标签</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我将电机和黑匣子（AUX1）挂在开关上，激活了Horizo​​n飞行模式（AUX2），然后打开了高音扬声器（AUX3）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我也想谈谈AIRMODE。</font><font style="vertical-align: inherit;">最初，它是Betaflight的独特功能，但到了某个时候，它变得如此流行，以致Boris B与Cleanflight的作者共享了该功能，现在该模式也可以使用。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管AIRMODE显示为单独的飞行模式-这实际上是一个附加选项，而不是完整模式。它使直升机能够以最小的气体保持给定的角度。这就是为什么不建议将AIRMODE与稳定模式一起使用的原因。此外，使用AIRMODE着陆也是一个困难的过程：直升机开始像青蛙一样跳跃。经验丰富的飞行员更喜欢简单地“放下”直升机，将电动机关闭到离地面几十厘米的位置。顺便说一句，如果您使引擎在零汽油下停止（“配置”选项卡中的“ MOTOR_STOP”选项）并且AIRMODE同时工作，则由于AIRMODE具有更高的优先级，因此不会出现引擎停止的情况。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betaflight 2.8.1版具有一项新功能：您可以在后台启用AIRMODE（类似于游戏中的被动特权），然后它始终处于活动状态并且不会出现在“模式”选项卡中，或者像以前一样，将其挂起任何渠道。</font><font style="vertical-align: inherit;">这是在配置的“其他功能”选项卡中完成的。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在我的位置，我没有在后台打开AIRMODE，因为我也在使用HORIZON稳定模式。</font><font style="vertical-align: inherit;">因此，我在AUX1上有两种飞行模式：HORIZON（用于稳定降落的飞行）和ACRO + AIRMODE。</font></font><br>
<br>
<img src="https://habrastorage.org/files/054/7c0/af8/0547c0af8bfb4269947b59362f80f433.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED灯条</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我将背光灯设置为显示警告，转弯/刹车指示器，并且在不存在任何这种情况时以蓝色发光。</font></font><br>
<br>
<img src="https://habrastorage.org/files/f05/cd4/6de/f05cd46de9dc4a948c6b4eae3537f037.png"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黑匣子标签</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
黑匣子是直升机的“黑匣子”。</font><font style="vertical-align: inherit;">诊断，更准确的PID设置以及将图表应用于飞行视频是必要的（如此</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">处所示）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">数据被写入外部记录器，或者，如果存储量允许，则写入PC的内部存储器。</font><font style="vertical-align: inherit;">例如，Naze32 Acro缺少此功能，而Naze32 Deluxe和SPRacingF3 Acro则具有足够功能，尽管数量不多。</font><font style="vertical-align: inherit;">在默认设置下，持续3-4分钟的飞行数据可以记录在2MB的内存中，这非常小。</font><font style="vertical-align: inherit;">由于读/写存储器的低速，不可能像车载记录仪那样“圆”地进行记录，这使情况更加恶化。</font><font style="vertical-align: inherit;">唯一的选择是将写入速度降低数倍。</font><font style="vertical-align: inherit;">对于诊断而言，此类数据已经很少用，但对于视频而言，仅此而已。</font><font style="vertical-align: inherit;">在此选项卡中，我执行了以下操作：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我选择在“黑匣子记录设备”部分中写入内部存储器（选项“板载数据闪存芯片”）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“要记录的飞行循环迭代部分”部分中，我选择了50％，这实际上将记录速度降低了一半。</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/files/ac9/adf/181/ac9adf181c9440c5a830e43c3fdc588a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就像我在上面写的那样，日志记录是由硬件上与装甲相同的拨动开关开始的，因此记录是在电动机启动时开始的。</font><font style="vertical-align: inherit;">您可以在</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读有关Blackbox的操作和设置的更多信息</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">还有一些有用的相关链接：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二十</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装黑匣子在Cleanflight</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻译</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“在视频上叠加黑匣子数据”</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻译了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“使用Blackbox日志进行PID控制器配置的基础”一文</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黑匣子设置和使用</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">视频</font></a></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Blackbox Explorer</a>   </li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Blackbox tools</a>    . ,    png</li>
</ul><br>
<br>
<h5> CLI</h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CLI是一个控制台，您可以通过它更改更高级的设置，并制作所有设置的备份副本。</font><font style="vertical-align: inherit;">我做了以下工作：</font><font style="vertical-align: inherit;">
Betaflight还具有通过PC连接到OSD的非常有用的功能。</font><font style="vertical-align: inherit;">现在，您可以将围巾隐藏起来，而不必担心可能需要连接到它。</font><font style="vertical-align: inherit;">要通过PC连接到OSD板，您需要将电池连接到</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i><font style="vertical-align: inherit;">四轴飞行器</font></i></a><font style="vertical-align: inherit;">，然后在CLI中</font><font style="vertical-align: inherit;">使用必要的参数</font><font style="vertical-align: inherit;">键入</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i><font style="vertical-align: inherit;">serialpassthrough</font></i></a><font style="vertical-align: inherit;">，然后从PC断开（断开连接）Betaflight并启动MWOSD。</font><font style="vertical-align: inherit;">我是第一次做。</font><font style="vertical-align: inherit;">至于参数，那么对于连接到UART2的Micro MinimOSD（以我为例），它们如下：</font><font style="vertical-align: inherit;">
完成飞行控制器的配置。</font></font><br>
<br>
<code>set small_angle = 180 #        <br>
set vbat_pid_compensation = ON #   PID   <br>
save #  <br>
</code><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"></font><br>
<br>
<code>serialpassthrough 1 115200<br>
</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发射器设置</font></font></h4><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每个飞行员分别设置一个发射机（又称“远程”）：计时器，混音，语音通知等。唯一需要做的是检查配置器中控制杆的最小值，平均值和最大值。这是在“接收者”选项卡中完成的。理想值为1000-1500-2000。就我而言，它们是996-1508-2020，这不是很好。首先，“超出”范围（值小于1000和大于2000）本身就是不好的。其次，PC会将中心位置（而不是1500）视为易于滑行，它将起作用，并且直升机将不断向某个方向拆除。一言以蔽之，修补并“按需”设置是有意义的。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
显示了如何在Taranis变送器上设置这些值。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。我有Turnigy 9XR PRO，在极限内完成。您也可以通过eePskye程序（“限制”选项卡）进行配置，但这很不方便，因为在Betaflight Configurator中无法立即看到结果。必须为四个控制通道中的每个通道执行此操作。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
调整后，中心值尽可能接近1500，但随着我的出现，它们开始在一个方向或另一个方向上“跳跃”约5个单位。我不知道这与什么有关，很可能遥控器的值对于PC来说是临界点，四舍五入后就可以得到这种效果。为了解决此问题，Betaflight（以及CleanFlight）也有一个特殊的命令来配置对此类事件的过滤。</font></font><br>
<br>
<code>set deadband = 6<br>
</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该值可以在0到32之间，随着其增加，控制灵敏度也会降低。</font><font style="vertical-align: inherit;">管理变得更加软化。</font><font style="vertical-align: inherit;">必须理解的是，经过一定的阈值后，柔软度将变成柔软感，所以我自己选择了消失消失的最小值。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就是这样，好的航班！</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN395487/">https://habr.com/ru/post/zh-CN395487/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN395475/index.html">4x4x4 LED RGB立方体，用于音乐可视化</a></li>
<li><a href="../zh-CN395477/index.html">项目“眼睛”。结束</a></li>
<li><a href="../zh-CN395479/index.html">VR设备比常规屏幕对眼睛更有益</a></li>
<li><a href="../zh-CN395481/index.html">联合创始人KermlinRussia的Smart Ring Nimb出现在Kickstarter上</a></li>
<li><a href="../zh-CN395485/index.html">科学家宣布启动HGP写项目，其最终目标是创建完整的合成人类基因组</a></li>
<li><a href="../zh-CN395489/index.html">乌克兰的一家初创公司提出了无线充电功能，可以在10米的半径内同时为多达8部iPhone充电</a></li>
<li><a href="../zh-CN395491/index.html">Penaudio：真正的芬兰之声</a></li>
<li><a href="../zh-CN395493/index.html">到2035年，俄罗斯将拥有自己的编程语言和量子隐形传态</a></li>
<li><a href="../zh-CN395495/index.html">技术法西斯主义-人类的未来？（不是政治）</a></li>
<li><a href="../zh-CN395497/index.html">历史悠久的传奇计算机</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>