<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯПФя╕П ЁЯИ╕ тЪ▒я╕П "рдореИрдВ рдкрддреНрдерд░ рдирд╣реАрдВ рджреЗрддрд╛" рдпрд╛ "рд╢рд╛рдкрд┐рдд рднреВрдорд┐" рдЦреЗрд▓ рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ ЁЯзЫЁЯП┐ ЁЯСитАНЁЯОи ЁЯС╜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХреНрдпрд╛ рдЖрдк рдХрдИ рд░реВрд╕реА рдЦреЗрд▓реЛрдВ рдХреЛ рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ? рдЧреБрдгрд╡рддреНрддрд╛? рдпрд╛рджрдЧрд╛рд░? рд╣рд╛рдБ, рд╡реЗ рдереЗред рдпрджрд┐ рдЖрдкрдХреА рдЙрдореНрд░ 35 рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ рдпрд╛ рдЖрдк рд░реВрд╕реА рдЦреЗрд▓ рдЙрджреНрдпреЛрдЧ рдХреЗ рдкреНрд░рд╢рдВрд╕рдХ рд╣реИрдВ, рддреЛ рдЖрдк рд╢рд╛рдпрдж рд╢рд╛рдкрд┐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"рдореИрдВ рдкрддреНрдерд░ рдирд╣реАрдВ рджреЗрддрд╛" рдпрд╛ "рд╢рд╛рдкрд┐рдд рднреВрдорд┐" рдЦреЗрд▓ рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434802/"><p><img src="https://habrastorage.org/webt/ry/nk/a_/rynka_dqz5ny9nqgs7gawsw4zxy.jpeg"></p><br><p>  рдХреНрдпрд╛ рдЖрдк рдХрдИ рд░реВрд╕реА рдЦреЗрд▓реЛрдВ рдХреЛ рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ?  рдЧреБрдгрд╡рддреНрддрд╛?  рдпрд╛рджрдЧрд╛рд░?  рд╣рд╛рдБ, рд╡реЗ рдереЗред  рдпрджрд┐ рдЖрдкрдХреА рдЙрдореНрд░ 35 рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ рдпрд╛ рдЖрдк рд░реВрд╕реА рдЦреЗрд▓ рдЙрджреНрдпреЛрдЧ рдХреЗ рдкреНрд░рд╢рдВрд╕рдХ рд╣реИрдВ, рддреЛ рдЖрдк рд╢рд╛рдпрдж рд╢рд╛рдкрд┐рдд рднреВрдорд┐ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВред </p><br><p>  рдХрд╣рд╛рдиреА рдмрд╣реБрдд рд╣реА рдХрд╛рдиреВрдиреА рд░реВрдк рд╕реЗ рд╢реБрд░реВ рд╣реБрдИ: рдЧрд░реНрдореА, рдЧрд░реНрдореАред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рднреА рд╡рд┐рд╢реЗрд╖ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдЬрдм рд▓реИрдкрдЯреЙрдк рдХреА рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдЖрд▓рд╕реА рд░реВрдк рд╕реЗ рдмреНрд░рд╛рдЙрдЬрд╝ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдореЗрд░реЗ рдЯрдХрдЯрдХреА рдиреЗ рдПрдХ рдкрд░рд┐рдЪрд┐рдд рдбреНрд░реИрдЧрди рдЖрдЗрдХрди рдХреЗ рд╕рд╛рде рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рдкрдХрдбрд╝ рд▓рд┐рдпрд╛ рдЬреЛ рдХреБрдЫ рд╡рд░реНрд╖реЛрдВ рд╕реЗ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдерд╛ред </p><br><p>  рдЦреЗрд▓ рдХреЗ рдкреНрд░рд╢рдВрд╕рдХ рдХреЛ рдпрд╣ рдЬрд╛рдирдиреЗ рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдкреА рдирд╣реАрдВ рд╣реЛрдЧреА рдХрд┐ рдЕрдВрджрд░ рдХреНрдпрд╛ рд╣реИ? </p><a name="habracut"></a><br><h1 id="vvedenie">  рдкрд░рд┐рдЪрдп </h1><br><h2 id="informaciya-ob-igre">  рдЦреЗрд▓ рдХреА рдЬрд╛рдирдХрд╛рд░реА </h2><br><p>  <strong>рд╢рд╛рдкрд┐рдд рднреВрдорд┐</strong> - рдпрд╛, рдЬреИрд╕рд╛ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рд╕реАрдЖрдИрдПрд╕, <strong>рдПрд╡рд┐рд▓ рдЖрдЗрд▓реИрдВрдбреНрд╕ рдХреЗ</strong> рдмрд╛рд╣рд░ рдмреБрд▓рд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ <strong>: рд▓рд╛рдирдд рдЖрддреНрдорд╛ рдХрд╛ рдЕрднрд┐рд╢рд╛рдк</strong> , 2000 рдореЗрдВ рдЬрд╛рд░реА рдПрдХ рдЪреБрдкрдХреЗ-рдЖрд░рдкреАрдЬреА рдЧреЗрдоред  рдЦреЗрд▓ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдирд┐рд╡рд▓ рдЗрдВрдЯрд░рдПрдХреНрдЯрд┐рд╡ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдЙрд╕ рд╕рдордп рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрд▓реЛрдбрд╛ рдЧреЗрдореНрд╕ (рд╡рд┐рджреЗрд╢реЛрдВ рдореЗрдВ рд░реЗрдЬ рдСрдл рдореИрдЬреЗрд╕) рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛ рдЪреБрдХрд╛ рдерд╛ред  рдореЙрд╕реНрдХреЛ рд╕реНрдЯреЗрдЯ рдпреВрдирд┐рд╡рд░реНрд╕рд┐рдЯреА рдХреЗ рдЬреНрдпрд╛рджрд╛рддрд░ рд╕реНрдирд╛рддрдХ рдЗрд╕рдореЗрдВ рдХрд╛рдо рдХрд░рддреЗ рдереЗ - рд╡реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рддреАрди рдЖрдпрд╛рдореА рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рд╛рде рдкрд╣рд▓реЗ рдЦреЗрд▓реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЛ рд╕рд╛рдХрд╛рд░ рдХрд░рдиреЗ рдореЗрдВ рдХрд╛рдлреА рд╕рдХреНрд╖рдо рдереЗред <br>  2010 рдореЗрдВ, Mail.Ru ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реВрдЪрдирд╛</a> ) рдиреЗ рд╢реАрд░реНрд╖рдХ рдХреЛ рдирд╛рдо рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдЦреЗрд▓ рдЕрднреА рднреА Nival рдХреА рдУрд░ рд╕реЗ GOG рд╕реНрдЯреЛрд░ рдореЗрдВ рдмреЗрдЪрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред </p><br><p>  рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╣рд╛рд▓ рд╣реА рдореЗрдВ, рдЦреЗрд▓ 18 рд╕рд╛рд▓ рдХрд╛ рд╣реЛ рдЧрдпрд╛ - рдЬрдиреНрдорджрд┐рди 26 рдЕрдХреНрдЯреВрдмрд░ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╕реАрдЖрдИрдПрд╕ рдореЗрдВ рд░рд┐рд▓реАрдЬ рдХреА рддрд╛рд░реАрдЦред  рдЙрдореНрд░ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдорд╛рд╕реНрдЯрд░ рд╕рд░реНрд╡рд░ рдЕрднреА рднреА рд╕реЗрд╡рд╛ рдореЗрдВ рд╣реИ: рд╕рдордп-рд╕рдордп рдкрд░, рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ рдЧреАрдкрд╛рдЯ рдХреЗ рдЬрдВрдЧрд▓реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрд░реЙрд▓ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╕рд╛рдерд┐рдпреЛрдВ рдХреЗ рдПрдХ рджрд╕реНрддреЗ рдХреЗ рд╕рд╛рде рдПрдХ рджрд░реНрдЬрди рдпрд╛ рджреЛ рдХрдВрдХрд╛рд▓реЛрдВ рдХреЛ рдорд╛рд░рддрд╛ рд╣реИред </p><br><h2 id="korotko-o-state">  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рд▓реЗрдЦ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </h2><br><p>  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдореЗрд░рд╛ рд▓рдХреНрд╖реНрдп рдХреЗрд╡рд▓ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдкрд╛рдпрдерди 3 рдореЗрдВ "рдЦреБрдж рдХреЗ рд▓рд┐рдП" рдПрдХ рддрд░рдлрд╝рд╛ рдХрдирд╡рд░реНрдЯрд░ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдерд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ, рд╕реНрд╡рд░реВрдкреЛрдВ рдкрд░ рдкреНрд░рд▓реЗрдЦрди рд╕реБрдЪрд╛рд░реВ рд░реВрдк рд╕реЗ рд╢реБрд░реВ рд╣реБрдЖ, рдХрд┐рд╕реА рддрд░рд╣ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдорд╛рдирдХреАрдХреГрдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд┐рдпрд╛ рдЧрдпрд╛ред  рдХреБрдЫ рдкреНрд░рд╛рд░реВрдкреЛрдВ рдХреЗ рд▓рд┐рдП, рд╕рдВрд░рдЪрдирд╛ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреИрддрд╛рдИ</a> рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдирддреАрдЬрддрди, рд╕рдм рдХреБрдЫ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рд▓реЗрдЦрди рдФрд░ рдкреНрд░рд╛рд░реВрдкреЛрдВ рдореЗрдВ рд╡рд┐рдХреА рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╣реБрдЖред </p><br><p>  рдореИрдВ рддреБрд░рдВрдд рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ: рдЕрдзрд┐рдХрд╛рдВрд╢ рднрд╛рдЧ рдХреЗ рд▓рд┐рдП, рдЧреЗрдо рдлрд╝рд╛рдЗрд▓реЛрдВ рдкрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╢реЛрдз рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЙрдирдХреЗ рд▓рд┐рдП рдкреНрд░рд╢рдВрд╕рдХ рд╕рдВрдкрд╛рджрдХреЛрдВ рдХреЛ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЬрд╛рдирдХрд╛рд░реА рдмреЗрд╣рдж рдЦрдВрдбрд┐рдд рд╣реИ, рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдбреЛрдореЗрди рдореЗрдВ рд╕реНрд╡рд░реВрдкреЛрдВ рдХрд╛ рдЕрдзрд┐рдХ рдпрд╛ рдХрдо рдкреВрд░реНрдг рд╡рд┐рд╡рд░рдг рдирд╣реАрдВ рд╣реИ, рдФрд░ рди рд╣реА рд╕рдВрд╢реЛрдзрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╕реЗрдЯ рд╣реИред </p><br><h2 id="i-o-tom-kak-eyo-chitat">  ... рдФрд░ рдЗрд╕реЗ рдХреИрд╕реЗ рдкрдврд╝рд╛ рдЬрд╛рдП </h2><br><p>  рд╕рднреА рд╕реНрд╡рд░реВрдкреЛрдВ рдХреЗ рд▓рд┐рдП рдпреЛрдЬрдирд╛рдПрдВ (.ksy рдлрд╛рдЗрд▓реЗрдВ) рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдХрдИ рд▓реЛрдХрдкреНрд░рд┐рдп рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рдХреЛрдб рдореЗрдВ рджреЛ-рдХреНрд▓рд┐рдХ рдХреЛрдб рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕ рд▓реЗрдЦ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреЗ рдЕрдВрддрд┐рдо рдЪрд░рдгреЛрдВ рдореЗрдВ, рдореИрдВрдиреЗ рдкрд╛рдпрд╛ рдХрд┐ рд╕рдореНрдорд╛рдирд┐рдд рд╣рдмрд░ YAML (рдФрд░ JSON) рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИ, рдФрд░ рд╕рднреА рдпреЛрдЬрдирд╛рдПрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИрдВред  рдпрд╣ рдПрдХ рдмрдбрд╝реА рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЗрд╕ рдпреЛрдЬрдирд╛ рдХреЛ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, рддреЛ рдореИрдВ рдЖрдкрдХреЛ рдХрд┐рд╕реА рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рд╕рдВрдкрд╛рджрдХ рдХреЛ рдХреЙрдкреА рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗ рд╕рдХрддрд╛ рд╣реВрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдирдкреАрдкреАред </p><br><h1 id="resursy-i-gde-oni-obitayut">  рд╕рдВрд╕рд╛рдзрди рдФрд░ рд╡реЗ рдХрд╣рд╛рдБ рд░рд╣рддреЗ рд╣реИрдВ </h1><br><p>  рдЦреЗрд▓ рдПрдХ рдкреЛрд░реНрдЯреЗрдмрд▓ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЗрдВрдЬрди рд╣реЛрддрд╛ рд╣реИ, рдПрдХ рд▓рд╛рдВрдЪрд░ рдФрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдкреИрдХ рдХрд┐рдП рдЧрдП рд╕рдВрд╕рд╛рдзрдиред </p><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> рдЦреЗрд▓ рдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд▓рдЧрднрдЧ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВред  рдЬреАрдУрдЬреА рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рдХреИрдорд░рд╛ рдмрдЧ рдЗрд╕ рддрдереНрдп рдХреЗ рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдЗрдВрд╕реНрдЯреЙрд▓рд░ рд╕рд╣реА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рдиреЛрдВ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </blockquote><p>  рдЧреЗрдо рдлрд╝реЛрд▓реНрдбрд░ рдХреА рд╕рд╛рдордЧреНрд░реА рдкрд░ рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ, рд╣рдо рддреБрд░рдВрдд рдирдП рдлрд╝рд╛рдЗрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рдПрдХ рдЬреЛрдбрд╝реЗ рдХреЛ рдиреЛрдЯрд┐рд╕ рдХрд░рддреЗ рд╣реИрдВ: рдПрдПрд╕рдЖрдИ рдФрд░ рдЖрд░рдИрдЬреАред <br>  рдкрд╣рд▓рд╛ рдПрдХ рдЧрддрд┐рд╢реАрд▓ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╣реИ, рдЬрд┐рд╕ рдкрд░ рд╣рдо рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ (рдпрд╣ рд░рд┐рд╡рд░реНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдореЗрдВ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮреЛрдВ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ), рд▓реЗрдХрд┐рди рджреВрд╕рд░рд╛ рдЦреЗрд▓ рдХрд╛ рдкрд╣рд▓рд╛ рдорд╛рд▓рд┐рдХрд╛рдирд╛ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рд╣реИред </p><br><h2 id="reg">  REG </h2><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдлрд╛рдЗрд▓реЗрдВ рдЬрд╛рдиреЗ-рдорд╛рдиреЗ рдЯреЗрдХреНрд╕реНрдЯ INI рдлрд╛рдЗрд▓реЛрдВ рдХреА рдмрд╛рдЗрдирд░реА рдХреНрд░рдордмрджреНрдзрддрд╛ рд╣реИрдВред <br>  рд╕рд╛рдордЧреНрд░реА рдХреЛ рдХреБрдВрдЬреА рдФрд░ рдЙрдирдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЦрдВрдбреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдПрдХ рдЖрд░рдИрдЬреА рдлрд╝рд╛рдЗрд▓ рдЗрд╕ рдкрджрд╛рдиреБрдХреНрд░рдо рдХреЛ рдмрд░рдХрд░рд╛рд░ рд░рдЦрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдбреЗрдЯрд╛ рдХреЛ рдкрдврд╝рдиреЗ рдФрд░ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреА рдЧрддрд┐ - 2000 рдореЗрдВ, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдерд╛ред </p><br><p>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЖрдк рдЗрд╕ рдЖрд░реЗрдЦ рдХреА рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><img src="https://habrastorage.org/webt/yh/se/fo/yhsefo2h5nxp0ghwse2zla8cmv0.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre><code class="plaintext hljs">meta: id: reg title: Evil Islands, REG file (packed INI) application: Evil Islands file-extension: reg license: MIT endian: le doc: Packed INI file seq: - id: magic contents: [0xFB, 0x3E, 0xAB, 0x45] doc: Magic bytes - id: sections_count type: u2 doc: Number of sections - id: sections_offsets type: section_offset doc: Sections offset table repeat: expr repeat-expr: sections_count types: section_offset: doc: Section position in file seq: - id: order type: s2 doc: Section order number - id: offset type: u4 doc: Global offset of section in file instances: section: pos: offset type: section types: section: doc: Section representation seq: - id: keys_count type: u2 doc: Number of keys in section - id: name_len type: u2 doc: Section name lenght - id: name type: str encoding: cp1251 size: name_len doc: Section name - id: keys type: key doc: Section's keys repeat: expr repeat-expr: keys_count types: key: doc: Named key seq: - id: order type: s2 doc: Key order in section - id: offset type: u4 doc: Key offset in section instances: key_record: pos: _parent._parent.offset + offset type: key_data key_data: seq: - id: packed_type type: u1 doc: Key value info - id: name_len type: u2 doc: Key name lenght - id: name type: str encoding: cp1251 size: name_len doc: Key name - id: value type: value doc: Key value instances: is_array: value: packed_type &gt; 127 doc: Is this key contain array value_type: value: packed_type &amp; 0x7F doc: Key value type types: value: doc: Key value seq: - id: array_size type: u2 if: _parent.is_array doc: Value array size - id: data type: switch-on: _parent.value_type cases: 0: s4 1: f4 2: string repeat: expr repeat-expr: '_parent.is_array ? array_size : 1' doc: Key value data string: doc: Sized string seq: - id: len type: u2 doc: String lenght - id: value type: str encoding: cp1251 size: len doc: String</code> </pre> </div></div><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> 2002 рдореЗрдВ, рдирд┐рд╡рд▓ рдиреЗ рдЦреЗрд▓ рдХреЗ рд╕рдореБрджрд╛рдп ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://web.archive.org/web/20020610194020/">рд╕рд╛рдЗрдЯ рд╕реНрдиреИрдкрд╢реЙрдЯ</a> ) рдХреЗ рд╕рд╛рде рдХреБрдЫ рдЙрдкрдХрд░рдг рд╕рд╛рдЭрд╛ рдХрд┐рдП - рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рд░реАрдВрдЧ рдореЗрдВ рдЖрдИрдПрдирдЖрдИ рд╕реАрд░рд┐рдпрд▓рд╛рдЗрдЬрд╝рд░ рдерд╛ред  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдПрдХ рдбрд┐рд╕реЗрд░рд┐рдПрд▓рд╛рдЗрдЬрд╝рд░ рд▓рдЧрднрдЧ рддреБрд░рдВрдд рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛, рднрд▓реЗ рд╣реА рд╡рд╣ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рди рд╣реЛред </blockquote><p>  рдкреНрд░рд╛рд░рдВрдн рдлрд╝реЛрд▓реНрдбрд░ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде, рдЪрд▓реЛ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдкрд░ рдЪрд▓рддреЗ рд╣реИрдВред <br>  рдкрд╣рд▓реА рдирдЬрд╝рд░ рд╕реАрдПрдПрдо рдлрд╝рд╛рдЗрд▓реЛрдВ рд╡рд╛рд▓реЗ рдХреИрдорд░рд╛ рдлрд╝реЛрд▓реНрдбрд░ рдкрд░ рдкрдбрд╝рддреА рд╣реИред </p><br><h2 id="cam">  рд╕реАрдПрдПрдо </h2><br><p>  рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ рдкреНрд░рд╛рд░реВрдк рдмрд╕ рд╕рдордп рдХреЗ рд╕рд╛рде рдХреИрдорд░реЛрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдкреИрдХ рдХрд░ рд░рд╣рд╛ рд╣реИред  рдХреИрдорд░рд╛ рд╕реНрдерд┐рддрд┐ рдФрд░ рд░реЛрдЯреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдгрд┐рдд рд╣реИред  рдЕрдиреНрдп рджреЛ рдХреНрд╖реЗрддреНрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЖрдВрджреЛрд▓рдиреЛрдВ рдХреЗ рдЕрдиреБрдХреНрд░рдо рдореЗрдВ рд╕рдордп рдФрд░ рдХрджрдо рд╣реИрдВред </p><br><p><img src="https://habrastorage.org/webt/cu/8u/bj/cu8ubjrcz2pode-v3lydliwrvsq.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: cam title: Evil Islands, CAM file (cameras) application: Evil Islands file-extension: cam license: MIT endian: le doc: Camera representation seq: - id: cams type: camera repeat: eos types: vec3: doc: 3d vector seq: - id: x type: f4 doc: x axis - id: y type: f4 doc: y axis - id: z type: f4 doc: z axis quat: doc: quaternion seq: - id: w type: f4 doc: w component - id: x type: f4 doc: x component - id: y type: f4 doc: y component - id: z type: f4 doc: z component camera: doc: Camera parameters seq: - id: unkn0 type: u4 doc: unknown - id: unkn1 type: u4 doc: unknown - id: position type: vec3 doc: camera's position - id: rotation type: quat doc: camera's rotation</code> </pre> </div></div><br><p>  рдЕрдЧрд▓реЗ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ - Res, (рдЕрдирдкреЗрдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ!) RES рдлрд╝рд╛рдЗрд▓реЗрдВ рдЬреЛ рд╕рдВрдЧреНрд░рд╣ рд╣реИрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИрдВред </p><br><h2 id="res">  рдЖрд░рдИрдПрд╕ </h2><br><p>  рдпрд╣ рдкреНрд░рд╛рд░реВрдк рдХрднреА-рдХрднреА рдЕрдиреНрдп рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЗ рддрд╣рдд рдЫрд┐рдкрд╛ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореВрд▓ рдЕрднреА рднреА RES рд╣реИред <br>  рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд╣реБрдБрдЪ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдмрд╣реБрдд рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╣реИ: рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рдЕрдВрджрд░, рдирд╛рдореЛрдВ рдХреА рдПрдХ рддрд╛рд▓рд┐рдХрд╛, рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддрд╛рд▓рд┐рдХрд╛рдУрдВ рд╣реИрдВред <br>  рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рдВрд░рдЪрдирд╛ рд╕реАрдзреЗ рдирд╛рдореЛрдВ рдореЗрдВ рдирд┐рд╣рд┐рдд рд╣реИред </p><br><p>  рдпрд╣ рджреЛ рдмреЗрд╣рдж рджрд┐рд▓рдЪрд╕реНрдк рддрдереНрдп рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ: </p><br><ol><li>  рдмрдВрдж рд╣реИрд╢рд┐рдВрдЧ рдХреЗ рд╕рд╛рде рд▓рд┐рдВрдХ рдХреА рдЧрдИ рд╕реВрдЪреА рдореЗрдВ рдлрд╝рд╛рдЗрд▓ рдЬрд╛рдирдХрд╛рд░реА рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </li><li>  рдЖрдк рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдПрдХ рдмрд╛рд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рд╡рд┐рднрд┐рдиреНрди рдирд╛рдореЛрдВ рдХреЗ рддрд╣рдд рджреЗрдЦреЗрдВред  рдЬрд╣рд╛рдВ рддрдХ тАЛтАЛрдореБрдЭреЗ рдкрддрд╛ рд╣реИ, рдЗрд╕ рддрдереНрдп рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдПрдХ рдлреИрди рд░рд┐рдкреИрдХ рдореЗрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд╣рд╛рдВ рдЗрд╕ рд╡рдЬрд╣ рд╕реЗ рдЦреЗрд▓ рдХрд╛ рдЖрдХрд╛рд░ рдмрд╣реБрдд рдХрдо рд╣реЛ рдЧрдпрд╛ рдерд╛ред  рдореВрд▓ рд╡рд┐рддрд░рдг рдореЗрдВ, рд╕рдВрдЧреНрд░рд╣ рдЕрдиреБрдХреВрд▓рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </li></ol><br><p><img src="https://habrastorage.org/webt/_9/ie/8_/_9ie8_m0lc_b1n0ddnagkue514g.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: res title: Evil Islands, RES file (resources archive) application: Evil Islands file-extension: res license: MIT endian: le doc: Resources archive seq: - id: magic contents: [0x3C, 0xE2, 0x9C, 0x01] doc: Magic bytes - id: files_count type: u4 doc: Number of files in archive - id: filetable_offset type: u4 doc: Filetable offset - id: nametable_size type: u4 doc: Size of filenames instances: nametable_offset: value: filetable_offset + 22 * files_count doc: Offset of filenames table filetable: pos: filetable_offset type: file_record repeat: expr repeat-expr: files_count doc: Files metadata table types: file_record: doc: File metadata seq: - id: next_index type: s4 doc: Next file index - id: file_size type: u4 doc: Size of file in bytes - id: file_offset type: u4 doc: File data offset - id: last_change type: u4 doc: Unix timestamp of last change time - id: name_len type: u2 doc: Lenght of filename - id: name_offset type: u4 doc: Filename offset in name array instances: name: io: _root._io pos: name_offset + _parent.nametable_offset type: str encoding: cp1251 size: name_len doc: File name data: io: _root._io pos: file_offset size: file_size doc: Content of file</code> </pre> </div></div><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> рдЦреЗрд▓ рдХреЗ рд░реВрд╕реА рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, Speech.res рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рджреЛ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ рд╣реИрдВ рдФрд░ рдкреВрд░реА рддрд░рд╣ рд╕рдорд╛рди рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рд╣реИрдВ, рдпрд╣реА рд╡рдЬрд╣ рд╣реИ рдХрд┐ рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЖрдХрд╛рд░ рджреЛ рдмрд╛рд░ рдмрдбрд╝рд╛ рд╣реИ - рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рдЦреЗрд▓ рдПрдХ рд╕реАрдбреА рдкрд░ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред </blockquote><p>  рдЕрдм рдЖрдк рд╕рднреА рдЕрднрд┐рд▓реЗрдЦреЛрдВ рдХреЛ рдЦреЛрд▓ рд╕рдХрддреЗ рд╣реИрдВ (рдиреЗрд╕реНрдЯреЗрдб рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ): </p><br><ul><li>  рдЖрд░рдИрдПрд╕ рд╕рд┐рд░реНрдл рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИ, </li><li>  MPR - рдЦреЗрд▓ рд╕реНрддрд░реЛрдВ рдХрд╛ рдкрд░рд┐рджреГрд╢реНрдп, </li><li>  MQ - рдорд▓реНрдЯреАрдкреНрд▓реЗрдпрд░ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА, </li><li>  рдПрдПрдирдПрдо - рдПрдирд┐рдореЗрд╢рди рдХрд╛ рдПрдХ рд╕реЗрдЯ, </li><li>  MOD - 3 рдбреА рдореЙрдбрд▓, </li><li>  рдмреЙрди - рдореЙрдбрд▓ рд╣рдбреНрдбрд┐рдпреЛрдВ рдХрд╛ рд╕реНрдерд╛рдиред </li></ul><br><p>  рдпрджрд┐ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рдЕрдВрджрд░ рдХреА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдирд╣реАрдВ рд╣реИ, рддреЛ рд╣рдо BON рдФрд░ ANM рдЕрднрд┐рд▓реЗрдЦрд╛рдЧрд╛рд░ рдХреЗ рд▓рд┐рдП рдореВрд▓ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдбрд╛рд▓ рджреЗрдВрдЧреЗред </p><br><p>  рдЖрдк рд╕рднреА рдкреНрд░рд╛рдкреНрдд рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЪрд╛рд░ рд╕рдореВрд╣реЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ol><li>  рдмрдирд╛рд╡рдЯ; </li><li>  рдбреЗрдЯрд╛рдмреЗрд╕; </li><li>  рдореЙрдбрд▓; </li><li>  рд╕реНрддрд░ рдХреА рдлрд╛рдЗрд▓реЗрдВред </li></ol><br><p>  рдЖрдЗрдП рд╕рд░рд▓ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ - рдмрдирд╛рд╡рдЯ рдХреЗ рд╕рд╛рдеред </p><br><h2 id="mmp">  рдПрдордПрдордкреА </h2><br><p>  рджрд░рдЕрд╕рд▓, рдмрдирд╛рд╡рдЯред  рдЗрд╕рдореЗрдВ рдПрдХ рдЫреЛрдЯрд╛ рд╢реАрд░реНрд╖рдХ рд╣реИ рдЬреЛ рдЫрд╡рд┐ рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрддрд╛ рд╣реИ, рдПрдордЖрдИрдкреА рд╕реНрддрд░реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрдкреАрдбрд╝рдиред  рд╣реЗрдбрд░ рдХреЗ рдмрд╛рдж рдЖрдХрд╛рд░ рдХрдо рдХрд░рдиреЗ рдореЗрдВ рдПрдордЖрдИрдкреА рдЫрд╡рд┐ рдХрд╛ рд╕реНрддрд░ рд╣реЛрддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/a7/1s/-r/a71s-rtar5cg6ipi53n86bbsxps.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: mmp title: Evil Islands, MMP file (texture) application: Evil Islands file-extension: mmp license: MIT endian: le doc: MIP-mapping texture seq: - id: magic contents: [0x4D, 0x4D, 0x50, 0x00] doc: Magic bytes - id: width type: u4 doc: Texture width - id: height type: u4 doc: Texture height - id: mip_levels_count type: u4 doc: Number of MIP-mapping stored levels - id: fourcc type: u4 enum: pixel_formats doc: FourCC label of pixel format - id: bits_per_pixel type: u4 doc: Number of bits per pixel - id: alpha_format type: channel_format doc: Description of alpha bits - id: red_format type: channel_format doc: Description of red bits - id: green_format type: channel_format doc: Description of green bits - id: blue_format type: channel_format doc: Description of blue bits - id: unused size: 4 doc: Empty space - id: base_texture type: switch-on: fourcc cases: 'pixel_formats::argb4': block_custom 'pixel_formats::dxt1': block_dxt1 'pixel_formats::dxt3': block_dxt3 'pixel_formats::pnt3': block_pnt3 'pixel_formats::r5g6b5': block_custom 'pixel_formats::a1r5g5b5': block_custom 'pixel_formats::argb8': block_custom _: block_custom types: block_pnt3: seq: - id: raw size: _root.bits_per_pixel block_dxt1: seq: - id: raw size: _root.width * _root.height &gt;&gt; 1 block_dxt3: seq: - id: raw size: _root.width * _root.height block_custom: seq: - id: lines type: line_custom repeat: expr repeat-expr: _root.height types: line_custom: seq: - id: pixels type: pixel_custom repeat: expr repeat-expr: _root.width types: pixel_custom: seq: - id: raw type: switch-on: _root.bits_per_pixel cases: 8: u1 16: u2 32: u4 instances: alpha: value: '_root.alpha_format.count == 0 ? 255 : 255 * ((raw &amp; _root.alpha_format.mask) &gt;&gt; _root.alpha_format.shift) / (_root.alpha_format.mask &gt;&gt; _root.alpha_format.shift)' red: value: '255 * ((raw &amp; _root.red_format.mask) &gt;&gt; _root.red_format.shift) / (_root.red_format.mask &gt;&gt; _root.red_format.shift)' green: value: '255 * ((raw &amp; _root.green_format.mask) &gt;&gt; _root.green_format.shift) / (_root.green_format.mask &gt;&gt; _root.green_format.shift)' blue: value: '255 * ((raw &amp; _root.blue_format.mask) &gt;&gt; _root.blue_format.shift) / (_root.blue_format.mask &gt;&gt; _root.blue_format.shift)' channel_format: doc: Description of bits for color channel seq: - id: mask type: u4 doc: Binary mask for channel bits - id: shift type: u4 doc: Binary shift for channel bits - id: count type: u4 doc: Count of channel bits enums: pixel_formats: 0x00004444: argb4 0x31545844: dxt1 0x33545844: dxt3 0x33544E50: pnt3 0x00005650: r5g6b5 0x00005551: a1r5g5b5 0x00008888: argb8</code> </pre> </div></div><br><p>  рд╕рдВрднрд╡ рдкрд┐рдХреНрд╕реЗрд▓ рдкреИрдХреЗрдЬрд┐рдВрдЧ рдкреНрд░рд╛рд░реВрдк: </p><br><table><thead><tr><th>  FourCC </th><th>  рд╡рд┐рд╡рд░рдг </th></tr></thead><tbody><tr><td>  рекрек рекрек режреж режреж </td><td>  ARGB4 </td></tr><tr><td>  рекрек рел релрек рейрез </td><td>  DXT1 </td></tr><tr><td>  рекрек рел релрек рейрей </td><td>  DXT3 </td></tr><tr><td>  50 4 рдИ 54 33 </td><td>  PNT3 - RLE рд╕рдВрдкреАрдбрд╝рд┐рдд ARGB8 </td></tr><tr><td>  релреж релрем режреж режреж </td><td>  R5G5B5 </td></tr><tr><td>  релрез релрел режреж режреж </td><td>  A1R5G5B5 </td></tr><tr><td>  88 88 00 00 </td><td>  ARGB8 </td></tr></tbody></table><br><div class="spoiler">  <b class="spoiler_title">PNT3 рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</b> <div class="spoiler_text"><p>  рдпрджрд┐ рдЫрд╡рд┐ рдкреНрд░рд╛рд░реВрдк <strong>PNT3 рд╣реИ</strong> , рддреЛ <strong>рдЕрдирдкреИрдХрд┐рдВрдЧ рдХреЗ</strong> рдмрд╛рдж рдкрд┐рдХреНрд╕реЗрд▓ рд╕рдВрд░рдЪрдирд╛ ARGB8 рд╣реИ;  <code>bits_per_pixel</code> - рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рд╕рдВрдХреБрдЪрд┐рдд рдЫрд╡рд┐ рдХрд╛ рдЖрдХрд╛рд░ред </p><br><h4 id="raspakovka-pnt3">  PNT3 рдХреЛ рдЕрдирдкреИрдХ рдХрд░рдирд╛ </h4><br><pre> <code class="python hljs">n = <span class="hljs-number"><span class="hljs-number">0</span></span> destination = <span class="hljs-string"><span class="hljs-string">b""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> src &lt; size: v = int.from_bytes(source[src:src + <span class="hljs-number"><span class="hljs-number">4</span></span>], byteorder=<span class="hljs-string"><span class="hljs-string">'little'</span></span>) src += <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> v &gt; <span class="hljs-number"><span class="hljs-number">1000000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> v == <span class="hljs-number"><span class="hljs-number">0</span></span>: n += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: destination += source[src - (<span class="hljs-number"><span class="hljs-number">1</span></span> + n) * <span class="hljs-number"><span class="hljs-number">4</span></span>:src - <span class="hljs-number"><span class="hljs-number">4</span></span>] destination += <span class="hljs-string"><span class="hljs-string">b"\x00"</span></span> * v n = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> </div></div><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> рдХреБрдЫ рдмрдирд╛рд╡рдЯ рд▓рдВрдмрд╡рдд рдкрд░рд┐рд▓рдХреНрд╖рд┐рдд рд╣реЛрддреА рд╣реИрдВ (рдпрд╛ рдХреБрдЫ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВ?)ред <br>  рдФрд░ рдЦреЗрд▓ рдкрд╛рд░рджрд░реНрд╢рд┐рддрд╛ рд╕реЗ рдмрд╣реБрдд рдИрд░реНрд╖реНрдпрд╛ рдХрд░рддрд╛ рд╣реИ - рдЕрдЧрд░ рдЫрд╡рд┐ рдПрдХ рдЕрд▓реНрдлрд╛ рдЪреИрдирд▓ рдХреЗ рд╕рд╛рде рд╣реИ, рддреЛ рдкрд╛рд░рджрд░реНрд╢реА рдкрд┐рдХреНрд╕реЗрд▓ рдХрд╛ рд░рдВрдЧ рдмрд┐рд▓реНрдХреБрд▓ рдХрд╛рд▓рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╛ рд╕рдлреЗрдж - рдпрд╣ рдХрд┐рддрдирд╛ рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рд╣реИред </blockquote><p>  рд╕рд░рд▓ рдкреНрд░рд╛рд░реВрдк рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдП рд╣реИрдВ, рдЖрдЗрдП рдЕрдзрд┐рдХ рдХрдареЛрд░ рд▓реЛрдЧреЛрдВ рдХреЛ рдЖрдЧреЗ рдмрдврд╝рд╛рдПрдВ - рдПрдХ рд╕рдордп рдореЗрдВ, рдореЙрдб рдирд┐рд░реНрдорд╛рддрд╛рдУрдВ рдХреЗ рд░реИрдВрдХ рдиреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╛рд░реВрдкреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рд╕рдВрдкрд╛рджрди рдЯреВрд▓ рдХреЛ рдХреНрд░реБрджреНрдз рдХрд┐рдпрд╛, рдФрд░ рд╡реНрдпрд░реНрде рдирд╣реАрдВред  рдореИрдВрдиреЗ рдЖрдкрдХреЛ рдЪреЗрддрд╛рд╡рдиреА рджреА рдереАред </p><br><h2 id="bazy-dannyh-db-i-izhe-s-nimi">  рдбреЗрдЯрд╛рдмреЗрд╕ (* DB рдФрд░ рдЕрдиреНрдп) </h2><br><p>  рдпрд╣ рдкреНрд░рд╛рд░реВрдк рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рдж рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ - рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдпрд╣ рдиреЛрдбреНрд╕ (рдпрд╛ рд░рд┐рдХреЙрд░реНрдб рдЯреЗрдмрд▓) рдХрд╛ рдХреНрд░рдордмрджреНрдз рдкреЗрдбрд╝ рд╣реИред  рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдлрд╝реАрд▓реНрдб рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрдИ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд╣реЛрддреЗ рд╣реИрдВред  рд╕рд╛рдорд╛рдиреНрдп рд╕рдВрд░рдЪрдирд╛: рдЯреЗрдмрд▓ рдХреЛ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп "рд░реВрдЯ" рдиреЛрдб рдореЗрдВ рдиреЗрд╕реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд░рд┐рдХреЙрд░реНрдбреНрд╕ рдПрдХ рдЯреЗрдмрд▓ рдХреЗ рдЕрдВрджрд░ рдиреЛрдб рд╣реЛрддреЗ рд╣реИрдВред </p><br><p>  рдкреНрд░рддреНрдпреЗрдХ рдиреЛрдб рдореЗрдВ, рдЗрд╕рдХрд╛ рдкреНрд░рдХрд╛рд░ рдФрд░ рдЖрдХрд╛рд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реИ: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> type_index; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> raw_size; <span class="hljs-comment"><span class="hljs-comment">//      unsigned length; //     read(raw_size); if (raw_size &amp; 1) { length = raw_size &gt;&gt; 1; for (int i = 0; i &lt; 3; i++) length &lt;&lt;= 8; read(raw_size); length += raw_size; } else length = raw_size &gt;&gt; 1;</span></span></code> </pre> <br><p>  рддрд╛рд▓рд┐рдХрд╛ рдлрд╝реАрд▓реНрдб рдХрд╛ рдкреНрд░рдХрд╛рд░ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рд░реВрдк рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╕реЗ рд╕реВрдЪрдХрд╛рдВрдХ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкреНрд░рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдореВрд▓реНрдп рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддрд╛ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдлрд╝реАрд▓реНрдб рдкреНрд░рдХрд╛рд░</b> <div class="spoiler_text"><table><thead><tr><th>  рдкрдж </th><th>  рд╡рд┐рд╡рд░рдг </th></tr></thead><tbody><tr><td>  рдПрд╕ </td><td>  рддрд╛рд░ </td></tr><tr><td>  рдореИрдВ </td><td>  4 рдмреА рдЗрдВрдЯ </td></tr><tr><td>  рдпреВ </td><td>  4 рдмреА рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд </td></tr><tr><td>  рдПрдл </td><td>  4 рдмреА рдлреНрд▓реЛрдЯ </td></tr><tr><td>  рдПрдХреНрд╕ </td><td>  рдмрд┐рдЯреНрд╕ рдмрд╛рдЗрдЯ </td></tr><tr><td>  рдЪ </td><td>  рдлреНрд▓реЛрдЯ рдРрд░реЗ </td></tr><tr><td>  рдореИрдВ </td><td>  int рд╕рд░рдгреА </td></tr><tr><td>  рдмреА </td><td>  bool </td></tr><tr><td>  рдЦ </td><td>  рдмреВрд▓ рд╕рд░рдгреА </td></tr><tr><td>  рдПрдЪ </td><td>  рдЕрдЬреНрдЮрд╛рдд рд╣реЗрдХреНрд╕ рдмрд╛рдЗрдЯреНрд╕ </td></tr><tr><td>  рдЯреА </td><td>  рд╕рдордп </td></tr><tr><td>  0 </td><td>  рдХрд╣рд╛ рдирд╣реАрдВ </td></tr><tr><td>  1 </td><td> <code>0FII</code> </td> </tr><tr><td>  2 </td><td> <code>SUFF</code> </td> </tr><tr><td>  3 </td><td> <code>FFFF</code> </td> </tr><tr><td>  4 </td><td> <code>0SISS</code> </td> </tr><tr><td>  5 </td><td> <code>0SISS00000U</code> </td> </tr></tbody></table></div></div><br><div class="spoiler">  <b class="spoiler_title">рдЖрдзрд╛рд░реЛрдВ рдХрд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><h4 id="predmety-idb">  рдЖрдЗрдЯрдо (.idb) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рд╕рд╛рдордЧреНрд░реА </td><td> <code>SSSIFFFIFIFfIX</code> </td> </tr><tr><td>  рд╣рдерд┐рдпрд╛рд░ </td><td> <code>SSISIIIFFFFIFIXB00000IHFFFfHHFF</code> </td> </tr><tr><td>  рдХрд╡рдЪ </td><td> <code>SSISIIIFFFFIFIXB00000ffBiHH</code> </td> </tr><tr><td>  рддреНрд╡рд░рд┐рдд рдЖрдЗрдЯрдо </td><td> <code>SSISIIIFFFFIFIXB00000IIFFSbH</code> </td> </tr><tr><td>  рдЖрдЗрдЯрдо рдЦреЛрдЬреЗрдВ </td><td> <code>SSISIIIFFFFIFIXB00000Is</code> </td> </tr><tr><td>  рдЖрдЗрдЯрдо рдмреЗрдЪрдирд╛ </td><td> <code>SSISIIIFFFFIFIXB00000IHI</code> </td> </tr></tbody></table><br><h4 id="pereklyuchateli-ldb">  рд╕реНрд╡рд┐рдЪ (.ldb) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ </td><td> <code>SfIFTSSS</code> </td> </tr></tbody></table><br><h4 id="umeniya-i-navyki-pdb">  рдХреМрд╢рд▓ рдФрд░ рдХреМрд╢рд▓ (.pdb) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рдХреМрд╢рд▓ </td><td> <code>SSI0000000s</code> </td> </tr><tr><td>  рдХреМрд╢рд▓ </td><td> <code>SSI0000000SSIIIFFFIIIIBI</code> </td> </tr></tbody></table><br><h4 id="sledy-printsdb">  рдкреИрд░реЛрдВ рдХреЗ рдирд┐рд╢рд╛рди (рдкреНрд░рд┐рдВрдЯ) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рдЦреВрди рдХреЗ рдирд┐рд╢рд╛рди </td><td> <code>0S11</code> </td> </tr><tr><td>  рдЬреНрд╡рд╛рд▓рд╛ рдХреЗ рдирд┐рд╢рд╛рди </td><td> <code>0S110000001</code> </td> </tr><tr><td>  рдкреИрд░реЛрдВ рдХреЗ рдирд┐рд╢рд╛рди </td><td> <code>0S11</code> </td> </tr></tbody></table><br><h4 id="zaklinaniya-sdb">  рдордВрддреНрд░ (.sdb) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк </td><td> <code>SSSFIFIFFFFIIIIUSSIIbIXFFFFF</code> </td> </tr><tr><td>  рд╕рдВрд╢реЛрдзрдХ </td><td> <code>SSFIFFISX</code> </td> </tr><tr><td>  рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ </td><td> <code>0SssSX</code> </td> </tr><tr><td>  рдХрд╡рдЪ рддрддреНрд░ </td><td> <code>0SssSX</code> </td> </tr><tr><td>  рд╣рдерд┐рдпрд╛рд░ рдкреИрдЯрд░реНрди </td><td> <code>0SssSX</code> </td> </tr></tbody></table><br><h4 id="suschestva-udb">  рдЬреАрд╡ (.udb) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рдХреНрд╖рддрд┐рдЧреНрд░рд╕реНрдд рднрд╛рдЧреЛрдВ </td><td> <code>SffUU</code> </td> </tr><tr><td>  рджреМрдбрд╝ </td><td> <code>SUFFUUFfFUUf222222000000000000SssFSsfUUfUUIUSBFUUUU</code> </td> </tr><tr><td>  рд░рд╛рдХреНрд╖рд╕ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк </td><td> <code>SSIUIFFFSFFFFFFFFFUFFFFFFff33sfssSFFFFFUFUSF</code> </td> </tr><tr><td>  рдПрдирдкреАрд╕реА </td><td> <code>SUFFFFbbssssFUB</code> </td> </tr></tbody></table><br><h4 id="vykriki-acksdb">  рдЪрд┐рд▓реНрд▓рд╛рддрд╛ рд╣реИ (acks.db) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рдЙрддреНрддрд░ </td><td> <code>0S0000000044444444444444444444445444444444444</code> </td> </tr><tr><td>  рдЪрд┐рд▓реНрд▓рд╛рд╣рдЯ </td><td> <code>0S0000000044444</code> </td> </tr><tr><td>  рдЕрдиреНрдп </td><td> <code>0S0000000044</code> </td> </tr></tbody></table><br><h4 id="zadaniya-qdb">  Quests (.qdb) </h4><br><table><thead><tr><th>  рддрд╛рд▓рд┐рдХрд╛ </th><th>  рд╕рдВрд░рдЪрдирд╛ </th></tr></thead><tbody><tr><td>  рдХрд╛рд░реНрдп </td><td> <code>SFIISIIs</code> </td> </tr><tr><td>  рдмреНрд░реАрдлрд┐рдВрдЧ </td><td> <code>SFFsSsssssI</code> </td> </tr></tbody></table></div></div><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> 16 рдЬрдирд╡рд░реА, 2002 рдХреЛ рдкреНрд░рддрд┐рджреНрд╡рдВрджреНрд╡реА рдиреЗ рд╕реАрдПрд╕рд╡реА рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдорд▓реНрдЯреАрдкреНрд▓реЗрдпрд░ рдХреЗ рд╕реНрд░реЛрдд рд╕реНрд░реЛрдд, рд╕рд╛рде рд╣реА рдЧреЗрдо рдкреНрд░рд╛рд░реВрдк ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=https://web.archive.org/web/20020610194020/">рд╕рд╛рдЗрдЯ рд╕реНрдиреИрдкрд╢реЙрдЯ</a> ) рдореЗрдВ рдЙрдкрдпреЛрдЧрд┐рддрд╛-рдХрдирд╡рд░реНрдЯрд░ рдкреЛрд╕реНрдЯ рдХрд┐рдпрд╛ред  рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдЙрд▓рдЯрд╛ рдХрдирд╡рд░реНрдЯрд░ рдкреНрд░рдХрдЯ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдзреАрдорд╛ рдирд╣реАрдВ рдерд╛ред  рдореЙрдбрдореЗрдХрд░реНрд╕ рд╕реЗ рдлрд╝реАрд▓реНрдб рдФрд░ рдЙрдирдХреЗ рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХрдо рд╕реЗ рдХрдо рджреЛ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рднреА рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдиреНрд╣реЗрдВ рдкрдврд╝рдирд╛ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реИред </blockquote><br><h2 id="adb">  рдПрд╢рд┐рдпрд╛рдИ рд╡рд┐рдХрд╛рд╕ рдмреИрдВрдХ </h2><br><p>  рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рдХрд╛рд░ рдХреА рдЗрдХрд╛рдИ рдХреЗ рд▓рд┐рдП рдПрдиреАрдореЗрд╢рди рдбреЗрдЯрд╛рдмреЗрд╕ред  рдКрдкрд░ рдЙрд▓реНрд▓рд┐рдЦрд┐рдд * DB рдХреЗ рд╡рд┐рдкрд░реАрдд, рдпрд╣ рдХрд╛рдлреА "рдорд╛рдирд╡" рд╣реИ - рдпрд╣ рд╕реНрдерд┐рд░ рдХреНрд╖реЗрддреНрд░ рдЖрдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдПрдХрд▓-рд╕реНрддрд░реАрдп рддрд╛рд▓рд┐рдХрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/vm/f4/jr/vmf4jr_3jtmqytycobxvurk7v2c.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: adb title: Evil Islands, ADB file (animations database) application: Evil Islands file-extension: adb license: MIT endian: le doc: Animations database seq: - id: magic contents: [0x41, 0x44, 0x42, 0x00] doc: Magic bytes - id: animations_count type: u4 doc: Number of animations in base - id: unit_name type: str encoding: cp1251 size: 24 doc: Name of unit - id: min_height type: f4 doc: Minimal height of unit - id: mid_height type: f4 doc: Middle height of unit - id: max_height type: f4 doc: Maximal height of unit - id: animations type: animation doc: Array of animations repeat: expr repeat-expr: animations_count types: animation: doc: Animation's parameters seq: - id: name type: str encoding: cp1251 size: 16 doc: Animation's name - id: number type: u4 doc: Index in animations array - id: additionals type: additional doc: Packed structure with animation parameters - id: action_probability type: u4 doc: Percents of action probability - id: animation_length type: u4 doc: Lenght of animation in game ticks - id: movement_speed type: f4 doc: Movement speed - id: start_show_hide1 type: u4 - id: start_show_hide2 type: u4 - id: start_step_sound1 type: u4 - id: start_step_sound2 type: u4 - id: start_step_sound3 type: u4 - id: start_step_sound4 type: u4 - id: start_hit_frame type: u4 - id: start_special_sound type: u4 - id: spec_sound_id1 type: u4 - id: spec_sound_id2 type: u4 - id: spec_sound_id3 type: u4 - id: spec_sound_id4 type: u4 types: additional: seq: - id: packed type: u8 instances: weapons: value: 'packed &amp; 127' allowed_states: value: '(packed &gt;&gt; 15) &amp; 7' action_type: value: '(packed &gt;&gt; 18) &amp; 15' action_modifyer: value: '(packed &gt;&gt; 22) &amp; 255' animation_stage: value: '(packed &gt;&gt; 30) &amp; 3' action_forms: value: '(packed &gt;&gt; 36) &amp; 63'</code> </pre> </div></div><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> рдХрдИ рдЗрдХрд╛рдЗрдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдЫреЛрдЯрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╢рд╛рдпрдж рд╣реА рдХрднреА рдЦреЛрдЬрд╛ рдЧрдпрд╛ рд╣реЛред </blockquote><p>  рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдПрдХ рд╡рд┐рдЬреНрдЮрд╛рдкрди рд╡рд┐рд░рд╛рдо рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рд╣рдо рдХрд┐рд╕реА рднреА рдЪреАрдЬрд╝ рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ - рд╣рдорд╛рд░реА рдкрджреНрдзрддрд┐ рдирд╣реАрдВред  рдмреЗрд╣рддрд░ рдирд┐рд░реВрдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдЧреЗ рдХреНрдпрд╛ рдХрд╛рдо рдЖрддрд╛ рд╣реИ - рдЬреАрд╡ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдирд╛рдо рдХреИрд╕реЗ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><h2 id="format-imyon-modeley">  рдореЙрдбрд▓ рдХрд╛ рдирд╛рдо рдкреНрд░рд╛рд░реВрдк </h2><br><p>  рдирд╛рдо рджреЛ рд╡рд░реНрдгреЛрдВ рдХреЗ рд╕рдореВрд╣реЛрдВ рд╕реЗ рдПрдХрддреНрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ - рддрд╛рд░реНрдХрд┐рдХ "рд╕реНрддрд░" рдХреЗ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд░реВрдкред <br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдорд╣рд┐рд▓рд╛ рдкрд╛рддреНрд░ <code>unhufe</code> рд╣реЛрдЧрд╛ - <code>Unit &gt; Human &gt; Female</code> , рдФрд░ <code>initwesp</code> - <code>Inventory &gt; Item &gt; Weapon &gt; Spear</code> , рдпрд╛рдиреА рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдореЗрдВ рдПрдХ рд╕реНрдкреАрдпрд░ (рдмреИрдХ рдирд╣реАрдВ, рдФрд░ рдпрд╣ рдЕрдЪреНрдЫрд╛ рд╣реИ)ред </p><br><div class="spoiler">  <b class="spoiler_title">рдирд╛рдо рддрддреНрд╡реЛрдВ рдХрд╛ рдкреВрд░рд╛ рдкреЗрдбрд╝:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">un: # unit an: # animal wi: # wild ti # tiger ba # bat bo # boar hy # hyen de # deer gi # rat ra # rat cr # crawler wo # wolf ho: # home co # cow pi # pig do # dog ho # horse ha # hare or: # orc fe # female ma # male mo: # monster co # column (menu) un # unicorn cu # Curse be # beholder tr # troll el # elemental su # succub (harpie) ba # banshee dr # driad sh # shadow li # lizard sk # skeleton sp # spider go # golem, goblin ri # Rick og # ogre zo # zombie bi # Rik's dragon cy # cyclope dg # dragon wi # willwisp mi # octopus to # toad hu: # human fe # female ma # male in: # inventory it: # item qu # quest qi # interactive ar: # armor pl # plate gl # gloves lg # leggins bt # boots sh # shirt hl # helm pt # pants li: # loot mt # material tr # trade we: # weapon hm # hammer dg # dagger sp # spear cb # crossbow sw # sword ax # axe bw # bow gm # game menu fa: # faces un: # unit an: # animal wi: # wild ti: # tiger face # face ba: # bat face # face bo: # boar face # face de: # deer face # face ra: # rat face # face cr: # crawler face # face wo: # wolf face # face ho: # home co: # cow face # face pi: # pig face # face do: # dog face # face ho: # horse face # face ha: # hare face # face hu: # human fe: # female fa # me # th # ma: # male fa # me # th # mo: # monster to: # toad face # face tr: # troll face # face or: # orc face # face sp: # spider face # face li: # lizard face # face na: # nature fl: # flora bu # bush te # termitary tr # tree li # waterplant wa # waterfall sk # sky st # stone ef: # effects cu # ar # co # components st: # static si # switch bu: # building to # tower ho # house tr # trap br # bridge ga # gate we # well (waterhole) wa: # wall me # medium li # light to # torch st # static</code> </pre> </div></div><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> рдЗрд╕ рд╡рд░реНрдЧреАрдХрд░рдг рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдорд╢рд░реВрдо рдкреЗрдбрд╝ рд╣реИрдВ, рдЧреЛрдмрд▓рд┐рди рдХреЗ рд╕рд╛рде рдЧреЛрд▓реЗ рднрд╛рдИ рд╣реИрдВ, рдФрд░ рдЯрдХрд╛-рд░рд┐рдХ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдпрд╣рд╛рдВ рдЖрдк рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЗ "рдХрд╛рдордХрд╛рдЬреА" рдирд╛рдореЛрдВ рдХреЛ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╕рдВрджрд┐рдЧреНрдз рд░реВрдк рд╕реЗ рдбреА рдПрдВрдб рдбреА рдХреЗ рд╕рдорд╛рди рд╣реИрдВ - рджреЗрдЦрдиреЗ рд╡рд╛рд▓реЗ (рдмреБрд░реА рдирдЬрд░), рд╕рдХреНрдХрд╛ (рд╣рд╛рд░реНрдкреА), рдУрдЧрд░ (рдирд░рднрдХреНрд╖реА), рдбреНрд░рд╛рдпрдб (рд╡рдирд╡рд╛рд╕реА)ред </blockquote><p>  рдиреИрддрд┐рдХ рд░реВрдк рд╕реЗ рдЖрд░рд╛рдо рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдореЙрдбрд▓ рдореЗрдВ рд╣реЗрдбрд▓реЙрдиреНрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдЙрдиреНрд╣реЗрдВ рдХрдИ рдкреНрд░рд╛рд░реВрдкреЛрдВ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рд╕рд╛рде рдЬреБрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВред </p><br><h2 id="lnk">  LNK </h2><br><p>  рддрд╛рд░реНрдХрд┐рдХ рд░реВрдк рд╕реЗ - рдореЙрдбрд▓ рдХрд╛ рдЖрдзрд╛рд░ред  рдЖрдзреБрдирд┐рдХ 3 рдбреА рдореЙрдбрд▓рд┐рдВрдЧ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдореЙрдбрд▓ рдХреЗ рдХреБрдЫ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреА рдкрджрд╛рдиреБрдХреНрд░рдо рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ - рд╣рдбреНрдбрд┐рдпреЛрдВ рдХрд╛ рдкрджрд╛рдиреБрдХреНрд░рдоред </p><br><p><img src="https://habrastorage.org/webt/we/va/a1/wevaa186p5bq4fvw8-4vtxbfiju.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: lnk title: Evil Islands, LNK file (bones hierarchy) application: Evil Islands file-extension: lnk license: MIT endian: le doc: Bones hierarchy seq: - id: bones_count type: u4 doc: Number of bones - id: bones_array type: bone repeat: expr repeat-expr: bones_count doc: Array of bones types: bone: doc: Bone node seq: - id: bone_name_len type: u4 doc: Length of bone's name - id: bone_name type: str encoding: cp1251 size: bone_name_len doc: Bone's name - id: parent_name_len type: u4 doc: Length of bone's parent name - id: parent_name type: str encoding: cp1251 size: parent_name_len doc: Bone's parent name</code> </pre> </div></div><br><p>  рдореВрд▓ рд╣рдбреНрдбреА рдХрд╛ рдореВрд▓ рдирд╛рдо рдПрдХ рдЦрд╛рд▓реА рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИ (рд▓рдВрдмрд╛рдИ 0)ред </p><br><p>  рд╣рдбреНрдбрд┐рдпрд╛рдВ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЙрдиреНрд╣реЗрдВ рдирд╛рдо рджреЗрдирд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдПрдХ рд╕рд╛рде рд░рдЦрдирд╛ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ - рдЖрдкрдХреЛ рдЙрдиреНрд╣реЗрдВ рдПрдХ рдХрдВрдХрд╛рд▓ рдореЗрдВ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><h2 id="bon">  рдмреЛрди </h2><br><p>  рдкрд╣рд▓реЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╣ рдкреНрд░рд╛рд░реВрдк (рдпрджрд┐ рдпрд╣ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдирд╣реАрдВ рд╣реИ) рдореЙрдбрд▓ рдХреЗ рд╣рд┐рд╕реНрд╕реЛрдВ (рд╣рдбреНрдбрд┐рдпреЛрдВ) рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдореВрд▓ рднрд╛рдЧ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред  рдХреЗрд╡рд▓ рдСрдлрд╕реЗрдЯ рдХреЛ рдмрд┐рдирд╛ рд░реЛрдЯреЗрд╢рди рдХреЗ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдЖрдзреБрдирд┐рдХ рдкреНрд░рд╛рд░реВрдкреЛрдВ рд╕реЗ рдорддрднреЗрджреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХред </p><br><p><img src="https://habrastorage.org/webt/rq/f0/nt/rqf0ntdd5sxadr0us5gfq5cfq2g.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: bon title: Evil Islands, BON file (bone position) application: Evil Islands file-extension: bon license: MIT endian: le doc: Bone position seq: - id: position type: vec3 doc: Bone translation repeat: eos types: vec3: doc: 3d vector seq: - id: x type: f4 doc: x axis - id: y type: f4 doc: y axis - id: z type: f4 doc: z axis</code> </pre> </div></div><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдПрдХ рдСрдлрд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╕рдВрдЦреНрдпрд╛рдПрдВ рд╣реИрдВ - рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣рд╛рдВ рд╣рдо рдкрд╣рд▓реА рдмрд╛рд░ рдЧреЗрдо рдЗрдВрдЬрди рдХреА рдкреНрд░рдореБрдЦ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдереЗ - рдЯреНрд░рд┐рд▓рд┐рдирд┐рдпрд░ рдореЙрдбрд▓ рдЗрдВрдЯрд░рдкреЛрд▓реЗрд╢рдиред </p><br><p>  рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: рдореЙрдбрд▓ рдХреЗ рддреАрди рдкреНрд░рдХреНрд╖реЗрдк рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИрдВ - рд╕рд╢рд░реНрдд, рддрд╛рдХрдд, рдирд┐рдкреБрдгрддрд╛, рд╡рд┐рдХрд╛рд╕ред  рдореЙрдбрд▓ рдХреЗ 8 рдЪрд░рдо рд░рд╛рдЬреНрдп рднреА рд╣реИрдВред  рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рд╣рдо рдЯреНрд░рд┐рд▓рд┐рдирд┐рдпрд░ рдЗрдВрдЯрд░рдкреЛрд▓реЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЕрдВрддрд┐рдо рдореЙрдбрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><div class="spoiler">  <b class="spoiler_title">рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рд╣реА</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trilinear</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(val, coefs=[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">])</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Linear interpolation by str t1 = val[0] + (val[1] - val[0]) * coefs[1] t2 = val[2] + (val[3] - val[2]) * coefs[1] # Bilinear interpolation by dex v1 = t1 + (t2 - t1) * coefs[0] # Linear interpolation by str t1 = val[4] + (val[5] - val[4]) * coefs[1] t2 = val[6] + (val[7] - val[6]) * coefs[1] # Bilinear interpolation by dex v2 = t1 + (t2 - t1) * coefs[0] # Trilinear interpolation by height return v1 + (v2 - v1) * coefs[2]</span></span></code> </pre> </div></div><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> рдЯреНрд░рд┐рд▓рд┐рдпрдирд┐рдпрд░ рдореЙрдбрд▓ рдкреНрд░рдХреНрд╖реЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреБрдЫ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЪреЗрддрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдкрддреНрдерд░ рдХрд╛ рджрд░рд╡рд╛рдЬрд╛ рдФрд░ рдЪреЗрд╕реНрдЯ рдЦреЛрд▓рдирд╛ред </blockquote><p>  рдЕрдм рдореЙрдбрд▓ рдХреЗ рд╣рд┐рд╕реНрд╕реЛрдВ рдХреЛ рдЦреБрдж рджреЗрдЦрдиреЗ рдХрд╛ рд╕рдордп рд╣реИред </p><br><h2 id="fig">  рдЕрдВрдЬреАрд░ </h2><br><p>  рд╢рд╛рдпрдж рдЗрд╕ рд░реИрд▓реА рдХреЛ рд╕рдордЭрдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИред  рдЖрдк рдиреЗрдЯ рдкрд░ рдмреНрд▓реЗрдВрдбрд░ рдХреЗ рд▓рд┐рдП рдЙрд╕рдХрд╛ рд╡рд┐рд╡рд░рдг рдФрд░ рдкреНрд▓рдЧ-рдЗрди рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдирдХреЗ рд╕рд╛рде рднреА рдЬрд╛рдЧрд░реВрдХрддрд╛ рддреБрд░рдВрдд рдирд╣реАрдВ рдЖрддреА рд╣реИред  рдПрдХ рдмрд╛рд░ рджреЗрдЦ рд▓реЛ: </p><br><p><img src="https://habrastorage.org/webt/c_/yx/bu/c_yxbuglpgn1h0j2g48gc1lk1dw.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: fig title: Evil Islands, FIG file (figure) application: Evil Islands file-extension: fig license: MIT endian: le doc: 3d mesh seq: - id: magic contents: [0x46, 0x49, 0x47, 0x38] doc: Magic bytes - id: vertex_count type: u4 doc: Number of vertices blocks - id: normal_count type: u4 doc: Number of normals blocks - id: texcoord_count type: u4 doc: Number of UV pairs - id: index_count type: u4 doc: Number of indeces - id: vertex_components_count type: u4 doc: Number of vertex components - id: morph_components_count type: u4 doc: Number of morphing components - id: unknown contents: [0, 0, 0, 0] doc: Unknown (aligment) - id: group type: u4 doc: Render group - id: texture_index type: u4 doc: Texture offset - id: center type: vec3 doc: Center of mesh repeat: expr repeat-expr: 8 - id: aabb_min type: vec3 doc: AABB point of mesh repeat: expr repeat-expr: 8 - id: aabb_max type: vec3 doc: AABB point of mesh repeat: expr repeat-expr: 8 - id: radius type: f4 doc: Radius of boundings repeat: expr repeat-expr: 8 - id: vertex_array type: vertex_block doc: Blocks of raw vertex data repeat: expr repeat-expr: 8 - id: normal_array type: vec4x4 doc: Packed normal data repeat: expr repeat-expr: normal_count - id: texcoord_array type: vec2 doc: Texture coordinates data repeat: expr repeat-expr: texcoord_count - id: index_array type: u2 doc: Triangles indeces repeat: expr repeat-expr: index_count - id: vertex_components_array type: vertex_component doc: Vertex components array repeat: expr repeat-expr: vertex_components_count - id: morph_components_array type: morph_component doc: Morphing components array repeat: expr repeat-expr: morph_components_count types: morph_component: doc: Morphing components indeces seq: - id: morph_index type: u2 doc: Index of morphing data - id: vertex_index type: u2 doc: Index of vertex vertex_component: doc: Vertex components indeces seq: - id: position_index type: u2 doc: Index of position data - id: normal_index type: u2 doc: Index of normal data - id: texture_index type: u2 doc: Index of texcoord data vec2: doc: 2d vector seq: - id: u type: f4 doc: u axis - id: v type: f4 doc: v axis vec3: doc: 3d vector seq: - id: x type: f4 doc: x axis - id: y type: f4 doc: y axis - id: z type: f4 doc: z axis vec3x4: doc: 3d vector with 4 values per axis seq: - id: x type: f4 doc: x axis repeat: expr repeat-expr: 4 - id: y type: f4 doc: y axis repeat: expr repeat-expr: 4 - id: z type: f4 doc: z axis repeat: expr repeat-expr: 4 vertex_block: doc: Vertex raw block seq: - id: block type: vec3x4 doc: Vertex data repeat: expr repeat-expr: _root.vertex_count vec4x4: doc: 4d vector with 4 values per axis seq: - id: x type: f4 doc: x axis repeat: expr repeat-expr: 4 - id: y type: f4 doc: y axis repeat: expr repeat-expr: 4 - id: z type: f4 doc: z axis repeat: expr repeat-expr: 4 - id: w type: f4 doc: w axis repeat: expr repeat-expr: 4</code> </pre> </div></div><br><p>  рдХрдард┐рдирд╛рдИ рдХреНрдпрд╛ рд╣реИ?  рддреЛ рд╕рдм рдХреЗ рдмрд╛рдж, рдорд╛рдирджрдВрдбреЛрдВ рдФрд░ рдХреЛрдиреЗ рдХрд╛ рдбреЗрдЯрд╛ 4 рдХреЗ рдмреНрд▓реЙрдХ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рд╡рд░реНрдЯрд┐рдкреЗрд╢рди рдХреЛ 8 рдмреНрд▓реЙрдХреЛрдВ рдореЗрдВ рдзреНрд░реБрд╡реАрдХрд░рдг рдХреЗ рд▓рд┐рдП рднреА рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><blockquote>  <strong>рдпрд╣ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ:</strong> рд╕рдВрднрд╡рддрдГ, рдПрд╕рдПрд╕рдИ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреА рдорджрдж рд╕реЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рддреЗрдЬреА рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдРрд╕рд╛ рд╕рдореВрд╣ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ рдЬреЛ 1999 рд╕реЗ рдЗрдВрдЯреЗрд▓ рдкреНрд░реЛрд╕реЗрд╕рд░ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рдерд╛ред </blockquote><p>  рдареАрдХ рд╣реИ, рд╣рдордиреЗ рдореЙрдбрд▓ рдкрдврд╝рд╛ рдФрд░ рдмрдирд╛рдпрд╛, рд▓реЗрдХрд┐рди рдХреБрдЫ рдЧрд╛рдпрдм рд╣реИред  рдмрд┐рд▓реНрдХреБрд▓ - рдПрдирд┐рдореЗрд╢рди! </p><br><h2 id="anm">  рдПрдПрдирдПрдо </h2><br><p>  рдкреНрд░рдореБрдЦ рдШрдЯрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдирд┐рдореЗрд╢рди рдХреЛ рдШрдЯрдХ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рди рдХреЗрд╡рд▓ рдХрдВрдХрд╛рд▓ рдПрдиреАрдореЗрд╢рди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдмрд▓реНрдХрд┐ рд╡рд░реНрдЯреЗрдХреНрд╕ рдореЙрд░реНрдлрд┐рдВрдЧ рднреА рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/i_/yb/lr/i_yblr5zy2irqqer1jqi6tm8v_c.png"></p><br><div class="spoiler">  <b class="spoiler_title">рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рд╡рд░рдг</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: anm title: Evil Islands, ANM file (bone animation) application: Evil Islands file-extension: anm license: MIT endian: le doc: Bone animation seq: - id: rotation_frames_count type: u4 doc: Number of rotation frames - id: rotation_frames type: quat repeat: expr repeat-expr: rotation_frames_count doc: Bone rotations - id: translation_frames_count type: u4 doc: Number of translation frames - id: translation_frames type: vec3 repeat: expr repeat-expr: translation_frames_count doc: Bone translation - id: morphing_frames_count type: u4 doc: Number of morphing frames - id: morphing_vertex_count type: u4 doc: Number of vertices with morphing - id: morphing_frames type: morphing_frame repeat: expr repeat-expr: morphing_frames_count doc: Array of morphing frames types: vec3: doc: 3d vector seq: - id: x type: f4 doc: x axis - id: y type: f4 doc: y axis - id: z type: f4 doc: z axis quat: doc: quaternion seq: - id: w type: f4 doc: w component - id: x type: f4 doc: x component - id: y type: f4 doc: y component - id: z type: f4 doc: z component morphing_frame: doc: Array of verteces morphing seq: - id: vertex_shift type: vec3 repeat: expr repeat-expr: _parent.morphing_vertex_count doc: Morphing shift per vertex</code> </pre> </div></div><br><p>  рдпрд╣ рдмрд╛рдд рд╣реИ - рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдкреВрд░реНрдг рд╡рд┐рдХрд╕рд┐рдд рдореЙрдбрд▓ рд╣реИ, рдЖрдк рддрд╛рдЬрд╝реА рд░реВрдк рд╕реЗ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ рд╣рд░реНрдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА рдХреА рдкреНрд░рд╢рдВрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/bu/tk/sm/butksmbjbom_kgib93drtz9xvj8.jpeg"></p><br><div class="spoiler">  <b class="spoiler_title">рд╡рд┐рд╖рд╛рдж рдХрд╛ рдПрдХ рдХреНрд╖рдг</b> <div class="spoiler_text"><h4 id="uznat-chto-nuzhno-yascheru">  рдЬрд╛рдиреЗрдВ рдХрд┐ рдЫрд┐рдкрдХрд▓реА рдХреА рдЬрд░реВрд░рдд рдХреНрдпрд╛ рд╣реИ </h4><br><p>  <em>рдЕрдкрдиреЗ рдШрд░ рдореЗрдВ рдЫрд┐рдкрдХрд▓реА рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд</em> </p><br><p>  <strong>рд╣рд░рдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рдЖрдк рдЖ рдЧрдП рд╣реИрдВ рдпрд╛рд░ред  рдпрд╣ рдЕрдЪреНрдЫрд╛ рд╣реИред </p><br><p>  <strong>Zach:</strong> рдпрд╣ рд╣реИ рдХрд┐ рддреБрдо рд╕рдм рдореБрдЭреЗ рдмрддрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛? </p><br><p>  <strong>рд╣рд░реНрдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рдЖрдк рдлрд┐рд░ рдЬрд▓реНрджреА рдореЗрдВ рд╣реИрдВред  рдореБрдЭреЗ рдЖрдкрдХреЗ рд╕рд╡рд╛рд▓ рдпрд╛рдж рд╣реИрдВ рдФрд░ рдореИрдВ рдЙрдирдХрд╛ рдЬрд╡рд╛рдм рджреВрдВрдЧрд╛ред  рдореИрдВ рдПрдХ рд╕реМрджрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЛрд╣реЗ рдХреЗ рд▓реЛрдЧреЛрдВ рдХреЗ рдкрд╛рд╕ рдЖрдпрд╛ред  рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рджреЗрдЦрд╛ рдХрд┐ рдЙрдиреНрд╣реЛрдВрдиреЗ рдЖрдкрдХреЗ рд╕рд╛рде рдХреИрд╕рд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд┐рдпрд╛ред  рдЙрдиреНрд╣реЛрдВрдиреЗ рдПрдХ рд╢рдмреНрдж рдирд╣реАрдВ рд░рдЦрд╛, рдореИрдВрдиреЗ рдЙрди рдкрд░ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ред  рдЖрдкрдиреЗ рдЕрдкрдиреА рдмрд╛рдд рд░рдЦреАред  рдЖрдкрдХреЛ рдПрдХ рд╕реМрджрд╛ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  <strong>рд╣рд░рдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рд▓реЛрдЧ рд╕реЛрдиреЗ рд╕реЗ рдкреНрдпрд╛рд░ рдХрд░рддреЗ рд╣реИрдВред  рд╕реЛрдиреЗ рдХреА рдЫрд┐рдкрдХрд▓рд┐рдпрд╛рдВ рдирд┐рд░реНрдмрд╛рдз рд╣реЛрддреА рд╣реИрдВред  рддреБрдо рдореЗрд░рд╛ рдХрд╛рдо рдкреВрд░рд╛ рдХрд░реЛрдЧреЗ, рдФрд░ рдореИрдВ рддреБрдореНрд╣реЗрдВ рд╡рд╣ рд╕реЛрдирд╛ рджреВрдВрдЧрд╛ рдЬреЛ рдореЗрд░реЗ рдкрд╛рд╕ рд╣реИред  рдмрд╣реБрдд рд╕реЛрдирд╛ рд╣реИред </p><br><p>  <strong>Zach <em>(рд╕реЛрдЪ-рд╕рдордЭрдХрд░ рдФрд░ рдмрд┐рдирд╛ рдЬреНрдпрд╛рджрд╛ рджрд┐рд▓рдЪрд╕реНрдкреА рдХреЗ)</em> :</strong> рд╣рдореНрдо ... рдЧреЛрд▓реНрдб ... рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдиреБрдХрд╕рд╛рди рдирд╣реАрдВ рдкрд╣реБрдВрдЪрд╛рдПрдЧрд╛ ... </p><br><p>  <strong>Zach:</strong> рдпрд╣ рдмреЗрд╣рддрд░ рд╣реЛрдЧрд╛ рдпрджрд┐ рдЖрдк рдореБрдЭреЗ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░ рд╕рдХреЗрдВ рдХрд┐ рдЬрд┐рд╕ рдкреБрд░рд╛рдиреЗ рдЬрд╛рджреВрдЧрд░ рдХреЛ рдореИрдВ рдЗрддрдиреЗ рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рджреЗрдЦ рд░рд╣рд╛ рд╣реВрдВред  рдЖрдЦрд┐рд░рдХрд╛рд░, рдЫрд┐рдкрдХрд▓реА рдПрдХ рдкреНрд░рд╛рдЪреАрди рд▓реЛрдЧ рд╣реИрдВ, рдФрд░ рдЖрдк рдЗрд╕реЗ рдЬрд╛рди рд╕рдХрддреЗ рд╣реИрдВ! </p><br><p>  <strong>рд╣рд░рдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рдЖрдк рд╕рд╣реА рдХрд╣ рд░рд╣реЗ рд╣реИрдВред  рдЫрд┐рдкрдХрд▓реА рдПрдХ рдкреНрд░рд╛рдЪреАрди рд▓реЛрдЧ рд╣реИрдВред  рдореИрдВ рд╡рд╣ рд╕рдм рдХреБрдЫ рдПрдХрддреНрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ рдЬреЛ рд╣рдо рдмреВрдврд╝реЗ рдЖрджрдореА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирддреЗ рд╣реИрдВред  рдХреНрдпрд╛ рдЖрдк рдореЗрд░реЗ рдорд┐рд╢рди рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣рдордд рд╣реИрдВ? </p><br><p>  <strong>Zach:</strong> рдХреНрдпрд╛ рдмрд╛рдд рд╣реИ!  рдЧреМрд░ рдХреАрдЬрд┐рдП рдХрд┐ рд╕рдм рдХреБрдЫ рдкрд╣рд▓реЗ рд╣реА рд╣реЛ рдЪреБрдХрд╛ рд╣реИред </p><br><p>  <strong>рд╣рд░реНрдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА <em>(рдЧрдВрднреАрд░рддрд╛ рд╕реЗ)</em> :</strong> рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд┐рдпрд╛ рд╣реИ?  рдХреНрдпрд╛ рдЖрдк рдореБрдЭреЗ рдзреЛрдЦрд╛ рджреЗрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ? </p><br><p>  <strong>Zach:</strong> рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдореИрдВ рдПрдХ рдордЬрд╛рдХ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛, рдЕрдиреНрдпрдерд╛ рдЖрдк рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЧрдВрднреАрд░ рдереЗред </p><br><p>  <strong>рдж рд╣рд░реНрдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рдореИрдВ рджреЗрдЦ рд░рд╣рд╛ рд╣реВрдВред  рдпрд╣ рдПрдХ рдордЬрд╛рдХ рд╣реИред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдореИрдВ рдордЬрд╛рдХ рднреА рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВред  рддрдмред  рдФрд░ рдЕрдм рдореБрдЭреЗ рдЖрдкрдХреЛ рдирд╣рд░ рдореЗрдВ рдкрд╛рдиреА рд▓реМрдЯрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  Orcs рдиреЗ рд╣рдорд╕реЗ рдкрд╛рдиреА рдЪреБрд░рд╛рдпрд╛ред </p><br><p>  <strong>рд╣рд░рдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рдкрд╛рдиреА рдХреЗ рд╕рд╛рде рджрдХреНрд╖рд┐рдг рдХреА рдУрд░ рдЬрд╛рдПрдВред  рдЖрдк рдмрд╛рдВрдз рдФрд░ рдирд╣рд░ рджреЗрдЦреЗрдВрдЧреЗред  рдмрд╛рдВрдз рдХреЛ рдЙрдард╛рдирд╛ рд╣реЛрдЧрд╛ред  рд▓реАрд╡рд░ред  рдореИрдВ рджреЗ рджреВрдВрдЧрд╛ред  рдЪреИрдирд▓ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдкрддреНрдерд░ред  рдореИрдВрдиреЗ рдПрдХ рдкрддреНрдерд░ рдирд╣реАрдВ рджрд┐рдпрд╛ред  рд╡рд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдирд╣рд░ рдХреЗ рдХрд┐рдирд╛рд░реЗ рд╕реНрдерд┐рдд рд╣реИред  рдмрд╛рдВрдз рдХреЗ рдКрдкрд░ред  рдкрддреНрдерд░ рднрд╛рд░реА рд╣реИред  рдЬрдм рдУрд░реНрдХреНрд╕ рдЦреЛрджрд╛ рдЧрдпрд╛, рддреЛ рдЙрдиреНрд╣реЛрдВрдиреЗ рдЙрд╕реЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЙрдард╛ рд▓рд┐рдпрд╛ред  рдпрджрд┐ рдЖрдк рдЙрд╕реЗ рдзрдХреНрдХрд╛ рджреЗрддреЗ рд╣реИрдВ, рддреЛ рд╡рд╣ рдЬрд▓реНрджреА рд╕реЗ рд╡рд╛рдкрд╕ рдЧрд┐рд░ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  <strong>рд╣рд░рдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рдЙрд╕рдХреЗ рдмрд╛рдж, рд╡рд╛рдкрд╕ рдЖрдУред  рдореИрдВ рдЖрдкрдХреЛ рдкреБрд░рд╛рдиреЗ рдЬрд╛рджреВрдЧрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдм рдХреБрдЫ рдмрддрд╛рдКрдВрдЧрд╛ред </p><br><p>  <strong>Zach:</strong> рд╣рд╛рде рдкрд░ рд╣рд╛рде!  рд▓реЗрдХрд┐рди, рдЕрдЧрд░ рдЖрдк рдХрд╣рд╛рдиреА рдореЗрдВ рдереЛрдбрд╝реЗ рд╕реЗ рд╕рд┐рдХреНрдХреЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рдореБрдЭреЗ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдмреБрд░рд╛ рдирд╣реАрдВ рд▓рдЧреЗрдЧрд╛ред </p><br><p>  <strong>рдж рд╣рд░реНрдорд┐рдЯ рдЫрд┐рдкрдХрд▓реА:</strong> рд╕рд┐рдХреНрдХреЛрдВ рдХреЗ рд▓рд┐рдП, рдореЗрд░реЗ рд░рд┐рд╢реНрддреЗрджрд╛рд░реЛрдВ рдХреЗ рдкрд╛рд╕ рдЬрд╛рдПрдВ рдЬреЛ рджрдХреНрд╖рд┐рдг рдореЗрдВ рдЖрдЧреЗ рдЙрдерд▓реЗ рд╣реИрдВред  рд╕рдмрд╕реЗ рджреВрд░ рд░реЗрддреАрд▓реЗ рджреНрд╡реАрдк, рдПрдХ рдкрдВрдХреНрддрд┐ рдореЗрдВ рддреАрд╕рд░рд╛ред  рдЦрдЬрд╝рд╛рдирд╛ рдЖрдкрдХрд╛ рд╣реЛрдЧрд╛! </p><br><p>  <strong>рдЫрд┐рдкрдХрд▓реА рд╣рд░рдорд┐рдЯ <em>(рдЦреБрдж рдХреЛ)</em> :</strong> рдЕрдЬреАрдм рдмрд╛рдд рд╣реИред  рдЗрд╕ рдЖрджрдореА рдХреЛ рд╣рд╛рд╕реНрдп рдкрд╕рдВрдж рд╣реИред  рдореИрдВ рдордЬрд╛рдХ рдХрд░ рд░рд╣рд╛ рдерд╛ред  рд╡рд╣ рдЖрджрдореА рдирд╣реАрдВ рд╣рдВрд╕рд╛ред  рдмрд╣реБрдд рдЕрдЬреАрдм рд╣реИред </p></div></div><br><p>  рдЕрдм - рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк: рдирдХреНрд╢рд╛ рдХреИрд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><h2 id="mp">  рд╕рд╛рдВрд╕рдж </h2><br><p>  рдпрд╣ рдореИрдк рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рд╣реИред  рдПрдХ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рд╕рдВрдпреЛрдЧ рд╕реЗ, рд╡рд┐рд╕реНрддрд╛рд░ рдорд▓реНрдЯреАрдкреНрд▓реЗрдпрд░ рд╕реЗрд╡ рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕ рдкрд░ рд╣рдо рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдкрд╣рд▓реЗ рдЖрдкрдХреЛ рдкрд░рд┐рджреГрд╢реНрдп рдХрд╛ рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рд╡рд░рдг рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><ul><li>  "рд╡рд┐рдЦрдВрдбреВ" рдХреА рд╕рдВрдЦреНрдпрд╛ - рдХрд╛рд░реНрдб рдХреЗ рдЯреБрдХрдбрд╝реЗ 32x32 рдореАрдЯрд░; </li><li>  рдЕрдзрд┐рдХрддрдо рдКрдБрдЪрд╛рдИ (рдЪреВрдВрдХрд┐ рд▓рдореНрдмрд╛рдИ рдХреА рдКрдБрдЪрд╛рдИ рдкреВрд░реНрдгрд╛рдВрдХ рдкреИрдорд╛рдиреЗ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреА рд╣реИ); </li><li>  рдЯрд╛рдЗрд▓ рдПрдЯрд▓рд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ред </li></ul><br><p>     ,     тАФ ,   . </p><br><p><img src="https://habrastorage.org/webt/rq/5a/zv/rq5azvlnywx7dynoartwivfelea.png"></p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: mp title: Evil Islands, MP file (map header) application: Evil Islands file-extension: mp license: MIT endian: le doc: Map header seq: - id: magic contents: [0x72, 0xF6, 0x4A, 0xCE] doc: Magic bytes - id: max_altitude type: f4 doc: Maximal height of terrain - id: x_chunks_count type: u4 doc: Number of sectors by x - id: y_chunks_count type: u4 doc: Number of sectors by y - id: textures_count type: u4 doc: Number of texture files - id: texture_size type: u4 doc: Size of texture in pixels by side - id: tiles_count type: u4 doc: Number of tiles - id: tile_size type: u4 doc: Size of tile in pixels by side - id: materials_count type: u2 doc: Number of materials - id: animated_tiles_count type: u4 doc: Number of animated tiles - id: materials type: material doc: Map materials repeat: expr repeat-expr: materials_count - id: id_array type: u4 doc: Tile type repeat: expr repeat-expr: tiles_count enum: tile_type - id: animated_tiles type: animated_tile doc: Animated tiles repeat: expr repeat-expr: animated_tiles_count types: material: doc: Material parameters seq: - id: type type: u4 doc: Material type by enum: terrain_type - id: color type: rgba doc: RGBA diffuse color - id: self_illumination type: f4 doc: Self illumination - id: wave_multiplier type: f4 doc: Wave speed multiplier - id: warp_speed type: f4 doc: Warp speed multiplier - id: unknown size: 12 types: rgba: doc: RGBA color seq: - id: r type: f4 doc: Red channel - id: g type: f4 doc: Green channel - id: b type: f4 doc: Blue channel - id: a type: f4 doc: Alpha channel enums: terrain_type: 0: base 1: water_notexture 2: grass 3: water animated_tile: doc: Animated tile parameters seq: - id: start_index type: u2 doc: First tile of animation - id: length type: u2 doc: Animation frames count enums: tile_type: 0: grass 1: ground 2: stone 3: sand 4: rock 5: field 6: water 7: road 8: empty 9: snow 10: ice 11: drygrass 12: snowballs 13: lava 14: swamp 15: highrock</code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><table><thead><tr><th> terrain type </th><th>  </th></tr></thead><tbody><tr><td> 0 </td><td>   </td></tr><tr><td>  1 </td><td>    </td></tr><tr><td>  2 </td><td>   </td></tr><tr><td>  3 </td><td>   </td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><table><thead><tr><th> material type </th><th>  </th></tr></thead><tbody><tr><td> 0 </td><td> grass </td></tr><tr><td>  1 </td><td> ground </td></tr><tr><td>  2 </td><td> stone </td></tr><tr><td>  3 </td><td> sand </td></tr><tr><td> 4 </td><td> rock </td></tr><tr><td>  5 </td><td> field </td></tr><tr><td>  6 </td><td> water </td></tr><tr><td>  7 </td><td> road </td></tr><tr><td> 8 </td><td> (empty) </td></tr><tr><td>  9 </td><td> snow </td></tr><tr><td>  10 </td><td> ice </td></tr><tr><td>  11 </td><td> drygrass </td></tr><tr><td>  12 </td><td> snowballs </td></tr><tr><td> 13 </td><td> lava </td></tr><tr><td> 14 </td><td> swamp </td></tr><tr><td>  15 </td><td> highrock </td></tr></tbody></table></div></div><br><p>      ,      <code>Res/aiinfo.res/tileDesc.reg</code> . </p><br><blockquote> <strong> :</strong>     ,   тАФ       . <br>   :       . </blockquote><p>       .  ! </p><br><h2 id="sec"> SEC </h2><br><p>      тАФ  3232 .       ,    <code>ZonenameXXXYYY</code> . </p><br><p><img src="https://habrastorage.org/webt/9-/pd/_l/9-pd_ltybkk7hx_oywo4wsfwrpc.png"></p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">meta: id: sec title: Evil Islands, SEC file (map sector) application: Evil Islands file-extension: sec license: MIT endian: le doc: Map sector seq: - id: magic contents: [0x74, 0xF7, 0x4B, 0xCF] doc: Magic bytes - id: liquids type: u1 doc: Liquids layer indicator - id: vertexes type: vertex doc: Vertex array 33x33 repeat: expr repeat-expr: 1089 - id: liquid_vertexes type: vertex doc: Vertex array 33x33 if: liquids != 0 repeat: expr repeat-expr: 'liquids != 0 ? 1089 : 0' - id: tiles type: tile doc: Tile array 16x16 repeat: expr repeat-expr: 256 - id: liquid_tiles type: tile doc: Tile array 16x16 if: liquids != 0 repeat: expr repeat-expr: 'liquids != 0 ? 256 : 0' - id: liquid_material type: u2 doc: Index of material if: liquids != 0 repeat: expr repeat-expr: 'liquids != 0 ? 256 : 0' types: vertex: doc: Vertex data seq: - id: x_shift type: s1 doc: Shift by x axis - id: y_shift type: s1 doc: Shift by y axis - id: altitude type: u2 doc: Height (z position) - id: packed_normal type: normal doc: Packed normal normal: doc: Normal (3d vector) seq: - id: packed type: u4 doc: Normal packed in 4b instances: x: doc: Unpacked x component value: packed &gt;&gt; 11 &amp; 0x7FF y: doc: Unpacked y component value: packed &amp; 0x7FF z: doc: Unpacked z component value: packed &gt;&gt; 22 tile: doc: Tile parameters seq: - id: packed type: u2 doc: Tile information packed in 2b instances: index: doc: Tile index in texture value: packed &amp; 63 texture: doc: Texture index value: packed &gt;&gt; 6 &amp; 255 rotation: doc: Tile rotation (*90 degrees) value: packed &gt;&gt; 14 &amp; 3</code> </pre> </div></div><br><p>      тАФ       . </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><h4 id="raspakovka-normali">   </h4><br><p> 10    z,  11  x  y </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> packed_normal; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> x = ((<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)((packed_normal &gt;&gt; <span class="hljs-number"><span class="hljs-number">11</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">0x7FF</span></span>) - <span class="hljs-number"><span class="hljs-number">1000.0f</span></span>) / <span class="hljs-number"><span class="hljs-number">1000.0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> y = ((<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)(packed_normal &amp; <span class="hljs-number"><span class="hljs-number">0x7FF</span></span>) - <span class="hljs-number"><span class="hljs-number">1000.0f</span></span>) / <span class="hljs-number"><span class="hljs-number">1000.0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> z = (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)(packed_normal &gt;&gt; <span class="hljs-number"><span class="hljs-number">22</span></span>) / <span class="hljs-number"><span class="hljs-number">1000.0f</span></span>;</code> </pre> <br><h4 id="informaciya-o-teksture">    </h4><br><p> 6     , 8   , 2   </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">short</span></span> texture; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> tile_index = f &amp; <span class="hljs-number"><span class="hljs-number">63</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> texture_index = (f &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">255</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> rotation = (f &gt;&gt; <span class="hljs-number"><span class="hljs-number">14</span></span>) &amp; <span class="hljs-number"><span class="hljs-number">3</span></span>;</code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title"> 3d </b> <div class="spoiler_text"><h4 id="poluchenie-landshafta">   </h4><br><p>    33   33 ,  ,  3232 .     тАФ 1  . </p><br><p>  : <br> x =   x + x_offset / 254 <br> y =   y + y_offset / 254 <br> z = altitude / 65535 * max_altitude ( .mp ) </p><br><p>     "",       : </p><br><pre> <code class="plaintext hljs"> 0 1 2 *-*-* |\|\| ~ 33 *-*-* |\|\| ~ 66 *-*-* ~ ~ ~</code> </pre> <br><p>       ,  , 1616 .   тАФ 2  .      ,  90 . </p></div></div><br><p>        .   ,     ,     ID  ,       MP . </p><br><blockquote> <strong> :</strong>    MP,     ,       :  ID     , -     . <br>  ID       тАФ         . </blockquote><p>  тАФ      : </p><br><p><img src="https://habrastorage.org/webt/so/88/c6/so88c6ufcpzn1cqhxc7orbzeif4.jpeg"></p><br><p>   - тАФ    ,         . </p><br><h2 id="mob"> MOB </h2><br><p>    ( )   ,     ,     :   .           тАФ    " ",     . <br>         ,    (    ). </p><br><p>   : </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> structure { <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> type_id; <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> size; byte data[size - <span class="hljs-number"><span class="hljs-number">8</span></span>]; } node;</code> </pre> <br><div class="spoiler"> <b class="spoiler_title">  (,   !)</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/hf/jd/yi/hfjdyiujzmtzizewv5i86pmjil0.png"></p><br><p>   ( , ) </p><br><pre> <code class="plaintext hljs">meta: id: mob title: Evil Islands, MOB file (map entities) application: Evil Islands file-extension: mob license: MIT endian: le doc: Map entities tree seq: - id: root_node type: node doc: Root node types: node: doc: Entity node seq: - id: type_id type: u4 doc: Node children type ID - id: size type: u4 doc: Node full size - id: data type: node_data size: size - 8 doc: Node stored data node_data: doc: Node data seq: - id: value type: switch-on: _parent.type_id cases: 0xA000: node 0x00001E00: node 0x00001E01: node 0x00001E02: node 0x00001E03: node 0x00001E0B: node 0x00001E0E: node 0x0000A000: node 0x0000AA01: node 0x0000ABD0: node 0x0000B000: node 0x0000B001: node 0x0000CC01: node 0x0000DD01: node 0x0000E000: node 0x0000E001: node 0x0000F000: node 0x0000FF00: node 0x0000FF01: node 0x0000FF02: node 0xBBAB0000: node 0xBBAC0000: node 0xBBBB0000: node 0xBBBC0000: node 0xBBBD0000: node 0xBBBE0000: node 0xBBBF0000: node 0xDDDDDDD1: node _: u1 doc: Node elements repeat: eos</code> </pre> </div></div><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><table><thead><tr><th>   </th><th>  () </th><th>  </th></tr></thead><tbody><tr><td> AiGraph </td><td></td><td>   </td></tr><tr><td> AreaArray </td><td></td><td></td></tr><tr><td> Byte </td><td>  1 </td><td> 1   </td></tr><tr><td> Diplomacy </td><td> 4096 </td><td> 32x32   2  </td></tr><tr><td> Dword </td><td> 4 </td><td> 4   </td></tr><tr><td>  рдлреНрд▓реЛрдЯ </td><td> 4 </td><td> 4  </td></tr><tr><td> LeverStats </td><td>  12 </td><td>   </td></tr><tr><td> Null </td><td> 0 </td><td>   </td></tr><tr><td> Plot </td><td>  12 </td><td> 3 floats (vec3) </td></tr><tr><td> Plot2DArray </td><td></td><td></td></tr><tr><td> Quaternion </td><td>  16 </td><td> 4 floats (vec4) </td></tr><tr><td> Record </td><td> &gt;8 </td><td>   </td></tr><tr><td> Rectangle </td><td></td><td></td></tr><tr><td>  рддрд╛рд░ </td><td></td><td>  </td></tr><tr><td> StringArray </td><td> &gt;4 </td><td>   </td></tr><tr><td> StringEncrypted </td><td> &gt;4 </td><td>    </td></tr><tr><td> UnitStats </td><td>  180 </td><td>   </td></tr><tr><td> Unknown </td><td></td><td></td></tr></tbody></table></div></div><br><div class="spoiler"> <b class="spoiler_title">  type_id</b> <div class="spoiler_text"><table><thead><tr><th> type_id </th><th>   </th><th>   </th></tr></thead><tbody><tr><td> 0x00000000 </td><td> Record </td><td> ROOT </td></tr><tr><td> 0x00001E00 </td><td> Record </td><td> VSS_SECTION </td></tr><tr><td> 0x00001E01 </td><td> Record </td><td> VSS_TRIGER </td></tr><tr><td> 0x00001E02 </td><td> Record </td><td> VSS_CHECK </td></tr><tr><td> 0x00001E03 </td><td> Record </td><td> VSS_PATH </td></tr><tr><td> 0x00001E04 </td><td> Dword </td><td> VSS_ID </td></tr><tr><td> 0x00001E05 </td><td> Rectangle </td><td> VSS_RECT </td></tr><tr><td> 0x00001E06 </td><td> Dword </td><td> VSS_SRC_ID </td></tr><tr><td> 0x00001E07 </td><td> Dword </td><td> VSS_DST_ID </td></tr><tr><td> 0x00001E08 </td><td>  рддрд╛рд░ </td><td> VSS_TITLE </td></tr><tr><td> 0x00001E09 </td><td>  рддрд╛рд░ </td><td> VSS_COMMANDS </td></tr><tr><td> 0x00001E0A </td><td> Byte </td><td> VSS_ISSTART </td></tr><tr><td> 0x00001E0B </td><td> Record </td><td> VSS_LINK </td></tr><tr><td> 0x00001E0C </td><td>  рддрд╛рд░ </td><td> VSS_GROUP </td></tr><tr><td> 0x00001E0D </td><td> Byte </td><td> VSS_IS_USE_GROUP </td></tr><tr><td> 0x00001E0E </td><td> Record </td><td> VSS_VARIABLE </td></tr><tr><td> 0x00001E0F </td><td> StringArray </td><td> VSS_BS_CHECK </td></tr><tr><td> 0x00001E10 </td><td> StringArray </td><td> VSS_BS_COMMANDS </td></tr><tr><td> 0x00001E11 </td><td>  рддрд╛рд░ </td><td> VSS_CUSTOM_SRIPT </td></tr><tr><td> 0x0000A000 </td><td> Record </td><td> OBJECTDBFILE </td></tr><tr><td> 0x0000AA00 </td><td> Null </td><td> LIGHT_SECTION </td></tr><tr><td> 0x0000AA01 </td><td> Record </td><td> LIGHT </td></tr><tr><td> 0x0000AA02 </td><td>  рдлреНрд▓реЛрдЯ </td><td> LIGHT_RANGE </td></tr><tr><td> 0x0000AA03 </td><td>  рддрд╛рд░ </td><td> LIGHT_NAME </td></tr><tr><td> 0x0000AA04 </td><td> Plot </td><td> LIGHT_POSITION </td></tr><tr><td> 0x0000AA05 </td><td> Dword </td><td> LIGHT_ID </td></tr><tr><td> 0x0000AA06 </td><td> Byte </td><td> LIGHT_SHADOW </td></tr><tr><td> 0x0000AA07 </td><td> Plot </td><td> LIGHT_COLOR </td></tr><tr><td> 0x0000AA08 </td><td>  рддрд╛рд░ </td><td> LIGHT_COMMENTS </td></tr><tr><td> 0x0000ABD0 </td><td> Record </td><td> WORLD_SET </td></tr><tr><td> 0x0000ABD1 </td><td> Plot </td><td> WS_WIND_DIR </td></tr><tr><td> 0x0000ABD2 </td><td>  рдлреНрд▓реЛрдЯ </td><td> WS_WIND_STR </td></tr><tr><td> 0x0000ABD3 </td><td>  рдлреНрд▓реЛрдЯ </td><td> WS_TIME </td></tr><tr><td> 0x0000ABD4 </td><td>  рдлреНрд▓реЛрдЯ </td><td> WS_AMBIENT </td></tr><tr><td> 0x0000ABD5 </td><td>  рдлреНрд▓реЛрдЯ </td><td> WS_SUN_LIGHT </td></tr><tr><td> 0x0000B000 </td><td> Record </td><td> OBJECTSECTION </td></tr><tr><td> 0x0000B001 </td><td> Record </td><td> OBJECT </td></tr><tr><td> 0x0000B002 </td><td> Dword </td><td> NID </td></tr><tr><td> 0x0000B003 </td><td> Dword </td><td> OBJTYPE </td></tr><tr><td> 0x0000B004 </td><td>  рддрд╛рд░ </td><td> OBJNAME </td></tr><tr><td> 0x0000B005 </td><td> Null </td><td> OBJINDEX </td></tr><tr><td> 0x0000B006 </td><td>  рддрд╛рд░ </td><td> OBJTEMPLATE </td></tr><tr><td> 0x0000B007 </td><td>  рддрд╛рд░ </td><td> OBJPRIMTXTR </td></tr><tr><td> 0x0000B008 </td><td>  рддрд╛рд░ </td><td> OBJSECTXTR </td></tr><tr><td> 0x0000B009 </td><td> Plot </td><td> OBJPOSITION </td></tr><tr><td> 0x0000B00A </td><td> Quaternion </td><td> OBJROTATION </td></tr><tr><td> 0x0000B00B </td><td> Null </td><td> OBJTEXTURE </td></tr><tr><td> 0x0000B00C </td><td> Plot </td><td> OBJCOMPLECTION </td></tr><tr><td> 0x0000B00D </td><td> StringArray </td><td> OBJBODYPARTS </td></tr><tr><td> 0x0000B00E </td><td>  рддрд╛рд░ </td><td> PARENTTEMPLATE </td></tr><tr><td> 0x0000B00F </td><td>  рддрд╛рд░ </td><td> OBJCOMMENTS </td></tr><tr><td> 0x0000B010 </td><td> Null </td><td> OBJ_DEF_LOGIC </td></tr><tr><td> 0x0000B011 </td><td> Byte </td><td> OBJ_PLAYER </td></tr><tr><td> 0x0000B012 </td><td> Dword </td><td> OBJ_PARENT_ID </td></tr><tr><td> 0x0000B013 </td><td> Byte </td><td> OBJ_USE_IN_SCRIPT </td></tr><tr><td> 0x0000B014 </td><td> Byte </td><td> OBJ_IS_SHADOW </td></tr><tr><td> 0x0000B015 </td><td> Null </td><td> OBJ_R </td></tr><tr><td> 0x0000B016 </td><td>  рддрд╛рд░ </td><td> OBJ_QUEST_INFO </td></tr><tr><td> 0x0000C000 </td><td> Null </td><td> SC_OBJECTDBFILE </td></tr><tr><td> 0x0000CC00 </td><td> Null </td><td> SOUND_SECTION </td></tr><tr><td> 0x0000CC01 </td><td> Record </td><td> SOUND </td></tr><tr><td> 0x0000CC02 </td><td> Dword </td><td> SOUND_ID </td></tr><tr><td> 0x0000CC03 </td><td> Plot </td><td> SOUND_POSITION </td></tr><tr><td> 0x0000CC04 </td><td> Dword </td><td> SOUND_RANGE </td></tr><tr><td> 0x0000CC05 </td><td>  рддрд╛рд░ </td><td> SOUND_NAME </td></tr><tr><td> 0x0000CC06 </td><td> Dword </td><td> SOUND_MIN </td></tr><tr><td> 0x0000CC07 </td><td> Dword </td><td> SOUND_MAX </td></tr><tr><td> 0x0000CC08 </td><td>  рддрд╛рд░ </td><td> SOUND_COMMENTS </td></tr><tr><td> 0x0000CC09 </td><td> Null </td><td> SOUND_VOLUME </td></tr><tr><td> 0x0000CC0A </td><td> StringArray </td><td> SOUND_RESNAME </td></tr><tr><td> 0x0000CC0B </td><td> Dword </td><td> SOUND_RANGE2 </td></tr><tr><td> 0x0000CC0D </td><td> Byte </td><td> SOUND_AMBIENT </td></tr><tr><td> 0x0000CC0E </td><td> Byte </td><td> SOUND_IS_MUSIC </td></tr><tr><td> 0x0000D000 </td><td> Null </td><td> PR_OBJECTDBFILE </td></tr><tr><td> 0x0000DD00 </td><td> Null </td><td> PARTICL_SECTION </td></tr><tr><td> 0x0000DD01 </td><td> Record </td><td> PARTICL </td></tr><tr><td> 0x0000DD02 </td><td> Dword </td><td> PARTICL_ID </td></tr><tr><td> 0x0000DD03 </td><td> Plot </td><td> PARTICL_POSITION </td></tr><tr><td> 0x0000DD04 </td><td>  рддрд╛рд░ </td><td> PARTICL_COMMENTS </td></tr><tr><td> 0x0000DD05 </td><td>  рддрд╛рд░ </td><td> PARTICL_NAME </td></tr><tr><td> 0x0000DD06 </td><td> Dword </td><td> PARTICL_TYPE </td></tr><tr><td> 0x0000DD07 </td><td>  рдлреНрд▓реЛрдЯ </td><td> PARTICL_SCALE </td></tr><tr><td> 0x0000E000 </td><td> Record </td><td> DIRICTORY </td></tr><tr><td> 0x0000E001 </td><td> Record </td><td> FOLDER </td></tr><tr><td> 0x0000E002 </td><td>  рддрд╛рд░ </td><td> DIR_NAME </td></tr><tr><td> 0x0000E003 </td><td> Dword </td><td> DIR_NINST </td></tr><tr><td> 0x0000E004 </td><td> Dword </td><td> DIR_PARENT_FOLDER </td></tr><tr><td> 0x0000E005 </td><td> Byte </td><td> DIR_TYPE </td></tr><tr><td> 0x0000F000 </td><td> Record </td><td> DIRICTORY_ELEMENTS </td></tr><tr><td> 0x0000FF00 </td><td> Record </td><td> SEC_RANGE </td></tr><tr><td> 0x0000FF01 </td><td> Record </td><td> MAIN_RANGE </td></tr><tr><td> 0x0000FF02 </td><td> Record </td><td> RANGE </td></tr><tr><td> 0x0000FF05 </td><td> Dword </td><td> MIN_ID </td></tr><tr><td> 0x0000FF06 </td><td> Dword </td><td> MAX_ID </td></tr><tr><td> 0x31415926 </td><td> AiGraph </td><td> AIGRAPH </td></tr><tr><td> 0xACCEECCA </td><td>  рддрд╛рд░ </td><td> SS_TEXT_OLD </td></tr><tr><td> 0xACCEECCB </td><td> StringEncrypted </td><td> SS_TEXT </td></tr><tr><td> 0xBBAB0000 </td><td> Record </td><td> MAGIC_TRAP </td></tr><tr><td> 0xBBAB0001 </td><td> Dword </td><td> MT_DIPLOMACY </td></tr><tr><td> 0xBBAB0002 </td><td>  рддрд╛рд░ </td><td> MT_SPELL </td></tr><tr><td> 0xBBAB0003 </td><td> AreaArray </td><td> MT_AREAS </td></tr><tr><td> 0xBBAB0004 </td><td> Plot2DArray </td><td> MT_TARGETS </td></tr><tr><td> 0xBBAB0005 </td><td> Dword </td><td> MT_CAST_INTERVAL </td></tr><tr><td> 0xBBAC0000 </td><td> Record </td><td> LEVER </td></tr><tr><td> 0xBBAC0001 </td><td> Null </td><td> LEVER_SCIENCE_STATS </td></tr><tr><td> 0xBBAC0002 </td><td> Byte </td><td> LEVER_CUR_STATE </td></tr><tr><td> 0xBBAC0003 </td><td> Byte </td><td> LEVER_TOTAL_STATE </td></tr><tr><td> 0xBBAC0004 </td><td> Byte </td><td> LEVER_IS_CYCLED </td></tr><tr><td> 0xBBAC0005 </td><td> Byte </td><td> LEVER_CAST_ONCE </td></tr><tr><td> 0xBBAC0006 </td><td> LeverStats </td><td> LEVER_SCIENCE_STATS_NEW </td></tr><tr><td> 0xBBAC0007 </td><td> Byte </td><td> LEVER_IS_DOOR </td></tr><tr><td> 0xBBAC0008 </td><td> Byte </td><td> LEVER_RECALC_GRAPH </td></tr><tr><td> 0xBBBB0000 </td><td> Record </td><td> UNIT </td></tr><tr><td> 0xBBBB0001 </td><td> Null </td><td> UNIT_R </td></tr><tr><td> 0xBBBB0002 </td><td>  рддрд╛рд░ </td><td> UNIT_PROTOTYPE </td></tr><tr><td> 0xBBBB0003 </td><td> Null </td><td> UNIT_ITEMS </td></tr><tr><td> 0xBBBB0004 </td><td> UnitStats </td><td> UNIT_STATS </td></tr><tr><td> 0xBBBB0005 </td><td> StringArray </td><td> UNIT_QUEST_ITEMS </td></tr><tr><td> 0xBBBB0006 </td><td> StringArray </td><td> UNIT_QUICK_ITEMS </td></tr><tr><td> 0xBBBB0007 </td><td> StringArray </td><td> UNIT_SPELLS </td></tr><tr><td> 0xBBBB0008 </td><td> StringArray </td><td> UNIT_WEAPONS </td></tr><tr><td> 0xBBBB0009 </td><td> StringArray </td><td> UNIT_ARMORS </td></tr><tr><td> 0xBBBB000A </td><td> Byte </td><td> UNIT_NEED_IMPORT </td></tr><tr><td> 0xBBBC0000 </td><td> Record </td><td> UNIT_LOGIC </td></tr><tr><td> 0xBBBC0001 </td><td> Null </td><td> UNIT_LOGIC_AGRESSIV </td></tr><tr><td> 0xBBBC0002 </td><td> Byte </td><td> UNIT_LOGIC_CYCLIC </td></tr><tr><td> 0xBBBC0003 </td><td> Dword </td><td> UNIT_LOGIC_MODEL </td></tr><tr><td> 0xBBBC0004 </td><td>  рдлреНрд▓реЛрдЯ </td><td> UNIT_LOGIC_GUARD_R </td></tr><tr><td> 0xBBBC0005 </td><td> Plot </td><td> UNIT_LOGIC_GUARD_PT </td></tr><tr><td> 0xBBBC0006 </td><td> Byte </td><td> UNIT_LOGIC_NALARM </td></tr><tr><td> 0xBBBC0007 </td><td> Byte </td><td> UNIT_LOGIC_USE </td></tr><tr><td> 0xBBBC0008 </td><td> Null </td><td> UNIT_LOGIC_REVENGE </td></tr><tr><td> 0xBBBC0009 </td><td> Null </td><td> UNIT_LOGIC_FEAR </td></tr><tr><td> 0xBBBC000A </td><td>  рдлреНрд▓реЛрдЯ </td><td> UNIT_LOGIC_WAIT </td></tr><tr><td> 0xBBBC000B </td><td> Byte </td><td> UNIT_LOGIC_ALARM_CONDITION </td></tr><tr><td> 0xBBBC000C </td><td>  рдлреНрд▓реЛрдЯ </td><td> UNIT_LOGIC_HELP </td></tr><tr><td> 0xBBBC000D </td><td> Byte </td><td> UNIT_LOGIC_ALWAYS_ACTIVE </td></tr><tr><td> 0xBBBC000E </td><td> Byte </td><td> UNIT_LOGIC_AGRESSION_MODE </td></tr><tr><td> 0xBBBD0000 </td><td> Record </td><td> GUARD_PT </td></tr><tr><td> 0xBBBD0001 </td><td> Plot </td><td> GUARD_PT_POSITION </td></tr><tr><td> 0xBBBD0002 </td><td> Null </td><td> GUARD_PT_ACTION </td></tr><tr><td> 0xBBBE0000 </td><td> Record </td><td> ACTION_PT </td></tr><tr><td> 0xBBBE0001 </td><td> Plot </td><td> ACTION_PT_LOOK_PT </td></tr><tr><td> 0xBBBE0002 </td><td> Dword </td><td> ACTION_PT_WAIT_SEG </td></tr><tr><td> 0xBBBE0003 </td><td> Dword </td><td> ACTION_PT_TURN_SPEED </td></tr><tr><td> 0xBBBE0004 </td><td> Byte </td><td> ACTION_PT_FLAGS </td></tr><tr><td> 0xBBBF0000 </td><td> Record </td><td> TORCH </td></tr><tr><td> 0xBBBF0001 </td><td>  рдлреНрд▓реЛрдЯ </td><td> TORCH_STRENGHT </td></tr><tr><td> 0xBBBF0002 </td><td> Plot </td><td> TORCH_PTLINK </td></tr><tr><td> 0xBBBF0003 </td><td>  рддрд╛рд░ </td><td> TORCH_SOUND </td></tr><tr><td> 0xDDDDDDD1 </td><td> Record </td><td> DIPLOMATION </td></tr><tr><td> 0xDDDDDDD2 </td><td> Diplomacy </td><td> DIPLOMATION_FOF </td></tr><tr><td> 0xDDDDDDD3 </td><td> StringArray </td><td> DIPLOMATION_PL_NAMES </td></tr><tr><td> 0xFFFFFFFF </td><td> Unknown </td><td> UNKNOWN </td></tr></tbody></table></div></div><br><p>        тАФ ,    ,     Nival,    тАФ  ,     (  ,  ). </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> key; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; size; i++) { key += (((((key * <span class="hljs-number"><span class="hljs-number">13</span></span>) &lt;&lt; <span class="hljs-number"><span class="hljs-number">4</span></span>) + key) &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) - key) * <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">2531011</span></span>; data[i] ^= key &gt;&gt; <span class="hljs-number"><span class="hljs-number">16</span></span>; }</code> </pre> </div></div><br><blockquote> <strong> :</strong>      ,       (   )    .   ,      ,       ,       . </blockquote><p>      (  ,   ,    тАФ Windows 98): </p><br><p><img src="https://habrastorage.org/webt/8w/qv/gz/8wqvgzyxxuqmqremuny92irjzue.jpeg"></p><br><blockquote> <strong> :</strong>       ,     . ,        ( , ,  " :   ",     ). </blockquote><p>  ,     ,  -     -   , , Collada      : </p><br><p><img src="https://habrastorage.org/webt/l8/2i/tc/l82itcjm6orpd7hb0tp6p9rqq5y.jpeg"></p><br><h1 id="epilog">  </h1><br><p>          .      ,          <em> </em>   . </p><br><p>  ,            .     -   ,   тАФ -    ,      . , -... </p><br><p>     тАФ     ! </p><br><p> <strong>UPD (23.01.2019):</strong> <br>        ,             : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">github</a> . <br>        ,          (,   ""      ). </p><br><div class="spoiler"> <b class="spoiler_title">   </b> <div class="spoiler_text"><h3 id="obschaya-informaciya-ob-igre">     </h3><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://ru.nival.com/games/history/zemli</a> тАФ    </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://ru.wikipedia.org/wiki/_</a> тАФ    </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://allods.gipat.ru/index.php?p=ei</a> тАФ    " " </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://evil-islands.github.io</a> тАФ  ,     </li></ul><br><h3 id="instrumenty-s-otkrytymi-ishodnikami">     </h3><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://gipatgroup.org/utilities</a> тАФ EiEdit (.res, .*db), MobSurgeon (.mob) </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://svn.gipat.org/trac/GGWiki</a> тАФ EiEdit (.res, .*db), MobSurgeon (.mob),    .mp, .sec, .*db </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/demothorg/eifixer</a> тАФ     </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/konstvest/ei_figer</a> тАФ   Blender   .lnk, .fig, .bon, .anm </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/demothorg/ei-tools</a> тАФ       (.mob, .lnk, .mpr, .res) +   </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/konstvest/ei_maper</a> тАФ   (.mpr, .mp, .sec, .mob) </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/chemmalion/EIDBEditor</a> тАФ     (.*db) </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://gitlab.com/ykurganov/open-evil-islands</a> тАФ       ,      </li></ul><br><h3 id="kommyuniti">  </h3><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://vk.com/evil.islands</a> тАФ   </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://allods.gipat.ru</a> тАФ " " </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://gipat.ru</a> тАФ  " " </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://gipatgroup.org/forum</a> тАФ  GipatGroup (   тАФ  ) </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://honestgroup.net/forum</a> тАФ  HonestGroup </li></ul></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi434802/">https://habr.com/ru/post/hi434802/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi434792/index.html">рдлреНрд░реАрд▓рд╛рдВрд╕рд┐рдо 2018: рд╡рд░реНрд╖ рдХреЗ рдкрд░рд┐рдгрд╛рдо</a></li>
<li><a href="../hi434794/index.html">рдПрдХ рд╕рдлрд▓ рдкрд░реАрдХреНрд╖рдХ рдХреА рд╕реЙрдлреНрдЯ-рд╕реНрдХрд┐рд▓реНрд╕</a></li>
<li><a href="../hi434796/index.html">рдЖрд░реНрдЯ рдХреЛрдбрд┐рдВрдЧ: рд╣рдо рдХреИрд╕реЗ рдбрд┐рдЬрд╛рдЗрди рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдФрд░ рдПрдиреАрдореЗрд╢рди рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi434798/index.html">рд╕реНрд╡реИрдЧрд░ - рдЖрдкрдХреЗ рд░реИрд╕реНрдЯрдлреБрд▓ рд╡реЗрдм рдПрдкреАрдЖрдИ рдХреЗ рд▓рд┐рдП рд╕реНрдорд╛рд░реНрдЯ рдбреЙрдХреНрдпреВрдореЗрдВрдЯреЗрд╢рди - рдиреНрдпреВрдмрд╛рдп рдХреЗ рд▓рд┐рдП рдЬреВрдирд┐рдпрд░ рдмреИрдХ-рдПрдВрдб рдбреЗрд╡рд▓рдкрд░ рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../hi434800/index.html">(5-2) рддрд░реАрдХреЗ рдПрдХ рдмрдбрд╝реА SQL рддрд╛рд▓рд┐рдХрд╛ рдорд╛рдЗрдЧреНрд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi434804/index.html">рдлрд┐рдирдЯреЗрдХ-рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рд░реЙрдмрд┐рдирд╣реБрдб рдмреИрдВрдХ рдЦрд╛рддреЛрдВ рдХрд╛ рдПрдХ рдПрдирд╛рд▓реЙрдЧ рд▓реЙрдиреНрдЪ рдирд╣реАрдВ рдХрд░ рд╕рдХрд╛</a></li>
<li><a href="../hi434806/index.html">рдПрдХ рдбреЛрдВрдЧреА рдХреЗ рд╕рд╛рде рдирдпрд╛ рд╕рд╛рд▓</a></li>
<li><a href="../hi434810/index.html">рд╕реНрдкреНрд░рд┐рдВрдЧ рдХреНрд▓рд╛рдЙрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдЯрд╛рд░реНрдЯрд░</a></li>
<li><a href="../hi434812/index.html">рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕рдордп рдкреНрд░рдмрдВрдзрди</a></li>
<li><a href="../hi434816/index.html">рдбрд┐рдЯреЙрдХреНрд╕ рдФрд░ рдПрдкрд┐рдпрдо: рд░реАрдРрдХреНрдЯрд┐рд╡ рдиреЗрдЯрд┐рд╡ рдореЗрдВ рдСрдЯреЛрдореЗрдЯреЗрдб рдЗрдВрдЯрд░рдлреЗрд╕ рдЯреЗрд╕реНрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>